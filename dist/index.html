<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
    <script type="module" crossorigin>var x5e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var I3n=x5e((Yl,Xl)=>{function C5e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function sq(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const es={},ew=[],Rn=()=>{},ove=()=>!1,_M=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),oq=e=>e.startsWith("onUpdate:"),ko=Object.assign,iq=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},S5e=Object.prototype.hasOwnProperty,En=(e,t)=>S5e.call(e,t),Oe=Array.isArray,tw=e=>__(e)==="[object Map]",TM=e=>__(e)==="[object Set]",im=e=>__(e)==="[object Date]",ft=e=>typeof e=="function",it=e=>typeof e=="string",Rc=e=>typeof e=="symbol",Pt=e=>e!==null&&typeof e=="object",f1=e=>(Pt(e)||ft(e))&&ft(e.then)&&ft(e.catch),ive=Object.prototype.toString,__=e=>ive.call(e),$5e=e=>__(e).slice(8,-1),bk=e=>__(e)==="[object Object]",AM=e=>it(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,F$=sq(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),IM=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},k5e=/-\w/g,Da=IM(e=>e.replace(k5e,t=>t.slice(1).toUpperCase())),E5e=/\B([A-Z])/g,Cp=IM(e=>e.replace(E5e,"-$1").toLowerCase()),T_=IM(e=>e.charAt(0).toUpperCase()+e.slice(1)),M$=IM(e=>e?`on${T_(e)}`:""),Kg=(e,t)=>!Object.is(e,t),qD=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ave=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},aq=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_5e=e=>{const t=it(e)?Number(e):NaN;return isNaN(t)?e:t};let Pre;const NM=()=>Pre||(Pre=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dt(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=it(r)?N5e(r):dt(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(it(e)||Pt(e))return e}const T5e=/;(?![^(]*\))/g,A5e=/:([^]+)/,I5e=/\/\*[^]*?\*\//g;function N5e(e){const t={};return e.replace(I5e,"").split(T5e).forEach(n=>{if(n){const r=n.split(A5e);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function V(e){let t="";if(it(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const r=V(e[n]);r&&(t+=r+" ")}else if(Pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function zh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!it(t)&&(e.class=V(t)),n&&(e.style=dt(n)),e}const D5e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",O5e=sq(D5e);function lve(e){return!!e||e===""}function R5e(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=_w(e[r],t[r]);return n}function _w(e,t){if(e===t)return!0;let n=im(e),r=im(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Rc(e),r=Rc(t),n||r)return e===t;if(n=Oe(e),r=Oe(t),n||r)return n&&r?R5e(e,t):!1;if(n=Pt(e),r=Pt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!_w(e[i],t[i]))return!1}}return String(e)===String(t)}function uve(e,t){return e.findIndex(n=>_w(n,t))}const cve=e=>!!(e&&e.__v_isRef===!0),De=e=>it(e)?e:e==null?"":Oe(e)||Pt(e)&&(e.toString===ive||!ft(e.toString))?cve(e)?De(e.value):JSON.stringify(e,fve,2):String(e),fve=(e,t)=>cve(t)?fve(e,t.value):tw(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[L8(r,o)+" =>"]=s,n),{})}:TM(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>L8(n))}:Rc(t)?L8(t):Pt(t)&&!Oe(t)&&!bk(t)?String(t):t,L8=(e,t="")=>{var n;return Rc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Di;class dve{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Di,!t&&Di&&(this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Di;try{return Di=this,t()}finally{Di=n}}}on(){++this._on===1&&(this.prevScope=Di,Di=this)}off(){this._on>0&&--this._on===0&&(Di=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function F5e(e){return new dve(e)}function hve(){return Di}function pve(e,t=!1){Di&&Di.cleanups.push(e)}let is;const B8=new WeakSet;class gve{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Di&&Di.active&&Di.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,B8.has(this)&&(B8.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vve(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lre(this),yve(this);const t=is,n=$c;is=this,$c=!0;try{return this.fn()}finally{bve(this),is=t,$c=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)cq(t);this.deps=this.depsTail=void 0,Lre(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?B8.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tV(this)&&this.run()}get dirty(){return tV(this)}}let mve=0,P$,L$;function vve(e,t=!1){if(e.flags|=8,t){e.next=L$,L$=e;return}e.next=P$,P$=e}function lq(){mve++}function uq(){if(--mve>0)return;if(L$){let t=L$;for(L$=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;P$;){let t=P$;for(P$=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function yve(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function bve(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),cq(r),M5e(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function tV(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wve(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wve(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===wk)||(e.globalVersion=wk,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!tV(e))))return;e.flags|=2;const t=e.dep,n=is,r=$c;is=e,$c=!0;try{yve(e);const s=e.fn(e._value);(t.version===0||Kg(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{is=n,$c=r,bve(e),e.flags&=-3}}function cq(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)cq(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function M5e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let $c=!0;const xve=[];function Qh(){xve.push($c),$c=!1}function ep(){const e=xve.pop();$c=e===void 0?!0:e}function Lre(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=is;is=void 0;try{t()}finally{is=n}}}let wk=0,P5e=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class fq{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!is||!$c||is===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==is)n=this.activeLink=new P5e(is,this),is.deps?(n.prevDep=is.depsTail,is.depsTail.nextDep=n,is.depsTail=n):is.deps=is.depsTail=n,Cve(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=is.depsTail,n.nextDep=void 0,is.depsTail.nextDep=n,is.depsTail=n,is.deps===n&&(is.deps=r)}return n}trigger(t){this.version++,wk++,this.notify(t)}notify(t){lq();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uq()}}}function Cve(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Cve(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const fO=new WeakMap,Wv=Symbol(""),nV=Symbol(""),xk=Symbol("");function Li(e,t,n){if($c&&is){let r=fO.get(e);r||fO.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new fq),s.map=r,s.key=n),s.track()}}function Ch(e,t,n,r,s,o){const i=fO.get(e);if(!i){wk++;return}const a=l=>{l&&l.trigger()};if(lq(),t==="clear")i.forEach(a);else{const l=Oe(e),u=l&&AM(n);if(l&&n==="length"){const c=Number(r);i.forEach((f,d)=>{(d==="length"||d===xk||!Rc(d)&&d>=c)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(xk)),t){case"add":l?u&&a(i.get("length")):(a(i.get(Wv)),tw(e)&&a(i.get(nV)));break;case"delete":l||(a(i.get(Wv)),tw(e)&&a(i.get(nV)));break;case"set":tw(e)&&a(i.get(Wv));break}}uq()}function L5e(e,t){const n=fO.get(e);return n&&n.get(t)}function ub(e){const t=nr(e);return t===e?t:(Li(t,"iterate",xk),Zl(e)?t:t.map(Fc))}function DM(e){return Li(e=nr(e),"iterate",xk),e}function hg(e,t){return tp(e)?Uv(e)?Tw(Fc(t)):Tw(t):Fc(t)}const B5e={__proto__:null,[Symbol.iterator](){return z8(this,Symbol.iterator,e=>hg(this,e))},concat(...e){return ub(this).concat(...e.map(t=>Oe(t)?ub(t):t))},entries(){return z8(this,"entries",e=>(e[1]=hg(this,e[1]),e))},every(e,t){return oh(this,"every",e,t,void 0,arguments)},filter(e,t){return oh(this,"filter",e,t,n=>n.map(r=>hg(this,r)),arguments)},find(e,t){return oh(this,"find",e,t,n=>hg(this,n),arguments)},findIndex(e,t){return oh(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return oh(this,"findLast",e,t,n=>hg(this,n),arguments)},findLastIndex(e,t){return oh(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return oh(this,"forEach",e,t,void 0,arguments)},includes(...e){return V8(this,"includes",e)},indexOf(...e){return V8(this,"indexOf",e)},join(e){return ub(this).join(e)},lastIndexOf(...e){return V8(this,"lastIndexOf",e)},map(e,t){return oh(this,"map",e,t,void 0,arguments)},pop(){return oS(this,"pop")},push(...e){return oS(this,"push",e)},reduce(e,...t){return Bre(this,"reduce",e,t)},reduceRight(e,...t){return Bre(this,"reduceRight",e,t)},shift(){return oS(this,"shift")},some(e,t){return oh(this,"some",e,t,void 0,arguments)},splice(...e){return oS(this,"splice",e)},toReversed(){return ub(this).toReversed()},toSorted(e){return ub(this).toSorted(e)},toSpliced(...e){return ub(this).toSpliced(...e)},unshift(...e){return oS(this,"unshift",e)},values(){return z8(this,"values",e=>hg(this,e))}};function z8(e,t,n){const r=DM(e),s=r[t]();return r!==e&&!Zl(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const z5e=Array.prototype;function oh(e,t,n,r,s,o){const i=DM(e),a=i!==e&&!Zl(e),l=i[t];if(l!==z5e[t]){const f=l.apply(e,o);return a?Fc(f):f}let u=n;i!==e&&(a?u=function(f,d){return n.call(this,hg(e,f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=l.call(i,u,r);return a&&s?s(c):c}function Bre(e,t,n,r){const s=DM(e);let o=n;return s!==e&&(Zl(e)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,e)}):o=function(i,a,l){return n.call(this,i,hg(e,a),l,e)}),s[t](o,...r)}function V8(e,t,n){const r=nr(e);Li(r,"iterate",xk);const s=r[t](...n);return(s===-1||s===!1)&&OM(n[0])?(n[0]=nr(n[0]),r[t](...n)):s}function oS(e,t,n=[]){Qh(),lq();const r=nr(e)[t].apply(e,n);return uq(),ep(),r}const V5e=sq("__proto__,__v_isRef,__isVue"),Sve=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rc));function W5e(e){Rc(e)||(e=String(e));const t=nr(this);return Li(t,"has",e),t.hasOwnProperty(e)}class $ve{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?J5e:Tve:o?_ve:Eve).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=Oe(t);if(!s){let l;if(i&&(l=B5e[n]))return l;if(n==="hasOwnProperty")return W5e}const a=Reflect.get(t,n,fr(t)?t:r);if((Rc(n)?Sve.has(n):V5e(n))||(s||Li(t,"get",n),o))return a;if(fr(a)){const l=i&&AM(n)?a:a.value;return s&&Pt(l)?d1(l):l}return Pt(a)?s?d1(a):In(a):a}}class kve extends $ve{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];const i=Oe(t)&&AM(n);if(!this._isShallow){const u=tp(o);if(!Zl(r)&&!tp(r)&&(o=nr(o),r=nr(r)),!i&&fr(o)&&!fr(r))return u||(o.value=r),!0}const a=i?Number(n)<t.length:En(t,n),l=Reflect.set(t,n,r,fr(t)?t:s);return t===nr(s)&&(a?Kg(r,o)&&Ch(t,"set",n,r):Ch(t,"add",n,r)),l}deleteProperty(t,n){const r=En(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ch(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Rc(n)||!Sve.has(n))&&Li(t,"has",n),r}ownKeys(t){return Li(t,"iterate",Oe(t)?"length":Wv),Reflect.ownKeys(t)}}class U5e extends $ve{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const j5e=new kve,H5e=new U5e,q5e=new kve(!0),rV=e=>e,BI=e=>Reflect.getPrototypeOf(e);function G5e(e,t,n){return function(...r){const s=this.__v_raw,o=nr(s),i=tw(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=s[e](...r),c=n?rV:t?Tw:Fc;return!t&&Li(o,"iterate",l?nV:Wv),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function zI(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function K5e(e,t){const n={get(s){const o=this.__v_raw,i=nr(o),a=nr(s);e||(Kg(s,a)&&Li(i,"get",s),Li(i,"get",a));const{has:l}=BI(i),u=t?rV:e?Tw:Fc;if(l.call(i,s))return u(o.get(s));if(l.call(i,a))return u(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!e&&Li(nr(s),"iterate",Wv),s.size},has(s){const o=this.__v_raw,i=nr(o),a=nr(s);return e||(Kg(s,a)&&Li(i,"has",s),Li(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,l=nr(a),u=t?rV:e?Tw:Fc;return!e&&Li(l,"iterate",Wv),a.forEach((c,f)=>s.call(o,u(c),u(f),i))}};return ko(n,e?{add:zI("add"),set:zI("set"),delete:zI("delete"),clear:zI("clear")}:{add(s){!t&&!Zl(s)&&!tp(s)&&(s=nr(s));const o=nr(this);return BI(o).has.call(o,s)||(o.add(s),Ch(o,"add",s,s)),this},set(s,o){!t&&!Zl(o)&&!tp(o)&&(o=nr(o));const i=nr(this),{has:a,get:l}=BI(i);let u=a.call(i,s);u||(s=nr(s),u=a.call(i,s));const c=l.call(i,s);return i.set(s,o),u?Kg(o,c)&&Ch(i,"set",s,o):Ch(i,"add",s,o),this},delete(s){const o=nr(this),{has:i,get:a}=BI(o);let l=i.call(o,s);l||(s=nr(s),l=i.call(o,s)),a&&a.call(o,s);const u=o.delete(s);return l&&Ch(o,"delete",s,void 0),u},clear(){const s=nr(this),o=s.size!==0,i=s.clear();return o&&Ch(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=G5e(s,e,t)}),n}function dq(e,t){const n=K5e(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(En(n,s)&&s in r?n:r,s,o)}const Y5e={get:dq(!1,!1)},X5e={get:dq(!1,!0)},Z5e={get:dq(!0,!1)},Eve=new WeakMap,_ve=new WeakMap,Tve=new WeakMap,J5e=new WeakMap;function Q5e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eze(e){return e.__v_skip||!Object.isExtensible(e)?0:Q5e($5e(e))}function In(e){return tp(e)?e:pq(e,!1,j5e,Y5e,Eve)}function hq(e){return pq(e,!1,q5e,X5e,_ve)}function d1(e){return pq(e,!0,H5e,Z5e,Tve)}function pq(e,t,n,r,s){if(!Pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=eze(e);if(o===0)return e;const i=s.get(e);if(i)return i;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Uv(e){return tp(e)?Uv(e.__v_raw):!!(e&&e.__v_isReactive)}function tp(e){return!!(e&&e.__v_isReadonly)}function Zl(e){return!!(e&&e.__v_isShallow)}function OM(e){return e?!!e.__v_raw:!1}function nr(e){const t=e&&e.__v_raw;return t?nr(t):e}function Vh(e){return!En(e,"__v_skip")&&Object.isExtensible(e)&&ave(e,"__v_skip",!0),e}const Fc=e=>Pt(e)?In(e):e,Tw=e=>Pt(e)?d1(e):e;function fr(e){return e?e.__v_isRef===!0:!1}function H(e){return Ave(e,!1)}function lr(e){return Ave(e,!0)}function Ave(e,t){return fr(e)?e:new tze(e,t)}class tze{constructor(t,n){this.dep=new fq,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:nr(t),this._value=n?t:Fc(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Zl(t)||tp(t);t=r?t:nr(t),Kg(t,n)&&(this._rawValue=t,this._value=r?t:Fc(t),this.dep.trigger())}}function GD(e){e.dep&&e.dep.trigger()}function x(e){return fr(e)?e.value:e}const nze={get:(e,t,n)=>t==="__v_raw"?e:x(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return fr(s)&&!fr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Ive(e){return Uv(e)?e:new Proxy(e,nze)}function ao(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=Nve(e,n);return t}class rze{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=nr(t);let s=!0,o=t;if(!Oe(t)||!AM(String(n)))do s=!OM(o)||Zl(o);while(s&&(o=o.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=x(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&fr(this._raw[this._key])){const n=this._object[this._key];if(fr(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return L5e(this._raw,this._key)}}class sze{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Bn(e,t,n){return fr(e)?e:ft(e)?new sze(e):Pt(e)&&arguments.length>1?Nve(e,t,n):H(e)}function Nve(e,t,n){return new rze(e,t,n)}class oze{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fq(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wk-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&is!==this)return vve(this,!0),!0}get value(){const t=this.dep.track();return wve(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ize(e,t,n=!1){let r,s;return ft(e)?r=e:(r=e.get,s=e.set),new oze(r,s,n)}const VI={},dO=new WeakMap;let nv;function aze(e,t=!1,n=nv){if(n){let r=dO.get(n);r||dO.set(n,r=[]),r.push(e)}}function lze(e,t,n=es){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:l}=n,u=w=>s?w:Zl(w)||s===!1||s===0?Sh(w,1):Sh(w);let c,f,d,h,p=!1,g=!1;if(fr(e)?(f=()=>e.value,p=Zl(e)):Uv(e)?(f=()=>u(e),p=!0):Oe(e)?(g=!0,p=e.some(w=>Uv(w)||Zl(w)),f=()=>e.map(w=>{if(fr(w))return w.value;if(Uv(w))return u(w);if(ft(w))return l?l(w,2):w()})):ft(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Qh();try{d()}finally{ep()}}const w=nv;nv=c;try{return l?l(e,3,[h]):e(h)}finally{nv=w}}:f=Rn,t&&s){const w=f,C=s===!0?1/0:s;f=()=>Sh(w(),C)}const m=hve(),v=()=>{c.stop(),m&&m.active&&iq(m.effects,c)};if(o&&t){const w=t;t=(...C)=>{w(...C),v()}}let y=g?new Array(e.length).fill(VI):VI;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(t){const C=c.run();if(s||p||(g?C.some((S,$)=>Kg(S,y[$])):Kg(C,y))){d&&d();const S=nv;nv=c;try{const $=[C,y===VI?void 0:g&&y[0]===VI?[]:y,h];y=C,l?l(t,3,$):t(...$)}finally{nv=S}}}else c.run()};return a&&a(b),c=new gve(f),c.scheduler=i?()=>i(b,!1):b,h=w=>aze(w,!1,c),d=c.onStop=()=>{const w=dO.get(c);if(w){if(l)l(w,4);else for(const C of w)C();dO.delete(c)}},t?r?b(!0):y=c.run():i?i(b.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function Sh(e,t=1/0,n){if(t<=0||!Pt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,fr(e))Sh(e.value,t,n);else if(Oe(e))for(let r=0;r<e.length;r++)Sh(e[r],t,n);else if(TM(e)||tw(e))e.forEach(r=>{Sh(r,t,n)});else if(bk(e)){for(const r in e)Sh(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Sh(e[r],t,n)}return e}function A_(e,t,n,r){try{return r?e(...r):e()}catch(s){RM(s,t,n)}}function Mc(e,t,n,r){if(ft(e)){const s=A_(e,t,n,r);return s&&f1(s)&&s.catch(o=>{RM(o,t,n)}),s}if(Oe(e)){const s=[];for(let o=0;o<e.length;o++)s.push(Mc(e[o],t,n,r));return s}}function RM(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||es;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(o){Qh(),A_(o,null,10,[e,l,u]),ep();return}}uze(e,n,s,r,i)}function uze(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const wa=[];let Ef=-1;const nw=[];let pg=null,Fb=0;const Dve=Promise.resolve();let hO=null;function Ye(e){const t=hO||Dve;return e?t.then(this?e.bind(this):e):t}function cze(e){let t=Ef+1,n=wa.length;for(;t<n;){const r=t+n>>>1,s=wa[r],o=Ck(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function gq(e){if(!(e.flags&1)){const t=Ck(e),n=wa[wa.length-1];!n||!(e.flags&2)&&t>=Ck(n)?wa.push(e):wa.splice(cze(t),0,e),e.flags|=1,Ove()}}function Ove(){hO||(hO=Dve.then(Fve))}function fze(e){Oe(e)?nw.push(...e):pg&&e.id===-1?pg.splice(Fb+1,0,e):e.flags&1||(nw.push(e),e.flags|=1),Ove()}function zre(e,t,n=Ef+1){for(;n<wa.length;n++){const r=wa[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;wa.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Rve(e){if(nw.length){const t=[...new Set(nw)].sort((n,r)=>Ck(n)-Ck(r));if(nw.length=0,pg){pg.push(...t);return}for(pg=t,Fb=0;Fb<pg.length;Fb++){const n=pg[Fb];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pg=null,Fb=0}}const Ck=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fve(e){try{for(Ef=0;Ef<wa.length;Ef++){const t=wa[Ef];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),A_(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ef<wa.length;Ef++){const t=wa[Ef];t&&(t.flags&=-2)}Ef=-1,wa.length=0,Rve(),hO=null,(wa.length||nw.length)&&Fve()}}let ci=null,Mve=null;function pO(e){const t=ci;return ci=e,Mve=e&&e.type.__scopeId||null,t}function ie(e,t=ci,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&vO(-1);const o=pO(t);let i;try{i=e(...s)}finally{pO(o),r._d&&vO(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Lt(e,t){if(ci===null)return e;const n=zM(ci),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,i,a,l=es]=t[s];o&&(ft(o)&&(o={mounted:o,updated:o}),o.deep&&Sh(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function O0(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(Qh(),Mc(l,n,8,[e.el,a,e,t]),ep())}}function ln(e,t){if(Vi){let n=Vi.provides;const r=Vi.parent&&Vi.parent.provides;r===n&&(n=Vi.provides=Object.create(r)),n[e]=t}}function tt(e,t,n=!1){const r=Ut();if(r||sw){let s=sw?sw._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ft(t)?t.call(r&&r.proxy):t}}const dze=Symbol.for("v-scx"),hze=()=>tt(dze);function ml(e,t){return mq(e,null,t)}function xe(e,t,n){return mq(e,t,n)}function mq(e,t,n=es){const{immediate:r,deep:s,flush:o,once:i}=n,a=ko({},n),l=t&&r||!t&&o!=="post";let u;if(kk){if(o==="sync"){const h=hze();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Rn,h.resume=Rn,h.pause=Rn,h}}const c=Vi;a.call=(h,p,g)=>Mc(h,c,p,g);let f=!1;o==="post"?a.scheduler=h=>{va(h,c&&c.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():gq(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=lze(e,t,a);return kk&&(u?u.push(d):l&&d()),d}function pze(e,t,n){const r=this.proxy,s=it(e)?e.includes(".")?Pve(r,e):()=>r[e]:e.bind(r,r);let o;ft(t)?o=t:(o=t.handler,n=t);const i=I_(this),a=mq(s,o.bind(r),n);return i(),a}function Pve(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Lve=Symbol("_vte"),Bve=e=>e.__isTeleport,B$=e=>e&&(e.disabled||e.disabled===""),Vre=e=>e&&(e.defer||e.defer===""),Wre=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ure=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,sV=(e,t)=>{const n=e&&e.to;return it(n)?t?t(n):null:n},zve={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,o,i,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:g,createComment:m}}=u,v=B$(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(e==null){const C=t.el=g(""),S=t.anchor=g("");h(C,n,r),h(S,n,r);const $=(T,_)=>{y&16&&c(b,T,_,s,o,i,a,l)},k=()=>{const T=t.target=sV(t.props,p),_=Vve(T,t,g,h);T&&(i!=="svg"&&Wre(T)?i="svg":i!=="mathml"&&Ure(T)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(T),v||($(T,_),KD(t,!1)))};v&&($(n,S),KD(t,!0)),Vre(t.props)?(t.el.__isMounted=!1,va(()=>{k(),delete t.el.__isMounted},o)):k()}else{if(Vre(t.props)&&e.el.__isMounted===!1){va(()=>{zve.process(e,t,n,r,s,o,i,a,l,u)},o);return}t.el=e.el,t.targetStart=e.targetStart;const C=t.anchor=e.anchor,S=t.target=e.target,$=t.targetAnchor=e.targetAnchor,k=B$(e.props),T=k?n:S,_=k?C:$;if(i==="svg"||Wre(S)?i="svg":(i==="mathml"||Ure(S))&&(i="mathml"),w?(d(e.dynamicChildren,w,T,s,o,i,a),$q(e,t,!0)):l||f(e,t,T,_,s,o,i,a,!1),v)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):WI(t,n,C,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=sV(t.props,p);E&&WI(t,E,null,u,0)}else k&&WI(t,S,$,u,1);KD(t,v)}},remove(e,t,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(s(u),s(c)),o&&s(l),i&16){const h=o||!B$(d);for(let p=0;p<a.length;p++){const g=a[p];r(g,t,n,h,!!g.dynamicChildren)}}},move:WI,hydrate:gze};function WI(e,t,n,{o:{insert:r},m:s},o=2){o===0&&r(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:l,children:u,props:c}=e,f=o===2;if(f&&r(i,t,n),(!f||B$(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],t,n,2);f&&r(a,t,n)}function gze(e,t,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:u,createText:c}},f){function d(g,m,v,y){m.anchor=f(i(g),m,a(g),n,r,s,o),m.targetStart=v,m.targetAnchor=y}const h=t.target=sV(t.props,l),p=B$(t.props);if(h){const g=h._lpa||h.firstChild;if(t.shapeFlag&16)if(p)d(e,t,g,g&&i(g));else{t.anchor=i(e);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}}m=i(m)}t.targetAnchor||Vve(h,t,c,u),f(g&&i(g),t,h,n,r,s,o)}KD(t,p)}else p&&t.shapeFlag&16&&d(e,t,e,i(e));return t.anchor&&i(t.anchor)}const mze=zve;function KD(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Vve(e,t,n,r){const s=t.targetStart=n(""),o=t.targetAnchor=n("");return s[Lve]=o,e&&(r(s,e),r(o,e)),o}const ph=Symbol("_leaveCb"),UI=Symbol("_enterCb");function Wve(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jt(()=>{e.isMounted=!0}),Nn(()=>{e.isUnmounting=!0}),e}const fu=[Function,Array],Uve={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fu,onEnter:fu,onAfterEnter:fu,onEnterCancelled:fu,onBeforeLeave:fu,onLeave:fu,onAfterLeave:fu,onLeaveCancelled:fu,onBeforeAppear:fu,onAppear:fu,onAfterAppear:fu,onAppearCancelled:fu},jve=e=>{const t=e.subTree;return t.component?jve(t.component):t},vze={name:"BaseTransition",props:Uve,setup(e,{slots:t}){const n=Ut(),r=Wve();return()=>{const s=t.default&&vq(t.default(),!0);if(!s||!s.length)return;const o=Hve(s),i=nr(e),{mode:a}=i;if(r.isLeaving)return W8(o);const l=jre(o);if(!l)return W8(o);let u=Sk(l,i,r,n,f=>u=f);l.type!==ps&&h1(l,u);let c=n.subTree&&jre(n.subTree);if(c&&c.type!==ps&&!cv(c,l)&&jve(n).type!==ps){let f=Sk(c,i,r,n);if(h1(c,f),a==="out-in"&&l.type!==ps)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},W8(o);a==="in-out"&&l.type!==ps?f.delayLeave=(d,h,p)=>{const g=qve(r,c);g[String(c.key)]=c,d[ph]=()=>{h(),d[ph]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function Hve(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ps){t=n;break}}return t}const yze=vze;function qve(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Sk(e,t,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:b}=t,w=String(e.key),C=qve(n,e),S=(T,_)=>{T&&Mc(T,r,9,_)},$=(T,_)=>{const E=_[1];S(T,_),Oe(T)?T.every(A=>A.length<=1)&&E():T.length<=1&&E()},k={mode:i,persisted:a,beforeEnter(T){let _=l;if(!n.isMounted)if(o)_=m||l;else return;T[ph]&&T[ph](!0);const E=C[w];E&&cv(e,E)&&E.el[ph]&&E.el[ph](),S(_,[T])},enter(T){let _=u,E=c,A=f;if(!n.isMounted)if(o)_=v||u,E=y||c,A=b||f;else return;let I=!1;const F=T[UI]=R=>{I||(I=!0,R?S(A,[T]):S(E,[T]),k.delayedLeave&&k.delayedLeave(),T[UI]=void 0)};_?$(_,[T,F]):F()},leave(T,_){const E=String(e.key);if(T[UI]&&T[UI](!0),n.isUnmounting)return _();S(d,[T]);let A=!1;const I=T[ph]=F=>{A||(A=!0,_(),F?S(g,[T]):S(p,[T]),T[ph]=void 0,C[E]===e&&delete C[E])};C[E]=e,h?$(h,[T,I]):I()},clone(T){const _=Sk(T,t,n,r,s);return s&&s(_),_}};return k}function W8(e){if(FM(e))return e=np(e),e.children=null,e}function jre(e){if(!FM(e))return Bve(e.type)&&e.children?Hve(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ft(n.default))return n.default()}}function h1(e,t){e.shapeFlag&6&&e.component?(e.transition=t,h1(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vq(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let i=e[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===rt?(i.patchFlag&128&&s++,r=r.concat(vq(i.children,t,a))):(t||i.type!==ps)&&r.push(a!=null?np(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function me(e,t){return ft(e)?ko({name:e.name},t,{setup:e}):e}function Gve(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const gO=new WeakMap;function z$(e,t,n,r,s=!1){if(Oe(e)){e.forEach((p,g)=>z$(p,t&&(Oe(t)?t[g]:t),n,r,s));return}if(rw(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&z$(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?zM(r.component):r.el,i=s?null:o,{i:a,r:l}=e,u=t&&t.r,c=a.refs===es?a.refs={}:a.refs,f=a.setupState,d=nr(f),h=f===es?ove:p=>En(d,p);if(u!=null&&u!==l){if(Hre(t),it(u))c[u]=null,h(u)&&(f[u]=null);else if(fr(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(ft(l))A_(l,a,12,[i,c]);else{const p=it(l),g=fr(l);if(p||g){const m=()=>{if(e.f){const v=p?h(l)?f[l]:c[l]:l.value;if(s)Oe(v)&&iq(v,o);else if(Oe(v))v.includes(o)||v.push(o);else if(p)c[l]=[o],h(l)&&(f[l]=c[l]);else{const y=[o];l.value=y,e.k&&(c[e.k]=y)}}else p?(c[l]=i,h(l)&&(f[l]=i)):g&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const v=()=>{m(),gO.delete(e)};v.id=-1,gO.set(e,v),va(v,n)}else Hre(e),m()}}}function Hre(e){const t=gO.get(e);t&&(t.flags|=8,gO.delete(e))}NM().requestIdleCallback;NM().cancelIdleCallback;const rw=e=>!!e.type.__asyncLoader,FM=e=>e.type.__isKeepAlive;function MM(e,t){Yve(e,"a",t)}function Kve(e,t){Yve(e,"da",t)}function Yve(e,t,n=Vi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(PM(t,r,n),n){let s=n.parent;for(;s&&s.parent;)FM(s.parent.vnode)&&bze(r,t,n,s),s=s.parent}}function bze(e,t,n,r){const s=PM(t,e,r,!0);Yx(()=>{iq(r[t],s)},n)}function PM(e,t,n=Vi,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{Qh();const a=I_(n),l=Mc(t,n,e,i);return a(),ep(),l});return r?s.unshift(o):s.push(o),o}}const Sp=e=>(t,n=Vi)=>{(!kk||e==="sp")&&PM(e,(...r)=>t(...r),n)},LM=Sp("bm"),jt=Sp("m"),yq=Sp("bu"),Yc=Sp("u"),Nn=Sp("bum"),Yx=Sp("um"),wze=Sp("sp"),xze=Sp("rtg"),Cze=Sp("rtc");function Sze(e,t=Vi){PM("ec",e,t)}const bq="components",$ze="directives";function Zt(e,t){return xq(bq,e,!0,t)||e}const Xve=Symbol.for("v-ndc");function zt(e){return it(e)?xq(bq,e,!1)||e:e||Xve}function wq(e){return xq($ze,e)}function xq(e,t,n=!0,r=!1){const s=ci||Vi;if(s){const o=s.type;if(e===bq){const a=i9e(o,!1);if(a&&(a===t||a===Da(t)||a===T_(Da(t))))return o}const i=qre(s[e]||o[e],t)||qre(s.appContext[e],t);return!i&&r?o:i}}function qre(e,t){return e&&(e[t]||e[Da(t)]||e[T_(Da(t))])}function Ht(e,t,n,r){let s;const o=n,i=Oe(e);if(i||it(e)){const a=i&&Uv(e);let l=!1,u=!1;a&&(l=!Zl(e),u=tp(e),e=DM(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?u?Tw(Fc(e[c])):Fc(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o)}else if(Pt(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];s[l]=t(e[c],c,l,o)}}else s=[];return s}function vl(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Oe(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const o=r.fn(...s);return o&&(o.key=r.key),o}:r.fn)}return e}function ce(e,t,n={},r,s){if(ci.ce||ci.parent&&rw(ci.parent)&&ci.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),B(),pe(rt,null,[ee("slot",n,r&&r())],u?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),B();const i=o&&Zve(o(n)),a=n.key||i&&i.key,l=pe(rt,{key:(a&&!Rc(a)?a:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Zve(e){return e.some(t=>or(t)?!(t.type===ps||t.type===rt&&!Zve(t.children)):!0)?e:null}function kze(e,t){const n={};for(const r in e)n[M$(r)]=e[r];return n}const oV=e=>e?m1e(e)?zM(e):oV(e.parent):null,V$=ko(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oV(e.parent),$root:e=>oV(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>e1e(e),$forceUpdate:e=>e.f||(e.f=()=>{gq(e.update)}),$nextTick:e=>e.n||(e.n=Ye.bind(e.proxy)),$watch:e=>pze.bind(e)}),U8=(e,t)=>e!==es&&!e.__isScriptSetup&&En(e,t),Eze={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=e;if(t[0]!=="$"){const d=i[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(U8(r,t))return i[t]=1,r[t];if(s!==es&&En(s,t))return i[t]=2,s[t];if(En(o,t))return i[t]=3,o[t];if(n!==es&&En(n,t))return i[t]=4,n[t];iV&&(i[t]=0)}}const u=V$[t];let c,f;if(u)return t==="$attrs"&&Li(e.attrs,"get",""),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==es&&En(n,t))return i[t]=4,n[t];if(f=l.config.globalProperties,En(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return U8(s,t)?(s[t]=n,!0):r!==es&&En(r,t)?(r[t]=n,!0):En(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:o,type:i}},a){let l;return!!(n[a]||e!==es&&a[0]!=="$"&&En(e,a)||U8(t,a)||En(o,a)||En(r,a)||En(V$,a)||En(s.config.globalProperties,a)||(l=i.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:En(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ms(){return Jve().slots}function $p(){return Jve().attrs}function Jve(e){const t=Ut();return t.setupContext||(t.setupContext=y1e(t))}function Gre(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let iV=!0;function _ze(e){const t=e1e(e),n=e.proxy,r=e.ctx;iV=!1,t.beforeCreate&&Kre(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:w,render:C,renderTracked:S,renderTriggered:$,errorCaptured:k,serverPrefetch:T,expose:_,inheritAttrs:E,components:A,directives:I,filters:F}=t;if(u&&Tze(u,r,null),i)for(const D in i){const N=i[D];ft(N)&&(r[D]=N.bind(n))}if(s){const D=s.call(n,n);Pt(D)&&(e.data=In(D))}if(iV=!0,o)for(const D in o){const N=o[D],M=ft(N)?N.bind(n,n):ft(N.get)?N.get.bind(n,n):Rn,z=!ft(N)&&ft(N.set)?N.set.bind(n):Rn,W=O({get:M,set:z});Object.defineProperty(r,D,{enumerable:!0,configurable:!0,get:()=>W.value,set:j=>W.value=j})}if(a)for(const D in a)Qve(a[D],r,n,D);if(l){const D=ft(l)?l.call(n):l;Reflect.ownKeys(D).forEach(N=>{ln(N,D[N])})}c&&Kre(c,e,"c");function L(D,N){Oe(N)?N.forEach(M=>D(M.bind(n))):N&&D(N.bind(n))}if(L(LM,f),L(jt,d),L(yq,h),L(Yc,p),L(MM,g),L(Kve,m),L(Sze,k),L(Cze,S),L(xze,$),L(Nn,y),L(Yx,w),L(wze,T),Oe(_))if(_.length){const D=e.exposed||(e.exposed={});_.forEach(N=>{Object.defineProperty(D,N,{get:()=>n[N],set:M=>n[N]=M,enumerable:!0})})}else e.exposed||(e.exposed={});C&&e.render===Rn&&(e.render=C),E!=null&&(e.inheritAttrs=E),A&&(e.components=A),I&&(e.directives=I),T&&Gve(e)}function Tze(e,t,n=Rn){Oe(e)&&(e=aV(e));for(const r in e){const s=e[r];let o;Pt(s)?"default"in s?o=tt(s.from||r,s.default,!0):o=tt(s.from||r):o=tt(s),fr(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[r]=o}}function Kre(e,t,n){Mc(Oe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Qve(e,t,n,r){let s=r.includes(".")?Pve(n,r):()=>n[r];if(it(e)){const o=t[e];ft(o)&&xe(s,o)}else if(ft(e))xe(s,e.bind(n));else if(Pt(e))if(Oe(e))e.forEach(o=>Qve(o,t,n,r));else{const o=ft(e.handler)?e.handler.bind(n):t[e.handler];ft(o)&&xe(s,o,e)}}function e1e(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>mO(l,u,i,!0)),mO(l,t,i)),Pt(t)&&o.set(t,l),l}function mO(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&mO(e,o,n,!0),s&&s.forEach(i=>mO(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=Aze[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Aze={data:Yre,props:Xre,emits:Xre,methods:JS,computed:JS,beforeCreate:ma,created:ma,beforeMount:ma,mounted:ma,beforeUpdate:ma,updated:ma,beforeDestroy:ma,beforeUnmount:ma,destroyed:ma,unmounted:ma,activated:ma,deactivated:ma,errorCaptured:ma,serverPrefetch:ma,components:JS,directives:JS,watch:Nze,provide:Yre,inject:Ize};function Yre(e,t){return t?e?function(){return ko(ft(e)?e.call(this,this):e,ft(t)?t.call(this,this):t)}:t:e}function Ize(e,t){return JS(aV(e),aV(t))}function aV(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ma(e,t){return e?[...new Set([].concat(e,t))]:t}function JS(e,t){return e?ko(Object.create(null),e,t):t}function Xre(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:ko(Object.create(null),Gre(e),Gre(t??{})):t}function Nze(e,t){if(!e)return t;if(!t)return e;const n=ko(Object.create(null),e);for(const r in t)n[r]=ma(e[r],t[r]);return n}function t1e(){return{app:null,config:{isNativeTag:ove,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dze=0;function Oze(e,t){return function(r,s=null){ft(r)||(r=ko({},r)),s!=null&&!Pt(s)&&(s=null);const o=t1e(),i=new WeakSet,a=[];let l=!1;const u=o.app={_uid:Dze++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:l9e,get config(){return o.config},set config(c){},use(c,...f){return i.has(c)||(c&&ft(c.install)?(i.add(c),c.install(u,...f)):ft(c)&&(i.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||ee(r,s);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,zM(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Mc(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=sw;sw=u;try{return c()}finally{sw=f}}};return u}}let sw=null;const Rze=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Da(t)}Modifiers`]||e[`${Cp(t)}Modifiers`];function Fze(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||es;let s=n;const o=t.startsWith("update:"),i=o&&Rze(r,t.slice(7));i&&(i.trim&&(s=n.map(c=>it(c)?c.trim():c)),i.number&&(s=n.map(aq)));let a,l=r[a=M$(t)]||r[a=M$(Da(t))];!l&&o&&(l=r[a=M$(Cp(t))]),l&&Mc(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Mc(u,e,6,s)}}const Mze=new WeakMap;function n1e(e,t,n=!1){const r=n?Mze:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},a=!1;if(!ft(e)){const l=u=>{const c=n1e(u,t,!0);c&&(a=!0,ko(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Pt(e)&&r.set(e,null),null):(Oe(o)?o.forEach(l=>i[l]=null):ko(i,o),Pt(e)&&r.set(e,i),i)}function BM(e,t){return!e||!_M(t)?!1:(t=t.slice(2).replace(/Once$/,""),En(e,t[0].toLowerCase()+t.slice(1))||En(e,Cp(t))||En(e,t))}function Zre(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:g}=e,m=pO(e);let v,y;try{if(n.shapeFlag&4){const w=s||r,C=w;v=Tf(u.call(C,w,c,f,h,d,p)),y=a}else{const w=t;v=Tf(w.length>1?w(f,{attrs:a,slots:i,emit:l}):w(f,null)),y=t.props?a:Pze(a)}}catch(w){W$.length=0,RM(w,e,1),v=ee(ps)}let b=v;if(y&&g!==!1){const w=Object.keys(y),{shapeFlag:C}=b;w.length&&C&7&&(o&&w.some(oq)&&(y=Lze(y,o)),b=np(b,y,!1,!0))}return n.dirs&&(b=np(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&h1(b,n.transition),v=b,pO(m),v}const Pze=e=>{let t;for(const n in e)(n==="class"||n==="style"||_M(n))&&((t||(t={}))[n]=e[n]);return t},Lze=(e,t)=>{const n={};for(const r in e)(!oq(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Bze(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Jre(r,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(i[d]!==r[d]&&!BM(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?Jre(r,i,u):!0:!!i;return!1}function Jre(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!BM(n,o))return!0}return!1}function zze({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const r1e={},s1e=()=>Object.create(r1e),o1e=e=>Object.getPrototypeOf(e)===r1e;function Vze(e,t,n,r=!1){const s={},o=s1e();e.propsDefaults=Object.create(null),i1e(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:hq(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function Wze(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,a=nr(s),[l]=e.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(BM(e.emitsOptions,d))continue;const h=t[d];if(l)if(En(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=Da(d);s[p]=lV(l,a,p,h,e,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{i1e(e,t,s,o)&&(u=!0);let c;for(const f in a)(!t||!En(t,f)&&((c=Cp(f))===f||!En(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=lV(l,a,f,void 0,e,!0)):delete s[f]);if(o!==a)for(const f in o)(!t||!En(t,f))&&(delete o[f],u=!0)}u&&Ch(e.attrs,"set","")}function i1e(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(F$(l))continue;const u=t[l];let c;s&&En(s,c=Da(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:BM(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(o){const l=nr(n),u=a||es;for(let c=0;c<o.length;c++){const f=o[c];n[f]=lV(s,l,f,u[f],e,!En(u,f))}}return i}function lV(e,t,n,r,s,o){const i=e[n];if(i!=null){const a=En(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ft(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=I_(s);r=u[n]=l.call(null,t),c()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Cp(n))&&(r=!0))}return r}const Uze=new WeakMap;function a1e(e,t,n=!1){const r=n?Uze:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},a=[];let l=!1;if(!ft(e)){const c=f=>{l=!0;const[d,h]=a1e(f,t,!0);ko(i,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return Pt(e)&&r.set(e,ew),ew;if(Oe(o))for(let c=0;c<o.length;c++){const f=Da(o[c]);Qre(f)&&(i[f]=es)}else if(o)for(const c in o){const f=Da(c);if(Qre(f)){const d=o[c],h=i[f]=Oe(d)||ft(d)?{type:d}:ko({},d),p=h.type;let g=!1,m=!0;if(Oe(p))for(let v=0;v<p.length;++v){const y=p[v],b=ft(y)&&y.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(m=!1)}else g=ft(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||En(h,"default"))&&a.push(f)}}const u=[i,a];return Pt(e)&&r.set(e,u),u}function Qre(e){return e[0]!=="$"&&!F$(e)}const Cq=e=>e==="_"||e==="_ctx"||e==="$stable",Sq=e=>Oe(e)?e.map(Tf):[Tf(e)],jze=(e,t,n)=>{if(t._n)return t;const r=ie((...s)=>Sq(t(...s)),n);return r._c=!1,r},l1e=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Cq(s))continue;const o=e[s];if(ft(o))t[s]=jze(s,o,r);else if(o!=null){const i=Sq(o);t[s]=()=>i}}},u1e=(e,t)=>{const n=Sq(t);e.slots.default=()=>n},c1e=(e,t,n)=>{for(const r in t)(n||!Cq(r))&&(e[r]=t[r])},Hze=(e,t,n)=>{const r=e.slots=s1e();if(e.vnode.shapeFlag&32){const s=t._;s?(c1e(r,t,n),n&&ave(r,"_",s,!0)):l1e(t,r)}else t&&u1e(e,t)},qze=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=es;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:c1e(s,t,n):(o=!t.$stable,l1e(t,s)),i=t}else t&&(u1e(e,t),i={default:1});if(o)for(const a in s)!Cq(a)&&i[a]==null&&delete s[a]},va=Zze;function Gze(e){return Kze(e)}function Kze(e,t){const n=NM();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Rn,insertStaticContent:p}=e,g=(P,Q,se,de=null,he=null,ge=null,$e=void 0,He=null,Ie=!!Q.dynamicChildren)=>{if(P===Q)return;P&&!cv(P,Q)&&(de=ue(P),j(P,he,ge,!0),P=null),Q.patchFlag===-2&&(Ie=!1,Q.dynamicChildren=null);const{type:Ce,ref:Fe,shapeFlag:ze}=Q;switch(Ce){case Xx:m(P,Q,se,de);break;case ps:v(P,Q,se,de);break;case H8:P==null&&y(Q,se,de,$e);break;case rt:A(P,Q,se,de,he,ge,$e,He,Ie);break;default:ze&1?C(P,Q,se,de,he,ge,$e,He,Ie):ze&6?I(P,Q,se,de,he,ge,$e,He,Ie):(ze&64||ze&128)&&Ce.process(P,Q,se,de,he,ge,$e,He,Ie,J)}Fe!=null&&he?z$(Fe,P&&P.ref,ge,Q||P,!Q):Fe==null&&P&&P.ref!=null&&z$(P.ref,null,ge,P,!0)},m=(P,Q,se,de)=>{if(P==null)r(Q.el=a(Q.children),se,de);else{const he=Q.el=P.el;Q.children!==P.children&&u(he,Q.children)}},v=(P,Q,se,de)=>{P==null?r(Q.el=l(Q.children||""),se,de):Q.el=P.el},y=(P,Q,se,de)=>{[P.el,P.anchor]=p(P.children,Q,se,de,P.el,P.anchor)},b=({el:P,anchor:Q},se,de)=>{let he;for(;P&&P!==Q;)he=d(P),r(P,se,de),P=he;r(Q,se,de)},w=({el:P,anchor:Q})=>{let se;for(;P&&P!==Q;)se=d(P),s(P),P=se;s(Q)},C=(P,Q,se,de,he,ge,$e,He,Ie)=>{if(Q.type==="svg"?$e="svg":Q.type==="math"&&($e="mathml"),P==null)S(Q,se,de,he,ge,$e,He,Ie);else{const Ce=P.el&&P.el._isVueCE?P.el:null;try{Ce&&Ce._beginPatch(),T(P,Q,he,ge,$e,He,Ie)}finally{Ce&&Ce._endPatch()}}},S=(P,Q,se,de,he,ge,$e,He)=>{let Ie,Ce;const{props:Fe,shapeFlag:ze,transition:Ue,dirs:st}=P;if(Ie=P.el=i(P.type,ge,Fe&&Fe.is,Fe),ze&8?c(Ie,P.children):ze&16&&k(P.children,Ie,null,de,he,j8(P,ge),$e,He),st&&O0(P,null,de,"created"),$(Ie,P,P.scopeId,$e,de),Fe){for(const ye in Fe)ye!=="value"&&!F$(ye)&&o(Ie,ye,null,Fe[ye],ge,de);"value"in Fe&&o(Ie,"value",null,Fe.value,ge),(Ce=Fe.onVnodeBeforeMount)&&vf(Ce,de,P)}st&&O0(P,null,de,"beforeMount");const ht=Yze(he,Ue);ht&&Ue.beforeEnter(Ie),r(Ie,Q,se),((Ce=Fe&&Fe.onVnodeMounted)||ht||st)&&va(()=>{Ce&&vf(Ce,de,P),ht&&Ue.enter(Ie),st&&O0(P,null,de,"mounted")},he)},$=(P,Q,se,de,he)=>{if(se&&h(P,se),de)for(let ge=0;ge<de.length;ge++)h(P,de[ge]);if(he){let ge=he.subTree;if(Q===ge||h1e(ge.type)&&(ge.ssContent===Q||ge.ssFallback===Q)){const $e=he.vnode;$(P,$e,$e.scopeId,$e.slotScopeIds,he.parent)}}},k=(P,Q,se,de,he,ge,$e,He,Ie=0)=>{for(let Ce=Ie;Ce<P.length;Ce++){const Fe=P[Ce]=He?gg(P[Ce]):Tf(P[Ce]);g(null,Fe,Q,se,de,he,ge,$e,He)}},T=(P,Q,se,de,he,ge,$e)=>{const He=Q.el=P.el;let{patchFlag:Ie,dynamicChildren:Ce,dirs:Fe}=Q;Ie|=P.patchFlag&16;const ze=P.props||es,Ue=Q.props||es;let st;if(se&&R0(se,!1),(st=Ue.onVnodeBeforeUpdate)&&vf(st,se,Q,P),Fe&&O0(Q,P,se,"beforeUpdate"),se&&R0(se,!0),(ze.innerHTML&&Ue.innerHTML==null||ze.textContent&&Ue.textContent==null)&&c(He,""),Ce?_(P.dynamicChildren,Ce,He,se,de,j8(Q,he),ge):$e||N(P,Q,He,null,se,de,j8(Q,he),ge,!1),Ie>0){if(Ie&16)E(He,ze,Ue,se,he);else if(Ie&2&&ze.class!==Ue.class&&o(He,"class",null,Ue.class,he),Ie&4&&o(He,"style",ze.style,Ue.style,he),Ie&8){const ht=Q.dynamicProps;for(let ye=0;ye<ht.length;ye++){const Ge=ht[ye],at=ze[Ge],cn=Ue[Ge];(cn!==at||Ge==="value")&&o(He,Ge,at,cn,he,se)}}Ie&1&&P.children!==Q.children&&c(He,Q.children)}else!$e&&Ce==null&&E(He,ze,Ue,se,he);((st=Ue.onVnodeUpdated)||Fe)&&va(()=>{st&&vf(st,se,Q,P),Fe&&O0(Q,P,se,"updated")},de)},_=(P,Q,se,de,he,ge,$e)=>{for(let He=0;He<Q.length;He++){const Ie=P[He],Ce=Q[He],Fe=Ie.el&&(Ie.type===rt||!cv(Ie,Ce)||Ie.shapeFlag&198)?f(Ie.el):se;g(Ie,Ce,Fe,null,de,he,ge,$e,!0)}},E=(P,Q,se,de,he)=>{if(Q!==se){if(Q!==es)for(const ge in Q)!F$(ge)&&!(ge in se)&&o(P,ge,Q[ge],null,he,de);for(const ge in se){if(F$(ge))continue;const $e=se[ge],He=Q[ge];$e!==He&&ge!=="value"&&o(P,ge,He,$e,he,de)}"value"in se&&o(P,"value",Q.value,se.value,he)}},A=(P,Q,se,de,he,ge,$e,He,Ie)=>{const Ce=Q.el=P?P.el:a(""),Fe=Q.anchor=P?P.anchor:a("");let{patchFlag:ze,dynamicChildren:Ue,slotScopeIds:st}=Q;st&&(He=He?He.concat(st):st),P==null?(r(Ce,se,de),r(Fe,se,de),k(Q.children||[],se,Fe,he,ge,$e,He,Ie)):ze>0&&ze&64&&Ue&&P.dynamicChildren&&P.dynamicChildren.length===Ue.length?(_(P.dynamicChildren,Ue,se,he,ge,$e,He),(Q.key!=null||he&&Q===he.subTree)&&$q(P,Q,!0)):N(P,Q,se,Fe,he,ge,$e,He,Ie)},I=(P,Q,se,de,he,ge,$e,He,Ie)=>{Q.slotScopeIds=He,P==null?Q.shapeFlag&512?he.ctx.activate(Q,se,de,$e,Ie):F(Q,se,de,he,ge,$e,Ie):R(P,Q,Ie)},F=(P,Q,se,de,he,ge,$e)=>{const He=P.component=n9e(P,de,he);if(FM(P)&&(He.ctx.renderer=J),r9e(He,!1,$e),He.asyncDep){if(he&&he.registerDep(He,L,$e),!P.el){const Ie=He.subTree=ee(ps);v(null,Ie,Q,se),P.placeholder=Ie.el}}else L(He,P,Q,se,he,ge,$e)},R=(P,Q,se)=>{const de=Q.component=P.component;if(Bze(P,Q,se))if(de.asyncDep&&!de.asyncResolved){D(de,Q,se);return}else de.next=Q,de.update();else Q.el=P.el,de.vnode=Q},L=(P,Q,se,de,he,ge,$e)=>{const He=()=>{if(P.isMounted){let{next:ze,bu:Ue,u:st,parent:ht,vnode:ye}=P;{const Ft=f1e(P);if(Ft){ze&&(ze.el=ye.el,D(P,ze,$e)),Ft.asyncDep.then(()=>{P.isUnmounted||He()});return}}let Ge=ze,at;R0(P,!1),ze?(ze.el=ye.el,D(P,ze,$e)):ze=ye,Ue&&qD(Ue),(at=ze.props&&ze.props.onVnodeBeforeUpdate)&&vf(at,ht,ze,ye),R0(P,!0);const cn=Zre(P),lt=P.subTree;P.subTree=cn,g(lt,cn,f(lt.el),ue(lt),P,he,ge),ze.el=cn.el,Ge===null&&zze(P,cn.el),st&&va(st,he),(at=ze.props&&ze.props.onVnodeUpdated)&&va(()=>vf(at,ht,ze,ye),he)}else{let ze;const{el:Ue,props:st}=Q,{bm:ht,m:ye,parent:Ge,root:at,type:cn}=P,lt=rw(Q);R0(P,!1),ht&&qD(ht),!lt&&(ze=st&&st.onVnodeBeforeMount)&&vf(ze,Ge,Q),R0(P,!0);{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(cn);const Ft=P.subTree=Zre(P);g(null,Ft,se,de,P,he,ge),Q.el=Ft.el}if(ye&&va(ye,he),!lt&&(ze=st&&st.onVnodeMounted)){const Ft=Q;va(()=>vf(ze,Ge,Ft),he)}(Q.shapeFlag&256||Ge&&rw(Ge.vnode)&&Ge.vnode.shapeFlag&256)&&P.a&&va(P.a,he),P.isMounted=!0,Q=se=de=null}};P.scope.on();const Ie=P.effect=new gve(He);P.scope.off();const Ce=P.update=Ie.run.bind(Ie),Fe=P.job=Ie.runIfDirty.bind(Ie);Fe.i=P,Fe.id=P.uid,Ie.scheduler=()=>gq(Fe),R0(P,!0),Ce()},D=(P,Q,se)=>{Q.component=P;const de=P.vnode.props;P.vnode=Q,P.next=null,Wze(P,Q.props,de,se),qze(P,Q.children,se),Qh(),zre(P),ep()},N=(P,Q,se,de,he,ge,$e,He,Ie=!1)=>{const Ce=P&&P.children,Fe=P?P.shapeFlag:0,ze=Q.children,{patchFlag:Ue,shapeFlag:st}=Q;if(Ue>0){if(Ue&128){z(Ce,ze,se,de,he,ge,$e,He,Ie);return}else if(Ue&256){M(Ce,ze,se,de,he,ge,$e,He,Ie);return}}st&8?(Fe&16&&ne(Ce,he,ge),ze!==Ce&&c(se,ze)):Fe&16?st&16?z(Ce,ze,se,de,he,ge,$e,He,Ie):ne(Ce,he,ge,!0):(Fe&8&&c(se,""),st&16&&k(ze,se,de,he,ge,$e,He,Ie))},M=(P,Q,se,de,he,ge,$e,He,Ie)=>{P=P||ew,Q=Q||ew;const Ce=P.length,Fe=Q.length,ze=Math.min(Ce,Fe);let Ue;for(Ue=0;Ue<ze;Ue++){const st=Q[Ue]=Ie?gg(Q[Ue]):Tf(Q[Ue]);g(P[Ue],st,se,null,he,ge,$e,He,Ie)}Ce>Fe?ne(P,he,ge,!0,!1,ze):k(Q,se,de,he,ge,$e,He,Ie,ze)},z=(P,Q,se,de,he,ge,$e,He,Ie)=>{let Ce=0;const Fe=Q.length;let ze=P.length-1,Ue=Fe-1;for(;Ce<=ze&&Ce<=Ue;){const st=P[Ce],ht=Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]);if(cv(st,ht))g(st,ht,se,null,he,ge,$e,He,Ie);else break;Ce++}for(;Ce<=ze&&Ce<=Ue;){const st=P[ze],ht=Q[Ue]=Ie?gg(Q[Ue]):Tf(Q[Ue]);if(cv(st,ht))g(st,ht,se,null,he,ge,$e,He,Ie);else break;ze--,Ue--}if(Ce>ze){if(Ce<=Ue){const st=Ue+1,ht=st<Fe?Q[st].el:de;for(;Ce<=Ue;)g(null,Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]),se,ht,he,ge,$e,He,Ie),Ce++}}else if(Ce>Ue)for(;Ce<=ze;)j(P[Ce],he,ge,!0),Ce++;else{const st=Ce,ht=Ce,ye=new Map;for(Ce=ht;Ce<=Ue;Ce++){const Te=Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]);Te.key!=null&&ye.set(Te.key,Ce)}let Ge,at=0;const cn=Ue-ht+1;let lt=!1,Ft=0;const Dt=new Array(cn);for(Ce=0;Ce<cn;Ce++)Dt[Ce]=0;for(Ce=st;Ce<=ze;Ce++){const Te=P[Ce];if(at>=cn){j(Te,he,ge,!0);continue}let Xe;if(Te.key!=null)Xe=ye.get(Te.key);else for(Ge=ht;Ge<=Ue;Ge++)if(Dt[Ge-ht]===0&&cv(Te,Q[Ge])){Xe=Ge;break}Xe===void 0?j(Te,he,ge,!0):(Dt[Xe-ht]=Ce+1,Xe>=Ft?Ft=Xe:lt=!0,g(Te,Q[Xe],se,null,he,ge,$e,He,Ie),at++)}const Gt=lt?Xze(Dt):ew;for(Ge=Gt.length-1,Ce=cn-1;Ce>=0;Ce--){const Te=ht+Ce,Xe=Q[Te],Se=Q[Te+1],ct=Te+1<Fe?Se.el||d1e(Se):de;Dt[Ce]===0?g(null,Xe,se,ct,he,ge,$e,He,Ie):lt&&(Ge<0||Ce!==Gt[Ge]?W(Xe,se,ct,2):Ge--)}}},W=(P,Q,se,de,he=null)=>{const{el:ge,type:$e,transition:He,children:Ie,shapeFlag:Ce}=P;if(Ce&6){W(P.component.subTree,Q,se,de);return}if(Ce&128){P.suspense.move(Q,se,de);return}if(Ce&64){$e.move(P,Q,se,J);return}if($e===rt){r(ge,Q,se);for(let ze=0;ze<Ie.length;ze++)W(Ie[ze],Q,se,de);r(P.anchor,Q,se);return}if($e===H8){b(P,Q,se);return}if(de!==2&&Ce&1&&He)if(de===0)He.beforeEnter(ge),r(ge,Q,se),va(()=>He.enter(ge),he);else{const{leave:ze,delayLeave:Ue,afterLeave:st}=He,ht=()=>{P.ctx.isUnmounted?s(ge):r(ge,Q,se)},ye=()=>{ge._isLeaving&&ge[ph](!0),ze(ge,()=>{ht(),st&&st()})};Ue?Ue(ge,ht,ye):ye()}else r(ge,Q,se)},j=(P,Q,se,de=!1,he=!1)=>{const{type:ge,props:$e,ref:He,children:Ie,dynamicChildren:Ce,shapeFlag:Fe,patchFlag:ze,dirs:Ue,cacheIndex:st}=P;if(ze===-2&&(he=!1),He!=null&&(Qh(),z$(He,null,se,P,!0),ep()),st!=null&&(Q.renderCache[st]=void 0),Fe&256){Q.ctx.deactivate(P);return}const ht=Fe&1&&Ue,ye=!rw(P);let Ge;if(ye&&(Ge=$e&&$e.onVnodeBeforeUnmount)&&vf(Ge,Q,P),Fe&6)G(P.component,se,de);else{if(Fe&128){P.suspense.unmount(se,de);return}ht&&O0(P,null,Q,"beforeUnmount"),Fe&64?P.type.remove(P,Q,se,J,de):Ce&&!Ce.hasOnce&&(ge!==rt||ze>0&&ze&64)?ne(Ce,Q,se,!1,!0):(ge===rt&&ze&384||!he&&Fe&16)&&ne(Ie,Q,se),de&&U(P)}(ye&&(Ge=$e&&$e.onVnodeUnmounted)||ht)&&va(()=>{Ge&&vf(Ge,Q,P),ht&&O0(P,null,Q,"unmounted")},se)},U=P=>{const{type:Q,el:se,anchor:de,transition:he}=P;if(Q===rt){Y(se,de);return}if(Q===H8){w(P);return}const ge=()=>{s(se),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(P.shapeFlag&1&&he&&!he.persisted){const{leave:$e,delayLeave:He}=he,Ie=()=>$e(se,ge);He?He(P.el,ge,Ie):Ie()}else ge()},Y=(P,Q)=>{let se;for(;P!==Q;)se=d(P),s(P),P=se;s(Q)},G=(P,Q,se)=>{const{bum:de,scope:he,job:ge,subTree:$e,um:He,m:Ie,a:Ce}=P;ese(Ie),ese(Ce),de&&qD(de),he.stop(),ge&&(ge.flags|=8,j($e,P,Q,se)),He&&va(He,Q),va(()=>{P.isUnmounted=!0},Q)},ne=(P,Q,se,de=!1,he=!1,ge=0)=>{for(let $e=ge;$e<P.length;$e++)j(P[$e],Q,se,de,he)},ue=P=>{if(P.shapeFlag&6)return ue(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const Q=d(P.anchor||P.el),se=Q&&Q[Lve];return se?d(se):Q};let ae=!1;const X=(P,Q,se)=>{let de;P==null?Q._vnode&&(j(Q._vnode,null,null,!0),de=Q._vnode.component):g(Q._vnode||null,P,Q,null,null,null,se),Q._vnode=P,ae||(ae=!0,zre(de),Rve(),ae=!1)},J={p:g,um:j,m:W,r:U,mt:F,mc:k,pc:N,pbc:_,n:ue,o:e};return{render:X,hydrate:void 0,createApp:Oze(X)}}function j8({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function R0({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yze(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $q(e,t,n=!1){const r=e.children,s=t.children;if(Oe(r)&&Oe(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=gg(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&$q(i,a)),a.type===Xx&&(a.patchFlag!==-1?a.el=i.el:a.__elIndex=o+(e.type===rt?1:0)),a.type===ps&&!a.el&&(a.el=i.el)}}function Xze(e){const t=e.slice(),n=[0];let r,s,o,i,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<u?o=a+1:i=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function f1e(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:f1e(t)}function ese(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function d1e(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?d1e(t.subTree):null}const h1e=e=>e.__isSuspense;function Zze(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):fze(e)}const rt=Symbol.for("v-fgt"),Xx=Symbol.for("v-txt"),ps=Symbol.for("v-cmt"),H8=Symbol.for("v-stc"),W$=[];let Ul=null;function B(e=!1){W$.push(Ul=e?null:[])}function Jze(){W$.pop(),Ul=W$[W$.length-1]||null}let $k=1;function vO(e,t=!1){$k+=e,e<0&&Ul&&t&&(Ul.hasOnce=!0)}function p1e(e){return e.dynamicChildren=$k>0?Ul||ew:null,Jze(),$k>0&&Ul&&Ul.push(e),e}function K(e,t,n,r,s,o){return p1e(Z(e,t,n,r,s,o,!0))}function pe(e,t,n,r,s){return p1e(ee(e,t,n,r,s,!0))}function or(e){return e?e.__v_isVNode===!0:!1}function cv(e,t){return e.type===t.type&&e.key===t.key}const g1e=({key:e})=>e??null,YD=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?it(e)||fr(e)||ft(e)?{i:ci,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,s=null,o=e===rt?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&g1e(t),ref:t&&YD(t),scopeId:Mve,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ci};return a?(kq(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=it(n)?8:16),$k>0&&!i&&Ul&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ul.push(l),l}const ee=Qze;function Qze(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Xve)&&(e=ps),or(e)){const a=np(e,t,!0);return n&&kq(a,n),$k>0&&!o&&Ul&&(a.shapeFlag&6?Ul[Ul.indexOf(e)]=a:Ul.push(a)),a.patchFlag=-2,a}if(a9e(e)&&(e=e.__vccOpts),t){t=Wh(t);let{class:a,style:l}=t;a&&!it(a)&&(t.class=V(a)),Pt(l)&&(OM(l)&&!Oe(l)&&(l=ko({},l)),t.style=dt(l))}const i=it(e)?1:h1e(e)?128:Bve(e)?64:Pt(e)?4:ft(e)?2:0;return Z(e,t,n,r,s,i,o,!0)}function Wh(e){return e?OM(e)||o1e(e)?ko({},e):e:null}function np(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:l}=e,u=t?Wt(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&g1e(u),ref:t&&t.ref?n&&o?Oe(o)?o.concat(YD(t)):[o,YD(t)]:YD(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&np(e.ssContent),ssFallback:e.ssFallback&&np(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&h1(c,l.clone(c)),c}function Jt(e=" ",t=0){return ee(Xx,null,e,t)}function fe(e="",t=!1){return t?(B(),pe(ps,null,e)):ee(ps,null,e)}function Tf(e){return e==null||typeof e=="boolean"?ee(ps):Oe(e)?ee(rt,null,e.slice()):or(e)?gg(e):ee(Xx,null,String(e))}function gg(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:np(e)}function kq(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),kq(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!o1e(t)?t._ctx=ci:s===3&&ci&&(ci.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ft(t)?(t={default:t,_ctx:ci},n=32):(t=String(t),r&64?(n=16,t=[Jt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=V([t.class,r.class]));else if(s==="style")t.style=dt([t.style,r.style]);else if(_M(s)){const o=t[s],i=r[s];i&&o!==i&&!(Oe(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function vf(e,t,n,r=null){Mc(e,t,7,[n,r])}const e9e=t1e();let t9e=0;function n9e(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||e9e,o={uid:t9e++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dve(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a1e(r,s),emitsOptions:n1e(r,s),emit:null,emitted:null,propsDefaults:es,inheritAttrs:r.inheritAttrs,ctx:es,data:es,props:es,attrs:es,slots:es,refs:es,setupState:es,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Fze.bind(null,o),e.ce&&e.ce(o),o}let Vi=null;const Ut=()=>Vi||ci;let yO,uV;{const e=NM(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};yO=t("__VUE_INSTANCE_SETTERS__",n=>Vi=n),uV=t("__VUE_SSR_SETTERS__",n=>kk=n)}const I_=e=>{const t=Vi;return yO(e),e.scope.on(),()=>{e.scope.off(),yO(t)}},tse=()=>{Vi&&Vi.scope.off(),yO(null)};function m1e(e){return e.vnode.shapeFlag&4}let kk=!1;function r9e(e,t=!1,n=!1){t&&uV(t);const{props:r,children:s}=e.vnode,o=m1e(e);Vze(e,r,o,t),Hze(e,s,n||t);const i=o?s9e(e,t):void 0;return t&&uV(!1),i}function s9e(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Eze);const{setup:r}=n;if(r){Qh();const s=e.setupContext=r.length>1?y1e(e):null,o=I_(e),i=A_(r,e,0,[e.props,s]),a=f1(i);if(ep(),o(),(a||e.sp)&&!rw(e)&&Gve(e),a){if(i.then(tse,tse),t)return i.then(l=>{nse(e,l)}).catch(l=>{RM(l,e,0)});e.asyncDep=i}else nse(e,i)}else v1e(e)}function nse(e,t,n){ft(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pt(t)&&(e.setupState=Ive(t)),v1e(e)}function v1e(e,t,n){const r=e.type;e.render||(e.render=r.render||Rn);{const s=I_(e);Qh();try{_ze(e)}finally{ep(),s()}}}const o9e={get(e,t){return Li(e,"get",""),e[t]}};function y1e(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,o9e),slots:e.slots,emit:e.emit,expose:t}}function zM(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ive(Vh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in V$)return V$[n](e)},has(t,n){return n in t||n in V$}})):e.proxy}function i9e(e,t=!0){return ft(e)?e.displayName||e.name:e.name||t&&e.__name}function a9e(e){return ft(e)&&"__vccOpts"in e}const O=(e,t)=>ize(e,t,kk);function bt(e,t,n){try{vO(-1);const r=arguments.length;return r===2?Pt(t)&&!Oe(t)?or(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&or(n)&&(n=[n]),ee(e,t,n))}finally{vO(1)}}const l9e="3.5.26",u9e=Rn;let cV;const rse=typeof window<"u"&&window.trustedTypes;if(rse)try{cV=rse.createPolicy("vue",{createHTML:e=>e})}catch{}const b1e=cV?e=>cV.createHTML(e):e=>e,c9e="http://www.w3.org/2000/svg",f9e="http://www.w3.org/1998/Math/MathML",dh=typeof document<"u"?document:null,sse=dh&&dh.createElement("template"),d9e={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?dh.createElementNS(c9e,e):t==="mathml"?dh.createElementNS(f9e,e):n?dh.createElement(e,{is:n}):dh.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>dh.createTextNode(e),createComment:e=>dh.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dh.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{sse.innerHTML=b1e(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=sse.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Yp="transition",iS="animation",Aw=Symbol("_vtc"),w1e={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},x1e=ko({},Uve,w1e),h9e=e=>(e.displayName="Transition",e.props=x1e,e),Ho=h9e((e,{slots:t})=>bt(yze,C1e(e),t)),F0=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},ose=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function C1e(e){const t={};for(const A in e)A in w1e||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=i,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=p9e(s),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:C,onBeforeAppear:S=v,onAppear:$=y,onAppearCancelled:k=b}=t,T=(A,I,F,R)=>{A._enterCancelled=R,ig(A,I?c:a),ig(A,I?u:i),F&&F()},_=(A,I)=>{A._isLeaving=!1,ig(A,f),ig(A,h),ig(A,d),I&&I()},E=A=>(I,F)=>{const R=A?$:y,L=()=>T(I,A,F);F0(R,[I,L]),ise(()=>{ig(I,A?l:o),Sf(I,A?c:a),ose(R)||ase(I,r,g,L)})};return ko(t,{onBeforeEnter(A){F0(v,[A]),Sf(A,o),Sf(A,i)},onBeforeAppear(A){F0(S,[A]),Sf(A,l),Sf(A,u)},onEnter:E(!1),onAppear:E(!0),onLeave(A,I){A._isLeaving=!0;const F=()=>_(A,I);Sf(A,f),A._enterCancelled?(Sf(A,d),fV(A)):(fV(A),Sf(A,d)),ise(()=>{A._isLeaving&&(ig(A,f),Sf(A,h),ose(w)||ase(A,r,m,F))}),F0(w,[A,F])},onEnterCancelled(A){T(A,!1,void 0,!0),F0(b,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),F0(k,[A])},onLeaveCancelled(A){_(A),F0(C,[A])}})}function p9e(e){if(e==null)return null;if(Pt(e))return[q8(e.enter),q8(e.leave)];{const t=q8(e);return[t,t]}}function q8(e){return _5e(e)}function Sf(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Aw]||(e[Aw]=new Set)).add(t)}function ig(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Aw];n&&(n.delete(t),n.size||(e[Aw]=void 0))}function ise(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let g9e=0;function ase(e,t,n,r){const s=e._endId=++g9e,o=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=S1e(e,t);if(!i)return r();const u=i+"end";let c=0;const f=()=>{e.removeEventListener(u,d),o()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,d)}function S1e(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${Yp}Delay`),o=r(`${Yp}Duration`),i=lse(s,o),a=r(`${iS}Delay`),l=r(`${iS}Duration`),u=lse(a,l);let c=null,f=0,d=0;t===Yp?i>0&&(c=Yp,f=i,d=o.length):t===iS?u>0&&(c=iS,f=u,d=l.length):(f=Math.max(i,u),c=f>0?i>u?Yp:iS:null,d=c?c===Yp?o.length:l.length:0);const h=c===Yp&&/\b(?:transform|all)(?:,|$)/.test(r(`${Yp}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function lse(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>use(n)+use(e[r])))}function use(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function fV(e){return(e?e.ownerDocument:document).body.offsetHeight}function m9e(e,t,n){const r=e[Aw];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const bO=Symbol("_vod"),$1e=Symbol("_vsh"),$n={name:"show",beforeMount(e,{value:t},{transition:n}){e[bO]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):aS(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),aS(e,!0),r.enter(e)):r.leave(e,()=>{aS(e,!1)}):aS(e,t))},beforeUnmount(e,{value:t}){aS(e,t)}};function aS(e,t){e.style.display=t?e[bO]:"none",e[$1e]=!t}const v9e=Symbol(""),y9e=/(?:^|;)\s*display\s*:/;function b9e(e,t,n){const r=e.style,s=it(n);let o=!1;if(n&&!s){if(t)if(it(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&XD(r,a,"")}else for(const i in t)n[i]==null&&XD(r,i,"");for(const i in n)i==="display"&&(o=!0),XD(r,i,n[i])}else if(s){if(t!==n){const i=r[v9e];i&&(n+=";"+i),r.cssText=n,o=y9e.test(n)}}else t&&e.removeAttribute("style");bO in e&&(e[bO]=o?r.display:"",e[$1e]&&(r.display="none"))}const cse=/\s*!important$/;function XD(e,t,n){if(Oe(n))n.forEach(r=>XD(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=w9e(e,t);cse.test(n)?e.setProperty(Cp(r),n.replace(cse,""),"important"):e[r]=n}}const fse=["Webkit","Moz","ms"],G8={};function w9e(e,t){const n=G8[t];if(n)return n;let r=Da(t);if(r!=="filter"&&r in e)return G8[t]=r;r=T_(r);for(let s=0;s<fse.length;s++){const o=fse[s]+r;if(o in e)return G8[t]=o}return t}const dse="http://www.w3.org/1999/xlink";function hse(e,t,n,r,s,o=O5e(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(dse,t.slice(6,t.length)):e.setAttributeNS(dse,t,n):n==null||o&&!lve(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Rc(n)?String(n):n)}function pse(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?b1e(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=lve(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function Sg(e,t,n,r){e.addEventListener(t,n,r)}function x9e(e,t,n,r){e.removeEventListener(t,n,r)}const gse=Symbol("_vei");function C9e(e,t,n,r,s=null){const o=e[gse]||(e[gse]={}),i=o[t];if(r&&i)i.value=r;else{const[a,l]=S9e(t);if(r){const u=o[t]=E9e(r,s);Sg(e,a,u,l)}else i&&(x9e(e,a,i,l),o[t]=void 0)}}const mse=/(?:Once|Passive|Capture)$/;function S9e(e){let t;if(mse.test(e)){t={};let r;for(;r=e.match(mse);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cp(e.slice(2)),t]}let K8=0;const $9e=Promise.resolve(),k9e=()=>K8||($9e.then(()=>K8=0),K8=Date.now());function E9e(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mc(_9e(r,n.value),t,5,[r])};return n.value=e,n.attached=k9e(),n}function _9e(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const vse=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,T9e=(e,t,n,r,s,o)=>{const i=s==="svg";t==="class"?m9e(e,r,i):t==="style"?b9e(e,n,r):_M(t)?oq(t)||C9e(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):A9e(e,t,r,i))?(pse(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&hse(e,t,r,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!it(r))?pse(e,Da(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),hse(e,t,r,i))};function A9e(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&vse(t)&&ft(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return vse(t)&&it(n)?!1:t in e}const k1e=new WeakMap,E1e=new WeakMap,wO=Symbol("_moveCb"),yse=Symbol("_enterCb"),I9e=e=>(delete e.props.mode,e),N9e=I9e({name:"TransitionGroup",props:ko({},x1e,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ut(),r=Wve();let s,o;return Yc(()=>{if(!s.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!F9e(s[0].el,n.vnode.el,i)){s=[];return}s.forEach(D9e),s.forEach(O9e);const a=s.filter(R9e);fV(n.vnode.el),a.forEach(l=>{const u=l.el,c=u.style;Sf(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[wO]=d=>{d&&d.target!==u||(!d||d.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[wO]=null,ig(u,i))};u.addEventListener("transitionend",f)}),s=[]}),()=>{const i=nr(e),a=C1e(i);let l=i.tag||rt;if(s=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(s.push(c),h1(c,Sk(c,a,r,n)),k1e.set(c,{left:c.el.offsetLeft,top:c.el.offsetTop}))}o=t.default?vq(t.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&h1(c,Sk(c,a,r,n))}return ee(l,null,o)}}}),_1e=N9e;function D9e(e){const t=e.el;t[wO]&&t[wO](),t[yse]&&t[yse]()}function O9e(e){E1e.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function R9e(e){const t=k1e.get(e),n=E1e.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",e}}function F9e(e,t,n){const r=e.cloneNode(),s=e[Aw];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=S1e(r);return o.removeChild(r),i}const Iw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>qD(t,n):t};function M9e(e){e.target.composing=!0}function bse(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Uh=Symbol("_assign");function wse(e,t,n){return t&&(e=e.trim()),n&&(e=aq(e)),e}const VM={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Uh]=Iw(s);const o=r||s.props&&s.props.type==="number";Sg(e,t?"change":"input",i=>{i.target.composing||e[Uh](wse(e.value,n,o))}),(n||o)&&Sg(e,"change",()=>{e.value=wse(e.value,n,o)}),t||(Sg(e,"compositionstart",M9e),Sg(e,"compositionend",bse),Sg(e,"change",bse))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(e[Uh]=Iw(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?aq(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},T1e={deep:!0,created(e,t,n){e[Uh]=Iw(n),Sg(e,"change",()=>{const r=e._modelValue,s=I1e(e),o=e.checked,i=e[Uh];if(Oe(r)){const a=uve(r,s),l=a!==-1;if(o&&!l)i(r.concat(s));else if(!o&&l){const u=[...r];u.splice(a,1),i(u)}}else if(TM(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(N1e(e,o))})},mounted:xse,beforeUpdate(e,t,n){e[Uh]=Iw(n),xse(e,t,n)}};function xse(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(Oe(t))s=uve(t,r.props.value)>-1;else if(TM(t))s=t.has(r.props.value);else{if(t===n)return;s=_w(t,N1e(e,!0))}e.checked!==s&&(e.checked=s)}const A1e={created(e,{value:t},n){e.checked=_w(t,n.props.value),e[Uh]=Iw(n),Sg(e,"change",()=>{e[Uh](I1e(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Uh]=Iw(r),t!==n&&(e.checked=_w(t,r.props.value))}};function I1e(e){return"_value"in e?e._value:e.value}function N1e(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const P9e=["ctrl","shift","alt","meta"],L9e={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>P9e.some(n=>e[`${n}Key`]&&!t.includes(n))},xt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...o)=>{for(let i=0;i<t.length;i++){const a=L9e[t[i]];if(a&&a(s,t))return}return e(s,...o)}))},B9e={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const o=Cp(s.key);if(t.some(i=>i===o||B9e[i]===o))return e(s)}))},z9e=ko({patchProp:T9e},d9e);let Cse;function D1e(){return Cse||(Cse=Gze(z9e))}const am=((...e)=>{D1e().render(...e)}),O1e=((...e)=>{const t=D1e().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=W9e(r);if(!s)return;const o=t._component;!ft(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,V9e(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t});function V9e(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function W9e(e){return it(e)?document.querySelector(e):e}const U9e=1e-7,j9e=1e-4;class Eq{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class WM{refCount(t){return qa("refCount")}incRef(t){return qa("incRef")}timerAvailable(){return!0}time(t){return qa("time")}read(t){return qa("read")}readSync(t){return qa("readSync")}readToGPU(t,n){return qa("readToGPU")}numDataIds(){return qa("numDataIds")}disposeData(t,n){return qa("disposeData")}write(t,n,r){return qa("write")}move(t,n,r,s,o){return qa("move")}createTensorFromGPUData(t,n,r){return qa("createTensorFromGPUData")}memory(){return qa("memory")}floatPrecision(){return qa("floatPrecision")}epsilon(){return this.floatPrecision()===32?U9e:j9e}dispose(){return qa("dispose")}}function qa(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function _q(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,$h(e,t,n)}function H9e(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,$h(e,n,r),$h(t,n,r)}function lm(e,t,n){return Math.max(e,Math.min(t,n))}function UM(e){return e%2===0?e:e+1}function $h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function R1e(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function q9e(e,t){const n=Math.random();return t*n+(1-n)*e}function G9e(e,t){let n=0;for(let r=0;r<e.length;r++){const s=Number(e[r])-Number(t[r]);n+=s*s}return n}function te(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Zo(e,t,n=""){te(ir(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function sy(e){te(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function je(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function K9e(e){return e.length===0}function F1e(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==null&&t[n]!==null&&e[n]!==t[n])return!1;return!0}function ir(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p1(e){return e%1===0}function Y9e(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function xO(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function X9e(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return _q(t),t}function jv(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function dV(e,t=s=>0,n,r){return new Promise((s,o)=>{let i=0;const a=()=>{if(e()){s();return}i++;const l=t(i);if(n!=null&&i>=n){o();return}r!=null?r(a,l):setTimeout(a,l)};a()})}function Tq(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(e[o]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(e[o]<0)throw Error(`Shapes can not be < 0. Found ${e[o]} at dim ${o}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const s=e.slice();return s[r]=t/n,s}function qn(e,t){const n=t.length;return e=e==null?t.map((r,s)=>s):[].concat(e),te(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),te(e.every(r=>p1(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function kp(e,t){const n=[],r=[],s=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||s?null:qn(t,e).sort();let i=0;for(let a=0;a<e.length;++a){if(o!=null){if(o[i]===a&&e[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${e[a]}' is not 1`);(o[i]==null||o[i]>a)&&e[a]===1&&(n.push(e[a]),r.push(a)),o[i]<=a&&i++}e[a]!==1&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function Eo(e,t){return Ds(e,t)}function Ds(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function M1e(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function P1e(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function Aq(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function Ek(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function L1e(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function Lf(e){return typeof e=="string"||e instanceof String}function B1e(e){return typeof e=="boolean"}function CO(e){return typeof e=="number"}function oy(e){return Array.isArray(e)?oy(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":CO(e)?"float32":Lf(e)?"string":B1e(e)?"bool":"float32"}function um(e){return!!(e&&e.constructor&&e.call&&e.apply)}function SO(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function fn(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function z1e(e,t,n,r=!1){const s=new Array;if(t.length===1){const o=t[0]*(r?2:1);for(let i=0;i<o;i++)s[i]=n[e+i]}else{const o=t[0],i=t.slice(1),a=i.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<o;l++)s[l]=z1e(e+l*a,i,n,r)}return s}function Nu(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((s,o)=>s*o)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return z1e(0,e,t,n)}function V1e(e,t){if(Array.isArray(e))return e;if(t==="float32")return e instanceof Float32Array?e:new Float32Array(e);if(t==="int32")return e instanceof Int32Array?e:new Int32Array(e);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function jM(e,t){const n=qo(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function qo(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Iq(e,t){const n=e.reduce((r,s)=>r*s,1);if(t==null||t==="float32")return Nu(e,new Float32Array(n));if(t==="int32")return Nu(e,new Int32Array(n));if(t==="bool")return Nu(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function Il(e){e.forEach(t=>{te(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function kc(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=n[s]*e[s];return r}function iy(e,t,n){if(t===0)return[];if(t===1)return[e];const r=new Array(t);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(e/n[s]),e-=r[s]*n[s];return r[r.length-1]=e,r}function HM(e){return e&&e.then&&typeof e.then=="function"}const Sse="tfjsflags";class W1e{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Z9e,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const s=this.urlFlags[t];Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${s}.`),this.set(t,s)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(HM(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);Sse in t&&t[Sse].split(",").forEach(r=>{const[s,o]=r.split(":");this.urlFlags[s]=Q9e(s,o)})}}function Z9e(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(J9e(t,r[0],r[1]),r.join("="))),t}function J9e(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function Q9e(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function Pe(){return Nq}let Nq=null;function e7e(e){Nq=e}let Y8;function U1e(){if(Y8==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");Y8=e}return Y8}function t7e(){const e=U1e();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function Dq(e,t){const n=t7e();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const N_="Abs",Zx="Acos",Jx="Acosh",ay="Add",D_="AddN",qM="All",GM="Any",O_="ArgMax",R_="ArgMin",Qx="Asin",e2="Asinh",t2="Atan",n2="Atanh",r2="Atan2",F_="AvgPool",KM="AvgPoolGrad",M_="AvgPool3D",YM="AvgPool3DGrad",P_="BatchMatMul",L_="BatchToSpaceND",XM="Bincount",B_="BitwiseAnd",j1e="BroadcastTo",ZM="BroadcastArgs",s2="Cast",o2="Ceil",i2="ClipByValue",JM="Complex",z_="ComplexAbs",V_="Concat",W_="Conv2D",QM="Conv2DBackpropFilter",U_="Conv2DBackpropInput",j_="Conv3D",e4="Conv3DBackpropFilterV2",t4="Conv3DBackpropInputV2",a2="Cos",l2="Cosh",n4="Cumprod",H_="Cumsum",r4="CropAndResize",s4="DenseBincount",o4="DepthToSpace",q_="DepthwiseConv2dNative",i4="DepthwiseConv2dNativeBackpropFilter",a4="DepthwiseConv2dNativeBackpropInput",l4="Diag",G_="Dilation2D",$O="Dilation2DBackpropInput",kO="Dilation2DBackpropFilter",u4="Draw",u2="RealDiv",c4="Einsum",c2="Elu",f4="EluGrad",f2="Erf",K_="Equal",d2="Exp",Y_="ExpandDims",h2="Expm1",d4="FFT",h4="Fill",p4="FlipLeftRight",p2="Floor",g2="FloorDiv",X_="FusedBatchNorm",Z_="GatherV2",g4="GatherNd",J_="Greater",m2="GreaterEqual",v2="Identity",m4="IFFT",v4="Imag",y2="IsFinite",b2="IsInf",w2="IsNan",Q_="LeakyRelu",eT="Less",tT="LessEqual",y4="LinSpace",x2="Log",C2="Log1p",nT="LogicalAnd",rT="LogicalNot",sT="LogicalOr",n7e="LogicalXor",H1e="LogSoftmax",r7e="LowerBound",oT="LRN",b4="LRNGrad",s7e="MatrixBandPart",iT="Max",S2="Maximum",aT="MaxPool",w4="MaxPoolGrad",lT="MaxPool3D",x4="MaxPool3DGrad",C4="MaxPoolWithArgmax",uT="Mean",cT="Min",$2="Minimum",fT="MirrorPad",k2="Mod",S4="Multinomial",E2="Multiply",dT="Neg",hT="NotEqual",$4="NonMaxSuppressionV3",k4="NonMaxSuppressionV4",E4="NonMaxSuppressionV5",pT="OnesLike",gT="OneHot",mT="Pack",vT="PadV2",o7e="Pool",_2="Pow",yT="Prelu",bT="Prod",_4="RaggedGather",T4="RaggedRange",A4="RaggedTensorToTensor",I4="Range",N4="Real",T2="Reciprocal",A2="Relu",wT="Reshape",xT="ResizeNearestNeighbor",D4="ResizeNearestNeighborGrad",CT="ResizeBilinear",O4="ResizeBilinearGrad",I2="Relu6",ST="Reverse",N2="Round",D2="Rsqrt",R4="ScatterNd",F4="TensorScatterUpdate",M4="SearchSorted",$T="Select",O2="Selu",kT="Slice",R2="Sin",F2="Sinh",M2="Sign",P2="Sigmoid",L2="Softplus",B2="Sqrt",ET="Sum",_T="SpaceToBatchND",TT="SplitV",AT="Softmax",P4="SparseFillEmptyRows",L4="SparseReshape",B4="SparseSegmentMean",z4="SparseSegmentSum",V4="SparseToDense",z2="SquaredDifference",W4="Square",IT="StaticRegexReplace",U4="StridedSlice",j4="StringNGrams",H4="StringSplit",q4="StringToHashBucketFast",V2="Sub",W2="Tan",U2="Tanh",j2="Tile",G4="TopK",K4="Transform",Hv="Transpose",Y4="Unique",NT="Unpack",DT="UnsortedSegmentSum",i7e="UpperBound",OT="ZerosLike",H2="Step",EO="FromPixels",X4="RotateWithOffset",_k="_FusedMatMul",Tk="FusedConv2D",Ak="FusedDepthwiseConv2D";function Vl(...e){Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(...e)}function a7e(...e){Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.log(...e)}const Nw=Dq("kernelRegistry",()=>new Map),Ik=Dq("gradRegistry",()=>new Map);function Nk(e,t){const n=Oq(e,t);return Nw.get(n)}function hV(e){return Ik.get(e)}function _O(e){const t=Nw.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[o,i]=s,[a]=o.split("_");a===e&&n.push(i)}return n}function Z4(e){const{kernelName:t,backendName:n}=e,r=Oq(t,n);Nw.has(r)&&Vl(`The kernel '${t}' for backend '${n}' is already registered`),Nw.set(r,e)}function q1e(e){const{kernelName:t}=e;Ik.has(t)&&Pe().getBool("DEBUG")&&Vl(`Overriding the gradient for '${t}'`),Ik.set(t,e)}function l7e(e,t){const n=Oq(e,t);if(!Nw.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);Nw.delete(n)}function u7e(e){if(!Ik.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);Ik.delete(e)}function c7e(e,t){_O(e).forEach(r=>{const s=Object.assign({},r,{backendName:t});Z4(s)})}function Oq(e,t){return`${t}_${e}`}function G1e(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Nl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ly(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var X8,$se;function f7e(){if($se)return X8;$se=1,X8=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(_,E,A){this.low=_|0,this.high=E|0,this.unsigned=!!A}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(_){return(_&&_.__isLong__)===!0}t.isLong=n;var r={},s={};function o(_,E){var A,I,F;return E?(_>>>=0,(F=0<=_&&_<256)&&(I=s[_],I)?I:(A=a(_,(_|0)<0?-1:0,!0),F&&(s[_]=A),A)):(_|=0,(F=-128<=_&&_<128)&&(I=r[_],I)?I:(A=a(_,_<0?-1:0,!1),F&&(r[_]=A),A))}t.fromInt=o;function i(_,E){if(isNaN(_))return E?y:v;if(E){if(_<0)return y;if(_>=p)return $}else{if(_<=-g)return k;if(_+1>=g)return S}return _<0?i(-_,E).neg():a(_%h|0,_/h|0,E)}t.fromNumber=i;function a(_,E,A){return new t(_,E,A)}t.fromBits=a;var l=Math.pow;function u(_,E,A){if(_.length===0)throw Error("empty string");if(_==="NaN"||_==="Infinity"||_==="+Infinity"||_==="-Infinity")return v;if(typeof E=="number"?(A=E,E=!1):E=!!E,A=A||10,A<2||36<A)throw RangeError("radix");var I;if((I=_.indexOf("-"))>0)throw Error("interior hyphen");if(I===0)return u(_.substring(1),E,A).neg();for(var F=i(l(A,8)),R=v,L=0;L<_.length;L+=8){var D=Math.min(8,_.length-L),N=parseInt(_.substring(L,L+D),A);if(D<8){var M=i(l(A,D));R=R.mul(M).add(i(N))}else R=R.mul(F),R=R.add(i(N))}return R.unsigned=E,R}t.fromString=u;function c(_,E){return typeof _=="number"?i(_,E):typeof _=="string"?u(_,E):a(_.low,_.high,typeof E=="boolean"?E:_.unsigned)}t.fromValue=c;var f=65536,d=1<<24,h=f*f,p=h*h,g=p/2,m=o(d),v=o(0);t.ZERO=v;var y=o(0,!0);t.UZERO=y;var b=o(1);t.ONE=b;var w=o(1,!0);t.UONE=w;var C=o(-1);t.NEG_ONE=C;var S=a(-1,2147483647,!1);t.MAX_VALUE=S;var $=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=$;var k=a(0,-2147483648,!1);t.MIN_VALUE=k;var T=t.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(k)){var A=i(E),I=this.div(A),F=I.mul(A).sub(this);return I.toString(E)+F.toInt().toString(E)}else return"-"+this.neg().toString(E);for(var R=i(l(E,6),this.unsigned),L=this,D="";;){var N=L.div(R),M=L.sub(N.mul(R)).toInt()>>>0,z=M.toString(E);if(L=N,L.isZero())return z+D;for(;z.length<6;)z="0"+z;D=""+z+D}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,A=31;A>0&&(E&1<<A)==0;A--);return this.high!=0?A+33:A+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(this.low&1)===1},T.isEven=function(){return(this.low&1)===0},T.equals=function(E){return n(E)||(E=c(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?!1:this.high===E.high&&this.low===E.low},T.eq=T.equals,T.notEquals=function(E){return!this.eq(E)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(E){return this.comp(E)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(E){return this.comp(E)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(E){return this.comp(E)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(E){return this.comp(E)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(E){if(n(E)||(E=c(E)),this.eq(E))return 0;var A=this.isNegative(),I=E.isNegative();return A&&!I?-1:!A&&I?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},T.neg=T.negate,T.add=function(E){n(E)||(E=c(E));var A=this.high>>>16,I=this.high&65535,F=this.low>>>16,R=this.low&65535,L=E.high>>>16,D=E.high&65535,N=E.low>>>16,M=E.low&65535,z=0,W=0,j=0,U=0;return U+=R+M,j+=U>>>16,U&=65535,j+=F+N,W+=j>>>16,j&=65535,W+=I+D,z+=W>>>16,W&=65535,z+=A+L,z&=65535,a(j<<16|U,z<<16|W,this.unsigned)},T.subtract=function(E){return n(E)||(E=c(E)),this.add(E.neg())},T.sub=T.subtract,T.multiply=function(E){if(this.isZero())return v;if(n(E)||(E=c(E)),e){var A=e.mul(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}if(E.isZero())return v;if(this.eq(k))return E.isOdd()?k:v;if(E.eq(k))return this.isOdd()?k:v;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(m)&&E.lt(m))return i(this.toNumber()*E.toNumber(),this.unsigned);var I=this.high>>>16,F=this.high&65535,R=this.low>>>16,L=this.low&65535,D=E.high>>>16,N=E.high&65535,M=E.low>>>16,z=E.low&65535,W=0,j=0,U=0,Y=0;return Y+=L*z,U+=Y>>>16,Y&=65535,U+=R*z,j+=U>>>16,U&=65535,U+=L*M,j+=U>>>16,U&=65535,j+=F*z,W+=j>>>16,j&=65535,j+=R*M,W+=j>>>16,j&=65535,j+=L*N,W+=j>>>16,j&=65535,W+=I*z+F*M+R*N+L*D,W&=65535,a(U<<16|Y,W<<16|j,this.unsigned)},T.mul=T.multiply,T.divide=function(E){if(n(E)||(E=c(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var A=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?y:v;var I,F,R;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return y;if(E.gt(this.shru(1)))return w;R=y}else{if(this.eq(k)){if(E.eq(b)||E.eq(C))return k;if(E.eq(k))return b;var L=this.shr(1);return I=L.div(E).shl(1),I.eq(v)?E.isNegative()?b:C:(F=this.sub(E.mul(I)),R=I.add(F.div(E)),R)}else if(E.eq(k))return this.unsigned?y:v;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();R=v}for(F=this;F.gte(E);){I=Math.max(1,Math.floor(F.toNumber()/E.toNumber()));for(var D=Math.ceil(Math.log(I)/Math.LN2),N=D<=48?1:l(2,D-48),M=i(I),z=M.mul(E);z.isNegative()||z.gt(F);)I-=N,M=i(I,this.unsigned),z=M.mul(E);M.isZero()&&(M=b),R=R.add(M),F=F.sub(z)}return R},T.div=T.divide,T.modulo=function(E){if(n(E)||(E=c(E)),e){var A=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return a(~this.low,~this.high,this.unsigned)},T.and=function(E){return n(E)||(E=c(E)),a(this.low&E.low,this.high&E.high,this.unsigned)},T.or=function(E){return n(E)||(E=c(E)),a(this.low|E.low,this.high|E.high,this.unsigned)},T.xor=function(E){return n(E)||(E=c(E)),a(this.low^E.low,this.high^E.high,this.unsigned)},T.shiftLeft=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?a(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):a(0,this.low<<E-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?a(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):a(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(E){if(n(E)&&(E=E.toInt()),E&=63,E===0)return this;var A=this.high;if(E<32){var I=this.low;return a(I>>>E|A<<32-E,A>>>E,this.unsigned)}else return E===32?a(A,0,this.unsigned):a(A>>>E-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},T.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var E=this.high,A=this.low;return[A&255,A>>>8&255,A>>>16&255,A>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},T.toBytesBE=function(){var E=this.high,A=this.low;return[E>>>24,E>>>16&255,E>>>8&255,E&255,A>>>24,A>>>16&255,A>>>8&255,A&255]},t.fromBytes=function(E,A,I){return I?t.fromBytesLE(E,A):t.fromBytesBE(E,A)},t.fromBytesLE=function(E,A){return new t(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,A)},t.fromBytesBE=function(E,A){return new t(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],A)},X8}var K1e=f7e();const Y1e=Nl(K1e),d7e=C5e({__proto__:null,default:Y1e},[K1e]);const fv=Y1e||d7e;function RT(e){return fv.fromString(e,!0,16)}const X1e=RT("c3a5c85c97cb3127"),rv=RT("b492b66fbe98f273"),Bi=RT("9ae16a3b2f90404f");function pV(e){return e.xor(e.shru(47))}function Z1e(e,t,n){const r=e.slice(t,t+n);return fv.fromBytes(Array.from(r),!0,!0)}function Qr(e,t){return Z1e(e,t,8)}function kse(e,t){return Z1e(e,t,4)}function po(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function Yg(e,t,n=RT("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let s=t.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function h7e(e,t,n,r,s,o){s=s.add(e),o=po(o.add(s).add(r),21);const i=s;return s=s.add(t),s=s.add(n),o=o.add(po(s,44)),[s.add(r),o.add(i)]}function jI(e,t,n,r){return h7e(Qr(e,t),Qr(e,t+8),Qr(e,t+16),Qr(e,t+24),n,r)}function p7e(e,t=e.length){if(t>=8){const n=Bi.add(t*2),r=Qr(e,0).add(Bi),s=Qr(e,t-8),o=po(s,37).mul(n).add(r),i=po(r,25).add(s).mul(n);return Yg(o,i,n)}if(t>=4){const n=Bi.add(t*2),r=kse(e,0);return Yg(r.shl(3).add(t),kse(e,t-4),n)}if(t>0){const n=e[0],r=e[t>>1],s=e[t-1],o=n+(r<<8),i=t+(s<<2);return pV(Bi.mul(o).xor(X1e.mul(i))).mul(Bi)}return Bi}function g7e(e,t=e.length){const n=Bi.add(t*2),r=Qr(e,0).mul(rv),s=Qr(e,8),o=Qr(e,t-8).mul(n),i=Qr(e,t-16).mul(Bi);return Yg(po(r.add(s),43).add(po(o,30)).add(i),r.add(po(s.add(Bi),18)).add(o),n)}function m7e(e,t=e.length){const n=Bi.add(t*2),r=Qr(e,0).mul(Bi),s=Qr(e,8),o=Qr(e,t-8).mul(n),i=Qr(e,t-16).mul(Bi),a=po(r.add(s),43).add(po(o,30)).add(i),l=Yg(a,r.add(po(s.add(Bi),18)).add(o),n),u=Qr(e,16).mul(n),c=Qr(e,24),f=a.add(Qr(e,t-32)).mul(n),d=l.add(Qr(e,t-24)).mul(n);return Yg(po(u.add(c),43).add(po(f,30)).add(d),u.add(po(c.add(r),18)).add(f),n)}function J1e(e,t=e.length){const n=fv.fromNumber(81,!0);if(t<=32)return t<=16?p7e(e,t):g7e(e,t);if(t<=64)return m7e(e,t);let r=n,s=n.mul(rv).add(113),o=pV(s.mul(Bi).add(113)).mul(Bi),i=[fv.UZERO,fv.UZERO],a=[fv.UZERO,fv.UZERO];r=r.mul(Bi).add(Qr(e,0));let l=0;const u=(t-1>>6)*64,c=u+(t-1&63)-63;do r=po(r.add(s).add(i[0]).add(Qr(e,l+8)),37).mul(rv),s=po(s.add(i[1]).add(Qr(e,l+48)),42).mul(rv),r=r.xor(a[1]),s=s.add(i[0]).add(Qr(e,l+40)),o=po(o.add(a[0]),33).mul(rv),i=jI(e,l,i[1].mul(rv),r.add(a[0])),a=jI(e,l+32,o.add(a[1]),s.add(Qr(e,l+16))),[o,r]=[r,o],l+=64;while(l!==u);const f=rv.add(o.and(255).shl(1));return l=c,a[0]=a[0].add(t-1&63),i[0]=i[0].add(a[0]),a[0]=a[0].add(i[0]),r=po(r.add(s).add(i[0]).add(Qr(e,l+8)),37).mul(f),s=po(s.add(i[1]).add(Qr(e,l+48)),42).mul(f),r=r.xor(a[1].mul(9)),s=s.add(i[0].mul(9).add(Qr(e,l+40))),o=po(o.add(a[0]),33).mul(f),i=jI(e,l,i[1].mul(f),r.add(a[0])),a=jI(e,l+32,o.add(a[1]),s.add(Qr(e,l+16))),[o,r]=[r,o],Yg(Yg(i[0],a[0],f).add(pV(s).mul(X1e)).add(o),Yg(i[1],a[1],f).add(r),f)}function Ep(e,t){return t==="string"?Uf(e):e0([e],t)}function v7e(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function e0(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=id(e)),Pe().getBool("DEBUG")&&M1e(e,t),v7e(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function Fi(){return Pe().platform.now()}function y7e(e,t){return Pe().platform.fetch(e,t)}function Uf(e,t="utf-8"){return t=t||"utf-8",Pe().platform.encode(e,t)}function rp(e,t="utf-8"){return t=t||"utf-8",Pe().platform.decode(e,t)}function go(e){return Pe().platform.isTypedArray!=null?Pe().platform.isTypedArray(e):G1e(e)}function id(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||HM(e)||e==null||go(e)&&n)t.push(e);else if(Array.isArray(e)||go(e))for(let r=0;r<e.length;++r)id(e[r],t,n);else{let r=-1;for(const s of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)id(e[s],t,n)}return t}const b7e=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:ir,arraysEqualWithNull:F1e,assert:te,assertNonNegativeIntegerDimensions:Il,assertNonNull:sy,assertShapesMatch:Zo,bytesFromStringArray:L1e,bytesPerElement:Ek,checkConversionForErrors:M1e,clamp:lm,computeStrides:fn,convertBackendValuesAndArrayBuffer:V1e,createScalarValue:Ep,createShuffledIndices:X9e,decodeString:rp,distSquared:G9e,encodeString:Uf,fetch:y7e,fingerPrint64:J1e,flatten:id,getArrayFromDType:Ds,getTypedArrayFromDType:Eo,hasEncodingLoss:Aq,hexToLong:RT,indexToLoc:iy,inferDtype:oy,inferFromImplicitShape:Tq,isBoolean:B1e,isFunction:um,isInt:p1,isNumber:CO,isPromise:HM,isScalarShape:K9e,isString:Lf,isTypedArray:go,isValidDtype:P1e,locToIndex:kc,makeOnesTypedArray:jM,makeZerosNestedTypedArray:Iq,makeZerosTypedArray:qo,nearestDivisor:SO,nearestLargerEven:UM,now:Fi,parseAxisParam:qn,randUniform:q9e,repeatedTry:dV,rightPad:jv,shuffle:_q,shuffleCombo:H9e,sizeFromShape:je,sizeToSquarishShape:xO,squeezeShape:kp,sum:R1e,swap:$h,tanh:Y9e,toNestedArray:Nu,toTypedArray:e0},Symbol.toStringTag,{value:"Module"}));class w7e{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new C7e)}profileKernel(t,n,r){let s;const o=()=>{s=r()};let i;const a=Fi();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const u of s)u.dataSync();i=Promise.resolve({kernelMs:Fi()-a})}if(Pe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const c=s[u];c.data().then(f=>{x7e(f,c.dtype,t)})}return{kernelName:t,outputs:s,inputs:n,timeMs:i.then(u=>u.kernelMs),extraInfo:i.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:s,inputs:o,extraInfo:i}=t;r.forEach(a=>{Promise.all([a.data(),s,i]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function x7e(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const s=e[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class C7e{logKernelProfile(t,n,r,s,o,i){const a=typeof s=="number"?jv(`${s}ms`,9):s.error,l=jv(t,25),u=n.rank,c=n.size,f=jv(n.shape.toString(),14);let d="";for(const h in o){const p=o[h];if(p!=null){const g=p.shape||n.shape,m=g.length;d+=`${h}: ${m}D ${m>0?g:""} `}}console.log(`%c${l}	%c${a}	%c${u}D ${f}	%c${c}	%c${d}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function S7e(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const f in c){const d=c[f];let h=!1;for(let p=0;p<t.length;p++)if(r[d.id]){u.outputs.forEach(g=>r[g.id]=!0),h=!0,s[u.id]=!0;break}if(h)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(o[u.outputs[f].id]){for(const d in c)o[c[d].id]=!0,i[u.id]=!0;break}}const a=[];for(let l=0;l<e.length;l++){const u=e[l];if(s[u.id]&&i[u.id]){const c={};for(const d in u.inputs){const h=u.inputs[d];r[h.id]&&(c[d]=h)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,a.push(f)}}return a}function $7e(e,t,n,r){for(let s=t.length-1;s>=0;s--){const o=t[s],i=[];if(o.outputs.forEach(l=>{const u=e[l.id];u!=null?i.push(u):i.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const a=o.gradient(i);for(const l in o.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const u=n(()=>a[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!ir(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}const Ese=20,lS=3,Z8=7;function k7e(e,t,n,r){const s=fn(t),o=E7e(e,t,n,s),i=t.length,a=ZD(e,t,n,s,o),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(a.map(u=>"    "+u).join(`
`)),l.join(`
`)}function E7e(e,t,n,r){const s=je(t),o=r[r.length-1],i=new Array(o).fill(0),a=t.length,l=n==="complex64"?e$(e):e;if(a>1)for(let u=0;u<s/o;u++){const c=u*o;for(let f=0;f<o;f++)i[f]=Math.max(i[f],QS(l[c+f],0,n).length)}return i}function QS(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(Z8))} + ${parseFloat(e[1].toFixed(Z8))}j`:Lf(e)?r=`'${e}'`:n==="bool"?r=Q1e(e):r=parseFloat(e.toFixed(Z8)).toString(),jv(r,t)}function Q1e(e){return e===0?"false":"true"}function ZD(e,t,n,r,s,o=!0){const i=n==="complex64"?2:1,a=t[0],l=t.length;if(l===0){if(n==="complex64"){const g=e$(e);return[QS(g[0],0,n)]}return n==="bool"?[Q1e(e[0])]:[e[0].toString()]}if(l===1){if(a>Ese){const m=lS*i;let v=Array.from(e.slice(0,m)),y=Array.from(e.slice((a-lS)*i,a*i));return n==="complex64"&&(v=e$(v),y=e$(y)),["["+v.map((b,w)=>QS(b,s[w],n)).join(", ")+", ..., "+y.map((b,w)=>QS(b,s[a-lS+w],n)).join(", ")+"]"]}return["["+(n==="complex64"?e$(e):Array.from(e)).map((m,v)=>QS(m,s[v],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*i,d=[];if(a>Ese){for(let g=0;g<lS;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,!1))}d.push("...");for(let g=a-lS;g<a;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,g===a-1))}}else for(let g=0;g<a;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,g===a-1))}const h=l===2?",":"";d[0]="["+(a>0?d[0]+h:"");for(let g=1;g<d.length-1;g++)d[g]=" "+d[g]+h;let p=`,
`;for(let g=2;g<l;g++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(o?"":p),d}function e$(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Xs{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=je(t),r!=null){const s=r.length;te(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Ds(n,this.size),this.strides=fn(t)}set(t,...n){n.length===0&&(n=[0]),te(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const s of t){if(s<0||s>=this.shape[n]){const o=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=this.strides[s]*t[s];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return fc().makeTensor(this.values,this.shape,this.dtype)}}let fc=null,Mb=null;function _7e(e){fc=e}function T7e(e){Mb=e}class Mr{constructor(t,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=je(t),this.strides=fn(t),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return Mb.buffer(this.shape,this.dtype,t)}bufferSync(){return Mb.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return Nu(this.shape,t,this.dtype==="complex64")}arraySync(){return Nu(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=fc().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>rp(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),fc().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=fc().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>rp(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await fc().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),fc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return Mb.print(this,t)}clone(){return this.throwIfDisposed(),Mb.clone(this)}toString(t=!1){const n=this.dataSync();return k7e(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),Mb.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),fc().makeVariable(this,t,n,r)}}Object.defineProperty(Mr,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function qe(){return Dq("Tensor",()=>Mr)}qe();class Dk extends Mr{constructor(t,n,r,s){super(t.shape,t.dtype,t.dataId,s),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!ir(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);fc().disposeTensor(this),this.dataId=t.dataId,fc().incRef(this,null)}dispose(){fc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Dk,Symbol.hasInstance,{value:e=>e instanceof Mr&&e.assign!=null&&e.assign instanceof Function});var gV;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(gV||(gV={}));var mV;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(mV||(mV={}));var vV;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(vV||(vV={}));var yV;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(yV||(yV={}));var bV;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(bV||(bV={}));const A7e={float32:yV,int32:mV,bool:vV,complex64:bV};function Oa(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return A7e[e][t]}function J4(e){return Oa(e,"int32")}function eye(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function tye(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}function _s(e,t){if(e.dtype===t.dtype)return[e,t];const n=Oa(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function nye(e,t){te(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}function I7e(e,t){return t.some(n=>n.id===e.id)}function Rq(e){const t=[];return rye(e,t,new Set),t}function rye(e,t,n){if(e==null)return;if(e instanceof Mr){t.push(e);return}if(!N7e(e))return;const r=e;for(const s in r){const o=r[s];n.has(o)||(n.add(o),rye(o,t,n))}}function N7e(e){return Array.isArray(e)||typeof e=="object"}const D7e=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:nye,getTensorsInContainer:Rq,isTensorInList:I7e,makeTypesMatch:_s},Symbol.toStringTag,{value:"Module"}));function J8(e){return e.kernelName!=null}class _se{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class Dw{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new _se}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?(Vl(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new w7e(this.backendInstance),!0}setupRegisteredKernels(){_O(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){_O(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof WM)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,o=r.then(i=>s<this.pendingBackendInitId?!1:(this.registry[t]=i,this.pendingBackendInit=null,!0)).catch(i=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Vl(`Initialization of backend ${t} failed`),Vl(i.stack||i.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return Vl(`Initialization of backend ${t} failed`),Vl(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:s,asyncInit:o}=this.initializeBackend(r);if(o||s)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),s=r.backend,o=this.readSync(n),i=s.refCount(n);s.disposeData(n,!0),r.backend=t,t.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(t,n,r){t();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Dw.nextTensorId++}nextVariableId(){return Dw.nextVariableId++}clone(t){const n=ve.runKernel(v2,{x:t}),r={x:t},s=i=>({x:()=>{const a="float32",l={x:i},u={dtype:a};return ve.runKernel(s2,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,o,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(Nk(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const s=this.backend.numDataIds();let o=0;r.forEach(l=>{o+=l.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const s=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const u=J8(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(J8(t)){const{kernelName:p,inputs:g,attrs:m}=t;this.backendName==null&&this.backend;const v=Nk(p,this.backendName);te(v!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),a=()=>{const y=this.backend.numDataIds();l=v.kernelFunc({inputs:g,attrs:m,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,y,b);const w=b.map(C=>C.rank!=null?C:this.makeTensorFromTensorInfo(C));if(s){const C=this.getTensorsForGradient(p,g,w);r=this.saveTensorsForBackwardMode(C)}return w}}else{const{forwardFunc:p}=t,g=m=>{s&&(r=m.map(v=>this.keep(this.clone(v))))};a=()=>{const m=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,g));const v=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,m,v),v}}const{inputs:c,attrs:f}=t,d=J8(t)?null:t.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(u,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const s=hV(t);if(s!=null){const o=s.inputsToSave||[],i=s.outputsToSave||[];let a;s.saveAllInputs?(te(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(u=>n[u])):a=o.map(u=>n[u]);const l=r.filter((u,c)=>i[c]);return a.concat(l)}return[]}makeTensor(t,n,r,s){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let o=t;r==="string"&&Lf(t[0])&&(o=t.map(l=>Uf(l)));const i=s.write(o,n,r),a=new Mr(n,r,i,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(i),u=L1e(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return a}makeTensorFromDataId(t,n,r,s){r=r||"float32";const o={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,s)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:s,dtype:o}=t,i=new Mr(s,o,r,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(t,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==t.dtype&&(t=t.cast(s));const o=new Dk(t,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*Ek(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof Dk||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*Ek(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,s,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:o},l=hV(t);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],h=qo(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),s(u.length>1?u:u[0],o,i))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=Rq(t),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const i=this.state.activeScope.track[o];!i.kept&&!r.has(i.id)&&i.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===s.id&&this.track(o)})}gradients(t,n,r,s=!1){if(te(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));te(o instanceof Mr,()=>"The result y returned by f() must be a tensor.");const i=S7e(this.state.activeTape,n,o);if(!s&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=r??O7e(o.shape),$7e(a,i,u=>this.tidy(u),R7e);const l=n.map(u=>a[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(t){return te(um(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{te(n.every(a=>a instanceof Mr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const o=(a,l)=>(r=t(...n,l),te(r.value instanceof Mr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),te(um(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),i=(a,l)=>{const u=r.gradFunc(a,l),c=Array.isArray(u)?u:[u];te(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),te(c.every(d=>d instanceof Mr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,h)=>{f[h]=()=>d}),f};return this.runKernelFunc({forwardFunc:o,backwardsFunc:i,inputs:s})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=Fi(),r=await this.backend.time(t);return r.wallMs=Fi()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new _se;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Dw.nextTensorId=0;Dw.nextVariableId=0;function O7e(e){const t=jM(je(e),"float32");return ve.makeTensor(t,e,"float32")}function sye(){const e=U1e();if(e._tfengine==null){const t=new W1e(e);e._tfengine=new Dw(t)}return e7e(e._tfengine.ENV),_7e(()=>e._tfengine),e._tfengine}const ve=sye();function R7e(e,t){const n={a:e,b:t};return ve.runKernel(ay,n)}function F7e(){return typeof navigator<"u"&&navigator!=null}let wV;function M7e(e){wV=e}function Fq(e){if(wV!==void 0)return wV;if(e||F7e()){if(e||(e=navigator),e.product==="ReactNative")return!0;const t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){const n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function Mq(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const P7e=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:Mq,isMobile:Fq,mockIsMobile:M7e},Symbol.toStringTag,{value:"Module"}));const Ra=Pe();Ra.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ra.registerFlag("IS_BROWSER",()=>Mq());Ra.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ra.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ra.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ra.registerFlag("PROD",()=>!1);Ra.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ra.getBool("DEBUG"));Ra.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ra.registerFlag("IS_TEST",()=>!1);Ra.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ra.getBool("DEBUG"));Ra.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ra.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ra.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function ad(e,t){let n=e;if(go(e))return t==="string"?[]:[e.length];if(eye(e)){const s=e.channels||"RGBA";return[e.height,e.width*s.length]}else if(tye(e))return[e.buffer.size/(t==null?4:Ek(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||go(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&Pe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&oye(e,r,[]),r}function oye(e,t,n){if(n=n||[],!Array.isArray(e)&&!go(e)){te(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}te(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),te(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let s=0;s<e.length;++s)oye(e[s],r,n.concat(s))}function Tse(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function re(e,t,n,r="numeric"){if(e instanceof qe())return Tse(r,e.dtype,t,n),e;let s=oy(e);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),Tse(r,s,t,n),e==null||!go(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=ad(e,s);!go(e)&&!Array.isArray(e)&&(e=[e]);const a=s!=="string"?e0(e,s):id(e,[],!0);return ve.makeTensor(a,o,s)}function Ok(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((o,i)=>re(o,`${t}[${i}]`,n,r))}const iye="__op";function be(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+iye;const s=(...o)=>{ve.startScope(n);try{const i=r(...o);return HM(i)&&console.error("Cannot return a Promise inside of tidy."),ve.endScope(i),i}catch(i){throw ve.endScope(null),i}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}function L7e(e,t){const n=re(e,"real","complex"),r=re(t,"imag","complex");Zo(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ve.runKernel(JM,s)}const cm=be({complex_:L7e});function t0(e,t,n,r){if(r==null)r=oy(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(tye(e)||eye(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ve.backend.createTensorFromGPUData(e,t||n,r)}if(!go(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){Il(t);const s=je(t),o=je(n);te(s===o,()=>`Based on the provided shape, [${t}], the tensor should have ${s} values but has ${o}`);for(let i=0;i<n.length;++i){const a=n[i],l=i===n.length-1?a!==je(t.slice(i)):!0;te(n[i]===t[i]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!go(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?e0(e,r):id(e,[],!0),ve.makeTensor(e,t,r)}function qv(e,t,n){const r=ad(e,n);return t0(e,t,r,n)}const g1={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Xc{static join(t){return new Xc(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>go(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const s=t[r];r!==t.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+s.byteLength;this.shards.push({buffer:s,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const s=n-t,o=new ArrayBuffer(s),i=new Uint8Array(o);let a=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=t+a-u.start,d=a,p=Math.min(n,u.end)-u.start,g=new Uint8Array(u.buffer,f,p-f);if(i.set(g,d),a+=g.length,n<u.end)break}return o}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(s){return t<s.start?-1:t>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=B7e(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function B7e(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,o=t(e[s]);if(o===0)return s;o<0?r=s:n=s+1}return-1}function z7e(){Pe().set("PROD",!0)}function V7e(){Pe().set("DEBUG",!0)}function W7e(){Pe().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function U7e(e){Pe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function j7e(){ve.disposeVariables()}function uc(){return ve}function xV(){return ve.memory()}function H7e(e){return ve.profile(e)}function Le(e,t){return ve.tidy(e,t)}function Yn(e){Rq(e).forEach(n=>n.dispose())}function Ta(e){return ve.keep(e)}function q7e(e){return ve.time(e)}function G7e(e){return ve.setBackend(e)}function K7e(){return ve.ready()}function aye(){return ve.backendName}function Y7e(e){ve.removeBackend(e)}function X7e(e){return ve.findBackend(e)}function Z7e(e){return ve.findBackendFactory(e)}function Pq(e,t,n=1){return ve.registerBackend(e,t,n)}function Lq(){return ve.backend}function J7e(e,t){Pe().setPlatform(e,t)}const fm=4;async function CV(e,t){const n=[],r=[],s=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);for(let i=0;i<s.length;++i){const a=s[i],l=Array.isArray(e)?e[i].tensor:e[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),h=d.reduce((m,v)=>m+v.length,0)+fm*d.length,p=new Uint8Array(h);let g=0;for(let m=0;m<d.length;m++){const v=d[m],y=new Uint8Array(new Uint32Array([v.length]).buffer);p.set(y,g),g+=fm,p.set(v,g),g+=v.length}f(p)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const o=await Promise.all(r);return{data:nVe(o),specs:n}}function lye(e,t){const n=new Xc(e),r={};let s=0;for(const o of t){const i=Q7e(o,(a,l)=>n.slice(s+a,s+l));r[o.name]=uye(o,n.slice(s,s+i)),s+=i}return r}function Q7e(e,t){const n=je(e.shape);let r;if("quantization"in e){const s=e.quantization;r=g1[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=fm+new Uint32Array(t(s,s+fm))[0];return s}else r=g1[e.dtype];return n*r}async function eVe(e,t){const n=je(e.shape);let r;if("quantization"in e){const s=e.quantization;r=g1[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=fm+new Uint32Array(await t(s,s+fm))[0];return s}else r=g1[e.dtype];return n*r}function uye(e,t){const n=e.name,r=e.dtype,s=e.shape,o=je(s);let i,a=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=g1[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){i=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=d*l.scale+l.min}}else if(l.dtype==="float16")i=lVe()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);i=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*u}else if(r==="string"){const l=je(e.shape);i=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(a,a+fm))[0];a+=fm;const f=new Uint8Array(t.slice(a,a+c));i.push(f),a+=c}}else{const l=g1[r];if(r==="float32")i=new Float32Array(t);else if(r==="int32")i=new Int32Array(t);else if(r==="bool")i=new Uint8Array(t);else if(r==="complex64"){i=new Float32Array(t);const u=new Float32Array(i.length/2),c=new Float32Array(i.length/2);for(let p=0;p<u.length;p++)u[p]=i[p*2],c[p]=i[p*2+1];const f=qv(u,s,"float32"),d=qv(c,s,"float32"),h=cm(f,d);return f.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*l}return qv(i,s,r)}async function Ase(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:s,value:o}=await e.read();if(s&&o==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function tVe(e,t){const n={},r=e.getReader();let s=new ArrayBuffer(0);for(const o of t){const i=await eVe(o,async(u,c)=>(s=await Ase(r,s,c),s.slice(u,c)));s=await Ase(r,s,i);const a=s.slice(0,i);s=s.slice(i);const l=uye(o,a);if(n[o.name]=l,aye()==="webgpu"){const u=Lq();"uploadToGPU"in u&&je(l.shape)>=Pe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function nVe(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(o=>{if(t+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(t);let s=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),s),s+=o.byteLength}),r.buffer}const Bq=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Ise(e){return Bq?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function rVe(e){if(Bq)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function sVe(e){if(Bq){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function cye(e){return Xc.join(e)}function Nse(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const n=e.split("/");return n[n.length-1]}function fye(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function dye(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function zq(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),dye(e,n,r)}function FT(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:Ise(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:Ise(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new Xc(e.weightData).byteLength}}function SV(e){const t=[];for(const n of e)t.push(...n.weights);return t}function oVe(){const e=n=>{let r=n<<13,s=0;for(;(r&8388608)===0;)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function iVe(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function aVe(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function lVe(){const e=oVe(),t=iVe(),n=aVe();return r=>{const s=new ArrayBuffer(4*r.length),o=new Uint32Array(s);for(let i=0;i<r.length;i++){const a=r[i],l=e[n[a>>10]+(a&1023)]+t[a>>10];o[i]=l}return new Float32Array(s)}}class Cs{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Cs.instance==null&&(Cs.instance=new Cs),Cs.instance}static registerSaveRouter(t){Cs.getInstance().saveRouters.push(t)}static registerLoadRouter(t){Cs.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return Cs.getHandlers(t,"save")}static getLoadHandlers(t,n){return Cs.getHandlers(t,"load",n)}static getHandlers(t,n,r){const s=[];return(n==="load"?Cs.getInstance().loadRouters:Cs.getInstance().saveRouters).forEach(i=>{const a=i(t,r);a!==null&&s.push(a)}),s}}const uVe=e=>Cs.registerSaveRouter(e),cVe=e=>Cs.registerLoadRouter(e),hye=e=>Cs.getSaveHandlers(e),fVe=(e,t)=>Cs.getLoadHandlers(e,t);const $V="tensorflowjs",kV=1,kv="models_store",Ag="model_info_store";function pye(){if(!Pe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function EV(e){const t=e.result;t.createObjectStore(kv,{keyPath:"modelPath"}),t.createObjectStore(Ag,{keyPath:"modelPath"})}class m1{constructor(t){if(this.indexedDB=pye(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,s)=>{const o=this.indexedDB.open($V,kV);o.onupgradeneeded=()=>EV(o),o.onsuccess=()=>{const i=o.result;if(n==null){const a=i.transaction(kv,"readonly"),u=a.objectStore(kv).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return i.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(i.close(),s(u.error)),a.oncomplete=()=>i.close()}else{n.weightData=Xc.join(n.weightData);const a=FT(n),l=i.transaction(Ag,"readwrite");let u=l.objectStore(Ag),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let f;c.onsuccess=()=>{f=i.transaction(kv,"readwrite");const d=f.objectStore(kv);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(p){return s(p)}h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=p=>{u=l.objectStore(Ag);const g=u.delete(this.modelPath);g.onsuccess=()=>(i.close(),s(h.error)),g.onerror=m=>(i.close(),s(h.error))}},c.onerror=d=>(i.close(),s(c.error)),l.oncomplete=()=>{f==null?i.close():f.oncomplete=()=>i.close()}}},o.onerror=i=>s(o.error)})}}m1.URL_SCHEME="indexeddb://";const gye=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(m1.URL_SCHEME)?dVe(e.slice(m1.URL_SCHEME.length)):null;Cs.registerSaveRouter(gye);Cs.registerLoadRouter(gye);function dVe(e){return new m1(e)}function hVe(e){return e.startsWith(m1.URL_SCHEME)?e.slice(m1.URL_SCHEME.length):e}class pVe{constructor(){this.indexedDB=pye()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open($V,kV);r.onupgradeneeded=()=>EV(r),r.onsuccess=()=>{const s=r.result,o=s.transaction(Ag,"readonly"),a=o.objectStore(Ag).getAll();a.onsuccess=()=>{const l={};for(const u of a.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},a.onerror=l=>(s.close(),n(a.error)),o.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(t){return t=hVe(t),new Promise((n,r)=>{const s=this.indexedDB.open($V,kV);s.onupgradeneeded=()=>EV(s),s.onsuccess=()=>{const o=s.result,i=o.transaction(Ag,"readwrite"),a=i.objectStore(Ag),l=a.get(t);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=a.delete(t),f=()=>{u=o.transaction(kv,"readwrite");const h=u.objectStore(kv).delete(t);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),o.close(),r(l.error))}},l.onerror=c=>(o.close(),r(l.error)),i.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},s.onerror=o=>r(s.error)})}}const kh="/",Pb="tensorflowjs_models",mye="info",gVe="model_topology",mVe="weight_specs",vVe="weight_data",yVe="model_metadata";function vye(e){return{info:[Pb,e,mye].join(kh),topology:[Pb,e,gVe].join(kh),weightSpecs:[Pb,e,mVe].join(kh),weightData:[Pb,e,vVe].join(kh),modelMetadata:[Pb,e,yVe].join(kh)}}function yye(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function bVe(e){const t=e.split(kh);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(kh)}function wVe(e){return e.startsWith(v1.URL_SCHEME)?e.slice(v1.URL_SCHEME.length):e}class v1{constructor(t){if(!Pe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=vye(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),s=FT(t),o=Xc.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,rVe(o));const i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw yye(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=sVe(i),n}}v1.URL_SCHEME="localstorage://";const bye=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v1.URL_SCHEME)?xVe(e.slice(v1.URL_SCHEME.length)):null;Cs.registerSaveRouter(bye);Cs.registerLoadRouter(bye);function xVe(e){return new v1(e)}class CVe{constructor(){te(Pe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),te(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=Pb+kh,r=kh+mye;for(let s=0;s<this.LS.length;++s){const o=this.LS.key(s);if(o.startsWith(n)&&o.endsWith(r)){const i=bVe(o);t[i]=JSON.parse(this.LS.getItem(o))}}return t}async removeModel(t){t=wVe(t);const n=vye(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return yye(n),r}}const ow="://";class Mi{constructor(){this.managers={}}static getInstance(){return Mi.instance==null&&(Mi.instance=new Mi),Mi.instance}static registerManager(t,n){te(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(ow)&&(t=t.slice(0,t.indexOf(ow))),te(t.length>0,()=>"scheme must not be an empty string.");const r=Mi.getInstance();te(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=Mi.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(Mi.getInstance().managers)}}function JD(e){if(e.indexOf(ow)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Mi.getSchemes().join(",")}`);return{scheme:e.split(ow)[0],path:e.split(ow)[1]}}async function wye(e,t,n=!1){te(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=Cs.getLoadHandlers(e);te(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),te(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);const s=r[0],o=Cs.getSaveHandlers(t);te(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),te(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);const i=o[0],a=JD(e).scheme,l=JD(e).path,u=a===JD(e).scheme,c=await s.load();n&&u&&await Mi.getManager(a).removeModel(l);const f=await i.save(c);return n&&!u&&await Mi.getManager(a).removeModel(l),f.modelArtifactsInfo}async function SVe(){const e=Mi.getSchemes(),t={};for(const n of e){const r=await Mi.getManager(n).listModels();for(const s in r){const o=n+ow+s;t[o]=r[s]}}return t}async function $Ve(e){const t=JD(e);return Mi.getManager(t.scheme).removeModel(t.path)}async function kVe(e,t){return wye(e,t,!1)}async function EVe(e,t){return wye(e,t,!0)}class _Ve{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!Pe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return G1e(t)}}if(Pe().get("IS_BROWSER")){Pe().setPlatform("browser",new _Ve);try{Mi.registerManager(v1.URL_SCHEME,new CVe)}catch{}try{Mi.registerManager(m1.URL_SCHEME,new pVe)}catch{}}const TVe={importFetch:()=>require("node-fetch")};let Q8;class AVe{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return Pe().global.fetch!=null?Pe().global.fetch(t,n):(Q8==null&&(Q8=TVe.importFetch()),Q8(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}Pe().get("IS_NODE")&&!Pe().get("IS_BROWSER")&&Pe().setPlatform("node",new AVe);function Wn(e,t="float32",n){return t=t||"float32",Il(e),new Xs(e,t,n)}function IVe(e,t){const n=re(e,"x","cast");if(!P1e(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return ve.runKernel(s2,r,s)}const At=be({cast_:IVe});function NVe(e){const n={x:re(e,"x","clone","string_or_numeric")};return ve.runKernel(v2,n)}const Xg=be({clone_:NVe});function xye(e,t=!1){console.log(e.toString(t))}sye();const DVe={buffer:Wn,cast:At,clone:Xg,print:xye};T7e(DVe);function OVe(e,t){let n=re(e,"a","add"),r=re(t,"b","add");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(ay,s)}const mt=be({add_:OVe});function RVe(e,t){let n=re(e,"a","floorDiv"),r=re(t,"b","floorDiv");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(g2,s)}const Vq=be({floorDiv_:RVe});function FVe(e,t){let n=re(e,"a","div"),r=re(t,"b","div");if([n,r]=_s(n,r),n.dtype==="int32"&&r.dtype==="int32")return Vq(n,r);const s={a:n,b:r},o={};return ve.runKernel(u2,s,o)}const an=be({div_:FVe});function MVe(e,t){let n=re(e,"a","mul"),r=re(t,"b","mul");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(E2,s)}const we=be({mul_:MVe});function PVe(e){const t=re(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return ve.runKernel(z_,n)}else{const n={x:t};return ve.runKernel(N_,n)}}const eo=be({abs_:PVe});function LVe(e){const n={x:re(e,"x","acos")};return ve.runKernel(Zx,n)}const Cye=be({acos_:LVe});function BVe(e){const n={x:re(e,"x","acosh")};return ve.runKernel(Jx,n)}const Sye=be({acosh_:BVe});function zVe(e){te(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),te(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);const t=e.map((s,o)=>re(s,`tensors${o}`,"addN")),n=t[0];t.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(s=>{if(!ir(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return ve.runKernel(D_,r)}const VVe=be({addN_:zVe});function WVe(e,t=null,n=!1){const s={x:re(e,"x","all","bool")},o={axis:t,keepDims:n};return ve.runKernel(qM,s,o)}const Wq=be({all_:WVe});function UVe(e,t=null,n=!1){const s={x:re(e,"x","any","bool")},o={axis:t,keepDims:n};return ve.runKernel(GM,s,o)}const TO=be({any_:UVe});function jVe(e,t=0){const r={x:re(e,"x","argMax")},s={axis:t};return ve.runKernel(O_,r,s)}const Ow=be({argMax_:jVe});function HVe(e,t=0){const r={x:re(e,"x","argMin")},s={axis:t};return ve.runKernel(R_,r,s)}const $ye=be({argMin_:HVe});function qVe(e){const n={x:re(e,"x","asin")};return ve.runKernel(Qx,n)}const kye=be({asin_:qVe});function GVe(e){const n={x:re(e,"x","asinh")};return ve.runKernel(e2,n)}const Eye=be({asinh_:GVe});function KVe(e){const n={x:re(e,"x","atan")};return ve.runKernel(t2,n)}const _ye=be({atan_:KVe});function YVe(e,t){let n=re(e,"a","atan2"),r=re(t,"b","atan2");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(r2,s)}const Tye=be({atan2_:YVe});function XVe(e){const n={x:re(e,"x","atanh")};return ve.runKernel(n2,n)}const Aye=be({atanh_:XVe});function MT(e,t,n,r,s="NHWC",o){const i=e[3],a=[...t,i],l=Tp(s);return To(e,a,n,o,r,null,null,l)}function Yu(e,t,n,r,s,o,i="channelsLast"){const[a,l]=Rk(t);let u;if(i==="channelsLast")u=[a,l,e[3],e[3]];else if(i==="channelsFirst")u=[a,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return To(e,u,n,r,s,o,!1,i)}function _p(e,t,n,r,s,o,i="NDHWC"){const[a,l,u]=_V(t);let c,f;if(i==="NDHWC")f="channelsLast",c=[a,l,u,e[4],e[4]];else if(i==="NCDHW")f="channelsFirst",c=[a,l,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return n0(e,c,n,r,s,!1,f,o)}function To(e,t,n,r,s,o,i=!1,a="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,f]=e;else if(a==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,p]=t,[g,m]=Rk(n),[v,y]=Rk(r),b=iw(d,v),w=iw(h,y),{padInfo:C,outHeight:S,outWidth:$}=QVe(s,u,c,g,m,b,w,o,a),k=i?p*f:p;let T;return a==="channelsFirst"?T=[l,k,S,$]:a==="channelsLast"&&(T=[l,S,$,k]),{batchSize:l,dataFormat:a,inHeight:u,inWidth:c,inChannels:f,outHeight:S,outWidth:$,outChannels:k,padInfo:C,strideHeight:g,strideWidth:m,filterHeight:d,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:v,dilationWidth:y,inShape:e,outShape:T,filterShape:t}}function n0(e,t,n,r,s,o=!1,i="channelsLast",a){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[l,u,c,f,d]=e;else if(i==="channelsFirst")[l,d,u,c,f]=e;else throw new Error(`Unknown dataFormat ${i}`);const[h,p,g,,m]=t,[v,y,b]=_V(n),[w,C,S]=_V(r),$=iw(h,w),k=iw(p,C),T=iw(g,S),{padInfo:_,outDepth:E,outHeight:A,outWidth:I}=eWe(s,u,c,f,v,y,b,$,k,T,a),F=o?m*d:m;let R;return i==="channelsFirst"?R=[l,F,E,A,I]:i==="channelsLast"&&(R=[l,E,A,I,F]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:E,outHeight:A,outWidth:I,outChannels:F,padInfo:_,strideDepth:v,strideHeight:y,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:g,effectiveFilterDepth:$,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:w,dilationHeight:C,dilationWidth:S,inShape:e,outShape:R,filterShape:t}}function ZVe(e,t,n,r,s){r==null&&(r=Uq(e,t,n));const o=e[0],i=e[1],a=Fk((o-t+2*r)/n+1,s),l=Fk((i-t+2*r)/n+1,s);return[a,l]}function JVe(e,t,n,r,s,o){s==null&&(s=Uq(e,t[0],r[0]));const i=[0,0,0,n];for(let a=0;a<3;a++)e[a]+2*s>=t[a]&&(i[a]=Fk((e[a]-t[a]+2*s)/r[a]+1,o));return i}function Uq(e,t,n,r=1){const s=iw(t,r);return Math.floor((e[0]*(n-1)-n+s)/2)}function Rk(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function _V(e){return typeof e=="number"?[e,e,e]:e}function iw(e,t){return t<=1?e:e+(e-1)*(t-1)}function QVe(e,t,n,r,s,o,i,a,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const h=ZVe([t,n],o,r,e,a);c=h[0],f=h[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/s);const d=Math.max(0,(c-1)*r+o-t),h=Math.max(0,(f-1)*s+i-n),p=Math.floor(d/2),g=d-p,m=Math.floor(h/2),v=h-m;u={top:p,bottom:g,left:m,right:v,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),f=Math.ceil((n-i+1)/s);else if(typeof e=="object"){const d=l==="channelsLast"?e[1][0]:e[2][0],h=l==="channelsLast"?e[1][1]:e[2][1],p=l==="channelsLast"?e[2][0]:e[3][0],g=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:h,left:p,right:g,type:d===0&&h===0&&p===0&&g===0?"VALID":"EXPLICIT"},c=Fk((t-o+d+h)/r+1,a),f=Fk((n-i+p+g)/s+1,a)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function eWe(e,t,n,r,s,o,i,a,l,u,c){let f,d,h,p;if(e==="valid"&&(e=0),typeof e=="number"){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};const m=JVe([t,n,r,1],[a,l,u],1,[s,o,i],e,c);d=m[0],h=m[1],p=m[2]}else if(e==="same"){d=Math.ceil(t/s),h=Math.ceil(n/o),p=Math.ceil(r/i);const g=(d-1)*s+a-t,m=(h-1)*o+l-n,v=(p-1)*i+u-r,y=Math.floor(g/2),b=g-y,w=Math.floor(m/2),C=m-w,S=Math.floor(v/2),$=v-S;f={top:w,bottom:C,left:S,right:$,front:y,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}function Fk(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function dm(e){const[t,n,r]=Rk(e);return t===1&&n===1&&r===1}function Jo(e,t){return dm(e)||dm(t)}function y1(e){return Rk(e).every(t=>t>0)}function Tp(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function ua(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")te(p1(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(s=>{te(p1(s),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}function tWe(e,t){const r={x:re(e,"x","reshape","string_or_numeric")},s={shape:t};return ve.runKernel(wT,r,s)}const _e=be({reshape_:tWe});function nWe(e,t,n,r,s){const o=re(e,"x","avgPool","float32"),i=1;te(Jo(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let a=o,l=!1;o.rank===3&&(l=!0,a=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),ua("avgPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let f=ve.runKernel(F_,u,c);return f=At(f,o.dtype),l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const Q4=be({avgPool_:nWe});function rWe(e,t,n,r,s,o="NDHWC"){const i=re(e,"x","avgPool3d","float32");let a=i,l=!1;i.rank===4&&(l=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),te(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),te(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),ua("avgPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o};let f=ve.runKernel(M_,u,c);return f=At(f,a.dtype),l?_e(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const Iye=be({avgPool3d_:rWe});function sWe(e,t=0){te(e.length>=1,()=>"Pass at least one tensor to concat");const n=Ok(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return Xg(n[0]);const r=n,s={axis:t};return ve.runKernel(V_,r,s)}const xo=be({concat_:sWe});function oWe(e,t,n=!1,r=!1){let s=re(e,"a","matMul"),o=re(t,"b","matMul");[s,o]=_s(s,o);const i={a:s,b:o},a={transposeA:n,transposeB:r};return ve.runKernel(P_,i,a)}const Kn=be({matMul_:oWe});function iWe(e){const n={x:re(e,"x","sigmoid","float32")};return ve.runKernel(P2,n)}const jf=be({sigmoid_:iWe});function aWe(e,t,n){const r=re(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},o={begin:t,size:n};return ve.runKernel(kT,s,o)}const hr=be({slice_:aWe});function lWe(e){const n={x:re(e,"x","tanh","float32")};return ve.runKernel(U2,n)}const b1=be({tanh_:lWe});function uWe(e,t,n,r,s,o){const i=re(e,"forgetBias","basicLSTMCell"),a=re(t,"lstmKernel","basicLSTMCell"),l=re(n,"lstmBias","basicLSTMCell"),u=re(r,"data","basicLSTMCell"),c=re(s,"c","basicLSTMCell"),f=re(o,"h","basicLSTMCell"),d=xo([u,f],1),h=Kn(d,a),p=mt(h,l),g=p.shape[0],m=p.shape[1]/4,v=[g,m],y=hr(p,[0,0],v),b=hr(p,[0,m],v),w=hr(p,[0,m*2],v),C=hr(p,[0,m*3],v),S=mt(we(jf(y),b1(b)),we(c,jf(mt(i,w)))),$=we(b1(S),jf(C));return[S,$]}const cWe=be({basicLSTMCell_:uWe});function fWe(e,t,n){const r=re(e,"x","batchToSpaceND"),s=t.reduce((a,l)=>a*l);te(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),te(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),te(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`);const o={x:r},i={blockShape:t,crops:n};return ve.runKernel(L_,o,i)}const eP=be({batchToSpaceND_:fWe});function dWe(e){let t;return e.rank===0||e.rank===1?t=_e(e,[1,1,1,e.size]):e.rank===2?t=_e(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}function hWe(e,t,n,r,s,o){o==null&&(o=.001);const i=re(e,"x","batchNorm"),a=re(t,"mean","batchNorm"),l=re(n,"variance","batchNorm");let u;s!=null&&(u=re(s,"scale","batchNorm"));let c;r!=null&&(c=re(r,"offset","batchNorm")),te(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:dWe(i),scale:u,offset:c,mean:a,variance:l},h={varianceEpsilon:o},p=ve.runKernel(X_,d,h);return _e(p,i.shape)}const PT=be({batchNorm_:hWe});function pWe(e,t,n,r,s,o){const i=re(e,"x","batchNorm"),a=re(t,"mean","batchNorm"),l=re(n,"variance","batchNorm");let u;s!=null&&(u=re(s,"scale","batchNorm"));let c;return r!=null&&(c=re(r,"offset","batchNorm")),te(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),te(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),te(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Nye=be({batchNorm2d_:pWe});function gWe(e,t,n,r,s,o){const i=re(e,"x","batchNorm"),a=re(t,"mean","batchNorm"),l=re(n,"variance","batchNorm");let u;s!=null&&(u=re(s,"scale","batchNorm"));let c;return r!=null&&(c=re(r,"offset","batchNorm")),te(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),te(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),te(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Dye=be({batchNorm3d_:gWe});function mWe(e,t,n,r,s,o){const i=re(e,"x","batchNorm"),a=re(t,"mean","batchNorm"),l=re(n,"variance","batchNorm");let u;s!=null&&(u=re(s,"scale","batchNorm"));let c;return r!=null&&(c=re(r,"offset","batchNorm")),te(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),te(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),te(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Oye=be({batchNorm4d_:mWe});function vWe(e,t,n){const r=re(e,"x","bincount"),s=re(t,"weights","bincount");te(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),te(n>=0,()=>`size must be non-negative, but got ${n}.`),te(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const o={x:r,weights:s},i={size:n};return ve.runKernel(XM,o,i)}const Rye=be({bincount_:vWe});function yWe(e,t){const n=re(e,"x","bitwiseAnd"),r=re(t,"y","bitwiseAnd");if(!ir(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return ve.runKernel(B_,s)}const bWe=be({bitwiseAnd_:yWe});function wWe(e,t){const n=re(e,"s0","broadcastArgs","int32"),r=re(t,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return ve.runKernel(ZM,s)}const xWe=be({broadcastArgs_:wWe});function CWe(e,t){let n=re(e,"broadcastTo","x");const r=n.shape;if(Il(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=_e(n,u)}const s=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(s[u]===t[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Xg(n);const a={x:n},l={reps:o};return ve.runKernel(j2,a,l)}const aw=be({broadcastTo_:CWe});function SWe(e){const n={x:re(e,"x","ceil","float32")};return ve.runKernel(o2,n)}const Fye=be({ceil_:SWe});function q2(e,t,n){Il(e),n=n||oy(t);const r={shape:e,value:t,dtype:n};return ve.runKernel(h4,{},r)}function $We(e,t,n){const r=re(e,"x","clipByValue");if(te(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return q2(r.shape,t,r.dtype);const s={x:r},o={clipValueMin:t,clipValueMax:n};return ve.runKernel(i2,s,o)}const yl=be({clipByValue_:$We});function kWe(e){return xo(e,0)}const Mye=be({concat1d_:kWe});function EWe(e,t){return xo(e,t)}const Pye=be({concat2d_:EWe});function _We(e,t){return xo(e,t)}const Lye=be({concat3d_:_We});function TWe(e,t){return xo(e,t)}const Bye=be({concat4d_:TWe});function AWe(e,t,n,r,s="NHWC",o=[1,1],i){const a=re(e,"x","conv2d","float32"),l=re(t,"filter","conv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),te(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),ua("conv2d",r,i);const f=s==="NHWC"?u.shape[3]:u.shape[1];te(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),te(Jo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),te(y1(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},p=ve.runKernel(W_,d,h);return c?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const hm=be({conv2d_:AWe});function IWe(e,t,n,r,s="NWC",o=1,i){const a=re(e,"x","conv1d"),l=re(t,"filter","conv1d");let u=a,c=!1;a.rank===2&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1]])),te(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),te(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),ua("conv1d",r,i),te(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),te(Jo(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),te(y1(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv1D: Stride should be larger than 0."),te(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=_e(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=_e(u,[u.shape[0],1,u.shape[1],u.shape[2]]),m=hm(d,f,[1,n],r,"NHWC",[1,o],i);return c?_e(m,[m.shape[2],m.shape[3]]):_e(m,[m.shape[0],m.shape[2],m.shape[3]])}const jq=be({conv1d_:IWe});function NWe(e,t,n,r,s,o="NHWC",i){te(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let a=e,l=t,u=!1;t.rank===3&&(u=!0,l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]),a=[1,e[0],e[1],e[2]]),te(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),te(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),te(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?a[3]:a[1],f=o==="NHWC"?l.shape[3]:l.shape[1];te(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),te(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),ua("conv2dDerInput",s,i);const d={dy:l,filter:n},h={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,inputShape:a},p=ve.runKernel(U_,d,h);return u?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Hq=be({conv2DBackpropInput_:NWe});function DWe(e,t,n,r,s,o){const i=re(e,"x","conv2dTranspose"),a=re(t,"filter","conv2dTranspose");return Hq(n,i,a,r,s,"NHWC",o)}const qq=be({conv2dTranspose_:DWe});function OWe(e,t,n,r,s="NDHWC",o=[1,1,1]){const i=re(e,"x","conv3d"),a=re(t,"filter","conv3d");let l=i,u=!1;i.rank===4&&(u=!0,l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),te(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),te(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),te(Jo(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),te(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),te(y1(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:a},f={strides:n,pad:r,dataFormat:s,dilations:o},d=ve.runKernel(j_,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const zye=be({conv3d_:OWe});function RWe(e,t,n,r,s){te(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,i=t,a=!1;t.rank===4&&(a=!0,i=_e(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=i.shape[4];te(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),te(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),te(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),te(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),te(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:i,filter:n},f={pad:s,strides:r,inputShape:o},d=ve.runKernel(t4,c,f);return a?_e(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Vye=be({conv3DBackpropInput_:RWe});function FWe(e,t,n,r,s){const o=re(e,"x","conv3dTranspose"),i=re(t,"filter","conv3dTranspose");return Vye(n,o,i,r,s)}const Wye=be({conv3dTranspose_:FWe});function MWe(e){const n={x:re(e,"x","cos","float32")};return ve.runKernel(a2,n)}const tP=be({cos_:MWe});function PWe(e){const n={x:re(e,"x","cosh","float32")};return ve.runKernel(l2,n)}const Gq=be({cosh_:PWe});function LWe(e,t=0,n=!1,r=!1){const o={x:re(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return ve.runKernel(n4,o,i)}const AO=be({cumprod_:LWe});function BWe(e,t=0,n=!1,r=!1){const o={x:re(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return ve.runKernel(H_,o,i)}const Kq=be({cumsum_:BWe});function zWe(e,t,n,r=!1){const s=re(e,"x","denseBincount"),o=re(t,"weights","denseBincount");te(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),te(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),te(n>=0,()=>`size must be non-negative, but got ${n}.`),te(o.size===s.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${o.shape}.`);const i={x:s,weights:o},a={size:n,binaryOutput:r};return ve.runKernel(s4,i,a)}const TV=be({denseBincount_:zWe});function VWe(e,t,n="NHWC"){const r=re(e,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];te(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),te(s*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${t}  for depthToSpace with input shape
    ${r.shape}`),te(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${t} for depthToSpace with input shape
        ${r.shape}`),te(i%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:t,dataFormat:n};return ve.runKernel(o4,a,l)}const Uye=be({depthToSpace_:VWe});function WWe(e,t,n,r,s="NHWC",o=[1,1],i){const a=re(e,"x","depthwiseConv2d","float32"),l=re(t,"filter","depthwiseConv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),te(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];te(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),ua("depthwiseConv2d",r,i);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},p=ve.runKernel(q_,d,h);return c?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const LT=be({depthwiseConv2d_:WWe});function UWe(e){const n={x:re(e,"x","diag")};return ve.runKernel(l4,n)}const jWe=be({diag_:UWe});function HWe(e,t,n,r,s=[1,1],o="NHWC"){const i=re(e,"x","dilation2d"),a=re(t,"filter","dilation2d");te(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),te(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),te(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=i,u=!1;i.rank===3&&(l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),te(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const c={x:l,filter:a},f={strides:n,pad:r,dilations:s},d=ve.runKernel(G_,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const jye=be({dilation2d_:HWe});function w1(e,t){const n=e.length,r=[];for(let s=0;s<n;s++){const o=n-1-s,i=e[o]||1;(t[t.length-1-s]||1)>1&&i===1&&r.unshift(o)}return r}function Zs(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],o=t.length-r-1,i=t[o];(s==null||s===1&&i>1)&&n.unshift(o)}return n}function Dn(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let o=e[e.length-s-1];o==null&&(o=1);let i=t[t.length-s-1];if(i==null&&(i=1),o===1)r[n-s-1]=i;else if(i===1)r[n-s-1]=o;else if(o!==i){const a=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(a)}else r[n-s-1]=o}return r}const qWe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:Dn,getBroadcastDims:w1,getReductionAxes:Zs},Symbol.toStringTag,{value:"Module"}));function GWe(e,t){let n=re(e,"a","equal","string_or_numeric"),r=re(t,"b","equal","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(K_,s)}const Pc=be({equal_:GWe});function KWe(e,t,n){const r=re(t,"a","where"),s=re(n,"b","where"),o=re(e,"condition","where","bool"),i=Dn(Dn(o.shape,r.shape),s.shape),a=aw(o,i),l=aw(r,i),u=aw(s,i),c={condition:a,t:l,e:u};return ve.runKernel($T,c)}const mi=be({where_:KWe});function YWe(e){const n={x:re(e,"x","zerosLike")};return ve.runKernel(OT,n)}const cr=be({zerosLike_:YWe});function XWe(e,t){let n=re(e,"a","div"),r=re(t,"b","div");[n,r]=_s(n,r);const s=an(n,r),o=cr(s),i=Pc(r,o);return mi(i,o,s)}const Hye=be({divNoNan_:XWe});function ZWe(e,t){const n=re(e,"t1","dot"),r=re(t,"t2","dot");te((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(te(s===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${o}.`),n.rank===1&&r.rank===1){const i=_e(n,[1,-1]),a=_e(r,[-1,1]),l=Kn(i,a);return _e(l,[])}else if(n.rank===1&&r.rank===2){const i=_e(n,[1,-1]),a=_e(r,[r.shape[0],r.shape[1]]),l=Kn(i,a);return _e(l,[l.size])}else if(n.rank===2&&r.rank===1){const i=_e(r,[-1,1]),a=Kn(n,i);return _e(a,[a.size])}else{const i=_e(r,[r.shape[0],r.shape[1]]);return Kn(n,i)}}const qye=be({dot_:ZWe});function JWe(e,...t){const n=t.map((s,o)=>re(s,`tensors${o}`,"einsum")),r={equation:e};return ve.runKernel(c4,n,r)}const Lb=be({einsum_:JWe});function QWe(e){const n={x:re(e,"x","elu","float32")};return ve.runKernel(c2,n)}const BT=be({elu_:QWe});function eUe(e,t){const n=re(e,"x","ensureShape","string_or_numeric");if(!F1e(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}const tUe=be({ensureShape_:eUe});function nUe(e){let t=re(e,"x","erf");te(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=At(t,"float32"));const n={x:t};return ve.runKernel(f2,n)}const Yq=be({erf_:nUe});function Xq(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Gye(e,t,n){const r=e.length+t.length,s=[];let o=0,i=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(e[o++]):s.push(t[i++]);return s}function Ao(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)t.indexOf(o)===-1&&n.push(e[o]);const s=t.map(o=>e[o]);return[n,s]}function Us(e,t){const n=t.map(r=>1);return Gye(e,n,t)}function Qo(e,t,n){te(Xq(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function As(e,t){if(Xq(e,t))return null;const n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function r0(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function Hs(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}function rUe(e,t=null,n=!1){const s={x:re(e,"x","max")},o={reductionIndices:t,keepDims:n};return ve.runKernel(iT,s,o)}const Du=be({max_:rUe});function sUe(e,t=null,n=!1){const s={x:re(e,"x","min")},o={axis:t,keepDims:n};return ve.runKernel(cT,s,o)}const Mk=be({min_:sUe});function oUe(e,t){let n=re(e,"base","pow"),r=re(t,"exp","pow");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(_2,s)}const sp=be({pow_:oUe});function Sn(e,t){if((go(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&go(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return t0(e,[],[],t)}function iUe(e){const n={x:re(e,"x","sqrt","float32")};return ve.runKernel(B2,n)}const Go=be({sqrt_:iUe});function aUe(e){const t=re(e,"x","square"),n={};return ve.runKernel("Square",{x:t},n)}const Kr=be({square_:aUe});function lUe(e,t=null,n=!1){let r=re(e,"x","sum");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return ve.runKernel(ET,s,o)}const Qt=be({sum_:lUe});function uUe(e,t="euclidean",n=null,r=!1){e=re(e,"x","norm");const s=Kye(e,t,n);let o=s.shape;if(r){const i=qn(n,e.shape);o=Us(s.shape,i)}return _e(s,o)}function Kye(e,t,n=null){if(e.rank===0)return eo(e);if(e.rank!==1&&n===null)return Kye(_e(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return Qt(eo(e),n);if(t===1/0)return Du(eo(e),n);if(t===-1/0)return Mk(eo(e),n);if(t==="euclidean"||t===2)return Go(Qt(sp(eo(e),Sn(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return Du(Qt(eo(e),n[0]),n[1]-1);if(t===1/0)return Du(Qt(eo(e),n[1]),n[0]);if(t===-1/0)return Mk(Qt(eo(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Go(Qt(Kr(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const zT=be({norm_:uUe});function cUe(e,t=null,n=!1){return zT(e,"euclidean",t,n)}const Yye=be({euclideanNorm_:cUe});function fUe(e){const n={x:re(e,"x","exp")};return ve.runKernel(d2,n)}const bl=be({exp_:fUe});function dUe(e,t=0){const n=re(e,"x","expandDims","string_or_numeric");te(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:t};return ve.runKernel(Y_,r,s)}const zi=be({expandDims_:dUe});function hUe(e){const n={x:re(e,"x","expm1")};return ve.runKernel(h2,n)}const Xye=be({expm1_:hUe});function pUe(e,t){const n=re(e,"x","tile","string_or_numeric");te(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},s={reps:t};return ve.runKernel(j2,r,s)}const wu=be({tile_:pUe});function gUe(e,t,n,r="float32"){t==null&&(t=e);const s=Wn([e,t],r),o=e<=t?e:t;for(let a=0;a<o;++a)s.set(1,a,a);const i=_e(s.toTensor(),[e,t]);if(n==null)return i;if(n.length===1)return wu(zi(i,0),[n[0],1,1]);if(n.length===2)return wu(zi(zi(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return wu(zi(zi(zi(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Zq=be({eye_:gUe});function mUe(e){const n={x:re(e,"x","floor","float32")};return ve.runKernel(p2,n)}const VT=be({floor_:mUe});function vUe(e,t,n=0,r=0){const s=re(e,"x","gather"),o=re(t,"indices","gather","int32"),i={x:s,indices:o},a={axis:n,batchDims:r};return ve.runKernel(Z_,i,a)}const WT=be({gather_:vUe});function yUe(e,t){let n=re(e,"a","greater","string_or_numeric"),r=re(t,"b","greater","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(J_,s)}const Dl=be({greater_:yUe});function bUe(e,t){let n=re(e,"a","greaterEqual","string_or_numeric"),r=re(t,"b","greaterEqual","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(m2,s)}const s0=be({greaterEqual_:bUe});function wUe(e){const n={input:re(e,"input","imag")};return ve.runKernel(v4,n)}const nP=be({imag_:wUe});function xUe(e){const n={x:re(e,"x","isFinite")};return ve.runKernel(y2,n)}const Zye=be({isFinite_:xUe});function CUe(e){const n={x:re(e,"x","isInf")};return ve.runKernel(b2,n)}const Jye=be({isInf_:CUe});function SUe(e){const n={x:re(e,"x","isNaN")};return ve.runKernel(w2,n)}const Qye=be({isNaN_:SUe});function $Ue(e,t=.2){const r={x:re(e,"x","leakyRelu")},s={alpha:t};return ve.runKernel(Q_,r,s)}const rP=be({leakyRelu_:$Ue});function kUe(e,t){let n=re(e,"a","less","string_or_numeric"),r=re(t,"b","less","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(eT,s)}const Pk=be({less_:kUe});function EUe(e,t){let n=re(e,"a","lessEqual","string_or_numeric"),r=re(t,"b","lessEqual","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(tT,s)}const uy=be({lessEqual_:EUe});function _Ue(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return ve.runKernel(y4,{},r)}function TUe(e,t=5,n=1,r=1,s=.5){const o=re(e,"x","localResponseNormalization");te(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),te(p1(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let i=o,a=!1;o.rank===3&&(a=!0,i=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:s},c=ve.runKernel(oT,l,u);return a?_e(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const ebe=be({localResponseNormalization_:TUe});function AUe(e){const n={x:re(e,"x","log","float32")};return ve.runKernel(x2,n)}const tu=be({log_:AUe});function IUe(e){const n={x:re(e,"x","log1p")};return ve.runKernel(C2,n)}const sP=be({log1p_:IUe});function NUe(e){return te(um(e),()=>"The f passed in grad(f) must be a function"),(t,n)=>{const r=re(t,"x","tf.grad","string_or_numeric"),s=n!=null?re(n,"dy","tf.grad"):null;return ve.tidy(()=>{const{value:o,grads:i}=ve.gradients(()=>e(r),[r],s);return s!=null&&Zo(o.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),oP(i),i[0]})}}function DUe(e){return te(um(e),()=>"The f passed in grads(f) must be a function"),(t,n)=>{te(Array.isArray(t),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=Ok(t,"args","tf.grads","string_or_numeric"),s=n!=null?re(n,"dy","tf.grads"):null;return ve.tidy(()=>{const{value:o,grads:i}=ve.gradients(()=>e(...r),r,s);return s!=null&&Zo(o.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),oP(i),i})}}function OUe(e){return te(um(e),()=>"The f passed in valueAndGrad(f) must be a function"),(t,n)=>{te(t instanceof Mr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),te(n==null||n instanceof Mr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=ve.gradients(()=>e(t),[t],n);return oP(r),{grad:r[0],value:s}}}function RUe(e){return te(um(e),()=>"The f passed in valueAndGrads(f) must be a function"),(t,n)=>{te(Array.isArray(t)&&t.every(s=>s instanceof Mr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),te(n==null||n instanceof Mr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=ve.gradients(()=>e(...t),t,n);return n!=null&&Zo(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),oP(r.grads),r}}function tbe(e,t){te(um(e),()=>"The f passed in variableGrads(f) must be a function"),te(t==null||Array.isArray(t)&&t.every(u=>u instanceof Dk),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in ve.registeredVariables)t.push(ve.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,s=t.length;t=t.filter(u=>u.trainable),te(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const o=!0,{value:i,grads:a}=ve.gradients(e,t,null,o);te(a.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),te(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const l={};return t.forEach((u,c)=>{a[c]!=null&&(l[u.name]=a[c])}),r?.forEach(u=>l[u.name]=null),{value:i,grads:l}}function ld(e){return ve.customGrad(e)}function oP(e){if(e.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function FUe(e){const n={x:re(e,"x","neg")};return ve.runKernel(dT,n)}const as=be({neg_:FUe});function MUe(e){const n={x:re(e,"x","softplus")};return ve.runKernel(L2,n)}const G2=be({softplus_:MUe});function PUe(e){const t=re(e,"x","logSigmoid");return ld(r=>({value:as(G2(as(r))),gradFunc:i=>we(i,jf(as(r)))}))(t)}const nbe=be({logSigmoid_:PUe});function LUe(e,t){let n=re(e,"a","sub"),r=re(t,"b","sub");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(V2,s)}const qt=be({sub_:LUe});function BUe(e,t=-1){const n=re(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return ld((s,o)=>{const a=Du(s,t,!0),l=qt(s,a),u=qt(At(l,"float32"),tu(Qt(bl(l),t,!0)));return o([u]),{value:u,gradFunc:(f,d)=>{const[h]=d,p=!0,g=bl(h);return qt(f,we(Qt(f,t,p),g))}}})(n)}const Jq=be({logSoftmax_:BUe});function zUe(e,t=null,n=!1){const r=re(e,"x","logSumExp"),s=qn(t,r.shape),o=Du(r,s,!0),i=qt(r,o),a=bl(i),l=Qt(a,s),u=tu(l),c=mt(_e(o,u.shape),u);if(n){const f=Us(c.shape,s);return _e(c,f)}return c}const iP=be({logSumExp_:zUe});function VUe(e,t){const n=re(e,"a","logicalAnd","bool"),r=re(t,"b","logicalAnd","bool");Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(nT,s)}const ud=be({logicalAnd_:VUe});function WUe(e){const n={x:re(e,"x","logicalNot","bool")};return ve.runKernel(rT,n)}const aP=be({logicalNot_:WUe});function UUe(e,t){const n=re(e,"a","logicalOr","bool"),r=re(t,"b","logicalOr","bool");Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(sT,s)}const Qq=be({logicalOr_:UUe});function jUe(e,t){const n=re(e,"a","logicalXor","bool"),r=re(t,"b","logicalXor","bool");return Dn(n.shape,r.shape),ud(Qq(e,t),aP(ud(e,t)))}const rbe=be({logicalXor_:jUe});const HI=2147483648;function HUe(e,t,n="left"){const r=re(e,"sortedSequence","searchSorted"),s=re(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=s.shape[s.shape.length-1],a=_e(r,[-1,o]),l=_e(s,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(je(l.shape)>=HI)throw new Error(`values tensor size must less than ${HI}`);if(a.shape[1]>=HI)throw new Error(`trailing dim_size must less than ${HI} for int32 output type, was ${a.shape[1]}`);const u={sortedSequence:a,values:l},c={side:n};return ve.runKernel(M4,u,c)}const eG=be({searchSorted_:HUe});function qUe(e,t){return eG(e,t,"left")}function GUe(e,t,n,r,s){const o=re(e,"x","maxPool"),i=1;let a=o,l=!1;o.rank===3&&(l=!0,a=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),te(Jo(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ua("maxPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s},f=ve.runKernel(aT,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const lP=be({maxPool_:GUe});function KUe(e,t=[1,1,1],n,r,s,o="NDHWC"){const i=re(e,"x","maxPool3d");let a=i,l=!1;i.rank===4&&(l=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),te(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),ua("maxPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o},f=ve.runKernel(lT,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const sbe=be({maxPool3d_:KUe});function YUe(e,t,n,r,s=!1){const i={x:re(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:s},l=ve.runKernel(C4,i,a);return{result:l[0],indexes:l[1]}}const XUe=be({maxPoolWithArgmax_:YUe});function ZUe(e,t){let n=re(e,"a","maximum"),r=re(t,"b","maximum");[n,r]=_s(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(S2,s)}const Ap=be({maximum_:ZUe});function JUe(e,t=null,n=!1){const s={x:re(e,"x","mean")},o={axis:t,keepDims:n};return ve.runKernel(uT,s,o)}const Ns=be({mean_:JUe});function no(e,t="float32"){if(Il(e),t==="complex64"){const r=no(e,"float32"),s=no(e,"float32");return cm(r,s)}const n=qo(je(e),t);return ve.makeTensor(n,e,t)}function il(e,t="float32"){if(Il(e),t==="complex64"){const r=il(e,"float32"),s=no(e,"float32");return cm(r,s)}const n=jM(je(e),t);return ve.makeTensor(n,e,t)}function QUe(e,t,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(e===void 0)return[];let r=re(e,"x","meshgrid",e instanceof Mr?e.dtype:"float32");if(t===void 0)return[r];let s=re(t,"y","meshgrid",t instanceof Mr?t.dtype:"float32");const o=je(r.shape),i=je(s.shape);return n==="xy"?(r=_e(r,[1,-1]),s=_e(s,[-1,1]),[Kn(il([i,1],r.dtype),r),Kn(s,il([1,o],s.dtype))]):(r=_e(r,[-1,1]),s=_e(s,[1,-1]),[Kn(r,il([1,i],r.dtype)),Kn(il([o,1],s.dtype),s)])}function eje(e,t){let n=re(e,"a","minimum"),r=re(t,"b","minimum");[n,r]=_s(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel($2,s)}const x1=be({minimum_:eje});function tje(e,t,n){te(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=re(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");te(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)te(t[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),te(t[a][0]>=0&&t[a][0]<=r.shape[a]-s&&t[a][1]>=0&&t[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const o={paddings:t,mode:n},i={x:r};return ve.runKernel(fT,i,o)}const obe=be({mirrorPad_:tje});function nje(e,t){let n=re(e,"a","mod"),r=re(t,"b","mod");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(k2,s)}const ibe=be({mod_:nje});function rje(e,t=null,n=!1){e=re(e,"x","moments");const r=qn(t,e.shape),s=Ns(e,r,n);let o=s.shape;n||(o=Us(s.shape,r));const i=Kr(qt(At(e,"float32"),_e(s,o))),a=Ns(i,r,n);return{mean:s,variance:a}}const uP=be({moments_:rje});function sje(e,t,n,r){const s=re(t,"data","multiRNNCell"),o=Ok(n,"c","multiRNNCell"),i=Ok(r,"h","multiRNNCell");let a=s;const l=[];for(let f=0;f<e.length;f++){const d=e[f](a,o[f],i[f]);l.push(d[0]),l.push(d[1]),a=d[1]}const u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}const oje=be({multiRNNCell_:sje});function ije(e,t,n,r=!1){const s=re(e,"logits","multinomial"),o=s.size,i=s.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const l={logits:i===1?_e(s,[1,-1]):s},u={numSamples:t,seed:n,normalized:r},c=ve.runKernel(S4,l,u);return i===1?_e(c,[c.size]):c}const aje=be({multinomial_:ije});function lje(e,t){let n=re(e,"a","notEqual","string_or_numeric"),r=re(t,"b","notEqual","string_or_numeric");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(hT,s)}const Rw=be({notEqual_:lje});function uje(e,t,n=1,r=0,s="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:re(e,"indices","oneHot","int32")},a={dtype:s,depth:t,onValue:n,offValue:r};return ve.runKernel(gT,i,a)}const Lk=be({oneHot_:uje});function cje(e){const n={x:re(e,"x","onesLike")};return ve.runKernel(pT,n)}const nu=be({onesLike_:cje});function fje(e,t){const n=re(e,"v1","outerProduct"),r=re(t,"v2","outerProduct");te(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=_e(n,[-1,1]),o=_e(r,[1,-1]);return Kn(s,o)}const dje=be({outerProduct_:fje});function hje(e,t,n=0){const r=re(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},o={x:r};return ve.runKernel(vT,o,s)}const o0=be({pad_:hje});function pje(e,t,n=0){return te(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),o0(e,[t],n)}const gje=be({pad1d_:pje});function mje(e,t,n=0){return te(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const vje=be({pad2d_:mje});function yje(e,t,n=0){return te(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const bje=be({pad3d_:yje});function wje(e,t,n=0){return te(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const xje=be({pad4d_:wje});function Cje(e,t,n){const r=re(e,"x","spaceToBatchND");te(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),te(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),te(r.shape.reduce((i,a,l)=>l>0&&l<=t.length?i&&(a+n[l-1][0]+n[l-1][1])%t[l-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const s={x:r},o={blockShape:t,paddings:n};return ve.runKernel(_T,s,o)}const cP=be({spaceToBatchND_:Cje});function Sje(e,t,n,r,s,o,i){s==null&&(s=[1,1]),o==null&&(o=1),r===0&&(r="valid");const a=re(e,"x","maxPool");let l=a,u=!1;a.rank===3&&(u=!0,l=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(Jo(o,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${s}'`);const c=Yu(l.shape,t,o,s,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=kje([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const h=f[0]===1&&f[1]===1,[p,g]=$je([c.inHeight,c.inWidth],f,d),m=h?r:"valid",v=h?l:cP(l,f,p),b=(n==="avg"?()=>Q4(v,t,o,m,i):()=>lP(v,t,o,m,i))(),w=h?b:eP(b,f,g);return u?_e(w,[w.shape[1],w.shape[2],w.shape[3]]):w}function $je(e,t,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),o=e.concat(r,s),i=t.map((c,f)=>(c-o[f]%c)%c),a=s.map((c,f)=>c+i[f]),l=t.map((c,f)=>[r[f],a[f]]),u=t.map((c,f)=>[0,i[f]]);return[l,u]}function kje(e,t){const r=e.map((i,a)=>i+(i-1)*(t[a]-1)).map(i=>i-1),s=r.map(i=>Math.floor(i/2)),o=r.map((i,a)=>i-s[a]);return r.map((i,a)=>[s[a],o[a]])}const abe=be({pool_:Sje});function Eje(e,t){const n=re(e,"x","prelu"),r=re(t,"alpha","prelu"),s={x:n,alpha:r};return ve.runKernel(yT,s)}const fP=be({prelu_:Eje});function _je(e,t=null,n=!1){let r=re(e,"x","prod");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return ve.runKernel(bT,s,o)}const lbe=be({prod_:_je});function Tje(e,t,n,r){const s=e.map((c,f)=>re(c,`tensors${f}`,"raggedGather","int32")),o=re(t,"paramsDenseValues","raggedGather"),i=re(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:o,indices:i},l={outputRaggedRank:r},u=ve.runKernel(_4,a,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const Aje=be({raggedGather_:Tje});function Ije(e,t,n){const r=re(e,"starts","raggedRange"),s=re(t,"limits","raggedRange",r.dtype),o=re(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:s,deltas:o},a=ve.runKernel(T4,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Nje=be({raggedRange_:Ije});function Dje(e,t,n,r,s){const o=re(e,"shape","raggedTensorToTensor","int32"),i=re(t,"values","raggedTensorToTensor"),a=re(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map((f,d)=>re(f,`tensors${d}`,"raggedTensorToTensor","int32")),u={shape:o,values:i,defaultValue:a,rowPartitionTensors:l},c={rowPartitionTypes:s};return ve.runKernel(A4,u,c)}const Oje=be({raggedTensorToTensor_:Dje});function Rje(e,t,n){Il(e);const r=je(e);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)s[o]=t();return ve.makeTensor(s,e,n)}const Fje=be({rand_:Rje});var QD={exports:{}},Mje=QD.exports,Dse;function Pje(){return Dse||(Dse=1,(function(e){(function(t,n,r){function s(l){var u=this,c=a();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function i(l,u){var c=new s(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,c),d.state=function(){return o(c,{})}),d}function a(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=i:this.alea=i})(Mje,e)})(QD)),QD.exports}var e3={exports:{}},Lje=e3.exports,Ose;function Bje(){return Ose||(Ose=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor128=i})(Lje,e)})(e3)),e3.exports}var t3={exports:{}},zje=t3.exports,Rse;function Vje(){return Rse||(Rse=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorwow=i})(zje,e)})(t3)),t3.exports}var n3={exports:{}},Wje=n3.exports,Fse;function Uje(){return Fse||(Fse=1,(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorshift7=i})(Wje,e)})(n3)),n3.exports}var r3={exports:{}},jje=r3.exports,Mse;function Hje(){return Mse||(Mse=1,(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,g,m,v=[],y=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,y=Math.max(y,f.length)),p=0,g=-32;g<y;++g)f&&(h^=f.charCodeAt((g+32)%f.length)),g===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(m=m+1640531527|0,d=v[g&127]^=h+m,p=d==0?p+1:0);for(p>=128&&(v[(f&&f.length||0)&127]=-1),p=127,g=512;g>0;--g)h=v[p+34&127],d=v[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,v[p]=h^d;c.w=m,c.X=v,c.i=p}u(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor4096=i})(jje,e)})(r3)),r3.exports}var s3={exports:{}},qje=s3.exports,Pse;function Gje(){return Pse||(Pse=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.tychei=i})(qje,e)})(s3)),s3.exports}var o3={exports:{}};const Kje={},Yje=Object.freeze(Object.defineProperty({__proto__:null,default:Kje},Symbol.toStringTag,{value:"Module"})),Xje=ly(Yje);var Zje=o3.exports,Lse;function Jje(){return Lse||(Lse=1,(function(e){(function(t,n,r){var s=256,o=6,i=52,a="random",l=r.pow(s,o),u=r.pow(2,i),c=u*2,f=s-1,d;function h(w,C,S){var $=[];C=C==!0?{entropy:!0}:C||{};var k=v(m(C.entropy?[w,b(n)]:w??y(),3),$),T=new p($),_=function(){for(var E=T.g(o),A=l,I=0;E<u;)E=(E+I)*s,A*=s,I=T.g(1);for(;E>=c;)E/=2,A/=2,I>>>=1;return(E+I)/A};return _.int32=function(){return T.g(4)|0},_.quick=function(){return T.g(4)/4294967296},_.double=_,v(b(T.S),n),(C.pass||S||function(E,A,I,F){return F&&(F.S&&g(F,T),E.state=function(){return g(T,{})}),I?(r[a]=E,A):E})(_,k,"global"in C?C.global:this==r,C.state)}function p(w){var C,S=w.length,$=this,k=0,T=$.i=$.j=0,_=$.S=[];for(S||(w=[S++]);k<s;)_[k]=k++;for(k=0;k<s;k++)_[k]=_[T=f&T+w[k%S]+(C=_[k])],_[T]=C;($.g=function(E){for(var A,I=0,F=$.i,R=$.j,L=$.S;E--;)A=L[F=f&F+1],I=I*s+L[f&(L[F]=L[R=f&R+A])+(L[R]=A)];return $.i=F,$.j=R,I})(s)}function g(w,C){return C.i=w.i,C.j=w.j,C.S=w.S.slice(),C}function m(w,C){var S=[],$=typeof w,k;if(C&&$=="object")for(k in w)try{S.push(m(w[k],C-1))}catch{}return S.length?S:$=="string"?w:w+"\0"}function v(w,C){for(var S=w+"",$,k=0;k<S.length;)C[f&k]=f&($^=C[f&k]*19)+S.charCodeAt(k++);return b(C)}function y(){try{var w;return d&&(w=d.randomBytes)?w=w(s):(w=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(w)),b(w)}catch{var C=t.navigator,S=C&&C.plugins;return[+new Date,t,S,t.screen,b(n)]}}function b(w){return String.fromCharCode.apply(0,w)}if(v(r.random(),n),e.exports){e.exports=h;try{d=Xje}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:Zje,[],Math)})(o3)),o3.exports}var e5,Bse;function Qje(){if(Bse)return e5;Bse=1;var e=Pje(),t=Bje(),n=Vje(),r=Uje(),s=Hje(),o=Gje(),i=Jje();return i.alea=e,i.xor128=t,i.xorwow=n,i.xorshift7=r,i.xor4096=s,i.tychei=o,e5=i,e5}var dP=Qje();const eHe=.001,ube=.1;function tHe(e,t,n){return n==null&&(n=tG()),AV(e,t,(r,s)=>nG(r,s,n))}function tG(){return ve.backend.floatPrecision()===32?eHe:ube}function AV(e,t,n){let r=!0;if((go(e)||go(t))&&(r=!1),go(e)&&go(t)&&(r=!0),r){const i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error(`Arrays are of different type. Actual: ${i}. Expected: ${a}`)}if(Array.isArray(e)&&Array.isArray(t)){const i=ad(e),a=ad(t);if(!ir(i,a))throw new Error(`Arrays have different shapes. Actual: [${i}]. Expected: [${a}]`)}const s=go(e)?e:id(e),o=go(t)?t:id(t);if(s.length!==o.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${o.length}.
Actual:   ${s}.
Expected: ${o}.`);for(let i=0;i<o.length;++i){const a=s[i],l=o[i];if(!n(a,l))throw new Error(`Arrays differ: actual[${i}] = ${a}, expected[${i}] = ${l}.
Actual:   ${s}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function nHe(e,t){e().then(()=>t.fail(),()=>t()),typeof expect<"u"&&expect().nothing()}function rHe(e,t){const n=typeof t=="string"||typeof t=="number"||typeof t=="boolean"?[t]:t;return Lf(e)||Lf(e[0])||Lf(t)||Lf(t[0])?AV(e,n,(r,s)=>r==s):AV(e,t,(r,s)=>nG(r,s,0))}function sHe(e,t,n){if(n==null&&(n=tG()),!nG(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`);typeof expect<"u"&&expect().nothing()}function nG(e,t,n){return!isFinite(e)&&!isFinite(t)?!0:!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function oHe(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function iHe(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function cbe(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?cbe(n):e[t]=Uf(n)}return e}function aHe(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise(n=>{t.addEventListener("loadeddata",r=>n(t)),t.load()})}async function lHe(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise(t=>{e.requestVideoFrameCallback(t)})}const uHe=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:ube,createVideoElement:aHe,encodeStrings:cbe,expectArrayBuffersEqual:iHe,expectArraysClose:tHe,expectArraysEqual:rHe,expectNumbersClose:sHe,expectPromiseToFail:nHe,expectValuesInRange:oHe,play:lHe,testEpsilon:tG},Symbol.toStringTag,{value:"Module"}));class rG{constructor(t,n,r,s,o){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=o||Math.random();this.random=dP.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let t,n,r=!1;for(;!r;){let s,o,i;do s=2*this.random()-1,o=2*this.random()-1,i=s*s+o*o;while(i>=1||i===0);const a=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class cHe{constructor(t,n,r,s){this.alpha=t,this.beta=1/n,this.dtype=r;const o=s||Math.random();this.randu=dP.alea(o.toString()),this.randn=new rG(0,1,r,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,n,r,s,o,i;for(;;){do s=this.randn.nextValue(),i=1+this.c*s;while(i<=0);if(i*=i*i,t=s*s,n=1-.331*t*t,r=.5*t+this.d*(1-i+Math.log(i)),o=this.randu(),o<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(t){return this.dtype==="float32"?t:Math.round(t)}}class fHe{constructor(t=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=dP.alea(s)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function dHe(e,t,n=1,r="float32",s){if(Il(e),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new cHe(t,n,r,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const hHe=be({randomGamma_:dHe});function pHe(e,t=0,n=1,r,s){if(Il(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new rG(t,n,r,!1,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const sG=be({randomNormal_:pHe});function gHe(e,t,n){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return sG(e,0,1,t,n)}const mHe=be({randomStandardNormal_:gHe});function vHe(e,t=0,n=1,r="float32",s){Il(e);const o=Wn(e,r),i=new fHe(t,n,null,s);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const cy=be({randomUniform_:vHe});function yHe(e,t,n,r){return cy(e,t,n,"int32",r)}const bHe=be({randomUniformInt_:yHe});function Fw(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return ve.runKernel(I4,{},s)}function wHe(e){const n={input:re(e,"input","real")};return ve.runKernel(N4,n)}const Bk=be({real_:wHe});function xHe(e){const n={x:re(e,"x","reciprocal")};return ve.runKernel(T2,n)}const fbe=be({reciprocal_:xHe});function CHe(e){const n={x:re(e,"x","relu")};return ve.runKernel(A2,n)}const Dd=be({relu_:CHe});function SHe(e){const n={x:re(e,"x","relu6")};return ve.runKernel(I2,n)}const oG=be({relu6_:SHe});function $He(e,t){const r={x:re(e,"x","reverse")},s={dims:t};return ve.runKernel(ST,r,s)}const Mu=be({reverse_:$He});function kHe(e){const t=re(e,"x","reverse");return te(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Mu(t,0)}const EHe=be({reverse1d_:kHe});function _He(e,t){const n=re(e,"x","reverse");return te(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Mu(n,t)}const THe=be({reverse2d_:_He});function AHe(e,t){const n=re(e,"x","reverse");return te(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Mu(n,t)}const IHe=be({reverse3d_:AHe});function NHe(e,t){const n=re(e,"x","reverse");return te(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Mu(n,t)}const DHe=be({reverse4d_:NHe});function OHe(e){const n={x:re(e,"x","round")};return ve.runKernel(N2,n)}const iG=be({round_:OHe});function RHe(e){const n={x:re(e,"x","rsqrt","float32")};return ve.runKernel(D2,n)}const aG=be({rsqrt_:RHe});function FHe(e){const n={x:re(e,"x","selu")};return ve.runKernel(O2,n)}const lG=be({selu_:FHe});function MHe(e,t,n,r,s,o=[1,1],i="NHWC"){const a=re(e,"x","separableConv2d"),l=re(t,"depthwiseFilter","separableConv2d"),u=re(n,"pointwiseFilter","separableConv2d");let c=a,f=!1;if(a.rank===3&&(f=!0,c=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");te(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),te(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),te(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),te(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),te(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],h=l.shape[3];te(u.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`);const p=LT(c,l,r,s,i,o),m=hm(p,u,1,"valid",i);return f?_e(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const uG=be({separableConv2d_:MHe});async function PHe(e,t){const n=re(e,"x","setdiff1d"),r=re(t,"y","setdiff1d");te(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),te(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),te(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),o=await r.data(),i=new Set(o);let a=0;for(let c=0;c<s.length;c++)i.has(s[c])||a++;const l=new Xs([a],n.dtype),u=new Xs([a],"int32");for(let c=0,f=0;c<s.length;c++)i.has(s[c])||(l.values[f]=s[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]}const LHe=PHe;function BHe(e){const n={x:re(e,"x","sign")};return ve.runKernel(M2,n)}const dbe=be({sign_:BHe});function zHe(e){const n={x:re(e,"x","sin","float32")};return ve.runKernel(R2,n)}const cG=be({sin_:zHe});function VHe(e){const n={x:re(e,"x","sinh")};return ve.runKernel(F2,n)}const fG=be({sinh_:VHe});function WHe(e,t,n){const r=re(e,"x","slice1d");return te(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),hr(r,[t],[n])}const hP=be({slice1d_:WHe});function UHe(e,t,n){const r=re(e,"x","slice2d");return te(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const dG=be({slice2d_:UHe});function jHe(e,t,n){const r=re(e,"x","slice3d");return te(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const pP=be({slice3d_:jHe});function HHe(e,t,n){const r=re(e,"x","slice4d");return te(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const zk=be({slice4d_:HHe});function qHe(e,t=-1){const n=re(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return ve.runKernel(AT,r,s)}const gP=be({softmax_:qHe});function GHe(e){te(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return ve.runKernel(d4,t)}const mP=be({fft_:GHe});function KHe(e){te(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return ve.runKernel(m4,t)}const Vk=be({ifft_:KHe});function YHe(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=_e(e,[n,t]);r=Vk(s)}else{const s=[n,2*(t-1)],o=_e(Bk(e),[n,t]),i=_e(nP(e),[n,t]),a=Mu(hr(o,[0,1],[n,t-2]),1),l=we(Mu(hr(i,[0,1],[n,t-2]),1),Sn(-1)),u=xo([o,a],1),c=xo([i,l],1),f=_e(cm(u,c),[s[0],s[1]]);r=Vk(f)}if(r=Bk(r),e.rank===3&&e.shape[0]!==0){const s=r,o=e.shape[0];r=_e(r,[o,r.shape[0]/o,r.shape[1]]),s.dispose()}return r}const hG=be({irfft_:YHe});function XHe(e,t,n=0){const s={x:re(e,"x","split")},o={numOrSizeSplits:t,axis:n};return ve.runKernel(TT,s,o)}const dl=be({split_:XHe});function ZHe(e,t){te(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(t!=null&&t<n){const p=e.shape.map(m=>0),g=e.shape.map(m=>m);g[e.shape.length-1]=t,s=hr(e,p,g),n=t}else if(t!=null&&t>n){const p=e.shape.map(g=>g);p[e.shape.length-1]=t-n,s=xo([e,no(p)],e.shape.length-1),n=t}else s=e;const o=cr(s),i=_e(cm(s,o),[r,n]),a=mP(i),l=Math.floor(n/2)+1,u=Bk(a),c=nP(a),f=dl(u,[l,n-l],u.shape.length-1),d=dl(c,[l,n-l],c.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,_e(cm(f[0],d[0]),h)}const vP=be({rfft_:ZHe});function JHe(e,t){let n=re(e,"a","squaredDifference"),r=re(t,"b","squaredDifference");[n,r]=_s(n,r),Dn(n.shape,r.shape);const s={a:n,b:r},o={};return ve.runKernel(z2,s,o)}const pG=be({squaredDifference_:JHe});function QHe(e,t){const n=re(e,"x","squeeze","string_or_numeric");return _e(n,kp(n.shape,t).newShape)}const fy=be({squeeze_:QHe});function eqe(e,t=0){const n=Ok(e,"tensors","stack","string_or_numeric");te(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&te(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:t};return ve.runKernel(mT,r,s)}const cd=be({stack_:eqe});function tqe(e,t=0){const r={x:re(e,"x","step")},s={alpha:t};return ve.runKernel(H2,r,s)}const K2=be({step_:tqe});function nqe(e,t,n,r,s=0,o=0,i=0,a=0,l=0){const c={x:re(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:r,beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};return ve.runKernel(U4,c,f)}const hbe=be({stridedSlice_:nqe});function rqe(e){const n={x:re(e,"x","tan","float32")};return ve.runKernel(W2,n)}const pbe=be({tan_:rqe});function qi(e,t){sy(e);const n=ad(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return t0(e,null,n,t)}function Zg(e,t,n){if(sy(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=ad(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return t0(e,t,r,n)}function gbe(e,t,n){if(sy(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=ad(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function sqe(e,t,n){if(sy(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=ad(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function oqe(e,t,n){if(sy(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=ad(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function iqe(e,t,n){if(sy(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=ad(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,t0(e,t,r,n)}function gG(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(o+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(o+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(o+` update.rank != ${s+e.length-r}`);for(let i=0;i<s;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-s;++i)if(n.shape[i+s]!==e[i+r])throw new Error(o+` updates.shape[${i+s}] (${n.shape[i+s]}) != shape[${i+s}] (${e[i+s]})`)}function yP(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}gG(n,t,e)}function i0(e,t,n){const r=t.shape.length,s=r>1?t.shape[r-1]:1,o=n.length;let i=1;for(let f=s;f<o;++f)i*=n[f];const a=s<1?1:s,l=je(t.shape)/a,u=[...fn(n.slice(0,s)),1],c=je(n);return{sliceRank:s,numUpdates:l,sliceSize:i,strides:u,outputSize:c}}const aqe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:i0,validateInput:yP,validateUpdateShape:gG},Symbol.toStringTag,{value:"Module"}));function lqe(e,t,n){const r=re(e,"tensor","tensorScatterupdate"),s=re(t,"indices","tensorScatterupdate","int32"),o=re(n,"updates","tensorScatterupdate");if(yP(o,s,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const i={tensor:r,indices:s,updates:o},a={};return ve.runKernel(F4,i,a)}const uqe=be({tensorScatterUpdate_:lqe});function cqe(e,t=1,n=!0){const r=re(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const o={x:r},i={k:t,sorted:n},[a,l]=ve.runKernel(G4,o,i);return{values:a,indices:l}}const mbe=be({topk_:cqe});function fqe(e,t=0,n=1,r,s){if(Il(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new rG(t,n,r,!0,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const mG=be({truncatedNormal_:fqe});function dqe(e,t=0){const n=re(e,"x","unique","string_or_numeric");te(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:t},[o,i]=ve.runKernel(Y4,r,s);return{values:o,indices:i}}const vbe=be({unique_:dqe});function hqe(e,t,n){const r=re(e,"x","unsortedSegmentSum"),s=re(t,"segmentIds","unsortedSegmentSum","int32");te(p1(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:s},i={numSegments:n};return ve.runKernel(DT,o,i)}const vG=be({unsortedSegmentSum_:hqe});function pqe(e,t=0){const n=re(e,"x","unstack","string_or_numeric");te(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:t};return ve.runKernel(NT,r,s)}const pm=be({unstack_:pqe});function gqe(e,t){return eG(e,t,"right")}function ybe(e,t=!0,n,r){return ve.makeVariable(e,t,n,r)}function bP(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Wn(e,"int32"),s=Wn([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const i=r.indexToLoc(n[o]),a=o*e.length;s.values.set(i,a)}return s.toTensor()}async function mqe(e){const t=re(e,"condition","whereAsync","bool"),n=await t.data(),r=bP(t.shape,n);return e!==t&&t.dispose(),r}const bbe=mqe;async function vqe(e,t,n){const r=re(e,"tensor","boolMask"),s=re(t,"mask","boolMask","bool"),o=n??0,i=s.rank,a=r.shape;te(i>0,()=>"mask cannot be scalar"),Zo(a.slice(o,o+i),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let g=o;g<o+i;g++)l*=a[g];const u=a.slice(0,o).concat([l],a.slice(o+i)),c=_e(r,u),f=_e(s,[-1]),d=await bbe(f),h=fy(d,[1]),p=WT(c,h,o);return e!==r&&r.dispose(),t!==s&&s.dispose(),h.dispose(),c.dispose(),f.dispose(),d.dispose(),p}const yqe=vqe;function bqe(e,t,n){const r=re(e,"x","transpose");if(t==null&&(t=r.shape.map((i,a)=>a).reverse()),te(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(i=>{te(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const s={x:r},o={perm:t};return r.dtype==="complex64"?Le(()=>{let i=Bk(r),a=nP(r);return i=ve.runKernel(Hv,{x:i},o),a=ve.runKernel(Hv,{x:a},o),n&&(a=as(a)),cm(i,a)}):ve.runKernel(Hv,s,o)}const rr=be({transpose_:bqe});function wqe(e,t,n,r,s=!0){const o=re(e,"v","movingAverage"),i=re(t,"x","movingAverage"),a=re(n,"decay","movingAverage");nye(o,i),te(ir(o.shape,i.shape),()=>"Shape mismatch in v and x");const l=Sn(1),u=qt(l,a);let c=we(qt(i,o),u);if(s){te(r!=null,()=>"When using zeroDebias: true, step is required.");const f=re(r,"step","movingAverage");c=an(c,qt(l,sp(a,f)))}return mt(o,c)}const xqe=be({movingAverage_:wqe});function Cqe(e,t,n){Il(n);const r=re(e,"indices","scatterND","int32"),s=re(t,"updates","scatterND");yP(s,r,n);const o={indices:r,updates:s},i={shape:n};return ve.runKernel(R4,o,i)}const Sqe=be({scatterND_:Cqe});function $qe(e,t,n,r){if(e.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const s=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const i=t.size;if(!(t.rank===0||t.rank===1&&i===s))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${s}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function kqe(e,t,n,r=0){Il(n);const s=re(e,"sparseIndices","sparseToDense","int32"),o=re(t,"sparseValues","sparseToDense","string_or_numeric"),i=re(r,"defaultValue","sparseToDense",o.dtype);$qe(s,o,n,i);const a={sparseIndices:s,sparseValues:o,defaultValue:i},l={outputShape:n};return ve.runKernel(V4,a,l)}const Eqe=be({sparseToDense_:kqe});function _qe(e,t){const n=re(t,"indices","gatherND","int32"),s={params:re(e,"x","gatherND","string_or_numeric"),indices:n};return ve.runKernel(g4,s)}const Tqe=be({gatherND_:_qe});function Aqe(e,t){if(t==null)return e.shape.slice();if(ir(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}function Iqe(e,t,n,r){const s=re(e,"x","dropout");if(te(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),te(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof Mr?s.clone():s;const o=Aqe(s,n),i=1-t,a=an(VT(mt(cy(o,0,1,"float32",r),i)),i);return we(s,a)}const wbe=be({dropout_:Iqe});function xbe(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function yG(e,t,n){const r=1-e%2,s=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+r-1);s[o]=t-n*Math.cos(i)}return qi(s,"float32")}async function Nqe(e,t,n=1){const r=re(e,"predictions","inTopK"),s=re(t,"targets","inTopK");te(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),te(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Zo(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];te(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const i=await r.data(),a=await s.data(),[l,u]=[i.length/o,o],c=Eo("bool",l);for(let f=0;f<l;f++){const d=f*u,h=i.subarray(d,d+u),p=[];for(let g=0;g<h.length;g++)p.push({value:h[g],index:g});p.sort((g,m)=>m.value-g.value),c[f]=0;for(let g=0;g<n;g++)if(p[g].index===a[f]){c[f]=1;break}}return e!==r&&r.dispose(),t!==s&&s.dispose(),qv(c,s.shape,"bool")}const Dqe=Nqe;function Oqe(e,t,n,r,s,o="NHWC",i){let a=e;e.rank===3&&(a=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]])),te(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),te(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),te(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?a.shape[3]:a.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];te(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),te(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),ua("conv2dDerFilter",s,i);const f={x:a,dy:l},d={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,filterShape:n};return ve.runKernel(QM,f,d)}const bG=be({conv2DBackpropFilter_:Oqe});function wP(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return we(e,K2(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function xP(e,t){let n=t;const r=Zs(e.shape,t.shape);return r.length>0&&(n=Qt(n,r)),_e(n,e.shape)}function CP(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Dd(e);if(t==="elu")return BT(e);if(t==="relu6")return oG(e);if(t==="prelu")return fP(e,n);if(t==="leakyrelu")return rP(e,r);if(t==="sigmoid")return jf(e);throw new Error(`Unknown fused activation ${t}.`)}const SP=(e,t)=>!(e>0)||t==="linear";function Rqe({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",SP(ve.state.gradientDepth,l)===!1){te(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=hm(e,t,n,r,s,o,i);return a!=null&&(S=mt(S,a)),CP(S,l,u,c)}const f=re(e,"x","conv2d","float32"),d=re(t,"filter","conv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=_e(f,[1,f.shape[0],f.shape[1],f.shape[2]])),te(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),te(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),ua("fused conv2d",r,i);const g=s==="NHWC"?h.shape[3]:h.shape[1];te(d.shape[2]===g,()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${d.shape[2]}.`),te(Jo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const m=To(h.shape,d.shape,n,o,r,i);let v;a!=null&&(v=re(a,"bias","fused conv2d"),[v]=_s(v,f),s==="NHWC"?Dn(m.outShape,v.shape):(te(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),te(v.shape.length===0||v.shape[0]===m.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${m.outChannels})`)));let y;if(u!=null){const S=u.shape;if(te(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)te(S[0]===1||S[0]===m.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${m.outChannels}).`);else if(S.length===3)try{Dn(S,m.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${m.outShape}).`;throw Error(k)}y=re(u,"prelu weights","fused conv2d")}const b=(S,$)=>{te(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[k,T,_,E]=$,A=wP(S,_,l);te(dm(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const I=Hq(T.shape,A,k,n,r),F=bG(T,A,k.shape,n,r),R=[I,F];if(E!=null){const L=xP(E,A);R.push(L)}return R},w={x:h,filter:d,bias:v,preluActivationWeights:y},C={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?ld(($,k,T)=>{let _=ve.runKernel(Tk,w,C);return T([k,$,_]),p&&(_=_e(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:b}})(h,d):ld(($,k,T,_)=>{let E=ve.runKernel(Tk,w,C);return _([k,$,E,T]),p&&(E=_e(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:b}})(h,d,v)}const Cbe=be({fusedConv2d_:Rqe});function Fqe(e,t,n,r,s,o=[1,1],i){let a=e;e.rank===3&&(a=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:a,dy:l},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,filterShape:n};return ve.runKernel(i4,u,c)}const Sbe=be({depthwiseConv2dNativeBackpropFilter_:Fqe});function Mqe(e,t,n,r,s,o=[1,1],i){let a=t,l=!1;t.rank===3&&(l=!0,a=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,inputShape:e},f=ve.runKernel(a4,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const $be=be({depthwiseConv2dNativeBackpropInput_:Mqe});function Pqe({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(SP(ve.state.gradientDepth,l)===!1){let C=LT(e,t,n,r,s,o,i);return a!=null&&(C=mt(C,a)),CP(C,l,u,c)}const f=re(e,"x","depthwiseConv2d","float32"),d=re(t,"filter","depthwiseConv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=_e(f,[1,f.shape[0],f.shape[1],f.shape[2]])),te(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),te(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),te(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),o==null&&(o=[1,1]),te(Jo(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),ua("fused depthwiseConv2d",r,i);const g=To(h.shape,d.shape,n,o,r,i,!0);let m;a!=null&&(m=re(a,"bias","fused conv2d"),[m]=_s(m,f),Dn(g.outShape,m.shape));let v;u!=null&&(v=re(u,"prelu weights","fused depthwiseConv2d"));const y=(C,S)=>{te(dm(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[$,k,T,_]=S,E=wP(C,T,l),A=$be(k.shape,E,$,n,r,o,i),I=Sbe(k,E,$.shape,n,r,o,i);if(_!=null){const F=xP(m,E);return[A,I,F]}return[A,I]},b={x:h,filter:d,bias:m,preluActivationWeights:v},w={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?ld((S,$,k)=>{let T=ve.runKernel(Ak,b,w);return k([$,S,T]),p&&(T=_e(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:y}})(h,d):ld((S,$,k,T)=>{let _=ve.runKernel(Ak,b,w);return T([$,S,_,k]),p&&(_=_e(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:y}})(h,d,m)}const Lqe=be({fusedDepthwiseConv2d_:Pqe});function Bqe({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:s,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(SP(ve.state.gradientDepth,o)===!1){let E=Kn(e,t,n,r);return s!=null&&(E=mt(E,s)),CP(E,o,i,a)}let l=re(e,"a","fused matMul"),u=re(t,"b","fused matMul");[l,u]=_s(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),g=u.shape.slice(0,-2),m=je(p),v=je(g);te(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const b=Dn(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,h]),w=n?_e(l,[m,c,d]):_e(l,[m,d,c]),C=r?_e(u,[v,h,f]):_e(u,[v,f,h]);let S;s!=null&&(S=re(s,"bias","fused matMul"),[S]=_s(S,l),Dn(b,S.shape));let $;i!=null&&($=re(i,"prelu weights","fused matMul"));const k=(E,A)=>{const[I,F,R,L]=A,D=wP(_e(E,R.shape),R,o);let N,M;if(!n&&!r?(N=Kn(D,F,!1,!0),M=Kn(I,D,!0,!1)):!n&&r?(N=Kn(D,F,!1,!1),M=Kn(D,I,!0,!1)):n&&!r?(N=Kn(F,D,!1,!0),M=Kn(I,D,!1,!1)):(N=Kn(F,D,!0,!0),M=Kn(D,I,!0,!0)),s!=null){const z=xP(L,D);return[N,M,z]}else return[N,M]},T={a:w,b:C,bias:S,preluActivationWeights:$},_={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:a};return s==null?ld((A,I,F)=>{const R=ve.runKernel(_k,T,_);return F([A,I,R]),{value:_e(R,b),gradFunc:k}})(w,C):ld((A,I,F,R)=>{const L=ve.runKernel(_k,T,_);return R([A,I,L,F]),{value:_e(L,b),gradFunc:k}})(w,C,S)}const IV=be({fusedMatMul_:Bqe});const zqe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:Cbe,depthwiseConv2d:Lqe,matMul:IV},Symbol.toStringTag,{value:"Module"}));function Vqe(e){return yG(e,.54,.46)}const Wqe=be({hammingWindow_:Vqe});function Uqe(e){return yG(e,.5,.5)}const kbe=be({hannWindow_:Uqe});function jqe(e,t,n,r=!1,s=0){let o=0;const i=[];for(;o+t<=e.size;)i.push(hr(e,o,t)),o+=n;if(r)for(;o<e.size;){const a=o+t-e.size,l=xo([hr(e,o,t-a),q2([a],s)]);i.push(l),o+=n}return i.length===0?Zg([],[0,t]):_e(xo(i),[i.length,t])}const Ebe=be({frame_:jqe});function Hqe(e,t,n,r,s=kbe){r==null&&(r=xbe(t));const o=Ebe(e,t,n),i=we(o,s(t));return vP(i,r)}const qqe=be({stft_:Hqe});function Gqe(e,t,n,r,s="bilinear",o=0){const i=re(e,"image","cropAndResize"),a=re(t,"boxes","cropAndResize","float32"),l=re(n,"boxInd","cropAndResize","int32"),u=a.shape[0];te(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),te(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${a.shape}.`),te(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${a.shape}.`),te(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),te(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),te(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:i,boxes:a,boxInd:l},f={method:s,extrapolationValue:o,cropSize:r};return ve.runKernel(r4,c,f)}const Kqe=be({cropAndResize_:Gqe});function Yqe(e){const t=re(e,"image","flipLeftRight","float32");te(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return ve.runKernel(p4,n,{})}const Xqe=be({flipLeftRight_:Yqe});function Zqe(e){const t=re(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];te(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),te(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,wu(t,s)}const Jqe=be({grayscaleToRGB_:Zqe});function Qqe(e){const t=re(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];te(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),te(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=t.dtype,o=At(t,"float32"),i=qi([.2989,.587,.114]);let a;switch(t.rank){case 2:a=Lb("ij,j->i",o,i);break;case 3:a=Lb("ijk,k->ij",o,i);break;case 4:a=Lb("ijkl,l->ijk",o,i);break;case 5:a=Lb("ijklm,m->ijkl",o,i);break;case 6:a=Lb("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return a=zi(a,-1),At(a,s)}const eGe=be({rgbToGrayscale_:Qqe});function tGe(e,t,n=0,r=.5){const s=re(e,"image","rotateWithOffset","float32");te(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const o={image:s},i={radians:t,fillValue:n,center:r};return ve.runKernel(X4,o,i)}const nGe=be({rotateWithOffset_:tGe});function Y2(e,t,n,r,s,o){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),o==null&&(o=0);const i=e.shape[0];return n=Math.min(n,i),te(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),te(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),te(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),te(t.rank===1,()=>"scores must be a 1D tensor"),te(t.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`),te(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o}}function rGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=re(e,"boxes","nonMaxSuppression","float32"),i=re(t,"scores","nonMaxSuppression","float32"),a=Y2(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ve.runKernel($4,{boxes:o,scores:i},l)}const sGe=be({nonMaxSuppression_:rGe});function oGe(e,t,n){const r=iGe(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function iGe(e,t,n){return lGe(e,t,n||aGe)}function aGe(e,t){return e>t?1:e<t?-1:0}function lGe(e,t,n){let r=0,s=e.length,o=0,i=!1;for(;r<s;){o=r+(s-r>>>1);const a=n(t,e[o]);a>0?r=o+1:(s=o,i=!a)}return i?r:-r-1}function $P(e,t,n,r,s){return wG(e,t,n,r,s,0)}function kP(e,t,n,r,s,o){return wG(e,t,n,r,s,0,!1,o,!0)}function EP(e,t,n,r,s,o){return wG(e,t,n,r,s,o,!0)}function wG(e,t,n,r,s,o,i=!1,a=!1,l=!1){const u=[];for(let m=0;m<t.length;m++)t[m]>s&&u.push({score:t[m],boxIndex:m,suppressBeginIndex:0});u.sort(zse);const c=o>0?-.5/o:0,f=[],d=[];for(;f.length<n&&u.length>0;){const m=u.pop(),{score:v,boxIndex:y,suppressBeginIndex:b}=m;if(v<s)break;let w=!1;for(let C=f.length-1;C>=b;--C){const S=uGe(e,y,f[C]);if(S>=r){w=!0;break}if(m.score=m.score*cGe(r,c,S),m.score<=s)break}m.suppressBeginIndex=f.length,w||(m.score===v?(f.push(y),d.push(m.score)):m.score>s&&oGe(u,m,zse))}const h=f.length,p=n-h;a&&p>0&&(f.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const g={selectedIndices:f};return i&&(g.selectedScores=d),l&&(g.validOutputs=h),g}function uGe(e,t,n){const r=e.subarray(t*4,t*4+4),s=e.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-o)*(l-i),p=(f-u)*(d-c);if(h<=0||p<=0)return 0;const g=Math.max(o,u),m=Math.max(i,c),v=Math.min(a,f),y=Math.min(l,d),b=Math.max(v-g,0)*Math.max(y-m,0);return b/(h+p-b)}function cGe(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function zse(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}async function fGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=re(e,"boxes","nonMaxSuppressionAsync"),i=re(t,"scores","nonMaxSuppressionAsync"),a=Y2(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:f}=$P(u,c,n,r,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),qi(f,"int32")}const dGe=fGe;function hGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=re(e,"boxes","nonMaxSuppression"),a=re(t,"scores","nonMaxSuppression"),l=Y2(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:i,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o},f=ve.runKernel(E4,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const pGe=be({nonMaxSuppressionWithScore_:hGe});async function gGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=re(e,"boxes","nonMaxSuppressionAsync"),a=re(t,"scores","nonMaxSuppressionAsync"),l=Y2(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([i.data(),a.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=EP(c,f,n,r,s,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:qi(d,"int32"),selectedScores:qi(h)}}const mGe=gGe;function vGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=re(e,"boxes","nonMaxSuppression"),a=re(t,"scores","nonMaxSuppression"),l=Y2(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:i,scores:a},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:o},p=ve.runKernel(k4,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const yGe=be({nonMaxSuppressionPadded_:vGe});async function bGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=re(e,"boxes","nonMaxSuppressionAsync"),a=re(t,"scores","nonMaxSuppressionAsync"),l=Y2(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([i.data(),a.data()]),{selectedIndices:p,validOutputs:g}=kP(d,h,u,c,f,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:qi(p,"int32"),validOutputs:Sn(g,"int32")}}const wGe=bGe;function xGe(e,t,n=!1,r=!1){const s=re(e,"images","resizeBilinear");te(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),te(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),te(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=_e(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=ve.runKernel(CT,a,l);return i?_e(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const _be=be({resizeBilinear_:xGe});function CGe(e,t,n=!1,r=!1){const s=re(e,"images","resizeNearestNeighbor");te(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),te(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),te(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),te(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=_e(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=ve.runKernel(xT,a,l);return i?_e(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Tbe=be({resizeNearestNeighbor_:CGe});function SGe(e,t="binary",n=!1,r=.5){const s=re(e,"image","threshold"),o=.2989,i=.587,a=.114,l=s.shape[0]*s.shape[1];let u=we(qi([r]),255),c,f,d,h;if(te(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),te(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),te(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),te(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),s.shape[2]===3){[c,f,d]=dl(s,[1,1,1],-1);const m=we(c,o),v=we(f,i),y=we(d,a);h=mt(mt(m,v),y)}else h=e;if(t==="otsu"){const m=Rye(At(iG(h),"int32"),qv([]),256);u=$Ge(m,l)}const p=n?uy(h,u):Dl(h,u);return At(we(p,255),"int32")}function $Ge(e,t){let n=qi([-1]),r=qi([0]),s=qi([0]),o,i,a,l,u,c;for(let f=0;f<e.size-1;f++){o=hr(e,0,f+1),i=hr(e,f+1),u=an(Qt(o),t),c=an(Qt(i),t);const d=Qt(we(o,Fw(0,o.size)));a=an(d,Qt(o));const h=q2(i.shape,o.size),p=mt(Fw(0,i.size),h),g=we(i,p);l=an(Qt(g),Qt(i));const m=qt(a,l),v=qt(a,l),y=we(u,c);s=we(we(y,m),v);const b=Dl(s,r);r=mi(b,s,r),n=mi(b,qi([f]),n)}return n}const kGe=be({threshold_:SGe});function EGe(e,t,n="nearest",r="constant",s=0,o){const i=re(e,"image","transform","float32"),a=re(t,"transforms","transform","float32");te(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),te(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),te(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:i,transforms:a},u={interpolation:n,fillMode:r,fillValue:s,outputShape:o};return ve.runKernel(K4,l,u)}const _Ge=be({transform_:EGe});function TGe(e,t,n){const r=re(e,"a","bandPart");te(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[o,i]=r.shape.slice(-2);let a,l;typeof t=="number"?(te(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),te(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),a=re(t<0?o:t,"numLower","bandPart")):(te(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=mi(Pk(t,0),o,x1(t,o))),typeof n=="number"?(te(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),te(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),l=re(n<0?i:n,"numUpper","bandPart")):(te(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=mi(Pk(n,0),i,x1(n,i)));const u=_e(Fw(0,o,1,"int32"),[-1,1]),c=Fw(0,i,1,"int32"),f=qt(u,c),d=ud(uy(f,a),s0(f,as(l))),h=no([o,i],r.dtype);return _e(cd(pm(_e(r,[-1,o,i])).map(p=>mi(d,p,h))),s)}const AGe=be({bandPart_:TGe});function IGe(e){let t;if(Array.isArray(e)){t=!1,te(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=e[0].shape[0];for(let o=1;o<e.length;++o)te(e[o].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[o].shape[0]} vs. ${s})`)}else t=!0,e=dl(e,e.shape[0],0).map(s=>fy(s,[0]));te(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let s=0;s<e.length;++s)n.push(ve.tidy(()=>{let o=r[s];if(s>0)for(let i=0;i<s;++i){const a=we(Qt(we(n[i],o)),n[i]);o=qt(o,a)}return an(o,zT(o,"euclidean"))}));return t?cd(n,0):n}const NGe=be({gramSchmidt_:IGe});function DGe(e,t=!1){if(te(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return Vse(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=pm(_e(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],o=[];r.forEach(l=>{const[u,c]=Vse(l,t);s.push(u),o.push(c)});const i=_e(cd(s,0),e.shape),a=_e(cd(o,0),e.shape);return[i,a]}}function Vse(e,t=!1){return ve.tidy(()=>{te(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let s=Zq(n),o=Xg(e);const i=Zg([[1]],[1,1]);let a=Xg(i);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=o,f=a,d=s;[a,o,s]=ve.tidy(()=>{const h=hr(o,[u,u],[n-u,1]),p=zT(h),g=hr(o,[u,u],[1,1]),m=mi(Dl(g,0),Zg([[-1]]),Zg([[1]])),v=qt(g,we(m,p)),y=an(h,v);y.shape[0]===1?a=Xg(i):a=xo([i,hr(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const b=as(an(Kn(m,v),p)),w=hr(o,[u,0],[n-u,r]),C=we(b,a),S=rr(a);if(u===0)o=qt(w,Kn(C,Kn(S,w)));else{const T=qt(w,Kn(C,Kn(S,w)));o=xo([hr(o,[0,0],[u,r]),T],0)}const $=rr(C),k=hr(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=qt(k,Kn(Kn(k,a),$));else{const T=qt(k,Kn(Kn(k,a),$));s=xo([hr(s,[0,0],[n,u]),T],1)}return[a,o,s]}),Yn([c,f,d])}return!t&&n>r&&(s=hr(s,[0,0],[n,r]),o=hr(o,[0,0],[r,r])),[s,o]})}const OGe=be({qr_:DGe});var Wi;(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Wi||(Wi={}));function RGe(e,t,n=Wi.SUM_BY_NONZERO_WEIGHTS){const r=re(e,"losses","computeWeightedLoss");let s=null;t!=null&&(s=re(t,"weights","computeWeightedLoss"));const o=s==null?r:we(r,s);if(n===Wi.NONE)return o;if(n===Wi.SUM)return Qt(o);if(n===Wi.MEAN){if(s==null)return Ns(o);{const i=r.size/s.size,a=an(Qt(o),Qt(s));return i>1?an(a,Sn(i)):a}}if(n===Wi.SUM_BY_NONZERO_WEIGHTS){if(s==null)return an(Qt(o),Sn(r.size));{const i=we(s,il(r.shape)),a=At(Qt(Rw(i,Sn(0))),"float32");return an(Qt(o),a)}}throw Error(`Unknown reduction: ${n}`)}const Ip=be({computeWeightedLoss_:RGe});function FGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){const s=re(e,"labels","absoluteDifference"),o=re(t,"predictions","absoluteDifference");let i=null;n!=null&&(i=re(n,"weights","absoluteDifference")),Zo(s.shape,o.shape,"Error in absoluteDifference: ");const a=eo(qt(s,o));return Ip(a,i,r)}const MGe=be({absoluteDifference_:FGe});function PGe(e,t,n,r,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=re(e,"labels","cosineDistance"),i=re(t,"predictions","cosineDistance");let a=null;r!=null&&(a=re(r,"weights","cosineDistance")),Zo(o.shape,i.shape,"Error in cosineDistance: ");const l=Sn(1),u=qt(l,Qt(we(o,i),n,!0));return Ip(u,a,s)}const LGe=be({cosineDistance_:PGe});function BGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){let s=re(e,"labels","hingeLoss");const o=re(t,"predictions","hingeLoss");let i=null;n!=null&&(i=re(n,"weights","hingeLoss")),Zo(s.shape,o.shape,"Error in hingeLoss: ");const a=Sn(1);s=qt(we(Sn(2),s),a);const l=Dd(qt(a,we(s,o)));return Ip(l,i,r)}const zGe=be({hingeLoss_:BGe});function VGe(e,t,n,r=1,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=re(e,"labels","huberLoss"),i=re(t,"predictions","huberLoss");let a=null;n!=null&&(a=re(n,"weights","huberLoss")),Zo(o.shape,i.shape,"Error in huberLoss: ");const l=Sn(r),u=eo(qt(i,o)),c=x1(u,l),f=qt(u,c),d=mt(we(Sn(.5),Kr(c)),we(l,f));return Ip(d,a,s)}const WGe=be({huberLoss_:VGe});function UGe(e,t,n,r=1e-7,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=re(e,"labels","logLoss"),i=re(t,"predictions","logLoss");let a=null;n!=null&&(a=re(n,"weights","logLoss")),Zo(o.shape,i.shape,"Error in logLoss: ");const l=Sn(1),u=Sn(r),c=as(we(o,tu(mt(i,u)))),f=we(qt(l,o),tu(mt(qt(l,i),u))),d=qt(c,f);return Ip(d,a,s)}const jGe=be({logLoss_:UGe});function HGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){const s=re(e,"labels","meanSquaredError"),o=re(t,"predictions","meanSquaredError");let i=null;n!=null&&(i=re(n,"weights","meanSquaredError")),Zo(s.shape,o.shape,"Error in meanSquaredError: ");const a=pG(s,o);return Ip(a,i,r)}const qGe=be({meanSquaredError_:HGe});function GGe(e,t){const n=re(e,"labels","sigmoidCrossEntropyWithLogits"),r=re(t,"logits","sigmoidCrossEntropyWithLogits");Zo(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Dd(r),o=we(r,n),i=sP(bl(as(eo(r))));return mt(qt(s,o),i)}function KGe(e,t,n,r=0,s=Wi.SUM_BY_NONZERO_WEIGHTS){let o=re(e,"multiClassLabels","sigmoidCrossEntropy");const i=re(t,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=re(n,"weights","sigmoidCrossEntropy")),Zo(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=Sn(r),c=Sn(1),f=Sn(.5);o=mt(we(o,qt(c,u)),we(f,u))}const l=GGe(o,i);return Ip(l,a,s)}const YGe=be({sigmoidCrossEntropy_:KGe});function XGe(e,t,n=-1){if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return ld((s,o,i)=>{const l=iP(o,[n],!0),u=qt(At(o,"float32"),l);i([s,u]);const c=as(we(u,s));return{value:Qt(c,[n]),gradFunc:(h,p)=>{const[g,m]=p,v=Us(h.shape,[n]);return[we(_e(h,v),qt(At(g,"float32"),bl(m))),we(_e(h,v),qt(bl(m),At(g,"float32")))]}}})(e,t)}function ZGe(e,t,n,r=0,s=Wi.SUM_BY_NONZERO_WEIGHTS){let o=re(e,"onehotLabels","softmaxCrossEntropy");const i=re(t,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=re(n,"weights","softmaxCrossEntropy")),Zo(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const u=Sn(r),c=Sn(1),f=Sn(o.shape[1]);o=mt(we(o,qt(c,u)),an(u,f))}const l=XGe(o,i);return Ip(l,a,s)}const JGe=be({softmaxCrossEntropy_:ZGe});function QGe(e,t,n,r){const s=re(e,"indices","sparseFillEmptyRows","int32"),o=re(t,"values","sparseFillEmptyRows"),i=re(n,"denseShape","sparseFillEmptyRows","int32"),a=re(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:o,denseShape:i,defaultValue:a},u=ve.runKernel(P4,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const eKe=be({sparseFillEmptyRows_:QGe});function tKe(e,t,n){const r=re(e,"inputIndices","sparseReshape","int32"),s=re(t,"inputShape","sparseReshape","int32"),o=re(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const i={inputIndices:r,inputShape:s,newShape:o},a=ve.runKernel(L4,i);return{outputIndices:a[0],outputShape:a[1]}}const nKe=be({sparseReshape_:tKe});function rKe(e,t,n){const r=re(e,"data","sparseSegmentMean"),s=re(t,"indices","sparseSegmentMean","int32"),o=re(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return ve.runKernel(B4,i)}const sKe=be({sparseSegmentMean_:rKe});function oKe(e,t,n){const r=re(e,"data","sparseSegmentSum"),s=re(t,"indices","sparseSegmentSum","int32"),o=re(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return ve.runKernel(z4,i)}const iKe=be({sparseSegmentSum_:oKe});function aKe(e,t,n,r,s,o,i,a){const l=re(e,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=re(t,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:o,padWidth:i,preserveShortSequences:a},f={data:l,dataSplits:u},d=ve.runKernel(j4,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}const lKe=be({stringNGrams_:aKe});function uKe(e,t,n=!0){const r=re(e,"input","stringSplit","string"),s=re(t,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const o={skipEmpty:n},i={input:r,delimiter:s},a=ve.runKernel(H4,i,o);return{indices:a[0],values:a[1],shape:a[2]}}const cKe=be({stringSplit_:uKe});function fKe(e,t){const n=re(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return ve.runKernel(q4,s,r)}const dKe=be({stringToHashBucketFast_:fKe});function hKe(e,t,n,r=!0){const s=re(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return ve.runKernel(IT,{x:s},o)}const pKe=be({staticRegexReplace_:hKe});const gKe={fft:mP,ifft:Vk,rfft:vP,irfft:hG},mKe={hammingWindow:Wqe,hannWindow:kbe,frame:Ebe,stft:qqe},Bf={flipLeftRight:Xqe,grayscaleToRGB:Jqe,resizeNearestNeighbor:Tbe,resizeBilinear:_be,rgbToGrayscale:eGe,rotateWithOffset:nGe,cropAndResize:Kqe,nonMaxSuppression:sGe,nonMaxSuppressionAsync:dGe,nonMaxSuppressionWithScore:pGe,nonMaxSuppressionWithScoreAsync:mGe,nonMaxSuppressionPadded:yGe,nonMaxSuppressionPaddedAsync:wGe,threshold:kGe,transform:_Ge},Abe={bandPart:AGe,gramSchmidt:NGe,qr:OGe},vKe={absoluteDifference:MGe,computeWeightedLoss:Ip,cosineDistance:LGe,hingeLoss:zGe,huberLoss:WGe,logLoss:jGe,meanSquaredError:qGe,sigmoidCrossEntropy:YGe,softmaxCrossEntropy:JGe},yKe={sparseFillEmptyRows:eKe,sparseReshape:nKe,sparseSegmentMean:sKe,sparseSegmentSum:iKe},bKe={stringNGrams:lKe,stringSplit:cKe,stringToHashBucketFast:dKe,staticRegexReplace:pKe};const wKe=new Map,NV=new Map;class dy{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class Wl{constructor(){this.classNameMap={}}static getMap(){return Wl.instance==null&&(Wl.instance=new Wl),Wl.instance}static register(t){Wl.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function vt(e,t,n){te(e.className!=null,()=>"Class being registered does not have the static className property defined."),te(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),te(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,s=t+">"+r;return Wl.register(e),wKe.set(s,e),NV.set(e,s),e}function xKe(e){return NV.has(e)?NV.get(e):e.className}const CKe=Object.freeze(Object.defineProperty({__proto__:null,Serializable:dy,SerializationMap:Wl,getRegisteredName:xKe,registerClass:vt},Symbol.toStringTag,{value:"Module"}));class Np extends dy{minimize(t,n=!1,r){const{value:s,grads:o}=this.computeGradients(t,r);if(r!=null){const i=r.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(i)}else this.applyGradients(o);return Yn(o),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return tbe(t,n)}dispose(){this.iterations_!=null&&Yn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Sn(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(Np,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});class xG extends Np{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r],i=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Le(()=>cr(o).variable(i))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Le(()=>cr(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;Le(()=>{const c=mt(we(l,this.rho),we(Kr(a),1-this.rho)),f=we(an(Go(mt(u,this.epsilon)),Go(mt(l,this.epsilon))),a),d=mt(we(u,this.rho),we(Kr(f),1-this.rho));l.assign(c),u.assign(d);const h=mt(we(f,-this.learningRate),o);o.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Yn(this.accumulatedGrads.map(t=>t.variable)),Yn(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}class CG extends Np{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Le(()=>q2(o.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(t)?t[s].tensor:t[r];if(i==null)return;const a=this.accumulatedGrads[s].variable;Le(()=>{const l=mt(a,Kr(i));a.assign(l);const u=mt(we(an(i,Go(mt(l,ve.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Yn(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}class SG extends Np{static get className(){return"Adam"}constructor(t,n,r,s=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Le(()=>{this.accBeta1=Sn(n).variable(),this.accBeta2=Sn(r).variable()}),s==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Le(()=>{const r=qt(1,this.accBeta1),s=qt(1,this.accBeta2);n.forEach((o,i)=>{const a=ve.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Le(()=>cr(a).variable(l))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${o}/v`,variable:Le(()=>cr(a).variable(l))});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedSecondMoment[i].variable,d=mt(we(c,this.beta1),we(u,1-this.beta1)),h=mt(we(f,this.beta2),we(Kr(u),1-this.beta2)),p=an(d,r),g=an(h,s);c.assign(d),f.assign(h);const m=mt(we(an(p,mt(Go(g),this.epsilon)),-this.learningRate),a);a.assign(m)}),this.accBeta1.assign(we(this.accBeta1,this.beta1)),this.accBeta2.assign(we(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Yn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&Yn(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Le(()=>{this.accBeta1.assign(sp(this.beta1,this.iterations_+1)),this.accBeta2.assign(sp(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}class $G extends Np{static get className(){return"Adamax"}constructor(t,n,r,s=null,o=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Le(()=>{this.iteration=Sn(0).variable(),this.accBeta1=Sn(n).variable()}),s==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Le(()=>{const r=qt(1,this.accBeta1),s=an(-this.learningRate,mt(we(this.iteration,this.decay),1));n.forEach((o,i)=>{const a=ve.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:cr(a).variable(l)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${o}/v`,variable:cr(a).variable(l)});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedWeightedInfNorm[i].variable,d=mt(we(c,this.beta1),we(u,1-this.beta1)),h=we(f,this.beta2),p=eo(u),g=Ap(h,p);c.assign(d),f.assign(g);const m=mt(we(an(s,r),an(d,mt(g,this.epsilon))),a);a.assign(m)}),this.iteration.assign(mt(this.iteration,1)),this.accBeta1.assign(we(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Yn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&Yn(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}class _P extends Np{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=Array.isArray(t)?t[s].tensor:t[r];if(o==null)return;const i=ve.registeredVariables[r];Le(()=>{const a=mt(we(this.c,o),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=Ta(Sn(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}class kG extends _P{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Sn(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Le(()=>cr(o).variable(!1))});const i=this.accumulations[s].variable,a=Array.isArray(t)?t[s].tensor:t[r];a!=null&&Le(()=>{let l;const u=mt(we(this.m,i),a);this.useNesterov?l=mt(we(this.c,mt(a,we(u,this.m))),o):l=mt(we(this.c,u),o),i.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Yn(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}class EG extends Np{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,s=null,o=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,s==null&&(this.epsilon=ve.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r],i=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Le(()=>cr(o).variable(i))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Le(()=>cr(o).variable(i))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Le(()=>cr(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;Le(()=>{const c=mt(we(l,this.decay),we(Kr(a),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,d=mt(we(f,this.decay),we(a,1-this.decay)),h=an(we(a,this.learningRate),Go(qt(c,mt(Kr(d),this.epsilon)))),p=mt(we(u,this.momentum),h);l.assign(c),f.assign(d),u.assign(p);const g=qt(o,p);o.assign(g)}else{const f=mt(we(l,this.decay),we(Kr(a),1-this.decay)),d=mt(we(u,this.momentum),an(we(a,this.learningRate),Go(mt(f,this.epsilon))));l.assign(f),u.assign(d);const h=qt(o,d);o.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Yn(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Yn(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&Yn(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}const SKe=[xG,CG,SG,$G,kG,EG,_P];function $Ke(){for(const e of SKe)vt(e)}const kKe="model",EKe=".json",_Ke=".weights.bin";function Wse(e){return new Promise(t=>setTimeout(t)).then(e)}class C1{constructor(t){if(!Pe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(C1.URL_SCHEME)&&(t=t.slice(C1.URL_SCHEME.length)),(t==null||t.length===0)&&(t=kKe),this.modelJsonFileName=t+EKe,this.weightDataFileName=t+_Ke}async save(t){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Xc.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o=fye(t,s),i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await Wse(()=>a.dispatchEvent(new MouseEvent("click"))),t.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await Wse(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:FT(t)}}}}C1.URL_SCHEME="downloads://";class TKe{constructor(t){if(t==null||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}async load(){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{const o=JSON.parse(s.target.result),i=o.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){t({modelTopology:i});return}const l=zq(o,u=>this.loadWeights(u));t(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(t){const n=[],r=[];for(const i of t)n.push(...i.weights),r.push(...i.paths);const s=this.checkManifestAndWeightFiles(t),o=r.map(i=>this.loadWeightsFile(i,s[i]));return Promise.all(o).then(i=>[n,i])}loadWeightsFile(t,n){return new Promise((r,s)=>{const o=new FileReader;o.onload=i=>{const a=i.target.result;r(a)},o.onerror=i=>s(`Failed to weights data from file of path '${t}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(t){const n=[],r=this.weightsFiles.map(o=>Nse(o.name)),s={};for(const o of t)o.paths.forEach(i=>{const a=Nse(i);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[i]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const AKe=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(C1.URL_SCHEME)?IKe(e.slice(C1.URL_SCHEME.length)):null;Cs.registerSaveRouter(AKe);function IKe(e="model"){return new C1(e)}function NKe(e){return new TKe(e)}function Use(e,t,n,r){i(e),n=n??0,r=r??1,a(n,r);let s=0;const o=l=>(l.then(u=>{const c=n+ ++s/e.length*(r-n);return t(c),u}),l);function i(l){te(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,u){te(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),te(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),te(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(o))}async function Ibe(e,t){t==null&&(t={});const n=t.fetchFunc==null?Pe().platform.fetch:t.fetchFunc,r=e.map(f=>n(f,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?await Promise.all(r):await Use(r,t.onProgress,0,.5)).map(f=>f.arrayBuffer());return t.onProgress==null?await Promise.all(a):await Use(a,t.onProgress,.5,1)}function DKe(e,t){var n;const r=t.fetchFunc==null?Pe().platform.fetch:t.fetchFunc;let s=0,o;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async i=>{for(var a;s<e.length;){o||(o=(await r(e[s],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await o.read();if(l){s++,o=void 0,(a=t.onProgress)===null||a===void 0||a.call(t,s/e.length);continue}i.enqueue(u);return}i.close()}})}async function OKe(e,t="",n,r){return Nbe(i=>Ibe(i,{requestInit:r}))(e,t,n)}function Nbe(e){return async(t,n="",r)=>{const s=t.map(()=>!1),o={},i=r!=null?r.map(()=>!1):[],a=[];if(t.forEach((h,p)=>{let g=0;h.weights.forEach(m=>{const v="quantization"in m?m.quantization.dtype:m.dtype,y=g1[v]*je(m.shape),b=()=>{s[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:m,groupOffset:g,sizeBytes:y})};r!=null?r.forEach((w,C)=>{w===m.name&&(b(),i[C]=!0)}):b(),a.push(m.name),g+=y})}),!i.every(h=>h)){const h=r.filter((p,g)=>!i[g]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((h,p,g)=>(p&&h.push(g),h),[]),u=[];l.forEach(h=>{t[h].paths.forEach(p=>{const g=n+(n.endsWith("/")?"":"/")+p;u.push(g)})});const c=await e(u),f={};let d=0;return l.forEach(h=>{const p=t[h].paths.length,g=new Xc(c.slice(d,d+p));o[h].forEach(v=>{const y=g.slice(v.groupOffset,v.groupOffset+v.sizeBytes),b=lye(y,[v.manifestEntry]);for(const w in b)f[w]=b[w]}),d+=p}),f}}const RKe="application/octet-stream",FKe="application/json";class _G{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(te(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Pe().platform.fetch,te(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&te(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],s=fye(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:FKe}),"model.json"),t.weightData!=null){const i=Xc.join(t.weightData);n.body.append("model.weights.bin",new Blob([i],{type:RKe}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:FT(t),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return zq(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=SV(t.weightsManifest),s=()=>DKe(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=MKe(n),o=this.weightPathPrefix||r,i=[],a=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(u)):i.push(o+u+s);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(t){const n=await this.getWeightUrls(t),r=SV(t),s=await Ibe(n,this.loadOptions);return[r,s]}}_G.URL_SCHEME_REGEX=/^https?:\/\//;function MKe(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}function DV(e){return e.match(_G.URL_SCHEME_REGEX)!=null}const Dbe=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>DV(r)):n=DV(e),n)return TG(e,t)}return null};Cs.registerSaveRouter(Dbe);Cs.registerLoadRouter(Dbe);function TG(e,t){return new _G(e,t)}function PKe(e,t){return TG(e,t)}class t5{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class Obe{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class LKe{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=n=>Promise.resolve(t.save(n)))}}function BKe(e,t,n,r){const s=arguments;return new LKe(Rbe(...s))}function Rbe(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new t5(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new t5({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new t5({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function zKe(e){return new Obe(e)}function VKe(e){return new Obe(e)}const WKe=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Xc,browserFiles:NKe,browserHTTPRequest:PKe,concatenateArrayBuffers:cye,copyModel:kVe,decodeWeights:lye,decodeWeightsStream:tVe,encodeWeights:CV,fromMemory:BKe,fromMemorySync:Rbe,getLoadHandlers:fVe,getModelArtifactsForJSON:zq,getModelArtifactsForJSONSync:dye,getModelArtifactsInfoForJSON:FT,getSaveHandlers:hye,getWeightSpecs:SV,http:TG,isHTTPScheme:DV,listModels:SVe,loadWeights:OKe,moveModel:EVe,registerLoadRouter:cVe,registerSaveRouter:uVe,removeModel:$Ve,weightsLoaderFactory:Nbe,withSaveHandler:zKe,withSaveHandlerSync:VKe},Symbol.toStringTag,{value:"Module"}));function UKe(e,t,n){const r=re(e,"labels","confusionMatrix"),s=re(t,"predictions","confusionMatrix");te(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),te(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),te(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),te(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),te(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const o=Lk(At(r,"int32"),n),i=Lk(At(s,"int32"),n),a=rr(o),l=Kn(a,i);return At(l,"int32")}const jKe=be({confusionMatrix_:UKe});const HKe=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:jKe},Symbol.toStringTag,{value:"Module"}));let M0,jse=!1;function Fbe(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)o=!0;else if(e.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&e instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);if(Nk(EO,ve.backendName)!=null){const p={pixels:e},g={numChannels:t};return ve.runKernel(EO,p,g)}const[u,c]=s?[e.videoWidth,e.videoHeight]:[e.width,e.height];let f;if(i)f=e.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)f=e.data;else if(o||s||a){if(M0==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")M0=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else M0=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});M0.canvas.width=u,M0.canvas.height=c,M0.drawImage(e,0,0,u,c),f=M0.getImageData(0,0,u,c).data}let d;if(t===4)d=new Int32Array(f);else{const p=u*c;d=new Int32Array(p*t);for(let g=0;g<p;g++)for(let m=0;m<t;++m)d[g*t+m]=f[g*4+m]}return gbe(d,[c,u,t],"int32")}function qKe(e){return e!=null&&e.data instanceof Uint8Array}function GKe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function KKe(e){return e!=null&&e.width!==0&&e.height!==0}function YKe(e){return GKe()&&!(e instanceof ImageBitmap)&&KKe(e)&&!qKe(e)}async function XKe(e,t=3){let n=null;if(Pe().getBool("WRAP_TO_IMAGEBITMAP")&&YKe(e)){let r;try{r=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===e.width&&r.height===e.height?n=r:n=e}else n=e;return Fbe(n,t)}function Mbe(e){if(e.rank!==2&&e.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=e.rank===2?1:e.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(e.dtype!=="float32"&&e.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}function ZKe(e){const t=e?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}async function JKe(e,t){let n=re(e,"img","toPixels");if(!(e instanceof Mr)){const u=n;n=At(u,"int32"),u.dispose()}Mbe(n);const[r,s]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],i=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const c=[0,0,0,255];for(let d=0;d<o;d++){const h=i[u*o+d];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);o===1?(c[0]=h*a,c[1]=h*a,c[2]=h*a):c[d]=h*a}const f=u*4;l[f+0]=Math.round(c[0]),l[f+1]=Math.round(c[1]),l[f+2]=Math.round(c[2]),l[f+3]=Math.round(c[3])}if(t!=null){jse||Nk(u4,ve.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),jse=!0),t.width=s,t.height=r;const u=t.getContext("2d"),c=new ImageData(l,s,r);u.putImageData(c,0,0)}return n!==e&&n.dispose(),l}function QKe(e,t,n){let r=re(e,"img","draw");if(!(e instanceof Mr)){const i=r;r=At(i,"int32"),i.dispose()}Mbe(r),ZKe(n?.imageOptions);const s={image:r},o={canvas:t,options:n};ve.runKernel(u4,s,o)}const eYe=be({fromPixels_:Fbe}),tYe=Object.freeze(Object.defineProperty({__proto__:null,draw:QKe,fromPixels:eYe,fromPixelsAsync:XKe,toPixels:JKe},Symbol.toStringTag,{value:"Module"}));function TP(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(je(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const s=t.shape,o=s[s.length-1];let i=1;for(let f=0;f<s.length-1;++f)i*=s[f];const a=e.shape,l=s.slice();l.pop();let u=1;for(let f=o;f<n;++f)u*=a[f],l.push(a[f]);const c=[...fn(e.shape).map(f=>f/u),1].slice(0,o);return[l,i,u,c]}const nYe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:TP},Symbol.toStringTag,{value:"Module"}));const OV=-2,rYe=-1;function AG(e,t,n){const r=e.shape.length;te(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),te(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)te(t[s]+n[s]<=e.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${t[s]+n[s]}) would overflow input.shape[${s}] (${e.shape[s]})`)}function sYe(e){const t=[];let n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function IG(e,t,n){const r=[];for(let s=0;s<e.length;s++)r[s]=Math.ceil((t[s]-e[s])/n[s]);return r}function Pbe(e,t,n,r){const s=[...e];for(let o=s.length;o<r.length;o++)s.push(1);for(let o=0;o<n;o++)o===0?s[t]=1:(s.splice(t,0,1),s.pop());return s}function Lbe(e,t,n){return n<=e?n:n-(t-1)}function Bbe(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function oYe(e,t,n,r,s,o,i,a,l){const u=e.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){const h=t[0],p=n+1;c=zbe(i,h,p,r,e),f=Vbe(a,h,p,s,e),d=Pbe(o,h,p,e)}else for(let h=0;h<u;h++)c[h]=Ube(i,r,o,e,h,l),f[h]=jbe(a,s,o,e,h,l),d[h]=Wbe(o,h,l);return{begin:c,end:f,strides:d}}function zbe(e,t,n,r,s){const o=[...s],i=Bbe(n,t);for(let a=0;a<o.length;a++)if(i.indexOf(a)>-1)o[a]=0;else{const l=Lbe(t,n,a);let u=r[l];e&1<<l&&(u=0),o[a]=u}return o}function Vbe(e,t,n,r,s){const o=[...s],i=Bbe(n,t);for(let a=0;a<o.length;a++)if(i.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{const l=Lbe(t,n,a);let u=r[l];e&1<<l&&(u=Number.MAX_SAFE_INTEGER),o[a]=u}for(let a=0;a<o.length;a++){const l=s[a];o[a]<0&&(o[a]+=l),o[a]=lm(0,o[a],s[a])}return o}function Wbe(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function Ube(e,t,n,r,s,o){let i=t[s];const a=n[s]||1;(e&1<<s||o&1<<s||i==null)&&(a>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),i=lm(0,i,l-1),i}function jbe(e,t,n,r,s,o){let i=t[s];const a=n[s]||1;(e&1<<s||o&1<<s||i==null)&&(a>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),a>0?i=lm(0,i,l):i=lm(-1,i,l-1),i}function NG(e,t,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(t[s]>0||n[s]!==e[s])return!1;return!0}function DG(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function AP(e,t,n){let r;const s=e.shape.length;typeof t=="number"?r=[t,...new Array(s-1).fill(0)]:t.length<s?r=t.concat(new Array(s-t.length).fill(0)):r=t.slice(),r.forEach(i=>{te(i!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(s).fill(-1):typeof n=="number"?o=[n,...new Array(s-1).fill(-1)]:n.length<s?o=n.concat(new Array(s-n.length).fill(-1)):o=n,o=o.map((i,a)=>i>=0?i:(te(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${a}.`),e.shape[a]-r[a])),[r,o]}function OG(e,t,n,r,s,o,i,a,l){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,i!=null&&(i&i-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};for(let b=0;b<f.dims;b++)c&&(1<<b&a)!==0&&f.numAddAxisAfterEllipsis++,1<<b&i&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};iYe(f,d);let h=!0,p=!0,g=!0;const m=[],v=[];for(let b=0;b<e.length;++b){if(d.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const w=!!(d.shrinkAxisMask&1<<b),C=e[b];if(C===-1){m.push(w?1:-1);continue}const S=[d.beginMask&1<<b,d.endMask&1<<b],$=[d.strides[b]>0?0:-1,d.strides[b]>0?C:C-1];if(w&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&d.strides[b]===1;const k=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(w){const A=d.begin[b]<0?C+d.begin[b]:d.begin[b];if(d.begin[b]=A,d.end[b]=d.begin[b]+1,A<0||A>=C)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=Hse(d.begin[b],0,d.strides[b],C,S,$),d.end[b]=Hse(d.end[b],1,d.strides[b],C,S,$);const E=d.strides[b]===1&&d.begin[b]===0&&d.end[b]===C;h=h&&E,p=p&&(b===0&&d.strides[b]===1||E)}else h=h&&d.strides[b]===1&&k,p=p&&(b===0&&d.strides[b]===1||k);let T,_=!1;if(d.beginValid&&d.endValid?(T=d.end[b]-d.begin[b],_=!0):w?(T=1,_=!0):k&&C>=0&&(d.strides[b]<0?T=-C:T=C,_=!0),_){let E;T===0||T<0!=d.strides[b]<0?E=0:E=Math.trunc(T/d.strides[b])+(T%d.strides[b]!==0?1:0),m.push(E)}else m.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const w=d.finalShapeGatherIndices[b];w>=0?v.push(m[w]):w===OV&&v.push(1)}return{finalShapeSparse:v.filter((b,w)=>d.finalShapeGatherIndices[w]!==OV),finalShape:v,isIdentity:h,sliceDim0:p,isSimpleSlice:g,begin:d.begin,end:d.end,strides:d.strides}}function iYe(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const s=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<s;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(OV),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(rYe),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function Hse(e,t,n,r,s,o){if(s[t])return n>0?o[t]:o[t+1&1];{const i=e<0?r+e:e;return i<o[0]?o[0]:i>o[1]?o[1]:i}}const Hbe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:AG,computeFlatOffset:DG,computeOutShape:IG,getNormalizedAxes:oYe,isSliceContinous:NG,maskToAxes:sYe,parseSliceParams:AP,sliceInfo:OG,startForAxis:Ube,startIndicesWithElidedDims:zbe,stopForAxis:jbe,stopIndicesWithElidedDims:Vbe,stridesForAxis:Wbe,stridesWithElidedDims:Pbe},Symbol.toStringTag,{value:"Module"}));const aYe="4.22.0";class qbe{static sgd(t){return new _P(t)}static momentum(t,n,r=!1){return new kG(t,n,r)}static rmsprop(t,n=.9,r=0,s=null,o=!1){return new EG(t,n,r,s,o)}static adam(t=.001,n=.9,r=.999,s=null){return new SG(t,n,r,s)}static adadelta(t=.001,n=.95,r=null){return new xG(t,n,r)}static adamax(t=.002,n=.9,r=.999,s=null,o=0){return new $G(t,n,r,s,o)}static adagrad(t,n=.1){return new CG(t,n)}}const mg=qbe;const lYe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:e=>e();function RG(){return new Promise(e=>lYe(()=>e()))}function FG(e,t){const n=e[0].length;e.forEach((s,o)=>{te(s.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),te(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((s,o)=>{for(let i=0;i<n;i++)te(i===t||s[i]===r[i],()=>`Error in concat${n}D: Shape of tensors[${o}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`)})}function Hf(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var dc;(function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"})(dc||(dc={}));function Gbe(e,t,n){let r=new Array;if(n==null&&t==null)return r;if(t==null)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(n==null)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const o=n[s],i=r[r.length-n.length+s],a=r[i];if(o>=0)if(a>=0){if(a!==o)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${s+e}] = ${o} but shape[${s+e}] = ${a}`)}else r[i]=o}return r}function Kbe(e){const t={FIRST_DIM_SIZE:dc.FIRST_DIM_SIZE,VALUE_ROWIDS:dc.VALUE_ROWIDS,ROW_LENGTHS:dc.ROW_LENGTHS,ROW_SPLITS:dc.ROW_SPLITS,ROW_LIMITS:dc.ROW_LIMITS,ROW_STARTS:dc.ROW_STARTS},n=[];for(const r of e)if(r in t)n.push(t[r]);else break;return n}function Ybe(e){return e.length===0?0:e[0]===dc.FIRST_DIM_SIZE?e.length-1:e.length}function Xbe(e,t){if(e==null||t==null)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const o=e[s],i=t[s+1];if(o>=0&&i>=0&&o!==1&&o!==i)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${s-e.length}] = ${o} but ragged tensor input.flatValues.shape[${s-e.length}] = ${i}`)}}const MG=30;function IP(e){return e<=MG?e:SO(e,Math.floor(Math.sqrt(e)))}function PG(e,t,n){const r=n*(typeof e=="number"?e:e[0]),s=t*(typeof e=="number"?e:e[1]);return[r,s]}function UT(e,t,n,r=!0){let s=[];if(r)s=s.concat(t.slice(0)),s.push(e[0]/n),s=s.concat(e.slice(1));else{s=s.concat(e[0]);const o=t.length;for(let i=0;i<o;++i)s=s.concat([e[i+1]/t[i],t[i]]);s=s.concat(e.slice(o+1))}return s}function jT(e,t,n=!0){const r=[];if(n){r.push(t);for(let s=t+1;s<e;++s)s<=2*t?(r.push(s),r.push(s-(t+1))):r.push(s)}else{const s=[],o=[];for(let i=1;i<e;++i)i>=t*2+1||i%2===1?o.push(i):s.push(i);r.push(...s),r.push(0),r.push(...o)}return r}function HT(e,t,n,r=!0){const s=[];r?s.push(e[0]/n):s.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?s.push(t[o-1]*e[o]):s.push(e[o]/t[o-1]):s.push(e[o]);return s}function LG(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function BG(e,t,n){const r=e.slice(0,1);for(let s=0;s<n;++s)r.push(e[s+1]-t[s][0]-t[s][1]);return r}const NP=1.7580993408473768,DP=1.0507009873554805;const zG=.3275911,VG=.254829592,WG=-.284496736,UG=1.421413741,jG=-1.453152027,HG=1.061405429;function op(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Zbe(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Jbe(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=0;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function Qbe(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=2;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function qG(e,t){const n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function ewe(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function twe(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let s=0;s<Math.ceil(e/2);s++){const o=(t?2:-2)*Math.PI*(s/e);n[s]=Math.cos(o),r[s]=Math.sin(o)}return{real:n,imag:r}}function nwe(e,t,n){const r=(n?2:-2)*Math.PI*(e/t),s=Math.cos(r),o=Math.sin(r);return{real:s,imag:o}}const n5="->",uYe=/->/g,qse=",",Gse="...";function GG(e,t){e=e.replace(/\s/g,"");const n=(e.length-e.replace(uYe,"").length)/n5.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${n5}").`);const[r,s]=e.split(n5);te(r.indexOf(Gse)===-1,()=>`The ellipsis notation ("${Gse}") is not supported yet.`);const o=r.split(qse),i=o.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!o.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==qse&&a.push(h)}const l=new Array(o.length);for(let d=0;d<i;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error(`Found duplicate axes in input component ${o[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<o[d].length;++h)l[d].push(a.indexOf(o[d][h]))}const u=a.length,c=s.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:a,summedDims:f,idDims:l}}function KG(e,t){let n=new Array(e);n.fill(-1);for(let s=0;s<t.length;++s)n[t[s]]=s;const r=[];for(let s=0;s<e;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function YG(e,t,n){const r=new Array(e);for(let s=0;s<n.length;++s){const o=n[s].shape;for(let i=0;i<t[s].length;++i)r[t[s][i]]===void 0?r[t[s][i]]=o[i]:te(r[t[s][i]]===o[i],()=>`Expected dimension ${r[t[s][i]]} at axis ${i} of input shaped ${JSON.stringify(o)}, but got dimension ${o[i]}`)}}function XG(e,t){const n=e,r=[];let s=0;e.length===0&&n.push(-1),s=e.length+1;for(let i=0;i<s;++i)r.push([]);const o=[];for(let i=0;i<n.length;++i){const a=n[i],l=cYe(t,a);for(const u of l)o.indexOf(u)===-1&&(r[i].push(u),o.push(u))}return{path:n,steps:r}}function ZG(e){return e.every((t,n)=>t===n)}function cYe(e,t){const n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function JG(e,t,n=0){let r=[];if(typeof t=="number")te(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const s=t.reduce((i,a)=>(a===-1&&(i+=1),i),0);te(s<=1,()=>"There should be only one negative value in split array.");const o=t.indexOf(-1);if(o!==-1){const i=t.reduce((a,l)=>l>0?a+l:a);t[o]=e.shape[n]-i}te(e.shape[n]===t.reduce((i,a)=>i+a),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function rwe(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function swe(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function owe(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function iwe(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function awe(e,t){return`size ${e} must be non-negative, not ${t}`}function lwe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function uwe(e,t){const n=je(e),r=je(t);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function cwe(e,t){const n=je(e),r=je(t);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}function RV(){return"segment ids must be >= 0"}function fwe(){return"segment ids are not increasing"}function dwe(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function hwe(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function pwe(e,t){let n=!1,r;for(e<=MG?(r=e,n=!0):r=SO(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=SO(e,r+1);return r}function gwe(e,t,n){const r=[],s=e.length;for(let o=0;o<s;o++)o!==t?r.push(e[o]):r.push(n);return r}function QG(e,t,n,r){const s=t.shape.length,o=e.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);const i=e.shape[n],a=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)a.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)a.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<s;f++)a.push(t.shape[f]);for(let f=n+1;f<o;f++)a.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:a}}const fYe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:QG,computeOutShape:gwe,segOpComputeOptimalWindowSize:pwe},Symbol.toStringTag,{value:"Module"}));function ip(e){try{return e.map(t=>rp(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function mwe(e){return e.map(t=>Uf(t))}const vwe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:VG,ERF_A2:WG,ERF_A3:UG,ERF_A4:jG,ERF_A5:HG,ERF_P:zG,PARALLELIZE_THRESHOLD:MG,get RowPartitionType(){return dc},SELU_SCALE:DP,SELU_SCALEALPHA:NP,applyActivation:CP,assertAndGetBroadcastShape:Dn,assertAxesAreInnerMostDims:Qo,assertParamsConsistent:FG,assignToTypedArray:ewe,axesAreInnerMostDims:Xq,calculateShapes:i0,checkEinsumDimSizes:YG,checkPadOnDimRoundingMode:ua,combineLocations:Gye,combineRaggedTensorToTensorShapes:Gbe,complexWithEvenIndex:Jbe,complexWithOddIndex:Qbe,computeConv2DInfo:To,computeConv3DInfo:n0,computeDefaultPad:Uq,computeDilation2DInfo:MT,computeOptimalWindowSize:IP,computeOutAndReduceShapes:Ao,computeOutShape:Hf,computePool2DInfo:Yu,computePool3DInfo:_p,convertConv2DDataFormat:Tp,decodeEinsumEquation:GG,eitherStridesOrDilationsAreOne:Jo,expandShapeToKeepDim:Us,exponent:nwe,exponents:twe,fromStringArrayToUint8:mwe,fromUint8ToStringArray:ip,getAxesPermutation:As,getBroadcastDims:w1,getComplexWithIndex:qG,getEinsumComputePath:XG,getEinsumPermutation:KG,getFusedBiasGradient:xP,getFusedDyActivation:wP,getImageCenter:PG,getInnerMostAxes:Hs,getPermuted:jT,getRaggedRank:Ybe,getReductionAxes:Zs,getReshaped:UT,getReshapedPermuted:HT,getRowPartitionTypesHelper:Kbe,getSliceBeginCoords:LG,getSliceSize:BG,getSparseFillEmptyRowsIndicesDenseShapeMismatch:rwe,getSparseFillEmptyRowsNegativeIndexErrorMessage:swe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:owe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:lwe,getSparseReshapeInputOutputMismatchErrorMessage:cwe,getSparseReshapeInputOutputMultipleErrorMessage:uwe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:iwe,getSparseReshapeNegativeOutputDimErrorMessage:awe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:hwe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:RV,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:fwe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:dwe,getUndoAxesPermutation:r0,isIdentityPermutation:ZG,log:a7e,mergeRealAndImagArrays:op,prepareAndValidate:TP,prepareSplitSize:JG,segment_util:fYe,shouldFuse:SP,slice_util:Hbe,splitRealAndImagArrays:Zbe,stridesOrDilationsArePositive:y1,tupleValuesAreOne:dm,upcastType:Oa,validateDefaultValueShape:Xbe,validateInput:yP,validateUpdateShape:gG,warn:Vl},Symbol.toStringTag,{value:"Module"}));const dYe=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:$P,nonMaxSuppressionV4Impl:kP,nonMaxSuppressionV5Impl:EP,whereImpl:bP},Symbol.toStringTag,{value:"Module"}));$Ke();const hYe=Object.freeze(Object.defineProperty({__proto__:null,Abs:N_,Acos:Zx,Acosh:Jx,AdadeltaOptimizer:xG,AdagradOptimizer:CG,AdamOptimizer:SG,AdamaxOptimizer:$G,Add:ay,AddN:D_,All:qM,Any:GM,ArgMax:O_,ArgMin:R_,Asin:Qx,Asinh:e2,Atan:t2,Atan2:r2,Atanh:n2,AvgPool:F_,AvgPool3D:M_,AvgPool3DGrad:YM,AvgPoolGrad:KM,BatchMatMul:P_,BatchToSpaceND:L_,Bincount:XM,BitwiseAnd:B_,BroadcastArgs:ZM,BroadcastTo:j1e,Cast:s2,Ceil:o2,ClipByValue:i2,Complex:JM,ComplexAbs:z_,Concat:V_,Conv2D:W_,Conv2DBackpropFilter:QM,Conv2DBackpropInput:U_,Conv3D:j_,Conv3DBackpropFilterV2:e4,Conv3DBackpropInputV2:t4,Cos:a2,Cosh:l2,CropAndResize:r4,Cumprod:n4,Cumsum:H_,DataStorage:Eq,DenseBincount:s4,DepthToSpace:o4,DepthwiseConv2dNative:q_,DepthwiseConv2dNativeBackpropFilter:i4,DepthwiseConv2dNativeBackpropInput:a4,Diag:l4,Dilation2D:G_,Dilation2DBackpropFilter:kO,Dilation2DBackpropInput:$O,Draw:u4,get ENV(){return Nq},Einsum:c4,Elu:c2,EluGrad:f4,Environment:W1e,Equal:K_,Erf:f2,Exp:d2,ExpandDims:Y_,Expm1:h2,FFT:d4,Fill:h4,FlipLeftRight:p4,Floor:p2,FloorDiv:g2,FromPixels:EO,FusedBatchNorm:X_,FusedConv2D:Tk,FusedDepthwiseConv2D:Ak,GatherNd:g4,GatherV2:Z_,Greater:J_,GreaterEqual:m2,IFFT:m4,Identity:v2,Imag:v4,IsFinite:y2,IsInf:b2,IsNan:w2,KernelBackend:WM,LRN:oT,LRNGrad:b4,LeakyRelu:Q_,Less:eT,LessEqual:tT,LinSpace:y4,Log:x2,Log1p:C2,LogSoftmax:H1e,LogicalAnd:nT,LogicalNot:rT,LogicalOr:sT,LogicalXor:n7e,LowerBound:r7e,MatrixBandPart:s7e,Max:iT,MaxPool:aT,MaxPool3D:lT,MaxPool3DGrad:x4,MaxPoolGrad:w4,MaxPoolWithArgmax:C4,Maximum:S2,Mean:uT,Min:cT,Minimum:$2,MirrorPad:fT,Mod:k2,MomentumOptimizer:kG,Multinomial:S4,Multiply:E2,Neg:dT,NonMaxSuppressionV3:$4,NonMaxSuppressionV4:k4,NonMaxSuppressionV5:E4,NotEqual:hT,OP_SCOPE_SUFFIX:iye,OneHot:gT,OnesLike:pT,Optimizer:Np,OptimizerConstructors:qbe,Pack:mT,PadV2:vT,Pool:o7e,Pow:_2,Prelu:yT,Prod:bT,RMSPropOptimizer:EG,RaggedGather:_4,RaggedRange:T4,RaggedTensorToTensor:A4,Range:I4,get Rank(){return gV},Real:N4,RealDiv:u2,Reciprocal:T2,get Reduction(){return Wi},Relu:A2,Relu6:I2,Reshape:wT,ResizeBilinear:CT,ResizeBilinearGrad:O4,ResizeNearestNeighbor:xT,ResizeNearestNeighborGrad:D4,Reverse:ST,RotateWithOffset:X4,Round:N2,Rsqrt:D2,SGDOptimizer:_P,ScatterNd:R4,SearchSorted:M4,Select:$T,Selu:O2,Sigmoid:P2,Sign:M2,Sin:R2,Sinh:F2,Slice:kT,Softmax:AT,Softplus:L2,SpaceToBatchND:_T,SparseFillEmptyRows:P4,SparseReshape:L4,SparseSegmentMean:B4,SparseSegmentSum:z4,SparseToDense:V4,SplitV:TT,Sqrt:B2,Square:W4,SquaredDifference:z2,StaticRegexReplace:IT,Step:H2,StridedSlice:U4,StringNGrams:j4,StringSplit:H4,StringToHashBucketFast:q4,Sub:V2,Sum:ET,Tan:W2,Tanh:U2,Tensor:Mr,TensorBuffer:Xs,TensorScatterUpdate:F4,Tile:j2,TopK:G4,Transform:K4,Transpose:Hv,Unique:Y4,Unpack:NT,UnsortedSegmentSum:DT,UpperBound:i7e,Variable:Dk,ZerosLike:OT,_FusedMatMul:_k,abs:eo,acos:Cye,acosh:Sye,add:mt,addN:VVe,all:Wq,any:TO,argMax:Ow,argMin:$ye,asin:kye,asinh:Eye,atan:_ye,atan2:Tye,atanh:Aye,avgPool:Q4,avgPool3d:Iye,backend:Lq,backend_util:vwe,basicLSTMCell:cWe,batchNorm:PT,batchNorm2d:Nye,batchNorm3d:Dye,batchNorm4d:Oye,batchToSpaceND:eP,bincount:Rye,bitwiseAnd:bWe,booleanMaskAsync:yqe,broadcastArgs:xWe,broadcastTo:aw,broadcast_util:qWe,browser:tYe,buffer:Wn,cast:At,ceil:Fye,clipByValue:yl,clone:Xg,complex:cm,concat:xo,concat1d:Mye,concat2d:Pye,concat3d:Lye,concat4d:Bye,conv1d:jq,conv2d:hm,conv2dTranspose:qq,conv3d:zye,conv3dTranspose:Wye,copyRegisteredKernels:c7e,cos:tP,cosh:Gq,cosineWindow:yG,cumprod:AO,cumsum:Kq,customGrad:ld,denseBincount:TV,deprecationWarn:U7e,depthToSpace:Uye,depthwiseConv2d:LT,device_util:P7e,diag:jWe,dilation2d:jye,disableDeprecationWarnings:W7e,dispose:Yn,disposeVariables:j7e,div:an,divNoNan:Hye,dot:qye,dropout:wbe,einsum:Lb,elu:BT,enableDebugMode:V7e,enableProdMode:z7e,enclosingPowerOfTwo:xbe,engine:uc,ensureShape:tUe,env:Pe,equal:Pc,erf:Yq,euclideanNorm:Yye,exp:bl,expandDims:zi,expm1:Xye,eye:Zq,fft:mP,fill:q2,findBackend:X7e,findBackendFactory:Z7e,floor:VT,floorDiv:Vq,fused:zqe,gather:WT,gatherND:Tqe,gather_util:nYe,getBackend:aye,getGradient:hV,getKernel:Nk,getKernelsForBackend:_O,grad:NUe,grads:DUe,greater:Dl,greaterEqual:s0,ifft:Vk,imag:nP,image:Bf,inTopKAsync:Dqe,io:WKe,irfft:hG,isFinite:Zye,isInf:Jye,isNaN:Qye,keep:Ta,kernel_impls:dYe,leakyRelu:rP,less:Pk,lessEqual:uy,linalg:Abe,linspace:_Ue,localResponseNormalization:ebe,log:tu,log1p:sP,logSigmoid:nbe,logSoftmax:Jq,logSumExp:iP,logicalAnd:ud,logicalNot:aP,logicalOr:Qq,logicalXor:rbe,losses:vKe,lowerBound:qUe,matMul:Kn,math:HKe,max:Du,maxPool:lP,maxPool3d:sbe,maxPoolWithArgmax:XUe,maximum:Ap,mean:Ns,memory:xV,meshgrid:QUe,min:Mk,minimum:x1,mirrorPad:obe,mod:ibe,moments:uP,movingAverage:xqe,mul:we,multiRNNCell:oje,multinomial:aje,neg:as,nextFrame:RG,norm:zT,notEqual:Rw,oneHot:Lk,ones:il,onesLike:nu,op:be,outerProduct:dje,pad:o0,pad1d:gje,pad2d:vje,pad3d:bje,pad4d:xje,pool:abe,pow:sp,prelu:fP,print:xye,prod:lbe,profile:H7e,raggedGather:Aje,raggedRange:Nje,raggedTensorToTensor:Oje,rand:Fje,randomGamma:hHe,randomNormal:sG,randomStandardNormal:mHe,randomUniform:cy,randomUniformInt:bHe,range:Fw,ready:K7e,real:Bk,reciprocal:fbe,registerBackend:Pq,registerGradient:q1e,registerKernel:Z4,relu:Dd,relu6:oG,removeBackend:Y7e,reshape:_e,reverse:Mu,reverse1d:EHe,reverse2d:THe,reverse3d:IHe,reverse4d:DHe,rfft:vP,round:iG,rsqrt:aG,scalar:Sn,scatterND:Sqe,scatter_util:aqe,searchSorted:eG,selu:lG,separableConv2d:uG,serialization:CKe,setBackend:G7e,setPlatform:J7e,setdiff1dAsync:LHe,sigmoid:jf,sign:dbe,signal:mKe,sin:cG,sinh:fG,slice:hr,slice1d:hP,slice2d:dG,slice3d:pP,slice4d:zk,slice_util:Hbe,softmax:gP,softplus:G2,spaceToBatchND:cP,sparse:yKe,sparseToDense:Eqe,spectral:gKe,split:dl,sqrt:Go,square:Kr,squaredDifference:pG,squeeze:fy,stack:cd,step:K2,stridedSlice:hbe,string:bKe,sub:qt,sum:Qt,sumOutType:J4,tan:pbe,tanh:b1,tensor:qv,tensor1d:qi,tensor2d:Zg,tensor3d:gbe,tensor4d:sqe,tensor5d:oqe,tensor6d:iqe,tensorScatterUpdate:uqe,tensor_util:D7e,test_util:uHe,tidy:Le,tile:wu,time:q7e,topk:mbe,train:mg,transpose:rr,truncatedNormal:mG,unique:vbe,unregisterGradient:u7e,unregisterKernel:l7e,unsortedSegmentSum:vG,unstack:pm,upcastType:Oa,upperBound:gqe,util:b7e,valueAndGrad:OUe,valueAndGrads:RUe,variable:ybe,variableGrads:tbe,version_core:aYe,where:mi,whereAsync:bbe,zeros:no,zerosLike:cr},Symbol.toStringTag,{value:"Module"}));const ywe={kernelName:N_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,K2(At(n,"float32"),-1))}}};const pYe={kernelName:Zx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Kr(At(n,"float32")),s=Go(qt(Sn(1),r));return as(an(e,s))}}}};const gYe={kernelName:Jx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Go(qt(Kr(At(n,"float32")),1));return an(e,r)}}}};const mYe={kernelName:ay,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{let a=e;const l=Zs(n.shape,s);return l.length>0&&(a=Qt(a,l)),_e(a,n.shape)},b:()=>{let a=e;const l=Zs(r.shape,s);return l.length>0&&(a=Qt(a,l)),_e(a,r.shape)}}}};const vYe={kernelName:D_,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((r,s)=>{n[s]=()=>e.clone()}),n}};const yYe={kernelName:O_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>cr(n)}}};const bYe={kernelName:R_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>cr(n)}}};const wYe={kernelName:Qx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,Go(qt(Sn(1),Kr(At(n,"float32")))))}}};const xYe={kernelName:e2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Go(mt(Sn(1),Kr(At(n,"float32"))));return an(e,r)}}}};const CYe={kernelName:r2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{const a=mt(Kr(n),Kr(r));let l=we(e,an(r,a));const u=Zs(n.shape,s);return u.length>0&&(l=Qt(l,u)),_e(l,n.shape)},b:()=>{const a=mt(Kr(n),Kr(r));let l=as(we(e,an(n,a)));const u=Zs(r.shape,s);return u.length>0&&(l=Qt(l,u)),_e(l,r.shape)}}}};const SYe={kernelName:t2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,mt(Kr(At(n,"float32")),1))}}};const $Ye={kernelName:n2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,qt(Sn(1),Kr(At(n,"float32"))))}}};function kYe(e,t,n,r,s,o){const i=re(e,"dy","avgPool3dGrad"),a=re(t,"input","avgPool3dGrad");let l=i,u=a,c=!1;a.rank===4&&(c=!0,l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),te(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),te(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),ua("avgPool3dGrad",s,o);const f={dy:l,input:u},d={filterSize:n,strides:r,pad:s,dimRoundingMode:o},h=ve.runKernel(YM,f,d);return c?_e(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const EYe=be({avgPool3dGrad_:kYe});const _Ye={kernelName:M_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:a}=n;return{x:()=>EYe(e,r,s,o,i,a)}}};function TYe(e,t,n,r,s){const o=re(e,"dy","avgPoolGrad"),i=re(t,"input","avgPoolGrad");te(i.rank===o.rank,()=>`Rank of input (${i.rank}) does not match rank of dy (${o.rank})`);let a=i,l=o,u=!1;i.rank===3&&(u=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),te(a.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${a.rank}.`);const c={dy:l,input:a},f={filterSize:n,strides:r,pad:s},d=ve.runKernel(KM,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const AYe=be({avgPoolGrad_:TYe});const IYe={kernelName:F_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:o,pad:i}=n;return{x:()=>AYe(e,r,s,o,i)}}};const NYe={kernelName:P_,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,s]=t,{transposeA:o,transposeB:i}=n;return!o&&!i?{a:()=>Kn(e,s,!1,!0),b:()=>Kn(r,e,!0,!1)}:!o&&i?{a:()=>Kn(e,s,!1,!1),b:()=>Kn(e,r,!0,!1)}:o&&!i?{a:()=>Kn(s,e,!1,!0),b:()=>Kn(r,e,!1,!1)}:{a:()=>Kn(s,e,!0,!0),b:()=>Kn(e,r,!0,!0)}}};const DYe={kernelName:L_,gradFunc:(e,t,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>cP(e,r,s)}}};const OYe={kernelName:j1e,gradFunc:(e,t,n)=>{const r=n,s=r.inputShape,o=r.shape,i=Array.from(o);for(let l=s.length-1;l>=0;l--)if(s[l]===o[l])i[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${o}].`);const a=[];for(let l=0;l<i.length;l++)i[l]>1&&a.push(l);return{x:()=>Qt(e,a,!0)}}};const RYe={kernelName:s2,gradFunc:e=>({x:()=>e.clone()})};const FYe={kernelName:o2,gradFunc:e=>({x:()=>cr(e)})};const MYe={kernelName:i2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:s,clipValueMax:o}=n;return{x:()=>mi(ud(s0(r,s),uy(r,o)),e,cr(e))}}};const PYe={kernelName:z_,inputsToSave:["x"],gradFunc:ywe.gradFunc};const LYe={kernelName:V_,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(l=>l.shape),{axis:s}=n,o=qn(s,t[0].shape)[0],i=r.map(l=>l[o]);return dl(e,i,o).map(l=>()=>l)}};const BYe={kernelName:W_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{dilations:o,strides:i,pad:a,dataFormat:l}=n;return te(dm(o),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`),{x:()=>Hq(r.shape,e,s,i,a,l),filter:()=>bG(r,e,s.shape,i,a,l)}}};const zYe={kernelName:U_,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{strides:o,pad:i,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>hm(e,s,o,i,a,1,l),filter:()=>bG(e,r,s.shape,o,i,a,l)}}};function VYe(e,t,n,r,s){let o=e;e.rank===4&&(o=_e(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;i.rank===4&&(i=_e(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),te(o.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${o.shape}.`),te(i.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`),te(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),te(o.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${o.shape[4]}) must match input depth in filter (${n[3]}.`),te(i.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`);const a={x:o,dy:i},l={strides:r,pad:s,filterShape:n};return ve.runKernel(e4,a,l)}const WYe=be({conv3DBackpropFilter_:VYe});const UYe={kernelName:j_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:o}=n;te(dm(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[i,a]=t;return{x:()=>Vye(i.shape,e,a,s,o),filter:()=>WYe(i,e,a.shape,s,o)}}};const jYe={kernelName:a2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(as(cG(At(n,"float32"))),e)}}};const HYe={kernelName:l2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(fG(At(n,"float32")),e)}}};const qYe={kernelName:H_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s,exclusive:o,reverse:i}=n;return{x:()=>{const a=As([s],r.rank);let l=Kq(e,s,o,!i);return a!=null&&(l=rr(l,a)),l}}}};const GYe={kernelName:q_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:o,dimRoundingMode:i}=n,a=r??[1,1];te(dm(a),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[l,u]=t;return te(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),te(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),te(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),te(Jo(s,a),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${a}'.`),ua("depthwiseConv2d",o,i),{x:()=>$be(l.shape,e,u,s,o,a,i),filter:()=>Sbe(l,e,u.shape,s,o,a,i)}}};const KYe={kernelName:G_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,o={x:r,filter:s,dy:e},i={x:r,filter:s,dy:e};return{x:()=>ve.runKernel($O,o,n),filter:()=>ve.runKernel(kO,i,n)}}};const YYe={kernelName:c2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>ve.runKernel(f4,r)}}};const XYe={kernelName:f2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=we(bl(as(Kr(n))),2/Math.sqrt(Math.PI));return{x:()=>we(e,r)}}};const ZYe={kernelName:d2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,n)}}};const JYe={kernelName:Y_,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>_e(e,n.shape)}}};const QYe={kernelName:h2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,bl(n))}}};const eXe={kernelName:p2,gradFunc:e=>({x:()=>cr(e)})};const tXe={kernelName:g2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{const a=an(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Qt(a,l),n.shape):a},b:()=>{let a=we(e,At(n,"float32"));const l=Zs(r.shape,s);l.length>0&&(a=_e(Qt(a,l),r.shape));const u=Kr(r);return as(an(a,At(u,"float32")))}}}};const nXe={kernelName:X_,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[s,o,i,a]=t,l=a??Sn(1),u=Zs(o.shape,s.shape),c=[];if(o.rank===1){for(let w=0;w<s.shape.length-1;++w)c.push(s.shape[w]);c.push(1)}const f=qt(s,o),d=we(e,l),h=aG(mt(i,Sn(r))),p=we(we(we(h,h),h),Sn(-.5));return{x:()=>o.rank===1?_e(we(we(e,wu(_e(h,[1,1,1,o.shape[0]]),c)),l),s.shape):_e(we(we(e,h),l),s.shape),mean:()=>{let w=we(we(h,Sn(-1)),d);return o.rank===1&&(w=Qt(w,u)),_e(w,o.shape)},variance:()=>{let w=we(we(p,f),d);return o.rank===1&&(w=Qt(w,u)),_e(w,o.shape)},scale:()=>{const w=we(f,h);let C=we(e,w);return o.rank===1&&(C=Qt(C,u)),_e(C,o.shape)},offset:()=>{let w=e;return o.rank===1&&(w=Qt(w,u)),_e(w,o.shape)}}}};const rXe={kernelName:Z_,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,s]=t,{axis:o,batchDims:i}=n,a=qn(o,r.shape)[0],l=(u,c,f)=>()=>{const d=u.shape,h=c.size,p=d.slice(0,a),g=p.length,m=d.slice(o,d.length).slice(1),v=m.length,y=Kse(0,g),b=Kse(g+1,g+1+v),w=Yse([p,[h],m]),C=_e(f,w),S=_e(c,[h]),$=Yse([[g],y,b]),k=rr(C,$);let T=vG(k,S,u.shape[a]);const _=r0($);return T=rr(T,_),T};if(i===1){const u=r.shape[0],c=r.split(u,0);return{x:()=>cd(c.map((h,p)=>l(h,s.slice(p,1),e.slice(p,1))())).reshape(r.shape),indices:()=>s}}else return{x:l(r,s,e),indices:()=>s}}};function Kse(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function Yse(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const sXe={kernelName:m2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>cr(n),b:()=>cr(r)}}};const oXe={kernelName:v2,gradFunc:e=>({x:()=>At(e,"float32")})};const iXe={kernelName:y2,gradFunc:e=>({x:()=>cr(e)})};const aXe={kernelName:b2,gradFunc:e=>({x:()=>cr(e)})};const lXe={kernelName:w2,gradFunc:e=>({x:()=>cr(e)})};const uXe={kernelName:Q_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:s}=n,o=Dl(r,0);return{x:()=>mi(o,e,we(e,s))}}};const cXe={kernelName:C2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,mt(n,1))}}};const fXe={kernelName:x2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,At(n,"float32"))}}};const dXe={kernelName:H1e,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;return{logits:()=>{const i=bl(r);return qt(e,we(Qt(e,s,!0),i))}}}};function hXe(e,t,n,r=5,s=1,o=1,i=.5){const a={x:e,y:t,dy:n},l={depthRadius:r,bias:s,alpha:o,beta:i};return ve.runKernel(b4,a,l)}const pXe=be({localResponseNormalizationBackprop_:hXe});const gXe={kernelName:oT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{depthRadius:o,bias:i,alpha:a,beta:l}=n;return{x:()=>pXe(r,s,e,o,i,a,l)}}};function bwe(e,t,n,r){return t.rank<n.rank&&(t=_e(t,Us(t.shape,r))),e.rank<n.rank&&(e=_e(e,Us(e.shape,r))),{x:()=>we(e,At(Pc(n,t),e.dtype))}}const Xse={kernelName:iT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:s}=r,o=t[0],i=t[1],a=qn(s,o.shape),l=bwe(e,i,o,a);return{x:()=>l.x()}}};const mXe={kernelName:S2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>we(e,At(s0(n,r),"float32")),b:()=>we(e,At(Pk(n,r),"float32"))}}};function vXe(e,t,n,r,s,o,i){const a=re(e,"dy","maxPool3dGrad"),l=re(t,"input","maxPool3dGrad"),u=re(n,"output","maxPool3dGrad");let c=a,f=l,d=u,h=!1;l.rank===4&&(h=!0,c=_e(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),f=_e(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=_e(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),te(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),te(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),te(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),ua("maxPool3dGrad",o,i);const p={dy:c,input:f,output:d},g={filterSize:r,strides:s,pad:o,dimRoundingMode:i},m=ve.runKernel(x4,p,g);return h?_e(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const yXe=be({maxPool3dGrad_:vXe});const bXe={kernelName:lT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=n;return{x:()=>yXe(e,r,s,o,i,a,l)}}};function wXe(e,t,n,r,s,o,i){const a=re(e,"dy","maxPoolGrad"),l=re(t,"input","maxPoolGrad"),u=re(n,"output","maxPoolGrad");te(l.rank===a.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${a.rank})`),te(a.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${a.rank}.`),te(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),ua("maxPoolGrad",o,i);const c={dy:a,input:l,output:u},f={filterSize:r,strides:s,pad:o,dimRoundingMode:i};return ve.runKernel(w4,c,f)}const xXe=be({maxPoolGrad_:wXe});const CXe={kernelName:aT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:o,strides:i,pad:a}=n;return{x:()=>xXe(e,r,s,o,i,a)}}};const SXe={kernelName:uT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n,o=qn(s,r.shape),a=Ao(r.shape,o)[1],l=je(a);return{x:()=>{const c=r.shape.slice();o.forEach(h=>{c[h]=1});const f=_e(e,c);return an(we(f,il(r.shape,"float32")),l)}}}};const $Xe={kernelName:cT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:s}=r,[o,i]=t,a=qn(s,o.shape),l=bwe(e,i,o,a);return{x:()=>l.x()}}};const kXe={kernelName:$2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>we(e,At(uy(n,r),"float32")),b:()=>we(e,At(Dl(n,r),"float32"))}}};const EXe={kernelName:fT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,o=s.map(i=>i[0]);return{x:()=>hr(e,o,r.shape)}}};const _Xe={kernelName:k2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{const a=Zs(n.shape,s);return a.length>0?_e(Qt(e,a),n.shape):e},b:()=>{const a=we(e,as(VT(an(n,r)))),l=Zs(r.shape,s);return l.length>0?_e(Qt(a,l),r.shape):a}}}};const TXe={kernelName:E2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{const a=we(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Qt(a,l),n.shape):a},b:()=>{const a=we(e,At(n,"float32")),l=Zs(r.shape,s);return l.length>0?_e(Qt(a,l),r.shape):a}}}};const AXe={kernelName:dT,gradFunc:e=>({x:()=>as(e)})};const IXe={kernelName:gT,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>no(n.shape,"float32")}}};const NXe={kernelName:pT,gradFunc:e=>({x:()=>cr(e)})};const DXe={kernelName:mT,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return pm(e,r).map(o=>()=>o)}};const Zse={kernelName:vT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,o=s.map(i=>i[0]);return{x:()=>hr(e,o,r.shape)}}};const OXe={kernelName:_2,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,s]=t,o=n,i=r,a=Dn(o.shape,i.shape);return{a:()=>{const c=At(i,"float32");let f=we(e,we(c,sp(o,qt(c,Sn(1)))));const d=Zs(o.shape,a);return d.length>0&&(f=Qt(f,d)),_e(f,o.shape)},b:()=>{const c=Dl(o,0),f=mi(c,tu(o),cr(o));let d=we(e,we(s,f));const h=Zs(i.shape,a);return h.length>0&&(d=Qt(d,h)),_e(d,i.shape)}}}};const RXe={kernelName:yT,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,s=Dl(n,0);return{x:()=>mi(s,e,we(e,r)),alpha:()=>{let o=mi(s,cr(e),we(e,n));const i=Zs(r.shape,e.shape);return i.length>0&&(o=Qt(o,i)),_e(o,r.shape)}}}};function FXe(e,t,n){const r=e.shape.slice();r[n]=1;const s=_e(t,r),o=AO(e,n,!0,!1),i=AO(e,n,!0,!0),a=we(o,i);return we(s,a)}function MXe(e,t,n){const r=e.shape.length,s=r-n.length,o=As(n,r);let i=e;o!=null&&(i=rr(e,o));const a=i.shape.slice(),u=a.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);a.push(u);const c=i.reshape(a);let f=FXe(c,t,s);if(f=f.reshape(i.shape),o!=null){const d=r0(o);f=rr(f,d)}return f}const PXe={kernelName:bT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;let o=[];return s==null?o=r.shape.map((i,a)=>a):typeof s=="number"?o=[s]:o=s,{x:()=>MXe(r,e,o)}}};const LXe={kernelName:u2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{const a=an(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Qt(a,l),n.shape):a},b:()=>{let a=we(e,At(n,"float32"));const l=Zs(r.shape,s);l.length>0&&(a=_e(Qt(a,l),r.shape));const u=Kr(r);return as(an(a,At(u,"float32")))}}}};const BXe={kernelName:T2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,as(Kr(n)))}}};const zXe={kernelName:I2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=we(uy(n,6),K2(n));return{x:()=>we(e,At(r,"float32"))}}};const VXe={kernelName:A2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,At(K2(n),"float32"))}}};const WXe={kernelName:wT,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>_e(e,n.shape)}}};const UXe={kernelName:CT,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>ve.runKernel(O4,s,n)}}};const jXe={kernelName:xT,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>ve.runKernel(D4,s,n)}}};const HXe={kernelName:ST,gradFunc:(e,t,n)=>{const{dims:r}=n,s=qn(r,e.shape);return{x:()=>Mu(e,s)}}};const qXe={kernelName:N2,gradFunc:e=>({x:()=>cr(e)})};const GXe={kernelName:D2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>as(an(e,we(sp(n,1.5),2)))}}};const KXe={kernelName:$T,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>At(cr(n),"float32"),t:()=>we(e,At(n,e.dtype)),e:()=>we(e,At(aP(n),e.dtype))}}};const YXe={kernelName:O2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Dl(n,Sn(0)),s=Sn(NP),o=Sn(DP),i=we(e,o),a=we(we(e,s),bl(At(n,"float32")));return mi(r,i,a)}}}};const XXe={kernelName:P2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,we(n,qt(Sn(1),n)))}}};const ZXe={kernelName:M2,gradFunc:e=>({x:()=>cr(e)})};const JXe={kernelName:R2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(tP(At(n,"float32")),e)}}};const QXe={kernelName:F2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(Gq(At(n,"float32")),e)}}};const eZe={kernelName:kT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:s,size:o}=n,i=r.shape,[a,l]=AP(r,s,o),u=[];for(let c=0;c<e.rank;c++)u.push([a[c],i[c]-a[c]-l[c]]);return{x:()=>o0(e,u)}}};const tZe={kernelName:AT,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:s}=n,o=!0,i=we(e,r);return{logits:()=>qt(i,we(Qt(i,[s],o),r))}}};const nZe={kernelName:L2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,jf(n))}}};const Jse={kernelName:_T,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>eP(e,r,s)}}};const Qse={kernelName:TT,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>xo(e,r)}}};const rZe={kernelName:B2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,we(Go(At(n,"float32")),2))}}};const sZe={kernelName:W4,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,we(At(n,"float32"),2))}}};const oZe={kernelName:z2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Sn(2);return{a:()=>we(e,we(s,qt(n,r))),b:()=>we(e,we(s,qt(r,n)))}}};const iZe={kernelName:H2,gradFunc:e=>({x:()=>cr(e)})};const aZe={kernelName:V2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Dn(n.shape,r.shape);return{a:()=>{let a=e;const l=Zs(n.shape,s);return l.length>0&&(a=Qt(a,l)),_e(a,n.shape)},b:()=>{let a=e;const l=Zs(r.shape,s);return l.length>0&&(a=Qt(a,l)),_e(as(a),r.shape)}}}};const lZe={kernelName:ET,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,s=r.shape.slice(),{axis:o}=n;qn(o,r.shape).forEach(u=>{s[u]=1});const a=_e(e,s),l=we(a,il(r.shape,"float32"));return{x:()=>l}}};const uZe={kernelName:W2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,Kr(tP(n)))}}};const cZe={kernelName:U2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(qt(Sn(1),Kr(n)),e)}}};const fZe={kernelName:j2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:s}=n;return{x:()=>{let i=cr(r);if(r.rank===1)for(let a=0;a<s[0];++a)i=mt(i,hr(e,[a*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)for(let c=0;c<s[3];++c)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return i}}}};const dZe={kernelName:Hv,gradFunc:(e,t,n)=>{const r=n,{perm:s}=r,o=r0(s);return{x:()=>rr(e,o)}}};const hZe={kernelName:NT,gradFunc:(e,t,n)=>{const r=n,{axis:s}=r;return{value:()=>cd(e,s)}}};const pZe={kernelName:DT,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gZe(e,n)}}};function gZe(e,t){const n=Ap(t,cr(t)),r=WT(e,n);let s=s0(t,Sn(0,"int32"));const o=r.rank-s.rank;for(let a=0;a<o;++a)s=zi(s,a+1);s=ud(s,il(r.shape,"bool"));const i=cr(r);return mi(s,r,i)}const mZe={kernelName:OT,gradFunc:e=>({x:()=>cr(e)})};const vZe=[ywe,pYe,gYe,mYe,vYe,yYe,bYe,wYe,xYe,CYe,SYe,$Ye,_Ye,IYe,NYe,DYe,OYe,RYe,FYe,MYe,PYe,LYe,zYe,BYe,UYe,jYe,HYe,qYe,GYe,KYe,LXe,YYe,XYe,ZYe,JYe,QYe,tXe,eXe,nXe,rXe,sXe,oXe,iXe,aXe,lXe,uXe,cXe,fXe,dXe,gXe,Xse,Xse,mXe,bXe,CXe,SXe,$Xe,kXe,EXe,_Xe,TXe,AXe,IXe,NXe,DXe,Zse,Zse,OXe,RXe,PXe,BXe,zXe,VXe,WXe,UXe,jXe,HXe,qXe,GXe,KXe,YXe,XXe,ZXe,JXe,QXe,eZe,tZe,nZe,Jse,Jse,Qse,Qse,rZe,oZe,sZe,iZe,aZe,lZe,uZe,cZe,fZe,dZe,hZe,pZe,mZe];for(const e of vZe)q1e(e);qe().prototype.abs=function(){return this.throwIfDisposed(),eo(this)};qe().prototype.acos=function(){return this.throwIfDisposed(),Cye(this)};qe().prototype.acosh=function(){return this.throwIfDisposed(),Sye(this)};qe().prototype.add=function(e){return this.throwIfDisposed(),mt(this,e)};qe().prototype.all=function(e,t){return this.throwIfDisposed(),Wq(this,e,t)};qe().prototype.any=function(e,t){return this.throwIfDisposed(),TO(this,e,t)};qe().prototype.argMax=function(e){return this.throwIfDisposed(),Ow(this,e)};qe().prototype.argMin=function(e){return this.throwIfDisposed(),$ye(this,e)};qe().prototype.asScalar=function(){return this.throwIfDisposed(),te(this.size===1,()=>"The array must have only 1 element."),_e(this,[])};qe().prototype.asType=function(e){return this.throwIfDisposed(),At(this,e)};qe().prototype.as1D=function(){return this.throwIfDisposed(),_e(this,[this.size])};qe().prototype.as2D=function(e,t){return this.throwIfDisposed(),_e(this,[e,t])};qe().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),_e(this,[e,t,n])};qe().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),_e(this,[e,t,n,r])};qe().prototype.as5D=function(e,t,n,r,s){return this.throwIfDisposed(),_e(this,[e,t,n,r,s])};qe().prototype.asin=function(){return this.throwIfDisposed(),kye(this)};qe().prototype.asinh=function(){return this.throwIfDisposed(),Eye(this)};qe().prototype.atan=function(){return this.throwIfDisposed(),_ye(this)};qe().prototype.atan2=function(e){return this.throwIfDisposed(),Tye(this,e)};qe().prototype.atanh=function(){return this.throwIfDisposed(),Aye(this)};qe().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Q4(this,e,t,n,r)};qe().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),eP(this,e,t)};qe().prototype.batchNorm=function(e,t,n,r,s){return this.throwIfDisposed(),PT(this,e,t,n,r,s)};qe().prototype.broadcastTo=function(e){return this.throwIfDisposed(),aw(this,e)};qe().prototype.cast=function(e){return this.throwIfDisposed(),At(this,e)};qe().prototype.ceil=function(){return this.throwIfDisposed(),Fye(this)};qe().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),yl(this,e,t)};qe().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Mr&&(e=[e]),xo([this,...e],t)};qe().prototype.conv1d=function(e,t,n,r,s,o){return this.throwIfDisposed(),jq(this,e,t,n,r,s,o)};qe().prototype.conv2dTranspose=function(e,t,n,r,s){return this.throwIfDisposed(),qq(this,e,t,n,r,s)};qe().prototype.conv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),hm(this,e,t,n,r,s,o)};qe().prototype.cos=function(){return this.throwIfDisposed(),tP(this)};qe().prototype.cosh=function(){return this.throwIfDisposed(),Gq(this)};qe().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),AO(this,e,t,n)};qe().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Kq(this,e,t,n)};qe().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Uye(this,e,t)};qe().prototype.depthwiseConv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),LT(this,e,t,n,r,s,o)};qe().prototype.dilation2d=function(e,t,n,r,s){return this.throwIfDisposed(),jye(this,e,t,n,r,s)};qe().prototype.divNoNan=function(e){return this.throwIfDisposed(),Hye(this,e)};qe().prototype.div=function(e){return this.throwIfDisposed(),an(this,e)};qe().prototype.dot=function(e){return this.throwIfDisposed(),qye(this,e)};qe().prototype.elu=function(){return this.throwIfDisposed(),BT(this)};qe().prototype.equal=function(e){return this.throwIfDisposed(),Pc(this,e)};qe().prototype.erf=function(){return this.throwIfDisposed(),Yq(this)};qe().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Yye(this,e,t)};qe().prototype.exp=function(){return this.throwIfDisposed(),bl(this)};qe().prototype.expandDims=function(e){return this.throwIfDisposed(),zi(this,e)};qe().prototype.expm1=function(){return this.throwIfDisposed(),Xye(this)};qe().prototype.fft=function(){return this.throwIfDisposed(),mP(this)};qe().prototype.flatten=function(){return this.throwIfDisposed(),_e(this,[this.size])};qe().prototype.floor=function(){return this.throwIfDisposed(),VT(this)};qe().prototype.floorDiv=function(e){return this.throwIfDisposed(),Vq(this,e)};qe().prototype.gather=function(e,t,n){return this.throwIfDisposed(),WT(this,e,t,n)};qe().prototype.greaterEqual=function(e){return this.throwIfDisposed(),s0(this,e)};qe().prototype.greater=function(e){return this.throwIfDisposed(),Dl(this,e)};qe().prototype.ifft=function(){return this.throwIfDisposed(),Vk(this)};qe().prototype.irfft=function(){return this.throwIfDisposed(),hG(this)};qe().prototype.isFinite=function(){return this.throwIfDisposed(),Zye(this)};qe().prototype.isInf=function(){return this.throwIfDisposed(),Jye(this)};qe().prototype.isNaN=function(){return this.throwIfDisposed(),Qye(this)};qe().prototype.leakyRelu=function(e){return this.throwIfDisposed(),rP(this,e)};qe().prototype.lessEqual=function(e){return this.throwIfDisposed(),uy(this,e)};qe().prototype.less=function(e){return this.throwIfDisposed(),Pk(this,e)};qe().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),ebe(this,e,t,n,r)};qe().prototype.logSigmoid=function(){return this.throwIfDisposed(),nbe(this)};qe().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Jq(this,e)};qe().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),iP(this,e,t)};qe().prototype.log=function(){return this.throwIfDisposed(),tu(this)};qe().prototype.log1p=function(){return this.throwIfDisposed(),sP(this)};qe().prototype.logicalAnd=function(e){return this.throwIfDisposed(),ud(this,e)};qe().prototype.logicalNot=function(){return this.throwIfDisposed(),aP(this)};qe().prototype.logicalOr=function(e){return this.throwIfDisposed(),Qq(this,e)};qe().prototype.logicalXor=function(e){return this.throwIfDisposed(),rbe(this,e)};qe().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Kn(this,e,t,n)};qe().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),lP(this,e,t,n,r)};qe().prototype.max=function(e,t){return this.throwIfDisposed(),Du(this,e,t)};qe().prototype.maximum=function(e){return this.throwIfDisposed(),Ap(this,e)};qe().prototype.mean=function(e,t){return this.throwIfDisposed(),Ns(this,e,t)};qe().prototype.min=function(e,t){return this.throwIfDisposed(),Mk(this,e,t)};qe().prototype.minimum=function(e){return this.throwIfDisposed(),x1(this,e)};qe().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),obe(this,e,t)};qe().prototype.mod=function(e){return this.throwIfDisposed(),ibe(this,e)};qe().prototype.mul=function(e){return this.throwIfDisposed(),we(this,e)};qe().prototype.neg=function(){return this.throwIfDisposed(),as(this)};qe().prototype.norm=function(e,t,n){return this.throwIfDisposed(),zT(this,e,t,n)};qe().prototype.notEqual=function(e){return this.throwIfDisposed(),Rw(this,e)};qe().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Lk(this,e,t,n)};qe().prototype.onesLike=function(){return this.throwIfDisposed(),nu(this)};qe().prototype.pad=function(e,t){return this.throwIfDisposed(),o0(this,e,t)};qe().prototype.pool=function(e,t,n,r,s,o){return this.throwIfDisposed(),abe(this,e,t,n,r,s,o)};qe().prototype.pow=function(e){return this.throwIfDisposed(),sp(this,e)};qe().prototype.prelu=function(e){return this.throwIfDisposed(),fP(this,e)};qe().prototype.prod=function(e,t){return this.throwIfDisposed(),lbe(this,e,t)};qe().prototype.reciprocal=function(){return this.throwIfDisposed(),fbe(this)};qe().prototype.relu=function(){return this.throwIfDisposed(),Dd(this)};qe().prototype.relu6=function(){return this.throwIfDisposed(),oG(this)};qe().prototype.reshapeAs=function(e){return this.throwIfDisposed(),_e(this,e.shape)};qe().prototype.reshape=function(e){return this.throwIfDisposed(),_e(this,e)};qe().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),_be(this,e,t,n)};qe().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Tbe(this,e,t,n)};qe().prototype.reverse=function(e){return this.throwIfDisposed(),Mu(this,e)};qe().prototype.rfft=function(){return this.throwIfDisposed(),vP(this)};qe().prototype.round=function(){return this.throwIfDisposed(),iG(this)};qe().prototype.rsqrt=function(){return this.throwIfDisposed(),aG(this)};qe().prototype.selu=function(){return this.throwIfDisposed(),lG(this)};qe().prototype.separableConv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),uG(this,e,t,n,r,s,o)};qe().prototype.sigmoid=function(){return this.throwIfDisposed(),jf(this)};qe().prototype.sign=function(){return this.throwIfDisposed(),dbe(this)};qe().prototype.sin=function(){return this.throwIfDisposed(),cG(this)};qe().prototype.sinh=function(){return this.throwIfDisposed(),fG(this)};qe().prototype.slice=function(e,t){return this.throwIfDisposed(),hr(this,e,t)};qe().prototype.softmax=function(e){return this.throwIfDisposed(),gP(this,e)};qe().prototype.softplus=function(){return this.throwIfDisposed(),G2(this)};qe().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),cP(this,e,t)};qe().prototype.split=function(e,t){return this.throwIfDisposed(),dl(this,e,t)};qe().prototype.sqrt=function(){return this.throwIfDisposed(),Go(this)};qe().prototype.square=function(){return this.throwIfDisposed(),Kr(this)};qe().prototype.squaredDifference=function(e){return this.throwIfDisposed(),pG(this,e)};qe().prototype.squeeze=function(e){return this.throwIfDisposed(),fy(this,e)};qe().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Mr?[this,e]:[this,...e];return cd(n,t)};qe().prototype.step=function(e){return this.throwIfDisposed(),K2(this,e)};qe().prototype.stridedSlice=function(e,t,n,r,s,o,i,a){return this.throwIfDisposed(),hbe(this,e,t,n,r,s,o,i,a)};qe().prototype.sub=function(e){return this.throwIfDisposed(),qt(this,e)};qe().prototype.sum=function(e,t){return this.throwIfDisposed(),Qt(this,e,t)};qe().prototype.tan=function(){return this.throwIfDisposed(),pbe(this)};qe().prototype.tanh=function(){return this.throwIfDisposed(),b1(this)};qe().prototype.tile=function(e){return this.throwIfDisposed(),wu(this,e)};qe().prototype.toBool=function(){return this.throwIfDisposed(),At(this,"bool")};qe().prototype.toFloat=function(){return this.throwIfDisposed(),At(this,"float32")};qe().prototype.toInt=function(){return this.throwIfDisposed(),At(this,"int32")};qe().prototype.topk=function(e,t){return this.throwIfDisposed(),mbe(this,e,t)};qe().prototype.transpose=function(e){return this.throwIfDisposed(),rr(this,e)};qe().prototype.unique=function(e){return this.throwIfDisposed(),vbe(this,e)};qe().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),vG(this,e,t)};qe().prototype.unstack=function(e){return this.throwIfDisposed(),pm(this,e)};qe().prototype.where=function(e,t){return this.throwIfDisposed(),mi(e,this,t)};qe().prototype.zerosLike=function(){return this.throwIfDisposed(),cr(this)};class Af extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Af.prototype)}}class xu extends Error{constructor(t){super(t),Object.setPrototypeOf(this,xu.prototype)}}class ke extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ke.prototype)}}class Vn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Vn.prototype)}}class eK extends Error{constructor(t){super(t),Object.setPrototypeOf(this,eK.prototype)}}class wwe{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let n;return this.cache.has(t)&&(n=this.cache.get(t),this.cache.delete(t),this.cache.set(t,n)),n}put(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let n=0;n<this.maxEntries-t;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=t}}function S1(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}else{const n=new Array(t);return n.fill(e),n}}function If(e,t){if(!e)throw new eK(t)}function eoe(e,t){let n=0;for(const r of e)r===t&&n++;return n}function xa(e){return e.length===1?e[0]:e}function Ar(e){return Array.isArray(e)?e:[e]}function gh(e){const n=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function dv(e){return e.length<=1||e.indexOf("_")===-1?e:e.replace(/[_]+(\w|$)/g,(t,n)=>n.toUpperCase())}let du={};function tK(e){if(e==null)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function FV(e){if(!(e==null||typeof e!="object"))if(Array.isArray(e))e.forEach(t=>FV(t));else{const t=Object.keys(e);for(const n of t){const r=e[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?e[n]=r.value:FV(r))}}}function qT(e,t={},n={},r="object",s=!1){if(typeof e=="string"){const o=e;let i;if(o in n)i=n[o];else if(o in du)i=du[o];else if(i=t[o],i==null)throw new ke(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}else{const o=e;if(o.className==null||o.config==null)throw new ke(`${r}: Improper config format: ${JSON.stringify(o)}.
'className' and 'config' must set.`);const i=o.className;let a,l;if(i in n?[a,l]=n[i]:i in du?[a,l]=du.className:i in t&&([a,l]=t[i]),a==null)throw new ke(`Unknown ${r}: ${i}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const h of Object.keys(du))u[h]=du[h];for(const h of Object.keys(n))u[h]=n[h];const c=o.config;c.customObjects=u;const f=Object.assign({},du);for(const h of Object.keys(n))du[h]=n[h];FV(o.config);const d=l(a,o.config,n,s);return du=Object.assign({},f),d}else{const u=Object.assign({},du);for(const f of Object.keys(n))du[f]=n[f];const c=new a(o.config);return du=Object.assign({},u),c}}}function yZe(e,t){return e<t?-1:e>t?1:0}function qI(e,t){return-1*yZe(e,t)}function Jg(e){if(e==null)return e;const t=[];for(const n of e)t.indexOf(n)===-1&&t.push(n);return t}function bZe(e){if(e==null)throw new ke(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function hy(e,t,n){if(n!=null&&e.indexOf(n)<0)throw new ke(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function nK(e,t,n=0,r=1/0){return If(n>=0),If(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(s=>typeof s===t)}function yo(e,t){Array.isArray(e)?(te(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((n,r)=>yo(n,`element ${r+1} of ${t}`))):te(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${xwe(e)}.`)}function xwe(e){return e===null?"null":Array.isArray(e)?"["+e.map(t=>xwe(t)).join(",")+"]":typeof e=="string"?`"${e}"`:`${e}`}function wZe(e,t,n){let r=n!=null?n():Fi(),s;return(...i)=>{const a=n!=null?n():Fi();return a-r<t||(r=a,s=e(...i)),s}}function Cwe(e){return e==="relu"?"relu":e==="linear"?"linear":e==="elu"?"elu":null}let xZe=0;function Swe(){return xZe++}const GI={};function OP(e=""){return e in GI||(GI[e]=0),GI[e]+=1,e+GI[e].toString()}const CZe=["channelsFirst","channelsLast"],SZe=["nearest","bilinear"],$Ze=["valid","same","causal"],kZe=["max","avg"],EZe=["sum","mul","concat","ave"];const cb=new Map;function qs(e){hy(CZe,"DataFormat",e)}function _Ze(e){hy(SZe,"InterpolationFormat",e)}function au(e){hy($Ze,"PaddingMode",e)}function $we(e){hy(kZe,"PoolMode",e)}const U$=[],toe="/";function Gv(e,t){U$.push(e);try{const n=t();return U$.pop(),n}catch(n){throw U$.pop(),n}}function TZe(){return U$.length===0?"":U$.join(toe)+toe}function kwe(e){if(!_we(e))throw new Error("Not a valid tensor name: '"+e+"'");return TZe()+e}function Ewe(e){if(!_we(e))throw new Error("Not a valid tensor name: '"+e+"'");cb.has(e)||cb.set(e,0);const t=cb.get(e);if(cb.set(e,cb.get(e)+1),t>0){const n=`${e}_${t}`;return cb.set(n,1),n}else return e}const AZe=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function _we(e){return!!e.match(AZe)}function IZe(e){return e===parseInt(e.toString(),10)}function Qg(e,t,n){t==null&&(t=0),n==null&&(n=e.length);let r=1;for(let s=t;s<n;++s)r*=e[s];return r}function Mw(e){if(e.length===0)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function gm(e){if(e.length===0)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Lc(e,t){if(t<e)throw new ke(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let r5;function ro(){return r5==null&&(r5=Lq().epsilon()),r5}function Bc(){return"channelsLast"}function qf(e,t){return At(e,t)}function GT(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),_e(e,n)}function NZe(e,t){return Le(()=>{if(e.shape.length!==2)throw new ke(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);const n=GT(e,1);return MV(n,[1,t,1])})}function DZe(e){const t=[Qg(e.shape)];return _e(e,t)}function OZe(e){if(e.rank<=1)throw new ke(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],Qg(e.shape,1)];return _e(e,t)}function Kv(e,t,n){return Le(()=>{switch(e.rank){case 1:return hP(e,t,n);case 2:return dG(e,[t,0],[n,e.shape[1]]);case 3:return pP(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return zk(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return hr(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return hr(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ke(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function s5(e,t,n){return Le(()=>{switch(e.rank){case 1:return hP(e,t,n);case 2:return dG(e,[0,t],[e.shape[0],n]);case 3:return pP(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return zk(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ke(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function KI(e,t,n,r){return Le(()=>{switch(e.rank){case 1:return hP(e,t,n);case 2:switch(r){case 1:return Kv(e,t,n);case 2:return s5(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Kv(e,t,n);case 2:return pP(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return s5(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Kv(e,t,n);case 2:return zk(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return zk(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return s5(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}default:throw new ke(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function rK(e,t=-1){let n;return t<0&&(n=e[0].rank,n!==0?t=n:t=0),t===e[0].rank&&(t=-1),xo(e,t)}function noe(e,t){switch(e.rank){case 1:return Mye([e,t]);case 2:return Pye([e,t],0);case 3:return Lye([e,t],0);case 4:return Bye([e,t],0);default:throw new ke(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function MV(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ke(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return wu(e,t)}function RP(e,t=0,n=1,r,s){return sG(e,t,n,r,s)}function Gf(e,t,n,r){if(e.rank<2||t.rank<2)throw new Vn(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){const s=e.shape.slice(-1)[0],o=t.shape.slice(-2)[0];if(s!==o)throw new Vn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(e.rank===2&&t.rank===2)return IV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?PV(e.rank,r,Bc()):null,activation:n});{const s=e.shape.slice(),o=s.pop();e=_e(e,[-1,o]);const i=t.shape.slice(),a=i.pop(),l=i.pop(),u=[...i,a],c=Array.from({length:t.rank},(p,g)=>g===0?t.rank-2:g<=t.rank-2?g-1:g);t=_e(rr(t,c),[l,-1]);const f=[...s,...u];return _e(IV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?PV(e.rank,r,Bc()):null,activation:n}),f)}}function Twe(e,t,n){return Le(()=>(Array.isArray(t)?t=qi(t,"int32"):t=At(t,"int32"),WT(e,t,n)))}function KT(e){return we(e,e)}function PV(e,t,n){const r=t.shape;if(t.rank!==1&&t.rank!==e)throw new ke(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(e===5){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1,1,1]):_e(t,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,1,1,r[0]]):_e(t,[1].concat(r))}else if(e===4){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1,1]):_e(t,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,1,r[0]]):_e(t,[1].concat(r))}else if(e===3){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1]):_e(t,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,r[0]]):_e(t,[1].concat(r))}else if(e<3)return t;throw new ke(`Unsupported input rank by biasAdd: ${t.rank}`)}function Zc(e,t,n){return Le(()=>(n==null&&(n=Bc()),qs(n),mt(e,PV(e.rank,t,n))))}function RZe(e,t=1){if(t!==1)throw new Vn(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return BT(e)}function FZe(e){return Le(()=>an(e,mt(eo(e),1)))}function Awe(e,t,n,r){return Le(()=>wbe(e,t,n,r))}function MZe(e){return Le(()=>{const t=mt(.5,we(.2,e));return yl(t,0,1)})}function YT(e,t,n=!1){return n?e():t()}const PZe=["fanIn","fanOut","fanAvg"],LZe=["normal","uniform","truncatedNormal"];function BZe(e){hy(PZe,"FanMode",e)}function zZe(e){hy(LZe,"Distribution",e)}class Xu extends dy{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class Iwe extends Xu{apply(t,n){return no(t,n)}}Iwe.className="Zeros";vt(Iwe);class sK extends Xu{apply(t,n){return il(t,n)}}sK.className="Ones";vt(sK);class Nwe extends Xu{constructor(t){if(super(),typeof t!="object")throw new ke(`Expected argument of type ConstantConfig but got ${t}`);if(t.value===void 0)throw new ke(`config must have value set but got ${t}`);this.value=t.value}apply(t,n){return Le(()=>we(Sn(this.value),il(t,n)))}getConfig(){return{value:this.value}}}Nwe.className="Constant";vt(Nwe);class Dwe extends Xu{constructor(t){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=t.minval||this.DEFAULT_MINVAL,this.maxval=t.maxval||this.DEFAULT_MAXVAL,this.seed=t.seed}apply(t,n){return cy(t,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}Dwe.className="RandomUniform";vt(Dwe);class Owe extends Xu{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`randomNormal does not support dType ${n}.`);return RP(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Owe.className="RandomNormal";vt(Owe);class Rwe extends Xu{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`truncatedNormal does not support dType ${n}.`);return mG(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Rwe.className="TruncatedNormal";vt(Rwe);let Fwe=class extends Xu{constructor(t){super(),this.gain=t.gain!=null?t.gain:1}apply(t,n){return Le(()=>{if(t.length!==2||t[0]!==t[1])throw new ke("Identity matrix initializer can only be used for 2D square matrices.");return we(this.gain,Zq(t[0]))})}getConfig(){return{gain:this.gain}}};Fwe.className="Identity";vt(Fwe);function VZe(e,t="channelsLast"){let n,r;if(qs(t),e.length===2)n=e[0],r=e[1];else if([3,4,5].indexOf(e.length)!==-1){if(t==="channelsFirst"){const s=Qg(e,2);n=e[1]*s,r=e[0]*s}else if(t==="channelsLast"){const s=Qg(e,0,e.length-2);n=e[e.length-2]*s,r=e[e.length-1]*s}}else{const s=Qg(e);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class wl extends Xu{constructor(t){if(super(),t.scale<0)throw new ke(`scale must be a positive float. Got: ${t.scale}`);this.scale=t.scale==null?1:t.scale,this.mode=t.mode==null?"fanIn":t.mode,BZe(this.mode),this.distribution=t.distribution==null?"normal":t.distribution,zZe(this.distribution),this.seed=t.seed}apply(t,n){const r=VZe(t),s=r[0],o=r[1];let i=this.scale;if(this.mode==="fanIn"?i/=Math.max(1,s):this.mode==="fanOut"?i/=Math.max(1,o):i/=Math.max(1,(s+o)/2),this.distribution==="normal"){const a=Math.sqrt(i);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`${this.getClassName()} does not support dType ${n}.`);return mG(t,0,a,n,this.seed)}else{const a=Math.sqrt(3*i);return cy(t,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}wl.className="VarianceScaling";vt(wl);class oK extends wl{constructor(t){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return wl.className}}oK.className="GlorotUniform";vt(oK);class iK extends wl{constructor(t){super({scale:1,mode:"fanAvg",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return wl.className}}iK.className="GlorotNormal";vt(iK);class aK extends wl{constructor(t){super({scale:2,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return wl.className}}aK.className="HeNormal";vt(aK);class lK extends wl{constructor(t){super({scale:2,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return wl.className}}lK.className="HeUniform";vt(lK);class uK extends wl{constructor(t){super({scale:1,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return wl.className}}uK.className="LeCunNormal";vt(uK);class cK extends wl{constructor(t){super({scale:1,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return wl.className}}cK.className="LeCunUniform";vt(cK);class Mwe extends Xu{constructor(t){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=t.gain==null?this.DEFAULT_GAIN:t.gain,this.seed=t.seed}apply(t,n){return Le(()=>{if(t.length<2)throw new Vn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=je(t.slice(0,-1)),s=t[t.length-1],o=r*s;o>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${o}) elements: Slowness may result.`);const i=[Math.max(s,r),Math.min(s,r)],a=RP(i,0,1,n,this.seed),l=Abe.qr(a,!1);let u=l[0];const f=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return u=we(u,f.sign()),r<s&&(u=u.transpose()),we(Sn(this.gain),u.reshape(t))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Mwe.className="Orthogonal";vt(Mwe);const roe={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function soe(e,t={}){return qT(e,Wl.getMap().classNameMap,t,"initializer")}function $s(e){return tK(e)}function gs(e){if(typeof e=="string"){const t=e in roe?roe[e]:e;if(t==="GlorotNormal")return new iK;if(t==="GlorotUniform")return new oK;if(t==="HeNormal")return new aK;if(t==="HeUniform")return new lK;if(t==="LeCunNormal")return new uK;if(t==="LeCunUniform")return new cK;{const n={};return n.className=t,n.config={},soe(n)}}else return e instanceof Xu?e:soe(e)}function LV(e){return Array.isArray(e)&&Array.isArray(e[0])}function IO(e){return e.length===0?[]:Array.isArray(e[0])?e:[e]}function kn(e){let t;if(Array.isArray(e)){if(e.length!==1)throw new ke(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function vr(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(e.length===1)return e=e,e[0];throw new ke(`Expected exactly 1 Shape; got ${e.length}`)}else return e}function NO(e){let t=0;for(const n of e)n.shape.length===0?t+=1:t+=n.shape.reduce((r,s)=>r*s);return t}const ooe="Variable";class WZe{constructor(t,n="float32",r=ooe,s=!0,o=null){this.dtype=n??"float32",this.shape=t.shape,this.id=Swe(),r=r??ooe,this.originalName=kwe(r),this.name=Ewe(this.originalName),this.trainable_=s,this.constraint=o,this.val=ybe(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),UZe(this.val,t),this.val.id!==t.id&&(this.val.assign(t),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function UZe(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function BV(e){return e.map(t=>t.read())}function fK(e){e.forEach(t=>{t[0].write(t[1])})}class so{constructor(t){this.dtype=t.dtype,this.shape=t.shape,t.shape!=null?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class fd{constructor(t,n,r,s,o,i,a){this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=o,this.outputTensorIndex=a,this.id=Swe(),i!=null&&(this.originalName=kwe(i),this.name=Ewe(this.originalName)),this.rank=n.length}}let jZe=0,FP=class{constructor(t,n){this.callArgs=n,this.id=jZe++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const r of t.inboundLayers)r?.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const n of this.inboundLayers)n!=null?t.push(n.name):t.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},HZe=0;class Xn extends dy{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=HZe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=t.name;if(!n){const r=this.getClassName();n=gh(r)+"_"+OP(r)}if(this.name=n,this.trainable_=t.trainable==null?!0:t.trainable,t.inputShape!=null||t.batchInputShape!=null){let r;if(t.batchInputShape!=null)r=t.batchInputShape;else if(t.inputShape!=null){let o=null;t.batchSize!=null&&(o=t.batchSize),r=[o].concat(t.inputShape)}this.batchInputShape=r;let s=t.dtype;s==null&&(s=t.inputDType),s==null&&(s="float32"),this.dtype=s}t.weights!=null?this.initialWeights=t.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,n){return t.name+"_ib-"+n.toString()}getNodeAtIndex(t,n){if(this.inboundNodes.length===0)throw new xu(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=t)throw new ke(`Asked to get ${n} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return xa(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return xa(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Af(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new Af(`Layer ${this.name} is not connected, no input to return.`);return xa(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new Af(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Af(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return xa(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(n=>n.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const n=Ar(t);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=Ar(this.inputSpec);if(n.length!==r.length)throw new ke(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${t}`);for(let s=0;s<n.length;s++){const o=n[s],i=r[s];if(i==null)continue;const a=o.rank;if(i.ndim!=null&&a!==i.ndim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${a}`);if(i.maxNDim!=null&&a>i.maxNDim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${a}`);if(i.minNDim!=null&&a<i.minNDim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${a}.`);if(i.dtype!=null&&o.dtype!==i.dtype)throw new ke(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${o.dtype}.`);if(i.axes){const l=o.shape;for(const u in i.axes){const c=Number(u),f=i.axes[u],d=c>=0?l[c]:l[l.length+c];if(f!=null&&[f,null].indexOf(d)===-1)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${f} but got shape ${l}.`)}}if(i.shape!=null)for(let l=0;l<i.shape.length;++l){const u=i.shape[l],c=o.shape[l];if(u!=null&&c!=null&&u!==c)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${o.shape}.`)}}}call(t,n){return t}invokeCallHook(t,n){this._callHook!=null&&this._callHook(t,n)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,n){n=n||{},this.assertNotDisposed();const r=Ar(t),s=KZe(t),o=YZe(t);if(s===o)throw new ke("Arguments to apply() must be all SymbolicTensors or all Tensors");return Gv(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const i=[];for(const a of Ar(t))i.push(a.shape);this.build(xa(i)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(t),o){let i=this.call(t,n);this.supportsMasking&&this.setMaskMetadata(t,i);const a=Ar(i),l=[];for(let u of a)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(i=xa(l),this.activityRegularizer!=null)throw new Vn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}else{const i=qZe(t),a=this.computeOutputShape(i);let l;const u=GZe(t);if(this.warnOnIncompatibleInputShape(Array.isArray(t)?i[0]:i),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((c,f)=>new fd(u,c,this,Ar(t),n,this.name,f)):l=new fd(u,a,this,Ar(t),n,this.name),this.addInboundNode(t,l,null,null,i,a,n),this._refCount++,this.activityRegularizer!=null)throw new Vn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(t){if(this.batchInputShape!=null)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&t[s]!=null&&t[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new Af(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);t.indexOf(r)===-1&&t.push(r)}if(t.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new Af(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new xu(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return NO(this.weights)}build(t){this.built=!0}getWeights(t=!1){return BV(t?this.trainableWeights:this.weights)}setWeights(t){Le(()=>{const n=this.weights;if(n.length!==t.length)throw new ke(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${n.length} weights. Provided weights: ${t}...`);if(n.length===0)return;const r=[],s=BV(n);for(let o=0;o<s.length;++o){const i=s[o],a=n[o],l=t[o];if(!ir(i.shape,l.shape))throw new ke(`Layer weight shape ${i.shape} not compatible with provided weight shape ${l.shape}`);r.push([a,l])}fK(r)})}addWeight(t,n,r,s,o,i,a,l){if(this._addedWeightNames.indexOf(t)!==-1)throw new ke(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():gs("zeros"));const u=s.apply(n,r),c=new WZe(u,r,t,i,a);return u.dispose(),o!=null&&this.addLoss(()=>o.apply(c.read())),i==null&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){t==null||Array.isArray(t)&&t.length===0||(t=Ar(t),this._losses!==void 0&&this._losses!==null&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(t,n,r){if(!this.supportsMasking)return;const s=this.computeMask(t,r),o=Ar(n),i=Ar(s);if(o.length!==i.length)throw new Error(`${this.name} outputs ${o.length} tensors but ${o.length} masks for those tensors`);for(let a=0;a<o.length;a++)o[a].kerasMask=i[a]}addInboundNode(t,n,r,s,o,i,a=null){const l=Ar(t);n=Ar(n),r=Ar(r),s=Ar(s),o=IO(o),i=IO(i);const u=[],c=[],f=[];for(const d of l)u.push(d.sourceLayer),c.push(d.nodeIndex),f.push(d.tensorIndex);new FP({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:f,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:o,outputShapes:i},a);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const t={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(t.batchInputShape=this.batchInputShape),this.dtype!=null&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return--this._refCount===0&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}}function qZe(e){e=Ar(e);const t=[];for(const n of e)t.push(n.shape);return xa(t)}function GZe(e){return"float32"}function Pwe(e,t,n){if((t==null||n!=null&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),t.inboundNodes.length===0)return[e];{const r=t.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let o=0;o<r.inboundLayers.length;o++){const i=r.inputTensors[o],a=r.inboundLayers[o],l=r.nodeIndices[o],u=Pwe(i,a,l);for(const c of u)s.indexOf(c)===-1&&s.push(c)}return s}}}function KZe(e){let t=!0;for(const n of Ar(e))if(!(n instanceof fd)){t=!1;break}return t}function YZe(e){let t=!0;for(const n of Ar(e))if(n instanceof fd){t=!1;break}return t}class XT extends Xn{constructor(t){if(super({dtype:t.dtype,name:t.name!=null?t.name:OP("input").toString()}),t.batchSize==null&&(t.batchSize=null),t.sparse==null&&(t.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=t.sparse,t.inputShape!=null&&t.batchInputShape!=null)throw new ke("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=t.batchInputShape;if(n==null){if(t.inputShape==null)throw new ke("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[t.batchSize].concat(t.inputShape)}else if(t.batchSize!=null)throw new ke("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=t.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new fd(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new FP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(t,n){throw new ke(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}XT.className="InputLayer";vt(XT);function XZe(e){if(e.batchShape==null&&e.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(e.batchShape!=null&&e.shape!=null)throw new ke("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;e.shape!=null&&t==null&&(t=[null].concat(e.shape));let n=e.dtype;return n==null&&(n="float32"),new XT({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function ZZe(e,t){if(e.dtype==null||e.dtype===t.dtype)return t;try{return At(t,e.dtype)}catch{throw new ke(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}class Ig{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof Ig)for(const n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(t==null)return;for(const n of t)this.add(n.key,n.value)}}add(t,n,r){if(this.id2Value[t.id]==null)this.id2Value[t.id]=ZZe(t,n),this.name2Id[t.name]=t.id,r!=null&&(this.id2Mask[t.id]=r);else throw new ke(`Duplicate key: name=${t.name}, id=${t.id}`);return this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return this.id2Value[t.id]!=null}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof fd){if(this.id2Value[t.id]==null)throw new ke(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}else{const n=this.name2Id[t];if(n==null)throw new ke(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[n]}}getMask(t){if(t instanceof fd){if(this.id2Value[t.id]==null)throw new ke(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}else{const n=this.name2Id[t];if(n==null)throw new ke(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Yn(this.id2Mask)}}const DO=new wwe,OO=new wwe;function JZe(e){DO?.setMaxEntries(e),OO?.setMaxEntries(e)}function t$(e,t,n,r){const s=n==null?!1:n.training,o=Array.isArray(e),i=o?e:[e],a=i.map(p=>p.name),l=[],u=t.names();for(const p of a)u.indexOf(p)!==-1?l.push(t.getValue(p)):l.push(null);const c=a.join(",")+"|"+t.names().sort().join(",");let f=DO.get(c),d;if(f==null){const p=QZe(i,t);f=p.sorted,d=p.recipientCounts,DO.put(c,f),OO.put(c,d)}d={},s||Object.assign(d,OO.get(c));const h=new Ig(t);for(let p=0;p<f.length;++p){const g=f[p],m=g.sourceLayer;if(m instanceof XT)continue;const v=[],y=[],b=[];let w=!1;for(const T of g.inputs){const _=h.getValue(T),E=h.getMask(T);v.push(_),y.push(E),E!=null&&(w=!0),s||(d[T.name]--,d[T.name]===0&&!t.hasKey(T)&&a.indexOf(T.name)===-1&&!_.isDisposed&&T.sourceLayer.stateful!==!0&&b.push(_))}w&&(n=n||{},n.mask=y[0]);const C=Ar(m.apply(v,n));let S=null;m.supportsMasking&&(S=m.computeMask(v,y));const $=tJe(g),k=Array.isArray($)?$:[$];for(let T=0;T<k.length;++T){h.hasKey(k[T])||h.add(k[T],C[T],Array.isArray(S)?S[0]:S);const _=a.indexOf(k[T].name);_!==-1&&(l[_]=C[T])}s||Yn(b)}return h.disposeMasks(),o?l:l[0]}function QZe(e,t){te(e!=null&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(e.length===1){const s=ioe(e[0],t);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const o of e){const{sorted:i,recipientMap:a}=ioe(o,t);for(const l of i)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in a)r[l]==null&&(r[l]=new Set),a[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:eJe(r)}}function eJe(e){const t={};for(const n in e)t[n]=e[n].size;return t}function ioe(e,t){const n=new Set,r=[],s={};for(const a of t.names())n.add(a);const o=[],i=[];for(o.push(e);o.length>0;){const a=o[o.length-1];if(n.has(a.name)){o.pop();continue}const l=i[i.length-1]===o.length-1;if(a.inputs.length===0||l)o.pop(),r.push(a),n.add(a.name),l&&i.pop();else{i.push(o.length-1);for(const u of a.inputs)s[u.name]==null&&(s[u.name]=new Set),s[u.name].add(a.name),!n.has(u.name)&&o.push(u)}}return{sorted:r,recipientMap:s}}function tJe(e){let t;if(e.sourceLayer.inboundNodes.length===1)t=e.sourceLayer.output;else{let n=null;for(let r=0;r<e.sourceLayer.inboundNodes.length;++r)for(const s of e.sourceLayer.inboundNodes[r].outputTensors)if(s.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}const nJe=Pe();nJe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,JZe);function dK(e,t){return Le(()=>Go(Qt(we(e,e),t,!0)))}class ZT extends dy{getConfig(){return{}}}class Lwe extends ZT{constructor(t){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Le(()=>{const n=dK(t,this.axis),r=yl(n,0,this.maxValue);return we(t,an(r,mt(ro(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Lwe.className="MaxNorm";vt(Lwe);class Bwe extends ZT{constructor(t){super(),this.defaultAxis=0,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Le(()=>an(t,mt(ro(),dK(t,this.axis))))}getConfig(){return{axis:this.axis}}}Bwe.className="UnitNorm";vt(Bwe);class zwe extends ZT{apply(t){return Dd(t)}}zwe.className="NonNeg";vt(zwe);class Vwe extends ZT{constructor(t){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=t.minValue!=null?t.minValue:this.defaultMinValue,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.rate=t.rate!=null?t.rate:this.defaultRate,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Le(()=>{const n=dK(t,this.axis),r=mt(we(this.rate,yl(n,this.minValue,this.maxValue)),we(1-this.rate,n));return we(t,an(r,mt(ro(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Vwe.className="MinMaxNorm";vt(Vwe);const aoe={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function oo(e){return tK(e)}function loe(e,t={}){return qT(e,Wl.getMap().classNameMap,t,"constraint")}function io(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in aoe?aoe[e]:e,config:{}};return loe(n)}else return e instanceof ZT?e:loe(e)}async function P0(e){if(e==null)return;const t=[],n=[],r=[];for(const s in e){const o=e[s];if(typeof o!="number"){const i=o;t.push(i.data()),n.push(s),r.push(i)}}if(t.length>0){const s=await Promise.all(t);for(let o=0;o<s.length;++o)e[n[o]]=s[o][0];Yn(r)}}function Wwe(e){if(e!=null)for(const t in e){const n=e[t];typeof n!="number"&&n.dispose()}}var uoe;(function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"})(uoe||(uoe={}));const rJe=125;class Wk{constructor(){this.validationData=null}setParams(t){this.params=t}async onEpochBegin(t,n){}async onEpochEnd(t,n){}async onBatchBegin(t,n){}async onBatchEnd(t,n){}async onTrainBegin(t){}async onTrainEnd(t){}setModel(t){}}class sJe{constructor(t,n=10){t==null&&(t=[]),this.callbacks=t,this.queueLength=n}append(t){this.callbacks.push(t)}setParams(t){for(const n of this.callbacks)n.setParams(t)}setModel(t){for(const n of this.callbacks)n.setModel(t)}async onEpochBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(t,n)}async onEpochEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(t,n)}async onBatchBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(t,n)}async onBatchEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(t,n)}async onTrainBegin(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainBegin(t)}async onTrainEnd(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainEnd(t)}}class oJe extends Wk{constructor(){super()}async onEpochBegin(t){this.seen=0,this.totals={}}async onBatchEnd(t,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const o=n[s];if(typeof o=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+o*r;else{let i;s in this.totals?i=this.totals[s]:this.totals[s]=0;const a=Le(()=>mt(this.totals[s],we(o,r)));this.totals[s]=a,i?.dispose()}}}async onEpochEnd(t,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Le(()=>{const s=we(an(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Ta(n[r])}))}}class iJe extends Wk{async onTrainBegin(t){this.epoch=[],this.history={}}async onEpochEnd(t,n){n==null&&(n={}),this.epoch.push(t);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const t=[],n=[],r=[];for(const o in this.history){const i=this.history[o];for(let a=0;a<i.length;++a)if(typeof i[a]!="number"){const l=i[a];t.push(l.data()),n.push(o),r.push(a)}}const s=await Promise.all(t);for(let o=0;o<s.length;++o)this.history[n[o]][r[o]].dispose(),this.history[n[o]][r[o]]=s[o][0]}}class aJe extends Wk{constructor(t,n){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||RG,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=rJe),this.yieldEvery==="never"&&t.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");CO(this.yieldEvery)&&(this.maybeWait=wZe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}async maybeWait(t,n,r){const s=[];this.yield!=null&&(await P0(r),s.push(this.yield(t,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(t,n){this.currentEpoch=t,this.epochBegin!=null&&(await P0(n),await this.epochBegin(t,n))}async onEpochEnd(t,n){const r=[];this.epochEnd!=null&&(await P0(n),r.push(this.epochEnd(t,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(t,n){this.batchBegin!=null&&(await P0(n),await this.batchBegin(t,n))}async onBatchEnd(t,n){const r=[];this.batchEnd!=null&&(await P0(n),r.push(this.batchEnd(t,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):CO(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),await Promise.all(r)}async onTrainBegin(t){this.trainBegin!=null&&(await P0(t),await this.trainBegin(t))}async onTrainEnd(t){this.trainEnd!=null&&(await P0(t),await this.trainEnd(t))}}function Uwe(e,t){return e==null&&(e={}),e instanceof Wk?[e]:Array.isArray(e)&&e[0]instanceof Wk?e:Ar(e).map(r=>new aJe(r,t))}class vu{constructor(){}static registerCallbackConstructor(t,n){te(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),vu.checkForDuplicate(n),vu.constructors[t]==null&&(vu.constructors[t]=[]),vu.constructors[t].push(n)}static checkForDuplicate(t){for(const n in vu.constructors)vu.constructors[+n].forEach(s=>{if(s===t)throw new ke("Duplicate callback constructor.")})}static clear(){vu.constructors={}}static createCallbacks(t){const n=[];for(const r in vu.constructors){const s=+r;t>=s&&n.push(...vu.constructors[s])}return n.map(r=>new r)}}vu.constructors={};function jwe(e,t,n,r,s,o,i,a,l){const u=new iJe,c=[new oJe,...vu.createCallbacks(t)];e!=null&&c.push(...e),c.push(u);const f=new sJe(c);return f.setParams({epochs:n,initialEpoch:r,samples:s,steps:o,batchSize:i,verbose:t,doValidation:a,metrics:l}),{callbackList:f,history:u}}function jh(e,t={},n=!1){return qT(e,Wl.getMap().classNameMap,t,"layer",n)}function RO(e,t){return Le(()=>{e.dtype!=="float32"&&(e=At(e,"float32"));const n=Qt(KT(e),t,!0),r=q2(n.shape,ro()),s=Go(Ap(n,r));return an(e,s)})}function MP(e,t){return Le(()=>Ns(KT(qt(t,e)),-1))}function hK(e,t){return Le(()=>Ns(eo(qt(t,e)),-1))}function pK(e,t){return Le(()=>{const n=qt(e,t),r=yl(eo(e),ro(),Number.MAX_VALUE),s=eo(an(n,r));return we(100,Ns(s,-1))})}function lJe(e,t){return Le(()=>{const n=yl(t,ro(),Number.MAX_VALUE),r=tu(mt(1,n)),s=yl(e,ro(),Number.MAX_VALUE),o=tu(mt(1,s));return Ns(KT(qt(r,o)),-1)})}function uJe(e,t){return Le(()=>{const n=Ap(0,qt(1,we(e,t)));return Ns(KT(n),-1)})}function cJe(e,t){return Le(()=>{const n=Ap(0,qt(1,we(e,t)));return Ns(n,-1)})}function fJe(e,t){return Le(()=>{const n=Qt(we(e,t),-1),r=Du(we(qt(1,e),t),-1);return Ap(0,mt(1,qt(r,n)))})}function dJe(e,t){return Le(()=>{const n=Math.log(2),r=qt(t,e),s=qt(mt(r,G2(we(-2,r))),n);return Ns(s,-1)})}function Uk(e,t,n=!1){return Le(()=>{if(n)t=gP(t);else{const r=Qt(t,t.shape.length-1,!0);t=an(t,r)}return t=yl(t,ro(),1-ro()),as(Qt(we(At(e,"float32"),tu(t)),t.shape.length-1))})}function FO(e,t,n=!1){return Le(()=>{const r=At(VT(DZe(e)),"int32");t=yl(t,ro(),1-ro());const s=t.shape,o=_e(Lk(r,s[s.length-1]),s);return Uk(o,t,n)})}function hJe(e,t){if(!ir(e.shape,t.shape))throw new ke(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return Le(()=>{const n=Dd(t),r=as(eo(t));return mt(qt(n,we(t,e)),sP(bl(r)))})}function PP(e,t){return Le(()=>{let n;return n=yl(t,ro(),1-ro()),n=tu(an(n,qt(1,n))),Ns(hJe(e,n),-1)})}function pJe(e,t){return Le(()=>{const n=yl(e,ro(),1),r=yl(t,ro(),1);return Qt(we(e,tu(an(n,r))),-1)})}function gJe(e,t){return Le(()=>{const n=tu(mt(ro(),t));return Ns(qt(t,we(e,n)),-1)})}function Hwe(e,t){return Le(()=>{const n=RO(e,-1),r=RO(t,-1),s=we(n,r);return as(Qt(s,-1))})}const MO={meanSquaredError:MP,meanAbsoluteError:hK,meanAbsolutePercentageError:pK,meanSquaredLogarithmicError:lJe,squaredHinge:uJe,hinge:cJe,categoricalHinge:fJe,logcosh:dJe,categoricalCrossentropy:Uk,sparseCategoricalCrossentropy:FO,binaryCrossentropy:PP,kullbackLeiblerDivergence:pJe,poisson:gJe,cosineProximity:Hwe};function o5(e){if(typeof e=="string"){if(e in MO)return MO[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ke(t)}else return e}function qwe(e,t){return Le(()=>{const n=we(.5,nu(t)),r=qf(Dl(t,n),e.dtype);return Ns(Pc(e,r),-1)})}function Gwe(e,t){return Le(()=>qf(Pc(Ow(e,-1),Ow(t,-1)),"float32"))}function mJe(e,t){return Le(()=>At(Qt(ud(Pc(e,1),Pc(t,1))),"float32"))}function vJe(e,t){return Le(()=>At(Qt(ud(Pc(e,0),Pc(t,1))),"float32"))}function yJe(e,t){return Le(()=>{const n=mJe(e,t),r=vJe(e,t),s=mt(n,r);return At(mi(Dl(s,0),an(n,s),0),"float32")})}function bJe(e,t){return PP(e,t)}function wJe(e,t){return e.rank===t.rank&&(e=fy(e,[e.rank-1])),t=Ow(t,-1),t.dtype!==e.dtype&&(t=At(t,e.dtype)),At(Pc(e,t),"float32")}const xJe=MP,CJe=MP,SJe=hK,$Je=hK,kJe=pK,EJe=pK,Kwe=Uk,_Je=Hwe,Ywe=FO,PO={binaryAccuracy:qwe,categoricalAccuracy:Gwe,precision:yJe,categoricalCrossentropy:Kwe,sparseCategoricalCrossentropy:Ywe,mse:xJe,MSE:CJe,mae:SJe,MAE:$Je,mape:kJe,MAPE:EJe,cosine:_Je};function TJe(e){if(typeof e=="string"&&e in PO)return PO[e];if(typeof e!="string"&&e!=null)return e;throw new ke(`Unknown metric ${e}`)}function YI(e){if(If(e!==null,`Unknown LossOrMetricFn ${e}`),typeof e=="string")return e;{let t;for(const n of Object.keys(MO))if(MO[n]===e){t=n;break}if(t!==void 0)return t;for(const n of Object.keys(PO))if(PO[n]===e){t=n;break}return t!==void 0?t:e.name}}function AJe(e){const t={Adagrad:()=>mg.adagrad(.01),Adadelta:()=>mg.adadelta(1,.95,ro()),Adam:()=>mg.adam(.001,.9,.999,ro()),Adamax:()=>mg.adamax(.002,.9,.999,ro(),0),RMSProp:()=>mg.rmsprop(.001,.9,0,ro()),SGD:()=>mg.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ke(`Unknown Optimizer ${e}`)}const coe=1*1024*1024;function foe(e,t,n=!1){if(e==null||typeof e!="object"||Object.getPrototypeOf(e)!==Object.prototype||!zV(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(e);r.length>coe&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${coe}.`)}}function zV(e){if(e===null)return!0;if(typeof e=="object")if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t)if(typeof n!="string"||!zV(e[n]))return!1;return!0}else if(Array.isArray(e)){for(const t of e)if(!zV(t))return!1;return!0}else return!1;else{const t=typeof e;return t==="string"||t==="number"||t==="boolean"}}function IJe(e,t,n,r=console.log){const s=DJe(e),o=["Layer (type)","Input Shape","Output shape","Param #"];s?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(t*c)));let i;if(!s){o.push("Receives inputs"),i=[];for(const c in e.nodesByDepth)i.push(...e.nodesByDepth[c])}r("_".repeat(t)),LO(o,n,r),r("=".repeat(t));const a=e.layers;for(let c=0;c<a.length;++c)s?OJe(a[c],n,r):RJe(a[c],n,i,r),r((c===a.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=NJe(e),u=NO(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function NJe(e){let t;return e.collectedTrainableWeights!=null?t=NO(e.collectedTrainableWeights):t=NO(e.trainableWeights),t}function DJe(e){let t=!0;const n=[],r=[];for(const s in e.nodesByDepth)n.push(e.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){t=!1;break}r.push(...s)}if(t)for(const s of e.layers){let o=!1;for(const i of s.inboundNodes)if(r.indexOf(i)!==-1)if(o){t=!1;break}else o=!0;if(!t)break}return t}function LO(e,t,n=console.log){let r="";for(let s=0;s<e.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=e[s],r=r.slice(0,t[s]),r+=" ".repeat(t[s]-r.length);n(r)}function OJe(e,t,n){let r,s;try{s=e.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(e.outputShape)}catch{r="multiple"}const o=e.name,i=e.getClassName(),a=[`${o} (${i})`,s,r,e.countParams().toString()];LO(a,t,n)}function RJe(e,t,n,r){let s,o;try{o=e.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{o="multiple"}try{s=JSON.stringify(e.outputShape)}catch{s="multiple"}const i=[];for(const f of e.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let d=0;d<f.inboundLayers.length;++d){const h=f.inboundLayers[d].name,p=f.nodeIndices[d],g=f.tensorIndices[d];i.push(`${h}[${p}][${g}]`)}const a=e.name,l=e.getClassName(),u=i.length===0?"":i[0],c=[`${a} (${l})`,o,s,e.countParams().toString(),u];LO(c,t,r);for(let f=1;f<i.length;++f)LO(["","","","",i[f]],t,r)}function Xwe(e,t,n){return(e==="inboundNodes"||e==="outputLayers"||e==="inputLayers")&&t===0&&typeof n=="string"}function VV(e,t){if(e===null)return null;if(typeof e=="string")return dv(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const o=e[s];Xwe(t,s,o)?n.push(o):n.push(VV(o,t))}return n}else{const n={};for(const r of Object.keys(e)){const s=e[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const o=dv(r);n[o]=VV(s,o)}}return n}}function WV(e,t){if(e==null)return null;if(typeof e=="string")return gh(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const o=e[s];Xwe(t,s,o)?n.push(o):n.push(WV(o,t))}return n}else{const n={};for(const r of Object.keys(e)){const s=e[r],o=gh(r);(r==="name"||r==="className")&&typeof s=="string"?n[o]=s:n[o]=WV(s,r)}return n}}const Zwe="4.22.0";const FJe=e=>{const t=Object.keys(e);if(t.length===0)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};let MJe=class $f extends Xn{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=OP(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(t.inputs)?this.inputs=t.inputs.slice():this.inputs=[t.inputs],Array.isArray(t.outputs)?this.outputs=t.outputs.slice():this.outputs=[t.outputs],Jg(this.inputs).length!==this.inputs.length)throw new ke(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);Jg(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const b=y.sourceLayer,w=y.nodeIndex,C=y.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(w),this.outputLayersTensorIndices.push(C)}for(const y of this.inputs){const b=y.sourceLayer,w=y.nodeIndex,C=y.tensorIndex;If(w===0,"input layer has >1 nodes"),If(C===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(w),this.inputLayersTensorIndices.push(C)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const b=this.inputLayers[y];if(!(b instanceof XT))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${y} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const n={},r={},s={},o={},i={},a=[],l=(y,b,w,C,S,$)=>{(C==null||S==null||$==null)&&(C=y.sourceLayer,S=y.nodeIndex,$=y.tensorIndex);const k=C.inboundNodes[S];if(w.indexOf(k)!==-1)throw new xu(`The tensor ${y.name} at layer "${C.name}" is part of a cycle.`);if(b.indexOf(k)!==-1)return;this.containerNodes.add($f.nodeKey(C,S)),C.id in i||(i[C.id]=Object.keys(i).length),w.indexOf(k)===-1&&w.push(k);const T=k.inboundLayers.length;for(let _=0;_<T;_++){const E=k.inputTensors[_],A=k.inboundLayers[_],I=k.nodeIndices[_],F=k.tensorIndices[_];l(E,b,w,A,I,F)}for(b.push(k);w.indexOf(k)>=0;)w.splice(w.indexOf(k),1);a.push(k)},u=[],c=[];for(const y of this.outputs)l(y,u,c);const f=a.slice().reverse();for(const y of f){r[y.id]=y,y.id in n||(n[y.id]=0);let b=n[y.id];const w=s[y.outboundLayer.id]==null?0:s[y.outboundLayer.id];b=Math.max(b,w),s[y.outboundLayer.id]=b,o[y.outboundLayer.id]=y.outboundLayer,n[y.id]=b;for(let C=0;C<y.inboundLayers.length;C++){const S=y.inboundLayers[C],$=y.nodeIndices[C],k=S.inboundNodes[$],T=n[k.id]==null?0:n[k.id];n[k.id]=Math.max(b+1,T),r[k.id]=k}}const d={};for(const y in n){const b=n[y];b in d||(d[b]=[]),d[b].push(r[y])}const h={};for(const y in s){const b=s[y];b in h||(h[b]=[]),h[b].push(o[y])}let p=Object.keys(h).map(y=>parseInt(y,10)).sort(qI);this.layers=[];for(const y of p){const b=h[y];b.sort((w,C)=>{const S=i[w.id],$=i[C.id];return S<$?-1:S>$?1:0});for(const w of b)w instanceof $f&&this.internalContainerRefs.push(w),this.layers.push(w)}this.layersByDepth=h,p=Object.keys(d).map(y=>parseInt(y,10)).sort(qI);const g=this.inputs.slice(),m=[];for(const y of p)for(const b of d[y]){const w=b.outboundLayer;if(w!=null){for(const C of b.inputTensors)if(g.indexOf(C)===-1)throw new xu(`Graph disconnected: cannot obtain value for tensor ${C} at layer "${w.name}". The following previous layers were accessed without issue: ${m}`);for(const C of b.outputTensors)g.push(C);m.push(w.name)}}this.nodesByDepth=d;const v=this.layers.map(y=>y.name);for(const y of v){const b=v.filter(w=>w===y).length;if(b!==1)throw new xu(`The name "${y}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(v))}this.outboundNodes=[],this.inboundNodes=[],new FP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)t.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new ke("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const n of this.layers)t=t.concat(n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.layers)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,n=!0){const r={};let s=0;const o=FJe(t);o&&this.parseWeights(t);for(const a of this.layers)for(const[l,u]of a.weights.entries()){const c=o?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new ke(`Duplicate weight name: ${c}`);r[c]=u,s++}const i=[];for(const a in t){let l=a;if(r[a]==null){const u=a.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)i.push([r[l],t[a]]);else if(n)throw new ke(`Provided weight data has no target variable: ${a}`);delete r[l]}if(n){const a=[];for(const l in r)a.push(l);if(a.length>0)throw new ke(`${a.length} of ${s} weights are not set: ${a}`)}fK(i)}parseWeights(t){for(const n in Object.keys(t)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],o=r.map(i=>i.startsWith("_")?i.slice(1):i).filter(i=>!s.includes(i)).join("/");o!==n&&(t[o]=t[n],delete t[n])}}updatedConfig(){const t=this.getConfig(),n={};return n.className=this.getClassName(),n.config=t,n.kerasVersion=`tfjs-layers ${Zwe}`,n.backend="TensorFlow.js",n}toJSON(t,n=!0){const r=WV(this.updatedConfig());return n?JSON.stringify(r):r}call(t,n){return Le(()=>{t=Ar(t);const r=new Ig;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],t[s]);return t$(this.outputs,r,n)})}computeMask(t,n){return Le(()=>{t=Ar(t);let r;return n==null?r=S1(null,t.length):r=Ar(n),this.runInternalGraph(t,r)[1]})}computeOutputShape(t){const n=IO(t);if(n.length!==this.inputLayers.length)throw new ke(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],u=n[a],c=l.name+"_0_0";r[c]=u}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(qI);if(s.length>1)for(const a of s){const l=this.nodesByDepth[a];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(g=>g.id).indexOf(c.id)!==-1)continue;const f=[];for(let g=0;g<u.inboundLayers.length;g++){const m=u.inboundLayers[g],v=u.nodeIndices[g],y=u.tensorIndices[g],b=`${m.name}_${v}_${y}`,w=r[b];f.push(w)}const d=c.computeOutputShape(xa(f)),h=IO(d),p=c.inboundNodes.indexOf(u);for(let g=0;g<h.length;g++){const m=`${c.name}_${p}_${g}`;r[m]=h[g]}}}const o=[],i=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],u=this.outputLayersNodeIndices[a],c=this.outputLayersTensorIndices[a],f=`${l.name}_${u}_${c}`;i.push(f)}for(let a=0;a<i.length;a++){const l=i[a];If(l in r),o.push(r[l])}return xa(o)}runInternalGraph(t,n){n==null&&(n=S1(null,t.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=t[l],f=n[l];r[u.id]=[c,f]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(qI);for(const l of s){const u=this.nodesByDepth[l];for(const c of u){const f=c.outboundLayer,d=c.inputTensors,h=c.outputTensors,p=new Array;for(const g of d)g.id in r&&p.push(r[g.id]);if(p.length===d.length){let g={},m,v,y,b;if(c.callArgs!=null&&(g=c.callArgs),p.length===1){const[w,C]=p[0];g.mask==null&&(g.mask=C),y=Ar(f.call(w,g)),b=Ar(f.computeMask(w,C)),m=[w],v=[C]}else m=p.map(w=>w[0]),v=p.map(w=>w[1]),g.mask==null&&(g.mask=v),y=Ar(f.call(m,g)),b=Ar(f.computeMask(m,v));if(f.activityRegularizer)throw new Vn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let w=0;w<h.length;++w){const C=h[w],S=y[w],$=b[w];r[C.id]=[S,$]}}}}const o=[],i=[],a=[];for(const l of this.outputs){If(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];a.push(u.shape),o.push(u),i.push(c)}return[o,i,a]}buildNodeConversionMap(t){const n={};let r;for(const s of this.layers){r=s instanceof $f?1:0;for(let o=0;o<s.inboundNodes.length;o++){const i=$f.nodeKey(s,o);this.containerNodes.has(i)&&(n[i]=r,r+=1)}}return n}getLayer(t,n){if(n!=null)return this.findLayer(n);if(t==null)throw new ke("Provide either a layer name or layer index");if(typeof t=="number")return this.findLayer(t);for(const r of this.layers)if(r.name===t)return r;throw new ke(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new ke(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return Le(()=>{const t=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=$f.nodeKey(n,r);this.containerNodes.has(s)&&t.push(...n.calculateLosses())}return t})}getConfig(){const t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const i of this.layers){const a=i.getClassName(),l=i.getConfig(),u=[];for(let f=0;f<i.inboundNodes.length;f++){const d=i.inboundNodes[f],h=$f.nodeKey(i,f);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const g=[];for(let m=0;m<d.inboundLayers.length;m++){const v=d.inboundLayers[m],y=d.nodeIndices[m],b=d.tensorIndices[m],w=$f.nodeKey(v,y);let C=n[w];C==null&&(C=0),g.push([v.name,C,b,p])}u.push(g)}}}const c={};c.name=i.name,c.className=a,c.config=l,c.inboundNodes=u,r.push(c)}t.layers=r;const s=[];for(let i=0;i<this.inputLayers.length;i++){const a=this.inputLayers[i],l=this.inputLayersNodeIndices[i],u=$f.nodeKey(a,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.inputLayersTensorIndices[i];s.push([a.name,c,f])}t.inputLayers=s;const o=[];for(let i=0;i<this.outputLayers.length;i++){const a=this.outputLayers[i],l=this.outputLayersNodeIndices[i],u=$f.nodeKey(a,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.outputLayersTensorIndices[i];o.push([a.name,c,f])}return t.outputLayers=o,t}static fromConfig(t,n,r={},s=!1){const o={},i={};function a(m,v){m.name in i?i[m.name].push(v):i[m.name]=[v]}function l(m,v){const y=[];let b;for(const w of v){const C=w[0],S=w[1],$=w[2];if(b=w[3]==null?{}:w[3],!(C in o)){a(m,v);return}const k=o[C];if(k.inboundNodes.length<=S){a(m,v);return}const T=k.inboundNodes[S];y.push(T.outputTensors[$])}y.length>0&&m.apply(xa(y),b)}function u(m){const v=m.name,y=jh(m,n.customObjects!=null?n.customObjects:{});y.setFastWeightInitDuringBuild(s),o[v]=y,m.inboundNodes.forEach(w=>{if(!(w instanceof Array))throw new ke(`Corrupted configuration, expected array for nodeData: ${w}`);a(y,w)})}const c=n.name,f=n.layers;for(const m of f)u(m);for(;!bZe(i);)for(const m of f){const v=o[m.name];if(v.name in i){const y=i[v.name];delete i[v.name];for(const b of y)l(v,b)}}const d=[],h=[],p=n.inputLayers;for(const m of p){const v=m[0],y=m[1],b=m[2];If(v in o);const C=o[v].inboundNodes[y].outputTensors;d.push(C[b])}const g=n.outputLayers;for(const m of g){const v=m[0],y=m[1],b=m[2];If(v in o);const C=o[v].inboundNodes[y].outputTensors;h.push(C[b])}return new t({inputs:d,outputs:h,name:c})}get stateful(){if(this._stateful)throw new ke("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){Le(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}};function PJe(e,t,n){const r=t.length;if(e==null||Array.isArray(e)&&e.length===0)return t.map(s=>null);if(r===1)return Array.isArray(e)&&e.length===1?e:typeof e=="object"&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}else if(typeof e=="object"&&Object.keys(e).length>0&&typeof e[Object.keys(e)[0]]=="object"){const s=[];return t.forEach(o=>{o in e?s.push(e[o]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Jwe(e,t){return PJe(e,t,"classWeight")}async function Qwe(e,t,n,r){if(n!=null){const s=Le(()=>{if(e.shape.length===1)return Xg(e);if(e.shape.length===2){if(e.shape[1]>1)return Ow(e,1);if(e.shape[1]===1)return _e(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),o=Array.from(await s.data());Yn(s);const i=[];return o.forEach(a=>{if(n[a]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);i.push(n[a])}),qi(i,"float32")}else return null}function LJe(e,t){return we(e,t)}const BJe=32;function exe(e,t){let n,r;const s=t;n=s.xs,r=s.ys,te(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const o=doe("input",e.inputNames,n),i=doe("output",e.outputNames,r),a=o[0].shape[0];te(o.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${o.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),te(i.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<o.length;l++)te(o[l].shape[0]===a,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${o[l].shape[0]}; expected  ${a} based on input ${e.inputNames[0]}.`);for(let l=0;l<i.length;l++)te(i[l].shape[0]===a,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${i[l].shape[0]}; expected  ${a} based on input ${e.inputNames[0]}.`);return{xs:o,ys:i}}function doe(e,t,n){if(n instanceof Mr)return[n];if(Array.isArray(n))return te(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const s of t){if(n[s]==null)throw new ke(`The feature data generated by the dataset lacks the required ${e} key '${s}'.`);r.push(n[s])}return r}}function zJe(e){if(e.length===3)throw new Vn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function VJe(e,t,n){const r=n.batchesPerEpoch!=null;if(te(e.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),te(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),te(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),te(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),te(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const s=n.validationData!=null;let o,i;if(s)if(hoe(n.validationData))te(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const m=zJe(n.validationData);o=m.xs,i=m.ys}const a=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;s?u=l.slice().concat(l.map(m=>"val_"+m)):u=l.slice();const c=Uwe(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=jwe(c,f,n.epochs,null,null,WJe(t,n),null,s,u);d.setModel(e),e.history=h,await d.onTrainBegin(),e.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,g=await t.iterator();for(;p<n.epochs;){const m={};await d.onEpochBegin(p);let v=0,y=0;for(r||(g=await t.iterator());!r||v<n.batchesPerEpoch;){const b=await g.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${v} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:w,ys:C}=exe(e,b.value),S={};S.batch=y,S.size=w[0].shape[0],await d.onBatchBegin(y,S);const $=[];if(n.classWeight!=null){const _=Jwe(n.classWeight,e.outputNames);for(let E=0;E<_.length;++E)$.push(await Qwe(C[E],null,_[E]))}const k=w.concat(C).concat($),T=a(k);Yn(k);for(let _=0;_<l.length;++_){const E=l[_],A=T[_];S[E]=A,Ta(A)}await d.onBatchEnd(y,S),Wwe(S),y++,v++}if(r?v>=n.batchesPerEpoch:b.done){if(s){let w;hoe(n.validationData)?w=Ar(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):w=Ar(e.evaluate(o,i,{batchSize:n.validationBatchSize==null?BJe:n.validationBatchSize,verbose:0}));for(let C=0;C<e.metricsNames.length;++C)m[`val_${e.metricsNames[C]}`]=w[C]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(p,m),p++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function WJe(e,t){let n=null;return t.batchesPerEpoch!=null?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function hoe(e){return typeof e.iterator=="function"}function UJe(e){return typeof e.next=="function"}async function jJe(e,t,n){n=n||{};const r=n.batches!=null,s=e.testFunction;let o=[];if(n.verbose>0)throw new Vn("Verbose mode is not implemented yet.");te(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const i=UJe(t)?t:await t.iterator();let a=0,l=0;for(;!r||l<n.batches;){const u=await i.next();if(o=Le(()=>{if(u.value){const{xs:c,ys:f}=exe(e,u.value),d=c.concat(f),h=Le(()=>s(d));if(Yn(d),l===0)for(let g=0;g<h.length;++g)o.push(Sn(0));const p=d[0].shape[0];for(let g=0;g<h.length;++g){const m=h[g],v=o[g];o[g]=Le(()=>mt(o[g],we(p,m))),l>0&&Yn(v)}Yn(h),a+=p,++l}return o}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<o.length;++u){const c=o[u];o[u]=an(o[u],a),Yn(c)}return xa(o)}function i5(e){te(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function uS(e,t,n){return e==null?[null]:Array.isArray(e)?e.map(r=>Kv(r,t,n-t)):Kv(e,t,n-t)}function UV(e,t){return Le(()=>e==null?null:Array.isArray(e)?e.map(n=>UV(n,t)):Twe(e,t.dtype==="int32"?t:At(t,"int32")))}function a5(e,t){const n=[];let r=0,s=null;for(;r<e;)s=r+t,s>=e&&(s=e),n.push([r,s]),r=s;return n}function txe(e){const t=[];e instanceof Mr&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(r.rank===1)t.push(GT(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function rc(e,t){if(e==null)return;const n=[];if(t instanceof Mr)n.push(t.id);else if(Array.isArray(t))t.forEach(s=>n.push(s.id));else if(t!=null)for(const s in t){const o=t[s];n.push(o.id)}const r=[];if(e instanceof Mr)n.indexOf(e.id)===-1&&r.push(e);else if(Array.isArray(e))e.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(e!=null)for(const s in e){const o=e[s];n.indexOf(o.id)===-1&&r.push(o)}r.forEach(s=>{s.isDisposed||s.dispose()})}function HJe(e){return e instanceof Mr}function jV(e){return Array.isArray(e)}function poe(e){return!HJe(e)&&!jV(e)}function goe(e,t,n,r=!0,s=""){if(t==null||t.length===0){if(e!=null){let i=!1;if(jV(e)&&e.length>0)i=!0;else if(poe(e)){for(const a in e)if(e.hasOwnProperty(a)){i=!0;break}}else i=!0;if(i)throw new ke(`Error when checking model ${s} expected no data, but got ${e}`)}return[]}if(e==null)return t.map(i=>null);let o;if(poe(e)){e=e,o=[];for(const i of t){if(e[i]==null)throw new ke(`No data provided for "${i}". Need data for each key in: ${t}`);o.push(e[i])}}else if(jV(e)){if(e=e,e.length!==t.length)throw new ke(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);o=e}else{if(e=e,t.length>1)throw new ke(`The model ${s} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);o=[e]}if(o=txe(o),n!=null)for(let i=0;i<t.length;++i){if(n[i]==null)continue;const a=o[i];if(a.shape.length!==n[i].length)throw new ke(`Error when checking ${s}: expected ${t[i]} to have ${n[i].length} dimension(s). but got array with shape ${a.shape}`);for(let l=0;l<n[i].length;++l){if(l===0&&!r)continue;const u=a.shape[l],c=n[i][l];if(c!=null&&c>=0&&u!==c)throw new ke(`${s} expected a batch of elements where each example has shape [${n[i].slice(1,n[i].length)}] (i.e.,tensor shape [*,${n[i].slice(1,n[i].length)}]) but the ${s} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return o}function qJe(e,t,n){const r=Jg(e.map(o=>o.shape[0]));r.sort();const s=Jg(t.map(o=>o.shape[0]));if(s.sort(),r.length>1)throw new ke(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(o=>o.shape))}`);if(s.length>1)throw new ke(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(o=>o.shape))}`);if(r.length>0&&s.length>0&&!ir(r,s))throw new ke(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function GJe(e,t,n){const r=[MP,PP,Uk];for(let s=0;s<e.length;++s){const o=e[s],i=t[s],a=n[s];if(i!=null){if(i===Uk&&o.shape[o.shape.length-1]===1)throw new ke(`You are passing a target array of shape ${o.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(i)!==-1){const l=o.shape.slice(1),u=a.slice(1);for(let c=0;c<l.length;++c){const f=l[c],d=u[c];if(d!=null&&f!==d)throw new ke(`A target Tensor with shape ${o.shape} was passed for an output of shape ${a}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function moe(e,t,n,r=!0,s=""){let o;if(Array.isArray(e)){if(e.length!==t.length)throw new ke(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);o=e}else{if(t.length>1)throw new ke(`The model expects ${t.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);o=[e]}if(n!=null)for(let i=0;i<t.length;++i){if(n[i]==null)continue;const a=o[i];if(a.shape.length!==n[i].length)throw new ke(`Error when checking ${s}: expected ${t[i]} to have ${n[i].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let l=0;l<n[i].length;++l){if(l===0&&!r)continue;const u=a.shape[l],c=n[i][l];if(c!=null&&c!==u)throw new ke(`Error when checking ${s}: expected ${t[i]} to have shape ${JSON.stringify(n[i])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}function KJe(e,t){if(e==null||Array.isArray(e)&&e.length===0)return t.map(r=>[]);let n;if(typeof e=="string"||typeof e=="function")n=[e];else if(Array.isArray(e)||typeof e=="object")n=e;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(n))return t.map(r=>n);{const r=[];for(const s of t){let o=n.hasOwnProperty(s)?n[s]:[];Array.isArray(o)||(o=[o]),r.push(o)}return r}}const YJe="layers-model";class lw extends MJe{constructor(t){super(t),this.isTraining=!1}summary(t,n,r=console.log){if(!this.built)throw new ke("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");IJe(this,t,n,r)}compile(t){if(t.loss==null&&(t.loss=[]),this.loss=t.loss,typeof t.optimizer=="string")this.optimizer_=AJe(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof Np))throw new ke("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(t.loss)&&typeof t.loss!="string"&&typeof t.loss!="function"){t.loss=t.loss;for(const i in t.loss)if(this.outputNames.indexOf(i)===-1)throw new ke(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(const i of this.outputNames)t.loss[i]==null&&console.warn(`Output "${i}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${i} during training`),n.push(o5(t.loss[i]))}else if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new ke(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${t.loss}.`);n=t.loss.map(a=>o5(a))}else{const i=o5(t.loss);this.outputs.forEach(a=>{n.push(i)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const a=this.internalOutputShapes[i],l=this.outputNames[i];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[i])}const r=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Gv("loss",()=>{for(let i=0;i<this.outputs.length;++i){if(r.indexOf(i)!==-1)continue;const a=this.lossFunctions[i];this.outputs.length>1&&(this.metricsTensors.push([a,i]),this.metricsNames.push(this.outputNames[i]+"_loss"))}});const s=KJe(t.metrics,this.outputNames),o=(i,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[i]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,i])};Gv("metric",()=>{for(let i=0;i<this.outputs.length;++i){if(r.indexOf(i)!==-1)continue;const a=s[i];(u=>{let f,d,h;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const m=this.internalOutputShapes[i];m[m.length-1]===1||this.lossFunctions[i]===PP?["accuracy","acc"].indexOf(p)!==-1?d=qwe:["crossentropy","ce"].indexOf(p)!==-1&&(d=bJe):this.lossFunctions[i]===FO?["accuracy","acc"].indexOf(p)!==-1?d=wJe:["crossentropy","ce"].indexOf(p)!==-1&&(d=Ywe):["accuracy","acc"].indexOf(p)!==-1?d=Gwe:["crossentropy","ce"].indexOf(p)!==-1&&(d=Kwe);let v;["accuracy","acc"].indexOf(p)!==-1?v="acc":["crossentropy","ce"].indexOf(p)!==-1&&(v="ce"),h=d,f=""+v}else h=TJe(p),f=""+YI(p);let g;Gv(f,()=>{g=h}),o(i,f,g)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(t,n,r={}){const s=r.batchSize==null?32:r.batchSize;i5(s);const i=this.standardizeUserDataXY(t,n,!0,s);try{const a=i[0].concat(i[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,a,s,r.verbose,r.steps);return xa(u)}finally{rc(i[0],t),rc(i[1],n)}}async evaluateDataset(t,n){return this.makeTestFunction(),jJe(this,t,n)}checkNumSamples(t,n,r,s="steps"){let o;if(r!=null){if(o=null,n!=null)throw new ke(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(t!=null)Array.isArray(t)?o=t[0].shape[0]:o=t.shape[0];else throw new ke(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return o}execute(t,n){if(Array.isArray(n)&&n.length===0)throw new ke("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],o=this.retrieveSymbolicTensors(s),i=new Ig;if(t instanceof Mr&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new ke(`The number of inputs provided (${t.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)i.add(this.inputs[l],t[l])}else for(const l of this.inputs){const u=t[l.name];if(u==null)throw new ke(`No value is provided for the model's input ${l.name}`);i.add(l,u)}const a=t$(o,i);return r?a:a[0]}retrieveSymbolicTensors(t){const n=S1(null,t.length);let r=t.length;for(const s of this.layers){const o=Array.isArray(s.output)?s.output:[s.output],i=o.map(a=>a.name);for(let a=0;a<t.length;++a){const l=i.indexOf(t[a]);if(l!==-1&&(n[a]=o[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((o,i)=>{o==null&&s.push(t[i])}),new ke(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(t,n=32,r=!1){return Le(()=>{const s=this.checkNumSamples(t);if(r)throw new Vn("Verbose predictLoop() is not implemented yet.");const o=a5(s,n),i=this.outputs.map(a=>[]);for(let a=0;a<o.length;++a)Le(()=>{const u=o[a][0],c=o[a][1],f=uS(t,u,c),d=[];if(Array.isArray(f))for(let p=0;p<f.length;++p)d.push({key:this.inputs[p],value:f[p]});else d.push({key:this.inputs[0],value:f});const h=new Ig(d);return t$(this.outputs,h)}).forEach((u,c)=>i[c].push(u));return xa(i.map(a=>xo(a,0)))})}predict(t,n={}){const r=txe(t);moe(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return i5(s),this.predictLoop(r,s)}finally{rc(r,t)}}predictOnBatch(t){moe(t,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,n)}standardizeUserDataXY(t,n,r=!0,s){if(this.optimizer_==null)throw new xu("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let i=0;i<this.feedOutputShapes.length;++i){const a=this.feedOutputShapes[i];this.feedLossFns[i]===FO?o.push(a.slice(0,a.length-1).concat([1])):o.push(a)}if(t=goe(t,this.feedInputNames,this.feedInputShapes,!1,"input"),n=goe(n,this.feedOutputNames,o,!1,"target"),qJe(t,n),GJe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&t[0].shape[0]%s!==0)throw new ke(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${t[0].shape[0]} sample(s).`);return[t,n]}async standardizeUserData(t,n,r,s,o=!0,i){const[a,l]=this.standardizeUserDataXY(t,n,o,i);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(s!=null){const c=Jwe(s,this.outputNames);u=[];for(let f=0;f<c.length;++f)u.push(await Qwe(l[f],null,c[f]))}return[a,l,u]}testLoop(t,n,r,s=0,o){return Le(()=>{const i=this.checkNumSamples(n,r,o,"steps"),a=[];if(s>0)throw new Vn("Verbose mode is not implemented yet.");if(o!=null)throw new Vn("steps mode in testLoop() is not implemented yet");{const l=a5(i,r),u=qi(Lc(0,i));for(let c=0;c<l.length;++c){const f=l[c][0],d=l[c][1],h=Kv(u,f,d-f),p=UV(n,h),g=t(p);if(c===0)for(let m=0;m<g.length;++m)a.push(Sn(0));for(let m=0;m<g.length;++m){const v=g[m];a[m]=mt(a[m],we(d-f,v))}}for(let c=0;c<a.length;++c)a[c]=an(a[c],i)}return a})}getDedupedMetricsNames(){const t=this.metricsNames,n=[];for(let r=0;r<t.length;++r){const s=t[r];let o=s;if(eoe(t,s)>1){const i=eoe(t.slice(0,r),s);o+=`_${i}`}n.push(o)}return n}makeTrainFunction(){return t=>{const n=[],r=t.slice(0,this.inputs.length),s=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=t.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),i=[],a=()=>{const f=[];for(let g=0;g<this.inputs.length;++g)f.push({key:this.inputs[g],value:r[g]});const d=new Ig(f),h=t$(this.outputs,d,{training:!0});let p;for(let g=0;g<this.lossFunctions.length;++g){const m=this.lossFunctions[g];let v=m(s[g],h[g]);o[g]!=null&&(v=LJe(v,o[g]));const y=Ns(v);n.push(y),g===0?p=v:p=mt(p,v)}for(let g=0;g<this.metricsTensors.length;++g){let m;if(this.outputs.length>1&&g<this.outputs.length)m=n[g];else{const v=this.metricsTensors[g][0],y=this.metricsTensors[g][1];m=Ns(v(s[y],h[y]))}Ta(m),i.push(m)}return p=Ns(p),this.calculateLosses().forEach(g=>{p=mt(p,g)}),p},l=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(a,!0,l)].concat(i)}}makeTestFunction(){this.testFunction=t=>Le(()=>{const n=[];let r;const s=t.slice(0,this.inputs.length),o=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let u=0;u<this.inputs.length;++u)i.push({key:this.inputs[u],value:s[u]});const a=new Ig(i),l=t$(this.outputs,a);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],f=Ns(c(o[u],l[u]));u===0?r=f:r=mt(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],f=this.metricsTensors[u][1],d=Ns(c(o[f],l[f]));n.push(d)}return n})}async fit(t,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,o,i,a,l,u,c,f,d;try{const h=r.batchSize==null?32:r.batchSize;i5(h);const g=await this.standardizeUserData(t,n,r.sampleWeight,r.classWeight,!1,h);s=g[0],o=g[1],d=g[2];let m=!1,v;if(r.validationData!=null&&r.validationData.length>0){if(m=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new Vn("validationData including sample weights is not supported yet."):new ke(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const _=await this.standardizeUserData(l,u,null,null,!0,h);c=_[0],f=_[1],v=c.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){m=!0;const T=Math.floor(s[0].shape[0]*(1-r.validationSplit)),_=s[0].shape[0];c=uS(s,T,_),i=s,s=uS(s,0,T),f=uS(o,T,_),a=o,o=uS(o,0,T),v=c.concat(f)}else r.validationSteps!=null&&(m=!0);const y=s.concat(o).concat(d);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),w=this.getDedupedMetricsNames();let C,S;m?(this.makeTestFunction(),C=this.testFunction,S=w.slice().concat(w.map(T=>"val_"+T))):(C=null,v=[],S=w.slice());const $=Uwe(r.callbacks,r.yieldEvery);return await this.fitLoop(b,y,w,h,r.epochs,r.verbose,$,C,v,r.shuffle,S,r.initialEpoch,null,null)}finally{this.isTraining=!1,rc(s,t),rc(o,n),rc(i,t),rc(a,n),rc(c,l),rc(f,u),d!=null&&Yn(d)}}async fitLoop(t,n,r,s,o,i,a,l,u,c,f,d,h,p){s==null&&(s=32),o==null&&(o=1),c==null&&(c=!0),d==null&&(d=0);let g=!1;if(l!=null&&u!=null&&(g=!0),p!=null&&(g=!0,h==null))throw new ke("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(n,s,h,"steps_per_epoch");let v;m!=null&&(v=Lc(0,m)),i==null&&(i=1);const{callbackList:y,history:b}=jwe(a,i,o,d,m,h,s,g,f);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let w=d;w<o;++w){await y.onEpochBegin(w);const C={};if(h!=null)throw new Vn("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Vn("batch shuffling is not implemneted yet");c&&_q(v);const S=qi(v),$=a5(m,s);for(let k=0;k<$.length;++k){const T={};if(await y.onBatchBegin(k,T),Le(()=>{const _=$[k][0],E=$[k][1],A=Kv(S,_,E-_);T.batch=k,T.size=E-_;const I=UV(n,A),F=t(I);for(let R=0;R<r.length;++R){const L=r[R],D=F[R];T[L]=D,Ta(D)}if(k===$.length-1&&g){const R=this.testLoop(l,u,s);for(let L=0;L<r.length;++L){const D=r[L],N=R[L];Ta(N),C["val_"+D]=N}}}),await y.onBatchEnd(k,T),Wwe(T),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(w,C),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(t,n){return VJe(this,t,n)}async trainOnBatch(t,n){const r=await this.standardizeUserData(t,n),s=r[0],o=r[1],a=this.makeTrainFunction()(s.concat(o)),l=[];for(const u of a){const c=await u.data();l.push(c[0])}return Yn(a),rc(r[0],t),rc(r[1],n),xa(l)}getNamedWeights(t){const n=[],r=t!=null&&t.trainableOnly,s=r?this.trainableWeights:this.weights,o=this.getWeights(r);for(let i=0;i<s.length;++i)r&&!s[i].trainable||n.push({name:s[i].originalName,tensor:o[i]});return n}set stopTraining(t){this.stopTraining_=t}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}dispose(){const t=super.dispose();if(t.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=xV().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-xV().numTensors}return t}getLossIdentifiers(){let t;if(typeof this.loss=="string")t=gh(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");t=this.loss.map(n=>gh(n))}else{const n=Object.keys(this.loss);t={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")t[s]=gh(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return t}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[gh(YI(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(t=>gh(YI(t)));{const t={};for(const n in this.metrics)t[n]=gh(YI(this.metrics[n]));return t}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(t){if(t.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(t.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(t.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=VV(t.optimizer_config),r=jh(n);let s;if(typeof t.loss=="string")s=dv(t.loss);else if(Array.isArray(t.loss))s=t.loss.map(i=>dv(i));else if(t.loss!=null){s={};for(const i in t.loss)s[i]=dv(t.loss[i])}let o;if(Array.isArray(t.metrics))o=t.metrics.map(i=>dv(i));else if(t.metrics!=null){o={};for(const i in t.metrics)o[i]=dv(t.metrics[i])}this.compile({loss:s,metrics:o,optimizer:r})}async save(t,n){if(typeof t=="string"){const u=hye(t);if(u.length===0)throw new ke(`Cannot find any save handlers for URL '${t}'`);if(u.length>1)throw new ke(`Found more than one (${u.length}) save handlers for URL '${t}'`);t=u[0]}if(t.save==null)throw new ke("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await CV(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:YJe,generatedBy:`TensorFlow.js tfjs-layers v${Zwe}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:f}=await CV(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=cye([r.data,c])}return this.userDefinedMetadata!=null&&(foe(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=r.data,a.weightSpecs=r.specs,t.save(a)}setUserDefinedMetadata(t){foe(t,this.name),this.userDefinedMetadata=t}getUserDefinedMetadata(){return this.userDefinedMetadata}}lw.className="Model";vt(lw);class nxe extends lw{}nxe.className="Functional";vt(nxe);let gK=class HV extends lw{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=t.name!=null?t.name:OP("sequential_"),t.layers!=null)for(const n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new ke(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const n=t instanceof HV||t instanceof lw;let r;if(n){if(r=t,r.outputs.length!==1)throw new ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new ke("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(t.inboundNodes.length===0){if(t.batchInputShape==null)throw new ke("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=XZe({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(t.inboundNodes.length!==1)throw new ke(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(t.inboundNodes[0].outputTensors.length!==1)throw new ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=Pwe(this.outputs[0])}this.inboundNodes=[],new FP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:S1(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=t.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return this.model==null&&this.build(),this.model.call(t,n)}build(t){if(vr(t),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new lw({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,r=console.log){this.built||this.build(),super.summary(t,n,r)}setWeights(t){this.model==null&&this.build(),this.model.setWeights(t)}evaluate(t,n,r={}){if(!this.built)throw new xu("The model needs to be compiled before being used.");return this.model.evaluate(t,n,r)}async evaluateDataset(t,n){if(!this.built)throw new xu("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return this.model==null&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return this.model==null&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,r={}){if(!this.built)throw new xu("The model needs to be compiled before being used.");return this.model.fit(t,n,r)}async fitDataset(t,n){if(!this.built)throw new xu("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,r={},s=!1){let o,i={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new ke("Legacy serialization format not supported yet.");o=n}else te(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=n.layers,delete n.layers,i=n;const a=new t(i);if(!(a instanceof HV))throw new Vn(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const l of o){const c=jh(l,void 0,s);s&&c.setFastWeightInitDuringBuild(!0),a.add(c)}return a}set stopTraining(t){if(this.model==null)throw new ke("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(this.model==null)throw new ke("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),t.push(r)}return{name:this.name,layers:t}}};gK.className="Sequential";vt(gK);function XJe(e){return new gK(e)}let wi=class extends dy{getConfig(){return{}}};class rxe extends wi{apply(t,n=1){return RZe(t,n)}}rxe.className="elu";vt(rxe);class sxe extends wi{apply(t){return lG(t)}}sxe.className="selu";vt(sxe);class oxe extends wi{apply(t){return Dd(t)}}oxe.className="relu";vt(oxe);class ixe extends wi{apply(t){return Le(()=>x1(6,Dd(t)))}}ixe.className="relu6";vt(ixe);let axe=class extends wi{apply(t){return t}};axe.className="linear";vt(axe);class lxe extends wi{apply(t){return jf(t)}}lxe.className="sigmoid";vt(lxe);class uxe extends wi{apply(t){return MZe(t)}}uxe.className="hardSigmoid";vt(uxe);class cxe extends wi{apply(t){return G2(t)}}cxe.className="softplus";vt(cxe);class fxe extends wi{apply(t){return FZe(t)}}fxe.className="softsign";vt(fxe);class dxe extends wi{apply(t){return b1(t)}}dxe.className="tanh";vt(dxe);let mK=class extends wi{apply(t,n=-1){return gP(t,n)}};mK.className="softmax";vt(mK);class hxe extends wi{apply(t,n=-1){return Jq(t,n)}}hxe.className="logSoftmax";vt(hxe);class pxe extends wi{apply(t){return Le(()=>Le(()=>{const n=Math.sqrt(2),r=we(.5,mt(1,Yq(an(t,n))));return we(t,r)}))}}pxe.className="gelu";vt(pxe);class gxe extends wi{apply(t){return Le(()=>we(.5,we(t,mt(1,b1(we(Go(an(2,Math.PI)),mt(t,we(.044715,sp(t,3)))))))))}}gxe.className="gelu_new";vt(gxe);class mxe extends wi{apply(t){return Le(()=>we(t,b1(G2(t))))}}mxe.className="mish";vt(mxe);class vxe extends wi{apply(t,n=1){return Le(()=>we(jf(we(t,n)),t))}}vxe.className="swish";vt(vxe);function mm(e){return e.getClassName()}function l5(e,t={}){return qT(e,Wl.getMap().classNameMap,t,"activation")}function vm(e){if(e==null){const t={};return t.className="linear",t.config={},l5(t)}if(typeof e=="string"){const t={};return t.className=e,t.config={},l5(t)}else return e instanceof wi?e:l5(e)}function ZJe(e){if(e!=null&&typeof e!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}class yxe extends dy{}class bxe extends yxe{constructor(t){super(),ZJe(t),this.l1=t==null||t.l1==null?.01:t.l1,this.l2=t==null||t.l2==null?.01:t.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(t){return Le(()=>{let n=no([1]);return this.hasL1&&(n=mt(n,Qt(we(this.l1,eo(t))))),this.hasL2&&(n=mt(n,Qt(we(this.l2,KT(t))))),_e(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,n){return new t({l1:n.l1,l2:n.l2})}}bxe.className="L1L2";vt(bxe);const voe={l1l2:"L1L2"};function Yr(e){return tK(e)}function yoe(e,t={}){return qT(e,Wl.getMap().classNameMap,t,"regularizer")}function ms(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in voe?voe[e]:e,config:{}};return yoe(n)}else return e instanceof yxe?e:yoe(e)}class wxe extends Xn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null&&(this.maxValue=t.maxValue)}call(t,n){t=kn(t);let r=Dd(t);return this.maxValue!=null&&(r=yl(r,0,this.maxValue)),r}computeOutputShape(t){return t}getConfig(){const t={maxValue:this.maxValue},n=super.getConfig();return Object.assign(t,n),t}}wxe.className="ReLU";vt(wxe);class xxe extends Xn{constructor(t){super(t??{}),this.DEFAULT_ALPHA=.3,t==null&&(t={}),this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=kn(t);return rP(r,this.alpha)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}}xxe.className="LeakyReLU";vt(xxe);class Cxe extends Xn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",t==null&&(t={}),this.supportsMasking=!0,this.alphaInitializer=gs(t.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=ms(t.alphaRegularizer),this.alphaConstraint=io(t.alphaConstraint),t.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(t.sharedAxes))this.sharedAxes=t.sharedAxes;else if(typeof t.sharedAxes=="number")this.sharedAxes=[t.sharedAxes];else throw new ke(`Expected sharedAxes to be a number or an array of numbers, but got ${t.sharedAxes}`)}build(t){t=vr(t);const n=t.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<t.length;++s)r[s]=t[s];this.inputSpec=[new so({ndim:t.length,axes:r})],this.built=!0}call(t,n){return t=kn(t),fP(t,this.alpha.read())}getConfig(){const t={alphaInitializer:$s(this.alphaInitializer),alphaRegularizer:Yr(this.alphaRegularizer),alphaConstraint:oo(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(t,n),t}}Cxe.className="PReLU";vt(Cxe);let Sxe=class extends Xn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA=1,t==null&&(t={}),t.alpha!=null&&t.alpha!==this.DEFAULT_ALPHA)throw new Vn(`Non-default alpha value (${t.alpha}) is not supported by the ELU layer yet.`);this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=kn(t);return BT(r)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}};Sxe.className="ELU";vt(Sxe);class $xe extends Xn{constructor(t){super(t??{}),this.DEFAULT_THETA=1,t==null&&(t={}),this.theta=t.theta==null?this.DEFAULT_THETA:t.theta}call(t,n){const r=kn(t);return we(r,At(Dl(r,this.theta),"float32"))}computeOutputShape(t){return t}getConfig(){const t={theta:this.theta},n=super.getConfig();return Object.assign(t,n),t}}$xe.className="ThresholdedReLU";vt($xe);class kxe extends Xn{constructor(t){super(t??{}),this.DEFAULT_AXIS=1,t==null&&(t={}),this.softmax=new mK().apply,this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis}call(t,n){return Le(()=>{let r=kn(t);const s=n.mask;if(s!=null){const o=we(qt(il(r.shape),At(s,r.dtype)),Sn(-1e9));r=mt(r,o)}return this.axis instanceof Array?this.axis.length>1?bl(qt(r,iP(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(t){return t}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}kxe.className="Softmax";vt(kxe);function uw(e,t,n){if(typeof e=="number")return S1(e,t);if(e.length!==t)throw new ke(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const s=e[r];if(!IZe(s))throw new ke(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${s}`)}return e}function Ec(e,t,n,r,s=1){if(e==null)return e;const o=t+(t-1)*(s-1);let i;return n==="same"?i=e:i=e-o+1,Math.floor((i+r-1)/r)}function Nf(e,t,n,r){if(e==null)return null;if(r==="valid")e=e*t+gm([n-t,0]);else if(r==="same")e=e*t;else throw new ke(`Unsupport padding mode: ${r}.`);return e}function vK(e,t){return Le(()=>(qs(t),t==="channelsFirst"?rr(e,[0,2,3,1]):e))}function Exe(e,t){return Le(()=>(qs(t),t==="channelsFirst"?rr(e,[0,2,3,4,1]):e))}function JJe(e,t,n,r=1,s="valid",o,i=1){return Le(()=>{if(o==null&&(o=Bc()),qs(o),e.shape.length!==3)throw new ke(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(t.shape.length!==3)throw new ke(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new ke(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(o==="channelsFirst"&&(e=rr(e,[0,2,1])),s==="causal")throw new Vn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=jq(e,t,r,s==="same"?"same":"valid","NWC",i);return n!=null&&(a=Zc(a,n)),a})}function boe(e,t,n,r=[1,1],s="valid",o,i,a=null){return Le(()=>{if(o==null&&(o=Bc()),qs(o),e.rank!==3&&e.rank!==4)throw new ke(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(t.rank!==3&&t.rank!==4)throw new ke(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=vK(e,o);if(s==="causal")throw new Vn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Cbe({x:l,filter:t,strides:r,pad:s==="same"?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:a}),o==="channelsFirst"&&(l=rr(l,[0,3,1,2])),l})}function QJe(e,t,n,r=[1,1,1],s="valid",o,i){return Le(()=>{if(o==null&&(o=Bc()),qs(o),e.rank!==4&&e.rank!==5)throw new ke(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(t.rank!==4&&t.rank!==5)throw new ke(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let a=Exe(e,o);if(s==="causal")throw new Vn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=zye(a,t,r,s==="same"?"same":"valid","NDHWC",i),n!=null&&(a=Zc(a,n)),o==="channelsFirst"&&(a=rr(a,[0,4,1,2,3])),a})}class LP extends Xn{constructor(t,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",LP.verifyArgs(n),this.rank=t,yo(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Vn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=uw(n.kernelSize,t,"kernelSize"),this.strides=uw(n.strides==null?1:n.strides,t,"strides"),this.padding=n.padding==null?"valid":n.padding,au(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,qs(this.dataFormat),this.activation=vm(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=gs(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=io(n.biasConstraint),this.biasRegularizer=ms(n.biasRegularizer),this.activityRegularizer=ms(n.activityRegularizer),this.dilationRate=uw(n.dilationRate==null?1:n.dilationRate,t,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new ke(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new ke(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new ke(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(t){if(If("kernelSize"in t,"required key 'kernelSize' not in config"),typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,3))throw new ke(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:mm(this.activation),useBias:this.useBias,biasInitializer:$s(this.biasInitializer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),biasConstraint:oo(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}class X2 extends LP{constructor(t,n){super(t,n),this.kernel=null,X2.verifyArgs(n),this.filters=n.filters,yo(this.filters,"filters"),this.kernelInitializer=gs(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=io(n.kernelConstraint),this.kernelRegularizer=ms(n.kernelRegularizer)}build(t){t=vr(t);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke(`The channel dimension of the input should be defined. Found ${t[n]}`);const r=t[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(t,n){return Le(()=>{t=kn(t);let r;const s=this.bias==null?null:this.bias.read(),o=Cwe(this.activation.getClassName());if(o!=null&&this.rank===2)r=boe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)r=JJe(t,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=boe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=QJe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Vn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(t){t=vr(t);const n=[],r=this.dataFormat==="channelsLast"?t.slice(1,t.length-1):t.slice(2);for(let o=0;o<r.length;++o){const i=Ec(r[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);n.push(i)}let s=[t[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const t={filters:this.filters,kernelInitializer:$s(this.kernelInitializer),kernelRegularizer:Yr(this.kernelRegularizer),kernelConstraint:oo(this.kernelConstraint)},n=super.getConfig();return Object.assign(t,n),t}static verifyArgs(t){if(!("filters"in t)||typeof t.filters!="number"||t.filters<1)throw new ke(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}class JT extends X2{constructor(t){super(2,t),JT.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,2))throw new ke(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}}JT.className="Conv2D";vt(JT);class QT extends X2{constructor(t){super(3,t),QT.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!(Array.isArray(t.kernelSize)&&(t.kernelSize.length===1||t.kernelSize.length===3)))throw new ke(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}}QT.className="Conv3D";vt(QT);class _xe extends JT{constructor(t){if(super(t),this.inputSpec=[new so({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new ke(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=vr(t),t.length!==4)throw new ke("Input should have rank 4; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new so({ndim:4,axes:{[n]:r}})],this.built=!0}call(t,n){return Le(()=>{let r=kn(t);if(r.shape.length!==4)throw new ke(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,o=s[0];let i,a;this.dataFormat==="channelsFirst"?(i=2,a=3):(i=1,a=2);const l=s[i],u=s[a],c=this.kernelSize[0],f=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=Nf(l,d,c,this.padding),g=Nf(u,h,f,this.padding),m=[o,p,g,this.filters];this.dataFormat!=="channelsLast"&&(r=rr(r,[0,2,3,1]));let v=qq(r,this.kernel.read(),m,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(v=rr(v,[0,3,1,2])),this.bias!=null&&(v=Zc(v,this.bias.read(),this.dataFormat)),this.activation!=null&&(v=this.activation.apply(v)),v})}computeOutputShape(t){t=vr(t);const n=t.slice();let r,s,o;this.dataFormat==="channelsFirst"?(r=1,s=2,o=3):(r=3,s=1,o=2);const i=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[s]=Nf(n[s],l,i,this.padding),n[o]=Nf(n[o],u,a,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}_xe.className="Conv2DTranspose";vt(_xe);class Txe extends QT{constructor(t){if(super(t),this.inputSpec=[new so({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new ke(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=vr(t),t.length!==5)throw new ke("Input should have rank 5; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new so({ndim:5,axes:{[n]:r}})],this.built=!0}call(t,n){return Le(()=>{let r=kn(t);if(r.shape.length!==5)throw new ke(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,o=s[0];let i,a,l;this.dataFormat==="channelsFirst"?(l=2,i=3,a=4):(l=1,i=2,a=3);const u=s[l],c=s[i],f=s[a],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],g=this.strides[0],m=this.strides[1],v=this.strides[2],y=Nf(u,g,d,this.padding),b=Nf(c,m,h,this.padding),w=Nf(f,v,p,this.padding),C=[o,y,b,w,this.filters];this.dataFormat!=="channelsLast"&&(r=rr(r,[0,2,3,4,1]));let S=Wye(r,this.kernel.read(),C,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=rr(S,[0,4,1,2,3])),this.bias!==null&&(S=Zc(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(t){t=vr(t);const n=t.slice();let r,s,o,i;this.dataFormat==="channelsFirst"?(r=1,s=2,o=3,i=4):(r=4,s=1,o=2,i=3);const a=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],f=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[s]=Nf(n[s],c,a,this.padding),n[o]=Nf(n[o],f,l,this.padding),n[i]=Nf(n[i],d,u,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}Txe.className="Conv3DTranspose";vt(Txe);class Axe extends X2{constructor(t,n){if(super(t,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new ke("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new ke("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new ke(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=gs(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=ms(n.depthwiseRegularizer),this.depthwiseConstraint=io(n.depthwiseConstraint),this.pointwiseInitializer=gs(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=ms(n.pointwiseRegularizer),this.pointwiseConstraint=io(n.pointwiseConstraint)}build(t){if(t=vr(t),t.length<this.rank+2)throw new ke(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(t)}`);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null||t[n]<0)throw new ke(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(t[n])}`);const r=t[n],s=this.kernelSize.concat([r,this.depthMultiplier]),o=[];for(let a=0;a<this.rank;++a)o.push(1);o.push(r*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new so({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(t,n){return Le(()=>{t=kn(t);let r;if(this.rank===1)throw new Vn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(t=rr(t,[0,2,3,1])),r=uG(t,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Zc(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=rr(r,[0,3,1,2])),r})}getConfig(){const t=super.getConfig();return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=$s(this.depthwiseInitializer),t.pointwiseInitializer=$s(this.pointwiseInitializer),t.depthwiseRegularizer=Yr(this.depthwiseRegularizer),t.pointwiseRegularizer=Yr(this.pointwiseRegularizer),t.depthwiseConstraint=oo(this.depthwiseConstraint),t.pointwiseConstraint=oo(this.pointwiseConstraint),t}}Axe.className="SeparableConv";class Ixe extends Axe{constructor(t){super(2,t)}}Ixe.className="SeparableConv2D";vt(Ixe);class BP extends X2{constructor(t){super(1,t),BP.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){const t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,1))throw new ke(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}}BP.className="Conv1D";vt(BP);class Nxe extends Xn{constructor(t){super(t),typeof t.cropping=="number"?this.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:typeof t.cropping[0]=="number"?this.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:this.cropping=t.cropping,this.dataFormat=t.dataFormat===void 0?"channelsLast":t.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(t){return this.dataFormat==="channelsFirst"?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}call(t,n){return Le(()=>{if(t=kn(t),this.dataFormat==="channelsLast"){const r=KI(t,this.cropping[0][0],t.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return KI(r,this.cropping[1][0],t.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=KI(t,this.cropping[0][0],t.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return KI(r,this.cropping[1][0],t.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const t={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}Nxe.className="Cropping2D";vt(Nxe);class Dxe extends Xn{constructor(t){super(t),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=t.size==null?this.DEFAULT_SIZE:t.size,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),this.interpolation=t.interpolation==null?"nearest":t.interpolation,_Ze(this.interpolation)}computeOutputShape(t){if(this.dataFormat==="channelsFirst"){const n=t[2]==null?null:this.size[0]*t[2],r=t[3]==null?null:this.size[1]*t[3];return[t[0],t[1],n,r]}else{const n=t[1]==null?null:this.size[0]*t[1],r=t[2]==null?null:this.size[1]*t[2];return[t[0],n,r,t[3]]}}call(t,n){return Le(()=>{let r=kn(t);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=rr(r,[0,2,3,1]);const o=this.size[0]*s[2],i=this.size[1]*s[3],a=this.interpolation==="nearest"?Bf.resizeNearestNeighbor(r,[o,i]):Bf.resizeBilinear(r,[o,i]);return rr(a,[0,3,1,2])}else{const o=this.size[0]*s[1],i=this.size[1]*s[2];return this.interpolation==="nearest"?Bf.resizeNearestNeighbor(r,[o,i]):Bf.resizeBilinear(r,[o,i])}})}getConfig(){const t={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}}Dxe.className="UpSampling2D";vt(Dxe);function eQe(e,t,n=[1,1],r="valid",s,o){return Le(()=>{s==null&&(s=Bc()),qs(s);let i=vK(e,s);if(e.rank!==4)throw new ke(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(t.rank!==4)throw new ke(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=LT(i,t,n,r==="same"?"same":"valid","NHWC",o),s==="channelsFirst"&&(i=rr(i,[0,3,1,2])),i})}class Oxe extends LP{constructor(t){super(2,t),this.depthwiseKernel=null,this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=gs(t.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=io(t.depthwiseConstraint),this.depthwiseRegularizer=ms(t.depthwiseRegularizer)}build(t){if(t=vr(t),t.length<4)throw new ke(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(t)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(t[n]==null||t[n]<0)throw new ke(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${t[n]}).`);const r=t[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Le(()=>{t=kn(t);let r=eQe(t,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Zc(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(t){t=vr(t);const n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],s=this.dataFormat==="channelsFirst"?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,o=Ec(n,this.kernelSize[0],this.padding,this.strides[0]),i=Ec(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[t[0],s,o,i]:[t[0],o,i,s]}getConfig(){const t=super.getConfig();return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=$s(this.depthwiseInitializer),t.depthwiseRegularizer=Yr(this.depthwiseRegularizer),t.depthwiseConstraint=oo(this.depthwiseRegularizer),t}}Oxe.className="DepthwiseConv2D";vt(Oxe);function Rxe(e,t,n,r){if(Array.isArray(e)){if(t!=null||n!=null)throw new ke("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function s(o){return o==null||Array.isArray(o)?o:[o]}return t=s(t),n=s(n),{inputs:e,initialState:t,constants:n}}function Fxe(e,t,n,r=!1,s,o,i=!1,a=!1){return Le(()=>{const l=t.shape.length;if(l<3)throw new ke(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(Lc(2,l));t=rr(t,u),i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=At(At(s,"bool"),"float32"),s.rank===l-1&&(s=zi(s,-1)),s=rr(s,u)),r&&(t=Mu(t,0),s!=null&&(s=Mu(s,0)));const c=[];let f,d=n;const h=t.shape[0],p=pm(t);let g;s!=null&&(g=pm(s));for(let v=0;v<h;++v){const y=p[v],b=Le(()=>e(y,d));if(s==null)f=b[0],d=b[1];else{const w=Le(()=>{const C=g[v],S=qt(nu(C),C),$=mt(we(b[0],C),we(d[0],S)),k=d.map((T,_)=>mt(we(b[1][_],C),we(T,S)));return{output:$,newStates:k}});f=w.output,d=w.newStates}a&&c.push(f)}let m;return a&&(m=cd(c,1)),[f,m,d]})}class a0 extends Xn{constructor(t){super(t);let n;if(t.cell==null)throw new ke("cell property is missing for the constructor of RNN.");if(Array.isArray(t.cell)?n=new wK({cells:t.cell}):n=t.cell,n.stateSize==null)throw new ke("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=t.returnSequences==null?!1:t.returnSequences,this.returnState=t.returnState==null?!1:t.returnState,this.goBackwards=t.goBackwards==null?!1:t.goBackwards,this._stateful=t.stateful==null?!1:t.stateful,this.unroll=t.unroll==null?!1:t.unroll,this.supportsMasking=!0,this.inputSpec=[new so({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Lc(0,t).map(n=>null)}else return this.states_}setStates(t){this.states_=t}computeOutputShape(t){LV(t)&&(t=t[0]),t=t;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[t[0],t[1],r]:s=[t[0],r],this.returnState){const o=[];for(const i of n)o.push([t[0],i]);return[s].concat(o)}else return s}computeMask(t,n){return Le(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(o=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<t;++r)n.push(null);return n}else return this.states_}set states(t){this.states_=t}build(t){if(this.numConstants!=null)throw new Vn("Constants support is not implemented in RNN yet.");LV(t)&&(t=t[0]),t=t;const n=this.stateful?t[0]:null,r=t.slice(2);this.inputSpec[0]=new so({shape:[n,null,...r]});const s=[t[0]].concat(t.slice(2));this.cell.build(s);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!ir(this.stateSpec.map(i=>i.shape[i.shape.length-1]),o))throw new ke(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map(i=>new so({shape:[null,i]}));this.stateful&&this.resetStates()}resetStates(t,n=!1){Le(()=>{if(!this.stateful)throw new Af("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new ke("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>no([r,s])):this.states_=[no([r,this.cell.stateSize])];else if(t==null)Yn(this.states_),this.keptStates!=null&&(Yn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>no([r,s])):this.states_[0]=no([r,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new ke(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n===!0?this.keptStates.push(this.states_.slice()):Yn(this.states_);for(let s=0;s<this.states_.length;++s){const o=t[s],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[r,i];if(!ir(o.shape,a))throw new ke(`State ${s} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${o.shape}`);this.states_[s]=o}}this.states_=this.states_.map(s=>Ta(s.clone()))})}apply(t,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=Rxe(t,r,s,this.numConstants);t=o.inputs,r=o.initialState,s=o.constants;let i=[],a=[];if(r!=null){n.initialState=r,i=i.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new so({shape:u.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,i=i.concat(s),this.numConstants=s.length),i[0]instanceof fd){const u=[t].concat(i),c=this.inputSpec.concat(a),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Le(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let o=n==null?null:n.initialState;t=kn(t),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(t));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==i)throw new ke(`RNN Layer has ${i} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},u=Fxe((p,g)=>{const m=this.cell.call([p].concat(g),a);return[m[0],m.slice(1)]},t,o,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],f=u[1],d=u[2];this.stateful&&this.resetStates(d,s);const h=this.returnSequences?f:c;return this.returnState?[h].concat(d):h})}getInitialState(t){return Le(()=>{let n=no(t.shape);return n=Qt(n,[1,2]),n=GT(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?MV(n,[1,r]):n):this.cell.stateSize>1?[MV(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){const t=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===a0.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),t),n)}static fromConfig(t,n,r={}){const s=n.cell,o=jh(s,r);return new t(Object.assign(n,{cell:o}))}}a0.className="RNN";vt(a0);class zP extends Xn{}class yK extends zP{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation==null?this.DEFAULT_ACTIVATION:t.activation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=vr(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Le(()=>{if(t=t,t.length!==2)throw new ke(`SimpleRNNCell expects 2 input Tensors, got ${t.length}.`);let r=t[1];t=t[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>nu(t),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>nu(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let o;const i=this.dropoutMask,a=this.recurrentDropoutMask;i!=null?o=Gf(we(t,i),this.kernel.read()):o=Gf(t,this.kernel.read()),this.bias!=null&&(o=Zc(o,this.bias.read())),a!=null&&(r=we(r,a));let l=mt(o,Gf(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},t),n)}}yK.className="SimpleRNNCell";vt(yK);class Mxe extends a0{constructor(t){t.cell=new yK(t),super(t)}call(t,n){return Le(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return new t(n)}}Mxe.className="SimpleRNN";vt(Mxe);class bK extends zP{constructor(t){if(super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.resetAfter)throw new ke("GRUCell does not support reset_after parameter set to true.");this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=vm(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=vr(t);const n=t[t.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Le(()=>{if(t=t,t.length!==2)throw new ke(`GRUCell expects 2 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training==null?!1:n.training;let s=t[1];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>nu(t),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>nu(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=this.recurrentDropoutMask;let a,l,u;0<this.dropout&&this.dropout<1&&(t=we(t,o[0]));let c=Gf(t,this.kernel.read());this.useBias&&(c=Zc(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=we(s,i[0]));const f=this.recurrentKernel.read(),[d,h]=dl(f,[2*this.units,this.units],f.rank-1),p=Gf(s,d),[g,m,v]=dl(c,3,c.rank-1),[y,b]=dl(p,2,p.rank-1);a=this.recurrentActivation.apply(mt(g,y)),l=this.recurrentActivation.apply(mt(m,b));const w=Gf(we(l,s),h);u=this.activation.apply(mt(v,w));const C=mt(we(a,s),we(mt(1,as(a)),u));return[C,C]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),recurrentActivation:mm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},t),n)}}bK.className="GRUCell";vt(bK);class Pxe extends a0{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new bK(t),super(t)}call(t,n){return Le(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}Pxe.className="GRU";vt(Pxe);class VP extends zP{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=vm(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=t.unitForgetBias,this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){var n;t=vr(t);const r=t[t.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const o=this.biasInitializer,i=this.units;s=new(n=class extends Xu{apply(l,u){const c=o.apply([i]),f=new sK().apply([i]),d=o.apply([i*2]);return noe(noe(c,f),d)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(t,n){return Le(()=>{const r=n.training==null?!1:n.training;if(t=t,t.length!==3)throw new ke(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);let s=t[1];const o=t[2];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>nu(t),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>nu(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let l,u,c,f;0<this.dropout&&this.dropout<1&&(t=we(t,i[0]));let d=Gf(t,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=we(s,a[0])),d=mt(d,Gf(s,this.recurrentKernel.read())),this.useBias&&(d=Zc(d,this.bias.read()));const[h,p,g,m]=dl(d,4,d.rank-1);l=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(p),c=mt(we(u,o),we(l,this.activation.apply(g))),f=this.recurrentActivation.apply(m);const v=we(f,this.activation.apply(c));return[v,v,c]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),recurrentActivation:mm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},t),n)}}VP.className="LSTMCell";vt(VP);class Lxe extends a0{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new VP(t),super(t)}call(t,n){return Le(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}Lxe.className="LSTM";vt(Lxe);class wK extends zP{constructor(t){super(t),this.cells=t.cells}get stateSize(){const t=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?t.push(...n.stateSize):t.push(n.stateSize);return t}call(t,n){return Le(()=>{t=t;let r=t.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(r.splice(0,a.stateSize.length)):s.push(r.splice(0,1));s.reverse();const o=[];let i;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];r=s[a],a===0?i=[t[0]].concat(r):i=[i[0]].concat(r),i=l.call(i,n),o.push(i.slice(1))}r=[];for(const a of o.slice().reverse())r.push(...a);return[i[0]].concat(r)})}build(t){LV(t)&&(t=t[0]),t=t;let n;this.cells.forEach((r,s)=>{Gv(`RNNCell_${s}`,()=>{r.build(t),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,t=[t[0],n]})}),this.built=!0}getConfig(){const t=super.getConfig(),n=o=>({className:o.getClassName(),config:o.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},t),s)}static fromConfig(t,n,r={}){const s=[];for(const o of n.cells)s.push(jh(o,r));return new t({cells:s})}get trainableWeights(){if(!this.trainable)return[];const t=[];for(const n of this.cells)t.push(...n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.cells)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(t)}return t}getWeights(){const t=[];for(const n of this.cells)t.push(...n.weights);return BV(t)}setWeights(t){const n=[];for(const r of this.cells){const s=r.weights.length,o=t.splice(s);for(let i=0;i<r.weights.length;++i)n.push([r.weights[i],o[i]])}fK(n)}}wK.className="StackedRNNCells";vt(wK);function ym(e){const{ones:t,rate:n,training:r=!1,count:s=1,dropoutFunc:o}=e,i=()=>o!=null?o(t(),n):Awe(t(),n),a=()=>YT(i,t,r);return!s||s<=1?Ta(a().clone()):Array(s).fill(void 0).map(a).map(u=>Ta(u.clone()))}var tQe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Bxe extends a0{constructor(t){if(t.unroll)throw new Vn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(t.cell))throw new Vn("It is not possible at the moment to stack convolutional cells.");super(t),this.inputSpec=[new so({ndim:5})]}call(t,n){return Le(()=>{if(this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new ke("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}computeOutputShape(t){let n=this.computeSingleOutputShape(t);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([t[0],...n.slice(-3)])]),n}getInitialState(t){return Le(()=>{const{stateSize:n}=this.cell,r=t.shape,s=this.computeSingleOutputShape(r),o=[s[0],...s.slice(2)],i=no(o);return Array.isArray(n)?Array(n.length).fill(i):[i]})}resetStates(t,n=!1){Le(()=>{if(!this.stateful)throw new Af("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),o=[s[0],...s.slice(2)];if(r[0]==null)throw new ke("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>no(o)):this.states_=[no(o)];else if(t==null)Yn(this.states_),this.keptStates!=null&&(Yn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>no(o)):this.states_[0]=no(o);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new ke(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n?this.keptStates.push(this.states_.slice()):Yn(this.states_);for(let a=0;a<this.states_.length;++a){const l=t[a],u=o;if(!ir(l.shape,u))throw new ke(`State ${a} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[a]=l}}this.states_=this.states_.map(a=>Ta(a.clone()))})}computeSingleOutputShape(t){const{dataFormat:n,filters:r,kernelSize:s,padding:o,strides:i,dilationRate:a}=this.cell,l=n==="channelsFirst",u=t[l?3:2],c=t[l?4:3],f=Ec(u,s[0],o,i[0],a[0]),d=Ec(c,s[1],o,i[1],a[1]);return[...t.slice(0,2),...l?[r,f,d]:[f,d,r]]}}Bxe.className="ConvRNN2D";class xK extends VP{constructor(t){const{filters:n,kernelSize:r,strides:s,padding:o,dataFormat:i,dilationRate:a}=t;super(Object.assign(Object.assign({},t),{units:n})),this.filters=n,yo(this.filters,"filters"),this.kernelSize=uw(r,2,"kernelSize"),this.kernelSize.forEach(l=>yo(l,"kernelSize")),this.strides=uw(s||1,2,"strides"),this.strides.forEach(l=>yo(l,"strides")),this.padding=o||"valid",au(this.padding),this.dataFormat=i||"channelsLast",qs(this.dataFormat),this.dilationRate=uw(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>yo(l,"dilationRate"))}build(t){var n;t=vr(t);const r=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[r]==null)throw new ke(`The channel dimension of the input should be defined. Found ${t[r]}`);const s=t[r],o=4,i=this.kernelSize.concat([s,this.filters*o]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Xu{apply(d,h){const p=u.apply([c]),g=il([c]),m=u.apply([c*2]);return rK([p,g,m])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(t,n){return Le(()=>{if(t.length!==3)throw new ke(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training||!1,s=t[0],o=t[1],i=t[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>nu(s),rate:this.dropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(z,W,j)=>!W||!W[j]?z:we(W[j],z);let c=u(s,l,0),f=u(s,l,1),d=u(s,l,2),h=u(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>nu(o),rate:this.recurrentDropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let g=u(o,p,0),m=u(o,p,1),v=u(o,p,2),y=u(o,p,3);const b=3,[w,C,S,$]=dl(this.kernel.read(),a,b),[k,T,_,E]=this.useBias?dl(this.bias.read(),a):[null,null,null,null];c=this.inputConv(c,w,k,this.padding),f=this.inputConv(f,C,T,this.padding),d=this.inputConv(d,S,_,this.padding),h=this.inputConv(h,$,E,this.padding);const[A,I,F,R]=dl(this.recurrentKernel.read(),a,b);g=this.recurrentConv(g,A),m=this.recurrentConv(m,I),v=this.recurrentConv(v,F),y=this.recurrentConv(y,R);const L=this.recurrentActivation.apply(mt(c,g)),D=this.recurrentActivation.apply(mt(f,m)),N=mt(we(D,i),we(L,this.activation.apply(mt(d,v)))),M=we(this.recurrentActivation.apply(mt(h,y)),this.activation.apply(N));return[M,M,N]})}getConfig(){const t=super.getConfig(),{units:n}=t,r=tQe(t,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),s)}inputConv(t,n,r,s){const o=hm(t,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Zc(o,r,this.dataFormat):o}recurrentConv(t,n){return hm(t,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}xK.className="ConvLSTM2DCell";vt(xK);class zxe extends Bxe{constructor(t){const n=new xK(t);super(Object.assign(Object.assign({},t),{cell:n}))}static fromConfig(t,n){return new t(n)}}zxe.className="ConvLSTM2D";vt(zxe);class CK extends Xn{constructor(t){super(t),this.rate=Math.max(Math.min(t.rate,1),0),this.noiseShape=t.noiseShape,this.seed=t.seed,this.supportsMasking=!0}getNoiseShape(t){if(this.noiseShape==null)return this.noiseShape;const n=t.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,o=this.getNoiseShape(r);return YT(()=>Awe(r,this.rate,o,this.seed),()=>r,s)}return t})}getConfig(){const t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(t,n),t}dispose(){return super.dispose()}}CK.className="Dropout";vt(CK);class Vxe extends CK{constructor(t){super(t),this.inputSpec=[{ndim:3}]}getNoiseShape(t){const n=t.shape;return[n[0],1,n[2]]}}Vxe.className="SpatialDropout1D";vt(Vxe);class SK extends Xn{constructor(t){if(super(t),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.batchInputShape==null&&t.inputShape==null&&t.inputDim!=null){let n=null;t.batchSize!=null&&(n=t.batchSize),this.batchInputShape=[n,t.inputDim]}this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation),t.useBias!=null&&(this.useBias=t.useBias),this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=io(t.kernelConstraint),this.biasConstraint=io(t.biasConstraint),this.kernelRegularizer=ms(t.kernelRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.activityRegularizer=ms(t.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(t){t=vr(t);const n=t[t.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(t){t=vr(t);const n=t.slice();return n[n.length-1]=this.units,n}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t),s=Cwe(this.activation.getClassName());let o;return s!=null?o=Gf(r,this.kernel.read(),s,this.bias?this.bias.read():null):(o=Gf(r,this.kernel.read()),this.bias!=null&&(o=Zc(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){const t={units:this.units,activation:mm(this.activation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),biasConstraint:oo(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}SK.className="Dense";vt(SK);let Wxe=class extends Xn{constructor(t){t=t||{},super(t),this.inputSpec=[{minNDim:3}],this.dataFormat=t.dataFormat}computeOutputShape(t){t=vr(t);for(const n of t.slice(1))if(n==null)throw new ke(`The shape of the input to "Flatten" is not fully defined (got ${t.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[t[0],Qg(t,1)]}call(t,n){return Le(()=>{this.invokeCallHook(t,n);let r=kn(t);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let o=2;o<r.rank;++o)s.push(o);s.push(1),r=rr(r,s)}return OZe(r)})}getConfig(){const t={};this.dataFormat!=null&&(t.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(t,n),t}};Wxe.className="Flatten";vt(Wxe);class Uxe extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.activation=vm(t.activation)}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t);return this.activation.apply(r)})}getConfig(){const t={activation:mm(this.activation)},n=super.getConfig();return Object.assign(t,n),t}}Uxe.className="Activation";vt(Uxe);class jxe extends Xn{constructor(t){super(t),this.n=t.n,this.inputSpec=[{ndim:2}]}computeOutputShape(t){return[t[0],this.n,t[1]]}call(t,n){return Le(()=>(t=kn(t),NZe(t,this.n)))}getConfig(){const t={n:this.n},n=super.getConfig();return Object.assign(t,n),t}}jxe.className="RepeatVector";vt(jxe);class Hxe extends Xn{constructor(t){super(t),this.targetShape=t.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(t){return t<0||t==null}fixUnknownDimension(t,n){const r="Total size of new array must be unchanged.",s=n.slice();let o=1,i=null;for(let l=0;l<s.length;++l){const u=s[l];if(this.isUnknown(u))if(i===null)i=l;else throw new ke("Can only specifiy one unknown dimension.");else o*=u}const a=Qg(t);if(i!==null){if(o===0||a%o!==0)throw new ke(r);s[i]=a/o}else if(a!==o)throw new ke(r);return s}computeOutputShape(t){let n=!1;for(let r=0;r<t.length;++r)if(this.isUnknown(t[r])){n=!0;break}return n?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t),s=r.shape,o=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return _e(r,o)})}getConfig(){const t={targetShape:this.targetShape},n=super.getConfig();return Object.assign(t,n),t}}Hxe.className="Reshape";vt(Hxe);class qxe extends Xn{constructor(t){if(super(t),t.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${t.dims} instead.`);const n=Lc(1,t.dims.length+1);if(!ir(t.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=t.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new so({ndim:this.dims.length+1})]}computeOutputShape(t){t=vr(t);const n=t.slice();return this.dims.forEach((r,s)=>{n[s+1]=t[r]}),n}call(t,n){return rr(kn(t),this.dimsIncludingBatch)}getConfig(){const t={dims:this.dims},n=super.getConfig();return Object.assign(t,n),t}}qxe.className="Permute";vt(qxe);class Gxe extends Xn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null?this.maskValue=t.maskValue==null?0:t.maskValue:this.maskValue=0}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,t),n}computeMask(t,n){const r=kn(t);return TO(Rw(r,this.maskValue),-1)}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t),i=TO(Rw(r,this.maskValue),-1,!0);return we(r,At(i,r.dtype))})}}Gxe.className="Masking";vt(Gxe);class Kxe extends Xn{constructor(t){if(super(t),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",t.batchInputShape==null&&t.inputShape==null){let n=null;t.batchSize!=null&&(n=t.batchSize),t.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Ar(t.inputLength))}this.inputDim=t.inputDim,yo(this.inputDim,"inputDim"),this.outputDim=t.outputDim,yo(this.outputDim,"outputDim"),this.embeddingsInitializer=gs(t.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=ms(t.embeddingsRegularizer),this.activityRegularizer=ms(t.activityRegularizer),this.embeddingsConstraint=io(t.embeddingsConstraint),this.maskZero=t.maskZero,this.supportsMasking=t.maskZero,this.inputLength=t.inputLength}build(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(t){}computeMask(t,n){return Le(()=>this.maskZero?(t=kn(t),Rw(t,cr(t))):null)}computeOutputShape(t){if(t=vr(t),this.inputLength==null)return[...t,this.outputDim];const n=Ar(this.inputLength);if(n.length!==t.length-1)throw new ke(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);{let r=0;for(let s=0;s<n.length;++s){const o=n[s],i=t[s+1];if(o!=null&&i!=null&&o!==i)throw new ke(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);o==null&&(n[r]=i),r++}}return[t[0],...n,this.outputDim]}call(t,n){return Le(()=>{this.invokeCallHook(t,n);let r=kn(t);r.dtype!=="int32"&&(r=qf(r,"int32"));const s=Twe(this.embeddings.read(),_e(r,[r.size]));return _e(s,vr(this.computeOutputShape(r.shape)))})}getConfig(){const t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:$s(this.embeddingsInitializer),embeddingsRegularizer:Yr(this.embeddingsRegularizer),activityRegularizer:Yr(this.activityRegularizer),embeddingsConstraint:oo(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(t,n),t}}Kxe.className="Embedding";vt(Kxe);class py extends Xn{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new Vn}computeElementwiseOpOutputShape(t,n){if(t==null||n==null)return null;if(t.length<n.length)return this.computeElementwiseOpOutputShape(n,t);if(n.length===0)return t;const r=t.slice(0,t.length-n.length);for(let s=0;s<n.length;++s){const o=t[t.length-n.length+s],i=n[s];if(o==null||i==null||o<0||i<0)r.push(null);else if(o===1)r.push(i);else if(i===1)r.push(o);else{if(o!==i)throw new ke("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(n));r.push(o)}}return r}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[vr(t)]),t=t,t.length<2)throw new ke(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let n=[];for(const o of t)o!=null&&o[0]!==null&&n.push(o[0]);if(n=Jg(n),n.length>1)throw new ke(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let r=t[0]==null?null:t[0].slice(1);for(let o=1;o<t.length;++o){const i=t[o]==null?null:t[o].slice(1);r=this.computeElementwiseOpOutputShape(r,i)}const s=t.map(o=>o.length);t.indexOf(null)===-1&&Jg(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(t,n){return Le(()=>{if(t=t,this.reshapeRequired){const r=[],s=t.map(o=>o.rank);if(s.indexOf(null)===-1){const o=gm(s);for(let i of t){const a=i.rank;for(let l=0;l<o-a;++l)i=GT(i,1);r.push(i)}return this.mergeFunction(r)}else{let o=!1;for(const l of t){const u=l.rank;if(u==null){const c=l.shape,f=c[0],d=c.slice(1).concat([f]);let h=_e(l,[f].concat(Qg(c.slice(1))));h=rr(h,[1,0]),h=_e(h,d),r.push(h),o=!0}else if(u>1){const c=Lc(1,u).concat([0]);r.push(rr(l,c)),o=!0}else r.push(l)}let i=this.mergeFunction(r);const a=i.rank;if(o){if(a==null){const l=i.shape,u=l.length,c=l[u-1],f=[c].concat(l.slice(0,l.length-1));i=_e(rr(_e(i,[-1,c]),[1,0]),f)}else if(a>1){const l=[a-1].concat(Lc(0,a-1));i=rr(i,l)}}return i}}else return this.mergeFunction(t)})}computeOutputShape(t){t=t;let n;t[0]==null?n=null:n=t[0].slice(1);for(let s=1;s<t.length;++s){const o=t[s]==null?null:t[s].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let r=[];for(const s of t)s!=null&&s[0]!==null&&r.push(s[0]);return r=Jg(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(t,n){return Le(()=>{if(n==null)return null;if(!Array.isArray(n))throw new ke("`mask` should be an Array");if(!Array.isArray(t))throw new ke("`inputs` should be an Array");if(n.length!==t.length)throw new ke(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:zi(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=ud(r,n[s]);return r})}}class Yxe extends py{constructor(t){super(t)}mergeFunction(t){return Le(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=mt(n,t[r]);return n})}}Yxe.className="Add";vt(Yxe);class Xxe extends py{constructor(t){super(t)}mergeFunction(t){return Le(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=we(n,t[r]);return n})}}Xxe.className="Multiply";vt(Xxe);class Zxe extends py{constructor(t){super(t)}mergeFunction(t){return Le(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=mt(n,t[r]);return we(1/t.length,n)})}}Zxe.className="Average";vt(Zxe);class Jxe extends py{constructor(t){super(t)}mergeFunction(t){return Le(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=Ap(n,t[r]);return n})}}Jxe.className="Maximum";vt(Jxe);class Qxe extends py{constructor(t){super(t)}mergeFunction(t){return Le(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=x1(n,t[r]);return n})}}Qxe.className="Minimum";vt(Qxe);class e2e extends py{constructor(t){super(t),this.DEFAULT_AXIS=-1,t==null&&(t={}),this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){if(!(Array.isArray(t)&&Array.isArray(t[0]))||t.length===1)throw new ke("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;let n=!0;for(const s of t)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<t.length;++s){const o=t[s].slice();o.splice(this.axis,1);let i=!1;for(const a of r)if(ir(a,o)){i=!0;break}i||r.push(o)}if(r.length>1)throw new ke("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}mergeFunction(t){return Le(()=>rK(t,this.axis))}computeOutputShape(t){if(!(Array.isArray(t)&&Array.isArray(t[0])))throw new ke("A `Concatenate` layer should be called on a list of inputs.");const n=t,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const o of n.slice(1)){if(r[s]==null||o[s]==null){r[s]=null;break}r[s]+=o[s]}return r}computeMask(t,n){if(n==null)return null;if(!Array.isArray(n))throw new ke("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new ke("`inputs` should be an array for Concatenate");if(n.length!==t.length)throw new ke(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${t.length})`);return Le(()=>{let r=!0;if(n.forEach(i=>{if(i!=null){r=!1;return}}),r)return null;const s=[];for(let i=0;i<t.length;++i)n[i]==null?s.push(At(nu(t[i]),"bool")):n[i].rank<t[i].rank?s.push(zi(n[i],-1)):s.push(n[i]);const o=xo(s,this.axis);return Wq(o,-1,!1)})}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}e2e.className="Concatenate";vt(e2e);function cS(e,t){for(;e<0;)e+=t;return e}function nQe(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Vn("batchDot is not implemented for tensors of 4D or higher rank yet");if(te(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),te(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),typeof n=="number"&&(n=[n,n]),e.dtype==="complex64"||t.dtype==="complex64")throw new Vn("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,s=t.shape.length;n==null&&(n=[r-1,s-2]);const o=n;return Le(()=>{let i;if(r>s){i=r-s;const l=[];for(let u=0;u<i;++u)l.push(1);t=_e(t,t.shape.concat(l))}else if(s>r){i=s-r;const l=[];for(let u=0;u<i;++u)l.push(1);e=_e(e,e.shape.concat(l))}else i=0;let a;if(e.shape.length===2&&t.shape.length===2)o[0]===o[1]?a=Qt(we(e,t),o[0]):a=Qt(we(rr(e,[1,0]),t),o[1]);else{const l=o[0]!==e.shape.length-1,u=o[1]===t.shape.length-1;a=Kn(e,t,l,u)}if(i>0){let l;r>s?l=r+s-3:l=r-1;const u=[];for(let c=l;c<l+i;++c)u.push(c);a=fy(a,u)}return a.shape.length===1&&(a=zi(a,1)),a})}class t2e extends py{constructor(t){super(t),this.axes=t.axes,this.normalize=t.normalize==null?!1:t.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){te(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0],r=t[1];if(n.length>3||r.length>3)throw new Vn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new ke(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(t){if(t.length!==2)throw new ke(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${t.length} input(s).`);let n=t[0],r=t[1],s;return Array.isArray(this.axes)?s=this.axes.map((o,i)=>cS(o,t[i].shape.length)):s=[cS(this.axes,n.shape.length),cS(this.axes,r.shape.length)],this.normalize&&(n=RO(n,s[0]),r=RO(r,s[1])),nQe(n,r,s)}interpretAxes(t,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[cS(this.axes,t.length),cS(this.axes,n.length)],r}computeOutputShape(t){te(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0].slice(),r=t[1].slice();if(n.length>3||r.length>3)throw new Vn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const o=n.concat(r);return o.length===1&&o.push(1),o}computeMask(t,n){return null}getConfig(){const t={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(t,n),t}}t2e.className="Dot";vt(t2e);class n2e extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.stddev=t.stddev}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,t),n}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t);return YT(()=>mt(RP(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}n2e.className="GaussianNoise";vt(n2e);class r2e extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Le(()=>{this.invokeCallHook(t,n);const r=kn(t);return this.rate>0&&this.rate<1?YT(()=>{const o=Math.sqrt(this.rate/(1-this.rate));return we(r,RP(r.shape,1,o))},()=>r,n.training||!1):r})}}r2e.className="GaussianDropout";vt(r2e);class s2e extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate,this.noiseShape=t.noiseShape}_getNoiseShape(t){return this.noiseShape||kn(t).shape}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Le(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(t);return YT(()=>{const o=kn(t),a=-1.6732632423543772*1.0507009873554805;let l=s0(cy(r),this.rate);l=qf(l,"float32");const u=((1-this.rate)*(1+this.rate*a**2))**-.5,c=-u*a*this.rate,f=mt(we(o,l),we(mt(l,-1),a));return mt(we(f,u),c)},()=>kn(t),n.training||!1)}return t})}}s2e.className="AlphaDropout";vt(s2e);function jk(e,t,n,r,s,o=.001){let i;if(e.rank===2)i=Nye(e,t,n,r,s,o);else if(e.rank===3)i=Dye(e,t,n,r,s,o);else if(e.rank===4)i=Oye(e,t,n,r,s,o);else throw new Vn(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return i}function rQe(e,t,n,r,s=.001){return Le(()=>{const o=uP(e,r),i=o.mean,a=o.variance;return[jk(e,i,a,n,t,s),i,a]})}function sQe(e,t,n,r,s=.001){return Le(()=>{const o=uP(e,r),i=o.mean,a=o.variance,l=[];for(const p of Lc(0,e.rank))r.indexOf(p)!==-1?l.push(1):l.push(e.shape[p]);const u=_e(i,l),c=_e(a,l),f=t==null?null:_e(t,l),d=n==null?null:_e(n,l);return[jk(e,u,c,d,f,s),i,a]})}function oQe(e,t,n,r,s=.001){return ir(r.slice().sort(),Lc(0,e.rank-1))?rQe(e,t,n,r,s):sQe(e,t,n,r,s)}class o2e extends Xn{constructor(t){t==null&&(t={}),super(t),this.supportsMasking=!0,this.axis=t.axis==null?-1:t.axis,this.momentum=t.momentum==null?.99:t.momentum,this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=gs(t.betaInitializer||"zeros"),this.gammaInitializer=gs(t.gammaInitializer||"ones"),this.movingMeanInitializer=gs(t.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=gs(t.movingVarianceInitializer||"ones"),this.betaConstraint=io(t.betaConstraint),this.gammaConstraint=io(t.gammaConstraint),this.betaRegularizer=ms(t.betaRegularizer),this.gammaRegularizer=ms(t.gammaRegularizer)}build(t){t=vr(t);const n=this.axis>=0?this.axis:this.axis+t.length,r=t[n];if(r==null)throw new ke(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(t)}.`);this.inputSpec=[new so({ndim:t.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(t,n){return Le(()=>{const r=n.training==null?!1:n.training,s=kn(t),o=s.shape,i=o.length,a=Lc(0,i),l=this.axis>=0?this.axis:this.axis+i;a.splice(l,1);const u=S1(1,i);u[l]=o[l];const c=a.slice();c.sort();const f=!ir(c,Lc(0,i).slice(0,i-1)),d=()=>{if(f){const y=_e(this.movingMean.read(),u),b=_e(this.movingVariance.read(),u),w=this.center?_e(this.beta.read(),u):null,C=this.scale?_e(this.gamma.read(),u):null;return jk(s,y,b,w,C,this.epsilon)}else return jk(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,g]=oQe(s,this.gamma.read(),this.beta.read(),a,this.epsilon),m=(y,b,w)=>{Le(()=>{const C=1-w,S=y.read(),$=we(qt(S,b),C);y.write(qt(S,$))})};return m(this.movingMean,p,this.momentum),m(this.movingVariance,g,this.momentum),h})}getConfig(){const t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$s(this.betaInitializer),gammaInitializer:$s(this.gammaInitializer),movingMeanInitializer:$s(this.movingMeanInitializer),movingVarianceInitializer:$s(this.movingVarianceInitializer),betaRegularizer:Yr(this.betaRegularizer),gammaRegularizer:Yr(this.gammaRegularizer),betaConstraint:oo(this.betaConstraint),gammaConstraint:oo(this.gammaConstraint)},n=super.getConfig();return Object.assign(t,n),t}}o2e.className="BatchNormalization";vt(o2e);class i2e extends Xn{constructor(t){if(t==null&&(t={}),super(t),this.axis=t.axis==null?-1:t.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=gs(t.betaInitializer||"zeros"),this.gammaInitializer=gs(t.gammaInitializer||"ones"),this.betaRegularizer=ms(t.betaRegularizer),this.gammaRegularizer=ms(t.gammaRegularizer),this.supportsMasking=!0}build(t){t=vr(t);const n=t.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=n);for(const o of this.axis)if(o<0||o>=n)throw new Error(`Invalid axis: ${o}`);if(this.axis.length!==Jg(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(o=>t[o]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(t,n){const r=kn(t),s=r.shape,o=s.length;return Le(()=>{let{mean:a,variance:l}=uP(r,this.axis,!0);const u=S1(1,o);for(const g of this.axis)u[g]=s[g];const c=g=>g!=null&&g.shape.length!==o?_e(g,u):g;let f=this.scale?c(this.gamma.read()):null,d=this.center?c(this.beta.read()):null;const h=[],p=[];for(let g=0;g<o;++g)this.axis.indexOf(g)!==-1?(h.push(s[g]),p.push(1)):(h.push(1),p.push(s[g]));return a=wu(a,h),l=wu(l,h),f!=null&&(f=wu(f,p)),d!=null&&(d=wu(d,p)),jk(r,a,l,d,f,this.epsilon)})}getConfig(){const t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$s(this.betaInitializer),gammaInitializer:$s(this.gammaInitializer),betaRegularizer:Yr(this.betaRegularizer),gammaRegularizer:Yr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(t,n),t}}i2e.className="LayerNormalization";vt(i2e);function iQe(e,t,n){return Le(()=>{if(e.rank!==4)throw new ke(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(t==null&&(t=[[1,1],[1,1]]),t.length!==2||t[0].length!==2||t[1].length!==2)throw new ke("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Bc()),n!=="channelsLast"&&n!=="channelsFirst")throw new ke(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],t[0],t[1]]:r=[[0,0],t[0],t[1],[0,0]],o0(e,r)})}class a2e extends Xn{constructor(t){if(t==null&&(t={}),super(t),this.dataFormat=t.dataFormat==null?Bc():t.dataFormat,t.padding==null)this.padding=[[1,1],[1,1]];else if(typeof t.padding=="number")this.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,t.padding.length!==2)throw new ke(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${t.padding.length} array.`);let n,r;if(typeof t.padding[0]=="number")n=[t.padding[0],t.padding[0]],r=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,t.padding[0].length!==2)throw new ke(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${t.padding[0].length} array.`);if(n=t.padding[0],t.padding[1].length!==2)throw new ke(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${t.padding[1].length} array.`);r=t.padding[1]}this.padding=[n,r]}this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){t=vr(t);let n,r;return this.dataFormat==="channelsFirst"?(t[2]!=null&&t[2]>=0?n=t[2]+this.padding[0][0]+this.padding[0][1]:n=null,t[3]!=null&&t[3]>=0?r=t[3]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],t[1],n,r]):(t[1]!=null&&t[1]>=0?n=t[1]+this.padding[0][0]+this.padding[0][1]:n=null,t[2]!=null&&t[2]>=0?r=t[2]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],n,r,t[3]])}call(t,n){return Le(()=>iQe(kn(t),this.padding,this.dataFormat))}getConfig(){const t={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}a2e.className="ZeroPadding2D";vt(a2e);function WP(e,t,n,r,s,o){return Le(()=>{qs(s),$we(o),au(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=Bc()),o==null&&(o="max"),e=vK(e,s);let i;const a=r==="same"?"same":"valid";return o==="max"?i=lP(e,t,n,a):i=Q4(e,t,n,a),s==="channelsFirst"&&(i=rr(i,[0,3,1,2])),i})}function l2e(e,t,n,r,s,o){return Le(()=>{qs(s),$we(o),au(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=Bc()),o==null&&(o="max"),e=Exe(e,s);let i;const a=r==="same"?"same":"valid";return o==="max"?i=sbe(e,t,n,a):i=Iye(e,t,n,a),s==="channelsFirst"&&(i=rr(i,[0,4,1,2,3])),i})}class u2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=2),super(t),typeof t.poolSize=="number")this.poolSize=[t.poolSize];else if(Array.isArray(t.poolSize)&&t.poolSize.length===1&&typeof t.poolSize[0]=="number")this.poolSize=t.poolSize;else throw new ke(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);if(yo(this.poolSize,"poolSize"),t.strides==null)this.strides=this.poolSize;else if(typeof t.strides=="number")this.strides=[t.strides];else if(Array.isArray(t.strides)&&t.strides.length===1&&typeof t.strides[0]=="number")this.strides=t.strides;else throw new ke(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,au(this.padding),this.inputSpec=[new so({ndim:3})]}computeOutputShape(t){t=vr(t);const n=Ec(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],n,t[2]]}call(t,n){return Le(()=>{this.invokeCallHook(t,n),t=GT(kn(t),2);const r=this.poolingFunction(kn(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return fy(r,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(t,n),t}}class c2e extends u2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),WP(t,n,r,s,o,"max")}}c2e.className="MaxPooling1D";vt(c2e);class f2e extends u2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),WP(t,n,r,s,o,"avg")}}f2e.className="AveragePooling1D";vt(f2e);class d2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==2)throw new ke(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];yo(this.poolSize,"poolSize"),yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),au(this.padding),this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){t=vr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2];return n=Ec(n,this.poolSize[0],this.padding,this.strides[0]),r=Ec(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r]:[t[0],n,r,t[3]]}call(t,n){return Le(()=>(this.invokeCallHook(t,n),this.poolingFunction(kn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class h2e extends d2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),WP(t,n,r,s,o,"max")}}h2e.className="MaxPooling2D";vt(h2e);class p2e extends d2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),WP(t,n,r,s,o,"avg")}}p2e.className="AveragePooling2D";vt(p2e);class g2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==3)throw new ke(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];yo(this.poolSize,"poolSize"),yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),au(this.padding),this.inputSpec=[new so({ndim:5})]}computeOutputShape(t){t=vr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],s=this.dataFormat==="channelsFirst"?t[4]:t[3];return n=Ec(n,this.poolSize[0],this.padding,this.strides[0]),r=Ec(r,this.poolSize[1],this.padding,this.strides[1]),s=Ec(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r,s]:[t[0],n,r,s,t[4]]}call(t,n){return Le(()=>(this.invokeCallHook(t,n),this.poolingFunction(kn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class m2e extends g2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),l2e(t,n,r,s,o,"max")}}m2e.className="MaxPooling3D";vt(m2e);class v2e extends g2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),au(s),l2e(t,n,r,s,o,"avg")}}v2e.className="AveragePooling3D";vt(v2e);class y2e extends Xn{constructor(t){super(t),this.inputSpec=[new so({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,n){throw new Vn}}class b2e extends y2e{constructor(t){super(t||{})}call(t,n){return Le(()=>{const r=kn(t);return Ns(r,1)})}}b2e.className="GlobalAveragePooling1D";vt(b2e);class w2e extends y2e{constructor(t){super(t||{})}call(t,n){return Le(()=>{const r=kn(t);return Du(r,1)})}}w2e.className="GlobalMaxPooling1D";vt(w2e);class x2e extends Xn{constructor(t){super(t),this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){return t=t,this.dataFormat==="channelsLast"?[t[0],t[3]]:[t[0],t[1]]}call(t,n){throw new Vn}getConfig(){const t={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class C2e extends x2e{call(t,n){return Le(()=>{const r=kn(t);return this.dataFormat==="channelsLast"?Ns(r,[1,2]):Ns(r,[2,3])})}}C2e.className="GlobalAveragePooling2D";vt(C2e);class S2e extends x2e{call(t,n){return Le(()=>{const r=kn(t);return this.dataFormat==="channelsLast"?Du(r,[1,2]):Du(r,[2,3])})}}S2e.className="GlobalMaxPooling2D";vt(S2e);class $2e extends Xn{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(t){this.layer!=null&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(t,n),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,n,r={}){const s=n.layer,o=jh(s,r);delete n.layer;const i={layer:o};return Object.assign(i,n),new t(i)}}class k2e extends $2e{constructor(t){super(t),this.supportsMasking=!0}build(t){if(t=vr(t),t.length<3)throw new ke(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(t)}`);this.inputSpec=[{shape:t}];const n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(t)}computeOutputShape(t){t=vr(t);const n=[t[0]].concat(t.slice(2)),r=this.layer.computeOutputShape(n),s=t[1];return[r[0],s].concat(r.slice(1))}call(t,n){return Le(()=>(t=kn(t),Fxe((i,a)=>[kn(this.layer.call(i,n)),[]],t,[],!1,null,null,!1,!0)[1]))}}k2e.className="TimeDistributed";vt(k2e);function aQe(e){hy(EZe,"BidirectionalMergeMode",e)}const lQe="concat";class E2e extends $2e{constructor(t){super(t);const n=t.layer.getConfig(),r={};r.className=t.layer.getClassName(),r.config=n,this.forwardLayer=jh(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=t.layer.getClassName(),s.config=n,this.backwardLayer=jh(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=t.mergeMode===void 0?lQe:t.mergeMode,aQe(this.mergeMode),t.weights)throw new Vn("weights support is not implemented for Bidirectional layer yet.");this._stateful=t.layer.stateful,this.returnSequences=t.layer.returnSequences,this.returnState=t.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=t.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(t){this._trainable=t,this.forwardLayer!=null&&(this.forwardLayer.trainable=t),this.backwardLayer!=null&&(this.backwardLayer.trainable=t)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(t){const n=t.length,r=Math.floor(n/2);this.forwardLayer.setWeights(t.slice(0,r)),this.backwardLayer.setWeights(t.slice(r))}computeOutputShape(t){let n=this.forwardLayer.computeOutputShape(t);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,o;return this.returnState&&(o=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(o).concat(o.slice()):[r].concat(o).concat(o.slice()):xa(s)}apply(t,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=Rxe(t,r,s,this.numConstants);if(t=o.inputs,r=o.initialState,s=o.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(r==null||r.length===0)&&s==null)return super.apply(t,n);const i=[],a=[];if(r!=null){const u=r.length;if(u%2>0)throw new ke("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,i.push(...r);const c=r.map(f=>new so({shape:f.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),a.push(...c)}if(s!=null)throw new Vn("Support for constants in Bidirectional layers is not implemented yet.");const l=i[0]instanceof fd;for(const u of i)if(u instanceof fd!==l)throw new ke("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[t].concat(i),c=this.inputSpec.concat(a),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Le(()=>{const r=n.initialState;let s,o;if(r==null)s=this.forwardLayer.call(t,n),o=this.backwardLayer.call(t,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);s=this.forwardLayer.call(t,Object.assign(n,{initialState:l})),o=this.backwardLayer.call(t,Object.assign(n,{initialState:u}))}let i;this.returnState&&(Array.isArray(s)&&(i=s.slice(1).concat(o.slice(1))),s=s[0],o=o[0]),this.returnSequences&&(o=Mu(o,1));let a;return this.mergeMode==="concat"?a=rK([s,o]):this.mergeMode==="sum"?a=mt(s,o):this.mergeMode==="ave"?a=we(.5,mt(s,o)):this.mergeMode==="mul"?a=we(s,o):this.mergeMode==null&&(a=[s,o]),this.returnState?this.mergeMode==null?a.concat(i):[a].concat(i):a})}resetStates(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(t){Gv(this.forwardLayer.name,()=>{this.forwardLayer.build(t)}),Gv(this.backwardLayer.name,()=>{this.backwardLayer.build(t)}),this.built=!0}computeMask(t,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const o=this.forwardLayer.states.map(i=>null);return Array.isArray(r)?r.concat(o).concat(o):[r].concat(o).concat(o)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(t),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(t)}getConfig(){const t={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(t,n),t}static fromConfig(t,n){const r=jh(n.layer);if(delete n.layer,n.numConstants!=null)throw new Vn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new t(s)}}E2e.className="Bidirectional";vt(E2e);class _2e extends Xn{constructor(t){super(t),this.scale=t.scale,t.offset?this.offset=t.offset:this.offset=0}getConfig(){const t={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Le(()=>(t=kn(t),t.dtype!=="float32"&&(t=qf(t,"float32")),mt(we(t,this.scale),this.offset)))}}_2e.className="Rescaling";vt(_2e);const{resizeBilinear:uQe,cropAndResize:cQe}=Bf;class T2e extends Xn{constructor(t){super(t),this.height=t.height,this.width=t.width}centerCrop(t,n,r,s,o,i,a,l){return Le(()=>{let u,c=!1;const f=n/i,d=r/a,h=(s+n)/i,p=(o+r)/a,g=[f,d,h,p],m=[];t.rank===3?(c=!0,u=cd([t])):u=t;for(let C=0;C<u.shape[0];C++)m.push(g);const v=qv(m,[m.length,4]),y=Fw(0,m.length,1,"int32"),w=cQe(u,v,y,[s,o],"nearest");return qf(c?kn(pm(w)):w,l)})}upsize(t,n,r,s){return Le(()=>{const o=uQe(t,[n,r]);return qf(o,s)})}call(t,n){return Le(()=>{const r=kn(t),s=r.dtype,o=r.shape,i=o[o.length-3],a=o[o.length-2];let l=0;i!==this.height&&(l=Math.floor((i-this.height)/2));let u=0;return a!==this.width&&(u=Math.floor((a-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,i,a,s):this.upsize(t,this.height,this.width,s)})}getConfig(){const t={height:this.height,width:this.width},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=vr(t);const n=t.length-3,r=t.length-2;return t[n]=this.height,t[r]=this.width,t}}T2e.className="CenterCrop";vt(T2e);function fQe(e,t,n,r){let s=kn(e);if(s.dtype!=="int32"&&(s=qf(s,"int32")),t==="int")return s;const o=s.shape;if(s.rank===0&&(s=zi(s,-1)),t==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=zi(s,-1)),s.rank>2)throw new ke(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${o} which would result in output rank ${s.rank}.`);const i=["multiHot","oneHot"].includes(t),a=s;let l;if(typeof r<"u"&&t==="count"?l=TV(a,r,n,i):l=TV(a,[],n,i),t!=="tfIdf")return l;if(r)return we(l,r);throw new ke("When outputMode is 'tfIdf', weights must be provided.")}class A2e extends Xn{constructor(t){super(t),this.numTokens=t.numTokens,t.outputMode?this.outputMode=t.outputMode:this.outputMode="multiHot"}getConfig(){const t={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){return t=vr(t),t==null?[this.numTokens]:this.outputMode==="oneHot"&&t[t.length-1]!==1?(t.push(this.numTokens),t):(t[t.length-1]=this.numTokens,t)}call(t,n){return Le(()=>{t=kn(t),t.dtype!=="int32"&&(t=qf(t,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new ke(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=kn(n.countWeights)}const s=Du(t),o=Mk(t),i=Dl(this.numTokens,s).bufferSync().get(0),a=s0(o,0).bufferSync().get(0);if(!(i&&a))throw new ke(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return fQe(t,this.outputMode,this.numTokens,r)})}}A2e.className="CategoryEncoding";vt(A2e);const dQe=["bilinear","nearest"],woe=new Set(dQe);class I2e extends Xn{constructor(t){if(super(t),this.height=t.height,this.width=t.width,t.interpolation)if(woe.has(t.interpolation))this.interpolation=t.interpolation;else throw new ke(`Invalid interpolation parameter: ${t.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!t.cropToAspectRatio}computeOutputShape(t){t=vr(t);const n=t[2];return[this.height,this.width,n]}getConfig(){const t={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Le(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return Bf.resizeBilinear(t,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Bf.resizeNearestNeighbor(t,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...woe]} are supported`)})}}I2e.className="Resizing";vt(I2e);class N2e{constructor(t){this.seed=t}next(){if(this.seed!==void 0)return this.seed++}}N2e.className="RandomSeed";class D2e extends Xn{constructor(t){super(t),this.randomGenerator=new N2e(t.seed)}getConfig(){const t={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(t,n),t}}D2e.className="BaseRandomLayer";const hQe=["bilinear","nearest"],xoe=new Set(hQe);class O2e extends D2e{constructor(t){super(t);const{factor:n,interpolation:r="bilinear"}=t;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new ke(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new ke(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new ke(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(xoe.has(r))this.interpolation=r;else throw new ke(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const t={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=vr(t);const n=t[2];return[this.imgHeight,-1,n]}call(t,n){return Le(()=>{const r=kn(t);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=cy([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let o=this.widthFactor.dataSync()[0]*s;o=Math.round(o);const i=[this.imgHeight,o];switch(this.interpolation){case"bilinear":return Bf.resizeBilinear(t,i);case"nearest":return Bf.resizeNearestNeighbor(t,i);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...xoe]} are supported`)}})}}O2e.className="RandomWidth";vt(O2e);function u5(e){return new SK(e)}const pQe=Pe();pQe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var Coe;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(Coe||(Coe={}));var Soe;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(Soe||(Soe={}));var $oe;(function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"})($oe||($oe={}));function en(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&te(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}const gQe=bP;class UP extends WM{nextDataId(){return UP.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Eq(this,uc())}write(t,n,r){this.firstUse&&(this.firstUse=!1,Pe().get("IS_NODE")&&Vl(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:t,dtype:r,refCount:1}),s}makeTensorInfo(t,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Lf(r[0])){const o=r.map(i=>Uf(i));s=this.write(o,t,n)}else s=this.write(r,t,n);return{dataId:s,shape:t,dtype:n}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){const n=this.data.get(t);n.refCount++}decRef(t){if(this.data.has(t)){const n=this.data.get(t);n.refCount--}}move(t,n,r,s,o){this.data.set(t,{values:n,dtype:s,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(t){return this.readSync(t)}readSync(t){const{dtype:n,complexTensorInfos:r}=this.data.get(t);if(n==="complex64"){const s=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return op(s,o)}return V1e(this.data.get(t).values,n)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(s=>rp(s));return Wn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Wn(t.shape,t.dtype,n)}makeOutput(t,n,r){return uc().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,t),this)}disposeData(t,n=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!n&&this.data.get(t).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(t);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}async time(t){const n=Fi();return t(),{kernelMs:Fi()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){en([t],"where");const n=this.readSync(t.dataId);return gQe(t.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}UP.nextDataId=0;function R2e(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const mQe=e=>{const{x:t}=e.inputs,n=e.backend;en(t,"abs");let r=new Float32Array(je(t.shape));const s=n.data.get(t.dataId).values;return r=R2e(s),n.makeOutput(r,t.shape,t.dtype)},vQe={kernelName:N_,backendName:"cpu",kernelFunc:mQe};function Gs(e){return(t,n,r,s,o)=>{const i=Dn(t,n),a=i.length,l=fn(i),u=je(i),c=Eo(o,u),f=t.length,d=n.length,h=fn(t),p=fn(n),g=w1(t,i),m=w1(n,i);if(g.length+m.length===0)for(let v=0;v<c.length;++v)c[v]=e(r[v%r.length],s[v%s.length]);else for(let v=0;v<c.length;++v){const y=iy(v,a,l),b=y.slice(-f);g.forEach($=>b[$]=0);const w=kc(b,f,h),C=y.slice(-d);m.forEach($=>C[$]=0);const S=kc(C,d,p);c[v]=e(r[w],s[S])}return[c,i]}}function tl(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(s.shape,"float32",i)},a}const yQe={kernelName:JM,backendName:"cpu",kernelFunc:tl};function BO(e,t,n="float32"){if(n==="complex64"){const s=BO(e,t,"float32"),o=BO(e,t,"float32");return tl({inputs:{real:s,imag:o},backend:e})}const r=qo(je(t),n);return e.makeTensorInfo(t,n,r)}function dd(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const bQe={kernelName:v2,backendName:"cpu",kernelFunc:dd};function $1(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const wQe={kernelName:N4,backendName:"cpu",kernelFunc:$1};function F2e(e,t,n,r){if(r==="int32"){const s=Int32Array.from(e);return[t,"int32",s]}if(r==="bool"){const s=e0([0],n),[o,i]=Gs((a,l)=>a!==l?1:0)(t,[],e,s,"bool");return[i,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function bm(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dtype:o}=r;if(o==="complex64"){if(s.dtype==="complex64")return dd({inputs:{x:s},backend:n});const c=BO(n,s.shape,s.dtype),f=bm({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),d=tl({inputs:{real:f,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),d}if(s.dtype==="complex64"){const c=$1({inputs:{input:s},backend:n}),f=bm({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),f}if(!Aq(s.dtype,o)){const c=dd({inputs:{x:s},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:o}}const i=n.data.get(s.dataId).values,[a,l,u]=F2e(i,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,u)}const xQe={kernelName:s2,backendName:"cpu",kernelFunc:bm};function co(e,t,n,r){return n==null?({inputs:s,backend:o})=>{const{a:i,b:a}=s,l=o;en([i,a],e);const u=l.data.get(i.dataId).values,c=l.data.get(a.dataId).values,f=i.dtype==="string"?ip(u):u,d=i.dtype==="string"?ip(c):c,h=r||i.dtype,[p,g]=t(i.shape,a.shape,f,d,h);return l.makeTensorInfo(g,h,p)}:({inputs:s,backend:o})=>{const{a:i,b:a}=s,l=o;if(i.dtype==="complex64"||a.dtype==="complex64"){const u=bm({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),f=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,h=l.data.get(f.dataId).values,p=l.data.get(d.dataId).values,g=bm({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),m=l.data.get(g.dataId),v=m.complexTensorInfos.real,y=m.complexTensorInfos.imag,b=l.data.get(v.dataId).values,w=l.data.get(y.dataId).values,[C,S,$]=n(i.shape,a.shape,h,p,b,w),k=l.makeTensorInfo($,"float32",C),T=l.makeTensorInfo($,"float32",S),_=tl({inputs:{real:k,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(g),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(T),_}else{const u=l.data.get(i.dataId).values,c=l.data.get(a.dataId).values,f=r||i.dtype,[d,h]=t(i.shape,a.shape,u,c,f);return l.makeTensorInfo(h,f,d)}}}function $K(e){return(t,n,r,s,o,i)=>{const a=Dn(t,n),l=je(a),u=a.length,c=fn(a),f=Eo("float32",l),d=Eo("float32",l),h=w1(t,a),p=w1(n,a),g=op(r,s),m=op(o,i),v=t.length,y=fn(t),b=n.length,w=fn(n);if(h.length+p.length===0)for(let C=0;C<f.length;C++){const S=C%g.length,$=C%m.length,k=e(g[S*2],g[S*2+1],m[$*2],m[$*2+1]);f[C]=k.real,d[C]=k.imag}else for(let C=0;C<f.length;C++){const S=iy(C,u,c),$=S.slice(-v);h.forEach(A=>$[A]=0);const k=kc($,v,y),T=S.slice(-b);p.forEach(A=>T[A]=0);const _=kc(T,b,w),E=e(g[k*2],g[k*2+1],m[_*2],m[_*2+1]);f[C]=E.real,d[C]=E.imag}return[f,d,a]}}const M2e=Gs(((e,t)=>e+t)),CQe=$K(((e,t,n,r)=>({real:e+n,imag:t+r}))),Pw=co(ay,M2e,CQe),SQe={kernelName:ay,backendName:"cpu",kernelFunc:Pw};function kK(e,t,n,r,s){const o=je(r),i=qo(s,n);for(let a=0;a<e.length;a++){const l=e[a];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(o>0?i[l]+=t[a]:i[l]+=1)}return i}function P2e(e,t,n,r=!1){const s=e.shape[0],o=e.shape[1],i=Wn([s,n],t.dtype);for(let a=0;a<s;a++)for(let l=0;l<o;l++){const u=e.get(a,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?i.set(1,a,u):t.size>0?i.set(i.get(a,u)+t.get(a,l),a,u):i.set(i.get(a,u)+1,a,u))}return i}const L2e=Gs(((e,t)=>e&t)),$Qe=co(B_,L2e),kQe={kernelName:B_,backendName:"cpu",kernelFunc:$Qe};function Od(e){return(t,n,r)=>{const s=Ds(n,t.length);for(let o=0;o<t.length;++o)s[o]=e(t[o],r);return s}}function Rr(e,t,n){const r=Od(t);return l0(e,r,n)}function l0(e,t,n){return({inputs:r,attrs:s,backend:o})=>{const{x:i}=r;en(i,e);const a=o,l=a.data.get(i.dataId).values;let u;if(i.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=ip(l)}else u=l;const c=n||i.dtype,f=t(u,c,s);return a.makeTensorInfo(i.shape,c,f)}}const B2e=Od(e=>Math.ceil(e)),EQe=l0(o2,B2e),_Qe={kernelName:o2,backendName:"cpu",kernelFunc:EQe};function z2e(e,t,n,r){const s=Ds(n,je(t));if(r&&n!=="string"){let o=0;e.forEach(i=>{const a=je(i.shape);s.set(i.vals,o),o+=a})}else{let o=0;e.forEach(i=>{const a=n==="string"?ip(i.vals):i.vals;let l=0;for(let u=0;u<i.shape[0];++u){const c=u*t[1]+o;for(let f=0;f<i.shape[1];++f)s[c+f]=a[l++]}o+=i.shape[1]})}return s}const V2e=Gs((e,t)=>e===t?1:0),W2e=co(K_,V2e,null,"bool"),TQe={kernelName:K_,backendName:"cpu",kernelFunc:W2e};const U2e=Od(e=>Math.exp(e)),j2e=l0(d2,U2e,"float32"),AQe={kernelName:d2,backendName:"cpu",kernelFunc:j2e};const H2e=Od(e=>Math.expm1(e)),IQe=l0(h2,H2e),NQe={kernelName:h2,backendName:"cpu",kernelFunc:IQe};const q2e=Od(e=>Math.floor(e)),DQe=l0(p2,q2e),OQe={kernelName:p2,backendName:"cpu",kernelFunc:DQe};const G2e=Gs((e,t)=>Math.floor(e/t)),RQe=co(g2,G2e,null,"int32"),FQe={kernelName:g2,backendName:"cpu",kernelFunc:RQe};function K2e(e,t,n,r,s,o,i,a,l){const u=Wn([r,o],n);for(let c=0;c<r;c++){const f=[];let d=0;for(let h=0;h<s;h++){const p=e[c*s+h];d+=p*i[h],f.push(p)}if(d<0||d>=l/o)throw new Error(`Invalid indices: ${f} does not index into ${a}`);for(let h=0;h<o;h++)u.values[c*o+h]=t.get(...t.indexToLoc(d*o+h))}return u}function Y2e(e,t,n){const r=Wn(n,e.dtype);for(let s=0;s<r.size;++s){const i=r.indexToLoc(s).slice(),a=i[0],l=i[2],u=t.locToIndex([a,l]);i[2]=t.values[u];const c=e.locToIndex(i);0<=c&&c<e.values.length&&(r.values[s]=e.values[c])}return r}const X2e=Gs((e,t)=>e>t?1:0),MQe=co(J_,X2e,null,"bool"),PQe={kernelName:J_,backendName:"cpu",kernelFunc:MQe};const Z2e=Gs((e,t)=>e>=t?1:0),LQe=co(m2,Z2e,null,"bool"),BQe={kernelName:m2,backendName:"cpu",kernelFunc:LQe};const J2e=Gs((e,t)=>e<t?1:0),zQe=co(eT,J2e,null,"bool"),VQe={kernelName:eT,backendName:"cpu",kernelFunc:zQe};const Q2e=Gs((e,t)=>e<=t?1:0),WQe=co(tT,Q2e,null,"bool"),UQe={kernelName:tT,backendName:"cpu",kernelFunc:WQe};function eCe(e,t,n){const r=(t-e)/(n-1),s=qo(n,"float32");s[0]=e;for(let o=1;o<s.length;o++)s[o]=s[o-1]+r;return s}const tCe=Od(e=>Math.log(e)),jQe=l0(x2,tCe),HQe={kernelName:x2,backendName:"cpu",kernelFunc:jQe};function nCe(e,t,n,r){const s=Eo(r,je(n));for(let o=0;o<s.length;++o){const i=o*t;let a=e[i];for(let l=0;l<t;++l){const u=e[i+l];(Number.isNaN(u)||u>a)&&(a=u)}s[o]=a}return s}const rCe=Gs(((e,t)=>Math.max(e,t))),qQe=co(S2,rCe),GQe={kernelName:S2,backendName:"cpu",kernelFunc:qQe};const sCe=Gs(((e,t)=>Math.min(e,t))),KQe=co($2,sCe),YQe={kernelName:$2,backendName:"cpu",kernelFunc:KQe};const EK=Gs(((e,t)=>e*t)),XQe=$K(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),jP=co(E2,EK,XQe),ZQe={kernelName:E2,backendName:"cpu",kernelFunc:jP};function oCe(e,t,n){const r=Ep(-1,n);return EK([],t,r,e,n)}function JQe(e){const{inputs:t,backend:n}=e,{x:r}=t;en(r,"neg");const s=n.data.get(r.dataId).values,[o,i]=oCe(s,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,o)}const QQe={kernelName:dT,backendName:"cpu",kernelFunc:JQe};const iCe=Gs(((e,t)=>e!==t?1:0)),eet=co(hT,iCe,null,"bool"),tet={kernelName:hT,backendName:"cpu",kernelFunc:eet};function _K(e,t,n,r,s){const o=t.length,i=je(t),a=fn(t),l=fn(s),u=Eo(n,je(s));for(let c=0;c<i;++c){const f=iy(c,o,a),d=new Array(f.length);for(let p=0;p<d.length;p++)d[p]=f[r[p]];const h=kc(d,o,l);u[h]=e[c]}return u}function Fa(e){const{inputs:t,attrs:n,backend:r}=e,{x:s}=t,{perm:o}=n;en(s,"transpose");const i=s.shape.length,a=new Array(i);for(let f=0;f<a.length;f++)a[f]=s.shape[o[f]];const l=r.data.get(s.dataId).values,u=_K(l,s.shape,s.dtype,o,a);return{dataId:r.write(u,a,s.dtype),shape:a,dtype:s.dtype}}const net={kernelName:Hv,backendName:"cpu",kernelFunc:Fa};function aCe(e,t,n,r){const[s,o]=Ao(e,r),i=Oa(t,"int32"),a=qo(je(s),i),l=je(o);for(let u=0;u<a.length;++u){const c=u*l;let f=1;for(let d=0;d<l;++d)f*=n[c+d];a[u]=f}return{outVals:a,outShape:s,outDtype:i}}function ret(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;en(s,"prod");const a=s.shape.length,l=qn(o,s.shape),u=As(l,a);let c=l,f=s;const d=[];u!=null&&(f=Fa({inputs:{x:s},backend:n,attrs:{perm:u}}),d.push(f),c=Hs(c.length,a));const h=n.data.get(f.dataId).values,{outVals:p,outShape:g,outDtype:m}=aCe(f.shape,f.dtype,h,c);let v=g;return i&&(v=Us(g,l)),d.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(v,m,p)}const set={kernelName:bT,backendName:"cpu",kernelFunc:ret};function oet(e,t,n){e.forEach((r,s)=>{if(r<0||r>=n){const o=iy(s,t.length,fn(t)).join(",");throw new Error(`indices[${o}] = ${r} is not in [0, ${n})`)}})}function iet(e,t){for(let n=0;n<e.length;++n){const r=e[n],s=n===e.length-1?t:e[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let o=1;o<r.length;++o)if(r[o-1]>r[o])throw new Error("Ragged splits must be sorted in ascending order")}}function aet(e,t,n,r){const s=[];let o=0;const i=t.length-1+n.length,a=new Array(i).fill(null).map(()=>[0]);iet(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const c=t[u+1];for(let f=1;f<l+1;++f)a[u].push(f*c)}for(let u=0;u<e.length;++u){let c=e[u],f=e[u]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+t.length-1;if(p>=0){const g=a[p],m=g[g.length-1]-h[c];for(let v=c;v<f;++v)a[p].push(h[v+1]+m)}c=h[c],f=h[f]}f!==c&&(s.push([c,f]),o+=f-c)}return{outSplits:a,valueSlices:s,numValues:o}}function uet(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n].length,s=Ds("int32",r);t.push(s),e[n].forEach((o,i)=>s[i]=o)}return t}function koe(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function cet(e,t,n,r,s,o){const i=koe(t,2)[1],a=koe(o,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let f=0;f<r;++f)s[l*a+f]=e[c*i+f];++l}}function fet(e,t,n,r,s){const o=t.slice();o[0]=s;const i=Ds(n,je(o)),a=e.length,l=a===0?0:a/t[0];return cet(e,t,r,l,i,o),[i,o]}function lCe(e,t,n,r,s,o,i,a){if(e.length===0)throw new Error("paramsNestedSplits must be non empty");if(t[0].length===0)throw new Error("Split tensors must not be scalars");const l=t[0][0]-1;if(oet(o,i,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:f,numValues:d}=aet(o,i,e,u),h=uet(c),p=fet(n,r,s,f,d);return[h,p[0],p[1]]}const Eoe=2147483647;function uCe(e,t,n,r,s,o,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const a=t.length===0,l=s.length===0,u=i.length===0,c=[];a||c.push(t[0]),l||c.push(s[0]),u||c.push(i[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const f=c.length===0?1:c[0],d=Ds("int32",f+1);d[0]=0;for(let m=0;m<f;++m){const v=a?e[0]:e[m],y=l?r[0]:r[m],b=u?o[0]:o[m];if(b===0)throw new Error("Requires delta != 0");let w;if(b>0&&y<v||b<0&&y>v)w=0;else if(w=Math.ceil(Math.abs((y-v)/b)),w>Eoe)throw new Error(`Requires ((limit - start) / delta) <= ${Eoe}`);d[m+1]=d[m]+w}const h=d[f],p=Ds(n,h);let g=0;for(let m=0;m<f;++m){const v=d[m+1]-d[m];let y=a?e[0]:e[m];const b=u?o[0]:o[m];for(let w=0;w<v;++w)p[g++]=y,y+=b}return[d,p]}var hu=dc;class zO{constructor(t,n,r,s,o,i,a,l,u,c){this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=Kbe(c),this.raggedRank=Ybe(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===hu.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===hu.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case hu.VALUE_ROWIDS:return zO.getMaxWidthValueRowID(n);case hu.ROW_SPLITS:return zO.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${hu[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const n=t.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const o=t[s+1]-t[s];o>r&&(r=o)}return r}static getMaxWidthValueRowID(t){const n=t.length;if(n===0)return 0;let r=0,s=t[0],o=0;for(let i=1;i<n;++i){const a=t[i];a!==s&&(s=a,o=Math.max(i-r,o),r=i)}return Math.max(n-r,o)}tensorShapeFromTensor(t,n,r=!0){if(n.length===0){if(t[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Toe(t,r)}calculateOutputSize(t){const n=this.valuesShape,r=this.defaultValueShape;Xbe(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=Gbe(this.raggedRank,s,n);i[0]<0&&(i[0]=t);for(let a=1;a<=this.raggedRank;++a)i[a]<0&&(i[a]=this.getMaxWidth(a));return i}calculateFirstParentOutputIndex(t,n,r){const s=Math.min(t,r),o=[];let i=0;for(let a=0;a<s;++a,i+=n)o.push(i);for(let a=s;a<t;++a)o.push(-1);return te(o.length===t,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(t,n,r,s){const o=t.length,i=[];for(let a=0;a<o-1;++a){const l=t[a+1]-t[a];let u=Math.min(s,l),c=n[a];c===-1&&(u=0);for(let f=0;f<u;++f)i.push(c),c+=r;for(let f=0;f<l-u;++f)i.push(-1)}if(o>0&&i.length!==t[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(t,n,r,s){const o=t.length,i=[];if(o===0)return[];let a=0,l=t[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];i.push(u);for(let c=1;c<o;++c){const f=t[c];if(f===l)u>=0&&(++a,a<s?u+=r:u=-1);else{if(a=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}i.push(u)}if(i.length!==t.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(t,n,r,s){const o=this.getRowPartitionTensor(t),i=this.getRowPartitionTypeByDimension(t);switch(i){case hu.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,r,s);case hu.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,r,s);default:throw new Error(`Unsupported partition type: ${hu[i]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case hu.FIRST_DIM_SIZE:return t[0];case hu.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case hu.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${hu[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const o=Toe(r,!1),i=Ds(this.valuesDType,je(o));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,s[u],r[u]);this.setOutput(this.raggedRank,l,i,o)}return[o,i]}setOutput(t,n,r,s){if(r.length===0)return;const o=this.values,i=r;let a=s.slice();a=a.slice(t+1);const l=je(a),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Le(()=>{const g=_e(c,p);c=aw(g,a).dataSync()})}let f=0,d=0,h=0;for(let p=0;p<=u;++p){let g=p<u?n[p]:-1;if(g===h){++h;continue}if(d<h){const m=o.subarray(f*l),v=i.subarray(d*l),y=(h-d)*l;_oe(v,m,y)}if(p>=u){const m=r.length;g=Math.floor(m/l)}if(g>h)if(this.defaultValue.length===1)i.subarray(h*l,g*l).fill(this.defaultValue[0]),h=g;else for(;g>h;){const m=i.slice(h*l);_oe(m,c,l),++h}g<0?(f=p+1,d=h):(f=p,d=h,h=d+1)}}}function _oe(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Toe(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function cCe(e,t,n,r,s,o,i,a,l,u){return new zO(e,t,n,r,s,o,i,a,l,u).compute()}function fCe(e,t,n,r){const s=e===t,o=e<t&&n<0,i=t<e&&n>1;if(s||o||i)return qo(0,r);const a=Math.abs(Math.ceil((t-e)/n)),l=qo(a,r);t<e&&n===1&&(n=-1),l[0]=e;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}const dCe=Od(e=>1/Math.sqrt(e)),det=l0(D2,dCe),het={kernelName:D2,backendName:"cpu",kernelFunc:det};function Ev(e,t,n,r,s,o,i,a,l,u){const c=[r/s,s],f=e.values,d=t.values;if(r===0)return Wn(n,t.dtype);const h=l instanceof Xs?l:Wn(c,t.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<o;p++){const g=[];let m=0;for(let v=0;v<i;v++){const y=f[p*i+v];g.push(y),m+=y*a[v]}if(m<0||m>=r/s)throw new Error(`Invalid indices: ${g} does not index into ${n}`);for(let v=0;v<s;v++)u?h.values[m*s+v]+=d[p*s+v]:h.values[m*s+v]=t.rank===0?d[0]:d[p*s+v]}return h}const pet=Od(e=>1/(1+Math.exp(-e))),hCe=Rr(P2,e=>1/(1+Math.exp(-e))),get={kernelName:P2,backendName:"cpu",kernelFunc:hCe};function pCe(e,t,n,r,s){const o=NG(r,t,n),i=je(n),a=fn(r);if(o){const f=DG(t,a);return s==="string"?e.slice(f,f+i):e.subarray(f,f+i)}const l=s==="string"?ip(e):e,u=Wn(r,s,l),c=Wn(n,s);for(let f=0;f<c.size;++f){const d=c.indexToLoc(f),h=d.map((p,g)=>p+t[g]);c.set(u.get(...h),...d)}return s==="string"?mwe(c.values):c.values}function k1(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,size:i}=r;en(s,"slice");const[a,l]=AP(s,o,i);AG(s,a,l);const u=n.data.get(s.dataId).values,c=pCe(u,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,c)}const met={kernelName:kT,backendName:"cpu",kernelFunc:k1};function gCe(e,t,n,r,s,o,i){const a=t[0],l=o[0],u=new Array(l),c=new Array(a),f=t[1];if(l===0){if(a!==0)throw new Error(rwe(a));const m=Ds(n,0),v=Ds(s,0);return[m,[0,f],v,u,c]}let d=!0,h=0;const p=new Array(l).fill(0);for(let m=0;m<a;++m){const v=e[m*f];if(v<0)throw new Error(swe(m,v));if(v>=l)throw new Error(owe(m,v,l));++p[v],d=d&&v>=h,h=v}let g=!0;for(let m=0;m<l;++m){const v=p[m]===0;u[m]=v,g=g&&!v,p[m]=Math.max(p[m],1),m>0&&(p[m]+=p[m-1])}if(g&&d){const m=e,v=r;for(let y=0;y<a;++y)c[y]=y;return[m,[a,f],v,u,c]}else{const m=p[l-1],v=Ds(n,m*f),y=Ds(s,m),b=new Array(l).fill(0);for(let w=0;w<a;++w){const C=e[w*f],S=b[C],$=(C===0?0:p[C-1])+S;b[C]++;for(let k=0;k<f;++k)v[$*f+k]=e[w*f+k];y[$]=r[w],c[w]=$}for(let w=0;w<l;++w)if(b[w]===0){const S=w===0?0:p[w-1];v[S*f+0]=w;for(let $=1;$<f;++$)v[S*f+$]=0;y[S]=i}return[v,[m,f],y,u,c]}}function mCe(e,t,n,r,s){const o=je(r),i=t[0],a=s.length,l=[];let u=1,c=-1;for(let m=0;m<a;++m){const v=s[m];if(v===-1){if(c!==-1)throw new Error(iwe(c,m));c=m,l.push(1)}else{if(v<0)throw new Error(awe(m,v));u*=v,l.push(v)}}if(c!==-1){if(u<=0)throw new Error(lwe());const m=Math.trunc(o/u);if(u*m!==o)throw new Error(uwe(r,l));l[c]=m}if(je(l)!==o)throw new Error(cwe(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let m=d-2;m>=0;--m)h[m]=h[m+1]*r[m+1]}const p=[];if(a>0){p[a-1]=1;for(let m=a-2;m>=0;--m)p[m]=p[m+1]*l[m+1]}const g=Ds(n,i*a);for(let m=0;m<i;++m){let v=0;for(let y=0;y<d;++y)v+=e[m*d+y]*h[y];for(let y=0;y<a;++y)g[m*a+y]=Math.trunc(v/p[y]),v%=p[y]}return[g,[i,a],l]}function TK(e,t,n,r,s,o=!1,i=0){const a=r.length,l=[t[0],e.length/t[0]],u=l[1],f=a>0?s[a-1]+1:0;if(f<0)throw new Error(RV());const d=t.slice();d[0]=f;const h=d.reduce((b,w)=>b*w,1),p=Ds(n,h);if(a===0)return f>0&&p.fill(i),[p,d];if(f<=0)throw new Error(RV());let g=0,m=1,v=0,y=s[g];for(;;){let b=0;if(m<a){if(b=s[m],y===b){++m;continue}if(y>=b)throw new Error(fwe())}if(y<0||y>=f)throw new Error(dwe(y,f));y>v&&p.fill(i,v*u,y*u);for(let w=g;w<m;++w){const C=r[w];if(C<0||C>=l[0])throw new Error(hwe(w,r[w],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=e[C*u+S]}if(o)for(let w=0;w<u;w++)p[y*u+w]/=m-g;if(g=m,++m,v=y+1,y=b,m>a)break}return v<f&&p.fill(i,v*u,f*u),[p,d]}const vet=Od(e=>Math.sqrt(e)),yet=Rr(B2,e=>Math.sqrt(e)),bet={kernelName:B2,backendName:"cpu",kernelFunc:yet};const vCe=Gs(((e,t)=>{const n=e-t;return n*n})),wet=co(z2,vCe),xet={kernelName:z2,backendName:"cpu",kernelFunc:wet};const yCe=Od((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=t;return e.replace(new RegExp(n,r?"g":""),s)}),Cet=l0(IT,yCe),$et={kernelName:IT,backendName:"cpu",kernelFunc:Cet};function bCe(e,t,n,r){const s=Wn(e,t.dtype);for(let o=0;o<s.size;o++){const i=s.indexToLoc(o),a=new Array(i.length);for(let l=0;l<a.length;l++)a[l]=i[l]*n[l]+r[l];s.set(t.get(...a),...i)}return s}class ket{constructor(t,n,r,s,o,i){this.separator=Uf(t),this.nGramWidths=n,this.leftPad=Uf(r),this.rightPad=Uf(s),this.padWidth=o,this.preserveShort=i}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,n){const r=this.getPadWidth(n);return Math.max(0,t+2*r-n+1)}createNGrams(t,n,r,s,o,i){for(let a=0;a<o;++a){const l=this.getPadWidth(i),u=Math.max(0,l-a),c=Math.max(0,l-(o-(a+1))),f=i-(u+c),d=n+(u>0?0:a-l);let h=0;h+=u*this.leftPad.length;for(let y=0;y<f;++y)h+=t[d+y].length;h+=c*this.rightPad.length;const p=u+c+f-1;h+=p*this.separator.length,r[s+a]=new Uint8Array(h);const g=r[s+a];let m=0;const v=y=>y.forEach(b=>g[m++]=b);for(let y=0;y<u;++y)v(this.leftPad),v(this.separator);for(let y=0;y<f-1;++y)v(t[d+y]),v(this.separator);if(f>0){v(t[d+f-1]);for(let y=0;y<c;++y)v(this.separator),v(this.rightPad)}else{for(let y=0;y<c-1;++y)v(this.rightPad),v(this.separator);v(this.rightPad)}}}compute(t,n){const r=t.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<s;++u){let c=n[u]>=l;if(c=c&&n[u]<=r,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const o=s-1,i=Ds("int32",s);if(r===0||s===0){const l=new Array(r);for(let u=0;u<=o;++u)i[u]=0;return[l,i]}i[0]=0;for(let l=1;l<=o;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(f=>{c+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&c===0&&(c=1),i[l]=i[l-1]+c}const a=new Array(i[o]);for(let l=0;l<o;++l){const u=n[l];let c=i[l];if(this.nGramWidths.forEach(f=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,f);this.createNGrams(t,u,a,c,h,f),c+=h}),this.preserveShort&&c===i[l]){const f=n[l+1]-n[l];if(f===0)continue;const d=f+2*this.padWidth;this.createNGrams(t,u,a,c,1,d)}}return[a,i]}}function wCe(e,t,n,r,s,o,i,a){return new ket(n,r,s,o,i,a).compute(e,t)}function Eet(e,t,n,r){if(!e.length)return;if(t.length===0){for(let o=0;o<e.length;++o)r.push(e.subarray(o,o+1));return}if(t.length===1){const o=t[0];let i=e.indexOf(o);for(;i!==-1;){const a=e.subarray(0,i);(!n||a.length!==0)&&r.push(a),e=e.subarray(i+1),i=e.indexOf(o)}(!n||e.length!==0)&&r.push(e);return}let s=0;for(let o=0;o<e.length+1;o++)if(o===e.length||t.indexOf(e[o])!==-1){const i=e.subarray(s,o);(!n||i.length!==0)&&r.push(i),s=o+1}}function xCe(e,t,n){const r=e.length,s=[];let o=0,i=0;const a=new Array(r);for(let d=0;d<r;++d){const h=s.length;Eet(e[d],t,n,s);const p=s.length-h;a[d]=p,o+=p,i=Math.max(i,p)}const l=Ds("int32",o*2),u=new Array(o),c=[r,i];let f=0;for(let d=0;d<r;++d)for(let h=0;h<a[d];++h)l[f*2]=d,l[f*2+1]=h,u[f]=s[f],++f;return[l,u,c]}function CCe(e,t){const n=Ds("int32",e.length);for(let r=0;r<e.length;++r)n[r]=J1e(e[r]).modulo(t).getLowBitsUnsigned();return n}const SCe=Gs(((e,t)=>e-t)),_et=$K(((e,t,n,r)=>({real:e-n,imag:t-r}))),AK=co(V2,SCe,_et),Tet={kernelName:V2,backendName:"cpu",kernelFunc:AK};function $Ce(e,t){const n=new Array(e.rank);for(let s=0;s<n.length;s++)n[s]=e.shape[s]*t[s];const r=Wn(n,e.dtype);for(let s=0;s<r.values.length;++s){const o=r.indexToLoc(s),i=new Array(e.rank);for(let l=0;l<i.length;l++)i[l]=o[l]%e.shape[l];const a=e.locToIndex(i);r.values[s]=e.values[a]}return r}const n$=(e,t)=>{const n=t.value-e.value;return n===0?e.index-t.index:n};function kCe(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,l=t-n+1,u=Math.log(a),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(a-c)/a)*Math.sign(l-a/2),d=Math.max(n,Math.floor(t-l*c/a+f)),h=Math.min(r,Math.floor(t+(a-l)*c/a+f));kCe(e,t,d,h)}const s=e[t];let o=n,i=r;for($h(e,n,t),n$(e[r],s)>0&&$h(e,n,r);o<i;){for($h(e,o,i),o++,i--;n$(e[o],s)<0;)o=o+1;for(;n$(e[i],s)>0;)i=i-1}n$(e[n],s)===0?$h(e,n,i):(i=i+1,$h(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}function ECe(e,t,n,r,s){const o=t[t.length-1],[i,a]=[e.length/o,o],l=Eo(n,i*r),u=Eo("int32",i*r);for(let f=0;f<i;f++){const d=f*a,h=e.subarray(d,d+a);let p=new Array(h.length);h.forEach((y,b)=>p[b]={value:y,index:b}),r<p.length&&(kCe(p,r),p=p.slice(0,r)),s&&p.sort(n$);const g=f*r,m=l.subarray(g,g+r),v=u.subarray(g,g+r);for(let y=0;y<r;y++)m[y]=p[y].value,v[y]=p[y].index}const c=t.slice();return c[c.length-1]=r,[Wn(c,n,l),Wn(c,"int32",u)]}function _Ce(e,t,n,r){const s=qn(t,n)[0],o=[1,n[0],1];for(let p=0;p<s;p++)o[0]*=n[p];o[1]=n[s];for(let p=s+1;p<n.length;p++)o[2]*=n[p];const i=new Map,a=new Int32Array(n[s]),l=new Xs(o,r,e),u=[],c=o[0]===1&&o[2]===1;for(let p=0;p<n[s];p++){let g;if(c)g=e[p].toString();else{const v=[];for(let y=0;y<o[0];y++)for(let b=0;b<o[2];b++)v.push(l.get(y,p,b));g=v.join(",")}const m=i.get(g);if(m!=null)a[p]=m;else{const v=i.size;i.set(g,v),a[p]=v,u.push(p)}}const f=o.slice();f[1]=i.size;const d=new Xs(f,r);u.forEach((p,g)=>{for(let m=0;m<o[0];m++)for(let v=0;v<o[2];v++)d.set(l.get(m,p,v),m,g,v)});const h=n.slice();return h[s]=f[1],{outputValues:d.values,outputShape:h,indices:a}}const Aet=Object.freeze(Object.defineProperty({__proto__:null,addImpl:M2e,bincountImpl:kK,bincountReduceImpl:P2e,bitwiseAndImpl:L2e,castImpl:F2e,ceilImpl:B2e,concatImpl:z2e,equalImpl:V2e,expImpl:U2e,expm1Impl:H2e,floorDivImpl:G2e,floorImpl:q2e,gatherNdImpl:K2e,gatherV2Impl:Y2e,greaterEqualImpl:Z2e,greaterImpl:X2e,lessEqualImpl:Q2e,lessImpl:J2e,linSpaceImpl:eCe,logImpl:tCe,maxImpl:nCe,maximumImpl:rCe,minimumImpl:sCe,multiplyImpl:EK,negImpl:oCe,notEqualImpl:iCe,prodImpl:aCe,raggedGatherImpl:lCe,raggedRangeImpl:uCe,raggedTensorToTensorImpl:cCe,rangeImpl:fCe,rsqrtImpl:dCe,scatterImpl:Ev,sigmoidImpl:pet,simpleAbsImpl:R2e,sliceImpl:pCe,sparseFillEmptyRowsImpl:gCe,sparseReshapeImpl:mCe,sparseSegmentReductionImpl:TK,sqrtImpl:vet,squaredDifferenceImpl:vCe,staticRegexReplaceImpl:yCe,stridedSliceImpl:bCe,stringNGramsImpl:wCe,stringSplitImpl:xCe,stringToHashBucketFastImpl:CCe,subImpl:SCe,tileImpl:$Ce,topKImpl:ECe,transposeImpl:_K,uniqueImpl:_Ce},Symbol.toStringTag,{value:"Module"}));Pq("cpu",()=>new UP,1);const TCe=Rr(c2,e=>e>=0?e:Math.exp(e)-1),Iet={kernelName:c2,backendName:"cpu",kernelFunc:TCe};function ACe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:o}=r;en([s],"leakyRelu");const i=je(s.shape),a=n.data.get(s.dataId).values,l=Eo("float32",i);for(let u=0;u<a.length;u++)l[u]=a[u]<0?o*a[u]:a[u];return n.makeTensorInfo(s.shape,"float32",l)}const Net={kernelName:Q_,backendName:"cpu",kernelFunc:ACe};const Det=Gs((e,t)=>e<0?t*e:e);function ICe(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t;en([r,s],"prelu");const o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,[a,l]=Det(r.shape,s.shape,o,i,"float32");return n.makeTensorInfo(l,"float32",a)}const Oet={kernelName:yT,backendName:"cpu",kernelFunc:ICe};const NCe=Rr(A2,e=>Math.max(0,e)),Ret={kernelName:A2,backendName:"cpu",kernelFunc:NCe};const DCe=Rr(I2,e=>Math.min(Math.max(0,e),6)),Fet={kernelName:I2,backendName:"cpu",kernelFunc:DCe};function VO(e,t,n,r,s){if(n==="linear")return dd({inputs:{x:t},backend:e});if(n==="relu")return NCe({inputs:{x:t},backend:e});if(n==="elu")return TCe({inputs:{x:t},backend:e});if(n==="relu6")return DCe({inputs:{x:t},backend:e});if(n==="prelu")return ICe({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return ACe({inputs:{x:t},backend:e,attrs:{alpha:s}});if(n==="sigmoid")return hCe({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function rs(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:o}=r,i=je(s.shape),a=Tq(o,i),l=je(a);te(i===l,()=>`The new shape (${a}) has ${l} elements and the old shape (${s.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const u=n.data.get(s.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;c.shape=a,f.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const Met={kernelName:wT,backendName:"cpu",kernelFunc:rs};function OCe(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o}=t,{transposeA:i,transposeB:a}=r;en([s,o],"matMul");const l=s.shape.length,u=o.shape.length,c=i?s.shape[l-2]:s.shape[l-1],f=a?o.shape[u-1]:o.shape[u-2],d=i?s.shape[l-1]:s.shape[l-2],h=a?o.shape[u-2]:o.shape[u-1],p=s.shape.slice(0,-2),g=o.shape.slice(0,-2),m=je(p),v=je(g),b=Dn(s.shape.slice(0,-2),o.shape.slice(0,-2)).concat([d,h]);te(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${s.shape} and ${o.shape} and transposeA=${i} and transposeB=${a} must match.`);const w=i?[m,c,d]:[m,d,c],C=a?[v,h,f]:[v,f,h],S=rs({inputs:{x:s},backend:n,attrs:{shape:w}}),$=rs({inputs:{x:o},backend:n,attrs:{shape:C}}),k=i?S.shape[1]:S.shape[2],T=i?S.shape[2]:S.shape[1],_=a?$.shape[1]:$.shape[2],E=Math.max(m,v),A=n.data.get(S.dataId).values,I=n.data.get($.dataId).values,F=fn(S.shape),R=fn($.shape),[L,D,N]=i?[F[0],1,F[1]]:[F[0],F[1],1],[M,z,W]=a?[1,R[1],R[0]]:[R[1],1,R[0]],j=T*_,U=Wn([E,T,_],S.dtype),Y=U.values,G=n.blockSize;for(let ne=0;ne<E;ne++){const ue=ne%m,ae=ne%v;for(let X=0;X<T;X+=G){const J=Math.min(X+G,T);for(let q=0;q<_;q+=G){const P=Math.min(q+G,_);for(let Q=0;Q<k;Q+=G){const se=Math.min(Q+G,k);for(let de=X;de<J;de++)for(let he=q;he<P;he++){let ge=0;for(let $e=Q;$e<se;$e++){const He=A[ue*L+de*D+$e*N],Ie=I[$e*M+he*z+ae*W];ge+=He*Ie}Y[ne*j+(de*_+he)]+=ge}}}}}return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo($),n.makeTensorInfo(b,U.dtype,U.values)}const Pet={kernelName:P_,backendName:"cpu",kernelFunc:OCe};function Let(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o,bias:i,preluActivationWeights:a}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;let d,h,p;const g=[];d=OCe({inputs:{a:s,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(h=Pw({inputs:{a:d,b:i},backend:n}),g.push(d),d=h),c&&(p=VO(n,d,c,a,f),g.push(d),d=p);for(const v of g)n.disposeIntermediateTensorInfo(v);return d}const Bet={kernelName:_k,backendName:"cpu",kernelFunc:Let};const zet=Rr(Zx,e=>Math.acos(e)),Vet={kernelName:Zx,backendName:"cpu",kernelFunc:zet};const Wet=Rr(Jx,e=>Math.acosh(e)),Uet={kernelName:Jx,backendName:"cpu",kernelFunc:Wet};function jet(e){const{inputs:t,backend:n}=e,r=t;en(t,"addN");const s=r.map(a=>n.data.get(a.dataId).values),o=Wn(r[0].shape,r[0].dtype),i=o.values;for(let a=0;a<r.length;a++){const l=s[a];for(let u=0;u<i.length;u++)i[u]+=l[u]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const Het={kernelName:D_,backendName:"cpu",kernelFunc:jet};function qet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;en(s,"all");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Fa({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("all",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let b=g[y];for(let w=0;w<h;++w){const C=g[y+w];b=b&&C}p[v]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Get={kernelName:qM,backendName:"cpu",kernelFunc:qet};function Ket(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;en(s,"any");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Fa({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("any",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let b=g[y];for(let w=0;w<h;++w){const C=g[y+w];b=b||C}p[v]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Yet={kernelName:GM,backendName:"cpu",kernelFunc:Ket};function Xet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;en(s,"argMax");let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=Fa({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),i=[i[0]],Qo("argMax",i,l.shape.length);const[c,f]=Ao(l.shape,i),d=je(c),h=qo(d,"int32"),p=je(f),g=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const v=m*p;let y=g[v],b=0;for(let w=0;w<p;++w){const C=g[v+w];C>y&&(y=C,b=w)}h[m]=b}return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const Zet={kernelName:O_,backendName:"cpu",kernelFunc:Xet};function Jet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;en(s,"argMin");let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=Fa({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),i=[i[0]],Qo("argMin",i,l.shape.length);const[c,f]=Ao(l.shape,i),d=je(c),h=qo(d,"int32"),p=je(f),g=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const v=m*p;let y=g[v],b=0;for(let w=0;w<p;++w){const C=g[v+w];C<y&&(y=C,b=w)}h[m]=b}return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const Qet={kernelName:R_,backendName:"cpu",kernelFunc:Jet};const ett=Rr(Qx,e=>Math.asin(e)),ttt={kernelName:Qx,backendName:"cpu",kernelFunc:ett};const ntt=Rr(e2,e=>Math.asinh(e)),rtt={kernelName:e2,backendName:"cpu",kernelFunc:ntt};const stt=Rr(t2,e=>Math.atan(e)),ott={kernelName:t2,backendName:"cpu",kernelFunc:stt};const itt=Gs((e,t)=>Math.atan2(e,t)),att=co(r2,itt),ltt={kernelName:r2,backendName:"cpu",kernelFunc:att};const utt=Rr(n2,e=>Math.atanh(e)),ctt={kernelName:n2,backendName:"cpu",kernelFunc:utt};function IK(e,t,n,r,s,o){const i=s.strideHeight,a=s.strideWidth,l=s.dilationHeight,u=s.dilationWidth,c=s.effectiveFilterHeight,f=s.effectiveFilterWidth,d=s.padInfo.top,h=s.padInfo.left,p=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=Wn(s.outShape,n),m=g.values,v=s.outShape[1]*s.outShape[2]*s.outShape[3],y=s.outShape[2]*s.outShape[3],b=s.outShape[3];for(let w=0;w<s.batchSize;++w){const C=w*v,S=w*r[0];for(let $=0;$<s.inChannels;++$)for(let k=0;k<s.outHeight;++k){const T=k*i-d,_=Math.max(0,T),E=Math.min(s.inHeight,c+T),A=C+k*y;for(let I=0;I<s.outWidth;++I){const F=I*a-h,R=Math.max(0,F),L=Math.min(s.inWidth,f+F);let D=p,N=0,M=0;for(let W=_;W<E;W+=l){const j=S+W*r[1];for(let U=R;U<L;U+=u){const Y=j+U*r[2],G=e[Y+$];o==="max"&&G>D?D=G:o==="avg"&&(N+=G,M++)}if(isNaN(D))break}const z=A+I*b+$;m[z]=o==="avg"?N/M:D}}}return g}function RCe(e,t,n,r,s=!1,o=!1){const i=Wn(r.outShape,"int32"),a=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,g=Wn(t,n,e);for(let m=0;m<r.batchSize;++m)for(let v=0;v<r.inChannels;++v)for(let y=0;y<r.outHeight;++y){const b=y*a-h;let w=b;for(;w<0;)w+=u;const C=Math.min(r.inHeight,f+b);for(let S=0;S<r.outWidth;++S){const $=S*l-p;let k=$;for(;k<0;)k+=c;const T=Math.min(r.inWidth,d+$);let _=Number.NEGATIVE_INFINITY,E=-1;for(let A=w;A<C;A+=u){const I=A-b;for(let F=k;F<T;F+=c){const R=F-$,L=g.get(m,A,F,v);L>_&&(_=L,s?E=o?((m*r.inHeight+A)*r.inWidth+F)*r.inChannels+v:(A*r.inWidth+F)*r.inChannels+v:E=I*d+R)}}i.set(E,m,y,S,v)}}return i}function FCe(e,t,n,r,s,o){const i=s.strideDepth,a=s.strideHeight,l=s.strideWidth,u=s.dilationDepth,c=s.dilationHeight,f=s.dilationWidth,d=s.effectiveFilterDepth,h=s.effectiveFilterHeight,p=s.effectiveFilterWidth,g=s.padInfo.front,m=s.padInfo.top,v=s.padInfo.left,y=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Wn(s.outShape,n),w=b.values,C=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],S=s.outShape[2]*s.outShape[3]*s.outShape[4],$=s.outShape[3]*s.outShape[4],k=s.outShape[4];for(let T=0;T<s.batchSize;++T){const _=T*C,E=T*r[0];for(let A=0;A<s.inChannels;++A)for(let I=0;I<s.outDepth;++I){const F=I*i-g;let R=F;for(;R<0;)R+=u;const L=Math.min(s.inDepth,d+F),D=_+I*S;for(let N=0;N<s.outHeight;++N){const M=N*a-m;let z=M;for(;z<0;)z+=c;const W=Math.min(s.inHeight,h+M),j=D+N*$;for(let U=0;U<s.outWidth;++U){const Y=U*l-v;let G=Y;for(;G<0;)G+=f;const ne=Math.min(s.inWidth,p+Y),ue=j+U*k;let ae=y,X=0,J=0;for(let P=R;P<L;P+=u){const Q=E+P*r[1];for(let se=z;se<W;se+=c){const de=Q+se*r[2];for(let he=G;he<ne;he+=f){const ge=de+he*r[3],$e=e[ge+A];if(o==="max"&&$e>ae?ae=$e:o==="avg"&&(X+=$e,J++),isNaN(ae))break}if(isNaN(ae))break}if(isNaN(ae))break}const q=ue+A;w[q]=o==="avg"?X/Math.max(J,1):ae}}}}return b}function ftt(e,t){const n=Wn(t.outShape,"int32"),r=t.strideDepth,s=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,a=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left;for(let g=0;g<t.batchSize;++g)for(let m=0;m<t.inChannels;++m)for(let v=0;v<t.outDepth;++v){const y=v*r-d;let b=y;for(;b<0;)b+=i;const w=Math.min(t.inDepth,u+y);for(let C=0;C<t.outHeight;++C){const S=C*s-h;let $=S;for(;$<0;)$+=a;const k=Math.min(t.inHeight,c+S);for(let T=0;T<t.outWidth;++T){const _=T*o-p;let E=_;for(;E<0;)E+=l;const A=Math.min(t.inWidth,f+_);let I=Number.NEGATIVE_INFINITY,F=-1;for(let R=b;R<w;R+=i){const L=R-y;for(let D=$;D<k;D+=a){const N=D-S;for(let M=E;M<A;M+=l){const z=M-_,W=e.get(g,R,D,M,m);W>=I&&(I=W,F=L*c*f+N*c+z)}}}n.set(F,g,v,C,T,m)}}}return n}function dtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;en(s,"avgPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Yu(s.shape,o,i,u,a,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))f=dd({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=fn(s.shape),p=IK(d,s.shape,s.dtype,h,c,"avg");f=n.makeTensorInfo(c.outShape,s.dtype,p.values)}return f}const htt={kernelName:F_,backendName:"cpu",kernelFunc:dtt};function ptt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r;en(s,"avgPool3d");const c=_p(s.shape,o,i,1,a,l,u),f=n.data.get(s.dataId).values,d=FCe(f,s.shape,s.dtype,fn(s.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const gtt={kernelName:M_,backendName:"cpu",kernelFunc:ptt};function mtt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,{filterSize:i,strides:a,pad:l,dimRoundingMode:u}=r;en([s,o],"avgPool3DGrad");const c=_p(o.shape,i,a,1,l,u),f=c.strideDepth,d=c.strideHeight,h=c.strideWidth,p=c.filterDepth,g=c.filterHeight,m=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,C=c.effectiveFilterHeight,S=c.effectiveFilterWidth,$=w-1-c.padInfo.front,k=S-1-c.padInfo.left,T=C-1-c.padInfo.top,_=Wn(o.shape,"float32"),E=1/(p*g*m),A=n.bufferSync(s);for(let I=0;I<c.batchSize;++I)for(let F=0;F<c.inChannels;++F)for(let R=0;R<c.inDepth;++R)for(let L=0;L<c.inHeight;++L)for(let D=0;D<c.inWidth;++D){const N=R-$,M=L-T,z=D-k;let W=0;for(let j=0;j<w;j+=v){const U=(N+j)/f;if(!(U<0||U>=c.outDepth||Math.floor(U)!==U))for(let Y=0;Y<C;Y+=y){const G=(M+Y)/d;if(!(G<0||G>=c.outHeight||Math.floor(G)!==G))for(let ne=0;ne<S;ne+=b){const ue=(z+ne)/h;if(ue<0||ue>=c.outWidth||Math.floor(ue)!==ue)continue;const ae=A.get(I,U,G,ue,F);W+=ae}}}_.set(W*E,I,R,L,D,F)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const vtt={kernelName:YM,backendName:"cpu",kernelFunc:mtt};function ytt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o;en([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:u}=r,c=Yu(i.shape,a,l,1,u),f=c.strideHeight,d=c.strideWidth,h=c.filterHeight,p=c.filterWidth,g=c.dilationHeight,m=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,w=v-1-c.padInfo.top,C=Wn(i.shape,"float32"),S=1/(h*p),$=n.data.get(s.dataId).values,k=Wn(s.shape,"float32",$);for(let T=0;T<c.batchSize;++T)for(let _=0;_<c.inChannels;++_)for(let E=0;E<c.inHeight;++E)for(let A=0;A<c.inWidth;++A){const I=E-w,F=A-b;let R=0;for(let L=0;L<v;L+=g){const D=(I+L)/f;if(!(D<0||D>=c.outHeight||Math.floor(D)!==D))for(let N=0;N<y;N+=m){const M=(F+N)/d;if(M<0||M>=c.outWidth||Math.floor(M)!==M)continue;const z=k.get(T,D,M,_);R+=z}}C.set(R*S,T,E,A,_)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const btt={kernelName:KM,backendName:"cpu",kernelFunc:ytt};function wtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,scale:o,offset:i,mean:a,variance:l}=t;te(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(i==null||a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),en([s,a,l,o,i],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const c=n.data.get(s.dataId).values,f=n.data.get(a.dataId).values,d=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),p=i?n.data.get(i.dataId).values:new Float32Array([0]),g=new Float32Array(c.length),m=p.length,v=h.length,y=d.length,b=f.length;let w=0,C=0,S=0,$=0;for(let k=0;k<c.length;++k)g[k]=p[w++]+(c[k]-f[C++])*h[S++]/Math.sqrt(d[$++]+u),w>=m&&(w=0),C>=b&&(C=0),S>=v&&(S=0),$>=y&&($=0);return n.makeTensorInfo(s.shape,s.dtype,g)}const xtt={kernelName:X_,backendName:"cpu",kernelFunc:wtt};function Ctt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,crops:i}=r;en([s],"batchToSpaceND");const a=o.reduce((v,y)=>v*y),l=UT(s.shape,o,a),u=jT(l.length,o.length),c=HT(s.shape,o,a),f=LG(i,o.length),d=BG(c,i,o.length),h=rs({inputs:{x:s},backend:n,attrs:{shape:l}}),p=Fa({inputs:{x:h},backend:n,attrs:{perm:u}}),g=rs({inputs:{x:p},backend:n,attrs:{shape:c}}),m=k1({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),m}const Stt={kernelName:L_,backendName:"cpu",kernelFunc:Ctt};function $tt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i}=r,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,u=kK(a,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}const ktt={kernelName:XM,backendName:"cpu",kernelFunc:$tt};function Ett(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,a=Dn(Array.from(o),Array.from(i));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const _tt={kernelName:ZM,backendName:"cpu",kernelFunc:Ett};const Ttt=Rr(i2,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),Att={kernelName:i2,backendName:"cpu",kernelFunc:Ttt};const Itt=e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(je(t.shape)),s=n.data.get(t.dataId),o=s.complexTensorInfos.real,i=s.complexTensorInfos.imag,a=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values;for(let u=0;u<a.length;u++){const c=a[u],f=l[u];r[u]=Math.hypot(c,f)}return n.makeOutput(r,t.shape,"float32")},Ntt={kernelName:z_,backendName:"cpu",kernelFunc:Itt};function Lw(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const Dtt={kernelName:v4,backendName:"cpu",kernelFunc:Lw};function Bw(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,o=qn(s,t[0].shape)[0],i=t.map(g=>g.shape);FG(i,o);let a=Hf(t.map(g=>g.shape),o);if(je(a)===0)return n.makeTensorInfo(a,t[0].dtype,[]);const l=t.filter(g=>je(g.shape)>0);if(l.length===1)return dd({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const g=l.map(w=>$1({inputs:{input:w},backend:n})),m=l.map(w=>Lw({inputs:{input:w},backend:n})),v=Bw({inputs:g,backend:n,attrs:{axis:o}}),y=Bw({inputs:m,backend:n,attrs:{axis:o}}),b=tl({inputs:{real:v,imag:y},backend:n});return g.forEach(w=>n.disposeIntermediateTensorInfo(w)),m.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),b}const u=l.map(g=>{const v=[-1,je(g.shape.slice(o))];return rs({inputs:{x:g},backend:n,attrs:{shape:v}})}),c=u.map(g=>({vals:n.data.get(g.dataId).values,shape:g.shape}));a=Hf(u.map(g=>g.shape),1);const f=u[0].shape[0]===1,d=z2e(c,a,t[0].dtype,f),h=Hf(l.map(g=>g.shape),o),p=n.makeTensorInfo(h,t[0].dtype,d);return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),p}const Ott={kernelName:V_,backendName:"cpu",kernelFunc:Bw};function MCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dataFormat:l,dilations:u,dimRoundingMode:c}=r;en([s,o],"conv2d");const f=Tp(l),d=To(s.shape,o.shape,i,u,a,c,!1,f),h=d.filterHeight,p=d.filterWidth,g=d.dilationHeight,m=d.dilationWidth,v=d.padInfo.left,y=d.padInfo.top,b=d.dataFormat==="channelsLast",w=new Xs(d.outShape,s.dtype),C=fn(s.shape),S=fn(o.shape),$=C[0],k=b?C[1]:C[2],T=b?C[2]:1,_=b?1:C[1],E=w.strides[0],A=b?w.strides[1]:w.strides[2],I=b?w.strides[2]:1,F=b?1:w.strides[1],R=n.data.get(s.dataId).values,L=n.data.get(o.dataId).values,D=w.values;for(let N=0;N<d.batchSize;++N){const M=N*$,z=N*E;for(let W=0;W<d.outHeight;++W){const j=z+W*A,U=W*d.strideHeight-y;for(let Y=0;Y<h;++Y){const G=U+Y*g;if(G<0||G>=d.inHeight)continue;const ne=Y*S[0],ue=M+G*k;for(let ae=0;ae<d.outWidth;++ae){const X=j+ae*I,J=ae*d.strideWidth-v;for(let q=0;q<p;++q){const P=J+q*m;if(P<0||P>=d.inWidth)continue;const Q=ne+q*S[1],se=ue+P*T;let de=Q;for(let he=0;he<d.inChannels;++he){const ge=R[se+he*_];for(let $e=0;$e<d.outChannels;++$e)D[X+$e*F]+=ge*L[de+$e];de+=d.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,D)}const Rtt={kernelName:W_,backendName:"cpu",kernelFunc:MCe};function Ftt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;en([s,o],"conv2dBackpropFilter");const f=Tp(l),d=To(s.shape,c,i,1,a,u,!1,f),{strideHeight:h,strideWidth:p,filterHeight:g,filterWidth:m}=d,v=d.dataFormat==="channelsLast",y=new Xs(d.filterShape,"float32"),b=d.padInfo.left,w=d.padInfo.top,C=n.data.get(s.dataId).values,S=n.data.get(o.dataId).values,$=new Xs(s.shape,s.dtype,C),k=new Xs(o.shape,o.dtype,S);for(let T=0;T<g;++T){const _=Math.max(0,Math.ceil((w-T)/h)),E=Math.min(d.outHeight,(d.inHeight+w-T)/h);for(let A=0;A<m;++A){const I=Math.max(0,Math.ceil((b-A)/p)),F=Math.min(d.outWidth,(d.inWidth+b-A)/p);for(let R=0;R<d.inChannels;++R)for(let L=0;L<d.outChannels;++L){let D=0;for(let N=0;N<d.batchSize;++N)for(let M=_;M<E;++M){const z=T+M*h-w;for(let W=I;W<F;++W){const j=A+W*p-b;v?D+=$.get(N,z,j,R)*k.get(N,M,W,L):D+=$.get(N,R,z,j)*k.get(N,L,M,W)}}y.set(D,T,A,R,L)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Mtt={kernelName:QM,backendName:"cpu",kernelFunc:Ftt};function Ptt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{inputShape:i,strides:a,pad:l,dataFormat:u,dimRoundingMode:c}=r;en([s,o],"conv2dBackpropInput");const f=fn(o.shape),d=fn(s.shape);let h=Tp(u);const p=To(i,o.shape,a,1,l,c,!1,h),g=new Xs(p.inShape,"float32"),m=g.values,v=n.data.get(s.dataId).values,y=n.data.get(o.dataId).values,[b,w,C]=f,{batchSize:S,filterHeight:$,filterWidth:k,inChannels:T,inHeight:_,inWidth:E,outChannels:A,outHeight:I,outWidth:F,strideHeight:R,strideWidth:L}=p;h=p.dataFormat;const D=$-1-p.padInfo.top,N=k-1-p.padInfo.left,M=h==="channelsLast",z=g.strides[0],W=M?g.strides[1]:g.strides[2],j=M?g.strides[2]:1,U=M?1:g.strides[1],Y=d[0],G=M?d[1]:d[2],ne=M?d[2]:1,ue=M?1:d[1];for(let ae=0;ae<S;++ae)for(let X=0;X<T;++X)for(let J=0;J<_;++J){const q=J-D,P=Math.max(0,Math.ceil(q/R)),Q=Math.min(I,($+q)/R);for(let se=0;se<E;++se){const de=se-N,he=Math.max(0,Math.ceil(de/L)),ge=Math.min(F,(k+de)/L);let $e=0;for(let Ie=P;Ie<Q;++Ie){const Ce=Ie*R-q;for(let Fe=he;Fe<ge;++Fe){const ze=Fe*L-de,Ue=Y*ae+G*Ie+ne*Fe,st=b*($-1-Ce)+w*(k-1-ze)+C*X;for(let ht=0;ht<A;++ht){const ye=v[Ue+ue*ht],Ge=y[st+ht];$e+=ye*Ge}}}const He=z*ae+W*J+j*se+U*X;m[He]=$e}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Ltt={kernelName:U_,backendName:"cpu",kernelFunc:Ptt};function Btt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r;en([s,o],"conv3d");const u=n0(s.shape,o.shape,i,l,a),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:g,padInfo:m}=u,v=m.front,y=m.left,b=m.top,w=new Xs(u.outShape,s.dtype),C=n.data.get(s.dataId).values,S=n.data.get(o.dataId).values,$=w.values,k=fn(s.shape),T=fn(o.shape);for(let _=0;_<u.batchSize;++_){const E=_*k[0],A=_*w.strides[0];for(let I=0;I<u.outDepth;++I){const F=A+I*w.strides[1],R=I*u.strideDepth-v;for(let L=0;L<c;++L){const D=R+L*h;if(D<0||D>=u.inDepth)continue;const N=L*T[0],M=E+D*k[1];for(let z=0;z<u.outHeight;++z){const W=F+z*w.strides[2],j=z*u.strideHeight-b;for(let U=0;U<f;++U){const Y=j+U*p;if(Y<0||Y>=u.inHeight)continue;const G=N+U*T[1],ne=M+Y*k[2];for(let ue=0;ue<u.outWidth;++ue){const ae=W+ue*u.outChannels,X=ue*u.strideWidth-y;for(let J=0;J<d;++J){const q=X+J*g;if(q<0||q>=u.inWidth)continue;const P=G+J*T[2],Q=ne+q*u.inChannels;let se=P;for(let de=0;de<u.inChannels;++de){const he=C[Q+de];for(let ge=0;ge<u.outChannels;++ge)$[ae+ge]+=he*S[se+ge];se+=u.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const ztt={kernelName:j_,backendName:"cpu",kernelFunc:Btt};function Vtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,filterShape:l}=r;en([s,o],"conv3dBackpropFilterV2");const u=fn(s.shape),c=fn(o.shape),f=n0(s.shape,l,i,1,a),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,g=f.filterDepth,m=f.filterHeight,v=f.filterWidth,y=new Xs(f.filterShape,"float32"),b=y.values,[w,C,S,$]=y.strides,k=n.data.get(o.dataId).values,[T,_,E,A]=c,I=n.data.get(s.dataId).values,[F,R,L,D]=u,N=f.padInfo.front,M=f.padInfo.left,z=f.padInfo.top;for(let W=0;W<g;++W){const j=Math.max(0,Math.ceil((N-W)/d)),U=Math.min(f.outDepth,(f.inDepth+N-W)/d),Y=W*w;for(let G=0;G<m;++G){const ne=Math.max(0,Math.ceil((z-G)/h)),ue=Math.min(f.outHeight,(f.inHeight+z-G)/h),ae=G*C+Y;for(let X=0;X<v;++X){const J=Math.max(0,Math.ceil((M-X)/p)),q=Math.min(f.outWidth,(f.inWidth+M-X)/p),P=X*S+ae;for(let Q=0;Q<f.inChannels;++Q){const se=Q*$+P;for(let de=0;de<f.outChannels;++de){let he=0;for(let ge=0;ge<f.batchSize;++ge){const $e=ge*F,He=ge*T;for(let Ie=j;Ie<U;++Ie){const Fe=(W+Ie*d-N)*R+$e,ze=Ie*_+He;for(let Ue=ne;Ue<ue;++Ue){const ht=(G+Ue*h-z)*L+Fe,ye=Ue*E+ze;for(let Ge=J;Ge<q;++Ge){const cn=(X+Ge*p-M)*D+ht,lt=Ge*A+ye;he+=I[cn+Q]*k[lt+de]}}}}b[se+de]=he}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Wtt={kernelName:e4,backendName:"cpu",kernelFunc:Vtt};function Utt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{pad:i,strides:a,inputShape:l}=r;en([s],"conv3dBackpropInputV2");const u=fn(s.shape),c=fn(o.shape),f=n0(l,o.shape,a,1,i),d=new Xs(f.inShape,"float32"),h=d.values,[p,g,m,v]=d.strides,y=n.data.get(s.dataId).values,[b,w,C,S]=u,$=n.data.get(o.dataId).values,[k,T,_,E]=c,{batchSize:A,filterDepth:I,filterHeight:F,filterWidth:R,inChannels:L,inDepth:D,inHeight:N,inWidth:M,outChannels:z,outDepth:W,outHeight:j,outWidth:U,strideDepth:Y,strideHeight:G,strideWidth:ne}=f,ue=I-1-f.padInfo.front,ae=F-1-f.padInfo.top,X=R-1-f.padInfo.left;for(let J=0;J<A;++J)for(let q=0;q<L;++q)for(let P=0;P<D;++P){const Q=P-ue,se=Math.max(0,Math.ceil(Q/Y)),de=Math.min(W,(I+Q)/Y);for(let he=0;he<N;++he){const ge=he-ae,$e=Math.max(0,Math.ceil(ge/G)),He=Math.min(j,(F+ge)/G);for(let Ie=0;Ie<M;++Ie){const Ce=Ie-X,Fe=Math.max(0,Math.ceil(Ce/ne)),ze=Math.min(U,(R+Ce)/ne);let Ue=0;for(let st=se;st<de;++st){const ht=st*Y-Q;for(let ye=$e;ye<He;++ye){const Ge=ye*G-ge;for(let at=Fe;at<ze;++at){const cn=at*ne-Ce,lt=b*J+w*st+C*ye+S*at,Ft=k*(I-1-ht)+T*(F-1-Ge)+_*(R-1-cn)+E*q;for(let Dt=0;Dt<z;++Dt){const Gt=y[lt+Dt],Te=$[Ft+Dt];Ue+=Gt*Te}}}}h[p*J+g*P+m*he+v*Ie+q]=Ue}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const jtt={kernelName:t4,backendName:"cpu",kernelFunc:Utt};const Htt=Rr(a2,e=>Math.cos(e)),qtt={kernelName:a2,backendName:"cpu",kernelFunc:Htt};const Gtt=Rr(l2,e=>Math.cosh(e)),Ktt={kernelName:l2,backendName:"cpu",kernelFunc:Gtt};function Ytt(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:o,boxInd:i}=t,{cropSize:a,method:l,extrapolationValue:u}=r,[c,f,d,h]=s.shape,p=o.shape[0],[g,m]=a,v=Wn([p,g,m,h],"float32"),y=n.data.get(o.dataId).values,b=n.data.get(i.dataId).values,w=n.data.get(s.dataId).values,C=fn(s.shape),S=fn(v.shape);for(let $=0;$<p;$++){const k=$*4,T=y[k],_=y[k+1],E=y[k+2],A=y[k+3],I=b[$];if(I>=c)continue;const F=g>1?(E-T)*(f-1)/(g-1):0,R=m>1?(A-_)*(d-1)/(m-1):0;for(let L=0;L<g;L++){const D=g>1?T*(f-1)+L*F:.5*(T+E)*(f-1);if(D<0||D>f-1){for(let N=0;N<m;N++)for(let M=0;M<h;M++){const z=M+N*S[2]+L*S[1]+$*S[0];v.values[z]=u}continue}if(l==="bilinear"){const N=Math.floor(D),M=Math.ceil(D),z=D-N;for(let W=0;W<m;W++){const j=m>1?_*(d-1)+W*R:.5*(_+A)*(d-1);if(j<0||j>d-1){for(let ne=0;ne<h;ne++){const ue=ne+W*S[2]+L*S[1]+$*S[0];v.values[ue]=u}continue}const U=Math.floor(j),Y=Math.ceil(j),G=j-U;for(let ne=0;ne<h;ne++){let ue=ne+U*C[2]+N*C[1]+I*C[0];const ae=w[ue];ue=ne+Y*C[2]+N*C[1]+I*C[0];const X=w[ue];ue=ne+U*C[2]+M*C[1]+I*C[0];const J=w[ue];ue=ne+Y*C[2]+M*C[1]+I*C[0];const q=w[ue],P=ae+(X-ae)*G,Q=J+(q-J)*G;ue=ne+W*S[2]+L*S[1]+$*S[0],v.values[ue]=P+(Q-P)*z}}}else for(let N=0;N<m;++N){const M=m>1?_*(d-1)+N*R:.5*(_+A)*(d-1);if(M<0||M>d-1){for(let j=0;j<h;j++){const U=j+N*S[2]+L*S[1]+$*S[0];v.values[U]=u}continue}const z=Math.round(M),W=Math.round(D);for(let j=0;j<h;j++){const U=j+z*C[2]+W*C[1]+I*C[0],Y=j+N*S[2]+L*S[1]+$*S[0];v.values[Y]=w[U]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Xtt={kernelName:r4,backendName:"cpu",kernelFunc:Ytt};function Ztt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;en(s,"cumprod");const l=As([o],s.shape.length);let u=s;l!=null&&(u=Fa({inputs:{x:s},backend:n,attrs:{perm:l}}));const c=Hs(1,s.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Oa(u.dtype,"int32"),d=jM(je(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=a?(v,y)=>v+p-y-1:(v,y)=>v+y;for(let v=0;v<h.length;v+=p)for(let y=0;y<p;y++){const b=g(v,y);if(y===0)d[b]=i?1:h[b];else{const w=g(v,y-1);d[b]=i?h[w]*d[w]:h[b]*d[w]}}const m=n.makeTensorInfo(u.shape,f,d);if(l!=null){const v=r0(l),y=Fa({inputs:{x:m},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(u),y}return m}const Jtt={kernelName:n4,backendName:"cpu",kernelFunc:Ztt};function Qtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;en(s,"cumsum");const l=As([o],s.shape.length);let u=s;l!=null&&(u=Fa({inputs:{x:s},backend:n,attrs:{perm:l}}));const c=Hs(1,s.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Oa(u.dtype,"int32"),d=qo(je(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=a?(v,y)=>v+p-y-1:(v,y)=>v+y;for(let v=0;v<h.length;v+=p)for(let y=0;y<p;y++){const b=g(v,y);if(y===0)d[b]=i?0:h[b];else{const w=g(v,y-1);d[b]=i?h[w]+d[w]:h[b]+d[w]}}const m=n.makeTensorInfo(u.shape,f,d);if(l!=null){const v=r0(l),y=Fa({inputs:{x:m},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(u),y}return m}const ent={kernelName:H_,backendName:"cpu",kernelFunc:Qtt};function tnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i,binaryOutput:a}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=kK(l,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(o),c=P2e(l,u,i,a);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const nnt={kernelName:s4,backendName:"cpu",kernelFunc:tnt};function rnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:o,dataFormat:i}=r;te(i==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`);const a=s.shape[0],l=s.shape[1],u=s.shape[2],c=s.shape[3],f=l*o,d=u*o,h=c/(o*o),p=n.data.get(s.dataId).values,g=new Float32Array(a*f*d*h);let m=0;for(let v=0;v<a;++v)for(let y=0;y<f;++y){const b=Math.floor(y/o),w=y%o;for(let C=0;C<d;++C){const S=Math.floor(C/o),$=C%o,k=(w*o+$)*h;for(let T=0;T<h;++T){const E=T+k+c*(S+u*(b+l*v));g[m++]=p[E]}}}return n.makeTensorInfo([a,f,d,h],s.dtype,g)}const snt={kernelName:o4,backendName:"cpu",kernelFunc:rnt};function PCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l,dimRoundingMode:u}=r;en([s,o],"depthwiseConv2DNative");const c=fn(s.shape),f=fn(o.shape);let d=l;d==null&&(d=[1,1]),te(Jo(i,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${d}'`);const h=To(s.shape,o.shape,i,d,a,u,!0),{filterHeight:p,filterWidth:g,dilationHeight:m,dilationWidth:v,padInfo:y}=h,b=y.left,w=y.top,C=h.outChannels/h.inChannels,S=new Xs(h.outShape,s.dtype),$=n.data.get(s.dataId).values,k=n.data.get(o.dataId).values,T=S.values;for(let _=0;_<h.batchSize;++_){const E=_*c[0],A=_*S.strides[0];for(let I=0;I<h.outHeight;++I){const F=A+I*S.strides[1],R=I*h.strideHeight-w;for(let L=0;L<p;++L){const D=R+L*m;if(D<0||D>=h.inHeight)continue;const N=L*f[0],M=E+D*c[1];for(let z=0;z<h.outWidth;++z){const W=F+z*S.strides[2],j=z*h.strideWidth-b;for(let U=0;U<g;++U){const Y=j+U*v;if(Y<0||Y>=h.inWidth)continue;const G=N+U*f[1],ne=M+Y*h.inChannels;let ue=W,ae=G;for(let X=0;X<h.inChannels;++X){const J=$[ne+X];for(let q=0;q<C;++q)T[ue+q]+=J*k[ae+q];ue+=C,ae+=C}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const ont={kernelName:q_,backendName:"cpu",kernelFunc:PCe};function int(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,filterShape:c}=r;en([s,o],"depthwiseConv2dNativeBackpropFilter");const f=To(s.shape,c,i,a,l,u,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:g}=f,m=new Xs(f.filterShape,"float32"),v=f.padInfo.left,y=f.padInfo.top,b=f.outChannels/f.inChannels,w=n.data.get(s.dataId).values,C=new Xs(s.shape,s.dtype,w),S=n.data.get(o.dataId).values,$=new Xs(o.shape,o.dtype,S);for(let k=0;k<p;++k){const T=Math.max(0,Math.ceil((y-k)/d)),_=Math.min(f.outHeight,(f.inHeight+y-k)/d);for(let E=0;E<g;++E){const A=Math.max(0,Math.ceil((v-E)/h)),I=Math.min(f.outWidth,(f.inWidth+v-E)/h);for(let F=0;F<f.outChannels;++F){const R=Math.trunc(F/b),L=F%b;let D=0;for(let N=0;N<f.batchSize;++N)for(let M=T;M<_;++M){const z=k+M*d-y;for(let W=A;W<I;++W){const j=E+W*h-v;D+=C.get(N,z,j,R)*$.get(N,M,W,F)}}m.set(D,k,E,R,L)}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const ant={kernelName:i4,backendName:"cpu",kernelFunc:int};function lnt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,inputShape:c}=r;en([s,o],"depthwiseConv2DNativeBackpropInput");const f=fn(s.shape),d=fn(o.shape),h=To(c,o.shape,i,a,l,u,!0),p=new Xs(h.inShape,"float32"),g=p.values,[m,v,y]=p.strides,b=n.data.get(s.dataId).values,[w,C,S]=f,$=n.data.get(o.dataId).values,[k,T,_]=d,{batchSize:E,filterHeight:A,filterWidth:I,inChannels:F,inHeight:R,inWidth:L,outChannels:D,outHeight:N,outWidth:M,strideHeight:z,strideWidth:W}=h,j=A-1-h.padInfo.top,U=I-1-h.padInfo.left,Y=D/F;for(let G=0;G<E;++G)for(let ne=0;ne<F;++ne)for(let ue=0;ue<R;++ue){const ae=ue-j,X=Math.max(0,Math.ceil(ae/z)),J=Math.min(N,(A+ae)/z);for(let q=0;q<L;++q){const P=q-U,Q=Math.max(0,Math.ceil(P/W)),se=Math.min(M,(I+P)/W);let de=0;for(let he=X;he<J;++he){const ge=he*z-ae;for(let $e=Q;$e<se;++$e){const He=$e*W-P,Ie=w*G+C*he+S*$e,Ce=k*(A-1-ge)+T*(I-1-He)+_*ne;for(let Fe=0;Fe<Y;++Fe){const ze=ne*Y+Fe,Ue=b[Ie+ze],st=$[Ce+Fe];de+=Ue*st}}}g[m*G+v*ue+y*q+ne]=de}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const unt={kernelName:a4,backendName:"cpu",kernelFunc:lnt};function cnt(e){const{inputs:t,backend:n}=e,{x:r}=t,s=je(r.shape),o=n.data.get(r.dataId).values,i=Wn([s,s],r.dtype),a=i.values;for(let u=0;u<o.length;u++)a[u*s+u]=o[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,i.dtype,i.values)}const fnt={kernelName:l4,backendName:"cpu",kernelFunc:cnt};const dnt={kernelName:G_,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s}=e,{strides:o,pad:i,dilations:a}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,f=l.data.get(s.dataId).values,d=s.shape.length,{batchSize:h,inHeight:p,inWidth:g,inChannels:m,outHeight:v,outWidth:y,padInfo:b,strideHeight:w,strideWidth:C,filterHeight:S,filterWidth:$,dilationHeight:k,dilationWidth:T,outShape:_}=MT(r.shape,s.shape,o,i,"NHWC",a),E=je(_),A=_.length,I=Ds(r.dtype,E);for(let R=0;R<h;++R)for(let L=0;L<v;++L){const D=L*w-b.top;for(let N=0;N<y;++N){const M=N*C-b.left;for(let z=0;z<m;++z){let W=Number.MIN_SAFE_INTEGER;for(let U=0;U<S;++U){const Y=D+U*k;if(Y>=0&&Y<p)for(let G=0;G<$;++G){const ne=M+G*T;if(ne>=0&&ne<g){const ue=kc([R,Y,ne,z],c,fn(r.shape)),ae=kc([U,G,z],d,fn(s.shape)),X=u[ue]+f[ae];X>W&&(W=X)}}}const j=kc([R,L,N,z],A,fn(_));I[j]=W}}}return{dataId:l.write(e0(I,r.dtype),_,r.dtype),shape:_,dtype:r.dtype}}};const hnt={kernelName:kO,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:a,dilations:l}=n,u=t,c=Nu(r.shape,u.data.get(r.dataId).values),f=Nu(s.shape,u.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:g,outHeight:m,outWidth:v,padInfo:y,strideHeight:b,strideWidth:w,filterHeight:C,filterWidth:S,dilationHeight:$,dilationWidth:k,outShape:T}=MT(r.shape,s.shape,i,a,"NHWC",l);te(o.rank===T.length,()=>`Error in ${kO}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const _=Nu(T,u.data.get(o.dataId).values),E=Iq(s.shape,s.dtype);for(let I=0;I<d;++I)for(let F=0;F<m;++F){const R=F*b-y.top;for(let L=0;L<v;++L){const D=L*w-y.left;for(let N=0;N<g;++N){let M=Number.MIN_SAFE_INTEGER,z=0,W=0;for(let j=0;j<C;++j){const U=R+j*$;if(U>=0&&U<h)for(let Y=0;Y<S;++Y){const G=D+Y*k;if(G>=0&&G<p){const ne=c[I][U][G][N]+f[j][Y][N];ne>M&&(M=ne,z=j,W=Y)}}}E[z][W][N]+=_[I][F][L][N]}}}return{dataId:u.write(e0(E,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const pnt={kernelName:$O,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:a,dilations:l}=n,u=t,c=Nu(r.shape,u.data.get(r.dataId).values),f=Nu(s.shape,u.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:g,outHeight:m,outWidth:v,padInfo:y,strideHeight:b,strideWidth:w,filterHeight:C,filterWidth:S,dilationHeight:$,dilationWidth:k,outShape:T}=MT(r.shape,s.shape,i,a,"NHWC",l);te(o.rank===T.length,()=>`Error in ${$O}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const _=Nu(T,u.data.get(o.dataId).values),E=Iq(r.shape,r.dtype);for(let I=0;I<d;++I)for(let F=0;F<m;++F){const R=F*b-y.top;for(let L=0;L<v;++L){const D=L*w-y.left;for(let N=0;N<g;++N){let M=Number.MIN_SAFE_INTEGER,z=R<0?0:R,W=D<0?0:D;for(let j=0;j<C;++j){const U=R+j*$;if(U>=0&&U<h)for(let Y=0;Y<S;++Y){const G=D+Y*k;if(G>=0&&G<p){const ne=c[I][U][G][N]+f[j][Y][N];ne>M&&(M=ne,z=U,W=G)}}}E[I][z][W][N]+=_[I][F][L][N]}}}return{dataId:u.write(e0(E,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function gnt(e){const{inputs:t,backend:n,attrs:r}=e,{image:s}=t,{canvas:o,options:i}=r,{contextOptions:a,imageOptions:l}=i||{},u=l?.alpha||1,c=a?.contextType||"2d";if(c!=="2d")throw new Error(`Context type ${a.contextType} is not supported by the CPU backend.`);const f=o.getContext(c,a?.contextAttributes||{});if(f==null)throw new Error(`Could not get the context with ${c} type.`);const[d,h]=s.shape.slice(0,2),p=s.shape.length===2?1:s.shape[2],g=n.data.get(s.dataId).values,m=s.dtype==="float32"?255:1,v=new Uint8ClampedArray(h*d*4);for(let b=0;b<d*h;++b){const w=[0,0,0,255*u];for(let S=0;S<p;S++){const $=g[b*p+S];if(s.dtype==="float32"){if($<0||$>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${$}.`)}else if(s.dtype==="int32"&&($<0||$>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${$}.`);p===1?(w[0]=$*m,w[1]=$*m,w[2]=$*m):w[S]=$*m}const C=b*4;v[C+0]=Math.round(w[0]),v[C+1]=Math.round(w[1]),v[C+2]=Math.round(w[2]),v[C+3]=Math.round(w[3])}o.width=h,o.height=d;const y=new ImageData(v,h,d);return f.putImageData(y,0,0),s}const mnt={kernelName:u4,backendName:"cpu",kernelFunc:gnt};function eA(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;en(s,"sum");let a;s.dtype==="bool"?a=bm({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=dd({inputs:{x:s},backend:n});const l=a.shape.length,u=qn(o,a.shape),c=As(u,l);let f=u,d=a;c!=null&&(d=Fa({inputs:{x:a},backend:n,attrs:{perm:c}}),f=Hs(f.length,l)),Qo("sum",f,d.shape.length);const[h,p]=Ao(d.shape,f),g=Oa(d.dtype,"int32");let m=BO(n,h,g);const v=je(p),y=n.data.get(m.dataId).values,b=n.data.get(d.dataId).values;for(let w=0;w<y.length;++w){const C=w*v;let S=0;for(let $=0;$<v;++$)S+=b[C+$];y[w]=S}if(i){const w=Us(m.shape,u),C=m;m=rs({inputs:{x:m},backend:n,attrs:{shape:w}}),n.disposeIntermediateTensorInfo(C)}return n.disposeIntermediateTensorInfo(a),c!=null&&n.disposeIntermediateTensorInfo(d),m}const vnt={kernelName:ET,backendName:"cpu",kernelFunc:eA};function ynt(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,o=t,{allDims:i,summedDims:a,idDims:l}=GG(s,o.length);YG(i.length,l,o);const{path:u,steps:c}=XG(a,l),f=c.length;let d=null,h=i.length;const p=[];for(let g=0;g<f;++g){for(const m of c[g]){const{permutationIndices:v,expandDims:y}=KG(h,l[m]);let b;ZG(v)?b=o[m]:(b=Fa({inputs:{x:o[m]},backend:n,attrs:{perm:v}}),p.push(b));const w=b.shape.slice();for(let C=0;C<y.length;++C)w.splice(y[C],0,1);ir(b.shape,w)||(b=rs({inputs:{x:b},backend:n,attrs:{shape:w}}),p.push(b)),d===null?d=b:(d=jP({inputs:{a:b,b:d},backend:n}),p.push(d))}g<f-1&&(u[g]>=0&&(d=eA({inputs:{x:d},backend:n,attrs:{axis:u[g]-(i.length-h),keepDims:!1}}),p.push(d)),h--)}for(const g of p)g!==d&&n.disposeIntermediateTensorInfo(g);return d}const bnt={kernelName:c4,backendName:"cpu",kernelFunc:ynt};function wnt(e){const{inputs:t,backend:n}=e,{dy:r,y:s}=t;en([r,s],"eluGrad");const o=new Float32Array(je(s.shape)),i=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values;for(let l=0;l<i.length;++l){const u=i[l];u>=0?o[l]=a[l]:o[l]=a[l]*(u+1)}return n.makeTensorInfo(s.shape,"float32",o)}const xnt={kernelName:f4,backendName:"cpu",kernelFunc:wnt};const Cnt=zG,Snt=VG,$nt=WG,knt=UG,Ent=jG,_nt=HG,Tnt=Rr(f2,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+Cnt*n);return t*(1-((((_nt*r+Ent)*r+knt)*r+$nt)*r+Snt)*r*Math.exp(-n*n))}),Ant={kernelName:f2,backendName:"cpu",kernelFunc:Tnt};function WO(e){const{inputs:t,backend:n,attrs:r}=e,{input:s}=t,{dim:o}=r,i=s.shape.length,a=s.shape.slice();let l=o;return o<0&&(te(-(i+1)<=o,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),l=i+o+1),a.splice(l,0,1),rs({inputs:{x:s},backend:n,attrs:{shape:a}})}const Int={kernelName:Y_,backendName:"cpu",kernelFunc:WO};const Nnt=Gs((e,t)=>e/t),NK=co(u2,Nnt),qV={kernelName:u2,backendName:"cpu",kernelFunc:NK};function LCe(e,t,n){const r=e.shape,s=r[0],o=r[1],i=n.data.get(e.dataId),a=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[s,o],c=je(u),f=Eo("float32",c),d=Eo("float32",c);for(let m=0;m<s;m++){const v=k1({inputs:{x:a},backend:n,attrs:{begin:[m,0],size:[1,o]}}),y=k1({inputs:{x:l},backend:n,attrs:{begin:[m,0],size:[1,o]}}),b=tl({inputs:{real:v,imag:y},backend:n}),{real:w,imag:C}=Dnt(b,t,n),S=op(w,C);for(let $=0;$<o;$++){const k=qG(S,$);f[m*o+$]=k.real,d[m*o+$]=k.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(u,"float32",f),p=n.makeTensorInfo(u,"float32",d),g=tl({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),g}function Dnt(e,t,n){const r=je(e.shape),s=n.data.get(e.dataId),o=n.data.get(s.complexTensorInfos.real.dataId).values,i=n.data.get(s.complexTensorInfos.imag.dataId).values;if(Ont(r)){const a=GV(o,i,r,t,n),l=[e.shape[0],e.shape[1]];if(t){const u=n.makeTensorInfo(l,"float32",a.real),c=n.makeTensorInfo(l,"float32",a.imag),f=n.makeTensorInfo([],"float32",Ep(r,"float32")),d=dd({inputs:{x:f},backend:n}),h=qV.kernelFunc({inputs:{a:u,b:f},backend:n}),p=qV.kernelFunc({inputs:{a:c,b:d},backend:n}),g=n.data.get(h.dataId).values,m=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:g,imag:m}}return a}else{const a=op(o,i),l=Rnt(a,r,t);return Zbe(l)}}function Ont(e){return(e&e-1)===0}function GV(e,t,n,r,s){if(n===1)return{real:e,imag:t};const o=op(e,t),i=n/2,a=Jbe(o),l=a.real,u=a.imag,c=[l.length],f=s.makeTensorInfo(c,"float32",l),d=s.makeTensorInfo(c,"float32",u),h=tl({inputs:{real:f,imag:d},backend:s}),p=Qbe(o),g=p.real,m=p.imag,v=[g.length],y=s.makeTensorInfo(v,"float32",g),b=s.makeTensorInfo(v,"float32",m),w=tl({inputs:{real:y,imag:b},backend:s}),C=GV(l,u,i,r,s),S=C.real,$=C.imag,k=[S.length],T=s.makeTensorInfo(k,"float32",S),_=s.makeTensorInfo(k,"float32",$),E=tl({inputs:{real:T,imag:_},backend:s}),A=GV(g,m,i,r,s),I=A.real,F=A.imag,R=[I.length],L=s.makeTensorInfo(R,"float32",I),D=s.makeTensorInfo(R,"float32",F),N=tl({inputs:{real:L,imag:D},backend:s}),M=twe(n,r),z=[M.real.length],W=s.makeTensorInfo(z,"float32",M.real),j=s.makeTensorInfo(z,"float32",M.imag),U=tl({inputs:{real:W,imag:j},backend:s}),Y=jP({inputs:{a:U,b:N},backend:s}),G=Pw({inputs:{a:E,b:Y},backend:s}),ne=AK({inputs:{a:E,b:Y},backend:s}),ue=$1({inputs:{input:G},backend:s}),ae=$1({inputs:{input:ne},backend:s}),X=Lw({inputs:{input:G},backend:s}),J=Lw({inputs:{input:ne},backend:s}),q=Bw({inputs:[ue,ae],backend:s,attrs:{axis:0}}),P=Bw({inputs:[X,J],backend:s,attrs:{axis:0}}),Q=s.data.get(q.dataId).values,se=s.data.get(P.dataId).values;return s.disposeIntermediateTensorInfo(f),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(w),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(_),s.disposeIntermediateTensorInfo(E),s.disposeIntermediateTensorInfo(L),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(N),s.disposeIntermediateTensorInfo(W),s.disposeIntermediateTensorInfo(j),s.disposeIntermediateTensorInfo(U),s.disposeIntermediateTensorInfo(Y),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(ne),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(ae),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(P),{real:Q,imag:se}}function Rnt(e,t,n){const r=new Float32Array(t*2);for(let s=0;s<t;s++){let o=0,i=0;for(let a=0;a<t;a++){const l=nwe(s*a,t,n),u=qG(e,a);o+=u.real*l.real-u.imag*l.imag,i+=u.real*l.imag+u.imag*l.real}n&&(o/=t,i/=t),ewe(r,o,i,s)}return r}function Fnt(e){const{inputs:t,backend:n}=e,{input:r}=t,s=je(r.shape),o=r.shape[r.shape.length-1],i=s/o,a=rs({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),l=LCe(a,!1,n),u=rs({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const Mnt={kernelName:d4,backendName:"cpu",kernelFunc:Fnt};function DK(e){const{backend:t,attrs:n}=e,{shape:r,value:s,dtype:o}=n,i=o||oy(s),a=Ds(i,je(r));return Lnt(a,s,i),t.makeTensorInfo(r,i,a)}const Pnt={kernelName:h4,backendName:"cpu",kernelFunc:DK};function Lnt(e,t,n){e.fill(t)}const Bnt={kernelName:p4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,s=n,o=Eo(r.dtype,je(r.shape)),[i,a,l,u]=r.shape,c=s.data.get(r.dataId).values;for(let d=0;d<i;d++){const h=d*l*a*u;for(let p=0;p<a;p++){const g=p*(l*u);for(let m=0;m<l;m++){const v=m*u;for(let y=0;y<u;y++){const b=Math.round(l-m-1),w=h+g+v+y;let C=c[w];if(b>=0&&b<l){const S=b*u,$=h+g+S+y;C=c[$]}o[w]=C}}}}return{dataId:s.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function znt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let g=MCe({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(i){const m=g;if(c==="NCHW"&&i.shape.length===1&&i.shape[0]!==1){const v=rs({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});g=Pw({inputs:{a:g,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else g=Pw({inputs:{a:g,b:i},backend:n});n.disposeIntermediateTensorInfo(m)}if(h){const m=g;if(c==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const v=rs({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});g=VO(n,g,h,v,p),n.disposeIntermediateTensorInfo(v)}else g=VO(n,g,h,a,p);n.disposeIntermediateTensorInfo(m)}return g}const Vnt={kernelName:Tk,backendName:"cpu",kernelFunc:znt};function Wnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let g=PCe({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(i){const m=g;g=Pw({inputs:{a:g,b:i},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){const m=g;g=VO(n,g,h,a,p),n.disposeIntermediateTensorInfo(m)}return g}const Unt={kernelName:Ak,backendName:"cpu",kernelFunc:Wnt};function jnt(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,o=je(r.shape),i=s.shape,a=i[i.length-1],[l,u,c,f]=TP(r,s);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(s.dataId).values,h=n.bufferSync(r),p=K2e(d,h,r.dtype,u,a,c,f,r.shape,o);return n.makeTensorInfo(l,r.dtype,p.values)}const Hnt={kernelName:g4,backendName:"cpu",kernelFunc:jnt};function qnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:o}=t,{axis:i,batchDims:a}=r;en([s,o],"gatherV2");const l=qn(i,s.shape)[0],u=n.data.get(o.dataId).values,c=s.shape[l];for(let w=0;w<u.length;++w){const C=u[w];te(C<=c-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${c-1}]`)}let f=a;a==null&&(f=0);const d=je(o.shape),h=QG(s,o,l,f),p=rs({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),g=rs({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),m=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],v=n.bufferSync(g),y=n.bufferSync(p),b=Y2e(y,v,m);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const Gnt={kernelName:Z_,backendName:"cpu",kernelFunc:qnt};function Knt(e){const{inputs:t,backend:n}=e,{input:r}=t,s=je(r.shape),o=r.shape[r.shape.length-1],i=s/o,a=rs({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),l=LCe(a,!0,n),u=rs({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const Ynt={kernelName:m4,backendName:"cpu",kernelFunc:Knt};const Xnt=Rr(y2,e=>Number.isFinite(e)?1:0,"bool"),Znt={kernelName:y2,backendName:"cpu",kernelFunc:Xnt};const Jnt=Rr(b2,e=>Math.abs(e)===1/0?1:0,"bool"),Qnt={kernelName:b2,backendName:"cpu",kernelFunc:Jnt};const ert=Rr(w2,e=>Number.isNaN(e)?1:0,"bool"),trt={kernelName:w2,backendName:"cpu",kernelFunc:ert};function nrt(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:o}=n,i=eCe(r,s,o);return t.makeTensorInfo([i.length],"float32",i)}const rrt={kernelName:y4,backendName:"cpu",kernelFunc:nrt};const srt=Rr(C2,e=>Math.log1p(e)),ort={kernelName:C2,backendName:"cpu",kernelFunc:srt};const irt=Gs((e,t)=>e&&t),art=co(nT,irt,null,"bool"),lrt={kernelName:nT,backendName:"cpu",kernelFunc:art};const urt=Rr(rT,e=>e?0:1,"bool"),crt={kernelName:rT,backendName:"cpu",kernelFunc:urt};const frt=Gs((e,t)=>e||t),drt=co(sT,frt,null,"bool"),hrt={kernelName:sT,backendName:"cpu",kernelFunc:drt};function prt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:o,bias:i,alpha:a,beta:l}=r;en(s,"LRN");const u=s.shape[3],c=u-1,f=n.data.get(s.dataId).values,d=je(s.shape),h=new Float32Array(d);function p(g){const m=g%u;let v=g-m+Math.max(0,m-o);const y=g-m+Math.min(m+o,c);let b=0;for(;v<=y;v++){const w=f[v];b+=w*w}return b}for(let g=0;g<d;g++){const m=p(g),v=f[g]*Math.pow(i+a*m,-l);h[g]=v}return n.makeTensorInfo(s.shape,s.dtype,h)}const grt={kernelName:oT,backendName:"cpu",kernelFunc:prt};function mrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,y:o,dy:i}=t,{depthRadius:a,bias:l,alpha:u,beta:c}=r;en(i,"LRNGrad");const f=je(i.shape),d=i.shape[3],h=n.data.get(i.dataId).values,p=n.data.get(s.dataId).values,g=n.data.get(o.dataId).values,m=new Float32Array(f),v=f;for(let y=0;y<v;y++){const b=y%d,w=y-b+Math.max(0,b-a),C=y-b+Math.min(d,b+a+1);let S=0;for(let $=w;$<C;$++)S+=Math.pow(p[$],2);S=u*S+l;for(let $=w;$<C;$++){let k=-2*u*c*p[$]*g[y]/S;y===$&&(k+=Math.pow(S,-c)),k*=h[y],m[$]+=k}}return n.makeTensorInfo(i.shape,s.dtype,m)}const vrt={kernelName:b4,backendName:"cpu",kernelFunc:mrt};function BCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:o,keepDims:i}=r,a=n;let l=s.shape;const u=l.length,c=qn(o,l);let f=c;const d=As(f,u);let h=a.data.get(s.dataId).values;if(d!=null){const w=new Array(u);for(let C=0;C<w.length;C++)w[C]=l[d[C]];h=_K(h,l,s.dtype,d,w),f=Hs(f.length,u),l=w}en(s,"max"),Qo("max",f,u);const[p,g]=Ao(l,f),m=je(g),v=nCe(h,m,p,s.dtype),y=a.write(v,p,s.dtype);let b=p;return i&&(b=Us(p,c)),{dataId:y,shape:b,dtype:s.dtype}}const yrt={kernelName:iT,backendName:"cpu",kernelFunc:BCe};function brt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;en(s,"maxPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Yu(s.shape,o,i,u,a,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))f=dd({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=fn(s.shape),p=IK(d,s.shape,s.dtype,h,c,"max");f=n.makeTensorInfo(c.outShape,s.dtype,p.values)}return f}const wrt={kernelName:aT,backendName:"cpu",kernelFunc:brt};function xrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r;en(s,"maxPool3d");const c=_p(s.shape,o,i,1,a,l,u),f=n.data.get(s.dataId).values,d=FCe(f,s.shape,s.dtype,fn(s.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const Crt={kernelName:lT,backendName:"cpu",kernelFunc:xrt};function Srt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,{filterSize:i,strides:a,pad:l,dimRoundingMode:u}=r;en([s,o],"maxPool3DGrad");const c=_p(o.shape,i,a,1,l,u),f=n.bufferSync(o),d=ftt(f,c),h=c.strideDepth,p=c.strideHeight,g=c.strideWidth,m=c.dilationDepth,v=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,w=c.effectiveFilterHeight,C=c.effectiveFilterWidth,S=b-1-c.padInfo.front,$=C-1-c.padInfo.left,k=w-1-c.padInfo.top,T=Wn(o.shape,"float32"),_=n.bufferSync(s);for(let E=0;E<c.batchSize;++E)for(let A=0;A<c.inChannels;++A)for(let I=0;I<c.inDepth;++I)for(let F=0;F<c.inHeight;++F)for(let R=0;R<c.inWidth;++R){const L=I-S,D=F-k,N=R-$;let M=0;for(let z=0;z<b;z+=m){const W=(L+z)/h;if(!(W<0||W>=c.outDepth||Math.floor(W)!==W))for(let j=0;j<w;j+=v){const U=(D+j)/p;if(!(U<0||U>=c.outHeight||Math.floor(U)!==U))for(let Y=0;Y<C;Y+=y){const G=(N+Y)/g;if(G<0||G>=c.outWidth||Math.floor(G)!==G)continue;const ne=b*w*C-1-d.get(E,W,U,G,A),ue=z*w*C+j*C+Y,ae=ne===ue?1:0;if(ae===0)continue;const X=_.get(E,W,U,G,A);M+=X*ae}}}T.set(M,E,I,F,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const $rt={kernelName:x4,backendName:"cpu",kernelFunc:Srt};function krt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o,output:i}=t,a=o;en([o,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Yu(a.shape,l,u,1,c,f),h=n.data.get(a.dataId).values,p=Wn(d.outShape,a.dtype,RCe(h,a.shape,a.dtype,d).values),g=d.strideHeight,m=d.strideWidth,v=d.dilationHeight,y=d.dilationWidth,b=d.effectiveFilterHeight,w=d.effectiveFilterWidth,C=w-1-d.padInfo.left,S=b-1-d.padInfo.top,$=Wn(a.shape,"float32"),k=n.data.get(s.dataId).values,T=Wn(s.shape,"float32",k);for(let _=0;_<d.batchSize;++_)for(let E=0;E<d.inChannels;++E)for(let A=0;A<d.inHeight;++A)for(let I=0;I<d.inWidth;++I){const F=A-S,R=I-C;let L=0;for(let D=0;D<b;D+=v){const N=(F+D)/g;if(!(N<0||N>=d.outHeight||Math.floor(N)!==N))for(let M=0;M<w;M+=y){const z=(R+M)/m;if(z<0||z>=d.outWidth||Math.floor(z)!==z)continue;const W=b*w-1-p.get(_,N,z,E),j=D*w+M,U=W===j?1:0;if(U===0)continue;const Y=T.get(_,N,z,E);L+=Y*U}}$.set(L,_,A,I,E)}return n.makeTensorInfo($.shape,$.dtype,$.values)}const Ert={kernelName:w4,backendName:"cpu",kernelFunc:krt};function _rt(e,t,n,r,s){const o=fn(t),i=IK(e,t,n,o,s,"max"),a=RCe(e,t,n,s,!0,r);return[i.values,a.values]}const Trt={kernelName:C4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:s,strides:o,pad:i,includeBatchInIndex:a}=t,l=n;en(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=Yu(r.shape,s,o,[1,1],i),[f,d]=_rt(u,r.shape,r.dtype,a,c),h=l.write(f,c.outShape,r.dtype),p=l.write(d,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};function Art(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=qn(o,s.shape),u=Ao(s.shape,a)[1],c=je(u),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([c]));f.push(d);const h=bm({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});f.push(h);const p=NK({inputs:{a:h,b:d},backend:n});f.push(p);const g=eA({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:i}});return f.forEach(m=>n.disposeIntermediateTensorInfo(m)),g}const Irt={kernelName:uT,backendName:"cpu",kernelFunc:Art};function Nrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;en(s,"min");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Fa({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("min",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let b=g[y];for(let w=0;w<h;++w){const C=g[y+w];(Number.isNaN(C)||C<b)&&(b=C)}p[v]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Drt={kernelName:cT,backendName:"cpu",kernelFunc:Nrt};function Ort(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,mode:i}=r;en(s,"mirrorPad");const a=o.map((b,w)=>b[0]+s.shape[w]+b[1]),l=o.map(b=>b[0]),u=o.map((b,w)=>b[0]+s.shape[w]),c=i==="reflect"?0:1,f=n.data.get(s.dataId).values,d=s.shape.length,h=fn(s.shape),p=je(a),g=a.length,m=fn(a),v=Eo(s.dtype,p);for(let b=0;b<p;b++){let w=iy(b,g,m);for(let S=0;S<g;S++)w[S]<l[S]?w[S]=l[S]*2-w[S]-c:w[S]>=u[S]&&(w[S]=(u[S]-1)*2-w[S]+c);w=w.map((S,$)=>S-l[$]);const C=kc(w,d,h);v[b]=f[C]}return{dataId:n.write(v,a,s.dtype),shape:a,dtype:s.dtype}}const Rrt={kernelName:fT,backendName:"cpu",kernelFunc:Ort};const Frt=Gs(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Mrt=co(k2,Frt),Prt={kernelName:k2,backendName:"cpu",kernelFunc:Mrt};function zCe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:o}=r,i=s.shape.length;let a=o;if(a===-1&&(a=i-1),a!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${a}`);const l=qn([a],s.shape),u=BCe({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Us(u.shape,l),f=rs({inputs:{x:u},backend:n,attrs:{shape:c}}),d=AK({inputs:{a:s,b:f},backend:n}),h=j2e({inputs:{x:d},backend:n}),p=eA({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),g=rs({inputs:{x:p},backend:n,attrs:{shape:c}}),m=NK({inputs:{a:h,b:g},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),m}const Lrt={kernelName:AT,backendName:"cpu",kernelFunc:zCe};function Brt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:o,seed:i,normalized:a}=r;en(s,"multinomial");const l=a?s:zCe({inputs:{logits:s},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,o],h=qo(je(d),"int32");for(let p=0;p<u;++p){const g=p*c,m=new Float32Array(c-1);m[0]=f[g];for(let b=1;b<m.length;++b)m[b]=m[b-1]+f[g+b];const v=dP.alea(i.toString()),y=p*o;for(let b=0;b<o;++b){const w=v();h[y+b]=m.length;for(let C=0;C<m.length;C++)if(w<m[C]){h[y+b]=C;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const zrt={kernelName:S4,backendName:"cpu",kernelFunc:Brt};const Vrt=$P;function Wrt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l}=r;en(s,"NonMaxSuppression");const u=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:f}=Vrt(u,c,i,a,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Urt={kernelName:$4,backendName:"cpu",kernelFunc:Wrt};const jrt=kP;function Hrt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:u}=r;en(s,"NonMaxSuppressionPadded");const c=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,{selectedIndices:d,validOutputs:h}=jrt(c,f,i,a,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const qrt={kernelName:k4,backendName:"cpu",kernelFunc:Hrt};const Grt=EP;function Krt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,softNmsSigma:u}=r;en(s,"NonMaxSuppressionWithScore");const c=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,d=i,h=a,p=l,g=u,{selectedIndices:m,selectedScores:v}=Grt(c,f,d,h,p,g);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Yrt={kernelName:E4,backendName:"cpu",kernelFunc:Krt};function Xrt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:o,depth:i,onValue:a,offValue:l}=r;en(s,"oneHot");const u=je(s.shape),c=new Float32Array(u*i);c.fill(l);const f=n.data.get(s.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<i&&(c[d*i+f[d]]=a);return n.makeTensorInfo([...s.shape,i],o,c)}const Zrt={kernelName:gT,backendName:"cpu",kernelFunc:Xrt};function UO(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=$1({inputs:{input:r},backend:n}),o=UO({inputs:{x:s},backend:n}),i=Lw({inputs:{input:r},backend:n}),a=UO({inputs:{x:i},backend:n}),l=tl({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return DK({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Jrt={kernelName:OT,backendName:"cpu",kernelFunc:UO};function VCe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=$1({inputs:{input:r},backend:n}),o=VCe({inputs:{x:s},backend:n}),i=Lw({inputs:{input:r},backend:n}),a=UO({inputs:{x:i},backend:n}),l=tl({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return DK({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Qrt={kernelName:pT,backendName:"cpu",kernelFunc:VCe};function WCe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(t.length===1)return WO({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const o=t[0].shape,i=t[0].dtype;t.forEach(c=>{Zo(o,c.shape,"All tensors passed to stack must have matching shapes"),te(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=t.map(c=>{const f=WO({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(f),f}),u=Bw({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const est={kernelName:mT,backendName:"cpu",kernelFunc:WCe};function tst(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,constantValue:i}=r;en(s,"pad");const a=o.map((y,b)=>y[0]+s.shape[b]+y[1]),l=o.map(y=>y[0]),u=n.data.get(s.dataId).values,c=je(s.shape),f=s.shape.length,d=fn(s.shape),h=je(a),p=a.length,g=fn(a),m=Eo(s.dtype,h);i!==0&&m.fill(i);for(let y=0;y<c;y++){const w=iy(y,f,d).map((S,$)=>S+l[$]),C=kc(w,p,g);m[C]=u[y]}return{dataId:n.write(m,a,s.dtype),shape:a,dtype:s.dtype}}const UCe={kernelName:vT,backendName:"cpu",kernelFunc:tst};const nst=Gs((e,t)=>Math.pow(e,t)),rst=co(_2,nst),sst={kernelName:_2,backendName:"cpu",kernelFunc:rst};function ost(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:a}=r,l=s.map(v=>n.data.get(v.dataId).values),u=s.map(v=>v.shape),c=n.data.get(o.dataId).values,f=n.data.get(i.dataId).values,[d,h,p]=lCe(l,u,c,o.shape,o.dtype,f,i.shape),g=d.map(v=>n.makeTensorInfo([v.length],"int32",v)),m=n.makeTensorInfo(p,o.dtype,h);return g.concat([m])}const ist={kernelName:_4,backendName:"cpu",kernelFunc:ost};function ast(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=uCe(i,r.shape,r.dtype,a,s.shape,l,o.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const lst={kernelName:T4,backendName:"cpu",kernelFunc:ast};function ust(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:o,defaultValue:i,rowPartitionTensors:a}=t,{rowPartitionTypes:l}=r,u=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,f=n.data.get(i.dataId).values,d=a.map(m=>n.data.get(m.dataId).values),h=a.map(m=>m.shape),[p,g]=cCe(u,s.shape,c,o.shape,o.dtype,f,i.shape,d,h,l);return n.makeTensorInfo(p,o.dtype,g)}const cst={kernelName:A4,backendName:"cpu",kernelFunc:ust};function fst(e){const{backend:t,attrs:n}=e,{start:r,stop:s,dtype:o,step:i}=n,a=fCe(r,s,i,o);return t.makeTensorInfo([a.length],o,a)}const dst={kernelName:I4,backendName:"cpu",kernelFunc:fst};const hst=Rr(T2,e=>1/e),pst={kernelName:T2,backendName:"cpu",kernelFunc:hst};function gst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r;en(s,"resizeBilinear");const l=fn(s.shape),[u,c]=a,[f,d,h,p]=s.shape,g=n.data.get(s.dataId).values,m=new Float32Array(je([f,u,c,p])),v=[o&&u>1?d-1:d,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c];let b=0;const w=v[0]/y[0],C=v[1]/y[1];for(let S=0;S<f;S++)for(let $=0;$<u;$++){let k;i?k=w*($+.5)-.5:k=w*$;const T=Math.max(0,Math.floor(k)),_=k-T,E=Math.min(d-1,Math.ceil(k)),A=S*l[0]+T*l[1],I=S*l[0]+E*l[1];for(let F=0;F<c;F++){let R;i?R=C*(F+.5)-.5:R=C*F;const L=Math.max(0,Math.floor(R)),D=R-L,N=Math.min(h-1,Math.ceil(R)),M=A+L*l[2],z=I+L*l[2],W=A+N*l[2],j=I+N*l[2];for(let U=0;U<p;U++){const Y=g[M+U],G=g[z+U],ne=g[W+U],ue=g[j+U],ae=Y+(ne-Y)*D,X=G+(ue-G)*D,J=ae+(X-ae)*_;m[b++]=J}}}return n.makeTensorInfo([f,u,c,p],"float32",m)}const mst={kernelName:CT,backendName:"cpu",kernelFunc:gst};function vst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r;en([o,s],"resizeBilinearGrad");const a=fn(s.shape),[l,u,c,f]=s.shape,[,d,h]=o.shape,p=new Float32Array(l*u*c*f),g=[i&&d>1?u-1:u,i&&h>1?c-1:c],m=[i&&d>1?d-1:d,i&&h>1?h-1:h],v=g[0]/m[0],y=g[1]/m[1],b=n.data.get(o.dataId).values;let w=0;for(let C=0;C<l;C++){const S=C*a[0];for(let $=0;$<d;$++){const k=$*v,T=Math.floor(k),_=Math.min(Math.ceil(k),u-1),E=S+T*a[1],A=S+_*a[1],I=k-T,F=1-I;for(let R=0;R<h;R++){const L=R*y,D=Math.floor(L),N=Math.min(Math.ceil(L),c-1),M=L-D,z=1-M,W=E+D*a[2],j=E+N*a[2],U=A+D*a[2],Y=A+N*a[2],G=F*z,ne=F*M,ue=I*z,ae=I*M;for(let X=0;X<f;X++){const J=b[w++];p[W+X]+=J*G,p[j+X]+=J*ne,p[U+X]+=J*ue,p[Y+X]+=J*ae}}}}return n.makeTensorInfo([l,c,u,f],"float32",p)}const yst={kernelName:O4,backendName:"cpu",kernelFunc:vst};function bst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r;en(s,"resizeNearestNeighbor");const l=fn(s.shape),[u,c]=a,[f,d,h,p]=s.shape,g=n.data.get(s.dataId).values,m=new Float32Array(f*u*c*p),v=[o&&u>1?d-1:d,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c],b=v[0]/y[0],w=v[1]/y[1];let C=0;for(let S=0;S<f;S++){const $=S*l[0];for(let k=0;k<u;k++){const T=i?b*(k+.5):b*k;let _=Math.min(d-1,o?Math.round(T):Math.floor(T));i&&(_=Math.max(0,_));const E=$+_*l[1];for(let A=0;A<c;A++){const I=i?w*(A+.5):w*A;let F=Math.min(h-1,o?Math.round(I):Math.floor(I));i&&(F=Math.max(0,F));const R=E+F*l[2];for(let L=0;L<p;L++){const D=g[R+L];m[C++]=D}}}}return n.makeTensorInfo([f,u,c,p],s.dtype,m)}const wst={kernelName:xT,backendName:"cpu",kernelFunc:bst};function xst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r;en([o,s],"resizeNearestNeighborGrad");const a=fn(s.shape),l=fn(o.shape),[u,c,f,d]=s.shape,[,h,p]=o.shape,g=new Float32Array(u*c*f*d),m=n.data.get(o.dataId).values,v=[i&&h>1?c-1:c,i&&p>1?f-1:f],y=[i&&h>1?h-1:h,i&&p>1?p-1:p],b=v[0]/y[0],w=v[1]/y[1],C=1/b,S=1/w,$=Math.ceil(C)*2+2,k=Math.ceil(S)*2+2;for(let T=0;T<u;T++){const _=T*a[0];for(let E=0;E<c;E++){const A=_+E*a[1],I=Math.floor(E*C),F=Math.floor(I-$/2);for(let R=0;R<f;R++){const L=A+R*a[2],D=Math.floor(R*S),N=Math.floor(D-k/2);for(let M=0;M<d;M++){let z=0;for(let W=0;W<$;W++){const j=W+F;if(j<0||j>=h)continue;const U=_+j*l[1],Y=j*b,G=Math.min(c-1,i?Math.round(Y):Math.floor(Y));if(E===G)for(let ne=0;ne<k;ne++){const ue=ne+N;if(ue<0||ue>=p)continue;const ae=U+ue*l[2],X=ue*w,J=Math.min(f-1,i?Math.round(X):Math.floor(X));R===J&&(z+=m[ae+M])}}g[L+M]=z}}}}return n.makeTensorInfo(s.shape,s.dtype,g)}const Cst={kernelName:D4,backendName:"cpu",kernelFunc:xst};function Sst(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:o}=r;en(s,"reverse");const i=s.shape.length,a=qn(o,s.shape);if(i===0)return dd({inputs:{x:s},backend:n});const l=new Xs(s.shape,s.dtype),u=n.bufferSync(s);for(let c=0;c<l.size;c++){const f=l.indexToLoc(c),d=f.slice();a.forEach(h=>d[h]=s.shape[h]-1-d[h]),l.set(u.get(...d),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const $st={kernelName:ST,backendName:"cpu",kernelFunc:Sst};const kst={kernelName:X4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:s,fillValue:o,center:i}=t,a=n,l=Eo(r.dtype,je(r.shape)),[u,c,f,d]=r.shape,[h,p]=PG(i,c,f),g=255,m=Math.sin(s),v=Math.cos(s),y=a.data.get(r.dataId).values;for(let w=0;w<u;w++){const C=w*f*c*d;for(let S=0;S<c;S++){const $=S*(f*d);for(let k=0;k<f;k++){const T=k*d;for(let _=0;_<d;_++){const E=[u,S,k,_],A=E[2],I=E[1];let F=(A-h)*v-(I-p)*m,R=(A-h)*m+(I-p)*v;F=Math.round(F+h),R=Math.round(R+p);let L=o;if(typeof o!="number"&&(_===3?L=g:L=o[_]),F>=0&&F<f&&R>=0&&R<c){const N=R*(f*d),M=F*d,z=C+N+M+_;L=y[z]}const D=C+$+T+_;l[D]=L}}}}return{dataId:a.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const Est=Rr(N2,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),_st={kernelName:N2,backendName:"cpu",kernelFunc:Est};function Tst(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:o}=t,{shape:i}=r,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(o,s,i),d=!0,h=n.bufferSync(s),p=n.bufferSync(o),g=Ev(h,p,i,f,u,l,a,c,0,d);return n.makeTensorInfo(i,g.dtype,g.values)}const Ast={kernelName:R4,backendName:"cpu",kernelFunc:Tst};function Ist(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<t?n=s+1:r=s;return r}function Nst(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<=t?n=s+1:r=s;return r}function Dst(e,t,n,r,s,o){const i=Ds("int32",n*s);for(let a=0;a<n;++a){const l=e.slice(a*r,(a+1)*r),u=a*s;for(let c=0;c<s;++c)i[u+c]=o==="left"?Ist(l,t[c+u]):Nst(l,t[c+u])}return i}function Ost(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:o}=t,{side:i}=r,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,u=Dst(a,l,s.shape[0],s.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",u)}const Rst={kernelName:M4,backendName:"cpu",kernelFunc:Ost};function Fst(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:o}=t;en([r,s,o],"select");const i=r.shape.length,a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=Oa(s.dtype,o.dtype),f=qo(je(s.shape),c);let d=0;const h=i===0||i>1||s.shape.length===1?1:je(s.shape.slice(1));for(let p=0;p<a.length;p++)for(let g=0;g<h;g++)a[p]===1?f[d++]=l[p]:f[d++]=u[p];return n.makeTensorInfo(s.shape,c,f)}const Mst={kernelName:$T,backendName:"cpu",kernelFunc:Fst};const Pst=NP,Lst=DP,Bst=Rr(O2,e=>e>=0?Lst*e:Pst*(Math.exp(e)-1)),zst={kernelName:O2,backendName:"cpu",kernelFunc:Bst};const Vst=Rr(M2,e=>e<0?-1:e>0?1:0),Wst={kernelName:M2,backendName:"cpu",kernelFunc:Vst};const Ust=Rr(R2,e=>Math.sin(e)),jst={kernelName:R2,backendName:"cpu",kernelFunc:Ust};const Hst=Rr(F2,e=>Math.sinh(e)),qst={kernelName:F2,backendName:"cpu",kernelFunc:Hst};const Gst=11920928955078125e-23,Aoe=Math.log(Gst)+2,Kst=Rr(L2,e=>{const t=e>-Aoe,n=e<Aoe,r=Math.exp(e);let s;return n?s=r:t?s=e:s=Math.log(1+r),s}),Yst={kernelName:L2,backendName:"cpu",kernelFunc:Kst};function Xst(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,paddings:i}=r;en([s],"spaceToBatchND");const a=je(o),l=[[0,0]];l.push(...i);for(let S=1+o.length;S<s.shape.length;++S)l.push([0,0]);const u=UCe.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),c=UT(u.shape,o,a,!1),f=jT(c.length,o.length,!1),d=HT(u.shape,o,a,!1),g=rs({inputs:{x:u},backend:n,attrs:{shape:c}}),y=Fa({inputs:{x:g},backend:n,attrs:{perm:f}}),C=rs({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),C}const Zst={kernelName:_T,backendName:"cpu",kernelFunc:Xst};function Jst(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:o,defaultValue:i}=t;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values[0],[f,d,h,p,g]=gCe(a,r.shape,r.dtype,l,s.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(m=>Number(m)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const Qst={kernelName:P4,backendName:"cpu",kernelFunc:Jst};function eot(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:o}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=Array.from(n.data.get(s.dataId).values),a=n.data.get(r.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,f]=mCe(a,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}const tot={kernelName:L4,backendName:"cpu",kernelFunc:eot};function not(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${o.shape}`);if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=TK(i,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const rot={kernelName:B4,backendName:"cpu",kernelFunc:not};function sot(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${o.shape}`);if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=TK(i,r.shape,r.dtype,a,l);return n.makeTensorInfo(c,r.dtype,u)}const oot={kernelName:z4,backendName:"cpu",kernelFunc:sot};function iot(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:o,defaultValue:i}=t,{outputShape:a}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=i0(o,s,a),h=!1,p=n.bufferSync(s);let g;switch(o.dtype){case"bool":{const m=n.bufferSync(o),v=!!n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"float32":{const m=n.bufferSync(o),v=n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"int32":{const m=n.bufferSync(o),v=n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"string":{const m=n.bufferSync(o),v=rp(n.data.get(i.dataId).values[0]);g=Ev(p,m,a,d,c,u,l,f,v,h);break}default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(a,g.dtype,g.values)}const aot={kernelName:V4,backendName:"cpu",kernelFunc:iot};function lot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:o,axis:i}=r,a=qn(i,s.shape)[0],l=JG(s,o,a),u=new Array(s.shape.length).fill(0),c=s.shape.slice();return l.map(f=>{const d=[...c];d[a]=f;const h=k1({inputs:{x:s},backend:n,attrs:{begin:u,size:d}});return u[a]+=f,h})}const uot={kernelName:TT,backendName:"cpu",kernelFunc:lot};const cot={kernelName:W4,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;en(n,"square");const s=r.data.get(n.dataId).values,o=new Float32Array(s.length);for(let a=0;a<s.length;++a){const l=s[a];o[a]=l*l}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};const fot=Rr(H2,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),dot={kernelName:H2,backendName:"cpu",kernelFunc:fot};function hot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,end:i,strides:a,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;en(s,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:g,sliceDim0:m,isSimpleSlice:v,begin:y,end:b,strides:w}=OG(s.shape,o,i,a,l,u,c,f,d);let C;if(g)C=rs({inputs:{x:s},backend:n,attrs:{shape:p}});else if(m||v){te(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const S=IG(y,b,w),$=k1({inputs:{x:s},backend:n,attrs:{begin:y,size:S}});C=rs({inputs:{x:$},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo($)}else{const S=n.bufferSync(s),$=bCe(h,S,w,y);C=n.makeTensorInfo(p,$.dtype,$.values)}return C}const pot={kernelName:U4,backendName:"cpu",kernelFunc:hot};function got(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:o,leftPad:i,rightPad:a,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,h=n.data.get(f.dataId).values,[p,g]=wCe(d,h,s,o,i,a,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",g)]}const mot={kernelName:j4,backendName:"cpu",kernelFunc:got};function vot(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:o,delimiter:i}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const a=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,f]=xCe(a,l,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const yot={kernelName:H4,backendName:"cpu",kernelFunc:vot};function bot(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:o}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const i=n.data.get(o.dataId).values,a=CCe(i,s);return n.makeTensorInfo(o.shape,"int32",a)}const wot={kernelName:q4,backendName:"cpu",kernelFunc:bot};const xot=Rr(W2,e=>Math.tan(e)),Cot={kernelName:W2,backendName:"cpu",kernelFunc:xot};const Sot=Rr(U2,e=>Math.tanh(e)),$ot={kernelName:U2,backendName:"cpu",kernelFunc:Sot};function kot(e){const{inputs:t,backend:n}=e,{tensor:r,indices:s,updates:o}=t,{sliceRank:i,numUpdates:a,sliceSize:l,strides:u,outputSize:c}=i0(o,s,r.shape),f=!1,d=n.bufferSync(s),h=n.bufferSync(o),p=n.bufferSync(r),g=Ev(d,h,r.shape,c,l,a,i,u,p,f);return n.makeTensorInfo(r.shape,g.dtype,g.values)}const Eot={kernelName:F4,backendName:"cpu",kernelFunc:kot};function _ot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:o}=r;en(s,"tile");const i=$Ce(n.bufferSync(s),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const Tot={kernelName:j2,backendName:"cpu",kernelFunc:_ot};function Aot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:o,sorted:i}=r;en(s,"topk");const a=n.data.get(s.dataId).values,[l,u]=ECe(a,s.shape,s.dtype,o,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const Iot={kernelName:G4,backendName:"cpu",kernelFunc:Aot};function Not(e){const{inputs:t,attrs:n,backend:r}=e,{image:s,transforms:o}=t,{interpolation:i,fillMode:a,fillValue:l,outputShape:u}=n,[c,f,d,h]=s.shape,[p,g]=u??[f,d],m=[c,p,g,h],v=fn(s.shape),y=v[0],b=v[1],w=v[2],C=fn(m),S=C[0],$=C[1],k=C[2],T=Eo(s.dtype,je(m));T.fill(l);const _=r.data.get(s.dataId).values,E=r.data.get(o.dataId).values;for(let I=0;I<c;++I){const F=o.shape[0]===1?E:E.subarray(I*8,I*8+8);for(let R=0;R<p;++R)for(let L=0;L<g;++L)for(let D=0;D<h;++D){let N;const M=F[6]*L+F[7]*R+1;if(M===0)continue;const z=(F[0]*L+F[1]*R+F[2])/M,W=(F[3]*L+F[4]*R+F[5])/M,j=Ioe(z,d,a),U=Ioe(W,f,a);switch(i){case"nearest":N=Pot(_,f,d,y,b,w,I,U,j,D,l);break;case"bilinear":N=Lot(_,f,d,y,b,w,I,U,j,D,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}const Y=I*S+R*$+L*k+D;T[Y]=N}return r.makeTensorInfo(m,s.dtype,T)}return{dataId:r.write(T,m,s.dtype),shape:s.shape,dtype:s.dtype}}const Dot={kernelName:K4,backendName:"cpu",kernelFunc:Not};function Ioe(e,t,n){switch(n){case"reflect":return Oot(e,t);case"wrap":return Rot(e,t);case"nearest":return Mot(e,t);default:return Fot(e)}}function Oot(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{const r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return lm(0,n,t-1)}function Rot(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{const r=t-1;n-=t*Math.trunc(n/r)}return lm(0,n,t-1)}function Fot(e,t){return e}function Mot(e,t){return lm(0,e,t-1)}function r$(e,t,n,r,s,o,i,a,l,u,c){const f=i*r+a*s+l*o+u;return 0<=a&&a<t&&0<=l&&l<n?e[f]:c}function Pot(e,t,n,r,s,o,i,a,l,u,c){const f=Math.round(a),d=Math.round(l);return r$(e,t,n,r,s,o,i,f,d,u,c)}function Lot(e,t,n,r,s,o,i,a,l,u,c){const f=Math.floor(a),d=Math.floor(l),h=f+1,p=d+1,g=(p-l)*r$(e,t,n,r,s,o,i,f,d,u,c)+(l-d)*r$(e,t,n,r,s,o,i,f,p,u,c),m=(p-l)*r$(e,t,n,r,s,o,i,h,d,u,c)+(l-d)*r$(e,t,n,r,s,o,i,h,p,u,c);return(h-a)*g+(a-f)*m}function Bot(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:o}=t;en(o,"unique");const i=r.data.get(o.dataId).values,{outputValues:a,outputShape:l,indices:u}=_Ce(i,s,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,a),r.makeTensorInfo([u.length],"int32",u)]}const zot={kernelName:Y4,backendName:"cpu",kernelFunc:Bot};function Vot(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:o}=r;o<0&&(o+=s.shape.length);const i=s.shape.length,a=s.shape[o],l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==o&&(l[u++]=s.shape[h]);const c=new Array(i).fill(0),f=s.shape.slice();f[o]=1;const d=new Array(a);for(let h=0;h<d.length;h++){c[o]=h;const p=k1({inputs:{x:s},backend:n,attrs:{begin:c,size:f}});d[h]=rs({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const Wot={kernelName:NT,backendName:"cpu",kernelFunc:Vot};function Uot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:o}=t,{numSegments:i}=r;en(s,"unsortedSegmentSum");const a=s.shape.length,l=o.shape.length,u=[],c=[],f=a-l;let d=o;for(let p=0;p<f;++p){const g=WO({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=g,c.push(g)}for(let p=0;p<i;++p){const g=Ep(p,"int32"),m=n.makeTensorInfo([],"int32",g),v=W2e({inputs:{a:m,b:d},backend:n}),y=bm({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),b=jP({inputs:{a:y,b:s},backend:n}),w=eA({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(w),c.push(m),c.push(v),c.push(y),c.push(b),c.push(w)}const h=WCe({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const jot={kernelName:DT,backendName:"cpu",kernelFunc:Uot};const Hot=[Bet,vQe,Vet,Uet,SQe,Het,Get,Yet,Zet,Qet,ttt,rtt,ott,ltt,ctt,htt,gtt,vtt,btt,Pet,xtt,Stt,ktt,kQe,_tt,xQe,_Qe,Att,yQe,Ntt,Ott,Rtt,Mtt,Ltt,ztt,Wtt,jtt,qtt,Ktt,Xtt,Jtt,ent,nnt,snt,ont,ant,unt,fnt,dnt,hnt,pnt,mnt,bnt,Iet,xnt,TQe,Ant,AQe,Int,NQe,Mnt,Pnt,Bnt,OQe,FQe,Vnt,Unt,Hnt,Gnt,PQe,BQe,bQe,Ynt,Dtt,Znt,Qnt,trt,Net,VQe,UQe,rrt,HQe,ort,lrt,crt,hrt,grt,vrt,yrt,GQe,wrt,Crt,$rt,Ert,Trt,Irt,Drt,YQe,Rrt,Prt,zrt,ZQe,QQe,Urt,qrt,Yrt,tet,Zrt,Qrt,est,UCe,sst,Oet,set,ist,lst,cst,dst,wQe,qV,pst,Ret,Fet,Met,mst,yst,wst,Cst,$st,kst,_st,het,Ast,Rst,Mst,zst,get,Wst,jst,qst,met,Lrt,Yst,Zst,Qst,tot,rot,oot,aot,uot,bet,cot,xet,$et,dot,pot,mot,yot,wot,Tet,vnt,Cot,$ot,Eot,Tot,Iot,Dot,net,zot,Wot,jot,Jrt];for(const e of Hot)Z4(e);const hv={},XI={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function qot(e,t){hv[e]=t}function zc(e,t){if(!(e in hv)||t!=null){const r=Kot(e,t);if(r!==null)hv[e]=r;else return console.log("Could not get context for WebGL version",e),null}const n=hv[e];return n==null||n.isContextLost()?(delete hv[e],zc(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),hv[e])}function Got(e){if(!Pe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function Kot(e,t){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=t??Got(e);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete hv[e]},!1),Pe().getBool("SOFTWARE_WEBGL_ENABLED")&&(XI.failIfMajorPerformanceCaveat=!1),e===1?n.getContext("webgl",XI)||n.getContext("experimental-webgl",XI):n.getContext("webgl2",XI)}var Hk;(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(Hk||(Hk={}));var jl;(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(jl||(jl={}));var Mo;(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Mo||(Mo={}));function tA(e,t){return[t,e]}function Yot(e,t){return e*t}function ZI(e){const t=je(e),n=Math.ceil(t/4);return xO(n)}function Z2(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Xot(e,t){const[n,r]=Z2(e,t);return n*r*4}function OK(e,t){const n=e;let r,s,o,i,a,l,u,c,f,d;return Pe().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,o=n.RGBA16F,i=n.RGBA32F,a=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,s=e.RGBA,o=e.RGBA,i=n.RGBA,a=e.RGBA,u=4,c=4,f=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}function Vt(e,t){const n=t();return Pe().getBool("DEBUG")&&Zot(e),n}function Zot(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+tit(e,t))}const Jot=596e-10,Qot=65504;function eit(e){return!!(Pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||Jot<Math.abs(e)&&Math.abs(e)<Qot)}function tit(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function JI(e,t){return Dp(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function nit(e,t){const n=Dp(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Vt(e,()=>e.shaderSource(n,t)),Vt(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function rit(e,t){const n=Dp(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Vt(e,()=>e.shaderSource(n,t)),Vt(e,()=>e.compileShader(n)),Pe().get("ENGINE_COMPILE_ONLY"))return n;if(e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw jCe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const sit=/ERROR: [0-9]+:([0-9]+):/g;function jCe(e,t){const n=sit.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}const r=+n[1],s=e.split(`
`),o=s.length.toString().length+2,i=s.map((f,d)=>jv((d+1).toString(),o)+f);let a=0;for(let f=0;f<i.length;f++)a=Math.max(i[f].length,a);const l=i.slice(0,r-1),u=i.slice(r-1,r),c=i.slice(r);console.log(l.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${jv(u[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function oit(e){return Dp(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function iit(e,t){if(Vt(e,()=>e.linkProgram(t)),!Pe().get("ENGINE_COMPILE_ONLY")&&e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function c5(e,t){if(Vt(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function ait(e,t){const n=Dp(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Vt(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function lit(e,t){const n=Dp(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Vt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),Vt(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function uit(e){return Dp(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function cit(e,t){const n=Pe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){const r=`[${e}x${t}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function fit(e){return Dp(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Noe(e,t,n,r,s,o,i){const a=e.getAttribLocation(t,n);return a===-1?!1:(Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),Vt(e,()=>e.vertexAttribPointer(a,s,e.FLOAT,!1,o,i)),Vt(e,()=>e.enableVertexAttribArray(a)),!0)}function dit(e,t,n){vit(e,n),Vt(e,()=>e.activeTexture(e.TEXTURE0+n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function hit(e,t,n){return Dp(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function pit(e,t,n){return e.getUniformLocation(t,n)}function git(e,t,n,r){Vt(e,()=>dit(e,t,r)),Vt(e,()=>e.uniform1i(n,r))}function f5(e,t,n){Vt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),Vt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function Doe(e,t){Vt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),Vt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function QI(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+mit(e,t))}function mit(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function Dp(e,t,n){const r=Vt(e,()=>t());if(r==null)throw new Error(n);return r}function vit(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function zw(e,t=2){return je(e.slice(0,e.length-t))}function Vw(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function eN(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[zw(e),...Vw(e)]),t}function yit(e,t=!1){let n=Pe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Pe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Pe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n=n*2,r=r*2,e=e.map((a,l)=>l>=e.length-2?UM(e[l]):e[l]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=kp(e).newShape);let s=je(e),o=null;e.length<=1&&s<=n?o=[1,s]:e.length===2&&e[0]<=n&&e[1]<=n?o=e:e.length===3&&e[0]*e[1]<=n&&e[2]<=n?o=[e[0]*e[1],e[2]]:e.length===3&&e[0]<=n&&e[1]*e[2]<=n?o=[e[0],e[1]*e[2]]:e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n?o=[e[0]*e[1]*e[2],e[3]]:e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(o=[e[0],e[1]*e[2]*e[3]]);const i=o!=null&&Math.max(...o)>r&&Math.min(...o)<=(t?2:1)&&Math.min(...o)>0;if(o==null||i)if(t){const a=zw(e);let l=2,u=2;e.length&&([l,u]=Vw(e)),s=a*(l/2)*(u/2),o=xO(s).map(c=>c*2)}else o=xO(s);return o}function tN(e){return e%2===0}function jO(e,t){if(e=e.slice(-2),t=t.slice(-2),ir(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r||tN(n)&&tN(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&tN(e[0])&&tN(t[0])}let d5,h5;function bit(e){if(d5==null){const t=zc(e);d5=t.getParameter(t.MAX_TEXTURE_SIZE)}return d5}function wit(e){if(h5==null){const t=zc(e);h5=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,h5)}function xit(e){if(e===0)return 0;let t;const n=zc(e);return Cu(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:Cu(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function Cu(e,t){return e.getExtension(t)!=null}function Ooe(e){try{if(zc(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function Cit(e){if(e===0)return!1;const t=zc(e);if(e===1){if(!Cu(t,"OES_texture_float"))return!1}else if(!Cu(t,"EXT_color_buffer_float"))return!1;return KV(t)}function Sit(e){if(e===0)return!1;const t=zc(e);if(e===1){if(!Cu(t,"OES_texture_float")||!Cu(t,"WEBGL_color_buffer_float"))return!1}else{if(Cu(t,"EXT_color_buffer_float"))return KV(t);const r="EXT_color_buffer_half_float";if(Cu(t,r)){const s=t.getExtension(r);return $it(t,s)}return!1}return KV(t)}function KV(e){const t=OK(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(o),i}function $it(e,t){const n=OK(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}function kit(e){return e!==2?!1:zc(e).fenceSync!=null}function nA(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&te(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}const nn=Pe();nn.registerFlag("HAS_WEBGL",()=>nn.getNumber("WEBGL_VERSION")>0);nn.registerFlag("WEBGL_VERSION",()=>Ooe(2)?2:Ooe(1)?1:0);nn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);nn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>nn.get("WEBGL_VERSION")===2);nn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);nn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);nn.registerFlag("WEBGL_PACK",()=>nn.getBool("HAS_WEBGL"));nn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_CLIP",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_REDUCE",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_LAZILY_UNPACK",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_CONV_IM2COL",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>bit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>wit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=nn.getNumber("WEBGL_VERSION");return e===0?0:xit(e)});nn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>nn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Fq());nn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Cit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>nn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:nn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));nn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>Sit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>kit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>nn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);nn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});nn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Fq()?1:-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});nn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);nn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);nn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);nn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);nn.registerFlag("WEBGL_EXP_CONV",()=>!1);nn.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>nn.getBool("IS_TEST"));nn.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);nn.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);nn.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);nn.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function ca(){let e,t,n,r,s,o,i,a,l,u;return Pe().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",s="texture",o="outputColor",i="out vec4 outputColor;",a=Pe().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",s="texture2D",o="gl_FragColor",i="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:s,output:o,defineOutput:i,defineSpecialNaN:a,defineSpecialInf:l,defineRound:u}}function gy(e,t,n="index"){const r=fn(t);return r.map((s,o)=>{const i=`int ${e[o]} = ${n} / ${s}`,a=o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${s}`:`index -= ${e[o]} * ${s}`;return`${i}; ${a};`}).join("")}function HP(e,t,n="index"){const r=fn(t);return r.map((s,o)=>{const i=`int ${e[o]} = ${n} / outShapeStrides[${o}]`,a=o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`;return`${i}; ${a};`}).join("")}function Eit(e,t){const n=e.length,r=e.map(o=>`${t}[${o}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let o=n-3;o>=0;--o)s[o]=`(${s[o+1]} * ${r[o+1]})`;return s}function _it(e,t,n="index"){const r=e.map((o,i)=>i),s=Eit(r,t);return s.map((o,i)=>{const a=`int ${e[i]} = ${n} / ${s[i]}`,l=i===s.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${s[i]}`:`index -= ${e[i]} * ${s[i]}`;return`${a}; ${l};`}).join("")}function RK(e){const t=fn(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function FK(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const HCe=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;const{getBroadcastDims:qCe}=vwe;function Tit(e,t,n){const r=[];if(e.forEach(h=>{const p=je(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:g}=MK(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(g.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=r.join(`
`),o=e.map(h=>Ait(h,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),i=t.texShape,a=ca(),l=Dit(a);let u,c,f=Fit(a);return t.isPacked?(u=Iit(t.logicalShape,i,n.enableShapeUniforms),c=Rit(a)):(u=Nit(t.logicalShape,i,n.enableShapeUniforms),c=Oit(a)),n.packedInputs&&(f+=Bit),[f,l,c,s,u,o,n.userCode].join(`
`)}function J2(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Zit(e,t);case 1:return Qit(e,t);case 2:return tat(e,t);case 3:return rat(e,t);case 4:return oat(e,t);case 5:return iat(e);case 6:return aat(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function GCe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return Xit(e);case 1:return Jit(e,t);case 2:return eat(e,t);case 3:return nat(e,t);default:return sat(e,t)}}function Ait(e,t,n=!1,r){let s="";n?s+=GCe(e,r):s+=J2(e,r);const o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(n?s+=lat(e,t):s+=uat(e,t)),s}function Iit(e,t,n){switch(e.length){case 0:return KCe();case 1:return zit(e,t,n);case 2:return Kit(e,t,n);case 3:return Wit(e,t,n);default:return jit(e,t,n)}}function Nit(e,t,n){switch(e.length){case 0:return KCe();case 1:return Vit(e,t,n);case 2:return Yit(e,t,n);case 3:return Uit(e,t,n);case 4:return Hit(e,t,n);case 5:return qit(e,t);case 6:return Git(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function Dit(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function Oit(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function Rit(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function Fit(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Mit}
    ${Pit}
    ${Lit}
  `}const Mit=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Pit=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Lit=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Bit=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function KCe(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function zit(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Vit(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function Wit(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[2]/2),o=s*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function Uit(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${HP(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;const r=gy(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function jit(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[e.length-1]/2),o=s*Math.ceil(e[e.length-2]/2);let i=o,a="",l="b, r, c";for(let u=2;u<e.length-1;u++)i*=e[e.length-u-1],a=`
      int b${u} = index / ${i};
      index -= b${u} * ${i};
    `+a,l=`b${u}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${e.length}(${l});
    }
  `}function Hit(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${HP(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;const r=gy(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function qit(e,t){const n=gy(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Git(e,t){const n=gy(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function Kit(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(ir(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function Yit(e,t,n){return ir(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function my(e){return`offset${e}`}function Xit(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=ca();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function Zit(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,o]=e.shapeInfo.texShape;if(s===1&&o===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const i=my(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});
      return sampleTexture(${n}, uv);
    }
  `;const[a,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${l}, ${i});
      return sampleTexture(${n}, uv);
    }
  `}function Jit(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e.shapeInfo.texShape,o=ca();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${o.texture2D}(${n}, uv);
    }
  `;const i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${i[0]}, ${i[1]}, index);
      return ${o.texture2D}(${n}, uv);
    }
  `}function Qit(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Q2(e)}
      }
    `;const s=e.shapeInfo.texShape,o=s[0],i=s[1];if(i===1&&o===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=my(n);return i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${o}.0);
        return sampleTexture(${n}, uv);
      }
    `:o===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${i}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${o}, ${i}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function eat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],l=ca();if(o!=null&&ir(n,o))return t?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${i}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function tat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(o!=null&&ir(n,o)){if(t)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=o[0],h=o[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:i,keptDims:a}=kp(n),l=i;if(l.length<n.length){const d=eC(e,l),h=["row","col"];return`
      ${J2(d,t)}
      float ${s}(int row, int col) {
        return ${s}(${tC(h,a)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Q2(e)}
      }
    `;const u=o[0],c=o[1],f=my(r);return c===1?t?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function nat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=eC(e,d),g=["b","row","col"];return`
        ${GCe(p,t)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${tC(g,h)});
        }
      `}const a=ca();if(t)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${c}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function rat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],i=n[2],{newShape:a,keptDims:l}=kp(n),u=a;if(u.length<n.length){const g=eC(e,u),m=["row","col","depth"];return`
        ${J2(g,t)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${tC(m,l)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${o}, ${i}, 1)));
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.texShape,f=c[0],d=c[1],h=e.shapeInfo.flatOffset;if(d===o&&h==null)return t?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${i}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===i&&h==null)return t?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=my(r);return t?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o} + col * ${i} + depth + ${p};
        vec2 uv = uvFromFlat(${f}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function sat(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=ca();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const o=e.shapeInfo.logicalShape,i=o.length,a=e.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],u=l[0],c=l[1],f=Math.ceil(o[i-1]/2);let d=f*Math.ceil(o[i-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let g=2;g<i-1;g++)h=`int b${g}, `+h,d*=o[i-g-1],p=`b${g} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${s.texture2D}(${n}, uv);
    }
  `}function oat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],i=n[2]*o,a=n[1]*i,{newShape:l,keptDims:u}=kp(n);if(l.length<n.length){const y=eC(e,l),b=["row","col","depth","depth2"];return`
      ${J2(y,t)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${tC(b,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${i}, ${o}, 1)));
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1],p=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,m=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&c==null)return t?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${p}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${i}, ${o}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===o&&c==null)return t?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const v=my(r);return t?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${g}
      ${m}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${v});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} +
          depth * ${o} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${v});
      return sampleTexture(${r}, uv);
    }
  `}function iat(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t[4],o=t[3]*s,i=t[2]*o,a=t[1]*i,{newShape:l,keptDims:u}=kp(t);if(l.length<t.length){const g=eC(e,l),m=["row","col","depth","depth2","depth3"];return`
      ${J2(g)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${tC(m,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${i}, ${o}, ${s})) +
          depth3;
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];if(h===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${i}, ${o}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=my(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} + depth * ${o} +
          depth2 * ${s} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function aat(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:o}=kp(t);if(s.length<t.length){const m=eC(e,s),v=["row","col","depth","depth2","depth3","depth4"];return`
      ${J2(m)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${tC(v,o)});
      }
    `}const i=t[5],a=t[4]*i,l=t[3]*a,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${i}, 1)));
        ${Q2(e)}
      }
    `;const f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===c&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${a}, ${i})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===i&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const g=my(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${a} + depth3 * ${i} + depth4 + ${g};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Q2(e){const t=e.name,n=je(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function lat(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",o=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,a=qCe(e.shapeInfo.logicalShape,t.logicalShape),l=Wr(i),u=i-o;let c;const f=["x","y","z","w","u","v"];o===0?c="":i<2&&a.length>=1?c="coords = 0;":c=a.map(y=>`coords.${f[y+u]} = 0;`).join(`
`);let d="";i<2&&o>0?d="coords":d=e.shapeInfo.logicalShape.map((y,b)=>`coords.${f[b+u]}`).join(", ");let h="return outputValue;";const g=je(e.shapeInfo.logicalShape)===1,v=je(t.logicalShape)===1;if(o===1&&!g&&!v)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(g&&!v)i===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const y=o-2,b=o-1;a.indexOf(y)>-1&&a.indexOf(b)>-1?h="return vec4(outputValue.x);":a.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function uat(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,a=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&a===l&&e.shapeInfo.flatOffset==null&&ir(i,o))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Wr(l),c=qCe(e.shapeInfo.logicalShape,t.logicalShape),f=l-a;let d;const h=["x","y","z","w","u","v"];a===0?d="":l<2&&c.length>=1?d="coords = 0;":d=c.map(g=>`coords.${h[g+f]} = 0;`).join(`
`);let p="";return l<2&&a>0?p="coords":p=e.shapeInfo.logicalShape.map((g,m)=>`coords.${h[m+f]}`).join(", "),`
    float ${s}() {
      ${u} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function Wr(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function MK(e,t,n){const{newShape:r,keptDims:s}=kp(t),o=t.length,i=e&&o===3&&t[0]===1,a=i?t.slice(1):r,l=!e&&o>1&&!ir(t,n)&&r.length<o||i;return{useSqueezeShape:l,uniformShape:l?a:t,keptDims:s}}function eC(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function tC(e,t){return t.map(n=>e[n]).join(", ")}function cat(e,t,n,r){const s=n.map((c,f)=>{const d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:t.variableNames[f],shapeInfo:d}}),o=s.map(c=>c.shapeInfo),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=Tit(s,i,t),l=rit(e.gl,a),u=e.createProgram(l);return Pe().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:a,webGLProgram:u,inShapeInfos:o,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:a,webGLProgram:u,inShapeInfos:o,outShapeInfo:i},YCe(e,t,u)))}function YCe(e,t,n){const r=[],s=[];let o,i,a,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),Pe().getNumber("WEBGL_VERSION")===1&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const f of t.variableNames){const d={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(d.shape=e.getUniformLocation(n,`${f}Shape`,c),d.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(d)}if(t.enableShapeUniforms&&(o=e.getUniformLocation(n,"outShape",c),a=e.getUniformLocation(n,"outShapeStrides",c),i=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const f of t.customUniforms)s.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:u,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:i}}function Roe(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{const s=n.logicalShape,o=t[r],i=o.shape;if(!ir(s,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${i} must match`);if(n.isUniform&&o.isUniform)return;const a=n.texShape,l=o.isUniform?null:o.texData.texShape;if(!ir(a,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${l} must match`)})}function fat(e,t,n,r,s){t.program.enableShapeUniforms||(Roe(t.inShapeInfos,n),Roe([t.outShapeInfo],[r]));const o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,i[0],i[1]):e.setOutputMatrixTexture(o.texture,i[0],i[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),Pe().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:c,offset:f,shape:d,texShape:h}=t.variablesLocations[l];if(d){const{uniformShape:p}=MK(t.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:e.gl.uniform1iv(d,new Int32Array(p));break;case 2:e.gl.uniform2iv(d,new Int32Array(p));break;case 3:e.gl.uniform3iv(d,new Int32Array(p));break;case 4:e.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&e.gl.uniform2i(h,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(je(u.shape)<2)e.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),e.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,u.texData.slice.flatOffset),e.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const a=t.outShapeLocation;if(a)switch(r.shape.length){case 1:e.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(a,new Int32Array(r.shape));break}if(t.outShapeStridesLocation){const l=fn(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l));break}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&s)for(let l=0;l<t.program.customUniforms.length;++l){const u=t.program.customUniforms[l],c=t.customUniformLocations[l],f=s[l];if(u.type==="float")e.gl.uniform1fv(c,f);else if(u.type==="vec2")e.gl.uniform2fv(c,f);else if(u.type==="vec3")e.gl.uniform3fv(c,f);else if(u.type==="vec4")e.gl.uniform4fv(c,f);else if(u.type==="int")e.gl.uniform1iv(c,f);else if(u.type==="ivec2")e.gl.uniform2iv(c,f);else if(u.type==="ivec3")e.gl.uniform3iv(c,f);else if(u.type==="ivec4")e.gl.uniform4iv(c,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}e.executeProgram()}function dat(e,t,n){let r="";t.concat(n).forEach(i=>{const a=i.texData!=null&&i.texData.slice!=null&&i.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!i.isUniform){const l=i.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:f}=MK(e.packedInputs,i.shape,l);let d="",h="",p="";if(c.length===1&&e.packedInputs){const C=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${C[0]>1}_${C[1]>1}`}else if(c.length===2&&!e.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!e.packedInputs){const C=fn(c);p=`${C[0]===l[1]}_${C[C.length-1]===l[1]}`}const g=i.shape.length,m=c.length===2&&ir(i.shape,l),v=je(i.shape)===1,y=w1(i.shape,n.shape),b=!e.packedInputs&&g===n.shape.length&&ir(l,n.texData.texShape),w=e.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${g}_${b}_${u?f:""}_${c.length}_${v}_${y}_${m}_${d}_${h}_${p}_${w}_${a}`}else{const l=i.isUniform?"uniform":i.texData.texShape;r+=`${i.shape}_${l}_${a}`}});const s=e.userCode;let o=e.constructor.name;return o+="_"+r+"_"+s+`${Pe().getNumber("WEBGL_VERSION")}`,o}function xi(e){return Pe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class hat{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Hk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?HP(["r","c","d"],t):gy(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}class pat{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Hk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?HP(["r","c","d"],t):gy(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}class gat{constructor(t){this.variableNames=["A"],this.outTexUsage=jl.DOWNLOAD;const n=ca();this.outputShape=t,this.userCode=`
      ${HCe}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}class mat{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=jl.DOWNLOAD;const n=ca();this.outputShape=t,this.userCode=`
      ${HCe}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}const vat={R:0,G:1,B:2,A:3};class Foe{constructor(t,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)");let i="";for(let a=0;a<r.length;a++){const l=r[a];i+=`
          if(offset == ${a}) {
            result = values[${vat[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?FK():RK(t)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${i}
        }
        ${s.output} = vec4(${o}, 0., 0., 0.);
      }
    `}}class yat{constructor(t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let s="",o="result";n&&(o="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let a=0;a<=1;a++){const l=i*2+a;s+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?FK():RK(t)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${o};
        }
    `}}function bat(e){const t=ca(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return nit(e,n)}function wat(e){const t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return ait(e,t)}function xat(e){const t=new Uint16Array([0,1,2,2,1,3]);return lit(e,t)}function rA(e,t,n,r,s,o){cit(t,n);const i=uit(e),a=e.TEXTURE_2D;return Vt(e,()=>e.bindTexture(a,i)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_MIN_FILTER,e.NEAREST)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_MAG_FILTER,e.NEAREST)),Pe().getNumber("WEBGL_VERSION")===1?Vt(e,()=>e.texImage2D(a,0,r,t,n,0,s,o,null)):Vt(e,()=>e.texStorage2D(a,1,r,t,n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:i,texShape:[n,t]}}function XCe(e){return e.internalFormatFloat}function Cat(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,XCe(r),r.textureFormatFloat,e.FLOAT)}function ZCe(e){return e.internalFormatHalfFloat}function Sat(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,ZCe(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function JCe(e){return e.downloadTextureFormat}function $at(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,JCe(r),e.RGBA,e.UNSIGNED_BYTE)}function QCe(e){return e.internalFormatPackedFloat}function kat(e,t,n,r){const[s,o]=Z2(t,n);return rA(e,s,o,QCe(r),e.RGBA,e.FLOAT)}function eSe(e){return e.internalFormatPackedHalfFloat}function Eat(e,t,n,r){const[s,o]=Z2(t,n);return rA(e,s,o,eSe(r),e.RGBA,r.textureTypeHalfFloat)}function _at(e,t,n){return Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Noe(e,t,"clipSpacePos",n,3,20,0)&&Noe(e,t,"uv",n,2,20,12)}function Tat(e,t,n,r,s,o){Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t));let i,a,l;s instanceof Uint8Array?(i=new Uint8Array(n*r*4),a=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*r*4),a=e.FLOAT,l=o.internalFormatPackedFloat),i.set(s),Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,a,i)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,a,i)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Aat(e,t,n){Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Iat(e,t,n,r){const s=e.createBuffer();Vt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,s));const a=4*4*t*n;return Vt(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)),Vt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),Vt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),s}function Nat(e,t,n){const r=e,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function Dat(e,t,n,r){const[s,o]=tA(t,n),i=4,a=new Uint8Array(Yot(t*n,i));return Vt(e,()=>e.readPixels(0,0,s,o,r.downloadTextureFormat,e.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function Oat(e,t,n,r,s,o,i,a){const l=e,u=new Float32Array(Xot(o,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function Rat(e,t,n){const r=new Float32Array(t*n*4);return Vt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}class p5{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Pe().getNumber("WEBGL_VERSION");if(t!=null?(this.gl=t,qot(n,t)):this.gl=zc(n),t=this.gl,Pe().getNumber("WEBGL_VERSION")===2){const o=t;this.createVertexArray=()=>Vt(o,()=>o.createVertexArray()),this.bindVertexArray=i=>Vt(o,()=>o.bindVertexArray(i)),this.deleteVertexArray=i=>Vt(o,()=>o.deleteVertexArray(i)),this.getVertexArray=()=>Vt(o,()=>o.getParameter(o.VERTEX_ARRAY_BINDING))}else if(t!=null){const o=t.getExtension("OES_vertex_array_object");if(o==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Vt(t,()=>o.createVertexArrayOES()),this.bindVertexArray=i=>Vt(t,()=>o.bindVertexArrayOES(i)),this.deleteVertexArray=i=>Vt(t,()=>o.deleteVertexArrayOES(i)),this.getVertexArray=()=>Vt(t,()=>t.getParameter(o.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Pe().getNumber("WEBGL_VERSION")===1){const o="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=JI(this.gl,o),Cu(this.gl,i))this.textureHalfFloatExtension=JI(this.gl,i);else if(Pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Cu(this.gl,s))this.colorBufferHalfFloatExtension=JI(this.gl,s);else if(Pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Cu(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(Cu(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=wat(this.gl),this.indexBuffer=xat(this.gl),this.framebuffer=fit(this.gl),this.textureConfig=OK(this.gl,this.textureHalfFloatExtension)}get debug(){return Pe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;Vt(t,()=>t.finish()),Vt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Vt(t,()=>t.deleteFramebuffer(this.framebuffer)),Vt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),Vt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),Vt(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,n){return this.throwIfDisposed(),Cat(this.gl,t,n,this.textureConfig)}createFloat16MatrixTexture(t,n){return this.throwIfDisposed(),Sat(this.gl,t,n,this.textureConfig)}createUnsignedBytesMatrixTexture(t,n){return this.throwIfDisposed(),$at(this.gl,t,n,this.textureConfig)}uploadPixelDataToTexture(t,n){this.throwIfDisposed(),Aat(this.gl,t,n)}uploadDenseMatrixToTexture(t,n,r,s){this.throwIfDisposed(),Tat(this.gl,t,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(t,n){return this.throwIfDisposed(),Eat(this.gl,t,n,this.textureConfig)}createPackedMatrixTexture(t,n){return this.throwIfDisposed(),kat(this.gl,t,n,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(Doe(this.gl,this.framebuffer),this.outputTexture=null),Vt(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Dat(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(t,n,r,s,o,i){return Oat(this.gl,t,n,r,s,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(t,n){return Nat(this.gl,t,n)}createBufferFromTexture(t,n,r){this.bindTextureToFrameBuffer(t);const s=Iat(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,r;if(Pe().getBool("WEBGL_FENCE_API_ENABLED")){const s=t,o=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=()=>{const i=s.clientWaitSync(o,0,0);return i===s.ALREADY_SIGNALED||i===s.CONDITION_SATISFIED},n=o}else Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Rat(this.gl,n,r))}createProgram(t){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=bat(n));const r=oit(n);Vt(n,()=>n.attachShader(r,this.vertexShader)),Vt(n,()=>n.attachShader(r,t)),iit(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&c5(n,s),s}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const n=this.gl;Vt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),_at(n,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&(Vt(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&c5(this.gl,this.program),Vt(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,n,r=!0){return this.throwIfDisposed(),r?hit(this.gl,t,n):pit(this.gl,t,n)}getAttributeLocation(t,n){return this.throwIfDisposed(),Vt(this.gl,()=>this.gl.getAttribLocation(t,n))}getUniformLocationNoThrow(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)}setInputMatrixTexture(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),git(this.gl,t,n,r)}setOutputMatrixTexture(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)}setOutputPackedMatrixTexture(t,n,r){this.throwIfDisposed();const[s,o]=Z2(n,r);this.setOutputMatrixTextureDriver(t,s,o)}setOutputMatrixWriteRegion(t,n,r,s){this.setOutputMatrixWriteRegionDriver(r,t,s,n)}setOutputPackedMatrixWriteRegion(t,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&c5(this.gl,this.program),QI(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Vt(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Vt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=JI(this.gl,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,o),o}const t=this.getQueryTimerExtensionWebGL1(),n=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n),n}endQuery(){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(t){return await dV(()=>this.disposed||this.isQueryAvailable(t,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(t,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(t,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),o&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){const t=Fat(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,n){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Pe().platform&&(r=Pe().platform.setTimeoutCustom.bind(Pe().platform)),dV(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),f5(this.gl,t,this.framebuffer),this.debug&&QI(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(f5(this.gl,this.outputTexture,this.framebuffer),this.debug&&QI(this.gl)):Doe(this.gl,this.framebuffer)}downloadMatrixDriver(t,n){this.bindTextureToFrameBuffer(t);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(t,n,r){this.throwIfDisposed();const s=this.gl;f5(s,t,this.framebuffer),this.debug&&QI(s),this.outputTexture=t,Vt(s,()=>s.viewport(0,0,n,r)),Vt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(t,n,r,s){this.throwIfDisposed(),Vt(this.gl,()=>this.gl.scissor(t,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function Fat(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}const{addImpl:Mat,bincountImpl:tSe,bincountReduceImpl:Pat,bitwiseAndImpl:Lat,castImpl:Bat,ceilImpl:zat,concatImpl:Vat,equalImpl:Wat,expImpl:Uat,expm1Impl:jat,floorImpl:Hat,gatherNdImpl:qat,gatherV2Impl:Gat,greaterImpl:Kat,greaterEqualImpl:Yat,lessImpl:Xat,lessEqualImpl:Zat,linSpaceImpl:Jat,logImpl:Qat,maxImpl:elt,maximumImpl:tlt,minimumImpl:nlt,multiplyImpl:rlt,negImpl:slt,notEqualImpl:olt,prodImpl:ilt,raggedGatherImpl:alt,raggedRangeImpl:llt,raggedTensorToTensorImpl:ult,rangeImpl:clt,rsqrtImpl:flt,scatterImpl:dlt,sigmoidImpl:hlt,simpleAbsImpl:nSe,sliceImpl:plt,sparseFillEmptyRowsImpl:glt,sparseReshapeImpl:mlt,sparseSegmentReductionImpl:rSe,sqrtImpl:vlt,staticRegexReplaceImpl:ylt,stridedSliceImpl:blt,stringNGramsImpl:wlt,stringSplitImpl:xlt,stringToHashBucketFastImpl:Clt,subImpl:Slt,tileImpl:$lt,topKImpl:klt,transposeImpl:PK,uniqueImpl:Elt}=Aet;function sSe(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function Ui(e,t){return t===1?[e]:sSe(e,t)}function _lt(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}class Tlt{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=xi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Ui("rc",this.rank),r=Wr(this.rank),s=this.getOutOfBoundsCondition(n),o=this.getSetup(n),i=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${o}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(t){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let o=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)o=`${t[t.length-1-i]},`+o;n.push(o)}return n}getOutOfBoundsCondition(t){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${t[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(t){if(this.rank===1)return"";const n=t.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(t){const n=this.getSourceCoordsArr(t);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}class oSe{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let r="";for(let s=0;s<4;s++){let o="thisRC = rc;";s%2===1&&(o+="thisRC.z += 1;"),s>1&&(o+="thisRC.y += 1;"),r+=`
        ${o}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${Alt(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?FK():RK(t)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};

        ${r}

        setOutput(result);
      }
    `}}function Alt(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?_it(["r","c","d"],"inputShape"):gy(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}class Ilt{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,n,r){const s=Poe(n,r),o=Loe(t,s,r);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=Moe(t,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const l=this.freeTextures[o].pop();return this.usedTextures[o].push(l),l}let a;return s===Mo.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):s===Mo.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):s===Mo.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):s===Mo.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):s===Mo.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(t,n,r,s){if(this.freeTextures==null)return;const o=Poe(r,s),i=Loe(n,o,s);i in this.freeTextures||(this.freeTextures[i]=[]);const a=Moe(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=Pe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(t),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const u=this.usedTextures[i],c=u&&u.indexOf(t);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${t})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const t in this.freeTextures)this.freeTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Nlt(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function Moe(e,t,n,r,s){const o=Dlt(t,r);let i;if(s){const[l,u]=Z2(e[0],e[1]);i=l*u}else{const[l,u]=tA(e[0],e[1]);i=l*u}const a=Nlt(n,o);return i*a}function Dlt(e,t){switch(e){case Mo.PACKED_2X2_FLOAT32:return QCe(t);case Mo.PACKED_2X2_FLOAT16:return eSe(t);case Mo.UNPACKED_FLOAT32:return XCe(t);case Mo.UNPACKED_FLOAT16:return ZCe(t);case Mo.PACKED_4X1_UNSIGNED_BYTE:return JCe(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function Olt(e){return Pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Mo.PACKED_2X2_FLOAT32:Mo.UNPACKED_FLOAT32:e?Mo.PACKED_2X2_FLOAT16:Mo.UNPACKED_FLOAT16}function Poe(e,t){if(e===jl.UPLOAD)return Mo.PACKED_2X2_FLOAT32;if(e===jl.RENDER||e==null)return Olt(t);if(e===jl.DOWNLOAD||e===jl.PIXELS)return Mo.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Loe(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class zf{constructor(t,n){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Zu="if (isnan(x)) return x;",Rlt="return x;",Boe="return abs(x);",Flt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Mlt=Zu+`
  return (x < 0.0) ? 0.0 : x;
`,Plt=Zu+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,vg="return x;",Llt="return 1.0 / (1.0 + exp(-1.0 * x));";const Blt="return x;",zlt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Vlt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Wlt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Ult="return 1.0 / (1.0 + exp(-1.0 * x));";class Ng{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class jlt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);const n=t.length,r=Ui("rc",n),s=Wr(n),o=_lt(n,r),i=r.slice(-2),a=n<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${o});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}const Hlt=bP,qlt=1e-7,Glt=1e-4,nN={};function Klt(e){return e in nN||(nN[e]={}),nN[e]}const Ylt=Pe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),Xlt=600;function Zlt(){return Pe().global.screen==null?1024:Pe().global.screen.height*Pe().global.screen.width*window.devicePixelRatio*Xlt/1024/1024}class qP extends WM{nextDataId(){return qP.nextDataId++}constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Pe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(t!=null){if(t instanceof p5)n=t;else{const r=zc(Pe().getNumber("WEBGL_VERSION"),t);n=new p5(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=zc(Pe().getNumber("WEBGL_VERSION"));n=new p5(r),this.binaryCache=Klt(Pe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Ilt(this.gpgpu),this.numMBBeforeWarning=Zlt(),this.texData=new Eq(this,uc())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(t,n,r,s,o,i){const a=this.makeTensorInfo(n,r),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:t,texShape:[s,o]},l.texShape=[s,o];const u=eN(n),c=new Foe(u,!1,i),f=this.runWebGLProgram(c,[a],r,[[s,o]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),f.dataId}write(t,n,r){if((Pe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Pe().getBool("DEBUG"))&&this.checkNumericalProblems(t),r==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:t,usage:jl.UPLOAD,refCount:1}),s}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){const n=this.texData.get(t);n.refCount++}decRef(t){if(this.texData.has(t)){const n=this.texData.get(t);n.refCount--}}move(t,n,r,s,o){if(Pe().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:r,dtype:s,values:n,usage:jl.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){const n=this.texData.get(t),{values:r,dtype:s,complexTensorInfos:o,slice:i,shape:a,isPacked:l}=n;if(i!=null){let d;l?d=new Ng(a,vg):d=new zf(a,vg);const h=this.runWebGLProgram(d,[{dataId:t,shape:a,dtype:s}],s),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(t);if(s==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=Fi());let f;if(s==="complex64"){const d=this.readSync(o.real.dataId),h=this.readSync(o.imag.dataId);f=op(d,h)}else f=this.getValuesFromTexture(t);return u&&(this.downloadWaitMs+=Fi()-c),this.convertAndCacheOnCPU(t,f)}async read(t){if(this.pendingRead.has(t)){const p=this.pendingRead.get(t);return new Promise(g=>p.push(g))}const n=this.texData.get(t),{values:r,shape:s,slice:o,dtype:i,complexTensorInfos:a,isPacked:l}=n;if(o!=null){let p;l?p=new Ng(s,vg):p=new zf(s,vg);const g=this.runWebGLProgram(p,[{dataId:t,shape:s,dtype:i}],i),m=this.read(g.dataId);return this.disposeIntermediateTensorInfo(g),m}if(r!=null)return this.convertAndCacheOnCPU(t);if(Pe().getBool("DEBUG")&&!Pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Pe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(i!=="complex64"&&Pe().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(t);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...ZI(s))}this.pendingRead.set(t,[]),i!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(i==="complex64"){const p=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),g=p[0],m=p[1];f=op(g,m)}else if(u==null)f=this.getValuesFromTexture(t);else{const p=je(s);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Vt(p,()=>p.deleteBuffer(u))}const d=this.convertAndCacheOnCPU(t,f),h=this.pendingRead.get(t);return this.pendingRead.delete(t),h.forEach(p=>p(d)),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&uc().removeDataId(t,this),this.pendingDeletes--),d}readToGPU(t,n={}){const r=this.texData.get(t),{values:s,shape:o,slice:i,dtype:a,isPacked:l,texture:u}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(i!=null){let h;l?h=new Ng(o,vg):h=new zf(o,vg);const p=this.runWebGLProgram(h,[{dataId:t,shape:o,dtype:a}],a),g=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),g}if(u==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(t,n.customTexShape),f=uc().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:f},d.texture)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(s=>rp(s));return Wn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Wn(t.shape,t.dtype,n)}checkNumericalProblems(t){if(t!=null)for(let n=0;n<t.length;n++){const r=t[n];if(!eit(r))throw Pe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(t){const{shape:n,dtype:r,isPacked:s}=this.texData.get(t),o=je(n);if(Pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(t),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...ZI(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(d),p}const i=Pe().getBool("WEBGL_PACK")&&s===!0,a=i?eN(n):n,l=i?new mat(a):new gat(a),u=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:t}],"float32"),c=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,t();const o=id(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),i=id(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(o);a.kernelMs=R1e(l),a.getExtraProfileInfo=()=>l.map((u,c)=>({name:i[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Fi(),endMs:null}}endTimer(t){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Fi(),t)}async getQueryTime(t){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(t);const n=t;return n.endMs-n.startMs}disposeData(t,n=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(n?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!n&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);const{complexTensorInfos:r}=this.texData.get(t);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(t),!0}releaseGPUData(t){const{texture:n,dtype:r,texShape:s,usage:o,isPacked:i,slice:a}=this.texData.get(t),l=a&&a.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,o,i)));const c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture.texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,n=Ylt){return Pe().getBool("WEBGL_CPU_FORWARD")&&t.every(r=>this.texData.get(r.dataId).texture==null&&je(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(t){Vl("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=t.dataSync();return Hlt(t.shape,n)}packedUnaryOp(t,n,r){const s=new Ng(t.shape,n),o=this.compileAndRun(s,[t],r);return uc().makeTensorFromTensorInfo(o)}abs(t){if(this.shouldExecuteOnCPU([t])&&t.dtype!=="complex64"){const s=nSe(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,s)}if(Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Boe,t.dtype);const n=new zf(t.shape,Boe),r=this.compileAndRun(n,[t]);return uc().makeTensorFromTensorInfo(r)}makeTensorInfo(t,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Lf(r[0])){const o=r.map(i=>Uf(i));s=this.write(o,t,n)}else s=this.write(r,t,n);return this.texData.get(s).usage=null,{dataId:s,shape:t,dtype:n}}makeOutput(t,n,r){return uc().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,r),this)}unpackTensor(t){const n=new jlt(t.shape);return this.runWebGLProgram(n,[t],t.dtype)}packTensor(t){const n=new Tlt(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)}packedReshape(t,n){const r=[zw(t.shape),...Vw(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},o=[zw(n),...Vw(n)],i=new oSe(o,r),a=!0,l=[r],u=this.runWebGLProgram(i,[s],t.dtype,l,a);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(t,n){const r=this.texData.get(t),{isPacked:s,shape:o,dtype:i}=r;if(n!=null){const d=je(o),h=n[0]*n[1]*4;te(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=eN(o);let l;s?l=new pat(a):l=new hat(a);const u=!0,c=[n??ZI(a)],f=this.runWebGLProgram(l,[{shape:a,dtype:i,dataId:t}],i,c,u,n);return{dtype:i,shape:o,dataId:f.dataId}}runWebGLProgram(t,n,r,s,o=!1,i){const a=this.makeTensorInfo(t.outputShape,r),l=this.texData.get(a.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===Hk.DENSE){const v=i??ZI(t.outputShape);l.texShape=v.map(y=>y*2)}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),je(a.shape)===0)return l.values=Eo(a.dtype,0),a;const u=[],c=n.map(v=>{if(v.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(v.dataId);if(y.texture==null){if(!t.packedInputs&&je(v.shape)<=Pe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:v.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=v.shape)}if(this.uploadToGPU(v.dataId),!!y.isPacked!=!!t.packedInputs)v=y.isPacked?this.unpackTensor(v):this.packTensor(v),u.push(v),y=this.texData.get(v.dataId);else if(y.isPacked&&!jO(y.shape,v.shape)){const b=v,w=v.shape;v.shape=y.shape,v=this.packedReshape(v,w),u.push(v),y=this.texData.get(v.dataId),b.shape=w}return{shape:v.shape,texData:y,isUniform:!1}});this.uploadToGPU(a.dataId);const f={shape:a.shape,texData:l,isUniform:!1},d=dat(t,c,f),h=this.getAndSaveBinary(d,()=>cat(this.gpgpu,t,c,f)),p=this.activeTimers!=null;let g;p&&(g=this.startTimer()),Pe().get("ENGINE_COMPILE_ONLY")||fat(this.gpgpu,h,c,f,s),u.forEach(v=>this.disposeIntermediateTensorInfo(v)),p&&(g=this.endTimer(g),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(g)}));const m=Pe().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const v=Fi();v-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=v)}if(!Pe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){const v=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),v}return a}compileAndRun(t,n,r,s,o=!1){return r=r||n[0].dtype,this.runWebGLProgram(t,n,r,s,o)}getAndSaveBinary(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Pe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Le(()=>{if(!Pe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const t=Pe().getBool("DEBUG");Pe().set("DEBUG",!1);const n=this.abs(Sn(1e-8)).dataSync()[0];if(Pe().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?qlt:Glt}uploadToGPU(t){const n=this.texData.get(t),{shape:r,dtype:s,values:o,texture:i,usage:a,isPacked:l}=n;if(i!=null)return;const u=this.activeTimers!=null;let c;u&&(c=Fi());let f=n.texShape;if(f==null&&(f=yit(r,l),n.texShape=f),o!=null){const d=eN(r);let h,p=f[1],g=f[0];const m=o instanceof Uint8Array||o instanceof Uint8ClampedArray;(l||!m)&&([p,g]=Z2(f[0],f[1])),l?h=new yat(d,m):h=new Foe(d,m);const v=m?[g,p]:f,y=this.makeTensorInfo(v,s),b=this.texData.get(y.dataId);m?b.usage=jl.PIXELS:b.usage=jl.UPLOAD,b.texShape=v,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),p,g,o);const w=[[g,p]],S=this.runWebGLProgram(h,[y],s,w,!0),$=this.texData.get(S.dataId);n.texShape=$.texShape,n.isPacked=$.isPacked,n.usage=$.usage,Pe().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=$.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(y),u&&(this.uploadWaitMs+=Fi()-c)}else{const d=this.acquireTexture(f,a,s,l);n.texture=d}}convertAndCacheOnCPU(t,n){const r=this.texData.get(t),{dtype:s}=r;return n!=null&&(r.values=Jlt(n,s)),r.values}acquireTexture(t,n,r,s){if(this.numBytesInGPU+=this.computeBytes(t,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${o} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,n,s)}computeBytes(t,n){return t[0]*t[1]*Ek(n)}checkCompileCompletion(){for(const[,t]of Object.entries(this.binaryCache))this.checkCompletion_(t)}async checkCompileCompletionAsync(){const t=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))t.push(this.checkCompletionAsync_(n));return Promise.all(t)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(o){throw o}});t.push(r)}return Promise.all(t)}}async checkCompletionAsync_(t){return this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(t):(await RG(),this.checkCompletionAsync_(t))}checkCompletion_(t){if(this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(t.webGLProgram)),this.gpgpu.gl.getShaderParameter(t.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(jCe(t.source,this.gpgpu.gl.getShaderInfoLog(t.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const t of Object.values(this.binaryCache)){this.gpgpu.buildVao(t.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:o,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:l}=YCe(this.gpgpu,t.program,t.webGLProgram);t.variablesLocations=n,t.customUniformLocations=r,t.infLoc=s,t.nanLoc=o,t.outShapeLocation=i,t.outShapeStridesLocation=a,t.outTexShapeLocation=l}}createTensorFromGPUData(t,n,r){t.channels=t.channels||"RGBA";const{texture:s,height:o,width:i,channels:a}=t,l=uc().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(s,n,r,o,i,a);return uc().makeTensorFromDataId(u,n,r,l)}}qP.nextDataId=0;function Jlt(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){const n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}Mq()&&Pq("webgl",()=>new qP,2);const LK=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class E1{constructor(t,n,r){this.variableNames=["A","B"],this.outputShape=Dn(n,r),this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${t}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const vy=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class nC{constructor(t,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Dn(n,r);const o=this.outputShape.length;this.enableShapeUniforms=xi(o);let i="";if(s)if(o===0||je(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${Wr(o)} coords = getOutputCoords();
        `,o===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Ui("coords",o);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= outShape[${o} - 2];
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= outShape[${o} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= ${this.outputShape[o-2]};
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= ${this.outputShape[o-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${t}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}}function xl(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Qlt={kernelName:v2,backendName:"webgl",kernelFunc:xl};function u0(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,o=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(o.dataId),a=xl({inputs:{x:r},backend:n}),l=xl({inputs:{x:s},backend:n});return i.complexTensorInfos={real:a,imag:l},o}const eut={kernelName:JM,backendName:"webgl",kernelFunc:u0};const iSe="return (a < 0.) ? b * a : a;",aSe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function tut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:o}=r,i=n.makeTensorInfo([],"float32",Ep(o,"float32")),a=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(aSe,s.shape,i.shape):new E1(iSe,s.shape,i.shape),l=n.runWebGLProgram(a,[s,i],"float32");return n.disposeIntermediateTensorInfo(i),l}const nut={kernelName:Q_,backendName:"webgl",kernelFunc:tut};const lSe="return (a < 0.) ? b * a : a;",uSe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function rut(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(uSe,r.shape,s.shape):new E1(lSe,r.shape,s.shape);return n.runWebGLProgram(o,[r,s],"float32")}const sut={kernelName:yT,backendName:"webgl",kernelFunc:rut};const rC="if (isnan(x)) return x;";function dr({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:o})=>{const{x:i}=s,a=o,l=r||i.dtype;if(a.shouldExecuteOnCPU([i])&&n!=null){const f=a.texData.get(i.dataId),d=n(f.values,l);return a.makeTensorInfo(i.shape,l,d)}const u=Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null;let c;return u?c=new Ng(i.shape,t):c=new zf(i.shape,e),a.runWebGLProgram(c,[i],l)}}function ei({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:o}){return({inputs:i,backend:a})=>{const{a:l,b:u}=i,c=a;if(r&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),g=c.texData.get(u.dataId),[m,v]=[[p.complexTensorInfos.real,g.complexTensorInfos.real],[p.complexTensorInfos.imag,g.complexTensorInfos.imag]].map(b=>{const[w,C]=b,S={dataId:w.dataId,dtype:w.dtype,shape:l.shape},$={dataId:C.dataId,dtype:C.dtype,shape:u.shape},k=new E1(e,l.shape,u.shape);return c.runWebGLProgram(k,[S,$],Oa(w.dtype,C.dtype))}),y=u0({inputs:{real:m,imag:v},backend:c});return c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(v),y}const f=o||Oa(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&s!=null){const p=c.texData.get(l.dataId).values,g=c.texData.get(u.dataId).values,m=l.dtype==="string"?ip(p):p,v=l.dtype==="string"?ip(g):g,[y,b]=s(l.shape,u.shape,m,v,f),w=c.makeTensorInfo(b,f),C=c.texData.get(w.dataId);return C.values=y,w}const d=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null;let h;return d?h=new nC(t,l.shape,u.shape,n):h=new E1(e,l.shape,u.shape),c.runWebGLProgram(h,[l,u],f)}}function qk(e,t=!1){if(e==="linear")return t?Blt:Rlt;if(e==="relu")return t?Vlt:Mlt;if(e==="elu")return t?zlt:Flt;if(e==="relu6")return t?Wlt:Plt;if(e==="prelu")return t?uSe:lSe;if(e==="leakyrelu")return t?aSe:iSe;if(e==="sigmoid")return t?Ult:Llt;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class cSe{constructor(t,n,r,s=!1,o=!1,i=!1,a=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=xi(this.outputShape.length);const c=s?t[1]:t[2],f=Math.ceil(c/2),d=s?"i * 2, rc.y":"rc.y, i * 2",h=o?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",v="";a&&(l?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:u?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:m=`vec4 activation(vec4 x) {
          ${a}
        }`,v="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let b="rc.x",w="rc.x";t[0]<n[0]?b=`imod(rc.x, ${t[0]})`:n[0]<t[0]&&(w=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${m}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${w};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${g[0]});
          result += (${p[1]} * ${g[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${v}

        setOutput(result);
      }
    `}}const zoe={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Voe{constructor(t,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Dn(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${t}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const Woe="return a * b;";function BK(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,o=Oa(r.dtype,s.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),u=new Voe(zoe.REAL,r.shape,s.shape),c=new Voe(zoe.IMAG,r.shape,s.shape),f=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=u0({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,s])){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[u,c]=rlt(r.shape,s.shape,a.values,l.values,o),f=n.makeTensorInfo(c,o),d=n.texData.get(f.dataId);return d.values=u,f}let i;return Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?i=new nC(Woe,r.shape,s.shape):i=new E1(Woe,r.shape,s.shape),n.runWebGLProgram(i,[r,s],o)}const out={kernelName:E2,backendName:"webgl",kernelFunc:BK};function iut(e,t,n){const r=[zw(e.shape),...Vw(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},o=[zw(t),...Vw(t)],i=new oSe(o,r),a=!0,l=[r],u=n.runWebGLProgram(i,[s],e.dtype,l,a);return{dataId:u.dataId,shape:t,dtype:u.dtype}}function Ot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:o}=r,i=n,a=je(s.shape),l=Tq(o,a),u=je(l);te(a===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const c=i.texData.get(s.dataId);return c.isPacked&&!jO(s.shape,l)&&!(c.texture!==null&&jO(c.shape,l))?iut(s,l,i):(i.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const aut={kernelName:wT,backendName:"webgl",kernelFunc:Ot};class Uoe{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:o,outSize:i}=t;this.outputShape=[s,i];const a=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${p1(f)?f.toPrecision(2):f}, ones);`}let c="";o%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${a};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}class lut{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:o,outSize:i}=t;this.outputShape=[s,i];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,f=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";o%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}function uut(e){const t=[];for(;t.length===0||t[t.length-1].outSize!==1;){const n=t.length?t[t.length-1].outSize:e[1],r=IP(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function yy(e,t,n,r){const s=uut(e.shape);let o=e;for(let i=0;i<s.length;i++){const{inSize:a,windowSize:l,outSize:u}=s[i];let c,f;n==="mean"?c=i===0?new Uoe({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u},a):new Uoe({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u}):c=new lut({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u},n),f=o,o=r.runWebGLProgram(c,[o],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return o}class cut{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;const s=Wr(this.rank),o=fut(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${o}));
    }
    `}}function fut(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let s=0;s<e.length;s++)r[e[s]]=n[s];return r.join()}class dut{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(t.length);for(let c=0;c<r.length;c++)r[c]=t[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=Wr(this.rank),o=sSe("rc",this.rank),i=new Array(this.rank);for(let c=0;c<n.length;c++)i[n[c]]=o[c];const a=`vec2(${i.slice(-2).join()})`,l=`++${o[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${o[this.rank-1]};
      if(++${o[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}function GP(e,t,n){const r=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new dut(e.shape,t):new cut(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function hut(e,t,n,r){const s=t,o=e.shape.length,i=qn(s,e.shape);let a=i;const l=As(a,o),u=l!=null;let c=e;u&&(c=GP(e,l,r),a=Hs(a.length,o)),Qo("sum",a,o);const[f,d]=Ao(c.shape,a);let h=f;n&&(h=Us(f,i));const p=je(d),m=je(e.shape)/p,v=Ot({inputs:{x:c},attrs:{shape:[m,p]},backend:r}),y=J4(e.dtype),b=yy(v,y,"sum",r),w=Ot({inputs:{x:b},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(b),u&&r.disposeIntermediateTensorInfo(c),w}function KP(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;return hut(s,o,i,n)}const put={kernelName:ET,backendName:"webgl",kernelFunc:KP};function la(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{perm:o}=r,i=n,a=s.shape.length,l=new Array(a);for(let c=0;c<l.length;c++)l[c]=s.shape[o[c]];let u;if(i.shouldExecuteOnCPU([s])){const f=i.texData.get(s.dataId).values,d=PK(f,s.shape,s.dtype,o,l);u=i.makeTensorInfo(l,s.dtype);const h=i.texData.get(u.dataId);h.values=d}else u=GP(s,o,i);return u}const gut={kernelName:Hv,backendName:"webgl",kernelFunc:la};const fSe=1e3;function HO({a:e,b:t,transposeA:n,transposeB:r,backend:s,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,f=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],h=n?e.shape[u-1]:e.shape[u-2],p=r?t.shape[c-2]:t.shape[c-1],g=e.shape.slice(0,-2),m=t.shape.slice(0,-2),v=je(g),y=je(m),w=Dn(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([h,p]);te(f===d,()=>`Error in matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=n?[v,f,h]:[v,h,f],S=r?[y,p,d]:[y,d,p],$=Ot({inputs:{x:e},backend:s,attrs:{shape:C}}),k=Ot({inputs:{x:t},backend:s,attrs:{shape:S}}),T=[$,k],_=Math.max(v,y),E=n?$.shape[1]:$.shape[2],A=o!=null,I=i!=null,F=l==="leakyrelu",R=l!=null?qk(l,!0):null,L=A||I||F||R!=null;let D;if((h===1||p===1)&&E>fSe&&L===!1){let M=$,z=k;n&&(M=la({inputs:{x:$},backend:s,attrs:{perm:[0,2,1]}}),T.push(M)),r&&(z=la({inputs:{x:k},backend:s,attrs:{perm:[0,2,1]}}),T.push(z));const W=p!==1,j=p===1;let U=M;W&&(U=Ot({inputs:{x:M},backend:s,attrs:{shape:[_,E,1]}}),T.push(U));const Y=p===1?2:1;let G=z;j&&(G=Ot({inputs:{x:z},backend:s,attrs:{shape:[_,1,E]}}),T.push(G));const ne=BK({inputs:{a:U,b:G},backend:s});D=KP({inputs:{x:ne},backend:s,attrs:{axis:Y,keepDims:!0}}),T.push(ne)}else{const M=Oa(e.dtype,t.dtype),z=new cSe(C,S,[_,h,p],n,r,A,R,I,F),W=[$,k];if(o!=null&&W.push(o),I&&W.push(i),F){const j=s.makeTensorInfo([],"float32",Ep(a,"float32"));W.push(j),T.push(j)}D=s.runWebGLProgram(z,W,M)}const N=Ot({inputs:{x:D},backend:s,attrs:{shape:w}});T.push(D);for(const M of T)s.disposeIntermediateTensorInfo(M);return N}function mut(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o,bias:i,preluActivationWeights:a}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return HO({a:s,b:o,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:a,leakyreluAlpha:f,activation:c})}const vut={kernelName:_k,backendName:"webgl",kernelFunc:mut};const joe="return abs(x);";function yut(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const o=n.texData.get(r.dataId),i=nSe(o.values);return n.makeTensorInfo(r.shape,r.dtype,i)}let s;return Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ng(r.shape,joe):s=new zf(r.shape,joe),n.runWebGLProgram(s,[r],r.dtype)}const but={kernelName:N_,backendName:"webgl",kernelFunc:yut};const wut=Zu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,xut=dr({opSnippet:wut}),Cut={kernelName:Zx,backendName:"webgl",kernelFunc:xut};const Sut=Zu+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,$ut=dr({opSnippet:Sut}),kut={kernelName:Jx,backendName:"webgl",kernelFunc:$ut};const Hoe="return a + b;",Eut=ei({opSnippet:Hoe,packedOpSnippet:Hoe,supportsComplex:!0,cpuKernelImpl:Mat}),_ut={kernelName:ay,backendName:"webgl",kernelFunc:Eut};class Tut{constructor(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((o,i)=>`T${i}`);const r=[];this.variableNames.forEach(o=>{r.push(`float v${o} = get${o}AtOutCoords();`)});const s=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}class Aut{constructor(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((o,i)=>`T${i}`);const r=[];this.variableNames.forEach(o=>{r.push(`vec4 v${o} = get${o}AtOutCoords();`)});const s=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}function i3(e){const{inputs:t,backend:n}=e,r=t;if(r.length===1)return xl({inputs:{x:r[0]},backend:n});if(r.length>Pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=i3({inputs:r.slice(0,l),backend:n}),c=i3({inputs:r.slice(l),backend:n});return i3({inputs:[u,c],backend:n})}const s=r.map(l=>l.dtype).reduce((l,u)=>Oa(l,u)),o=r.map(l=>l.shape),a=Pe().getBool("WEBGL_PACK")?new Aut(r[0].shape,o):new Tut(r[0].shape,o);return n.runWebGLProgram(a,r,s)}const Iut={kernelName:D_,backendName:"webgl",kernelFunc:i3};function Nut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,a)),Qo("all",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"all",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const Dut={kernelName:qM,backendName:"webgl",kernelFunc:Nut};function Out(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,a)),Qo("any",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"any",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const Rut={kernelName:GM,backendName:"webgl",kernelFunc:Out};class Fut{constructor(t,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:o,outSize:i}=t;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const a=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}class Mut{constructor(t,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,te(t.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const o=t[t.length-1],i=Math.ceil(o/n);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,u=Wr(l),c=Ui("coords",l);let f,d;if(i===1){d=l+1;const k=Wr(d);f=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else d=l,f=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],g=h.map(k=>"int "+k),m=Ui("sourceLocR",d-1).concat("inIdx.r"),v=Ui("sourceLocG",d-1).concat("inIdx.g"),y=Ui("sourceLocB",d-1).concat("inIdx.b"),b=Ui("sourceLocA",d-1).concat("inIdx.a"),w=r==="max"?"greaterThan":"lessThan",C=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${b.join()})));`,S=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${v.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,$=s?"":`
      float getBestIndicesAChannel(${g.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${g.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${$}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${a[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${a[l-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${C}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function dSe(e,t,n,r=null){let s=t.shape[0],o=t.shape[1];r!=null&&(s=r.shape[0],o=r.shape[1]);const i=IP(o),a={windowSize:i,inSize:o,batchSize:s,outSize:Math.ceil(o/i)},l=new Fut(a,n,r==null),u=[t];r!=null&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const f=dSe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function hSe(e,t,n,r=null){const s=r!=null?r.shape:t.shape,o=s[s.length-1],i=IP(o),a=new Mut(s,i,n,r==null),l=r==null?[t]:[t,r],u=e.runWebGLProgram(a,l,"int32");if(u.shape.length===t.shape.length){const c=hSe(e,t,n,u);return e.disposeIntermediateTensorInfo(u),c}return u}function pSe(e,t,n,r){const s=[n];if(Qo("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,t.shape.length),!Pe().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const o=[],i=e.texData.get(t.dataId),a=i!==null&&i.isPacked;let l=t;a&&(l=e.unpackTensor(t),o.push(l));const[u,c]=Ao(l.shape,s),f=je(c),d=Ot({inputs:{x:l},backend:e,attrs:{shape:[-1,f]}});o.push(d);const h=dSe(e,d,r);o.push(h);const p=Ot({inputs:{x:h},backend:e,attrs:{shape:u}});return o.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}return hSe(e,t,r)}function Put(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=la({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),Qo("argMax",[i[0]],l.shape.length);const c=pSe(n,l,i[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Lut={kernelName:O_,backendName:"webgl",kernelFunc:Put};function But(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=la({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),Qo("argMin",[i[0]],l.shape.length);const c=pSe(n,l,i[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const zut={kernelName:R_,backendName:"webgl",kernelFunc:But};const Vut=Zu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Wut=dr({opSnippet:Vut}),Uut={kernelName:Qx,backendName:"webgl",kernelFunc:Wut};const jut=Zu+"return log(x + sqrt(x * x + 1.0));",Hut=dr({opSnippet:jut}),qut={kernelName:e2,backendName:"webgl",kernelFunc:Hut};const Gut=Zu+`
  return atan(x);
`,Kut=dr({opSnippet:Gut}),Yut={kernelName:t2,backendName:"webgl",kernelFunc:Kut};const Xut=LK+`
  return atan(a, b);
`,Zut=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,Jut=ei({opSnippet:Xut,packedOpSnippet:Zut}),Qut={kernelName:r2,backendName:"webgl",kernelFunc:Jut};const ect=Zu+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,tct=dr({opSnippet:ect}),nct={kernelName:n2,backendName:"webgl",kernelFunc:tct};class Gk{constructor(t,n,r,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const i=t.filterWidth,a=t.strideHeight,l=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;const g=n==="avg",m=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,v=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`;let y="0.0";if(g||(y="-1.0 / 1e-20"),r){this.userCode=`
        const ivec2 strides = ivec2(${a}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?o?m:v:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let w=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(w="avgValue / max(count, 1.0)");const C=Math.floor(i/4)*4,S=i%4,$=`
      if (${g}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${C}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${$}
          }

          int xC = xCCorner + ${C};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${$}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${$}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${$}
          }
        }
        setOutput(${w});
      }
    `}}class zK{constructor(t,n,r,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const i=t.filterWidth,a=t.strideDepth,l=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,g=t.effectiveFilterWidth,m=t.padInfo.front,v=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;const b=n==="avg";let w="0.0";if(b||(w="-1.0 / 1e-20"),r){this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${l}, ${u});
        const ivec3 pads = ivec3(${m}, ${v}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${t.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${g};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?o?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${p} * ${g} +
                      wR * ${g} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / max(count, 1.0)");const $=Math.floor(i/4)*4,k=i%4,T=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${l}, ${u});
      const ivec3 pads = ivec3(${m}, ${v}, ${y});
      const float initializationValue = ${w};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${w});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${$}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${$};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${T}
            }
          }
        }
        setOutput(${S});
      }
    `}}function rct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;nA(s,"avgPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Yu(s.shape,o,i,u,a,l);if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))return xl({inputs:{x:s},backend:n});const f=new Gk(c,"avg",!1);return n.runWebGLProgram(f,[s],"float32")}const sct={kernelName:F_,backendName:"webgl",kernelFunc:rct};function oct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],f=_p(s.shape,o,i,c,a,l,u),d=new zK(f,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const ict={kernelName:M_,backendName:"webgl",kernelFunc:oct};class act{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=l-1-t.padInfo.top,f=u-1-t.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${f});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class lct{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,s=t.filterWidth,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,g=d-1-t.padInfo.top,m=h-1-t.padInfo.left,v=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${g}, ${m});
      const float avgMultiplier = float(${v});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${o}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function uct(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o,{filterSize:a,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=_p(i.shape,a,l,f,u,c),h=new lct(d);return n.runWebGLProgram(h,[s],i.dtype)}const cct={kernelName:YM,backendName:"webgl",kernelFunc:uct};function fct(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o;nA([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:u}=r,c=Yu(i.shape,a,l,1,u),f=new act(c);return n.runWebGLProgram(f,[s],i.dtype)}const dct={kernelName:KM,backendName:"webgl",kernelFunc:fct};function hct(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o}=t,{transposeA:i,transposeB:a}=r;return HO({a:s,b:o,transposeA:i,transposeB:a,backend:n})}const pct={kernelName:P_,backendName:"webgl",kernelFunc:hct};class gct{constructor(t,n,r,s,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Dn(t,n),Dn(t,r);let a="0.0";s!=null&&(Dn(t,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";o!=null&&(Dn(t,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}class mct{constructor(t,n,r,s,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Dn(t,n),Dn(t,r);let a="vec4(0.0)";s!=null&&(Dn(t,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";o!=null&&(Dn(t,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}}const vct=({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:s,variance:o,offset:i,scale:a}=e;te(s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(i==null||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,s,o];let c=null;i!=null&&(c=i.shape,u.push(i));let f=null;a!=null&&(f=a.shape,u.push(a));const d=Pe().getBool("WEBGL_PACK_NORMALIZATION")?new mct(r.shape,s.shape,o.shape,c,f,l):new gct(r.shape,s.shape,o.shape,c,f,l);return t.runWebGLProgram(d,u,u[0].dtype)},yct={kernelName:X_,backendName:"webgl",kernelFunc:vct};class bct{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const n=Wr(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=wct(this.rank);let s;const o=t.map((i,a)=>`sourceLoc.${YV[a]} = start[${a}] + coords.${YV[a]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${o.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const YV=["x","y","z","w","u","v"];function wct(e){if(e===1)return"sourceLoc";if(e<=6)return YV.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}class xct{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Wr(this.rank),r=Ui("coords",this.rank),s=Ui("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,i=`getChannel(getSource(${s.join()}), ${o})`,a=`
      result.x = ${i};
      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${i};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${i};
        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${i};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${t.map((c,f)=>`start[${f}]`).join()});`:t.map((c,f)=>`${s[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${a}
        ${l}
        setOutput(result);
      }
    `}}function Cct(e,t,n,r){const s=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),i=r.texData.get(o.dataId);Object.assign(i,s),i.refCount=1,i.shape=n,i.dtype=e.dtype;let a=DG(t,fn(e.shape));s.slice&&(a+=s.slice.flatOffset),i.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||e.dataId};const l=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,l+1),o}function sC(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,size:i}=r,[a,l]=AP(s,o,i);if(AG(s,a,l),je(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const f=n.texData.get(s.dataId),d=plt(f.values,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,d)}const{isPacked:u}=n.texData.get(s.dataId),c=NG(s.shape,a,l);if(u||!c){const f=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xct(l):new bct(l),d=[a];return n.runWebGLProgram(f,[s],s.dtype,d)}return n.uploadToGPU(s.dataId),Cct(s,a,l,n)}const Sct={kernelName:kT,backendName:"webgl",kernelFunc:sC};const $ct=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,crops:i}=r;te(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((y,b)=>y*b),l=UT(s.shape,o,a),u=jT(l.length,o.length),c=HT(s.shape,o,a),f=LG(i,o.length),d=BG(c,i,o.length),h=[],p=Ot({inputs:{x:s},backend:n,attrs:{shape:l}}),g=la({inputs:{x:p},backend:n,attrs:{perm:u}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:c}}),v=sC({inputs:{x:m},backend:n,attrs:{begin:f,size:d}});return h.push(p),h.push(g),h.push(m),h.forEach(y=>n.disposeIntermediateTensorInfo(y)),v},kct={kernelName:L_,backendName:"webgl",kernelFunc:$ct};function Ect(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i}=r,a=n.readSync(s.dataId),l=n.readSync(o.dataId),u=tSe(a,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}const _ct={kernelName:XM,backendName:"webgl",kernelFunc:Ect};const Tct=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,Act=`
  return float(int(a.r) & int(b.r));
`;function Ict(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=Pe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||i===1){const l=n.texData.get(r.dataId).values,u=n.texData.get(s.dataId).values,[c,f]=Lat(r.shape,s.shape,l,u,r.dtype),d=n.makeTensorInfo(f,r.dtype),h=n.texData.get(d.dataId);return h.values=c,d}let a;return o?a=new nC(Tct,r.shape,s.shape,!1):a=new E1(Act,r.shape,s.shape),n.runWebGLProgram(a,[r,s],r.dtype)}const Nct={kernelName:B_,backendName:"webgl",kernelFunc:Ict};function Dct(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,o=n.readSync(r.dataId),i=n.readSync(s.dataId),a=Dn(Array.from(o),Array.from(i));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const Oct={kernelName:ZM,backendName:"webgl",kernelFunc:Dct};const Rct="return float(a != b);",gSe=ei({opSnippet:Rct,cpuKernelImpl:olt,dtype:"bool"}),Fct={kernelName:hT,backendName:"webgl",kernelFunc:gSe};function sA(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.texData.get(r.dataId);return xl({inputs:{x:s.complexTensorInfos.real},backend:n})}const Mct={kernelName:N4,backendName:"webgl",kernelFunc:sA};const Pct="return float(int(x));";function Lct(e,t){const n=new zf(e.shape,Pct),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function XV(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dtype:o}=r;if(o==="complex64"){if(s.dtype==="complex64")return xl({inputs:{x:s},backend:n});const i=no(s.shape),a=XV({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=u0({inputs:{real:a,imag:i},backend:n});return i.dispose(),n.disposeIntermediateTensorInfo(a),l}if(s.dtype==="complex64"){const i=sA({inputs:{input:s},backend:n}),a=XV({inputs:{x:i},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(i),a}if(!Aq(s.dtype,o)){const i=xl({inputs:{x:s},backend:n});return{dataId:i.dataId,shape:i.shape,dtype:o}}if(n.shouldExecuteOnCPU([s])){const i=n.texData.get(s.dataId).values,[a,l,u]=Bat(i,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,u)}if(o==="int32")return Lct(s,n);if(o==="bool"){const i=n.makeTensorInfo([],"bool",Eo("bool",1)),l=gSe({inputs:{a:s,b:i},backend:n});return n.disposeIntermediateTensorInfo(i),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${o}`)}const Bct={kernelName:s2,backendName:"webgl",kernelFunc:XV};const qoe="return ceil(x);",zct=dr({opSnippet:qoe,packedOpSnippet:qoe,cpuKernelImpl:zat}),Vct={kernelName:o2,backendName:"webgl",kernelFunc:zct};class Wct{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class Uct{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}function jct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{clipValueMin:o,clipValueMax:i}=r;let a;Pe().getBool("WEBGL_PACK_CLIP")?a=new Uct(s.shape):a=new Wct(s.shape);const l=[[o],[i]];return n.runWebGLProgram(a,[s],s.dtype,l)}const Hct={kernelName:i2,backendName:"webgl",kernelFunc:jct};class qct{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function Goe(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function Gct(e){const{inputs:t,backend:n}=e,{x:r}=t,s=n.texData.get(r.dataId),o=new qct(r.shape),i=[Goe(r,s.complexTensorInfos.real),Goe(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}const Kct={kernelName:z_,backendName:"webgl",kernelFunc:Gct};class Yct{constructor(t){this.outputShape=[],this.outputShape=Hf(t,1),this.variableNames=t.map((i,a)=>`T${a}`);const n=new Array(t.length-1);n[0]=t[0][1];for(let i=1;i<n.length;i++)n[i]=n[i-1]+t[i][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<n.length;i++){const a=n[i-1];r.push(`else if (yC < ${n[i]}) setOutput(getT${i}(yR, yC-${a}));`)}const s=n.length,o=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${o}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}class Xct{constructor(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Hf(t,n);const r=this.outputShape,s=r.length,o=Wr(s),i=Ui("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=t.map((g,m)=>`T${m}`);const l=new Array(t.length-1);l[0]=t[0][n];for(let g=1;g<l.length;g++)l[g]=l[g-1]+t[g][n];const u=a[n],c=a.slice(-2),f=a.join();let d=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${f}), vec2(${c.join()}));
        }`;for(let g=1;g<l.length;g++){const m=l[g-1];d+=`
        if (${u} < ${l[g]}  && ${u} >= ${l[g-1]}) {
          return getChannel(
            getT${g}(${rN(a,u,m)}),
            vec2(${rN(c,u,m)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${rN(a,u,p)}),
          vec2(${rN(c,u,p)}));`,this.userCode=`
      float getValue(${a.map(g=>"int "+g)}) {
        ${d}
      }

      void main() {
        ${o} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[s-1]} = ${i[s-1]} + 1;
        if (${i[s-1]} < ${r[s-1]}) {
          result.g = getValue(${i});
        }

        ${i[s-2]} = ${i[s-2]} + 1;
        if (${i[s-2]} < ${r[s-2]}) {
          result.a = getValue(${i});
        }

        ${i[s-1]} = ${i[s-1]} - 1;
        if (${i[s-2]} < ${r[s-2]} &&
            ${i[s-1]} < ${r[s-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}}function rN(e,t,n){const r=e.indexOf(t);return e.map((o,i)=>i===r?`${o} - ${n}`:o).join()}function YP(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.texData.get(r.dataId);return xl({inputs:{x:s.complexTensorInfos.imag},backend:n})}const Zct={kernelName:v4,backendName:"webgl",kernelFunc:YP};function s$(e,t,n){const r=e[0].dtype;if(r==="complex64"){const h=e.map(y=>sA({inputs:{input:y},backend:n})),p=e.map(y=>YP({inputs:{input:y},backend:n})),g=s$(h,t,n),m=s$(p,t,n),v=u0({inputs:{real:g,imag:m},backend:n});return h.forEach(y=>n.disposeIntermediateTensorInfo(y)),p.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),v}let s=n.shouldExecuteOnCPU(e);if(r==="string"&&(s=!0),s){const h=e.map(w=>{const S=[-1,je(w.shape.slice(t))];return Ot({inputs:{x:w},backend:n,attrs:{shape:S}})}),p=h.map(w=>({vals:n.readSync(w.dataId),shape:w.shape})),g=Hf(h.map(w=>w.shape),1),m=h[0].shape[0]===1,v=Vat(p,g,r,m),y=Hf(e.map(w=>w.shape),t),b=n.makeTensorInfo(y,r,v);return h.forEach(w=>n.disposeIntermediateTensorInfo(w)),b}const o=e.filter(h=>je(h.shape)>0),i=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(o.length===1){const h=i?new zf(e[0].shape,vg):new Ng(e[0].shape,vg);return n.runWebGLProgram(h,e,r)}const a=Pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>a){const h=[];for(let g=0;g<o.length;g+=a){const m=o.slice(g,g+a);h.push(s$(m,t,n))}const p=s$(h,t,n);for(const g of h)n.disposeIntermediateTensorInfo(g);return p}if(i){const h=new Xct(o.map(p=>p.shape),t);return n.runWebGLProgram(h,o,r)}const{tensors2D:l,outShape:u}=Jct(o,t,n),c=new Yct(l.map(h=>h.shape)),f=n.runWebGLProgram(c,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=Ot({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function Jct(e,t,n){const r=Hf(e.map(o=>o.shape),t);return{tensors2D:e.map(o=>Ot({inputs:{x:o},attrs:{shape:[-1,je(o.shape.slice(t))]},backend:n})),outShape:r}}function mSe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,o=qn(s,t[0].shape)[0],i=t.map(u=>u.shape);FG(i,o);const a=Hf(t.map(u=>u.shape),o);if(je(a)===0)return n.makeTensorInfo(a,t[0].dtype,[]);const l=t.filter(u=>je(u.shape)>0);return l.length===1?xl({inputs:{x:l[0]},backend:n}):s$(l,o,n)}const Qct={kernelName:V_,backendName:"webgl",kernelFunc:mSe};class vSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const i=t.padInfo.top,a=t.padInfo.left,l=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,g=t.inChannels%4,m=t.dataFormat==="channelsLast",v=m?1:2,y=m?2:3,b=m?3:1;let w="",C="";r&&(s?w=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?w=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:w=`
          float activation(float x) {
            ${r}
          }
        `,C="result = activation(result);");const S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${w}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${v}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${t.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${m}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${g===1}) {

              if (${m}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${g===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${m}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${g===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${m}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${C}
        setOutput(result);
      }
    `}}class eft{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const n=t.padInfo.front,r=t.padInfo.top,s=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,g=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${o}, ${i}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${g===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${g===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${g===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ySe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.padInfo.left,a=t.strideWidth,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,f=c;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<c;m++)d+=`
           vec4 xTexelC${m*2};
           int xTexelC${m*2}Ready;
           vec4 xTexelC${m*2+1};
           int xTexelC${m*2+1}Ready;
           vec4 xC${m};`;d+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {
       `;for(let m=0;m<c;m++)d+=`
           xTexelC${m*2} = vec4(0.0);
           xTexelC${m*2}Ready = 0;
           xTexelC${m*2+1} = vec4(0.0);
           xTexelC${m*2+1}Ready = 0;
           xC${m} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let m=0;m<(f+1)/2;m++){const v=m*2;if(d+=`
           xC = xCCorner + ${v*l};
           `,a===1){if(v<c&&(i%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }
               `,l===1&&v>0?d+=`
                 xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                   } else {
                     xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xC${v} = xTexelC${v};
                 `,v+1<c)){const y=i%2===0?UM(l):l;l%2===0&&i%2===1||l%2!==0&&i%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                     xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${v+1}.zw = vec2(0.0);
                     }
                     xTexelC${v+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                     } else {
                      xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                     }
                     `:d+=`
                     xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                     `):y===1?d+=`
                     xC${v+1} = xTexelC${v};
                     `:d+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                       xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${v+1}.zw = vec2(0.0);
                       }
                       xTexelC${v+1}Ready = 1;
                     }

                     xC${v+1} = xTexelC${v+1};
                     `}}else v<c&&(i%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.0);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
               `,v+1<c&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(
                   xTexelC${v}.xy, xTexelC${v+1}.xy);
               `,v+1<c&&(d+=`
                   xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                 `)));v<c&&(d+=`
             wTexel = getW(r, ${v}, d1, d2);
             dotProd += xC${v}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${t.inChannels}) {
               dotProd += xC${v}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,v+1<c&&(d+=`
               wTexel = getW(r, ${v+1}, d1, d2);
               dotProd += xC${v+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${t.inChannels}) {
                 dotProd += xC${v+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:o?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${g}
         ${p}
         setOutput(result);
       }
     `}}class tft{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);const{dataFormat:r}=n,s=ca(),o=r==="channelsLast",i=o?1:2,a=o?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${o}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${s.output} = result;
      }
    `}}function qO(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&n===1&&e[0]>1?[e[0],1]:null}function bSe({x:e,filter:t,convInfo:n,backend:r,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:a=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,f=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,g=!1;let m;const v=[];if(o!=null){const w=qO(o.shape,h);w!=null&&(o=Ot({inputs:{x:o},backend:r,attrs:{shape:w}}),v.push(o))}if(s!=null){const w=qO(s.shape,h);w!=null&&(s=Ot({inputs:{x:s},backend:r,attrs:{shape:w}}),v.push(s))}if(!((f===1||d===1)&&c>fSe)&&u.isPacked&&h&&u.texture!=null&&l[2]%2!==0&&ir(u.shape.slice(-3),l.slice(-3))){const w=l[0]*l[1]*(l[2]+1),C={dataId:e.dataId,shape:[1,w,n.inChannels],dtype:e.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,te(jO(u.shape,C.shape),()=>`packed reshape ${u.shape} to ${C.shape} isn't free`);const $=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});v.push($);const k=HO({a:C,b:$,backend:r,transposeA:p,transposeB:g,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:i}),T=r.texData.get(k.dataId);te(T.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,T.shape=n.outShape,m=xl({inputs:{x:k},backend:r}),m.shape=n.outShape,v.push(k)}else{const w=n.outHeight*n.outWidth,C=Ot({inputs:{x:e},backend:r,attrs:{shape:h?[n.batchSize,w,n.inChannels]:[n.batchSize,n.inChannels,w]}}),S=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),$=HO({a:h?C:S,b:h?S:C,transposeA:!h,transposeB:g,backend:r,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:i});m=Ot({inputs:{x:$},backend:r,attrs:{shape:n.outShape}}),v.push(C),v.push(S),v.push($)}for(const w of v)r.disposeIntermediateTensorInfo(w);return m}function wSe({x:e,filter:t,convInfo:n,backend:r,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:a=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:f,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",g=l*u*c,m=d*f,v=[n.batchSize,g,m],y=!0,b=!1,w=[];if(o!=null){const N=qO(o.shape,p);N!=null&&(o=Ot({inputs:{x:o},backend:r,attrs:{shape:N}}),w.push(o))}if(s!=null){const N=qO(s.shape,p);N!=null&&(s=Ot({inputs:{x:s},backend:r,attrs:{shape:N}}),w.push(s))}const C=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,g,je(t.shape)/g]}});w.push(C);const S=new tft(v,n),$=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(S,[e],"float32",$),T=Ot({inputs:{x:k},backend:r,attrs:{shape:v}});w.push(k),w.push(T);const _=s!=null,E=o!=null,A=a==="leakyrelu",I=a?qk(a,!0):null,F=new cSe(p?T.shape:C.shape,p?C.shape:T.shape,p?[n.batchSize,m,n.outChannels]:[n.batchSize,n.outChannels,m],y,b,_,I,E,A),R=p?[T,C]:[C,T];if(s&&R.push(s),E&&R.push(o),A){const N=r.makeTensorInfo([],"float32",Ep(i,"float32"));R.push(N),w.push(N)}const L=r.runWebGLProgram(F,R,"float32"),D=Ot({inputs:{x:L},backend:r,attrs:{shape:n.outShape}});w.push(L);for(const N of w)r.disposeIntermediateTensorInfo(N);return D}function nft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=Tp(l),d=To(s.shape,o.shape,i,u,a,c,!1,f);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=bSe({x:s,filter:o,convInfo:d,backend:n});else if(d.strideWidth<=2&&f==="channelsLast"&&Pe().getBool("WEBGL_EXP_CONV")){const g=new ySe(d),m=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(g,[s,o],"float32",m)}else if(Pe().getBool("WEBGL_CONV_IM2COL"))h=wSe({x:s,filter:o,convInfo:d,backend:n});else{const g=new vSe(d);h=n.runWebGLProgram(g,[s,o],"float32")}const p=Ot({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const rft={kernelName:W_,backendName:"webgl",kernelFunc:nft};class sft{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,s=t.padInfo.top,o=t.padInfo.left,i=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${o};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class oft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=t.dataFormat==="channelsLast",a=n-1-t.padInfo.top,l=r-1-t.padInfo.left,u=i?1:2,c=i?2:3,f=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ift{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideDepth,r=t.strideHeight,s=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,a=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yF = 0; yF < ${t.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${o};

            if (xF < 0 || xF >= ${t.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${t.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${i};

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${t.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${a};

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class aft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,s=t.filterWidth,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=n-1-t.padInfo.front,u=r-1-t.padInfo.top,c=s-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${o}.0;

          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function lft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=Tp(l),d=To(s.shape,c,i,1,a,u,!1,f),h=new sft(d);return n.runWebGLProgram(h,[s,o],"float32")}const uft={kernelName:QM,backendName:"webgl",kernelFunc:lft};class cft{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=xi(this.outputShape.length);const n=t.filterHeight,r=t.filterWidth,s=n-1-t.padInfo.top,o=r-1-t.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}function fft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{inputShape:i,strides:a,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=Tp(u),d=To(i,o.shape,a,1,l,c,!1,f);if(Pe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new cft(d);return n.runWebGLProgram(p,[s,o],"float32",h)}else{const h=new oft(d);return n.runWebGLProgram(h,[s,o],"float32")}}const dft={kernelName:U_,backendName:"webgl",kernelFunc:fft};function hft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r,u=n0(s.shape,o.shape,i,l,a),c=new eft(u);return n.runWebGLProgram(c,[s,o],"float32")}const pft={kernelName:j_,backendName:"webgl",kernelFunc:hft};function gft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,filterShape:l}=r,u=n0(s.shape,l,i,1,a),c=new ift(u);return n.runWebGLProgram(c,[s,o],"float32")}const mft={kernelName:e4,backendName:"webgl",kernelFunc:gft};function vft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{pad:i,strides:a,inputShape:l}=r,u=n0(l,o.shape,a,1,i),c=new aft(u);return n.runWebGLProgram(c,[s,o],"float32")}const yft={kernelName:t4,backendName:"webgl",kernelFunc:vft};const bft=rC+`
  return cos(x);
`,wft=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${vy}
  return result;
`,xft=dr({opSnippet:bft,packedOpSnippet:wft}),Cft={kernelName:a2,backendName:"webgl",kernelFunc:xft};const Sft=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,$ft=dr({opSnippet:Sft}),kft={kernelName:l2,backendName:"webgl",kernelFunc:$ft};class Eft{constructor(t,n,r,s,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,l,u]=t,[c]=n,[f,d]=r;this.outputShape=[c,f,d,u];const h=s==="bilinear"?1:0,[p,g]=[`${a-1}.0`,`${l-1}.0`],[m,v,y]=f>1?[`${(a-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,w,C]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${g} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${g}`];this.userCode=`
      const float height_ratio = float(${m});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${v};
        float width_scale = ${w};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${o}));
          return;
        }
        float in_x = ${C};
        if( in_x < 0.0 || in_x > ${g} ) {
          setOutput(float(${o}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}const _ft=e=>{const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:o,boxInd:i}=t,{cropSize:a,method:l,extrapolationValue:u}=r,c=new Eft(s.shape,o.shape,a,l,u);return n.runWebGLProgram(c,[s,o,i],"float32")},Tft={kernelName:r4,backendName:"webgl",kernelFunc:_ft};var Kk;(function(e){e.Prod="*",e.Sum="+"})(Kk||(Kk={}));class Koe{constructor(t,n,r,s){this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,i=this.op===Kk.Prod?"1.0":"0.0",a=r?i:`getX(${Yoe(o,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=s?`end != ${l-1}`:"end != 0",c=s?"end + 1":"end - 1"):(u=s?`end + pow2 < ${l}`:"end >= pow2",c=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Wr(o)} coords = getOutputCoords();
        int end = ${Xoe(o,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${Xoe(o,"coords",this.op)} = idx;
          val ${this.op}= getX(${Yoe(o,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function Yoe(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Xoe(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function xSe(e,t,n,r,s,o){const i=t.shape.length,a=As([r],i);let l=t;a!=null&&(l=la({inputs:{x:t},backend:n,attrs:{perm:a}}));const u=Hs(1,i)[0];if(u!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let f=xl({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const h=new Koe(e,l.shape,!1,o),p=[[d]],g=f;f=n.runWebGLProgram(h,[f],f.dtype,p),n.disposeIntermediateTensorInfo(g)}if(s){const d=new Koe(e,l.shape,s,o),h=f;f=n.runWebGLProgram(d,[f],f.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const d=r0(a),h=la({inputs:{x:f},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),h}return f}function Aft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;return xSe(Kk.Prod,s,n,o,i,a)}const Ift={kernelName:n4,backendName:"webgl",kernelFunc:Aft};function Nft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;return xSe(Kk.Sum,s,n,o,i,a)}const Dft={kernelName:H_,backendName:"webgl",kernelFunc:Nft};function Oft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i,binaryOutput:a}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),u=n.readSync(o.dataId),c=tSe(l,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(o),c=Pat(l,u,i,a);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const Rft={kernelName:s4,backendName:"webgl",kernelFunc:Oft};class Fft{constructor(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function Mft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:o,dataFormat:i}=r,a=s.shape[0],l=i==="NHWC"?s.shape[1]:s.shape[2],u=i==="NHWC"?s.shape[2]:s.shape[3],c=i==="NHWC"?s.shape[3]:s.shape[1],f=l*o,d=u*o,h=c/(o*o),p=i==="NHWC"?[a,f,d,h]:[a,h,f,d],g=new Fft(p,o,i);return n.runWebGLProgram(g,[s],s.dtype)}const Pft={kernelName:o4,backendName:"webgl",kernelFunc:Mft};class CSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.filterHeight,a=t.filterWidth,l=t.outChannels/t.inChannels;let u="",c="";r&&(s?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${c}
        setOutput(result);
      }
    `}}class SSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.outChannels/t.inChannels,a=t.padInfo.left,l=t.strideWidth,u=t.dilationWidth,c=t.filterHeight,f=t.filterWidth,d=f;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<f;v++)h+=`
          vec4 xTexelC${v*2};
          int xTexelC${v*2}Ready;
          vec4 xTexelC${v*2+1};
          int xTexelC${v*2+1}Ready;
          vec4 xC${v};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let v=0;v<f;v++)h+=`
          xTexelC${v*2} = vec4(0.0);
          xTexelC${v*2}Ready = 0;
          xTexelC${v*2+1} = vec4(0.0);
          xTexelC${v*2+1}Ready = 0;
          xC${v} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let v=0;v<(d+1)/2;v++){const y=v*2;if(h+=`
          xC = xCCorner + ${y*u};
          `,l===1){if(y<f&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,u===1&&y>0?h+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<f)){const b=a%2===0?UM(u):u;u%2===0&&a%2===1||u%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,u>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:h+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):b===1?h+=`
                    xC${y+1} = xTexelC${y};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<f&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<f&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<f&&(h+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<f&&(h+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<f&&(h+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",g="";r&&(s?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,g="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${m}
        ${g}
        setOutput(result);
      }
    `}}function Lft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),te(Jo(i,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const f=To(s.shape,o.shape,i,c,a,u,!0);let d;Pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?d=new SSe(f):d=new CSe(f);const h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[s,o],"float32",h)}const Bft={kernelName:q_,backendName:"webgl",kernelFunc:Lft};class zft{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,s=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${o};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Vft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=n-1-t.padInfo.top,a=r-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function Wft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,filterShape:c}=r,f=To(s.shape,c,i,a,l,u,!0),d=new zft(f);return n.runWebGLProgram(d,[s,o],"float32")}const Uft={kernelName:i4,backendName:"webgl",kernelFunc:Wft};function jft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,inputShape:c}=r,f=To(c,o.shape,i,a,l,u,!0),d=new Vft(f);return n.runWebGLProgram(d,[s,o],"float32")}const Hft={kernelName:a4,backendName:"webgl",kernelFunc:jft};class qft{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}function Gft(e){const{inputs:t,backend:n}=e,{x:r}=t,s=[...r.shape,...r.shape],o=je(r.shape),i=Ot({inputs:{x:r},backend:n,attrs:{shape:[o]}}),a=new qft(o),l=n.runWebGLProgram(a,[i],i.dtype),u=Ot({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const Kft={kernelName:l4,backendName:"webgl",kernelFunc:Gft};class Yft{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:o,strideWidth:i,filterHeight:a,filterWidth:l,dilationHeight:u,dilationWidth:c}=t,{top:f,left:d}=s;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${i});
      const ivec2 pads = ivec2(${f}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}function Xft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r,u=MT(s.shape,o.shape,i,a,"NHWC",l);let c;const f=new Yft(u);c=n.runWebGLProgram(f,[s,o],"float32");const d=Ot({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}const Zft={kernelName:G_,backendName:"webgl",kernelFunc:Xft};function Jft(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,o=t,{allDims:i,summedDims:a,idDims:l}=GG(s,o.length);YG(i.length,l,o);const{path:u,steps:c}=XG(a,l),f=c.length;let d=null,h=i.length;const p=[];for(let g=0;g<f;++g){for(const m of c[g]){const{permutationIndices:v,expandDims:y}=KG(h,l[m]);let b;ZG(v)?b=o[m]:(b=la({inputs:{x:o[m]},backend:n,attrs:{perm:v}}),p.push(b));const w=b.shape.slice();for(let C=0;C<y.length;++C)w.splice(y[C],0,1);ir(b.shape,w)||(b=Ot({inputs:{x:b},backend:n,attrs:{shape:w}}),p.push(b)),d===null?d=b:(d=BK({inputs:{a:b,b:d},backend:n}),p.push(d))}g<f-1&&(u[g]>=0&&(d=KP({inputs:{x:d},backend:n,attrs:{axis:u[g]-(i.length-h),keepDims:!1}}),p.push(d)),h--)}for(const g of p)g!==d&&n.disposeIntermediateTensorInfo(g);return d}const Qft={kernelName:c4,backendName:"webgl",kernelFunc:Jft};const edt="return (x >= 0.0) ? x : (exp(x) - 1.0);",tdt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,ndt=dr({opSnippet:edt,packedOpSnippet:tdt}),rdt={kernelName:c2,backendName:"webgl",kernelFunc:ndt};const sdt="return (b >= 0.0) ? a : a * (b + 1.0);",odt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,idt=e=>{const{inputs:t,backend:n}=e,{dy:r,y:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(odt,r.shape,s.shape):new E1(sdt,r.shape,s.shape);return n.runWebGLProgram(o,[r,s],r.dtype)},adt={kernelName:f4,backendName:"webgl",kernelFunc:idt};const ldt=`
  return vec4(equal(a, b));
`,udt="return float(a == b);",cdt=ei({opSnippet:udt,packedOpSnippet:ldt,dtype:"bool",cpuKernelImpl:Wat}),fdt={kernelName:K_,backendName:"webgl",kernelFunc:cdt};const ddt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${zG};
  float a1 = ${VG};
  float a2 = ${WG};
  float a3 = ${UG};
  float a4 = ${jG};
  float a5 = ${HG};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,hdt=dr({opSnippet:ddt}),pdt={kernelName:f2,backendName:"webgl",kernelFunc:hdt};const gdt=rC+`
  return exp(x);
`,mdt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,$Se=dr({opSnippet:gdt,packedOpSnippet:mdt,cpuKernelImpl:Uat,dtype:"float32"}),vdt={kernelName:d2,backendName:"webgl",kernelFunc:$Se};function ZV(e){const{inputs:t,attrs:n,backend:r}=e,{dim:s}=n,{input:o}=t,i=o.shape.length,a=o.shape.slice();let l=s;return s<0&&(te(-(i+1)<=s,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),l=i+s+1),a.splice(l,0,1),Ot({inputs:{x:o},backend:r,attrs:{shape:a}})}const ydt={kernelName:Y_,backendName:"webgl",kernelFunc:ZV};const Zoe="return exp(x) - 1.0;",bdt=dr({opSnippet:Zoe,packedOpSnippet:Zoe,cpuKernelImpl:jat}),wdt={kernelName:h2,backendName:"webgl",kernelFunc:bdt};class Joe{constructor(t,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const o=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=r?`${s}.0`:"1.0";let a;if(t==="real")a="return real * expR - imag * expI;";else if(t==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);this.userCode=`
      const float exponentMultiplier = ${o};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function kSe(e,t,n){const r=n.texData.get(e.dataId),s=je(e.shape),o=e.shape[e.shape.length-1],i=s/o,a=Ot({inputs:{x:e},backend:n,attrs:{shape:[i,o]}}),l=a.shape,u=new Joe("real",l,t),c=new Joe("imag",l,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=u0({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const g=Ot({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),g}function xdt(e){const{inputs:t,backend:n}=e,{input:r}=t;return kSe(r,!1,n)}const Cdt={kernelName:d4,backendName:"webgl",kernelFunc:xdt};class Sdt{constructor(t,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function oA(e){const{backend:t,attrs:n}=e,{shape:r,value:s}=n;let{dtype:o}=n;if(o=o||oy(s),o==="string"){const i=Ds(o,je(r));return i.fill(s),t.makeTensorInfo(r,o,i)}else{const i=new Sdt(r,s),a=[[s]];return t.runWebGLProgram(i,[],o,a)}}const $dt={kernelName:h4,backendName:"webgl",kernelFunc:oA};class kdt{constructor(t){this.variableNames=["Image"],this.outputShape=[];const n=t[2];this.outputShape=t,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const Edt={kernelName:p4,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,s=new kdt(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};const Qoe="return floor(x);",_dt=dr({opSnippet:Qoe,packedOpSnippet:Qoe,cpuKernelImpl:Hat}),Tdt={kernelName:p2,backendName:"webgl",kernelFunc:_dt};const Adt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Idt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Ndt=ei({opSnippet:Adt,packedOpSnippet:Idt,dtype:"int32"}),Ddt={kernelName:g2,backendName:"webgl",kernelFunc:Ndt};class Odt{constructor(t){this.variableNames=["A"];const n=ca(),[r,s]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class Rdt{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ca(),[r,s]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}const Fdt={kernelName:EO,backendName:"webgl",kernelFunc:Mdt};let fb,g5=Pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Mdt(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:s}=t;const{numChannels:o}=r,i=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,u]=i?[s.videoWidth,s.videoHeight]:[s.width,s.height],c=[u,l],f=[u,l,o];if(a||i){const g=Pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(fb==null||g!==g5)&&(g5=g,fb=document.createElement("canvas").getContext("2d",{willReadFrequently:g5})),fb.canvas.width=l,fb.canvas.height=u,fb.drawImage(s,0,0,l,u),s=fb.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=jl.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const h=Pe().getBool("WEBGL_PACK")?new Rdt(f):new Odt(f),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}function Pdt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,g=Tp(c),m=To(s.shape,o.shape,l,f,u,d,!1,g);let v;const y=[],b=i!=null,w=a!=null,C=h==="leakyrelu",S=()=>{const k=[s,o],T=(_,E)=>{if(E==="NCHW"&&_.shape.length===1&&_.shape[0]!==1){const A=Ot({inputs:{x:_},backend:n,attrs:{shape:[_.shape[0],1,1]}});return y.push(A),A}return _};if(b&&k.push(T(i,c)),w&&k.push(T(a,c)),C){const _=n.makeTensorInfo([],"float32",Ep(p,"float32"));k.push(_),y.push(_)}return k};if(m.filterHeight===1&&m.filterWidth===1&&m.dilationHeight===1&&m.dilationWidth===1&&m.strideHeight===1&&m.strideWidth===1&&(m.padInfo.type==="SAME"||m.padInfo.type==="VALID"))v=bSe({x:s,filter:o,convInfo:m,backend:n,bias:i,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else if(m.strideWidth<=2&&g==="channelsLast"&&Pe().getBool("WEBGL_EXP_CONV")){const k=h?qk(h,!0):null,T=new ySe(m,b,k,w,C),_=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],E=S();v=n.runWebGLProgram(T,E,"float32",_)}else if(Pe().getBool("WEBGL_CONV_IM2COL"))v=wSe({x:s,filter:o,convInfo:m,backend:n,bias:i,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else{const k=h?qk(h,!1):null,T=new vSe(m,b,k,w,C),_=S();v=n.runWebGLProgram(T,_,"float32")}const $=Ot({inputs:{x:v},backend:n,attrs:{shape:m.outShape}});return y.push(v),y.forEach(k=>n.disposeIntermediateTensorInfo(k)),$}const Ldt={kernelName:Tk,backendName:"webgl",kernelFunc:Pdt};function Bdt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=r,p=[];let g=c;g==null&&(g=[1,1]),te(Jo(l,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${g}'`);const m=To(s.shape,o.shape,l,g,u,f,!0),v=Pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels===1,y=d?qk(d,v):null,b=[s,o],w=i!=null,C=a!=null,S=d==="leakyrelu";if(w&&b.push(i),C&&b.push(a),S){const _=n.makeTensorInfo([],"float32",Ep(h,"float32"));b.push(_),p.push(_)}let $;v?$=new SSe(m,w,y,C,S):$=new CSe(m,w,y,C,S);const k=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],T=n.runWebGLProgram($,b,"float32",k);return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),T}const zdt={kernelName:Ak,backendName:"webgl",kernelFunc:Bdt};class Vdt{constructor(t,n,r,s){this.sliceDim=t,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const o=Wr(r.length);let i=`
    int index;`;for(let a=0;a<this.sliceDim;a++)i+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${o} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}function Wdt(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,o=s.shape,i=o[o.length-1],a=je(r.shape),[l,u,c,f]=TP(r,s),d=Ot({inputs:{x:s},backend:n,attrs:{shape:[u,i]}}),h=Ot({inputs:{x:r},backend:n,attrs:{shape:[je(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const v=n.readSync(s.dataId),y=n.bufferSync(r),b=qat(v,y,r.dtype,u,i,c,f,r.shape,a);return n.makeTensorInfo(l,r.dtype,b.values)}const p=new Vdt(i,f,[u,c],r.shape),g=n.runWebGLProgram(p,[h,d],h.dtype),m=Ot({inputs:{x:g},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),m}const Udt={kernelName:g4,backendName:"webgl",kernelFunc:Wdt};class jdt{constructor(t,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Wr(this.rank),s=Hdt(t);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function Hdt(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<e.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}function ESe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:o}=t,{axis:i,batchDims:a}=r,l=qn(i,s.shape)[0];if(Pe().get("DEBUG")){const y=n.readSync(o.dataId),b=s.shape[l];for(let w=0;w<y.length;++w){const C=y[w];te(C<=b-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${b-1}]`)}}const u=QG(s,o,l,a),c=je(o.shape),f=[],d=Ot({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Ot({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([s,o])||s.dtype==="string"){const y=n.bufferSync(h),b=n.bufferSync(d),w=Gat(b,y,p);return f.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.makeTensorInfo(u.outputShape,w.dtype,w.values)}const g=new jdt(d.shape,p),m=n.runWebGLProgram(g,[d,h],d.dtype);f.push(m);const v=Ot({inputs:{x:m},backend:n,attrs:{shape:u.outputShape}});return f.forEach(y=>n.disposeIntermediateTensorInfo(y)),v}const qdt={kernelName:Z_,backendName:"webgl",kernelFunc:ESe};const Gdt="return float(a > b);",Kdt=`
  return vec4(greaterThan(a, b));
`,Ydt=ei({opSnippet:Gdt,packedOpSnippet:Kdt,cpuKernelImpl:Kat,dtype:"bool"}),Xdt={kernelName:J_,backendName:"webgl",kernelFunc:Ydt};const Zdt="return float(a >= b);",Jdt=`
  return vec4(greaterThanEqual(a, b));
`,Qdt=ei({opSnippet:Zdt,packedOpSnippet:Jdt,dtype:"bool",cpuKernelImpl:Yat}),eht={kernelName:m2,backendName:"webgl",kernelFunc:Qdt};function tht(e){const{inputs:t,backend:n}=e,{input:r}=t;return kSe(r,!0,n)}const nht={kernelName:m4,backendName:"webgl",kernelFunc:tht};const rht="return float(!isnan(x) && !isinf(x));",sht=dr({opSnippet:rht,dtype:"bool"}),oht={kernelName:y2,backendName:"webgl",kernelFunc:sht};const iht="return float(isinf(x));",aht=dr({opSnippet:iht,dtype:"bool"}),lht={kernelName:b2,backendName:"webgl",kernelFunc:aht};const uht="return float(isnan(x));",cht=dr({opSnippet:uht,dtype:"bool"}),fht={kernelName:w2,backendName:"webgl",kernelFunc:cht};const dht="return float(a < b);",hht=`
  return vec4(lessThan(a, b));
`,pht=ei({opSnippet:dht,packedOpSnippet:hht,cpuKernelImpl:Xat,dtype:"bool"}),ght={kernelName:eT,backendName:"webgl",kernelFunc:pht};const mht="return float(a <= b);",vht=`
  return vec4(lessThanEqual(a, b));
`,yht=ei({opSnippet:mht,packedOpSnippet:vht,cpuKernelImpl:Zat,dtype:"bool"}),bht={kernelName:tT,backendName:"webgl",kernelFunc:yht};function wht(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:o}=n,i=Jat(r,s,o);return t.makeTensorInfo([i.length],"float32",i)}const xht={kernelName:y4,backendName:"webgl",kernelFunc:wht};const Cht=rC+`
  return x < 0.0 ? 0./0. : log(x);
`,Sht=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,$ht=dr({opSnippet:Cht,packedOpSnippet:Sht,cpuKernelImpl:Qat}),kht={kernelName:x2,backendName:"webgl",kernelFunc:$ht};const Eht=rC+`
  return log(1.0 + x);
`,_ht=dr({opSnippet:Eht}),Tht={kernelName:C2,backendName:"webgl",kernelFunc:_ht};const Aht="return float(a >= 1.0 && b >= 1.0);",Iht=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,Nht=ei({opSnippet:Aht,packedOpSnippet:Iht,dtype:"bool"}),Dht={kernelName:nT,backendName:"webgl",kernelFunc:Nht};const Oht="return float(!(x >= 1.0));",Rht=dr({opSnippet:Oht}),Fht={kernelName:rT,backendName:"webgl",kernelFunc:Rht};const Mht="return float(a >= 1.0 || b >= 1.0);",Pht=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,Lht=ei({opSnippet:Mht,packedOpSnippet:Pht,dtype:"bool"}),Bht={kernelName:sT,backendName:"webgl",kernelFunc:Lht};class zht{constructor(t,n,r,s,o){this.variableNames=["x"],this.outputShape=[];const i=n,a=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${s}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}class Vht{constructor(t,n,r,s,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=n,a=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${s}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}const Wht=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:o,bias:i,alpha:a,beta:l}=r,u=Pe().getBool("WEBGL_PACK_NORMALIZATION")?new Vht(s.shape,o,i,a,l):new zht(s.shape,o,i,a,l);return n.runWebGLProgram(u,[s],s.dtype)},Uht={kernelName:oT,backendName:"webgl",kernelFunc:Wht};class jht{constructor(t,n,r,s,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${o})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${o});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}const Hht=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s,y:o,dy:i}=t,{depthRadius:a,bias:l,alpha:u,beta:c}=r,f=new jht(s.shape,a,l,u,c);return n.runWebGLProgram(f,[s,o,i],s.dtype)},qht={kernelName:b4,backendName:"webgl",kernelFunc:Hht};function Ght(e,t,n,r){const s=je(t),i=je(e.shape)/s,a=Ot({inputs:{x:e},attrs:{shape:[i,s]},backend:r}),l=yy(a,e.dtype,"max",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),u}function _Se(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a),f=c!=null,d=n.shouldExecuteOnCPU([s]);let h=s;if(f){if(d){const b=n.texData.get(h.dataId).values,w=new Array(a);for(let $=0;$<w.length;$++)w[$]=s.shape[c[$]];const C=PK(b,s.shape,s.dtype,c,w);h=n.makeTensorInfo(w,s.dtype);const S=n.texData.get(h.dataId);S.values=C}else h=GP(s,c,n);u=Hs(u.length,a)}Qo("max",u,a);const[p,g]=Ao(h.shape,u);let m=p;i&&(m=Us(p,l));let v;if(d){const b=n.texData.get(h.dataId).values,w=elt(b,je(g),m,s.dtype);v=n.makeTensorInfo(m,s.dtype);const C=n.texData.get(v.dataId);C.values=w}else v=Ght(h,g,m,n);return f&&n.disposeIntermediateTensorInfo(h),v}const Kht={kernelName:iT,backendName:"webgl",kernelFunc:_Se};const Yht=LK+`
  return max(a, b);
`,Xht=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,Zht=ei({opSnippet:Yht,packedOpSnippet:Xht,cpuKernelImpl:tlt}),Jht={kernelName:S2,backendName:"webgl",kernelFunc:Zht};function Qht(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;nA(s,"maxPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Yu(s.shape,o,i,u,a,l);if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))return xl({inputs:{x:s},backend:n});const f=new Gk(c,"max",!1);return n.runWebGLProgram(f,[s],s.dtype)}const ept={kernelName:aT,backendName:"webgl",kernelFunc:Qht};function tpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],f=_p(s.shape,o,i,c,a,u,l),d=new zK(f,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const npt={kernelName:lT,backendName:"webgl",kernelFunc:tpt};class rpt{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideHeight,r=t.strideWidth,s=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,a=o-1-t.padInfo.top,l=i-1-t.padInfo.left,u=o*i-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${o};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class spt{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideDepth,r=t.strideHeight,s=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,a=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=l-1-t.padInfo.front,d=u-1-t.padInfo.top,h=c-1-t.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${o}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function opt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o,{filterSize:a,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=_p(i.shape,a,l,f,u,c),h=new zK(d,"max",!0),p=n.runWebGLProgram(h,[i],i.dtype),g=new spt(d),m=n.runWebGLProgram(g,[s,p],i.dtype);return n.disposeIntermediateTensorInfo(p),m}const ipt={kernelName:x4,backendName:"webgl",kernelFunc:opt};function apt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o,output:i}=t,a=o;nA([o,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Yu(a.shape,l,u,1,c,f),h=!0,p=new Gk(d,"max",h),g=n.runWebGLProgram(p,[a],a.dtype),m=new rpt(d),v=n.runWebGLProgram(m,[s,g],a.dtype);return n.disposeIntermediateTensorInfo(g),v}const lpt={kernelName:w4,backendName:"webgl",kernelFunc:apt};function upt(e,t,n,r){let s=new Gk(n,"max",!1);const o=r.runWebGLProgram(s,[e],"float32");s=new Gk(n,"max",!0,!0,t);const i=r.runWebGLProgram(s,[e],"float32");return[o,i]}const cpt={kernelName:C4,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:s,strides:o,pad:i,includeBatchInIndex:a}=t,l=n;te(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];te(Jo(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Yu(r.shape,s,o,u,i),[f,d]=upt(r,a,c,l);return[f,d]}};function fpt(e,t,n,r){const s=je(t),i=je(e.shape)/s,a=Ot({inputs:{x:e},attrs:{shape:[i,s]},backend:r}),l=yy(a,"float32","mean",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),u}const dpt={kernelName:uT,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:s,axis:o}=t,i=n,a=r.shape.length,l=qn(o,r.shape);let u=l;const c=As(u,a),f=c!=null,d=i.shouldExecuteOnCPU([r]),h=[];let p=r;if(f){if(d){const w=i.texData.get(p.dataId).values,C=new Array(a);for(let k=0;k<C.length;k++)C[k]=r.shape[c[k]];const S=PK(w,r.shape,r.dtype,c,C);p=i.makeTensorInfo(C,r.dtype);const $=i.texData.get(p.dataId);$.values=S}else p=GP(r,c,i);h.push(p),u=Hs(u.length,a)}Qo("sum",u,a);const[g,m]=Ao(p.shape,u);let v=g;s&&(v=Us(g,l));const y=fpt(p,m,v,i);for(const b of h)i.disposeIntermediateTensorInfo(b);return y}};function hpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,s.shape.length)),Qo("min",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"min",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const ppt={kernelName:cT,backendName:"webgl",kernelFunc:hpt};const gpt=LK+`
  return min(a, b);
`,mpt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,vpt=ei({opSnippet:gpt,packedOpSnippet:mpt,cpuKernelImpl:nlt}),ypt={kernelName:$2,backendName:"webgl",kernelFunc:vpt};class bpt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=n.map((c,f)=>c[0]+t[f]+c[1]);const s=t.length,o=Wr(s),i=n.map(c=>c[0]).join(","),a=n.map((c,f)=>c[0]+t[f]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),u=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${i});
      ${o} end = ${o}(${a});

      void main() {
        ${o} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${o} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}class wpt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,g)=>p[0]+t[g]+p[1]);const s=t.length,o=Wr(s),i=n.map(p=>p[0]).join(","),a=n.map((p,g)=>p[0]+t[g]).join(","),l=Ui("rc",s),u=Ui("source",s),c=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(s===1){const p=`
        ${o} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const p=`
        ${o} source = rc;
        ${o} lt = ${o}(lessThan(source, start));
        ${o} gte = ${o}(greaterThanEqual(source, end));
        ${o} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${l[s-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${o} start = ${o}(${i});
      const ${o} end = ${o}(${a});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}const xpt=({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:s,mode:o}=n,i=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wpt(r.shape,s,o):new bpt(r.shape,s,o);return t.runWebGLProgram(i,[r],r.dtype)},Cpt={kernelName:fT,backendName:"webgl",kernelFunc:xpt};const Spt=`if (b == 0.0) return NAN;
  return mod(a, b);`,$pt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+vy+`
  return result;
`,kpt=ei({opSnippet:Spt,packedOpSnippet:$pt}),Ept={kernelName:k2,backendName:"webgl",kernelFunc:kpt};class _pt{constructor(t,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}const Tpt=`
if (a == b) {
  return 1.0;
};
return a / b;`,Apt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,TSe=ei({opSnippet:Tpt,packedOpSnippet:Apt,checkOutOfBounds:!0}),Ipt={kernelName:u2,backendName:"webgl",kernelFunc:TSe};const eie="return a - b;",ASe=ei({opSnippet:eie,packedOpSnippet:eie,supportsComplex:!0,cpuKernelImpl:Slt}),Npt={kernelName:V2,backendName:"webgl",kernelFunc:ASe};function ISe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:o}=r,i=qn([o],s.shape),a=_Se({inputs:{x:s},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=Us(a.shape,i),u=Ot({inputs:{x:a},backend:n,attrs:{shape:l}}),c=ASe({inputs:{a:s,b:u},backend:n}),f=$Se({inputs:{x:c},backend:n}),d=KP({inputs:{x:f},backend:n,attrs:{axis:i,keepDims:!1}}),h=Ot({inputs:{x:d},backend:n,attrs:{shape:l}}),p=TSe({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const Dpt={kernelName:AT,backendName:"webgl",kernelFunc:ISe};function Opt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:o,seed:i,normalized:a}=r,l=a?s:ISe({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new _pt(u,c,o),d=[[i]],h=n.runWebGLProgram(f,[l],"int32",d);return a||n.disposeIntermediateTensorInfo(l),h}const Rpt={kernelName:S4,backendName:"webgl",kernelFunc:Opt};const Fpt=Zu+`
  return -x;
`,Mpt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Ppt(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const o=n.texData.get(r.dataId),[i,a]=slt(o.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}let s;return Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ng(r.shape,Mpt):s=new zf(r.shape,Fpt),n.runWebGLProgram(s,[r],r.dtype)}const Lpt={kernelName:dT,backendName:"webgl",kernelFunc:Ppt};const Bpt=$P;function zpt(e){Vl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l}=r,u=n.readSync(s.dataId),c=n.readSync(o.dataId),{selectedIndices:f}=Bpt(u,c,i,a,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Vpt={kernelName:$4,backendName:"webgl",kernelFunc:zpt};const Wpt=kP;function Upt(e){Vl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(s.dataId),f=n.readSync(o.dataId),{selectedIndices:d,validOutputs:h}=Wpt(c,f,i,a,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const jpt={kernelName:k4,backendName:"webgl",kernelFunc:Upt};const Hpt=EP;function qpt(e){Vl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(s.dataId),f=n.readSync(o.dataId),d=i,h=a,p=l,g=u,{selectedIndices:m,selectedScores:v}=Hpt(c,f,d,h,p,g);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Gpt={kernelName:E4,backendName:"webgl",kernelFunc:qpt};class Kpt{constructor(t,n,r,s){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}const Ypt=e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:o,depth:i,onValue:a,offValue:l}=r,u=je(s.shape),c=new Kpt(u,i,a,l),f=Ot({inputs:{x:s},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],o);n.disposeIntermediateTensorInfo(f);const h=[...s.shape,i],p=Ot({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},Xpt={kernelName:gT,backendName:"webgl",kernelFunc:Ypt};function GO(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){const s=sA({inputs:{input:r},backend:n}),o=GO({inputs:{x:s},backend:n}),i=YP({inputs:{input:r},backend:n}),a=GO({inputs:{x:i},backend:n}),l=u0({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return oA({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const Zpt={kernelName:OT,backendName:"webgl",kernelFunc:GO};function NSe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=sA({inputs:{input:r},backend:n}),o=NSe({inputs:{x:s},backend:n}),i=YP({inputs:{input:r},backend:n}),a=GO({inputs:{x:i},backend:n}),l=u0({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return oA({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const Jpt={kernelName:pT,backendName:"webgl",kernelFunc:NSe};function Qpt(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(t.length===1)return ZV({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const o=t[0].shape,i=t[0].dtype;t.forEach(c=>{Zo(o,c.shape,"All tensors passed to stack must have matching shapes"),te(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=t.map(c=>{const f=ZV({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(f),f}),u=mSe({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const egt={kernelName:mT,backendName:"webgl",kernelFunc:Qpt};class tgt{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+t[c]+u[1]);const s=t.length,o=Wr(s),i=n.map(u=>u[0]).join(","),a=n.map((u,c)=>u[0]+t[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${i});
      ${o} end = ${o}(${a});

      void main() {
        ${o} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${o} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}class ngt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((g,m)=>g[0]+t[m]+g[1]);const s=t.length,o=Wr(s),i=n.map(g=>g[0]).join(","),a=n.map((g,m)=>g[0]+t[m]).join(","),l=Ui("rc",s),u=Ui("source",s),c=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${c}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${c}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let g=0,m=s===1?2:4;g<m;g++)p+=`
        ${d[g]}
        if (${h}) {
          result[${g}] = float(value);
        } else {
          ${o} source = rc - start;
          result[${g}] = getChannel(getX(${u.join()}), ${f});
        }
      `;p+=s===1?"} ":"}}",this.userCode=`
      const ${o} start = ${o}(${i});
      const ${o} end = ${o}(${a});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}const DSe=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,constantValue:i}=r;if(je(s.shape)===0){const u=o.map((c,f)=>c[0]+s.shape[f]+c[1]);return oA({backend:n,attrs:{shape:u,value:i,dtype:s.dtype}})}const a=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ngt(s.shape,o,i):new tgt(s.shape,o,i),l=[[i]];return n.runWebGLProgram(a,[s],s.dtype,l)},rgt={kernelName:vT,backendName:"webgl",kernelFunc:DSe};const sgt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,ogt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+vy+`
  return result;
`,igt=ei({opSnippet:sgt,packedOpSnippet:ogt}),agt={kernelName:_2,backendName:"webgl",kernelFunc:igt};function lgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=[],u=qn(o,s.shape);let c=u;const f=As(c,a);let d=s;f!=null&&(d=la({inputs:{x:s},backend:n,attrs:{perm:f}}),c=Hs(c.length,a),l.push(d)),Qo("prod",c,a);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:g,outShape:m,outDtype:v}=ilt(d.shape,d.dtype,p,c);h=n.makeTensorInfo(m,v,g)}else{const[p,g]=Ao(d.shape,c),m=je(g),v=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),y=J4(s.dtype),b=yy(v,y,"prod",n);h=Ot({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(v),l.push(b)}if(i){l.push(h);const p=Us(h.shape,u);h=Ot({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const ugt={kernelName:bT,backendName:"webgl",kernelFunc:lgt};function cgt(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:a}=r,l=s.map(v=>n.readSync(v.dataId)),u=s.map(v=>v.shape),c=n.readSync(o.dataId),f=n.readSync(i.dataId),[d,h,p]=alt(l,u,c,o.shape,o.dtype,f,i.shape,a),g=d.map(v=>n.makeTensorInfo([v.length],"int32",v)),m=n.makeTensorInfo(p,o.dtype,h);return g.concat([m])}const fgt={kernelName:_4,backendName:"webgl",kernelFunc:cgt};function dgt(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:o}=t,i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=llt(i,r.shape,r.dtype,a,s.shape,l,o.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const hgt={kernelName:T4,backendName:"webgl",kernelFunc:dgt};function pgt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:o,defaultValue:i,rowPartitionTensors:a}=t,{rowPartitionTypes:l}=r,u=n.readSync(s.dataId),c=n.readSync(o.dataId),f=n.readSync(i.dataId),d=a.map(m=>n.readSync(m.dataId)),h=a.map(m=>m.shape),[p,g]=ult(u,s.shape,c,o.shape,o.dtype,f,i.shape,d,h,l);return n.makeTensorInfo(p,o.dtype,g)}const ggt={kernelName:A4,backendName:"webgl",kernelFunc:pgt};const OSe=e=>{const{backend:t,attrs:n}=e,{start:r,stop:s,step:o,dtype:i}=n,a=clt(r,s,o,i);return t.makeTensorInfo([a.length],i,a)},mgt={kernelName:I4,backendName:"webgl",kernelFunc:OSe};const vgt="return 1.0 / x;",ygt=dr({opSnippet:vgt}),bgt={kernelName:T2,backendName:"webgl",kernelFunc:ygt};const wgt=Zu+`
  return (x < 0.0) ? 0.0 : x;
`,xgt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Cgt=dr({opSnippet:wgt,packedOpSnippet:xgt}),Sgt={kernelName:A2,backendName:"webgl",kernelFunc:Cgt};const $gt=Zu+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,kgt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Egt=dr({opSnippet:$gt,packedOpSnippet:kgt}),_gt={kernelName:I2,backendName:"webgl",kernelFunc:Egt};class Tgt{constructor(t,n,r,s,o){this.variableNames=["A"],this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;o?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class Agt{constructor(t,n,r,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;o?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}function Igt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r,[l,u]=a,c=Pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Agt(s.shape,l,u,o,i):new Tgt(s.shape,l,u,o,i);return n.runWebGLProgram(c,[s],"float32")}const Ngt={kernelName:CT,backendName:"webgl",kernelFunc:Igt};class Dgt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,i,a]=t,l=[r&&i>1?s-1:s,r&&a>1?o-1:o],u=[r&&i>1?i-1:i,r&&a>1?a-1:a],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,g=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function Ogt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r,a=new Dgt(o.shape,s.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Rgt={kernelName:O4,backendName:"webgl",kernelFunc:Ogt};class Fgt{constructor(t,n,r,s,o){this.variableNames=["A"],this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;o?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class Mgt{constructor(t,n,r,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;o?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}function Pgt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r,[l,u]=a,c=Pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Mgt(s.shape,l,u,o,i):new Fgt(s.shape,l,u,o,i);return n.runWebGLProgram(c,[s],s.dtype)}const Lgt={kernelName:xT,backendName:"webgl",kernelFunc:Pgt};class Bgt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,i,a]=t,l=[r&&i>1?s-1:s,r&&a>1?o-1:o],u=[r&&i>1?i-1:i,r&&a>1?a-1:a],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,g=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${o}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function zgt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r,a=new Bgt(o.shape,s.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Vgt={kernelName:D4,backendName:"webgl",kernelFunc:zgt};class Wgt{constructor(t,n){this.variableNames=["x"];const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${t[0]} - coord - 1));
        }
      `;return}const s=a=>n.indexOf(a)!==-1&&t[a]!==1?`${t[a]} - coords[${a}] - 1`:`coords[${a}]`,o=t.map((a,l)=>s(l)).join(","),i=Wr(r);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}class Ugt{constructor(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;const s=Ui("rc",r),o=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,i=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,a=Wr(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${t[0]} - rc - 1),
            ${t[0]} - rc - 1);
          if(${o}){
              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),
                ${t[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${o}){
            result.g = ${u(s.slice())};
          }
          if(${i}) {
            result.b = ${c(s.slice())};
            if(${o}) {
              result.a = ${f(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function u(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function c(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function f(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const g=t.map((y,b)=>h(b,p)),m=g.join(","),v=g.slice(-2).join(",");return`getChannel(getX(${m}), vec2(${v}))`}function h(p,g){return n.indexOf(p)!==-1&&t[p]!==1?`${t[p]} - ${g[p]} - 1`:`${g[p]}`}}}function jgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:o}=r,i=s.shape.length,a=qn(o,s.shape);if(i===0)return xl({inputs:{x:s},backend:n});const l=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ugt(s.shape,a):new Wgt(s.shape,a);return n.runWebGLProgram(l,[s],s.dtype)}const Hgt={kernelName:ST,backendName:"webgl",kernelFunc:jgt};class qgt{constructor(t,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=t[1],s=t[2];this.outputShape=t;let o="";typeof n=="number"?o=`float outputValue = ${n.toFixed(2)};`:o=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${o}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const Ggt={kernelName:X4,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:s,fillValue:o,center:i}=t,a=n,l=new qgt(r.shape,o),[u,c]=PG(i,r.shape[1],r.shape[2]),f=[[u,c,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(l,[r],r.dtype,f)}};const Kgt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Ygt=dr({opSnippet:Kgt}),Xgt={kernelName:N2,backendName:"webgl",kernelFunc:Ygt};const Zgt="return inversesqrt(x);",Jgt=dr({opSnippet:Zgt,cpuKernelImpl:flt}),Qgt={kernelName:D2,backendName:"webgl",kernelFunc:Jgt};class VK{constructor(t,n,r,s,o,i,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const u=Wr(o.length),c=Wr(i.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let g="";l&&(g="coords[0], coords[1]");const m=`getDefaultValue(${g})`,v=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${o});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${t}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${v};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${m}, sum, float(found)));
        }
      `}}class emt{constructor(t,n,r,s,o,i,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const u=Wr(o.length),c=Wr(i.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let g="";l&&(g="coords[0], coords[1]");const m=`getDefaultValue(${g})`,v=n>1?"strides[j]":"strides",y=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${o});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${t}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${v};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${m}, sum, found));
        }
      `}}function tmt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:o}=t,{shape:i}=r,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(o,s,i),d=[f/u,u];if(f===0)return n.makeTensorInfo(i,s.dtype);const h=Ot({inputs:{x:s},backend:n,attrs:{shape:[l,a]}}),p=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0]));let m;Pe().getBool("WEBGL_PACK")?m=new emt(l,a,h.shape.length,p.shape.length,c,d):m=new VK(l,a,h.shape.length,p.shape.length,c,d);const v=n.runWebGLProgram(m,[p,h,g],p.dtype),y=Ot({inputs:{x:v},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),y}const nmt={kernelName:R4,backendName:"webgl",kernelFunc:tmt};class rmt{constructor(t,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];const o="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=Pe().getNumber("WEBGL_VERSION")===2?o:i,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}function smt(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:o}=t,{side:i}=r,a=new rmt(s.shape[0],s.shape[1],o.shape[1],i),l=[[s.shape[1]]];return n.runWebGLProgram(a,[s,o],"int32",l)}const omt={kernelName:M4,backendName:"webgl",kernelFunc:smt};class imt{constructor(t,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,o;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)o="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${a[c]}`),c<t&&l.push(`${a[c]}`);s=l.join(),o=u.join()}const i=Wr(r);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${o}));
        } else {
          setOutput(getB(${o}));
        }
      }
    `}}function amt(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:o}=t,i=new imt(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(i,[r,s,o],Oa(s.dtype,o.dtype))}const lmt={kernelName:$T,backendName:"webgl",kernelFunc:amt};const umt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${NP};
  float scale = ${DP};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,cmt=dr({opSnippet:umt}),fmt={kernelName:O2,backendName:"webgl",kernelFunc:cmt};const dmt=rC+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,hmt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,pmt=dr({opSnippet:dmt,packedOpSnippet:hmt,cpuKernelImpl:hlt}),gmt={kernelName:P2,backendName:"webgl",kernelFunc:pmt};const mmt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,vmt=dr({opSnippet:mmt}),ymt={kernelName:M2,backendName:"webgl",kernelFunc:vmt};const bmt=rC+`
  return sin(x);
`,wmt=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${vy}
  return result;
`,xmt=dr({opSnippet:bmt,packedOpSnippet:wmt}),Cmt={kernelName:R2,backendName:"webgl",kernelFunc:xmt};const Smt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,$mt=dr({opSnippet:Smt}),kmt={kernelName:F2,backendName:"webgl",kernelFunc:$mt};const Emt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,_mt=dr({opSnippet:Emt}),Tmt={kernelName:L2,backendName:"webgl",kernelFunc:_mt};const Amt=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,paddings:i}=r;te(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((v,y)=>v*y),l=[[0,0]];l.push(...i);for(let v=1+o.length;v<s.shape.length;++v)l.push([0,0]);const u=[],c=DSe({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),f=UT(c.shape,o,a,!1),d=jT(f.length,o.length,!1),h=HT(c.shape,o,a,!1),p=Ot({inputs:{x:c},backend:n,attrs:{shape:f}}),g=la({inputs:{x:p},backend:n,attrs:{perm:d}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(g),u.forEach(v=>n.disposeIntermediateTensorInfo(v)),m},Imt={kernelName:_T,backendName:"webgl",kernelFunc:Amt};function Nmt(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:o,defaultValue:i}=t;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const a=n.readSync(r.dataId),l=n.readSync(s.dataId),u=n.readSync(o.dataId),c=n.readSync(i.dataId)[0],[f,d,h,p,g]=glt(a,r.shape,r.dtype,l,s.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(m=>Number(m)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const Dmt={kernelName:P4,backendName:"webgl",kernelFunc:Nmt};function Omt(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:o}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=Array.from(n.readSync(s.dataId)),a=n.readSync(r.dataId),l=Array.from(n.readSync(o.dataId)),[u,c,f]=mlt(a,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}const Rmt={kernelName:L4,backendName:"webgl",kernelFunc:Omt};function Fmt(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${o.shape}`);const i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=rSe(i,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const Mmt={kernelName:B4,backendName:"webgl",kernelFunc:Fmt};function Pmt(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${o.shape}`);const i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=rSe(i,r.shape,r.dtype,a,l);return n.makeTensorInfo(c,r.dtype,u)}const Lmt={kernelName:z4,backendName:"webgl",kernelFunc:Pmt};function Bmt(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:o,defaultValue:i}=t,{outputShape:a}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=i0(o,s,a),h=!1;if(o.dtype==="string"){const v=n.bufferSync(s),y=n.bufferSync(o),b=rp(n.readSync(i.dataId)[0]),w=dlt(v,y,a,d,c,u,l,f,b,h);return n.makeTensorInfo(a,w.dtype,w.values)}const p=new VK(u,l,s.shape.length,o.shape.length,f,[d,1],h),g=n.runWebGLProgram(p,[o,s,i],o.dtype),m=Ot({inputs:{x:g},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(g),m}const zmt={kernelName:V4,backendName:"webgl",kernelFunc:Bmt};function Vmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:o,axis:i}=r,a=qn(i,s.shape)[0],l=JG(s,o,a),u=s.shape.length,c=new Array(u).fill(0),f=s.shape.slice();return l.map(d=>{const h=[...f];h[a]=d;const p=sC({inputs:{x:s},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,p})}const Wmt={kernelName:TT,backendName:"webgl",kernelFunc:Vmt};const tie="return sqrt(x);",Umt=dr({opSnippet:tie,packedOpSnippet:tie,cpuKernelImpl:vlt}),jmt={kernelName:B2,backendName:"webgl",kernelFunc:Umt};const Hmt="return x * x;",qmt=dr({opSnippet:Hmt}),Gmt={kernelName:W4,backendName:"webgl",kernelFunc:qmt};const nie="return (a - b) * (a - b);",Kmt=ei({opSnippet:nie,packedOpSnippet:nie}),Ymt={kernelName:z2,backendName:"webgl",kernelFunc:Kmt};function Xmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const o=n.readSync(s.dataId),i=ip(o),a=ylt(i,"string",r);return n.makeTensorInfo(s.shape,"string",a)}const Zmt={kernelName:IT,backendName:"webgl",kernelFunc:Xmt};function Jmt({inputs:e,attrs:t,backend:n}){const{x:r}=e,s=Zu+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,o=new zf(r.shape,s);return n.runWebGLProgram(o,[r],r.dtype)}const Qmt={kernelName:H2,backendName:"webgl",kernelFunc:Jmt};class e0t{constructor(t,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,o=Wr(r.length),i=Wr(r.length);let a="";if(s===1)a="coords * strides + begin";else{let l=0;a=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${o} begin = ${o}(${t});
      ${o} strides = ${o}(${n});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}function t0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,end:i,strides:a,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:g,sliceDim0:m,isSimpleSlice:v,begin:y,end:b,strides:w}=OG(s.shape,o,i,a,l,u,c,f,d);let C;if(g)C=Ot({inputs:{x:s},backend:n,attrs:{shape:p}});else if(m||v){te(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const $=IG(y,b,w),k=sC({inputs:{x:s},backend:n,attrs:{begin:y,size:$}});C=Ot({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else if(n.shouldExecuteOnCPU([s])){const k=n.readSync(s.dataId),T=Wn(s.shape,s.dtype,k),_=blt(h,T,w,y);C=n.makeTensorInfo(p,s.dtype,_.values)}else{const k=new e0t(y,w,h);C=n.runWebGLProgram(k,[s],s.dtype)}const S=Ot({inputs:{x:C},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(C),S}const n0t={kernelName:U4,backendName:"webgl",kernelFunc:t0t};function r0t(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:o,leftPad:i,rightPad:a,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),h=n.readSync(f.dataId),[p,g]=wlt(d,h,s,o,i,a,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",g)]}const s0t={kernelName:j4,backendName:"webgl",kernelFunc:r0t};function o0t(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:o,delimiter:i}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const a=n.readSync(o.dataId),l=n.readSync(i.dataId)[0],[u,c,f]=xlt(a,l,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const i0t={kernelName:H4,backendName:"webgl",kernelFunc:o0t};function a0t(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:o}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(o.dataId),a=Clt(i,s);return n.makeTensorInfo(o.shape,"int32",a)}const l0t={kernelName:q4,backendName:"webgl",kernelFunc:a0t};const u0t="return tan(x);",c0t=dr({opSnippet:u0t}),f0t={kernelName:W2,backendName:"webgl",kernelFunc:c0t};const d0t=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,h0t=dr({opSnippet:d0t}),p0t={kernelName:U2,backendName:"webgl",kernelFunc:h0t};function g0t(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:s,indices:o,updates:i}=t,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(i,o,s.shape),d=[f/u,u];if(f===0)return n.makeTensorInfo(s.shape,o.dtype);const h=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),p=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),g=Ot({inputs:{x:s},backend:n,attrs:{shape:d}}),m=new VK(l,a,h.shape.length,p.shape.length,c,d,!1,!0),v=n.runWebGLProgram(m,[p,h,g],g.dtype),y=Ot({inputs:{x:v},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),y}const m0t={kernelName:F4,backendName:"webgl",kernelFunc:g0t};class v0t{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;const s=Wr(this.rank),o=y0t(t);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${o}));
      }
    `}}function y0t(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<e.length;s++)r.push(`imod(${n[s]}, ${e[s]})`);return r.join()}function RSe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:o}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),u=s.dtype==="string"?l.map(d=>rp(d)):l,c=Wn(s.shape,s.dtype,u),f=$lt(c,o);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const i=new v0t(s.shape,o);return n.runWebGLProgram(i,[s],s.dtype)}const b0t={kernelName:j2,backendName:"webgl",kernelFunc:RSe};class w0t{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class x0t{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function L0(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function rie(e){let t=1;for(;t<e;)t*=2;return t}function C0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:o,sorted:i}=r,a=Pe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Pe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=s.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([s])||c<a||o>l){const _=n.readSync(s.dataId),[E,A]=klt(_,u,s.dtype,o,i);return[n.makeTensorInfo(E.shape,E.dtype,E.values),n.makeTensorInfo(A.shape,A.dtype,A.values)]}if(o===0)return u[u.length-1]=0,[n.makeTensorInfo(u,s.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[s,oA({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(s.dataId),d=f!==null&&f.isPacked,h=d?n.unpackTensor(s):s,g=je(u)/c,m=Ot({inputs:{x:h},attrs:{shape:[g,c]},backend:n});d&&L0(n,h);const v=rie(o),y=rie(c);let b=null;const w=()=>b===null?[m,m]:[m,b],C=(_,E,A)=>{const I=w(),F=new w0t(A),L=[[c],[b===null?1:0],[Number.NEGATIVE_INFINITY],[_],[E]],D=b;b=n.runWebGLProgram(F,I,"int32",L),L0(n,D)};for(let _=1;_<v;_*=2){const E=_*2;for(let A=_;A>=1;A/=2)C(E,A,[g,y])}for(let _=y;_>v;_/=2){const E=w(),A=new x0t([g,_/2]),F=[[c],[b===null?1:0],[v]],R=b;b=n.runWebGLProgram(A,E,"int32",F),L0(n,R);const L=v/2,D=L*2;for(let N=L;N>=1;N/=2)C(D,N,b.shape)}let S=b;b=sC({inputs:{x:b},backend:n,attrs:{begin:0,size:[g,o]}}),L0(n,S);let $=ESe({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});L0(n,m);const k=u.slice(0,-1);k.push(o),S=b,b=Ot({inputs:{x:b},attrs:{shape:k},backend:n}),L0(n,S);const T=$;return $=Ot({inputs:{x:$},attrs:{shape:k},backend:n}),L0(n,T),[$,b]}const S0t={kernelName:G4,backendName:"webgl",kernelFunc:C0t};class $0t{constructor(t,n,r,s,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${o});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${o});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${t}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}function k0t(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,transforms:o}=t,{interpolation:i,fillMode:a,fillValue:l,outputShape:u}=r,[c,f,d,h]=s.shape,[p,g]=u??[f,d],m=[c,p,g,h],v=new $0t(f,d,i,a,l,m);return n.runWebGLProgram(v,[s,o],"float32")}const E0t={kernelName:K4,backendName:"webgl",kernelFunc:k0t};function _0t(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:o}=t;nA(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=r.readSync(o.dataId),{outputValues:a,outputShape:l,indices:u}=Elt(i,s,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,a),r.makeTensorInfo([u.length],"int32",u)]}const T0t={kernelName:Y4,backendName:"webgl",kernelFunc:_0t};function A0t(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:o}=r;o<0&&(o+=s.shape.length);const i=s,a=i.shape.length,l=s.shape[o],u=new Array(a-1);let c=0;for(let g=0;g<a;g++)g!==o&&(u[c++]=i.shape[g]);const f=[],d=new Array(a).fill(0),h=i.shape.slice();h[o]=1;const p=new Array(l);for(let g=0;g<p.length;g++){d[o]=g;const m=sC({inputs:{x:i},backend:n,attrs:{begin:d,size:h}}),v=Ot({inputs:{x:m},backend:n,attrs:{shape:u}});p[g]=v,f.push(m)}return f.forEach(g=>n.disposeIntermediateTensorInfo(g)),p}const I0t={kernelName:NT,backendName:"webgl",kernelFunc:A0t};class N0t{constructor(t,n){this.variableNames=["x","segmentIds"];const r=t.windowSize,s=t.batchSize,o=t.inSize,i=t.numSegments,a=i*Math.ceil(o/r);this.outputShape=[s,a];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,f=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";o%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `);let p="";o%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}function D0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:o}=t,{numSegments:i}=r,a=s.shape.length,l=[];let u=0;const c=As([u],a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),l.push(f),u=Hs(1,a)[0]);const d=gwe(f.shape,u,i),h=je([f.shape[u]]),p=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(p);const g=J4(s.dtype),m=(w,C,S,$,k)=>{const T=w.shape[0],_=w.shape[1],E=pwe(_,k),A={windowSize:E,inSize:_,batchSize:T,numSegments:k},I=new N0t(A,C),F=n.compileAndRun(I,[w,S],$);if(l.push(F),F.shape[1]===k)return F;const R=OSe({backend:n,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),L=RSe({inputs:{x:R},backend:n,attrs:{reps:[_/E]}});return l.push(R),l.push(L),m(F,C,L,$,k)},v=m(p,"unsortedSegmentSum",o,g,i),y=Ot({inputs:{x:v},backend:n,attrs:{shape:d}});let b=y;if(c!=null){l.push(y);const w=r0(c);b=la({inputs:{x:b},backend:n,attrs:{perm:w}})}return l.forEach(w=>n.disposeIntermediateTensorInfo(w)),b}const O0t={kernelName:DT,backendName:"webgl",kernelFunc:D0t};const R0t=[vut,but,Cut,kut,_ut,Iut,Dut,Rut,Lut,zut,Uut,qut,Yut,Qut,nct,sct,ict,cct,dct,pct,yct,kct,_ct,Nct,Oct,Bct,Vct,Hct,eut,Kct,Qct,rft,uft,dft,pft,mft,yft,Cft,kft,Tft,Ift,Dft,Rft,Pft,Bft,Uft,Hft,Kft,Zft,Qft,rdt,adt,fdt,pdt,vdt,ydt,wdt,Cdt,$dt,Edt,Tdt,Ddt,Fdt,Ldt,zdt,Udt,qdt,Xdt,eht,Qlt,nht,Zct,oht,lht,fht,nut,ght,bht,xht,kht,Tht,Dht,Fht,Bht,Uht,qht,Kht,Jht,ept,npt,ipt,lpt,cpt,dpt,ppt,ypt,Cpt,Ept,Rpt,out,Lpt,Vpt,jpt,Gpt,Fct,Xpt,Jpt,egt,rgt,agt,sut,ugt,fgt,hgt,ggt,mgt,Mct,Ipt,bgt,Sgt,_gt,aut,Ngt,Rgt,Lgt,Vgt,Hgt,Ggt,Xgt,Qgt,nmt,omt,lmt,fmt,gmt,ymt,Cmt,kmt,Sct,Dpt,Tmt,Imt,Dmt,Rmt,Mmt,Lmt,zmt,Wmt,jmt,Gmt,Ymt,Zmt,Qmt,n0t,s0t,i0t,l0t,Npt,put,f0t,p0t,m0t,b0t,S0t,E0t,gut,T0t,I0t,O0t,Zpt];for(const e of R0t)Z4(e);var m5={};const FSe=ly(hYe);var Xp={};var F0t=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),M0t=Object.prototype.hasOwnProperty;function JV(e,t){return M0t.call(e,t)}function QV(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var s in e)JV(e,s)&&r.push(s);return r}function Hl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function eW(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function sv(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function MSe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function tW(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(tW(e[t]))return!0}else if(typeof e=="object"){for(var r=QV(e),s=r.length,o=0;o<s;o++)if(tW(e[r[o]]))return!0}}return!1}function sie(e,t){var n=[e];for(var r in t){var s=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof s<"u"&&n.push(r+": "+s)}return n.join(`
`)}var PSe=(function(e){F0t(t,e);function t(n,r,s,o,i){var a=this.constructor,l=e.call(this,sie(n,{name:r,index:s,operation:o,tree:i}))||this;return l.name=r,l.index=s,l.operation=o,l.tree=i,Object.setPrototypeOf(l,a.prototype),l.message=sie(n,{name:r,index:s,operation:o,tree:i}),l}return t})(Error),Ls=PSe,P0t=Hl,jb={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=KO(n,this.path);r&&(r=Hl(r));var s=Yv(n,{op:"remove",path:this.from}).removed;return Yv(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=KO(n,this.from);return Yv(n,{op:"add",path:this.path,value:Hl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Yk(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},L0t={add:function(e,t,n){return eW(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:jb.move,copy:jb.copy,test:jb.test,_get:jb._get};function KO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Yv(e,n),n.value}function Yv(e,t,n,r,s,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):YO(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=KO(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=Yk(e,t.value),i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Ls("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}}else{r||(e=Hl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=YO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=MSe(h)),s&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!eW(h))throw new Ls("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);eW(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new Ls("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var i=L0t[t.op].call(t,u,h,e);if(i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(c>=f){var i=jb[t.op].call(t,u,h,e);if(i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new Ls("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function XP(e,t,n,r,s){if(r===void 0&&(r=!0),s===void 0&&(s=!0),n&&!Array.isArray(t))throw new Ls("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Hl(e));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++)o[i]=Yv(e,t[i],n,!0,s,i),e=o[i].newDocument;return o.newDocument=e,o}function B0t(e,t,n){var r=Yv(e,t);if(r.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function YO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ls("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(jb[e.op]){if(typeof e.path!="string")throw new Ls("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ls('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ls("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ls("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&tW(e.value))throw new Ls("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,o=r.split("/").length;if(s!==o+1&&s!==o)throw new Ls("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ls("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},a=LSe([i],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ls("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ls("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function LSe(e,t,n){try{if(!Array.isArray(e))throw new Ls("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)XP(Hl(t),Hl(e),n||!0);else{n=n||YO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(s){if(s instanceof Ls)return s;throw s}}function Yk(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),s,o,i;if(n&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!Yk(e[s],t[s]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!t.hasOwnProperty(a[s]))return!1;for(s=o;s--!==0;)if(i=a[s],!Yk(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const z0t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ls,_areEquals:Yk,applyOperation:Yv,applyPatch:XP,applyReducer:B0t,deepClone:P0t,getValueByPointer:KO,validate:LSe,validator:YO},Symbol.toStringTag,{value:"Module"}));var WK=new WeakMap,V0t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),W0t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function U0t(e){return WK.get(e)}function j0t(e,t){return e.observers.get(t)}function H0t(e,t){e.observers.delete(t.callback)}function q0t(e,t){t.unobserve()}function G0t(e,t){var n=[],r,s=U0t(e);if(!s)s=new V0t(e),WK.set(e,s);else{var o=j0t(s,t);r=o&&o.observer}if(r)return r;if(r={},s.value=Hl(e),t){r.callback=t,r.next=null;var i=function(){nW(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){nW(r),clearTimeout(r.next),H0t(s,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},s.observers.set(t,new W0t(t,r)),r}function nW(e,t){t===void 0&&(t=!1);var n=WK.get(e.object);UK(n.value,e.object,e.patches,"",t),e.patches.length&&XP(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function UK(e,t,n,r,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=QV(t),i=QV(e),a=!1,l=i.length-1;l>=0;l--){var u=i[l],c=e[u];if(JV(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?UK(c,f,n,r+"/"+sv(u),s):c!==f&&(s&&n.push({op:"test",path:r+"/"+sv(u),value:Hl(c)}),n.push({op:"replace",path:r+"/"+sv(u),value:Hl(f)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:r+"/"+sv(u),value:Hl(c)}),n.push({op:"remove",path:r+"/"+sv(u)}),a=!0):(s&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==i.length))for(var l=0;l<o.length;l++){var u=o[l];!JV(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+sv(u),value:Hl(t[u])})}}}function K0t(e,t,n){n===void 0&&(n=!1);var r=[];return UK(e,t,r,"",n),r}const Y0t=Object.freeze(Object.defineProperty({__proto__:null,compare:K0t,generate:nW,observe:G0t,unobserve:q0t},Symbol.toStringTag,{value:"Module"}));Object.assign({},z0t,Y0t,{JsonPatchError:PSe,deepClone:Hl,escapePathComponent:sv,unescapePathComponent:MSe});var v5,oie;function X0t(){if(oie)return v5;oie=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return v5=function(n,r){var s,o,i;return r=r||{},s=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=s===""?1/0:r.maxLength===void 0?80:r.maxLength,i=r.replacer,(function a(l,u,c){var f,d,h,p,g,m,v,y,b,w,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,i),C===void 0)return C;if(v=o-u.length-c,C.length<=v&&(b=C.replace(e,function($,k){return k||$+" "}),b.length<=v))return b;if(i!=null&&(l=JSON.parse(C),i=void 0),typeof l=="object"&&l!==null){if(y=u+s,h=[],d=0,Array.isArray(l))for(w="[",f="]",v=l.length;d<v;d++)h.push(a(l[d],y,d===v-1?0:1)||"null");else for(w="{",f="}",m=Object.keys(l),v=m.length;d<v;d++)p=m[d],g=JSON.stringify(p)+": ",S=a(l[p],y,g.length+(d===v-1?0:1)),S!==void 0&&h.push(g+S);if(h.length>0)return[w,s+h.join(`,
`+y),f].join(`
`+u)}return C})(n,"",0)},v5}var Z0t=X0t();const y5=Nl(Z0t);var sN={exports:{}},b5,iie;function ZP(){if(iie)return b5;iie=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,s=t-6;return b5={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},b5}var w5,aie;function JP(){if(aie)return w5;aie=1;var e={};return w5=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},w5}var lie;function iA(){return lie||(lie=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=ZP(),o=JP();t=e.exports={};const i=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,r]],p=m=>{for(const[v,y]of h)m=m.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return m},g=(m,v,y)=>{const b=p(v),w=f++;o(m,w,v),c[m]=w,l[w]=v,u[w]=b,i[w]=new RegExp(v,y?"g":void 0),a[w]=new RegExp(b,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(sN,sN.exports)),sN.exports}var x5,uie;function jK(){if(uie)return x5;uie=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return x5=r=>r?typeof r!="object"?e:r:t,x5}var C5,cie;function BSe(){if(cie)return C5;cie=1;const e=/^[0-9]+$/,t=(r,s)=>{if(typeof r=="number"&&typeof s=="number")return r===s?0:r<s?-1:1;const o=e.test(r),i=e.test(s);return o&&i&&(r=+r,s=+s),r===s?0:o&&!i?-1:i&&!o?1:r<s?-1:1};return C5={compareIdentifiers:t,rcompareIdentifiers:(r,s)=>t(s,r)},C5}var S5,fie;function Ua(){if(fie)return S5;fie=1;const e=JP(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=ZP(),{safeRe:r,t:s}=iA(),o=jK(),{compareIdentifiers:i}=BSe();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const f=u.trim().match(c.loose?r[s.LOOSE]:r[s.FULL]);if(!f)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const h=+d;if(h>=0&&h<n)return h}return d}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),this.major<u.major?-1:this.major>u.major?1:this.minor<u.minor?-1:this.minor>u.minor?1:this.patch<u.patch?-1:this.patch>u.patch?1:0}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const f=this.prerelease[c],d=u.prerelease[c];if(e("prerelease compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return i(f,d)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const f=this.build[c],d=u.build[c];if(e("build compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return i(f,d)}while(++c)}inc(u,c,f){if(u.startsWith("pre")){if(!c&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const d=`-${c}`.match(this.options.loose?r[s.PRERELEASELOOSE]:r[s.PRERELEASE]);if(!d||d[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,f),this.inc("pre",c,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,f),this.inc("pre",c,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[d];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(c){let h=[c,d];f===!1&&(h=[c]),i(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return S5=a,S5}var $5,die;function oC(){if(die)return $5;die=1;const e=Ua();return $5=(n,r,s=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!s)return null;throw o}},$5}var k5,hie;function J0t(){if(hie)return k5;hie=1;const e=oC();return k5=(n,r)=>{const s=e(n,r);return s?s.version:null},k5}var E5,pie;function Q0t(){if(pie)return E5;pie=1;const e=oC();return E5=(n,r)=>{const s=e(n.trim().replace(/^[=v]+/,""),r);return s?s.version:null},E5}var _5,gie;function evt(){if(gie)return _5;gie=1;const e=Ua();return _5=(n,r,s,o,i)=>{typeof s=="string"&&(i=o,o=s,s=void 0);try{return new e(n instanceof e?n.version:n,s).inc(r,o,i).version}catch{return null}},_5}var T5,mie;function tvt(){if(mie)return T5;mie=1;const e=oC();return T5=(n,r)=>{const s=e(n,null,!0),o=e(r,null,!0),i=s.compare(o);if(i===0)return null;const a=i>0,l=a?s:o,u=a?o:s,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const d=c?"pre":"";return s.major!==o.major?d+"major":s.minor!==o.minor?d+"minor":s.patch!==o.patch?d+"patch":"prerelease"},T5}var A5,vie;function nvt(){if(vie)return A5;vie=1;const e=Ua();return A5=(n,r)=>new e(n,r).major,A5}var I5,yie;function rvt(){if(yie)return I5;yie=1;const e=Ua();return I5=(n,r)=>new e(n,r).minor,I5}var N5,bie;function svt(){if(bie)return N5;bie=1;const e=Ua();return N5=(n,r)=>new e(n,r).patch,N5}var D5,wie;function ovt(){if(wie)return D5;wie=1;const e=oC();return D5=(n,r)=>{const s=e(n,r);return s&&s.prerelease.length?s.prerelease:null},D5}var O5,xie;function Jc(){if(xie)return O5;xie=1;const e=Ua();return O5=(n,r,s)=>new e(n,s).compare(new e(r,s)),O5}var R5,Cie;function ivt(){if(Cie)return R5;Cie=1;const e=Jc();return R5=(n,r,s)=>e(r,n,s),R5}var F5,Sie;function avt(){if(Sie)return F5;Sie=1;const e=Jc();return F5=(n,r)=>e(n,r,!0),F5}var M5,$ie;function HK(){if($ie)return M5;$ie=1;const e=Ua();return M5=(n,r,s)=>{const o=new e(n,s),i=new e(r,s);return o.compare(i)||o.compareBuild(i)},M5}var P5,kie;function lvt(){if(kie)return P5;kie=1;const e=HK();return P5=(n,r)=>n.sort((s,o)=>e(s,o,r)),P5}var L5,Eie;function uvt(){if(Eie)return L5;Eie=1;const e=HK();return L5=(n,r)=>n.sort((s,o)=>e(o,s,r)),L5}var B5,_ie;function QP(){if(_ie)return B5;_ie=1;const e=Jc();return B5=(n,r,s)=>e(n,r,s)>0,B5}var z5,Tie;function qK(){if(Tie)return z5;Tie=1;const e=Jc();return z5=(n,r,s)=>e(n,r,s)<0,z5}var V5,Aie;function zSe(){if(Aie)return V5;Aie=1;const e=Jc();return V5=(n,r,s)=>e(n,r,s)===0,V5}var W5,Iie;function VSe(){if(Iie)return W5;Iie=1;const e=Jc();return W5=(n,r,s)=>e(n,r,s)!==0,W5}var U5,Nie;function GK(){if(Nie)return U5;Nie=1;const e=Jc();return U5=(n,r,s)=>e(n,r,s)>=0,U5}var j5,Die;function KK(){if(Die)return j5;Die=1;const e=Jc();return j5=(n,r,s)=>e(n,r,s)<=0,j5}var H5,Oie;function WSe(){if(Oie)return H5;Oie=1;const e=zSe(),t=VSe(),n=QP(),r=GK(),s=qK(),o=KK();return H5=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return s(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},H5}var q5,Rie;function cvt(){if(Rie)return q5;Rie=1;const e=Ua(),t=oC(),{safeRe:n,t:r}=iA();return q5=(o,i)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;i=i||{};let a=null;if(!i.rtl)a=o.match(i.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=i.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let p;for(;(p=h.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),h.lastIndex=p.index+p[1].length+p[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",f=i.includePrerelease&&a[5]?`-${a[5]}`:"",d=i.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${f}${d}`,i)},q5}var G5,Fie;function fvt(){if(Fie)return G5;Fie=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return G5=e,G5}var K5,Mie;function Qc(){if(Mie)return K5;Mie=1;const e=/\s+/g;class t{constructor(R,L){if(L=s(L),R instanceof t)return R.loose===!!L.loose&&R.includePrerelease===!!L.includePrerelease?R:new t(R.raw,L);if(R instanceof o)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=R.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(N=>!g(N[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&m(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const L=this.set[R];for(let D=0;D<L.length;D++)D>0&&(this.formatted+=" "),this.formatted+=L[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const D=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+R,N=r.get(D);if(N)return N;const M=this.options.loose,z=M?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];R=R.replace(z,A(this.options.includePrerelease)),i("hyphen replace",R),R=R.replace(l[u.COMPARATORTRIM],c),i("comparator trim",R),R=R.replace(l[u.TILDETRIM],f),i("tilde trim",R),R=R.replace(l[u.CARETTRIM],d),i("caret trim",R);let W=R.split(" ").map(G=>y(G,this.options)).join(" ").split(/\s+/).map(G=>E(G,this.options));M&&(W=W.filter(G=>(i("loose invalid filter",G,this.options),!!G.match(l[u.COMPARATORLOOSE])))),i("range list",W);const j=new Map,U=W.map(G=>new o(G,this.options));for(const G of U){if(g(G))return[G];j.set(G.value,G)}j.size>1&&j.has("")&&j.delete("");const Y=[...j.values()];return r.set(D,Y),Y}intersects(R,L){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>v(D,L)&&R.set.some(N=>v(N,L)&&D.every(M=>N.every(z=>M.intersects(z,L)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new a(R,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(I(this.set[L],R,this.options))return!0;return!1}}K5=t;const n=fvt(),r=new n,s=jK(),o=eL(),i=JP(),a=Ua(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=iA(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=ZP(),g=F=>F.value==="<0.0.0-0",m=F=>F.value==="",v=(F,R)=>{let L=!0;const D=F.slice();let N=D.pop();for(;L&&D.length;)L=D.every(M=>N.intersects(M,R)),N=D.pop();return L},y=(F,R)=>(F=F.replace(l[u.BUILD],""),i("comp",F,R),F=S(F,R),i("caret",F),F=w(F,R),i("tildes",F),F=k(F,R),i("xrange",F),F=_(F,R),i("stars",F),F),b=F=>!F||F.toLowerCase()==="x"||F==="*",w=(F,R)=>F.trim().split(/\s+/).map(L=>C(L,R)).join(" "),C=(F,R)=>{const L=R.loose?l[u.TILDELOOSE]:l[u.TILDE];return F.replace(L,(D,N,M,z,W)=>{i("tilde",F,D,N,M,z,W);let j;return b(N)?j="":b(M)?j=`>=${N}.0.0 <${+N+1}.0.0-0`:b(z)?j=`>=${N}.${M}.0 <${N}.${+M+1}.0-0`:W?(i("replaceTilde pr",W),j=`>=${N}.${M}.${z}-${W} <${N}.${+M+1}.0-0`):j=`>=${N}.${M}.${z} <${N}.${+M+1}.0-0`,i("tilde return",j),j})},S=(F,R)=>F.trim().split(/\s+/).map(L=>$(L,R)).join(" "),$=(F,R)=>{i("caret",F,R);const L=R.loose?l[u.CARETLOOSE]:l[u.CARET],D=R.includePrerelease?"-0":"";return F.replace(L,(N,M,z,W,j)=>{i("caret",F,N,M,z,W,j);let U;return b(M)?U="":b(z)?U=`>=${M}.0.0${D} <${+M+1}.0.0-0`:b(W)?M==="0"?U=`>=${M}.${z}.0${D} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.0${D} <${+M+1}.0.0-0`:j?(i("replaceCaret pr",j),M==="0"?z==="0"?U=`>=${M}.${z}.${W}-${j} <${M}.${z}.${+W+1}-0`:U=`>=${M}.${z}.${W}-${j} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.${W}-${j} <${+M+1}.0.0-0`):(i("no pr"),M==="0"?z==="0"?U=`>=${M}.${z}.${W}${D} <${M}.${z}.${+W+1}-0`:U=`>=${M}.${z}.${W}${D} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.${W} <${+M+1}.0.0-0`),i("caret return",U),U})},k=(F,R)=>(i("replaceXRanges",F,R),F.split(/\s+/).map(L=>T(L,R)).join(" ")),T=(F,R)=>{F=F.trim();const L=R.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return F.replace(L,(D,N,M,z,W,j)=>{i("xRange",F,D,N,M,z,W,j);const U=b(M),Y=U||b(z),G=Y||b(W),ne=G;return N==="="&&ne&&(N=""),j=R.includePrerelease?"-0":"",U?N===">"||N==="<"?D="<0.0.0-0":D="*":N&&ne?(Y&&(z=0),W=0,N===">"?(N=">=",Y?(M=+M+1,z=0,W=0):(z=+z+1,W=0)):N==="<="&&(N="<",Y?M=+M+1:z=+z+1),N==="<"&&(j="-0"),D=`${N+M}.${z}.${W}${j}`):Y?D=`>=${M}.0.0${j} <${+M+1}.0.0-0`:G&&(D=`>=${M}.${z}.0${j} <${M}.${+z+1}.0-0`),i("xRange return",D),D})},_=(F,R)=>(i("replaceStars",F,R),F.trim().replace(l[u.STAR],"")),E=(F,R)=>(i("replaceGTE0",F,R),F.trim().replace(l[R.includePrerelease?u.GTE0PRE:u.GTE0],"")),A=F=>(R,L,D,N,M,z,W,j,U,Y,G,ne)=>(b(D)?L="":b(N)?L=`>=${D}.0.0${F?"-0":""}`:b(M)?L=`>=${D}.${N}.0${F?"-0":""}`:z?L=`>=${L}`:L=`>=${L}${F?"-0":""}`,b(U)?j="":b(Y)?j=`<${+U+1}.0.0-0`:b(G)?j=`<${U}.${+Y+1}.0-0`:ne?j=`<=${U}.${Y}.${G}-${ne}`:F?j=`<${U}.${Y}.${+G+1}-0`:j=`<=${j}`,`${L} ${j}`.trim()),I=(F,R,L)=>{for(let D=0;D<F.length;D++)if(!F[D].test(R))return!1;if(R.prerelease.length&&!L.includePrerelease){for(let D=0;D<F.length;D++)if(i(F[D].semver),F[D].semver!==o.ANY&&F[D].semver.prerelease.length>0){const N=F[D].semver;if(N.major===R.major&&N.minor===R.minor&&N.patch===R.patch)return!0}return!1}return!0};return K5}var Y5,Pie;function eL(){if(Pie)return Y5;Pie=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),i("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(c){const f=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(i("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Y5=t;const n=jK(),{safeRe:r,t:s}=iA(),o=WSe(),i=JP(),a=Ua(),l=Qc();return Y5}var X5,Lie;function tL(){if(Lie)return X5;Lie=1;const e=Qc();return X5=(n,r,s)=>{try{r=new e(r,s)}catch{return!1}return r.test(n)},X5}var Z5,Bie;function dvt(){if(Bie)return Z5;Bie=1;const e=Qc();return Z5=(n,r)=>new e(n,r).set.map(s=>s.map(o=>o.value).join(" ").trim().split(" ")),Z5}var J5,zie;function hvt(){if(zie)return J5;zie=1;const e=Ua(),t=Qc();return J5=(r,s,o)=>{let i=null,a=null,l=null;try{l=new t(s,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!i||a.compare(u)===-1)&&(i=u,a=new e(i,o))}),i},J5}var Q5,Vie;function pvt(){if(Vie)return Q5;Vie=1;const e=Ua(),t=Qc();return Q5=(r,s,o)=>{let i=null,a=null,l=null;try{l=new t(s,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!i||a.compare(u)===1)&&(i=u,a=new e(i,o))}),i},Q5}var ez,Wie;function gvt(){if(Wie)return ez;Wie=1;const e=Ua(),t=Qc(),n=QP();return ez=(s,o)=>{s=new t(s,o);let i=new e("0.0.0");if(s.test(i)||(i=new e("0.0.0-0"),s.test(i)))return i;i=null;for(let a=0;a<s.set.length;++a){const l=s.set[a];let u=null;l.forEach(c=>{const f=new e(c.semver.version);switch(c.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!u||n(f,u))&&(u=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!i||n(i,u))&&(i=u)}return i&&s.test(i)?i:null},ez}var tz,Uie;function mvt(){if(Uie)return tz;Uie=1;const e=Qc();return tz=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},tz}var nz,jie;function YK(){if(jie)return nz;jie=1;const e=Ua(),t=eL(),{ANY:n}=t,r=Qc(),s=tL(),o=QP(),i=qK(),a=KK(),l=GK();return nz=(c,f,d,h)=>{c=new e(c,h),f=new r(f,h);let p,g,m,v,y;switch(d){case">":p=o,g=a,m=i,v=">",y=">=";break;case"<":p=i,g=l,m=o,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(c,f,h))return!1;for(let b=0;b<f.set.length;++b){const w=f.set[b];let C=null,S=null;if(w.forEach($=>{$.semver===n&&($=new t(">=0.0.0")),C=C||$,S=S||$,p($.semver,C.semver,h)?C=$:m($.semver,S.semver,h)&&(S=$)}),C.operator===v||C.operator===y||(!S.operator||S.operator===v)&&g(c,S.semver))return!1;if(S.operator===y&&m(c,S.semver))return!1}return!0},nz}var rz,Hie;function vvt(){if(Hie)return rz;Hie=1;const e=YK();return rz=(n,r,s)=>e(n,r,">",s),rz}var sz,qie;function yvt(){if(qie)return sz;qie=1;const e=YK();return sz=(n,r,s)=>e(n,r,"<",s),sz}var oz,Gie;function bvt(){if(Gie)return oz;Gie=1;const e=Qc();return oz=(n,r,s)=>(n=new e(n,s),r=new e(r,s),n.intersects(r,s)),oz}var iz,Kie;function wvt(){if(Kie)return iz;Kie=1;const e=tL(),t=Jc();return iz=(n,r,s)=>{const o=[];let i=null,a=null;const l=n.sort((d,h)=>t(d,h,s));for(const d of l)e(d,r,s)?(a=d,i||(i=d)):(a&&o.push([i,a]),a=null,i=null);i&&o.push([i,null]);const u=[];for(const[d,h]of o)d===h?u.push(d):!h&&d===l[0]?u.push("*"):h?d===l[0]?u.push(`<=${h}`):u.push(`${d} - ${h}`):u.push(`>=${d}`);const c=u.join(" || "),f=typeof r.raw=="string"?r.raw:String(r);return c.length<f.length?c:r},iz}var az,Yie;function xvt(){if(Yie)return az;Yie=1;const e=Qc(),t=eL(),{ANY:n}=t,r=tL(),s=Jc(),o=(f,d,h={})=>{if(f===d)return!0;f=new e(f,h),d=new e(d,h);let p=!1;e:for(const g of f.set){for(const m of d.set){const v=l(g,m,h);if(p=p||v!==null,v)continue e}if(p)return!1}return!0},i=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(f,d,h)=>{if(f===d)return!0;if(f.length===1&&f[0].semver===n){if(d.length===1&&d[0].semver===n)return!0;h.includePrerelease?f=i:f=a}if(d.length===1&&d[0].semver===n){if(h.includePrerelease)return!0;d=a}const p=new Set;let g,m;for(const k of f)k.operator===">"||k.operator===">="?g=u(g,k,h):k.operator==="<"||k.operator==="<="?m=c(m,k,h):p.add(k.semver);if(p.size>1)return null;let v;if(g&&m){if(v=s(g.semver,m.semver,h),v>0)return null;if(v===0&&(g.operator!==">="||m.operator!=="<="))return null}for(const k of p){if(g&&!r(k,String(g),h)||m&&!r(k,String(m),h))return null;for(const T of d)if(!r(k,String(T),h))return!1;return!0}let y,b,w,C,S=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1,$=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1;S&&S.prerelease.length===1&&m.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of d){if(C=C||k.operator===">"||k.operator===">=",w=w||k.operator==="<"||k.operator==="<=",g){if($&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===$.major&&k.semver.minor===$.minor&&k.semver.patch===$.patch&&($=!1),k.operator===">"||k.operator===">="){if(y=u(g,k,h),y===k&&y!==g)return!1}else if(g.operator===">="&&!r(g.semver,String(k),h))return!1}if(m){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(b=c(m,k,h),b===k&&b!==m)return!1}else if(m.operator==="<="&&!r(m.semver,String(k),h))return!1}if(!k.operator&&(m||g)&&v!==0)return!1}return!(g&&w&&!m&&v!==0||m&&C&&!g&&v!==0||$||S)},u=(f,d,h)=>{if(!f)return d;const p=s(f.semver,d.semver,h);return p>0?f:p<0||d.operator===">"&&f.operator===">="?d:f},c=(f,d,h)=>{if(!f)return d;const p=s(f.semver,d.semver,h);return p<0?f:p>0||d.operator==="<"&&f.operator==="<="?d:f};return az=o,az}var lz,Xie;function Cvt(){if(Xie)return lz;Xie=1;const e=iA(),t=ZP(),n=Ua(),r=BSe(),s=oC(),o=J0t(),i=Q0t(),a=evt(),l=tvt(),u=nvt(),c=rvt(),f=svt(),d=ovt(),h=Jc(),p=ivt(),g=avt(),m=HK(),v=lvt(),y=uvt(),b=QP(),w=qK(),C=zSe(),S=VSe(),$=GK(),k=KK(),T=WSe(),_=cvt(),E=eL(),A=Qc(),I=tL(),F=dvt(),R=hvt(),L=pvt(),D=gvt(),N=mvt(),M=YK(),z=vvt(),W=yvt(),j=bvt(),U=wvt(),Y=xvt();return lz={parse:s,valid:o,clean:i,inc:a,diff:l,major:u,minor:c,patch:f,prerelease:d,compare:h,rcompare:p,compareLoose:g,compareBuild:m,sort:v,rsort:y,gt:b,lt:w,eq:C,neq:S,gte:$,lte:k,cmp:T,coerce:_,Comparator:E,Range:A,satisfies:I,toComparators:F,maxSatisfying:R,minSatisfying:L,minVersion:D,validRange:N,outside:M,gtr:z,ltr:W,intersects:j,simplifyRange:U,subset:Y,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},lz}var USe=Cvt();function Ju(e,t,n){return e.fields=t||[],e.fname=n,e}function Ws(e){return e==null?null:e.fname}function Zi(e){return e==null?null:e.fields}function jSe(e){return e.length===1?Svt(e[0]):$vt(e)}const Svt=e=>function(t){return t[e]},$vt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function gt(e){throw Error(e)}function nL(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a),o+=e.substring(++a,++a),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||gt("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&gt("Access path missing closing bracket: "+e),r&&gt("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function wm(e,t,n){const r=nL(e);return e=r.length===1?r[0]:e,Ju((n&&n.get||jSe)(r),[e],t||e)}const kvt=wm("id"),Pu=Ju(e=>e,[],"identity"),$g=Ju(()=>0,[],"zero"),iC=Ju(()=>1,[],"one"),aC=Ju(()=>!0,[],"true"),ag=Ju(()=>!1,[],"false");function oN(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const HSe=0,qSe=1,GSe=2,KSe=3,YSe=4;function Evt(e,t){let n=e||HSe;return{level(r){return arguments.length?(n=+r,this):n},error(){return n>=qSe&&oN(t||"error","ERROR",arguments),this},warn(){return n>=GSe&&oN(t||"warn","WARN",arguments),this},info(){return n>=KSe&&oN(t||"log","INFO",arguments),this},debug(){return n>=YSe&&oN(t||"log","DEBUG",arguments),this}}}var jn=Array.isArray;function tr(e){return e===Object(e)}const Zie=e=>e!=="__proto__";function rL(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=_vt(t.signals,n.signals);else{const s=r==="legend"?{layout:1}:r==="style"?!0:null;sL(t,r,n[r],s)}return t},{})}function sL(e,t,n,r){if(!Zie(t))return;let s,o;if(tr(n)&&!jn(n)){o=tr(e[t])?e[t]:e[t]={};for(s in n)r&&(r===!0||r[s])?sL(o,s,n[s]):Zie(s)&&(o[s]=n[s])}else e[t]=n}function _vt(e,t){if(e==null)return t;const n={},r=[];function s(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(s),e.forEach(s),r}function Xr(e){return e[e.length-1]}function xm(e){return e==null||e===""?null:+e}const XSe=e=>t=>e*Math.exp(t),ZSe=e=>t=>Math.log(e*t),JSe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),QSe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,XO=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function oL(e,t,n,r){const s=n(e[0]),o=n(Xr(e)),i=(o-s)*t;return[r(s-i),r(o-i)]}function Tvt(e,t){return oL(e,t,xm,Pu)}function Avt(e,t){var n=Math.sign(e[0]);return oL(e,t,ZSe(n),XSe(n))}function Ivt(e,t,n){return oL(e,t,XO(n),XO(1/n))}function Nvt(e,t,n){return oL(e,t,JSe(n),QSe(n))}function iL(e,t,n,r,s){const o=r(e[0]),i=r(Xr(e)),a=t!=null?r(t):(o+i)/2;return[s(a+(o-a)*n),s(a+(i-a)*n)]}function e$e(e,t,n){return iL(e,t,n,xm,Pu)}function t$e(e,t,n){const r=Math.sign(e[0]);return iL(e,t,n,ZSe(r),XSe(r))}function rW(e,t,n,r){return iL(e,t,n,XO(r),XO(1/r))}function n$e(e,t,n,r){return iL(e,t,n,JSe(r),QSe(r))}function Dvt(e){return 1+~~(new Date(e).getMonth()/3)}function Ovt(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Mn(e){return e!=null?jn(e)?e:[e]:[]}function Rvt(e,t,n){let r=e[0],s=e[1],o;return s<r&&(o=s,s=r,r=o),o=s-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Or(e){return typeof e=="function"}const Fvt="descending";function r$e(e,t,n){n=n||{},t=Mn(t)||[];const r=[],s=[],o={},i=n.comparator||Mvt;return Mn(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Fvt?-1:1),s.push(a=Or(a)?a:wm(a,null,n)),(Zi(a)||[]).forEach(u=>o[u]=1))}),s.length===0?null:Ju(i(s,r),Object.keys(o))}const aL=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Mvt=(e,t)=>e.length===1?Pvt(e[0],t[0]):Lvt(e,t,e.length),Pvt=(e,t)=>function(n,r){return aL(e(n),e(r))*t},Lvt=(e,t,n)=>(t.push(0),function(r,s){let o,i=0,a=-1;for(;i===0&&++a<n;)o=e[a],i=aL(o(r),o(s));return i*t[a]});function Lu(e){return Or(e)?e:()=>e}function s$e(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function sr(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Cm(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function o$e(e,t){const n=e.length;let r=-1,s,o,i,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){s=i=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(s>o&&(s=o,a=r),i<o&&(i=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){s=i=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(s>o&&(s=o,a=r),i<o&&(i=o,l=r))}return[a,l]}const Bvt=Object.prototype.hasOwnProperty;function Pn(e,t){return Bvt.call(e,t)}const iN={};function lC(e){let t={},n;function r(o){return Pn(t,o)&&t[o]!==iN}const s={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,i){return r(o)||(++s.size,t[o]===iN&&--s.empty),t[o]=i,this},delete(o){return r(o)&&(--s.size,++s.empty,t[o]=iN),this},clear(){s.size=s.empty=0,s.object=t={}},test(o){return arguments.length?(n=o,s):n},clean(){const o={};let i=0;for(const a in t){const l=t[a];l!==iN&&(!n||!n(l))&&(o[a]=l,++i)}s.size=i,s.empty=0,s.object=t=o}};return e&&Object.keys(e).forEach(o=>{s.set(o,e[o])}),s}function zvt(e,t,n,r,s,o){if(!n&&n!==0)return o;const i=+n;let a=e[0],l=Xr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=i?r:c<=i?s:o}function Nt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),sr(r,n)}function Vvt(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function i$e(e){return typeof e=="boolean"}function lL(e){return Object.prototype.toString.call(e)==="[object Date]"}function a$e(e){return e&&Or(e[Symbol.iterator])}function _1(e){return typeof e=="number"}function Wvt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ys(e){return typeof e=="string"}function l$e(e,t,n){e&&(e=t?Mn(e).map(a=>a.replace(/\\(.)/g,"$1")):Mn(e));const r=e&&e.length,s=n&&n.get||jSe,o=a=>s(t?[a]:nL(a));let i;if(!r)i=function(){return""};else if(r===1){const a=o(e[0]);i=function(l){return""+a(l)}}else{const a=e.map(o);i=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Ju(i,e,"key")}function Uvt(e,t){const n=e[0],r=Xr(e),s=+t;return s?s===1?r:n+s*(r-n):n}const jvt=1e4;function u$e(e){e=+e||jvt;let t,n,r;const s=()=>{t={},n={},r=0},o=(i,a)=>(++r>e&&(n=t,t={},r=1),t[i]=a);return s(),{clear:s,has:i=>Pn(t,i)||Pn(n,i),get:i=>Pn(t,i)?t[i]:Pn(n,i)?o(i,n[i]):void 0,set:(i,a)=>Pn(t,i)?t[i]=a:o(i,a)}}function c$e(e,t,n,r){const s=t.length,o=n.length;if(!o)return t;if(!s)return n;const i=r||new t.constructor(s+o);let a=0,l=0,u=0;for(;a<s&&l<o;++u)i[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<s;++a,++u)i[u]=t[a];for(;l<o;++l,++u)i[u]=n[l];return i}function o$(e,t){let n="";for(;--t>=0;)n+=e;return n}function Hvt(e,t,n,r){const s=n||" ",o=e+"",i=t-o.length;return i<=0?o:r==="left"?o$(s,i)+o:r==="center"?o$(s,~~(i/2))+o+o$(s,Math.ceil(i/2)):o+o$(s,i)}function uL(e){return e&&Xr(e)-e[0]||0}function _n(e){return jn(e)?"["+e.map(_n)+"]":tr(e)||ys(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function f$e(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const qvt=e=>_1(e)||lL(e)?e:Date.parse(e);function d$e(e,t){return t=t||qvt,e==null||e===""?null:t(e)}function h$e(e){return e==null||e===""?null:e+""}function ap(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Gvt(e,t,n,r){const s=r??"",o=e+"",i=o.length,a=Math.max(0,t-s.length);return i<=t?o:n==="left"?s+o.slice(i-a):n==="center"?o.slice(0,Math.ceil(a/2))+s+o.slice(i-~~(a/2)):o.slice(0,a)+s}function Kvt(e,t,n){if(e)if(t){const r=e.length;for(let s=0;s<r;++s){const o=t(e[s]);o&&n(o,s,e)}}else e.forEach(n)}function uC(e,t,n){return e.fields=t||[],e.fname=n,e}function Yvt(e){return e.length===1?Xvt(e[0]):Zvt(e)}const Xvt=e=>function(t){return t[e]},Zvt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ji(e){throw Error(e)}function Jvt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||Ji("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&Ji("Access path missing closing bracket: "+e),r&&Ji("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function p$e(e,t,n){const r=Jvt(e);return e=r.length===1?r[0]:e,uC(Yvt(r),[e],e)}const cL=p$e("id"),fL=uC(e=>e,[],"identity");uC(()=>0,[],"zero");uC(()=>1,[],"one");const sW=uC(()=>!0,[],"true");uC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));function Qvt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const e1t=0,g$e=1,t1t=2,n1t=3,r1t=4;function s1t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qvt,r=e||e1t;return{level(s){return arguments.length?(r=+s,this):r},error(){return r>=g$e&&n("error","ERROR",arguments),this},warn(){return r>=t1t&&n("warn","WARN",arguments),this},info(){return r>=n1t&&n("log","INFO",arguments),this},debug(){return r>=r1t&&n("log","DEBUG",arguments),this}}}var hd=Array.isArray;function XK(e){return e===Object(e)}function Jie(e){return e==null||e===""?null:+e}function ZO(e){return e!=null?hd(e)?e:[e]:[]}function _c(e){return typeof e=="function"}function ZK(e){return _c(e)?e:()=>e}function o1t(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function cC(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function JK(e,t){return Object.hasOwn(e,t)}function m$e(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),cC(r,n)}function i1t(e){return Object.prototype.toString.call(e)==="[object Date]"}function a1t(e){return e&&_c(e[Symbol.iterator])}function l1t(e){return typeof e=="number"}function oW(e){return typeof e=="string"}function QK(e){return hd(e)?"["+e.map(QK)+"]":XK(e)||oW(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function u1t(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const c1t=e=>l1t(e)||i1t(e)?e:Date.parse(e);function f1t(e,t){return t=t||c1t,e==null||e===""?null:t(e)}function d1t(e){return e==null||e===""?null:e+""}function ov(e,t,n){if(e)if(t){const r=e.length;for(let s=0;s<r;++s){const o=t(e[s]);o&&n(o,s,e)}}else e.forEach(n)}var Qie={},uz={},cz=34,fS=10,fz=13;function v$e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function h1t(e,t){var n=v$e(e);return function(r,s){return t(n(r),s,e)}}function eae(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var s in r)s in t||n.push(t[s]=s)}),n}function Ya(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function p1t(e){return e<0?"-"+Ya(-e,6):e>9999?"+"+Ya(e,6):Ya(e,4)}function g1t(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":p1t(e.getUTCFullYear())+"-"+Ya(e.getUTCMonth()+1,2)+"-"+Ya(e.getUTCDate(),2)+(s?"T"+Ya(t,2)+":"+Ya(n,2)+":"+Ya(r,2)+"."+Ya(s,3)+"Z":r?"T"+Ya(t,2)+":"+Ya(n,2)+":"+Ya(r,2)+"Z":n||t?"T"+Ya(t,2)+":"+Ya(n,2)+"Z":"")}function m1t(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=s(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?h1t(m,d):v$e(m)});return g.columns=p||[],g}function s(f,d){var h=[],p=f.length,g=0,m=0,v,y=p<=0,b=!1;f.charCodeAt(p-1)===fS&&--p,f.charCodeAt(p-1)===fz&&--p;function w(){if(y)return uz;if(b)return b=!1,Qie;var S,$=g,k;if(f.charCodeAt($)===cz){for(;g++<p&&f.charCodeAt(g)!==cz||f.charCodeAt(++g)===cz;);return(S=g)>=p?y=!0:(k=f.charCodeAt(g++))===fS?b=!0:k===fz&&(b=!0,f.charCodeAt(g)===fS&&++g),f.slice($+1,S-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(S=g++))===fS)b=!0;else if(k===fz)b=!0,f.charCodeAt(g)===fS&&++g;else if(k!==n)continue;return f.slice($,S)}return y=!0,f.slice($,p)}for(;(v=w())!==uz;){for(var C=[];v!==Qie&&v!==uz;)C.push(v),v=w();d&&(C=d(C,m++))==null||h.push(C)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function i(f,d){return d==null&&(d=eae(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=eae(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?g1t(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:s,format:i,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function v1t(e){return e}function y1t(e){if(e==null)return v1t;var t,n,r=e.scale[0],s=e.scale[1],o=e.translate[0],i=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*s+i;u<c;)f[u]=a[u],++u;return f}}function b1t(e,t){for(var n,r=e.length,s=r-t;s<--r;)n=e[s],e[s++]=e[r],e[r]=n}function y$e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return tae(e,n)})}:tae(e,t)}function tae(e,t){var n=t.id,r=t.bbox,s=t.properties==null?{}:t.properties,o=b$e(e,t);return n==null&&r==null?{type:"Feature",properties:s,geometry:o}:r==null?{type:"Feature",id:n,properties:s,geometry:o}:{type:"Feature",id:n,bbox:r,properties:s,geometry:o}}function b$e(e,t){var n=y1t(e.transform),r=e.arcs;function s(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&b1t(f,p)}function o(c){return n(c)}function i(c){for(var f=[],d=0,h=c.length;d<h;++d)s(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=i(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=i(c.arcs);break;case"MultiLineString":d=c.arcs.map(i);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function w1t(e,t){var n={},r={},s={},o=[],i=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++i],t[i]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=s[f])if(delete s[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=s[g.end=p.end]=g}else r[h.start]=s[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=s[f]){delete s[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=s[m.end=h.end]=m}else r[h.start]=s[h.end]=h;else h=[u],r[h.start=f]=s[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(s,r),l(r,s),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function w$e(e){return b$e(e,x1t.apply(this,arguments))}function x1t(e,t,n){var r,s,o;if(arguments.length>1)r=C1t(e,t,n);else for(s=0,r=new Array(o=e.arcs.length);s<o;++s)r[s]=s;return{type:"MultiLineString",arcs:w1t(e,r)}}function C1t(e,t,n){var r=[],s=[],o;function i(f){var d=f<0?~f:f;(s[d]||(s[d]=[])).push({i:f,g:o})}function a(f){f.forEach(i)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),s.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}class JO extends Map{constructor(t,n=S$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(iW(this,t))}has(t){return super.has(iW(this,t))}set(t,n){return super.set(x$e(this,t),n)}delete(t){return super.delete(C$e(this,t))}}class QO extends Set{constructor(t,n=S$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(iW(this,t))}add(t){return super.add(x$e(this,t))}delete(t){return super.delete(C$e(this,t))}}function iW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function x$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function C$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function S$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const S1t=Math.sqrt(50),$1t=Math.sqrt(10),k1t=Math.sqrt(2);function $$e(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=S1t?10:o>=$1t?5:o>=k1t?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?$$e(e,t,n*2):[a,l,u]}function nae(e,t,n){return t=+t,e=+e,n=+n,$$e(e,t,n)[2]}function E1t(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?nae(t,e,n):nae(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function _1t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ww(e){return e=eR(Math.abs(e)),e?e[1]:NaN}function T1t(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function A1t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var I1t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xk(e){if(!(t=I1t.exec(e)))throw new Error("invalid format: "+e);var t;return new eY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xk.prototype=eY.prototype;function eY(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N1t(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var k$e;function D1t(e,t){var n=eR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(k$e=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eR(e,Math.max(0,t+o-1))[0]}function rae(e,t){var n=eR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const sae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_1t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rae(e*100,t),r:rae,s:D1t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oae(e){return e}var iae=Array.prototype.map,aae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E$e(e){var t=e.grouping===void 0||e.thousands===void 0?oae:T1t(iae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?oae:A1t(iae.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xk(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,b=f.precision,w=f.trim,C=f.type;C==="n"?(y=!0,C="g"):sae[C]||(b===void 0&&(b=12),w=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=sae[C],T=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(E){var A=S,I=$,F,R,L;if(C==="c")I=k(E)+I,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),b),w&&(E=N1t(E)),D&&+E==0&&p!=="+"&&(D=!1),A=(D?p==="("?p:a:p==="-"||p==="("?"":p)+A,I=(C==="s"?aae[8+k$e/3]:"")+I+(D&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(L=E.charCodeAt(F),48>L||L>57){I=(L===46?s+E.slice(F+1):E.slice(F))+I,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var N=A.length+E.length+I.length,M=N<v?new Array(v-N+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-I.length:1/0),M=""),h){case"<":E=A+E+I+M;break;case"=":E=A+M+E+I;break;case"^":E=M.slice(0,N=M.length>>1)+A+E+I+M.slice(N);break;default:E=M+A+E+I;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=Xk(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ww(d)/3)))*3,g=Math.pow(10,-p),m=aae[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var aN,_$e,T$e;O1t({thousands:",",grouping:[3],currency:["$",""]});function O1t(e){return aN=E$e(e),_$e=aN.format,T$e=aN.formatPrefix,aN}function R1t(e){return Math.max(0,-Ww(Math.abs(e)))}function F1t(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ww(t)/3)))*3-Ww(Math.abs(e)))}function M1t(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ww(t)-Ww(e))+1}const dz=new Date,hz=new Date;function Io(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>Io(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(dz.setTime(+o),hz.setTime(+i),e(dz),e(hz),Math.floor(n(dz,hz))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const Zk=Io(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zk.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Io(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zk);Zk.range;const Jk=1e3,Sm=Jk*60,Qk=Sm*60,eE=Qk*24,A$e=eE*7,tY=Io(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jk)},(e,t)=>(t-e)/Jk,e=>e.getUTCSeconds());tY.range;const I$e=Io(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jk)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getMinutes());I$e.range;const N$e=Io(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getUTCMinutes());N$e.range;const D$e=Io(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jk-e.getMinutes()*Sm)},(e,t)=>{e.setTime(+e+t*Qk)},(e,t)=>(t-e)/Qk,e=>e.getHours());D$e.range;const O$e=Io(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qk)},(e,t)=>(t-e)/Qk,e=>e.getUTCHours());O$e.range;const cw=Io(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sm)/eE,e=>e.getDate()-1);cw.range;const fw=Io(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eE,e=>e.getUTCDate()-1);fw.range;const P1t=Io(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eE,e=>Math.floor(e/eE));P1t.range;function by(e){return Io(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Sm)/A$e)}const nY=by(0),tR=by(1),L1t=by(2),B1t=by(3),Uw=by(4),z1t=by(5),V1t=by(6);nY.range;tR.range;L1t.range;B1t.range;Uw.range;z1t.range;V1t.range;function wy(e){return Io(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/A$e)}const rY=wy(0),nR=wy(1),W1t=wy(2),U1t=wy(3),jw=wy(4),j1t=wy(5),H1t=wy(6);rY.range;nR.range;W1t.range;U1t.range;jw.range;j1t.range;H1t.range;const aW=Io(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aW.range;const lW=Io(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lW.range;const $m=Io(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$m.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Io(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$m.range;const km=Io(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());km.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Io(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});km.range;const tE="year",nE="quarter",rE="month",sE="week",oE="date",dL="day",sY="dayofyear",iE="hours",aE="minutes",lE="seconds",hL="milliseconds",q1t=[tE,nE,rE,sE,oE,dL,sY,iE,aE,lE,hL];q1t.reduce((e,t,n)=>(e[t]=1+n,e),{});const G1t={[tE]:$m,[nE]:aW.every(3),[rE]:aW,[sE]:nY,[oE]:cw,[dL]:cw,[sY]:cw,[iE]:D$e,[aE]:I$e,[lE]:tY,[hL]:Zk},K1t={[tE]:km,[nE]:lW.every(3),[rE]:lW,[sE]:rY,[oE]:fw,[dL]:fw,[sY]:fw,[iE]:O$e,[aE]:N$e,[lE]:tY,[hL]:Zk};function Y1t(e){return G1t[e]}function X1t(e){return K1t[e]}function pz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function R$e(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=hS(s),c=pS(s),f=hS(o),d=pS(o),h=hS(i),p=pS(i),g=hS(a),m=pS(a),v=hS(l),y=pS(l),b={a:D,A:N,b:M,B:z,c:null,d:hae,e:hae,f:byt,g:Ayt,G:Nyt,H:myt,I:vyt,j:yyt,L:F$e,m:wyt,M:xyt,p:W,q:j,Q:mae,s:vae,S:Cyt,u:Syt,U:$yt,V:kyt,w:Eyt,W:_yt,x:null,X:null,y:Tyt,Y:Iyt,Z:Dyt,"%":gae},w={a:U,A:Y,b:G,B:ne,c:null,d:pae,e:pae,f:Myt,g:qyt,G:Kyt,H:Oyt,I:Ryt,j:Fyt,L:P$e,m:Pyt,M:Lyt,p:ue,q:ae,Q:mae,s:vae,S:Byt,u:zyt,U:Vyt,V:Wyt,w:Uyt,W:jyt,x:null,X:null,y:Hyt,Y:Gyt,Z:Yyt,"%":gae},C={a:_,A:E,b:A,B:I,c:F,d:fae,e:fae,f:dyt,g:cae,G:uae,H:dae,I:dae,j:lyt,L:fyt,m:ayt,M:uyt,p:T,q:iyt,Q:pyt,s:gyt,S:cyt,u:tyt,U:nyt,V:ryt,w:eyt,W:syt,x:R,X:L,y:cae,Y:uae,Z:oyt,"%":hyt};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(X,J){return function(q){var P=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(P.push(X.slice(se,Q)),(ge=lae[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),P.push(he),se=Q+1);return P.push(X.slice(se,Q)),P.join("")}}function $(X,J){return function(q){var P=dS(1900,void 0,1),Q=k(P,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(J&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(se=gz(dS(P.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?nR.ceil(se):nR(se),se=fw.offset(se,(P.V-1)*7),P.y=se.getUTCFullYear(),P.m=se.getUTCMonth(),P.d=se.getUTCDate()+(P.w+6)%7):(se=pz(dS(P.y,0,1)),de=se.getDay(),se=de>4||de===0?tR.ceil(se):tR(se),se=cw.offset(se,(P.V-1)*7),P.y=se.getFullYear(),P.m=se.getMonth(),P.d=se.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),de="Z"in P?gz(dS(P.y,0,1)).getUTCDay():pz(dS(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(de+5)%7:P.w+P.U*7-(de+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,gz(P)):pz(P)}}function k(X,J,q,P){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(P>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in lae?J.charAt(Q++):he],!ge||(P=ge(X,q,P))<0)return-1}else if(he!=q.charCodeAt(P++))return-1}return P}function T(X,J,q){var P=u.exec(J.slice(q));return P?(X.p=c.get(P[0].toLowerCase()),q+P[0].length):-1}function _(X,J,q){var P=h.exec(J.slice(q));return P?(X.w=p.get(P[0].toLowerCase()),q+P[0].length):-1}function E(X,J,q){var P=f.exec(J.slice(q));return P?(X.w=d.get(P[0].toLowerCase()),q+P[0].length):-1}function A(X,J,q){var P=v.exec(J.slice(q));return P?(X.m=y.get(P[0].toLowerCase()),q+P[0].length):-1}function I(X,J,q){var P=g.exec(J.slice(q));return P?(X.m=m.get(P[0].toLowerCase()),q+P[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function L(X,J,q){return k(X,r,J,q)}function D(X){return i[X.getDay()]}function N(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function j(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function Y(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function ne(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var lae={"-":"",_:" ",0:"0"},ti=/^\s*\d+/,Z1t=/^%/,J1t=/[\\^$*+?|[\]().{}]/g;function Sr(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function Q1t(e){return e.replace(J1t,"\\$&")}function hS(e){return new RegExp("^(?:"+e.map(Q1t).join("|")+")","i")}function pS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function eyt(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tyt(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ryt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function syt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uae(e,t,n){var r=ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oyt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iyt(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ayt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lyt(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function cyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fyt(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dyt(e,t,n){var r=ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hyt(e,t,n){var r=Z1t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pyt(e,t,n){var r=ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gyt(e,t,n){var r=ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hae(e,t){return Sr(e.getDate(),t,2)}function myt(e,t){return Sr(e.getHours(),t,2)}function vyt(e,t){return Sr(e.getHours()%12||12,t,2)}function yyt(e,t){return Sr(1+cw.count($m(e),e),t,3)}function F$e(e,t){return Sr(e.getMilliseconds(),t,3)}function byt(e,t){return F$e(e,t)+"000"}function wyt(e,t){return Sr(e.getMonth()+1,t,2)}function xyt(e,t){return Sr(e.getMinutes(),t,2)}function Cyt(e,t){return Sr(e.getSeconds(),t,2)}function Syt(e){var t=e.getDay();return t===0?7:t}function $yt(e,t){return Sr(nY.count($m(e)-1,e),t,2)}function M$e(e){var t=e.getDay();return t>=4||t===0?Uw(e):Uw.ceil(e)}function kyt(e,t){return e=M$e(e),Sr(Uw.count($m(e),e)+($m(e).getDay()===4),t,2)}function Eyt(e){return e.getDay()}function _yt(e,t){return Sr(tR.count($m(e)-1,e),t,2)}function Tyt(e,t){return Sr(e.getFullYear()%100,t,2)}function Ayt(e,t){return e=M$e(e),Sr(e.getFullYear()%100,t,2)}function Iyt(e,t){return Sr(e.getFullYear()%1e4,t,4)}function Nyt(e,t){var n=e.getDay();return e=n>=4||n===0?Uw(e):Uw.ceil(e),Sr(e.getFullYear()%1e4,t,4)}function Dyt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sr(t/60|0,"0",2)+Sr(t%60,"0",2)}function pae(e,t){return Sr(e.getUTCDate(),t,2)}function Oyt(e,t){return Sr(e.getUTCHours(),t,2)}function Ryt(e,t){return Sr(e.getUTCHours()%12||12,t,2)}function Fyt(e,t){return Sr(1+fw.count(km(e),e),t,3)}function P$e(e,t){return Sr(e.getUTCMilliseconds(),t,3)}function Myt(e,t){return P$e(e,t)+"000"}function Pyt(e,t){return Sr(e.getUTCMonth()+1,t,2)}function Lyt(e,t){return Sr(e.getUTCMinutes(),t,2)}function Byt(e,t){return Sr(e.getUTCSeconds(),t,2)}function zyt(e){var t=e.getUTCDay();return t===0?7:t}function Vyt(e,t){return Sr(rY.count(km(e)-1,e),t,2)}function L$e(e){var t=e.getUTCDay();return t>=4||t===0?jw(e):jw.ceil(e)}function Wyt(e,t){return e=L$e(e),Sr(jw.count(km(e),e)+(km(e).getUTCDay()===4),t,2)}function Uyt(e){return e.getUTCDay()}function jyt(e,t){return Sr(nR.count(km(e)-1,e),t,2)}function Hyt(e,t){return Sr(e.getUTCFullYear()%100,t,2)}function qyt(e,t){return e=L$e(e),Sr(e.getUTCFullYear()%100,t,2)}function Gyt(e,t){return Sr(e.getUTCFullYear()%1e4,t,4)}function Kyt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jw(e):jw.ceil(e),Sr(e.getUTCFullYear()%1e4,t,4)}function Yyt(){return"+0000"}function gae(){return"%"}function mae(e){return+e}function vae(e){return Math.floor(+e/1e3)}var db,B$e,z$e,V$e,W$e;Xyt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xyt(e){return db=R$e(e),B$e=db.format,z$e=db.parse,V$e=db.utcFormat,W$e=db.utcParse,db}function i$(e){const t={};return n=>t[n]||(t[n]=e(n))}function Zyt(e,t){return n=>{const r=e(n),s=r.indexOf(t);if(s<0)return r;let o=Jyt(r,s);const i=o<r.length?r.slice(o):"";for(;--o>s;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+i}}function Jyt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function U$e(e){const t=i$(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const s=Xk(r||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return Zyt(t(s),t(".1f")(1)[1])}else return t(s)},formatSpan(r,s,o,i){i=Xk(i??",f");const a=E1t(r,s,o),l=Math.max(Math.abs(r),Math.abs(s));let u;if(i.precision==null)switch(i.type){case"s":return isNaN(u=F1t(a,l))||(i.precision=u),n(i,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=M1t(a,l))||(i.precision=u-(i.type==="e"));break}case"f":case"%":{isNaN(u=R1t(a))||(i.precision=u-(i.type==="%")*2);break}}return t(i)}}}let uW;Qyt();function Qyt(){return uW=U$e({format:_$e,formatPrefix:T$e})}function ebt(e){return U$e(E$e(e))}function yae(e){return arguments.length?uW=ebt(e):uW}function bae(e,t,n){n=n||{},XK(n)||Ji(`Invalid time multi-format specifier: ${n}`);const r=t(lE),s=t(aE),o=t(iE),i=t(oE),a=t(sE),l=t(rE),u=t(nE),c=t(tE),f=e(n[hL]||".%L"),d=e(n[lE]||":%S"),h=e(n[aE]||"%I:%M"),p=e(n[iE]||"%I %p"),g=e(n[oE]||n[dL]||"%a %d"),m=e(n[sE]||"%b %d"),v=e(n[rE]||"%B"),y=e(n[nE]||"%B"),b=e(n[tE]||"%Y");return w=>(r(w)<w?f:s(w)<w?d:o(w)<w?h:i(w)<w?p:l(w)<w?a(w)<w?g:m:c(w)<w?u(w)<w?v:y:b)(w)}function j$e(e){const t=i$(e.format),n=i$(e.utcFormat);return{timeFormat:r=>oW(r)?t(r):bae(t,Y1t,r),utcFormat:r=>oW(r)?n(r):bae(n,X1t,r),timeParse:i$(e.parse),utcParse:i$(e.utcParse)}}let cW;tbt();function tbt(){return cW=j$e({format:B$e,parse:z$e,utcFormat:V$e,utcParse:W$e})}function nbt(e){return j$e(R$e(e))}function fW(e){return arguments.length?cW=nbt(e):cW}const wae=(e,t)=>cC({},e,t);function rbt(e,t){const n=arguments.length;return n&&n!==2&&Ji("defaultLocale expects either zero or two arguments."),n?wae(yae(e),fW(t)):wae(yae(),fW())}const sbt=/^(data:|([A-Za-z]+:)?\/\/)/,obt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ibt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,xae="file://";function abt(e,t){return n=>({options:n||{},sanitize:ubt,load:lbt,fileAccess:!1,file:cbt(),http:dbt(e)})}async function lbt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function ubt(e,t){t=cC({},this.options,t);const n=this.fileAccess,r={href:null};let s,o,i;const a=obt.test(e.replace(ibt,""));(e==null||typeof e!="string"||!a)&&Ji("Sanitize failure, invalid URI: "+QK(e));const l=sbt.test(e);return(i=t.baseURL)&&!l&&(!e.startsWith("/")&&!i.endsWith("/")&&(e="/"+e),e=i+e),o=(s=e.startsWith(xae))||t.mode==="file"||t.mode!=="http"&&!l&&n,s?e=e.slice(xae.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function cbt(e){return fbt}async function fbt(){Ji("No file system access.")}function dbt(e){return e?async function(t,n){const r=cC({},this.options.http,n),s=n&&n.response,o=await e(t,r);return o.ok?_c(o[s])?o[s]():o.text():Ji(o.status+""+o.statusText)}:hbt}async function hbt(){Ji("No HTTP fetch method available.")}const pbt=e=>e!=null&&e===e,gbt=e=>e==="true"||e==="false"||e===!0||e===!1,mbt=e=>!Number.isNaN(Date.parse(e)),H$e=e=>!Number.isNaN(+e)&&!(e instanceof Date),vbt=e=>H$e(e)&&Number.isInteger(+e),Cae={boolean:u1t,integer:Jie,number:Jie,date:f1t,string:d1t,unknown:fL},lN=[gbt,vbt,H$e,mbt],ybt=["boolean","integer","number","date"];function bbt(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=lN.length,s=lN.map((o,i)=>i+1);for(let o=0,i=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(s[a]&&pbt(l)&&!lN[a](l)&&(s[a]=0,++i,i===lN.length))return"string";return ybt[s.reduce((o,i)=>o===0?i:o,0)-1]}function wbt(e,t){return t.reduce((n,r)=>(n[r]=bbt(e,r),n),{})}function Sae(e){const t=function(n,r){const s={delimiter:e};return oY(n,r?cC(r,s):s)};return t.responseType="text",t}function oY(e,t){return t.header&&(e=t.header.map(QK).join(t.delimiter)+`
`+e),m1t(t.delimiter).parse(e+"")}oY.responseType="text";function xbt(e){return typeof Buffer=="function"&&_c(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function iY(e,t){const n=t&&t.property?p$e(t.property):fL;return XK(e)&&!xbt(e)?Cbt(n(e),t):n(JSON.parse(e))}iY.responseType="json";function Cbt(e,t){return!hd(e)&&a1t(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Sbt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function q$e(e,t){let n,r,s,o;return e=iY(e,t),t&&t.feature?(n=y$e,s=t.feature):t&&t.mesh?(n=w$e,s=t.mesh,o=Sbt[t.filter]):Ji("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,o):Ji("Invalid TopoJSON object: "+s),r&&r.features||[r]}q$e.responseType="json";const mz={dsv:oY,csv:Sae(","),tsv:Sae("	"),json:iY,topojson:q$e};function G$e(e,t){return arguments.length>1?(mz[e]=t,this):JK(mz,e)?mz[e]:null}function $bt(e){const t=G$e(e);return t&&t.responseType||"text"}function kbt(e,t,n,r){t=t||{};const s=G$e(t.type||"json");return s||Ji("Unknown data format type: "+t.type),e=s(e,t),t.parse&&Ebt(e,t.parse,n,r),JK(e,"columns")&&delete e.columns,e}function Ebt(e,t,n,r){if(!e.length)return;const s=fW();n=n||s.timeParse,r=r||s.utcParse;let o=e.columns||Object.keys(e[0]),i,a,l,u,c,f;t==="auto"&&(t=wbt(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!Cae[p])throw Error("Illegal format pattern: "+h+":"+p);return Cae[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(i=e[l],u=0;u<f;++u)a=o[u],i[a]=d[u](i[a])}const _bt=abt(typeof fetch<"u"&&fetch);function pL(e){const t=e||fL,n=[],r={};return n.add=s=>{const o=t(s);return r[o]||(r[o]=1,n.push(s)),n},n.remove=s=>{const o=t(s);if(r[o]){r[o]=0;const i=n.indexOf(s);i>=0&&n.splice(i,1)}return n},n}async function a3(e,t){try{await t(e)}catch(n){e.error(n)}}const K$e=Symbol("vega_id");let Tbt=1;function gL(e){return!!(e&&gn(e))}function gn(e){return e[K$e]}function Y$e(e,t){return e[K$e]=t,e}function _r(e){const t=e===Object(e)?e:{data:e};return gn(t)?t:Y$e(t,Tbt++)}function aY(e){return mL(e,_r({}))}function mL(e,t){for(const n in e)t[n]=e[n];return t}function X$e(e,t){return Y$e(t,gn(e))}function xy(e,t){return e?t?(n,r)=>e(n,r)||gn(t(n))-gn(t(r)):(n,r)=>e(n,r)||gn(n)-gn(r):null}function Z$e(e){return e&&e.constructor===Cy}function Cy(){const e=[],t=[],n=[],r=[],s=[];let o=null,i=!1;return{constructor:Cy,insert(a){const l=ZO(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=_c(a)?r:t,u=ZO(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:ZK(u)};return _c(a)?(c.filter=a,s.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return _c(a)?s.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return i=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[gn(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[gn(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(y=>{p(y)&&(u[gn(y)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=gn(g),u[m]?u[m]=1:a.add.push(_r(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[gn(g)]<0&&a.rem.push(g);function v(y,b,w){w?y[b]=w(y):a.encode=b,i||(c[gn(y)]=y)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[gn(g)],m>0&&(v(g,p,h.value),a.modifies(p));for(f=0,d=s.length;f<d;++f)h=s[f],p=h.filter,l.forEach(y=>{p(y)&&u[gn(y)]>0&&v(y,h.field,h.value)}),a.modifies(h.field);if(i)a.mod=t.length||r.length?l.filter(y=>u[gn(y)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const l3="_:mod:_";function vL(){Object.defineProperty(this,l3,{writable:!0,value:{}})}vL.prototype={set(e,t,n,r){const s=this,o=s[e],i=s[l3];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,i[t+":"+e]=-1,i[e]=-1):(o!==n||r)&&(s[e]=n,i[e]=hd(n)?1+n.length:-1),s},modified(e,t){const n=this[l3];if(arguments.length){if(hd(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[l3]={},this}};let Abt=0;const Ibt="pulse",Nbt=new vL,Dbt=1,Obt=2;function ts(e,t,n,r){this.id=++Abt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function $ae(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ts.prototype={targets(){return this._targets||(this._targets=pL(cL))},set(e){return this.value!==e?(this.value=e,1):0},skip:$ae(Dbt),modified:$ae(Obt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new vL,s=this._argops=this._argops||[],o=[];let i,a,l,u;const c=(f,d,h)=>{h instanceof ts?(h!==this&&(t&&h.targets().add(this),o.push(h)),s.push({op:h,name:f,index:d})):r.set(f,d,h)};for(i in e)if(a=e[i],i===Ibt)ZO(a).forEach(f=>{f instanceof ts?f!==this&&(f.targets().add(this),o.push(f)):Ji("Pulse parameters must be operator instances.")}),this.source=a;else if(hd(a))for(r.set(i,-1,Array(l=a.length)),u=0;u<l;++u)c(i,u,a[u]);else c(i,-1,a);return this.marshall().clear(),n&&(s.initonly=!0),o},marshall(e){const t=this._argval||Nbt,n=this._argops;let r,s,o,i;if(n){const a=n.length;for(s=0;s<a;++s)r=n[s],o=r.op,i=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,i);if(n.initonly){for(s=0;s<a;++s)r=n[s],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,s;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],s=r.op,s._targets&&s._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Rbt(e,t,n,r){let s=1,o;return e instanceof ts?o=e:e&&e.prototype instanceof ts?o=new e:_c(e)?o=new ts(null,e):(s=0,o=new ts(e,t)),this.rank(o),s&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function Fbt(e,t){const n=e.rank,r=t.length;for(let s=0;s<r;++s)if(n<t[s].rank){this.rerank(e);return}}let Mbt=0;function yL(e,t,n){this.id=++Mbt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function lg(e,t,n){return new yL(e,t,n)}yL.prototype={_filter:sW,_apply:fL,targets(){return this._targets||(this._targets=pL(cL))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let s=0;s<r;++s)n[s].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=lg(e);return this.targets().add(t),t},apply(e){const t=lg(null,e);return this.targets().add(t),t},merge(){const e=lg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=lg();return this.targets().add(lg(null,null,o1t(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(lg(null,null,()=>n=!0)),t.targets().add(lg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=sW,this._targets=null}};function Pbt(e,t,n,r){const s=this,o=lg(n,r),i=function(u){u.dataflow=s;try{o.receive(u)}catch(c){s.error(c)}finally{s.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=ZO(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,i);return o}function Lbt(e,t){const n=this.locale();return kbt(e,t,n.timeParse,n.utcParse)}function Bbt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function zbt(e,t){const n=this;let r=0,s;try{s=await n.loader().load(e,{context:"dataflow",response:$bt(t&&t.type)});try{s=n.parse(s,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:s,status:r}}async function Vbt(e,t,n){const r=this,s=r._pending||Wbt(r);s.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(sW).insert(o.data||[])),s.done(),o}function Wbt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Ubt={skip:!0};function jbt(e,t,n,r,s){return(e instanceof ts?qbt:Hbt)(this,e,t,n,r,s),this}function Hbt(e,t,n,r,s,o){const i=cC({},o,Ubt);let a,l;_c(n)||(n=ZK(n)),r===void 0?a=u=>e.touch(n(u)):_c(r)?(l=new ts(null,r,s,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;Z$e(f)?e.pulse(c,f,o):e.update(c,f,i)}):a=u=>e.update(n(u),r,i),t.apply(a)}function qbt(e,t,n,r,s,o){if(r===void 0)t.targets().add(n);else{const i=o||{},a=new ts(null,Gbt(n,r),s,!1);a.modified(i.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function Gbt(e,t){return t=_c(t)?t:ZK(t),e?function(n,r){const s=t(n,r);return e.skip()||(e.skip(s!==this.value).value=s),s}:t}function Kbt(e){e.rank=++this._rank}function Ybt(e){const t=[e];let n,r,s;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(s=r.length;--s>=0;)t.push(n=r[s]),n===e&&Ji("Cycle detected in dataflow graph.")}const rR={},_f=1,yg=2,hh=4,Xbt=_f|yg,kae=_f|hh,hb=_f|yg|hh,Eae=8,gS=16,_ae=32,Tae=64;function em(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function vz(e,t){const n=[];return ov(e,t,r=>n.push(r)),n}function Aae(e,t){const n={};return e.visit(t,r=>{n[gn(r)]=1}),r=>n[gn(r)]?null:r}function uN(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}em.prototype={StopPropagation:rR,ADD:_f,REM:yg,MOD:hh,ADD_REM:Xbt,ADD_MOD:kae,ALL:hb,REFLOW:Eae,SOURCE:gS,NO_SOURCE:_ae,NO_FIELDS:Tae,fork(e){return new em(this.dataflow).init(this,e)},clone(){const e=this.fork(hb);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(hb|gS)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new em(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Tae)&&(n.fields=e.fields),t&_f?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&yg?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&hh?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&_ae?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||hb;return t&_f&&this.add.length||t&yg&&this.rem.length||t&hh&&this.mod.length},reflow(e){if(e)return this.fork(hb).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(hh,Aae(this,_f))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return hd(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?hd(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&_f&&(n.addF=uN(n.addF,t)),e&yg&&(n.remF=uN(n.remF,t)),e&hh&&(n.modF=uN(n.modF,t)),e&gS&&(n.srcF=uN(n.srcF,t)),n},materialize(e){e=e||hb;const t=this;return e&_f&&t.addF&&(t.add=vz(t.add,t.addF),t.addF=null),e&yg&&t.remF&&(t.rem=vz(t.rem,t.remF),t.remF=null),e&hh&&t.modF&&(t.mod=vz(t.mod,t.modF),t.modF=null),e&gS&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&gS)return ov(n.source,n.srcF,r),n;e&_f&&ov(n.add,n.addF,r),e&yg&&ov(n.rem,n.remF,r),e&hh&&ov(n.mod,n.modF,r);const s=n.source;if(e&Eae&&s){const o=n.add.length+n.mod.length;o===s.length||(o?ov(s,Aae(n,kae),r):ov(s,n.srcF,r))}return n}};function lY(e,t,n,r){const s=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const i of n)if(i.stamp===t){if(i.fields){const a=s.fields||(s.fields={});for(const l in i.fields)a[l]=1}i.changed(s.ADD)&&(o|=s.ADD),i.changed(s.REM)&&(o|=s.REM),i.changed(s.MOD)&&(o|=s.MOD)}this.changes=o}m$e(lY,em,{fork(e){const t=new em(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?hd(e)?e.some(r=>n[r]):n[e]:0},filter(){Ji("MultiPulse does not support filtering.")},materialize(){Ji("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,s=r.length;let o=0;if(e&n.SOURCE)for(;o<s;++o)r[o].visit(e,t);else for(;o<s;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Zbt(e,t,n){const r=this,s=[];if(r._pulse)return J$e(r);if(r._pending&&await r._pending,t&&await a3(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new em(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=pL(cL);let i=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(s.push(l.async),l=rR),l!==rR&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++i}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${i} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await a3(r,c[f].callback)}return n&&await a3(r,n),s.length&&Promise.all(s).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function Jbt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Qbt(e,t,n){return this._pulse?J$e(this):(this.evaluate(e,t,n),this)}function ewt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function J$e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function twt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function nwt(e,t){const n=e.source,r=this._clock;return n&&hd(n)?new lY(this,r,n.map(s=>s.pulse),t):this._input[e.id]||rwt(this._pulse,n&&n.pulse)}function rwt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==rR&&(e.source=t.source),e)}const uY={skip:!1,force:!1};function swt(e,t){const n=t||uY;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function owt(e,t,n){const r=n||uY;return(e.set(t)||r.force)&&this.touch(e,r),this}function iwt(e,t,n){this.touch(e,n||uY);const r=new em(this,this._clock+(this._pulse?0:1)),s=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,s),this}function awt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Q$e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,lwt(t,0,e)):r=n,r}}}function Q$e(e,t,n,r){let s,o;const i=e[n];for(;n>t;){if(o=n-1>>1,s=e[o],r(i,s)<0){e[n]=s,n=o;continue}break}return e[n]=i}function lwt(e,t,n){const r=t,s=e.length,o=e[t];let i=(t<<1)+1,a;for(;i<s;)a=i+1,a<s&&n(e[i],e[a])>=0&&(i=a),e[t]=e[i],t=i,i=(t<<1)+1;return e[t]=o,Q$e(e,r,t,n)}function dw(){this.logger(s1t()),this.logLevel(g$e),this._clock=0,this._rank=0,this._locale=rbt();try{this._loader=_bt()}catch{}this._touched=pL(cL),this._input={},this._pulse=null,this._heap=awt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function mS(e){return function(){return this._log[e].apply(this,arguments)}}dw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:mS("error"),warn:mS("warn"),info:mS("info"),debug:mS("debug"),logLevel:mS("level"),cleanThreshold:1e4,add:Rbt,connect:Fbt,rank:Kbt,rerank:Ybt,pulse:iwt,touch:swt,update:owt,changeset:Cy,ingest:Bbt,parse:Lbt,preload:Vbt,request:zbt,events:Pbt,on:jbt,evaluate:Zbt,run:Qbt,runAsync:Jbt,runAfter:ewt,_enqueue:twt,_getPulse:nwt};function Ke(e,t){ts.call(this,e,null,t)}m$e(Ke,ts,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Hw={};function eke(e){const t=tke(e);return t&&t.Definition||null}function tke(e){return e=e&&e.toLowerCase(),JK(Hw,e)?Hw[e]:null}function fC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aA(e){let t=e,n=e;e.length===1&&(t=(i,a)=>e(i)-a,n=uwt(e));function r(i,a,l,u){for(l==null&&(l=0),u==null&&(u=i.length);l<u;){const c=l+u>>>1;n(i[c],a)<0?l=c+1:u=c}return l}function s(i,a,l,u){for(l==null&&(l=0),u==null&&(u=i.length);l<u;){const c=l+u>>>1;n(i[c],a)>0?u=c:l=c+1}return l}function o(i,a,l,u){l==null&&(l=0),u==null&&(u=i.length);const c=r(i,a,l,u-1);return c>l&&t(i[c-1],a)>-t(i[c],a)?c-1:c}return{left:r,center:o,right:s}}function uwt(e){return(t,n)=>fC(e(t),n)}function nke(e){return e===null?NaN:+e}function*cwt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const rke=aA(fC),Em=rke.right,fwt=rke.left;aA(nke).center;function dwt(e,t){let n=0,r,s=0,o=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(r=i-s,s+=r/++n,o+=r*(i-s));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(r=a-s,s+=r/++n,o+=r*(a-s))}if(n>1)return o/(n-1)}function hwt(e,t){const n=dwt(e,t);return n&&Math.sqrt(n)}class Ia{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let s=0;s<this._n&&s<32;s++){const o=n[s],i=t+o,a=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);a&&(n[r++]=a),t=i}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,s,o,i=0;if(n>0){for(i=t[--n];n>0&&(r=i,s=t[--n],i=r+s,o=s-(i-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(s=o*2,r=i+s,s==r-i&&(i=r))}return i}}function pwt(e,t){return Array.from(t,n=>e[n])}var dW=Math.sqrt(50),hW=Math.sqrt(10),pW=Math.sqrt(2);function gW(e,t,n){var r,s=-1,o,i,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(a=ske(e,t,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),u=Math.round(t/a);for(l*a<e&&++l,u*a>t&&--u,i=new Array(o=u-l+1);++s<o;)i[s]=(l+s)*a}else{a=-a;let l=Math.round(e*a),u=Math.round(t*a);for(l/a<e&&++l,u/a>t&&--u,i=new Array(o=u-l+1);++s<o;)i[s]=(l+s)/a}return r&&i.reverse(),i}function ske(e,t,n){var r=(t-e)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,s);return s>=0?(o>=dW?10:o>=hW?5:o>=pW?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=dW?10:o>=hW?5:o>=pW?2:1)}function _m(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/s;return o>=dW?s*=10:o>=hW?s*=5:o>=pW&&(s*=2),t<e?-s:s}function Xv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function mW(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function oke(e,t,n=0,r=e.length-1,s=fC){for(;r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));oke(e,t,h,p,s)}const o=e[t];let i=n,a=r;for(vS(e,n,t),s(e[r],o)>0&&vS(e,n,r);i<a;){for(vS(e,i,a),++i,--a;s(e[i],o)<0;)++i;for(;s(e[a],o)>0;)--a}s(e[n],o)===0?vS(e,n,a):(++a,vS(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function vS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vW(e,t,n){if(e=Float64Array.from(cwt(e,n)),!!(r=e.length)){if((t=+t)<=0||r<2)return mW(e);if(t>=1)return Xv(e);var r,s=(r-1)*t,o=Math.floor(s),i=Xv(oke(e,o).subarray(0,o+1)),a=mW(e.subarray(o+1));return i+(a-i)*(s-o)}}function ike(e,t,n=nke){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function gwt(e,t){let n=0,r=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++n,r+=s);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ake(e,t){return vW(e,.5,t)}function*mwt(e){for(const t of e)yield*t}function lke(e){return Array.from(mwt(e))}function ql(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function uke(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function*cke(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function cY(e,t,n){const r=Float64Array.from(cke(e,n));return r.sort(fC),t.map(s=>ike(r,s))}function fY(e,t){return cY(e,[.25,.5,.75],t)}function dY(e,t){const n=e.length,r=hwt(e,t),s=fY(e,t),o=(s[2]-s[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(s[0])||1)*Math.pow(n,-.2)}function fke(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),s=e.divide||[5,2];let o=e.extent[0],i=e.extent[1],a,l,u,c,f,d;const h=e.span||i-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=s.length;f<d;++f)c=a/s[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,i=Math.ceil(i/a)*a),{start:o,stop:i===o?o+a:i,step:a}}var Vc=Math.random;function vwt(e){Vc=e}function dke(e,t,n,r){if(!e.length)return[void 0,void 0];const s=Float64Array.from(cke(e,r)),o=s.length,i=t;let a,l,u,c;for(u=0,c=Array(i);u<i;++u){for(a=0,l=0;l<o;++l)a+=s[~~(Vc()*o)];c[u]=a/o}return c.sort(fC),[vW(c,n/2),vW(c,1-n/2)]}function hke(e,t,n,r){r=r||(d=>d);const s=e.length,o=new Float64Array(s);let i=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<s;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;i<a;++i)o[i]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;i<a;++i)o[i]=u;return n?ywt(o,t+t/4):o}function ywt(e,t){const n=e.length;let r=0,s=1,o,i;for(;e[r]===e[s];)++s;for(;s<n;){for(o=s+1;e[s]===e[o];)++o;if(e[s]-e[s-1]<t){for(i=s+(r+o-s-s>>1);i<s;)e[i++]=e[s];for(;i>s;)e[i--]=e[r]}r=s,s=o}return e}function bwt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function wwt(e,t){t==null&&(t=e,e=0);let n,r,s;const o={min(i){return arguments.length?(n=i||0,s=r-n,o):n},max(i){return arguments.length?(r=i||0,s=r-n,o):r},sample(){return n+Math.floor(s*Vc())},pdf(i){return i===Math.floor(i)&&i>=n&&i<r?1/s:0},cdf(i){const a=Math.floor(i);return a<n?0:a>=r?1:(a-n+1)/s},icdf(i){return i>=0&&i<=1?n-1+Math.floor(i*s):NaN}};return o.min(e).max(t)}const pke=Math.sqrt(2*Math.PI),xwt=Math.SQRT2;let yS=NaN;function bL(e,t){e=e||0,t=t??1;let n=0,r=0,s,o;if(yS===yS)n=yS,yS=NaN;else{do n=Vc()*2-1,r=Vc()*2-1,s=n*n+r*r;while(s===0||s>1);o=Math.sqrt(-2*Math.log(s)/s),n*=o,yS=r*o}return e+n*t}function hY(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*pke)}function wL(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,s=Math.abs(r);let o;if(s>37)o=0;else{const i=Math.exp(-s*s/2);let a;s<7.07106781186547?(a=.0352624965998911*s+.700383064443688,a=a*s+6.37396220353165,a=a*s+33.912866078383,a=a*s+112.079291497871,a=a*s+221.213596169931,a=a*s+220.206867912376,o=i*a,a=.0883883476483184*s+1.75566716318264,a=a*s+16.064177579207,a=a*s+86.7807322029461,a=a*s+296.564248779674,a=a*s+637.333633378831,a=a*s+793.826512519948,a=a*s+440.413735824752,o=o/a):(a=s+.65,a=s+4/a,a=s+3/a,a=s+2/a,a=s+1/a,o=i/a/2.506628274631)}return r>0?1-o:o}function xL(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*xwt*Cwt(2*e-1)}function Cwt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function pY(e,t){let n,r;const s={mean(o){return arguments.length?(n=o||0,s):n},stdev(o){return arguments.length?(r=o??1,s):r},sample:()=>bL(n,r),pdf:o=>hY(o,n,r),cdf:o=>wL(o,n,r),icdf:o=>xL(o,n,r)};return s.mean(e).stdev(t)}function gY(e,t){const n=pY();let r=0;const s={data(o){return arguments.length?(e=o,r=o?o.length:0,s.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=dY(e)),s):t},sample(){return e[~~(Vc()*r)]+t*n.sample()},pdf(o){let i=0,a=0;for(;a<r;++a)i+=n.pdf((o-e[a])/t);return i/t/r},cdf(o){let i=0,a=0;for(;a<r;++a)i+=n.cdf((o-e[a])/t);return i/r},icdf(){throw Error("KDE icdf not supported.")}};return s.data(e)}function mY(e,t){return e=e||0,t=t??1,Math.exp(e+bL()*t)}function vY(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*pke*e)}function yY(e,t,n){return wL(Math.log(e),t,n)}function bY(e,t,n){return Math.exp(xL(e,t,n))}function gke(e,t){let n,r;const s={mean(o){return arguments.length?(n=o||0,s):n},stdev(o){return arguments.length?(r=o??1,s):r},sample:()=>mY(n,r),pdf:o=>vY(o,n,r),cdf:o=>yY(o,n,r),icdf:o=>bY(o,n,r)};return s.mean(e).stdev(t)}function mke(e,t){let n=0,r;function s(i){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=i[u]==null?1:+i[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(i){return arguments.length?(r=s(t=i||[]),o):t},distributions(i){return arguments.length?(i?(n=i.length,e=i):(n=0,e=[]),o.weights(t)):e},sample(){const i=Vc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(i<l){a=e[u];break}return a.sample()},pdf(i){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(i);return a},cdf(i){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(i);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function wY(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Vc()}function xY(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function CY(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function SY(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function vke(e,t){let n,r;const s={min(o){return arguments.length?(n=o||0,s):n},max(o){return arguments.length?(r=o??1,s):r},sample:()=>wY(n,r),pdf:o=>xY(o,n,r),cdf:o=>CY(o,n,r),icdf:o=>SY(o,n,r)};return t==null&&(t=e??1,e=0),s.min(e).max(t)}function lA(e,t,n,r){const s=r-e*e,o=Math.abs(s)<1e-24?0:(n-e*t)/s;return[t-o*e,o]}function CL(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const s=e.length,o=new Float64Array(s),i=new Float64Array(s);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),i[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<s;++a)o[a]-=l,i[a]-=u;return[o,i,l,u]}function uA(e,t,n,r){let s=-1,o,i;for(const a of e)o=t(a),i=n(a),o!=null&&(o=+o)>=o&&i!=null&&(i=+i)>=i&&r(o,i,++s)}function dC(e,t,n,r,s){let o=0,i=0;return uA(e,t,n,(a,l)=>{const u=l-s(a),c=l-r;o+=u*u,i+=c*c}),1-o/i}function $Y(e,t,n){let r=0,s=0,o=0,i=0,a=0;uA(e,t,n,(c,f)=>{++a,r+=(c-r)/a,s+=(f-s)/a,o+=(c*f-o)/a,i+=(c*c-i)/a});const l=lA(r,s,o,i),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:dC(e,t,n,s,u)}}function yke(e,t,n){let r=0,s=0,o=0,i=0,a=0;uA(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,s+=(f-s)/a,o+=(c*f-o)/a,i+=(c*c-i)/a});const l=lA(r,s,o,i),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:dC(e,t,n,s,u)}}function bke(e,t,n){const[r,s,o,i]=CL(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;uA(e,t,n,(y,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=lA(l/i,a/i,u/i,c/i),v=y=>Math.exp(g+m*(y-o));return{coef:[Math.exp(g-m*o),m],predict:v,rSquared:dC(e,t,n,i,v)}}function wke(e,t,n){let r=0,s=0,o=0,i=0,a=0,l=0;uA(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,s+=(p-s)/l,o+=(h*p-o)/l,i+=(h*h-i)/l,a+=(d-a)/l});const u=lA(r,s,o,i),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:dC(e,t,n,a,c)}}function kY(e,t,n){const[r,s,o,i]=CL(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=s[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const v=c-l*l,y=l*v-u*u,b=(d*l-f*u)/y,w=(f*v-d*u)/y,C=-b*l,S=$=>($=$-o,b*$*$+w*$+C+i);return{coef:[C-w*o+b*o*o+i,w-2*b*o,b],predict:S,rSquared:dC(e,t,n,i,S)}}function xke(e,t,n,r){if(r===1)return $Y(e,t,n);if(r===2)return kY(e,t,n);const[s,o,i,a]=CL(e,t,n),l=s.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(s[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(s[p],d+h);m[h]=g}c.push(m)}c.push(u);const v=$wt(c),y=b=>{b-=i;let w=a+v[0]+v[1]*b+v[2]*b*b;for(d=3;d<f;++d)w+=v[d]*Math.pow(b,d);return w};return{coef:Swt(f,v,-i,a),predict:y,rSquared:dC(e,t,n,a,y)}}function Swt(e,t,n,r){const s=Array(e);let o,i,a,l;for(o=0;o<e;++o)s[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,s[o]+=a,i=1;i<=o;++i)l*=(o+1-i)/i,s[o-i]+=a*Math.pow(n,i)*l;return s[0]+=r,s}function $wt(e){const t=e.length-1,n=[];let r,s,o,i,a;for(r=0;r<t;++r){for(i=r,s=r+1;s<t;++s)Math.abs(e[r][s])>Math.abs(e[r][i])&&(i=s);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][i],e[o][i]=a;for(s=r+1;s<t;++s)for(o=t;o>=r;o--)e[o][s]-=e[o][r]*e[r][s]/e[r][r]}for(s=t-1;s>=0;--s){for(a=0,o=s+1;o<t;++o)a+=e[o][s]*n[o];n[s]=(e[t][s]-a)/e[s][s]}return n}const Iae=2,Nae=1e-12;function Cke(e,t,n,r){const[s,o,i,a]=CL(e,t,n,!0),l=s.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Iae;){const p=[0,u-1];for(let m=0;m<l;++m){const v=s[m],y=p[0],b=p[1],w=v-s[y]>s[b]-v?y:b;let C=0,S=0,$=0,k=0,T=0;const _=1/Math.abs(s[w]-v||1);for(let I=y;I<=b;++I){const F=s[I],R=o[I],L=kwt(Math.abs(v-F)*_)*d[I],D=F*L;C+=L,S+=D,$+=R*L,k+=R*D,T+=F*D}const[E,A]=lA(S/C,$/C,k/C,T/C);c[m]=E+A*v,f[m]=Math.abs(o[m]-c[m]),Ewt(s,m+1,p)}if(h===Iae)break;const g=ake(f);if(Math.abs(g)<Nae)break;for(let m=0,v,y;m<l;++m)v=f[m]/(6*g),d[m]=v>=1?Nae:(y=1-v*v)*y}return _wt(s,c,i,a)}function kwt(e){return(e=1-e*e*e)*e*e}function Ewt(e,t,n){const r=e[t];let s=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>s&&e[o]-r<=r-e[s];)n[0]=++s,n[1]=o,++o}function _wt(e,t,n,r){const s=e.length,o=[];let i=0,a=0,l=[],u;for(;i<s;++i)u=e[i]+n,l[0]===u?l[1]+=(t[i]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[i]],o.push(l));return l[1]+=r,o}const Twt=.5*Math.PI/180;function SL(e,t,n,r){n=n||25,r=Math.max(n,r||200);const s=g=>[g,e(g)],o=t[0],i=t[1],a=i-o,l=a/r,u=[s(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(s(o+g/n*a));return u.push(s(i)),u}else{c.push(s(i));for(let g=n;--g>0;)c.push(s(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=Awt(f[1],c);for(;d;){const g=s((f[0]+d[0])/2);g[0]-f[0]>=l&&Iwt(f,g,d,h,p)>Twt?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function Awt(e,t){let n=e,r=e;const s=t.length;for(let o=0;o<s;++o){const i=t[o][1];i<n&&(n=i),i>r&&(r=i)}return 1/(r-n)}function Iwt(e,t,n,r,s){const o=Math.atan2(s*(n[1]-e[1]),r*(n[0]-e[0])),i=Math.atan2(s*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-i)}var yz=new Date,bz=new Date;function ni(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=function(o){return e(o=new Date(+o)),o},s.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},s.round=function(o){var i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},s.range=function(o,i,a){var l=[],u;if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=function(o){return ni(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,a){if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););})},n&&(s.count=function(o,i){return yz.setTime(+o),bz.setTime(+i),e(yz),e(bz),Math.floor(n(yz,bz))},s.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?function(i){return r(i)%o===0}:function(i){return s.count(0,i)%o===0}):s}),s}var qw=ni(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});qw.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):qw};qw.range;const Ih=1e3,Su=Ih*60,Nh=Su*60,T1=Nh*24,EY=T1*7,Dae=T1*30,wz=T1*365;var Dh=ni(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Ih)},function(e,t){return(t-e)/Ih},function(e){return e.getUTCSeconds()});Dh.range;var $L=ni(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ih)},function(e,t){e.setTime(+e+t*Su)},function(e,t){return(t-e)/Su},function(e){return e.getMinutes()});$L.range;var kL=ni(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ih-e.getMinutes()*Su)},function(e,t){e.setTime(+e+t*Nh)},function(e,t){return(t-e)/Nh},function(e){return e.getHours()});kL.range;var Hh=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Su)/T1,e=>e.getDate()-1);Hh.range;function Sy(e){return ni(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Su)/EY})}var hC=Sy(0),sR=Sy(1),Nwt=Sy(2),Dwt=Sy(3),Gw=Sy(4),Owt=Sy(5),Rwt=Sy(6);hC.range;sR.range;Nwt.range;Dwt.range;Gw.range;Owt.range;Rwt.range;var uE=ni(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});uE.range;var pd=ni(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});pd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ni(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};pd.range;var EL=ni(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Su)},function(e,t){return(t-e)/Su},function(e){return e.getUTCMinutes()});EL.range;var _L=ni(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Nh)},function(e,t){return(t-e)/Nh},function(e){return e.getUTCHours()});_L.range;var qh=ni(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/T1},function(e){return e.getUTCDate()-1});qh.range;function $y(e){return ni(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/EY})}var pC=$y(0),oR=$y(1),Fwt=$y(2),Mwt=$y(3),Kw=$y(4),Pwt=$y(5),Lwt=$y(6);pC.range;oR.range;Fwt.range;Mwt.range;Kw.range;Pwt.range;Lwt.range;var cE=ni(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});cE.range;var gd=ni(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});gd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ni(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};gd.range;function Ske(e,t,n,r,s,o){const i=[[Dh,1,Ih],[Dh,5,5*Ih],[Dh,15,15*Ih],[Dh,30,30*Ih],[o,1,Su],[o,5,5*Su],[o,15,15*Su],[o,30,30*Su],[s,1,Nh],[s,3,3*Nh],[s,6,6*Nh],[s,12,12*Nh],[r,1,T1],[r,2,2*T1],[n,1,EY],[t,1,Dae],[t,3,3*Dae],[e,1,wz]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=aA(([,,m])=>m).right(i,d);if(h===i.length)return e.every(_m(u/wz,c/wz,f));if(h===0)return qw.every(Math.max(_m(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[Bwt,zwt]=Ske(gd,cE,pC,qh,_L,EL),[Vwt,Wwt]=Ske(pd,uE,hC,Hh,kL,$L),vi="year",Cl="quarter",Qi="month",bo="week",Sl="date",ji="day",md="dayofyear",ru="hours",su="minutes",Bu="seconds",Wc="milliseconds",_Y=[vi,Cl,Qi,bo,Sl,ji,md,ru,su,Bu,Wc],xz=_Y.reduce((e,t,n)=>(e[t]=1+n,e),{});function TY(e){const t=Mn(e).slice(),n={};return t.length||gt("Missing time unit."),t.forEach(s=>{Pn(xz,s)?n[s]=1:gt("Invalid time unit: ".concat(s,"."))}),(n[bo]||n[ji]?1:0)+(n[Cl]||n[Qi]||n[Sl]?1:0)+(n[md]?1:0)>1&&gt("Incompatible time units: ".concat(e)),t.sort((s,o)=>xz[s]-xz[o]),t}const Uwt={[vi]:"%Y ",[Cl]:"Q%q ",[Qi]:"%b ",[Sl]:"%d ",[bo]:"W%U ",[ji]:"%a ",[md]:"%j ",[ru]:"%H:00",[su]:"00:%M",[Bu]:":%S",[Wc]:".%L",["".concat(vi,"-").concat(Qi)]:"%Y-%m ",["".concat(vi,"-").concat(Qi,"-").concat(Sl)]:"%Y-%m-%d ",["".concat(ru,"-").concat(su)]:"%H:%M"};function $ke(e,t){const n=sr({},Uwt,t),r=TY(e),s=r.length;let o="",i=0,a,l;for(i=0;i<s;)for(a=r.length;a>i;--a)if(l=r.slice(i,a).join("-"),n[l]!=null){o+=n[l],i=a;break}return o.trim()}const pv=new Date;function AY(e){return pv.setFullYear(e),pv.setMonth(0),pv.setDate(1),pv.setHours(0,0,0,0),pv}function kke(e){return _ke(new Date(e))}function Eke(e){return yW(new Date(e))}function _ke(e){return Hh.count(AY(e.getFullYear())-1,e)}function yW(e){return hC.count(AY(e.getFullYear())-1,e)}function bW(e){return AY(e).getDay()}function jwt(e,t,n,r,s,o,i){if(0<=e&&e<100){const a=new Date(-1,t,n,r,s,o,i);return a.setFullYear(e),a}return new Date(e,t,n,r,s,o,i)}function Tke(e){return Ike(new Date(e))}function Ake(e){return wW(new Date(e))}function Ike(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return qh.count(t-1,e)}function wW(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return pC.count(t-1,e)}function xW(e){return pv.setTime(Date.UTC(e,0,1)),pv.getUTCDay()}function Hwt(e,t,n,r,s,o,i){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,s,o,i));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,s,o,i))}function Nke(e,t,n,r,s){const o=t||1,i=Xr(e),a=(v,y,b)=>(b=b||v,qwt(n[b],r[b],v===i&&o,y)),l=new Date,u=ap(e),c=u[vi]?a(vi):Lu(2012),f=u[Qi]?a(Qi):u[Cl]?a(Cl):$g,d=u[bo]&&u[ji]?a(ji,1,bo+ji):u[bo]?a(bo,1):u[ji]?a(ji,1):u[Sl]?a(Sl,1):u[md]?a(md,1):iC,h=u[ru]?a(ru):$g,p=u[su]?a(su):$g,g=u[Bu]?a(Bu):$g,m=u[Wc]?a(Wc):$g;return function(v){l.setTime(+v);const y=c(l);return s(y,f(l),d(l,y),h(l),p(l),g(l),m(l))}}function qwt(e,t,n,r){const s=n<=1?e:r?(o,i)=>r+n*Math.floor((e(o,i)-r)/n):(o,i)=>n*Math.floor(e(o,i)/n);return t?(o,i)=>t(s(o,i),i):s}function Yw(e,t,n){return t+e*7-(n+6)%7}const Gwt={[vi]:e=>e.getFullYear(),[Cl]:e=>Math.floor(e.getMonth()/3),[Qi]:e=>e.getMonth(),[Sl]:e=>e.getDate(),[ru]:e=>e.getHours(),[su]:e=>e.getMinutes(),[Bu]:e=>e.getSeconds(),[Wc]:e=>e.getMilliseconds(),[md]:e=>_ke(e),[bo]:e=>yW(e),[bo+ji]:(e,t)=>Yw(yW(e),e.getDay(),bW(t)),[ji]:(e,t)=>Yw(1,e.getDay(),bW(t))},Kwt={[Cl]:e=>3*e,[bo]:(e,t)=>Yw(e,0,bW(t))};function Dke(e,t){return Nke(e,t||1,Gwt,Kwt,jwt)}const Ywt={[vi]:e=>e.getUTCFullYear(),[Cl]:e=>Math.floor(e.getUTCMonth()/3),[Qi]:e=>e.getUTCMonth(),[Sl]:e=>e.getUTCDate(),[ru]:e=>e.getUTCHours(),[su]:e=>e.getUTCMinutes(),[Bu]:e=>e.getUTCSeconds(),[Wc]:e=>e.getUTCMilliseconds(),[md]:e=>Ike(e),[bo]:e=>wW(e),[ji]:(e,t)=>Yw(1,e.getUTCDay(),xW(t)),[bo+ji]:(e,t)=>Yw(wW(e),e.getUTCDay(),xW(t))},Xwt={[Cl]:e=>3*e,[bo]:(e,t)=>Yw(e,0,xW(t))};function Oke(e,t){return Nke(e,t||1,Ywt,Xwt,Hwt)}const Zwt={[vi]:pd,[Cl]:uE.every(3),[Qi]:uE,[bo]:hC,[Sl]:Hh,[ji]:Hh,[md]:Hh,[ru]:kL,[su]:$L,[Bu]:Dh,[Wc]:qw},Jwt={[vi]:gd,[Cl]:cE.every(3),[Qi]:cE,[bo]:pC,[Sl]:qh,[ji]:qh,[md]:qh,[ru]:_L,[su]:EL,[Bu]:Dh,[Wc]:qw};function gC(e){return Zwt[e]}function mC(e){return Jwt[e]}function Rke(e,t,n){return e?e.offset(t,n):void 0}function Fke(e,t,n){return Rke(gC(e),t,n)}function Mke(e,t,n){return Rke(mC(e),t,n)}function Pke(e,t,n,r){return e?e.range(t,n,r):void 0}function Lke(e,t,n,r){return Pke(gC(e),t,n,r)}function Bke(e,t,n,r){return Pke(mC(e),t,n,r)}const a$=1e3,l$=a$*60,u$=l$*60,TL=u$*24,Qwt=TL*7,Oae=TL*30,CW=TL*365,zke=[vi,Qi,Sl,ru,su,Bu,Wc],c$=zke.slice(0,-1),f$=c$.slice(0,-1),d$=f$.slice(0,-1),ext=d$.slice(0,-1),txt=[vi,bo],Rae=[vi,Qi],Vke=[vi],bS=[[c$,1,a$],[c$,5,5*a$],[c$,15,15*a$],[c$,30,30*a$],[f$,1,l$],[f$,5,5*l$],[f$,15,15*l$],[f$,30,30*l$],[d$,1,u$],[d$,3,3*u$],[d$,6,6*u$],[d$,12,12*u$],[ext,1,TL],[txt,1,Qwt],[Rae,1,Oae],[Rae,3,3*Oae],[Vke,1,CW]];function Wke(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(uL(t))/n;let s=aA(a=>a[2]).right(bS,r),o,i;return s===bS.length?(o=Vke,i=_m(t[0]/CW,t[1]/CW,n)):s?(s=bS[r/bS[s-1][2]<bS[s][2]/r?s-1:s],o=s[0],i=s[1]):(o=zke,i=Math.max(_m(t[0],t[1],n),1)),{units:o,step:i}}function nxt(e){return t=>{const n=e.length;let r=1,s=String(e[0](t));for(;r<n;++r)s+="|"+e[r](t);return s}}function SW(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:nxt(e)}function Uke(e,t,n){return n||e+(t?"_"+t:"")}const Cz=()=>{},rxt={init:Cz,add:Cz,rem:Cz,idx:0},fE={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},cA=Object.keys(fE);function sxt(e,t){return n=>sr({name:e,out:n||e},rxt,t)}cA.forEach(e=>{fE[e]=sxt(e,fE[e])});function jke(e,t){return fE[e](t)}function Hke(e,t){return e.idx-t.idx}function oxt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(s=>{t[s]||n(t[s]=fE[s]())})};return e.forEach(n),Object.values(t).sort(Hke)}function ixt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function axt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function lxt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function uxt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function qke(e,t){const n=t||Pu,r=oxt(e),s=e.slice().sort(Hke);function o(i){this._ops=r,this._out=s,this.cell=i,this.init()}return o.prototype.init=ixt,o.prototype.add=axt,o.prototype.rem=lxt,o.prototype.set=uxt,o.prototype.get=n,o.fields=e.map(i=>i.out),o}function IY(e){this._key=e?wm(e):gn,this.reset()}const Ci=IY.prototype;Ci.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Ci.add=function(e){this._add.push(e)};Ci.rem=function(e){this._rem.push(e)};Ci.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,s=t.length,o=Array(r-s),i={};let a,l,u;for(a=0;a<s;++a)i[n(t[a])]=1;for(a=0,l=0;a<r;++a)i[n(u=e[a])]?i[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};Ci.distinct=function(e){const t=this.values(),n={};let r=t.length,s=0,o;for(;--r>=0;)o=e(t[r])+"",Pn(n,o)||(n[o]=1,++s);return s};Ci.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=o$e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Ci.argmin=function(e){return this.extent(e)[0]||{}};Ci.argmax=function(e){return this.extent(e)[1]||{}};Ci.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Ci.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Ci.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=fY(this.values(),e),this._get=e),this._q};Ci.q1=function(e){return this.quartile(e)[0]};Ci.q2=function(e){return this.quartile(e)[1]};Ci.q3=function(e){return this.quartile(e)[2]};Ci.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=dke(this.values(),1e3,.05,e),this._get=e),this._ci};Ci.ci0=function(e){return this.ci(e)[0]};Ci.ci1=function(e){return this.ci(e)[1]};function Tm(e){Ke.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Tm.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:cA},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Nt(Tm,Ke,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.modified();return n.stamp=r.stamp,n.value&&(s||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=s?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),s=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<s;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function i(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<s?i(h,l,u):t[h]||e.cell(h,l)}}i("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function s(m){const v=Mn(Zi(m)),y=v.length;let b=0,w;for(;b<y;++b)r[w=v[b]]||(r[w]=1,t.push(w))}this._dims=Mn(e.groupby),this._dnames=this._dims.map(m=>{const v=Ws(m);return s(m),n.push(v),v}),this.cellkey=e.key?e.key:SW(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],i=e.ops||["count"],a=e.as||[],l=o.length,u={};let c,f,d,h,p,g;for(l!==i.length&&gt("Unmatched number of fields and aggregate ops."),g=0;g<l;++g){if(c=o[g],f=i[g],c==null&&f!=="count"&&gt("Null aggregate field specified."),h=Ws(c),p=Uke(f,h,a[g]),n.push(p),f==="count"){this._counts.push(p);continue}d=u[h],d||(s(c),d=u[h]=[],d.field=c,this._measures.push(d)),f!=="count"&&(this._countOnly=!1),d.push(jke(f,p))}return this._measures=this._measures.map(m=>qke(m,m.field)),{}},cellkey:SW(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,s=r.length;n.agg=Array(s);for(let o=0;o<s;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new IY),n},newtuple(e,t){const n=this._dnames,r=this._dims,s=r.length,o={};for(let i=0;i<s;++i)o[n[i]]=r[i](e);return t?X$e(t.tuple,o):_r(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let s=0,o=r.length;s<o;++s)r[s].add(r[s].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let s=0,o=r.length;s<o;++s)r[s].rem(r[s].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,s=n.length;r<s;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let s=0,o=r.length;s<o;++s)r[s].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,s=this._drop,o=e.add,i=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!s||l.num)&&i.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&s?i:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const cxt=1e-14;function NY(e){Ke.call(this,null,e)}NY.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Nt(NY,Ke,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),s=r.start,o=r.step,i=e.as||["bin0","bin1"],a=i[0],l=i[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Zi(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:s+o*(1+(f-s)/o)}:c=>c[a]=r(c)),t.modifies(n?i:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=fke(e),r=n.step;let s=n.start,o=s+Math.ceil((n.stop-s)/r)*r,i,a;(i=e.anchor)!=null&&(a=i-(s+r*Math.floor((i-s)/r)),s+=a,o+=a);const l=function(u){let c=xm(t(u));return c==null?null:c<s?-1/0:c>o?1/0:(c=Math.max(s,Math.min(c,o-r)),s+r*Math.floor(cxt+(c-s)/r))};return l.start=s,l.stop=n.stop,l.step=r,this.value=Ju(l,Zi(t),e.name||"bin_"+Ws(t))}});function Gke(e,t,n){const r=e;let s=t||[],o=n||[],i={},a=0;return{add:l=>o.push(l),remove:l=>i[r(l)]=++a,size:()=>s.length,data:(l,u)=>(a&&(s=s.filter(c=>!i[r(c)]),i={},a=0),u&&l&&s.sort(l),o.length&&(s=l?c$e(l,s,o.sort(l)):s.concat(o),o=[]),s)}}function DY(e){Ke.call(this,[],e)}DY.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Nt(DY,Ke,{transform(e,t){const n=t.fork(t.ALL),r=Gke(gn,this.value,n.materialize(n.ADD).add),s=e.sort,o=t.changed()||s&&(e.modified("sort")||t.modified(s.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(xy(s),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function Kke(e){ts.call(this,null,fxt,e)}Nt(Kke,ts);function fxt(e){return this.value&&!e.modified()?this.value:r$e(e.fields,e.orders)}function OY(e){Ke.call(this,null,e)}OY.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function dxt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Nt(OY,Ke,{transform(e,t){const n=f=>d=>{for(var h=dxt(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)i.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),s=this._counts,o=this._match,i=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>s[f]=1+(s[f]||0)),c=n(f=>s[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),s=t[0],o=t[1],i=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=_r({}),l[s]=a,l[o]=u,i.add.push(l)):u===0?(l&&i.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,i.mod.push(l));return i.modifies(t)}});function RY(e){Ke.call(this,null,e)}RY.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Nt(RY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],s=r[0],o=r[1],i=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return i?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=hxt(a,s,o,e.filter||aC)):n.mod=a,n.source=this.value,n.modifies(r)}});function hxt(e,t,n,r){for(var s=[],o={},i=e.length,a=0,l,u;a<i;++a)for(o[t]=u=e[a],l=0;l<i;++l)o[n]=e[l],r(o)&&(s.push(_r(o)),o={},o[t]=u);return s}const Fae={kde:gY,mixture:mke,normal:pY,lognormal:gke,uniform:vke},pxt="distributions",Mae="function",gxt="field";function Yke(e,t){const n=e[Mae];Pn(Fae,n)||gt("Unknown distribution function: "+n);const r=Fae[n]();for(const s in e)s===gxt?r.data((e.from||t()).map(e[s])):s===pxt?r[s](e[s].map(o=>Yke(o,t))):typeof r[s]===Mae&&r[s](e[s]);return r}function FY(e){Ke.call(this,null,e)}const Xke=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],mxt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Xke},{name:"weights",type:"number",array:!0}]};FY.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Xke.concat(mxt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(FY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Yke(e.distribution,vxt(t)),s=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let i=e.method||"pdf";i!=="pdf"&&i!=="cdf"&&gt("Invalid density method: "+i),!e.extent&&!r.data&&gt("Missing density extent parameter."),i=r[i];const a=e.as||["value","density"],l=e.extent||Cm(r.data()),u=SL(i,l,s,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],_r(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function vxt(e){return()=>e.materialize(e.SOURCE).source}function Zke(e,t){return e?e.map((n,r)=>t[r]||Ws(n)):null}function MY(e,t,n){const r=[],s=f=>f(l);let o,i,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},i=0,a=e.length;i<a;++i)l=e[i],u=t.map(s),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const Jke="bin";function PY(e){Ke.call(this,null,e)}PY.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Jke}]};const yxt=(e,t)=>uL(Cm(e,t))/30;Nt(PY,Ke,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=MY(t.source,e.groupby,Pu),s=e.smooth||!1,o=e.field,i=e.step||yxt(n,o),a=xy((p,g)=>o(p)-o(g)),l=e.as||Jke,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of hke(p,i,s,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:i},t.reflow(!0).modifies(l)}});function Qke(e){ts.call(this,null,bxt,e),this.modified(!0)}Nt(Qke,ts);function bxt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Ju(n=>t(n,e),Zi(t),Ws(t))}function LY(e){Ke.call(this,[void 0,void 0],e)}LY.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Nt(LY,Ke,{transform(e,t){const n=this.value,r=e.field,s=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],i=n[1];if((s||o==null)&&(o=1/0,i=-1/0),t.visit(s?t.SOURCE:t.ADD,a=>{const l=xm(r(a));l!=null&&(l<o&&(o=l),l>i&&(i=l))}),!Number.isFinite(o)||!Number.isFinite(i)){let a=Ws(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${i}]`),o=i=void 0}this.value=[o,i]}});function BY(e,t){ts.call(this,e),this.parent=t,this.count=0}Nt(BY,ts,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function AL(e){Ke.call(this,{},e),this._keys=lC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,s=t.active;r<s;++r)n(t[r],r,t)}}Nt(AL,Ke,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const s=this.value;let o=Pn(s,e)&&s[e],i,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,o=new BY(n.fork(n.NO_SOURCE),this),i.add(o).connect(t(i,e,a)),s[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let s=0;for(;s<r;++s)t[s]=e[s];for(;s<n&&t[s]!=null;++s)t[s]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,s=e.subflow,o=this._keys,i=e.modified("key"),a=l=>this.subflow(l,s,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=gn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(gn(l),u),a(u).add(l)}),i||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=gn(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(gn(l))).mod(l)}),i&&t.visit(t.REFLOW,l=>{const u=gn(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function eEe(e){ts.call(this,null,wxt,e)}Nt(eEe,ts);function wxt(e){return this.value&&!e.modified()?this.value:jn(e.name)?Mn(e.name).map(t=>wm(t)):wm(e.name,e.as)}function zY(e){Ke.call(this,lC(),e)}zY.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Nt(zY,Ke,{transform(e,t){const n=t.dataflow,r=this.value,s=t.fork(),o=s.add,i=s.rem,a=s.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=gn(f);r.has(d)?r.delete(d):i.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(gn(f),1)});function c(f){const d=gn(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),i.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),s}});function VY(e){Ke.call(this,[],e)}VY.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Nt(VY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=Zke(r,e.as||[]),o=e.index||null,i=s.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=aY(a),f=0;f<i;++f)d[s[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(s)}});function WY(e){Ke.call(this,[],e)}WY.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Nt(WY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=r.map(Ws),o=e.as||["key","value"],i=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=aY(u),f[i]=s[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function UY(e){Ke.call(this,null,e)}UY.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Nt(UY,Ke,{transform(e,t){const n=e.expr,r=e.as,s=e.modified(),o=e.initonly?t.ADD:s?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return s&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,i=>i[r]=n(i,e))}});function tEe(e){Ke.call(this,[],e)}Nt(tEe,Ke,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let s=this.value,o=e.size-s.length,i,a,l;if(o>0){for(i=[];--o>=0;)i.push(l=_r(r(e))),s.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else a=s.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,s=s.slice(-o);return n.source=this.value=s,n}});const cN={value:"value",median:ake,mean:gwt,min:mW,max:Xv},xxt=[];function jY(e){Ke.call(this,[],e)}jY.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Cxt(e){var t=e.method||cN.value,n;if(cN[t]==null)gt("Unrecognized imputation method: "+t);else return t===cN.value?(n=e.value!==void 0?e.value:0,()=>n):cN[t]}function Sxt(e){const t=e.field;return n=>n?t(n):NaN}Nt(jY,Ke,{transform(e,t){var n=t.fork(t.ALL),r=Cxt(e),s=Sxt(e),o=Ws(e.field),i=Ws(e.key),a=(e.groupby||[]).map(Ws),l=$xt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,v,y,b,w,C;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,y=0;y<f;++y)if(d[y]==null){for(g=l.domain[y],C={_impute:!0},v=0,w=p.length;v<w;++v)C[a[v]]=p[v];C[i]=g,C[o]=Number.isNaN(h)?h=r(d,s):h,u.push(_r(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function $xt(e,t,n,r){var s=v=>v(m),o=[],i=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(i.forEach((v,y)=>a[v]=y+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=i.push(p)),c=(u=t?t.map(s):xxt)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=i,o}function HY(e){Tm.call(this,e)}HY.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:cA},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Nt(HY,Tm,{transform(e,t){const n=this,r=e.modified();let s;return n.value&&(r||t.modified(n._inputs,!0))?(s=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(s=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{sr(o,s[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function qY(e){Ke.call(this,null,e)}qY.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(qY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=MY(r,e.groupby,e.field),o=(e.groupby||[]).map(Ws),i=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&gt("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Cm(r,e.field)),f=d=e.steps||d),s.forEach(h=>{const p=gY(h,i)[a],g=e.counts?h.length:1,m=c||Cm(h);SL(p,m,f,d).forEach(v=>{const y={};for(let b=0;b<o.length;++b)y[o[b]]=h.dims[b];y[l[0]]=v[0],y[l[1]]=v[1]*g,u.push(_r(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function nEe(e){ts.call(this,null,kxt,e)}Nt(nEe,ts);function kxt(e){return this.value&&!e.modified()?this.value:l$e(e.fields,e.flat)}function rEe(e){Ke.call(this,[],e),this._pending=null}Nt(rEe,Ke,{transform(e,t){const n=t.dataflow;return this._pending?Sz(this,t,this._pending):Ext(e)?t.StopPropagation:e.values?Sz(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(s=>(this._pending=Mn(s.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>Sz(this,t,Mn(r.data)))}});function Ext(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Sz(e,t,n){n.forEach(_r);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function GY(e){Ke.call(this,{},e)}GY.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Nt(GY,Ke,{transform(e,t){const n=e.fields,r=e.index,s=e.values,o=e.default==null?null:e.default,i=e.modified(),a=n.length;let l=i?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return s?(d=s.length,a>1&&!c&&gt('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&gt('The "as" parameter has too few output field names.'),c=c||s.map(Ws),f=function(p){for(var g=0,m=0,v,y;g<a;++g)if(y=r.get(n[g](p)),y==null)for(v=0;v<d;++v,++m)p[c[m]]=o;else for(v=0;v<d;++v,++m)p[c[m]]=s[v](y)}):(c||gt("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),i?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function sEe(e){ts.call(this,null,_xt,e)}Nt(sEe,ts);function _xt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,s=-1/0,o,i;for(o=0;o<n;++o)i=t[o],i[0]<r&&(r=i[0]),i[1]>s&&(s=i[1]);return[r,s]}function oEe(e){ts.call(this,null,Txt,e)}Nt(oEe,ts);function Txt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function iEe(e){Ke.call(this,null,e)}Nt(iEe,Ke,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function KY(e){Tm.call(this,e)}KY.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:cA,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Nt(KY,Tm,{_transform:Tm.prototype.transform,transform(e,t){return this._transform(Axt(e,t),t)}});function Axt(e,t){const n=e.field,r=e.value,s=(e.op==="count"?"__count__":e.op)||"sum",o=Zi(n).concat(Zi(r)),i=Nxt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:i.map(()=>s),fields:i.map(a=>Ixt(a,n,r,o)),as:i.map(a=>a+""),modified:e.modified.bind(e)}}function Ixt(e,t,n,r){return Ju(s=>t(s)===e?n(s):NaN,r,e+"")}function Nxt(e,t,n){const r={},s=[];return n.visit(n.SOURCE,o=>{const i=e(o);r[i]||(r[i]=1,s.push(i))}),s.sort(aL),t?s.slice(0,t):s}function aEe(e){AL.call(this,e)}Nt(aEe,AL,{transform(e,t){const n=e.subflow,r=e.field,s=o=>this.subflow(gn(o),n,t,o);return(e.modified("field")||r&&t.modified(Zi(r)))&&gt("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const i=s(o);r(o).forEach(a=>i.mod(a))}),t.visit(t.ADD,o=>{const i=s(o);r(o).forEach(a=>i.add(_r(a)))}),t.visit(t.REM,o=>{const i=s(o);r(o).forEach(a=>i.rem(a))})):(t.visit(t.MOD,o=>s(o).mod(o)),t.visit(t.ADD,o=>s(o).add(o)),t.visit(t.REM,o=>s(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function YY(e){Ke.call(this,null,e)}YY.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Nt(YY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=Zke(e.fields,e.as||[]),o=r?(a,l)=>Dxt(a,l,r,s):mL;let i;return this.value?i=this.value:(t=t.addAll(),i=this.value={}),t.visit(t.REM,a=>{const l=gn(a);n.rem.push(i[l]),i[l]=null}),t.visit(t.ADD,a=>{const l=o(a,_r({}));i[gn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,i[gn(a)]))}),n}});function Dxt(e,t,n,r){for(let s=0,o=n.length;s<o;++s)t[r[s]]=n[s](e);return t}function lEe(e){Ke.call(this,null,e)}Nt(lEe,Ke,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function XY(e){Ke.call(this,null,e)}XY.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Oxt=1e-14;Nt(XY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const s=t.materialize(t.SOURCE).source,o=MY(s,e.groupby,e.field),i=(e.groupby||[]).map(Ws),a=[],l=e.step||.01,u=e.probs||ql(l/2,1-Oxt,l),c=u.length;return o.forEach(f=>{const d=cY(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<i.length;++g)p[i[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(_r(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function uEe(e){Ke.call(this,null,e)}Nt(uEe,Ke,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,s=>{const o=gn(s);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,s=>{const o=aY(s);r[gn(s)]=o,n.add.push(o)}),t.visit(t.MOD,s=>{const o=r[gn(s)];for(const i in s)o[i]=s[i],n.modifies(i);n.mod.push(o)})),n}});function ZY(e){Ke.call(this,[],e),this.count=0}ZY.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Nt(ZY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),s=e.size,o=this.value.reduce((c,f)=>(c[gn(f)]=1,c),{});let i=this.value,a=this.count,l=0;function u(c){let f,d;i.length<s?i.push(c):(d=~~((a+1)*Vc()),d<i.length&&d>=l&&(f=i[d],o[gn(f)]&&n.rem.push(f),i[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=gn(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),i=i.filter(c=>o[gn(c)]!==-1)),(t.rem.length||r)&&i.length<s&&t.source&&(l=a=i.length,t.visit(t.SOURCE,c=>{o[gn(c)]||u(c)}),l=-1),r&&i.length>s){const c=i.length-s;for(let f=0;f<c;++f)o[gn(i[f])]=-1,n.rem.push(i[f]);i=i.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[gn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=i.filter(c=>!o[gn(c)])),this.count=a,this.value=n.source=i,n}});function JY(e){Ke.call(this,null,e)}JY.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Nt(JY,Ke,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ql(e.start,e.stop,e.step||1).map(s=>{const o={};return o[r]=s,_r(o)}),n.add=t.add.concat(this.value),n}});function cEe(e){Ke.call(this,null,e),this.modified(!0)}Nt(cEe,Ke,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function QY(e){Ke.call(this,null,e)}const fEe=["unit0","unit1"];QY.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:_Y,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:fEe}]};Nt(QY,Ke,{transform(e,t){const n=e.field,r=e.interval!==!1,s=e.timezone==="utc",o=this._floor(e,t),i=(s?mC:gC)(o.unit).offset,a=e.as||fEe,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Zi(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,v;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=v=o(g),r&&(p[u]=v=i(m,c)),m<f&&(f=m),v>d&&(d=v))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:s}=e.units?{units:e.units,step:e.step||1}:Wke({extent:e.extent||Cm(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=TY(r),i=this.value||{},a=(n?Oke:Dke)(o,s);return a.unit=Xr(o),a.units=o,a.step=s,a.start=i.start,a.stop=i.stop,this.value=a}});function dEe(e){Ke.call(this,lC(),e)}Nt(dEe,Ke,{transform(e,t){const n=t.dataflow,r=e.field,s=this.value,o=a=>s.set(r(a),a);let i=!0;return e.modified("field")||t.modified(r.fields)?(s.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>s.delete(r(a))),t.visit(t.ADD,o)):i=!1,this.modified(i),s.empty>n.cleanThreshold&&n.runAfter(s.clean),t.fork()}});function hEe(e){Ke.call(this,null,e)}Nt(hEe,Ke,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(xy(e.sort)):t.source).map(e.field))}});function Rxt(e,t,n,r){const s=dE[e](t,n);return{init:s.init||$g,update:function(o,i){i[r]=s.next(o)}}}const dE={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=dE.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let s=t.index;if(e<s){for(;s+1<n.length&&!r(n[s],n[s+1]);)++s;e=s}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||gt("ntile num must be greater than zero.");const n=dE.cume_dist(),r=n.next;return{init:n.init,next:s=>Math.ceil(t*r(s))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,s=n.data;return r<s.length?e(s[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||gt("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const s=r.data;return r.index<=n?t:(n=Fxt(e,s,r.index))<0?(n=s.length,t=null):t=e(s[n])}}}};function Fxt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Mxt=Object.keys(dE);function pEe(e){const t=Mn(e.ops),n=Mn(e.fields),r=Mn(e.params),s=Mn(e.as),o=this.outputs=[],i=this.windows=[],a={},l={},u=[],c=[];let f=!0;function d(h){Mn(Zi(h)).forEach(p=>a[p]=1)}d(e.sort),t.forEach((h,p)=>{const g=n[p],m=Ws(g),v=Uke(h,m,s[p]);if(d(g),o.push(v),Pn(dE,h))i.push(Rxt(h,n[p],r[p],v));else{if(g==null&&h!=="count"&&gt("Null aggregate field specified."),h==="count"){u.push(v);return}f=!1;let y=l[m];y||(y=l[m]=[],y.field=g,c.push(y)),y.push(jke(h,v))}}),(u.length||c.length)&&(this.cell=Pxt(c,u,f)),this.inputs=Object.keys(a)}const gEe=pEe.prototype;gEe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};gEe.update=function(e,t){const n=this.cell,r=this.windows,s=e.data,o=r&&r.length;let i;if(n){for(i=e.p0;i<e.i0;++i)n.rem(s[i]);for(i=e.p1;i<e.i1;++i)n.add(s[i]);n.set(t)}for(i=0;i<o;++i)r[i].update(e,t)};function Pxt(e,t,n){e=e.map(l=>qke(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var s=e.length,o=r.agg=Array(s),i=0;i<s;++i)o[i]=new e[i](r);if(r.store)var a=r.data=new IY;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<s;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<s;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<s;++l)o[l].init()},r}function eX(e){Ke.call(this,{},e),this._mlen=0,this._mods=[]}eX.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Mxt.concat(cA)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Nt(eX,Ke,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=xy(e.sort),s=SW(e.groupby),o=a=>this.group(s(a));let i=this.state;(!i||n)&&(i=this.state=new pEe(e)),n||t.modified(i.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Lxt(this._mods[a],i,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(i.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Gke(gn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Lxt(e,t,n,r){const s=r.sort,o=s&&!r.ignorePeers,i=r.frame||[null,0],a=e.data(n),l=a.length,u=o?aA(s):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:s||Lu(-1)};t.init();for(let f=0;f<l;++f)Bxt(c,i,f,l),o&&zxt(c,u),t.update(c,a[f])}function Bxt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function zxt(e,t){const n=e.i0,r=e.i1-1,s=e.compare,o=e.data,i=o.length-1;n>0&&!s(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<i&&!s(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const Vxt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Tm,bin:NY,collect:DY,compare:Kke,countpattern:OY,cross:RY,density:FY,dotbin:PY,expression:Qke,extent:LY,facet:AL,field:eEe,filter:zY,flatten:VY,fold:WY,formula:UY,generate:tEe,impute:jY,joinaggregate:HY,kde:qY,key:nEe,load:rEe,lookup:GY,multiextent:sEe,multivalues:oEe,params:iEe,pivot:KY,prefacet:aEe,project:YY,proxy:lEe,quantile:XY,relay:uEe,sample:ZY,sequence:JY,sieve:cEe,subflow:BY,timeunit:QY,tupleindex:dEe,values:hEe,window:eX},Symbol.toStringTag,{value:"Module"}));function vC(e,t,n){return e.fields=t||[],e.fname=n,e}function Wxt(e){return e.length===1?Uxt(e[0]):jxt(e)}const Uxt=e=>function(t){return t[e]},jxt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function $z(e){throw Error(e)}function Hxt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||$z("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&$z("Access path missing closing bracket: "+e),r&&$z("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function qxt(e,t,n){const r=Hxt(e);return e=r.length===1?r[0]:e,vC(Wxt(r),[e],e)}qxt("id");vC(e=>e,[],"identity");vC(()=>0,[],"zero");vC(()=>1,[],"one");const mEe=vC(()=>!0,[],"true");vC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var ky=Array.isArray;function Gxt(e){return e===Object(e)}function u3(e){return e[e.length-1]}function Kxt(e){return e==null||e===""?null:+e}function Yxt(e){return e!=null?ky(e)?e:[e]:[]}function vEe(e){return typeof e=="function"}function Xxt(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function kg(e,t){return Object.hasOwn(e,t)}function Ey(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Xxt(r,n)}const Zxt=1e4;function Jxt(e){e=+e||Zxt;let t,n,r;const s=()=>{t={},n={},r=0},o=(i,a)=>(++r>e&&(n=t,t={},r=1),t[i]=a);return s(),{clear:s,has:i=>kg(t,i)||kg(n,i),get:i=>kg(t,i)?t[i]:kg(n,i)?o(i,n[i]):void 0,set:(i,a)=>kg(t,i)?t[i]=a:o(i,a)}}function yEe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Ir(e){return function(){return e}}const Pae=Math.abs,ki=Math.atan2,B0=Math.cos,Qxt=Math.max,kz=Math.min,yf=Math.sin,_v=Math.sqrt,Ti=1e-12,Xw=Math.PI,iR=Xw/2,bEe=2*Xw;function e2t(e){return e>1?0:e<-1?Xw:Math.acos(e)}function Lae(e){return e>=1?iR:e<=-1?-iR:Math.asin(e)}const $W=Math.PI,kW=2*$W,iv=1e-6,t2t=kW-iv;function wEe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function n2t(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wEe;const n=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}let tX=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wEe:n2t(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,o,i){this._append`C${+t},${+n},${+r},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(t,n,r,s,o){if(t=+t,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=r-t,u=s-n,c=i-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>iv)if(!(Math.abs(f*l-u*c)>iv)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-i,p=s-a,g=l*l+u*u,m=h*h+p*p,v=Math.sqrt(g),y=Math.sqrt(d),b=o*Math.tan(($W-Math.acos((g+d-m)/(2*v*y)))/2),w=b/y,C=b/v;Math.abs(w-1)>iv&&this._append`L${t+w*c},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,s,o,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(s),l=r*Math.sin(s),u=t+a,c=n+l,f=1^i,d=i?s-o:o-s;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>iv||Math.abs(this._y1-c)>iv)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%kW+kW),d>t2t?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>iv&&this._append`A${r},${r},0,${+(d>=$W)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}};function nX(){return new tX}nX.prototype=tX.prototype;function IL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tX(t)}function r2t(e){return e.innerRadius}function s2t(e){return e.outerRadius}function o2t(e){return e.startAngle}function i2t(e){return e.endAngle}function a2t(e){return e&&e.padAngle}function l2t(e,t,n,r,s,o,i,a){var l=n-e,u=r-t,c=i-s,f=a-o,d=f*l-c*u;if(!(d*d<Ti))return d=(c*(t-o)-f*(e-s))/d,[e+d*l,t+d*u]}function fN(e,t,n,r,s,o,i){var a=e-n,l=t-r,u=(i?o:-o)/_v(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,v=(h+g)/2,y=p-d,b=g-h,w=y*y+b*b,C=s-o,S=d*g-p*h,$=(b<0?-1:1)*_v(Qxt(0,C*C*w-S*S)),k=(S*b-y*$)/w,T=(-S*y-b*$)/w,_=(S*b+y*$)/w,E=(-S*y+b*$)/w,A=k-m,I=T-v,F=_-m,R=E-v;return A*A+I*I>F*F+R*R&&(k=_,T=E),{cx:k,cy:T,x01:-c,y01:-f,x11:k*(s/C-1),y11:T*(s/C-1)}}function u2t(){var e=r2t,t=s2t,n=Ir(0),r=null,s=o2t,o=i2t,i=a2t,a=null,l=IL(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=s.apply(this,arguments)-iR,g=o.apply(this,arguments)-iR,m=Pae(g-p),v=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>Ti))a.moveTo(0,0);else if(m>bEe-Ti)a.moveTo(h*B0(p),h*yf(p)),a.arc(0,0,h,p,g,!v),d>Ti&&(a.moveTo(d*B0(g),d*yf(g)),a.arc(0,0,d,g,p,v));else{var y=p,b=g,w=p,C=g,S=m,$=m,k=i.apply(this,arguments)/2,T=k>Ti&&(r?+r.apply(this,arguments):_v(d*d+h*h)),_=kz(Pae(h-d)/2,+n.apply(this,arguments)),E=_,A=_,I,F;if(T>Ti){var R=Lae(T/d*yf(k)),L=Lae(T/h*yf(k));(S-=R*2)>Ti?(R*=v?1:-1,w+=R,C-=R):(S=0,w=C=(p+g)/2),($-=L*2)>Ti?(L*=v?1:-1,y+=L,b-=L):($=0,y=b=(p+g)/2)}var D=h*B0(y),N=h*yf(y),M=d*B0(C),z=d*yf(C);if(_>Ti){var W=h*B0(b),j=h*yf(b),U=d*B0(w),Y=d*yf(w),G;if(m<Xw)if(G=l2t(D,N,U,Y,W,j,M,z)){var ne=D-G[0],ue=N-G[1],ae=W-G[0],X=j-G[1],J=1/yf(e2t((ne*ae+ue*X)/(_v(ne*ne+ue*ue)*_v(ae*ae+X*X)))/2),q=_v(G[0]*G[0]+G[1]*G[1]);E=kz(_,(d-q)/(J-1)),A=kz(_,(h-q)/(J+1))}else E=A=0}$>Ti?A>Ti?(I=fN(U,Y,D,N,h,A,v),F=fN(W,j,M,z,h,A,v),a.moveTo(I.cx+I.x01,I.cy+I.y01),A<_?a.arc(I.cx,I.cy,A,ki(I.y01,I.x01),ki(F.y01,F.x01),!v):(a.arc(I.cx,I.cy,A,ki(I.y01,I.x01),ki(I.y11,I.x11),!v),a.arc(0,0,h,ki(I.cy+I.y11,I.cx+I.x11),ki(F.cy+F.y11,F.cx+F.x11),!v),a.arc(F.cx,F.cy,A,ki(F.y11,F.x11),ki(F.y01,F.x01),!v))):(a.moveTo(D,N),a.arc(0,0,h,y,b,!v)):a.moveTo(D,N),!(d>Ti)||!(S>Ti)?a.lineTo(M,z):E>Ti?(I=fN(M,z,W,j,d,-E,v),F=fN(D,N,U,Y,d,-E,v),a.lineTo(I.cx+I.x01,I.cy+I.y01),E<_?a.arc(I.cx,I.cy,E,ki(I.y01,I.x01),ki(F.y01,F.x01),!v):(a.arc(I.cx,I.cy,E,ki(I.y01,I.x01),ki(I.y11,I.x11),!v),a.arc(0,0,d,ki(I.cy+I.y11,I.cx+I.x11),ki(F.cy+F.y11,F.cx+F.x11),v),a.arc(F.cx,F.cy,E,ki(F.y11,F.x11),ki(F.y01,F.x01),!v))):a.arc(0,0,d,C,w,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Xw/2;return[B0(f)*c,yf(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ir(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ir(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ir(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ir(+c),u):r},u.startAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Ir(+c),u):s},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ir(+c),u):o},u.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ir(+c),u):i},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function xEe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CEe(e){this._context=e}CEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rX(e){return new CEe(e)}function SEe(e){return e[0]}function $Ee(e){return e[1]}function kEe(e,t){var n=Ir(!0),r=null,s=rX,o=null,i=IL(a);e=typeof e=="function"?e:e===void 0?SEe:Ir(e),t=typeof t=="function"?t:t===void 0?$Ee:Ir(t);function a(l){var u,c=(l=xEe(l)).length,f,d=!1,h;for(r==null&&(o=s(h=i())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ir(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ir(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ir(!!l),a):n},a.curve=function(l){return arguments.length?(s=l,r!=null&&(o=s(r)),a):s},a.context=function(l){return arguments.length?(l==null?r=o=null:o=s(r=l),a):r},a}function EEe(e,t,n){var r=null,s=Ir(!0),o=null,i=rX,a=null,l=IL(u);e=typeof e=="function"?e:e===void 0?SEe:Ir(+e),t=typeof t=="function"?t:Ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$Ee:Ir(+n);function u(f){var d,h,p,g=(f=xEe(f)).length,m,v=!1,y,b=new Array(g),w=new Array(g);for(o==null&&(a=i(y=l())),d=0;d<=g;++d){if(!(d<g&&s(m=f[d],d,f))===v)if(v=!v)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],w[p]);a.lineEnd(),a.areaEnd()}v&&(b[d]=+e(m,d,f),w[d]=+t(m,d,f),a.point(r?+r(m,d,f):b[d],n?+n(m,d,f):w[d]))}if(y)return a=null,y+""||null}function c(){return kEe().defined(s).curve(i).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ir(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ir(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ir(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,o!=null&&(a=i(o)),u):i},u.context=function(f){return arguments.length?(f==null?o=a=null:a=i(o=f),u):o},u}const c2t={draw(e,t){const n=_v(t/Xw);e.moveTo(n,0),e.arc(0,0,n,0,bEe)}};function f2t(e,t){let n=null,r=IL(s);e=typeof e=="function"?e:Ir(e||c2t),t=typeof t=="function"?t:Ir(t===void 0?64:+t);function s(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ir(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ir(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Am(){}function aR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NL(e){this._context=e}NL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d2t(e){return new NL(e)}function _Ee(e){this._context=e}_Ee.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:aR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h2t(e){return new _Ee(e)}function TEe(e){this._context=e}TEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:aR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p2t(e){return new TEe(e)}function AEe(e,t){this._basis=new NL(e),this._beta=t}AEe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],s=t[0],o=e[n]-r,i=t[n]-s,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(s+l*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const g2t=(function e(t){function n(r){return t===1?new NL(r):new AEe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function lR(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function sX(e,t){this._context=e,this._k=(1-t)/6}sX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lR(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:lR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m2t=(function e(t){function n(r){return new sX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function oX(e,t){this._context=e,this._k=(1-t)/6}oX.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const v2t=(function e(t){function n(r){return new oX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function iX(e,t){this._context=e,this._k=(1-t)/6}iX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y2t=(function e(t){function n(r){return new iX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function aX(e,t,n){var r=e._x1,s=e._y1,o=e._x2,i=e._y2;if(e._l01_a>Ti){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ti){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,i=(i*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,s,o,i,e._x2,e._y2)}function IEe(e,t){this._context=e,this._alpha=t}IEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:aX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b2t=(function e(t){function n(r){return t?new IEe(r,t):new sX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function NEe(e,t){this._context=e,this._alpha=t}NEe.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:aX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const w2t=(function e(t){function n(r){return t?new NEe(r,t):new oX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function DEe(e,t){this._context=e,this._alpha=t}DEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const x2t=(function e(t){function n(r){return t?new DEe(r,t):new iX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function OEe(e){this._context=e}OEe.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function C2t(e){return new OEe(e)}function Bae(e){return e<0?-1:1}function zae(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),i=(n-e._y1)/(s||r<0&&-0),a=(o*s+i*r)/(r+s);return(Bae(o)+Bae(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(a))||0}function Vae(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ez(e,t,n){var r=e._x0,s=e._y0,o=e._x1,i=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,s+a*t,o-a,i-a*n,o,i)}function uR(e){this._context=e}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ez(this,this._t0,Vae(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ez(this,Vae(this,n=zae(this,e,t)),n);break;default:Ez(this,this._t0,n=zae(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function REe(e){this._context=new FEe(e)}(REe.prototype=Object.create(uR.prototype)).point=function(e,t){uR.prototype.point.call(this,t,e)};function FEe(e){this._context=e}FEe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function S2t(e){return new uR(e)}function $2t(e){return new REe(e)}function MEe(e){this._context=e}MEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Wae(e),s=Wae(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Wae(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),i=new Array(n);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function k2t(e){return new MEe(e)}function DL(e,t){this._context=e,this._t=t}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function E2t(e){return new DL(e,.5)}function _2t(e){return new DL(e,0)}function T2t(e){return new DL(e,1)}function c0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const A2t=()=>typeof Image<"u"?Image:null;function j$(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I2t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lX(e){let t,n,r;e.length!==2?(t=j$,n=(a,l)=>j$(e(a),l),r=(a,l)=>e(a)-l):(t=e===j$||e===I2t?e:N2t,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function N2t(){return 0}function PEe(e){return e===null?NaN:+e}const D2t=lX(j$),A1=D2t.right;lX(PEe).center;const O2t=Math.sqrt(50),R2t=Math.sqrt(10),F2t=Math.sqrt(2);function cR(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=O2t?10:o>=R2t?5:o>=F2t?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?cR(e,t,n*2):[a,l,u]}function EW(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,i]=r?cR(t,e,n):cR(e,t,n);if(!(o>=s))return[];const a=o-s+1,l=new Array(a);if(r)if(i<0)for(let u=0;u<a;++u)l[u]=(o-u)/-i;else for(let u=0;u<a;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<a;++u)l[u]=(s+u)/-i;else for(let u=0;u<a;++u)l[u]=(s+u)*i;return l}function _W(e,t,n){return t=+t,e=+e,n=+n,cR(e,t,n)[2]}function TW(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?_W(t,e,n):_W(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function M2t(e,t,n=PEe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function P2t(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function L2t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zw(e){return e=fR(Math.abs(e)),e?e[1]:NaN}function B2t(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function z2t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var V2t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hE(e){if(!(t=V2t.exec(e)))throw new Error("invalid format: "+e);var t;return new uX({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hE.prototype=uX.prototype;function uX(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uX.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W2t(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var LEe;function U2t(e,t){var n=fR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(LEe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fR(e,Math.max(0,t+o-1))[0]}function Uae(e,t){var n=fR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const jae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:L2t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Uae(e*100,t),r:Uae,s:U2t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Hae(e){return e}var qae=Array.prototype.map,Gae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function j2t(e){var t=e.grouping===void 0||e.thousands===void 0?Hae:B2t(qae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Hae:z2t(qae.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=hE(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,b=f.precision,w=f.trim,C=f.type;C==="n"?(y=!0,C="g"):jae[C]||(b===void 0&&(b=12),w=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=jae[C],T=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(E){var A=S,I=$,F,R,L;if(C==="c")I=k(E)+I,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),b),w&&(E=W2t(E)),D&&+E==0&&p!=="+"&&(D=!1),A=(D?p==="("?p:a:p==="-"||p==="("?"":p)+A,I=(C==="s"?Gae[8+LEe/3]:"")+I+(D&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(L=E.charCodeAt(F),48>L||L>57){I=(L===46?s+E.slice(F+1):E.slice(F))+I,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var N=A.length+E.length+I.length,M=N<v?new Array(v-N+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-I.length:1/0),M=""),h){case"<":E=A+E+I+M;break;case"=":E=A+M+E+I;break;case"^":E=M.slice(0,N=M.length>>1)+A+E+I+M.slice(N);break;default:E=M+A+E+I;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=hE(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Zw(d)/3)))*3,g=Math.pow(10,-p),m=Gae[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var dN,cX,BEe;H2t({thousands:",",grouping:[3],currency:["$",""]});function H2t(e){return dN=j2t(e),cX=dN.format,BEe=dN.formatPrefix,dN}function q2t(e){return Math.max(0,-Zw(Math.abs(e)))}function G2t(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zw(t)/3)))*3-Zw(Math.abs(e)))}function K2t(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zw(t)-Zw(e))+1}const _z=new Date,Tz=new Date;function No(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>No(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(_z.setTime(+o),Tz.setTime(+i),e(_z),e(Tz),Math.floor(n(_z,Tz))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const dR=No(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dR.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?No(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dR);dR.range;const Oh=1e3,$u=Oh*60,Rh=$u*60,lp=Rh*24,fX=lp*7,Kae=lp*30,Az=lp*365,Tv=No(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oh)},(e,t)=>(t-e)/Oh,e=>e.getUTCSeconds());Tv.range;const dX=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oh)},(e,t)=>{e.setTime(+e+t*$u)},(e,t)=>(t-e)/$u,e=>e.getMinutes());dX.range;const hX=No(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$u)},(e,t)=>(t-e)/$u,e=>e.getUTCMinutes());hX.range;const pX=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oh-e.getMinutes()*$u)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getHours());pX.range;const gX=No(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getUTCHours());gX.range;const fA=No(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$u)/lp,e=>e.getDate()-1);fA.range;const OL=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lp,e=>e.getUTCDate()-1);OL.range;const zEe=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lp,e=>Math.floor(e/lp));zEe.range;function _y(e){return No(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$u)/fX)}const RL=_y(0),hR=_y(1),Y2t=_y(2),X2t=_y(3),Jw=_y(4),Z2t=_y(5),J2t=_y(6);RL.range;hR.range;Y2t.range;X2t.range;Jw.range;Z2t.range;J2t.range;function Ty(e){return No(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fX)}const FL=Ty(0),pR=Ty(1),Q2t=Ty(2),eCt=Ty(3),Qw=Ty(4),tCt=Ty(5),nCt=Ty(6);FL.range;pR.range;Q2t.range;eCt.range;Qw.range;tCt.range;nCt.range;const ML=No(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ML.range;const PL=No(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PL.range;const up=No(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());up.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});up.range;const cp=No(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});cp.range;function VEe(e,t,n,r,s,o){const i=[[Tv,1,Oh],[Tv,5,5*Oh],[Tv,15,15*Oh],[Tv,30,30*Oh],[o,1,$u],[o,5,5*$u],[o,15,15*$u],[o,30,30*$u],[s,1,Rh],[s,3,3*Rh],[s,6,6*Rh],[s,12,12*Rh],[r,1,lp],[r,2,2*lp],[n,1,fX],[t,1,Kae],[t,3,3*Kae],[e,1,Az]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=lX(([,,m])=>m).right(i,d);if(h===i.length)return e.every(TW(u/Az,c/Az,f));if(h===0)return dR.every(Math.max(TW(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[rCt,sCt]=VEe(cp,PL,FL,zEe,gX,hX),[oCt,iCt]=VEe(up,ML,RL,fA,pX,dX),aCt="year",mX="quarter",lCt="month",uCt="week",cCt="date",fCt="day",dCt="dayofyear",hCt="hours",pCt="minutes",gCt="seconds",mCt="milliseconds",vCt=[aCt,mX,lCt,uCt,cCt,fCt,dCt,hCt,pCt,gCt,mCt];vCt.reduce((e,t,n)=>(e[t]=1+n,e),{});mX+"",ML.every(3);mX+"",PL.every(3);function Iz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yCt(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=xS(s),c=CS(s),f=xS(o),d=CS(o),h=xS(i),p=CS(i),g=xS(a),m=CS(a),v=xS(l),y=CS(l),b={a:D,A:N,b:M,B:z,c:null,d:ele,e:ele,f:VCt,g:ZCt,G:QCt,H:LCt,I:BCt,j:zCt,L:WEe,m:WCt,M:UCt,p:W,q:j,Q:rle,s:sle,S:jCt,u:HCt,U:qCt,V:GCt,w:KCt,W:YCt,x:null,X:null,y:XCt,Y:JCt,Z:eSt,"%":nle},w={a:U,A:Y,b:G,B:ne,c:null,d:tle,e:tle,f:sSt,g:pSt,G:mSt,H:tSt,I:nSt,j:rSt,L:jEe,m:oSt,M:iSt,p:ue,q:ae,Q:rle,s:sle,S:aSt,u:lSt,U:uSt,V:cSt,w:fSt,W:dSt,x:null,X:null,y:hSt,Y:gSt,Z:vSt,"%":nle},C={a:_,A:E,b:A,B:I,c:F,d:Jae,e:Jae,f:RCt,g:Zae,G:Xae,H:Qae,I:Qae,j:ICt,L:OCt,m:ACt,M:NCt,p:T,q:TCt,Q:MCt,s:PCt,S:DCt,u:SCt,U:$Ct,V:kCt,w:CCt,W:ECt,x:R,X:L,y:Zae,Y:Xae,Z:_Ct,"%":FCt};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(X,J){return function(q){var P=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(P.push(X.slice(se,Q)),(ge=Yae[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),P.push(he),se=Q+1);return P.push(X.slice(se,Q)),P.join("")}}function $(X,J){return function(q){var P=wS(1900,void 0,1),Q=k(P,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(J&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(se=Nz(wS(P.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?pR.ceil(se):pR(se),se=OL.offset(se,(P.V-1)*7),P.y=se.getUTCFullYear(),P.m=se.getUTCMonth(),P.d=se.getUTCDate()+(P.w+6)%7):(se=Iz(wS(P.y,0,1)),de=se.getDay(),se=de>4||de===0?hR.ceil(se):hR(se),se=fA.offset(se,(P.V-1)*7),P.y=se.getFullYear(),P.m=se.getMonth(),P.d=se.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),de="Z"in P?Nz(wS(P.y,0,1)).getUTCDay():Iz(wS(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(de+5)%7:P.w+P.U*7-(de+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Nz(P)):Iz(P)}}function k(X,J,q,P){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(P>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in Yae?J.charAt(Q++):he],!ge||(P=ge(X,q,P))<0)return-1}else if(he!=q.charCodeAt(P++))return-1}return P}function T(X,J,q){var P=u.exec(J.slice(q));return P?(X.p=c.get(P[0].toLowerCase()),q+P[0].length):-1}function _(X,J,q){var P=h.exec(J.slice(q));return P?(X.w=p.get(P[0].toLowerCase()),q+P[0].length):-1}function E(X,J,q){var P=f.exec(J.slice(q));return P?(X.w=d.get(P[0].toLowerCase()),q+P[0].length):-1}function A(X,J,q){var P=v.exec(J.slice(q));return P?(X.m=y.get(P[0].toLowerCase()),q+P[0].length):-1}function I(X,J,q){var P=g.exec(J.slice(q));return P?(X.m=m.get(P[0].toLowerCase()),q+P[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function L(X,J,q){return k(X,r,J,q)}function D(X){return i[X.getDay()]}function N(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function j(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function Y(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function ne(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var Yae={"-":"",_:" ",0:"0"},ri=/^\s*\d+/,bCt=/^%/,wCt=/[\\^$*+?|[\]().{}]/g;function $r(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function xCt(e){return e.replace(wCt,"\\$&")}function xS(e){return new RegExp("^(?:"+e.map(xCt).join("|")+")","i")}function CS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function CCt(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SCt(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $Ct(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ECt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Xae(e,t,n){var r=ri.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Zae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _Ct(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TCt(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ACt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Jae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ICt(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function NCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function DCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function OCt(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function RCt(e,t,n){var r=ri.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FCt(e,t,n){var r=bCt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function MCt(e,t,n){var r=ri.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function PCt(e,t,n){var r=ri.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ele(e,t){return $r(e.getDate(),t,2)}function LCt(e,t){return $r(e.getHours(),t,2)}function BCt(e,t){return $r(e.getHours()%12||12,t,2)}function zCt(e,t){return $r(1+fA.count(up(e),e),t,3)}function WEe(e,t){return $r(e.getMilliseconds(),t,3)}function VCt(e,t){return WEe(e,t)+"000"}function WCt(e,t){return $r(e.getMonth()+1,t,2)}function UCt(e,t){return $r(e.getMinutes(),t,2)}function jCt(e,t){return $r(e.getSeconds(),t,2)}function HCt(e){var t=e.getDay();return t===0?7:t}function qCt(e,t){return $r(RL.count(up(e)-1,e),t,2)}function UEe(e){var t=e.getDay();return t>=4||t===0?Jw(e):Jw.ceil(e)}function GCt(e,t){return e=UEe(e),$r(Jw.count(up(e),e)+(up(e).getDay()===4),t,2)}function KCt(e){return e.getDay()}function YCt(e,t){return $r(hR.count(up(e)-1,e),t,2)}function XCt(e,t){return $r(e.getFullYear()%100,t,2)}function ZCt(e,t){return e=UEe(e),$r(e.getFullYear()%100,t,2)}function JCt(e,t){return $r(e.getFullYear()%1e4,t,4)}function QCt(e,t){var n=e.getDay();return e=n>=4||n===0?Jw(e):Jw.ceil(e),$r(e.getFullYear()%1e4,t,4)}function eSt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$r(t/60|0,"0",2)+$r(t%60,"0",2)}function tle(e,t){return $r(e.getUTCDate(),t,2)}function tSt(e,t){return $r(e.getUTCHours(),t,2)}function nSt(e,t){return $r(e.getUTCHours()%12||12,t,2)}function rSt(e,t){return $r(1+OL.count(cp(e),e),t,3)}function jEe(e,t){return $r(e.getUTCMilliseconds(),t,3)}function sSt(e,t){return jEe(e,t)+"000"}function oSt(e,t){return $r(e.getUTCMonth()+1,t,2)}function iSt(e,t){return $r(e.getUTCMinutes(),t,2)}function aSt(e,t){return $r(e.getUTCSeconds(),t,2)}function lSt(e){var t=e.getUTCDay();return t===0?7:t}function uSt(e,t){return $r(FL.count(cp(e)-1,e),t,2)}function HEe(e){var t=e.getUTCDay();return t>=4||t===0?Qw(e):Qw.ceil(e)}function cSt(e,t){return e=HEe(e),$r(Qw.count(cp(e),e)+(cp(e).getUTCDay()===4),t,2)}function fSt(e){return e.getUTCDay()}function dSt(e,t){return $r(pR.count(cp(e)-1,e),t,2)}function hSt(e,t){return $r(e.getUTCFullYear()%100,t,2)}function pSt(e,t){return e=HEe(e),$r(e.getUTCFullYear()%100,t,2)}function gSt(e,t){return $r(e.getUTCFullYear()%1e4,t,4)}function mSt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qw(e):Qw.ceil(e),$r(e.getUTCFullYear()%1e4,t,4)}function vSt(){return"+0000"}function nle(){return"%"}function rle(e){return+e}function sle(e){return Math.floor(+e/1e3)}var pb,qEe,GEe;ySt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ySt(e){return pb=yCt(e),qEe=pb.format,pb.parse,GEe=pb.utcFormat,pb.utcParse,pb}function Rd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function f0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ole=Symbol("implicit");function vX(){var e=new JO,t=[],n=[],r=ole;function s(o){let i=e.get(o);if(i===void 0){if(r!==ole)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new JO;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return vX(t,n).unknown(r)},Rd.apply(s,arguments),s}function yC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function d0(){}var I1=.7,ex=1/I1,hw="\\s*([+-]?\\d+)\\s*",pE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bSt=/^#([0-9a-f]{3,8})$/,wSt=new RegExp("^rgb\\("+[hw,hw,hw]+"\\)$"),xSt=new RegExp("^rgb\\("+[Kf,Kf,Kf]+"\\)$"),CSt=new RegExp("^rgba\\("+[hw,hw,hw,pE]+"\\)$"),SSt=new RegExp("^rgba\\("+[Kf,Kf,Kf,pE]+"\\)$"),$St=new RegExp("^hsl\\("+[pE,Kf,Kf]+"\\)$"),kSt=new RegExp("^hsla\\("+[pE,Kf,Kf,pE]+"\\)$"),ile={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yC(d0,fp,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ale,formatHex:ale,formatHsl:ESt,formatRgb:lle,toString:lle});function ale(){return this.rgb().formatHex()}function ESt(){return KEe(this).formatHsl()}function lle(){return this.rgb().formatRgb()}function fp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bSt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ule(t):n===3?new fi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wSt.exec(e))?new fi(t[1],t[2],t[3],1):(t=xSt.exec(e))?new fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CSt.exec(e))?hN(t[1],t[2],t[3],t[4]):(t=SSt.exec(e))?hN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$St.exec(e))?dle(t[1],t[2]/100,t[3]/100,1):(t=kSt.exec(e))?dle(t[1],t[2]/100,t[3]/100,t[4]):ile.hasOwnProperty(e)?ule(ile[e]):e==="transparent"?new fi(NaN,NaN,NaN,0):null}function ule(e){return new fi(e>>16&255,e>>8&255,e&255,1)}function hN(e,t,n,r){return r<=0&&(e=t=n=NaN),new fi(e,t,n,r)}function yX(e){return e instanceof d0||(e=fp(e)),e?(e=e.rgb(),new fi(e.r,e.g,e.b,e.opacity)):new fi}function $l(e,t,n,r){return arguments.length===1?yX(e):new fi(e,t,n,r??1)}function fi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yC(fi,$l,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cle,formatHex:cle,formatRgb:fle,toString:fle}));function cle(){return"#"+Dz(this.r)+Dz(this.g)+Dz(this.b)}function fle(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Dz(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function dle(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Of(e,t,n,r)}function KEe(e){if(e instanceof Of)return new Of(e.h,e.s,e.l,e.opacity);if(e instanceof d0||(e=fp(e)),!e)return new Of;if(e instanceof Of)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,l=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?o+s:2-o-s,i*=60):a=l>0&&l<1?0:i,new Of(i,a,l,e.opacity)}function Im(e,t,n,r){return arguments.length===1?KEe(e):new Of(e,t,n,r??1)}function Of(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yC(Of,Im,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new Of(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new Of(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new fi(Oz(e>=240?e-240:e+120,s,r),Oz(e,s,r),Oz(e<120?e+240:e-120,s,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Oz(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const YEe=Math.PI/180,XEe=180/Math.PI,gR=18,ZEe=.96422,JEe=1,QEe=.82521,e_e=4/29,pw=6/29,t_e=3*pw*pw,_St=pw*pw*pw;function n_e(e){if(e instanceof Yf)return new Yf(e.l,e.a,e.b,e.opacity);if(e instanceof Fh)return r_e(e);e instanceof fi||(e=yX(e));var t=Pz(e.r),n=Pz(e.g),r=Pz(e.b),s=Rz((.2225045*t+.7168786*n+.0606169*r)/JEe),o,i;return t===n&&n===r?o=i=s:(o=Rz((.4360747*t+.3850649*n+.1430804*r)/ZEe),i=Rz((.0139322*t+.0971045*n+.7141733*r)/QEe)),new Yf(116*s-16,500*(o-s),200*(s-i),e.opacity)}function Nm(e,t,n,r){return arguments.length===1?n_e(e):new Yf(e,t,n,r??1)}function Yf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}yC(Yf,Nm,dA(d0,{brighter:function(e){return new Yf(this.l+gR*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Yf(this.l-gR*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ZEe*Fz(t),e=JEe*Fz(e),n=QEe*Fz(n),new fi(Mz(3.1338561*t-1.6168667*e-.4906146*n),Mz(-.9787684*t+1.9161415*e+.033454*n),Mz(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Rz(e){return e>_St?Math.pow(e,1/3):e/t_e+e_e}function Fz(e){return e>pw?e*e*e:t_e*(e-e_e)}function Mz(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function TSt(e){if(e instanceof Fh)return new Fh(e.h,e.c,e.l,e.opacity);if(e instanceof Yf||(e=n_e(e)),e.a===0&&e.b===0)return new Fh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*XEe;return new Fh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Dm(e,t,n,r){return arguments.length===1?TSt(e):new Fh(e,t,n,r??1)}function Fh(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function r_e(e){if(isNaN(e.h))return new Yf(e.l,0,0,e.opacity);var t=e.h*YEe;return new Yf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yC(Fh,Dm,dA(d0,{brighter:function(e){return new Fh(this.h,this.c,this.l+gR*(e??1),this.opacity)},darker:function(e){return new Fh(this.h,this.c,this.l-gR*(e??1),this.opacity)},rgb:function(){return r_e(this).rgb()}}));var s_e=-.14861,bX=1.78277,wX=-.29227,LL=-.90649,gE=1.97294,hle=gE*LL,ple=gE*bX,gle=bX*wX-LL*s_e;function ASt(e){if(e instanceof Zv)return new Zv(e.h,e.s,e.l,e.opacity);e instanceof fi||(e=yX(e));var t=e.r/255,n=e.g/255,r=e.b/255,s=(gle*r+hle*t-ple*n)/(gle+hle-ple),o=r-s,i=(gE*(n-s)-wX*o)/LL,a=Math.sqrt(i*i+o*o)/(gE*s*(1-s)),l=a?Math.atan2(i,o)*XEe-120:NaN;return new Zv(l<0?l+360:l,a,s,e.opacity)}function N1(e,t,n,r){return arguments.length===1?ASt(e):new Zv(e,t,n,r??1)}function Zv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yC(Zv,N1,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new Zv(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new Zv(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*YEe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),s=Math.sin(e);return new fi(255*(t+n*(s_e*r+bX*s)),255*(t+n*(wX*r+LL*s)),255*(t+n*(gE*r)),this.opacity)}}));function o_e(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function i_e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return o_e((n-r/t)*t,i,s,o,a)}}function a_e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return o_e((n-r/t)*t,s,o,i,a)}}const BL=e=>()=>e;function l_e(e,t){return function(n){return e+n*t}}function ISt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zL(e,t){var n=t-e;return n?l_e(e,n>180||n<-180?n-360*Math.round(n/360):n):BL(isNaN(e)?t:e)}function NSt(e){return(e=+e)==1?Lo:function(t,n){return n-t?ISt(t,n,e):BL(isNaN(t)?n:t)}}function Lo(e,t){var n=t-e;return n?l_e(e,n):BL(isNaN(e)?t:e)}const AW=(function e(t){var n=NSt(t);function r(s,o){var i=n((s=$l(s)).r,(o=$l(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=Lo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function u_e(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=$l(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var DSt=u_e(i_e),OSt=u_e(a_e);function xX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function c_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RSt(e,t){return(c_e(t)?xX:f_e)(e,t)}function f_e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=Ay(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function d_e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function h_e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ay(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var IW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lz=new RegExp(IW.source,"g");function FSt(e){return function(){return e}}function MSt(e){return function(t){return e(t)+""}}function p_e(e,t){var n=IW.lastIndex=Lz.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=IW.exec(e))&&(s=Lz.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:hc(r,s)})),n=Lz.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?MSt(l[0].x):FSt(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ay(e,t){var n=typeof t,r;return t==null||n==="boolean"?BL(t):(n==="number"?hc:n==="string"?(r=fp(t))?(t=r,AW):p_e:t instanceof fp?AW:t instanceof Date?d_e:c_e(t)?xX:Array.isArray(t)?f_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?h_e:hc)(e,t)}function PSt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function LSt(e,t){var n=zL(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function VL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var mle=180/Math.PI,NW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function g_e(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*mle,skewX:Math.atan(l)*mle,scaleX:i,scaleY:a}}var pN;function BSt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?NW:g_e(t.a,t.b,t.c,t.d,t.e,t.f)}function zSt(e){return e==null||(pN||(pN=document.createElementNS("http://www.w3.org/2000/svg","g")),pN.setAttribute("transform",e),!(e=pN.transform.baseVal.consolidate()))?NW:(e=e.matrix,g_e(e.a,e.b,e.c,e.d,e.e,e.f))}function m_e(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:hc(u,f)},{i:g-2,x:hc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:hc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:hc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:hc(u,f)},{i:g-2,x:hc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var VSt=m_e(BSt,"px, ","px)","deg)"),WSt=m_e(zSt,", ",")",")"),USt=1e-12;function vle(e){return((e=Math.exp(e))+1/e)/2}function jSt(e){return((e=Math.exp(e))-1/e)/2}function HSt(e){return((e=Math.exp(2*e))-1)/(e+1)}const qSt=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<USt)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*y),w=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(w*w+1)-w);v=(S-C)/t,m=function($){var k=$*v,T=vle(C),_=u/(n*y)*(T*HSt(t*k+C)-jSt(C));return[a+_*h,l+_*p,u*T/vle(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function v_e(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=Lo(t.s,n.s),o=Lo(t.l,n.l),i=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const GSt=v_e(zL);var KSt=v_e(Lo);function YSt(e,t){var n=Lo((e=Nm(e)).l,(t=Nm(t)).l),r=Lo(e.a,t.a),s=Lo(e.b,t.b),o=Lo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function y_e(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=Lo(t.c,n.c),o=Lo(t.l,n.l),i=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const XSt=y_e(zL);var ZSt=y_e(Lo);function b_e(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=Lo(s.s,o.s),l=Lo(s.l,o.l),u=Lo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const JSt=b_e(zL);var QSt=b_e(Lo);function CX(e,t){t===void 0&&(t=e,e=Ay);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function e$t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const t$t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ay,interpolateArray:RSt,interpolateBasis:i_e,interpolateBasisClosed:a_e,interpolateCubehelix:JSt,interpolateCubehelixLong:QSt,interpolateDate:d_e,interpolateDiscrete:PSt,interpolateHcl:XSt,interpolateHclLong:ZSt,interpolateHsl:GSt,interpolateHslLong:KSt,interpolateHue:LSt,interpolateLab:YSt,interpolateNumber:hc,interpolateNumberArray:xX,interpolateObject:h_e,interpolateRgb:AW,interpolateRgbBasis:DSt,interpolateRgbBasisClosed:OSt,interpolateRound:VL,interpolateString:p_e,interpolateTransformCss:VSt,interpolateTransformSvg:WSt,interpolateZoom:qSt,piecewise:CX,quantize:e$t},Symbol.toStringTag,{value:"Module"}));function n$t(e){return function(){return e}}function DW(e){return+e}var yle=[0,1];function al(e){return e}function OW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n$t(isNaN(t)?NaN:.5)}function r$t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function s$t(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=OW(s,r),o=n(i,o)):(r=OW(r,s),o=n(o,i)),function(a){return o(r(a))}}function o$t(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=OW(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=A1(e,a,1,r)-1;return o[l](s[l](a))}}function hA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function WL(){var e=yle,t=yle,n=Ay,r,s,o,i=al,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==al&&(i=r$t(e[0],e[d-1])),a=d>2?o$t:s$t,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),hc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,DW),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=VL,c()},f.clamp=function(d){return arguments.length?(i=d?!0:al,c()):i!==al},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function w_e(){return WL()(al,al)}function x_e(e,t,n,r){var s=TW(e,t,n),o;switch(r=hE(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=G2t(s,i))&&(r.precision=o),BEe(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=K2t(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=q2t(s))&&(r.precision=o-(r.type==="%")*2);break}}return cX(r)}function Iy(e){var t=e.domain;return e.ticks=function(n){var r=t();return EW(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return x_e(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=_W(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function C_e(){var e=w_e();return e.copy=function(){return hA(e,C_e())},Rd.apply(e,arguments),Iy(e)}function S_e(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,DW),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return S_e(e).unknown(t)},e=arguments.length?Array.from(e,DW):[0,1],Iy(n)}function $_e(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function ble(e){return Math.log(e)}function wle(e){return Math.exp(e)}function i$t(e){return-Math.log(-e)}function a$t(e){return-Math.exp(-e)}function l$t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function u$t(e){return e===10?l$t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function c$t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xle(e){return(t,n)=>-e(-t,n)}function SX(e){const t=e(ble,wle),n=t.domain;let r=10,s,o;function i(){return s=c$t(r),o=u$t(r),n()[0]<0?(s=xle(s),o=xle(o),e(i$t,a$t)):e(ble,wle),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=s(u),h=s(c),p,g;const m=a==null?10:+a;let v=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<m&&(v=EW(u,c,m))}else v=EW(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hE(l)).precision==null&&(l.trim=!0),l=cX(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n($_e(n(),{floor:a=>o(Math.floor(s(a))),ceil:a=>o(Math.ceil(s(a)))})),t}function k_e(){const e=SX(WL()).domain([1,10]);return e.copy=()=>hA(e,k_e()).base(e.base()),Rd.apply(e,arguments),e}function Cle(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sle(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $X(e){var t=1,n=e(Cle(t),Sle(t));return n.constant=function(r){return arguments.length?e(Cle(t=+r),Sle(t)):t},Iy(n)}function E_e(){var e=$X(WL());return e.copy=function(){return hA(e,E_e()).constant(e.constant())},Rd.apply(e,arguments)}function $le(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f$t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d$t(e){return e<0?-e*e:e*e}function kX(e){var t=e(al,al),n=1;function r(){return n===1?e(al,al):n===.5?e(f$t,d$t):e($le(n),$le(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Iy(t)}function EX(){var e=kX(WL());return e.copy=function(){return hA(e,EX()).exponent(e.exponent())},Rd.apply(e,arguments),e}function h$t(){return EX.apply(null,arguments).exponent(.5)}function __e(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=M2t(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[A1(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(j$),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return __e().domain(e).range(t).unknown(r)},Rd.apply(o,arguments)}function T_e(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[A1(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return T_e().domain([e,t]).range(s).unknown(o)},Rd.apply(Iy(i),arguments)}function A_e(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[A1(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return A_e().domain(e).range(t).unknown(n)},Rd.apply(s,arguments)}function p$t(e){return new Date(e)}function g$t(e){return e instanceof Date?+e:+new Date(+e)}function _X(e,t,n,r,s,o,i,a,l,u){var c=w_e(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),w=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?b:w)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,g$t)):d().map(p$t)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d($_e($,S)):c},c.copy=function(){return hA(c,_X(e,t,n,r,s,o,i,a,l,u))},c}function m$t(){return Rd.apply(_X(oCt,iCt,up,ML,RL,fA,pX,dX,Tv,qEe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v$t(){return Rd.apply(_X(rCt,sCt,cp,PL,FL,OL,gX,hX,Tv,GEe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UL(){var e=0,t=1,n,r,s,o,i=al,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(Ay),u.rangeRound=c(VL),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function h0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TX(){var e=Iy(UL()(al));return e.copy=function(){return h0(e,TX())},f0.apply(e,arguments)}function I_e(){var e=SX(UL()).domain([1,10]);return e.copy=function(){return h0(e,I_e()).base(e.base())},f0.apply(e,arguments)}function N_e(){var e=$X(UL());return e.copy=function(){return h0(e,N_e()).constant(e.constant())},f0.apply(e,arguments)}function AX(){var e=kX(UL());return e.copy=function(){return h0(e,AX()).exponent(e.exponent())},f0.apply(e,arguments)}function y$t(){return AX.apply(null,arguments).exponent(.5)}function jL(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=al,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,b;return arguments.length?([v,y,b]=m,u=CX(g,[v,y,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ay),h.rangeRound=p(VL),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function D_e(){var e=Iy(jL()(al));return e.copy=function(){return h0(e,D_e())},f0.apply(e,arguments)}function O_e(){var e=SX(jL()).domain([.1,1,10]);return e.copy=function(){return h0(e,O_e()).base(e.base())},f0.apply(e,arguments)}function R_e(){var e=$X(jL());return e.copy=function(){return h0(e,R_e()).constant(e.constant())},f0.apply(e,arguments)}function IX(){var e=kX(jL());return e.copy=function(){return h0(e,IX()).exponent(e.exponent())},f0.apply(e,arguments)}function b$t(){return IX.apply(null,arguments).exponent(.5)}function Fd(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const F_e=Fd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),M_e=Fd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),P_e=Fd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),L_e=Fd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),B_e=Fd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),z_e=Fd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),V_e=Fd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),W_e=Fd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),U_e=Fd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),j_e=Fd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function H_e(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function q_e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return H_e((n-r/t)*t,i,s,o,a)}}function G_e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return H_e((n-r/t)*t,s,o,i,a)}}const HL=e=>()=>e;function K_e(e,t){return function(n){return e+n*t}}function w$t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qL(e,t){var n=t-e;return n?K_e(e,n>180||n<-180?n-360*Math.round(n/360):n):HL(isNaN(e)?t:e)}function x$t(e){return(e=+e)==1?Bo:function(t,n){return n-t?w$t(t,n,e):HL(isNaN(t)?n:t)}}function Bo(e,t){var n=t-e;return n?K_e(e,n):HL(isNaN(e)?t:e)}const RW=(function e(t){var n=x$t(t);function r(s,o){var i=n((s=$l(s)).r,(o=$l(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=Bo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function Y_e(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=$l(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var C$t=Y_e(q_e),S$t=Y_e(G_e);function NX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function X_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $$t(e,t){return(X_e(t)?NX:Z_e)(e,t)}function Z_e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=p0(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function J_e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Q_e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=p0(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var FW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bz=new RegExp(FW.source,"g");function k$t(e){return function(){return e}}function E$t(e){return function(t){return e(t)+""}}function eTe(e,t){var n=FW.lastIndex=Bz.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=FW.exec(e))&&(s=Bz.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:pc(r,s)})),n=Bz.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?E$t(l[0].x):k$t(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function p0(e,t){var n=typeof t,r;return t==null||n==="boolean"?HL(t):(n==="number"?pc:n==="string"?(r=fp(t))?(t=r,RW):eTe:t instanceof fp?RW:t instanceof Date?J_e:X_e(t)?NX:Array.isArray(t)?Z_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Q_e:pc)(e,t)}function _$t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function T$t(e,t){var n=qL(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function pA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var kle=180/Math.PI,MW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tTe(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*kle,skewX:Math.atan(l)*kle,scaleX:i,scaleY:a}}var gN;function A$t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?MW:tTe(t.a,t.b,t.c,t.d,t.e,t.f)}function I$t(e){return e==null||(gN||(gN=document.createElementNS("http://www.w3.org/2000/svg","g")),gN.setAttribute("transform",e),!(e=gN.transform.baseVal.consolidate()))?MW:(e=e.matrix,tTe(e.a,e.b,e.c,e.d,e.e,e.f))}function nTe(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:pc(u,f)},{i:g-2,x:pc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:pc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:pc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:pc(u,f)},{i:g-2,x:pc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var N$t=nTe(A$t,"px, ","px)","deg)"),D$t=nTe(I$t,", ",")",")"),O$t=1e-12;function Ele(e){return((e=Math.exp(e))+1/e)/2}function R$t(e){return((e=Math.exp(e))-1/e)/2}function F$t(e){return((e=Math.exp(2*e))-1)/(e+1)}const M$t=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<O$t)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*y),w=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(w*w+1)-w);v=(S-C)/t,m=function($){var k=$*v,T=Ele(C),_=u/(n*y)*(T*F$t(t*k+C)-R$t(C));return[a+_*h,l+_*p,u*T/Ele(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function rTe(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=Bo(t.s,n.s),o=Bo(t.l,n.l),i=Bo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const P$t=rTe(qL);var L$t=rTe(Bo);function B$t(e,t){var n=Bo((e=Nm(e)).l,(t=Nm(t)).l),r=Bo(e.a,t.a),s=Bo(e.b,t.b),o=Bo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function sTe(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=Bo(t.c,n.c),o=Bo(t.l,n.l),i=Bo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const z$t=sTe(qL);var V$t=sTe(Bo);function oTe(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=Bo(s.s,o.s),l=Bo(s.l,o.l),u=Bo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const W$t=oTe(qL);var U$t=oTe(Bo);function DX(e,t){t===void 0&&(t=e,e=p0);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function j$t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const H$t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:p0,interpolateArray:$$t,interpolateBasis:q_e,interpolateBasisClosed:G_e,interpolateCubehelix:W$t,interpolateCubehelixLong:U$t,interpolateDate:J_e,interpolateDiscrete:_$t,interpolateHcl:z$t,interpolateHclLong:V$t,interpolateHsl:P$t,interpolateHslLong:L$t,interpolateHue:T$t,interpolateLab:B$t,interpolateNumber:pc,interpolateNumberArray:NX,interpolateObject:Q_e,interpolateRgb:RW,interpolateRgbBasis:C$t,interpolateRgbBasisClosed:S$t,interpolateRound:pA,interpolateString:eTe,interpolateTransformCss:N$t,interpolateTransformSvg:D$t,interpolateZoom:M$t,piecewise:DX,quantize:j$t},Symbol.toStringTag,{value:"Module"}));function q$t(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const G$t="identity",OX="linear",tx="log",RX="pow",FX="sqrt",MX="symlog",K$t="time",Y$t="utc",bC="sequential",gA="diverging",_le="quantile",X$t="quantize",Z$t="threshold",J$t="ordinal",Q$t="point",ekt="band",tkt="bin-ordinal",si="continuous",GL="discrete",KL="discretizing",ef="interpolating",iTe="temporal";function nkt(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function rkt(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function PX(){const e=vX().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=q$t(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=P2t(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return v=Math.max(0,A1(h,g)-1),y=g===m?v:A1(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(b=v,v=p-y,y=p-b),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return PX().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function aTe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return aTe(t())},e}function skt(){return aTe(PX().paddingInner(1))}var okt=Array.prototype.map;function ikt(e){return okt.call(e,Kxt)}const akt=Array.prototype.slice;function lTe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(A1(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=ikt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=akt.call(r),n):t.slice()},n.tickFormat=function(r,s){return x_e(e[0],u3(e),r??10,s)},n.copy=function(){return lTe().domain(n.domain()).range(n.range())},n}const PW=new Map,lkt=Symbol("vega_scale");function ukt(e){return e[lkt]=!0,e}function ckt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?nkt(o):o.invertExtent?rkt(o):void 0),o.type=e,ukt(o)};return r.metadata=yEe(Yxt(n)),r}function us(e,t,n){return arguments.length>1?(PW.set(e,ckt(e,t,n)),this):fkt(e)?PW.get(e):void 0}us(G$t,S_e);us(OX,C_e,si);us(tx,k_e,[si,tx]);us(RX,EX,si);us(FX,h$t,si);us(MX,E_e,si);us(K$t,m$t,[si,iTe]);us(Y$t,v$t,[si,iTe]);us(bC,TX,[si,ef]);us(`${bC}-${OX}`,TX,[si,ef]);us(`${bC}-${tx}`,I_e,[si,ef,tx]);us(`${bC}-${RX}`,AX,[si,ef]);us(`${bC}-${FX}`,y$t,[si,ef]);us(`${bC}-${MX}`,N_e,[si,ef]);us(`${gA}-${OX}`,D_e,[si,ef]);us(`${gA}-${tx}`,O_e,[si,ef,tx]);us(`${gA}-${RX}`,IX,[si,ef]);us(`${gA}-${FX}`,b$t,[si,ef]);us(`${gA}-${MX}`,R_e,[si,ef]);us(_le,__e,[KL,_le]);us(X$t,T_e,KL);us(Z$t,A_e,KL);us(tkt,lTe,[GL,KL]);us(J$t,vX,GL);us(ekt,PX,GL);us(Q$t,skt,GL);function fkt(e){return PW.has(e)}function dkt(e,t,n){return CX(hkt("rgb",n),e)}function hkt(e,t){const n=t$t[pkt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function pkt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const gkt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},mkt={accent:M_e,category10:F_e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:P_e,observable10:L_e,paired:B_e,pastel1:z_e,pastel2:V_e,set1:W_e,set2:U_e,set3:j_e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function uTe(e){if(ky(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function cTe(e,t){for(const n in e)vkt(n,t(e[n]))}const Tle={};cTe(mkt,uTe);cTe(gkt,e=>dkt(uTe(e)));function vkt(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Tle[e]=t,this):Tle[e]}function ykt(e){return e&&e.gradient}const Ale={basis:{curve:d2t},"basis-closed":{curve:h2t},"basis-open":{curve:p2t},bundle:{curve:g2t,tension:"beta",value:.85},cardinal:{curve:m2t,tension:"tension",value:0},"cardinal-open":{curve:y2t,tension:"tension",value:0},"cardinal-closed":{curve:v2t,tension:"tension",value:0},"catmull-rom":{curve:b2t,tension:"alpha",value:.5},"catmull-rom-closed":{curve:w2t,tension:"alpha",value:.5},"catmull-rom-open":{curve:x2t,tension:"alpha",value:.5},linear:{curve:rX},"linear-closed":{curve:C2t},monotone:{horizontal:$2t,vertical:S2t},natural:{curve:k2t},step:{curve:E2t},"step-after":{curve:T2t},"step-before":{curve:_2t}};function fTe(e,t,n){var r=kg(Ale,e)&&Ale[e],s=null;return r&&(s=r.curve||r[t||"vertical"],r.tension&&n!=null&&(s=s[r.tension](n))),s}const bkt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},wkt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,xkt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ckt=/^((\s+,?\s*)|(,\s*))/,Skt=/^[01]/;function dTe(e){const t=[];return(e.match(wkt)||[]).forEach(r=>{let s=r[0];const o=s.toLowerCase(),i=bkt[o],a=$kt(o,i,r.slice(1).trim()),l=a.length;if(l<i||l&&l%i!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([s,...a.slice(0,i)]),l!==i){o==="m"&&(s=s==="M"?"L":"l");for(let u=i;u<l;u+=i)t.push([s,...a.slice(u,u+i)])}}),t}function $kt(e,t,n){const r=[];for(let s=0;t&&s<n.length;)for(let o=0;o<t;++o){const i=e==="a"&&(o===3||o===4)?Skt:xkt,a=n.slice(s).match(i);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");s+=a[0].length,r.push(+a[0]);const l=n.slice(s).match(Ckt);l!==null&&(s+=l[0].length)}return r}const Om=Math.PI/180,kkt=1e-14,gv=Math.PI/2,Rf=Math.PI*2,gb=Math.sqrt(3)/2;var zz={},Vz={},hTe=[].join;function Ekt(e,t,n,r,s,o,i,a,l){const u=hTe.call(arguments);if(zz[u])return zz[u];const c=i*Om,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,v=f/n,y=-f/r,b=d/r,w=m*a+v*l,C=y*a+b*l,S=m*e+v*t,$=y*e+b*t;let T=1/((S-w)*(S-w)+($-C)*($-C))-.25;T<0&&(T=0);let _=Math.sqrt(T);o==s&&(_=-_);const E=.5*(w+S)-_*($-C),A=.5*(C+$)+_*(S-w),I=Math.atan2(C-A,w-E);let R=Math.atan2($-A,S-E)-I;R<0&&o===1?R+=Rf:R>0&&o===0&&(R-=Rf);const L=Math.ceil(Math.abs(R/(gv+.001))),D=[];for(let N=0;N<L;++N){const M=I+N*R/L,z=I+(N+1)*R/L;D[N]=[E,A,M,z,n,r,f,d]}return zz[u]=D}function _kt(e){const t=hTe.call(e);if(Vz[t])return Vz[t];var n=e[0],r=e[1],s=e[2],o=e[3],i=e[4],a=e[5],l=e[6],u=e[7];const c=u*i,f=-l*a,d=l*i,h=u*a,p=Math.cos(s),g=Math.sin(s),m=Math.cos(o),v=Math.sin(o),y=.5*(o-s),b=Math.sin(y*.5),w=8/3*b*b/Math.sin(y),C=n+p-w*g,S=r+g+w*p,$=n+m,k=r+v,T=$+w*v,_=k-w*m;return Vz[t]=[c*C+f*S,d*C+h*S,c*T+f*_,d*T+h*_,c*$+f*k,d*$+h*k]}const pu=["l",0,0,0,0,0,0,0];function Tkt(e,t,n){const r=pu[0]=e[0];if(r==="a"||r==="A")pu[1]=t*e[1],pu[2]=n*e[2],pu[3]=e[3],pu[4]=e[4],pu[5]=e[5],pu[6]=t*e[6],pu[7]=n*e[7];else if(r==="h"||r==="H")pu[1]=t*e[1];else if(r==="v"||r==="V")pu[1]=n*e[1];else for(var s=1,o=e.length;s<o;++s)pu[s]=(s%2==1?t:n)*e[s];return pu}function LW(e,t,n,r,s,o){var i,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,v=0;n==null&&(n=0),r==null&&(r=0),s==null&&(s=1),o==null&&(o=s),e.beginPath&&e.beginPath();for(var y=0,b=t.length;y<b;++y){switch(i=t[y],(s!==1||o!==1)&&(i=Tkt(i,s,o)),i[0]){case"l":l+=i[1],u+=i[2],e.lineTo(l+n,u+r);break;case"L":l=i[1],u=i[2],e.lineTo(l+n,u+r);break;case"h":l+=i[1],e.lineTo(l+n,u+r);break;case"H":l=i[1],e.lineTo(l+n,u+r);break;case"v":u+=i[1],e.lineTo(l+n,u+r);break;case"V":u=i[1],e.lineTo(l+n,u+r);break;case"m":l+=i[1],u+=i[2],m=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=i[1],u=i[2],m=l,v=u,e.moveTo(l+n,u+r);break;case"c":d=l+i[5],h=u+i[6],c=l+i[3],f=u+i[4],e.bezierCurveTo(l+i[1]+n,u+i[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=i[5],u=i[6],c=i[3],f=i[4],e.bezierCurveTo(i[1]+n,i[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+i[3],h=u+i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+i[1]+n,u+i[2]+r,d+n,h+r),c=l+i[1],f=u+i[2],l=d,u=h;break;case"S":d=i[3],h=i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"q":d=l+i[3],h=u+i[4],c=l+i[1],f=u+i[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=i[3],h=i[4],e.quadraticCurveTo(i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"t":d=l+i[1],h=u+i[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+i[1],f=u+i[2];break;case"T":d=i[1],h=i[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":Ile(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+l+n,i[7]+u+r]),l+=i[6],u+=i[7];break;case"A":Ile(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+n,i[7]+r]),l=i[6],u=i[7];break;case"z":case"Z":l=m,u=v,e.closePath();break}a=i}}function Ile(e,t,n,r){const s=Ekt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<s.length;++o){const i=_kt(s[o]);e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}}const Nle=.5773502691896257,Dle={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Rf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,s=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(s,-o),e.lineTo(0,-n),e.lineTo(-s,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n,s=r-n*Nle,o=n/4;e.moveTo(0,-r-s),e.lineTo(-o,r-s),e.lineTo(o,r-s),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n,s=r-n*Nle;e.moveTo(0,-r-s),e.lineTo(-n,r-s),e.lineTo(n,r-s),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Akt(e){return kg(Dle,e)?Dle[e]:Ikt(e)}var Wz={};function Ikt(e){if(!kg(Wz,e)){const t=dTe(e);Wz[e]={draw:function(n,r){LW(n,t,0,0,Math.sqrt(r)/2)}}}return Wz[e]}const Zp=.448084975506;function Nkt(e){return e.x}function Dkt(e){return e.y}function Okt(e){return e.width}function Rkt(e){return e.height}function ih(e){return typeof e=="function"?e:()=>+e}function mN(e,t,n){return Math.max(t,Math.min(e,n))}function Fkt(){var e=Nkt,t=Dkt,n=Okt,r=Rkt,s=ih(0),o=s,i=s,a=s,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),v=+r.call(this,c),y=Math.min(m,v)/2,b=mN(+s.call(this,c),0,y),w=mN(+o.call(this,c),0,y),C=mN(+i.call(this,c),0,y),S=mN(+a.call(this,c),0,y);if(l||(l=h=nX()),b<=0&&w<=0&&C<=0&&S<=0)l.rect(p,g,m,v);else{var $=p+m,k=g+v;l.moveTo(p+b,g),l.lineTo($-w,g),l.bezierCurveTo($-Zp*w,g,$,g+Zp*w,$,g+w),l.lineTo($,k-S),l.bezierCurveTo($,k-Zp*S,$-Zp*S,k,$-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+Zp*C,k,p,k-Zp*C,p,k-C),l.lineTo(p,g+b),l.bezierCurveTo(p,g+Zp*b,p+Zp*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=ih(c),u):e},u.y=function(c){return arguments.length?(t=ih(c),u):t},u.width=function(c){return arguments.length?(n=ih(c),u):n},u.height=function(c){return arguments.length?(r=ih(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(s=ih(c),o=f!=null?ih(f):s,a=d!=null?ih(d):s,i=h!=null?ih(h):o,u):s},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Mkt(){var e,t,n,r,s=null,o,i,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-i;if(g||m){var v=Math.hypot(g,m),y=(g/=v)*l,b=(m/=v)*l,w=Math.atan2(m,g);s.moveTo(i-y,a-b),s.lineTo(f-g*p,d-m*p),s.arc(f,d,p,w-Math.PI,w),s.lineTo(i+y,a+b),s.arc(i,a,l,w,w+Math.PI)}else s.arc(f,d,p,0,Rf);s.closePath()}else o=1;i=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(s==null&&(s=m=nX()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return s=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?s=null:s=f,c):s},c}function mA(e,t){return e??t}const vA=e=>e.x||0,yA=e=>e.y||0,Pkt=e=>e.width||0,Lkt=e=>e.height||0,Bkt=e=>(e.x||0)+(e.width||0),zkt=e=>(e.y||0)+(e.height||0),Vkt=e=>e.startAngle||0,Wkt=e=>e.endAngle||0,Ukt=e=>e.padAngle||0,jkt=e=>e.innerRadius||0,Hkt=e=>e.outerRadius||0,qkt=e=>e.cornerRadius||0,Gkt=e=>mA(e.cornerRadiusTopLeft,e.cornerRadius)||0,Kkt=e=>mA(e.cornerRadiusTopRight,e.cornerRadius)||0,Ykt=e=>mA(e.cornerRadiusBottomRight,e.cornerRadius)||0,Xkt=e=>mA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Zkt=e=>mA(e.size,64),Jkt=e=>e.size||1,YL=e=>e.defined!==!1,Qkt=e=>Akt(e.shape||"circle"),eEt=u2t().startAngle(Vkt).endAngle(Wkt).padAngle(Ukt).innerRadius(jkt).outerRadius(Hkt).cornerRadius(qkt),tEt=EEe().x(vA).y1(yA).y0(zkt).defined(YL),nEt=EEe().y(yA).x1(vA).x0(Bkt).defined(YL),rEt=kEe().x(vA).y(yA).defined(YL),sEt=Fkt().x(vA).y(yA).width(Pkt).height(Lkt).cornerRadius(Gkt,Kkt,Ykt,Xkt),oEt=f2t().type(Qkt).size(Zkt),iEt=Mkt().x(vA).y(yA).defined(YL).size(Jkt);function LX(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function aEt(e,t){return eEt.context(e)(t)}function lEt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?nEt:tEt).curve(fTe(r,n.orient,n.tension)).context(e)(t)}function uEt(e,t){const n=t[0],r=n.interpolate||"linear";return rEt.curve(fTe(r,n.orient,n.tension)).context(e)(t)}function wC(e,t,n,r){return sEt.context(e)(t,n,r)}function cEt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function fEt(e,t){return oEt.context(e)(t)}function dEt(e,t){return iEt.context(e)(t)}var hEt=1;function pEt(e,t,n){var r=t.clip,s=e._defs,o=t.clip_id||(t.clip_id="clip"+hEt++),i=s.clipping[o]||(s.clipping[o]={id:o});return vEe(r)?i.path=r(null):LX(n)?i.path=wC(null,n,0,0):(i.width=n.width||0,i.height=n.height||0),"url(#"+o+")"}function vd(e){this.clear(),e&&this.union(e)}vd.prototype={clone(){return new vd(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:s,x2:o,y2:i}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*s+u,l*r+a*s+c,a*r-l*i+u,l*r+a*i+c,a*o-l*s+u,l*o+a*s+c,a*o-l*i+u,l*o+a*i+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function BX(e){this.mark=e,this.bounds=this.bounds||new vd}function pTe(e){BX.call(this,e),this.items=this.items||[]}Ey(pTe,BX);function g0(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?gEt(t,r):0))}return e}function gEt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const mEt=Rf-1e-8;let XL,c3,f3,Av,BW,d3,zW,VW;const Dg=(e,t)=>XL.add(e,t),h3=(e,t)=>Dg(c3=e,f3=t),Ole=e=>Dg(e,XL.y1),Rle=e=>Dg(XL.x1,e),mv=(e,t)=>BW*e+zW*t,vv=(e,t)=>d3*e+VW*t,Uz=(e,t)=>Dg(mv(e,t),vv(e,t)),jz=(e,t)=>h3(mv(e,t),vv(e,t));function ZL(e,t){return XL=e,t?(Av=t*Om,BW=VW=Math.cos(Av),d3=Math.sin(Av),zW=-d3):(BW=VW=1,Av=d3=zW=0),vEt}const vEt={beginPath(){},closePath(){},moveTo:jz,lineTo:jz,rect(e,t,n,r){Av?(Uz(e+n,t),Uz(e+n,t+r),Uz(e,t+r),jz(e,t)):(Dg(e+n,t+r),h3(e,t))},quadraticCurveTo(e,t,n,r){const s=mv(e,t),o=vv(e,t),i=mv(n,r),a=vv(n,r);Fle(c3,s,i,Ole),Fle(f3,o,a,Rle),h3(i,a)},bezierCurveTo(e,t,n,r,s,o){const i=mv(e,t),a=vv(e,t),l=mv(n,r),u=vv(n,r),c=mv(s,o),f=vv(s,o);Mle(c3,i,l,c,Ole),Mle(f3,a,u,f,Rle),h3(c,f)},arc(e,t,n,r,s,o){if(r+=Av,s+=Av,c3=n*Math.cos(s)+e,f3=n*Math.sin(s)+t,Math.abs(s-r)>mEt)Dg(e-n,t-n),Dg(e+n,t+n);else{const i=u=>Dg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(i(r),i(s),s!==r)if(r=r%Rf,r<0&&(r+=Rf),s=s%Rf,s<0&&(s+=Rf),s<r&&(o=!o,a=r,r=s,s=a),o)for(s-=Rf,a=r-r%gv,l=0;l<4&&a>s;++l,a-=gv)i(a);else for(a=r-r%gv+gv,l=0;l<4&&a<s;++l,a=a+gv)i(a)}}};function Fle(e,t,n,r){const s=(e-t)/(e+n-2*t);0<s&&s<1&&r(e+(t-e)*s)}function Mle(e,t,n,r,s){const o=r-e+3*t-3*n,i=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>kkt?(c=i*i+a*o,c>=0&&(c=Math.sqrt(c),l=(-i+c)/o,u=(-i-c)/o)):l=.5*a/i,0<l&&l<1&&s(Ple(l,e,t,n,r)),0<u&&u<1&&s(Ple(u,e,t,n,r))}function Ple(e,t,n,r,s){const o=1-e,i=o*o,a=e*e;return i*o*t+3*i*e*n+3*o*a*r+a*e*s}var tm=(tm=c0(1,1))?tm.getContext("2d"):null;const WW=new vd;function gTe(e){return function(t,n){if(!tm)return!0;e(tm,t),WW.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:s,x2:o,y2:i}=WW;for(let a=s;a<=i;++a)for(let l=r;l<=o;++l)if(tm.isPointInPath(l,a))return!0;return!1}}function mTe(e,t){return t.contains(e.x||0,e.y||0)}function vTe(e,t){const n=e.x||0,r=e.y||0,s=e.width||0,o=e.height||0;return t.intersects(WW.set(n,r,n+s,r+o))}function yEt(e,t){const n=e.x||0,r=e.y||0,s=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return h$(t,n,r,s,o)}function h$(e,t,n,r,s){const{x1:o,y1:i,x2:a,y2:l}=e,u=r-t,c=s-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(i-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function nx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function oc(e,t){return e??t}function Lle(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function bEt(e,t,n){const r=n.width(),s=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+oc(t.x1,.5)*r,n.y1+oc(t.y1,.5)*s,Math.max(r,s)*oc(t.r1,0),n.x1+oc(t.x2,.5)*r,n.y1+oc(t.y2,.5)*s,Math.max(r,s)*oc(t.r2,.5));else{const i=oc(t.x1,0),a=oc(t.y1,0),l=oc(t.x2,1),u=oc(t.y2,0);if(i===l||a===u||r===s)o=e.createLinearGradient(n.x1+i*r,n.y1+a*s,n.x1+l*r,n.y1+u*s);else{const c=c0(Math.ceil(r),Math.ceil(s)),f=c.getContext("2d");return f.scale(r,s),f.fillStyle=Lle(f.createLinearGradient(i,a,l,u),t.stops),f.fillRect(0,0,r,s),e.createPattern(c,"no-repeat")}}return Lle(o,t.stops)}function yTe(e,t,n){return ykt(n)?bEt(e,n,t.bounds):n}function mR(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=yTe(e,t,t.fill),!0):!1}var wEt=[];function rx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=yTe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||wEt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function xEt(e,t){return e.zindex-t.zindex||e.index-t.index}function bTe(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,s,o;for(s=0,o=t.length;s<o;++s)r=t[s],r.index=s,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(xEt)}function sx(e,t){var n=e.items,r,s;if(!n||!n.length)return;const o=bTe(e);if(o&&o.length){for(r=0,s=n.length;r<s;++r)n[r].zindex||t(n[r]);n=o}for(r=0,s=n.length;r<s;++r)t(n[r])}function UW(e,t){var n=e.items,r,s;if(!n||!n.length)return null;const o=bTe(e);for(o&&o.length&&(n=o),s=n.length;--s>=0;)if(r=t(n[s]))return r;if(n===o){for(n=e.items,s=n.length;--s>=0;)if(!n[s].zindex&&(r=t(n[s])))return r}return null}function zX(e){return function(t,n,r){sx(n,s=>{(!r||r.intersects(s.bounds))&&wTe(e,t,s,s)})}}function CEt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&wTe(e,t,n.items[0],n.items)}}function wTe(e,t,n,r){var s=n.opacity==null?1:n.opacity;s!==0&&(e(t,r)||(nx(t,n),n.fill&&mR(t,n,s)&&t.fill(),n.stroke&&rx(t,n,s)&&t.stroke()))}function JL(e){return e=e||mEe,function(t,n,r,s,o,i){return r*=t.pixelRatio,s*=t.pixelRatio,UW(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,i)||!l)&&e(t,a,r,s,o,i))return a})}}function bA(e,t){return function(n,r,s,o){var i=Array.isArray(r)?r[0]:r,a=t??i.fill,l=i.stroke&&n.isPointInStroke,u,c;return l&&(u=i.strokeWidth,c=i.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(s,o)||l&&n.isPointInStroke(s,o)}}function VX(e){return JL(bA(e))}function Jv(e,t){return"translate("+e+","+t+")"}function WX(e){return"rotate("+e+")"}function SEt(e,t){return"scale("+e+","+t+")"}function xTe(e){return Jv(e.x||0,e.y||0)}function $Et(e){return Jv(e.x||0,e.y||0)+(e.angle?" "+WX(e.angle):"")}function kEt(e){return Jv(e.x||0,e.y||0)+(e.angle?" "+WX(e.angle):"")+(e.scaleX||e.scaleY?" "+SEt(e.scaleX||1,e.scaleY||1):"")}function UX(e,t,n){function r(i,a){i("transform",$Et(a)),i("d",t(null,a))}function s(i,a){return t(ZL(i,a.angle),a),g0(i,a).translate(a.x||0,a.y||0)}function o(i,a){var l=a.x||0,u=a.y||0,c=a.angle||0;i.translate(l,u),c&&i.rotate(c*=Om),i.beginPath(),t(i,a),c&&i.rotate(-c),i.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:s,draw:zX(o),pick:VX(o),isect:n||gTe(o)}}var EEt=UX("arc",aEt);function _Et(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",s=e.length,o=1/0,i,a;--s>=0;)e[s].defined!==!1&&(a=Math.abs(e[s][r]-n),a<o&&(o=a,i=e[s]));return i}function TEt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,s,o,i;--r>=0;)if(e[r].defined!==!1&&(s=e[r].x-t[0],o=e[r].y-t[1],i=s*s+o*o,i<n))return e[r];return null}function AEt(e,t){for(var n=e.length,r,s,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],s=e[n].y-t[1],o=r*r+s*s,r=e[n].size||1,o<r*r))return e[n];return null}function jX(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function s(l,u){var c=u.items;return c.length===0?l:(t(ZL(l),c),g0(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const i=bA(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,i(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:s,draw:CEt(o),pick:a,isect:mTe,tip:n}}var IEt=jX("area",lEt,_Et);function NEt(e,t){e.beginPath(),LX(t)?wC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function CTe(e){const t=oc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function DEt(e,t){e("transform",xTe(t))}function STe(e,t){const n=CTe(t);e("d",wC(null,t,n,n))}function OEt(e,t){e("class","background"),e("aria-hidden",!0),STe(e,t)}function REt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?STe(e,t):e("d","")}function FEt(e,t,n){const r=t.clip?pEt(n,t,t):null;e("clip-path",r)}function MEt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let s=0;s<r;++s)e.union(n[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),g0(e,t),e.translate(t.x||0,t.y||0)}function mE(e,t,n,r){const s=CTe(t);e.beginPath(),wC(e,t,(n||0)+s,(r||0)+s)}const PEt=bA(mE),LEt=bA(mE,!1),BEt=bA(mE,!0);function zEt(e,t,n,r){sx(t,s=>{const o=s.x||0,i=s.y||0,a=s.strokeForeground,l=s.opacity==null?1:s.opacity;(s.stroke||s.fill)&&l&&(mE(e,s,o,i),nx(e,s),s.fill&&mR(e,s,l)&&e.fill(),s.stroke&&!a&&rx(e,s,l)&&e.stroke()),e.save(),e.translate(o,i),s.clip&&NEt(e,s),n&&n.translate(-o,-i),sx(s,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,i),e.restore(),a&&s.stroke&&l&&(mE(e,s,o,i),nx(e,s),rx(e,s,l)&&e.stroke())})}function VEt(e,t,n,r,s,o){if(t.bounds&&!t.bounds.contains(s,o)||!t.items)return null;const i=n*e.pixelRatio,a=r*e.pixelRatio;return UW(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(s,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(s<c||s>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=s-c,f=o-f,g&&LX(l)&&!BEt(e,l,i,a))return e.restore(),null;const m=l.strokeForeground,v=t.interactive!==!1;return v&&m&&l.stroke&&LEt(e,l,i,a)?(e.restore(),l):(u=UW(l,y=>WEt(y,c,f)?this.pick(y,n,r,c,f):null),!u&&v&&(l.fill||!m&&l.stroke)&&PEt(e,l,i,a)&&(u=l),e.restore(),u||null)})}function WEt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var UEt={type:"group",tag:"g",nested:!1,attr:DEt,bound:MEt,draw:zEt,pick:VEt,isect:vTe,content:FEt,background:OEt,foreground:REt},jEt={"xmlns:xlink":"http://www.w3.org/1999/xlink"};function HX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function qX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function GX(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function QL(e,t){return e==="center"?t/2:e==="right"?t:0}function eB(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function HEt(e,t,n){const r=HX(t,n),s=qX(t,r),o=GX(t,r),i=(t.x||0)-QL(t.align,s),a=(t.y||0)-eB(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,jEt["xmlns:xlink"],"xlink:href"),e("transform",Jv(i,a)),e("width",s),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function qEt(e,t){const n=t.image,r=qX(t,n),s=GX(t,n),o=(t.x||0)-QL(t.align,r),i=(t.y||0)-eB(t.baseline,s);return e.set(o,i,o+r,i+s)}function GEt(e,t,n){sx(t,r=>{if(n&&!n.intersects(r.bounds))return;const s=HX(r,this);let o=qX(r,s),i=GX(r,s);if(o===0||i===0)return;let a=(r.x||0)-QL(r.align,o),l=(r.y||0)-eB(r.baseline,i),u,c,f,d;r.aspect!==!1&&(c=s.width/s.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(i-d)/2,i=d):(d=i*c,a+=(o-d)/2,o=d))),(s.complete||s.toDataURL)&&(nx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(s,a,l,o,i))})}var KEt={type:"image",tag:"image",nested:!1,attr:HEt,bound:qEt,draw:GEt,pick:JL(),isect:mEe,get:HX,xOffset:QL,yOffset:eB},YEt=jX("line",uEt,TEt);function XEt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",kEt(t)),e("d",t.path)}function p3(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,s=t.y||0,o=t.scaleX||1,i=t.scaleY||1,a=(t.angle||0)*Om,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=dTe(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,s),e.rotate(a),LW(e,l,0,0,o,i),e.rotate(-a),e.translate(-r,-s)):LW(e,l,r,s,o,i)}function ZEt(e,t){return p3(ZL(e,t.angle),t)?e.set(0,0,0,0):g0(e,t,!0)}var JEt={type:"path",tag:"path",nested:!1,attr:XEt,bound:ZEt,draw:zX(p3),pick:VX(p3),isect:gTe(p3)};function QEt(e,t){e("d",wC(null,t))}function e_t(e,t){var n,r;return g0(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Ble(e,t){e.beginPath(),wC(e,t)}var t_t={type:"rect",tag:"path",nested:!1,attr:QEt,bound:e_t,draw:zX(Ble),pick:VX(Ble),isect:vTe};function n_t(e,t){e("transform",xTe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function r_t(e,t){var n,r;return g0(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function $Te(e,t,n){var r,s,o,i;return t.stroke&&rx(e,t,n)?(r=t.x||0,s=t.y||0,o=t.x2!=null?t.x2:r,i=t.y2!=null?t.y2:s,e.beginPath(),e.moveTo(r,s),e.lineTo(o,i),!0):!1}function s_t(e,t,n){sx(t,r=>{if(!(n&&!n.intersects(r.bounds))){var s=r.opacity==null?1:r.opacity;s&&$Te(e,r,s)&&(nx(e,r),e.stroke())}})}function o_t(e,t,n,r){return e.isPointInStroke?$Te(e,t,1)&&e.isPointInStroke(n,r):!1}var i_t={type:"rule",tag:"line",nested:!1,attr:n_t,bound:r_t,draw:s_t,pick:JL(o_t),isect:yEt},a_t=UX("shape",cEt),l_t=UX("symbol",fEt,mTe);const zle=Jxt();var Qv={height:Ny,measureWidth:KX,estimateWidth:vR,width:vR,canvas:kTe};kTe(!0);function kTe(e){Qv.width=e&&tm?KX:vR}function vR(e,t){return ETe(yR(e,t),Ny(e))}function ETe(e,t){return~~(.8*e.length*t)}function KX(e,t){return Ny(e)<=0||!(t=yR(e,t))?0:_Te(t,XX(e))}function _Te(e,t){const n=`(${t}) ${e}`;let r=zle.get(n);return r===void 0&&(tm.font=t,r=tm.measureText(e).width,zle.set(n,r)),r}function Ny(e){return e.fontSize!=null?+e.fontSize||0:11}function vE(e){return e.lineHeight!=null?e.lineHeight:Ny(e)+2}function u_t(e){return ky(e)?e.length>1?e:e[0]:e}function YX(e){return u_t(e.lineBreak&&e.text&&!ky(e.text)?e.text.split(e.lineBreak):e.text)}function TTe(e){const t=YX(e);return(ky(t)?t.length-1:0)*vE(e)}function yR(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?f_t(e,n):n}function c_t(e){if(Qv.width===KX){const t=XX(e);return n=>_Te(n,t)}else if(Qv.width===vR){const t=Ny(e);return n=>ETe(n,t)}else return t=>Qv.width(e,t)}function f_t(e,t){var n=+e.limit,r=c_t(e);if(r(t)<n)return t;var s=e.ellipsis||"",o=e.dir==="rtl",i=0,a=t.length,l;if(n-=r(s),o){for(;i<a;)l=i+a>>>1,r(t.slice(l))>n?i=l+1:a=l;return s+t.slice(i)}else{for(;i<a;)l=1+(i+a>>>1),r(t.slice(0,l))<n?i=l:a=l-1;return t.slice(0,i)+s}}function d_t(e,t){var n=e.font;return n||"sans-serif"}function XX(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ny(e)+"px "+d_t(e)}function ZX(e){var t=e.baseline,n=Ny(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*vE(e):t==="line-bottom"?.29*n-.5*vE(e):0)}const h_t={left:"start",center:"middle",right:"end"},H$=new vd;function tB(e){var t=e.x||0,n=e.y||0,r=e.radius||0,s;return r&&(s=(e.theta||0)-gv,t+=r*Math.cos(s),n+=r*Math.sin(s)),H$.x1=t,H$.y1=n,H$}function p_t(e,t){var n=t.dx||0,r=(t.dy||0)+ZX(t),s=tB(t),o=s.x1,i=s.y1,a=t.angle||0,l;e("text-anchor",h_t[t.align]||"start"),a?(l=Jv(o,i)+" "+WX(a),(n||r)&&(l+=" "+Jv(n,r))):l=Jv(o+n,i+r),e("transform",l)}function JX(e,t,n){var r=Qv.height(t),s=t.align,o=tB(t),i=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+ZX(t)-Math.round(.8*r),c=YX(t),f;if(ky(c)?(r+=vE(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Qv.width(t,h)),0)):f=Qv.width(t,c),s==="center"?l-=f/2:s==="right"&&(l-=f),e.set(l+=i,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Om,i,a);else if(n===2)return e.rotatedPoints(t.angle*Om,i,a);return e}function g_t(e,t,n){sx(t,r=>{var s=r.opacity==null?1:r.opacity,o,i,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||s===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=XX(r),e.textAlign=r.align||"left",o=tB(r),i=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(i,a),e.rotate(r.angle*Om),i=a=0),i+=r.dx||0,a+=(r.dy||0)+ZX(r),c=YX(r),nx(e,r),ky(c))for(u=vE(r),l=0;l<c.length;++l)f=yR(r,c[l]),r.fill&&mR(e,r,s)&&e.fillText(f,i,a),r.stroke&&rx(e,r,s)&&e.strokeText(f,i,a),a+=u;else f=yR(r,c),r.fill&&mR(e,r,s)&&e.fillText(f,i,a),r.stroke&&rx(e,r,s)&&e.strokeText(f,i,a);r.angle&&e.restore()}})}function m_t(e,t,n,r,s,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var i=tB(t),a=i.x1,l=i.y1,u=JX(H$,t,1),c=-t.angle*Om,f=Math.cos(c),d=Math.sin(c),h=f*s-d*o+(a-f*a+d*l),p=d*s+f*o+(l-d*a-f*l);return u.contains(h,p)}function v_t(e,t){const n=JX(H$,e,2);return h$(t,n[0],n[1],n[2],n[3])||h$(t,n[0],n[1],n[4],n[5])||h$(t,n[4],n[5],n[6],n[7])||h$(t,n[2],n[3],n[6],n[7])}var y_t={type:"text",tag:"text",nested:!1,attr:p_t,bound:JX,draw:g_t,pick:JL(m_t),isect:v_t},b_t=jX("trail",dEt,AEt),w_t={arc:EEt,area:IEt,group:UEt,image:KEt,line:YEt,path:JEt,rect:t_t,rule:i_t,shape:a_t,symbol:l_t,text:y_t,trail:b_t};yEe(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]);const Hz=new vd;function x_t(e){const t=e.clip;if(vEe(t))t(ZL(Hz.clear()));else if(t)Hz.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Hz)}const ox="top",yc="left",wc="right",Rm="bottom",C_t="top-left",S_t="top-right",$_t="bottom-left",k_t="bottom-right",QX="start",jW="middle",ba="end",E_t="x",__t="y",nB="group",eZ="axis",tZ="title",T_t="frame",A_t="scope",nZ="legend",ATe="row-header",ITe="row-footer",NTe="row-title",DTe="column-header",OTe="column-footer",RTe="column-title",I_t="padding",N_t="symbol",FTe="fit",MTe="fit-x",PTe="fit-y",D_t="pad",rZ="none",vN="all",HW="each",sZ="flush",Og="column",Rg="row";function LTe(e){Ke.call(this,null,e)}Ey(LTe,Ke,{transform(e,t){const n=t.dataflow,r=e.mark,s=r.marktype,o=w_t[s],i=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=yN(r,i),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(s===nB||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(yN(u,i))),r.role){case eZ:case nZ:case tZ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(yN(u,i))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(yN(u,i))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return x_t(r),t.modifies("bounds")}});function yN(e,t,n){return t(e.bounds.clear(),e,n)}const Vle=":vega_identifier:";function oZ(e){Ke.call(this,0,e)}oZ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ey(oZ,Ke,{transform(e,t){const n=O_t(t.dataflow),r=e.as;let s=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++s),n.set(this.value=s),t}});function O_t(e){return e._signals[Vle]||(e._signals[Vle]=e.add(0))}function BTe(e){Ke.call(this,null,e)}Ey(BTe,Ke,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,R_t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===nB?pTe:BX;return t.visit(t.ADD,s=>r.call(s,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function R_t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function zTe(e){Ke.call(this,null,e)}const Wle={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,s)=>!s||!VTe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},VTe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Ule=(e,t)=>{for(var n=1,r=e.length,s=e[0].bounds,o;n<r;s=o,++n)if(VTe(s,o=e[n].bounds,t))return!0},F_t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},M_t=(e,t,n)=>{var r=e.range(),s=new vd;return t===ox||t===Rm?s.set(r[0],-1/0,r[1],1/0):s.set(-1/0,r[0],1/0,r[1]),s.expand(n||1),o=>s.encloses(o.bounds)},jle=e=>(e.forEach(t=>t.opacity=1),e),Hle=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ey(zTe,Ke,{transform(e,t){const n=Wle[e.method]||Wle.parity,r=e.separation||0;let s=t.materialize(t.SOURCE).source,o,i;if(!s||!s.length)return;if(!e.method)return e.modified("method")&&(jle(s),t=Hle(t,e)),t;if(s=s.filter(F_t),!s.length)return;if(e.sort&&(s=s.slice().sort(e.sort)),o=jle(s),t=Hle(t,e),o.length>=3&&Ule(o,r)){do o=n(o,r);while(o.length>=3&&Ule(o,r));o.length<3&&!u3(s).opacity&&(o.length>1&&(u3(o).opacity=0),u3(s).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(i=M_t(e.boundScale,e.boundOrient,+e.boundTolerance),s.forEach(l=>{i(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return s.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function WTe(e){Ke.call(this,null,e)}Ey(WTe,Ke,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ai=new vd;function Hb(e,t,n){return e[t]===n?0:(e[t]=n,1)}function P_t(e){var t=e.items[0].orient;return t===yc||t===wc}function L_t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function B_t(e,t,n,r){var s=t.items[0],o=s.datum,i=s.translate!=null?s.translate:.5,a=s.orient,l=L_t(o),u=s.range,c=s.offset,f=s.position,d=s.minExtent,h=s.maxExtent,p=o.title&&s.items[l[2]].items[0],g=s.titlePadding,m=s.bounds,v=p&&TTe(p),y=0,b=0,w,C;switch(Ai.clear().union(m),m.clear(),(w=l[0])>-1&&m.union(s.items[w].bounds),(w=l[1])>-1&&m.union(s.items[w].bounds),a){case ox:y=f||0,b=-c,C=Math.max(d,Math.min(h,-m.y1)),m.add(0,-C).add(u,0),p&&bN(e,p,C,g,v,0,-1,m);break;case yc:y=-c,b=f||0,C=Math.max(d,Math.min(h,-m.x1)),m.add(-C,0).add(0,u),p&&bN(e,p,C,g,v,1,-1,m);break;case wc:y=n+c,b=f||0,C=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(C,u),p&&bN(e,p,C,g,v,1,1,m);break;case Rm:y=f||0,b=r+c,C=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,C),p&&bN(e,p,C,g,0,0,1,m);break;default:y=s.x,b=s.y}return g0(m.translate(y,b),s),Hb(s,"x",y+i)|Hb(s,"y",b+i)&&(s.bounds=Ai,e.dirty(s),s.bounds=m,e.dirty(s)),s.mark.bounds.clear().union(m)}function bN(e,t,n,r,s,o,i,a){const l=t.bounds;if(t.auto){const u=i*(n+s+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const qle=(e,t)=>Math.floor(Math.min(e,t)),Gle=(e,t)=>Math.ceil(Math.max(e,t));function z_t(e){var t=e.items,n=t.length,r=0,s,o;const i={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(s=t[r],o=s.items,s.marktype===nB)switch(s.role){case eZ:case nZ:case tZ:break;case ATe:i.rowheaders.push(...o);break;case ITe:i.rowfooters.push(...o);break;case DTe:i.colheaders.push(...o);break;case OTe:i.colfooters.push(...o);break;case NTe:i.rowtitle=o[0];break;case RTe:i.coltitle=o[0];break;default:i.marks.push(...o)}return i}function V_t(e){return new vd().set(0,0,e.width||0,e.height||0)}function W_t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function xs(e,t,n){const r=Gxt(e)?e[t]:e;return r??(n!==void 0?n:0)}function Kle(e){return e<0?Math.ceil(-e):0}function UTe(e,t,n){var r=!n.nodirty,s=n.bounds===sZ?V_t:W_t,o=Ai.set(0,0,0,0),i=xs(n.align,Og),a=xs(n.align,Rg),l=xs(n.padding,Og),u=xs(n.padding,Rg),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),v=Array(f),y=0,b=Array(d),w=Array(d),C=Array(d),S,$,k,T,_,E,A,I,F,R,L;for($=0;$<c;++$)p[$]=0;for($=0;$<f;++$)v[$]=0;for($=0;$<d;++$)E=t[$],_=C[$]=s(E),E.x=E.x||0,b[$]=0,E.y=E.y||0,w[$]=0,k=$%c,T=~~($/c),g=Math.max(g,A=Math.ceil(_.x2)),y=Math.max(y,I=Math.ceil(_.y2)),p[k]=Math.max(p[k],A),v[T]=Math.max(v[T],I),h[$]=l+Kle(_.x1),m[$]=u+Kle(_.y1),r&&e.dirty(t[$]);for($=0;$<d;++$)$%c===0&&(h[$]=0),$<c&&(m[$]=0);if(i===HW)for(k=1;k<c;++k){for(L=0,$=k;$<d;$+=c)L<h[$]&&(L=h[$]);for($=k;$<d;$+=c)h[$]=L+p[k-1]}else if(i===vN){for(L=0,$=0;$<d;++$)$%c&&L<h[$]&&(L=h[$]);for($=0;$<d;++$)$%c&&(h[$]=L+g)}else for(i=!1,k=1;k<c;++k)for($=k;$<d;$+=c)h[$]+=p[k-1];if(a===HW)for(T=1;T<f;++T){for(L=0,$=T*c,S=$+c;$<S;++$)L<m[$]&&(L=m[$]);for($=T*c;$<S;++$)m[$]=L+v[T-1]}else if(a===vN){for(L=0,$=c;$<d;++$)L<m[$]&&(L=m[$]);for($=c;$<d;++$)m[$]=L+y}else for(a=!1,T=1;T<f;++T)for($=T*c,S=$+c;$<S;++$)m[$]+=v[T-1];for(F=0,$=0;$<d;++$)F=h[$]+($%c?F:0),b[$]+=F-t[$].x;for(k=0;k<c;++k)for(R=0,$=k;$<d;$+=c)R+=m[$],w[$]+=R-t[$].y;if(i&&xs(n.center,Og)&&f>1)for($=0;$<d;++$)_=i===vN?g:p[$%c],F=_-C[$].x2-t[$].x-b[$],F>0&&(b[$]+=F/2);if(a&&xs(n.center,Rg)&&c!==1)for($=0;$<d;++$)_=a===vN?y:v[~~($/c)],R=_-C[$].y2-t[$].y-w[$],R>0&&(w[$]+=R/2);for($=0;$<d;++$)o.union(C[$].translate(b[$],w[$]));switch(F=xs(n.anchor,E_t),R=xs(n.anchor,__t),xs(n.anchor,Og)){case ba:F-=o.width();break;case jW:F-=o.width()/2}switch(xs(n.anchor,Rg)){case ba:R-=o.height();break;case jW:R-=o.height()/2}for(F=Math.round(F),R=Math.round(R),o.clear(),$=0;$<d;++$)t[$].mark.bounds.clear();for($=0;$<d;++$)E=t[$],E.x+=b[$]+=F,E.y+=w[$]+=R,o.union(E.mark.bounds.union(E.bounds.translate(b[$],w[$]))),r&&e.dirty(E);return o}function U_t(e,t,n){var r=z_t(t),s=r.marks,o=n.bounds===sZ?j_t:H_t,i=n.offset,a=n.columns||s.length,l=a<=0?1:Math.ceil(s.length/a),u=l*a,c,f,d,h,p,g,m;const v=UTe(e,s,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(g=xs(n.headerBand,Rg,null),c=wN(e,r.rowheaders,s,a,l,-xs(i,"rowHeader"),qle,0,o,"x1",0,a,1,g)),r.colheaders&&(g=xs(n.headerBand,Og,null),f=wN(e,r.colheaders,s,a,a,-xs(i,"columnHeader"),qle,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=xs(n.footerBand,Rg,null),d=wN(e,r.rowfooters,s,a,l,xs(i,"rowFooter"),Gle,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=xs(n.footerBand,Og,null),h=wN(e,r.colfooters,s,a,a,xs(i,"columnFooter"),Gle,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=xs(n.titleAnchor,Rg),m=xs(i,"rowTitle"),m=p===ba?d+m:c-m,g=xs(n.titleBand,Rg,.5),Yle(e,r.rowtitle,m,0,v,g)),r.coltitle&&(p=xs(n.titleAnchor,Og),m=xs(i,"columnTitle"),m=p===ba?h+m:f-m,g=xs(n.titleBand,Og,.5),Yle(e,r.coltitle,m,1,v,g))}function j_t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function H_t(e,t){return e.bounds[t]}function wN(e,t,n,r,s,o,i,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,v,y,b,w,C,S,$,k,T;if(!p)return g;for(v=c;v<p;v+=f)n[v]&&(g=i(g,l(n[v],u)));if(!t.length)return g;for(t.length>s&&(e.warn("Grid headers exceed limit: "+s),t=t.slice(0,s)),g+=o,y=0,w=t.length;y<w;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(v=c,y=0,w=t.length;y<w;++y,v+=f){for(S=t[y],C=S.mark.bounds,b=v;b>=0&&($=n[b])==null;b-=d);a?(k=h==null?$.x:Math.round($.bounds.x1+h*$.bounds.width()),T=g):(k=g,T=h==null?$.y:Math.round($.bounds.y1+h*$.bounds.height())),C.union(S.bounds.translate(k-(S.x||0),T-(S.y||0))),S.x=k,S.y=T,e.dirty(S),m=i(m,C[u])}return m}function Yle(e,t,n,r,s,o){if(t){e.dirty(t);var i=n,a=n;r?i=Math.round(s.x1+o*s.width()):a=Math.round(s.y1+o*s.height()),t.bounds.translate(i-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=i,t.y=a,e.dirty(t)}}function q_t(e,t){const n=e[t]||{};return(r,s)=>n[r]!=null?n[r]:e[r]!=null?e[r]:s}function G_t(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function K_t(e,t,n,r,s,o,i){const a=q_t(n,t),l=G_t(e,a("offset",0)),u=a("anchor",QX),c=u===ba?1:u===jW?.5:0,f={align:HW,bounds:a("bounds",sZ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case yc:f.anchor={x:Math.floor(r.x1)-l,column:ba,y:c*(i||r.height()+2*r.y1),row:u};break;case wc:f.anchor={x:Math.ceil(r.x2)+l,y:c*(i||r.height()+2*r.y1),row:u};break;case ox:f.anchor={y:Math.floor(s.y1)-l,row:ba,x:c*(o||s.width()+2*s.x1),column:u};break;case Rm:f.anchor={y:Math.ceil(s.y2)+l,x:c*(o||s.width()+2*s.x1),column:u};break;case C_t:f.anchor={x:l,y:l};break;case S_t:f.anchor={x:o-l,y:l,column:ba};break;case $_t:f.anchor={x:l,y:i-l,row:ba};break;case k_t:f.anchor={x:o-l,y:i-l,column:ba,row:ba};break}return f}function Y_t(e,t){var n=t.items[0],r=n.datum,s=n.orient,o=n.bounds,i=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),Z_t(e,n,n.items[0].items[0]),o=X_t(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===N_t&&J_t(n.items[0].items[0].items[0].items),s!==rZ&&(n.x=i=0,n.y=a=0),n.width=l,n.height=u,g0(o.set(i,a,i+l,a+u),n),n.mark.bounds.clear().union(o),n}function X_t(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function Z_t(e,t,n){var r=t.padding,s=r-n.x,o=r-n.y;if(!t.datum.title)(s||o)&&SS(e,n,s,o);else{var i=t.items[1].items[0],a=i.anchor,l=t.titlePadding||0,u=r-i.x,c=r-i.y;switch(i.orient){case yc:s+=Math.ceil(i.bounds.width())+l;break;case wc:case Rm:break;default:o+=i.bounds.height()+l}switch((s||o)&&SS(e,n,s,o),i.orient){case yc:c+=mb(t,n,i,a,1,1);break;case wc:u+=mb(t,n,i,ba,0,0)+l,c+=mb(t,n,i,a,1,1);break;case Rm:u+=mb(t,n,i,a,0,0),c+=mb(t,n,i,ba,-1,0,1)+l;break;default:u+=mb(t,n,i,a,0,0)}(u||c)&&SS(e,i,u,c),(u=Math.round(i.bounds.x1-r))<0&&(SS(e,n,-u,0),SS(e,i,-u,0))}}function mb(e,t,n,r,s,o,i){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!i?t.items[0]:t,c=u.bounds[s?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=s<=0?0:TTe(n);return Math.round(r===QX?f:r===ba?d-h:.5*(c-h))}function SS(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function J_t(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function Q_t(e,t,n,r,s){var o=t.items[0],i=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===yc||a===wc?r:n,p=0,g=0,m=0,v=0,y=0,b;if(i!==nB?a===yc?(p=s.y2,h=s.y1):a===wc?(p=s.y1,h=s.y2):(p=s.x1,h=s.x2):a===yc&&(p=r,h=0),b=l===QX?p:l===ba?h:(p+h)/2,d&&d.text){switch(a){case ox:case Rm:y=f.bounds.height()+c;break;case yc:v=f.bounds.width()+c;break;case wc:v=-f.bounds.width()-c;break}Ai.clear().union(d.bounds),Ai.translate(v-(d.x||0),y-(d.y||0)),Hb(d,"x",v)|Hb(d,"y",y)&&(e.dirty(d),d.bounds.clear().union(Ai),d.mark.bounds.clear().union(Ai),e.dirty(d)),Ai.clear().union(d.bounds)}else Ai.clear();switch(Ai.union(f.bounds),a){case ox:g=b,m=s.y1-Ai.height()-u;break;case yc:g=s.x1-Ai.width()-u,m=b;break;case wc:g=s.x2+Ai.width()+u,m=b;break;case Rm:g=b,m=s.y2+u;break;default:g=o.x,m=o.y}return Hb(o,"x",g)|Hb(o,"y",m)&&(Ai.translate(g,m),e.dirty(o),o.bounds.clear().union(Ai),t.bounds.clear().union(Ai),e.dirty(o)),o.bounds}function jTe(e){Ke.call(this,null,e)}Ey(jTe,Ke,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&U_t(n,r,e.layout),tTt(n,r,e)}),eTt(e.mark.group)?t.reflow():t}});function eTt(e){return e&&e.mark.role!=="legend-entry"}function tTt(e,t,n){var r=t.items,s=Math.max(0,t.width||0),o=Math.max(0,t.height||0),i=new vd().set(0,0,s,o),a=i.clone(),l=i.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case eZ:h=P_t(f)?a:l,h.union(B_t(e,f,s,o));break;case tZ:c=f;break;case nZ:u.push(Y_t(e,f));break;case T_t:case A_t:case ATe:case ITe:case NTe:case DTe:case OTe:case RTe:a.union(f.bounds),l.union(f.bounds);break;default:i.union(f.bounds)}if(u.length){const m={};u.forEach(v=>{d=v.orient||wc,d!==rZ&&(m[d]||(m[d]=[])).push(v)});for(const v in m){const y=m[v];UTe(e,y,K_t(y,v,n.legends,a,l,s,o))}u.forEach(v=>{const y=v.bounds;if(y.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=y,e.dirty(v)),n.autosize&&(n.autosize.type===FTe||n.autosize.type===MTe||n.autosize.type===PTe))switch(v.orient){case yc:case wc:i.add(y.x1,0).add(y.x2,0);break;case ox:case Rm:i.add(0,y.y1).add(0,y.y2)}else i.union(y)})}i.union(a).union(l),c&&i.union(Q_t(e,c,s,o,i)),t.clip&&i.set(0,0,t.width||0,t.height||0),nTt(e,t,i,n)}function nTt(e,t,n,r){const s=r.autosize||{},o=s.type;if(e._autosize<1||!o)return;let i=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(s.contains===I_t){const p=e.padding();i-=p.left+p.right,a-=p.top+p.bottom}o===rZ?(u=0,f=0,l=i,c=a):o===FTe?(l=Math.max(0,i-u-d),c=Math.max(0,a-f-h)):o===MTe?(l=Math.max(0,i-u-d),a=c+f+h):o===PTe?(i=l+u+d,c=Math.max(0,a-f-h)):o===D_t&&(i=l+u+d,a=c+f+h),e._resizeView(i,a,l,c,[u,f],s.resize)}const rTt=Object.freeze(Object.defineProperty({__proto__:null,bound:LTe,identifier:oZ,mark:BTe,overlap:zTe,render:WTe,viewlayout:jTe},Symbol.toStringTag,{value:"Module"}));function Md(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function m0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qW=Symbol("implicit");function iZ(){var e=new Map,t=[],n=[],r=qW;function s(o){var i=o+"",a=e.get(i);if(!a){if(r!==qW)return r;e.set(i,a=t.push(o))}return n[(a-1)%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of o){const a=i+"";e.has(a)||e.set(a,t.push(i))}return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return iZ(t,n).unknown(r)},Md.apply(s,arguments),s}function sTt(e){return function(){return e}}function GW(e){return+e}var Xle=[0,1];function ll(e){return e}function KW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sTt(isNaN(t)?NaN:.5)}function oTt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function iTt(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=KW(s,r),o=n(i,o)):(r=KW(r,s),o=n(o,i)),function(a){return o(r(a))}}function aTt(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=KW(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=Em(e,a,1,r)-1;return o[l](s[l](a))}}function wA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rB(){var e=Xle,t=Xle,n=p0,r,s,o,i=ll,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==ll&&(i=oTt(e[0],e[d-1])),a=d>2?aTt:iTt,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),pc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,GW),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=pA,c()},f.clamp=function(d){return arguments.length?(i=d?!0:ll,c()):i!==ll},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function HTe(){return rB()(ll,ll)}function bR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ix(e){return e=bR(Math.abs(e)),e?e[1]:NaN}function lTt(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function uTt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cTt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function D1(e){return new aZ(e)}D1.prototype=aZ.prototype;function aZ(e){if(!(t=cTt.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}aZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fTt(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(r>0){if(!+e[n])break e;r=0}break}return r>0?e.slice(0,r)+e.slice(s+1):e}var qTe;function dTt(e,t){var n=bR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(qTe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bR(e,Math.max(0,t+o-1))[0]}function Zle(e,t){var n=bR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Jle={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Zle(e*100,t)},r:Zle,s:dTt,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Qle(e){return e}var eue=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GTe(e){var t=e.grouping&&e.thousands?lTt(e.grouping,e.thousands):Qle,n=e.currency,r=e.decimal,s=e.numerals?uTt(e.numerals):Qle,o=e.percent||"%";function i(l){l=D1(l);var u=l.fill,c=l.align,f=l.sign,d=l.symbol,h=l.zero,p=l.width,g=l.comma,m=l.precision,v=l.trim,y=l.type;y==="n"?(g=!0,y="g"):Jle[y]||(m==null&&(m=12),v=!0,y="g"),(h||u==="0"&&c==="=")&&(h=!0,u="0",c="=");var b=d==="$"?n[0]:d==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w=d==="$"?n[1]:/[%p]/.test(y)?o:"",C=Jle[y],S=/[defgprs%]/.test(y);m=m==null?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function $(k){var T=b,_=w,E,A,I;if(y==="c")_=C(k)+_,k="";else{k=+k;var F=k<0;if(k=C(Math.abs(k),m),v&&(k=fTt(k)),F&&+k==0&&(F=!1),T=(F?f==="("?f:"-":f==="-"||f==="("?"":f)+T,_=(y==="s"?eue[8+qTe/3]:"")+_+(F&&f==="("?")":""),S){for(E=-1,A=k.length;++E<A;)if(I=k.charCodeAt(E),48>I||I>57){_=(I===46?r+k.slice(E+1):k.slice(E))+_,k=k.slice(0,E);break}}}g&&!h&&(k=t(k,1/0));var R=T.length+k.length+_.length,L=R<p?new Array(p-R+1).join(u):"";switch(g&&h&&(k=t(L+k,L.length?p-_.length:1/0),L=""),c){case"<":k=T+k+_+L;break;case"=":k=T+L+k+_;break;case"^":k=L.slice(0,R=L.length>>1)+T+k+_+L.slice(R);break;default:k=L+T+k+_;break}return s(k)}return $.toString=function(){return l+""},$}function a(l,u){var c=i((l=D1(l),l.type="f",l)),f=Math.max(-8,Math.min(8,Math.floor(ix(u)/3)))*3,d=Math.pow(10,-f),h=eue[8+f/3];return function(p){return c(d*p)+h}}return{format:i,formatPrefix:a}}var xN,xC,sB;KTe({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function KTe(e){return xN=GTe(e),xC=xN.format,sB=xN.formatPrefix,xN}function lZ(e){return Math.max(0,-ix(Math.abs(e)))}function uZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ix(t)/3)))*3-ix(Math.abs(e)))}function cZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ix(t)-ix(e))+1}const hTt=Object.freeze(Object.defineProperty({__proto__:null,get format(){return xC},formatDefaultLocale:KTe,formatLocale:GTe,get formatPrefix(){return sB},formatSpecifier:D1,precisionFixed:lZ,precisionPrefix:uZ,precisionRound:cZ},Symbol.toStringTag,{value:"Module"}));function YTe(e,t,n,r){var s=_m(e,t,n),o;switch(r=D1(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=uZ(s,i))&&(r.precision=o),sB(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lZ(s))&&(r.precision=o-(r.type==="%")*2);break}}return xC(r)}function Dy(e){var t=e.domain;return e.ticks=function(n){var r=t();return gW(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return YTe(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=ske(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function XTe(){var e=HTe();return e.copy=function(){return wA(e,XTe())},Md.apply(e,arguments),Dy(e)}function ZTe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,GW),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return ZTe(e).unknown(t)},e=arguments.length?Array.from(e,GW):[0,1],Dy(n)}function JTe(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function tue(e){return Math.log(e)}function nue(e){return Math.exp(e)}function pTt(e){return-Math.log(-e)}function gTt(e){return-Math.exp(-e)}function mTt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vTt(e){return e===10?mTt:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function yTt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function rue(e){return function(t){return-e(-t)}}function fZ(e){var t=e(tue,nue),n=t.domain,r=10,s,o;function i(){return s=yTt(r),o=vTt(r),n()[0]<0?(s=rue(s),o=rue(o),e(pTt,gTt)):e(tue,nue),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=function(a){var l=n(),u=l[0],c=l[l.length-1],f;(f=c<u)&&(d=u,u=c,c=d);var d=s(u),h=s(c),p,g,m,v=a==null?10:+a,y=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(g=1,p=o(d);g<r;++g)if(m=p*g,!(m<u)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(g=r-1,p=o(d);g>=1;--g)if(m=p*g,!(m<u)){if(m>c)break;y.push(m)}y.length*2<v&&(y=gW(u,c,v))}else y=gW(d,h,Math.min(h-d,v)).map(o);return f?y.reverse():y},t.tickFormat=function(a,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=xC(l)),a===1/0)return l;a==null&&(a=10);var u=Math.max(1,r*a/t.ticks().length);return function(c){var f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=function(){return n(JTe(n(),{floor:function(a){return o(Math.floor(s(a)))},ceil:function(a){return o(Math.ceil(s(a)))}}))},t}function QTe(){var e=fZ(rB()).domain([1,10]);return e.copy=function(){return wA(e,QTe()).base(e.base())},Md.apply(e,arguments),e}function sue(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oue(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dZ(e){var t=1,n=e(sue(t),oue(t));return n.constant=function(r){return arguments.length?e(sue(t=+r),oue(t)):t},Dy(n)}function eAe(){var e=dZ(rB());return e.copy=function(){return wA(e,eAe()).constant(e.constant())},Md.apply(e,arguments)}function iue(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bTt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wTt(e){return e<0?-e*e:e*e}function hZ(e){var t=e(ll,ll),n=1;function r(){return n===1?e(ll,ll):n===.5?e(bTt,wTt):e(iue(n),iue(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Dy(t)}function pZ(){var e=hZ(rB());return e.copy=function(){return wA(e,pZ()).exponent(e.exponent())},Md.apply(e,arguments),e}function xTt(){return pZ.apply(null,arguments).exponent(.5)}function tAe(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=ike(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[Em(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fC),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return tAe().domain(e).range(t).unknown(r)},Md.apply(o,arguments)}function nAe(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[Em(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return nAe().domain([e,t]).range(s).unknown(o)},Md.apply(Dy(i),arguments)}function rAe(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[Em(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return rAe().domain(e).range(t).unknown(n)},Md.apply(s,arguments)}function qz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $S(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function sAe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=kS(s),c=ES(s),f=kS(o),d=ES(o),h=kS(i),p=ES(i),g=kS(a),m=ES(a),v=kS(l),y=ES(l),b={a:D,A:N,b:M,B:z,c:null,d:due,e:due,f:jTt,g:eAt,G:nAt,H:VTt,I:WTt,j:UTt,L:oAe,m:HTt,M:qTt,p:W,q:j,Q:gue,s:mue,S:GTt,u:KTt,U:YTt,V:XTt,w:ZTt,W:JTt,x:null,X:null,y:QTt,Y:tAt,Z:rAt,"%":pue},w={a:U,A:Y,b:G,B:ne,c:null,d:hue,e:hue,f:aAt,g:vAt,G:bAt,H:sAt,I:oAt,j:iAt,L:aAe,m:lAt,M:uAt,p:ue,q:ae,Q:gue,s:mue,S:cAt,u:fAt,U:dAt,V:hAt,w:pAt,W:gAt,x:null,X:null,y:mAt,Y:yAt,Z:wAt,"%":pue},C={a:_,A:E,b:A,B:I,c:F,d:cue,e:cue,f:PTt,g:uue,G:lue,H:fue,I:fue,j:OTt,L:MTt,m:DTt,M:RTt,p:T,q:NTt,Q:BTt,s:zTt,S:FTt,u:ETt,U:_Tt,V:TTt,w:kTt,W:ATt,x:R,X:L,y:uue,Y:lue,Z:ITt,"%":LTt};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(X,J){return function(q){var P=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(P.push(X.slice(se,Q)),(ge=aue[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),P.push(he),se=Q+1);return P.push(X.slice(se,Q)),P.join("")}}function $(X,J){return function(q){var P=$S(1900,void 0,1),Q=k(P,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(J&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(se=Gz($S(P.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?oR.ceil(se):oR(se),se=qh.offset(se,(P.V-1)*7),P.y=se.getUTCFullYear(),P.m=se.getUTCMonth(),P.d=se.getUTCDate()+(P.w+6)%7):(se=qz($S(P.y,0,1)),de=se.getDay(),se=de>4||de===0?sR.ceil(se):sR(se),se=Hh.offset(se,(P.V-1)*7),P.y=se.getFullYear(),P.m=se.getMonth(),P.d=se.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),de="Z"in P?Gz($S(P.y,0,1)).getUTCDay():qz($S(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(de+5)%7:P.w+P.U*7-(de+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Gz(P)):qz(P)}}function k(X,J,q,P){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(P>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in aue?J.charAt(Q++):he],!ge||(P=ge(X,q,P))<0)return-1}else if(he!=q.charCodeAt(P++))return-1}return P}function T(X,J,q){var P=u.exec(J.slice(q));return P?(X.p=c.get(P[0].toLowerCase()),q+P[0].length):-1}function _(X,J,q){var P=h.exec(J.slice(q));return P?(X.w=p.get(P[0].toLowerCase()),q+P[0].length):-1}function E(X,J,q){var P=f.exec(J.slice(q));return P?(X.w=d.get(P[0].toLowerCase()),q+P[0].length):-1}function A(X,J,q){var P=v.exec(J.slice(q));return P?(X.m=y.get(P[0].toLowerCase()),q+P[0].length):-1}function I(X,J,q){var P=g.exec(J.slice(q));return P?(X.m=m.get(P[0].toLowerCase()),q+P[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function L(X,J,q){return k(X,r,J,q)}function D(X){return i[X.getDay()]}function N(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function j(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function Y(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function ne(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var aue={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,CTt=/^%/,STt=/[\\^$*+?|[\]().{}]/g;function kr(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function $Tt(e){return e.replace(STt,"\\$&")}function kS(e){return new RegExp("^(?:"+e.map($Tt).join("|")+")","i")}function ES(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kTt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ETt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _Tt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ATt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lue(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ITt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NTt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function DTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function OTt(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function RTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function FTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function MTt(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function PTt(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LTt(e,t,n){var r=CTt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function BTt(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zTt(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function due(e,t){return kr(e.getDate(),t,2)}function VTt(e,t){return kr(e.getHours(),t,2)}function WTt(e,t){return kr(e.getHours()%12||12,t,2)}function UTt(e,t){return kr(1+Hh.count(pd(e),e),t,3)}function oAe(e,t){return kr(e.getMilliseconds(),t,3)}function jTt(e,t){return oAe(e,t)+"000"}function HTt(e,t){return kr(e.getMonth()+1,t,2)}function qTt(e,t){return kr(e.getMinutes(),t,2)}function GTt(e,t){return kr(e.getSeconds(),t,2)}function KTt(e){var t=e.getDay();return t===0?7:t}function YTt(e,t){return kr(hC.count(pd(e)-1,e),t,2)}function iAe(e){var t=e.getDay();return t>=4||t===0?Gw(e):Gw.ceil(e)}function XTt(e,t){return e=iAe(e),kr(Gw.count(pd(e),e)+(pd(e).getDay()===4),t,2)}function ZTt(e){return e.getDay()}function JTt(e,t){return kr(sR.count(pd(e)-1,e),t,2)}function QTt(e,t){return kr(e.getFullYear()%100,t,2)}function eAt(e,t){return e=iAe(e),kr(e.getFullYear()%100,t,2)}function tAt(e,t){return kr(e.getFullYear()%1e4,t,4)}function nAt(e,t){var n=e.getDay();return e=n>=4||n===0?Gw(e):Gw.ceil(e),kr(e.getFullYear()%1e4,t,4)}function rAt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kr(t/60|0,"0",2)+kr(t%60,"0",2)}function hue(e,t){return kr(e.getUTCDate(),t,2)}function sAt(e,t){return kr(e.getUTCHours(),t,2)}function oAt(e,t){return kr(e.getUTCHours()%12||12,t,2)}function iAt(e,t){return kr(1+qh.count(gd(e),e),t,3)}function aAe(e,t){return kr(e.getUTCMilliseconds(),t,3)}function aAt(e,t){return aAe(e,t)+"000"}function lAt(e,t){return kr(e.getUTCMonth()+1,t,2)}function uAt(e,t){return kr(e.getUTCMinutes(),t,2)}function cAt(e,t){return kr(e.getUTCSeconds(),t,2)}function fAt(e){var t=e.getUTCDay();return t===0?7:t}function dAt(e,t){return kr(pC.count(gd(e)-1,e),t,2)}function lAe(e){var t=e.getUTCDay();return t>=4||t===0?Kw(e):Kw.ceil(e)}function hAt(e,t){return e=lAe(e),kr(Kw.count(gd(e),e)+(gd(e).getUTCDay()===4),t,2)}function pAt(e){return e.getUTCDay()}function gAt(e,t){return kr(oR.count(gd(e)-1,e),t,2)}function mAt(e,t){return kr(e.getUTCFullYear()%100,t,2)}function vAt(e,t){return e=lAe(e),kr(e.getUTCFullYear()%100,t,2)}function yAt(e,t){return kr(e.getUTCFullYear()%1e4,t,4)}function bAt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kw(e):Kw.ceil(e),kr(e.getUTCFullYear()%1e4,t,4)}function wAt(){return"+0000"}function pue(){return"%"}function gue(e){return+e}function mue(e){return Math.floor(+e/1e3)}var vb,oB,uAe,iB,cAe;xAt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xAt(e){return vb=sAe(e),oB=vb.format,uAe=vb.parse,iB=vb.utcFormat,cAe=vb.utcParse,vb}function CAt(e){return new Date(e)}function SAt(e){return e instanceof Date?+e:+new Date(+e)}function gZ(e,t,n,r,s,o,i,a,l,u){var c=HTe(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),w=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?b:w)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,SAt)):d().map(CAt)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d(JTe($,S)):c},c.copy=function(){return wA(c,gZ(e,t,n,r,s,o,i,a,l,u))},c}function $At(){return Md.apply(gZ(Vwt,Wwt,pd,uE,hC,Hh,kL,$L,Dh,oB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kAt(){return Md.apply(gZ(Bwt,zwt,gd,cE,pC,qh,_L,EL,Dh,iB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aB(){var e=0,t=1,n,r,s,o,i=ll,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(p0),u.rangeRound=c(pA),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function v0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mZ(){var e=Dy(aB()(ll));return e.copy=function(){return v0(e,mZ())},m0.apply(e,arguments)}function fAe(){var e=fZ(aB()).domain([1,10]);return e.copy=function(){return v0(e,fAe()).base(e.base())},m0.apply(e,arguments)}function dAe(){var e=dZ(aB());return e.copy=function(){return v0(e,dAe()).constant(e.constant())},m0.apply(e,arguments)}function vZ(){var e=hZ(aB());return e.copy=function(){return v0(e,vZ()).exponent(e.exponent())},m0.apply(e,arguments)}function EAt(){return vZ.apply(null,arguments).exponent(.5)}function lB(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=ll,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,b;return arguments.length?([v,y,b]=m,u=DX(g,[v,y,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(p0),h.rangeRound=p(pA),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function hAe(){var e=Dy(lB()(ll));return e.copy=function(){return v0(e,hAe())},m0.apply(e,arguments)}function pAe(){var e=fZ(lB()).domain([.1,1,10]);return e.copy=function(){return v0(e,pAe()).base(e.base())},m0.apply(e,arguments)}function gAe(){var e=dZ(lB());return e.copy=function(){return v0(e,gAe()).constant(e.constant())},m0.apply(e,arguments)}function yZ(){var e=hZ(lB());return e.copy=function(){return v0(e,yZ()).exponent(e.exponent())},m0.apply(e,arguments)}function _At(){return yZ.apply(null,arguments).exponent(.5)}function bZ(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const TAt="identity",ax="linear",dp="log",xA="pow",CA="sqrt",uB="symlog",O1="time",R1="utc",Xf="sequential",CC="diverging",lx="quantile",cB="quantize",fB="threshold",wZ="ordinal",YW="point",mAe="band",xZ="bin-ordinal",Do="continuous",SA="discrete",$A="discretizing",Qu="interpolating",CZ="temporal";function AAt(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function IAt(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function SZ(){const e=iZ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=bZ(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=ql(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return v=Math.max(0,Em(h,g)-1),y=g===m?v:Em(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(b=v,v=p-y,y=p-b),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return SZ().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function vAe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return vAe(t())},e}function NAt(){return vAe(SZ().paddingInner(1))}var DAt=Array.prototype.map;function OAt(e){return DAt.call(e,xm)}const RAt=Array.prototype.slice;function yAe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Em(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=OAt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=RAt.call(r),n):t.slice()},n.tickFormat=function(r,s){return YTe(e[0],Xr(e),r??10,s)},n.copy=function(){return yAe().domain(n.domain()).range(n.range())},n}const wR={};function FAt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?AAt(o):o.invertExtent?IAt(o):void 0),o.type=e,o};return r.metadata=ap(Mn(n)),r}function Tr(e,t,n){return arguments.length>1?(wR[e]=FAt(e,t,n),this):bAe(e)?wR[e]:void 0}Tr(TAt,ZTe);Tr(ax,XTe,Do);Tr(dp,QTe,[Do,dp]);Tr(xA,pZ,Do);Tr(CA,xTt,Do);Tr(uB,eAe,Do);Tr(O1,$At,[Do,CZ]);Tr(R1,kAt,[Do,CZ]);Tr(Xf,mZ,[Do,Qu]);Tr("".concat(Xf,"-").concat(ax),mZ,[Do,Qu]);Tr("".concat(Xf,"-").concat(dp),fAe,[Do,Qu,dp]);Tr("".concat(Xf,"-").concat(xA),vZ,[Do,Qu]);Tr("".concat(Xf,"-").concat(CA),EAt,[Do,Qu]);Tr("".concat(Xf,"-").concat(uB),dAe,[Do,Qu]);Tr("".concat(CC,"-").concat(ax),hAe,[Do,Qu]);Tr("".concat(CC,"-").concat(dp),pAe,[Do,Qu,dp]);Tr("".concat(CC,"-").concat(xA),yZ,[Do,Qu]);Tr("".concat(CC,"-").concat(CA),_At,[Do,Qu]);Tr("".concat(CC,"-").concat(uB),gAe,[Do,Qu]);Tr(lx,tAe,[$A,lx]);Tr(cB,nAe,$A);Tr(fB,rAe,$A);Tr(xZ,yAe,[SA,$A]);Tr(wZ,iZ,SA);Tr(mAe,SZ,SA);Tr(YW,NAt,SA);function bAe(e){return Pn(wR,e)}function Oy(e,t){const n=wR[e];return n&&n.metadata[t]}function $Z(e){return Oy(e,Do)}function ux(e){return Oy(e,SA)}function XW(e){return Oy(e,$A)}function wAe(e){return Oy(e,dp)}function MAt(e){return Oy(e,CZ)}function xAe(e){return Oy(e,Qu)}function CAe(e){return Oy(e,lx)}const PAt=["clamp","base","constant","exponent"];function SAe(e,t){const n=t[0],r=Xr(t)-n;return function(s){return e(n+s*r)}}function dB(e,t,n){return DX(kZ(t||"rgb",n),e)}function $Ae(e,t){const n=new Array(t),r=t+1;for(let s=0;s<t;)n[s]=e(++s/r);return n}function kAe(e,t,n){const r=n-t;let s,o,i;return!r||!Number.isFinite(r)?Lu(.5):(s=(o=e.type).indexOf("-"),o=s<0?o:o.slice(s+1),i=Tr(o)().domain([t,n]).range([0,1]),PAt.forEach(a=>e[a]?i[a](e[a]()):0),i)}function kZ(e,t){const n=H$t[LAt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function LAt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const BAt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},zAt={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function EAe(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function _Ae(e,t){for(const n in e)EZ(n,t(e[n]))}const vue={};_Ae(zAt,EAe);_Ae(BAt,e=>dB(EAe(e)));function EZ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(vue[e]=t,this):vue[e]}const g3="symbol",VAt="discrete",WAt="gradient",UAt=e=>jn(e)?e.map(t=>String(t)):String(e),jAt=(e,t)=>e[1]-t[1],HAt=(e,t)=>t[1]-e[1];function _Z(e,t,n){let r;return _1(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(uL(e.domain())/n||1)))),tr(t)&&(r=t.step,t=t.interval),ys(t)&&(t=e.type===O1?gC(t):e.type==R1?mC(t):gt("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function TAe(e,t,n){let r=e.range(),s=r[0],o=Xr(r),i=jAt;if(s>o&&(r=o,o=s,s=r,i=HAt),s=Math.floor(s),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>s<=a[1]&&a[1]<=o).sort(i).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Xr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function TZ(e,t){return e.bins?TAe(e,e.bins):e.ticks?e.ticks(t):e.domain()}function AAe(e,t,n,r,s,o){const i=t.type;let a=UAt;if(i===O1||s===O1)a=e.timeFormat(r);else if(i===R1||s===R1)a=e.utcFormat(r);else if(wAe(i)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=IAe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function IAe(e,t,n){const r=TZ(e,t),s=e.base(),o=Math.log(s),i=Math.max(1,s*t/r.length),a=l=>{let u=l/Math.pow(s,Math.round(Math.log(l)/o));return u*s<s-.5&&(u*=s),u<=i};return n?r.filter(a):a}const ZW={[lx]:"quantiles",[cB]:"thresholds",[fB]:"domain"},NAe={[lx]:"quantiles",[cB]:"domain"};function DAe(e,t){return e.bins?KAt(e.bins):e.type===dp?IAe(e,t,!0):ZW[e.type]?GAt(e[ZW[e.type]]()):TZ(e,t)}function qAt(e,t,n){const r=t[NAe[t.type]](),s=r.length;let o=s>1?r[1]-r[0]:r[0],i;for(i=1;i<s;++i)o=Math.min(o,r[i]-r[i-1]);return e.formatSpan(0,o,30,n)}function GAt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function KAt(e){const t=e.slice(0,-1);return t.max=Xr(e),t}const YAt=e=>ZW[e.type]||e.bins;function OAe(e,t,n,r,s,o,i){const a=NAe[t.type]&&o!==O1&&o!==R1?qAt(e,t,s):AAe(e,t,n,s,o,i);return r===g3&&YAt(t)?XAt(a):r===VAt?ZAt(a):JAt(a)}const XAt=e=>(t,n,r)=>{const s=yue(r[n+1],yue(r.max,1/0)),o=bue(t,e),i=bue(s,e);return o&&i?o+"  "+i:i?"< "+i:" "+o},yue=(e,t)=>e??t,ZAt=e=>(t,n)=>n?e(t):null,JAt=e=>t=>e(t),bue=(e,t)=>Number.isFinite(e)?t(e):null;function QAt(e){const t=e.domain(),n=t.length-1;let r=+t[0],s=+Xr(t),o=s-r;if(e.type===fB){const i=n?o/n:.1;r-=i,s+=i,o=s-r}return i=>(i-r)/o}function eIt(e,t,n,r){const s=r||t.type;return ys(n)&&MAt(s)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&s===O1?e.timeFormat("%A, %d %B %Y, %X"):!n&&s===R1?e.utcFormat("%A, %d %B %Y, %X UTC"):OAe(e,t,5,null,n,r,!0)}function RAe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),s=eIt(e,t,n.format,n.formatType);if(XW(t.type)){const o=DAe(t).slice(1).map(s),i=o.length;return"".concat(i," boundar").concat(i===1?"y":"ies",": ").concat(o.join(", "))}else if(ux(t.type)){const o=t.domain(),i=o.length,a=i>r?o.slice(0,r-2).map(s).join(", ")+", ending with "+o.slice(-1).map(s):o.map(s).join(", ");return"".concat(i," value").concat(i===1?"":"s",": ").concat(a)}else{const o=t.domain();return"values from ".concat(s(o[0])," to ").concat(s(Xr(o)))}}function FAe(e){Ke.call(this,null,e)}Nt(FAe,Ke,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.scale,i=e.count==null?e.values?e.values.length:10:e.count,a=_Z(o,i,e.minstep),l=e.format||AAe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?TAe(o,e.values,a):TZ(o,a);return s&&(r.rem=s),s=u.map((c,f)=>_r({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&s.length&&s.push(_r({index:-1,extra:{value:s[0].value},label:""})),r.source=s,r.add=s,this.value=s,r}});function MAe(e){Ke.call(this,null,e)}function tIt(){return _r({})}function nIt(e){const t=lC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Nt(MAe,Ke,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||tIt,o=e.key||gn,i=this.value;return jn(r.encode)&&(r.encode=null),i&&(e.modified("key")||t.modified(o))&&gt("DataJoin does not support modified key function or fields."),i||(t=t.addAll(),this.value=i=nIt(o)),t.visit(t.ADD,a=>{const l=o(a);let u=i.get(l);u?u.exit?(i.empty--,r.add.push(u)):r.mod.push(u):(u=s(a),i.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=i.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=i.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++i.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&i.empty>n.cleanThreshold)&&n.runAfter(i.clean),r}});function PAe(e){Ke.call(this,null,e)}Nt(PAe,Ke,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,s=e.encoders,o=t.encode;if(jn(o))if(n.changed()||o.every(f=>s[f]))o=o[0],n.encode=null;else return t.StopPropagation;var i=o==="enter",a=s.update||ag,l=s.enter||ag,u=s.exit||ag,c=(o&&!i?s[o]:a)||ag;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==ag&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==ag&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),i||c!==ag){const f=t.MOD|(e.modified()?t.REFLOW:0);i?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function LAe(e){Ke.call(this,[],e)}Nt(LAe,Ke,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.type||g3,i=e.scale,a=+e.limit,l=_Z(i,e.count==null?5:e.count,e.minstep),u=!!e.values||o===g3,c=e.format||OAe(n,i,l,o,e.formatSpecifier,e.formatType,u),f=e.values||DAe(i,l),d,h,p,g,m;return s&&(r.rem=s),o===g3?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=f.slice(0,a-1),m=!0):s=f,Or(p=e.size)?(!e.values&&i(s[0])===0&&(s=s.slice(1)),g=s.reduce((v,y)=>Math.max(v,p(y,e)),0)):p=Lu(g=p||8),s=s.map((v,y)=>_r({index:y,label:c(v,y,s),value:v,offset:g,size:p(v,e)})),m&&(m=f[s.length],s.push(_r({index:s.length,label:"".concat(f.length-s.length," entries"),value:m,offset:g,size:p(m,e)})))):o===WAt?(d=i.domain(),h=kAe(i,d[0],Xr(d)),f.length<3&&!e.values&&d[0]!==Xr(d)&&(f=[d[0],Xr(d)]),s=f.map((v,y)=>_r({index:y,label:c(v,y,f),value:v,perc:h(v)}))):(p=f.length-1,h=QAt(i),s=f.map((v,y)=>_r({index:y,label:c(v,y,f),value:v,perc:y?h(v):0,perc2:y===p?1:h(f[y+1])}))),r.source=s,r.add=s,this.value=s,r}});const rIt=e=>e.source.x,sIt=e=>e.source.y,oIt=e=>e.target.x,iIt=e=>e.target.y;function AZ(e){Ke.call(this,{},e)}AZ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Nt(AZ,Ke,{transform(e,t){var n=e.sourceX||rIt,r=e.sourceY||sIt,s=e.targetX||oIt,o=e.targetY||iIt,i=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=wue.get(l+"-"+a)||wue.get(l);return u||gt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[i]=u(n(c),r(c),s(c),o(c))}),t.reflow(e.modified()).modifies(i)}});const BAe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,aIt=(e,t,n,r)=>BAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),zAe=(e,t,n,r)=>{var s=n-e,o=r-t,i=Math.sqrt(s*s+o*o)/2,a=180*Math.atan2(o,s)/Math.PI;return"M"+e+","+t+"A"+i+","+i+" "+a+" 0 1 "+n+","+r},lIt=(e,t,n,r)=>zAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),VAe=(e,t,n,r)=>{const s=n-e,o=r-t,i=.2*(s+o),a=.2*(o-s);return"M"+e+","+t+"C"+(e+i)+","+(t+a)+" "+(n+a)+","+(r-i)+" "+n+","+r},uIt=(e,t,n,r)=>VAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),cIt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,fIt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,dIt=(e,t,n,r)=>{const s=Math.cos(e),o=Math.sin(e),i=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*s+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*i+","+t*a+"L"+r*i+","+r*a},hIt=(e,t,n,r)=>{const s=(e+n)/2;return"M"+e+","+t+"C"+s+","+t+" "+s+","+r+" "+n+","+r},pIt=(e,t,n,r)=>{const s=(t+r)/2;return"M"+e+","+t+"C"+e+","+s+" "+n+","+s+" "+n+","+r},gIt=(e,t,n,r)=>{const s=Math.cos(e),o=Math.sin(e),i=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*s+","+t*o+"C"+l*s+","+l*o+" "+l*i+","+l*a+" "+r*i+","+r*a},wue=lC({line:BAe,"line-radial":aIt,arc:zAe,"arc-radial":lIt,curve:VAe,"curve-radial":uIt,"orthogonal-horizontal":cIt,"orthogonal-vertical":fIt,"orthogonal-radial":dIt,"diagonal-horizontal":hIt,"diagonal-vertical":pIt,"diagonal-radial":gIt});function IZ(e){Ke.call(this,null,e)}IZ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Nt(IZ,Ke,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],s=n[1],o=e.field||iC,i=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=i,d=(a-i)/uke(u),h=ql(c),p,g,m;for(e.sort&&h.sort((v,y)=>u[v]-u[y]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[s]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const mIt=5;function vIt(e){const t=e.type;return!e.bins&&(t===ax||t===xA||t===CA)}function WAe(e){return $Z(e)&&e!==Xf}const yIt=ap(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function UAe(e){Ke.call(this,null,e),this.modified(!0)}Nt(UAe,Ke,{transform(e,t){var n=t.dataflow,r=this.value,s=bIt(e);(!r||s!==r.type)&&(this.value=r=Tr(s)());for(s in e)if(!yIt[s]){if(s==="padding"&&WAe(r.type))continue;Or(r[s])?r[s](e[s]):n.warn("Unsupported scale property: "+s)}return kIt(r,e,$It(r,e,xIt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function bIt(e){var t=e.type,n="",r;return t===Xf?Xf+"-"+ax:(wIt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Xf+"-":r===3?CC+"-":""),(n+t||ax).toLowerCase())}function wIt(e){const t=e.type;return $Z(t)&&t!==O1&&t!==R1&&(e.scheme||e.range&&e.range.length&&e.range.every(ys))}function xIt(e,t,n){const r=CIt(e,t.domainRaw,n);if(r>-1)return r;var s=t.domain,o=e.type,i=t.zero||t.zero===void 0&&vIt(e),a,l;if(!s)return 0;if(WAe(o)&&t.padding&&s[0]!==Xr(s)&&(s=SIt(o,s,t.range,t.padding,t.exponent,t.constant)),(i||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(s=s.slice()).length-1||1,i&&(s[0]>0&&(s[0]=0),s[a]<0&&(s[a]=0)),t.domainMin!=null&&(s[0]=t.domainMin),t.domainMax!=null&&(s[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>s[a]?a+1:l<s[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),s.splice(u,0,l)}return e.domain(jAe(o,s,n)),o===wZ&&e.unknown(t.domainImplicit?qW:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&_Z(e,t.nice)||null),s.length}function CIt(e,t,n){return t?(e.domain(jAe(e.type,t,n)),t.length):-1}function SIt(e,t,n,r,s,o){var i=Math.abs(Xr(n)-n[0]),a=i/(i-2*r),l=e===dp?t$e(t,null,a):e===CA?rW(t,null,a,.5):e===xA?rW(t,null,a,s||1):e===uB?n$e(t,null,a,o||1):e$e(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function jAe(e,t,n){if(wAe(e)){var r=Math.abs(t.reduce((s,o)=>s+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+_n(t))}return t}function $It(e,t,n){let r=t.bins;if(r&&!jn(r)){const s=e.domain(),o=s[0],i=Xr(s),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?i:r.stop;a||gt("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>i&&(u=a*Math.floor(i/a)),r=ql(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===xZ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function kIt(e,t,n){var r=e.type,s=t.round||!1,o=t.range;if(t.rangeStep!=null)o=EIt(r,t,n);else if(t.scheme&&(o=_It(r,t,n),Or(o))){if(e.interpolator)return e.interpolator(o);gt("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&xAe(r))return e.interpolator(dB(JW(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(kZ(t.interpolate,t.interpolateGamma)):Or(e.round)?e.round(s):Or(e.rangeRound)&&e.interpolate(s?pA:p0),o&&e.range(JW(o,t.reverse))}function EIt(e,t,n){e!==mAe&&e!==YW&&gt("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,s=e===YW?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*bZ(n,s,r)]}function _It(e,t,n){var r=t.schemeExtent,s,o;return jn(t.scheme)?o=dB(t.scheme,t.interpolate,t.interpolateGamma):(s=t.scheme.toLowerCase(),o=EZ(s),o||gt("Unrecognized scheme name: ".concat(t.scheme))),n=e===fB?n+1:e===xZ?n-1:e===lx||e===cB?+t.schemeCount||mIt:n,xAe(e)?xue(o,r,t.reverse):Or(o)?$Ae(xue(o,r),n):e===wZ?o:o.slice(0,n)}function xue(e,t,n){return Or(e)&&(t||n)?SAe(e,JW(t||[0,1],n)):e}function JW(e,t){return t?e.slice().reverse():e}function HAe(e){Ke.call(this,null,e)}Nt(HAe,Ke,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(xy(e.sort)),this.modified(n),t}});const Cue="zero",qAe="center",GAe="normalize",KAe=["y0","y1"];function NZ(e){Ke.call(this,null,e)}NZ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Cue,values:[Cue,qAe,GAe]},{name:"as",type:"string",array:!0,length:2,default:KAe}]};Nt(NZ,Ke,{transform(e,t){var n=e.as||KAe,r=n[0],s=n[1],o=xy(e.sort),i=e.field||iC,a=e.offset===qAe?TIt:e.offset===GAe?AIt:IIt,l,u,c,f;for(l=NIt(t.source,e.groupby,o,i),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,i,r,s);return t.reflow(e.modified()).modifies(n)}});function TIt(e,t,n,r,s){for(var o=(t-e.sum)/2,i=e.length,a=0,l;a<i;++a)l=e[a],l[r]=o,l[s]=o+=Math.abs(n(l))}function AIt(e,t,n,r,s){for(var o=1/e.sum,i=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=i,c[s]=i=o*(u+=Math.abs(n(c)))}function IIt(e,t,n,r,s){for(var o=0,i=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=i,c[s]=i+=u):(c[r]=o,c[s]=o+=u)}function NIt(e,t,n,r){var s=[],o=g=>g(c),i,a,l,u,c,f,d,h,p;if(t==null)s.push(e.slice());else for(i={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=i[f],d||(i[f]=d=[],s.push(d)),d.push(c);for(f=0,p=0,u=s.length;f<u;++f){for(d=s[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return s.max=p,s}const DIt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:FAe,datajoin:MAe,encode:PAe,legendentries:LAe,linkpath:AZ,pie:IZ,scale:UAe,sortitems:HAe,stack:NZ},Symbol.toStringTag,{value:"Module"}));var bn=1e-6,xR=1e-12,Zn=Math.PI,zs=Zn/2,CR=Zn/4,Ma=Zn*2,Ks=180/Zn,Jn=Zn/180,mr=Math.abs,SC=Math.atan,zu=Math.atan2,xn=Math.cos,CN=Math.ceil,YAe=Math.exp,QW=Math.hypot,SR=Math.log,Kz=Math.pow,vn=Math.sin,ku=Math.sign||function(e){return e>0?1:e<0?-1:0},Pa=Math.sqrt,DZ=Math.tan;function XAe(e){return e>1?0:e<-1?Zn:Math.acos(e)}function kl(e){return e>1?zs:e<-1?-zs:Math.asin(e)}function di(){}function $R(e,t){e&&$ue.hasOwnProperty(e.type)&&$ue[e.type](e,t)}var Sue={Feature:function(e,t){$R(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,s=n.length;++r<s;)$R(n[r].geometry,t)}},$ue={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){eU(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)eU(n[r],t,0)},Polygon:function(e,t){kue(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)kue(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,s=n.length;++r<s;)$R(n[r],t)}};function eU(e,t,n){var r=-1,s=e.length-n,o;for(t.lineStart();++r<s;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function kue(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)eU(e[n],t,1);t.polygonEnd()}function Eh(e,t){e&&Sue.hasOwnProperty(e.type)?Sue[e.type](e,t):$R(e,t)}var kR=new Ia,ER=new Ia,ZAe,JAe,tU,nU,rU,yd={point:di,lineStart:di,lineEnd:di,polygonStart:function(){kR=new Ia,yd.lineStart=OIt,yd.lineEnd=RIt},polygonEnd:function(){var e=+kR;ER.add(e<0?Ma+e:e),this.lineStart=this.lineEnd=this.point=di},sphere:function(){ER.add(Ma)}};function OIt(){yd.point=FIt}function RIt(){QAe(ZAe,JAe)}function FIt(e,t){yd.point=QAe,ZAe=e,JAe=t,e*=Jn,t*=Jn,tU=e,nU=xn(t=t/2+CR),rU=vn(t)}function QAe(e,t){e*=Jn,t*=Jn,t=t/2+CR;var n=e-tU,r=n>=0?1:-1,s=r*n,o=xn(t),i=vn(t),a=rU*i,l=nU*o+a*xn(s),u=a*r*vn(s);kR.add(zu(u,l)),tU=e,nU=o,rU=i}function MIt(e){return ER=new Ia,Eh(e,yd),ER*2}function _R(e){return[zu(e[1],e[0]),kl(e[2])]}function F1(e){var t=e[0],n=e[1],r=xn(n);return[r*xn(t),r*vn(t),vn(n)]}function SN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Yz(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $N(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function TR(e){var t=Pa(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Is,el,Ps,zl,av,eIe,tIe,gw,q$,bg,hp,mh={point:sU,lineStart:Eue,lineEnd:_ue,polygonStart:function(){mh.point=rIe,mh.lineStart=PIt,mh.lineEnd=LIt,q$=new Ia,yd.polygonStart()},polygonEnd:function(){yd.polygonEnd(),mh.point=sU,mh.lineStart=Eue,mh.lineEnd=_ue,kR<0?(Is=-(Ps=180),el=-(zl=90)):q$>bn?zl=90:q$<-bn&&(el=-90),hp[0]=Is,hp[1]=Ps},sphere:function(){Is=-(Ps=180),el=-(zl=90)}};function sU(e,t){bg.push(hp=[Is=e,Ps=e]),t<el&&(el=t),t>zl&&(zl=t)}function nIe(e,t){var n=F1([e*Jn,t*Jn]);if(gw){var r=cx(gw,n),s=[r[1],-r[0],0],o=cx(s,r);TR(o),o=_R(o);var i=e-av,a=i>0?1:-1,l=o[0]*Ks*a,u,c=mr(i)>180;c^(a*av<l&&l<a*e)?(u=o[1]*Ks,u>zl&&(zl=u)):(l=(l+360)%360-180,c^(a*av<l&&l<a*e)?(u=-o[1]*Ks,u<el&&(el=u)):(t<el&&(el=t),t>zl&&(zl=t))),c?e<av?Ll(Is,e)>Ll(Is,Ps)&&(Ps=e):Ll(e,Ps)>Ll(Is,Ps)&&(Is=e):Ps>=Is?(e<Is&&(Is=e),e>Ps&&(Ps=e)):e>av?Ll(Is,e)>Ll(Is,Ps)&&(Ps=e):Ll(e,Ps)>Ll(Is,Ps)&&(Is=e)}else bg.push(hp=[Is=e,Ps=e]);t<el&&(el=t),t>zl&&(zl=t),gw=n,av=e}function Eue(){mh.point=nIe}function _ue(){hp[0]=Is,hp[1]=Ps,mh.point=sU,gw=null}function rIe(e,t){if(gw){var n=e-av;q$.add(mr(n)>180?n+(n>0?360:-360):n)}else eIe=e,tIe=t;yd.point(e,t),nIe(e,t)}function PIt(){yd.lineStart()}function LIt(){rIe(eIe,tIe),yd.lineEnd(),mr(q$)>bn&&(Is=-(Ps=180)),hp[0]=Is,hp[1]=Ps,gw=null}function Ll(e,t){return(t-=e)<0?t+360:t}function BIt(e,t){return e[0]-t[0]}function Tue(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function zIt(e){var t,n,r,s,o,i,a;if(zl=Ps=-(Is=el=1/0),bg=[],Eh(e,mh),n=bg.length){for(bg.sort(BIt),t=1,r=bg[0],o=[r];t<n;++t)s=bg[t],Tue(r,s[0])||Tue(r,s[1])?(Ll(r[0],s[1])>Ll(r[0],r[1])&&(r[1]=s[1]),Ll(s[0],r[1])>Ll(r[0],r[1])&&(r[0]=s[0])):o.push(r=s);for(i=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=s,++t)s=o[t],(a=Ll(r[1],s[0]))>i&&(i=a,Is=s[0],Ps=r[1])}return bg=hp=null,Is===1/0||el===1/0?[[NaN,NaN],[NaN,NaN]]:[[Is,el],[Ps,zl]]}var p$,AR,IR,NR,DR,OR,RR,FR,oU,iU,aU,sIe,oIe,Ca,Sa,$a,xc={sphere:di,point:OZ,lineStart:Aue,lineEnd:Iue,polygonStart:function(){xc.lineStart=UIt,xc.lineEnd=jIt},polygonEnd:function(){xc.lineStart=Aue,xc.lineEnd=Iue}};function OZ(e,t){e*=Jn,t*=Jn;var n=xn(t);kA(n*xn(e),n*vn(e),vn(t))}function kA(e,t,n){++p$,IR+=(e-IR)/p$,NR+=(t-NR)/p$,DR+=(n-DR)/p$}function Aue(){xc.point=VIt}function VIt(e,t){e*=Jn,t*=Jn;var n=xn(t);Ca=n*xn(e),Sa=n*vn(e),$a=vn(t),xc.point=WIt,kA(Ca,Sa,$a)}function WIt(e,t){e*=Jn,t*=Jn;var n=xn(t),r=n*xn(e),s=n*vn(e),o=vn(t),i=zu(Pa((i=Sa*o-$a*s)*i+(i=$a*r-Ca*o)*i+(i=Ca*s-Sa*r)*i),Ca*r+Sa*s+$a*o);AR+=i,OR+=i*(Ca+(Ca=r)),RR+=i*(Sa+(Sa=s)),FR+=i*($a+($a=o)),kA(Ca,Sa,$a)}function Iue(){xc.point=OZ}function UIt(){xc.point=HIt}function jIt(){iIe(sIe,oIe),xc.point=OZ}function HIt(e,t){sIe=e,oIe=t,e*=Jn,t*=Jn,xc.point=iIe;var n=xn(t);Ca=n*xn(e),Sa=n*vn(e),$a=vn(t),kA(Ca,Sa,$a)}function iIe(e,t){e*=Jn,t*=Jn;var n=xn(t),r=n*xn(e),s=n*vn(e),o=vn(t),i=Sa*o-$a*s,a=$a*r-Ca*o,l=Ca*s-Sa*r,u=QW(i,a,l),c=kl(u),f=u&&-c/u;oU.add(f*i),iU.add(f*a),aU.add(f*l),AR+=c,OR+=c*(Ca+(Ca=r)),RR+=c*(Sa+(Sa=s)),FR+=c*($a+($a=o)),kA(Ca,Sa,$a)}function qIt(e){p$=AR=IR=NR=DR=OR=RR=FR=0,oU=new Ia,iU=new Ia,aU=new Ia,Eh(e,xc);var t=+oU,n=+iU,r=+aU,s=QW(t,n,r);return s<xR&&(t=OR,n=RR,r=FR,AR<bn&&(t=IR,n=NR,r=DR),s=QW(t,n,r),s<xR)?[NaN,NaN]:[zu(n,t)*Ks,kl(r/s)*Ks]}function lU(e,t){function n(r,s){return r=e(r,s),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,s){return r=t.invert(r,s),r&&e.invert(r[0],r[1])}),n}function uU(e,t){return[mr(e)>Zn?e+Math.round(-e/Ma)*Ma:e,t]}uU.invert=uU;function aIe(e,t,n){return(e%=Ma)?t||n?lU(Due(e),Oue(t,n)):Due(e):t||n?Oue(t,n):uU}function Nue(e){return function(t,n){return t+=e,[t>Zn?t-Ma:t<-Zn?t+Ma:t,n]}}function Due(e){var t=Nue(e);return t.invert=Nue(-e),t}function Oue(e,t){var n=xn(e),r=vn(e),s=xn(t),o=vn(t);function i(a,l){var u=xn(l),c=xn(a)*u,f=vn(a)*u,d=vn(l),h=d*n+c*r;return[zu(f*s-h*o,c*n-d*r),kl(h*s+f*o)]}return i.invert=function(a,l){var u=xn(l),c=xn(a)*u,f=vn(a)*u,d=vn(l),h=d*s-f*o;return[zu(f*s+d*o,c*n+h*r),kl(h*n-c*r)]},i}function GIt(e){e=aIe(e[0]*Jn,e[1]*Jn,e.length>2?e[2]*Jn:0);function t(n){return n=e(n[0]*Jn,n[1]*Jn),n[0]*=Ks,n[1]*=Ks,n}return t.invert=function(n){return n=e.invert(n[0]*Jn,n[1]*Jn),n[0]*=Ks,n[1]*=Ks,n},t}function KIt(e,t,n,r,s,o){if(n){var i=xn(t),a=vn(t),l=r*n;s==null?(s=t+r*Ma,o=t-l/2):(s=Rue(i,s),o=Rue(i,o),(r>0?s<o:s>o)&&(s+=r*Ma));for(var u,c=s;r>0?c>o:c<o;c-=l)u=_R([i,-a*xn(c),-a*vn(c)]),e.point(u[0],u[1])}}function Rue(e,t){t=F1(t),t[0]-=e,TR(t);var n=XAe(-t[1]);return((-t[2]<0?-n:n)+Ma-bn)%Ma}function lIe(){var e=[],t;return{point:function(n,r,s){t.push([n,r,s])},lineStart:function(){e.push(t=[])},lineEnd:di,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function m3(e,t){return mr(e[0]-t[0])<bn&&mr(e[1]-t[1])<bn}function kN(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function uIe(e,t,n,r,s){var o=[],i=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],y;if(m3(m,v)){if(!m[2]&&!v[2]){for(s.lineStart(),a=0;a<g;++a)s.point((m=p[a])[0],m[1]);s.lineEnd();return}v[0]+=2*bn}o.push(y=new kN(m,p,null,!0)),i.push(y.o=new kN(m,null,y,!1)),o.push(y=new kN(v,p,null,!1)),i.push(y.o=new kN(v,null,y,!0))}}),!!o.length){for(i.sort(t),Fue(o),Fue(i),a=0,l=i.length;a<l;++a)i[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)s.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)s.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,s);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);s.lineEnd()}}}function Fue(e){if(t=e.length){for(var t,n=0,r=e[0],s;++n<t;)r.n=s=e[n],s.p=r,r=s;r.n=s=e[0],s.p=r}}function Xz(e){return mr(e[0])<=Zn?e[0]:ku(e[0])*((mr(e[0])+Zn)%Ma-Zn)}function YIt(e,t){var n=Xz(t),r=t[1],s=vn(r),o=[vn(n),-xn(n),0],i=0,a=0,l=new Ia;s===1?r=zs+bn:s===-1&&(r=-zs-bn);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=Xz(h),g=h[1]/2+CR,m=vn(g),v=xn(g),y=0;y<d;++y,p=w,m=S,v=$,h=b){var b=f[y],w=Xz(b),C=b[1]/2+CR,S=vn(C),$=xn(C),k=w-p,T=k>=0?1:-1,_=T*k,E=_>Zn,A=m*S;if(l.add(zu(A*T*vn(_),v*$+A*xn(_))),i+=E?k+T*Ma:k,E^p>=n^w>=n){var I=cx(F1(h),F1(b));TR(I);var F=cx(o,I);TR(F);var R=(E^k>=0?-1:1)*kl(F[2]);(r>R||r===R&&(I[0]||I[1]))&&(a+=E^k>=0?1:-1)}}return(i<-bn||i<bn&&l<-xR)^a&1}function cIe(e,t,n,r){return function(s){var o=t(s),i=lIe(),a=t(i),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=lke(c);var w=YIt(u,r);c.length?(l||(s.polygonStart(),l=!0),uIe(c,ZIt,w,n,s)):w&&(l||(s.polygonStart(),l=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),l&&(s.polygonEnd(),l=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(w,C){e(w,C)&&s.point(w,C)}function p(w,C){o.point(w,C)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function v(w,C){f.push([w,C]),a.point(w,C)}function y(){a.lineStart(),f=[]}function b(){v(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),C=i.result(),S,$=C.length,k,T,_;if(f.pop(),u.push(f),f=null,!!$){if(w&1){if(T=C[0],(k=T.length-1)>0){for(l||(s.polygonStart(),l=!0),s.lineStart(),S=0;S<k;++S)s.point((_=T[S])[0],_[1]);s.lineEnd()}return}$>1&&w&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(XIt))}}return d}}function XIt(e){return e.length>1}function ZIt(e,t){return((e=e.x)[0]<0?e[1]-zs-bn:zs-e[1])-((t=t.x)[0]<0?t[1]-zs-bn:zs-t[1])}const Mue=cIe(function(){return!0},JIt,eNt,[-Zn,-zs]);function JIt(e){var t=NaN,n=NaN,r=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(o,i){var a=o>0?Zn:-Zn,l=mr(o-t);mr(l-Zn)<bn?(e.point(t,n=(n+i)/2>0?zs:-zs),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),s=0):r!==a&&l>=Zn&&(mr(t-r)<bn&&(t-=r*bn),mr(o-a)<bn&&(o-=a*bn),n=QIt(t,n,o,i),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),s=0),e.point(t=o,n=i),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-s}}}function QIt(e,t,n,r){var s,o,i=vn(e-n);return mr(i)>bn?SC((vn(t)*(o=xn(r))*vn(n)-vn(r)*(s=xn(t))*vn(e))/(s*o*i)):(t+r)/2}function eNt(e,t,n,r){var s;if(e==null)s=n*zs,r.point(-Zn,s),r.point(0,s),r.point(Zn,s),r.point(Zn,0),r.point(Zn,-s),r.point(0,-s),r.point(-Zn,-s),r.point(-Zn,0),r.point(-Zn,s);else if(mr(e[0]-t[0])>bn){var o=e[0]<t[0]?Zn:-Zn;s=n*o/2,r.point(-o,s),r.point(0,s),r.point(o,s)}else r.point(t[0],t[1])}function tNt(e){var t=xn(e),n=6*Jn,r=t>0,s=mr(t)>bn;function o(c,f,d,h){KIt(h,e,n,d,c,f)}function i(c,f){return xn(c)*xn(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,v){var y=[m,v],b,w=i(m,v),C=r?w?0:u(m,v):w?u(m+(m<0?Zn:-Zn),v):0;if(!f&&(p=h=w)&&c.lineStart(),w!==h&&(b=l(f,y),(!b||m3(f,b)||m3(y,b))&&(y[2]=1)),w!==h)g=0,w?(c.lineStart(),b=l(y,f),c.point(b[0],b[1])):(b=l(f,y),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(s&&f&&r^w){var S;!(C&d)&&(S=l(y,f,!0))&&(g=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}w&&(!f||!m3(f,y))&&c.point(y[0],y[1]),f=y,h=w,d=C},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=F1(c),p=F1(f),g=[1,0,0],m=cx(h,p),v=SN(m,m),y=m[0],b=v-y*y;if(!b)return!d&&c;var w=t*v/b,C=-t*y/b,S=cx(g,m),$=$N(g,w),k=$N(m,C);Yz($,k);var T=S,_=SN($,T),E=SN(T,T),A=_*_-E*(SN($,$)-1);if(!(A<0)){var I=Pa(A),F=$N(T,(-_-I)/E);if(Yz(F,$),F=_R(F),!d)return F;var R=c[0],L=f[0],D=c[1],N=f[1],M;L<R&&(M=R,R=L,L=M);var z=L-R,W=mr(z-Zn)<bn,j=W||z<bn;if(!W&&N<D&&(M=D,D=N,N=M),j?W?D+N>0^F[1]<(mr(F[0]-R)<bn?D:N):D<=F[1]&&F[1]<=N:z>Zn^(R<=F[0]&&F[0]<=L)){var U=$N(T,(-_+I)/E);return Yz(U,$),[F,_R(U)]}}}function u(c,f){var d=r?e:Zn-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return cIe(i,a,o,r?[0,-e]:[-Zn,e-Zn])}function nNt(e,t,n,r,s,o){var i=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-i,h=u-a,p;if(p=n-i,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=s-i,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=i+c*d,e[1]=a+c*h),f<1&&(t[0]=i+f*d,t[1]=a+f*h),!0}}}}}var g$=1e9,EN=-g$;function fIe(e,t,n,r){function s(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=i(u,f))!==(p=i(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function i(u,c){return mr(u[0]-e)<bn?c>0?0:3:mr(u[0]-n)<bn?c>0?2:1:mr(u[1]-t)<bn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=i(u,1),d=i(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=lIe(),d,h,p,g,m,v,y,b,w,C,S,$={point:k,lineStart:A,lineEnd:I,polygonStart:_,polygonEnd:E};function k(R,L){s(R,L)&&c.point(R,L)}function T(){for(var R=0,L=0,D=h.length;L<D;++L)for(var N=h[L],M=1,z=N.length,W=N[0],j,U,Y=W[0],G=W[1];M<z;++M)j=Y,U=G,W=N[M],Y=W[0],G=W[1],U<=r?G>r&&(Y-j)*(r-U)>(G-U)*(e-j)&&++R:G<=r&&(Y-j)*(r-U)<(G-U)*(e-j)&&--R;return R}function _(){c=f,d=[],h=[],S=!0}function E(){var R=T(),L=S&&R,D=(d=lke(d)).length;(L||D)&&(u.polygonStart(),L&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),D&&uIe(d,a,R,o,u),u.polygonEnd()),c=u,d=h=p=null}function A(){$.point=F,h&&h.push(p=[]),C=!0,w=!1,y=b=NaN}function I(){d&&(F(g,m),v&&w&&f.rejoin(),d.push(f.result())),$.point=k,w&&c.lineEnd()}function F(R,L){var D=s(R,L);if(h&&p.push([R,L]),C)g=R,m=L,v=D,C=!1,D&&(c.lineStart(),c.point(R,L));else if(D&&w)c.point(R,L);else{var N=[y=Math.max(EN,Math.min(g$,y)),b=Math.max(EN,Math.min(g$,b))],M=[R=Math.max(EN,Math.min(g$,R)),L=Math.max(EN,Math.min(g$,L))];nNt(N,M,e,t,n,r)?(w||(c.lineStart(),c.point(N[0],N[1])),c.point(M[0],M[1]),D||c.lineEnd(),S=!1):D&&(c.lineStart(),c.point(R,L),S=!1)}y=R,b=L,w=D}return $}}function Pue(e,t,n){var r=ql(e,t-bn,n).concat(t);return function(s){return r.map(function(o){return[s,o]})}}function Lue(e,t,n){var r=ql(e,t-bn,n).concat(t);return function(s){return r.map(function(o){return[o,s]})}}function rNt(){var e,t,n,r,s,o,i,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return ql(CN(r/c)*c,n,c).map(p).concat(ql(CN(a/f)*f,i,f).map(g)).concat(ql(CN(t/l)*l,e,l).filter(function(b){return mr(b%c)>bn}).map(d)).concat(ql(CN(o/u)*u,s,u).filter(function(b){return mr(b%f)>bn}).map(h))}return v.lines=function(){return y().map(function(b){return{type:"LineString",coordinates:b}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(i).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},v.extent=function(b){return arguments.length?v.extentMajor(b).extentMinor(b):v.extentMinor()},v.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],i=+b[1][1],r>n&&(b=r,r=n,n=b),a>i&&(b=a,a=i,i=b),v.precision(m)):[[r,a],[n,i]]},v.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],s=+b[1][1],t>e&&(b=t,t=e,e=b),o>s&&(b=o,o=s,s=b),v.precision(m)):[[t,o],[e,s]]},v.step=function(b){return arguments.length?v.stepMajor(b).stepMinor(b):v.stepMinor()},v.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],v):[c,f]},v.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],v):[l,u]},v.precision=function(b){return arguments.length?(m=+b,d=Pue(o,s,90),h=Lue(t,e,m),p=Pue(a,i,90),g=Lue(r,n,m),v):m},v.extentMajor([[-180,-90+bn],[180,90-bn]]).extentMinor([[-180,-80-bn],[180,80+bn]])}const yE=e=>e;var Zz=new Ia,cU=new Ia,dIe,hIe,fU,dU,_h={point:di,lineStart:di,lineEnd:di,polygonStart:function(){_h.lineStart=sNt,_h.lineEnd=iNt},polygonEnd:function(){_h.lineStart=_h.lineEnd=_h.point=di,Zz.add(mr(cU)),cU=new Ia},result:function(){var e=Zz/2;return Zz=new Ia,e}};function sNt(){_h.point=oNt}function oNt(e,t){_h.point=pIe,dIe=fU=e,hIe=dU=t}function pIe(e,t){cU.add(dU*e-fU*t),fU=e,dU=t}function iNt(){pIe(dIe,hIe)}var fx=1/0,MR=fx,bE=-fx,PR=bE,LR={point:aNt,lineStart:di,lineEnd:di,polygonStart:di,polygonEnd:di,result:function(){var e=[[fx,MR],[bE,PR]];return bE=PR=-(MR=fx=1/0),e}};function aNt(e,t){e<fx&&(fx=e),e>bE&&(bE=e),t<MR&&(MR=t),t>PR&&(PR=t)}var hU=0,pU=0,m$=0,BR=0,zR=0,qb=0,gU=0,mU=0,v$=0,gIe,mIe,Ff,Mf,bu={point:M1,lineStart:Bue,lineEnd:zue,polygonStart:function(){bu.lineStart=cNt,bu.lineEnd=fNt},polygonEnd:function(){bu.point=M1,bu.lineStart=Bue,bu.lineEnd=zue},result:function(){var e=v$?[gU/v$,mU/v$]:qb?[BR/qb,zR/qb]:m$?[hU/m$,pU/m$]:[NaN,NaN];return hU=pU=m$=BR=zR=qb=gU=mU=v$=0,e}};function M1(e,t){hU+=e,pU+=t,++m$}function Bue(){bu.point=lNt}function lNt(e,t){bu.point=uNt,M1(Ff=e,Mf=t)}function uNt(e,t){var n=e-Ff,r=t-Mf,s=Pa(n*n+r*r);BR+=s*(Ff+e)/2,zR+=s*(Mf+t)/2,qb+=s,M1(Ff=e,Mf=t)}function zue(){bu.point=M1}function cNt(){bu.point=dNt}function fNt(){vIe(gIe,mIe)}function dNt(e,t){bu.point=vIe,M1(gIe=Ff=e,mIe=Mf=t)}function vIe(e,t){var n=e-Ff,r=t-Mf,s=Pa(n*n+r*r);BR+=s*(Ff+e)/2,zR+=s*(Mf+t)/2,qb+=s,s=Mf*e-Ff*t,gU+=s*(Ff+e),mU+=s*(Mf+t),v$+=s*3,M1(Ff=e,Mf=t)}function yIe(e){this._context=e}yIe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ma);break}}},result:di};var vU=new Ia,Jz,bIe,wIe,y$,b$,wE={point:di,lineStart:function(){wE.point=hNt},lineEnd:function(){Jz&&xIe(bIe,wIe),wE.point=di},polygonStart:function(){Jz=!0},polygonEnd:function(){Jz=null},result:function(){var e=+vU;return vU=new Ia,e}};function hNt(e,t){wE.point=xIe,bIe=y$=e,wIe=b$=t}function xIe(e,t){y$-=e,b$-=t,vU.add(Pa(y$*y$+b$*b$)),y$=e,b$=t}function CIe(){this._string=[]}CIe.prototype={_radius:4.5,_circle:Vue(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Vue(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Vue(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function SIe(e,t){var n=4.5,r,s;function o(i){return i&&(typeof n=="function"&&s.pointRadius(+n.apply(this,arguments)),Eh(i,r(s))),s.result()}return o.area=function(i){return Eh(i,r(_h)),_h.result()},o.measure=function(i){return Eh(i,r(wE)),wE.result()},o.bounds=function(i){return Eh(i,r(LR)),LR.result()},o.centroid=function(i){return Eh(i,r(bu)),bu.result()},o.projection=function(i){return arguments.length?(r=i==null?(e=null,yE):(e=i).stream,o):e},o.context=function(i){return arguments.length?(s=i==null?(t=null,new CIe):new yIe(t=i),typeof n!="function"&&s.pointRadius(n),o):t},o.pointRadius=function(i){return arguments.length?(n=typeof i=="function"?i:(s.pointRadius(+i),+i),o):n},o.projection(e).context(t)}function hB(e){return function(t){var n=new yU;for(var r in e)n[r]=e[r];return n.stream=t,n}}function yU(){}yU.prototype={constructor:yU,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function RZ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Eh(n,e.stream(LR)),t(LR.result()),r!=null&&e.clipExtent(r),e}function pB(e,t,n){return RZ(e,function(r){var s=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(s/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(s-i*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-i*(r[1][1]+r[0][1]))/2;e.scale(150*i).translate([a,l])},n)}function FZ(e,t,n){return pB(e,[[0,0],t],n)}function MZ(e,t,n){return RZ(e,function(r){var s=+t,o=s/(r[1][0]-r[0][0]),i=(s-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([i,a])},n)}function PZ(e,t,n){return RZ(e,function(r){var s=+t,o=s/(r[1][1]-r[0][1]),i=-o*r[0][0],a=(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([i,a])},n)}var Wue=16,pNt=xn(30*Jn);function Uue(e,t){return+t?mNt(e,t):gNt(e)}function gNt(e){return hB({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function mNt(e,t){function n(r,s,o,i,a,l,u,c,f,d,h,p,g,m){var v=u-r,y=c-s,b=v*v+y*y;if(b>4*t&&g--){var w=i+d,C=a+h,S=l+p,$=Pa(w*w+C*C+S*S),k=kl(S/=$),T=mr(mr(S)-1)<bn||mr(o-f)<bn?(o+f)/2:zu(C,w),_=e(T,k),E=_[0],A=_[1],I=E-r,F=A-s,R=y*I-v*F;(R*R/b>t||mr((v*I+y*F)/b-.5)>.3||i*d+a*h+l*p<pNt)&&(n(r,s,o,i,a,l,E,A,T,w/=$,C/=$,S,g,m),m.point(E,A),n(E,A,T,w,C,S,u,c,f,d,h,p,g,m))}}return function(r){var s,o,i,a,l,u,c,f,d,h,p,g,m={point:v,lineStart:y,lineEnd:w,polygonStart:function(){r.polygonStart(),m.lineStart=C},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function v(k,T){k=e(k,T),r.point(k[0],k[1])}function y(){f=NaN,m.point=b,r.lineStart()}function b(k,T){var _=F1([k,T]),E=e(k,T);n(f,d,c,h,p,g,f=E[0],d=E[1],c=k,h=_[0],p=_[1],g=_[2],Wue,r),r.point(f,d)}function w(){m.point=v,r.lineEnd()}function C(){y(),m.point=S,m.lineEnd=$}function S(k,T){b(s=k,T),o=f,i=d,a=h,l=p,u=g,m.point=b}function $(){n(f,d,c,h,p,g,o,i,s,a,l,u,Wue,r),m.lineEnd=w,w()}return m}}var vNt=hB({point:function(e,t){this.stream.point(e*Jn,t*Jn)}});function yNt(e){return hB({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function bNt(e,t,n,r,s){function o(i,a){return i*=r,a*=s,[t+e*i,n-e*a]}return o.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*s]},o}function jue(e,t,n,r,s,o){if(!o)return bNt(e,t,n,r,s);var i=xn(o),a=vn(o),l=i*e,u=a*e,c=i/e,f=a/e,d=(a*n-i*t)/e,h=(a*t+i*n)/e;function p(g,m){return g*=r,m*=s,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),s*(h-f*g-c*m)]},p}function Pd(e){return $Ie(function(){return e})()}function $Ie(e){var t,n=150,r=480,s=250,o=0,i=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=Mue,m=null,v,y,b,w=yE,C=.5,S,$,k,T,_;function E(R){return k(R[0]*Jn,R[1]*Jn)}function A(R){return R=k.invert(R[0],R[1]),R&&[R[0]*Ks,R[1]*Ks]}E.stream=function(R){return T&&_===R?T:T=vNt(yNt(c)(g(S(w(_=R)))))},E.preclip=function(R){return arguments.length?(g=R,p=void 0,F()):g},E.postclip=function(R){return arguments.length?(w=R,m=v=y=b=null,F()):w},E.clipAngle=function(R){return arguments.length?(g=+R?tNt(p=R*Jn):(p=null,Mue),F()):p*Ks},E.clipExtent=function(R){return arguments.length?(w=R==null?(m=v=y=b=null,yE):fIe(m=+R[0][0],v=+R[0][1],y=+R[1][0],b=+R[1][1]),F()):m==null?null:[[m,v],[y,b]]},E.scale=function(R){return arguments.length?(n=+R,I()):n},E.translate=function(R){return arguments.length?(r=+R[0],s=+R[1],I()):[r,s]},E.center=function(R){return arguments.length?(o=R[0]%360*Jn,i=R[1]%360*Jn,I()):[o*Ks,i*Ks]},E.rotate=function(R){return arguments.length?(a=R[0]%360*Jn,l=R[1]%360*Jn,u=R.length>2?R[2]%360*Jn:0,I()):[a*Ks,l*Ks,u*Ks]},E.angle=function(R){return arguments.length?(f=R%360*Jn,I()):f*Ks},E.reflectX=function(R){return arguments.length?(d=R?-1:1,I()):d<0},E.reflectY=function(R){return arguments.length?(h=R?-1:1,I()):h<0},E.precision=function(R){return arguments.length?(S=Uue($,C=R*R),F()):Pa(C)},E.fitExtent=function(R,L){return pB(E,R,L)},E.fitSize=function(R,L){return FZ(E,R,L)},E.fitWidth=function(R,L){return MZ(E,R,L)},E.fitHeight=function(R,L){return PZ(E,R,L)};function I(){var R=jue(n,0,0,d,h,f).apply(null,t(o,i)),L=jue(n,r-R[0],s-R[1],d,h,f);return c=aIe(a,l,u),$=lU(t,L),k=lU(c,$),S=Uue($,C),F()}function F(){return T=_=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&A,I()}}function LZ(e){var t=0,n=Zn/3,r=$Ie(e),s=r(t,n);return s.parallels=function(o){return arguments.length?r(t=o[0]*Jn,n=o[1]*Jn):[t*Ks,n*Ks]},s}function wNt(e){var t=xn(e);function n(r,s){return[r*t,vn(s)/t]}return n.invert=function(r,s){return[r/t,kl(s*t)]},n}function xNt(e,t){var n=vn(e),r=(n+vn(t))/2;if(mr(r)<bn)return wNt(e);var s=1+n*(2*r-n),o=Pa(s)/r;function i(a,l){var u=Pa(s-2*r*vn(l))/r;return[u*vn(a*=r),o-u*xn(a)]}return i.invert=function(a,l){var u=o-l,c=zu(a,mr(u))*ku(u);return u*r<0&&(c-=Zn*ku(a)*ku(u)),[c/r,kl((s-(a*a+u*u)*r*r)/(2*r))]},i}function VR(){return LZ(xNt).scale(155.424).center([0,33.6442])}function kIe(){return VR().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function CNt(e){var t=e.length;return{point:function(n,r){for(var s=-1;++s<t;)e[s].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function SNt(){var e,t,n=kIe(),r,s=VR().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,i=VR().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?s:m>=.166&&m<.234&&g>=-.214&&g<-.115?i:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=CNt([n.stream(t=d),s.stream(d),i.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),s.precision(d),i.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),s.scale(d*.35),i.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=s.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+bn,g+.12*h+bn],[p-.214*h-bn,g+.234*h-bn]]).stream(u),a=i.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+bn,g+.166*h+bn],[p-.115*h-bn,g+.234*h-bn]]).stream(u),f()},c.fitExtent=function(d,h){return pB(c,d,h)},c.fitSize=function(d,h){return FZ(c,d,h)},c.fitWidth=function(d,h){return MZ(c,d,h)},c.fitHeight=function(d,h){return PZ(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function EIe(e){return function(t,n){var r=xn(t),s=xn(n),o=e(r*s);return o===1/0?[2,0]:[o*s*vn(t),o*vn(n)]}}function EA(e){return function(t,n){var r=Pa(t*t+n*n),s=e(r),o=vn(s),i=xn(s);return[zu(t*o,r*i),kl(r&&n*o/r)]}}var _Ie=EIe(function(e){return Pa(2/(1+e))});_Ie.invert=EA(function(e){return 2*kl(e/2)});function $Nt(){return Pd(_Ie).scale(124.75).clipAngle(180-.001)}var TIe=EIe(function(e){return(e=XAe(e))&&e/vn(e)});TIe.invert=EA(function(e){return e});function kNt(){return Pd(TIe).scale(79.4188).clipAngle(180-.001)}function gB(e,t){return[e,SR(DZ((zs+t)/2))]}gB.invert=function(e,t){return[e,2*SC(YAe(t))-zs]};function ENt(){return AIe(gB).scale(961/Ma)}function AIe(e){var t=Pd(e),n=t.center,r=t.scale,s=t.translate,o=t.clipExtent,i=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(s(f),c()):s()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?i=a=l=u=null:(i=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):i==null?null:[[i,a],[l,u]]};function c(){var f=Zn*r(),d=t(GIt(t.rotate()).invert([0,0]));return o(i==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===gB?[[Math.max(d[0]-f,i),a],[Math.min(d[0]+f,l),u]]:[[i,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function _N(e){return DZ((zs+e)/2)}function _Nt(e,t){var n=xn(e),r=e===t?vn(e):SR(n/xn(t))/SR(_N(t)/_N(e)),s=n*Kz(_N(e),r)/r;if(!r)return gB;function o(i,a){s>0?a<-zs+bn&&(a=-zs+bn):a>zs-bn&&(a=zs-bn);var l=s/Kz(_N(a),r);return[l*vn(r*i),s-l*xn(r*i)]}return o.invert=function(i,a){var l=s-a,u=ku(r)*Pa(i*i+l*l),c=zu(i,mr(l))*ku(l);return l*r<0&&(c-=Zn*ku(i)*ku(l)),[c/r,2*SC(Kz(s/u,1/r))-zs]},o}function TNt(){return LZ(_Nt).scale(109.5).parallels([30,30])}function WR(e,t){return[e,t]}WR.invert=WR;function ANt(){return Pd(WR).scale(152.63)}function INt(e,t){var n=xn(e),r=e===t?vn(e):(n-xn(t))/(t-e),s=n/r+e;if(mr(r)<bn)return WR;function o(i,a){var l=s-a,u=r*i;return[l*vn(u),s-l*xn(u)]}return o.invert=function(i,a){var l=s-a,u=zu(i,mr(l))*ku(l);return l*r<0&&(u-=Zn*ku(i)*ku(l)),[u/r,s-ku(r)*Pa(i*i+l*l)]},o}function NNt(){return LZ(INt).scale(131.154).center([0,13.9389])}var G$=1.340264,K$=-.081106,Y$=893e-6,X$=.003796,UR=Pa(3)/2,DNt=12;function IIe(e,t){var n=kl(UR*vn(t)),r=n*n,s=r*r*r;return[e*xn(n)/(UR*(G$+3*K$*r+s*(7*Y$+9*X$*r))),n*(G$+K$*r+s*(Y$+X$*r))]}IIe.invert=function(e,t){for(var n=t,r=n*n,s=r*r*r,o=0,i,a,l;o<DNt&&(a=n*(G$+K$*r+s*(Y$+X$*r))-t,l=G$+3*K$*r+s*(7*Y$+9*X$*r),n-=i=a/l,r=n*n,s=r*r*r,!(mr(i)<xR));++o);return[UR*e*(G$+3*K$*r+s*(7*Y$+9*X$*r))/xn(n),kl(vn(n)/UR)]};function ONt(){return Pd(IIe).scale(177.158)}function NIe(e,t){var n=xn(t),r=xn(e)*n;return[n*vn(e)/r,vn(t)/r]}NIe.invert=EA(SC);function RNt(){return Pd(NIe).scale(144.049).clipAngle(60)}function FNt(){var e=1,t=0,n=0,r=1,s=1,o=0,i,a,l=null,u,c,f,d=1,h=1,p=hB({point:function(w,C){var S=b([w,C]);this.stream.point(S[0],S[1])}}),g=yE,m,v;function y(){return d=e*r,h=e*s,m=v=null,b}function b(w){var C=w[0]*d,S=w[1]*h;if(o){var $=S*i-C*a;C=C*i+S*a,S=$}return[C+t,S+n]}return b.invert=function(w){var C=w[0]-t,S=w[1]-n;if(o){var $=S*i+C*a;C=C*i-S*a,S=$}return[C/d,S/h]},b.stream=function(w){return m&&v===w?m:m=p(g(v=w))},b.postclip=function(w){return arguments.length?(g=w,l=u=c=f=null,y()):g},b.clipExtent=function(w){return arguments.length?(g=w==null?(l=u=c=f=null,yE):fIe(l=+w[0][0],u=+w[0][1],c=+w[1][0],f=+w[1][1]),y()):l==null?null:[[l,u],[c,f]]},b.scale=function(w){return arguments.length?(e=+w,y()):e},b.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],y()):[t,n]},b.angle=function(w){return arguments.length?(o=w%360*Jn,a=vn(o),i=xn(o),y()):o*Ks},b.reflectX=function(w){return arguments.length?(r=w?-1:1,y()):r<0},b.reflectY=function(w){return arguments.length?(s=w?-1:1,y()):s<0},b.fitExtent=function(w,C){return pB(b,w,C)},b.fitSize=function(w,C){return FZ(b,w,C)},b.fitWidth=function(w,C){return MZ(b,w,C)},b.fitHeight=function(w,C){return PZ(b,w,C)},b}function DIe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}DIe.invert=function(e,t){var n=t,r=25,s;do{var o=n*n,i=o*o;n-=s=(n*(1.007226+o*(.015085+i*(-.044475+.028874*o-.005916*i)))-t)/(1.007226+o*(.015085*3+i*(-.044475*7+.028874*9*o-.005916*11*i)))}while(mr(s)>bn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function MNt(){return Pd(DIe).scale(175.295)}function OIe(e,t){return[xn(t)*vn(e),vn(t)]}OIe.invert=EA(kl);function PNt(){return Pd(OIe).scale(249.5).clipAngle(90+bn)}function RIe(e,t){var n=xn(t),r=1+xn(e)*n;return[n*vn(e)/r,vn(t)/r]}RIe.invert=EA(function(e){return 2*SC(e)});function LNt(){return Pd(RIe).scale(250).clipAngle(142)}function FIe(e,t){return[SR(DZ((zs+t)/2)),-e]}FIe.invert=function(e,t){return[-t,2*SC(YAe(e))-zs]};function BNt(){var e=AIe(FIe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var zNt=Math.abs,bU=Math.cos,jR=Math.sin,VNt=1e-6,MIe=Math.PI,wU=MIe/2,Hue=WNt(2);function que(e){return e>1?wU:e<-1?-wU:Math.asin(e)}function WNt(e){return e>0?Math.sqrt(e):0}function UNt(e,t){var n=e*jR(t),r=30,s;do t-=s=(t+jR(t)-n)/(1+bU(t));while(zNt(s)>VNt&&--r>0);return t/2}function jNt(e,t,n){function r(s,o){return[e*s*bU(o=UNt(n,o)),t*jR(o)]}return r.invert=function(s,o){return o=que(o/t),[s/(e*bU(o)),que((2*o+jR(2*o))/n)]},r}var HNt=jNt(Hue/wU,Hue,MIe);function qNt(){return Pd(HNt).scale(169.529)}const GNt=SIe(),xU=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function KNt(e,t){return function n(){const r=t();return r.type=e,r.path=SIe().projection(r),r.copy=r.copy||function(){const s=n();return xU.forEach(o=>{r[o]&&s[o](r[o]())}),s.path.pointRadius(r.path.pointRadius()),s},r}}function BZ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(HR[e]=KNt(e,t),this):HR[e]||null}function PIe(e){return e&&e.path||GNt}const HR={albers:kIe,albersusa:SNt,azimuthalequalarea:$Nt,azimuthalequidistant:kNt,conicconformal:TNt,conicequalarea:VR,conicequidistant:NNt,equalEarth:ONt,equirectangular:ANt,gnomonic:RNt,identity:FNt,mercator:ENt,mollweide:qNt,naturalEarth1:MNt,orthographic:PNt,stereographic:LNt,transversemercator:BNt};for(const e in HR)BZ(e,HR[e]);function YNt(){}const ah=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function LIe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>s(l,c))}function s(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),XNt(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(ZNt((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=new Array,d=new Array,h,p,g,m,v,y;for(h=p=-1,m=l[0]>=u,ah[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,ah[g|m<<1].forEach(b);for(ah[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,v=l[p*e]>=u,ah[m<<1|v<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,y=v,v=l[p*e+h+1]>=u,ah[g|m<<1|v<<2|y<<3].forEach(b);ah[m|v<<3].forEach(b)}for(h=-1,v=l[p*e]>=u,ah[v<<2].forEach(b);++h<e-1;)y=v,v=l[p*e+h+1]>=u,ah[v<<2|y<<3].forEach(b);ah[v<<3].forEach(b);function b(w){var C=[w[0][0]+h,w[0][1]+p],S=[w[1][0]+h,w[1][1]+p],$=i(C),k=i(S),T,_;(T=d[$])?(_=f[k])?(delete d[T.end],delete f[_.start],T===_?(T.ring.push(S),c(T.ring)):f[T.start]=d[_.end]={start:T.start,end:_.end,ring:T.ring.concat(_.ring)}):(delete d[T.end],T.ring.push(S),d[T.end=k]=T):(T=f[k])?(_=d[$])?(delete f[T.start],delete d[_.end],T===_?(T.ring.push(S),c(T.ring)):f[_.start]=d[T.end]={start:_.start,end:T.end,ring:_.ring.concat(T.ring)}):(delete f[T.start],T.ring.unshift(C),f[T.start=$]=T):f[$]=d[k]={start:$,end:k,ring:[C,S]}}}function i(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,v=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(v-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(v-m)-.5)})}return r.contour=s,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||gt("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:YNt,r):n===a},r}function XNt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function ZNt(e,t){for(var n=-1,r=t.length,s;++n<r;)if(s=JNt(e,t[n]))return s;return 0}function JNt(e,t){for(var n=t[0],r=t[1],s=-1,o=0,i=e.length,a=i-1;o<i;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(QNt(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(s=-s)}return s}function QNt(e,t,n){var r;return eDt(e,t,n)&&tDt(e[r=+(e[0]===t[0])],n[r],t[r])}function eDt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function tDt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function BIe(e,t,n){return function(r){var s=Cm(r),o=n?Math.min(s[0],0):s[0],i=s[1],a=i-o,l=t?_m(o,i,e):a/(e+1);return ql(o+l,i,l)}}function zZ(e){Ke.call(this,null,e)}zZ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Nt(zZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,s=e.field||Pu,o=LIe().smooth(e.smooth!==!1),i=e.thresholds||nDt(r,s,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=s(u),f=o.size([c.width,c.height])(c.values,jn(i)?i:i(c.values));rDt(f,c,u,e),f.forEach(d=>{l.push(mL(u,_r(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function nDt(e,t,n){const r=BIe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(s=>Xv(t(s).values)))}function rDt(e,t,n,r){let s=r.scale||t.scale,o=r.translate||t.translate;if(Or(s)&&(s=s(n,r)),Or(o)&&(o=o(n,r)),(s===1||s==null)&&!o)return;const i=(_1(s)?s:s[0])||1,a=(_1(s)?s:s[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(zIe(t,i,a,l,u))}function zIe(e,t,n,r,s){const o=e.x1||0,i=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-i)*n+s}return function(f){return f.coordinates.forEach(l),f}}function Gue(e,t,n){const r=e>=0?e:dY(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Qz(e){return Or(e)?e:Lu(+e)}function VIe(){var e=l=>l[0],t=l=>l[1],n=iC,r=[-1,-1],s=960,o=500,i=2;function a(l,u){const c=Gue(r[0],l,e)>>i,f=Gue(r[1],l,t)>>i,d=c?c+2:0,h=f?f+2:0,p=2*d+(s>>i),g=2*h+(o>>i),m=new Float32Array(p*g),v=new Float32Array(p*g);let y=m;l.forEach(w=>{const C=d+(+e(w)>>i),S=h+(+t(w)>>i);C>=0&&C<p&&S>=0&&S<g&&(m[C+S*p]+=+n(w))}),c>0&&f>0?(yb(p,g,m,v,c),bb(p,g,v,m,f),yb(p,g,m,v,c),bb(p,g,v,m,f),yb(p,g,m,v,c),bb(p,g,v,m,f)):c>0?(yb(p,g,m,v,c),yb(p,g,v,m,c),yb(p,g,m,v,c),y=v):f>0&&(bb(p,g,m,v,f),bb(p,g,v,m,f),bb(p,g,m,v,f),y=v);const b=u?Math.pow(2,-2*i):1/uke(y);for(let w=0,C=p*g;w<C;++w)y[w]*=b;return{values:y,scale:1<<i,width:p,height:g,x1:d,y1:h,x2:d+(s>>i),y2:h+(o>>i)}}return a.x=function(l){return arguments.length?(e=Qz(l),a):e},a.y=function(l){return arguments.length?(t=Qz(l),a):t},a.weight=function(l){return arguments.length?(n=Qz(l),a):n},a.size=function(l){if(!arguments.length)return[s,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||gt("invalid size"),s=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||gt("invalid cell size"),i=Math.floor(Math.log(l)/Math.LN2),a):1<<i},a.bandwidth=function(l){return arguments.length?(l=Mn(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&gt("invalid bandwidth"),r=l,a):r},a}function yb(e,t,n,r,s){const o=(s<<1)+1;for(let i=0;i<t;++i)for(let a=0,l=0;a<e+s;++a)a<e&&(l+=n[a+i*e]),a>=s&&(a>=o&&(l-=n[a-o+i*e]),r[a-s+i*e]=l/Math.min(a+1,e-1+o-a,o))}function bb(e,t,n,r,s){const o=(s<<1)+1;for(let i=0;i<e;++i)for(let a=0,l=0;a<t+s;++a)a<t&&(l+=n[i+a*e]),a>=s&&(a>=o&&(l-=n[i+(a-o)*e]),r[i+(a-s)*e]=l/Math.min(a+1,t-1+o-a,o))}function VZ(e){Ke.call(this,null,e)}VZ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const sDt=["x","y","weight","size","cellSize","bandwidth"];function WIe(e,t){return sDt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Nt(VZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,s=oDt(r,e.groupby),o=(e.groupby||[]).map(Ws),i=WIe(VIe(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=s.map(c=>_r(u({[a]:i(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function oDt(e,t){var n=[],r=c=>c(a),s,o,i,a,l,u;if(t==null)n.push(e);else for(s={},o=0,i=e.length;o<i;++o)a=e[o],l=t.map(r),u=s[l],u||(s[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function WZ(e){Ke.call(this,null,e)}WZ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Nt(WZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=LIe().smooth(e.smooth!==!1),s=e.values,o=e.thresholds||BIe(e.count||10,e.nice,!!s),i=e.size,a,l;return s||(s=t.materialize(t.SOURCE).source,a=WIe(VIe(),e)(s,!0),l=zIe(a,a.scale||1,a.scale||1,0,0),i=[a.width,a.height],s=a.values),o=jn(o)?o:o(s),s=r.size(i)(s,o),l&&s.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(s||[]).map(_r),n}});const CU="Feature",UZ="FeatureCollection",iDt="MultiPoint";function jZ(e){Ke.call(this,null,e)}jZ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Nt(jZ,Ke,{transform(e,t){var n=this._features,r=this._points,s=e.fields,o=s&&s[0],i=s&&s[1],a=e.geojson||!s&&Pu,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Zi(a))||o&&t.modified(Zi(o))||i&&t.modified(Zi(i)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&i&&(t.visit(l,c=>{var f=o(c),d=i(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:CU,geometry:{type:iDt,coordinates:r}})),this.value={type:UZ,features:n}}});function HZ(e){Ke.call(this,null,e)}HZ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Nt(HZ,Ke,{transform(e,t){var n=t.fork(t.ALL),r=this.value,s=e.field||Pu,o=e.as||"path",i=n.SOURCE;!r||e.modified()?(this.value=r=PIe(e.projection),n.materialize().reflow()):i=s===Pu||t.modified(s.fields)?n.ADD_MOD:n.ADD;const a=aDt(r,e.pointRadius);return n.visit(i,l=>l[o]=r(s(l))),r.pointRadius(a),n.modifies(o)}});function aDt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function qZ(e){Ke.call(this,null,e)}qZ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Nt(qZ,Ke,{transform(e,t){var n=e.projection,r=e.fields[0],s=e.fields[1],o=e.as||["x","y"],i=o[0],a=o[1],l;function u(c){const f=n([r(c),s(c)]);f?(c[i]=f[0],c[a]=f[1]):(c[i]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(s.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function GZ(e){Ke.call(this,null,e)}GZ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Nt(GZ,Ke,{transform(e,t){var n=t.fork(t.ALL),r=this.value,s=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=lDt(PIe(e.projection),e.field||wm("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,i=>i[s]=r),n.modifies(s)}});function lDt(e,t,n){const r=n==null?s=>e(t(s)):s=>{var o=e.pointRadius(),i=e.pointRadius(n)(t(s));return e.pointRadius(o),i};return r.context=s=>(e.context(s),r),r}function KZ(e){Ke.call(this,[],e),this.generator=rNt()}KZ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Nt(KZ,Ke,{transform(e,t){var n=this.value,r=this.generator,s;if(!n.length||e.modified())for(const o in e)Or(r[o])&&r[o](e[o]);return s=r(),n.length?t.mod.push(X$e(n[0],s)):t.add.push(_r(s)),n[0]=s,t}});function YZ(e){Ke.call(this,null,e)}YZ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Nt(YZ,Ke,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",s=e.field||Pu,o=cDt(e.opacity,e),i=uDt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Xv(n.map(u=>Xv(s(u).values))):0};return n.forEach(u=>{const c=s(u),f=sr({},u,l);r||(f.$max=Xv(c.values||[])),u[a]=fDt(c,f,i.dep?i:Lu(i(f)),o.dep?o:Lu(o(f)))}),t.reflow(!0).modifies(a)}});function uDt(e,t){let n;return Or(e)?(n=r=>$l(e(r,t)),n.dep=UIe(e)):n=Lu($l(e||"#888")),n}function cDt(e,t){let n;return Or(e)?(n=r=>e(r,t),n.dep=UIe(e)):e?n=Lu(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function UIe(e){if(!Or(e))return!1;const t=ap(Zi(e));return t.$x||t.$y||t.$value||t.$max}function fDt(e,t,n,r){const s=e.width,o=e.height,i=e.x1||0,a=e.y1||0,l=e.x2||s,u=e.y2||o,c=e.values,f=c?m=>c[m]:$g,d=c0(l-i,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-i,u-a),g=p.data;for(let m=a,v=0;m<u;++m){t.$y=m-a;for(let y=i,b=m*s;y<l;++y,v+=4){t.$x=y-i,t.$value=f(y+b);const w=n(t);g[v+0]=w.r,g[v+1]=w.g,g[v+2]=w.b,g[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function jIe(e){Ke.call(this,null,e),this.modified(!0)}Nt(jIe,Ke,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=hDt(e.type),xU.forEach(r=>{e[r]!=null&&Kue(n,r,e[r])})):xU.forEach(r=>{e.modified(r)&&Kue(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&dDt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function dDt(e,t){const n=pDt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function hDt(e){const t=BZ((e||"mercator").toLowerCase());return t||gt("Unrecognized projection type: "+e),t()}function Kue(e,t,n){Or(e[t])&&e[t](n)}function pDt(e){return e=Mn(e),e.length===1?e[0]:{type:UZ,features:e.reduce((t,n)=>t.concat(gDt(n)),[])}}function gDt(e){return e.type===UZ?e.features:Mn(e).filter(t=>t!=null).map(t=>t.type===CU?t:{type:CU,geometry:t})}const mDt=Object.freeze(Object.defineProperty({__proto__:null,contour:WZ,geojson:jZ,geopath:HZ,geopoint:qZ,geoshape:GZ,graticule:KZ,heatmap:YZ,isocontour:zZ,kde2d:VZ,projection:jIe},Symbol.toStringTag,{value:"Module"}));function vDt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function s(){var o,i=n.length,a,l=0,u=0;for(o=0;o<i;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/i-e)*r,u=(u/i-t)*r,o=0;o<i;++o)a=n[o],a.x-=l,a.y-=u}return s.initialize=function(o){n=o},s.x=function(o){return arguments.length?(e=+o,s):e},s.y=function(o){return arguments.length?(t=+o,s):t},s.strength=function(o){return arguments.length?(r=+o,s):r},s}function yDt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return HIe(this.cover(t,n),t,n,e)}function HIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var s,o=e._root,i={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,v,y;if(!o)return e._root=i,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,s=o,!(o=o[v=m<<1|g]))return s[v]=i,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return i.next=o,s?s[v]=i:e._root=i,e;do s=s?s[v]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((v=m<<1|g)===(y=(p>=d)<<1|h>=f));return s[y]=o,s[v]=i,e}function bDt(e){var t,n,r=e.length,s,o,i=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(s=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(i[n]=s,a[n]=o,s<l&&(l=s),s>c&&(c=s),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)HIe(this,i[n],a[n],e[n]);return this}function wDt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,s=this._x1,o=this._y1;if(isNaN(n))s=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var i=s-n||1,a=this._root,l,u;n>e||e>=s||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,i*=2,u){case 0:s=n+i,o=r+i;break;case 1:n=s-i,o=r+i;break;case 2:s=n+i,r=o-i;break;case 3:n=s-i,r=o-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=s,this._y1=o,this}function xDt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function CDt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ea(e,t,n,r,s){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=s}function SDt(e,t,n){var r,s=this._x0,o=this._y0,i,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Ea(h,s,o,c,f)),n==null?n=1/0:(s=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(i=p.x0)>c||(a=p.y0)>f||(l=p.x1)<s||(u=p.y1)<o))if(h.length){var m=(i+l)/2,v=(a+u)/2;d.push(new Ea(h[3],m,v,l,u),new Ea(h[2],i,v,m,u),new Ea(h[1],m,a,l,v),new Ea(h[0],i,a,m,v)),(g=(t>=v)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var y=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),w=y*y+b*b;if(w<n){var C=Math.sqrt(n=w);s=e-C,o=t-C,c=e+C,f=t+C,r=h.data}}return r}function $Dt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,s,o,i=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(i+l)/2))?i=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,v=m)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,s?(o?s.next=o:delete s.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function kDt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function EDt(){return this._root}function _Dt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function TDt(e){var t=[],n,r=this._root,s,o,i,a,l;for(r&&t.push(new Ea(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,i=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(i+l)/2;(s=r[3])&&t.push(new Ea(s,u,c,a,l)),(s=r[2])&&t.push(new Ea(s,o,c,u,l)),(s=r[1])&&t.push(new Ea(s,u,i,a,c)),(s=r[0])&&t.push(new Ea(s,o,i,u,c))}return this}function ADt(e){var t=[],n=[],r;for(this._root&&t.push(new Ea(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var s=r.node;if(s.length){var o,i=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(i+l)/2,f=(a+u)/2;(o=s[0])&&t.push(new Ea(o,i,a,c,f)),(o=s[1])&&t.push(new Ea(o,c,a,l,f)),(o=s[2])&&t.push(new Ea(o,i,f,c,u)),(o=s[3])&&t.push(new Ea(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function IDt(e){return e[0]}function NDt(e){return arguments.length?(this._x=e,this):this._x}function DDt(e){return e[1]}function ODt(e){return arguments.length?(this._y=e,this):this._y}function XZ(e,t,n){var r=new ZZ(t??IDt,n??DDt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function ZZ(e,t,n,r,s,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=s,this._y1=o,this._root=void 0}function Yue(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ja=XZ.prototype=ZZ.prototype;ja.copy=function(){var e=new ZZ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Yue(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var s=0;s<4;++s)(r=t.source[s])&&(r.length?n.push({source:r,target:t.target[s]=new Array(4)}):t.target[s]=Yue(r));return e};ja.add=yDt;ja.addAll=bDt;ja.cover=wDt;ja.data=xDt;ja.extent=CDt;ja.find=SDt;ja.remove=$Dt;ja.removeAll=kDt;ja.root=EDt;ja.size=_Dt;ja.visit=TDt;ja.visitAfter=ADt;ja.x=NDt;ja.y=ODt;function Aa(e){return function(){return e}}function Fg(e){return(e()-.5)*1e-6}function RDt(e){return e.x+e.vx}function FDt(e){return e.y+e.vy}function MDt(e){var t,n,r,s=1,o=1;typeof e!="function"&&(e=Aa(e==null?1:+e));function i(){for(var u,c=t.length,f,d,h,p,g,m,v=0;v<o;++v)for(f=XZ(t,RDt,FDt).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(y);function y(b,w,C,S,$){var k=b.data,T=b.r,_=g+T;if(k){if(k.index>d.index){var E=h-k.x-k.vx,A=p-k.y-k.vy,I=E*E+A*A;I<_*_&&(E===0&&(E=Fg(r),I+=E*E),A===0&&(A=Fg(r),I+=A*A),I=(_-(I=Math.sqrt(I)))/I*s,d.vx+=(E*=I)*(_=(T*=T)/(m+T)),d.vy+=(A*=I)*_,k.vx-=E*(_=1-_),k.vy-=A*_)}return}return w>h+_||S<h-_||C>p+_||$<p-_}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return i.initialize=function(u,c){t=u,r=c,l()},i.iterations=function(u){return arguments.length?(o=+u,i):o},i.strength=function(u){return arguments.length?(s=+u,i):s},i.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Aa(+u),l(),i):e},i}function PDt(e){return e.index}function Xue(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function LDt(e){var t=PDt,n=f,r,s=Aa(30),o,i,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var v=0,y=e.length;v<c;++v)for(var b=0,w,C,S,$,k,T,_;b<y;++b)w=e[b],C=w.source,S=w.target,$=S.x+S.vx-C.x-C.vx||Fg(u),k=S.y+S.vy-C.y-C.vy||Fg(u),T=Math.sqrt($*$+k*k),T=(T-o[b])/T*m*r[b],$*=T,k*=T,S.vx-=$*(_=l[b]),S.vy-=k*_,C.vx+=$*(_=1-_),C.vy+=k*_}function h(){if(i){var m,v=i.length,y=e.length,b=new Map(i.map((C,S)=>[t(C,S,i),C])),w;for(m=0,a=new Array(v);m<y;++m)w=e[m],w.index=m,typeof w.source!="object"&&(w.source=Xue(b,w.source)),typeof w.target!="object"&&(w.target=Xue(b,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(m=0,l=new Array(y);m<y;++m)w=e[m],l[m]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(y),p(),o=new Array(y),g()}}function p(){if(i)for(var m=0,v=e.length;m<v;++m)r[m]=+n(e[m],m,e)}function g(){if(i)for(var m=0,v=e.length;m<v;++m)o[m]=+s(e[m],m,e)}return d.initialize=function(m,v){i=m,u=v,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Aa(+m),p(),d):n},d.distance=function(m){return arguments.length?(s=typeof m=="function"?m:Aa(+m),g(),d):s},d}var BDt={value:()=>{}};function qIe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new v3(n)}function v3(e){this._=e}function zDt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}v3.prototype=qIe.prototype={constructor:v3,on:function(e,t){var n=this._,r=zDt(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=VDt(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=Zue(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Zue(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new v3(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function VDt(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Zue(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=BDt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dx=0,w$=0,_S=0,GIe=1e3,qR,x$,GR=0,P1=0,mB=0,xE=typeof performance=="object"&&performance.now?performance:Date,KIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function JZ(){return P1||(KIe(WDt),P1=xE.now()+mB)}function WDt(){P1=0}function KR(){this._call=this._time=this._next=null}KR.prototype=YIe.prototype={constructor:KR,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?JZ():+n)+(t==null?0:+t),!this._next&&x$!==this&&(x$?x$._next=this:qR=this,x$=this),this._call=e,this._time=n,SU()},stop:function(){this._call&&(this._call=null,this._time=1/0,SU())}};function YIe(e,t,n){var r=new KR;return r.restart(e,t,n),r}function UDt(){JZ(),++dx;for(var e=qR,t;e;)(t=P1-e._time)>=0&&e._call.call(null,t),e=e._next;--dx}function Jue(){P1=(GR=xE.now())+mB,dx=w$=0;try{UDt()}finally{dx=0,HDt(),P1=0}}function jDt(){var e=xE.now(),t=e-GR;t>GIe&&(mB-=t,GR=e)}function HDt(){for(var e,t=qR,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qR=n);x$=e,SU(r)}function SU(e){if(!dx){w$&&(w$=clearTimeout(w$));var t=e-P1;t>24?(e<1/0&&(w$=setTimeout(Jue,e-xE.now()-mB)),_S&&(_S=clearInterval(_S))):(_S||(GR=xE.now(),_S=setInterval(jDt,GIe)),dx=1,KIe(Jue))}}function qDt(e,t,n){var r=new KR,s=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,i,a){i=+i,a=a==null?JZ():+a,r._restart(function l(u){u+=s,r._restart(l,s+=i,a),o(u)},i,a)},r.restart(e,t,n),r)}const GDt=1664525,KDt=1013904223,Que=4294967296;function YDt(){let e=1;return()=>(e=(GDt*e+KDt)%Que)/Que}function XDt(e){return e.x}function ZDt(e){return e.y}var JDt=10,QDt=Math.PI*(3-Math.sqrt(5));function e3t(e){var t,n=1,r=.001,s=1-Math.pow(r,1/300),o=0,i=.6,a=new Map,l=YIe(f),u=qIe("tick","end"),c=YDt();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,v=e.length,y;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*s,a.forEach(function(w){w(n)}),m=0;m<v;++m)y=e[m],y.fx==null?y.x+=y.vx*=i:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=i:(y.y=y.fy,y.vy=0);return t}function h(){for(var g=0,m=e.length,v;g<m;++g){if(v=e[g],v.index=g,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=JDt*Math.sqrt(.5+g),b=g*QDt;v.x=y*Math.cos(b),v.y=y*Math.sin(b)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(s=+g,t):+s},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(i=1-g,t):1-i},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,v){var y=0,b=e.length,w,C,S,$,k;for(v==null?v=1/0:v*=v,y=0;y<b;++y)$=e[y],w=g-$.x,C=m-$.y,S=w*w+C*C,S<v&&(k=$,v=S);return k},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function t3t(){var e,t,n,r,s=Aa(-30),o,i=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=XZ(e,XDt,ZDt).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+s(g,h,e)}}function f(h){var p=0,g,m,v=0,y,b,w;if(h.length){for(y=b=w=0;w<4;++w)(g=h[w])&&(m=Math.abs(g.value))&&(p+=g.value,v+=m,y+=m*g.x,b+=m*g.y);h.x=y/v,h.y=b/v}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var v=h.x-t.x,y=h.y-t.y,b=m-p,w=v*v+y*y;if(b*b/l<w)return w<a&&(v===0&&(v=Fg(n),w+=v*v),y===0&&(y=Fg(n),w+=y*y),w<i&&(w=Math.sqrt(i*w)),t.vx+=v*h.value*r/w,t.vy+=y*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(v===0&&(v=Fg(n),w+=v*v),y===0&&(y=Fg(n),w+=y*y),w<i&&(w=Math.sqrt(i*w)));do h.data!==t&&(b=o[h.data.index]*r/w,t.vx+=v*b,t.vy+=y*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(s=typeof h=="function"?h:Aa(+h),c(),u):s},u.distanceMin=function(h){return arguments.length?(i=h*h,u):Math.sqrt(i)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function n3t(e){var t=Aa(.1),n,r,s;typeof e!="function"&&(e=Aa(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(s[l]-c.x)*r[l]*a}function i(){if(n){var a,l=n.length;for(r=new Array(l),s=new Array(l),a=0;a<l;++a)r[a]=isNaN(s[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,i()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Aa(+a),i(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Aa(+a),i(),o):e},o}function r3t(e){var t=Aa(.1),n,r,s;typeof e!="function"&&(e=Aa(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(s[l]-c.y)*r[l]*a}function i(){if(n){var a,l=n.length;for(r=new Array(l),s=new Array(l),a=0;a<l;++a)r[a]=isNaN(s[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,i()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Aa(+a),i(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Aa(+a),i(),o):e},o}const ece={center:vDt,collide:MDt,nbody:t3t,link:LDt,x:n3t,y:r3t},C$="forces",$U=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],s3t=["static","iterations"],XIe=["x","y","vx","vy"];function QZ(e){Ke.call(this,null,e)}QZ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:XIe}]};Nt(QZ,Ke,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),s=e.modified($U),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(s||t.changed(t.MOD))&&ZIe(n,e,0,t)):(this.value=n=i3t(t.source,e),n.on("tick",o3t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),s||r||e.modified(s3t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==C$||c.op._argval.force!=="link")){for(var r=c.op._argops,s=0,o=r.length,i;s<o;++s)if(r[s].name==="links"&&(i=r[s].op.source)){n.pulse(i,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(XIe)}});function o3t(e,t){return()=>e.touch(t).run()}function i3t(e,t){const n=e3t(e),r=n.stop,s=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,s()),n.stop=()=>(o=!0,r()),ZIe(n,t,!0).on("end",()=>o=!0)}function ZIe(e,t,n,r){var s=Mn(t.forces),o,i,a,l;for(o=0,i=$U.length;o<i;++o)a=$U[o],a!==C$&&t.modified(a)&&e[a](t[a]);for(o=0,i=s.length;o<i;++o)l=C$+o,a=n||t.modified(C$,o)?l3t(s[o]):r&&a3t(s[o],r)?e.force(l):null,a&&e.force(l,a);for(i=e.numForces||0;o<i;++o)e.force(C$+o,null);return e.numForces=s.length,e}function a3t(e,t){var n,r;for(n in e)if(Or(r=e[n])&&t.modified(Zi(r)))return 1;return 0}function l3t(e){var t,n;Pn(ece,e.force)||gt("Unrecognized force: "+e.force),t=ece[e.force]();for(n in e)Or(t[n])&&u3t(t[n],e[n],e);return t}function u3t(e,t,n){e(Or(t)?r=>t(r,n):t)}const c3t=Object.freeze(Object.defineProperty({__proto__:null,force:QZ},Symbol.toStringTag,{value:"Module"}));function f3t(e,t){return e.parent===t.parent?1:2}function d3t(e){return e.reduce(h3t,0)/e.length}function h3t(e,t){return e+t.x}function p3t(e){return 1+e.reduce(g3t,0)}function g3t(e,t){return Math.max(e,t.y)}function m3t(e){for(var t;t=e.children;)e=t[0];return e}function v3t(e){for(var t;t=e.children;)e=t[t.length-1];return e}function y3t(){var e=f3t,t=1,n=1,r=!1;function s(o){var i,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=d3t(h),d.y=p3t(h)):(d.x=i?a+=e(d,i):0,d.y=0,i=d)});var l=m3t(o),u=v3t(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return s.separation=function(o){return arguments.length?(e=o,s):e},s.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],s):r?null:[t,n]},s.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],s):r?[t,n]:null},s}function b3t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function w3t(){return this.eachAfter(b3t)}function x3t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function C3t(e,t){for(var n=this,r=[n],s,o,i=-1;n=r.pop();)if(e.call(t,n,++i,this),s=n.children)for(o=s.length-1;o>=0;--o)r.push(s[o]);return this}function S3t(e,t){for(var n=this,r=[n],s=[],o,i,a,l=-1;n=r.pop();)if(s.push(n),o=n.children)for(i=0,a=o.length;i<a;++i)r.push(o[i]);for(;n=s.pop();)e.call(t,n,++l,this);return this}function $3t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function k3t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,s=r&&r.length;--s>=0;)n+=r[s].value;t.value=n})}function E3t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function _3t(e){for(var t=this,n=T3t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;e!==n;)r.splice(s,0,e),e=e.parent;return r}function T3t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),s=null;for(e=n.pop(),t=r.pop();e===t;)s=e,e=n.pop(),t=r.pop();return s}function A3t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function I3t(){return Array.from(this)}function N3t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function D3t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*O3t(){var e=this,t,n=[e],r,s,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(s=0,o=r.length;s<o;++s)n.push(r[s]);while(n.length)}function eJ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=M3t)):t===void 0&&(t=F3t);for(var n=new hx(e),r,s=[n],o,i,a,l;r=s.pop();)if((i=t(r.data))&&(l=(i=Array.from(i)).length))for(r.children=i,a=l-1;a>=0;--a)s.push(o=i[a]=new hx(i[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(JIe)}function R3t(){return eJ(this).eachBefore(P3t)}function F3t(e){return e.children}function M3t(e){return Array.isArray(e)?e[1]:null}function P3t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function JIe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function hx(e){this.data=e,this.depth=this.height=0,this.parent=null}hx.prototype=eJ.prototype={constructor:hx,count:w3t,each:x3t,eachAfter:S3t,eachBefore:C3t,find:$3t,sum:k3t,sort:E3t,path:_3t,ancestors:A3t,descendants:I3t,leaves:N3t,links:D3t,copy:R3t,[Symbol.iterator]:O3t};function L3t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B3t(e){for(var t=e.length,n,r;t;)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e}function z3t(e){for(var t=0,n=(e=B3t(Array.from(e))).length,r=[],s,o;t<n;)s=e[t],o&&QIe(o,s)?++t:(o=W3t(r=V3t(r,s)),t=0);return o}function V3t(e,t){var n,r;if(e9(t,e))return[t];for(n=0;n<e.length;++n)if(TN(t,e[n])&&e9(S$(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(TN(S$(e[n],e[r]),t)&&TN(S$(e[n],t),e[r])&&TN(S$(e[r],t),e[n])&&e9(eNe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function TN(e,t){var n=e.r-t.r,r=t.x-e.x,s=t.y-e.y;return n<0||n*n<r*r+s*s}function QIe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,s=t.y-e.y;return n>0&&n*n>r*r+s*s}function e9(e,t){for(var n=0;n<t.length;++n)if(!QIe(e,t[n]))return!1;return!0}function W3t(e){switch(e.length){case 1:return U3t(e[0]);case 2:return S$(e[0],e[1]);case 3:return eNe(e[0],e[1],e[2])}}function U3t(e){return{x:e.x,y:e.y,r:e.r}}function S$(e,t){var n=e.x,r=e.y,s=e.r,o=t.x,i=t.y,a=t.r,l=o-n,u=i-r,c=a-s,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+i+u/f*c)/2,r:(f+s+a)/2}}function eNe(e,t,n){var r=e.x,s=e.y,o=e.r,i=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-i,h=r-u,p=s-a,g=s-c,m=l-o,v=f-o,y=r*r+s*s-o*o,b=y-i*i-a*a+l*l,w=y-u*u-c*c+f*f,C=h*p-d*g,S=(p*w-g*b)/(C*2)-r,$=(g*m-p*v)/C,k=(h*b-d*w)/(C*2)-s,T=(d*v-h*m)/C,_=$*$+T*T-1,E=2*(o+S*$+k*T),A=S*S+k*k-o*o,I=-(_?(E+Math.sqrt(E*E-4*_*A))/(2*_):A/E);return{x:r+S+$*I,y:s+k+T*I,r:I}}function tce(e,t,n){var r=e.x-t.x,s,o,i=e.y-t.y,a,l,u=r*r+i*i;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(s=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-s*s)),n.x=e.x-s*r-a*i,n.y=e.y-s*i+a*r):(s=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-s*s)),n.x=t.x+s*r-a*i,n.y=t.y+s*i+a*r)):(n.x=t.x+n.r,n.y=t.y)}function nce(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,s=t.y-e.y;return n>0&&n*n>r*r+s*s}function rce(e){var t=e._,n=e.next._,r=t.r+n.r,s=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return s*s+o*o}function AN(e){this._=e,this.next=null,this.previous=null}function j3t(e){if(!(s=(e=L3t(e)).length))return 0;var t,n,r,s,o,i,a,l,u,c,f;if(t=e[0],t.x=0,t.y=0,!(s>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(s>2))return t.r+n.r;tce(n,t,r=e[2]),t=new AN(t),n=new AN(n),r=new AN(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(a=3;a<s;++a){tce(t._,n._,r=e[a]),r=new AN(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(nce(l._,r._)){n=l,t.next=n,n.previous=t,--a;continue e}c+=l._.r,l=l.next}else{if(nce(u._,r._)){t=u,t.next=n,n.previous=t,--a;continue e}f+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=rce(t);(r=r.next)!==n;)(i=rce(r))<o&&(t=r,o=i);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=z3t(t),a=0;a<s;++a)t=e[a],t.x-=r.x,t.y-=r.y;return r.r}function H3t(e){return e==null?null:YR(e)}function YR(e){if(typeof e!="function")throw new Error;return e}function yv(){return 0}function Bb(e){return function(){return e}}function q3t(e){return Math.sqrt(e.value)}function G3t(){var e=null,t=1,n=1,r=yv;function s(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(sce(e)).eachAfter(t9(r,.5)).eachBefore(oce(1)):o.eachBefore(sce(q3t)).eachAfter(t9(yv,1)).eachAfter(t9(r,o.r/Math.min(t,n))).eachBefore(oce(Math.min(t,n)/(2*o.r))),o}return s.radius=function(o){return arguments.length?(e=H3t(o),s):e},s.size=function(o){return arguments.length?(t=+o[0],n=+o[1],s):[t,n]},s.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Bb(+o),s):r},s}function sce(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function t9(e,t){return function(n){if(r=n.children){var r,s,o=r.length,i=e(n)*t||0,a;if(i)for(s=0;s<o;++s)r[s].r+=i;if(a=j3t(r),i)for(s=0;s<o;++s)r[s].r-=i;n.r=a+i}}}function oce(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function tNe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function _A(e,t,n,r,s){for(var o=e.children,i,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)i=o[a],i.y0=n,i.y1=s,i.x0=t,i.x1=t+=i.value*u}function K3t(){var e=1,t=1,n=0,r=!1;function s(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(o(t,a)),r&&i.eachBefore(tNe),i}function o(i,a){return function(l){l.children&&_A(l,l.x0,i*(l.depth+1)/a,l.x1,i*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return s.round=function(i){return arguments.length?(r=!!i,s):r},s.size=function(i){return arguments.length?(e=+i[0],t=+i[1],s):[e,t]},s.padding=function(i){return arguments.length?(n=+i,s):n},s}var Y3t={depth:-1},ice={};function X3t(e){return e.id}function Z3t(e){return e.parentId}function ace(){var e=X3t,t=Z3t;function n(r){var s=Array.from(r),o=s.length,i,a,l,u,c,f,d,h=new Map;for(a=0;a<o;++a)i=s[a],c=s[a]=new hx(i),(f=e(i,a,r))!=null&&(f+="")&&(d=c.id=f,h.set(d,h.has(d)?ice:c)),(f=t(i,a,r))!=null&&(f+="")&&(c.parent=f);for(a=0;a<o;++a)if(c=s[a],f=c.parent){if(u=h.get(f),!u)throw new Error("missing: "+f);if(u===ice)throw new Error("ambiguous: "+f);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=Y3t,l.eachBefore(function(p){p.depth=p.parent.depth+1,--o}).eachBefore(JIe),l.parent=null,o>0)throw new Error("cycle");return l}return n.id=function(r){return arguments.length?(e=YR(r),n):e},n.parentId=function(r){return arguments.length?(t=YR(r),n):t},n}function J3t(e,t){return e.parent===t.parent?1:2}function n9(e){var t=e.children;return t?t[0]:e.t}function r9(e){var t=e.children;return t?t[t.length-1]:e.t}function Q3t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function eOt(e){for(var t=0,n=0,r=e.children,s=r.length,o;--s>=0;)o=r[s],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function tOt(e,t,n){return e.a.parent===t.parent?e.a:n}function y3(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}y3.prototype=Object.create(hx.prototype);function nOt(e){for(var t=new y3(e,0),n,r=[t],s,o,i,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),i=a-1;i>=0;--i)r.push(s=n.children[i]=new y3(o[i],i)),s.parent=n;return(t.parent=new y3(null,0)).children=[t],t}function rOt(){var e=J3t,t=1,n=1,r=null;function s(u){var c=nOt(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(i),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),v=n/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+g)*m,y.y=y.depth*v})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){eOt(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function i(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,v=h.m,y=p.m,b=g.m,w;p=r9(p),d=n9(d),p&&d;)g=n9(g),h=r9(h),h.a=u,w=p.z+y-d.z-m+e(p._,d._),w>0&&(Q3t(tOt(p,u,f),u,w),m+=w,v+=w),y+=p.m,m+=d.m,b+=g.m,v+=h.m;p&&!r9(h)&&(h.t=p,h.m+=y-v),d&&!n9(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return s.separation=function(u){return arguments.length?(e=u,s):e},s.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],s):r?null:[t,n]},s.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],s):r?[t,n]:null},s}function vB(e,t,n,r,s){for(var o=e.children,i,a=-1,l=o.length,u=e.value&&(s-n)/e.value;++a<l;)i=o[a],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*u}var nNe=(1+Math.sqrt(5))/2;function rNe(e,t,n,r,s,o){for(var i=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,v,y,b,w,C,S;c<d;){h=s-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(v=y=m,C=Math.max(p/h,h/p)/(g*e),S=m*m*C,w=Math.max(y/S,S/v);f<d;++f){if(m+=u=a[f].value,u<v&&(v=u),u>y&&(y=u),S=m*m*C,b=Math.max(y/S,S/v),b>w){m-=u;break}w=b}i.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?_A(l,n,r,s,g?r+=p*m/g:o):vB(l,n,r,g?n+=h*m/g:s,o),g-=m,c=f}return i}const sNe=(function e(t){function n(r,s,o,i,a){rNe(t,r,s,o,i,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(nNe);function sOt(){var e=sNe,t=!1,n=1,r=1,s=[0],o=yv,i=yv,a=yv,l=yv,u=yv;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),s=[0],t&&d.eachBefore(tNe),d}function f(d){var h=s[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,v=d.y1-h;m<p&&(p=m=(p+m)/2),v<g&&(g=v=(g+v)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=v,d.children&&(h=s[d.depth+1]=o(d)/2,p+=u(d)-h,g+=i(d)-h,m-=a(d)-h,v-=l(d)-h,m<p&&(p=m=(p+m)/2),v<g&&(g=v=(g+v)/2),e(d,p,g,m,v))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=YR(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Bb(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(i=typeof d=="function"?d:Bb(+d),c):i},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:Bb(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Bb(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Bb(+d),c):u},c}function oOt(e,t,n,r,s){var o=e.children,i,a=o.length,l,u=new Array(a+1);for(u[0]=l=i=0;i<a;++i)u[i+1]=l+=o[i].value;c(0,a,e.value,t,n,r,s);function c(f,d,h,p,g,m,v){if(f>=d-1){var y=o[f];y.x0=p,y.y0=g,y.x1=m,y.y1=v;return}for(var b=u[f],w=h/2+b,C=f+1,S=d-1;C<S;){var $=C+S>>>1;u[$]<w?C=$+1:S=$}w-u[C-1]<u[C]-w&&f+1<C&&--C;var k=u[C]-b,T=h-k;if(m-p>v-g){var _=h?(p*T+m*k)/h:m;c(f,C,k,p,g,_,v),c(C,d,T,_,g,m,v)}else{var E=h?(g*T+v*k)/h:v;c(f,C,k,p,g,m,E),c(C,d,T,p,E,m,v)}}}function iOt(e,t,n,r,s){(e.depth&1?vB:_A)(e,t,n,r,s)}const aOt=(function e(t){function n(r,s,o,i,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?_A(u,s,o,i,g?o+=(a-o)*u.value/g:a):vB(u,s,o,g?s+=(i-s)*u.value/g:i,a),g-=u.value}else r._squarify=l=rNe(t,r,s,o,i,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(nNe);function kU(e,t,n){const r={};return e.each(s=>{const o=s.data;n(o)&&(r[t(o)]=s)}),e.lookup=r,e}function tJ(e){Ke.call(this,null,e)}tJ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const lOt=e=>e.values;Nt(tJ,Ke,{transform(e,t){t.source||gt("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),s=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(i=>{i.children&&gL(i.data)&&s.rem.push(i.data)}),this.value=o=eJ({values:Mn(e.keys).reduce((i,a)=>(i.key(a),i),uOt()).entries(s.source)},lOt),n&&o.each(i=>{i.children&&(i=_r(i.data),s.add.push(i),s.source.push(i))}),kU(o,gn,gn)),s.source.root=o,s}});function uOt(){const e=[],t={entries:s=>r(n(s,0),0),key:s=>(e.push(s),t)};function n(s,o){if(o>=e.length)return s;const i=s.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<i;)f=a(d=s[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(s,o){if(++o>e.length)return s;const i=[];for(const a in s)i.push({key:a,values:r(s[a],o)});return i}return t}function Op(e){Ke.call(this,null,e)}const cOt=(e,t)=>e.parent===t.parent?1:2;Nt(Op,Ke,{transform(e,t){(!t.source||!t.source.root)&&gt(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,s=t.source.root,o=e.as||r;e.field?s.sum(e.field):s.count(),e.sort&&s.sort(xy(e.sort,i=>i.data)),fOt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?cOt:iC);try{this.value=n(s)}catch(i){gt(i)}return s.each(i=>dOt(i,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function fOt(e,t,n){for(let r,s=0,o=t.length;s<o;++s)r=t[s],r in n&&e[r](n[r])}function dOt(e,t,n){const r=e.data,s=t.length-1;for(let o=0;o<s;++o)r[n[o]]=e[t[o]];r[n[s]]=e.children?e.children.length:0}const EU=["x","y","r","depth","children"];function nJ(e){Op.call(this,e)}nJ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:EU.length,default:EU}]};Nt(nJ,Op,{layout:G3t,params:["radius","size","padding"],fields:EU});const _U=["x0","y0","x1","y1","depth","children"];function rJ(e){Op.call(this,e)}rJ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:_U.length,default:_U}]};Nt(rJ,Op,{layout:K3t,params:["size","round","padding"],fields:_U});function sJ(e){Ke.call(this,null,e)}sJ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Nt(sJ,Ke,{transform(e,t){t.source||gt("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),s=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s.source=s.source.slice(),o&&(n=s.source.length?kU(ace().id(e.key).parentId(e.parentKey)(s.source),e.key,aC):kU(ace()([{}]),e.key,e.key)),s.source.root=this.value=n,s}});const lce={tidy:rOt,cluster:y3t},TU=["x","y","depth","children"];function oJ(e){Op.call(this,e)}oJ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:TU.length,default:TU}]};Nt(oJ,Op,{layout(e){const t=e||"tidy";if(Pn(lce,t))return lce[t]();gt("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:TU});function iJ(e){Ke.call(this,[],e)}iJ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Nt(iJ,Ke,{transform(e,t){const n=this.value,r=t.source&&t.source.root,s=t.fork(t.NO_SOURCE),o={};return r||gt("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(s.rem=n,t.visit(t.SOURCE,i=>o[gn(i)]=1),r.each(i=>{const a=i.data,l=i.parent&&i.parent.data;l&&o[gn(a)]&&o[gn(l)]&&s.add.push(_r({source:l,target:a}))}),this.value=s.add):t.changed(t.MOD)&&(t.visit(t.MOD,i=>o[gn(i)]=1),n.forEach(i=>{(o[gn(i.source)]||o[gn(i.target)])&&s.mod.push(i)})),s}});const uce={binary:oOt,dice:_A,slice:vB,slicedice:iOt,squarify:sNe,resquarify:aOt},AU=["x0","y0","x1","y1","depth","children"];function aJ(e){Op.call(this,e)}aJ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:AU.length,default:AU}]};Nt(aJ,Op,{layout(){const e=sOt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Pn(uce,t)?e.tile(uce[t]):gt("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:AU});const hOt=Object.freeze(Object.defineProperty({__proto__:null,nest:tJ,pack:nJ,partition:rJ,stratify:sJ,tree:oJ,treelinks:iJ,treemap:aJ},Symbol.toStringTag,{value:"Module"})),IU=Math.PI,NU=2*IU,lv=1e-6,pOt=NU-lv;function DU(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ry(){return new DU}DU.prototype=Ry.prototype={constructor:DU,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,s,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var o=this._x1,i=this._y1,a=n-e,l=r-t,u=o-e,c=i-t,f=u*u+c*c;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>lv)if(!(Math.abs(c*a-l*u)>lv)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=n-o,h=r-i,p=a*a+l*l,g=d*d+h*h,m=Math.sqrt(p),v=Math.sqrt(f),y=s*Math.tan((IU-Math.acos((p+f-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>lv&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+s+","+s+",0,0,"+ +(c*d>u*h)+","+(this._x1=e+w*a)+","+(this._y1=t+w*l)}},arc:function(e,t,n,r,s,o){e=+e,t=+t,n=+n,o=!!o;var i=n*Math.cos(r),a=n*Math.sin(r),l=e+i,u=t+a,c=1^o,f=o?r-s:s-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>lv||Math.abs(this._y1-u)>lv)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%NU+NU),f>pOt?this._+="A"+n+","+n+",0,1,"+c+","+(e-i)+","+(t-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>lv&&(this._+="A"+n+","+n+",0,"+ +(f>=IU)+","+c+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Nr(e){return function(){return e}}var cce=Math.abs,Ei=Math.atan2,z0=Math.cos,gOt=Math.max,s9=Math.min,bf=Math.sin,Gb=Math.sqrt,Ii=1e-12,px=Math.PI,XR=px/2,oNe=2*px;function mOt(e){return e>1?0:e<-1?px:Math.acos(e)}function fce(e){return e>=1?XR:e<=-1?-XR:Math.asin(e)}function vOt(e){return e.innerRadius}function yOt(e){return e.outerRadius}function bOt(e){return e.startAngle}function wOt(e){return e.endAngle}function xOt(e){return e&&e.padAngle}function COt(e,t,n,r,s,o,i,a){var l=n-e,u=r-t,c=i-s,f=a-o,d=f*l-c*u;if(!(d*d<Ii))return d=(c*(t-o)-f*(e-s))/d,[e+d*l,t+d*u]}function IN(e,t,n,r,s,o,i){var a=e-n,l=t-r,u=(i?o:-o)/Gb(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,v=(h+g)/2,y=p-d,b=g-h,w=y*y+b*b,C=s-o,S=d*g-p*h,$=(b<0?-1:1)*Gb(gOt(0,C*C*w-S*S)),k=(S*b-y*$)/w,T=(-S*y-b*$)/w,_=(S*b+y*$)/w,E=(-S*y+b*$)/w,A=k-m,I=T-v,F=_-m,R=E-v;return A*A+I*I>F*F+R*R&&(k=_,T=E),{cx:k,cy:T,x01:-c,y01:-f,x11:k*(s/C-1),y11:T*(s/C-1)}}function SOt(){var e=vOt,t=yOt,n=Nr(0),r=null,s=bOt,o=wOt,i=xOt,a=null;function l(){var u,c,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=s.apply(this,arguments)-XR,p=o.apply(this,arguments)-XR,g=cce(p-h),m=p>h;if(a||(a=u=Ry()),d<f&&(c=d,d=f,f=c),!(d>Ii))a.moveTo(0,0);else if(g>oNe-Ii)a.moveTo(d*z0(h),d*bf(h)),a.arc(0,0,d,h,p,!m),f>Ii&&(a.moveTo(f*z0(p),f*bf(p)),a.arc(0,0,f,p,h,m));else{var v=h,y=p,b=h,w=p,C=g,S=g,$=i.apply(this,arguments)/2,k=$>Ii&&(r?+r.apply(this,arguments):Gb(f*f+d*d)),T=s9(cce(d-f)/2,+n.apply(this,arguments)),_=T,E=T,A,I;if(k>Ii){var F=fce(k/f*bf($)),R=fce(k/d*bf($));(C-=F*2)>Ii?(F*=m?1:-1,b+=F,w-=F):(C=0,b=w=(h+p)/2),(S-=R*2)>Ii?(R*=m?1:-1,v+=R,y-=R):(S=0,v=y=(h+p)/2)}var L=d*z0(v),D=d*bf(v),N=f*z0(w),M=f*bf(w);if(T>Ii){var z=d*z0(y),W=d*bf(y),j=f*z0(b),U=f*bf(b),Y;if(g<px&&(Y=COt(L,D,j,U,z,W,N,M))){var G=L-Y[0],ne=D-Y[1],ue=z-Y[0],ae=W-Y[1],X=1/bf(mOt((G*ue+ne*ae)/(Gb(G*G+ne*ne)*Gb(ue*ue+ae*ae)))/2),J=Gb(Y[0]*Y[0]+Y[1]*Y[1]);_=s9(T,(f-J)/(X-1)),E=s9(T,(d-J)/(X+1))}}S>Ii?E>Ii?(A=IN(j,U,L,D,d,E,m),I=IN(z,W,N,M,d,E,m),a.moveTo(A.cx+A.x01,A.cy+A.y01),E<T?a.arc(A.cx,A.cy,E,Ei(A.y01,A.x01),Ei(I.y01,I.x01),!m):(a.arc(A.cx,A.cy,E,Ei(A.y01,A.x01),Ei(A.y11,A.x11),!m),a.arc(0,0,d,Ei(A.cy+A.y11,A.cx+A.x11),Ei(I.cy+I.y11,I.cx+I.x11),!m),a.arc(I.cx,I.cy,E,Ei(I.y11,I.x11),Ei(I.y01,I.x01),!m))):(a.moveTo(L,D),a.arc(0,0,d,v,y,!m)):a.moveTo(L,D),!(f>Ii)||!(C>Ii)?a.lineTo(N,M):_>Ii?(A=IN(N,M,z,W,f,-_,m),I=IN(L,D,j,U,f,-_,m),a.lineTo(A.cx+A.x01,A.cy+A.y01),_<T?a.arc(A.cx,A.cy,_,Ei(A.y01,A.x01),Ei(I.y01,I.x01),!m):(a.arc(A.cx,A.cy,_,Ei(A.y01,A.x01),Ei(A.y11,A.x11),!m),a.arc(0,0,f,Ei(A.cy+A.y11,A.cx+A.x11),Ei(I.cy+I.y11,I.cx+I.x11),m),a.arc(I.cx,I.cy,_,Ei(I.y11,I.x11),Ei(I.y01,I.x01),!m))):a.arc(0,0,f,w,b,m)}if(a.closePath(),u)return a=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-px/2;return[z0(c)*u,bf(c)*u]},l.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Nr(+u),l):e},l.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Nr(+u),l):t},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Nr(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Nr(+u),l):r},l.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Nr(+u),l):s},l.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Nr(+u),l):o},l.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Nr(+u),l):i},l.context=function(u){return arguments.length?(a=u??null,l):a},l}function iNe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aNe(e){this._context=e}aNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lJ(e){return new aNe(e)}function lNe(e){return e[0]}function uNe(e){return e[1]}function cNe(e,t){var n=Nr(!0),r=null,s=lJ,o=null;e=typeof e=="function"?e:e===void 0?lNe:Nr(e),t=typeof t=="function"?t:t===void 0?uNe:Nr(t);function i(a){var l,u=(a=iNe(a)).length,c,f=!1,d;for(r==null&&(o=s(d=Ry())),l=0;l<=u;++l)!(l<u&&n(c=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,l,a),+t(c,l,a));if(d)return o=null,d+""||null}return i.x=function(a){return arguments.length?(e=typeof a=="function"?a:Nr(+a),i):e},i.y=function(a){return arguments.length?(t=typeof a=="function"?a:Nr(+a),i):t},i.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Nr(!!a),i):n},i.curve=function(a){return arguments.length?(s=a,r!=null&&(o=s(r)),i):s},i.context=function(a){return arguments.length?(a==null?r=o=null:o=s(r=a),i):r},i}function fNe(e,t,n){var r=null,s=Nr(!0),o=null,i=lJ,a=null;e=typeof e=="function"?e:e===void 0?lNe:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?uNe:Nr(+n);function l(c){var f,d,h,p=(c=iNe(c)).length,g,m=!1,v,y=new Array(p),b=new Array(p);for(o==null&&(a=i(v=Ry())),f=0;f<=p;++f){if(!(f<p&&s(g=c[f],f,c))===m)if(m=!m)d=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=f-1;h>=d;--h)a.point(y[h],b[h]);a.lineEnd(),a.areaEnd()}m&&(y[f]=+e(g,f,c),b[f]=+t(g,f,c),a.point(r?+r(g,f,c):y[f],n?+n(g,f,c):b[f]))}if(v)return a=null,v+""||null}function u(){return cNe().defined(s).curve(i).context(o)}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),r=null,l):e},l.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Nr(+c),l):r},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),n=null,l):t},l.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Nr(+c),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Nr(!!c),l):s},l.curve=function(c){return arguments.length?(i=c,o!=null&&(a=i(o)),l):i},l.context=function(c){return arguments.length?(c==null?o=a=null:a=i(o=c),l):o},l}const $Ot={draw:function(e,t){var n=Math.sqrt(t/px);e.moveTo(n,0),e.arc(0,0,n,0,oNe)}};function kOt(e,t){var n=null;e=typeof e=="function"?e:Nr(e||$Ot),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function r(){var s;if(n||(n=s=Ry()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),r):t},r.context=function(s){return arguments.length?(n=s??null,r):n},r}function Fm(){}function ZR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function yB(e){this._context=e}yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ZR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ZR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EOt(e){return new yB(e)}function dNe(e){this._context=e}dNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ZR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Ot(e){return new dNe(e)}function hNe(e){this._context=e}hNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ZR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TOt(e){return new hNe(e)}function pNe(e,t){this._basis=new yB(e),this._beta=t}pNe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],s=t[0],o=e[n]-r,i=t[n]-s,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(s+l*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const AOt=(function e(t){function n(r){return t===1?new yB(r):new pNe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function JR(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function uJ(e,t){this._context=e,this._k=(1-t)/6}uJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:JR(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:JR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IOt=(function e(t){function n(r){return new uJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function cJ(e,t){this._context=e,this._k=(1-t)/6}cJ.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:JR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NOt=(function e(t){function n(r){return new cJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function fJ(e,t){this._context=e,this._k=(1-t)/6}fJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:JR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const DOt=(function e(t){function n(r){return new fJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function dJ(e,t,n){var r=e._x1,s=e._y1,o=e._x2,i=e._y2;if(e._l01_a>Ii){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ii){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,i=(i*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,s,o,i,e._x2,e._y2)}function gNe(e,t){this._context=e,this._alpha=t}gNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:dJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const OOt=(function e(t){function n(r){return t?new gNe(r,t):new uJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function mNe(e,t){this._context=e,this._alpha=t}mNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:dJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ROt=(function e(t){function n(r){return t?new mNe(r,t):new cJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function vNe(e,t){this._context=e,this._alpha=t}vNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FOt=(function e(t){function n(r){return t?new vNe(r,t):new fJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function yNe(e){this._context=e}yNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MOt(e){return new yNe(e)}function dce(e){return e<0?-1:1}function hce(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),i=(n-e._y1)/(s||r<0&&-0),a=(o*s+i*r)/(r+s);return(dce(o)+dce(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(a))||0}function pce(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o9(e,t,n){var r=e._x0,s=e._y0,o=e._x1,i=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,s+a*t,o-a,i-a*n,o,i)}function QR(e){this._context=e}QR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o9(this,this._t0,pce(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o9(this,pce(this,n=hce(this,e,t)),n);break;default:o9(this,this._t0,n=hce(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bNe(e){this._context=new wNe(e)}(bNe.prototype=Object.create(QR.prototype)).point=function(e,t){QR.prototype.point.call(this,t,e)};function wNe(e){this._context=e}wNe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function POt(e){return new QR(e)}function LOt(e){return new bNe(e)}function xNe(e){this._context=e}xNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gce(e),s=gce(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gce(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),i=new Array(n);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function BOt(e){return new xNe(e)}function bB(e,t){this._context=e,this._t=t}bB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function zOt(e){return new bB(e,.5)}function VOt(e){return new bB(e,0)}function WOt(e){return new bB(e,1)}var mce={},i9={},a9=34,TS=10,l9=13;function CNe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function UOt(e,t){var n=CNe(e);return function(r,s){return t(n(r),s,e)}}function vce(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var s in r)s in t||n.push(t[s]=s)}),n}function Xa(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function jOt(e){return e<0?"-"+Xa(-e,6):e>9999?"+"+Xa(e,6):Xa(e,4)}function HOt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":jOt(e.getUTCFullYear())+"-"+Xa(e.getUTCMonth()+1,2)+"-"+Xa(e.getUTCDate(),2)+(s?"T"+Xa(t,2)+":"+Xa(n,2)+":"+Xa(r,2)+"."+Xa(s,3)+"Z":r?"T"+Xa(t,2)+":"+Xa(n,2)+":"+Xa(r,2)+"Z":n||t?"T"+Xa(t,2)+":"+Xa(n,2)+"Z":"")}function qOt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=s(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?UOt(m,d):CNe(m)});return g.columns=p||[],g}function s(f,d){var h=[],p=f.length,g=0,m=0,v,y=p<=0,b=!1;f.charCodeAt(p-1)===TS&&--p,f.charCodeAt(p-1)===l9&&--p;function w(){if(y)return i9;if(b)return b=!1,mce;var S,$=g,k;if(f.charCodeAt($)===a9){for(;g++<p&&f.charCodeAt(g)!==a9||f.charCodeAt(++g)===a9;);return(S=g)>=p?y=!0:(k=f.charCodeAt(g++))===TS?b=!0:k===l9&&(b=!0,f.charCodeAt(g)===TS&&++g),f.slice($+1,S-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(S=g++))===TS)b=!0;else if(k===l9)b=!0,f.charCodeAt(g)===TS&&++g;else if(k!==n)continue;return f.slice($,S)}return y=!0,f.slice($,p)}for(;(v=w())!==i9;){for(var C=[];v!==mce&&v!==i9;)C.push(v),v=w();d&&(C=d(C,m++))==null||h.push(C)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function i(f,d){return d==null&&(d=vce(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=vce(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?HOt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:s,format:i,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function GOt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eF(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gx(e){return e=eF(Math.abs(e)),e?e[1]:NaN}function KOt(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function YOt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var XOt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function CE(e){if(!(t=XOt.exec(e)))throw new Error("invalid format: "+e);var t;return new hJ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}CE.prototype=hJ.prototype;function hJ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hJ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZOt(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var SNe;function JOt(e,t){var n=eF(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(SNe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eF(e,Math.max(0,t+o-1))[0]}function yce(e,t){var n=eF(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const bce={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GOt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yce(e*100,t),r:yce,s:JOt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wce(e){return e}var xce=Array.prototype.map,Cce=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Ne(e){var t=e.grouping===void 0||e.thousands===void 0?wce:KOt(xce.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?wce:YOt(xce.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=CE(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,b=f.precision,w=f.trim,C=f.type;C==="n"?(y=!0,C="g"):bce[C]||(b===void 0&&(b=12),w=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=bce[C],T=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(E){var A=S,I=$,F,R,L;if(C==="c")I=k(E)+I,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),b),w&&(E=ZOt(E)),D&&+E==0&&p!=="+"&&(D=!1),A=(D?p==="("?p:a:p==="-"||p==="("?"":p)+A,I=(C==="s"?Cce[8+SNe/3]:"")+I+(D&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(L=E.charCodeAt(F),48>L||L>57){I=(L===46?s+E.slice(F+1):E.slice(F))+I,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var N=A.length+E.length+I.length,M=N<v?new Array(v-N+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-I.length:1/0),M=""),h){case"<":E=A+E+I+M;break;case"=":E=A+M+E+I;break;case"^":E=M.slice(0,N=M.length>>1)+A+E+I+M.slice(N);break;default:E=M+A+E+I;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=CE(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(gx(d)/3)))*3,g=Math.pow(10,-p),m=Cce[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var NN,kNe,ENe;QOt({thousands:",",grouping:[3],currency:["$",""]});function QOt(e){return NN=$Ne(e),kNe=NN.format,ENe=NN.formatPrefix,NN}function eRt(e){return Math.max(0,-gx(Math.abs(e)))}function tRt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gx(t)/3)))*3-gx(Math.abs(e)))}function nRt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gx(t)-gx(e))+1}function $$(e){const t={};return n=>t[n]||(t[n]=e(n))}function rRt(e,t){return n=>{const r=e(n),s=r.indexOf(t);if(s<0)return r;let o=sRt(r,s);const i=o<r.length?r.slice(o):"";for(;--o>s;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+i}}function sRt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function _Ne(e){const t=$$(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const s=CE(r||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return rRt(t(s),t(".1f")(1)[1])}else return t(s)},formatSpan(r,s,o,i){i=CE(i??",f");const a=_m(r,s,o),l=Math.max(Math.abs(r),Math.abs(s));let u;if(i.precision==null)switch(i.type){case"s":return isNaN(u=tRt(a,l))||(i.precision=u),n(i,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=nRt(a,l))||(i.precision=u-(i.type==="e"));break}case"f":case"%":{isNaN(u=eRt(a))||(i.precision=u-(i.type==="%")*2);break}}return t(i)}}}let OU;TNe();function TNe(){return OU=_Ne({format:kNe,formatPrefix:ENe})}function ANe(e){return _Ne($Ne(e))}function tF(e){return arguments.length?OU=ANe(e):OU}function Sce(e,t,n){n=n||{},tr(n)||gt("Invalid time multi-format specifier: ".concat(n));const r=t(Bu),s=t(su),o=t(ru),i=t(Sl),a=t(bo),l=t(Qi),u=t(Cl),c=t(vi),f=e(n[Wc]||".%L"),d=e(n[Bu]||":%S"),h=e(n[su]||"%I:%M"),p=e(n[ru]||"%I %p"),g=e(n[Sl]||n[ji]||"%a %d"),m=e(n[bo]||"%b %d"),v=e(n[Qi]||"%B"),y=e(n[Cl]||"%B"),b=e(n[vi]||"%Y");return w=>(r(w)<w?f:s(w)<w?d:o(w)<w?h:i(w)<w?p:l(w)<w?a(w)<w?g:m:c(w)<w?u(w)<w?v:y:b)(w)}function INe(e){const t=$$(e.format),n=$$(e.utcFormat);return{timeFormat:r=>ys(r)?t(r):Sce(t,gC,r),utcFormat:r=>ys(r)?n(r):Sce(n,mC,r),timeParse:$$(e.parse),utcParse:$$(e.utcParse)}}let RU;NNe();function NNe(){return RU=INe({format:oB,parse:uAe,utcFormat:iB,utcParse:cAe})}function DNe(e){return INe(sAe(e))}function SE(e){return arguments.length?RU=DNe(e):RU}const FU=(e,t)=>sr({},e,t);function ONe(e,t){const n=e?ANe(e):tF(),r=t?DNe(t):SE();return FU(n,r)}function RNe(e,t){const n=arguments.length;return n&&n!==2&&gt("defaultLocale expects either zero or two arguments."),n?FU(tF(e),SE(t)):FU(tF(),SE())}function oRt(){return TNe(),NNe(),RNe()}const iRt=/^(data:|([A-Za-z]+:)?\/\/)/,aRt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,lRt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,$ce="file://";function uRt(e,t){return n=>({options:n||{},sanitize:fRt,load:cRt,fileAccess:!1,file:dRt(t),http:pRt(e)})}async function cRt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function fRt(e,t){t=sr({},this.options,t);const n=this.fileAccess,r={href:null};let s,o,i;const a=aRt.test(e.replace(lRt,""));(e==null||typeof e!="string"||!a)&&gt("Sanitize failure, invalid URI: "+_n(e));const l=iRt.test(e);return(i=t.baseURL)&&!l&&(!e.startsWith("/")&&!i.endsWith("/")&&(e="/"+e),e=i+e),o=(s=e.startsWith($ce))||t.mode==="file"||t.mode!=="http"&&!l&&n,s?e=e.slice($ce.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function dRt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(s,o)=>{s?r(s):n(o)})}):hRt}async function hRt(){gt("No file system access.")}function pRt(e){return e?async function(t,n){const r=sr({},this.options.http,n),s=n&&n.response,o=await e(t,r);return o.ok?Or(o[s])?o[s]():o.text():gt(o.status+""+o.statusText)}:gRt}async function gRt(){gt("No HTTP fetch method available.")}const mRt=e=>e!=null&&e===e,vRt=e=>e==="true"||e==="false"||e===!0||e===!1,yRt=e=>!Number.isNaN(Date.parse(e)),FNe=e=>!Number.isNaN(+e)&&!(e instanceof Date),bRt=e=>FNe(e)&&Number.isInteger(+e),MU={boolean:f$e,integer:xm,number:xm,date:d$e,string:h$e,unknown:Pu},DN=[vRt,bRt,FNe,yRt],wRt=["boolean","integer","number","date"];function MNe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=DN.length,s=DN.map((o,i)=>i+1);for(let o=0,i=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(s[a]&&mRt(l)&&!DN[a](l)&&(s[a]=0,++i,i===DN.length))return"string";return wRt[s.reduce((o,i)=>o===0?i:o,0)-1]}function PNe(e,t){return t.reduce((n,r)=>(n[r]=MNe(e,r),n),{})}function kce(e){const t=function(n,r){const s={delimiter:e};return pJ(n,r?sr(r,s):s)};return t.responseType="text",t}function pJ(e,t){return t.header&&(e=t.header.map(_n).join(t.delimiter)+`
`+e),qOt(t.delimiter).parse(e+"")}pJ.responseType="text";function xRt(e){return typeof Buffer=="function"&&Or(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function gJ(e,t){const n=t&&t.property?wm(t.property):Pu;return tr(e)&&!xRt(e)?CRt(n(e),t):n(JSON.parse(e))}gJ.responseType="json";function CRt(e,t){return!jn(e)&&a$e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const SRt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function LNe(e,t){let n,r,s,o;return e=gJ(e,t),t&&t.feature?(n=y$e,s=t.feature):t&&t.mesh?(n=w$e,s=t.mesh,o=SRt[t.filter]):gt("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,o):gt("Invalid TopoJSON object: "+s),r&&r.features||[r]}LNe.responseType="json";const b3={dsv:pJ,csv:kce(","),tsv:kce("	"),json:gJ,topojson:LNe};function mJ(e,t){return arguments.length>1?(b3[e]=t,this):Pn(b3,e)?b3[e]:null}function $Rt(e){const t=mJ(e);return t&&t.responseType||"text"}function kRt(e,t,n,r){t=t||{};const s=mJ(t.type||"json");return s||gt("Unknown data format type: "+t.type),e=s(e,t),t.parse&&ERt(e,t.parse,n,r),Pn(e,"columns")&&delete e.columns,e}function ERt(e,t,n,r){if(!e.length)return;const s=SE();n=n||s.timeParse,r=r||s.utcParse;let o=e.columns||Object.keys(e[0]),i,a,l,u,c,f;t==="auto"&&(t=PNe(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!MU[p])throw Error("Illegal format pattern: "+h+":"+p);return MU[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(i=e[l],u=0;u<f;++u)a=o[u],i[a]=d[u](i[a])}const vJ=uRt(typeof fetch<"u"&&fetch,null);let BNe=0;function _Rt(){BNe=0}const nF="p_";function yJ(e){return e&&e.gradient}function zNe(e,t,n){const r=e.gradient;let s=e.id,o=r==="radial"?nF:"";return s||(s=e.id="gradient_"+BNe++,r==="radial"?(e.x1=wf(e.x1,.5),e.y1=wf(e.y1,.5),e.r1=wf(e.r1,0),e.x2=wf(e.x2,.5),e.y2=wf(e.y2,.5),e.r2=wf(e.r2,.5),o=nF):(e.x1=wf(e.x1,0),e.y1=wf(e.y1,0),e.x2=wf(e.x2,1),e.y2=wf(e.y2,0))),t[s]=e,"url("+(n||"")+"#"+o+s+")"}function wf(e,t){return e??t}function VNe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(s,o){return n.push({offset:s,color:o}),r}}}const Ece={basis:{curve:EOt},"basis-closed":{curve:_Ot},"basis-open":{curve:TOt},bundle:{curve:AOt,tension:"beta",value:.85},cardinal:{curve:IOt,tension:"tension",value:0},"cardinal-open":{curve:DOt,tension:"tension",value:0},"cardinal-closed":{curve:NOt,tension:"tension",value:0},"catmull-rom":{curve:OOt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ROt,tension:"alpha",value:.5},"catmull-rom-open":{curve:FOt,tension:"alpha",value:.5},linear:{curve:lJ},"linear-closed":{curve:MOt},monotone:{horizontal:LOt,vertical:POt},natural:{curve:BOt},step:{curve:zOt},"step-after":{curve:WOt},"step-before":{curve:VOt}};function bJ(e,t,n){var r=Pn(Ece,e)&&Ece[e],s=null;return r&&(s=r.curve||r[t||"vertical"],r.tension&&n!=null&&(s=s[r.tension](n))),s}const TRt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},AS=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function mx(e){const t=[];let n,r,s,o,i,a,l,u,c,f;const d=e.slice().replace(AS[0],"###$1").split(AS[1]).slice(1);for(l=0,c=d.length;l<c;++l){for(n=d[l],r=n.slice(1).trim().replace(AS[2],"$1###$2").replace(AS[3],"$1###$2").split(AS[4]),i=n.charAt(0),s=[i],u=0,f=r.length;u<f;++u)(o=+r[u])===o&&s.push(o);if(a=TRt[i.toLowerCase()],s.length-1>a){const h=s.length;for(u=1,t.push([i].concat(s.slice(u,u+=a))),i=i==="M"?"L":i==="m"?"l":i;u<h;u+=a)t.push([i].concat(s.slice(u,u+a)))}else t.push(s)}return t}const Mm=Math.PI/180,ARt=1e-14,bv=Math.PI/2,Pf=Math.PI*2,wb=Math.sqrt(3)/2;var u9={},c9={},WNe=[].join;function IRt(e,t,n,r,s,o,i,a,l){const u=WNe.call(arguments);if(u9[u])return u9[u];const c=i*Mm,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,v=f/n,y=-f/r,b=d/r,w=m*a+v*l,C=y*a+b*l,S=m*e+v*t,$=y*e+b*t;let T=1/((S-w)*(S-w)+($-C)*($-C))-.25;T<0&&(T=0);let _=Math.sqrt(T);o==s&&(_=-_);const E=.5*(w+S)-_*($-C),A=.5*(C+$)+_*(S-w),I=Math.atan2(C-A,w-E);let R=Math.atan2($-A,S-E)-I;R<0&&o===1?R+=Pf:R>0&&o===0&&(R-=Pf);const L=Math.ceil(Math.abs(R/(bv+.001))),D=[];for(let N=0;N<L;++N){const M=I+N*R/L,z=I+(N+1)*R/L;D[N]=[E,A,M,z,n,r,f,d]}return u9[u]=D}function NRt(e){const t=WNe.call(e);if(c9[t])return c9[t];var n=e[0],r=e[1],s=e[2],o=e[3],i=e[4],a=e[5],l=e[6],u=e[7];const c=u*i,f=-l*a,d=l*i,h=u*a,p=Math.cos(s),g=Math.sin(s),m=Math.cos(o),v=Math.sin(o),y=.5*(o-s),b=Math.sin(y*.5),w=8/3*b*b/Math.sin(y),C=n+p-w*g,S=r+g+w*p,$=n+m,k=r+v,T=$+w*v,_=k-w*m;return c9[t]=[c*C+f*S,d*C+h*S,c*T+f*_,d*T+h*_,c*$+f*k,d*$+h*k]}const gu=["l",0,0,0,0,0,0,0];function DRt(e,t,n){const r=gu[0]=e[0];if(r==="a"||r==="A")gu[1]=t*e[1],gu[2]=n*e[2],gu[3]=e[3],gu[4]=e[4],gu[5]=e[5],gu[6]=t*e[6],gu[7]=n*e[7];else if(r==="h"||r==="H")gu[1]=t*e[1];else if(r==="v"||r==="V")gu[1]=n*e[1];else for(var s=1,o=e.length;s<o;++s)gu[s]=(s%2==1?t:n)*e[s];return gu}function $E(e,t,n,r,s,o){var i,a=null,l=0,u=0,c=0,f=0,d,h,p,g;n==null&&(n=0),r==null&&(r=0),s==null&&(s=1),o==null&&(o=s),e.beginPath&&e.beginPath();for(var m=0,v=t.length;m<v;++m){switch(i=t[m],(s!==1||o!==1)&&(i=DRt(i,s,o)),i[0]){case"l":l+=i[1],u+=i[2],e.lineTo(l+n,u+r);break;case"L":l=i[1],u=i[2],e.lineTo(l+n,u+r);break;case"h":l+=i[1],e.lineTo(l+n,u+r);break;case"H":l=i[1],e.lineTo(l+n,u+r);break;case"v":u+=i[1],e.lineTo(l+n,u+r);break;case"V":u=i[1],e.lineTo(l+n,u+r);break;case"m":l+=i[1],u+=i[2],e.moveTo(l+n,u+r);break;case"M":l=i[1],u=i[2],e.moveTo(l+n,u+r);break;case"c":d=l+i[5],h=u+i[6],c=l+i[3],f=u+i[4],e.bezierCurveTo(l+i[1]+n,u+i[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=i[5],u=i[6],c=i[3],f=i[4],e.bezierCurveTo(i[1]+n,i[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+i[3],h=u+i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+i[1]+n,u+i[2]+r,d+n,h+r),c=l+i[1],f=u+i[2],l=d,u=h;break;case"S":d=i[3],h=i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"q":d=l+i[3],h=u+i[4],c=l+i[1],f=u+i[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=i[3],h=i[4],e.quadraticCurveTo(i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"t":d=l+i[1],h=u+i[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+i[1],f=u+i[2];break;case"T":d=i[1],h=i[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":_ce(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+l+n,i[7]+u+r]),l+=i[6],u+=i[7];break;case"A":_ce(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+n,i[7]+r]),l=i[6],u=i[7];break;case"z":case"Z":e.closePath();break}a=i}}function _ce(e,t,n,r){const s=IRt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<s.length;++o){const i=NRt(s[o]);e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}}const Tce=.5773502691896257,Ace={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Pf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,s=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(s,-o),e.lineTo(0,-n),e.lineTo(-s,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n,s=r-n*Tce,o=n/4;e.moveTo(0,-r-s),e.lineTo(-o,r-s),e.lineTo(o,r-s),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n,s=r-n*Tce;e.moveTo(0,-r-s),e.lineTo(-n,r-s),e.lineTo(n,r-s),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function UNe(e){return Pn(Ace,e)?Ace[e]:ORt(e)}var f9={};function ORt(e){if(!Pn(f9,e)){const t=mx(e);f9[e]={draw:function(n,r){$E(n,t,0,0,Math.sqrt(r)/2)}}}return f9[e]}const Jp=.448084975506;function RRt(e){return e.x}function FRt(e){return e.y}function MRt(e){return e.width}function PRt(e){return e.height}function lh(e){return typeof e=="function"?e:()=>+e}function ON(e,t,n){return Math.max(t,Math.min(e,n))}function jNe(){var e=RRt,t=FRt,n=MRt,r=PRt,s=lh(0),o=s,i=s,a=s,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),v=+r.call(this,c),y=Math.min(m,v)/2,b=ON(+s.call(this,c),0,y),w=ON(+o.call(this,c),0,y),C=ON(+i.call(this,c),0,y),S=ON(+a.call(this,c),0,y);if(l||(l=h=Ry()),b<=0&&w<=0&&C<=0&&S<=0)l.rect(p,g,m,v);else{var $=p+m,k=g+v;l.moveTo(p+b,g),l.lineTo($-w,g),l.bezierCurveTo($-Jp*w,g,$,g+Jp*w,$,g+w),l.lineTo($,k-S),l.bezierCurveTo($,k-Jp*S,$-Jp*S,k,$-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+Jp*C,k,p,k-Jp*C,p,k-C),l.lineTo(p,g+b),l.bezierCurveTo(p,g+Jp*b,p+Jp*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=lh(c),u):e},u.y=function(c){return arguments.length?(t=lh(c),u):t},u.width=function(c){return arguments.length?(n=lh(c),u):n},u.height=function(c){return arguments.length?(r=lh(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(s=lh(c),o=f!=null?lh(f):s,a=d!=null?lh(d):s,i=h!=null?lh(h):o,u):s},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function HNe(){var e,t,n,r,s=null,o,i,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-i;if(g||m){var v=Math.sqrt(g*g+m*m),y=(g/=v)*l,b=(m/=v)*l,w=Math.atan2(m,g);s.moveTo(i-y,a-b),s.lineTo(f-g*p,d-m*p),s.arc(f,d,p,w-Math.PI,w),s.lineTo(i+y,a+b),s.arc(i,a,l,w,w+Math.PI)}else s.arc(f,d,p,0,Pf);s.closePath()}else o=1;i=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(s==null&&(s=m=Ry()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return s=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?s=null:s=f,c):s},c}function TA(e,t){return e??t}const AA=e=>e.x||0,IA=e=>e.y||0,LRt=e=>e.width||0,BRt=e=>e.height||0,zRt=e=>(e.x||0)+(e.width||0),VRt=e=>(e.y||0)+(e.height||0),WRt=e=>e.startAngle||0,URt=e=>e.endAngle||0,jRt=e=>e.padAngle||0,HRt=e=>e.innerRadius||0,qRt=e=>e.outerRadius||0,GRt=e=>e.cornerRadius||0,KRt=e=>TA(e.cornerRadiusTopLeft,e.cornerRadius)||0,YRt=e=>TA(e.cornerRadiusTopRight,e.cornerRadius)||0,XRt=e=>TA(e.cornerRadiusBottomRight,e.cornerRadius)||0,ZRt=e=>TA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,JRt=e=>TA(e.size,64),QRt=e=>e.size||1,wB=e=>e.defined!==!1,eFt=e=>UNe(e.shape||"circle"),tFt=SOt().startAngle(WRt).endAngle(URt).padAngle(jRt).innerRadius(HRt).outerRadius(qRt).cornerRadius(GRt),nFt=fNe().x(AA).y1(IA).y0(VRt).defined(wB),rFt=fNe().y(IA).x1(AA).x0(zRt).defined(wB),sFt=cNe().x(AA).y(IA).defined(wB),oFt=jNe().x(AA).y(IA).width(LRt).height(BRt).cornerRadius(KRt,YRt,XRt,ZRt),iFt=kOt().type(eFt).size(JRt),aFt=HNe().x(AA).y(IA).defined(wB).size(QRt);function wJ(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function lFt(e,t){return tFt.context(e)(t)}function uFt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?rFt:nFt).curve(bJ(r,n.orient,n.tension)).context(e)(t)}function cFt(e,t){const n=t[0],r=n.interpolate||"linear";return sFt.curve(bJ(r,n.orient,n.tension)).context(e)(t)}function $C(e,t,n,r){return oFt.context(e)(t,n,r)}function fFt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function dFt(e,t){return iFt.context(e)(t)}function hFt(e,t){return aFt.context(e)(t)}var qNe=1;function GNe(){qNe=1}function xJ(e,t,n){var r=t.clip,s=e._defs,o=t.clip_id||(t.clip_id="clip"+qNe++),i=s.clipping[o]||(s.clipping[o]={id:o});return Or(r)?i.path=r(null):wJ(n)?i.path=$C(null,n,0,0):(i.width=n.width||0,i.height=n.height||0),"url(#"+o+")"}function La(e){this.clear(),e&&this.union(e)}La.prototype={clone(){return new La(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:s,x2:o,y2:i}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*s+u,l*r+a*s+c,a*r-l*i+u,l*r+a*i+c,a*o-l*s+u,l*o+a*s+c,a*o-l*i+u,l*o+a*i+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function CJ(e){this.mark=e,this.bounds=this.bounds||new La}function SJ(e){CJ.call(this,e),this.items=this.items||[]}Nt(SJ,CJ);function $J(e){this._pending=0,this._loader=e||vJ()}function Ice(e){e._pending+=1}function IS(e){e._pending-=1}$J.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return Ice(t),t._loader.sanitize(e,{context:"href"}).then(n=>(IS(t),n)).catch(()=>(IS(t),null))},loadImage(e){const t=this,n=A2t();return Ice(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const s=r.href;if(!s||!n)throw{url:s};const o=new n,i=Pn(r,"crossOrigin")?r.crossOrigin:"anonymous";return i!=null&&(o.crossOrigin=i),o.onload=()=>IS(t),o.onerror=()=>IS(t),o.src=s,o}).catch(r=>(IS(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function Fy(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?pFt(t,r):0))}return e}function pFt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const gFt=Pf-1e-8;let xB,w3,x3,Iv,PU,C3,LU,BU;const Mg=(e,t)=>xB.add(e,t),S3=(e,t)=>Mg(w3=e,x3=t),Nce=e=>Mg(e,xB.y1),Dce=e=>Mg(xB.x1,e),wv=(e,t)=>PU*e+LU*t,xv=(e,t)=>C3*e+BU*t,d9=(e,t)=>Mg(wv(e,t),xv(e,t)),h9=(e,t)=>S3(wv(e,t),xv(e,t));function NA(e,t){return xB=e,t?(Iv=t*Mm,PU=BU=Math.cos(Iv),C3=Math.sin(Iv),LU=-C3):(PU=BU=1,Iv=C3=LU=0),mFt}const mFt={beginPath(){},closePath(){},moveTo:h9,lineTo:h9,rect(e,t,n,r){Iv?(d9(e+n,t),d9(e+n,t+r),d9(e,t+r),h9(e,t)):(Mg(e+n,t+r),S3(e,t))},quadraticCurveTo(e,t,n,r){const s=wv(e,t),o=xv(e,t),i=wv(n,r),a=xv(n,r);Oce(w3,s,i,Nce),Oce(x3,o,a,Dce),S3(i,a)},bezierCurveTo(e,t,n,r,s,o){const i=wv(e,t),a=xv(e,t),l=wv(n,r),u=xv(n,r),c=wv(s,o),f=xv(s,o);Rce(w3,i,l,c,Nce),Rce(x3,a,u,f,Dce),S3(c,f)},arc(e,t,n,r,s,o){if(r+=Iv,s+=Iv,w3=n*Math.cos(s)+e,x3=n*Math.sin(s)+t,Math.abs(s-r)>gFt)Mg(e-n,t-n),Mg(e+n,t+n);else{const i=u=>Mg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(i(r),i(s),s!==r)if(r=r%Pf,r<0&&(r+=Pf),s=s%Pf,s<0&&(s+=Pf),s<r&&(o=!o,a=r,r=s,s=a),o)for(s-=Pf,a=r-r%bv,l=0;l<4&&a>s;++l,a-=bv)i(a);else for(a=r-r%bv+bv,l=0;l<4&&a<s;++l,a=a+bv)i(a)}}};function Oce(e,t,n,r){const s=(e-t)/(e+n-2*t);0<s&&s<1&&r(e+(t-e)*s)}function Rce(e,t,n,r,s){const o=r-e+3*t-3*n,i=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>ARt?(c=i*i+a*o,c>=0&&(c=Math.sqrt(c),l=(-i+c)/o,u=(-i-c)/o)):l=.5*a/i,0<l&&l<1&&s(Fce(l,e,t,n,r)),0<u&&u<1&&s(Fce(u,e,t,n,r))}function Fce(e,t,n,r,s){const o=1-e,i=o*o,a=e*e;return i*o*t+3*i*e*n+3*o*a*r+a*e*s}var nm=(nm=c0(1,1))?nm.getContext("2d"):null;const zU=new La;function kJ(e){return function(t,n){if(!nm)return!0;e(nm,t),zU.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:s,x2:o,y2:i}=zU;for(let a=s;a<=i;++a)for(let l=r;l<=o;++l)if(nm.isPointInPath(l,a))return!0;return!1}}function EJ(e,t){return t.contains(e.x||0,e.y||0)}function KNe(e,t){const n=e.x||0,r=e.y||0,s=e.width||0,o=e.height||0;return t.intersects(zU.set(n,r,n+s,r+o))}function YNe(e,t){const n=e.x||0,r=e.y||0,s=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Kb(t,n,r,s,o)}function Kb(e,t,n,r,s){const{x1:o,y1:i,x2:a,y2:l}=e,u=r-t,c=s-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(i-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function vx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ic(e,t){return e??t}function Mce(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function vFt(e,t,n){const r=n.width(),s=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+ic(t.x1,.5)*r,n.y1+ic(t.y1,.5)*s,Math.max(r,s)*ic(t.r1,0),n.x1+ic(t.x2,.5)*r,n.y1+ic(t.y2,.5)*s,Math.max(r,s)*ic(t.r2,.5));else{const i=ic(t.x1,0),a=ic(t.y1,0),l=ic(t.x2,1),u=ic(t.y2,0);if(i===l||a===u||r===s)o=e.createLinearGradient(n.x1+i*r,n.y1+a*s,n.x1+l*r,n.y1+u*s);else{const c=c0(Math.ceil(r),Math.ceil(s)),f=c.getContext("2d");return f.scale(r,s),f.fillStyle=Mce(f.createLinearGradient(i,a,l,u),t.stops),f.fillRect(0,0,r,s),e.createPattern(c,"no-repeat")}}return Mce(o,t.stops)}function XNe(e,t,n){return yJ(n)?vFt(e,n,t.bounds):n}function rF(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=XNe(e,t,t.fill),!0):!1}var yFt=[];function yx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=XNe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||yFt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function bFt(e,t){return e.zindex-t.zindex||e.index-t.index}function _J(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,s,o;for(s=0,o=t.length;s<o;++s)r=t[s],r.index=s,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(bFt)}function Uc(e,t){var n=e.items,r,s;if(!n||!n.length)return;const o=_J(e);if(o&&o.length){for(r=0,s=n.length;r<s;++r)n[r].zindex||t(n[r]);n=o}for(r=0,s=n.length;r<s;++r)t(n[r])}function sF(e,t){var n=e.items,r,s;if(!n||!n.length)return null;const o=_J(e);for(o&&o.length&&(n=o),s=n.length;--s>=0;)if(r=t(n[s]))return r;if(n===o){for(n=e.items,s=n.length;--s>=0;)if(!n[s].zindex&&(r=t(n[s])))return r}return null}function TJ(e){return function(t,n,r){Uc(n,s=>{(!r||r.intersects(s.bounds))&&ZNe(e,t,s,s)})}}function wFt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&ZNe(e,t,n.items[0],n.items)}}function ZNe(e,t,n,r){var s=n.opacity==null?1:n.opacity;s!==0&&(e(t,r)||(vx(t,n),n.fill&&rF(t,n,s)&&t.fill(),n.stroke&&yx(t,n,s)&&t.stroke()))}function CB(e){return e=e||aC,function(t,n,r,s,o,i){return r*=t.pixelRatio,s*=t.pixelRatio,sF(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,i)||!l)&&e(t,a,r,s,o,i))return a})}}function DA(e,t){return function(n,r,s,o){var i=Array.isArray(r)?r[0]:r,a=t??i.fill,l=i.stroke&&n.isPointInStroke,u,c;return l&&(u=i.strokeWidth,c=i.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(s,o)||l&&n.isPointInStroke(s,o)}}function AJ(e){return CB(DA(e))}function e1(e,t){return"translate("+e+","+t+")"}function IJ(e){return"rotate("+e+")"}function xFt(e,t){return"scale("+e+","+t+")"}function JNe(e){return e1(e.x||0,e.y||0)}function CFt(e){return e1(e.x||0,e.y||0)+(e.angle?" "+IJ(e.angle):"")}function SFt(e){return e1(e.x||0,e.y||0)+(e.angle?" "+IJ(e.angle):"")+(e.scaleX||e.scaleY?" "+xFt(e.scaleX||1,e.scaleY||1):"")}function NJ(e,t,n){function r(i,a){i("transform",CFt(a)),i("d",t(null,a))}function s(i,a){return t(NA(i,a.angle),a),Fy(i,a).translate(a.x||0,a.y||0)}function o(i,a){var l=a.x||0,u=a.y||0,c=a.angle||0;i.translate(l,u),c&&i.rotate(c*=Mm),i.beginPath(),t(i,a),c&&i.rotate(-c),i.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:s,draw:TJ(o),pick:AJ(o),isect:n||kJ(o)}}var $Ft=NJ("arc",lFt);function kFt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",s=e.length,o=1/0,i,a;--s>=0;)e[s].defined!==!1&&(a=Math.abs(e[s][r]-n),a<o&&(o=a,i=e[s]));return i}function EFt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,s,o,i;--r>=0;)if(e[r].defined!==!1&&(s=e[r].x-t[0],o=e[r].y-t[1],i=s*s+o*o,i<n))return e[r];return null}function _Ft(e,t){for(var n=e.length,r,s,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],s=e[n].y-t[1],o=r*r+s*s,r=e[n].size||1,o<r*r))return e[n];return null}function DJ(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function s(l,u){var c=u.items;return c.length===0?l:(t(NA(l),c),Fy(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const i=DA(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,i(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:s,draw:wFt(o),pick:a,isect:EJ,tip:n}}var TFt=DJ("area",uFt,kFt);function AFt(e,t){var n=t.clip;e.save(),Or(n)?(e.beginPath(),n(e),e.clip()):QNe(e,t.group)}function QNe(e,t){e.beginPath(),wJ(t)?$C(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function eDe(e){const t=ic(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function IFt(e,t){e("transform",JNe(t))}function tDe(e,t){const n=eDe(t);e("d",$C(null,t,n,n))}function NFt(e,t){e("class","background"),e("aria-hidden",!0),tDe(e,t)}function DFt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?tDe(e,t):e("d","")}function OFt(e,t,n){const r=t.clip?xJ(n,t,t):null;e("clip-path",r)}function RFt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let s=0;s<r;++s)e.union(n[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Fy(e,t),e.translate(t.x||0,t.y||0)}function kE(e,t,n,r){const s=eDe(t);e.beginPath(),$C(e,t,(n||0)+s,(r||0)+s)}const FFt=DA(kE),MFt=DA(kE,!1),PFt=DA(kE,!0);function LFt(e,t,n){Uc(t,r=>{const s=r.x||0,o=r.y||0,i=r.strokeForeground,a=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&a&&(kE(e,r,s,o),vx(e,r),r.fill&&rF(e,r,a)&&e.fill(),r.stroke&&!i&&yx(e,r,a)&&e.stroke()),e.save(),e.translate(s,o),r.clip&&QNe(e,r),n&&n.translate(-s,-o),Uc(r,l=>{this.draw(e,l,n)}),n&&n.translate(s,o),e.restore(),i&&r.stroke&&a&&(kE(e,r,s,o),vx(e,r),yx(e,r,a)&&e.stroke())})}function BFt(e,t,n,r,s,o){if(t.bounds&&!t.bounds.contains(s,o)||!t.items)return null;const i=n*e.pixelRatio,a=r*e.pixelRatio;return sF(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(s,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(s<c||s>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=s-c,f=o-f,g&&wJ(l)&&!PFt(e,l,i,a))return e.restore(),null;const m=l.strokeForeground,v=t.interactive!==!1;return v&&m&&l.stroke&&MFt(e,l,i,a)?(e.restore(),l):(u=sF(l,y=>zFt(y,c,f)?this.pick(y,n,r,c,f):null),!u&&v&&(l.fill||!m&&l.stroke)&&FFt(e,l,i,a)&&(u=l),e.restore(),u||null)})}function zFt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var VFt={type:"group",tag:"g",nested:!1,attr:IFt,bound:RFt,draw:LFt,pick:BFt,isect:KNe,content:OFt,background:NFt,foreground:DFt},EE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function OJ(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function RJ(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function FJ(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function SB(e,t){return e==="center"?t/2:e==="right"?t:0}function $B(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function WFt(e,t,n){const r=OJ(t,n),s=RJ(t,r),o=FJ(t,r),i=(t.x||0)-SB(t.align,s),a=(t.y||0)-$B(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,EE["xmlns:xlink"],"xlink:href"),e("transform",e1(i,a)),e("width",s),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function UFt(e,t){const n=t.image,r=RJ(t,n),s=FJ(t,n),o=(t.x||0)-SB(t.align,r),i=(t.y||0)-$B(t.baseline,s);return e.set(o,i,o+r,i+s)}function jFt(e,t,n){Uc(t,r=>{if(n&&!n.intersects(r.bounds))return;const s=OJ(r,this);let o=RJ(r,s),i=FJ(r,s);if(o===0||i===0)return;let a=(r.x||0)-SB(r.align,o),l=(r.y||0)-$B(r.baseline,i),u,c,f,d;r.aspect!==!1&&(c=s.width/s.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(i-d)/2,i=d):(d=i*c,a+=(o-d)/2,o=d))),(s.complete||s.toDataURL)&&(vx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(s,a,l,o,i))})}var HFt={type:"image",tag:"image",nested:!1,attr:WFt,bound:UFt,draw:jFt,pick:CB(),isect:aC,get:OJ,xOffset:SB,yOffset:$B},qFt=DJ("line",cFt,EFt);function GFt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",SFt(t)),e("d",t.path)}function $3(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,s=t.y||0,o=t.scaleX||1,i=t.scaleY||1,a=(t.angle||0)*Mm,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=mx(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,s),e.rotate(a),$E(e,l,0,0,o,i),e.rotate(-a),e.translate(-r,-s)):$E(e,l,r,s,o,i)}function KFt(e,t){return $3(NA(e,t.angle),t)?e.set(0,0,0,0):Fy(e,t,!0)}var YFt={type:"path",tag:"path",nested:!1,attr:GFt,bound:KFt,draw:TJ($3),pick:AJ($3),isect:kJ($3)};function XFt(e,t){e("d",$C(null,t))}function ZFt(e,t){var n,r;return Fy(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Pce(e,t){e.beginPath(),$C(e,t)}var JFt={type:"rect",tag:"path",nested:!1,attr:XFt,bound:ZFt,draw:TJ(Pce),pick:AJ(Pce),isect:KNe};function QFt(e,t){e("transform",JNe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function eMt(e,t){var n,r;return Fy(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function nDe(e,t,n){var r,s,o,i;return t.stroke&&yx(e,t,n)?(r=t.x||0,s=t.y||0,o=t.x2!=null?t.x2:r,i=t.y2!=null?t.y2:s,e.beginPath(),e.moveTo(r,s),e.lineTo(o,i),!0):!1}function tMt(e,t,n){Uc(t,r=>{if(!(n&&!n.intersects(r.bounds))){var s=r.opacity==null?1:r.opacity;s&&nDe(e,r,s)&&(vx(e,r),e.stroke())}})}function nMt(e,t,n,r){return e.isPointInStroke?nDe(e,t,1)&&e.isPointInStroke(n,r):!1}var rMt={type:"rule",tag:"line",nested:!1,attr:QFt,bound:eMt,draw:tMt,pick:CB(nMt),isect:YNe},sMt=NJ("shape",fFt),oMt=NJ("symbol",dFt,EJ);const Lce=u$e();var Zf={height:Ld,measureWidth:MJ,estimateWidth:VU,width:VU,canvas:rDe};rDe(!0);function rDe(e){Zf.width=e&&nm?MJ:VU}function VU(e,t){return sDe(Lm(e,t),Ld(e))}function sDe(e,t){return~~(.8*e.length*t)}function MJ(e,t){return Ld(e)<=0||!(t=Lm(e,t))?0:oDe(t,kB(e))}function oDe(e,t){const n=`(${t}) ${e}`;let r=Lce.get(n);return r===void 0&&(nm.font=t,r=nm.measureText(e).width,Lce.set(n,r)),r}function Ld(e){return e.fontSize!=null?+e.fontSize||0:11}function Pm(e){return e.lineHeight!=null?e.lineHeight:Ld(e)+2}function iMt(e){return jn(e)?e.length>1?e:e[0]:e}function OA(e){return iMt(e.lineBreak&&e.text&&!jn(e.text)?e.text.split(e.lineBreak):e.text)}function aMt(e){const t=OA(e);return(jn(t)?t.length-1:0)*Pm(e)}function Lm(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?uMt(e,n):n}function lMt(e){if(Zf.width===MJ){const t=kB(e);return n=>oDe(n,t)}else{const t=Ld(e);return n=>sDe(n,t)}}function uMt(e,t){var n=+e.limit,r=lMt(e);if(r(t)<n)return t;var s=e.ellipsis||"",o=e.dir==="rtl",i=0,a=t.length,l;if(n-=r(s),o){for(;i<a;)l=i+a>>>1,r(t.slice(l))>n?i=l+1:a=l;return s+t.slice(i)}else{for(;i<a;)l=1+(i+a>>>1),r(t.slice(0,l))<n?i=l:a=l-1;return t.slice(0,i)+s}}function RA(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function kB(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ld(e)+"px "+RA(e,t)}function PJ(e){var t=e.baseline,n=Ld(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Pm(e):t==="line-bottom"?.29*n-.5*Pm(e):0)}const cMt={left:"start",center:"middle",right:"end"},Z$=new La;function EB(e){var t=e.x||0,n=e.y||0,r=e.radius||0,s;return r&&(s=(e.theta||0)-bv,t+=r*Math.cos(s),n+=r*Math.sin(s)),Z$.x1=t,Z$.y1=n,Z$}function fMt(e,t){var n=t.dx||0,r=(t.dy||0)+PJ(t),s=EB(t),o=s.x1,i=s.y1,a=t.angle||0,l;e("text-anchor",cMt[t.align]||"start"),a?(l=e1(o,i)+" "+IJ(a),(n||r)&&(l+=" "+e1(n,r))):l=e1(o+n,i+r),e("transform",l)}function LJ(e,t,n){var r=Zf.height(t),s=t.align,o=EB(t),i=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+PJ(t)-Math.round(.8*r),c=OA(t),f;if(jn(c)?(r+=Pm(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Zf.width(t,h)),0)):f=Zf.width(t,c),s==="center"?l-=f/2:s==="right"&&(l-=f),e.set(l+=i,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Mm,i,a);else if(n===2)return e.rotatedPoints(t.angle*Mm,i,a);return e}function dMt(e,t,n){Uc(t,r=>{var s=r.opacity==null?1:r.opacity,o,i,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||s===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=kB(r),e.textAlign=r.align||"left",o=EB(r),i=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(i,a),e.rotate(r.angle*Mm),i=a=0),i+=r.dx||0,a+=(r.dy||0)+PJ(r),c=OA(r),vx(e,r),jn(c))for(u=Pm(r),l=0;l<c.length;++l)f=Lm(r,c[l]),r.fill&&rF(e,r,s)&&e.fillText(f,i,a),r.stroke&&yx(e,r,s)&&e.strokeText(f,i,a),a+=u;else f=Lm(r,c),r.fill&&rF(e,r,s)&&e.fillText(f,i,a),r.stroke&&yx(e,r,s)&&e.strokeText(f,i,a);r.angle&&e.restore()}})}function hMt(e,t,n,r,s,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var i=EB(t),a=i.x1,l=i.y1,u=LJ(Z$,t,1),c=-t.angle*Mm,f=Math.cos(c),d=Math.sin(c),h=f*s-d*o+(a-f*a+d*l),p=d*s+f*o+(l-d*a-f*l);return u.contains(h,p)}function pMt(e,t){const n=LJ(Z$,e,2);return Kb(t,n[0],n[1],n[2],n[3])||Kb(t,n[0],n[1],n[4],n[5])||Kb(t,n[4],n[5],n[6],n[7])||Kb(t,n[2],n[3],n[6],n[7])}var gMt={type:"text",tag:"text",nested:!1,attr:fMt,bound:LJ,draw:dMt,pick:CB(hMt),isect:pMt},mMt=DJ("trail",hFt,_Ft),Vu={arc:$Ft,area:TFt,group:VFt,image:HFt,line:qFt,path:YFt,rect:JFt,rule:rMt,shape:sMt,symbol:oMt,text:gMt,trail:mMt};function WU(e,t,n){var r=Vu[e.mark.marktype],s=t||r.bound;return r.nested&&(e=e.mark),s(e.bounds||(e.bounds=new La),e,n)}var Bce={mark:null};function iDe(e,t,n){var r=Vu[e.marktype],s=r.bound,o=e.items,i=o&&o.length,a,l,u,c;if(r.nested)return i?u=o[0]:(Bce.mark=e,u=Bce),c=WU(u,s,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new La,i)for(a=0,l=o.length;a<l;++a)t.union(WU(o[a],s,n));return e.bounds=t}const vMt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function aDe(e,t){return JSON.stringify(e,vMt,t)}function lDe(e){const t=typeof e=="string"?JSON.parse(e):e;return uDe(t)}function uDe(e){var t=e.marktype,n=e.items,r,s,o;if(n)for(s=0,o=n.length;s<o;++s)r=t?"mark":"group",n[s][r]=e,n[s].zindex&&(n[s][r].zdirty=!0),(t||r)==="group"&&uDe(n[s]);return t&&iDe(e),e}function BJ(e){arguments.length?this.root=lDe(e):(this.root=cDe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new SJ(this.root)])}BJ.prototype={toJSON(e){return aDe(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=cDe(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function cDe(e,t){const n={bounds:new La,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Pg(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function zJ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,s=n.length;r<s;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function nl(e,t,n,r){var s=e.childNodes[t],o;return(!s||s.tagName.toLowerCase()!==n.toLowerCase())&&(o=s||null,s=Pg(e.ownerDocument,n,r),e.insertBefore(s,o)),s}function bc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function fDe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function _B(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function yMt(e,t,n,r){var s=e&&e.mark,o,i;if(s&&(o=Vu[s.marktype]).tip){for(i=_B(t,n),i[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=o.tip(s.items,i)}return e}function Bm(e,t){this._active=null,this._handlers={},this._loader=e||vJ(),this._tooltip=t||bMt}function bMt(e,t,n,r){e.element().setAttribute("title",r||"")}Bm.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const s=new MouseEvent(e.type,e),o=Pg(null,"a");for(const i in r)o.setAttribute(i,r[i]);o.dispatchEvent(s)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=yMt(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,s=e.bounds,o=s.width(),i=s.height();let a=s.x1+r[0]+n.left,l=s.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:i,left:a,top:l,right:a+o,bottom:l+i}}};function Bd(e){this._el=null,this._bgcolor=null,this._loader=new $J(e)}Bd.prototype={initialize(e,t,n,r,s){return this._el=e,this.resize(t,n,r,s)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const s=n._call;n._ready=n._loader.ready().then(o=>{o&&s(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const wMt="keydown",xMt="keypress",CMt="keyup",dDe="dragenter",k3="dragleave",hDe="dragover",UU="mousedown",SMt="mouseup",oF="mousemove",J$="mouseout",pDe="mouseover",iF="click",$Mt="dblclick",kMt="wheel",gDe="mousewheel",aF="touchstart",lF="touchmove",uF="touchend",EMt=[wMt,xMt,CMt,dDe,k3,hDe,UU,SMt,oF,J$,pDe,iF,$Mt,kMt,gDe,aF,lF,uF],jU=oF,_E=J$,HU=iF;function FA(e,t){Bm.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const _Mt=e=>e===aF||e===lF||e===uF?[aF,lF,uF]:[e];function zce(e,t){_Mt(t).forEach(n=>TMt(e,n))}function TMt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function Vce(e,t,n){return function(r){const s=this._active,o=this.pickEvent(r);o===s?this.fire(e,r):((!s||!s.exit)&&this.fire(n,r),this._active=o,this.fire(t,r),this.fire(e,r))}}function Wce(e){return function(t){this.fire(e,t),this._active=null}}Nt(FA,Bm,{initialize(e,t,n){return this._canvas=e&&zJ(e,"canvas"),[iF,UU,oF,J$,k3].forEach(r=>zce(this,r)),Bm.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:EMt,DOMMouseScroll(e){this.fire(gDe,e)},mousemove:Vce(oF,pDe,J$),dragover:Vce(hDe,dDe,k3),mouseout:Wce(J$),dragleave:Wce(k3),mousedown(e){this._down=this._active,this.fire(UU,e)},click(e){this._down===this._active&&(this.fire(iF,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(aF,e,!0)},touchmove(e){this.fire(lF,e,!0)},touchend(e){this.fire(uF,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,s=this._handlers[e];if(t.vegaType=e,e===HU&&r&&r.href?this.handleHref(t,r,r.href):(e===jU||e===_E)&&this.handleTooltip(t,r,e!==_E),s)for(let o=0,i=s.length;o<i;++o)s[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(zce(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],s=this._handlerIndex(r,e,t);return s>=0&&r.splice(s,1),this},pickEvent(e){const t=_B(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,s){const o=this.context();return Vu[e.marktype].pick.call(this,o,e,t,n,r,s)}});function AMt(){return typeof window<"u"&&window.devicePixelRatio||1}var IMt=AMt();function NMt(e,t,n,r,s,o){const i=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=i?IMt:s;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return i&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function cF(e){Bd.call(this,e),this._options={},this._redraw=!1,this._dirty=new La,this._tempb=new La}const Uce=Bd.prototype,DMt=(e,t,n)=>new La().set(0,0,t,n).translate(-e[0],-e[1]);function OMt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}Nt(cF,Bd,{initialize(e,t,n,r,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:c0(1,1,this._options.type),e&&this._canvas&&(bc(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Uce.initialize.call(this,e,t,n,r,s)},resize(e,t,n,r){if(Uce.resize.call(this,e,t,n,r),this._canvas)NMt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||gt("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,s=this._height,o=this._dirty,i=DMt(n,r,s);t.save();const a=this._redraw||o.empty()?(this._redraw=!1,i.expand(1)):OMt(t,i.intersect(o),n);return this.clear(-n[0],-n[1],r,s),this.draw(t,e,a),t.restore(),o.clear(),this},draw(e,t,n){const r=Vu[t.marktype];t.clip&&AFt(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function VJ(e,t){Bm.call(this,e,t);const n=this;n._hrefHandler=qU(n,(r,s)=>{s&&s.href&&n.handleHref(r,s,s.href)}),n._tooltipHandler=qU(n,(r,s)=>{n.handleTooltip(r,s,r.type!==_E)})}const qU=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};Nt(VJ,Bm,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(HU,this._hrefHandler),r.removeEventListener(jU,this._tooltipHandler),r.removeEventListener(_E,this._tooltipHandler)),this._svg=r=e&&zJ(e,"svg"),r&&(r.addEventListener(HU,this._hrefHandler),r.addEventListener(jU,this._tooltipHandler),r.addEventListener(_E,this._tooltipHandler)),Bm.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:qU(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],s=this._handlerIndex(r,e,t);return s>=0&&(this._svg&&this._svg.removeEventListener(n,r[s].listener),r.splice(s,1)),this}});const mDe="aria-hidden",WJ="aria-label",UJ="role",jJ="aria-roledescription",vDe="graphics-object",HJ="graphics-symbol",yDe=(e,t,n)=>({[UJ]:e,[jJ]:t,[WJ]:n||void 0}),RMt=ap(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),jce={axis:{desc:"axis",caption:PMt},legend:{desc:"legend",caption:LMt},"title-text":{desc:"title",caption:e=>`Title text '${qce(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${qce(e)}'`}},Hce={ariaRole:UJ,ariaRoleDescription:jJ,description:WJ};function bDe(e,t){const n=t.aria===!1;if(e(mDe,n||void 0),n||t.description==null)for(const r in Hce)e(Hce[r],void 0);else{const r=t.mark.marktype;e(WJ,t.description),e(UJ,t.ariaRole||(r==="group"?vDe:HJ)),e(jJ,t.ariaRoleDescription||`${r} mark`)}}function wDe(e){return e.aria===!1?{[mDe]:!0}:RMt[e.role]?null:jce[e.role]?MMt(e,jce[e.role]):FMt(e)}function FMt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return yDe(n?vDe:HJ,`${t} mark container`,e.description)}function MMt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return yDe(t.role||HJ,t.desc,n.description||r(n))}catch{return null}}function qce(e){return Mn(e.text).join(" ")}function PMt(e){const t=e.datum,n=e.orient,r=t.title?xDe(e):null,s=e.context,o=s.scales[t.scale].value,i=s.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${ux(a)?"discrete":a} scale with ${RAe(i,o,e)}`}function LMt(e){const t=e.datum,n=t.title?xDe(e):null,r=`${t.type||""} legend`.trim(),s=t.scales,o=Object.keys(s),i=e.context,a=i.scales[s[o[0]]].value,l=i.dataflow.locale();return zMt(r)+(n?` titled '${n}'`:"")+` for ${BMt(o)} with ${RAe(l,a,e)}`}function xDe(e){try{return Mn(Xr(e.items).items[0].text).join(" ")}catch{return null}}function BMt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Xr(e)}function zMt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const CDe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),VMt=e=>CDe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function qJ(){let e="",t="",n="";const r=[],s=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,s()),r.push(l)},i=(l,u)=>(u!=null&&(t+=` ${l}="${VMt(u)}"`),a),a={open(l,...u){o(l),t="<"+l;for(const c of u)for(const f in c)i(f,c[f]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,s(),a},attr:i,text:l=>(n+=CDe(l),a),toString:()=>e};return a}const SDe=e=>$De(qJ(),e)+"";function $De(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let s=0;s<r;++s)e.attr(n[s].name,n[s].value)}if(t.hasChildNodes()){const n=t.childNodes,r=n.length;for(let s=0;s<r;s++){const o=n[s];o.nodeType===3?e.text(o.nodeValue):$De(e,o)}}return e.close()}const fF={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},kDe={fill:"none","stroke-miterlimit":10},NS=0,Gce="http://www.w3.org/2000/xmlns/",mo=EE.xmlns;function GJ(e){Bd.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const p9=Bd.prototype;Nt(GJ,Bd,{initialize(e,t,n,r,s){return this._defs={},this._clearDefs(),e&&(this._svg=nl(e,0,"svg",mo),this._svg.setAttributeNS(Gce,"xmlns",mo),this._svg.setAttributeNS(Gce,"xmlns:xlink",EE["xmlns:xlink"]),this._svg.setAttribute("version",EE.version),this._svg.setAttribute("class","marks"),bc(e,1),this._root=nl(this._svg,NS,"g",mo),Lg(this._root,kDe),bc(this._svg,NS+1)),this.background(this._bgcolor),p9.initialize.call(this,e,t,n,r,s)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),p9.background.apply(this,arguments)},resize(e,t,n,r){return p9.resize.call(this,e,t,n,r),this._svg&&(Lg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=nl(e,NS,"rect",mo),Lg(n,{width:this._width,height:this._height,fill:t}));const r=SDe(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),bc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,s,o,i,a,l;for(i=0,a=e.length;i<a;++i)if(n=e[i],r=n.mark,r.marktype!==s&&(s=r.marktype,o=Vu[s]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,Kce(n,t),r.items.forEach(u=>{u.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,Kce(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,s=Vu[t.marktype],o=t.interactive===!1?"none":null,i=s.tag==="g";let a=null,l=0;const u=Yce(t,e,n,"g",r);u.setAttribute("class",fDe(t));const c=wDe(t);for(const d in c)ya(u,d,c[d]);i||ya(u,"pointer-events",o),ya(u,"clip-path",t.clip?xJ(this,t,t.group):null);const f=d=>{const h=this.isDirty(d),p=Yce(d,u,a,s.tag,r);h&&(this._update(s,p,d),i&&jMt(this,p,d)),a=p,++l};return s.nested?t.items.length&&f(t.items[0]):Uc(t,f),bc(u,l),u},_update(e,t,n){Mh=t,Ri=t.__values__,bDe(Q$,n),e.attr(Q$,n,this);const r=qMt[e.type];r&&r.call(this,e,t,n),Mh&&this.style(Mh,n)},style(e,t){if(t!=null)for(const n in fF){let r=n==="font"?RA(t):t[n];if(r===Ri[n])continue;const s=fF[n];r==null?e.removeAttribute(s):(yJ(r)&&(r=zNe(r,this._defs.gradient,EDe())),e.setAttribute(s,r+"")),Ri[n]=r}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const s in t.gradient)n||(t.el=n=nl(e,NS+1,"defs",mo)),r=WMt(n,t.gradient[s],r);for(const s in t.clipping)n||(t.el=n=nl(e,NS+1,"defs",mo)),r=UMt(n,t.clipping[s],r);n&&(r===0?(e.removeChild(n),t.el=null):bc(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function Kce(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function WMt(e,t,n){let r,s,o;if(t.gradient==="radial"){let i=nl(e,n++,"pattern",mo);Lg(i,{id:nF+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),i=nl(i,0,"rect",mo),Lg(i,{width:1,height:1,fill:`url(${EDe()}#${t.id})`}),e=nl(e,n++,"radialGradient",mo),Lg(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=nl(e,n++,"linearGradient",mo),Lg(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,s=t.stops.length;r<s;++r)o=nl(e,r,"stop",mo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return bc(e,r),n}function UMt(e,t,n){let r;return e=nl(e,n,"clipPath",mo),e.setAttribute("id",t.id),t.path?(r=nl(e,0,"path",mo),r.setAttribute("d",t.path)):(r=nl(e,0,"rect",mo),Lg(r,{x:0,y:0,width:t.width,height:t.height})),bc(e,1),n+1}function jMt(e,t,n){t=t.lastChild.previousSibling;let r,s=0;Uc(n,o=>{r=e.mark(t,o,r),++s}),bc(t,1+s)}function Yce(e,t,n,r,s){let o=e._svg,i;if(!o&&(i=t.ownerDocument,o=Pg(i,r,mo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Pg(i,"path",mo);o.appendChild(a),a.__data__=e;const l=Pg(i,"g",mo);o.appendChild(l),l.__data__=e;const u=Pg(i,"path",mo);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==s||HMt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function HMt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Mh=null,Ri=null;const qMt={group(e,t,n){const r=Mh=t.childNodes[2];Ri=r.__values__,e.foreground(Q$,n,this),Ri=t.__values__,Mh=t.childNodes[1],e.content(Q$,n,this);const s=Mh=t.childNodes[0];e.background(Q$,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Ri.events&&(ya(r,"pointer-events",o),ya(s,"pointer-events",o),Ri.events=o),n.strokeForeground&&n.stroke){const i=n.fill;ya(r,"display",null),this.style(s,n),ya(s,"stroke",null),i&&(n.fill=null),Ri=r.__values__,this.style(r,n),i&&(n.fill=i),Mh=null}else ya(r,"display","none")},image(e,t,n){n.smooth===!1?(g9(t,"image-rendering","optimizeSpeed"),g9(t,"image-rendering","pixelated")):g9(t,"image-rendering",null)},text(e,t,n){const r=OA(n);let s,o,i,a;jn(r)?(o=r.map(l=>Lm(n,l)),s=o.join(`
`),s!==Ri.text&&(bc(t,0),i=t.ownerDocument,a=Pm(n),o.forEach((l,u)=>{const c=Pg(i,"tspan",mo);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Ri.text=s)):(o=Lm(n,r),o!==Ri.text&&(t.textContent=o,Ri.text=o)),ya(t,"font-family",RA(n)),ya(t,"font-size",Ld(n)+"px"),ya(t,"font-style",n.fontStyle),ya(t,"font-variant",n.fontVariant),ya(t,"font-weight",n.fontWeight)}};function Q$(e,t,n){t!==Ri[e]&&(n?GMt(Mh,e,t,n):ya(Mh,e,t),Ri[e]=t)}function g9(e,t,n){n!==Ri[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ri[t]=n)}function Lg(e,t){for(const n in t)ya(e,n,t[n])}function ya(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function GMt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function EDe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function KJ(e){Bd.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Nt(KJ,Bd,{svg(){return this._text},_render(e){const t=qJ();t.open("svg",sr({},EE,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",kDe,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=Vu[t.marktype],r=n.tag,s=[bDe,n.attr];e.open("g",{class:fDe(t),"clip-path":t.clip?xJ(this,t,t.group):null},wDe(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=i=>{const a=this.href(i);if(a&&e.open("a",a),e.open(r,this.attr(t,i,s,r!=="g"?r:null)),r==="text"){const l=OA(i);if(jn(l)){const u={x:0,dy:Pm(i)};for(let c=0;c<l.length;++c)e.open("tspan",c?u:null).text(Lm(i,l[c])).close()}else e.text(Lm(i,l))}else if(r==="g"){const l=i.strokeForeground,u=i.fill,c=i.stroke;l&&c&&(i.stroke=null),e.open("path",this.attr(t,i,n.background,"bgrect")).close(),e.open("g",this.attr(t,i,n.content)),Uc(i,f=>this.mark(e,f)),e.close(),l&&c?(u&&(i.fill=null),i.stroke=c,e.open("path",this.attr(t,i,n.foreground,"bgrect")).close(),u&&(i.fill=u)):e.open("path",this.attr(t,i,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):Uc(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const s={},o=(i,a,l,u)=>{s[u||i]=a};return Array.isArray(n)?n.forEach(i=>i(o,t,this)):n(o,t,this),r&&KMt(s,t,e,r,this._defs),s},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const s in t){const o=t[s],i=o.stops;o.gradient==="radial"?(e.open("pattern",{id:nF+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),e.close(),e.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<i.length;++a)e.open("stop",{offset:i[a].offset,"stop-color":i[a].color}).close();e.close()}for(const s in n){const o=n[s];e.open("clipPath",{id:s}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function KMt(e,t,n,r,s){if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),r==="text"&&(e["font-family"]=RA(t),e["font-size"]=Ld(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in fF){let i=t[o];const a=fF[o];i==="transparent"&&(a==="fill"||a==="stroke")||i!=null&&(yJ(i)&&(i=zNe(i,s.gradient,"")),e[a]=i)}return e}const _De="canvas",TDe="png",ADe="svg",IDe="none",Bg={Canvas:_De,PNG:TDe,SVG:ADe,None:IDe},bx={};bx[_De]=bx[TDe]={renderer:cF,headless:cF,handler:FA};bx[ADe]={renderer:GJ,headless:KJ,handler:VJ};bx[IDe]={};function TB(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(bx[e]=t,this):bx[e]}function NDe(e,t,n){const r=[],s=new La().union(t),o=e.marktype;return o?DDe(e,s,n,r):o==="group"?ODe(e,s,n,r):gt("Intersect scene must be mark node or group item.")}function DDe(e,t,n,r){if(YMt(e,t,n)){const s=e.items,o=e.marktype,i=s.length;let a=0;if(o==="group")for(;a<i;++a)ODe(s[a],t,n,r);else for(const l=Vu[o].isect;a<i;++a){const u=s[a];RDe(u,t,l)&&r.push(u)}}return r}function YMt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function ODe(e,t,n,r){n&&n(e.mark)&&RDe(e,t,Vu.group.isect)&&r.push(e);const s=e.items,o=s&&s.length;if(o){const i=e.x||0,a=e.y||0;t.translate(-i,-a);for(let l=0;l<o;++l)DDe(s[l],t,n,r);t.translate(i,a)}return r}function RDe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const m9=new La;function XMt(e){const t=e.clip;if(Or(t))t(NA(m9.clear()));else if(t)m9.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(m9)}const ZMt=1e-9;function YJ(e,t,n){return e===t?!0:n==="path"?FDe(e,t):e instanceof Date&&t instanceof Date?+e==+t:_1(e)&&_1(t)?Math.abs(e-t)<=ZMt:!e||!t||!tr(e)&&!tr(t)?e==t:JMt(e,t)}function FDe(e,t){return YJ(mx(e),mx(t))}function JMt(e,t){var n=Object.keys(e),r=Object.keys(t),s,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(s=n[o],!YJ(e[s],t[s],s))return!1;return typeof e==typeof t}function QMt(){GNe(),_Rt()}const e4t=4278190080,t4t=268435456,n4t=.0625;function r4t(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function s4t(e,t,n,r){const s=e.width,o=e.height,i=n||r,a=c0(s,o).getContext("2d");t.forEach(m=>MDe(a,m,i));const l=new Uint32Array(a.getImageData(0,0,s,o).data.buffer),u=e.bitmap(),c=i&&e.bitmap();let f,d,h,p,g;for(d=0;d<o;++d)for(f=0;f<s;++f)g=l[d*s+f]&e4t,g&&(h=e(f),p=e(d),r||u.set(h,p),i&&g^t4t&&c.set(h,p));return[u,c]}function MDe(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(s=>{s.items.forEach(o=>MDe(e,o.items,n))}):Vu[r].draw(e,{items:n?t.map(o4t):t})}function o4t(e){const t=mL(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=n4t,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}const uh=5,pa=31,TE=32,wg=new Uint32Array(TE+1),gc=new Uint32Array(TE+1);gc[0]=0;wg[0]=~gc[0];for(let e=1;e<=TE;++e)gc[e]=gc[e-1]<<1|1,wg[e]=~gc[e];function i4t(e,t){const n=new Uint32Array(~~((e*t+TE)/TE));function r(o,i){n[o]|=i}function s(o,i){n[o]&=i}return{array:n,get:(o,i)=>{const a=i*e+o;return n[a>>>uh]&1<<(a&pa)},set:(o,i)=>{const a=i*e+o;r(a>>>uh,1<<(a&pa))},clear:(o,i)=>{const a=i*e+o;s(a>>>uh,~(1<<(a&pa)))},getRange:(o,i,a,l)=>{let u=l,c,f,d,h;for(;u>=i;--u)if(c=u*e+o,f=u*e+a,d=c>>>uh,h=f>>>uh,d===h){if(n[d]&wg[c&pa]&gc[(f&pa)+1])return!0}else{if(n[d]&wg[c&pa]||n[h]&gc[(f&pa)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,i,a,l)=>{let u,c,f,d,h;for(;i<=l;++i)if(u=i*e+o,c=i*e+a,f=u>>>uh,d=c>>>uh,f===d)r(f,wg[u&pa]&gc[(c&pa)+1]);else for(r(f,wg[u&pa]),r(d,gc[(c&pa)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,i,a,l)=>{let u,c,f,d,h;for(;i<=l;++i)if(u=i*e+o,c=i*e+a,f=u>>>uh,d=c>>>uh,f===d)s(f,gc[u&pa]|wg[(c&pa)+1]);else for(s(f,gc[u&pa]),s(d,wg[(c&pa)+1]),h=f+1;h<d;++h)s(h,0)},outOfBounds:(o,i,a,l)=>o<0||i<0||l>=t||a>=e}}function a4t(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),s=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),i=a=>~~((a+n)/r);return i.invert=a=>a*r-n,i.bitmap=()=>i4t(s,o),i.ratio=r,i.padding=n,i.width=e,i.height=t,i}function l4t(e,t,n,r){const s=e.width,o=e.height;return function(i){const a=i.datum.datum.items[r].items,l=a.length,u=i.datum.fontSize,c=Zf.width(i.datum,i.datum.text);let f=0,d,h,p,g,m,v,y;for(let b=0;b<l;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,g=a[b].y2===void 0?p:a[b].y2,m=(d+h)/2,v=(p+g)/2,y=Math.abs(h-d+g-p),y>=f&&(f=y,i.x=m,i.y=v);return m=c/2,v=u/2,d=i.x-m,h=i.x+m,p=i.y-v,g=i.y+v,i.align="center",d<0&&h<=s?i.align="left":0<=d&&s<h&&(i.align="right"),i.baseline="middle",p<0&&g<=o?i.baseline="top":0<=p&&o<g&&(i.baseline="bottom"),!0}}function dF(e,t,n,r,s,o){let i=n/2;return e-i<0||e+i>s||t-(i=r/2)<0||t+i>o}function zg(e,t,n,r,s,o,i,a){const l=s*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return i.outOfBounds(u,f,c,d)||i.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function u4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,v=o,y;if(!dF(p,g,d,h,s,o)&&!zg(e,p,g,h,d,m,i,a)&&!zg(e,p,g,h,d,h,i,null)){for(;v-m>=1;)y=(m+v)/2,zg(e,p,g,h,d,y,i,a)?v=y:m=y;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Zf.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,v=0,y,b,w,C,S,$,k,T,_,E,A,I,F,R,L,D,N;for(let M=0;M<f;++M){for(y=c[M].x,w=c[M].y,b=c[M].x2===void 0?y:c[M].x2,C=c[M].y2===void 0?w:c[M].y2,y>b&&(N=y,y=b,b=N),w>C&&(N=w,w=C,C=N),_=e(y),A=e(b),E=~~((_+A)/2),I=e(w),R=e(C),F=~~((I+R)/2),k=E;k>=_;--k)for(T=F;T>=I;--T)D=l(k,T,p,h,d),D&&([u.x,u.y,p,g]=D);for(k=E;k<=A;++k)for(T=F;T<=R;++T)D=l(k,T,p,h,d),D&&([u.x,u.y,p,g]=D);!g&&!n&&(L=Math.abs(b-y+C-w),S=(y+b)/2,$=(w+C)/2,L>=v&&!dF(S,$,h,d,s,o)&&!zg(e,S,$,d,h,d,i,null)&&(v=L,u.x=S,u.y=$,m=!0))}return g||m?(S=h/2,$=d/2,i.setRange(e(u.x-S),e(u.y-$),e(u.x+S),e(u.y+$)),u.align="center",u.baseline="middle",!0):!1}}const c4t=[-1,-1,1,1],f4t=[-1,1,-1,1];function d4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Zf.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,v=!1,y=0,b,w,C,S,$,k,T,_,E,A,I,F;for(let R=0;R<f;++R){for(b=c[R].x,C=c[R].y,w=c[R].x2===void 0?b:c[R].x2,S=c[R].y2===void 0?C:c[R].y2,p.push([e((b+w)/2),e((C+S)/2)]);p.length;)if([T,_]=p.pop(),!(i.get(T,_)||a.get(T,_)||l.get(T,_))){l.set(T,_);for(let L=0;L<4;++L)$=T+c4t[L],k=_+f4t[L],l.outOfBounds($,k,$,k)||p.push([$,k]);if($=e.invert(T),k=e.invert(_),E=g,A=o,!dF($,k,h,d,s,o)&&!zg(e,$,k,d,h,E,i,a)&&!zg(e,$,k,d,h,d,i,null)){for(;A-E>=1;)I=(E+A)/2,zg(e,$,k,d,h,I,i,a)?A=I:E=I;E>g&&(u.x=$,u.y=k,g=E,m=!0)}}!m&&!n&&(F=Math.abs(w-b+S-C),$=(b+w)/2,k=(C+S)/2,F>=y&&!dF($,k,h,d,s,o)&&!zg(e,$,k,d,h,d,i,null)&&(y=F,u.x=$,u.y=k,v=!0))}return m||v?($=h/2,k=d/2,i.setRange(e(u.x-$),e(u.y-k),e(u.x+$),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const h4t=["right","center","left"],p4t=["bottom","middle","top"];function g4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>s||c[3]>o)return!1;let d=0,h,p,g,m,v,y,b,w,C,S,$,k,T,_,E;for(let A=0;A<l;++A){if(h=(n[A]&3)-1,p=(n[A]>>>2&3)-1,g=h===0&&p===0||r[A]<0,m=h&&p?Math.SQRT1_2:1,v=r[A]<0?-1:1,y=c[1+h]+r[A]*h*m,$=c[4+p]+v*f*p/2+r[A]*p*m,w=$-f/2,C=$+f/2,k=e(y),_=e(w),E=e(C),!d)if(Xce(k,k,_,E,i,a,y,y,w,C,c,g))d=Zf.width(u.datum,u.datum.text);else continue;if(S=y+v*d*h/2,y=S-d/2,b=S+d/2,k=e(y),T=e(b),Xce(k,T,_,E,i,a,y,b,w,C,c,g))return u.x=h?h*v<0?b:y:S,u.y=p?p*v<0?C:w:$,u.align=h4t[h*v+1],u.baseline=p4t[p*v+1],i.setRange(k,_,T,E),!0}return!1}}function Xce(e,t,n,r,s,o,i,a,l,u,c,f){return!(s.outOfBounds(e,n,t,r)||(f&&o?o.getRange(e,n,t,r)||!m4t(i,l,a,u,c):s.getRange(e,n,t,r)))}function m4t(e,t,n,r,s){return s[0]<=e&&n<=s[2]&&s[3]<=t&&r<=s[5]}const v9=0,y9=4,b9=8,w9=0,x9=1,C9=2,v4t={"top-left":v9+w9,top:v9+x9,"top-right":v9+C9,left:y9+w9,middle:y9+x9,right:y9+C9,"bottom-left":b9+w9,bottom:b9+x9,"bottom-right":b9+C9},y4t={naive:l4t,"reduced-search":u4t,floodfill:d4t};function b4t(e,t,n,r,s,o,i,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,s.length),d=w4t(r,f),h=x4t(s,f),p=C4t(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",v=S4t(p,g,a,l),y=a4t(t[0],t[1],u),b=m&&c==="naive",w=e.map($=>({datum:$,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v($)}));let C;if(!b){n&&w.sort((k,T)=>n(k.datum,T.datum));let $=!1;for(let k=0;k<h.length&&!$;++k)$=h[k]===5||d[k]<0;p&&(i||m)&&(o=[e.map(k=>k.datum)].concat(o)),C=o.length?s4t(y,o,$,m):r4t(y,i&&w)}const S=m?y4t[c](y,C,i,l):g4t(y,C,h,d);return w.forEach($=>$.opacity=+S($)),w}function w4t(e,t){const n=new Float64Array(t),r=e.length;for(let s=0;s<r;++s)n[s]=e[s]||0;for(let s=r;s<t;++s)n[s]=n[r-1];return n}function x4t(e,t){const n=new Int8Array(t),r=e.length;for(let s=0;s<r;++s)n[s]|=v4t[e[s]];for(let s=r;s<t;++s)n[s]=n[r-1];return n}function C4t(e){return e&&e.mark&&e.mark.marktype}function S4t(e,t,n,r){const s=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>s(o.datum):t==="line"?o=>{const i=o.datum.items[r].items;return s(i.length?i[n==="start"?0:i.length-1]:{x:NaN,y:NaN})}:o=>{const i=o.datum.bounds;return[i.x1,(i.x1+i.x2)/2,i.x2,i.y1,(i.y1+i.y2)/2,i.y2]}:s}const GU=["x","y","opacity","align","baseline"],PDe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function XJ(e){Ke.call(this,null,e)}XJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:PDe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:GU.length,default:GU}]};Nt(XJ,Ke,{transform(e,t){function n(o){const i=e[o];return Or(i)&&t.modified(i.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&gt("Size parameter should be specified as a [width, height] array.");const s=e.as||GU;return b4t(t.materialize(t.SOURCE).source,e.size,e.sort,Mn(e.offset||1),Mn(e.anchor||PDe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach(o=>{const i=o.datum;i[s[0]]=o.x,i[s[1]]=o.y,i[s[2]]=o.opacity,i[s[3]]=o.align,i[s[4]]=o.baseline}),t.reflow(r).modifies(s)}});const $4t=Object.freeze(Object.defineProperty({__proto__:null,label:XJ},Symbol.toStringTag,{value:"Module"}));function LDe(e,t){var n=[],r=function(c){return c(a)},s,o,i,a,l,u;if(t==null)n.push(e);else for(s={},o=0,i=e.length;o<i;++o)a=e[o],l=t.map(r),u=s[l],u||(s[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function ZJ(e){Ke.call(this,null,e)}ZJ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Nt(ZJ,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=LDe(r,e.groupby),o=(e.groupby||[]).map(Ws),i=o.length,a=e.as||[Ws(e.x),Ws(e.y)],l=[];s.forEach(u=>{Cke(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<i;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(_r(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const KU={linear:$Y,log:yke,exp:bke,pow:wke,quad:kY,poly:xke},k4t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function JJ(e){Ke.call(this,null,e)}JJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(KU)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Nt(JJ,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=LDe(r,e.groupby),o=(e.groupby||[]).map(Ws),i=e.method||"linear",a=e.order||3,l=k4t(i,a),u=e.as||[Ws(e.x),Ws(e.y)],c=KU[i],f=[];let d=e.extent;Pn(KU,i)||gt("Invalid regression method: "+i),d!=null&&i==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),s.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(_r({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||Cm(h,e.x),v=y=>{const b={};for(let w=0;w<o.length;++w)b[o[w]]=h.dims[w];b[u[0]]=y[0],b[u[1]]=y[1],f.push(_r(b))};i==="linear"?m.forEach(y=>v([y,g.predict(y)])):SL(g.predict,m,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const E4t=Object.freeze(Object.defineProperty({__proto__:null,loess:ZJ,regression:JJ},Symbol.toStringTag,{value:"Module"})),Zce=Math.pow(2,-52),RN=new Uint32Array(512);class hF{static from(t,n=N4t,r=D4t){const s=t.length,o=new Float64Array(s*2);for(let i=0;i<s;i++){const a=t[i];o[2*i]=n(a),o[2*i+1]=r(a)}return new hF(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:s,_hullHash:o}=this,i=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let _=0;_<i;_++){const E=t[2*_],A=t[2*_+1];E<a&&(a=E),A<l&&(l=A),E>u&&(u=E),A>c&&(c=A),this._ids[_]=_}const f=(a+u)/2,d=(l+c)/2;let h=1/0,p,g,m;for(let _=0;_<i;_++){const E=S9(f,d,t[2*_],t[2*_+1]);E<h&&(p=_,h=E)}const v=t[2*p],y=t[2*p+1];h=1/0;for(let _=0;_<i;_++){if(_===p)continue;const E=S9(v,y,t[2*_],t[2*_+1]);E<h&&E>0&&(g=_,h=E)}let b=t[2*g],w=t[2*g+1],C=1/0;for(let _=0;_<i;_++){if(_===p||_===g)continue;const E=A4t(v,y,b,w,t[2*_],t[2*_+1]);E<C&&(m=_,C=E)}let S=t[2*m],$=t[2*m+1];if(C===1/0){for(let A=0;A<i;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];Yb(this._ids,this._dists,0,i-1);const _=new Uint32Array(i);let E=0;for(let A=0,I=-1/0;A<i;A++){const F=this._ids[A];this._dists[F]>I&&(_[E++]=F,I=this._dists[F])}this.hull=_.subarray(0,E),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(FN(v,y,b,w,S,$)){const _=g,E=b,A=w;g=m,b=S,w=$,m=_,S=E,$=A}const k=I4t(v,y,b,w,S,$);this._cx=k.x,this._cy=k.y;for(let _=0;_<i;_++)this._dists[_]=S9(t[2*_],t[2*_+1],k.x,k.y);Yb(this._ids,this._dists,0,i-1),this._hullStart=p;let T=3;r[p]=n[m]=g,r[g]=n[p]=m,r[m]=n[g]=p,s[p]=0,s[g]=1,s[m]=2,o.fill(-1),o[this._hashKey(v,y)]=p,o[this._hashKey(b,w)]=g,o[this._hashKey(S,$)]=m,this.trianglesLen=0,this._addTriangle(p,g,m,-1,-1,-1);for(let _=0,E,A;_<this._ids.length;_++){const I=this._ids[_],F=t[2*I],R=t[2*I+1];if(_>0&&Math.abs(F-E)<=Zce&&Math.abs(R-A)<=Zce||(E=F,A=R,I===p||I===g||I===m))continue;let L=0;for(let W=0,j=this._hashKey(F,R);W<this._hashSize&&(L=o[(j+W)%this._hashSize],!(L!==-1&&L!==r[L]));W++);L=n[L];let D=L,N;for(;N=r[D],!FN(F,R,t[2*D],t[2*D+1],t[2*N],t[2*N+1]);)if(D=N,D===L){D=-1;break}if(D===-1)continue;let M=this._addTriangle(D,I,r[D],-1,-1,s[D]);s[I]=this._legalize(M+2),s[D]=M,T++;let z=r[D];for(;N=r[z],FN(F,R,t[2*z],t[2*z+1],t[2*N],t[2*N+1]);)M=this._addTriangle(z,I,N,s[I],-1,s[z]),s[I]=this._legalize(M+2),r[z]=z,T--,z=N;if(D===L)for(;N=n[D],FN(F,R,t[2*N],t[2*N+1],t[2*D],t[2*D+1]);)M=this._addTriangle(N,I,D,-1,s[D],s[N]),this._legalize(M+2),s[N]=M,r[D]=D,T--,D=N;this._hullStart=n[I]=D,r[D]=n[z]=I,r[I]=z,o[this._hashKey(F,R)]=I,o[this._hashKey(t[2*D],t[2*D+1])]=D}this.hull=new Uint32Array(T);for(let _=0,E=this._hullStart;_<T;_++)this.hull[_]=E,E=r[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(_4t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:s}=this;let o=0,i=0;for(;;){const a=r[t],l=t-t%3;if(i=l+(t+2)%3,a===-1){if(o===0)break;t=RN[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[i],h=n[t],p=n[c],g=n[f];if(T4t(s[2*d],s[2*d+1],s[2*h],s[2*h+1],s[2*p],s[2*p+1],s[2*g],s[2*g+1])){n[t]=g,n[a]=d;const v=r[f];if(v===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,v),this._link(a,r[i]),this._link(i,f);const y=u+(a+1)%3;o<RN.length&&(RN[o++]=y)}else{if(o===0)break;t=RN[--o]}}return i}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,s,o,i){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,s),this._link(a+1,o),this._link(a+2,i),this.trianglesLen+=3,a}}function _4t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function S9(e,t,n,r){const s=e-n,o=t-r;return s*s+o*o}function $9(e,t,n,r,s,o){const i=(r-t)*(s-e),a=(n-e)*(o-t);return Math.abs(i-a)>=33306690738754716e-32*Math.abs(i+a)?i-a:0}function FN(e,t,n,r,s,o){return($9(s,o,e,t,n,r)||$9(e,t,n,r,s,o)||$9(n,r,s,o,e,t))<0}function T4t(e,t,n,r,s,o,i,a){const l=e-i,u=t-a,c=n-i,f=r-a,d=s-i,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function A4t(e,t,n,r,s,o){const i=n-e,a=r-t,l=s-e,u=o-t,c=i*i+a*a,f=l*l+u*u,d=.5/(i*u-a*l),h=(u*c-a*f)*d,p=(i*f-l*c)*d;return h*h+p*p}function I4t(e,t,n,r,s,o){const i=n-e,a=r-t,l=s-e,u=o-t,c=i*i+a*a,f=l*l+u*u,d=.5/(i*u-a*l),h=e+(u*c-a*f)*d,p=t+(i*f-l*c)*d;return{x:h,y:p}}function Yb(e,t,n,r){if(r-n<=20)for(let s=n+1;s<=r;s++){const o=e[s],i=t[o];let a=s-1;for(;a>=n&&t[e[a]]>i;)e[a+1]=e[a--];e[a+1]=o}else{const s=n+r>>1;let o=n+1,i=r;DS(e,s,o),t[e[n]]>t[e[r]]&&DS(e,n,r),t[e[o]]>t[e[r]]&&DS(e,o,r),t[e[n]]>t[e[o]]&&DS(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do i--;while(t[e[i]]>l);if(i<o)break;DS(e,o,i)}e[n+1]=e[i],e[i]=a,r-o+1>=i-n?(Yb(e,t,o,r),Yb(e,t,n,i-1)):(Yb(e,t,n,i-1),Yb(e,t,o,r))}}function DS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function N4t(e){return e[0]}function D4t(e){return e[1]}const Jce=1e-6;class Nv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const s=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${o}`:(Math.abs(this._x1-s)>Jce||Math.abs(this._y1-o)>Jce)&&(this._+="L"+s+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=s},${this._y1=o}`)}rect(t,n,r,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+s}h${-r}Z`}value(){return this._||null}}class YU{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let O4t=class{constructor(t,[n,r,s,o]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:s}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let h=0,p=0,g=r.length,m,v;h<g;h+=3,p+=2){const y=r[h]*2,b=r[h+1]*2,w=r[h+2]*2,C=t[y],S=t[y+1],$=t[b],k=t[b+1],T=t[w],_=t[w+1],E=$-C,A=k-S,I=T-C,F=_-S,R=E*E+A*A,L=I*I+F*F,D=(E*F-A*I)*2;if(!D)m=(C+T)/2-1e8*F,v=(S+_)/2+1e8*I;else if(Math.abs(D)<1e-8)m=(C+T)/2,v=(S+_)/2;else{const N=1/D;m=C+(F*R-A*L)*N,v=S+(E*L-I*R)*N}o[p]=m,o[p+1]=v}let i=n[n.length-1],a,l=i*4,u,c=t[2*i],f,d=t[2*i+1];s.fill(0);for(let h=0;h<n.length;++h)i=n[h],a=l,u=c,f=d,l=i*4,c=t[2*i],d=t[2*i+1],s[a+2]=s[l]=f-d,s[a+3]=s[l+1]=c-u}render(t){const n=t==null?t=new Nv:void 0,{delaunay:{halfedges:r,inedges:s,hull:o},circumcenters:i,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=i[h],m=i[h+1],v=i[p],y=i[p+1];this._renderSegment(g,m,v,y,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(s[u]/3)*2,d=i[f],h=i[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Nv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Nv:void 0,s=this._clip(t);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let o=s.length;for(;s[0]===s[o-2]&&s[1]===s[o-1]&&o>1;)o-=2;for(let i=2;i<o;i+=2)(s[i]!==s[i-2]||s[i+1]!==s[i-1])&&n.lineTo(s[i],s[i+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(t){const n=new YU;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,s,o){let i;const a=this._regioncode(t,n),l=this._regioncode(r,s);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,s)):(i=this._clipSegment(t,n,r,s,a,l))&&(o.moveTo(i[0],i[1]),o.lineTo(i[2],i[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const s=this._clip(r);if(s){e:for(let o=0,i=n.length;o<i;o+=2)for(let a=0,l=s.length;a<l;a+=2)if(n[o]==s[a]&&n[o+1]==s[a+1]&&n[(o+2)%i]==s[(a+l-2)%l]&&n[(o+3)%i]==s[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:s,triangles:o}}=this,i=r[t];if(i===-1)return null;const a=[];let l=i;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=s[l]}while(l!==i&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,s=t*4;return r[s]||r[s+1]?this._clipInfinite(t,n,r[s],r[s+1],r[s+2],r[s+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let s=null,o,i,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d;for(let h=0;h<r;h+=2)if(o=a,i=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,s?s.push(a,l):s=[a,l];else{let p,g,m,v,y;if(u===0){if((p=this._clipSegment(o,i,a,l,u,c))===null)continue;[g,m,v,y]=p}else{if((p=this._clipSegment(a,l,o,i,c,u))===null)continue;[v,y,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(g,m):s=[g,m]}f=d,d=this._edgecode(v,y),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(v,y):s=[v,y]}if(s)f=d,d=this._edgecode(s[0],s[1]),f&&d&&this._edge(t,f,d,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,r,s,o,i){for(;;){if(o===0&&i===0)return[t,n,r,s];if(o&i)return null;let a,l,u=o||i;u&8?(a=t+(r-t)*(this.ymax-n)/(s-n),l=this.ymax):u&4?(a=t+(r-t)*(this.ymin-n)/(s-n),l=this.ymin):u&2?(l=n+(s-n)*(this.xmax-t)/(r-t),a=this.xmax):(l=n+(s-n)*(this.xmin-t)/(r-t),a=this.xmin),o?(t=a,n=l,o=this._regioncode(t,n)):(r=a,s=l,i=this._regioncode(r,s))}}_clipInfinite(t,n,r,s,o,i){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,s))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,i))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,s,o){for(;n!==r;){let i,a;switch(n){case 5:n=4;continue;case 4:n=6,i=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,i=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,i=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,i=this.xmin,a=this.ymin;break}(s[o]!==i||s[o+1]!==a)&&this.contains(t,i,a)&&(s.splice(o,0,i,a),o+=2)}if(s.length>4)for(let i=0;i<s.length;i+=2){const a=(i+2)%s.length,l=(i+4)%s.length;(s[i]===s[a]&&s[a]===s[l]||s[i+1]===s[a+1]&&s[a+1]===s[l+1])&&(s.splice(a,2),i-=2)}return o}_project(t,n,r,s){let o=1/0,i,a,l;if(s<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/s)<o&&(l=this.ymin,a=t+(o=i)*r)}else if(s>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/s)<o&&(l=this.ymax,a=t+(o=i)*r)}if(r>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=i)*s)}else if(r<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=i)*s)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const R4t=2*Math.PI,xb=Math.pow;function F4t(e){return e[0]}function M4t(e){return e[1]}function P4t(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const s=2*t[r],o=2*t[r+1],i=2*t[r+2];if((n[i]-n[s])*(n[o+1]-n[s+1])-(n[o]-n[s])*(n[i+1]-n[s+1])>1e-10)return!1}return!0}function L4t(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class QJ{static from(t,n=F4t,r=M4t,s){return new QJ("length"in t?B4t(t,n,r,s):Float64Array.from(z4t(t,n,r,s)))}constructor(t){this._delaunator=new hF(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&P4t(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=L4t(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new hF(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,i=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||i[c]===-1)&&(i[c]=l)}for(let l=0,u=s.length;l<u;++l)a[s[l]]=l;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],this.triangles[1]=s[1],this.triangles[2]=s[1],i[s[0]]=1,s.length===2&&(i[s[1]]=0))}voronoi(t){return new O4t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:s,halfedges:o,triangles:i,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=i[u],u=u%3===2?u-2:u+1,i[u]!==t)return;if(u=o[u],u===-1){const f=r[(s[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const s=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==s;)r=o;return o}_step(t,n,r){const{inedges:s,hull:o,_hullIndex:i,halfedges:a,triangles:l,points:u}=this;if(s[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=xb(n-u[t*2],2)+xb(r-u[t*2+1],2);const d=s[t];let h=d;do{let p=l[h];const g=xb(n-u[p*2],2)+xb(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(i[t]+1)%o.length],h!==p&&xb(n-u[h*2],2)+xb(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Nv:void 0,{points:r,halfedges:s,triangles:o}=this;for(let i=0,a=s.length;i<a;++i){const l=s[i];if(l<i)continue;const u=o[i]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new Nv:void 0,{points:s}=this;for(let o=0,i=s.length;o<i;o+=2){const a=s[o],l=s[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,R4t)}return r&&r.value()}renderHull(t){const n=t==null?t=new Nv:void 0,{hull:r,points:s}=this,o=r[0]*2,i=r.length;t.moveTo(s[o],s[o+1]);for(let a=1;a<i;++a){const l=2*r[a];t.lineTo(s[l],s[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new YU;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Nv:void 0,{points:s,triangles:o}=this,i=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(s[i],s[i+1]),n.lineTo(s[a],s[a+1]),n.lineTo(s[l],s[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new YU;return this.renderTriangle(t,n),n.value()}}function B4t(e,t,n,r){const s=e.length,o=new Float64Array(s*2);for(let i=0;i<s;++i){const a=e[i];o[i*2]=t.call(r,a,i,e),o[i*2+1]=n.call(r,a,i,e)}return o}function*z4t(e,t,n,r){let s=0;for(const o of e)yield t.call(r,o,s,e),yield n.call(r,o,s,e),++s}function eQ(e){Ke.call(this,null,e)}eQ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const V4t=[-1e5,-1e5,1e5,1e5];Nt(eQ,Ke,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let s=e.size;s=s?[0,0,s[0],s[1]]:(s=e.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:V4t;const o=this.value=QJ.from(r,e.x,e.y).voronoi(s);for(let i=0,a=r.length;i<a;++i){const l=o.cellPolygon(i);r[i][n]=l?W4t(l):null}return t.reflow(e.modified()).modifies(n)}});function W4t(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const U4t=Object.freeze(Object.defineProperty({__proto__:null,voronoi:eQ},Symbol.toStringTag,{value:"Module"}));function kC(e,t,n){return e.fields=t||[],e.fname=n,e}function j4t(e){return e.length===1?H4t(e[0]):q4t(e)}const H4t=e=>function(t){return t[e]},q4t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function E3(e){throw Error(e)}function G4t(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||E3("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&E3("Access path missing closing bracket: "+e),r&&E3("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function K4t(e,t,n){const r=G4t(e);return e=r.length===1?r[0]:e,kC(j4t(r),[e],e)}K4t("id");kC(e=>e,[],"identity");kC(()=>0,[],"zero");kC(()=>1,[],"one");kC(()=>!0,[],"true");kC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var BDe=Array.isArray;function Y4t(e){return e[e.length-1]}function X4t(e){return e==null||e===""?null:+e}function Z4t(e){return e!=null?BDe(e)?e:[e]:[]}function XU(e){return typeof e=="function"}function J4t(e){return XU(e)?e:()=>e}function Q4t(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function ePt(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function tPt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Q4t(r,n)}function nPt(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function ek(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rPt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tQ(e){let t,n,r;e.length!==2?(t=ek,n=(a,l)=>ek(e(a),l),r=(a,l)=>e(a)-l):(t=e===ek||e===rPt?e:sPt,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function sPt(){return 0}function zDe(e){return e===null?NaN:+e}const oPt=tQ(ek),L1=oPt.right;tQ(zDe).center;const iPt=Math.sqrt(50),aPt=Math.sqrt(10),lPt=Math.sqrt(2);function pF(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=iPt?10:o>=aPt?5:o>=lPt?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?pF(e,t,n*2):[a,l,u]}function ZU(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,i]=r?pF(t,e,n):pF(e,t,n);if(!(o>=s))return[];const a=o-s+1,l=new Array(a);if(r)if(i<0)for(let u=0;u<a;++u)l[u]=(o-u)/-i;else for(let u=0;u<a;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<a;++u)l[u]=(s+u)/-i;else for(let u=0;u<a;++u)l[u]=(s+u)*i;return l}function JU(e,t,n){return t=+t,e=+e,n=+n,pF(e,t,n)[2]}function QU(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?JU(t,e,n):JU(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function uPt(e,t,n=zDe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function cPt(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function zd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function y0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qce=Symbol("implicit");function nQ(){var e=new JO,t=[],n=[],r=Qce;function s(o){let i=e.get(o);if(i===void 0){if(r!==Qce)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new JO;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return nQ(t,n).unknown(r)},zd.apply(s,arguments),s}function VDe(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function WDe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return VDe((n-r/t)*t,i,s,o,a)}}function UDe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return VDe((n-r/t)*t,s,o,i,a)}}const AB=e=>()=>e;function jDe(e,t){return function(n){return e+n*t}}function fPt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function IB(e,t){var n=t-e;return n?jDe(e,n>180||n<-180?n-360*Math.round(n/360):n):AB(isNaN(e)?t:e)}function dPt(e){return(e=+e)==1?zo:function(t,n){return n-t?fPt(t,n,e):AB(isNaN(t)?n:t)}}function zo(e,t){var n=t-e;return n?jDe(e,n):AB(isNaN(e)?t:e)}const ej=(function e(t){var n=dPt(t);function r(s,o){var i=n((s=$l(s)).r,(o=$l(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=zo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function HDe(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=$l(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var hPt=HDe(WDe),pPt=HDe(UDe);function rQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function qDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gPt(e,t){return(qDe(t)?rQ:GDe)(e,t)}function GDe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=My(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function KDe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function YDe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=My(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var tj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k9=new RegExp(tj.source,"g");function mPt(e){return function(){return e}}function vPt(e){return function(t){return e(t)+""}}function XDe(e,t){var n=tj.lastIndex=k9.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=tj.exec(e))&&(s=k9.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:mc(r,s)})),n=k9.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?vPt(l[0].x):mPt(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function My(e,t){var n=typeof t,r;return t==null||n==="boolean"?AB(t):(n==="number"?mc:n==="string"?(r=fp(t))?(t=r,ej):XDe:t instanceof fp?ej:t instanceof Date?KDe:qDe(t)?rQ:Array.isArray(t)?GDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YDe:mc)(e,t)}function yPt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function bPt(e,t){var n=IB(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function NB(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var efe=180/Math.PI,nj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ZDe(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*efe,skewX:Math.atan(l)*efe,scaleX:i,scaleY:a}}var MN;function wPt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nj:ZDe(t.a,t.b,t.c,t.d,t.e,t.f)}function xPt(e){return e==null||(MN||(MN=document.createElementNS("http://www.w3.org/2000/svg","g")),MN.setAttribute("transform",e),!(e=MN.transform.baseVal.consolidate()))?nj:(e=e.matrix,ZDe(e.a,e.b,e.c,e.d,e.e,e.f))}function JDe(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:mc(u,f)},{i:g-2,x:mc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:mc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:mc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:mc(u,f)},{i:g-2,x:mc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var CPt=JDe(wPt,"px, ","px)","deg)"),SPt=JDe(xPt,", ",")",")"),$Pt=1e-12;function tfe(e){return((e=Math.exp(e))+1/e)/2}function kPt(e){return((e=Math.exp(e))-1/e)/2}function EPt(e){return((e=Math.exp(2*e))-1)/(e+1)}const _Pt=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<$Pt)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*y),w=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(w*w+1)-w);v=(S-C)/t,m=function($){var k=$*v,T=tfe(C),_=u/(n*y)*(T*EPt(t*k+C)-kPt(C));return[a+_*h,l+_*p,u*T/tfe(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function QDe(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=zo(t.s,n.s),o=zo(t.l,n.l),i=zo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const TPt=QDe(IB);var APt=QDe(zo);function IPt(e,t){var n=zo((e=Nm(e)).l,(t=Nm(t)).l),r=zo(e.a,t.a),s=zo(e.b,t.b),o=zo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function e3e(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=zo(t.c,n.c),o=zo(t.l,n.l),i=zo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const NPt=e3e(IB);var DPt=e3e(zo);function t3e(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=zo(s.s,o.s),l=zo(s.l,o.l),u=zo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const OPt=t3e(IB);var RPt=t3e(zo);function sQ(e,t){t===void 0&&(t=e,e=My);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function FPt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const MPt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:My,interpolateArray:gPt,interpolateBasis:WDe,interpolateBasisClosed:UDe,interpolateCubehelix:OPt,interpolateCubehelixLong:RPt,interpolateDate:KDe,interpolateDiscrete:yPt,interpolateHcl:NPt,interpolateHclLong:DPt,interpolateHsl:TPt,interpolateHslLong:APt,interpolateHue:bPt,interpolateLab:IPt,interpolateNumber:mc,interpolateNumberArray:rQ,interpolateObject:YDe,interpolateRgb:ej,interpolateRgbBasis:hPt,interpolateRgbBasisClosed:pPt,interpolateRound:NB,interpolateString:XDe,interpolateTransformCss:CPt,interpolateTransformSvg:SPt,interpolateZoom:_Pt,piecewise:sQ,quantize:FPt},Symbol.toStringTag,{value:"Module"}));function PPt(e){return function(){return e}}function rj(e){return+e}var nfe=[0,1];function ul(e){return e}function sj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:PPt(isNaN(t)?NaN:.5)}function LPt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BPt(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=sj(s,r),o=n(i,o)):(r=sj(r,s),o=n(o,i)),function(a){return o(r(a))}}function zPt(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=sj(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=L1(e,a,1,r)-1;return o[l](s[l](a))}}function MA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function DB(){var e=nfe,t=nfe,n=My,r,s,o,i=ul,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==ul&&(i=LPt(e[0],e[d-1])),a=d>2?zPt:BPt,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),mc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,rj),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=NB,c()},f.clamp=function(d){return arguments.length?(i=d?!0:ul,c()):i!==ul},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function n3e(){return DB()(ul,ul)}function r3e(e,t,n,r){var s=QU(e,t,n),o;switch(r=D1(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=uZ(s,i))&&(r.precision=o),sB(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lZ(s))&&(r.precision=o-(r.type==="%")*2);break}}return xC(r)}function Py(e){var t=e.domain;return e.ticks=function(n){var r=t();return ZU(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return r3e(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=JU(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function s3e(){var e=n3e();return e.copy=function(){return MA(e,s3e())},zd.apply(e,arguments),Py(e)}function o3e(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,rj),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return o3e(e).unknown(t)},e=arguments.length?Array.from(e,rj):[0,1],Py(n)}function i3e(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function rfe(e){return Math.log(e)}function sfe(e){return Math.exp(e)}function VPt(e){return-Math.log(-e)}function WPt(e){return-Math.exp(-e)}function UPt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jPt(e){return e===10?UPt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HPt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ofe(e){return(t,n)=>-e(-t,n)}function oQ(e){const t=e(rfe,sfe),n=t.domain;let r=10,s,o;function i(){return s=HPt(r),o=jPt(r),n()[0]<0?(s=ofe(s),o=ofe(o),e(VPt,WPt)):e(rfe,sfe),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=s(u),h=s(c),p,g;const m=a==null?10:+a;let v=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<m&&(v=ZU(u,c,m))}else v=ZU(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=D1(l)).precision==null&&(l.trim=!0),l=xC(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(i3e(n(),{floor:a=>o(Math.floor(s(a))),ceil:a=>o(Math.ceil(s(a)))})),t}function a3e(){const e=oQ(DB()).domain([1,10]);return e.copy=()=>MA(e,a3e()).base(e.base()),zd.apply(e,arguments),e}function ife(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function afe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iQ(e){var t=1,n=e(ife(t),afe(t));return n.constant=function(r){return arguments.length?e(ife(t=+r),afe(t)):t},Py(n)}function l3e(){var e=iQ(DB());return e.copy=function(){return MA(e,l3e()).constant(e.constant())},zd.apply(e,arguments)}function lfe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qPt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function GPt(e){return e<0?-e*e:e*e}function aQ(e){var t=e(ul,ul),n=1;function r(){return n===1?e(ul,ul):n===.5?e(qPt,GPt):e(lfe(n),lfe(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Py(t)}function lQ(){var e=aQ(DB());return e.copy=function(){return MA(e,lQ()).exponent(e.exponent())},zd.apply(e,arguments),e}function KPt(){return lQ.apply(null,arguments).exponent(.5)}function u3e(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=uPt(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[L1(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ek),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return u3e().domain(e).range(t).unknown(r)},zd.apply(o,arguments)}function c3e(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[L1(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return c3e().domain([e,t]).range(s).unknown(o)},zd.apply(Py(i),arguments)}function f3e(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[L1(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return f3e().domain(e).range(t).unknown(n)},zd.apply(s,arguments)}const E9=new Date,_9=new Date;function Oo(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>Oo(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(E9.setTime(+o),_9.setTime(+i),e(E9),e(_9),Math.floor(n(E9,_9))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const gF=Oo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gF.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gF);gF.range;const Ph=1e3,Eu=Ph*60,Lh=Eu*60,pp=Lh*24,uQ=pp*7,ufe=pp*30,T9=pp*365,Dv=Oo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ph)},(e,t)=>(t-e)/Ph,e=>e.getUTCSeconds());Dv.range;const cQ=Oo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ph)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getMinutes());cQ.range;const fQ=Oo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getUTCMinutes());fQ.range;const dQ=Oo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ph-e.getMinutes()*Eu)},(e,t)=>{e.setTime(+e+t*Lh)},(e,t)=>(t-e)/Lh,e=>e.getHours());dQ.range;const hQ=Oo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Lh)},(e,t)=>(t-e)/Lh,e=>e.getUTCHours());hQ.range;const pQ=Oo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Eu)/pp,e=>e.getDate()-1);pQ.range;const d3e=Oo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pp,e=>e.getUTCDate()-1);d3e.range;const h3e=Oo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pp,e=>Math.floor(e/pp));h3e.range;function Ly(e){return Oo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Eu)/uQ)}const gQ=Ly(0),YPt=Ly(1),XPt=Ly(2),ZPt=Ly(3),JPt=Ly(4),QPt=Ly(5),eLt=Ly(6);gQ.range;YPt.range;XPt.range;ZPt.range;JPt.range;QPt.range;eLt.range;function By(e){return Oo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uQ)}const mQ=By(0),tLt=By(1),nLt=By(2),rLt=By(3),sLt=By(4),oLt=By(5),iLt=By(6);mQ.range;tLt.range;nLt.range;rLt.range;sLt.range;oLt.range;iLt.range;const OB=Oo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());OB.range;const RB=Oo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RB.range;const FB=Oo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());FB.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});FB.range;const MB=Oo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());MB.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});MB.range;function p3e(e,t,n,r,s,o){const i=[[Dv,1,Ph],[Dv,5,5*Ph],[Dv,15,15*Ph],[Dv,30,30*Ph],[o,1,Eu],[o,5,5*Eu],[o,15,15*Eu],[o,30,30*Eu],[s,1,Lh],[s,3,3*Lh],[s,6,6*Lh],[s,12,12*Lh],[r,1,pp],[r,2,2*pp],[n,1,uQ],[t,1,ufe],[t,3,3*ufe],[e,1,T9]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=tQ(([,,m])=>m).right(i,d);if(h===i.length)return e.every(QU(u/T9,c/T9,f));if(h===0)return gF.every(Math.max(QU(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[aLt,lLt]=p3e(MB,RB,mQ,h3e,hQ,fQ),[uLt,cLt]=p3e(FB,OB,gQ,pQ,dQ,cQ);function fLt(e){return new Date(e)}function dLt(e){return e instanceof Date?+e:+new Date(+e)}function vQ(e,t,n,r,s,o,i,a,l,u){var c=n3e(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),w=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?b:w)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,dLt)):d().map(fLt)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d(i3e($,S)):c},c.copy=function(){return MA(c,vQ(e,t,n,r,s,o,i,a,l,u))},c}function hLt(){return zd.apply(vQ(uLt,cLt,FB,OB,gQ,pQ,dQ,cQ,Dv,oB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pLt(){return zd.apply(vQ(aLt,lLt,MB,RB,mQ,d3e,hQ,fQ,Dv,iB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PB(){var e=0,t=1,n,r,s,o,i=ul,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(My),u.rangeRound=c(NB),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function b0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yQ(){var e=Py(PB()(ul));return e.copy=function(){return b0(e,yQ())},y0.apply(e,arguments)}function g3e(){var e=oQ(PB()).domain([1,10]);return e.copy=function(){return b0(e,g3e()).base(e.base())},y0.apply(e,arguments)}function m3e(){var e=iQ(PB());return e.copy=function(){return b0(e,m3e()).constant(e.constant())},y0.apply(e,arguments)}function bQ(){var e=aQ(PB());return e.copy=function(){return b0(e,bQ()).exponent(e.exponent())},y0.apply(e,arguments)}function gLt(){return bQ.apply(null,arguments).exponent(.5)}function LB(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=ul,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,b;return arguments.length?([v,y,b]=m,u=sQ(g,[v,y,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(My),h.rangeRound=p(NB),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function v3e(){var e=Py(LB()(ul));return e.copy=function(){return b0(e,v3e())},y0.apply(e,arguments)}function y3e(){var e=oQ(LB()).domain([.1,1,10]);return e.copy=function(){return b0(e,y3e()).base(e.base())},y0.apply(e,arguments)}function b3e(){var e=iQ(LB());return e.copy=function(){return b0(e,b3e()).constant(e.constant())},y0.apply(e,arguments)}function wQ(){var e=aQ(LB());return e.copy=function(){return b0(e,wQ()).exponent(e.exponent())},y0.apply(e,arguments)}function mLt(){return wQ.apply(null,arguments).exponent(.5)}const vLt="year",xQ="quarter",yLt="month",bLt="week",wLt="date",xLt="day",CLt="dayofyear",SLt="hours",$Lt="minutes",kLt="seconds",ELt="milliseconds",_Lt=[vLt,xQ,yLt,bLt,wLt,xLt,CLt,SLt,$Lt,kLt,ELt];_Lt.reduce((e,t,n)=>(e[t]=1+n,e),{});xQ+"",OB.every(3);xQ+"",RB.every(3);function TLt(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const ALt="identity",CQ="linear",wx="log",SQ="pow",$Q="sqrt",kQ="symlog",ILt="time",NLt="utc",EC="sequential",PA="diverging",cfe="quantile",DLt="quantize",OLt="threshold",RLt="ordinal",FLt="point",MLt="band",PLt="bin-ordinal",ii="continuous",BB="discrete",zB="discretizing",tf="interpolating",w3e="temporal";function LLt(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function BLt(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function EQ(){const e=nQ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=TLt(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=cPt(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return v=Math.max(0,L1(h,g)-1),y=g===m?v:L1(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(b=v,v=p-y,y=p-b),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return EQ().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function x3e(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return x3e(t())},e}function zLt(){return x3e(EQ().paddingInner(1))}var VLt=Array.prototype.map;function WLt(e){return VLt.call(e,X4t)}const ULt=Array.prototype.slice;function C3e(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(L1(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=WLt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=ULt.call(r),n):t.slice()},n.tickFormat=function(r,s){return r3e(e[0],Y4t(e),r??10,s)},n.copy=function(){return C3e().domain(n.domain()).range(n.range())},n}const oj=new Map,jLt=Symbol("vega_scale");function HLt(e){return e[jLt]=!0,e}function qLt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?LLt(o):o.invertExtent?BLt(o):void 0),o.type=e,HLt(o)};return r.metadata=nPt(Z4t(n)),r}function ss(e,t,n){return arguments.length>1?(oj.set(e,qLt(e,t,n)),this):GLt(e)?oj.get(e):void 0}ss(ALt,o3e);ss(CQ,s3e,ii);ss(wx,a3e,[ii,wx]);ss(SQ,lQ,ii);ss($Q,KPt,ii);ss(kQ,l3e,ii);ss(ILt,hLt,[ii,w3e]);ss(NLt,pLt,[ii,w3e]);ss(EC,yQ,[ii,tf]);ss(`${EC}-${CQ}`,yQ,[ii,tf]);ss(`${EC}-${wx}`,g3e,[ii,tf,wx]);ss(`${EC}-${SQ}`,bQ,[ii,tf]);ss(`${EC}-${$Q}`,gLt,[ii,tf]);ss(`${EC}-${kQ}`,m3e,[ii,tf]);ss(`${PA}-${CQ}`,v3e,[ii,tf]);ss(`${PA}-${wx}`,y3e,[ii,tf,wx]);ss(`${PA}-${SQ}`,wQ,[ii,tf]);ss(`${PA}-${$Q}`,mLt,[ii,tf]);ss(`${PA}-${kQ}`,b3e,[ii,tf]);ss(cfe,u3e,[zB,cfe]);ss(DLt,c3e,zB);ss(OLt,f3e,zB);ss(PLt,C3e,[BB,zB]);ss(RLt,nQ,BB);ss(MLt,EQ,BB);ss(FLt,zLt,BB);function GLt(e){return oj.has(e)}function KLt(e,t,n){return sQ(YLt("rgb",n),e)}function YLt(e,t){const n=MPt[XLt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function XLt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const ZLt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},JLt={accent:M_e,category10:F_e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:P_e,observable10:L_e,paired:B_e,pastel1:z_e,pastel2:V_e,set1:W_e,set2:U_e,set3:j_e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function S3e(e){if(BDe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function $3e(e,t){for(const n in e)QLt(n,t(e[n]))}const ffe={};$3e(JLt,S3e);$3e(ZLt,e=>KLt(S3e(e)));function QLt(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ffe[e]=t,this):ffe[e]}var eBt=Math.random,A9=Math.PI/180,k$=64,_3=2048;function tBt(){var e=[256,256],t,n,r,s,o,i,a,l=k3e,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(c0()),g=aBt((e[0]>>5)*e[1]),m=null,v=u.length,y=-1,b=[],w=u.map(S=>({text:t(S),font:n(S),style:s(S),weight:o(S),rotate:i(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,$)=>$.size-S.size);++y<v;){var C=w[y];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,nBt(p,C,w,y),C.hasText&&h(g,C,m)&&(b.push(C),m?sBt(m,C):m=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(k$<<5)/g,p.height=_3/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var v=g.x,y=g.y,b=Math.hypot(e[0],e[1]),w=l(e),C=c()<.5?1:-1,S=-C,$,k,T;($=w(S+=C))&&(k=~~$[0],T=~~$[1],!(Math.min(Math.abs(k),Math.abs(T))>=b));)if(g.x=v+k,g.y=y+T,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!rBt(g,p,e[0]))&&(!m||oBt(g,m))){for(var _=g.sprite,E=g.width>>5,A=e[0]>>5,I=g.x-(E<<4),F=I&127,R=32-F,L=g.y1-g.y0,D=(g.y+g.y0)*A+(I>>5),N,M=0;M<L;M++){N=0;for(var z=0;z<=E;z++)p[D+z]|=N<<R|(z<E?(N=_[M*E+z])>>>F:0);D+=A}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=V0(p),f):n},f.fontStyle=function(p){return arguments.length?(s=V0(p),f):s},f.fontWeight=function(p){return arguments.length?(o=V0(p),f):o},f.rotate=function(p){return arguments.length?(i=V0(p),f):i},f.text=function(p){return arguments.length?(t=V0(p),f):t},f.spiral=function(p){return arguments.length?(l=lBt[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=V0(p),f):r},f.padding=function(p){return arguments.length?(a=V0(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function nBt(e,t,n,r){if(!t.sprite){var s=e.context,o=e.ratio;s.clearRect(0,0,(k$<<5)/o,_3/o);var i=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=s.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*A9),m=Math.cos(t.rotate*A9),v=c*m,y=c*g,b=d*m,w=d*g;c=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,d=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else c=c+31>>5<<5;if(d>l&&(l=d),i+c>=k$<<5&&(i=0,a+=l,l=0),a+d>=_3)break;s.translate((i+(c>>1))/o,(a+(d>>1))/o),t.rotate&&s.rotate(t.rotate*A9),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=c,t.height=d,t.xoff=i,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,i+=c}for(var C=s.getImageData(0,0,(k$<<5)/o,_3/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)S[h]=0;if(i=t.xoff,i==null)return;a=t.yoff;var $=0,k=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var T=f*p+(h>>5),_=C[(a+p)*(k$<<5)+(i+h)<<2]?1<<31-h%32:0;S[T]|=_,$|=_}$?k=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*f)}}}function rBt(e,t,n){n>>=5;for(var r=e.sprite,s=e.width>>5,o=e.x-(s<<4),i=o&127,a=32-i,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=s;d++)if((c<<a|(d<s?(c=r[f*s+d])>>>i:0))&t[u+d])return!0;u+=n}return!1}function sBt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function oBt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function k3e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function iBt(e){var t=4,n=t*e[0]/e[1],r=0,s=0;return function(o){var i=o<0?-1:1;switch(Math.sqrt(1+4*i*o)-i&3){case 0:r+=n;break;case 1:s+=t;break;case 2:r-=n;break;default:s-=t;break}return[r,s]}}function aBt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function V0(e){return typeof e=="function"?e:function(){return e}}var lBt={archimedean:k3e,rectangular:iBt};const E3e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],uBt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function _Q(e){Ke.call(this,tBt(),e)}_Q.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:E3e}]};tPt(_Q,Ke,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&E3("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return XU(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||uBt.some(n)))return;const s=t.materialize(t.SOURCE).source,o=this.value,i=e.as||E3e;let a=e.fontSize||14,l;if(XU(a)?l=e.fontSizeRange:a=J4t(a),l){const p=a,g=ss("sqrt")().domain(ePt(s,p)).range(l);a=m=>g(p(m))}s.forEach(p=>{p[i[0]]=NaN,p[i[1]]=NaN,p[i[3]]=0});const u=o.words(s).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(eBt).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[i[0]]=g.x+f,m[i[1]]=g.y+d,m[i[2]]=g.font,m[i[3]]=g.size,m[i[4]]=g.style,m[i[5]]=g.weight,m[i[6]]=g.rotate;return t.reflow(r).modifies(i)}});const cBt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:_Q},Symbol.toStringTag,{value:"Module"})),fBt=e=>new Uint8Array(e),dBt=e=>new Uint16Array(e),tk=e=>new Uint32Array(e);function hBt(){let e=8,t=[],n=tk(0),r=PN(0,e),s=PN(0,e);return{data:()=>t,seen:()=>n=pBt(n,t.length),add(o){for(let i=0,a=t.length,l=o.length,u;i<l;++i)u=o[i],u._index=a++,t.push(u)},remove(o,i){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!i[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],i[f]?u[f]=-1:(u[f]=d,r[d]=r[f],s[d]=s[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>s,reset:o=>s[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,i){r[o]|=i},clear(o,i){r[o]&=~i},resize(o,i){const a=r.length;(o>a||i>e)&&(e=Math.max(i,e),r=PN(o,e,r),s=PN(o,e))}}}function pBt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function PN(e,t,n){const r=(t<257?fBt:t<65537?dBt:tk)(e);return n&&r.set(n),r}function dfe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(s,o){const i=this,a=i.bisect(i.range,s.value),l=s.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return i}}}function hfe(){let e=tk(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=tk(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=gBt(h,d),c)p=t,g=e,t=Array(c+f),e=tk(c+f),mBt(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function s(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function i(a,l){let u;return l?u=l.length:(l=t,u=n),[fwt(l,a[0],0,u),Em(l,a[1],0,u)]}return{insert:r,remove:s,bisect:i,reindex:o,index:()=>e,size:()=>n}}function gBt(e,t){return e.sort.call(t,(n,r)=>{const s=e[n],o=e[r];return s<o?-1:s>o?1:0}),pwt(e,t)}function mBt(e,t,n,r,s,o,i,a,l){let u=0,c=0,f;for(f=0;u<r&&c<i;++f)t[u]<s[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=s[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<i;++c,++f)a[f]=s[c],l[f]=o[c]+e}function TQ(e){Ke.call(this,hBt(),e),this._indices=null,this._dims=null}TQ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Nt(TQ,Ke,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,s=this._indices={},o=this._dims=[],i=r.length;let a=0,l,u;for(;a<i;++a)l=n[a].fname,u=s[l]||(s[l]=hfe()),o.push(dfe(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,s=e.query,o=this._indices,i=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=s.length,p={};let g,m,v,y,b,w,C,S,$;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},y=t.mod,C=0,S=y.length;C<S;++C)w[y[C]._index]=1;for(C=0;C<h;++C)$=r[C],(!i[C]||e.modified("fields",C)||t.modified($.fields))&&(v=$.fname,(g=p[v])||(o[v]=m=hfe(),p[v]=g=m.insert($,t.source,0)),i[C]=dfe(m,C,s[C]).onAdd(g,l));for(C=0,S=a.data().length;C<S;++C)b[C]||(u[C]!==l[C]?f.push(C):w[C]&&l[C]!==c&&d.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let s=0;return t.rem.length&&(this.remove(e,t,n),s|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(s|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),s|=(1<<r)-1),t.mod.length&&(this.modify(t,n),s|=(1<<r)-1),this.value.mask=s,n},insert(e,t,n){const r=t.add,s=this.value,o=this._dims,i=this._indices,a=e.fields,l={},u=n.add,c=s.size()+r.length,f=o.length;let d=s.size(),h,p,g;s.resize(c,f),s.add(r);const m=s.curr(),v=s.prev(),y=s.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=i[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)v[d]=y,m[d]!==y&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,s=r.curr(),o=r.all(),i=e.mod;let a,l,u;for(a=0,l=i.length;a<l;++a)u=i[a]._index,s[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,s=this.value,o=s.curr(),i=s.prev(),a=s.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,i[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,s=this.value;e.runAfter(()=>{const o=s.remove(t,n);for(const i in r)r[i].reindex(o)})},update(e,t,n){const r=this._dims,s=e.query,o=t.stamp,i=r.length;let a=0,l,u;for(n.filters=0,u=0;u<i;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],s[l],n.add,n.rem);else for(u=0,a=0;u<i;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],s[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const s=this.value,o=s.seen(),i=s.curr(),a=s.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,v,y;if(f<h)for(m=f,v=Math.min(h,d);m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;else if(f>h)for(m=h,v=Math.min(f,p);m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;if(d>p)for(m=Math.max(f,p),v=d;m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;else if(d<p)for(m=Math.max(h,d),v=p;m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const s=this.value,o=s.curr(),i=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=i[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=i[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=i[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=i[p],o[m]^=h,r.push(m);e.range=t.slice()}});function AQ(e){Ke.call(this,null,e)}AQ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Nt(AQ,Ke,{transform(e,t){const n=~(e.ignore||0),r=e.filter,s=r.mask;if((s&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),i=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:i[c];return o.filter(o.MOD,u),s&s-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?i[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?i[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===s?i[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const vBt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:TQ,resolvefilter:AQ},Symbol.toStringTag,{value:"Module"}));function _C(e,t,n){return e.fields=t||[],e.fname=n,e}function yBt(e){return e.length===1?bBt(e[0]):wBt(e)}const bBt=e=>function(t){return t[e]},wBt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function li(e){throw Error(e)}function xBt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||li("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&li("Access path missing closing bracket: "+e),r&&li("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function _3e(e,t,n){const r=xBt(e);return e=r.length===1?r[0]:e,_C(yBt(r),[e],e)}_3e("id");const IQ=_C(e=>e,[],"identity");_C(()=>0,[],"zero");_C(()=>1,[],"one");const T3e=_C(()=>!0,[],"true");_C(()=>!1,[],"false");const CBt=new Set(Object.getOwnPropertyNames(Object.prototype));var gp=Array.isArray;function mF(e){return e===Object(e)}function zm(e){return e[e.length-1]}function NQ(e){return e==null||e===""?null:+e}const A3e=e=>t=>e*Math.exp(t),I3e=e=>t=>Math.log(e*t),N3e=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),D3e=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,vF=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function VB(e,t,n,r){const s=n(e[0]),o=n(zm(e)),i=(o-s)*t;return[r(s-i),r(o-i)]}function SBt(e,t){return VB(e,t,NQ,IQ)}function $Bt(e,t){var n=Math.sign(e[0]);return VB(e,t,I3e(n),A3e(n))}function kBt(e,t,n){return VB(e,t,vF(n),vF(1/n))}function EBt(e,t,n){return VB(e,t,N3e(n),D3e(n))}function WB(e,t,n,r,s){const o=r(e[0]),i=r(zm(e)),a=t!=null?r(t):(o+i)/2;return[s(a+(o-a)*n),s(a+(i-a)*n)]}function _Bt(e,t,n){return WB(e,t,n,NQ,IQ)}function TBt(e,t,n){const r=Math.sign(e[0]);return WB(e,t,n,I3e(r),A3e(r))}function ABt(e,t,n,r){return WB(e,t,n,vF(r),vF(1/r))}function IBt(e,t,n,r){return WB(e,t,n,N3e(r),D3e(r))}function NBt(e){return 1+~~(new Date(e).getMonth()/3)}function DBt(e){return 1+~~(new Date(e).getUTCMonth()/3)}function pfe(e){return e!=null?gp(e)?e:[e]:[]}function OBt(e,t,n){let r=e[0],s=e[1],o;return s<r&&(o=s,s=r,r=o),o=s-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function yF(e){return typeof e=="function"}function DQ(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function RBt(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function Vg(e,t){return Object.hasOwn(e,t)}function FBt(e,t,n,r,s,o){if(!n&&n!==0)return o;const i=+n;let a=e[0],l=zm(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=i?r:c<=i?s:o}function MBt(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function PBt(e){return typeof e=="boolean"}function O3e(e){return Object.prototype.toString.call(e)==="[object Date]"}function R3e(e){return typeof e=="number"}function LBt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function TC(e){return typeof e=="string"}function BBt(e,t){const n=e[0],r=zm(e),s=+t;return s?s===1?r:n+s*(r-n):n}function LN(e,t){let n="";for(;--t>=0;)n+=e;return n}function zBt(e,t,n,r){const s=n||" ",o=e+"",i=t-o.length;return i<=0?o:r==="left"?LN(s,i)+o:r==="center"?LN(s,~~(i/2))+o+LN(s,Math.ceil(i/2)):o+LN(s,i)}function VBt(e){return e&&zm(e)-e[0]||0}function AE(e){return gp(e)?"["+e.map(AE)+"]":mF(e)||TC(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function WBt(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const UBt=e=>R3e(e)||O3e(e)?e:Date.parse(e);function jBt(e,t){return t=t||UBt,e==null||e===""?null:t(e)}function HBt(e){return e==null||e===""?null:e+""}function gfe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function qBt(e,t,n,r){const s=r??"",o=e+"",i=o.length,a=Math.max(0,t-s.length);return i<=t?o:n==="left"?s+o.slice(i-a):n==="center"?o.slice(0,Math.ceil(a/2))+s+o.slice(i-~~(a/2)):o.slice(0,a)+s}const GBt="RawCode",xx="Literal",KBt="Property",YBt="Identifier",XBt="ArrayExpression",ZBt="BinaryExpression",F3e="CallExpression",JBt="ConditionalExpression",QBt="LogicalExpression",e6t="MemberExpression",t6t="ObjectExpression",n6t="UnaryExpression";function nf(e){this.type=e}nf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=r6t(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function r6t(e){switch(e.type){case XBt:return e.elements;case ZBt:case QBt:return[e.left,e.right];case F3e:return[e.callee].concat(e.arguments);case JBt:return[e.test,e.consequent,e.alternate];case e6t:return[e.object,e.property];case t6t:return e.properties;case KBt:return[e.key,e.value];case n6t:return[e.argument];case YBt:case xx:case GBt:default:return[]}}var Vd,rn,Je,ea,Pr,UB=1,LA=2,B1=3,w0=4,jB=5,zy=6,Za=7,BA=8,s6t=9;Vd={};Vd[UB]="Boolean";Vd[LA]="<end>";Vd[B1]="Identifier";Vd[w0]="Keyword";Vd[jB]="Null";Vd[zy]="Numeric";Vd[Za]="Punctuator";Vd[BA]="String";Vd[s6t]="RegularExpression";var o6t="ArrayExpression",i6t="BinaryExpression",a6t="CallExpression",l6t="ConditionalExpression",M3e="Identifier",u6t="Literal",c6t="LogicalExpression",f6t="MemberExpression",d6t="ObjectExpression",h6t="Property",p6t="UnaryExpression",Vo="Unexpected token %0",g6t="Unexpected number",m6t="Unexpected string",v6t="Unexpected identifier",y6t="Unexpected reserved word",b6t="Unexpected end of input",ij="Invalid regular expression",I9="Invalid regular expression: missing /",P3e="Octal literals are not allowed in strict mode.",w6t="Duplicate data property in object literal not allowed in strict mode",hi="ILLEGAL",IE="Disabled.",x6t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),C6t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function HB(e,t){if(!e)throw new Error("ASSERT: "+t)}function vh(e){return e>=48&&e<=57}function OQ(e){return"0123456789abcdefABCDEF".includes(e)}function nk(e){return"01234567".includes(e)}function S6t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function NE(e){return e===10||e===13||e===8232||e===8233}function zA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&x6t.test(String.fromCharCode(e))}function bF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&C6t.test(String.fromCharCode(e))}const $6t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function L3e(){for(;Je<ea;){const e=rn.charCodeAt(Je);if(S6t(e)||NE(e))++Je;else break}}function aj(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)Je<ea&&OQ(rn[Je])?(r=rn[Je++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):wr({},Vo,hi);return String.fromCharCode(s)}function k6t(){var e,t,n,r;for(e=rn[Je],t=0,e==="}"&&wr({},Vo,hi);Je<ea&&(e=rn[Je++],!!OQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wr({},Vo,hi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function B3e(){var e,t;for(e=rn.charCodeAt(Je++),t=String.fromCharCode(e),e===92&&(rn.charCodeAt(Je)!==117&&wr({},Vo,hi),++Je,e=aj("u"),(!e||e==="\\"||!zA(e.charCodeAt(0)))&&wr({},Vo,hi),t=e);Je<ea&&(e=rn.charCodeAt(Je),!!bF(e));)++Je,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rn.charCodeAt(Je)!==117&&wr({},Vo,hi),++Je,e=aj("u"),(!e||e==="\\"||!bF(e.charCodeAt(0)))&&wr({},Vo,hi),t+=e);return t}function E6t(){var e,t;for(e=Je++;Je<ea;){if(t=rn.charCodeAt(Je),t===92)return Je=e,B3e();if(bF(t))++Je;else break}return rn.slice(e,Je)}function _6t(){var e,t,n;return e=Je,t=rn.charCodeAt(Je)===92?B3e():E6t(),t.length===1?n=B1:$6t.hasOwnProperty(t)?n=w0:t==="null"?n=jB:t==="true"||t==="false"?n=UB:n=B1,{type:n,value:t,start:e,end:Je}}function N9(){var e=Je,t=rn.charCodeAt(Je),n,r=rn[Je],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Je,{type:Za,value:String.fromCharCode(t),start:e,end:Je};default:if(n=rn.charCodeAt(Je+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Je+=2,{type:Za,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Je};case 33:case 61:return Je+=2,rn.charCodeAt(Je)===61&&++Je,{type:Za,value:rn.slice(e,Je),start:e,end:Je}}}if(i=rn.substr(Je,4),i===">>>=")return Je+=4,{type:Za,value:i,start:e,end:Je};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Je+=3,{type:Za,value:o,start:e,end:Je};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".includes(r)||s==="=>")return Je+=2,{type:Za,value:s,start:e,end:Je};if(s==="//"&&wr({},Vo,hi),"<>=!+-*%&|^/".includes(r))return++Je,{type:Za,value:r,start:e,end:Je};wr({},Vo,hi)}function T6t(e){let t="";for(;Je<ea&&OQ(rn[Je]);)t+=rn[Je++];return t.length===0&&wr({},Vo,hi),zA(rn.charCodeAt(Je))&&wr({},Vo,hi),{type:zy,value:parseInt("0x"+t,16),start:e,end:Je}}function A6t(e){let t="0"+rn[Je++];for(;Je<ea&&nk(rn[Je]);)t+=rn[Je++];return(zA(rn.charCodeAt(Je))||vh(rn.charCodeAt(Je)))&&wr({},Vo,hi),{type:zy,value:parseInt(t,8),octal:!0,start:e,end:Je}}function mfe(){var e,t,n;if(n=rn[Je],HB(vh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Je,e="",n!=="."){if(e=rn[Je++],n=rn[Je],e==="0"){if(n==="x"||n==="X")return++Je,T6t(t);if(nk(n))return A6t(t);n&&vh(n.charCodeAt(0))&&wr({},Vo,hi)}for(;vh(rn.charCodeAt(Je));)e+=rn[Je++];n=rn[Je]}if(n==="."){for(e+=rn[Je++];vh(rn.charCodeAt(Je));)e+=rn[Je++];n=rn[Je]}if(n==="e"||n==="E")if(e+=rn[Je++],n=rn[Je],(n==="+"||n==="-")&&(e+=rn[Je++]),vh(rn.charCodeAt(Je)))for(;vh(rn.charCodeAt(Je));)e+=rn[Je++];else wr({},Vo,hi);return zA(rn.charCodeAt(Je))&&wr({},Vo,hi),{type:zy,value:parseFloat(e),start:t,end:Je}}function I6t(){var e="",t,n,r,s,o=!1;for(t=rn[Je],HB(t==="'"||t==='"',"String literal must starts with a quote"),n=Je,++Je;Je<ea;)if(r=rn[Je++],r===t){t="";break}else if(r==="\\")if(r=rn[Je++],!r||!NE(r.charCodeAt(0)))switch(r){case"u":case"x":rn[Je]==="{"?(++Je,e+=k6t()):e+=aj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:nk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),Je<ea&&nk(rn[Je])&&(o=!0,s=s*8+"01234567".indexOf(rn[Je++]),"0123".includes(r)&&Je<ea&&nk(rn[Je])&&(s=s*8+"01234567".indexOf(rn[Je++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&rn[Je]===`
`&&++Je;else{if(NE(r.charCodeAt(0)))break;e+=r}return t!==""&&wr({},Vo,hi),{type:BA,value:e,octal:o,start:n,end:Je}}function N6t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,s)=>{if(parseInt(s,16)<=1114111)return"x";wr({},ij)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wr({},ij)}try{return new RegExp(e,t)}catch{return null}}function D6t(){var e,t,n,r,s;for(e=rn[Je],HB(e==="/","Regular expression literal must start with a slash"),t=rn[Je++],n=!1,r=!1;Je<ea;)if(e=rn[Je++],t+=e,e==="\\")e=rn[Je++],NE(e.charCodeAt(0))&&wr({},I9),t+=e;else if(NE(e.charCodeAt(0)))wr({},I9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wr({},I9),s=t.substr(1,t.length-2),{value:s,literal:t}}function O6t(){var e,t,n;for(t="",n="";Je<ea&&(e=rn[Je],!!bF(e.charCodeAt(0)));)++Je,e==="\\"&&Je<ea?wr({},Vo,hi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wr({},ij,n),{value:n,literal:t}}function R6t(){var e,t,n,r;return Pr=null,L3e(),e=Je,t=D6t(),n=O6t(),r=N6t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Je}}function F6t(e){return e.type===B1||e.type===w0||e.type===UB||e.type===jB}function z3e(){if(L3e(),Je>=ea)return{type:LA,start:Je,end:Je};const e=rn.charCodeAt(Je);return zA(e)?_6t():e===40||e===41||e===59?N9():e===39||e===34?I6t():e===46?vh(rn.charCodeAt(Je+1))?mfe():N9():vh(e)?mfe():N9()}function rl(){const e=Pr;return Je=e.end,Pr=z3e(),Je=e.end,e}function V3e(){const e=Je;Pr=z3e(),Je=e}function M6t(e){const t=new nf(o6t);return t.elements=e,t}function vfe(e,t,n){const r=new nf(e==="||"||e==="&&"?c6t:i6t);return r.operator=e,r.left=t,r.right=n,r}function P6t(e,t){const n=new nf(a6t);return n.callee=e,n.arguments=t,n}function L6t(e,t,n){const r=new nf(l6t);return r.test=e,r.consequent=t,r.alternate=n,r}function RQ(e){const t=new nf(M3e);return t.name=e,t}function E$(e){const t=new nf(u6t);return t.value=e.value,t.raw=rn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function yfe(e,t,n){const r=new nf(f6t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function B6t(e){const t=new nf(d6t);return t.properties=e,t}function bfe(e,t,n){const r=new nf(h6t);return r.key=t,r.value=n,r.kind=e,r}function z6t(e,t){const n=new nf(p6t);return n.operator=e,n.argument=t,n.prefix=!0,n}function wr(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,i)=>(HB(i<r.length,"Message reference must be in range"),r[i]));throw n=new Error(s),n.index=Je,n.description=s,n}function qB(e){e.type===LA&&wr(e,b6t),e.type===zy&&wr(e,g6t),e.type===BA&&wr(e,m6t),e.type===B1&&wr(e,v6t),e.type===w0&&wr(e,y6t),wr(e,Vo,e.value)}function ta(e){const t=rl();(t.type!==Za||t.value!==e)&&qB(t)}function fs(e){return Pr.type===Za&&Pr.value===e}function D9(e){return Pr.type===w0&&Pr.value===e}function V6t(){const e=[];for(Je=Pr.start,ta("[");!fs("]");)fs(",")?(rl(),e.push(null)):(e.push(z1()),fs("]")||ta(","));return rl(),M6t(e)}function wfe(){Je=Pr.start;const e=rl();return e.type===BA||e.type===zy?(e.octal&&wr(e,P3e),E$(e)):RQ(e.value)}function W6t(){var e,t,n,r;if(Je=Pr.start,e=Pr,e.type===B1)return n=wfe(),ta(":"),r=z1(),bfe("init",n,r);if(e.type===LA||e.type===Za)qB(e);else return t=wfe(),ta(":"),r=z1(),bfe("init",t,r)}function U6t(){var e=[],t,n,r,s={},o=String;for(Je=Pr.start,ta("{");!fs("}");)t=W6t(),t.key.type===M3e?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?wr({},w6t):s[r]=!0,e.push(t),fs("}")||ta(",");return ta("}"),B6t(e)}function j6t(){ta("(");const e=FQ();return ta(")"),e}const H6t={if:1};function q6t(){var e,t,n;if(fs("("))return j6t();if(fs("["))return V6t();if(fs("{"))return U6t();if(e=Pr.type,Je=Pr.start,e===B1||H6t[Pr.value])n=RQ(rl().value);else if(e===BA||e===zy)Pr.octal&&wr(Pr,P3e),n=E$(rl());else{if(e===w0)throw new Error(IE);e===UB?(t=rl(),t.value=t.value==="true",n=E$(t)):e===jB?(t=rl(),t.value=null,n=E$(t)):fs("/")||fs("/=")?(n=E$(R6t()),V3e()):qB(rl())}return n}function G6t(){const e=[];if(ta("("),!fs(")"))for(;Je<ea&&(e.push(z1()),!fs(")"));)ta(",");return ta(")"),e}function K6t(){Je=Pr.start;const e=rl();return F6t(e)||qB(e),RQ(e.value)}function Y6t(){return ta("."),K6t()}function X6t(){ta("[");const e=FQ();return ta("]"),e}function Z6t(){var e,t,n;for(e=q6t();;)if(fs("."))n=Y6t(),e=yfe(".",e,n);else if(fs("("))t=G6t(),e=P6t(e,t);else if(fs("["))n=X6t(),e=yfe("[",e,n);else break;return e}function xfe(){const e=Z6t();if(Pr.type===Za&&(fs("++")||fs("--")))throw new Error(IE);return e}function T3(){var e,t;if(Pr.type!==Za&&Pr.type!==w0)t=xfe();else{if(fs("++")||fs("--"))throw new Error(IE);if(fs("+")||fs("-")||fs("~")||fs("!"))e=rl(),t=T3(),t=z6t(e.value,t);else{if(D9("delete")||D9("void")||D9("typeof"))throw new Error(IE);t=xfe()}}return t}function Cfe(e){let t=0;if(e.type!==Za&&e.type!==w0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function J6t(){var e,t,n,r,s,o,i,a,l,u;if(e=Pr,l=T3(),r=Pr,s=Cfe(r),s===0)return l;for(r.prec=s,rl(),t=[e,Pr],i=T3(),o=[l,r,i];(s=Cfe(Pr))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=vfe(a,l,i),o.push(n);r=rl(),r.prec=s,o.push(r),t.push(Pr),n=T3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=vfe(o[u-1].value,o[u-2],n),u-=2;return n}function z1(){var e,t,n;return e=J6t(),fs("?")&&(rl(),t=z1(),ta(":"),n=z1(),e=L6t(e,t,n)),e}function FQ(){const e=z1();if(fs(","))throw new Error(IE);return e}function Q6t(e){rn=e,Je=0,ea=rn.length,Pr=null,V3e();const t=FQ();if(Pr.type!==LA)throw new Error("Unexpect token after expression.");return t}var W3e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function U3e(e){function t(i,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+i+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(i,a,l){return u=>t(i,u,a,l)}const r="new Date",s="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(i){i.length<3&&li("Missing arguments to clamp function."),i.length>3&&li("Too many arguments to clamp function.");const a=i.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(i){i.length<3&&li("Missing arguments to if function."),i.length>3&&li("Too many arguments to if function.");const a=i.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function e8t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function t8t(e){e=e||{};const t=e.allowed?gfe(e.allowed):{},n=e.forbidden?gfe(e.forbidden):{},r=e.constants||W3e,s=(e.functions||U3e)(f),o=e.globalvar,i=e.fieldvar,a=yF(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(TC(p))return p;const g=d[p.type];return g==null&&li("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Vg(n,g)?li("Illegal identifier: "+g):Vg(r,g)?r[g]:Vg(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const v=f(p.property);return m===i&&(u[e8t(v)]=1),g&&(c-=1),m+(g?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&li("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,v=Vg(s,g)&&s[g];return v||li("Unrecognized function: "+g),yF(v)?v(m):v+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>{for(const g of p.properties){const m=g.key.name;CBt.has(m)&&li("Illegal property: "+m)}return"{"+p.properties.map(f).join(",")+"}"},Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=s,h.constants=r,h}function O9(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n8t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r8t(e){let t,n,r;e.length!==2?(t=O9,n=(a,l)=>O9(e(a),l),r=(a,l)=>e(a)-l):(t=e===O9||e===n8t?e:s8t,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function s8t(){return 0}function o8t(e,...t){e=new QO(e),t=t.map(i8t);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function i8t(e){return e instanceof QO?e:new QO(e)}function a8t(...e){const t=new QO;for(const n of e)for(const r of n)t.add(r);return t}function AC(e,t,n){return e.fields=t||[],e.fname=n,e}function l8t(e){return e.length===1?u8t(e[0]):c8t(e)}const u8t=e=>function(t){return t[e]},c8t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function mw(e){throw Error(e)}function f8t(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||mw("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&mw("Access path missing closing bracket: "+e),r&&mw("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function MQ(e,t,n){const r=f8t(e);return e=r.length===1?r[0]:e,AC(l8t(r),[e],e)}MQ("id");AC(e=>e,[],"identity");AC(()=>0,[],"zero");AC(()=>1,[],"one");AC(()=>!0,[],"true");AC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var wF=Array.isArray;function d8t(e){return e===Object(e)}function h8t(e){return e[e.length-1]}function Ov(e){return e==null||e===""?null:+e}function Sfe(e){return e!=null?wF(e)?e:[e]:[]}function p8t(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function $fe(e,t){return Object.hasOwn(e,t)}function BN(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function R9(e){return Object.prototype.toString.call(e)==="[object Date]"}const g8t="Literal";var Wd,m8t=1,v8t=2,y8t=3,b8t=4,w8t=5,x8t=6,C8t=7,S8t=8,$8t=9;Wd={};Wd[m8t]="Boolean";Wd[v8t]="<end>";Wd[y8t]="Identifier";Wd[b8t]="Keyword";Wd[w8t]="Null";Wd[x8t]="Numeric";Wd[C8t]="Punctuator";Wd[S8t]="String";Wd[$8t]="RegularExpression";const kfe=Symbol("vega_selection_getter");function j3e(e){return(!e.getter||!e.getter[kfe])&&(e.getter=MQ(e.field),e.getter[kfe]=!0),e.getter}const PQ="intersect",Efe="union",k8t="vlMulti",E8t="vlPoint",_fe="or",_8t="and",Df="_vgsid_",DE=MQ(Df),T8t="E",A8t="R",I8t="R-E",N8t="R-LE",D8t="R-RE",O8t="E-LT",R8t="E-LTE",F8t="E-GT",M8t="E-GTE",P8t="E-VALID",L8t="E-ONE",xF="index:unit";function Tfe(e,t){for(var n=t.fields,r=t.values,s=n.length,o=0,i,a;o<s;++o)if(a=n[o],i=j3e(a)(e),R9(i)&&(i=Ov(i)),R9(r[o])&&(r[o]=Ov(r[o])),wF(r[o])&&R9(r[o][0])&&(r[o]=r[o].map(Ov)),a.type===T8t){if(wF(r[o])?!r[o].includes(i):i!==r[o])return!1}else if(a.type===A8t){if(!BN(i,r[o]))return!1}else if(a.type===D8t){if(!BN(i,r[o],!0,!1))return!1}else if(a.type===I8t){if(!BN(i,r[o],!1,!1))return!1}else if(a.type===N8t){if(!BN(i,r[o],!1,!0))return!1}else if(a.type===O8t){if(i>=r[o])return!1}else if(a.type===R8t){if(i>r[o])return!1}else if(a.type===F8t){if(i<=r[o])return!1}else if(a.type===M8t){if(i<r[o])return!1}else if(a.type===P8t){if(i===null||isNaN(i))return!1}else if(a.type===L8t&&r[o].indexOf(i)===-1)return!1;return!0}function B8t(e,t,n){for(var r=this.context.data[e],s=r?r.values.value:[],o=r?r[xF]&&r[xF].value:void 0,i=n===PQ,a=s.length,l=0,u,c,f,d,h;l<a;++l)if(u=s[l],o&&i){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=Tfe(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=Tfe(t,u),i^h)return h;return a&&i}const H3e=r8t(DE),z8t=H3e.left,V8t=H3e.right;function W8t(e,t,n){const r=this.context.data[e],s=r?r.values.value:[],o=r?r[xF]&&r[xF].value:void 0,i=n===PQ,a=DE(t),l=z8t(s,a);if(l===s.length||DE(s[l])!==a)return!1;if(o&&i){if(o.size===1)return!0;if(V8t(s,a)-l<o.size)return!1}return!0}function U8t(e,t){return wF(e)||mw("First argument to selectionTuples must be an array."),d8t(t)||mw("Second argument to selectionTuples must be an object."),e.map(n=>p8t(t.fields?{values:t.fields.map(r=>j3e(r)(n.datum))}:{[Df]:DE(n.datum)},t))}function j8t(e,t,n,r){for(var s=this.context.data[e],o=s?s.values.value:[],i={},a={},l={},u,c,f,d,h,p,g,m,v,y,b=o.length,w=0,C,S;w<b;++w)if(u=o[w],d=u.unit,c=u.fields,f=u.values,c&&f){for(C=0,S=c.length;C<S;++C)h=c[C],g=i[h.field]||(i[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=v=h.type.charAt(0),y=F9[`${v}_union`],g[d]=y(m,Sfe(f[C]));n&&(m=a[d]||(a[d]=[]),m.push(Sfe(f).reduce(($,k,T)=>($[c[T].field]=k,$),{})))}else h=Df,p=DE(u),g=i[h]||(i[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[Df]:p}));if(t=t||Efe,i[Df]?i[Df]=F9[`${Df}_${t}`](...Object.values(i[Df])):Object.keys(i).forEach($=>{i[$]=Object.keys(i[$]).map(k=>i[$][k]).reduce((k,T)=>k===void 0?T:F9[`${l[$]}_${t}`](k,T))}),o=Object.keys(a),n&&o.length){const $=r?E8t:k8t;i[$]=t===Efe?{[_fe]:o.reduce((k,T)=>(k.push(...a[T]),k),[])}:{[_8t]:o.map(k=>({[_fe]:a[k]}))}}return i}var F9={[`${Df}_union`]:a8t,[`${Df}_intersect`]:o8t,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Ov(t[0]),r=Ov(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ov(t[0]),r=Ov(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const H8t=":",q8t="@";function LQ(e,t,n,r){t[0].type!==g8t&&mw("First argument to selection functions must be a string literal.");const s=t[0].value,o=t.length>=2&&h8t(t).value,i="unit",a=q8t+i,l=H8t+s;o===PQ&&!$fe(r,a)&&(r[a]=n.getData(s).indataRef(n,i)),$fe(r,l)||(r[l]=n.getData(s).tuplesRef())}function q3e(e){const t=this.context.data[e];return t?t.values.value:[]}function G8t(e,t,n){const r=this.context.data[e]["index:"+t],s=r?r.value.get(n):void 0;return s&&s.count}function K8t(e,t){const n=this.context.dataflow,r=this.context.data[e],s=r.input;return n.pulse(s,n.changeset().remove(T3e).insert(t)),1}function Y8t(e,t,n){if(e){const r=this.context.dataflow,s=e.mark.source;r.pulse(s,r.changeset().encode(e,t))}return n!==void 0?n:e}const VA=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},X8t=VA("format"),G3e=VA("timeFormat"),Z8t=VA("utcFormat"),J8t=VA("timeParse"),Q8t=VA("utcParse"),zN=new Date(2e3,0,1);function GB(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(zN.setYear(2e3),zN.setMonth(e),zN.setDate(t),G3e.call(this,zN,n))}function e5t(e){return GB.call(this,e,1,"%B")}function t5t(e){return GB.call(this,e,1,"%b")}function n5t(e){return GB.call(this,0,2+e,"%A")}function r5t(e){return GB.call(this,0,2+e,"%a")}const s5t=":",o5t="@",lj="%",K3e="$";function BQ(e,t,n,r){t[0].type!==xx&&li("First argument to data functions must be a string literal.");const s=t[0].value,o=s5t+s;if(!Vg(o,r))try{r[o]=n.getData(s).tuplesRef()}catch{}}function i5t(e,t,n,r){t[0].type!==xx&&li("First argument to indata must be a string literal."),t[1].type!==xx&&li("Second argument to indata must be a string literal.");const s=t[0].value,o=t[1].value,i=o5t+o;Vg(i,r)||(r[i]=n.getData(s).indataRef(n,o))}function hl(e,t,n,r){if(t[0].type===xx)Afe(n,r,t[0].value);else for(e in n.scales)Afe(n,r,e)}function Afe(e,t,n){const r=lj+n;if(!Vg(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Rp(e,t){let n;return yF(e)?e:TC(e)?(n=t.scales[e])&&n.value:void 0}function a5t(e,t,n){t.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,n._bandwidth=hl,n._range=hl,n._scale=hl;const r=s=>"_["+(s.type===xx?AE(lj+s.value):AE(lj)+"+"+e(s))+"]";return{_bandwidth:s=>`this.__bandwidth(${r(s[0])})`,_range:s=>`${r(s[0])}.range()`,_scale:s=>`${r(s[0])}(${e(s[1])})`}}function zQ(e,t){return function(n,r,s){if(n){const o=Rp(n,(s||this).context);return o&&o.path[e](r)}else return t(r)}}const l5t=zQ("area",MIt),u5t=zQ("bounds",zIt),c5t=zQ("centroid",qIt);function f5t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function VQ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function d5t(){return VQ(this.context.dataflow,"warn",arguments)}function h5t(){return VQ(this.context.dataflow,"info",arguments)}function p5t(){return VQ(this.context.dataflow,"debug",arguments)}function M9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function uj(e){const t=$l(e),n=M9(t.r),r=M9(t.g),s=M9(t.b);return .2126*n+.7152*r+.0722*s}function g5t(e,t){const n=uj(e),r=uj(t),s=Math.max(n,r),o=Math.min(n,r);return(s+.05)/(o+.05)}function m5t(){const e=[].slice.call(arguments);return e.unshift({}),DQ(...e)}function Y3e(e,t){return e===t||e!==e&&t!==t?!0:gp(e)?gp(t)&&e.length===t.length?v5t(e,t):!1:mF(e)&&mF(t)?X3e(e,t):!1}function v5t(e,t){for(let n=0,r=e.length;n<r;++n)if(!Y3e(e[n],t[n]))return!1;return!0}function X3e(e,t){for(const n in e)if(!Y3e(e[n],t[n]))return!1;return!0}function Ife(e){return t=>X3e(e,t)}function y5t(e,t,n,r,s,o){const i=this.context.dataflow,a=this.context.data[e],l=a.input,u=i.stamp();let c=a.changes,f,d;if(i._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=i.changeset(),c.stamp=u,i.runAfter(()=>{a.modified=!0,i.pulse(l,c).run()},!0,1)),n&&(f=n===!0?T3e:gp(n)||gL(n)?n:Ife(n),c.remove(f)),t&&c.insert(t),r&&(f=Ife(r),l.value.some(f)?c.remove(f):c.insert(r)),s)for(d in o)c.modify(s,d,o[d]);return 1}function b5t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function w5t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Nfe={};function x5t(e,t){const n=Nfe[t]||(Nfe[t]=_3e(t));return gp(e)?e.map(n):n(e)}function WQ(e){return gp(e)||ArrayBuffer.isView(e)?e:null}function UQ(e){return WQ(e)||(TC(e)?e:null)}function C5t(e,...t){return WQ(e).join(...t)}function S5t(e,...t){return UQ(e).indexOf(...t)}function $5t(e,...t){return UQ(e).lastIndexOf(...t)}function k5t(e,...t){return UQ(e).slice(...t)}function E5t(e,t,n){return yF(n)&&li("Function argument passed to replace."),String(e).replace(t,n)}function _5t(e){return WQ(e).slice().reverse()}function T5t(e,t,n){return bZ(e||0,t||0,n||0)}function A5t(e,t){const n=Rp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function I5t(e,t){const n=Rp(e,(t||this).context);return n?n.copy():void 0}function N5t(e,t){const n=Rp(e,(t||this).context);return n?n.domain():[]}function D5t(e,t,n){const r=Rp(e,(n||this).context);return r?gp(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function O5t(e,t){const n=Rp(e,(t||this).context);return n&&n.range?n.range():[]}function R5t(e,t,n){const r=Rp(e,(n||this).context);return r?r(t):void 0}function F5t(e,t,n,r,s){e=Rp(e,(s||this).context);const o=VNe(t,n);let i=e.domain(),a=i[0],l=zm(i),u=IQ;return l-a?u=kAe(e,a,l):e=(e.interpolator?Tr("sequential")().interpolator(e.interpolator()):Tr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(i=e.ticks(+r||15),a!==i[0]&&i.unshift(a),l!==zm(i)&&i.push(l)),i.forEach(c=>o.stop(u(c),e(c))),o}function M5t(e,t,n){const r=Rp(e,(n||this).context);return function(s){return r?r.path.context(s)(t):""}}function P5t(e){let t=null;return function(n){return n?$E(n,t=t||mx(e)):e}}const Z3e=e=>e.data;function J3e(e,t){const n=q3e.call(t,e);return n.root&&n.root.lookup||{}}function L5t(e,t,n){const r=J3e(e,this),s=r[t],o=r[n];return s&&o?s.path(o).map(Z3e):void 0}function B5t(e,t){const n=J3e(e,this)[t];return n?n.ancestors().map(Z3e):void 0}const Q3e=()=>typeof window<"u"&&window||null;function z5t(){const e=Q3e();return e?e.screen:{}}function V5t(){const e=Q3e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function W5t(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function U5t(e,t,n){if(!e)return[];const[r,s]=e,o=new La().set(r[0],r[1],s[0],s[1]),i=n||this.context.dataflow.scenegraph().root;return NDe(i,o,j5t(t))}function j5t(e){let t=null;if(e){const n=pfe(e.marktype),r=pfe(e.markname);t=s=>(!n.length||n.some(o=>s.marktype===o))&&(!r.length||r.some(o=>s.name===o))}return t}const OE={random(){return Vc()},cumulativeNormal:wL,cumulativeLogNormal:yY,cumulativeUniform:CY,densityNormal:hY,densityLogNormal:vY,densityUniform:xY,quantileNormal:xL,quantileLogNormal:bY,quantileUniform:SY,sampleNormal:bL,sampleLogNormal:mY,sampleUniform:wY,isArray:gp,isBoolean:PBt,isDate:O3e,isDefined(e){return e!==void 0},isNumber:R3e,isObject:mF,isRegExp:LBt,isString:TC,isTuple:gL,isValid(e){return e!=null&&e===e},toBoolean:WBt,toDate:jBt,toNumber:NQ,toString:HBt,indexof:S5t,join:C5t,lastindexof:$5t,replace:E5t,reverse:_5t,slice:k5t,flush:FBt,lerp:BBt,merge:m5t,pad:zBt,peek:zm,pluck:x5t,span:VBt,inrange:MBt,truncate:qBt,rgb:$l,lab:Nm,hcl:Dm,hsl:Im,luminance:uj,contrast:g5t,sequence:ql,format:X8t,utcFormat:Z8t,utcParse:Q8t,utcOffset:Mke,utcSequence:Bke,timeFormat:G3e,timeParse:J8t,timeOffset:Fke,timeSequence:Lke,timeUnitSpecifier:$ke,monthFormat:e5t,monthAbbrevFormat:t5t,dayFormat:n5t,dayAbbrevFormat:r5t,quarter:NBt,utcquarter:DBt,week:Eke,utcweek:Ake,dayofyear:kke,utcdayofyear:Tke,warn:d5t,info:h5t,debug:p5t,extent:RBt,inScope:f5t,intersect:U5t,clampRange:OBt,pinchDistance:b5t,pinchAngle:w5t,screen:z5t,containerSize:W5t,windowSize:V5t,bandspace:T5t,setdata:K8t,pathShape:P5t,panLinear:SBt,panLog:$Bt,panPow:kBt,panSymlog:EBt,zoomLinear:_Bt,zoomLog:TBt,zoomPow:ABt,zoomSymlog:IBt,encode:Y8t,modify:y5t},H5t=["view","item","group","xy","x","y"],q5t="event.vega.",eOe="this.",jQ={},tOe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${AE(K3e+e)}]`,functions:G5t,constants:W3e,visitors:jQ},cj=t8t(tOe);function G5t(e){const t=U3e(e);H5t.forEach(n=>t[n]=q5t+n);for(const n in OE)t[n]=eOe+n;return DQ(t,a5t(e,OE,jQ)),t}function fo(e,t,n){return arguments.length===1?OE[e]:(OE[e]=t,n&&(jQ[e]=n),cj&&(cj.functions[e]=eOe+e),this)}fo("bandwidth",A5t,hl);fo("copy",I5t,hl);fo("domain",N5t,hl);fo("range",O5t,hl);fo("invert",D5t,hl);fo("scale",R5t,hl);fo("gradient",F5t,hl);fo("geoArea",l5t,hl);fo("geoBounds",u5t,hl);fo("geoCentroid",c5t,hl);fo("geoShape",M5t,hl);fo("indata",G8t,i5t);fo("data",q3e,BQ);fo("treePath",L5t,BQ);fo("treeAncestors",B5t,BQ);fo("vlSelectionTest",B8t,LQ);fo("vlSelectionIdTest",W8t,LQ);fo("vlSelectionResolve",j8t,LQ);fo("vlSelectionTuples",U8t);function bd(e,t){const n={};let r;try{e=TC(e)?e:AE(e)+"",r=Q6t(e)}catch{li("Expression parse error: "+e)}r.visit(o=>{if(o.type!==F3e)return;const i=o.callee.name,a=tOe.visitors[i];a&&a(i,o.arguments,t,n)});const s=cj(r);return s.globals.forEach(o=>{const i=K3e+o;!Vg(n,i)&&t.getSignal(o)&&(n[i]=t.signalRef(o))}),{$expr:DQ({code:s.code},t.options.ast?{ast:r}:null),$fields:s.fields,$params:n}}function Ud(e,t,n){return e.fields=t||[],e.fname=n,e}function K5t(e){return e==null?null:e.fields}function nOe(e){return e.length===1?Y5t(e[0]):X5t(e)}const Y5t=e=>function(t){return t[e]},X5t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function t1(e){throw Error(e)}function rOe(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||t1("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&t1("Access path missing closing bracket: "+e),r&&t1("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function HQ(e,t,n){const r=rOe(e);return e=r.length===1?r[0]:e,Ud((n&&n.get||nOe)(r),[e],t||e)}HQ("id");Ud(e=>e,[],"identity");Ud(()=>0,[],"zero");Ud(()=>1,[],"one");const Z5t=Ud(()=>!0,[],"true");Ud(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var qQ=Array.isArray;function GQ(e){return e===Object(e)}function RE(e){return e!=null?qQ(e)?e:[e]:[]}function J5t(e){return typeof e=="function"}const Q5t="descending";function ezt(e,t,n){n=n||{},t=RE(t)||[];const r=[],s=[],o={},i=n.comparator||tzt;return RE(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Q5t?-1:1),s.push(a=J5t(a)?a:HQ(a,null,n)),(K5t(a)||[]).forEach(u=>o[u]=1))}),s.length===0?null:Ud(i(s,r),Object.keys(o))}const sOe=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),tzt=(e,t)=>e.length===1?nzt(e[0],t[0]):rzt(e,t,e.length),nzt=(e,t)=>function(n,r){return sOe(e(n),e(r))*t},rzt=(e,t,n)=>(t.push(0),function(r,s){let o,i=0,a=-1;for(;i===0&&++a<n;)o=e[a],i=sOe(o(r),o(s));return i*t[a]});function szt(e,t){return Object.hasOwn(e,t)}function ozt(e){return typeof e=="string"}function izt(e,t,n){e&&(e=t?RE(e).map(a=>a.replace(/\\(.)/g,"$1")):RE(e));const r=e&&e.length,s=n&&n.get||nOe,o=a=>s(t?[a]:rOe(a));let i;if(!r)i=function(){return""};else if(r===1){const a=o(e[0]);i=function(l){return""+a(l)}}else{const a=e.map(o);i=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Ud(i,e,"key")}function fj(e){return qQ(e)?"["+e.map(fj)+"]":GQ(e)||ozt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function oOe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function azt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const lzt=oOe(["rule"]),Dfe=oOe(["group","image","rect"]);function uzt(e,t){let n="";return lzt[t]||(e.x2&&(e.x?(Dfe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Dfe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function KQ(e){return(e+"").toLowerCase()}function czt(e){return KQ(e)==="operator"}function fzt(e){return KQ(e)==="collect"}function OS(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function dzt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var hzt={operator:(e,t)=>OS(e,["_"],t.code),parameter:(e,t)=>OS(e,["datum","_"],t.code),event:(e,t)=>OS(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return OS(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const o in r){const i="o["+fj(o)+"]";s+=`$=${r[o].code};if(${i}!==$)${i}=$,m=1;`}return s+=uzt(r,n),s+="return m;",OS(e,["item","_"],s)},codegen:{get(e){const t=`[${e.map(fj).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,i)=>{const a=t[i];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+i]=o,l=`this.f${i}(a)`,u=`this.f${i}(b)`),dzt(l,u,-a,a)},s=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?s.bind(n):s}}};function pzt(e){const t=this;czt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function gzt(e){const t=this;if(e.params){const n=t.get(e.id);n||t1("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function mzt(e,t){t=t||{};const n=this;for(const r in e){const s=e[r];t[r]=qQ(s)?s.map(o=>Ofe(o,n,t)):Ofe(s,n,t)}return t}function Ofe(e,t,n){if(!e||!GQ(e))return e;for(let r=0,s=Rfe.length,o;r<s;++r)if(o=Rfe[r],szt(e,o.key))return o.parse(e,t,n);return e}var Rfe=[{key:"$ref",parse:vzt},{key:"$key",parse:bzt},{key:"$expr",parse:yzt},{key:"$field",parse:wzt},{key:"$encode",parse:Czt},{key:"$compare",parse:xzt},{key:"$context",parse:Szt},{key:"$subflow",parse:$zt},{key:"$tupleid",parse:kzt}];function vzt(e,t){return t.get(e.$ref)||t1("Operator not defined: "+e.$ref)}function yzt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Ud(t.parameterExpression(e.$expr),e.$fields))}function bzt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=izt(e.$key,e.$flat,t.expr.codegen))}function wzt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=HQ(e.$field,e.$name,t.expr.codegen))}function xzt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=RE(e.$compare).map(s=>s&&s.$tupleid?gn:s);return t.fn[n]||(t.fn[n]=ezt(r,e.$order,t.expr.codegen))}function Czt(e,t){const n=e.$encode,r={};for(const s in n){const o=n[s];r[s]=Ud(t.encodeExpression(o.$expr),o.$fields),r[s].output=o.$output}return r}function Szt(e,t){return t}function $zt(e,t){const n=e.$subflow;return function(r,s,o){const i=t.fork().parse(n),a=i.get(n.operators[0].id),l=i.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(i),a}}function kzt(){return gn}function Ezt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,s;e.source?r=t.events(e.source,e.type,n):e.merge&&(s=e.merge.map(o=>t.get(o)),r=s[0].merge.apply(s[0],s.slice(1))),e.between&&(s=e.between.map(o=>t.get(o)),r=r.between(s[0],s[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&t1("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function _zt(e){var t=this,n=GQ(n=e.source)?n.$ref:n,r=t.get(n),s=null,o=e.update,i=void 0;r||t1("Source not defined: "+e.source),s=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(i=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,s,o,i)}const Tzt={skip:!0};function Azt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const i=t.signals[o];e.signals(o,i)&&(r[o]=i.value)})}if(e.data){var s=n.data={};Object.keys(t.data).forEach(o=>{const i=t.data[o];e.data(o,i)&&(s[o]=i.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function Izt(e){var t=this,n=t.dataflow,r=e.data,s=e.signals;Object.keys(s||{}).forEach(o=>{n.update(t.signals[o],s[o],Tzt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Z5t).insert(r[o]))}),(e.subcontext||[]).forEach((o,i)=>{const a=t.subcontext[i];a&&a.setState(o)})}function iOe(e,t,n,r){return new aOe(e,t,n,r)}function aOe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||hzt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Ffe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}aOe.prototype=Ffe.prototype={fork(){const e=new Ffe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,s=e.value;if(n.set(e.id,t),fzt(e.type)&&s&&(s.$ingest?r.ingest(t,s.$ingest,s.$format):s.$request?r.preload(t,s.$request,s.$format):r.pulse(t,r.changeset().insert(s))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const i=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>i[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[KQ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,s){this.dataflow.on(t,n,r,s,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:azt,parseOperator:pzt,parseOperatorParameters:gzt,parseParameters:mzt,parseStream:Ezt,parseUpdate:_zt,getState:Azt,setState:Izt};function Nzt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),lOe(t,e.description()))}function lOe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function Dzt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const P9="default";function Ozt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:P9,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const s=t.value,o=s?ys(s)?s:s.user:P9,i=r.item&&r.item.cursor||null;return s&&o===s.user&&i==s.item?s:{user:o,item:i}}),e.add(null,function(n){let r=n.cursor,s=this.value;return ys(r)||(s=r.item,r=r.user),dj(e,r&&r!==P9?r:s||r),s},{cursor:t})}function dj(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function CF(e,t){var n=e._runtime.data;return Pn(n,t)||gt("Unrecognized data set: "+t),n[t]}function Rzt(e,t){return arguments.length<2?CF(this,e).values.value:KB.call(this,e,Cy().remove(aC).insert(t))}function KB(e,t){Z$e(t)||gt("Second argument to changes must be a changeset.");const n=CF(this,e);return n.modified=!0,this.pulse(n.input,t)}function Fzt(e,t){return KB.call(this,e,Cy().insert(t))}function Mzt(e,t){return KB.call(this,e,Cy().remove(t))}function uOe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function cOe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function YB(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Pzt(e){var t=YB(e),n=uOe(e),r=cOe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(s=>{try{s(n,r)}catch(o){e.error(o)}})}function Lzt(e,t,n){var r=e._renderer,s=r&&r.canvas(),o,i,a;return s&&(a=YB(e),i=t.changedTouches?t.changedTouches[0]:t,o=_B(i,s),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=Bzt(e,n,o),t}function Bzt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function s(i){var a=r,l;if(i){for(l=t;l;l=l.mark.group)if(l.mark.name===i){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(i){if(!i)return n;ys(i)&&(i=s(i));const a=n.slice();for(;i;)a[0]-=i.x||0,a[1]-=i.y||0,i=i.mark&&i.mark.group;return a}return{view:Lu(e),item:Lu(t||{}),group:s,xy:o,x:i=>o(i)[0],y:i=>o(i)[1]}}const Mfe="view",zzt="timer",Vzt="window",Wzt={trap:!1};function Uzt(e){const t=sr({defaults:{}},e),n=(r,s)=>{s.forEach(o=>{jn(r[o])&&(r[o]=ap(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function fOe(e,t,n,r){e._eventListeners.push({type:n,sources:Mn(t),handler:r})}function jzt(e,t){var n=e._eventConfig.defaults,r=n.prevent,s=n.allow;return r===!1||s===!0?!1:r===!0||s===!1?!0:r?r[t]:s?!s[t]:e.preventDefault()}function VN(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||tr(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function Hzt(e,t,n){var r=this,s=new yL(n),o=function(u,c){r.runAsync(null,()=>{e===Mfe&&jzt(r,t)&&u.preventDefault(),s.receive(Lzt(r,u,c))})},i;if(e===zzt)VN(r,"timer",t)&&r.timer(o,t);else if(e===Mfe)VN(r,"view",t)&&r.addEventListener(t,o,Wzt);else if(e===Vzt?VN(r,"window",t)&&typeof window<"u"&&(i=[window]):typeof document<"u"&&VN(r,"selector",t)&&(i=document.querySelectorAll(e)),!i)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=i.length;a<l;++a)i[a].addEventListener(t,o);fOe(r,i,t,o)}return s}function Pfe(e){return e.item}function Lfe(e){return e.item.mark.source}function Bfe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function qzt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",Pfe),Lfe,Bfe(e)),this.on(this.events("view","mouseout",Pfe),Lfe,Bfe(t)),this}function Gzt(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,s,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function Jl(e,t,n){const r=document.createElement(e);for(const s in t)r.setAttribute(s,t[s]);return n!=null&&(r.textContent=n),r}const Kzt="vega-bind",Yzt="vega-bind-name",Xzt="vega-bind-radio";function Zzt(e,t,n){if(!t)return;const r=n.param;let s=n.state;return s||(s=n.state={elements:null,active:!1,set:null,update:i=>{i!=e.signal(r.signal)&&e.runAsync(null,()=>{s.source=!0,e.signal(r.signal,i)})}},r.debounce&&(s.update=s$e(r.debounce,s.update))),(r.input==null&&r.element?Jzt:e9t)(s,t,r,e),s.active||(e.on(e._signals[r.signal],null,()=>{s.source?s.source=!1:s.set(e.signal(r.signal))}),s.active=!0),s}function Jzt(e,t,n,r){const s=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(s,o),fOe(r,t,s,o),e.set=i=>{t.value=i,t.dispatchEvent(Qzt(s))}}function Qzt(e){return typeof Event<"u"?new Event(e):{type:e}}function e9t(e,t,n,r){const s=r.signal(n.signal),o=Jl("div",{class:Kzt}),i=n.input==="radio"?o:o.appendChild(Jl("label"));i.appendChild(Jl("span",{class:Yzt},n.name||n.signal)),t.appendChild(o);let a=t9t;switch(n.input){case"checkbox":a=n9t;break;case"select":a=r9t;break;case"radio":a=s9t;break;case"range":a=o9t;break}a(e,i,n,s)}function t9t(e,t,n,r){const s=Jl("input");for(const o in n)o!=="signal"&&o!=="element"&&s.setAttribute(o==="input"?"type":o,n[o]);s.setAttribute("name",n.signal),s.value=r,t.appendChild(s),s.addEventListener("input",()=>e.update(s.value)),e.elements=[s],e.set=o=>s.value=o}function n9t(e,t,n,r){const s={type:"checkbox",name:n.signal};r&&(s.checked=!0);const o=Jl("input",s);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=i=>o.checked=!!i||null}function r9t(e,t,n,r){const s=Jl("select",{name:n.signal}),o=n.labels||[];n.options.forEach((i,a)=>{const l={value:i};SF(i,r)&&(l.selected=!0),s.appendChild(Jl("option",l,(o[a]||i)+""))}),t.appendChild(s),s.addEventListener("change",()=>{e.update(n.options[s.selectedIndex])}),e.elements=[s],e.set=i=>{for(let a=0,l=n.options.length;a<l;++a)if(SF(n.options[a],i)){s.selectedIndex=a;return}}}function s9t(e,t,n,r){const s=Jl("span",{class:Xzt}),o=n.labels||[];t.appendChild(s),e.elements=n.options.map((i,a)=>{const l={type:"radio",name:n.signal,value:i};SF(i,r)&&(l.checked=!0);const u=Jl("input",l);u.addEventListener("change",()=>e.update(i));const c=Jl("label",{},(o[a]||i)+"");return c.prepend(u),s.appendChild(c),u}),e.set=i=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)SF(a[u].value,i)&&(a[u].checked=!0)}}function o9t(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const s=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,s,+r)||0,i=n.step||_m(o,s,100),a=Jl("input",{type:"range",name:n.signal,min:o,max:s,step:i});a.value=r;const l=Jl("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function SF(e,t){return e===t||e+""==t+""}function dOe(e,t,n,r,s,o){return t=t||new r(e.loader()),t.initialize(n,uOe(e),cOe(e),YB(e),s,o).background(e.background())}function YQ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function i9t(e,t,n,r){const s=new r(e.loader(),YQ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,YB(e),e);return t&&t.handlers().forEach(o=>{s.on(o.type,o.handler)}),s}function a9t(e,t){const n=this,r=n._renderType,s=n._eventConfig.bind,o=TB(r);e=n._el=e?L9(n,e,!0):null,Nzt(n),o||n.error("Unrecognized renderer type: "+r);const i=o.handler||FA,a=e?o.renderer:o.headless;return n._renderer=a?dOe(n,n._renderer,e,a):null,n._handler=i9t(n,n._handler,e,i),n._redraw=!0,e&&s!=="none"&&(t=t?n._elBind=L9(n,t,!0):e.appendChild(Jl("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&s!=="container"&&(l.element=L9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{Zzt(n,l.element||t,l)})),n}function L9(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.innerHTML=""}catch(r){t=null,e.error(r)}return t}const RS=e=>+e||0,l9t=e=>({top:e,bottom:e,left:e,right:e});function zfe(e){return tr(e)?{top:RS(e.top),bottom:RS(e.bottom),left:RS(e.left),right:RS(e.right)}:l9t(RS(e))}async function XQ(e,t,n,r){const s=TB(t),o=s&&s.headless;return o||gt("Unrecognized renderer type: "+t),await e.runAsync(),dOe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function u9t(e,t){e!==Bg.Canvas&&e!==Bg.SVG&&e!==Bg.PNG&&gt("Unrecognized image type: "+e);const n=await XQ(this,e,t);return e===Bg.SVG?c9t(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function c9t(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function f9t(e,t){return(await XQ(this,Bg.Canvas,e,t)).canvas()}async function d9t(e){return(await XQ(this,Bg.SVG,e)).svg()}function h9t(e,t,n){return iOe(e,Hw,OE,n).parse(t)}function p9t(e){var t=this._runtime.scales;return Pn(t,e)||gt("Unrecognized scale or projection: "+e),t[e].value}var hOe="width",pOe="height",ZQ="padding",Vfe={skip:!0};function gOe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===ZQ?r.left+r.right:0)}function mOe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===ZQ?r.top+r.bottom:0)}function g9t(e){var t=e._signals,n=t[hOe],r=t[pOe],s=t[ZQ];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=gOe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=mOe(e,a.size),o()},{size:r});const i=e.add(null,o,{pad:s});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,i.rank=s.rank+1}function m9t(e,t,n,r,s,o){this.runAfter(i=>{let a=0;i._autosize=0,i.width()!==n&&(a=1,i.signal(hOe,n,Vfe),i._resizeWidth.skip(!0)),i.height()!==r&&(a=1,i.signal(pOe,r,Vfe),i._resizeHeight.skip(!0)),i._viewWidth!==e&&(i._resize=1,i._viewWidth=e),i._viewHeight!==t&&(i._resize=1,i._viewHeight=t),(i._origin[0]!==s[0]||i._origin[1]!==s[1])&&(i._resize=1,i._origin=s),a&&i.run("enter"),o&&i.runAfter(l=>l.resize())},!1,1)}function v9t(e){return this._runtime.getState(e||{data:y9t,signals:b9t,recurse:!0})}function y9t(e,t){return t.modified&&jn(t.input.value)&&e.indexOf("_:vega:_")}function b9t(e,t){return!(e==="parent"||t instanceof Hw.proxy)}function w9t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function x9t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(qDt(n,t))}function C9t(e,t,n,r){const s=e.element();s&&s.setAttribute("title",S9t(r))}function S9t(e){return e==null?"":jn(e)?vOe(e):tr(e)&&!lL(e)?$9t(e):e+""}function $9t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(jn(n)?vOe(n):yOe(n))}).join(`
`)}function vOe(e){return"["+e.map(yOe).join(", ")+"]"}function yOe(e){return jn(e)?"[]":tr(e)&&!lL(e)?"{}":e}function bOe(e,t){const n=this;if(t=t||{},dw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=sr({},e.locale,t.locale);n.locale(ONe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Bg.Canvas,n._scenegraph=new BJ;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||C9t,n._redraw=!0,n._handler=new FA().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Uzt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const s=h9t(n,e,t.expr);n._runtime=s,n._signals=s.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:sr({},o)})),s.root&&s.root.set(r),r.source=s.data.root.input,n.pulse(s.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=gOe(n,n._width),n._viewHeight=mOe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,g9t(n),Dzt(n),Ozt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function WN(e,t){return Pn(e._signals,t)?e._signals[t]:gt("Unrecognized signal name: "+_n(t))}function wOe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Wfe(e,t,n,r){let s=wOe(n,r);return s||(s=YQ(e,()=>r(t,n.value)),s.handler=r,e.on(n,null,s)),e}function Ufe(e,t,n){const r=wOe(t,n);return r&&t._targets.remove(r),e}Nt(bOe,dw,{async evaluate(e,t,n){if(await dw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Pzt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&a3(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&lOe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=WN(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",zfe(e)):zfe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(TB(e)||gt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(dw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(WN(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:m9t,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=YQ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,s,o;--r>=0;)if(o=n[r].type,s=n[r].handler,e===o&&(t===s||t===s.raw)){this._handler.off(o,s);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Wfe(this,e,WN(this,e),t)},removeSignalListener(e,t){return Ufe(this,WN(this,e),t)},addDataListener(e,t){return Wfe(this,e,CF(this,e).values,t)},removeDataListener(e,t){return Ufe(this,CF(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=dj(this,null);this._globalCursor=!!e,t&&dj(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:x9t,events:Hzt,finalize:Gzt,hover:qzt,data:Rzt,change:KB,insert:Fzt,remove:Mzt,scale:p9t,initialize:a9t,toImageURL:u9t,toCanvas:f9t,toSVG:d9t,getState:v9t,setState:w9t});const $F="[",kF="]",xOe="{",COe="}",k9t=":",SOe=",",E9t="@",_9t=">",T9t=/[[\]{}]/,A9t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let $Oe,kOe;function I9t(e,t,n){return $Oe=t,kOe=A9t,EOe(e.trim()).map(hj)}function N9t(e){return kOe[e]}function rk(e,t,n,r,s){const o=e.length;let i=0,a;for(;t<o;++t){if(a=e[t],!i&&a===n)return t;s&&s.indexOf(a)>=0?--i:r&&r.indexOf(a)>=0&&++i}return t}function EOe(e){const t=[],n=e.length;let r=0,s=0;for(;s<n;)s=rk(e,s,SOe,$F+xOe,kF+COe),t.push(e.substring(r,s).trim()),r=++s;if(t.length===0)throw"Empty event selector: "+e;return t}function hj(e){return e[0]==="["?D9t(e):O9t(e)}function D9t(e){const t=e.length;let n=1,r;if(n=rk(e,n,kF,$F,kF),n===t)throw"Empty between selector: "+e;if(r=EOe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==_9t)throw"Expected '>' after between selector: "+e;r=r.map(hj);const s=hj(e.slice(1).trim());return s.between?{between:r,stream:s}:(s.between=r,s)}function O9t(e){const t={source:$Oe},n=[];let r=[0,0],s=0,o=0,i=e.length,a=0,l,u;if(e[i-1]===COe){if(a=e.lastIndexOf(xOe),a>=0){try{r=R9t(e.substring(a+1,i-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),i=e.length}else throw"Unmatched right brace: "+e;a=0}if(!i)throw e;if(e[0]===E9t&&(s=++a),l=rk(e,a,k9t),l<i&&(n.push(e.substring(o,l).trim()),o=a=++l),a=rk(e,a,$F),a===i)n.push(e.substring(o,i).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===i)throw"Unmatched left bracket: "+e;for(;a<i;){if(a=rk(e,a,kF),a===i)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<i-1&&e[++a]!==$F)throw"Expected left bracket: "+e;o=++a}if(!(i=n.length)||T9t.test(n[i-1]))throw"Invalid event selector: "+e;return i>1?(t.type=n[1],s?t.markname=n[0].slice(1):N9t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function R9t(e){const t=e.split(SOe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function F9t(e){return tr(e)?e:{type:e||"pad"}}const FS=e=>+e||0,M9t=e=>({top:e,bottom:e,left:e,right:e});function P9t(e){return tr(e)?e.signal?e:{top:FS(e.top),bottom:FS(e.bottom),left:FS(e.left),right:FS(e.right)}:M9t(FS(e))}const Wo=e=>tr(e)&&!jn(e)?sr({},e):{value:e};function jfe(e,t,n,r){return n!=null?(tr(n)&&!jn(n)||jn(n)&&n.length&&tr(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function bi(e,t,n){for(const r in t)jfe(e,r,t[r]);for(const r in n)jfe(e,r,n[r],"update")}function IC(e,t,n){for(const r in t)n&&Pn(n,r)||(e[r]=sr(e[r]||{},t[r]));return e}function zb(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const JQ="mark",QQ="frame",eee="scope",L9t="axis",B9t="axis-domain",z9t="axis-grid",V9t="axis-label",W9t="axis-tick",U9t="axis-title",j9t="legend",H9t="legend-band",q9t="legend-entry",G9t="legend-gradient",_Oe="legend-label",K9t="legend-symbol",Y9t="legend-title",X9t="title",Z9t="title-text",J9t="title-subtitle";function Q9t(e,t,n,r,s){const o={},i={};let a,l,u,c;l="lineBreak",t==="text"&&s[l]!=null&&!zb(l,e)&&B9(o,l,s[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===QQ?s.group:n===JQ?sr({},s.mark,s[t]):null;for(l in c)u=zb(l,e)||(l==="fill"||l==="stroke")&&(zb("fill",e)||zb("stroke",e)),u||B9(o,l,c[l]);Mn(r).forEach(f=>{const d=s.style&&s.style[f];for(const h in d)zb(h,e)||B9(o,h,d[h])}),e=sr({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:i[l]=c;return e.enter=sr(i,e.enter),a&&(e.update=sr(a,e.update)),e}function B9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const TOe=e=>ys(e)?_n(e):e.signal?`(${e.signal})`:AOe(e);function XB(e){if(e.gradient!=null)return t7t(e);let t=e.signal?`(${e.signal})`:e.color?e7t(e.color):e.field!=null?AOe(e.field):e.value!==void 0?_n(e.value):void 0;return e.scale!=null&&(t=n7t(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${A3(e.exponent)})`),e.mult!=null&&(t+=`*${A3(e.mult)}`),e.offset!=null&&(t+=`+${A3(e.offset)}`),e.round&&(t=`round(${t})`),t}const UN=(e,t,n,r)=>`(${e}(${[t,n,r].map(XB).join(",")})+'')`;function e7t(e){return e.c?UN("hcl",e.h,e.c,e.l):e.h||e.s?UN("hsl",e.h,e.s,e.l):e.l||e.a?UN("lab",e.l,e.a,e.b):e.r||e.g||e.b?UN("rgb",e.r,e.g,e.b):null}function t7t(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:_n(n));for(;t.length&&Xr(t)==null;)t.pop();return t.unshift(TOe(e.gradient)),`gradient(${t.join(",")})`}function A3(e){return tr(e)?"("+XB(e)+")":e}function AOe(e){return IOe(tr(e)?e:{datum:e})}function IOe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):gt("Invalid field reference: "+_n(e));return e.signal||(r=ys(r)?nL(r).map(_n).join("]["):IOe(r)),t+"["+r+"]"}function n7t(e,t){const n=TOe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+A3(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function r7t(e){let t="";return e.forEach(n=>{const r=XB(n);t+=n.test?`(${n.test})?${r}:`:r}),Xr(t)===":"&&(t+="null"),t}function NOe(e,t,n,r,s,o){const i={};o=o||{},o.encoders={$encode:i},e=Q9t(e,t,n,r,s.config);for(const a in e)i[a]=s7t(e[a],t,o,s);return o}function s7t(e,t,n,r){const s={},o={};for(const i in e)e[i]!=null&&(s[i]=i7t(o7t(e[i]),r,n,o));return{$expr:{marktype:t,channels:s},$fields:Object.keys(o),$output:Object.keys(e)}}function o7t(e){return jn(e)?r7t(e):XB(e)}function i7t(e,t,n,r){const s=bd(e,t);return s.$fields.forEach(o=>r[o]=1),sr(n,s.$params),s.$expr}const a7t="outer",l7t=["value","update","init","react","bind"];function Hfe(e,t){gt(e+' for "outer" push: '+_n(t))}function DOe(e,t){const n=e.name;if(e.push===a7t)t.signals[n]||Hfe("No prior signal definition",n),l7t.forEach(r=>{e[r]!==void 0&&Hfe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function pj(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function ZB(e,t,n,r){return new pj(e,t,n,r)}function EF(e,t){return ZB("operator",e,t)}function pn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function FE(e,t){return t?{$field:e,$name:t}:{$field:e}}const gj=FE("key");function qfe(e,t){return{$compare:e,$order:t}}function u7t(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const c7t="ascending",f7t="descending";function d7t(e){return tr(e)?(e.order===f7t?"-":"+")+JB(e.op,e.field):""}function JB(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const tee="scope",mj="view";function Co(e){return e&&e.signal}function h7t(e){return e&&e.expr}function I3(e){if(Co(e))return!0;if(tr(e)){for(const t in e)if(I3(e[t]))return!0}return!1}function cc(e,t){return e??t}function n1(e){return e&&e.signal||e}const Gfe="timer";function ME(e,t){return(e.merge?g7t:e.stream?m7t:e.type?v7t:gt("Invalid stream specification: "+_n(e)))(e,t)}function p7t(e){return e===tee?mj:e||mj}function g7t(e,t){const n=e.merge.map(s=>ME(s,t)),r=nee({merge:n},e,t);return t.addStream(r).id}function m7t(e,t){const n=ME(e.stream,t),r=nee({stream:n},e,t);return t.addStream(r).id}function v7t(e,t){let n;e.type===Gfe?(n=t.event(Gfe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(p7t(e.source),e.type);const r=nee({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function nee(e,t,n){let r=t.between;return r&&(r.length!==2&&gt('Stream "between" parameter must have 2 entries: '+_n(t)),e.between=[ME(r[0],n),ME(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(y7t(t.marktype,t.markname,t.markrole)),t.source===tee&&r.push("inScope(event.item)"),r.length&&(e.filter=bd("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function y7t(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const b7t={code:"_.$value",ast:{type:"Identifier",value:"value"}};function w7t(e,t,n){const r=e.encode,s={target:n};let o=e.events,i=e.update,a=[];o||gt("Signal update missing events specification."),ys(o)&&(o=I9t(o,t.isSubscope()?tee:mj)),o=Mn(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[C7t(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(i&&gt("Signal encode and update are mutually exclusive."),i="encode(item(),"+_n(r)+")"),s.update=ys(i)?bd(i,t):i.expr!=null?bd(i.expr,t):i.value!=null?i.value:i.signal!=null?{$expr:b7t,$params:{$value:t.signalRef(i.signal)}}:gt("Invalid signal update specification."),e.force&&(s.options={force:!0}),a.forEach(l=>t.addUpdate(sr(x7t(l,t),s)))}function x7t(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):ME(e,t)}}function C7t(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function S7t(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?gt("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=bd(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(s=>w7t(s,t,n.id))}const Zr=e=>(t,n,r)=>ZB(e,n,t||void 0,r),OOe=Zr("aggregate"),$7t=Zr("axisticks"),ROe=Zr("bound"),rf=Zr("collect"),Kfe=Zr("compare"),k7t=Zr("datajoin"),FOe=Zr("encode"),E7t=Zr("expression"),_7t=Zr("facet"),T7t=Zr("field"),A7t=Zr("key"),I7t=Zr("legendentries"),N7t=Zr("load"),D7t=Zr("mark"),O7t=Zr("multiextent"),R7t=Zr("multivalues"),F7t=Zr("overlap"),M7t=Zr("params"),MOe=Zr("prefacet"),P7t=Zr("projection"),L7t=Zr("proxy"),B7t=Zr("relay"),POe=Zr("render"),z7t=Zr("scale"),Vy=Zr("sieve"),V7t=Zr("sortitems"),LOe=Zr("viewlayout"),W7t=Zr("values");let U7t=0;const BOe={min:"min",max:"max",count:"sum"};function j7t(e,t){const n=e.type||"linear";bAe(n)||gt("Unrecognized scale type: "+_n(n)),t.addScale(e.name,{type:n,domain:void 0})}function H7t(e,t){const n=t.getScale(e.name).params;let r;n.domain=zOe(e.domain,e,t),e.range!=null&&(n.range=WOe(e,t,n)),e.interpolate!=null&&tVt(e.interpolate,n),e.nice!=null&&(n.nice=eVt(e.nice)),e.bins!=null&&(n.bins=Q7t(e.bins,t));for(r in e)Pn(n,r)||r==="name"||(n[r]=_u(e[r],t))}function _u(e,t){return tr(e)?e.signal?t.signalRef(e.signal):gt("Unsupported object: "+_n(e)):e}function N3(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>_u(n,t))}function QB(e){gt("Can not find data set: "+_n(e))}function zOe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&gt("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(jn(e)?q7t:e.fields?K7t:G7t)(e,t,n)}function q7t(e,t,n){return e.map(r=>_u(r,n))}function G7t(e,t,n){const r=n.getData(e.data);return r||QB(e.data),ux(t.type)?r.valuesRef(n,e.field,VOe(e.sort,!1)):CAe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function K7t(e,t,n){const r=e.data,s=e.fields.reduce((o,i)=>(i=ys(i)?{data:r,field:i}:jn(i)||i.signal?Y7t(i,n):i,o.push(i),o),[]);return(ux(t.type)?X7t:CAe(t.type)?Z7t:J7t)(e,n,s)}function Y7t(e,t){const n="_:vega:_"+U7t++,r=rf({});if(jn(e))r.value={$ingest:e};else if(e.signal){const s="setdata("+_n(n)+","+e.signal+")";r.params.input=t.signalRef(s)}return t.addDataPipeline(n,[r,Vy({})]),{data:n,field:"data"}}function X7t(e,t,n){const r=VOe(e.sort,!0);let s,o;const i=n.map(u=>{const c=t.getData(u.data);return c||QB(u.data),c.countsRef(t,u.field,r)}),a={groupby:gj,pulse:i};r&&(s=r.op||"count",o=r.field?JB(s,r.field):"count",a.ops=[BOe[s]],a.fields=[t.fieldRef(o)],a.as=[o]),s=t.add(OOe(a));const l=t.add(rf({pulse:pn(s)}));return o=t.add(W7t({field:gj,sort:t.sortRef(r),pulse:pn(l)})),pn(o)}function VOe(e,t){return e&&(!e.field&&!e.op?tr(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?gt("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!BOe[e.op]&&gt("Multiple domain scales can not be sorted using "+e.op)),e}function Z7t(e,t,n){const r=n.map(s=>{const o=t.getData(s.data);return o||QB(s.data),o.domainRef(t,s.field)});return pn(t.add(R7t({values:r})))}function J7t(e,t,n){const r=n.map(s=>{const o=t.getData(s.data);return o||QB(s.data),o.extentRef(t,s.field)});return pn(t.add(O7t({extents:r})))}function Q7t(e,t){return e.signal||jn(e)?N3(e,t):t.objectProperty(e)}function eVt(e){return tr(e)?{interval:_u(e.interval),step:_u(e.step)}:_u(e)}function tVt(e,t){t.interpolate=_u(e.type||e),e.gamma!=null&&(t.interpolateGamma=_u(e.gamma))}function WOe(e,t,n){const r=t.config.range;let s=e.range;if(s.signal)return t.signalRef(s.signal);if(ys(s)){if(r&&Pn(r,s))return e=sr({},e,{range:r[s]}),WOe(e,t,n);s==="width"?s=[0,{signal:"width"}]:s==="height"?s=ux(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:gt("Unrecognized scale range value: "+_n(s))}else if(s.scheme){n.scheme=jn(s.scheme)?N3(s.scheme,t):_u(s.scheme,t),s.extent&&(n.schemeExtent=N3(s.extent,t)),s.count&&(n.schemeCount=_u(s.count,t));return}else if(s.step){n.rangeStep=_u(s.step,t);return}else{if(ux(e.type)&&!jn(s))return zOe(s,e,t);jn(s)||gt("Unsupported range type: "+_n(s))}return s.map(o=>(jn(o)?N3:_u)(o,t))}function nVt(e,t){const n=t.config.projection||{},r={};for(const s in e)s!=="name"&&(r[s]=vj(e[s],s,t));for(const s in n)r[s]==null&&(r[s]=vj(n[s],s,t));t.addProjection(e.name,r)}function vj(e,t,n){return jn(e)?e.map(r=>vj(r,t,n)):tr(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:gt("Unsupported parameter object: "+_n(e)):e}const sf="top",NC="left",DC="right",Vm="bottom",UOe="center",rVt="vertical",sVt="start",oVt="middle",iVt="end",yj="index",ree="label",aVt="offset",Cx="perc",lVt="perc2",Ou="value",WA="guide-label",see="guide-title",uVt="group-title",cVt="group-subtitle",Yfe="symbol",D3="gradient",bj="discrete",wj="size",fVt="shape",dVt="fill",hVt="stroke",pVt="strokeWidth",gVt="strokeDash",mVt="opacity",oee=[wj,fVt,dVt,hVt,pVt,gVt,mVt],UA={name:1,style:1,interactive:1},pr={value:0},Ru={value:1},e6="group",jOe="rect",iee="rule",vVt="symbol",Wy="text";function PE(e){return e.type=e6,e.interactive=e.interactive||!1,e}function Ol(e,t){const n=(r,s)=>cc(e[r],cc(t[r],s));return n.isVertical=r=>rVt===cc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>cc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>cc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>cc(e.columns,cc(t.columns,+n.isVertical(!0))),n}function HOe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function yVt(e,t,n){const r=t.config.style[n];return r&&r[e]}function t6(e,t,n){return`item.anchor === '${sVt}' ? ${e} : item.anchor === '${iVt}' ? ${t} : ${n}`}const aee=t6(_n(NC),_n(DC),_n(UOe));function bVt(e){const t=e("tickBand");let n=e("tickOffset"),r,s;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},s={signal:`(${t.signal}) === 'extent'`},tr(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,s=!0,n=0):(r=.5,s=!1):(r=e("bandPosition"),s=e("tickExtra")),{extra:s,band:r,offset:n}}function qOe(e,t){return t?e?tr(e)?Object.assign({},e,{offset:qOe(e.offset,t)}):{value:e,offset:t}:t:e}function ou(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=IC(e.encode,t,UA)):e.interactive=!1,e}function wVt(e,t,n,r){const s=Ol(e,n),o=s.isVertical(),i=s.gradientThickness(),a=s.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=i,d=a):(u=[0,0],c=[1,0],f=a,d=i);const h={enter:l={opacity:pr,x:pr,y:pr,width:Wo(f),height:Wo(d)},update:sr({},l,{opacity:Ru,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:pr}};return bi(h,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),ou({type:jOe,role:G9t,encode:h},r)}function xVt(e,t,n,r,s){const o=Ol(e,n),i=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";i?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:pr,fill:{scale:t,field:Ou}};p[u]={signal:h+"datum."+Cx,mult:l},p[c]=pr,p[f]={signal:h+"datum."+lVt,mult:l},p[d]=Wo(a);const g={enter:p,update:sr({},p,{opacity:Ru}),exit:{opacity:pr}};return bi(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),ou({type:jOe,role:H9t,key:Ou,from:s,encode:g},r)}const CVt=`datum.${Cx}<=0?"${NC}":datum.${Cx}>=1?"${DC}":"${UOe}"`,SVt=`datum.${Cx}<=0?"${Vm}":datum.${Cx}>=1?"${sf}":"${oVt}"`;function Xfe(e,t,n,r){const s=Ol(e,t),o=s.isVertical(),i=Wo(s.gradientThickness()),a=s.gradientLength();let l=s("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:pr},update:c={opacity:Ru,text:{field:ree}},exit:{opacity:pr}};return bi(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:cc(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:SVt},f="y",d="x",h="1-"):(u.align=c.align={signal:CVt},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Cx,mult:a},u[d]=c[d]=i,i.offset=cc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:s("labelSeparation"),method:l,order:"datum."+yj}:void 0,ou({type:Wy,role:_Oe,style:WA,key:Ou,from:r,encode:p,overlap:l},n)}function $Vt(e,t,n,r,s){const o=Ol(e,t),i=n.entries,a=!!(i&&i.interactive),l=i?i.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${s}) ? datum.${aVt} : datum.${wj}`,h=u?Wo(u):{field:wj},p=`datum.${yj}`,g=`max(1, ${s})`;let m,v,y,b,w;h.mult=.5,m={enter:v={opacity:pr,x:{signal:d,mult:.5,offset:c},y:h},update:y={opacity:Ru,x:v.x,y:v.y},exit:{opacity:pr}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),bi(m,{fill:o("symbolFillColor",C),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),oee.forEach(_=>{e[_]&&(y[_]=v[_]={scale:e[_],field:Ou})});const $=ou({type:vVt,role:K9t,key:Ou,from:f,clip:u?!0:void 0,encode:m},n.symbols),k=Wo(c);k.offset=o("labelOffset"),m={enter:v={opacity:pr,x:{signal:d,offset:k},y:h},update:y={opacity:Ru,text:{field:ree},x:v.x,y:v.y},exit:{opacity:pr}},bi(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const T=ou({type:Wy,role:_Oe,style:WA,key:Ou,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:pr,height:u?Wo(u):pr,opacity:pr},exit:{opacity:pr},update:y={opacity:Ru,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${b}`,y.column.signal=`floor(${p} / ${b})`,w={field:["row",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,w={field:p}),y.column.signal=`(${s})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:yj}},PE({role:eee,from:r,encode:IC(m,i,UA),marks:[$,T],name:l,interactive:a,sort:w})}function kVt(e,t){const n=Ol(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const lee='item.orient === "left"',uee='item.orient === "right"',n6=`(${lee} || ${uee})`,EVt=`datum.vgrad && ${n6}`,_Vt=t6('"top"','"bottom"','"middle"'),TVt=t6('"right"','"left"','"center"'),AVt=`datum.vgrad && ${uee} ? (${TVt}) : (${n6} && !(datum.vgrad && ${lee})) ? "left" : ${aee}`,IVt=`item._anchor || (${n6} ? "middle" : "start")`,NVt=`${EVt} ? (${lee} ? -90 : 90) : 0`,DVt=`${n6} ? (datum.vgrad ? (${uee} ? "bottom" : "top") : ${_Vt}) : "top"`;function OVt(e,t,n,r){const s=Ol(e,t),o={enter:{opacity:pr},update:{opacity:Ru,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pr}};return bi(o,{orient:s("titleOrient"),_anchor:s("titleAnchor"),anchor:{signal:IVt},angle:{signal:NVt},align:{signal:AVt},baseline:{signal:DVt},text:e.title,fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),baseline:s("titleBaseline")}),ou({type:Wy,role:Y9t,style:see,from:r,encode:o},n)}function RVt(e,t){let n;return tr(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Zfe(e.path)+")":e.sphere&&(n="geoShape("+Zfe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Zfe(e){return tr(e)&&e.signal?e.signal:_n(e)}function GOe(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===e6?eee:t||JQ}function FVt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||GOe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function MVt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function cee(e,t){const n=eke(e.type);n||gt("Unrecognized transform type: "+_n(e.type));const r=ZB(n.type.toLowerCase(),null,KOe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function KOe(e,t,n){const r={},s=e.params.length;for(let o=0;o<s;++o){const i=e.params[o];r[i.name]=PVt(i,t,n)}return r}function PVt(e,t,n){const r=e.type,s=t[e.name];if(r==="index")return LVt(e,t,n);if(s===void 0){e.required&&gt("Missing required "+_n(t.type)+" parameter: "+_n(e.name));return}else{if(r==="param")return BVt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Co(s)?s.map(o=>Jfe(e,o,n)):Jfe(e,s,n)}function Jfe(e,t,n){const r=e.type;if(Co(t))return ede(r)?gt("Expression references can not be signals."):z9(r)?n.fieldRef(t):tde(r)?n.compareRef(t):n.signalRef(t.signal);{const s=e.expr||z9(r);return s&&zVt(t)?n.exprRef(t.expr,t.as):s&&VVt(t)?FE(t.field,t.as):ede(r)?bd(t,n):WVt(r)?pn(n.getData(t).values):z9(r)?FE(t):tde(r)?n.compareRef(t):t}}function LVt(e,t,n){return ys(t.from)||gt('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function BVt(e,t,n){const r=t[e.name];return e.array?(jn(r)||gt("Expected an array of sub-parameters. Instead: "+_n(r)),r.map(s=>Qfe(e,s,n))):Qfe(e,r,n)}function Qfe(e,t,n){const r=e.params.length;let s;for(let i=0;i<r;++i){s=e.params[i];for(const a in s.key)if(s.key[a]!==t[a]){s=null;break}if(s)break}s||gt("Unsupported parameter: "+_n(t));const o=sr(KOe(s,t,n),s.key);return pn(n.add(M7t(o)))}const zVt=e=>e&&e.expr,VVt=e=>e&&e.field,WVt=e=>e==="data",ede=e=>e==="expr",z9=e=>e==="field",tde=e=>e==="compare";function UVt(e,t,n){let r,s,o,i,a;return e?(r=e.facet)&&(t||gt("Only group marks can be faceted."),r.field!=null?i=a=O3(r,n):(e.data?a=pn(n.getData(e.data).aggregate):(o=cee(sr({type:"aggregate",groupby:Mn(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=O3(r,n),i=a=pn(n.add(o))),s=n.keyRef(r.groupby,!0))):i=pn(n.add(rf(null,[{}]))),i||(i=O3(e,n)),{key:s,pulse:i,parent:a}}function O3(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:pn(t.getData(e.data).output)}function V1(e,t,n,r,s){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=s,this.index={}}V1.fromEntries=function(e,t){const n=t.length,r=t[n-1],s=t[n-2];let o=t[0],i=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=pn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(i=t[a]);return new V1(e,o,s,r,i)};function YOe(e){return ys(e)?e:null}function nde(e,t,n){const r=JB(n.op,n.field);let s;if(t.ops){for(let o=0,i=t.as.length;o<i;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((s=n.op.signal)?e.signalRef(s):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function MS(e,t,n,r,s,o,i){const a=t[n]||(t[n]={}),l=d7t(o);let u=YOe(s),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:gj,pulse:t.countsRef(e,s,o)}:{field:e.fieldRef(s),pulse:pn(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(ZB(r,void 0,d)),i&&(t.index[s]=f),c=pn(f),u!=null&&(a[u]=c)}return c}V1.prototype={countsRef(e,t,n){const r=this,s=r.counts||(r.counts={}),o=YOe(t);let i,a,l;return o!=null&&(e=r.scope,i=s[o]),i?n&&n.field&&nde(e,i.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:pn(r.output)},n&&n.field&&nde(e,l,n),a=e.add(OOe(l)),i=e.add(rf({pulse:pn(a)})),i={agg:a,ref:pn(i)},o!=null&&(s[o]=i)),i.ref},tuplesRef(){return pn(this.values)},extentRef(e,t){return MS(e,this,"extent","extent",t,!1)},domainRef(e,t){return MS(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return MS(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return MS(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return MS(e,this,"indata","tupleindex",t,!0,!0)}};function jVt(e,t,n){const r=e.from.facet,s=r.name,o=O3(r,t);let i;r.name||gt("Facet must have a name: "+_n(r)),r.data||gt("Facet must reference a data set: "+_n(r)),r.field?i=t.add(MOe({field:t.fieldRef(r.field),pulse:o})):r.groupby?i=t.add(_7t({key:t.keyRef(r.groupby),group:pn(t.proxy(n.parent)),pulse:o})):gt("Facet must specify groupby or field: "+_n(r));const a=t.fork(),l=a.add(rf()),u=a.add(Vy({pulse:pn(l)}));a.addData(s,new V1(a,l,l,u)),a.addSignal("parent",null),i.params.subflow={$subflow:a.parse(e).toRuntime()}}function HVt(e,t,n){const r=t.add(MOe({pulse:n.pulse})),s=t.fork();s.add(Vy()),s.addSignal("parent",null),r.params.subflow={$subflow:s.parse(e).toRuntime()}}function XOe(e,t,n){const r=e.remove,s=e.insert,o=e.toggle,i=e.modify,a=e.values,l=t.add(EF()),u="if("+e.trigger+',modify("'+n+'",'+[s,r,o,i,a].map(f=>f??"null").join(",")+"),0)",c=bd(u,t);l.update=c.$expr,l.params=c.$params}function r6(e,t){const n=GOe(e),r=e.type===e6,s=e.from&&e.from.facet,o=e.overlap;let i=e.layout||n===eee||n===QQ,a,l,u,c,f,d,h;const p=n===JQ||i||s,g=UVt(e.from,r,t);l=t.add(k7t({key:g.key||(e.key?FE(e.key):void 0),pulse:g.pulse,clean:!r}));const m=pn(l);l=u=t.add(rf({pulse:m})),l=t.add(D7t({markdef:FVt(e),interactive:MVt(e.interactive,t),clip:RVt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:pn(l)}));const v=pn(l);l=c=t.add(FOe(NOe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const $=cee(S,t),k=$.metadata;(k.generates||k.changes)&&gt("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),$.params.pulse=pn(l),t.add(l=$)}),e.sort&&(l=t.add(V7t({sort:t.compareRef(e.sort),pulse:pn(l)})));const y=pn(l);(s||i)&&(i=t.add(LOe({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),d=pn(i));const b=t.add(ROe({mark:v,pulse:d||y}));h=pn(b),r&&(p&&(a=t.operators,a.pop(),i&&a.pop()),t.pushState(y,d||h,m),s?jVt(e,t,g):p?HVt(e,t,g):t.parse(e),t.popState(),p&&(i&&a.push(i),a.push(b))),o&&(h=qVt(o,h,t));const w=t.add(POe({pulse:h})),C=t.add(Vy({pulse:pn(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new V1(t,u,w,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&gt("Marks only support modify triggers."),XOe(S,t,f)}))}function qVt(e,t,n){const r=e.method,s=e.bound,o=e.separation,i={separation:Co(o)?n.signalRef(o.signal):o,method:Co(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(i.sort=n.compareRef({field:e.order})),s){const a=s.tolerance;i.boundTolerance=Co(a)?n.signalRef(a.signal):+a,i.boundScale=n.scaleRef(s.scale),i.boundOrient=s.orient}return pn(n.add(F7t(i)))}function GVt(e,t){const n=t.config.legend,r=e.encode||{},s=Ol(e,n),o=r.legend||{},i=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;oee.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||gt("Missing valid scale for legend.");const p=KVt(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&s.isVertical()},m=pn(t.add(rf(null,[g]))),v={enter:{x:{value:0},y:{value:0}}},y=pn(t.add(I7t(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===D3?(h=[wVt(e,c,n,r.gradient),Xfe(e,n,r.labels,y)],d.count=d.count||t.signalRef(`max(2,2*floor((${n1(s.gradientLength())})/100))`)):p===bj?h=[xVt(e,c,n,r.gradient,y),Xfe(e,n,r.labels,y)]:(f=kVt(e,n),h=[$Vt(e,n,r,y,n1(f.columns))],d.size=ZVt(e,t,h[0].marks)),h=[PE({role:q9t,from:m,encode:v,marks:h,layout:f,interactive:a})],g.title&&h.push(OVt(e,n,r.title,m)),r6(PE({role:j9t,from:m,encode:IC(XVt(s,e,n),o,UA),marks:h,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:i,interactive:a,style:l}),t)}function KVt(e,t){let n=e.type||Yfe;return!e.type&&YVt(e)===1&&(e.fill||e.stroke)&&(n=$Z(t)?D3:XW(t)?bj:Yfe),n!==D3?n:XW(t)?bj:D3}function YVt(e){return oee.reduce((t,n)=>t+(e[n]?1:0),0)}function XVt(e,t,n){const r={enter:{},update:{}};return bi(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function ZVt(e,t,n){const r=n1(rde("size",e,n)),s=n1(rde("strokeWidth",e,n)),o=n1(JVt(n[1].encode,t,WA));return bd(`max(ceil(sqrt(${r})+${s}),${o})`,t)}function rde(e,t,n){return t[e]?`scale("${t[e]}",datum)`:HOe(e,n[0].encode)}function JVt(e,t,n){return HOe("fontSize",e)||yVt("fontSize",t,n)}const QVt=`item.orient==="${NC}"?-90:item.orient==="${DC}"?90:0`;function eWt(e,t){e=ys(e)?{text:e}:e;const n=Ol(e,t.config.title),r=e.encode||{},s=r.group||{},o=s.name||void 0,i=s.interactive,a=s.style,l=[],u={},c=pn(t.add(rf(null,[u])));return l.push(rWt(e,n,tWt(e),c)),e.subtitle&&l.push(sWt(e,n,r.subtitle,c)),r6(PE({role:X9t,from:c,encode:nWt(n,s),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:i,style:a}),t)}function tWt(e){const t=e.encode;return t&&t.title||sr({name:e.name,interactive:e.interactive,style:e.style},t)}function nWt(e,t){const n={enter:{},update:{}};return bi(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:aee},angle:{signal:QVt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),IC(n,t,UA)}function rWt(e,t,n,r){const s={value:0},o=e.text,i={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return bi(i,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ou({type:Wy,role:Z9t,style:uVt,from:r,encode:i},n)}function sWt(e,t,n,r){const s={value:0},o=e.subtitle,i={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return bi(i,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),ou({type:Wy,role:J9t,style:cVt,from:r,encode:i},n)}function oWt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(cee(r,t))}),e.on&&e.on.forEach(r=>{XOe(r,t,e.name)}),t.addDataPipeline(e.name,iWt(e,t,n))}function iWt(e,t,n){const r=[];let s=null,o=!1,i=!1,a,l,u,c,f;for(e.values?Co(e.values)||I3(e.format)?(r.push(sde(t,e)),r.push(s=W0())):r.push(s=W0({$ingest:e.values,$format:e.format})):e.url?I3(e.url)||I3(e.format)?(r.push(sde(t,e)),r.push(s=W0())):r.push(s=W0({$request:e.url,$format:e.format})):e.source&&(s=a=Mn(e.source).map(d=>pn(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!s&&!f.source&&r.push(s=W0()),r.push(c),f.generates&&(i=!0),f.modifies&&!i&&(o=!0),f.source?s=c:f.changes&&(s=null);return a&&(u=a.length-1,r[0]=B7t({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,W0())),s||r.push(W0()),r.push(Vy({})),r}function W0(e){const t=rf({},e);return t.metadata={source:!0},t}function sde(e,t){return N7t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const ZOe=e=>e===Vm||e===sf,s6=(e,t,n)=>Co(e)?cWt(e.signal,t,n):e===NC||e===sf?t:n,Uo=(e,t,n)=>Co(e)?lWt(e.signal,t,n):ZOe(e)?t:n,Tc=(e,t,n)=>Co(e)?uWt(e.signal,t,n):ZOe(e)?n:t,JOe=(e,t,n)=>Co(e)?fWt(e.signal,t,n):e===sf?{value:t}:{value:n},aWt=(e,t,n)=>Co(e)?dWt(e.signal,t,n):e===DC?{value:t}:{value:n},lWt=(e,t,n)=>QOe(`${e} === '${sf}' || ${e} === '${Vm}'`,t,n),uWt=(e,t,n)=>QOe(`${e} !== '${sf}' && ${e} !== '${Vm}'`,t,n),cWt=(e,t,n)=>fee(`${e} === '${NC}' || ${e} === '${sf}'`,t,n),fWt=(e,t,n)=>fee(`${e} === '${sf}'`,t,n),dWt=(e,t,n)=>fee(`${e} === '${DC}'`,t,n),QOe=(e,t,n)=>(t=t!=null?Wo(t):t,n=n!=null?Wo(n):n,ode(t)&&ode(n)?(t=t?t.signal||_n(t.value):null,n=n?n.signal||_n(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[sr({test:e},t)].concat(n||[])),ode=e=>e==null||Object.keys(e).length===1,fee=(e,t,n)=>({signal:`${e} ? (${Xb(t)}) : (${Xb(n)})`}),hWt=(e,t,n,r,s)=>({signal:(r!=null?`${e} === '${NC}' ? (${Xb(r)}) : `:"")+(n!=null?`${e} === '${Vm}' ? (${Xb(n)}) : `:"")+(s!=null?`${e} === '${DC}' ? (${Xb(s)}) : `:"")+(t!=null?`${e} === '${sf}' ? (${Xb(t)}) : `:"")+"(null)"}),Xb=e=>Co(e)?e.signal:e==null?null:_n(e),pWt=(e,t)=>t===0?0:Co(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},vw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Cb(e,t,n,r){let s;if(t&&Pn(t,e))return t[e];if(Pn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":s="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":s=e[5].toLowerCase()+e.slice(6)}return r[see][s]}else if(e.startsWith("label")){switch(e){case"labelColor":s="fill";break;case"labelFont":case"labelFontSize":s=e[5].toLowerCase()+e.slice(6)}return r[WA][s]}return null}function ide(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function gWt(e,t){var n=t.config,r=n.style,s=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,i=e.orient,a,l,u;if(Co(i)){const f=ide([n.axisX,n.axisY]),d=ide([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=Uo(i,Cb(u,n.axisX,s,r),Cb(u,n.axisY,s,r));l={};for(u of d)l[u]=hWt(i.signal,Cb(u,n.axisTop,s,r),Cb(u,n.axisBottom,s,r),Cb(u,n.axisLeft,s,r),Cb(u,n.axisRight,s,r))}else a=i===sf||i===Vm?n.axisX:n.axisY,l=n["axis"+i[0].toUpperCase()+i.slice(1)];return a||l||o?sr({},s,a,l,o):s}function mWt(e,t,n,r){const s=Ol(e,t),o=e.orient;let i,a;const l={enter:i={opacity:pr},update:a={opacity:Ru},exit:{opacity:pr}};bi(l,{stroke:s("domainColor"),strokeCap:s("domainCap"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")});const u=ade(e,0),c=ade(e,1);return i.x=a.x=Uo(o,u,pr),i.x2=a.x2=Uo(o,c),i.y=a.y=Tc(o,u,pr),i.y2=a.y2=Tc(o,c),ou({type:iee,role:B9t,from:r,encode:l},n)}function ade(e,t){return{scale:e.scale,range:t}}function vWt(e,t,n,r,s){const o=Ol(e,t),i=e.orient,a=e.gridScale,l=s6(i,1,-1),u=yWt(e.offset,l);let c,f,d;const h={enter:c={opacity:pr},update:d={opacity:Ru},exit:f={opacity:pr}};bi(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Ou,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")},g=Uo(i,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:sr(g,{mult:l,offset:u});return c.x=d.x=Uo(i,p,m),c.y=d.y=Tc(i,p,m),c.x2=d.x2=Tc(i,v),c.y2=d.y2=Uo(i,v),f.x=Uo(i,p),f.y=Tc(i,p),ou({type:iee,role:z9t,key:Ou,from:r,encode:h},n)}function yWt(e,t){if(t!==1)if(!tr(e))e=Co(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=sr({},e);for(;n.mult!=null;)if(tr(n.mult))n=n.mult=sr({},n.mult);else return n.mult=Co(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function bWt(e,t,n,r,s,o){const i=Ol(e,t),a=e.orient,l=s6(a,-1,1);let u,c,f;const d={enter:u={opacity:pr},update:f={opacity:Ru},exit:c={opacity:pr}};bi(d,{stroke:i("tickColor"),strokeCap:i("tickCap"),strokeDash:i("tickDash"),strokeDashOffset:i("tickDashOffset"),strokeOpacity:i("tickOpacity"),strokeWidth:i("tickWidth")});const h=Wo(s);h.mult=l;const p={scale:e.scale,field:Ou,band:o.band,extra:o.extra,offset:o.offset,round:i("tickRound")};return f.y=u.y=Uo(a,pr,p),f.y2=u.y2=Uo(a,h),c.x=Uo(a,p),f.x=u.x=Tc(a,pr,p),f.x2=u.x2=Tc(a,h),c.y=Tc(a,p),ou({type:iee,role:W9t,key:Ou,from:r,encode:d},n)}function V9(e,t,n,r,s){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+s+")"}}function wWt(e,t,n,r,s,o){const i=Ol(e,t),a=e.orient,l=e.scale,u=s6(a,-1,1),c=n1(i("labelFlush")),f=n1(i("labelFlushOffset")),d=i("labelAlign"),h=i("labelBaseline");let p=c===0||!!c,g;const m=Wo(s);m.mult=u,m.offset=Wo(i("labelPadding")||0),m.offset.mult=u;const v={scale:l,field:Ou,band:.5,offset:qOe(o.offset,i("labelOffset"))},y=Uo(a,p?V9(l,c,'"left"','"right"','"center"'):{value:"center"},aWt(a,"left","right")),b=Uo(a,JOe(a,"bottom","top"),p?V9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=V9(l,c,`-(${f})`,f,0);p=p&&f;const C={opacity:pr,x:Uo(a,v,m),y:Tc(a,v,m)},S={enter:C,update:g={opacity:Ru,text:{field:ree},x:C.x,y:C.y,align:y,baseline:b},exit:{opacity:pr,x:C.x,y:C.y}};bi(S,{dx:!d&&p?Uo(a,w):null,dy:!h&&p?Tc(a,w):null}),bi(S,{angle:i("labelAngle"),fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontWeight:i("labelFontWeight"),fontStyle:i("labelFontStyle"),limit:i("labelLimit"),lineHeight:i("labelLineHeight")},{align:d,baseline:h});const $=i("labelBound");let k=i("labelOverlap");return k=k||$?{separation:i("labelSeparation"),method:k,order:"datum.index",bound:$?{scale:l,orient:a,tolerance:$}:null}:void 0,g.align!==y&&(g.align=vw(g.align,y)),g.baseline!==b&&(g.baseline=vw(g.baseline,b)),ou({type:Wy,role:V9t,style:WA,key:Ou,from:r,encode:S,overlap:k},n)}function xWt(e,t,n,r){const s=Ol(e,t),o=e.orient,i=s6(o,-1,1);let a,l;const u={enter:a={opacity:pr,anchor:Wo(s("titleAnchor",null)),align:{signal:aee}},update:l=sr({},a,{opacity:Ru,text:Wo(e.title)}),exit:{opacity:pr}},c={signal:`lerp(range("${e.scale}"), ${t6(0,1,.5)})`};return l.x=Uo(o,c),l.y=Tc(o,c),a.angle=Uo(o,pr,pWt(i,90)),a.baseline=Uo(o,JOe(o,Vm,sf),{value:Vm}),l.angle=a.angle,l.baseline=a.baseline,bi(u,{fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),angle:s("titleAngle"),baseline:s("titleBaseline")}),CWt(s,o,u,n),u.update.align=vw(u.update.align,a.align),u.update.angle=vw(u.update.angle,a.angle),u.update.baseline=vw(u.update.baseline,a.baseline),ou({type:Wy,role:U9t,style:see,from:r,encode:u},n)}function CWt(e,t,n,r){const s=(a,l)=>a!=null?(n.update[l]=vw(Wo(a),n.update[l]),!1):!zb(l,r),o=s(e("titleX"),"x"),i=s(e("titleY"),"y");n.enter.auto=i===o?Wo(i):Uo(t,Wo(i),Wo(o))}function SWt(e,t){const n=gWt(e,t),r=e.encode||{},s=r.axis||{},o=s.name||void 0,i=s.interactive,a=s.style,l=Ol(e,n),u=bVt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=pn(t.add(rf({},[c]))),d=pn(t.add($7t({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(vWt(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(bWt(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(wWt(e,n,r.labels,d,p,u))),c.domain&&h.push(mWt(e,n,r.domain,f)),c.title&&h.push(xWt(e,n,r.title,f)),r6(PE({role:L9t,from:f,encode:IC($Wt(l,e),s,UA),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:i,style:a}),t)}function $Wt(e,t){const n={enter:{},update:{}};return bi(n,{orient:e("orient"),offset:e("offset")||0,position:cc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function eRe(e,t,n){const r=Mn(e.signals),s=Mn(e.scales);return n||r.forEach(o=>DOe(o,t)),Mn(e.projections).forEach(o=>nVt(o,t)),s.forEach(o=>j7t(o,t)),Mn(e.data).forEach(o=>oWt(o,t)),s.forEach(o=>H7t(o,t)),(n||r).forEach(o=>S7t(o,t)),Mn(e.axes).forEach(o=>SWt(o,t)),Mn(e.marks).forEach(o=>r6(o,t)),Mn(e.legends).forEach(o=>GVt(o,t)),e.title&&eWt(e.title,t),t.parseLambdas(),t}const kWt=e=>IC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function EWt(e,t){const n=t.config,r=pn(t.root=t.add(EF())),s=_Wt(e,n);s.forEach(u=>DOe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(rf()),i=t.add(FOe(NOe(kWt(e.encode),e6,QQ,e.style,t,{pulse:pn(o)}))),a=t.add(LOe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:pn(i)}));t.operators.pop(),t.pushState(pn(i),pn(a),null),eRe(e,t,s),t.operators.push(a);let l=t.add(ROe({mark:r,pulse:pn(a)}));return l=t.add(POe({pulse:pn(l)})),l=t.add(Vy({pulse:pn(l)})),t.addData("root",new V1(t,o,o,l)),t}function PS(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function _Wt(e,t){const n=i=>cc(e[i],t[i]),r=[PS("background",n("background")),PS("autosize",F9t(n("autosize"))),PS("padding",P9t(n("padding"))),PS("width",n("width")||0),PS("height",n("height")||0)],s=r.reduce((i,a)=>(i[a.name]=a,i),{}),o={};return Mn(e.signals).forEach(i=>{Pn(s,i.name)?i=sr(s[i.name],i):r.push(i),o[i.name]=i}),Mn(t.signals).forEach(i=>{!Pn(o,i.name)&&!Pn(s,i.name)&&r.push(i)}),r}function tRe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function lde(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}tRe.prototype=lde.prototype={parse(e){return eRe(e,this)},fork(){return new lde(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof pj?pn(e):e;return this.add(L7t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,s,o){let i,a;r&&(i=r.data||(r.data={}),a=i[s]||(i[s]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(pn(this.add(Vy({pulse:e})))),this._parent.push(t),this._lookup.push(n?pn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Xr(this._parent)},encode(){return Xr(this._encode)},lookup(){return Xr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ys(e))return FE(e,t);e.signal||gt("Unsupported field reference: "+_n(e));const n=e.signal;let r=this.field[n];if(!r){const s={name:this.signalRef(n)};t&&(s.as=t),this.field[n]=r=pn(this.add(T7t(s)))}return r},compareRef(e){let t=!1;const n=o=>Co(o)?(t=!0,this.signalRef(o.signal)):h7t(o)?(t=!0,this.exprRef(o.expr)):o,r=Mn(e.field).map(n),s=Mn(e.order).map(n);return t?pn(this.add(Kfe({fields:r,orders:s}))):qfe(r,s)},keyRef(e,t){let n=!1;const r=o=>Co(o)?(n=!0,pn(s[o.signal])):o,s=this.signals;return e=Mn(e).map(r),n?pn(this.add(A7t({fields:e,flat:t}))):u7t(e,t)},sortRef(e){if(!e)return e;const t=JB(e.op,e.field),n=e.order||c7t;return n.signal?pn(this.add(Kfe({fields:t,orders:this.signalRef(n.signal)}))):qfe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Pn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&gt("Duplicate signal name: "+_n(e));const n=t instanceof pj?t:this.add(EF(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||gt("Unrecognized signal name: "+_n(e)),this.signals[e]},signalRef(e){return this.signals[e]?pn(this.signals[e]):(Pn(this.lambdas,e)||(this.lambdas[e]=this.add(EF(null))),pn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],s=bd(r,this),o=this.lambdas[r];o.params=s.$params,o.update=s.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!tr(e)?e:this.signalRef(e.signal||dee(e))},exprRef(e,t){const n={expr:bd(e,this)};return t&&(n.expr.$name=t),pn(this.add(E7t(n)))},addBinding(e,t){this.bindings||gt("Nested signals do not support binding: "+_n(e)),this.bindings.push(sr({signal:e},t))},addScaleProj(e,t){Pn(this.scales,e)&&gt("Duplicate scale or projection name: "+_n(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,z7t(t))},addProjection(e,t){this.addScaleProj(e,P7t(t))},getScale(e){return this.scales[e]||gt("Unrecognized scale name: "+_n(e)),this.scales[e]},scaleRef(e){return pn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Pn(this.data,e)&&gt("Duplicate data set name: "+_n(e)),this.data[e]=t},getData(e){return this.data[e]||gt("Undefined data set name: "+_n(e)),this.data[e]},addDataPipeline(e,t){return Pn(this.data,e)&&gt("Duplicate data set name: "+_n(e)),this.addData(e,V1.fromEntries(this,t))}};function dee(e){return(jn(e)?TWt:AWt)(e)}function TWt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const s=e[r];n+=(r>0?",":"")+(tr(s)?s.signal||dee(s):_n(s))}return n+"]"}function AWt(e){let t="{",n=0,r,s;for(r in e)s=e[r],t+=(++n>1?",":"")+_n(r)+":"+(tr(s)?s.signal||dee(s):_n(s));return t+"}"}function IWt(){const e="sans-serif",r="#4c78a8",s="#000",o="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:s},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:s,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:s,font:e,fontSize:10},"guide-title":{fill:s,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:s,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:s,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function NWt(e,t,n){return tr(e)||gt("Input Vega specification must be an object."),t=rL(IWt(),t,e.config),EWt(e,new tRe(t,n)).toRuntime()}const DWt="RawCode",OWt="Literal",RWt="Property",FWt="Identifier",MWt="ArrayExpression",PWt="BinaryExpression",LWt="CallExpression",BWt="ConditionalExpression",zWt="LogicalExpression",VWt="MemberExpression",WWt="ObjectExpression",UWt="UnaryExpression";function of(e){this.type=e}of.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=jWt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function jWt(e){switch(e.type){case MWt:return e.elements;case PWt:case zWt:return[e.left,e.right];case LWt:return[e.callee].concat(e.arguments);case BWt:return[e.test,e.consequent,e.alternate];case VWt:return[e.object,e.property];case WWt:return e.properties;case RWt:return[e.key,e.value];case UWt:return[e.argument];case FWt:case OWt:case DWt:default:return[]}}var jd,sn,Qe,na,Lr,o6=1,jA=2,W1=3,x0=4,i6=5,Uy=6,Ja=7,HA=8,HWt=9;jd={};jd[o6]="Boolean";jd[jA]="<end>";jd[W1]="Identifier";jd[x0]="Keyword";jd[i6]="Null";jd[Uy]="Numeric";jd[Ja]="Punctuator";jd[HA]="String";jd[HWt]="RegularExpression";var qWt="ArrayExpression",GWt="BinaryExpression",KWt="CallExpression",YWt="ConditionalExpression",nRe="Identifier",XWt="Literal",ZWt="LogicalExpression",JWt="MemberExpression",QWt="ObjectExpression",eUt="Property",tUt="UnaryExpression",jo="Unexpected token %0",nUt="Unexpected number",rUt="Unexpected string",sUt="Unexpected identifier",oUt="Unexpected reserved word",iUt="Unexpected end of input",xj="Invalid regular expression",W9="Invalid regular expression: missing /",rRe="Octal literals are not allowed in strict mode.",aUt="Duplicate data property in object literal not allowed in strict mode",pi="ILLEGAL",LE="Disabled.",lUt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),uUt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function a6(e,t){if(!e)throw new Error("ASSERT: "+t)}function yh(e){return e>=48&&e<=57}function hee(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function sk(e){return"01234567".indexOf(e)>=0}function cUt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function BE(e){return e===10||e===13||e===8232||e===8233}function qA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&lUt.test(String.fromCharCode(e))}function _F(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&uUt.test(String.fromCharCode(e))}const fUt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function sRe(){for(;Qe<na;){const e=sn.charCodeAt(Qe);if(cUt(e)||BE(e))++Qe;else break}}function Cj(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)Qe<na&&hee(sn[Qe])?(r=sn[Qe++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):xr({},jo,pi);return String.fromCharCode(s)}function dUt(){var e,t,n,r;for(e=sn[Qe],t=0,e==="}"&&xr({},jo,pi);Qe<na&&(e=sn[Qe++],!!hee(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&xr({},jo,pi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function oRe(){var e,t;for(e=sn.charCodeAt(Qe++),t=String.fromCharCode(e),e===92&&(sn.charCodeAt(Qe)!==117&&xr({},jo,pi),++Qe,e=Cj("u"),(!e||e==="\\"||!qA(e.charCodeAt(0)))&&xr({},jo,pi),t=e);Qe<na&&(e=sn.charCodeAt(Qe),!!_F(e));)++Qe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),sn.charCodeAt(Qe)!==117&&xr({},jo,pi),++Qe,e=Cj("u"),(!e||e==="\\"||!_F(e.charCodeAt(0)))&&xr({},jo,pi),t+=e);return t}function hUt(){var e,t;for(e=Qe++;Qe<na;){if(t=sn.charCodeAt(Qe),t===92)return Qe=e,oRe();if(_F(t))++Qe;else break}return sn.slice(e,Qe)}function pUt(){var e,t,n;return e=Qe,t=sn.charCodeAt(Qe)===92?oRe():hUt(),t.length===1?n=W1:fUt.hasOwnProperty(t)?n=x0:t==="null"?n=i6:t==="true"||t==="false"?n=o6:n=W1,{type:n,value:t,start:e,end:Qe}}function U9(){var e=Qe,t=sn.charCodeAt(Qe),n,r=sn[Qe],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Qe,{type:Ja,value:String.fromCharCode(t),start:e,end:Qe};default:if(n=sn.charCodeAt(Qe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Qe+=2,{type:Ja,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Qe};case 33:case 61:return Qe+=2,sn.charCodeAt(Qe)===61&&++Qe,{type:Ja,value:sn.slice(e,Qe),start:e,end:Qe}}}if(i=sn.substr(Qe,4),i===">>>=")return Qe+=4,{type:Ja,value:i,start:e,end:Qe};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Qe+=3,{type:Ja,value:o,start:e,end:Qe};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".indexOf(r)>=0||s==="=>")return Qe+=2,{type:Ja,value:s,start:e,end:Qe};if(s==="//"&&xr({},jo,pi),"<>=!+-*%&|^/".indexOf(r)>=0)return++Qe,{type:Ja,value:r,start:e,end:Qe};xr({},jo,pi)}function gUt(e){let t="";for(;Qe<na&&hee(sn[Qe]);)t+=sn[Qe++];return t.length===0&&xr({},jo,pi),qA(sn.charCodeAt(Qe))&&xr({},jo,pi),{type:Uy,value:parseInt("0x"+t,16),start:e,end:Qe}}function mUt(e){let t="0"+sn[Qe++];for(;Qe<na&&sk(sn[Qe]);)t+=sn[Qe++];return(qA(sn.charCodeAt(Qe))||yh(sn.charCodeAt(Qe)))&&xr({},jo,pi),{type:Uy,value:parseInt(t,8),octal:!0,start:e,end:Qe}}function ude(){var e,t,n;if(n=sn[Qe],a6(yh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Qe,e="",n!=="."){if(e=sn[Qe++],n=sn[Qe],e==="0"){if(n==="x"||n==="X")return++Qe,gUt(t);if(sk(n))return mUt(t);n&&yh(n.charCodeAt(0))&&xr({},jo,pi)}for(;yh(sn.charCodeAt(Qe));)e+=sn[Qe++];n=sn[Qe]}if(n==="."){for(e+=sn[Qe++];yh(sn.charCodeAt(Qe));)e+=sn[Qe++];n=sn[Qe]}if(n==="e"||n==="E")if(e+=sn[Qe++],n=sn[Qe],(n==="+"||n==="-")&&(e+=sn[Qe++]),yh(sn.charCodeAt(Qe)))for(;yh(sn.charCodeAt(Qe));)e+=sn[Qe++];else xr({},jo,pi);return qA(sn.charCodeAt(Qe))&&xr({},jo,pi),{type:Uy,value:parseFloat(e),start:t,end:Qe}}function vUt(){var e="",t,n,r,s,o=!1;for(t=sn[Qe],a6(t==="'"||t==='"',"String literal must starts with a quote"),n=Qe,++Qe;Qe<na;)if(r=sn[Qe++],r===t){t="";break}else if(r==="\\")if(r=sn[Qe++],!r||!BE(r.charCodeAt(0)))switch(r){case"u":case"x":sn[Qe]==="{"?(++Qe,e+=dUt()):e+=Cj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:sk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),Qe<na&&sk(sn[Qe])&&(o=!0,s=s*8+"01234567".indexOf(sn[Qe++]),"0123".indexOf(r)>=0&&Qe<na&&sk(sn[Qe])&&(s=s*8+"01234567".indexOf(sn[Qe++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&sn[Qe]===`
`&&++Qe;else{if(BE(r.charCodeAt(0)))break;e+=r}return t!==""&&xr({},jo,pi),{type:HA,value:e,octal:o,start:n,end:Qe}}function yUt(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,s)=>{if(parseInt(s,16)<=1114111)return"x";xr({},xj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{xr({},xj)}try{return new RegExp(e,t)}catch{return null}}function bUt(){var e,t,n,r,s;for(e=sn[Qe],a6(e==="/","Regular expression literal must start with a slash"),t=sn[Qe++],n=!1,r=!1;Qe<na;)if(e=sn[Qe++],t+=e,e==="\\")e=sn[Qe++],BE(e.charCodeAt(0))&&xr({},W9),t+=e;else if(BE(e.charCodeAt(0)))xr({},W9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||xr({},W9),s=t.substr(1,t.length-2),{value:s,literal:t}}function wUt(){var e,t,n;for(t="",n="";Qe<na&&(e=sn[Qe],!!_F(e.charCodeAt(0)));)++Qe,e==="\\"&&Qe<na?xr({},jo,pi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&xr({},xj,n),{value:n,literal:t}}function xUt(){var e,t,n,r;return Lr=null,sRe(),e=Qe,t=bUt(),n=wUt(),r=yUt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Qe}}function CUt(e){return e.type===W1||e.type===x0||e.type===o6||e.type===i6}function iRe(){if(sRe(),Qe>=na)return{type:jA,start:Qe,end:Qe};const e=sn.charCodeAt(Qe);return qA(e)?pUt():e===40||e===41||e===59?U9():e===39||e===34?vUt():e===46?yh(sn.charCodeAt(Qe+1))?ude():U9():yh(e)?ude():U9()}function sl(){const e=Lr;return Qe=e.end,Lr=iRe(),Qe=e.end,e}function aRe(){const e=Qe;Lr=iRe(),Qe=e}function SUt(e){const t=new of(qWt);return t.elements=e,t}function cde(e,t,n){const r=new of(e==="||"||e==="&&"?ZWt:GWt);return r.operator=e,r.left=t,r.right=n,r}function $Ut(e,t){const n=new of(KWt);return n.callee=e,n.arguments=t,n}function kUt(e,t,n){const r=new of(YWt);return r.test=e,r.consequent=t,r.alternate=n,r}function pee(e){const t=new of(nRe);return t.name=e,t}function _$(e){const t=new of(XWt);return t.value=e.value,t.raw=sn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function fde(e,t,n){const r=new of(JWt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function EUt(e){const t=new of(QWt);return t.properties=e,t}function dde(e,t,n){const r=new of(eUt);return r.key=t,r.value=n,r.kind=e,r}function _Ut(e,t){const n=new of(tUt);return n.operator=e,n.argument=t,n.prefix=!0,n}function xr(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,i)=>(a6(i<r.length,"Message reference must be in range"),r[i]));throw n=new Error(s),n.index=Qe,n.description=s,n}function l6(e){e.type===jA&&xr(e,iUt),e.type===Uy&&xr(e,nUt),e.type===HA&&xr(e,rUt),e.type===W1&&xr(e,sUt),e.type===x0&&xr(e,oUt),xr(e,jo,e.value)}function ra(e){const t=sl();(t.type!==Ja||t.value!==e)&&l6(t)}function ds(e){return Lr.type===Ja&&Lr.value===e}function j9(e){return Lr.type===x0&&Lr.value===e}function TUt(){const e=[];for(Qe=Lr.start,ra("[");!ds("]");)ds(",")?(sl(),e.push(null)):(e.push(U1()),ds("]")||ra(","));return sl(),SUt(e)}function hde(){Qe=Lr.start;const e=sl();return e.type===HA||e.type===Uy?(e.octal&&xr(e,rRe),_$(e)):pee(e.value)}function AUt(){var e,t,n,r;if(Qe=Lr.start,e=Lr,e.type===W1)return n=hde(),ra(":"),r=U1(),dde("init",n,r);if(e.type===jA||e.type===Ja)l6(e);else return t=hde(),ra(":"),r=U1(),dde("init",t,r)}function IUt(){var e=[],t,n,r,s={},o=String;for(Qe=Lr.start,ra("{");!ds("}");)t=AUt(),t.key.type===nRe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?xr({},aUt):s[r]=!0,e.push(t),ds("}")||ra(",");return ra("}"),EUt(e)}function NUt(){ra("(");const e=gee();return ra(")"),e}const DUt={if:1};function OUt(){var e,t,n;if(ds("("))return NUt();if(ds("["))return TUt();if(ds("{"))return IUt();if(e=Lr.type,Qe=Lr.start,e===W1||DUt[Lr.value])n=pee(sl().value);else if(e===HA||e===Uy)Lr.octal&&xr(Lr,rRe),n=_$(sl());else{if(e===x0)throw new Error(LE);e===o6?(t=sl(),t.value=t.value==="true",n=_$(t)):e===i6?(t=sl(),t.value=null,n=_$(t)):ds("/")||ds("/=")?(n=_$(xUt()),aRe()):l6(sl())}return n}function RUt(){const e=[];if(ra("("),!ds(")"))for(;Qe<na&&(e.push(U1()),!ds(")"));)ra(",");return ra(")"),e}function FUt(){Qe=Lr.start;const e=sl();return CUt(e)||l6(e),pee(e.value)}function MUt(){return ra("."),FUt()}function PUt(){ra("[");const e=gee();return ra("]"),e}function LUt(){var e,t,n;for(e=OUt();;)if(ds("."))n=MUt(),e=fde(".",e,n);else if(ds("("))t=RUt(),e=$Ut(e,t);else if(ds("["))n=PUt(),e=fde("[",e,n);else break;return e}function pde(){const e=LUt();if(Lr.type===Ja&&(ds("++")||ds("--")))throw new Error(LE);return e}function R3(){var e,t;if(Lr.type!==Ja&&Lr.type!==x0)t=pde();else{if(ds("++")||ds("--"))throw new Error(LE);if(ds("+")||ds("-")||ds("~")||ds("!"))e=sl(),t=R3(),t=_Ut(e.value,t);else{if(j9("delete")||j9("void")||j9("typeof"))throw new Error(LE);t=pde()}}return t}function gde(e){let t=0;if(e.type!==Ja&&e.type!==x0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function BUt(){var e,t,n,r,s,o,i,a,l,u;if(e=Lr,l=R3(),r=Lr,s=gde(r),s===0)return l;for(r.prec=s,sl(),t=[e,Lr],i=R3(),o=[l,r,i];(s=gde(Lr))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=cde(a,l,i),o.push(n);r=sl(),r.prec=s,o.push(r),t.push(Lr),n=R3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=cde(o[u-1].value,o[u-2],n),u-=2;return n}function U1(){var e,t,n;return e=BUt(),ds("?")&&(sl(),t=U1(),ra(":"),n=U1(),e=kUt(e,t,n)),e}function gee(){const e=U1();if(ds(","))throw new Error(LE);return e}function zUt(e){sn=e,Qe=0,na=sn.length,Lr=null,aRe();const t=gee();if(Lr.type!==jA)throw new Error("Unexpect token after expression.");return t}var VUt={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function WUt(e){function t(i,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+i+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(i,a,l){return u=>t(i,u,a,l)}const r="new Date",s="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(i){i.length<3&&gt("Missing arguments to clamp function."),i.length>3&&gt("Too many arguments to clamp function.");const a=i.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),regexp:o,test:n("test",o),if:function(i){i.length<3&&gt("Missing arguments to if function."),i.length>3&&gt("Too many arguments to if function.");const a=i.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function UUt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function jUt(e){e=e||{};const t=e.allowed?ap(e.allowed):{},n=e.forbidden?ap(e.forbidden):{},r=e.constants||VUt,s=(e.functions||WUt)(f),o=e.globalvar,i=e.fieldvar,a=Or(o)?o:p=>"".concat(o,'["').concat(p,'"]');let l={},u={},c=0;function f(p){if(ys(p))return p;const g=d[p.type];return g==null&&gt("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Pn(n,g)?gt("Illegal identifier: "+g):Pn(r,g)?r[g]:Pn(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const v=f(p.property);return m===i&&(u[UUt(v)]=1),g&&(c-=1),m+(g?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&gt("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,v=Pn(s,g)&&s[g];return v||gt("Unrecognized function: "+g),Or(v)?v(m):v+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=s,h.constants=r,h}const HUt="view",TF="[",AF="]",lRe="{",uRe="}",qUt=":",cRe=",",GUt="@",KUt=">",YUt=/[[\]{}]/,XUt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let fRe,dRe;function jy(e,t,n){return fRe=t||HUt,dRe=n||XUt,hRe(e.trim()).map(Sj)}function ZUt(e){return dRe[e]}function ok(e,t,n,r,s){const o=e.length;let i=0,a;for(;t<o;++t){if(a=e[t],!i&&a===n)return t;s&&s.indexOf(a)>=0?--i:r&&r.indexOf(a)>=0&&++i}return t}function hRe(e){const t=[],n=e.length;let r=0,s=0;for(;s<n;)s=ok(e,s,cRe,TF+lRe,AF+uRe),t.push(e.substring(r,s).trim()),r=++s;if(t.length===0)throw"Empty event selector: "+e;return t}function Sj(e){return e[0]==="["?JUt(e):QUt(e)}function JUt(e){const t=e.length;let n=1,r;if(n=ok(e,n,AF,TF,AF),n===t)throw"Empty between selector: "+e;if(r=hRe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==KUt)throw"Expected '>' after between selector: "+e;r=r.map(Sj);const s=Sj(e.slice(1).trim());return s.between?{between:r,stream:s}:(s.between=r,s)}function QUt(e){const t={source:fRe},n=[];let r=[0,0],s=0,o=0,i=e.length,a=0,l,u;if(e[i-1]===uRe){if(a=e.lastIndexOf(lRe),a>=0){try{r=ejt(e.substring(a+1,i-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),i=e.length}else throw"Unmatched right brace: "+e;a=0}if(!i)throw e;if(e[0]===GUt&&(s=++a),l=ok(e,a,qUt),l<i&&(n.push(e.substring(o,l).trim()),o=a=++l),a=ok(e,a,TF),a===i)n.push(e.substring(o,i).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===i)throw"Unmatched left bracket: "+e;for(;a<i;){if(a=ok(e,a,AF),a===i)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<i-1&&e[++a]!==TF)throw"Expected left bracket: "+e;o=++a}if(!(i=n.length)||YUt.test(n[i-1]))throw"Invalid event selector: "+e;return i>1?(t.type=n[1],s?t.markname=n[0].slice(1):ZUt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function ejt(e){const t=e.split(cRe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}var tjt="5.20.0",njt={version:tjt};sr(Hw,Vxt,rTt,DIt,mDt,c3t,$4t,hOt,E4t,U4t,cBt,vBt);const rjt=njt.version,sjt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:La,CanvasHandler:FA,CanvasRenderer:cF,DATE:Sl,DAY:ji,DAYOFYEAR:md,Dataflow:dw,Debug:YSe,Error:qSe,EventStream:yL,Gradient:VNe,GroupItem:SJ,HOURS:ru,Handler:Bm,Info:KSe,Item:CJ,MILLISECONDS:Wc,MINUTES:su,MONTH:Qi,Marks:Vu,MultiPulse:lY,None:HSe,Operator:ts,Parameters:vL,Pulse:em,QUARTER:Cl,RenderType:Bg,Renderer:Bd,ResourceLoader:$J,SECONDS:Bu,SVGHandler:VJ,SVGRenderer:GJ,SVGStringRenderer:KJ,Scenegraph:BJ,TIME_UNITS:_Y,Transform:Ke,View:bOe,WEEK:bo,Warn:GSe,YEAR:vi,accessor:Ju,accessorFields:Zi,accessorName:Ws,array:Mn,ascending:aL,bandwidthNRD:dY,bin:fke,bootstrapCI:dke,boundClip:XMt,boundContext:NA,boundItem:WU,boundMark:iDe,boundStroke:Fy,changeset:Cy,clampRange:Rvt,codegenExpression:jUt,compare:r$e,constant:Lu,cumulativeLogNormal:yY,cumulativeNormal:wL,cumulativeUniform:CY,dayofyear:kke,debounce:s$e,defaultLocale:RNe,definition:eke,densityLogNormal:vY,densityNormal:hY,densityUniform:xY,domChild:nl,domClear:bc,domCreate:Pg,domFind:zJ,dotbin:hke,error:gt,expressionFunction:fo,extend:sr,extent:Cm,extentIndex:o$e,falsy:ag,fastmap:lC,field:wm,flush:zvt,font:kB,fontFamily:RA,fontSize:Ld,format:b3,formatLocale:tF,formats:mJ,hasOwnProperty:Pn,id:kvt,identity:Pu,inferType:MNe,inferTypes:PNe,ingest:_r,inherits:Nt,inrange:Vvt,interpolate:kZ,interpolateColors:dB,interpolateRange:SAe,intersect:NDe,intersectBoxLine:Kb,intersectPath:kJ,intersectPoint:EJ,intersectRule:YNe,isArray:jn,isBoolean:i$e,isDate:lL,isFunction:Or,isIterable:a$e,isNumber:_1,isObject:tr,isRegExp:Wvt,isString:ys,isTuple:gL,key:l$e,lerp:Uvt,lineHeight:Pm,loader:vJ,locale:ONe,logger:Evt,lruCache:u$e,markup:qJ,merge:c$e,mergeConfig:rL,multiLineOffset:aMt,one:iC,pad:Hvt,panLinear:Tvt,panLog:Avt,panPow:Ivt,panSymlog:Nvt,parse:NWt,parseExpression:zUt,parseSelector:jy,pathCurves:bJ,pathEqual:FDe,pathParse:mx,pathRectangle:jNe,pathRender:$E,pathSymbols:UNe,pathTrail:HNe,peek:Xr,point:_B,projection:BZ,quantileLogNormal:bY,quantileNormal:xL,quantileUniform:SY,quantiles:cY,quantizeInterpolator:$Ae,quarter:Dvt,quartiles:fY,get random(){return Vc},randomInteger:wwt,randomKDE:gY,randomLCG:bwt,randomLogNormal:gke,randomMixture:mke,randomNormal:pY,randomUniform:vke,read:kRt,regressionExp:bke,regressionLinear:$Y,regressionLoess:Cke,regressionLog:yke,regressionPoly:xke,regressionPow:wke,regressionQuad:kY,renderModule:TB,repeat:o$,resetDefaultLocale:oRt,resetSVGClipId:GNe,resetSVGDefIds:QMt,responseType:$Rt,runtimeContext:iOe,sampleCurve:SL,sampleLogNormal:mY,sampleNormal:bL,sampleUniform:wY,scale:Tr,sceneEqual:YJ,sceneFromJSON:lDe,scenePickVisit:sF,sceneToJSON:aDe,sceneVisit:Uc,sceneZOrder:_J,scheme:EZ,serializeXML:SDe,setRandom:vwt,span:uL,splitAccessPath:nL,stringValue:_n,textMetrics:Zf,timeBin:Wke,timeFloor:Dke,timeFormatLocale:SE,timeInterval:gC,timeOffset:Fke,timeSequence:Lke,timeUnitSpecifier:$ke,timeUnits:TY,toBoolean:f$e,toDate:d$e,toNumber:xm,toSet:ap,toString:h$e,transform:tke,transforms:Hw,truncate:Gvt,truthy:aC,tupleid:gn,typeParsers:MU,utcFloor:Oke,utcInterval:mC,utcOffset:Mke,utcSequence:Bke,utcdayofyear:Tke,utcquarter:Ovt,utcweek:Ake,version:rjt,visitArray:Kvt,week:Eke,writeConfig:sL,zero:$g,zoomLinear:e$e,zoomLog:t$e,zoomPow:rW,zoomSymlog:n$e},Symbol.toStringTag,{value:"Module"})),ojt="4.13.1",ijt={version:ojt};function OC(e,t,n){return e.fields=t||[],e.fname=n,e}function ajt(e){return e.length===1?ljt(e[0]):ujt(e)}const ljt=e=>function(t){return t[e]},ujt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function H9(e){throw Error(e)}function Hy(e){var t=[],n=null,r=0,s=e.length,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<s;++a)if(l=e[a],l==="\\")o+=e.substring(i,a),o+=e.substring(++a,++a),i=a;else if(l===n)u(),n=null,r=-1;else{if(n)continue;i===r&&l==='"'||i===r&&l==="'"?(i=a+1,n=l):l==="."&&!r?a>i?u():i=a+1:l==="["?(a>i&&u(),r=i=a+1):l==="]"&&(r||H9("Access path missing open bracket: "+e),r>0&&u(),r=0,i=a+1)}return r&&H9("Access path missing closing bracket: "+e),n&&H9("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function cjt(e,t,n){const r=Hy(e);return e=r.length===1?r[0]:e,OC(ajt(r),[e],e)}var GA=[];cjt("id");var fjt=OC(function(e){return e},GA,"identity");OC(function(){return 0},GA,"zero");OC(function(){return 1},GA,"one");OC(function(){return!0},GA,"true");OC(function(){return!1},GA,"false");function jN(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var djt=1,pRe=2,hjt=3,pjt=4;function gjt(e,t){var n=e;return{level:function(r){return arguments.length?(n=+r,this):n},error:function(){return n>=djt&&jN("error","ERROR",arguments),this},warn:function(){return n>=pRe&&jN("warn","WARN",arguments),this},info:function(){return n>=hjt&&jN("log","INFO",arguments),this},debug:function(){return n>=pjt&&jN("log","DEBUG",arguments),this}}}const wn=Array.isArray;function Ko(e){return e===Object(e)}const mde=e=>e!=="__proto__";function gRe(...e){return e.reduce((t,n)=>{for(var r in n)if(r==="signals")t.signals=mjt(t.signals,n.signals);else{var s=r==="legend"?{layout:1}:r==="style"?!0:null;mee(t,r,n[r],s)}return t},{})}function mee(e,t,n,r){if(mde(t)){var s,o;if(Ko(n)&&!wn(n)){o=Ko(e[t])?e[t]:e[t]={};for(s in n)r&&(r===!0||r[s])?mee(o,s,n[s]):mde(s)&&(o[s]=n[s])}else e[t]=n}}function mjt(e,t){if(e==null)return t;const n={},r=[];function s(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(s),e.forEach(s),r}function Js(e){return e!=null?wn(e)?e:[e]:[]}function vjt(e){return typeof e=="function"}const yjt=Object.prototype.hasOwnProperty;function Rv(e,t){return yjt.call(e,t)}function KA(e){return typeof e=="boolean"}function lo(e){return typeof e=="number"}function Qn(e){return typeof e=="string"}function gr(e){return wn(e)?"["+e.map(gr)+"]":Ko(e)||Qn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function qy(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var q9={exports:{}},vde;function bjt(){return vde||(vde=1,(function(e){var t=(function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var s;try{s=Set}catch{s=function(){}}var o;try{o=Promise}catch{o=function(){}}function i(d,h,p,g,m){typeof h=="object"&&(p=h.depth,g=h.prototype,m=h.includeNonEnumerable,h=h.circular);var v=[],y=[],b=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof p>"u"&&(p=1/0);function w(C,S){if(C===null)return null;if(S===0)return C;var $,k;if(typeof C!="object")return C;if(n(C,r))$=new r;else if(n(C,s))$=new s;else if(n(C,o))$=new o(function(D,N){C.then(function(M){D(w(M,S-1))},function(M){N(w(M,S-1))})});else if(i.__isArray(C))$=[];else if(i.__isRegExp(C))$=new RegExp(C.source,f(C)),C.lastIndex&&($.lastIndex=C.lastIndex);else if(i.__isDate(C))$=new Date(C.getTime());else{if(b&&Buffer.isBuffer(C))return Buffer.allocUnsafe?$=Buffer.allocUnsafe(C.length):$=new Buffer(C.length),C.copy($),$;n(C,Error)?$=Object.create(C):typeof g>"u"?(k=Object.getPrototypeOf(C),$=Object.create(k)):($=Object.create(g),k=g)}if(h){var T=v.indexOf(C);if(T!=-1)return y[T];v.push(C),y.push($)}n(C,r)&&C.forEach(function(D,N){var M=w(N,S-1),z=w(D,S-1);$.set(M,z)}),n(C,s)&&C.forEach(function(D){var N=w(D,S-1);$.add(N)});for(var _ in C){var E;k&&(E=Object.getOwnPropertyDescriptor(k,_)),!(E&&E.set==null)&&($[_]=w(C[_],S-1))}if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(C),_=0;_<A.length;_++){var I=A[_],F=Object.getOwnPropertyDescriptor(C,I);F&&!F.enumerable&&!m||($[I]=w(C[I],S-1),F.enumerable||Object.defineProperty($,I,{enumerable:!1}))}if(m)for(var R=Object.getOwnPropertyNames(C),_=0;_<R.length;_++){var L=R[_],F=Object.getOwnPropertyDescriptor(C,L);F&&F.enumerable||($[L]=w(C[L],S-1),Object.defineProperty($,L,{enumerable:!1}))}return $}return w(d,p)}i.clonePrototype=function(h){if(h===null)return null;var p=function(){};return p.prototype=h,new p};function a(d){return Object.prototype.toString.call(d)}i.__objToStr=a;function l(d){return typeof d=="object"&&a(d)==="[object Date]"}i.__isDate=l;function u(d){return typeof d=="object"&&a(d)==="[object Array]"}i.__isArray=u;function c(d){return typeof d=="object"&&a(d)==="[object RegExp]"}i.__isRegExp=c;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return i.__getRegExpFlags=f,i})();e.exports&&(e.exports=t)})(q9)),q9.exports}var wjt=bjt();const xjt=Nl(wjt);var G9,yde;function Cjt(){return yde||(yde=1,G9=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),G9}var Sjt=Cjt();const $jt=Nl(Sjt);var K9,bde;function kjt(){return bde||(bde=1,K9=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&(function(o){return function(i){return function(a,l){var u={key:a,value:i[a]},c={key:l,value:i[l]};return o(u,c)}}})(t.cmp),s=[];return(function o(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i!==void 0){if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);var a,l;if(Array.isArray(i)){for(l="[",a=0;a<i.length;a++)a&&(l+=","),l+=o(i[a])||"null";return l+"]"}if(i===null)return"null";if(s.indexOf(i)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=s.push(i)-1,c=Object.keys(i).sort(r&&r(i));for(l="",a=0;a<c.length;a++){var f=c[a],d=o(i[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return s.splice(u,1),"{"+l+"}"}})(e)}),K9}var Ejt=kjt();const zE=Nl(Ejt);function vee(e){return!!e.or}function yee(e){return!!e.and}function bee(e){return!!e.not}function F3(e,t){if(bee(e))F3(e.not,t);else if(yee(e))for(const n of e.and)F3(n,t);else if(vee(e))for(const n of e.or)F3(n,t);else t(e)}function M3(e,t){return bee(e)?{not:M3(e.not,t)}:yee(e)?{and:e.and.map(n=>M3(n,t))}:vee(e)?{or:e.or.map(n=>M3(n,t))}:t(e)}const YA=$jt,er=xjt;function VE(e,t){const n={};for(const r of t)Rv(e,r)&&(n[r]=e[r]);return n}function Gh(e,t){const n=Object.assign({},e);for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>zE(e)).join(",")})`};const Ss=zE;function br(e){if(lo(e))return e;const t=Qn(e)?e:zE(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return n}function wde(e){return e===!1||e===null}function Cn(e,t){return e.indexOf(t)>-1}function WE(e,t){let n=0;for(const[r,s]of e.entries())if(t(s,r,n++))return!0;return!1}function mRe(e,t){let n=0;for(const[r,s]of e.entries())if(!t(s,r,n++))return!1;return!0}function _jt(e,...t){for(const n of t)Tjt(e,n??{});return e}function Tjt(e,t){for(const n of kt(t))mee(e,n,t[n],!0)}function Wg(e,t){const n=[],r={};let s;for(const o of e)s=t(o),!(s in r)&&(r[s]=1,n.push(o));return n}function Ajt(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function vRe(e,t){for(const n of e)if(t.has(n))return!0;return!1}function xde(e){const t=new Set;for(const n of e){const s=Hy(n).map((i,a)=>a===0?i:`[${i}]`),o=s.map((i,a)=>s.slice(0,a+1).join(""));for(const i of o)t.add(i)}return t}function yRe(e,t){return e===void 0||t===void 0?!0:vRe(xde(e),xde(t))}function ns(e){return kt(e).length===0}const kt=Object.keys,rm=Object.values;function bRe(e){const t=[];for(const n in e)Rv(e,n)&&t.push({key:n,value:e[n]});return t}function IF(e){return e===!0||e===!1}function ks(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function ik(e,t){return bee(e)?"!("+ik(e.not,t)+")":yee(e)?"("+e.and.map(n=>ik(n,t)).join(") && (")+")":vee(e)?"("+e.or.map(n=>ik(n,t)).join(") || (")+")":t(e)}function $j(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&$j(e[n],t)&&delete e[n],ns(e)}function u6(e){return e.charAt(0).toUpperCase()+e.substr(1)}function wRe(e,t="datum"){const n=Hy(e),r=[];for(let s=1;s<=n.length;s++){const o=`[${n.slice(0,s).map(gr).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function Ijt(e,t="datum"){return`${t}[${gr(Hy(e).join("."))}]`}function Njt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Wm(e){return`${Hy(e).map(Njt).join("\\.")}`}function Sx(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function xRe(e){return`${Hy(e).join(".")}`}function UE(e){return e?Hy(e).length:0}function uo(...e){for(const t of e)if(t!==void 0)return t}let Djt=42;function Ojt(e){const t=++Djt;return e?String(e)+t:t}function Rjt(e){return Fjt(e)?e:`__${e}`}function Fjt(e){return e.indexOf("__")===0}function NF(e){if(e!==void 0)return(e%360+360)%360}function wee(e){return lo(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Cde={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function xee(e){return e&&e.condition}const CRe=["domain","grid","labels","ticks","title"],Mjt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},SRe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Pjt=Object.assign(Object.assign({},SRe),{style:1,labelExpr:1,encoding:1});function Sde(e){return!!Pjt[e]}const Ha={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},$Re=Ha.arc,c6=Ha.area,f6=Ha.bar,Ljt=Ha.image,d6=Ha.line,h6=Ha.point,Bjt=Ha.rect,DF=Ha.rule,kRe=Ha.text,Cee=Ha.tick,zjt=Ha.trail,See=Ha.circle,$ee=Ha.square,ERe=Ha.geoshape;function Gy(e){return Cn(["line","area","trail"],e)}function $de(e){return Cn(["rect","bar","image","arc"],e)}const _Re=kt(Ha);function wd(e){return e.type}qy(_Re);const Vjt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Wjt=["fill","fillOpacity"],Ujt=[...Vjt,...Wjt],jjt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1},kde=kt(jjt),Hjt={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},qjt={color:"#4c78a8",invalid:"filter",timeUnitBand:1},Gjt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},TRe=5,Kjt={binSpacing:1,continuousBandSize:TRe,timeUnitBandPosition:.5},Yjt={binSpacing:0,continuousBandSize:TRe,timeUnitBandPosition:.5},Xjt={thickness:1};function Zjt(e){return wd(e)?e.type:e}function Fp(e){return"mark"in e}class p6{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Fp(t)?Zjt(t.mark)===this.name:!1}}const Jjt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Qjt={count:1,min:1,max:1};function Um(e){return!!e&&!!e.argmin}function Ky(e){return!!e&&!!e.argmax}function kee(e){return Qn(e)&&!!Jjt[e]}const eHt=["count","valid","missing","distinct"];function ARe(e){return Qn(e)&&Cn(eHt,e)}function tHt(e){return Qn(e)&&Cn(["min","max"],e)}const nHt=["count","sum","distinct","valid","missing"],rHt=["mean","average","median","q1","q3","min","max"],sHt=qy(rHt),Kh="row",Yh="column",g6="facet",Rs="x",So="y",af="x2",Hd="y2",qd="radius",Mp="radius2",lf="theta",Pp="theta2",Gd="latitude",Kd="longitude",uf="latitude2",Wu="longitude2",El="color",Yd="fill",Xd="stroke",_l="shape",Lp="size",Yy="angle",Bp="opacity",C0="fillOpacity",S0="strokeOpacity",$0="strokeWidth",k0="strokeDash",XA="text",ZA="order",JA="detail",m6="key",j1="tooltip",v6="href",y6="url",b6="description",oHt={x:1,y:1,x2:1,y2:1},IRe={theta:1,theta2:1,radius:1,radius2:1};function NRe(e){return e in IRe}const Eee={longitude:1,longitude2:1,latitude:1,latitude2:1};function iHt(e){switch(e){case Gd:return"y";case uf:return"y2";case Kd:return"x";case Wu:return"x2"}}function aHt(e){return e in Eee}const lHt=kt(Eee),_ee=Object.assign(Object.assign(Object.assign(Object.assign({},oHt),IRe),Eee),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function yw(e){return e===El||e===Yd||e===Xd}const DRe={row:1,column:1,facet:1},Tu=kt(DRe),w6=Object.assign(Object.assign({},_ee),DRe),ORe=kt(w6),{order:j3n,detail:H3n,tooltip:q3n}=w6,RRe=mn(w6,["order","detail","tooltip"]),{row:G3n,column:K3n,facet:Y3n}=RRe,uHt=mn(RRe,["row","column","facet"]);function cHt(e){return!!uHt[e]}function FRe(e){return!!w6[e]}const fHt=[af,Hd,uf,Wu,Pp,Mp];function MRe(e){return Xy(e)!==e}function Xy(e){switch(e){case af:return Rs;case Hd:return So;case uf:return Gd;case Wu:return Kd;case Pp:return lf;case Mp:return qd}return e}function jm(e){if(NRe(e))switch(e){case lf:return"startAngle";case Pp:return"endAngle";case qd:return"outerRadius";case Mp:return"innerRadius"}return e}function Zd(e){switch(e){case Rs:return af;case So:return Hd;case Gd:return uf;case Kd:return Wu;case lf:return Pp;case qd:return Mp}}function Jd(e){switch(e){case Rs:case af:return"width";case So:case Hd:return"height"}}function dHt(e){switch(e){case Rs:return"xOffset";case So:return"yOffset";case af:return"x2Offset";case Hd:return"y2Offset";case lf:return"thetaOffset";case qd:return"radiusOffset";case Pp:return"theta2Offset";case Mp:return"radius2Offset"}}const{x:X3n,y:Z3n,x2:J3n,y2:Q3n,latitude:eOn,longitude:tOn,latitude2:nOn,longitude2:rOn,theta:sOn,theta2:oOn,radius:iOn,radius2:aOn}=_ee,x6=mn(_ee,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),hHt=kt(x6),E0={x:1,y:1},Uu=kt(E0);function xd(e){return e in E0}const Tee={theta:1,radius:1},pHt=kt(Tee);function C6(e){return e==="width"?Rs:So}const{text:lOn,tooltip:uOn,href:cOn,url:fOn,description:dOn,detail:hOn,key:pOn,order:gOn}=x6,PRe=mn(x6,["text","tooltip","href","url","description","detail","key","order"]),gHt=kt(PRe);function mHt(e){return!!x6[e]}function vHt(e){switch(e){case El:case Yd:case Xd:case Lp:case _l:case Bp:case $0:case k0:return!0;case C0:case S0:case Yy:return!1}}const LRe=Object.assign(Object.assign(Object.assign({},E0),Tee),PRe),S6=kt(LRe);function _0(e){return!!LRe[e]}function yHt(e,t){return wHt(e)[t]}const Aee={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:mOn}=Aee,bHt=mn(Aee,["geoshape"]);function wHt(e){switch(e){case El:case Yd:case Xd:case b6:case JA:case m6:case j1:case v6:case ZA:case Bp:case C0:case S0:case $0:case g6:case Kh:case Yh:return Aee;case Rs:case So:case Gd:case Kd:return bHt;case af:case Hd:case uf:case Wu:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Lp:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case k0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case _l:return{point:"always",geoshape:"always"};case XA:return{text:"always"};case Yy:return{point:"always",square:"always",text:"always"};case y6:return{image:"always"};case lf:return{text:"always",arc:"always"};case qd:return{text:"always",arc:"always"};case Pp:case Mp:return{arc:"always"}}}function P3(e){switch(e){case Rs:case So:case lf:case qd:case Lp:case Yy:case $0:case Bp:case C0:case S0:case af:case Hd:case Pp:case Mp:return;case g6:case Kh:case Yh:case _l:case k0:case XA:case j1:case v6:case y6:case b6:return"discrete";case El:case Yd:case Xd:return"flexible";case Gd:case Kd:case uf:case Wu:case JA:case m6:case ZA:return}}function BRe(e){return KA(e)&&(e=I6(e,void 0)),"bin"+kt(e).map(t=>$6(e[t])?ks(`_${t}_${Object.entries(e[t])}`):ks(`_${t}_${e[t]}`)).join("")}function ls(e){return e===!0||QA(e)&&!e.binned}function ka(e){return e==="binned"||QA(e)&&e.binned===!0}function QA(e){return Ko(e)}function $6(e){return e?.selection}function Ede(e){switch(e){case Kh:case Yh:case Lp:case El:case Yd:case Xd:case $0:case Bp:case C0:case S0:case _l:return 6;case k0:return 4;default:return 10}}function Iee(e){return`Invalid specification ${JSON.stringify(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const xHt='Autosize "fit" only works for single views and layered views.';function _de(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Tde(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function Ade(e){return e?`Dropping "fit-${e}" because spec has discrete ${Jd(e)}.`:'Dropping "fit" because spec has discrete size.'}function Ide(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function CHt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function SHt(e){return`The "nearest" transform is not supported for ${e} marks.`}function zRe(e){return`Selection not supported for ${e} yet.`}function $Ht(e){return`Cannot find a selection named "${e}".`}const kHt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",EHt="Legend bindings are only supported for selections over an individual field or encoding channel.";function _Ht(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}function THt(e){return`Unknown repeated value "${e}".`}function Nde(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const AHt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function IHt(e){return`Unrecognized parse "${e}".`}function Dde(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function NHt(e){return`Ignoring an invalid transform: ${Ss(e)}.`}const DHt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Ode(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function OHt(e){return`Layer's shared ${e.join(",")} channel ${e.length===1?"is":"are"} overriden.`}function RHt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Ss(t)} is overridden by a child projection ${Ss(n)}.`}const FHt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function MHt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Ss(n)}}.`}function VRe(e){return`Invalid field type "${e}".`}function PHt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function LHt(e){return`Invalid aggregation operator "${e}".`}function BHt(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function WRe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function kj(e,t){return`Dropping ${Ss(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const zHt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function k6(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function VHt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function WHt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function UHt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Y9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function jHt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function HHt(e,t){return`Specified orient "${e}" overridden with "${t}".`}const qHt=`Scale's "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.`;function GHt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function KHt(e){return`Using unaggregated domain with raw field has no effect (${Ss(e)}).`}function YHt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function XHt(e){return`Unaggregated domain is currently unsupported for log scale (${Ss(e)}).`}function ZHt(e){return`Cannot apply size to non-oriented mark "${e}".`}function JHt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function QHt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function URe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function jRe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function eqt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ss(n)} and ${Ss(r)}). Using ${Ss(n)}.`}function tqt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ss(n)} and ${Ss(r)}). Using the union of the two domains.`}function nqt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function rqt(e){return`Dropping sort property ${Ss(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Rde="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",sqt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",oqt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",iqt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function aqt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function lqt(e){return`Cannot stack non-linear scale (${e}).`}function uqt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function OF(e,t){return`Invalid ${e}: ${Ss(t)}.`}function cqt(e){return`Dropping day from datetime ${Ss(e)} as day cannot be combined with other units.`}function fqt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function dqt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function hqt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function pqt(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`}function Fde(e){return`1D error band does not support ${e}.`}function HRe(e){return`Channel ${e} is required for "binned" bin.`}function gqt(e){return`Domain for ${e} is required for threshold scale.`}const qRe=gjt(pRe);let $x=qRe;function mqt(e){return $x=e,$x}function vqt(){return $x=qRe,$x}function Ct(...e){$x.warn(...e)}function yqt(...e){$x.debug(...e)}function RC(e){if(e&&Ko(e)){for(const t of Dee)if(t in e)return!0}return!1}const GRe=["january","february","march","april","may","june","july","august","september","october","november","december"],bqt=GRe.map(e=>e.substr(0,3)),KRe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],wqt=KRe.map(e=>e.substr(0,3));function xqt(e){if(wee(e)&&(e=+e),lo(e))return e>4&&Ct(OF("quarter",e)),e-1;throw new Error(OF("quarter",e))}function Cqt(e){if(wee(e)&&(e=+e),lo(e))return e-1;{const t=e.toLowerCase(),n=GRe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),s=bqt.indexOf(r);if(s!==-1)return s;throw new Error(OF("month",e))}}function Sqt(e){if(wee(e)&&(e=+e),lo(e))return e%7;{const t=e.toLowerCase(),n=KRe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),s=wqt.indexOf(r);if(s!==-1)return s;throw new Error(OF("day",e))}}function Nee(e,t){const n=[];if(t&&e.day!==void 0&&kt(e).length>1&&(Ct(cqt(e)),e=er(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Cqt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?xqt(e.quarter):e.quarter;n.push(lo(r)?r*3:r+"*3")}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?Sqt(e.day):e.day;n.push(lo(r)?r+1:r+"+1")}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const s=e[r];n.push(typeof s>"u"?0:s)}return n}function jE(e){const n=Nee(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function $qt(e){const n=Nee(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function kqt(e){const t=Nee(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const YRe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Dee=kt(YRe);function Eqt(e){return!!YRe[e]}function Oee(e){return e.startsWith("utc")}function _qt(e){return e.substr(3)}const Tqt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Ree(e){const t=[];for(const n of Dee)XRe(e,n)&&t.push(n);return t}function XRe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Aqt(e,t,{end:n}={end:!1}){const r=wRe(t),s=Oee(e)?"utc":"";function o(l){return l==="quarter"?`(${s}quarter(${r})-1)`:`${s}${l}(${r})`}let i;const a={};for(const l of Dee)XRe(e,l)&&(a[l]=o(l),i=l);return n&&(a[i]+="+1"),$qt(a)}function ZRe(e){if(!e)return;const t=Ree(e);return`timeUnitSpecifier(${zE(t)}, ${zE(Tqt)})`}function Iqt(e,t,n){if(!e)return;const r=ZRe(e);return`${n||Oee(e)?"utc":"time"}Format(${t}, ${r})`}function Ba(e){if(!e)return;let t;return Qn(e)?t={unit:e}:Ko(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Oee(t.unit)&&(t.utc=!0,t.unit=_qt(t.unit)),t}function Nqt(e){const t=Ba(e),{utc:n}=t,r=mn(t,["utc"]);return r.unit?(n?"utc":"")+kt(r).map(s=>ks(`${s==="unit"?"":`_${s}_`}${r[s]}`)).join(""):(n?"utc":"")+"timeunit"+kt(r).map(s=>ks(`_${s}_${r[s]}`)).join("")}function An(e){return e&&!!e.signal}function T0(e){return!!e.step}function Dqt(e){return wn(e)?!1:"fields"in e&&!("data"in e)}function Oqt(e){return wn(e)?!1:"fields"in e&&"data"in e}function Ug(e){return wn(e)?!1:"field"in e&&"data"in e}const Rqt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1},Fqt=kt(Rqt),Mqt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},X9=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Pqt(e){return e?.selection}function Fee(e){return e&&!!e.field&&e.equal!==void 0}function JRe(e){return e&&!!e.field&&e.lt!==void 0}function QRe(e){return e&&!!e.field&&e.lte!==void 0}function eFe(e){return e&&!!e.field&&e.gt!==void 0}function tFe(e){return e&&!!e.field&&e.gte!==void 0}function Mee(e){if(e&&e.field){if(wn(e.range)&&e.range.length===2)return!0;if(An(e.range))return!0}return!1}function Pee(e){return e&&!!e.field&&(wn(e.oneOf)||wn(e.in))}function Lqt(e){return e&&!!e.field&&e.valid!==void 0}function nFe(e){return Pee(e)||Fee(e)||Mee(e)||JRe(e)||eFe(e)||QRe(e)||tFe(e)}function kf(e,t){return Jee(e,{timeUnit:t,wrapTime:!0})}function Bqt(e,t){return e.map(n=>kf(n,t))}function rFe(e,t=!0){var n;const{field:r}=e,s=(n=Ba(e.timeUnit))===null||n===void 0?void 0:n.unit,o=s?"time("+Aqt(s,r)+")":It(e,{expr:"datum"});if(Fee(e))return o+"==="+kf(e.equal,s);if(JRe(e)){const i=e.lt;return`${o}<${kf(i,s)}`}else if(eFe(e)){const i=e.gt;return`${o}>${kf(i,s)}`}else if(QRe(e)){const i=e.lte;return`${o}<=${kf(i,s)}`}else if(tFe(e)){const i=e.gte;return`${o}>=${kf(i,s)}`}else{if(Pee(e))return`indexof([${Bqt(e.oneOf,s).join(",")}], ${o}) !== -1`;if(Lqt(e))return Lee(o,e.valid);if(Mee(e)){const{range:i}=e,a=An(i)?{signal:`${i.signal}[0]`}:i[0],l=An(i)?{signal:`${i.signal}[1]`}:i[1];if(a!==null&&l!==null&&t)return"inrange("+o+", ["+kf(a,s)+", "+kf(l,s)+"])";const u=[];return a!==null&&u.push(`${o} >= ${kf(a,s)}`),l!==null&&u.push(`${o} <= ${kf(l,s)}`),u.length>0?u.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${JSON.stringify(e)}`)}function Lee(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function zqt(e){var t;return nFe(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:(t=Ba(e.timeUnit))===null||t===void 0?void 0:t.unit}):e}const FC={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},H1=FC.quantitative,Bee=FC.ordinal,kx=FC.temporal,zee=FC.nominal,MC=FC.geojson,Vqt=kt(FC);function Wqt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case H1:return"quantitative";case"t":case kx:return"temporal";case"o":case Bee:return"ordinal";case"n":case zee:return"nominal";case MC:return"geojson"}}const Qs={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",POINT:"point",BAND:"band"},Ej={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Uqt=kt(Ej);function jqt(e,t){const n=Ej[e],r=Ej[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const Hqt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Mde(e){return Hqt[e]}const sFe=["linear","log","pow","sqrt","symlog","time","utc"],qqt=qy(sFe),Gqt=["linear","log","pow","sqrt","symlog"],Kqt=qy(Gqt);function Yqt(e){return e in Kqt}const Xqt=["quantile","quantize","threshold"],Zqt=qy(Xqt),Jqt=sFe.concat(["quantile","quantize","threshold","sequential","identity"]),Qqt=qy(Jqt),eGt=["ordinal","bin-ordinal","point","band"],tGt=qy(eGt);function Tl(e){return e in tGt}function ju(e){return e in Qqt}function Cc(e){return e in qqt}function RF(e){return e in Zqt}const nGt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function rGt(e){return!Qn(e)&&!!e.name}function oFe(e){return e?.selection}function sGt(e){return e&&e.unionWith}const iFe={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:vOn,domain:yOn,range:bOn,scheme:wOn}=iFe,oGt=mn(iFe,["type","domain","range","scheme"]),iGt=kt(oGt);aGt();function aFe(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!Cn(["point","band","identity"],e);case"bins":return!Cn(["point","band","identity","ordinal"],e);case"round":return Cc(e)||e==="band"||e==="point";case"padding":return Cc(e)||Cn(["point","band"],e);case"paddingOuter":case"align":return Cn(["point","band"],e);case"paddingInner":return e==="band";case"domainMid":case"clamp":return Cc(e);case"nice":return Cc(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return ju(e)&&!Cn(["log","time","utc","threshold","quantile"],e)}}function lFe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return yw(e)?void 0:GHt(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function uFe(e,t){return Cn([Bee,zee],t)?e===void 0||Tl(e):t===kx?Cn([Qs.TIME,Qs.UTC,void 0],e):t===H1?Cn([Qs.LOG,Qs.POW,Qs.SQRT,Qs.SYMLOG,Qs.QUANTILE,Qs.QUANTIZE,Qs.THRESHOLD,Qs.LINEAR,void 0],e):!0}function cFe(e,t){if(!_0(e))return!1;switch(e){case Rs:case So:case lf:case qd:return Cc(t)||Cn(["band","point"],t);case Lp:case $0:case Bp:case C0:case S0:case Yy:return Cc(t)||RF(t)||Cn(["band","point","ordinal"],t);case El:case Yd:case Xd:return t!=="band";case k0:return t==="ordinal"||RF(t);case _l:return t==="ordinal"}}function aGt(){var e;const t={};for(const n of ORe)for(const r of Vqt)for(const s of Uqt){const o=lGt(n,r);cFe(n,s)&&uFe(s,r)&&(t[o]=(e=t[o])!==null&&e!==void 0?e:[],t[o].push(s))}return t}function lGt(e,t){return e+"_"+t}function Vee(e){const{channel:t,channelDef:n,markDef:r,scale:s,config:o}=e,i=dFe(e);return Bt(n)&&!ARe(n.aggregate)&&s&&Cc(s.get("type"))&&s.get("zero")===!1?fFe({fieldDef:n,channel:t,markDef:r,ref:i,config:o}):i}function fFe({fieldDef:e,channel:t,markDef:n,ref:r,config:s}){return Gy(n.type)||Dr("invalid",n,s)===null?r:[uGt(e,t),r]}function uGt(e,t){const n=Wee(e,!0),s=Xy(t)==="y"?{field:{group:"height"}}:{value:0};return Object.assign({test:n},s)}function Wee(e,t=!0){return Lee(Qn(e)?e:It(e,{expr:"datum"}),!t)}function cGt(e){const{datum:t}=e;return RC(t)?jE(t):`${JSON.stringify(t)}`}function r1(e,t,n,r){const s={};if(t&&(s.scale=t),A0(e)){const{datum:o}=e;RC(o)?s.signal=jE(o):An(o)?s.signal=o.signal:s.value=o}else s.field=It(e,n);if(r){const{offset:o,band:i}=r;o&&(s.offset=o),i&&(s.band=i)}return s}function FF({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:s,band:o=.5}){const i=0<o&&o<1?"datum":void 0,a=It(t,{expr:i,suffix:s}),l=n!==void 0?It(n,{expr:i}):It(t,{suffix:"end",expr:i}),u={};if(o===0||o===1){u.scale=e;const c=o===0?a:l;u.field=c}else{const c=`${o} * ${a} + ${1-o} * ${l}`;u.signal=`scale("${e}", ${c})`}return r&&(u.offset=r),u}function dFe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:s,scaleName:o,scale:i,stack:a,offset:l,defaultRef:u,band:c}){var f;if(t){if(On(t)){if(iu(t)){c=c??tI({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:a,config:s,isMidPoint:!0});const{bin:h,timeUnit:p,type:g}=t;if(ls(h)||c&&p&&g===kx)return a&&a.impute?r1(t,o,{binSuffix:"mid"},{offset:l}):c?FF({scaleName:o,fieldOrDatumDef:t,band:c,offset:l}):r1(t,o,nI(t,e)?{binSuffix:"range"}:{},{offset:l});if(ka(h)){if(Bt(n))return FF({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,band:c,offset:l});Ct(HRe(e===Rs?af:Hd))}}const d=i?.get("type");return r1(t,o,Tl(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?(f=c??t.band)!==null&&f!==void 0?f:.5:void 0})}else if(mp(t)){const d=t.value,h=l?{offset:l}:{};return Object.assign(Object.assign({},ak(e,d)),h)}}return vjt(u)&&(u=u()),u&&Object.assign(Object.assign({},u),l?{offset:l}:{})}function ak(e,t){return Cn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Cn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Ys(t)}function q1(e){return e&&e!=="number"&&e!=="time"}function hFe(e,t,n){return`${e}(${t}${n?`, ${JSON.stringify(n)}`:""})`}const fGt="  ";function Uee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:s,config:o}){var i,a;if(q1(n))return jee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const l=pFe(e,r,s);if(N6(e)){const u=hGt(l,Bt(e)?(i=Ba(e.timeUnit))===null||i===void 0?void 0:i.unit:void 0,t,o.timeFormat,Yee(e)&&((a=e.scale)===null||a===void 0?void 0:a.type)===Qs.UTC);return u?{signal:u}:void 0}if(t=vFe(xg(e),t,o),Bt(e)&&ls(e.bin)){const u=It(e,{expr:r,binSuffix:"end"});return{signal:E6(l,u,t,n,o)}}else return t||xg(e)==="quantitative"?{signal:`${yFe(l,t)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function pFe(e,t,n){return Bt(e)?n?`${It(e,{expr:t,suffix:"end"})}-${It(e,{expr:t,suffix:"start"})}`:It(e,{expr:t}):cGt(e)}function jee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:s,config:o,field:i}){if(i=i??pFe(e,r,s),Bt(e)&&ls(e.bin)){const a=It(e,{expr:r,binSuffix:"end"});return{signal:E6(i,a,t,n,o)}}return{signal:hFe(n,i,t)}}function gFe(e,t,n,r,s,o){var i;if(!q1(r)){if(N6(e)){const a=Bt(e)?(i=Ba(e.timeUnit))===null||i===void 0?void 0:i.unit:void 0;return dGt(n,a,s,o)}return vFe(t,n,s)}}function mFe(e,t,n){if(e&&(An(e)||e==="number"||e==="time"))return e;if(N6(t)&&n!=="time"&&n!=="utc")return"time"}function vFe(e,t,n){if(Qn(t))return t;if(e===H1)return n.numberFormat}function dGt(e,t,n,r){return e||(t?{signal:ZRe(t)}:r?void 0:n.timeFormat)}function yFe(e,t){return`format(${e}, "${t||""}")`}function Pde(e,t,n,r){var s;return q1(n)?hFe(n,e,t):yFe(e,(s=Qn(t)?t:void 0)!==null&&s!==void 0?s:r.numberFormat)}function E6(e,t,n,r,s){const o=Pde(e,n,r,s),i=Pde(t,n,r,s);return`${Lee(e,!1)} ? "null" : ${o} + "${fGt}" + ${i}`}function hGt(e,t,n,r,s){return!t||n?(n=Qn(n)?n:r,`${s?"utc":"time"}Format(${e}, '${n}')`):Iqt(t,e,s)}const _6="min",pGt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Lde(e){return e in pGt}function bFe(e){return!!e&&!!e.encoding}function Jf(e){return!!e&&(e.op==="count"||!!e.field)}function wFe(e){return!!e&&wn(e)}function eI(e){return"row"in e||"column"in e}function Hee(e){return!!e&&"header"in e}function T6(e){return"facet"in e}function gGt(e){return e.selection}function mGt(e){return e&&!Qn(e)&&"repeat"in e}function Bde(e){const{field:t,timeUnit:n,bin:r,aggregate:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),s?{aggregate:s}:{}),{field:t})}function xFe(e){return iu(e)&&"sort"in e}function tI({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:s,config:o,isMidPoint:i}){if(On(t)&&t.band!==void 0)return t.band;if(Bt(t)){const{timeUnit:a,bin:l}=t;if(a&&!n)return i?G1("timeUnitBandPosition",r,o):$de(r.type)?G1("timeUnitBand",r,o):0;if(ls(l))return $de(r.type)&&!i?1:.5}if(s?.fieldChannel===e&&i)return .5}function qee(e,t,n,r,s,o){return ls(t.bin)||t.timeUnit&&iu(t)&&t.type==="temporal"?!!tI({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:s,config:o}):!1}function Gee(e){return!!e&&"condition"in e}function A6(e){const t=e&&e.condition;return!!t&&!wn(t)&&Bt(t)}function Kee(e){const t=e&&e.condition;return!!t&&!wn(t)&&On(t)}function vGt(e){const t=e&&e.condition;return!!t&&(wn(t)||mp(t))}function Bt(e){return!!e&&(!!e.field||e.aggregate==="count")}function xg(e){return e&&e.type}function A0(e){return!!e&&"datum"in e}function Vf(e){return iu(e)&&kFe(e)||_j(e)}function _j(e){return A0(e)&&lo(e.datum)}function On(e){return Bt(e)||A0(e)}function iu(e){return!!e&&("field"in e&&"type"in e||e.aggregate==="count")}function mp(e){return e&&"value"in e&&"value"in e}function Yee(e){return!!e&&("scale"in e||"sort"in e)}function Xee(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function CFe(e){return!!e&&"legend"in e}function SFe(e){return!!e&&("format"in e||"formatType"in e)}function yGt(e){return"op"in e}function It(e,t={}){var n,r,s;let o=e.field;const i=t.prefix;let a=t.suffix,l="";if(bGt(e))o=Rjt("count");else{let u;if(!t.nofn)if(yGt(e))u=e.op;else{const{bin:c,aggregate:f,timeUnit:d}=e;ls(c)?(u=BRe(c),a=((n=t.binSuffix)!==null&&n!==void 0?n:"")+((r=t.suffix)!==null&&r!==void 0?r:"")):f?Ky(f)?(l=`["${o}"]`,o=`argmax_${f.argmax}`):Um(f)?(l=`["${o}"]`,o=`argmin_${f.argmin}`):u=String(f):d&&(u=Nqt(d),a=(!Cn(["range","mid"],t.binSuffix)&&t.binSuffix||"")+((s=t.suffix)!==null&&s!==void 0?s:""))}u&&(o=o?`${u}_${o}`:u)}return a&&(o=`${o}_${a}`),i&&(o=`${i}_${o}`),t.forAs?xRe(o):t.expr?Ijt(o,t.expr)+l:Wm(o)+l}function $Fe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Bt(e)&&!!e.bin;case"temporal":return!1}throw new Error(VRe(e.type))}function kFe(e){return!$Fe(e)}function bGt(e){return e.aggregate==="count"}function wGt(e,t){var n;const{field:r,bin:s,timeUnit:o,aggregate:i}=e;if(i==="count")return t.countTitle;if(ls(s))return`${r} (binned)`;if(o){const a=(n=Ba(o))===null||n===void 0?void 0:n.unit;if(a)return`${r} (${Ree(a).join("-")})`}else if(i)return Ky(i)?`${r} for max ${i.argmax}`:Um(i)?`${r} for min ${i.argmin}`:`${u6(i)} of ${r}`;return r}function xGt(e){const{aggregate:t,bin:n,timeUnit:r,field:s}=e;if(Ky(t))return`${s} for argmax(${t.argmax})`;if(Um(t))return`${s} for argmin(${t.argmin})`;const o=Ba(r),i=t||o?.unit||o?.maxbins&&"timeunit"||ls(n)&&"bin";return i?i.toUpperCase()+"("+s+")":s}const EFe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return xGt(e);default:return wGt(e,t)}};let _Fe=EFe;function TFe(e){_Fe=e}function CGt(){TFe(EFe)}function s1(e,t,{allowDisabling:n,includeDefault:r=!0}){var s,o;const a=((s=Zee(e))!==null&&s!==void 0?s:{}).title;if(!Bt(e))return a;const l=e,u=r?AFe(l,t):void 0;return n?uo(a,l.title,u):(o=a??l.title)!==null&&o!==void 0?o:u}function Zee(e){if(Xee(e)&&e.axis)return e.axis;if(CFe(e)&&e.legend)return e.legend;if(Hee(e)&&e.header)return e.header}function AFe(e,t){return _Fe(e,t)}function MF(e){var t;if(SFe(e)){const{format:n,formatType:r}=e;return{format:n,formatType:r}}else{const n=(t=Zee(e))!==null&&t!==void 0?t:{},{format:r,formatType:s}=n;return{format:r,formatType:s}}}function SGt(e,t){if(e.timeUnit)return"temporal";if(ls(e.bin))return"quantitative";switch(P3(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function Cd(e){if(Bt(e))return e;if(A6(e))return e.condition}function wo(e){if(On(e))return e;if(Kee(e))return e.condition}function Tj(e,t,n){if(Qn(e)||lo(e)||KA(e)){const r=Qn(e)?"string":lo(e)?"number":"boolean";return Ct(MHt(t,r,e)),{value:e}}return On(e)?PF(e,t,n):Kee(e)?Object.assign(Object.assign({},e),{condition:PF(e.condition,t,n)}):e}function PF(e,t,n){if(SFe(e)){const{format:r,formatType:s}=e,o=mn(e,["format","formatType"]);if(q1(s)&&!n.customFormatTypes)return Ct(Ode(t)),PF(o,t,n)}else{const r=Xee(e)?"axis":CFe(e)?"legend":Hee(e)?"header":null;if(r&&e[r]){const s=e[r],{format:o,formatType:i}=s,a=mn(s,["format","formatType"]);if(q1(i)&&!n.customFormatTypes)return Ct(Ode(t)),PF(Object.assign(Object.assign({},e),{[r]:a}),t,n)}}return Bt(e)?IFe(e,t):$Gt(e)}function $Gt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=lo(n)?"quantitative":Qn(n)?"nominal":RC(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}function IFe(e,t){const{aggregate:n,timeUnit:r,bin:s,field:o}=e,i=Object.assign({},e);if(n&&!kee(n)&&!Ky(n)&&!Um(n)&&(Ct(LHt(n)),delete i.aggregate),r&&(i.timeUnit=Ba(r)),o&&(i.field=`${o}`),ls(s)&&(i.bin=I6(s,t)),ka(s)&&!xd(t)&&Ct(`Channel ${t} should not be used with "binned" bin.`),iu(i)){const{type:a}=i,l=Wqt(a);a!==l&&(i.type=l),a!=="quantitative"&&ARe(n)&&(Ct(PHt(a,n)),i.type="quantitative")}else if(!MRe(t)){const a=SGt(i,t);Ct(BHt(t,a)),i.type=a}if(iu(i)){const{compatible:a,warning:l}=kGt(i,t);a||Ct(l)}if(xFe(i)&&Qn(i.sort)){const{sort:a}=i;if(Lde(a))return Object.assign(Object.assign({},i),{sort:{encoding:a}});const l=a.substr(1);if(a.charAt(0)==="-"&&Lde(l))return Object.assign(Object.assign({},i),{sort:{encoding:l,order:"descending"}})}if(Hee(i)){const{header:a}=i,{orient:l}=a,u=mn(a,["orient"]);if(l)return Object.assign(Object.assign({},i),{header:Object.assign(Object.assign({},u),{labelOrient:a.labelOrient||l,titleOrient:a.titleOrient||l})})}return i}function I6(e,t){return KA(e)?{maxbins:Ede(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign(Object.assign({},e),{maxbins:Ede(t)}):e}const U0={compatible:!0};function kGt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Kh:case Yh:case g6:return kFe(e)?{compatible:!1,warning:WHt(t)}:U0;case Rs:case So:case El:case Yd:case Xd:case XA:case JA:case m6:case j1:case v6:case y6:case Yy:case lf:case qd:case b6:return U0;case Kd:case Wu:case Gd:case uf:return n!==H1?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:U0;case Bp:case C0:case S0:case $0:case Lp:case Pp:case Mp:case af:case Hd:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:U0;case k0:return Cn(["ordinal","nominal"],e.type)?U0:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case _l:return Cn(["ordinal","nominal","geojson"],e.type)?U0:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case ZA:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:U0}}function N6(e){const{formatType:t}=MF(e);return t==="time"||!t&&EGt(e)}function EGt(e){return e&&(e.type==="temporal"||Bt(e)&&!!e.timeUnit)}function Jee(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:s}){var o;const i=t&&((o=Ba(t))===null||o===void 0?void 0:o.unit);let a=i||n==="temporal",l;return An(e)?l=e.signal:RC(e)?(a=!0,l=jE(e)):(Qn(e)||lo(e))&&a&&(l=`datetime(${JSON.stringify(e)})`,Eqt(i)&&(lo(e)&&e<1e4||Qn(e)&&isNaN(Date.parse(e)))&&(l=jE({[i]:e}))),l?r&&a?`time(${l})`:l:s?void 0:JSON.stringify(e)}function NFe(e,t){const{type:n}=e;return t.map(r=>{const s=Jee(r,{timeUnit:Bt(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function nI(e,t){return ls(e.bin)?_0(t)&&Cn(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function DFe(e){const{anchor:t,frame:n,offset:r,orient:s,color:o,subtitleColor:i,subtitleFont:a,subtitleFontSize:l,subtitleFontStyle:u,subtitleFontWeight:c,subtitleLineHeight:f,subtitlePadding:d}=e,h=mn(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),o?{fill:o}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),s?{orient:s}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i?{subtitleColor:i}:{}),a?{subtitleFont:a}:{}),l?{subtitleFontSize:l}:{}),u?{subtitleFontStyle:u}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{}),v=VE(p,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:p,subtitleMarkConfig:v,nonMark:g,subtitle:m}}function Cg(e){return Qn(e)||wn(e)&&Qn(e[0])}function Ys(e){return An(e)?e:e!==void 0?{value:e}:void 0}function zde(e){return An(e)?e.signal:gr(e.value)}function HE(e){return An(e)?e.signal:e==null?null:gr(e)}function _Gt(e,t,n){for(const r of n){const s=G1(r,t.markDef,t.config);s!==void 0&&(e[r]=Ys(s))}return e}function OFe(e){var t;return[].concat(e.type,(t=e.style)!==null&&t!==void 0?t:[])}function Dr(e,t,n,r={}){const{vgChannel:s,ignoreVgConfig:o}=r;return s&&t[s]!==void 0?t[s]:t[e]!==void 0?t[e]:o&&(!s||s===e)?void 0:G1(e,t,n,r)}function G1(e,t,n,{vgChannel:r}={}){return uo(r?LF(e,t,n.style):void 0,LF(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function LF(e,t,n){return RFe(e,OFe(t),n)}function RFe(e,t,n){t=Js(t);let r;for(const s of t){const o=n[s];o&&o[e]!==void 0&&(r=o[e])}return r}function FFe(e,t){return Js(e).reduce((n,r)=>{var s;return n.field.push(It(r,t)),n.order.push((s=r.sort)!==null&&s!==void 0?s:"ascending"),n},{field:[],order:[]})}function MFe(e,t){const n=[...e];return t.forEach(r=>{for(const s of n)if(YA(s,r))return;n.push(r)}),n}function PFe(e,t){return YA(e,t)||!t?e:e?[...Js(e),...Js(t)].join(", "):t}function LFe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Cg(n)||An(n))&&(Cg(r)||An(r)))return{explicit:e.explicit,value:PFe(n,r)};if(Cg(n)||An(n))return{explicit:e.explicit,value:n};if(Cg(r)||An(r))return{explicit:e.explicit,value:r};if(!Cg(n)&&!An(n)&&!Cg(r)&&!An(r))return{explicit:e.explicit,value:MFe(n,r)};throw new Error("It should never reach here")}function o1(e,t){const n=e&&e[t];return n?wn(n)?WE(n,r=>!!r.field):Bt(n)||A6(n):!1}function Qee(e){return WE(ORe,t=>{if(o1(e,t)){const n=e[t];if(wn(n))return WE(n,r=>!!r.aggregate);{const r=Cd(n);return r&&!!r.aggregate}}return!1})}function ete(e,t){const n=[],r=[],s=[],o=[],i={};return tte(e,(a,l)=>{if(Bt(a)){const{field:u,aggregate:c,bin:f,timeUnit:d}=a,h=mn(a,["field","aggregate","bin","timeUnit"]);if(c||d||f){const p=Zee(a),g=p&&p.title;let m=It(a,{forAs:!0});const v=Object.assign(Object.assign(Object.assign({},g?[]:{title:s1(a,t,{allowDisabling:!0})}),h),{field:m});if(c){let y;if(Ky(c)?(y="argmax",m=It({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${m}.${u}`):Um(c)?(y="argmin",m=It({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const b={op:y,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),iu(a)&&ls(f)){if(r.push({bin:f,field:u,as:m}),n.push(It(a,{binSuffix:"end"})),nI(a,l)&&n.push(It(a,{binSuffix:"range"})),xd(l)){const y={field:m+"_end"};i[l+"2"]=y}v.bin="binned",MRe(l)||(v.type=H1)}else if(d){s.push({timeUnit:d,field:u,as:m});const y=iu(a)&&a.type!==kx&&"time";y&&(l===XA||l===j1?v.formatType=y:mHt(l)?v.legend=Object.assign({formatType:y},v.legend):xd(l)&&(v.axis=Object.assign({formatType:y},v.axis)))}i[l]=v}else n.push(u),i[l]=e[l]}else i[l]=e[l]}),{bins:r,timeUnits:s,aggregate:o,groupby:n,encoding:i}}function TGt(e,t,n){const r=yHt(t,n);if(r){if(r==="binned"){const s=e[t===af?Rs:So];return!!(Bt(s)&&Bt(e[t])&&ka(s.bin))}}else return!1;return!0}function AGt(e,t,n){const r=t.type;return kt(e).reduce((s,o)=>{if(!FRe(o))return Ct(VHt(o)),s;const i=e[o];if(o==="angle"&&r==="arc"&&!e.theta&&(Ct(FHt),o=lf),!TGt(e,o,r))return Ct(k6(o,r)),s;if(o===Lp&&r==="line"){const a=Cd(e[o]);if(a?.aggregate)return Ct(zHt),s}if(o===El&&(t.filled?"fill"in e:"stroke"in e))return Ct(WRe("encoding",{fill:"fill"in e,stroke:"stroke"in e})),s;if(o===JA||o===ZA&&!wn(i)&&!mp(i)||o===j1&&wn(i))i&&(s[o]=Js(i).reduce((a,l)=>(Bt(l)?a.push(IFe(l,o)):Ct(kj(l,o)),a),[]));else{if(o===j1&&i===null)s[o]=null;else if(!Bt(i)&&!A0(i)&&!mp(i)&&!Gee(i)&&!An(i))return Ct(kj(i,o)),s;s[o]=Tj(i,o,n)}return s},{})}function IGt(e){const t=[];for(const n of kt(e))if(o1(e,n)){const r=e[n],s=Js(r);for(const o of s)Bt(o)?t.push(o):A6(o)&&t.push(o.condition)}return t}function tte(e,t,n){if(e)for(const r of kt(e)){const s=e[r];if(wn(s))for(const o of s)t.call(n,o,r);else t.call(n,s,r)}}function BFe(e,t,n,r){return e?kt(e).reduce((s,o)=>{const i=e[o];return wn(i)?i.reduce((a,l)=>t.call(r,a,l,o),s):t.call(r,s,i,o)},n):n}function zFe(e,t){return kt(t).reduce((n,r)=>{switch(r){case Rs:case So:case v6:case b6:case y6:case af:case Hd:case lf:case Pp:case qd:case Mp:case Gd:case Kd:case uf:case Wu:case XA:case _l:case Yy:case j1:return n;case ZA:if(e==="line"||e==="trail")return n;case JA:case m6:{const s=t[r];if(wn(s)||Bt(s))for(const o of Js(s))o.aggregate||n.push(It(o,{}));return n}case Lp:if(e==="trail")return n;case El:case Yd:case Xd:case Bp:case C0:case S0:case k0:case $0:{const s=Cd(t[r]);return s&&!s.aggregate&&n.push(It(s,{})),n}}},[])}function NGt(e){const{tooltip:t}=e,n=mn(e,["tooltip"]);if(!t)return{filteredEncoding:e};let r,s;if(wn(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(s||(s=[]),s.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:s=t;return wn(s)&&s.length===1&&(s=s[0]),{customTooltipWithoutAggregatedField:s,filteredEncoding:n}}function Aj(e,t,n,r=!0){return"tooltip"in n?{tooltip:n.tooltip}:{tooltip:[...e.map(({fieldPrefix:o,titlePrefix:i})=>{const a=r?` of ${t.field}`:"";return{field:o+t.field,type:t.type,title:An(i)?{signal:i+`"${escape(a)}"`}:i+a}}),...IGt(n)]}}function VFe(e){const{axis:t,title:n,field:r}=e;return t&&t.title!==void 0?void 0:uo(n,r)}function nte(e,t,n,r,s){const{scale:o,axis:i}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,aria:f,extraEncoding:d={}})=>{const h=VFe(n);return WFe(e,a,s,f,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:u+"_"+n.field,type:n.type},h!==void 0?{title:h}:{}),o!==void 0?{scale:o}:{}),i!==void 0?{axis:i}:{})},Qn(c)?{[t+"2"]:{field:c+"_"+n.field}}:{}),r),d)})}}function WFe(e,t,n,r,s){const{clip:o,color:i,opacity:a}=e,l=e.type;return e[t]||e[t]===void 0&&n[t]?[Object.assign(Object.assign({},s),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),o?{clip:o}:{}),i?{color:i}:{}),a?{opacity:a}:{}),wd(s.mark)?s.mark:{type:s.mark}),{style:`${l}-${t}`}),KA(e[t])?{}:e[t]),r===!1?{aria:r}:{})})]:[]}function UFe(e,t,n){const{encoding:r}=e,s=t==="vertical"?"y":"x",o=r[s],i=r[s+"2"],a=r[s+"Error"],l=r[s+"Error2"];return{continuousAxisChannelDef:HN(o,n),continuousAxisChannelDef2:HN(i,n),continuousAxisChannelDefError:HN(a,n),continuousAxisChannelDefError2:HN(l,n),continuousAxis:s}}function HN(e,t){if(e&&e.aggregate){const{aggregate:n}=e,r=mn(e,["aggregate"]);return n!==t&&Ct(hqt(n,t)),r}else return e}function jFe(e,t){const{mark:n,encoding:r}=e,{x:s,y:o}=r;if(Vf(s)){if(Vf(o)){const i=Bt(s)&&s.aggregate,a=Bt(o)&&o.aggregate;if(!i&&a===t)return"vertical";if(!a&&i===t)return"horizontal";if(i===t&&a===t)throw new Error("Both x and y cannot have aggregate");return wd(n)&&n.orient?n.orient:"vertical"}return"horizontal"}else{if(Vf(o))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}}const BF="boxplot",DGt=["box","median","outliers","rule","ticks"],OGt=new p6(BF,qFe);function HFe(e){return lo(e)?"tukey":e}function qFe(e,{config:t}){var n,r;const{mark:s,encoding:o,selection:i,projection:a}=e,l=mn(e,["mark","encoding","selection","projection"]),u=wd(s)?s:{type:s};i&&Ct(zRe("boxplot"));const c=(n=u.extent)!==null&&n!==void 0?n:t.boxplot.extent,f=Dr("size",u,t),d=HFe(c),{transform:h,continuousAxisChannelDef:p,continuousAxis:g,groupby:m,aggregate:v,encodingWithoutContinuousAxis:y,ticksOrient:b,boxOrient:w,customTooltipWithoutAggregatedField:C}=RGt(e,c,t),{color:S,size:$}=y,k=mn(y,["color","size"]),T=M=>nte(u,g,p,M,t.boxplot),_=T(k),E=T(y),A=T(Object.assign(Object.assign({},k),$?{size:$}:{})),I=Aj([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],p,y),F={type:"tick",color:"black",opacity:1,orient:b,invalid:null},R=d==="min-max"?I:Aj([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,y),L=[..._({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:R}),..._({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:R}),..._({partName:"ticks",mark:F,positionPrefix:"lower_whisker",aria:!1,extraEncoding:R}),..._({partName:"ticks",mark:F,positionPrefix:"upper_whisker",aria:!1,extraEncoding:R})],D=[...d!=="tukey"?L:[],...E({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:w,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:I}),...A({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Ko(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),f?{size:f}:{}),{orient:b,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:I})];let N;if(d!=="min-max"){const M=`datum["lower_box_${p.field}"]`,z=`datum["upper_box_${p.field}"]`,W=`(${z} - ${M})`,j=`${M} - ${c} * ${W}`,U=`${z} + ${c} * ${W}`,Y=`datum["${p.field}"]`,G={joinaggregate:GFe(p.field),groupby:m};let ne;d==="tukey"&&(ne={transform:[{filter:`(${j} <= ${Y}) && (${Y} <= ${U})`},{aggregate:[{op:"min",field:p.field,as:"lower_whisker_"+p.field},{op:"max",field:p.field,as:"upper_whisker_"+p.field},{op:"min",field:"lower_box_"+p.field,as:"lower_box_"+p.field},{op:"max",field:"upper_box_"+p.field,as:"upper_box_"+p.field},...v],groupby:m}],layer:L});const{tooltip:ue}=k,ae=mn(k,["tooltip"]),{scale:X,axis:J}=p,q=VFe(p),P=WFe(u,"outliers",t.boxplot,!0,{transform:[{filter:`(${Y} < ${j}) || (${Y} > ${U})`}],mark:"point",encoding:Object.assign(Object.assign({[g]:Object.assign(Object.assign(Object.assign({field:p.field,type:p.type},q!==void 0?{title:q}:{}),X!==void 0?{scale:X}:{}),J!==void 0?{axis:J}:{})},ae),C?{tooltip:C}:{})})[0];P&&ne?N={transform:[G],layer:[P,ne]}:P?(N=P,N.transform.unshift(G)):ne&&(N=ne,N.transform.unshift(G))}return N?Object.assign(Object.assign({},l),{layer:[N,{transform:h,layer:D}]}):Object.assign(Object.assign({},l),{transform:((r=l.transform)!==null&&r!==void 0?r:[]).concat(h),layer:D})}function GFe(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}function RGt(e,t,n){const r=jFe(e,BF),{continuousAxisChannelDef:s,continuousAxis:o}=UFe(e,r,BF),i=s.field,a=HFe(t),l=[...GFe(i),{op:"median",field:i,as:"mid_box_"+i},{op:"min",field:i,as:(a==="min-max"?"lower_whisker_":"min_")+i},{op:"max",field:i,as:(a==="min-max"?"upper_whisker_":"max_")+i}],u=a==="min-max"||a==="tukey"?[]:[{calculate:`datum["upper_box_${i}"] - datum["lower_box_${i}"]`,as:"iqr_"+i},{calculate:`min(datum["upper_box_${i}"] + datum["iqr_${i}"] * ${t}, datum["max_${i}"])`,as:"upper_whisker_"+i},{calculate:`max(datum["lower_box_${i}"] - datum["iqr_${i}"] * ${t}, datum["min_${i}"])`,as:"lower_whisker_"+i}],c=e.encoding,f=o;c[f];const d=mn(c,[typeof f=="symbol"?f:f+""]),{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=NGt(d),{bins:g,timeUnits:m,aggregate:v,groupby:y,encoding:b}=ete(p,n),w=r==="vertical"?"horizontal":"vertical",C=r;return{transform:[...g,...m,{aggregate:[...v,...l],groupby:y},...u],groupby:y,aggregate:v,continuousAxisChannelDef:s,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:w,boxOrient:C,customTooltipWithoutAggregatedField:h}}const rte="errorbar",FGt=["ticks","rule"],MGt=new p6(rte,KFe);function KFe(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:s,encodingWithoutContinuousAxis:o,ticksOrient:i,markDef:a,outerSpec:l,tooltipEncoding:u}=YFe(e,rte,t),c=nte(a,s,r,o,t.errorbar),f={type:"tick",orient:i},d=[...c({partName:"ticks",mark:f,positionPrefix:"lower",aria:!1,extraEncoding:u}),...c({partName:"ticks",mark:f,positionPrefix:"upper",aria:!1,extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),d.length>1?{layer:d}:Object.assign({},d[0]))}function PGt(e,t){const{encoding:n}=e;if(LGt(n))return{orient:jFe(e,t),inputType:"raw"};const r=BGt(n),s=zGt(n),o=n.x,i=n.y;if(r){if(s)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(On(a)&&On(l))throw new Error(`${t} cannot have both x2 and y2`);if(On(a)){if(Vf(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(On(l)){if(Vf(i))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(On(l)&&!On(a))throw new Error(`${t} cannot have xError2 without xError`);if(On(c)&&!On(u))throw new Error(`${t} cannot have yError2 without yError`);if(On(a)&&On(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(On(a)){if(Vf(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(On(u)){if(Vf(i))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function LGt(e){return(On(e.x)||On(e.y))&&!On(e.x2)&&!On(e.y2)&&!On(e.xError)&&!On(e.xError2)&&!On(e.yError)&&!On(e.yError2)}function BGt(e){return On(e.x2)||On(e.y2)}function zGt(e){return On(e.xError)||On(e.xError2)||On(e.yError)||On(e.yError2)}function YFe(e,t,n){var r;const{mark:s,encoding:o,selection:i,projection:a}=e,l=mn(e,["mark","encoding","selection","projection"]),u=wd(s)?s:{type:s};i&&Ct(zRe(t));const{orient:c,inputType:f}=PGt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=UFe(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:w}=VGt(u,d,h,p,g,f,t,n),C=o,S=m;C[S];const $=m==="x"?"x2":"y2";C[$];const k=m==="x"?"xError":"yError";C[k];const T=m==="x"?"xError2":"yError2";C[T];const _=mn(C,[typeof S=="symbol"?S:S+"",typeof $=="symbol"?$:$+"",typeof k=="symbol"?k:k+"",typeof T=="symbol"?T:T+""]),{bins:E,timeUnits:A,aggregate:I,groupby:F,encoding:R}=ete(_,n),L=[...I,...v],D=f!=="raw"?[]:F,N=Aj(b,d,R,w);return{transform:[...(r=l.transform)!==null&&r!==void 0?r:[],...E,...A,...L.length===0?[]:[{aggregate:L,groupby:D}],...y],groupby:D,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:R,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:N}}function VGt(e,t,n,r,s,o,i,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Ct(dqt(h,p,i)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:"extent_"+c},{op:h,field:c,as:"center_"+c}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:"upper_"+c},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:"lower_"+c}],f=[{fieldPrefix:"center_",titlePrefix:u6(h)},{fieldPrefix:"upper_",titlePrefix:Vde(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:Vde(h,p,"-")}],d=!0;else{e.center&&e.extent&&Ct(pqt(e.extent,i));let g,m,v;p==="ci"?(g="mean",m="ci0",v="ci1"):(g="median",m="q1",v="q3"),l=[{op:m,field:c,as:"lower_"+c},{op:v,field:c,as:"upper_"+c},{op:g,field:c,as:"center_"+c}],f=[{fieldPrefix:"upper_",titlePrefix:s1({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:s1({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:s1({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ct(fqt(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:"upper_"+c},{calculate:`datum["${c}"]`,as:"lower_"+c}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:"upper_"+c}],s?u.push({calculate:`datum["${c}"] + datum["${s.field}"]`,as:"lower_"+c}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:"lower_"+c}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Sx(Sx(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function Vde(e,t,n){return u6(e)+" "+n+" "+t}const ste="errorband",WGt=["band","borders"],UGt=new p6(ste,XFe);function XFe(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:s,encodingWithoutContinuousAxis:o,markDef:i,outerSpec:a,tooltipEncoding:l}=YFe(e,ste,t),u=i,c=nte(u,s,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p=Object.assign(Object.assign({},u.interpolate?{interpolate:u.interpolate}:{}),u.tension&&u.interpolate?{tension:u.tension}:{});return f?(d=Object.assign(Object.assign(Object.assign({},d),p),{ariaRoleDescription:"errorband"}),h=Object.assign(Object.assign({},h),p)):u.interpolate?Ct(Fde("interpolate")):u.tension&&Ct(Fde("tension")),Object.assign(Object.assign({},a),{transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",aria:!1,extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",aria:!1,extraEncoding:l})]})}const ZFe={};function ote(e,t,n){const r=new p6(e,t);ZFe[e]={normalizer:r,parts:n}}function jGt(){return kt(ZFe)}ote(BF,qFe,DGt);ote(rte,KFe,FGt);ote(ste,XFe,WGt);const HGt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],JFe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],qGt={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},GGt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},KGt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ex="_vgsid_",YGt={single:{on:"click",fields:[Ex],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[Ex],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function ite(e){return!!e&&(e==="legend"||!!e.legend)}function Z9(e){return ite(e)&&Ko(e)}function XGt(e){return D6(e)||lte(e)||ate(e)}function ate(e){return"concat"in e}function D6(e){return"vconcat"in e}function lte(e){return"hconcat"in e}function Sd(e){return Ko(e)&&e.step!==void 0}function Wde(e){return e.view||e.width||e.height}const Ude=20,ZGt={align:1,bounds:1,center:1,columns:1,spacing:1},JGt=kt(ZGt);function QGt(e,t,n){var r,s;const o=n[t],i={},{spacing:a,columns:l}=o;a!==void 0&&(i.spacing=a),l!==void 0&&(T6(e)&&!eI(e.facet)||ate(e))&&(i.columns=l),D6(e)&&(i.columns=1);for(const u of JGt)if(e[u]!==void 0)if(u==="spacing"){const c=e[u];i[u]=lo(c)?c:{row:(r=c.row)!==null&&r!==void 0?r:a,column:(s=c.column)!==null&&s!==void 0?s:a}}else i[u]=e[u];return i}function Ij(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"continuousWidth":"continuousHeight"]}function zF(e,t){const n=qE(e,t);return Sd(n)?n.step:ute}function qE(e,t){var n;const r=(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"discreteWidth":"discreteHeight"];return uo(r,{step:e.step})}const ute=20,eKt={continuousWidth:200,continuousHeight:200,step:ute},tKt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:eKt,mark:qjt,arc:{},area:{},bar:Kjt,circle:{},geoshape:{},image:{},line:{},point:{},rect:Yjt,rule:{color:"black"},square:{},text:{color:"black"},tick:Xjt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:nGt,projection:{},legend:GGt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:YGt,style:{},title:{},facet:{spacing:Ude},concat:{spacing:Ude}},ch=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],jde={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Hde={blue:ch[0],orange:ch[1],red:ch[2],teal:ch[3],green:ch[4],yellow:ch[5],purple:ch[6],pink:ch[7],brown:ch[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function nKt(e={}){return{signals:[{name:"color",value:Ko(e)?Object.assign(Object.assign({},Hde),e):Hde}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function rKt(e){return{signals:[{name:"fontSize",value:Ko(e)?Object.assign(Object.assign({},jde),e):jde}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function sKt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function QFe(e={}){const{color:t,font:n,fontSize:r}=e,s=mn(e,["color","font","fontSize"]);return gRe({},tKt,n?sKt(n):{},t?nKt(t):{},r?rKt(r):{},s||{})}const oKt=["view",..._Re],iKt=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],aKt=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},Hjt);function lKt(e){e=er(e);for(const t of iKt)delete e[t];if(e.axis)for(const t in e.axis)xee(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of HGt)delete e.legend[t];if(e.mark){for(const t of kde)delete e.mark[t];e.mark.tooltip&&Ko(e.mark.tooltip)&&delete e.mark.tooltip}for(const t of oKt){for(const r of kde)delete e[t][r];const n=aKt[t];if(n)for(const r of n)delete e[t][r];cKt(e,t)}for(const t of jGt())delete e[t];uKt(e);for(const t in e)Ko(e[t])&&ns(e[t])&&delete e[t];return ns(e)?void 0:e}function uKt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=DFe(e.title);ns(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),ns(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),ns(r)?delete e.title:e.title=r}function cKt(e,t,n,r){const s=e[t];t==="view"&&(n="cell");const o=Object.assign(Object.assign({},s),e.style[n??t]);ns(o)||(e.style[n??t]=o),delete e[t]}function O6(e){return"layer"in e}function fKt(e){return"repeat"in e}function dKt(e){return!wn(e.repeat)&&e.repeat.layer}class eMe{map(t,n){return T6(t)?this.mapFacet(t,n):fKt(t)?this.mapRepeat(t,n):lte(t)?this.mapHConcat(t,n):D6(t)?this.mapVConcat(t,n):ate(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(O6(t))return this.mapLayer(t,n);if(Fp(t))return this.mapUnit(t,n);throw new Error(Iee(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(r=>this.map(r,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(r=>this.map(r,n))})}mapConcat(t,n){const{concat:r}=t,s=mn(t,["concat"]);return Object.assign(Object.assign({},s),{concat:r.map(o=>this.map(o,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const hKt={zero:1,center:1,normalize:1};function pKt(e){return e in hKt}const gKt=new Set([$Re,f6,c6,DF,h6,See,$ee,d6,kRe,Cee]),mKt=new Set([f6,c6,$Re]);function qde(e,t){var n,r;const s=t==="x"?"y":"radius",o=e[t],i=e[s];if(Bt(o)&&Bt(i))if(xg(o)==="quantitative"&&xg(i)==="quantitative"){if(o.stack)return t;if(i.stack)return s;const a=Bt(o)&&!!o.aggregate,l=Bt(i)&&!!i.aggregate;if(a!==l)return a?t:s;{const u=(n=o.scale)===null||n===void 0?void 0:n.type,c=(r=i.scale)===null||r===void 0?void 0:r.type;if(u&&u!=="linear")return s;if(c&&c!=="linear")return t}}else{if(xg(o)==="quantitative")return t;if(xg(i)==="quantitative")return s}else{if(xg(o)==="quantitative")return t;if(xg(i)==="quantitative")return s}}function vKt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function tMe(e,t,n={}){const r=wd(e)?e.type:e;if(!gKt.has(r))return null;const s=qde(t,"x")||qde(t,"theta");if(!s)return null;const o=t[s],i=Bt(o)?It(o,{}):void 0;let a=vKt(s),l=t[a],u=Bt(l)?It(l,{}):void 0;u===i&&(u=void 0,l=void 0,a=void 0);const c=hHt.reduce((d,h)=>{if(h!=="tooltip"&&o1(t,h)){const p=t[h];for(const g of Js(p)){const m=Cd(g);if(m.aggregate)continue;const v=It(m,{});(!v||v!==u)&&d.push({channel:h,fieldDef:m})}}return d},[]);let f;if(o.stack!==void 0?KA(o.stack)?f=o.stack?"zero":null:f=o.stack:c.length>0&&mKt.has(r)&&(f="zero"),!f||!pKt(f)||Qee(t)&&c.length===0)return null;if(o.scale&&o.scale.type&&o.scale.type!==Qs.LINEAR){if(n.disallowNonLinearStack)return null;Ct(lqt(o.scale.type))}return On(t[Zd(s)])?(o.stack!==void 0&&Ct(aqt(s)),null):(Bt(o)&&o.aggregate&&!Cn(nHt,o.aggregate)&&Ct(uqt(o.aggregate)),{groupbyChannel:l?a:void 0,groupbyField:u,fieldChannel:s,impute:o.impute===null?!1:Gy(r),stackBy:c,offset:f})}function yKt(e){const{point:t,line:n}=e,r=mn(e,["point","line"]);return kt(r).length>1?r:r.type}function bKt(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:Gh(e[t],["point","line"])}));return e}function J9(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ko(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ko(t.point)?t.point:{}:void 0}function Gde(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class wKt{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Fp(t)){const{mark:r,encoding:s}=t,o=wd(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!J9(o,n[o.type],s);case"area":return!!J9(o,n[o.type],s)||!!Gde(o,n[o.type])}}return!1}run(t,n,r){const{config:s}=n,{selection:o,projection:i,encoding:a,mark:l}=t,u=mn(t,["selection","projection","encoding","mark"]),c=wd(l)?l:{type:l},f=J9(c,s[c.type],a),d=c.type==="area"&&Gde(c,s[c.type]),h=[Object.assign(Object.assign({},o?{selection:o}:{}),{mark:yKt(Object.assign(Object.assign({},c.type==="area"&&c.opacity===void 0&&c.fillOpacity===void 0?{opacity:.7}:{}),c)),encoding:Gh(a,["shape"])})],p=tMe(c,a);let g=a;if(p){const{fieldChannel:m,offset:v}=p;g=Object.assign(Object.assign({},a),{[m]:Object.assign(Object.assign({},a[m]),v?{stack:v}:{})})}return d&&h.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"line"},VE(c,["clip","interpolate","tension","tooltip"])),d),encoding:g})),f&&h.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},VE(c,["clip","tooltip"])),f),encoding:g})),r(Object.assign(Object.assign({},u),{layer:h}),Object.assign(Object.assign({},n),{config:bKt(s)}))}}class xKt{constructor(){this.name="RangeStep"}hasMatchingType(t){var n;if(Fp(t)&&t.encoding)for(const r of Uu){const s=t.encoding[r];if(s&&On(s)&&!((n=s?.scale)===null||n===void 0)&&n.rangeStep)return!0}return!1}run(t){var n;const r={};let s=Object.assign({},t.encoding);for(const o of Uu){const i=Jd(o),a=s[o];if(a&&On(a)&&!((n=a?.scale)===null||n===void 0)&&n.rangeStep){const{scale:l}=a,u=mn(a,["scale"]),c=l,{rangeStep:f}=c,d=mn(c,["rangeStep"]);r[i]={step:l.rangeStep},Ct(qHt),s=Object.assign(Object.assign({},s),{[o]:Object.assign(Object.assign({},u),ns(d)?{}:{scale:d})})}}return Object.assign(Object.assign(Object.assign({},r),t),{encoding:s})}}function CKt(e,t){return t?eI(e)?rMe(e,t):nMe(e,t):e}function Q9(e,t){return t?rMe(e,t):e}function Nj(e,t,n){const r=t[e];if(mGt(r)){if(r.repeat in n)return Object.assign(Object.assign({},t),{[e]:n[r.repeat]});Ct(THt(r.repeat));return}return t}function nMe(e,t){if(e=Nj("field",e,t),e!==void 0){if(e===null)return null;if(xFe(e)&&Jf(e.sort)){const n=Nj("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function Kde(e,t){if(Bt(e))return nMe(e,t);{const n=Nj("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Yde(e,t){if(On(e)){const n=Kde(e,t);if(n)return n;if(Gee(e))return{condition:e.condition}}else{if(Kee(e)){const n=Kde(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});{const{condition:r}=e;return mn(e,["condition"])}}return e}}function rMe(e,t){const n={};for(const r in e)if(Rv(e,r)){const s=e[r];if(wn(s))n[r]=s.map(o=>Yde(o,t)).filter(o=>o);else{const o=Yde(s,t);o!==void 0&&(n[r]=o)}}return n}class SKt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Fp(t)){const{encoding:n,mark:r}=t;if(r==="line")for(const s of fHt){const o=Xy(s),i=n[o];if(n[s]&&(Bt(i)&&!ka(i.bin)||A0(i)))return!0}}return!1}run(t,n,r){const{encoding:s}=t;return Ct(jHt(!!s.x2,!!s.y2)),r(Object.assign(Object.assign({},t),{mark:"rule"}),n)}}class $Kt extends eMe{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[OGt,MGt,UGt,new wKt,new SKt,new xKt]}map(t,n){if(Fp(t)){const r=o1(t.encoding,Kh),s=o1(t.encoding,Yh),o=o1(t.encoding,g6);if(r||s||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:s}=n,o=Object.assign(Object.assign({},t),{encoding:Q9(t.encoding,n.repeater)});if(r||s)return this.mapUnitWithParentEncodingOrProjection(o,n);const i=this.mapLayerOrUnit.bind(this);for(const a of this.nonFacetUnitNormalizers)if(a.hasMatchingType(o,n.config))return a.run(o,n,i);return o}mapRepeat(t,n){return dKt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:s}=t,o=mn(t,["repeat","spec"]),{row:i,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return i||a?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},i?{row:i}:{}),a?{column:a}:{}),spec:{repeat:{layer:l},spec:s}}),n):Object.assign(Object.assign({},o),{layer:l.map(f=>{const d=Object.assign(Object.assign({},u),{layer:f}),h=(s.name||"")+c+`child__layer_${ks(f)}`,p=this.mapLayerOrUnit(s,Object.assign(Object.assign({},n),{repeater:d,repeaterPrefix:h}));return p.name=h,p})})}mapNonLayerRepeat(t,n){var r;const{repeat:s,spec:o,data:i}=t,a=mn(t,["repeat","spec","data"]);!wn(s)&&t.columns&&(t=Gh(t,["columns"]),Ct(Nde("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=n,f=!wn(s)&&s.row||[u?u.row:null],d=!wn(s)&&s.column||[u?u.column:null],h=wn(s)&&s||[u?u.repeat:null];for(const g of h)for(const m of f)for(const v of d){const y={repeat:g,row:m,column:v,layer:u.layer},b=(o.name||"")+c+"child__"+(wn(s)?`${ks(g)}`:(s.row?`row_${ks(m)}`:"")+(s.column?`column_${ks(v)}`:"")),w=this.map(o,Object.assign(Object.assign({},n),{repeater:y,repeaterPrefix:b}));w.name=b,l.push(Gh(w,["data"]))}const p=wn(s)?t.columns:s.column?s.column.length:1;return Object.assign(Object.assign({data:(r=o.data)!==null&&r!==void 0?r:i,align:"all"},a),{columns:p,concat:l})}mapFacet(t,n){const{facet:r}=t;return eI(r)&&t.columns&&(t=Gh(t,["columns"]),Ct(Nde("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:s}=t,{parentEncoding:o,parentProjection:i,config:a}=n,l=Zde({parentProjection:i,projection:s}),u=Xde({parentEncoding:o,encoding:Q9(r,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),l?{projection:l}:{}),u?{encoding:u}:{}),{config:a})}mapFacetedUnit(t,n){const r=t.encoding,{row:s,column:o,facet:i}=r,a=mn(r,["row","column","facet"]),{mark:l,width:u,projection:c,height:f,view:d,selection:h,encoding:p}=t,g=mn(t,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:m,layout:v}=this.getFacetMappingAndLayout({row:s,column:o,facet:i},n),y=Q9(a,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},g),v),{facet:m,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),f?{height:f}:{}),d?{view:d}:{}),c?{projection:c}:{}),{mark:l,encoding:y}),h?{selection:h}:{})}),n)}getFacetMappingAndLayout(t,n){var r;const{row:s,column:o,facet:i}=t;if(s||o){i&&Ct(UHt([...s?[Kh]:[],...o?[Yh]:[]]));const a={},l={};for(const u of[Kh,Yh]){const c=t[u];if(c){const{align:f,center:d,spacing:h,columns:p}=c,g=mn(c,["align","center","spacing","columns"]);a[u]=g;for(const m of["align","center","spacing"])c[m]!==void 0&&(l[m]=(r=l[m])!==null&&r!==void 0?r:{},l[m][u]=c[m])}}return{facetMapping:a,layout:l}}else{const{align:a,center:l,spacing:u,columns:c}=i,f=mn(i,["align","center","spacing","columns"]);return{facetMapping:CKt(f,n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},a?{align:a}:{}),l?{center:l}:{}),u?{spacing:u}:{}),c?{columns:c}:{})}}}mapLayer(t,n){var{parentEncoding:r,parentProjection:s}=n,o=mn(n,["parentEncoding","parentProjection"]);const{encoding:i,projection:a}=t,l=mn(t,["encoding","projection"]),u=Object.assign(Object.assign({},o),{parentEncoding:Xde({parentEncoding:r,encoding:i}),parentProjection:Zde({parentProjection:s,projection:a})});return super.mapLayer(l,u)}}function Xde(e){const{parentEncoding:t,encoding:n}=e;if(t&&n){const s=kt(t).reduce((o,i)=>(n[i]&&o.push(i),o),[]);s.length>0&&Ct(OHt(s))}const r=Object.assign(Object.assign({},t??{}),n??{});return ns(r)?void 0:r}function Zde(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ct(RHt({parentProjection:t,projection:n})),n??t}function sMe(e,t){t===void 0&&(t=QFe(e.config));const n=EKt(e,t),{width:r,height:s}=e,o=_Kt(n,{width:r,height:s,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const kKt=new $Kt;function EKt(e,t={}){return kKt.map(e,{config:t})}function Jde(e){return Qn(e)?{type:e}:e??{}}function _Kt(e,t,n){let{width:r,height:s}=t;const o=Fp(e)||O6(e),i={};o?r=="container"&&s=="container"?(i.type="fit",i.contains="padding"):r=="container"?(i.type="fit-x",i.contains="padding"):s=="container"&&(i.type="fit-y",i.contains="padding"):(r=="container"&&(Ct(_de("width")),r=void 0),s=="container"&&(Ct(_de("height")),s=void 0));const a=Object.assign(Object.assign(Object.assign({type:"pad"},i),n?Jde(n.autosize):{}),Jde(e.autosize));if(a.type==="fit"&&!o&&(Ct(xHt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ct(Tde("width")),s=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ct(Tde("height")),!YA(a,{type:"pad"}))return a}function TKt(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function AKt(e){return e?`fit-${C6(e)}`:"fit"}const IKt=["background","padding"];function Qde(e){return IKt.reduce((t,n)=>(e&&e[n]!==void 0&&(t[n]=e[n]),t),{})}class zp{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new zp(er(this.explicit),er(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return uo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,n){n.value!==void 0&&this.set(t,n.value,n.explicit)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,n){n.explicit[t]!==void 0?this.set(t,n.explicit[t],!0):n.implicit[t]!==void 0&&this.set(t,n.implicit[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of kt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Fv(e){return{explicit:!0,value:e}}function Pl(e){return{explicit:!1,value:e}}function oMe(e){return(t,n,r,s)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:R6(t,n,r,s)}}function R6(e,t,n,r){return e.explicit&&t.explicit&&Ct(eqt(n,r,e.value,t.value)),e}function Hm(e,t,n,r,s=R6){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:YA(e.value,t.value)?e:s(e,t,n,r)}class NKt extends zp{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function GE(e){return"url"in e}function VF(e){return"values"in e}function iMe(e){return"name"in e&&!GE(e)&&!VF(e)&&!i1(e)}function i1(e){return e&&(aMe(e)||lMe(e)||cte(e))}function aMe(e){return"sequence"in e}function lMe(e){return"sphere"in e}function cte(e){return"graticule"in e}const Pi="main",WF="raw";function uMe(e){return"filter"in e}function DKt(e){return e?.stop!==void 0}function OKt(e){return"lookup"in e}function RKt(e){return"data"in e}function FKt(e){return"selection"in e}function MKt(e){return"pivot"in e}function PKt(e){return"density"in e}function LKt(e){return"quantile"in e}function BKt(e){return"regression"in e}function zKt(e){return"loess"in e}function VKt(e){return"sample"in e}function WKt(e){return"window"in e}function UKt(e){return"joinaggregate"in e}function jKt(e){return"flatten"in e}function HKt(e){return"calculate"in e}function qKt(e){return"bin"in e}function GKt(e){return"impute"in e}function KKt(e){return"timeUnit"in e}function YKt(e){return"aggregate"in e}function XKt(e){return"stack"in e}function ZKt(e){return"fold"in e}function JKt(e){return e.map(t=>uMe(t)?{filter:M3(t.filter,zqt)}:t)}function rI(e,t,n,r){const s=Gee(t)&&t.condition,o=r(t);if(s){const a=Js(s).map(l=>{const u=r(l),c=gGt(l)?FMe(e,l.selection):qF(e,l.test);return Object.assign({test:c},u)});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function fte(e,t="text"){const n=e.encoding[t];return rI(e,n,t,r=>F6(r,e.config))}function F6(e,t,n="datum"){if(e){if(mp(e))return Ys(e.value);if(On(e)){const{format:r,formatType:s}=MF(e);return Uee({fieldOrDatumDef:e,format:r,formatType:s,expr:n,config:t})}}}function cMe(e,t={}){const{encoding:n,markDef:r,config:s,stack:o}=e,i=n.tooltip;if(wn(i))return{tooltip:ehe({tooltip:i},o,s,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return rI(e,i,"tooltip",l=>{const u=F6(l,s,a);if(u)return u;if(l===null)return;let c=Dr("tooltip",r,s);if(c===!0&&(c={content:"encoding"}),Qn(c))return{value:c};if(Ko(c))return c.content==="encoding"?ehe(n,o,s,t):{signal:a}})}}function fMe(e,t,n,{reactiveGeom:r}={}){const s={},o=r?"datum.datum":"datum",i=[];function a(u,c){const f=Xy(c),d=iu(u)?u:Object.assign(Object.assign({},u),{type:e[f].type}),h=Js(s1(d,n,{allowDisabling:!1})).join(", ");let p;if(xd(c)){const g=c==="x"?"x2":"y2",m=Cd(e[g]);if(ka(d.bin)&&m){const v=It(d,{expr:o}),y=It(m,{expr:o}),{format:b,formatType:w}=MF(d);p=E6(v,y,b,w,n),s[g]=!0}else if(t&&t.fieldChannel===c&&t.offset==="normalize"){const{format:v,formatType:y}=MF(d);p=Uee({fieldOrDatumDef:d,format:v,formatType:y,expr:o,config:n,normalizeStack:!0}).signal}}p=p??F6(d,n,o).signal,i.push({channel:c,key:h,value:p})}tte(e,(u,c)=>{Bt(u)?a(u,c):A6(u)&&a(u.condition,c)});const l={};for(const{channel:u,key:c,value:f}of i)!s[u]&&!l[c]&&(l[gr(c)]=f);return l}function ehe(e,t,n,{reactiveGeom:r}={}){const s=fMe(e,t,n,{reactiveGeom:r}),o=bRe(s).map(({key:i,value:a})=>`${i}: ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function QKt(e){const{markDef:t,config:n}=e,r=Dr("aria",t,n);return r===!1?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),eYt(e)),tYt(e))}function eYt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const s=Dr("ariaRoleDescription",n,r);return s!=null?{ariaRoleDescription:{value:s}}:t in Mqt?{}:{ariaRoleDescription:{value:t}}}function tYt(e){const{encoding:t,markDef:n,config:r,stack:s}=e,o=t.description;if(o)return rI(e,o,"description",l=>F6(l,e.config));const i=Dr("description",n,r);if(i!=null)return{description:Ys(i)};if(r.aria===!1)return{};const a=fMe(t,s,r);if(!ns(a))return{description:{signal:bRe(a).map(({key:l,value:u})=>`${l} + ": " + (${u})`).join(' + "; " + ')}}}function Po(e,t,n={}){const{markDef:r,encoding:s,config:o}=t,{vgChannel:i}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l=l??Dr(e,r,o,{vgChannel:i,ignoreVgConfig:!0}),l!==void 0&&(a=Ys(l)));const u=s[e];return rI(t,u,i??e,c=>dFe({channel:e,channelDef:c,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function dMe(e,t={filled:void 0}){var n,r,s,o;const{markDef:i,encoding:a,config:l}=e,{type:u}=i,c=(n=t.filled)!==null&&n!==void 0?n:Dr("filled",i,l),f=Cn(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,d=(s=(r=Dr(c===!0?"color":void 0,i,l,{vgChannel:"fill"}))!==null&&r!==void 0?r:l.mark[c===!0&&"color"])!==null&&s!==void 0?s:f,h=(o=Dr(c===!1?"color":void 0,i,l,{vgChannel:"stroke"}))!==null&&o!==void 0?o:l.mark[c===!1&&"color"],p=c?"fill":"stroke",g=Object.assign(Object.assign({},d?{fill:Ys(d)}:{}),h?{stroke:Ys(h)}:{});return i.color&&(c?i.fill:i.stroke)&&Ct(WRe("property",{fill:"fill"in i,stroke:"stroke"in i})),Object.assign(Object.assign(Object.assign(Object.assign({},g),Po("color",e,{vgChannel:p,defaultValue:c?d:h})),Po("fill",e,{defaultValue:a.fill?d:void 0})),Po("stroke",e,{defaultValue:a.stroke?h:void 0}))}function KE(e,t){const n=dHt(e),r=t[n];if(r)return r}function Gi(e,t,{defaultPos:n,vgChannel:r,isMidPoint:s}){const{encoding:o,markDef:i,config:a,stack:l}=t,u=o[e],c=o[Zd(e)],f=t.scaleName(e),d=t.getScaleComponent(e),h=KE(e,i),p=dte({model:t,defaultPos:n,channel:e,scaleName:f,scale:d}),g=!u&&xd(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:nYt({channel:e,channelDef:u,channel2Def:c,markDef:i,config:a,isMidPoint:s,scaleName:f,scale:d,stack:l,offset:h,defaultRef:p});return g?{[r||e]:g}:void 0}function nYt(e){const{channel:t,channelDef:n,isMidPoint:r,scaleName:s,stack:o,offset:i,markDef:a,config:l}=e;if(On(n)&&o&&t===o.fieldChannel){if(Bt(n)){const u=tI({channel:t,fieldDef:n,isMidPoint:r,markDef:a,stack:o,config:l});if(u!==void 0)return FF({scaleName:s,fieldOrDatumDef:n,startSuffix:"start",band:u,offset:i})}return r1(n,s,{suffix:"end"},{offset:i})}return Vee(e)}function dte({model:e,defaultPos:t,channel:n,scaleName:r,scale:s}){const{markDef:o,config:i}=e;return()=>{const a=Xy(n),l=jm(n),u=Dr(n,o,i,{vgChannel:l});if(u!==void 0)return ak(n,u);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=s.get("type");if(!Cn([Qs.LOG,Qs.TIME,Qs.UTC],c)){if(s.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const c=e[Jd(n)];return Object.assign(Object.assign({},c),{mult:.5})}}}}const rYt={left:"x",center:"xc",right:"x2"},sYt={top:"y",middle:"yc",bottom:"y2"};function hMe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return jm(e);const o=Dr(e==="x"?"align":"baseline",t,n);return e==="x"?rYt[o||(r==="top"?"left":"center")]:sYt[o||r]}function UF(e,t,{defaultPos:n,defaultPos2:r,range:s}){return s?pMe(e,t,{defaultPos:n,defaultPos2:r}):Gi(e,t,{defaultPos:n})}function pMe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:s,config:o}=t,i=Zd(e),a=Jd(e),l=oYt(t,r,i),u=l[a]?hMe(e,s,o):jm(e);return Object.assign(Object.assign({},Gi(e,t,{defaultPos:n,vgChannel:u})),l)}function oYt(e,t,n){const{encoding:r,mark:s,markDef:o,stack:i,config:a}=e,l=Xy(n),u=Jd(n),c=jm(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),p=n in r||n in o?KE(n,e.markDef):KE(l,e.markDef);if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude))return{[c]:{field:e.getName(n)}};const g=iYt({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:i,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:qN(n,o)||qN(n,{[n]:LF(n,o,a.style),[u]:LF(u,o,a.style)})||qN(n,a[s])||qN(n,a.mark)||{[c]:dte({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function iYt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:s,scaleName:o,scale:i,stack:a,offset:l,defaultRef:u}){return On(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?r1(t,o,{suffix:"start"},{offset:l}):Vee({channel:e,channelDef:n,scaleName:o,scale:i,stack:a,markDef:r,config:s,offset:l,defaultRef:u})}function qN(e,t){const n=Jd(e),r=jm(e);if(t[r]!==void 0)return{[r]:ak(e,t[r])};if(t[e]!==void 0)return{[r]:ak(e,t[e])};if(t[n])return{[n]:ak(e,t[n])}}function qm(e,t,n){var r,s,o,i;const{config:a,encoding:l,markDef:u,stack:c}=e,f=Zd(t),d=Jd(t),h=l[t],p=l[f],g=e.getScaleComponent(t),m=g?g.get("type"):void 0,v=e.scaleName(t),y=u.orient,b=(s=(r=l[d])!==null&&r!==void 0?r:l.size)!==null&&s!==void 0?s:Dr("size",u,a,{vgChannel:d}),w=n==="bar"&&(t==="x"?y==="vertical":y==="horizontal");if(Bt(h)&&(ls(h.bin)||ka(h.bin)||h.timeUnit&&!p)&&!b&&!Tl(m)){const C=tI({channel:t,fieldDef:h,stack:c,markDef:u,config:a}),S=(o=e.component.axes[t])===null||o===void 0?void 0:o[0],$=(i=S?.get("translate"))!==null&&i!==void 0?i:.5;return uYt({fieldDef:h,fieldDef2:p,channel:t,markDef:u,scaleName:v,band:C,axisTranslate:$,spacing:xd(t)?Dr("binSpacing",u,a):void 0,reverse:g.get("reverse"),config:a})}else return(On(h)&&Tl(m)||w)&&!p?lYt(n,h,t,e):pMe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function aYt(e,t,n,r,s,o){if(r){const l=r.get("type");if(l==="point"||l==="band"){if(s[e].discreteBandSize!==void 0)return{value:s[e].discreteBandSize};if(l===Qs.POINT){const u=r.get("range");return T0(u)&&lo(u.step)?{value:u.step-2}:{value:ute-2}}else return{scale:n,band:o}}else return{value:s[e].continuousBandSize}}const i=zF(s.view,t),a=uo(s[e].discreteBandSize,i-2);return a!==void 0?{value:a}:void 0}function lYt(e,t,n,r){var s;const{markDef:o,encoding:i,config:a,stack:l}=r,u=o.orient,c=r.scaleName(n),f=r.getScaleComponent(n),d=Jd(n),h=Zd(n),p=u==="horizontal"&&n==="y"||u==="vertical"&&n==="x",g=Dr(p?"size":d,o,a,{vgChannel:d});let m;(i.size||g!==void 0)&&(p?m=Po("size",r,{vgChannel:d,defaultValue:g}):Ct(ZHt(o.type)));const v=(s=On(t)?tI({channel:n,fieldDef:t,markDef:o,stack:l,config:a}):void 0)!==null&&s!==void 0?s:1;m=m||{[d]:aYt(e,d,c,f,a,v)};const y=f?.get("type")!=="band"||!("band"in m[d]),b=hMe(n,o,a,y?"middle":"top"),w=KE(n,o),C=Vee({channel:n,channelDef:t,markDef:o,config:a,scaleName:c,scale:f,stack:l,offset:w,defaultRef:dte({model:r,defaultPos:"mid",channel:n,scaleName:c,scale:f}),band:y?.5:(1-v)/2});if(d)return Object.assign({[b]:C},m);{const S=jm(h),$=m[d],k=w?Object.assign(Object.assign({},$),{offset:w}):$;return{[b]:C,[S]:wn(C)?[C[0],Object.assign(Object.assign({},C[1]),{offset:k})]:Object.assign(Object.assign({},C),{offset:k})}}}function LS(e,t,n,r,s){if(NRe(e))return 0;const o=e==="x"||e==="y2"?-t/2:t/2;if(An(n)){const i=HE(s);return{signal:`${n.signal} ? ${r-o}${i?"-"+i:""} : ${r+o}${i?"+"+i:""}`}}else{if(An(s)){const i=r+(n?-o:o);return{signal:`${i||""}${n?" - ":i?" + ":""}${s.signal}`}}return s=s||0,r+(n?-s-o:+s+o)}}function uYt({fieldDef:e,fieldDef2:t,channel:n,band:r,scaleName:s,markDef:o,spacing:i=0,axisTranslate:a,reverse:l,config:u}){const c=Zd(n),f=jm(n),d=jm(c),h=KE(n,o);if(ls(e.bin)||e.timeUnit)return{[d]:the({channel:n,fieldDef:e,scaleName:s,markDef:o,band:(1-r)/2,offset:LS(c,i,l,a,h),config:u}),[f]:the({channel:n,fieldDef:e,scaleName:s,markDef:o,band:1-(1-r)/2,offset:LS(n,i,l,a,h),config:u})};if(ka(e.bin)){const p=r1(e,s,{},{offset:LS(c,i,l,a,h)});if(Bt(t))return{[d]:p,[f]:r1(t,s,{},{offset:LS(n,i,l,a,h)})};if(QA(e.bin)&&e.bin.step)return{[d]:p,[f]:{signal:`scale("${s}", ${It(e,{expr:"datum"})} + ${e.bin.step})`,offset:LS(n,i,l,a,h)}}}Ct(HRe(c))}function the({channel:e,fieldDef:t,scaleName:n,markDef:r,band:s,offset:o,config:i}){const a=FF({scaleName:n,fieldOrDatumDef:t,band:s,offset:o});return fFe({fieldDef:t,channel:e,markDef:r,ref:a,config:i})}const cYt=new Set(["aria"]);function ec(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?dMe(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fYt(e.markDef,t)),nhe(e,"fill",n)),nhe(e,"stroke",r)),Po("opacity",e)),Po("fillOpacity",e)),Po("strokeOpacity",e)),Po("strokeWidth",e)),Po("strokeDash",e)),cMe(e)),fte(e,"href")),QKt(e))}function nhe(e,t,n){const{config:r,mark:s,markDef:o}=e;if(Dr("invalid",o,r)==="hide"&&n&&!Gy(s)){const a=dYt(e,{invalid:!0,channels:S6});if(a)return{[t]:[{test:a,value:null},...Js(n)]}}return n?{[t]:n}:{}}function fYt(e,t){return Fqt.reduce((n,r)=>(!cYt.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Ys(e[r])),n),{})}function dYt(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,i)=>{const a=e.getScaleComponent(i);if(a){const l=a.get("type"),u=e.vgField(i,{expr:"datum"});u&&ju(l)&&(o[u]=!0)}return o},{}),s=kt(r);if(s.length>0){const o=t?"||":"&&";return s.map(i=>Wee(i,t)).join(` ${o} `)}}function hte(e){const{config:t,markDef:n}=e;if(Dr("invalid",n,t)){const s=hYt(e,{channels:Uu});if(s)return{defined:{signal:s}}}return{}}function hYt(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,i)=>{const a=e.getScaleComponent(i);if(a){const l=a.get("type"),u=e.vgField(i,{expr:"datum"});u&&ju(l)&&(o[u]=!0)}return o},{}),s=kt(r);if(s.length>0){const o=t?"||":"&&";return s.map(i=>Wee(i,t)).join(` ${o} `)}}function rhe(e,t){if(t!==void 0)return{[e]:Ys(t)}}const e7="voronoi",gMe={has:e=>e.type!=="interval"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(e7)},marks:(e,t,n)=>{const{x:r,y:s}=t.project.hasChannel,o=e.mark;if(Gy(o))return Ct(SHt(o)),n;const i={name:e.getName(e7),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},cMe(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!s?"datum.datum.x || 0":"0"},y:{expr:s||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{var f;const d=(f=u.name)!==null&&f!==void 0?f:"";d===e.component.mark[0].name?a=c:d.indexOf(e7)>=0&&(l=!0)}),l||n.splice(a+1,0,i),n}};class Jr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.indexOf(t)>-1){console.warn("Attempt to add the same child twice.");return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const r of this._children)r.parent=t;this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}class Na extends Jr{constructor(t,n,r,s){super(t,n),this.type=r,this.refCounts=s,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName="clone_"+this.debugName,t._source=this._source,t._name="clone_"+this._name,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Ojt()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}class Qf extends Jr{constructor(t,n){super(t),this.formula=n}clone(){return new Qf(null,er(this.formula))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((s,o,i)=>{const{field:a,timeUnit:l}=o,u=Bs(n)?n.encoding[Zd(i)]:void 0,c=Bs(n)&&qee(i,o,u,n.stack,n.markDef,n.config);if(l){const f=It(o,{forAs:!0});s[br({as:f,field:a,timeUnit:l})]=Object.assign({as:f,field:a,timeUnit:l},c?{band:!0}:{})}return s},{});return ns(r)?null:new Qf(t,r)}static makeFromTransform(t,n){const r=Object.assign({},n),{timeUnit:s}=r,o=mn(r,["timeUnit"]),i=Ba(s),a=Object.assign(Object.assign({},o),{timeUnit:i});return new Qf(t,{[br(a)]:a})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)(!this.formula[n]||t.formula[n].band)&&(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}producedFields(){return new Set(rm(this.formula).map(t=>t.as))}dependentFields(){return new Set(rm(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${br(this.formula)}`}assemble(){const t=[];for(const n of rm(this.formula)){const{field:r,as:s,timeUnit:o}=n,i=Ba(o),{unit:a,utc:l}=i,u=mn(i,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:Wm(r),type:"timeunit"},a?{units:Ree(a)}:{}),l?{timezone:"utc"}:{}),u),{as:[s,`${s}_end`]}))}return t}}const sI="_tuple_fields";class pYt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={}}}const gYt={has:()=>!0,parse:(e,t,n)=>{var r,s,o;const i=t.name,a=(r=t.project)!==null&&r!==void 0?r:t.project=new pYt,l={},u={},c=new Set,f=(d,h)=>{const p=h==="visual"?d.channel:d.field;let g=ks(`${i}_${p}`);for(let m=1;c.has(g);m++)g=ks(`${i}_${p}_${m}`);return c.add(g),{[h]:g}};if(!n.fields&&!n.encodings){const d=e.config.selection[n.type];if(n.init)for(const h of Js(n.init))for(const p of kt(h))cHt(p)?(n.encodings||(n.encodings=[])).push(p):n.type==="interval"?(Ct('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(p);else n.encodings=d.encodings,n.fields=d.fields}for(const d of(s=n.fields)!==null&&s!==void 0?s:[]){const h={type:"E",field:d};h.signals=Object.assign({},f(h,"data")),a.items.push(h),a.hasField[d]=h}for(const d of(o=n.encodings)!==null&&o!==void 0?o:[]){const h=e.fieldDef(d);if(h){let p=h.field;if(h.aggregate){Ct(CHt(d,h.aggregate));continue}else if(!p){Ct(Ide(d));continue}if(h.timeUnit){p=e.vgField(d);const g={timeUnit:h.timeUnit,as:p,field:h.field};u[br(g)]=g}if(!l[p]){let g="E";if(t.type==="interval"){const v=e.getScaleComponent(d).get("type");ju(v)&&(g="R")}else h.bin&&(g="R-RE");const m={field:p,channel:d,type:g};m.signals=Object.assign(Object.assign({},f(m,"data")),f(m,"visual")),a.items.push(l[p]=m),a.hasField[p]=a.hasChannel[d]=l[p]}}else Ct(Ide(d))}if(n.init){const d=h=>a.items.map(p=>h[p.channel]!==void 0?h[p.channel]:h[p.field]);if(n.type==="interval")t.init=d(n.init);else{const h=Js(n.init);t.init=h.map(d)}}ns(u)||(a.timeUnit=new Qf(null,u))},signals:(e,t,n)=>{const r=t.name+sI;return n.filter(o=>o.name===r).length>0?n:n.concat({name:r,value:t.project.items.map(o=>{const{signals:i,hasLegend:a}=o,l=mn(o,["signals","hasLegend"]);return l.field=Wm(l.field),l})})}},mMe={has:e=>e.type==="single"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!ite(e.bind),parse:(e,t,n,r)=>{r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:(e,t,n)=>{const r=t.name,s=t.project,o=t.bind,i=t.init&&t.init[0],a=gMe.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.items.forEach((l,u)=>{var c,f;const d=ks(`${r}_${l.field}`);n.filter(p=>p.name===d).length||n.unshift(Object.assign(Object.assign({name:d},i?{init:_x(i[u])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${gr(l.field)}] : null`}]:[],bind:(f=(c=o[l.field])!==null&&c!==void 0?c:o[l.channel])!==null&&f!==void 0?f:o}))}),n},signals:(e,t,n)=>{const r=t.name,s=t.project,o=n.filter(u=>u.name===r+$d)[0],i=r+sI,a=s.items.map(u=>ks(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${i}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},jF="_toggle",vMe={has:e=>e.type==="multi"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+jF,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+$d,r=t.name+jF;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Xh(e)}}, `)+`${r} ? ${n} : null`}},mYt={has:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t,n)=>{n.clear&&(t.clear=Qn(n.clear)?jy(n.clear,"scope"):n.clear)},topLevelSignals:(e,t,n)=>{if(mMe.has(t))for(const r of t.project.items){const s=n.findIndex(o=>o.name===ks(`${t.name}_${r.field}`));s!==-1&&n[s].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(s,o){s!==-1&&n[s].on&&n[s].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const s of t.project.items){const o=n.findIndex(i=>i.name===s.signals.visual);if(r(o,"[0, 0]"),o===-1){const i=n.findIndex(a=>a.name===s.signals.data);r(i,"null")}}else{let s=n.findIndex(o=>o.name===t.name+$d);r(s,"null"),vMe.has(t)&&(s=n.findIndex(o=>o.name===t.name+jF),r(s,"false"))}return n}},Gm={has:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const s=r.channel;if(!_0(s))continue;const o=e.getScaleComponent(s),i=o?o.get("type"):void 0;if(!o||!ju(i)){Ct(kHt);continue}const a={selection:t.name,field:r.field};o.set("selectionExtent",a,!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(i=>n.filter(a=>a.name===i.signals.data).length===0);if(!e.parent||Oj(e)||r.length===0)return n;const s=n.filter(i=>i.name===t.name)[0];let o=s.update;if(o.indexOf(EMe)>=0)s.update=`{${r.map(i=>`${gr(i.field)}: ${i.signals.data}`).join(", ")}}`;else{for(const i of r){const a=`${gr(i.field)}: ${i.signals.data}`;o.indexOf(a)<0&&(o=`${o.substring(0,o.length-1)}, ${a}}`)}s.update=o}return n.concat(r.map(i=>({name:i.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!Oj(e))for(const r of t.scales){const s=n.filter(o=>o.name===r.signals.data)[0];s.push="outer",delete s.value,delete s.update}return n}};function Dj(e,t){return`domain(${gr(e.scaleName(t))})`}function Oj(e){var t;return e.parent&&VC(e.parent)&&((t=!e.parent.parent)!==null&&t!==void 0?t:Oj(e.parent.parent))}const yMe={has:e=>{const t=e.resolve==="global"&&e.bind&&ite(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ex;return t&&!n&&Ct(EHt),t&&n},parse:(e,t,n,r)=>{var s;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Js((s=l.filter)!==null&&s!==void 0?s:[]),l.filter.indexOf(a)<0&&l.filter.push(a)}const o=Z9(t.bind)?t.bind.legend:"click",i=Qn(o)?jy(o,"view"):Js(o);t.bind={legend:{merge:i}}},topLevelSignals:(e,t,n)=>{const r=t.name,s=Z9(t.bind)&&t.bind.legend,o=i=>a=>{const l=er(a);return l.markname=i,l};for(const i of t.project.items){if(!i.hasLegend)continue;const a=`${ks(i.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=s.merge.map(o(`${a}_symbols`)).concat(s.merge.map(o(`${a}_labels`))).concat(s.merge.map(o(`${a}_entries`)));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,s=t.project,o=n.find(d=>d.name===r+$d),i=r+sI,a=s.items.filter(d=>d.hasLegend).map(d=>ks(`${r}_${ks(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${i}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+jF),f=Z9(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:f})):c.on[0].events=f),n}};function vYt(e,t,n){var r;const s=(r=e.fieldDef(t))===null||r===void 0?void 0:r.field;Zy(e,o=>{var i,a;const l=(i=o.project.hasField[s])!==null&&i!==void 0?i:o.project.hasChannel[t];if(l&&yMe.has(o)){const u=(a=n.get("selections"))!==null&&a!==void 0?a:[];u.push(o.name),n.set("selections",u,!1),l.hasLegend=!0}})}const bMe="_translate_anchor",wMe="_translate_delta",yYt={has:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,s=Gm.has(t),o=r+bMe,{x:i,y:a}=t.project.hasChannel;let l=jy(t.translate,"scope");return s||(l=l.map(u=>(u.between[0].markname=r+lk,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(i!==void 0?", extent_x: "+(s?Dj(e,Rs):`slice(${i.signals.visual})`):"")+(a!==void 0?", extent_y: "+(s?Dj(e,So):`slice(${a.signals.visual})`):"")+"}"}]},{name:r+wMe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),i!==void 0&&she(e,t,i,"width",n),a!==void 0&&she(e,t,a,"height",n),n}};function she(e,t,n,r,s){var o;const i=t.name,a=i+bMe,l=i+wMe,u=n.channel,c=Gm.has(t),f=s.filter(w=>w.name===n.signals[c?"data":"visual"])[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),p=h.get("type"),g=c&&u===Rs?"-":"",m=`${a}.extent_${u}`,v=`${g}${l}.${u} / `+(c?`${d}`:`span(${m})`),b=`${c?p==="log"?"panLog":p==="pow"?"panPow":"panLinear":"panLinear"}(${m}, ${v}`+(c&&p==="pow"?`, ${(o=h.get("exponent"))!==null&&o!==void 0?o:1}`:"")+")";f.on.push({events:{signal:l},update:c?b:`clampRange(${b}, 0, ${d})`})}const xMe="_zoom_anchor",CMe="_zoom_delta",bYt={has:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,s=Gm.has(t),o=r+CMe,{x:i,y:a}=t.project.hasChannel,l=gr(e.scaleName(Rs)),u=gr(e.scaleName(So));let c=jy(t.zoom,"scope");return s||(c=c.map(f=>(f.markname=r+lk,f))),n.push({name:r+xMe,on:[{events:c,update:s?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>!!f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),i!==void 0&&ohe(e,t,i,"width",n),a!==void 0&&ohe(e,t,a,"height",n),n}};function ohe(e,t,n,r,s){var o;const i=t.name,a=n.channel,l=Gm.has(t),u=s.filter(y=>y.name===n.signals[l?"data":"visual"])[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(a),d=f.get("type"),h=l?Dj(e,a):u.name,p=i+CMe,g=`${i}${xMe}.${a}`,v=`${l?d==="log"?"zoomLog":d==="pow"?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${g}, ${p}`+(l&&d==="pow"?`, ${(o=f.get("exponent"))!==null&&o!==void 0?o:1}`:"")+")";u.on.push({events:{signal:p},update:l?v:`clampRange(${v}, 0, ${c})`})}const wYt=[gYt,vMe,Gm,yMe,yYt,bYt,mMe,gMe,mYt];function M6(e,t){for(const n of wYt)n.has(e)&&t(n)}function _x(e,t=!0,n=fjt){if(wn(e)){const r=e.map(s=>_x(s,t,n));return t?`[${r.join(", ")}]`:r}else if(RC(e))return n(t?jE(e):kqt(e));return t?n(JSON.stringify(e)):e}function xYt(e,t){return Zy(e,(n,r)=>{const s=n.name;let o=r.modifyExpr(e,n);t.push(...r.signals(e,n)),M6(n,i=>{i.signals&&(t=i.signals(e,n,t)),i.modifyExpr&&(o=i.modifyExpr(e,n,o))}),t.push({name:s+NYt,on:[{events:{signal:n.name+$d},update:`modify(${gr(n.name+K1)}, ${o})`}]})}),pte(t)}function CYt(e,t){if(e.component.selection&&kt(e.component.selection).length){const n=gr(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:jy("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return pte(t)}function SYt(e,t){let n=!1;return Zy(e,(r,s)=>{const o=r.name,i=gr(o+K1);if(t.filter(l=>l.name===o).length===0){const l=r.resolve==="global"?"union":r.resolve,u=r.type==="multi"?", true)":")";t.push({name:r.name,update:`${EMe}(${i}, ${gr(l)}${u}`})}n=!0,s.topLevelSignals&&(t=s.topLevelSignals(e,r,t)),M6(r,l=>{l.topLevelSignals&&(t=l.topLevelSignals(e,r,t))})}),n&&t.filter(s=>s.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),pte(t)}function $Yt(e,t){const n=[...t];return Zy(e,r=>{const s={name:r.name+K1};if(r.init){const i=r.project.items.map(l=>{const{signals:u}=l;return mn(l,["signals"])}),a=r.init.map(l=>_x(l,!1));s.values=r.type==="interval"?[{unit:Xh(e,{escape:!1}),fields:i,values:a}]:a.map(l=>({unit:Xh(e,{escape:!1}),fields:i,values:l}))}n.filter(i=>i.name===r.name+K1).length||n.push(s)}),n}function SMe(e,t){return Zy(e,(n,r)=>{t=r.marks?r.marks(e,n,t):t,M6(n,s=>{s.marks&&(t=s.marks(e,n,t))})}),t}function kYt(e,t){for(const n of e.children)Bs(n)&&(t=SMe(n,t));return t}function EYt(e,t){const n=t.selection,r=e.getSelectionComponent(n,ks(n));return{signal:MMe(r,t)}}function pte(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const lk="_brush",Rj="_scale_trigger",_Yt={signals:(e,t)=>{const n=t.name,r=n+sI,s=Gm.has(t),o=[],i=[],a=[];if(t.translate&&!s){const c=`!event.item || event.item.mark.name !== ${gr(n+lk)}`;$Me(t,(f,d)=>{var h;const p=Js((h=d.between[0].filter)!==null&&h!==void 0?h:d.between[0].filter=[]);return p.indexOf(c)<0&&p.push(c),f})}t.project.items.forEach((c,f)=>{const d=c.channel;if(d!==Rs&&d!==So){Ct("Interval selections only support x and y encoding channels.");return}const h=t.init?t.init[f]:null,p=TYt(e,t,c,h),g=c.signals.data,m=c.signals.visual,v=gr(e.scaleName(d)),y=e.getScaleComponent(d).get("type"),b=ju(y)?"+":"";o.push(...p),i.push(g),a.push({scaleName:e.scaleName(d),expr:`(!isArray(${g}) || (${b}invert(${v}, ${m})[0] === ${b}${g}[0] && ${b}invert(${v}, ${m})[1] === ${b}${g}[1]))`})}),s||o.push({name:n+Rj,value:{},on:[{events:a.map(c=>({scale:c.scaleName})),update:a.map(c=>c.expr).join(" && ")+` ? ${n+Rj} : {}`}]});const l=t.init,u=`unit: ${Xh(e)}, fields: ${r}, values`;return o.concat(Object.assign(Object.assign({name:n+$d},l?{init:`{${u}: ${_x(l)}}`}:{}),{on:[{events:[{signal:i.join(" || ")}],update:i.join(" && ")+` ? {${u}: [${i}]} : null`}]}))},modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"true":`{unit: ${Xh(e)}}`),marks:(e,t,n)=>{const r=t.name,{x:s,y:o}=t.project.hasChannel,i=s&&s.signals.visual,a=o&&o.signals.visual,l=`data(${gr(t.name+K1)})`;if(Gm.has(t))return n;const u={x:s!==void 0?{signal:`${i}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:s!==void 0?{signal:`${i}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of kt(u))u[m]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${Xh(e)}`},u[m]),{value:0}];const c=t.mark,{fill:f,fillOpacity:d,cursor:h}=c,p=mn(c,["fill","fillOpacity","cursor"]),g=kt(p).reduce((m,v)=>(m[v]=[{test:[s!==void 0&&`${i}[0] !== ${i}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:p[v]},{value:null}],m),{});return[{name:r+lk+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:u}},...n,{name:r+lk,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},h?{cursor:{value:h}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},u),g)}}]}};function TYt(e,t,n,r){const s=n.channel,o=n.signals.visual,i=n.signals.data,a=Gm.has(t),l=gr(e.scaleName(s)),u=e.getScaleComponent(s),c=u?u.get("type"):void 0,f=g=>`scale(${l}, ${g})`,d=e.getSizeSignalRef(s===Rs?"width":"height").signal,h=`${s}(unit)`,p=$Me(t,(g,m)=>[...g,{events:m.between[0],update:`[${h}, ${h}]`},{events:m,update:`[${o}[0], clamp(${h}, 0, ${d})]`}]);return p.push({events:{signal:t.name+Rj},update:ju(c)?`[${f(`${i}[0]`)}, ${f(`${i}[1]`)}]`:"[0, 0]"}),a?[{name:i,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:_x(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:i},r?{init:_x(r)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}function $Me(e,t){return e.events.reduce((n,r)=>r.between?t(n,r):(Ct(`${r} is not an ordered event stream for interval selections.`),n),[])}function kMe(e,t){const n=t.name,r=n+sI,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",i=s.items.map(u=>{const c=e.fieldDef(u.channel);return c&&c.bin?`[${o}[${gr(e.vgField(u.channel,{}))}], ${o}[${gr(e.vgField(u.channel,{binSuffix:"end"}))}]]`:`${o}[${gr(u.field)}]`}).join(", "),a=`unit: ${Xh(e)}, fields: ${r}, values`,l=t.events;return[{name:n+$d,on:l?[{events:l,update:`datum && item().mark.marktype !== 'group' ? {${a}: [${i}]} : null`,force:!0}]:[]}]}const AYt={signals:kMe,modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"null":`{unit: ${Xh(e)}}`)},IYt={signals:kMe,modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"true":`{unit: ${Xh(e)}}`)},K1="_store",$d="_tuple",NYt="_modify",EMe="vlSelectionResolve",DYt={single:IYt,multi:AYt,interval:_Yt};function Zy(e,t){const n=e.component.selection;if(n){for(const r of rm(n))if(t(r,DYt[r.type])===!0)break}}function OYt(e){let t=e.parent;for(;t&&!Ic(t);)t=t.parent;return t}function Xh(e,{escape:t}={escape:!0}){let n=t?gr(e.name):e.name;const r=OYt(e);if(r){const{facet:s}=r;for(const o of Tu)s[o]&&(n+=` + '__facet_${o}_' + (facet[${gr(r.vgField(o))}])`)}return n}function gte(e){let t=!1;return Zy(e,n=>{t=t||n.project.items.some(r=>r.field===Ex)}),t}const RYt="RawCode",FYt="Literal",MYt="Property",PYt="Identifier",LYt="ArrayExpression",BYt="BinaryExpression",zYt="CallExpression",VYt="ConditionalExpression",WYt="LogicalExpression",UYt="MemberExpression",jYt="ObjectExpression",HYt="UnaryExpression";function cf(e){this.type=e}cf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=qYt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function qYt(e){switch(e.type){case LYt:return e.elements;case BYt:case WYt:return[e.left,e.right];case zYt:return[e.callee].concat(e.arguments);case VYt:return[e.test,e.consequent,e.alternate];case UYt:return[e.object,e.property];case jYt:return e.properties;case MYt:return[e.key,e.value];case HYt:return[e.argument];case PYt:case FYt:case RYt:default:return[]}}var Qd,on,et,sa,Br,P6=1,oI=2,Y1=3,I0=4,L6=5,Jy=6,Qa=7,iI=8,GYt=9;Qd={};Qd[P6]="Boolean";Qd[oI]="<end>";Qd[Y1]="Identifier";Qd[I0]="Keyword";Qd[L6]="Null";Qd[Jy]="Numeric";Qd[Qa]="Punctuator";Qd[iI]="String";Qd[GYt]="RegularExpression";var KYt="ArrayExpression",YYt="BinaryExpression",XYt="CallExpression",ZYt="ConditionalExpression",_Me="Identifier",JYt="Literal",QYt="LogicalExpression",eXt="MemberExpression",tXt="ObjectExpression",nXt="Property",rXt="UnaryExpression",gi="Unexpected token %0",sXt="Unexpected number",oXt="Unexpected string",iXt="Unexpected identifier",aXt="Unexpected reserved word",lXt="Unexpected end of input",Fj="Invalid regular expression",t7="Invalid regular expression: missing /",TMe="Octal literals are not allowed in strict mode.",uXt="Duplicate data property in object literal not allowed in strict mode",Ki="ILLEGAL",YE="Disabled.",cXt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),fXt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function B6(e,t){if(!e)throw new Error("ASSERT: "+t)}function bh(e){return e>=48&&e<=57}function mte(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function uk(e){return"01234567".indexOf(e)>=0}function dXt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function XE(e){return e===10||e===13||e===8232||e===8233}function aI(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&cXt.test(String.fromCharCode(e))}function HF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&fXt.test(String.fromCharCode(e))}var hXt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function AMe(){for(var e;et<sa&&(e=on.charCodeAt(et),dXt(e)||XE(e));)++et}function Mj(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)et<sa&&mte(on[et])?(r=on[et++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):Er({},gi,Ki);return String.fromCharCode(s)}function pXt(){var e,t,n,r;for(e=on[et],t=0,e==="}"&&Er({},gi,Ki);et<sa&&(e=on[et++],!!mte(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Er({},gi,Ki),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function IMe(){var e,t;for(e=on.charCodeAt(et++),t=String.fromCharCode(e),e===92&&(on.charCodeAt(et)!==117&&Er({},gi,Ki),++et,e=Mj("u"),(!e||e==="\\"||!aI(e.charCodeAt(0)))&&Er({},gi,Ki),t=e);et<sa&&(e=on.charCodeAt(et),!!HF(e));)++et,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),on.charCodeAt(et)!==117&&Er({},gi,Ki),++et,e=Mj("u"),(!e||e==="\\"||!HF(e.charCodeAt(0)))&&Er({},gi,Ki),t+=e);return t}function gXt(){var e,t;for(e=et++;et<sa;){if(t=on.charCodeAt(et),t===92)return et=e,IMe();if(HF(t))++et;else break}return on.slice(e,et)}function mXt(){var e,t,n;return e=et,t=on.charCodeAt(et)===92?IMe():gXt(),t.length===1?n=Y1:hXt.hasOwnProperty(t)?n=I0:t==="null"?n=L6:t==="true"||t==="false"?n=P6:n=Y1,{type:n,value:t,start:e,end:et}}function n7(){var e=et,t=on.charCodeAt(et),n,r=on[et],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++et,{type:Qa,value:String.fromCharCode(t),start:e,end:et};default:if(n=on.charCodeAt(et+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return et+=2,{type:Qa,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:et};case 33:case 61:return et+=2,on.charCodeAt(et)===61&&++et,{type:Qa,value:on.slice(e,et),start:e,end:et}}}if(i=on.substr(et,4),i===">>>=")return et+=4,{type:Qa,value:i,start:e,end:et};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return et+=3,{type:Qa,value:o,start:e,end:et};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".indexOf(r)>=0||s==="=>")return et+=2,{type:Qa,value:s,start:e,end:et};if("<>=!+-*%&|^/".indexOf(r)>=0)return++et,{type:Qa,value:r,start:e,end:et};Er({},gi,Ki)}function vXt(e){for(var t="";et<sa&&mte(on[et]);)t+=on[et++];return t.length===0&&Er({},gi,Ki),aI(on.charCodeAt(et))&&Er({},gi,Ki),{type:Jy,value:parseInt("0x"+t,16),start:e,end:et}}function yXt(e){for(var t="0"+on[et++];et<sa&&uk(on[et]);)t+=on[et++];return(aI(on.charCodeAt(et))||bh(on.charCodeAt(et)))&&Er({},gi,Ki),{type:Jy,value:parseInt(t,8),octal:!0,start:e,end:et}}function ihe(){var e,t,n;if(n=on[et],B6(bh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=et,e="",n!=="."){if(e=on[et++],n=on[et],e==="0"){if(n==="x"||n==="X")return++et,vXt(t);if(uk(n))return yXt(t);n&&bh(n.charCodeAt(0))&&Er({},gi,Ki)}for(;bh(on.charCodeAt(et));)e+=on[et++];n=on[et]}if(n==="."){for(e+=on[et++];bh(on.charCodeAt(et));)e+=on[et++];n=on[et]}if(n==="e"||n==="E")if(e+=on[et++],n=on[et],(n==="+"||n==="-")&&(e+=on[et++]),bh(on.charCodeAt(et)))for(;bh(on.charCodeAt(et));)e+=on[et++];else Er({},gi,Ki);return aI(on.charCodeAt(et))&&Er({},gi,Ki),{type:Jy,value:parseFloat(e),start:t,end:et}}function bXt(){var e="",t,n,r,s,o=!1;for(t=on[et],B6(t==="'"||t==='"',"String literal must starts with a quote"),n=et,++et;et<sa;)if(r=on[et++],r===t){t="";break}else if(r==="\\")if(r=on[et++],!r||!XE(r.charCodeAt(0)))switch(r){case"u":case"x":on[et]==="{"?(++et,e+=pXt()):e+=Mj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:uk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),et<sa&&uk(on[et])&&(o=!0,s=s*8+"01234567".indexOf(on[et++]),"0123".indexOf(r)>=0&&et<sa&&uk(on[et])&&(s=s*8+"01234567".indexOf(on[et++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&on[et]===`
`&&++et;else{if(XE(r.charCodeAt(0)))break;e+=r}return t!==""&&Er({},gi,Ki),{type:iI,value:e,octal:o,start:n,end:et}}function wXt(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(r,s){if(parseInt(s,16)<=1114111)return"x";Er({},Fj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Er({},Fj)}try{return new RegExp(e,t)}catch{return null}}function xXt(){var e,t,n,r,s;for(e=on[et],B6(e==="/","Regular expression literal must start with a slash"),t=on[et++],n=!1,r=!1;et<sa;)if(e=on[et++],t+=e,e==="\\")e=on[et++],XE(e.charCodeAt(0))&&Er({},t7),t+=e;else if(XE(e.charCodeAt(0)))Er({},t7);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Er({},t7),s=t.substr(1,t.length-2),{value:s,literal:t}}function CXt(){var e,t,n;for(t="",n="";et<sa&&(e=on[et],!!HF(e.charCodeAt(0)));)++et,e==="\\"&&et<sa?Er({},gi,Ki):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Er({},Fj,n),{value:n,literal:t}}function SXt(){var e,t,n,r;return Br=null,AMe(),e=et,t=xXt(),n=CXt(),r=wXt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:et}}function $Xt(e){return e.type===Y1||e.type===I0||e.type===P6||e.type===L6}function NMe(){var e;return AMe(),et>=sa?{type:oI,start:et,end:et}:(e=on.charCodeAt(et),aI(e)?mXt():e===40||e===41||e===59?n7():e===39||e===34?bXt():e===46?bh(on.charCodeAt(et+1))?ihe():n7():bh(e)?ihe():n7())}function ol(){var e;return e=Br,et=e.end,Br=NMe(),et=e.end,e}function DMe(){var e;e=et,Br=NMe(),et=e}function kXt(e){var t=new cf(KYt);return t.elements=e,t}function ahe(e,t,n){var r=new cf(e==="||"||e==="&&"?QYt:YYt);return r.operator=e,r.left=t,r.right=n,r}function EXt(e,t){var n=new cf(XYt);return n.callee=e,n.arguments=t,n}function _Xt(e,t,n){var r=new cf(ZYt);return r.test=e,r.consequent=t,r.alternate=n,r}function vte(e){var t=new cf(_Me);return t.name=e,t}function T$(e){var t=new cf(JYt);return t.value=e.value,t.raw=on.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function lhe(e,t,n){var r=new cf(eXt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function TXt(e){var t=new cf(tXt);return t.properties=e,t}function uhe(e,t,n){var r=new cf(nXt);return r.key=t,r.value=n,r.kind=e,r}function AXt(e,t){var n=new cf(rXt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Er(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,function(o,i){return B6(i<r.length,"Message reference must be in range"),r[i]});throw n=new Error(s),n.index=et,n.description=s,n}function z6(e){e.type===oI&&Er(e,lXt),e.type===Jy&&Er(e,sXt),e.type===iI&&Er(e,oXt),e.type===Y1&&Er(e,iXt),e.type===I0&&Er(e,aXt),Er(e,gi,e.value)}function oa(e){var t=ol();(t.type!==Qa||t.value!==e)&&z6(t)}function hs(e){return Br.type===Qa&&Br.value===e}function r7(e){return Br.type===I0&&Br.value===e}function IXt(){var e=[];for(et=Br.start,oa("[");!hs("]");)hs(",")?(ol(),e.push(null)):(e.push(X1()),hs("]")||oa(","));return ol(),kXt(e)}function che(){var e;return et=Br.start,e=ol(),e.type===iI||e.type===Jy?(e.octal&&Er(e,TMe),T$(e)):vte(e.value)}function NXt(){var e,t,n,r;if(et=Br.start,e=Br,e.type===Y1)return n=che(),oa(":"),r=X1(),uhe("init",n,r);if(e.type===oI||e.type===Qa)z6(e);else return t=che(),oa(":"),r=X1(),uhe("init",t,r)}function DXt(){var e=[],t,n,r,s={},o=String;for(et=Br.start,oa("{");!hs("}");)t=NXt(),t.key.type===_Me?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?Er({},uXt):s[r]=!0,e.push(t),hs("}")||oa(",");return oa("}"),TXt(e)}function OXt(){var e;return oa("("),e=yte(),oa(")"),e}var RXt={if:1};function FXt(){var e,t,n;if(hs("("))return OXt();if(hs("["))return IXt();if(hs("{"))return DXt();if(e=Br.type,et=Br.start,e===Y1||RXt[Br.value])n=vte(ol().value);else if(e===iI||e===Jy)Br.octal&&Er(Br,TMe),n=T$(ol());else{if(e===I0)throw new Error(YE);e===P6?(t=ol(),t.value=t.value==="true",n=T$(t)):e===L6?(t=ol(),t.value=null,n=T$(t)):hs("/")||hs("/=")?(n=T$(SXt()),DMe()):z6(ol())}return n}function MXt(){var e=[];if(oa("("),!hs(")"))for(;et<sa&&(e.push(X1()),!hs(")"));)oa(",");return oa(")"),e}function PXt(){var e;return et=Br.start,e=ol(),$Xt(e)||z6(e),vte(e.value)}function LXt(){return oa("."),PXt()}function BXt(){var e;return oa("["),e=yte(),oa("]"),e}function zXt(){var e,t,n;for(e=FXt();;)if(hs("."))n=LXt(),e=lhe(".",e,n);else if(hs("("))t=MXt(),e=EXt(e,t);else if(hs("["))n=BXt(),e=lhe("[",e,n);else break;return e}function fhe(){var e=zXt();if(Br.type===Qa&&(hs("++")||hs("--")))throw new Error(YE);return e}function L3(){var e,t;if(Br.type!==Qa&&Br.type!==I0)t=fhe();else{if(hs("++")||hs("--"))throw new Error(YE);if(hs("+")||hs("-")||hs("~")||hs("!"))e=ol(),t=L3(),t=AXt(e.value,t);else{if(r7("delete")||r7("void")||r7("typeof"))throw new Error(YE);t=fhe()}}return t}function dhe(e){var t=0;if(e.type!==Qa&&e.type!==I0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function VXt(){var e,t,n,r,s,o,i,a,l,u;if(e=Br,l=L3(),r=Br,s=dhe(r),s===0)return l;for(r.prec=s,ol(),t=[e,Br],i=L3(),o=[l,r,i];(s=dhe(Br))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=ahe(a,l,i),o.push(n);r=ol(),r.prec=s,o.push(r),t.push(Br),n=L3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=ahe(o[u-1].value,o[u-2],n),u-=2;return n}function X1(){var e,t,n;return e=VXt(),hs("?")&&(ol(),t=X1(),oa(":"),n=X1(),e=_Xt(e,t,n)),e}function yte(){var e=X1();if(hs(","))throw new Error(YE);return e}function WXt(e){on=e,et=0,sa=on.length,Br=null,DMe();var t=yte();if(Br.type!==oI)throw new Error("Unexpect token after expression.");return t}function PC(e,t,n){return e.fields=t||[],e.fname=n,e}function UXt(e){return e.length===1?jXt(e[0]):HXt(e)}const jXt=e=>function(t){return t[e]},HXt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function s7(e){throw Error(e)}function qXt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||s7("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&s7("Access path missing closing bracket: "+e),r&&s7("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function GXt(e,t,n){const r=qXt(e);return e=r.length===1?r[0]:e,PC(UXt(r),[e],e)}GXt("id");PC(e=>e,[],"identity");PC(()=>0,[],"zero");PC(()=>1,[],"one");PC(()=>!0,[],"true");PC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));function Pj(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...Pj(e.object)),t.push(...Pj(e.property))),t)}function OMe(e){return e.object.type==="MemberExpression"?OMe(e.object):e.object.name==="datum"}function RMe(e){const t=WXt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&OMe(r)&&n.add(Pj(r).slice(1).join("."))}),n}class LC extends Jr{constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=qF(this.model,this.filter,this),this._dependentFields=RMe(this.expr)}clone(){return new LC(null,this.model,er(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function KXt(e,t){var n;const r={},s=e.config.selection;for(const o of kt(t??{})){const i=er(t[o]),a=s[i.type],{fields:l,encodings:u}=a,c=mn(a,["fields","encodings"]);for(const h in c)h==="encodings"&&i.fields||h==="fields"&&i.encodings||(h==="mark"&&(i[h]=Object.assign(Object.assign({},c[h]),i[h])),(i[h]===void 0||i[h]===!0)&&(i[h]=(n=c[h])!==null&&n!==void 0?n:i[h]));const f=ks(o),d=r[f]=Object.assign(Object.assign({},i),{name:f,events:Qn(i.on)?jy(i.on,"scope"):er(i.on)});M6(d,h=>{h.has(d)&&h.parse&&h.parse(e,d,i,t[o])})}return r}function FMe(e,t,n,r="datum"){const s=[];function o(a){const l=ks(a),u=e.getSelectionComponent(l,a),c=gr(l+K1);if(u.project.timeUnit){const f=n??e.component.data.raw,d=u.project.timeUnit.clone();f.parent?d.insertAsParentOf(f):f.parent=d}return u.empty!=="none"&&s.push(c),`vlSelectionTest(${c}, ${r}`+(u.resolve==="global"?")":`, ${gr(u.resolve)})`)}const i=ik(t,o);return(s.length?"!("+s.map(a=>`length(data(${a}))`).join(" || ")+") || ":"")+`(${i})`}function MMe(e,t){const n=t.encoding;let r=t.field;if(!n&&!r)r=e.project.items[0].field,e.project.items.length>1&&Ct(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${gr(r)}.`);else if(n&&!r){const s=e.project.items.filter(o=>o.channel===n);!s.length||s.length>1?(r=e.project.items[0].field,Ct((s.length?"Multiple ":"No ")+`matching ${gr(n)} encoding found for selection ${gr(t.selection)}. Using "field": ${gr(r)}.`)):r=s[0].field}return`${e.name}[${gr(r)}]`}function YXt(e,t){Zy(e,n=>{const r=n.name,s=e.getName(`lookup_${r}`);e.component.data.outputNodes[s]=n.materialized=new Na(new LC(t,e,{selection:r}),s,"lookup",e.component.data.outputNodeRefCounts)})}function qF(e,t,n){return ik(t,r=>Qn(r)?r:Pqt(r)?FMe(e,r.selection,n):rFe(r))}function XXt(e,t){if(e)return wn(e)&&!Cg(e)?e.map(n=>AFe(n,t)).join(", "):e}function o7(e,t,n,r){var s,o,i;e.encode=(s=e.encode)!==null&&s!==void 0?s:{},e.encode[t]=(o=e.encode[t])!==null&&o!==void 0?o:{},e.encode[t].update=(i=e.encode[t].update)!==null&&i!==void 0?i:{},e.encode[t].update[n]=r}function A$(e,t,n,r={header:!1}){var s,o;const i=e.combine(),{disable:a,orient:l,scale:u,labelExpr:c,title:f,zindex:d}=i,h=mn(i,["disable","orient","scale","labelExpr","title","zindex"]);if(!a){for(const p in h){const g=Mjt[p],m=h[p];if(g&&g!==t&&g!=="both")delete h[p];else if(xee(m)){const{condition:v}=m,y=mn(m,["condition"]),b=Js(v),w=Cde[p];if(w){const{vgProp:C,part:S}=w,$=[...b.map(k=>{const{test:T}=k,_=mn(k,["test"]);return Object.assign({test:qF(null,T)},_)}),y];o7(h,S,C,$),delete h[p]}else if(w===null){const C={signal:b.map(S=>{const{test:$}=S,k=mn(S,["test"]);return`${qF(null,$)} ? ${zde(k)} : `}).join("")+zde(y)};h[p]=C}}else if(An(m)){const v=Cde[p];if(v){const{vgProp:y,part:b}=v;o7(h,b,y,m),delete h[p]}}}if(t==="grid"){if(!h.grid)return;if(h.encode){const{grid:p}=h.encode;h.encode=Object.assign({},p?{grid:p}:{}),ns(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:u,orient:l},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:uo(d,0)})}else{if(!r.header&&e.mainExtracted)return;if(c!==void 0){let g=c;!((o=(s=h.encode)===null||s===void 0?void 0:s.labels)===null||o===void 0)&&o.update&&An(h.encode.labels.update.text)&&(g=Sx(c,"datum.label",h.encode.labels.update.text.signal)),o7(h,"labels","text",{signal:g})}if(h.labelAlign===null&&delete h.labelAlign,h.encode){for(const g of CRe)e.hasAxisPart(g)||delete h.encode[g];ns(h.encode)&&delete h.encode}const p=XXt(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},p?{title:p}:{}),h),n.aria===!1?{aria:!1}:{}),{zindex:uo(d,0)})}}}function PMe(e){const{axes:t}=e.component,n=[];for(const r of Uu)if(t[r]){for(const s of t[r])if(!s.get("disable")&&!s.get("gridScale")){const o=r==="x"?"height":"width",i=e.getSizeSignalRef(o).signal;o!==i&&n.push({name:o,update:i})}}return n}function ZXt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(s=>A$(s,"grid",t)),...r.map(s=>A$(s,"grid",t)),...n.map(s=>A$(s,"main",t)),...r.map(s=>A$(s,"main",t))].filter(s=>s)}const LMe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},BMe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},JXt=kt(LMe),QXt=kt(BMe);function hhe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(s=>{if(s==="axisOrient"){const o=n==="x"?"bottom":"left",i=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...kt(i),...kt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${HE(i[c])} : ${HE(a[c])}`};return u}return t[s]})])}function eZt(e,t,n,r){const s=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Yqt(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",i=An(n)?"axisOrient":"axis"+u6(n),a=[...s,...s.map(u=>o+u.substr(4))],l=["axis",i,o];return{vlOnlyAxisConfig:hhe(a,r,e,n),vgAxisConfig:hhe(l,r,e,n),axisConfigStyle:tZt([...l,...a],r)}}function tZt(e,t){var n;const r=[{}];for(const s of e){let o=(n=t[s])===null||n===void 0?void 0:n.style;if(o){o=Js(o);for(const i of o)r.push(t.style[i])}}return Object.assign.apply(null,r)}function Lj(e,t,n,r={}){var s;const o=RFe(e,n,t.style);if(o!==void 0)return{configFrom:"style",configValue:o};for(const i of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[i])===null||s===void 0?void 0:s[e])!==void 0)return{configFrom:i,configValue:r[i][e]};return{}}const phe={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:s}=n;return gFe(e,e.type,r,s,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return mFe(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return Bt(e)&&ka(e.bin)?!1:(r=t.grid)!==null&&r!==void 0?r:nZt(n,e)},gridScale:({model:e,channel:t})=>rZt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||VMe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||zMe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return(r=e.labelFlush)!==null&&r!==void 0?r:oZt(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return(r=e.labelOverlap)!==null&&r!==void 0?r:iZt(t.type,n)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:s})=>{var o;const i=e==="x"?"width":e==="y"?"height":void 0,a=i?t.getSizeSignalRef(i):void 0;return(o=n.tickCount)!==null&&o!==void 0?o:lZt({fieldOrDatumDef:r,scaleType:s,size:a,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=WMe(t,n);if(r!==void 0)return r;const s=t.typedFieldDef(n),o=n==="x"?"x2":"y2",i=t.fieldDef(o);return MFe(s?[Bde(s)]:[],Bt(i)?[Bde(i)]:[])},values:({axis:e,fieldOrDatumDef:t})=>uZt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return(r=e.zindex)!==null&&r!==void 0?r:cZt(n,t)}};function nZt(e,t){return!Tl(e)&&Bt(t)&&!ls(t?.bin)}function rZt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function sZt(e,t,n,r,s){const o=t?.labelAngle;if(o!==void 0)return An(o)?o:NF(o);{const{configValue:i}=Lj("labelAngle",e.config,t?.style,s);return i!==void 0?NF(i):n===Rs&&Cn([zee,Bee],r.type)?270:void 0}}function Bj(e){return`(((${e.signal} % 360) + 360) % 360)`}function zMe(e,t,n,r){if(e!==void 0)if(n==="x"){if(An(e)){const s=Bj(e),o=An(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${s} && ${s} < 135) || (225 < ${s} && ${s} < 315) ? "middle" :(${s} <= 45 || 315 <= ${s}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(An(t)){const s=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${s} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(An(e)){const s=Bj(e),o=An(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${s} <= 45 || 315 <= ${s} || (135 <= ${s} && ${s} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${s} && ${s} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(An(t)){const s=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${s} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function VMe(e,t,n){if(e===void 0)return;const r=n==="x",s=r?0:90,o=r?"bottom":"left";if(An(e)){const i=Bj(e),a=An(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${s?"("+i+" + 90)":i} % 180 === 0) ? ${r?null:'"center"'} :(${s} < ${i} && ${i} < ${180+s}) === ${a} ? "left" : "right"`}}if((e+s)%180===0)return r?null:"center";if(An(t)){const i=s<e&&e<180+s?"===":"!==";return{signal:`${`${t.signal} ${i} "${o}"`} ? "left" : "right"`}}return(s<e&&e<180+s)==(t===o)?"left":"right"}function oZt(e,t){if(t==="x"&&Cn(["quantitative","temporal"],e))return!0}function iZt(e,t){if(e!=="nominal")return t==="log"?"greedy":!0}function aZt(e){return e==="x"?"bottom":"left"}function lZt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var s;if(!r&&!Tl(t)&&t!=="log"){if(Bt(e)){if(ls(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Cn(["month","hours","day","quarter"],(s=Ba(e.timeUnit))===null||s===void 0?void 0:s.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function WMe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),s=e.fieldDef(n),o=r?r.title:void 0,i=s?s.title:void 0;if(o&&i)return PFe(o,i);if(o)return o;if(i)return i;if(o!==void 0)return o;if(i!==void 0)return i}function uZt(e,t){const n=e.values;if(wn(n))return NFe(t,n);if(An(n))return n}function cZt(e,t){return e==="rect"&&$Fe(t)?1:0}class Tx extends Jr{constructor(t,n){super(t),this.transform=n,this._dependentFields=RMe(this.transform.calculate)}clone(){return new Tx(null,er(this.transform))}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,s)=>{if(Yee(r)&&wFe(r.sort)){const{field:o,timeUnit:i}=r,a=r.sort,l=a.map((u,c)=>`${rFe({field:o,timeUnit:i,equal:u})} ? ${c} : `).join("")+a.length;t=new Tx(t,{calculate:l,as:Ax(r,s,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${br(this.transform)}`}}function Ax(e,t,n){return It(e,Object.assign({prefix:t,suffix:"sort_index"},n??{}))}function V6(e,t){return Cn(["top","bottom"],t)?"column":Cn(["left","right"],t)||e==="row"?"row":"column"}function Ix(e,t,n,r){const s=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return uo((t?.header||{})[e],s[e],n.header[e])}function W6(e,t,n,r){const s={};for(const o of e){const i=Ix(o,t,n,r);i!==void 0&&(s[o]=i)}return s}const bte=["row","column"],wte=["header","footer"];function fZt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,s=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:i,titleOrient:a}=W6(["titleAnchor","titleAngle","titleOrient"],s,r,t),l=V6(t,a),u=NF(i);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),jMe(u,l)),UMe(l,u,o)),HMe(r,s,t,JXt,LMe))}}function UMe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=VMe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function jMe(e,t){const n=zMe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function dZt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const s of wte)if(n[s])for(const o of n[s]){const i=pZt(e,t,s,n,o);i!=null&&r.push(i)}return r}function hZt(e,t){var n;const{sort:r}=e;return Jf(r)?{field:It(r,{expr:"datum"}),order:(n=r.order)!==null&&n!==void 0?n:"ascending"}:wn(r)?{field:Ax(e,t,{expr:"datum"}),order:"ascending"}:{field:It(e,{expr:"datum"}),order:r??"ascending"}}function zj(e,t,n){const{format:r,formatType:s,labelAngle:o,labelAnchor:i,labelOrient:a,labelExpr:l}=W6(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),u=Uee({fieldOrDatumDef:e,format:r,formatType:s,expr:"parent",config:n}).signal,c=V6(t,a);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?Sx(Sx(l,"datum.label",u),"datum.value",It(e,{expr:"parent"})):u}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),jMe(o,c)),UMe(c,o,i)),HMe(n,e,t,QXt,BMe))}function pZt(e,t,n,r,s){if(s){let o=null;const{facetFieldDef:i}=r,a=e.config?e.config:void 0;if(i&&s.labels){const{labelOrient:f}=W6(["labelOrient"],i,a,t);(t==="row"&&!Cn(["top","bottom"],f)||t==="column"&&!Cn(["left","right"],f))&&(o=zj(i,t,a))}const l=Ic(e)&&!eI(e.facet),u=s.axes,c=u?.length>0;if(o||c){const f=t==="row"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:hZt(i,t)}:{}),c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),o?{title:o}:{}),s.sizeSignal?{encode:{update:{[f]:s.sizeSignal}}}:{}),c?{axes:u}:{})}}return null}const gZt={column:{start:0,end:1},row:{start:1,end:0}};function mZt(e,t){return gZt[t][e]}function vZt(e,t){const n={};for(const r of Tu){const s=e[r];if(s?.facetFieldDef){const{titleAnchor:o,titleOrient:i}=W6(["titleAnchor","titleOrient"],s.facetFieldDef,t,r),a=V6(r,i),l=mZt(o,a);l!==void 0&&(n[a]=l)}}return ns(n)?void 0:n}function HMe(e,t,n,r,s){const o={};for(const i of r){if(!s[i])continue;const a=Ix(i,t,e,n);a!==void 0&&(o[s[i]]=a)}return o}function xte(e){return[...GN(e,"width"),...GN(e,"height"),...GN(e,"childWidth"),...GN(e,"childHeight")]}function GN(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const s=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const i=o.get("type"),a=o.get("range");if(Tl(i)&&T0(a)){const l=e.scaleName(n);return Ic(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[ghe(l,a)]:[ghe(l,a),{name:s,update:qMe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=s.endsWith("width"),i=o?"containerSize()[0]":"containerSize()[1]",a=Ij(e.config.view,o?"width":"height"),l=`isFinite(${i}) ? ${i} : ${a}`;return[{name:s,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:s,value:r}]}function ghe(e,t){return{name:e+"_step",value:t.step}}function qMe(e,t,n){const r=t.get("type"),s=t.get("padding"),o=uo(t.get("paddingOuter"),s);let i=t.get("paddingInner");return i=r==="band"?i!==void 0?i:s:1,`bandspace(${n}, ${i}, ${o}) * ${e}_step`}function GMe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function KMe(e,t){return kt(e).reduce((n,r)=>{const s=e[r];return Object.assign(Object.assign({},n),rI(t,s,r,o=>An(o)?o:{value:o.value}))},{})}function yZt(e,t){if(VC(t)||Ic(t))return"shared";if(Ete(t))return xd(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function Cte(e,t){const n=e.scale[t],r=xd(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ct(nqt(t)),"independent"):e[r][t]||"shared"}const bZt=Object.assign(Object.assign({},KGt),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),YMe=kt(bZt);class wZt extends zp{}const mhe={symbols:xZt,gradient:CZt,labels:SZt,entries:$Zt};function xZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:s,legendType:o}){var i,a,l,u,c;if(o!=="symbol")return;const{markDef:f,encoding:d,config:h,mark:p}=n,g=f.filled&&p!=="trail";let m=Object.assign(Object.assign({},_Gt({},n,Ujt)),dMe(n,{filled:g}));const v=(i=XMe(d.opacity))!==null&&i!==void 0?i:f.opacity;if(m.fill){if(r==="fill"||g&&r===El)delete m.fill;else if(m.fill.field)s.get("symbolFillColor")?delete m.fill:(m.fill=Ys((a=h.legend.symbolBaseFillColor)!==null&&a!==void 0?a:"black"),m.fillOpacity=Ys(v??1));else if(wn(m.fill)){const y=(c=(u=Vj((l=d.fill)!==null&&l!==void 0?l:d.color))!==null&&u!==void 0?u:f.fill)!==null&&c!==void 0?c:g&&f.color;y&&(m.fill=Ys(y))}}if(m.stroke){if(r==="stroke"||!g&&r===El)delete m.stroke;else if(m.stroke.field)delete m.stroke;else if(wn(m.stroke)){const y=uo(Vj(d.stroke||d.color),f.stroke,g?f.color:void 0);y&&(m.stroke={value:y})}}if(r!==Bp){const y=Bt(t)&&JMe(n,s,t);y?m.opacity=[Object.assign({test:y},Ys(v??1)),Ys(h.legend.unselectedOpacity)]:v&&(m.opacity=Ys(v))}return m=Object.assign(Object.assign({},m),e),ns(m)?void 0:m}function CZt(e,{model:t,legendType:n}){if(n!=="gradient")return;let r={};const s=XMe(t.encoding.opacity)||t.markDef.opacity;return s&&(r.opacity=Ys(s)),r=Object.assign(Object.assign({},r),e),ns(r)?void 0:r}function SZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:s}){const o=n.legend(r)||{},i=n.config,a=Bt(t)?JMe(n,s,t):void 0,l=a?[{test:a,value:1},{value:i.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o,f=q1(c)?jee({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:i}):void 0,d=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),f?{text:f}:{}),e);return ns(d)?void 0:d}function $Zt(e,{legendCmpt:t}){const n=t.get("selections");return n?.length?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}function XMe(e){return ZMe(e,(t,n)=>Math.max(t,n.value))}function Vj(e){return ZMe(e,(t,n)=>uo(t,n.value))}function ZMe(e,t){if(vGt(e))return Js(e.condition).reduce(t,e.value);if(mp(e))return e.value}function JMe(e,t,n){const r=t.get("selections");if(!r?.length)return;const s=gr(n.field);return r.map(o=>`(!length(data(${gr(ks(o)+K1)})) || (${o}[${s}] && indexof(${o}[${s}], datum.value) >= 0))`).join(" || ")}const vhe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:s}=t;return gFe(e,e.type,r,s,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return mFe(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:s}=e;return(n=(t=r.gradientLength)!==null&&t!==void 0?t:s.gradientLength)!==null&&n!==void 0?n:NZt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,s;return(s=(r=e.labelOverlap)!==null&&r!==void 0?r:t.labelOverlap)!==null&&s!==void 0?s:DZt(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var s;return(s=e.symbolType)!==null&&s!==void 0?s:EZt(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>s1(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(yw(n)&&Cc(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>kZt(t,e)};function kZt(e,t){const n=e.values;if(wn(n))return NFe(t,n);if(An(n))return n}function EZt(e,t,n,r){var s;if(t!=="shape"){const o=(s=Vj(n))!==null&&s!==void 0?s:r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function _Zt(e){const{legend:t}=e;return uo(t.type,TZt(e))}function TZt({channel:e,timeUnit:t,scaleType:n}){if(yw(e)){if(Cn(["quarter","month","day"],t))return"symbol";if(Cc(n))return"gradient"}return"symbol"}function AZt({legendConfig:e,legendType:t,orient:n,legend:r}){var s,o;return(o=(s=r.direction)!==null&&s!==void 0?s:e[t?"gradientDirection":"symbolDirection"])!==null&&o!==void 0?o:IZt(n,t)}function IZt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function NZt({legendConfig:e,model:t,direction:n,orient:r,scaleType:s}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:i,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Cc(s))return n==="horizontal"?r==="top"||r==="bottom"?yhe(t,"width",i,o):i:yhe(t,"height",l,a)}function yhe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function DZt(e){if(Cn(["quantile","threshold","log"],e))return"greedy"}function QMe(e){const t=Bs(e)?OZt(e):PZt(e);return e.component.legends=t,t}function OZt(e){const{encoding:t}=e,n={};for(const r of[El,...JFe]){const s=wo(t[r]);!s||!e.getScaleComponent(r)||r===_l&&Bt(s)&&s.type===MC||(n[r]=MZt(e,r))}return n}function RZt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function FZt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function MZt(e,t){var n,r,s;let o=e.legend(t);const{markDef:i,encoding:a,config:l}=e,u=l.legend,c=new wZt({},RZt(e,t));vYt(e,t,c);const f=o!==void 0?!o:u.disable;if(c.set("disable",f,o!==void 0),f)return c;o=o||{};const d=e.getScaleComponent(t).get("type"),h=wo(a[t]),p=Bt(h)?(n=Ba(h.timeUnit))===null||n===void 0?void 0:n.unit:void 0,g=o.orient||l.legend.orient||"right",m=_Zt({legend:o,channel:t,timeUnit:p,scaleType:d}),v=AZt({legend:o,legendType:m,orient:g,legendConfig:u}),y={legend:o,channel:t,model:e,markDef:i,encoding:a,fieldOrDatumDef:h,legendConfig:u,config:l,scaleType:d,orient:g,legendType:m,direction:v};for(const $ of YMe){const k=$ in vhe?vhe[$](y):o[$];if(k!==void 0){const T=FZt(k,$,o,e.fieldDef(t));(T||l.legend[$]===void 0)&&c.set($,k,T)}}const b=(r=o?.encoding)!==null&&r!==void 0?r:{},w=c.get("selections"),C={},S={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:c,legendType:m};for(const $ of["labels","legend","title","symbols","gradient","entries"]){const k=KMe((s=b[$])!==null&&s!==void 0?s:{},e),T=$ in mhe?mhe[$](k,S):k;T!==void 0&&!ns(T)&&(C[$]=Object.assign(Object.assign(Object.assign({},w?.length&&Bt(h)?{name:`${ks(h.field)}_legend_${$}`}:{}),w?.length?{interactive:!!w}:{}),{update:T}))}return ns(C)||c.set("encode",C,!!o?.encoding),c}function PZt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){QMe(r);for(const s of kt(r.component.legends))n.legend[s]=Cte(e.component.resolve,s),n.legend[s]==="shared"&&(t[s]=e4e(t[s],r.component.legends[s]),t[s]||(n.legend[s]="independent",delete t[s]))}for(const r of kt(t))for(const s of e.children)s.component.legends[r]&&n.legend[r]==="shared"&&delete s.component.legends[r];return t}function e4e(e,t){var n,r,s,o;if(!e)return t.clone();const i=e.getWithExplicit("orient"),a=t.getWithExplicit("orient");if(i.explicit&&a.explicit&&i.value!==a.value)return;let l=!1;for(const u of YMe){const c=Hm(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return LZt(f,d);case"title":return LFe(f,d);case"type":return l=!0,Pl("symbol")}return R6(f,d,u,"legend")});e.setWithExplicit(u,c)}return l&&(!((r=(n=e.implicit)===null||n===void 0?void 0:n.encode)===null||r===void 0)&&r.gradient&&$j(e.implicit,["encode","gradient"]),!((o=(s=e.explicit)===null||s===void 0?void 0:s.encode)===null||o===void 0)&&o.gradient&&$j(e.explicit,["encode","gradient"])),e}function LZt(e,t){return t.value==="circle"?t:e}function bhe(e,t,n,r){var s,o,i;e.encode=(s=e.encode)!==null&&s!==void 0?s:{},e.encode[t]=(o=e.encode[t])!==null&&o!==void 0?o:{},e.encode[t].update=(i=e.encode[t].update)!==null&&i!==void 0?i:{},e.encode[t].update[n]=r}function t4e(e){const t=e.component.legends,n={};for(const s of kt(t)){const o=e.getScaleComponent(s),i=Ss(o.get("domains"));if(n[i])for(const a of n[i])e4e(a,t[s])||n[i].push(t[s]);else n[i]=[t[s].clone()]}return rm(n).flat().map(s=>BZt(s,e.config)).filter(s=>s!==void 0)}function BZt(e,t){var n,r,s;const o=e.combine(),{disable:i,labelExpr:a,selections:l}=o,u=mn(o,["disable","labelExpr","selections"]);if(!i){if(t.aria===!1&&u.aria==null&&(u.aria=!1),!((n=u.encode)===null||n===void 0)&&n.symbols){const c=u.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!u.stroke&&(c.stroke={value:"transparent"});for(const f of JFe)u[f]&&delete c[f]}if(u.title||delete u.title,a!==void 0){let c=a;!((s=(r=u.encode)===null||r===void 0?void 0:r.labels)===null||s===void 0)&&s.update&&An(u.encode.labels.update.text)&&(c=Sx(a,"datum.label",u.encode.labels.update.text.signal)),bhe(u,"labels","text",{signal:c})}for(const c in u){const f=u[c];if(An(f)){const d=qGt[c];if(d){const{vgProp:h,part:p}=d;bhe(u,p,h,f),delete u[c]}}}return u}}function zZt(e){return VC(e)||Ete(e)?VZt(e):n4e(e)}function VZt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),n4e(e))}function n4e(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const s={signal:`[${t.size.map(i=>i.signal).join(", ")}]`},o=t.data.reduce((i,a)=>{const l=An(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Cn(i,l)||i.push(l),i},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:s,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}else return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const WZt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class r4e extends zp{constructor(t,n,r,s){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=r,this.data=s,this.merged=!1}get isFit(){return!!this.data}}function s4e(e){e.component.projection=Bs(e)?UZt(e):qZt(e)}function UZt(e){var t;if(e.hasProjection){const n=e.specifiedProjection,r=!(n&&(n.scale!=null||n.translate!=null)),s=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?jZt(e):void 0;return new r4e(e.projectionName(!0),Object.assign(Object.assign({},(t=e.config.projection)!==null&&t!==void 0?t:{}),n??{}),s,o)}}function jZt(e){const t=[],{encoding:n}=e;for(const r of[[Kd,Gd],[Wu,uf]])(wo(n[r[0]])||wo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(_l)&&e.typedFieldDef(_l).type===MC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Pi)),t}function HZt(e,t){const n=mRe(WZt,s=>!!(!Rv(e.explicit,s)&&!Rv(t.explicit,s)||Rv(e.explicit,s)&&Rv(t.explicit,s)&&Ss(e.get(s))===Ss(t.get(s))));if(Ss(e.size)===Ss(t.size)){if(n)return e;if(Ss(e.explicit)===Ss({}))return t;if(Ss(t.explicit)===Ss({}))return e}return null}function qZt(e){if(e.children.length===0)return;let t;for(const r of e.children)s4e(r);const n=mRe(e.children,r=>{const s=r.component.projection;if(s)if(t){const o=HZt(t,s);return o&&(t=o),!!o}else return t=s,!0;else return!0});if(t&&n){const r=e.projectionName(!0),s=new r4e(r,t.specifiedProjection,t.size,er(t.data));for(const o of e.children){const i=o.component.projection;i&&(i.isFit&&s.data.push(...o.component.projection.data),o.renameProjection(i.get("name"),r),i.merged=!0)}return s}}function GZt(e,t,n,r){var s,o;if(nI(t,n)){const i=Bs(e)?(o=(s=e.axis(n))!==null&&s!==void 0?s:e.legend(n))!==null&&o!==void 0?o:{}:{},a=It(t,{expr:"datum"}),l=It(t,{expr:"datum",binSuffix:"end"});return{formulaAs:It(t,{binSuffix:"range",forAs:!0}),formula:E6(a,l,i.format,i.formatType,r)}}return{}}function o4e(e,t){return`${BRe(e)}_${t}`}function KZt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Ste(e,t,n){var r;const s=(r=I6(n,void 0))!==null&&r!==void 0?r:{},o=o4e(s,t);return e.getName(`${o}_bins`)}function YZt(e){return"as"in e}function whe(e,t,n){let r,s;YZt(e)?r=Qn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[It(e,{forAs:!0}),It(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},I6(t,void 0)),i=o4e(o,e.field),{signal:a,extentSignal:l}=KZt(n,i);if($6(o.extent)){const c=o.extent,f=c.selection;s=MMe(n.getSelectionComponent(ks(f),f),c),delete o.extent}const u=Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},a?{signal:a}:{}),l?{extentSignal:l}:{}),s?{span:s}:{});return{key:i,binComponent:u}}class ed extends Jr{constructor(t,n){super(t),this.bins=n}clone(){return new ed(null,er(this.bins))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((s,o,i)=>{if(iu(o)&&ls(o.bin)){const{key:a,binComponent:l}=whe(o,o.bin,n);s[a]=Object.assign(Object.assign(Object.assign({},l),s[a]),GZt(n,o,i,n.config))}return s},{});return ns(r)?null:new ed(t,r)}static makeFromTransform(t,n,r){const{key:s,binComponent:o}=whe(n,n.bin,r);return new ed(t,{[s]:o})}merge(t,n){for(const r of kt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Wg([...this.bins[r].as,...t.bins[r].as],br)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(rm(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(rm(this.bins).map(t=>t.field))}hash(){return`Bin ${br(this.bins)}`}assemble(){return rm(this.bins).flatMap(t=>{const n=[],[r,...s]=t.as,o=t.bin,{extent:i}=o,a=mn(o,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:Wm(t.field),as:r,signal:t.signal},$6(i)?{extent:null}:{extent:i}),t.span?{span:{signal:`span(${t.span})`}}:{}),a);!i&&t.extentSignal&&(n.push({type:"extent",field:Wm(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),n.push(l);for(const u of s)for(let c=0;c<2;c++)n.push({type:"formula",expr:It({field:r[c]},{expr:"datum"}),as:u[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}class Nx extends Jr{constructor(t){super(null),t=t??{name:"source"};let n;if(i1(t)||(n=t.format?Object.assign({},Gh(t.format,["parse"])):{}),VF(t))this._data={values:t.values};else if(GE(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Cn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else lMe(t)?this._data={values:[{type:"Sphere"}]}:(iMe(t)||i1(t))&&(this._data={});this._generator=i1(t),t.name&&(this._name=t.name),n&&!ns(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}function Wj(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return console.error("Dataflow graph is inconsistent.",t,n),!1;if(!Wj(t.children))return!1}return!0}class lI extends Jr{constructor(t,n){super(t),this.params=n}clone(){return new lI(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${br(this.params)}`}assemble(){return Object.assign({type:"graticule"},this.params===!0?{}:this.params)}}class uI extends Jr{constructor(t,n){super(t),this.params=n}clone(){return new uI(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([(t=this.params.as)!==null&&t!==void 0?t:"data"])}hash(){return`Hash ${br(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}function U6(e){return e instanceof Nx||e instanceof lI||e instanceof uI}class i4e{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class Vp extends i4e{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:t,mutatedFlag:n}){t&&this.setContinue(),n&&this.setMutated()}reset(){}optimizeNextFromLeaves(t){if(U6(t))return!1;const n=t.parent,{continueFlag:r}=this.run(t);return r&&this.optimizeNextFromLeaves(n),this.mutatedFlag}}class $te extends i4e{}function XZt(e,t,n,r){const s=Bs(r)?r.encoding[Zd(t)]:void 0;if(iu(n)&&Bs(r)&&qee(t,n,s,r.stack,r.markDef,r.config))e.add(It(n,{})),e.add(It(n,{suffix:"end"})),n.bin&&nI(n,t)&&e.add(It(n,{binSuffix:"range"}));else if(aHt(t)){const o=iHt(t);e.add(r.getName(o))}else e.add(It(n));return e}function ZZt(e,t){var n;for(const r of kt(t)){const s=t[r];for(const o of kt(s))r in e?e[r][o]=new Set([...(n=e[r][o])!==null&&n!==void 0?n:[],...s[o]]):e[r]={[o]:s[o]}}}class Ac extends Jr{constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}clone(){return new Ac(null,new Set(this.dimensions),er(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(i=>{i.aggregate&&(r=!0)});const s={},o=new Set;return!r||(n.forEachFieldDef((i,a)=>{var l,u,c,f;const{aggregate:d,field:h}=i;if(d)if(d==="count")s["*"]=(l=s["*"])!==null&&l!==void 0?l:{},s["*"].count=new Set([It(i,{forAs:!0})]);else{if(Um(d)||Ky(d)){const p=Um(d)?"argmin":"argmax",g=d[p];s[g]=(u=s[g])!==null&&u!==void 0?u:{},s[g][p]=new Set([It({op:p,field:g},{forAs:!0})])}else s[h]=(c=s[h])!==null&&c!==void 0?c:{},s[h][d]=new Set([It(i,{forAs:!0})]);_0(a)&&n.scaleDomain(a)==="unaggregated"&&(s[h]=(f=s[h])!==null&&f!==void 0?f:{},s[h].min=new Set([It({field:h,aggregate:"min"},{forAs:!0})]),s[h].max=new Set([It({field:h,aggregate:"max"},{forAs:!0})]))}else XZt(o,a,i,n)}),o.size+kt(s).length===0)?null:new Ac(t,o,s)}static makeFromTransform(t,n){var r,s,o;const i=new Set,a={};for(const l of n.aggregate){const{op:u,field:c,as:f}=l;u&&(u==="count"?(a["*"]=(r=a["*"])!==null&&r!==void 0?r:{},a["*"].count=new Set([f||It(l,{forAs:!0})])):(a[c]=(s=a[c])!==null&&s!==void 0?s:{},a[c][u]=new Set([f||It(l,{forAs:!0})])))}for(const l of(o=n.groupby)!==null&&o!==void 0?o:[])i.add(l);return i.size+kt(a).length===0?null:new Ac(t,i,a)}merge(t){return Ajt(this.dimensions,t.dimensions)?(ZZt(this.measures,t.measures),!0):(yqt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...kt(this.measures)])}producedFields(){const t=new Set;for(const n of kt(this.measures))for(const r of kt(this.measures[n])){const s=this.measures[n][r];s.size===0?t.add(`${r}_${n}`):s.forEach(t.add,t)}return t}hash(){return`Aggregate ${br({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of kt(this.measures))for(const i of kt(this.measures[o]))for(const a of this.measures[o][i])r.push(a),t.push(i),n.push(o==="*"?null:Wm(o));return{type:"aggregate",groupby:[...this.dimensions].map(Wm),ops:t,fields:n,as:r}}}class BC extends Jr{constructor(t,n,r,s){super(t),this.model=n,this.name=r,this.data=s;for(const o of Tu){const i=n.facet[o];if(i){const{bin:a,sort:l}=i;this[o]=Object.assign({name:n.getName(`${o}_domain`),fields:[It(i),...ls(a)?[It(i,{binSuffix:"end"})]:[]]},Jf(l)?{sortField:l}:wn(l)?{sortIndexField:Ax(i,o)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of Tu)this[n]&&(t+=` ${n.charAt(0)}:${br(this[n])}`);return t}get fields(){var t;const n=[];for(const r of Tu)!((t=this[r])===null||t===void 0)&&t.fields&&n.push(...this[r].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of Tu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Uu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const s=r.get("type"),o=r.get("range");if(Tl(s)&&T0(o)){const i=j6(this.childModel,n),a=kte(i);a?t[n]=a:Ct(`Unknown field for ${n}. Cannot calculate view size.`)}}}return t}assembleRowColumnHeaderData(t,n,r){const s={row:"y",column:"x"}[t],o=[],i=[],a=[];r&&r[s]&&(n?(o.push(`distinct_${r[s]}`),i.push("max")):(o.push(r[s]),i.push("distinct")),a.push(`distinct_${r[s]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=_6,field:f}=l;o.push(f),i.push(c),a.push(It(l,{forAs:!0}))}else u&&(o.push(u),i.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},o.length?{fields:o,ops:i,as:a}:{})]}}assembleFacetHeaderData(t){var n,r;const{columns:s}=this.model.layout,{layoutHeaders:o}=this.model.component,i=[],a={};for(const c of bte){for(const f of wte){const d=(n=o[c]&&o[c][f])!==null&&n!==void 0?n:[];for(const h of d)if(((r=h.axes)===null||r===void 0?void 0:r.length)>0){a[c]=!0;break}}if(a[c]){const f=`length(data("${this.facet.name}"))`,d=c==="row"?s?{signal:`ceil(${f} / ${s})`}:1:s?{signal:`min(${f}, ${s})`}:{signal:f};i.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:l,column:u}=a;return(l||u)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){var t,n;const r=[];let s=null;const o=this.getChildIndependentFieldsWithStep(),{column:i,row:a,facet:l}=this;if(i&&a&&(o.x||o.y)){s=`cross_${this.column.name}_${this.row.name}`;const u=[].concat((t=o.x)!==null&&t!==void 0?t:[],(n=o.y)!==null&&n!==void 0?n:[]),c=u.map(()=>"distinct");r.push({name:s,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:c}]})}for(const u of[Yh,Kh])this[u]&&r.push(this.assembleRowColumnHeaderData(u,s,o));if(l){const u=this.assembleFacetHeaderData(o);u&&r.push(...u)}return r}}function xhe(e){return e[0]==="'"&&e[e.length-1]==="'"||e[0]==='"'&&e[e.length-1]==='"'?e.slice(1,-1):e}function JZt(e,t){const n=wRe(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.indexOf("date:")===0){const r=xhe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.indexOf("utc:")===0){const r=xhe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ct(IHt(t)),null}function QZt(e){const t={};return F3(e.filter,n=>{var r;if(nFe(n)){let s=null;Fee(n)?s=n.equal:Mee(n)?s=n.range[0]:Pee(n)&&(s=((r=n.oneOf)!==null&&r!==void 0?r:n.in)[0]),s&&(RC(s)?t[n.field]="date":lo(s)?t[n.field]="number":Qn(s)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function eJt(e){const t={};function n(r){N6(r)?t[r.field]="date":r.type==="quantitative"&&tHt(r.aggregate)?t[r.field]="number":UE(r.field)>1?r.field in t||(t[r.field]="flatten"):Yee(r)&&Jf(r.sort)&&UE(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Bs(e)||Ic(e))&&e.forEachFieldDef((r,s)=>{if(iu(r))n(r);else{const o=Xy(s),i=e.fieldDef(o);n(Object.assign(Object.assign({},r),{type:i.type}))}}),Bs(e)){const{mark:r,markDef:s,encoding:o}=e;if(Gy(r)&&!e.encoding.order){const i=s.orient==="horizontal"?"y":"x",a=o[i];Bt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function tJt(e){const t={};if(Bs(e)&&e.component.selection)for(const n of kt(e.component.selection)){const r=e.component.selection[n];for(const s of r.project.items)!s.channel&&UE(s.field)>1&&(t[s.field]="flatten")}return t}class Yi extends Jr{constructor(t,n){super(t),this._parse=n}clone(){return new Yi(null,er(this._parse))}hash(){return`Parse ${br(this._parse)}`}static makeExplicit(t,n,r){let s={};const o=n.data;return!i1(o)&&o&&o.format&&o.format.parse&&(s=o.format.parse),this.makeWithAncestors(t,s,{},r)}static makeWithAncestors(t,n,r,s){for(const a of kt(r)){const l=s.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ct(Dde(a,r[a],l.value)))}for(const a of kt(n)){const l=s.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ct(Dde(a,n[a],l)))}const o=new zp(n,r);s.copyAll(o);const i={};for(const a of kt(o.combine())){const l=o.get(a);l!==null&&(i[a]=l)}return kt(i).length===0||s.parseNothing?null:new Yi(t,i)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of kt(this._parse)){const r=this._parse[n];UE(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(kt(this._parse))}dependentFields(){return new Set(kt(this._parse))}assembleTransforms(t=!1){return kt(this._parse).filter(n=>t?UE(n)>1:!0).map(n=>{const r=JZt(n,this._parse[n]);return r?{type:"formula",expr:r,as:xRe(n)}:null}).filter(n=>n!==null)}}class Km extends Jr{clone(){return new Km(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ex])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ex}}}class Qy extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new Qy(null,er(this.transform))}addDimensions(t){this.transform.groupby=Wg(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:It(t)}hash(){return`JoinAggregateTransform ${br(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const s=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},s!==void 0?{groupby:s}:{})}}function nJt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,s=It(r);return s&&t.push(s),t},[])}function rJt(e){return wn(e)&&e.every(t=>Qn(t))&&e.length>1}class Zh extends Jr{constructor(t,n){super(t),this._stack=n}clone(){return new Zh(null,er(this._stack))}static makeFromTransform(t,n){const{stack:r,groupby:s,as:o,offset:i="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(uo(f.order,"ascending"));const u={field:a,order:l};let c;return rJt(o)?c=o:Qn(o)?c=[o,o+"_end"]:c=[n.stack+"_start",n.stack+"_end"],new Zh(t,{stackField:r,groupby:s,offset:i,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:s}=n;if(!r)return null;const{groupbyChannel:o,fieldChannel:i,offset:a,impute:l}=r;let u;if(o){const h=s[o];u=Cd(h)}const c=nJt(n),f=n.encoding.order;let d;return wn(f)||Bt(f)?d=FFe(f):d=c.reduce((h,p)=>(h.field.push(p),h.order.push(i==="y"?"descending":"ascending"),h),{field:[],order:[]}),new Zh(t,{dimensionFieldDef:u,stackField:n.vgField(i),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(i,{suffix:"start",forAs:!0}),n.vgField(i,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${br(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:t,impute:n,groupby:r}=this._stack;return t?t.bin?n?[It(t,{binSuffix:"mid"})]:[It(t,{}),It(t,{binSuffix:"end"})]:[It(t)]:r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDef:r,stackField:s,stackby:o,sort:i,offset:a,impute:l,as:u}=this._stack;if(l&&r){const{band:c=.5,bin:f}=r;f&&t.push({type:"formula",expr:`${c}*`+It(r,{expr:"datum"})+`+${1-c}*`+It(r,{expr:"datum",binSuffix:"end"}),as:It(r,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:s,groupby:[...o,...n],key:It(r,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:s,sort:i,as:u,offset:a}),t}}class zC extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new zC(null,er(this.transform))}addDimensions(t){this.transform.groupby=Wg(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const r=new Set;return((t=this.transform.groupby)!==null&&t!==void 0?t:[]).forEach(r.add,r),((n=this.transform.sort)!==null&&n!==void 0?n:[]).forEach(s=>r.add(s.field)),this.transform.window.map(s=>s.field).filter(s=>s!==void 0).forEach(r.add,r),r}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:It(t)}hash(){return`WindowTransform ${br(this.transform)}`}assemble(){var t;const n=[],r=[],s=[],o=[];for(const d of this.transform.window)r.push(d.op),s.push(this.getDefaultName(d)),o.push(d.param===void 0?null:d.param),n.push(d.field===void 0?null:d.field);const i=this.transform.frame,a=this.transform.groupby;if(i&&i[0]===null&&i[1]===null&&r.every(d=>kee(d)))return Object.assign({type:"joinaggregate",as:s,ops:r,fields:n},a!==void 0?{groupby:a}:{});const l=[],u=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)l.push(d.field),u.push((t=d.order)!==null&&t!==void 0?t:"ascending");const c={field:l,order:u},f=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:s,ops:r,fields:n,sort:c},f!==void 0?{ignorePeers:f}:{}),a!==void 0?{groupby:a}:{}),i!==void 0?{frame:i}:{})}}class sJt extends Vp{run(t){const n=t.parent;if(t instanceof Yi){if(U6(n))return this.flags;if(n.numChildren()>1)return this.setContinue(),this.flags;if(n instanceof Yi)this.setMutated(),n.merge(t);else{if(yRe(n.producedFields(),t.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),t.swapWithParent()}}return this.setContinue(),this.flags}}class oJt extends $te{mergeNodes(t,n){const r=n.shift();for(const s of n)t.removeChild(s),s.parent=r,s.remove()}run(t){const n=t.children.map(s=>s.hash()),r={};for(let s=0;s<n.length;s++)r[n[s]]===void 0?r[n[s]]=[t.children[s]]:r[n[s]].push(t.children[s]);for(const s of kt(r))r[s].length>1&&(this.setMutated(),this.mergeNodes(t,r[s]));for(const s of t.children)this.run(s);return this.mutatedFlag}}class iJt extends Vp{run(t){return t instanceof Na||t.numChildren()>0||t instanceof BC?this.flags:(this.setMutated(),t.remove(),this.flags)}}class aJt extends Vp{constructor(){super(...arguments),this.fields=new Set,this.prev=null}run(t){if(this.setContinue(),t instanceof Qf){const n=t.producedFields();vRe(n,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([...this.fields,...n]),this.prev=t}return this.flags}reset(){this.fields.clear()}}class lJt extends Vp{run(t){this.setContinue();const r=t.parent.children.filter(o=>o instanceof Qf),s=r.pop();for(const o of r)this.setMutated(),s.merge(o);return this.flags}}function uJt(e){function t(n){if(!(n instanceof BC)){const r=n.clone();if(r instanceof Na){const s=jj+r.getSource();r.setSource(s),e.model.component.data.outputNodes[s]=r}else(r instanceof Ac||r instanceof Zh||r instanceof zC||r instanceof Qy)&&r.addDimensions(e.fields);for(const s of n.children.flatMap(t))s.parent=r;return[r]}return n.children.flatMap(t)}return t}function Uj(e){if(e instanceof BC)if(e.numChildren()===1&&!(e.children[0]instanceof Na)){const t=e.children[0];(t instanceof Ac||t instanceof Zh||t instanceof zC||t instanceof Qy)&&t.addDimensions(e.fields),t.swapWithParent(),Uj(e)}else{const t=e.model.component.data.main;a4e(t);const n=uJt(e),r=e.children.map(n).flat();for(const s of r)s.parent=t}else e.children.map(Uj)}function a4e(e){if(e instanceof Na&&e.type===Pi&&e.numChildren()===1){const t=e.children[0];t instanceof BC||(t.swapWithParent(),a4e(e))}}class cJt extends $te{constructor(){super()}run(t){t instanceof Na&&!t.isRequired()&&(this.setMutated(),t.remove());for(const n of t.children)this.run(n);return this.mutatedFlag}}class fJt extends $te{constructor(t){super(),this.requiresSelectionId=t&&gte(t)}run(t){t instanceof Km&&(this.requiresSelectionId&&(U6(t.parent)||t.parent instanceof Ac||t.parent instanceof Yi)||(this.setMutated(),t.remove()));for(const n of t.children)this.run(n);return this.mutatedFlag}}class dJt extends Vp{run(t){const n=t.parent,r=[...n.children],s=n.children.filter(o=>o instanceof Yi);if(n.numChildren()>1&&s.length>=1){const o={},i=new Set;for(const a of s){const l=a.parse;for(const u of kt(l))u in o?o[u]!==l[u]&&i.add(u):o[u]=l[u]}for(const a of i)delete o[a];if(!ns(o)){this.setMutated();const a=new Yi(n,o);for(const l of r){if(l instanceof Yi)for(const u of kt(o))delete l.parse[u];n.removeChild(l),l.parent=a,l instanceof Yi&&kt(l.parse).length===0&&l.remove()}}}return this.setContinue(),this.flags}}class hJt extends Vp{run(t){const n=t.parent,r=n.children.filter(o=>o instanceof Ac),s={};for(const o of r){const i=br(o.groupBy);i in s||(s[i]=[]),s[i].push(o)}for(const o of kt(s)){const i=s[o];if(i.length>1){const a=i.pop();for(const l of i)a.merge(l)&&(n.removeChild(l),l.parent=a,l.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class pJt extends Vp{constructor(t){super(),this.model=t}run(t){const n=t.parent,r=!(U6(n)||n instanceof LC||n instanceof Yi||n instanceof Km),s=[],o=[];for(const i of n.children)i instanceof ed&&(r&&!yRe(n.producedFields(),i.dependentFields())?s.push(i):o.push(i));if(s.length>0){const i=s.pop();for(const a of s)i.merge(a,this.model.renameSignal.bind(this.model));this.setMutated(),n instanceof ed?n.merge(i,this.model.renameSignal.bind(this.model)):i.swapWithParent()}if(o.length>1){const i=o.pop();for(const a of o)i.merge(a,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class gJt extends Vp{run(t){const n=t.parent,r=[...n.children];if(!WE(r,a=>a instanceof Na)||n.numChildren()<=1)return this.setContinue(),this.flags;const o=[];let i;for(const a of r)if(a instanceof Na){let l=a;for(;l.numChildren()===1;){const u=l.children[0];if(u instanceof Na)l=u;else break}o.push(...l.children),i?(n.removeChild(a),a.parent=i.parent,i.parent.removeChild(i),i.parent=l,this.setMutated()):i=l}else o.push(a);if(o.length){this.setMutated();for(const a of o)a.parent.removeChild(a),a.parent=i}return this.setContinue(),this.flags}}const jj="scale_",KN=5;function Qp(e){const t=[];function n(r){if(r.numChildren()===0)t.push(r);else for(const s of r.children)n(s)}for(const r of e)n(r);return t}function mJt(e){return e}function sc(e,t){return t.map(r=>{if(e instanceof Vp){const s=e.optimizeNextFromLeaves(r);return e.reset(),s}else return e.run(r)}).some(mJt)}function Che(e,t){let n=e.sources;const r=new Set;return r.add(sc(new cJt,n)),r.add(sc(new fJt(t),n)),n=n.filter(s=>s.numChildren()>0),r.add(sc(new iJt,Qp(n))),n=n.filter(s=>s.numChildren()>0),r.add(sc(new sJt,Qp(n))),r.add(sc(new pJt(t),Qp(n))),r.add(sc(new aJt,Qp(n))),r.add(sc(new dJt,Qp(n))),r.add(sc(new hJt,Qp(n))),r.add(sc(new lJt,Qp(n))),r.add(sc(new oJt,n)),r.add(sc(new gJt,Qp(n))),e.sources=n,r.has(!0)}function vJt(e,t){Wj(e.sources);let n=0,r=0;for(let s=0;s<KN&&Che(e,t);s++)n++;e.sources.map(Uj);for(let s=0;s<KN&&Che(e,t);s++)r++;Wj(e.sources),Math.max(n,r)===KN&&Ct(`Maximum optimization runs(${KN}) reached.`)}class Ql{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Ql(()=>t(n))}}function l4e(e){Bs(e)?yJt(e):bJt(e)}function yJt(e){const t=e.component.scales;for(const n of kt(t)){const r=xJt(e,n);if(t[n].setWithExplicit("domains",r),SJt(e,n),e.component.data.isFaceted){let o=e;for(;!Ic(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)Ug(a)&&(a.data=jj+a.data.replace(jj,""))}}}function bJt(e){for(const n of e.children)l4e(n);const t=e.component.scales;for(const n of kt(t)){let r,s=null;for(const o of e.children){const i=o.component.scales[n];if(i){r===void 0?r=i.getWithExplicit("domains"):r=Hm(r,i.getWithExplicit("domains"),"domains","scale",Hj);const a=i.get("selectionExtent");s&&a&&s.selection!==a.selection&&Ct("The same selection must be used to override scale domains in a layered view."),s=a}}t[n].setWithExplicit("domains",r),s&&t[n].set("selectionExtent",s,!0)}}function wJt(e,t,n,r){if(e==="unaggregated"){const{valid:s,reason:o}=She(t,n);if(!s){Ct(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:s}=She(t,n);if(s)return"unaggregated"}return e}function xJt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,s=wJt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return s!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:s})),t==="x"&&wo(r.x2)?wo(r.x)?Hm(ug(n,s,e,"x"),ug(n,s,e,"x2"),"domain","scale",Hj):ug(n,s,e,"x2"):t==="y"&&wo(r.y2)?wo(r.y)?Hm(ug(n,s,e,"y"),ug(n,s,e,"y2"),"domain","scale",Hj):ug(n,s,e,"y2"):ug(n,s,e,t)}function CJt(e,t,n){return e.map(r=>({signal:`{data: ${Jee(r,{timeUnit:n,type:t})}}`}))}function i7(e,t,n){var r;const s=(r=Ba(n))===null||r===void 0?void 0:r.unit;return t==="temporal"||s?CJt(e,t,s):[e]}function ug(e,t,n,r){const{encoding:s}=n,o=wo(s[r]),{type:i}=o,a=o.timeUnit;if(sGt(t)){const f=ug(e,void 0,n,r),d=i7(t.unionWith,i,a);return Fv([...f.value,...d])}else{if(An(t))return Fv([t]);if(t&&t!=="unaggregated"&&!oFe(t))return Fv(i7(t,i,a))}const l=n.stack;if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Pl([[0,1]]);const f=n.requestDataName(Pi);return Pl([{data:f,field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}])}const u=_0(r)&&Bt(o)?$Jt(n,r,e):void 0;if(A0(o)){const f=i7([o.datum],i,a);return Pl(f)}const c=o;if(t==="unaggregated"){const f=n.requestDataName(Pi),{field:d}=o;return Pl([{data:f,field:It({field:d,aggregate:"min"})},{data:f,field:It({field:d,aggregate:"max"})}])}else if(ls(c.bin)){if(Tl(e))return Pl(e==="bin-ordinal"?[]:[{data:IF(u)?n.requestDataName(Pi):n.requestDataName(WF),field:n.vgField(r,nI(c,r)?{binSuffix:"range"}:{}),sort:u===!0||!Ko(u)?{field:n.vgField(r,{}),op:"min"}:u}]);{const{bin:f}=c;if(ls(f)){const d=Ste(n,c.field,f);return Pl([new Ql(()=>{const h=n.getSignalName(d);return`[${h}.start, ${h}.stop]`})])}else return Pl([{data:n.requestDataName(Pi),field:n.vgField(r,{})}])}}else if(c.timeUnit&&Cn(["time","utc"],e)&&qee(r,c,Bs(n)?n.encoding[Zd(r)]:void 0,n.stack,n.markDef,n.config)){const f=n.requestDataName(Pi);return Pl([{data:f,field:n.vgField(r)},{data:f,field:n.vgField(r,{suffix:"end"})}])}else return Pl(u?[{data:IF(u)?n.requestDataName(Pi):n.requestDataName(WF),field:n.vgField(r),sort:u}]:[{data:n.requestDataName(Pi),field:n.vgField(r)}])}function a7(e,t){const{op:n,field:r,order:s}=e;return Object.assign(Object.assign({op:n??(t?"sum":_6)},r?{field:Wm(r)}:{}),s?{order:s}:{})}function SJt(e,t){var n;const r=e.component.scales[t],s=e.specifiedScales[t].domain,o=(n=e.fieldDef(t))===null||n===void 0?void 0:n.bin,i=oFe(s)&&s,a=QA(o)&&$6(o.extent)&&o.extent;(i||a)&&r.set("selectionExtent",i??a,!0)}function $Jt(e,t,n){if(!Tl(n))return;const r=e.fieldDef(t),s=r.sort;if(wFe(s))return{op:"min",field:Ax(r,t),order:"ascending"};const{stack:o}=e,i=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map(a=>a.fieldDef.field)]:void 0;if(Jf(s)){const a=o&&!Cn(i,s.field);return a7(s,a)}else if(bFe(s)){const{encoding:a,order:l}=s,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!Cn(i,f);if(Um(c)||Ky(c))return a7({field:It(u),order:l},d);if(kee(c)||!c)return a7({op:c,field:f,order:l},d)}else{if(s==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Cn(["ascending",void 0],s))return!0}}function She(e,t){const{aggregate:n,type:r}=e;return n?Qn(n)&&!sHt[n]?{valid:!1,reason:YHt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:XHt(e)}:{valid:!0}:{valid:!1,reason:KHt(e)}}function Hj(e,t,n,r){return e.explicit&&t.explicit&&Ct(tqt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function kJt(e){const t=Wg(e.map(i=>{if(Ug(i)){const{sort:a}=i;return mn(i,["sort"])}return i}),br),n=Wg(e.map(i=>{if(Ug(i)){const a=i.sort;return a!==void 0&&!IF(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(i=>i!==void 0),br);if(t.length===0)return;if(t.length===1){const i=e[0];if(Ug(i)&&n.length>0){let a=n[0];if(n.length>1)Ct(Rde),a=!0;else if(Ko(a)&&"field"in a){const l=a.field;i.field===l&&(a=a.order?{order:a.order}:!0)}return Object.assign(Object.assign({},i),{sort:a})}return i}const r=Wg(n.map(i=>IF(i)||!("op"in i)||i.op in Qjt?i:(Ct(rqt(i)),!0)),br);let s;r.length===1?s=r[0]:r.length>1&&(Ct(Rde),s=!0);const o=Wg(e.map(i=>Ug(i)?i.data:null),i=>i);return o.length===1&&o[0]!==null?Object.assign({data:o[0],fields:t.map(a=>a.field)},s?{sort:s}:{}):Object.assign({fields:t},s?{sort:s}:{})}function kte(e){if(Ug(e)&&Qn(e.field))return e.field;if(Dqt(e)){let t;for(const n of e.fields)if(Ug(n)&&Qn(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ct(sqt),t}return Ct(oqt),t}else if(Oqt(e)){Ct(iqt);const t=e.fields[0];return Qn(t)?t:void 0}}function j6(e,t){const r=e.component.scales[t].get("domains").map(s=>(Ug(s)&&(s.data=e.lookupDataSource(s.data)),s));return kJt(r)}function u4e(e){return VC(e)||Ete(e)?e.children.reduce((t,n)=>t.concat(u4e(n)),$he(e)):$he(e)}function $he(e){return kt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const s=r.combine(),{name:o,type:i,selectionExtent:a,domains:l,range:u,reverse:c}=s,f=mn(s,["name","type","selectionExtent","domains","range","reverse"]),d=EJt(s.range,o,n);let h;a&&(h=EYt(e,a));const p=j6(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:i},p?{domain:p}:{}),h?{domainRaw:h}:{}),{range:d}),c!==void 0?{reverse:c}:{}),f)),t},[])}function EJt(e,t,n){return xd(n)&&T0(e)?{step:{signal:t+"_step"}}:e}class c4e extends zp{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:WE(this.get("domains"),t=>wn(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const _Jt=["range","scheme"];function f4e(e){return e==="x"?"width":e==="y"?"height":void 0}function TJt(e){const t=e.component.scales;for(const n of S6){const r=t[n];if(!r)continue;const s=AJt(n,e);r.setWithExplicit("range",s)}}function khe(e,t){const n=e.fieldDef(t);if(n&&n.bin&&ls(n.bin)){const r=Ste(e,n.field,n.bin),s=f4e(t),o=e.getName(s);return new Ql(()=>{const i=e.getSignalName(r),a=`(${i}.stop - ${i}.start) / ${i}.step`;return`${e.getSignalName(o)} / (${a})`})}}function AJt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const i of _Jt)if(n[i]!==void 0){const a=aFe(o,i),l=lFe(e,i);if(!a)Ct(URe(o,i,e));else if(l)Ct(l);else switch(i){case"range":return wn(n.range)&&xd(e)?Fv(n.range.map(u=>{if(u==="width"||u==="height"){const c=t.getName(u),f=t.getSignalName.bind(t);return Ql.fromName(f,c)}return u})):Fv(n.range);case"scheme":return Fv(IJt(n[i]))}}if(e===Rs||e===So){const i=e===Rs?"width":"height",a=r[i];if(Sd(a)){if(Tl(o))return Fv({step:a.step});Ct(jRe(i))}}return Pl(NJt(e,t))}function IJt(e){return rGt(e)?Object.assign({scheme:e.name},Gh(e,["name"])):{scheme:e}}function NJt(e,t){const{size:n,config:r,mark:s,encoding:o}=t,i=t.getSignalName.bind(t),{type:a}=wo(o[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Rs:case So:{if(Cn(["point","band"],u)){if(e===Rs&&!n.width){const p=qE(r.view,"width");if(Sd(p))return p}else if(e===So&&!n.height){const p=qE(r.view,"height");if(Sd(p))return p}}const d=f4e(e),h=t.getName(d);return e===So&&ju(u)?[Ql.fromName(i,h),0]:[0,Ql.fromName(i,h)]}case Lp:{const d=t.component.scales[e].get("zero"),h=d4e(s,d,r),p=RJt(s,n,t,r);return RF(u)?OJt(h,p,DJt(u,r,c,e)):[h,p]}case lf:return[0,Math.PI*2];case Yy:return[0,360];case qd:return[0,new Ql(()=>{const d=t.getSignalName("width"),h=t.getSignalName("height");return`min(${d},${h})/2`})];case $0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case k0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case _l:return"symbol";case El:case Yd:case Xd:return u==="ordinal"?a==="nominal"?"category":"ordinal":f!==void 0?"diverging":s==="rect"||s==="geoshape"?"heatmap":"ramp";case Bp:case C0:case S0:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}function DJt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&wn(n)?n.length+1:(Ct(gqt(r)),3)}}function OJt(e,t,n){const r=()=>{const s=HE(t),o=HE(e),i=`(${s} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${s} + ${i}, ${i})`};return An(t)?new Ql(r):{signal:r()}}function d4e(e,t,n){if(t)return An(t)?{signal:`${t.signal} ? 0 : ${d4e(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(k6("size",e))}const Ehe=.95;function RJt(e,t,n,r){const s={x:khe(n,"x"),y:khe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=_he(t,s,r.view);return lo(o)?o-1:new Ql(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=_he(t,s,r.view);return lo(o)?Math.pow(Ehe*o,2):new Ql(()=>`pow(${Ehe} * ${o.signal}, 2)`)}}throw new Error(k6("size",e))}function _he(e,t,n){const r=Sd(e.width)?e.width.step:zF(n,"width"),s=Sd(e.height)?e.height.step:zF(n,"height");return t.x||t.y?new Ql(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:s].join(", ")})`):Math.min(r,s)}function h4e(e,t){Bs(e)?FJt(e,t):g4e(e,t)}function FJt(e,t){const n=e.component.scales,{config:r,encoding:s,markDef:o,specifiedScales:i}=e;for(const a of kt(n)){const l=i[a],u=n[a],c=e.getScaleComponent(a),f=wo(s[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=aFe(h,t),v=lFe(a,t);if(d!==void 0&&(m?v&&Ct(v):Ct(URe(h,t,a))),m&&v===void 0)if(d!==void 0)u.copyKeyFromObject(t,l);else{const y=t in The?The[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,markDef:o,config:r}):r.scale[t];y!==void 0&&u.set(t,y,!1)}}}const The={bins:({model:e,fieldOrDatumDef:t})=>Bt(t)?MJt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>PJt(e,t.type),nice:({scaleType:e,channel:t,fieldOrDatumDef:n})=>LJt(e,t,n),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:s})=>BJt(e,t,s.scale,n,r,s.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,config:r})=>zJt(e,t,n.type,r.scale),paddingOuter:({scalePadding:e,channel:t,scaleType:n,markDef:r,scalePaddingInner:s,config:o})=>VJt(e,t,n,r.type,s,o.scale),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const s=Bt(e)?e.sort:void 0;return WJt(t,s,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:s})=>UJt(e,t,n,r,s)};function p4e(e){Bs(e)?TJt(e):g4e(e,"range")}function g4e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?p4e(r):h4e(r,t);for(const r of kt(n)){let s;for(const o of e.children){const i=o.component.scales[r];if(i){const a=i.getWithExplicit(t);s=Hm(s,a,t,"scale",oMe((l,u)=>t==="range"&&l.step&&u.step?l.step-u.step:0))}}n[r].setWithExplicit(t,s)}}function MJt(e,t){const n=t.bin;if(ls(n)){const r=Ste(e,t.field,n);return new Ql(()=>e.getSignalName(r))}else if(ka(n)&&QA(n)&&n.step!==void 0)return{step:n.step}}function PJt(e,t){if(Cn([El,Yd,Xd],e)&&t!=="nominal")return"hcl"}function LJt(e,t,n){var r;if(!(!((r=Cd(n))===null||r===void 0)&&r.bin||Cn([Qs.TIME,Qs.UTC],e)))return t in E0?!0:void 0}function BJt(e,t,n,r,s,o){if(e in E0){if(Cc(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:i,orient:a}=s;if(i==="bar"&&!(Bt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Qs.POINT)return n.pointPadding}}function zJt(e,t,n,r){if(e===void 0&&t in E0){const{bandPaddingInner:s,barBandPaddingInner:o,rectBandPaddingInner:i}=r;return uo(s,n==="bar"?o:i)}}function VJt(e,t,n,r,s,o){if(e===void 0&&t in E0&&n===Qs.BAND){const{bandPaddingOuter:i}=o;return uo(i,An(s)?{signal:`${s.signal}/2`}:s/2)}}function WJt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return ju(e)&&t==="descending"?An(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(ju(e)&&t==="descending")return!0}function UJt(e,t,n,r,s){if(!!n&&n!=="unaggregated"&&ju(s)){if(wn(n)){const i=n[0],a=n[n.length-1];if(i<=0&&a>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!RF(s))return!0;if(!(Bt(t)&&t.bin)&&Cn([...Uu,...pHt],e)){const{orient:i,type:a}=r;return!(Cn(["bar","area","line","trail"],a)&&(i==="horizontal"&&e==="y"||i==="vertical"&&e==="x"))}return!1}function jJt(e,t,n,r){const s=HJt(t,n,r),{type:o}=e;return _0(t)?o!==void 0?cFe(t,o)?Bt(n)&&!uFe(o,n.type)?(Ct(QHt(o,s)),s):o:(Ct(JHt(t,o,s)),s):s:null}function HJt(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(yw(e)||P3(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ct(Y9(e,"ordinal")),"ordinal";if(e in E0){if(Cn(["rect","bar","image","rule"],n))return"band"}else if(n==="arc"&&e in Tee)return"band";return t.band!==void 0||Xee(t)&&(!((r=t.axis)===null||r===void 0)&&r.tickBand)?"band":"point";case"temporal":return yw(e)?"time":P3(e)==="discrete"?(Ct(Y9(e,"temporal")),"ordinal"):Bt(t)&&t.timeUnit&&Ba(t.timeUnit).utc?"utc":"time";case"quantitative":return yw(e)?Bt(t)&&ls(t.bin)?"bin-ordinal":"linear":P3(e)==="discrete"?(Ct(Y9(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(VRe(t.type))}function qJt(e,{ignoreRange:t}={}){m4e(e),l4e(e);for(const n of iGt)h4e(e,n);t||p4e(e)}function m4e(e){Bs(e)?e.component.scales=GJt(e):e.component.scales=YJt(e)}function GJt(e){const{encoding:t,mark:n}=e;return S6.reduce((r,s)=>{const o=wo(t[s]);if(o&&n===ERe&&s===_l&&o.type===MC)return r;let i=o&&o.scale;if(o&&i!==null&&i!==!1){i=i??{};const a=jJt(i,s,o,n);r[s]=new c4e(e.scaleName(s+"",!0),{value:a,explicit:i.type===a})}return r},{})}const KJt=oMe((e,t)=>Mde(e)-Mde(t));function YJt(e){var t;const n=e.component.scales={},r={},s=e.component.resolve;for(const o of e.children){m4e(o);for(const i of kt(o.component.scales))if(s.scale[i]=(t=s.scale[i])!==null&&t!==void 0?t:yZt(i,e),s.scale[i]==="shared"){const a=r[i],l=o.component.scales[i].getWithExplicit("type");a?jqt(a.value,l.value)?r[i]=Hm(a,l,"type","scale",KJt):(s.scale[i]="independent",delete r[i]):r[i]=l}}for(const o of kt(r)){const i=e.scaleName(o,!0),a=r[o];n[o]=new c4e(i,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),i),u.merged=!0)}}return n}class l7{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Bs(e){return e?.type==="unit"}function Ic(e){return e?.type==="facet"}function Ete(e){return e?.type==="concat"}function VC(e){return e?.type==="layer"}class _te{constructor(t,n,r,s,o,i,a){var l,u;this.type=n,this.parent=r,this.config=o,this.view=a,this.children=[],this.correctDataNames=c=>(c.from&&c.from.data&&(c.from.data=this.lookupDataSource(c.from.data)),c.from&&c.from.facet&&c.from.facet.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c),this.parent=r,this.config=o,this.name=(l=t.name)!==null&&l!==void 0?l:s,this.title=Cg(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new l7,this.projectionNameMap=r?r.projectionNameMap:new l7,this.signalNameMap=r?r.signalNameMap:new l7,this.data=t.data,this.description=t.description,this.transforms=JKt((u=t.transform)!==null&&u!==void 0?u:[]),this.layout=n==="layer"||n==="unit"?{}:QGt(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:T6(t)||r&&r.component.data.isFaceted&&t.data===void 0},layoutSize:new zp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},i?er(i):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){qJt(this)}parseProjection(){s4e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){QMe(this)}assembleGroupStyle(){var t,n;if(this.type==="unit"||this.type==="layer")return(n=(t=this.view)===null||t===void 0?void 0:t.style)!==null&&n!==void 0?n:"cell"}assembleEncodeFromView(t){const{style:n}=t,r=mn(t,["style"]),s={};for(const o of kt(r)){const i=r[o];i!==void 0&&(s[o]=Ys(i))}return s}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Ys(this.description)),this.type==="unit"||this.type==="layer")?Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},n??{}):ns(n)?void 0:n}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,r=mn(t,["spacing"]),{component:s,config:o}=this,i=vZt(s.layoutHeaders,o);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),r),i?{titleBand:i}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Tu)t[r].title&&n.push(fZt(this,r));for(const r of bte)n=n.concat(dZt(this,r));return n}assembleAxes(){return ZXt(this.component.axes,this.config)}assembleLegends(){return t4e(this)}assembleProjections(){return zZt(this)}assembleTitle(){var t,n,r;const s=(t=this.title)!==null&&t!==void 0?t:{},{encoding:o}=s,i=mn(s,["encoding"]),a=Object.assign(Object.assign(Object.assign({},DFe(this.config.title).nonMark),i),o?{encode:{update:o}}:{});if(a.text)return Cn(["unit","layer"],this.type)?Cn(["middle",void 0],a.anchor)&&(a.frame=(n=a.frame)!==null&&n!==void 0?n:"group"):a.anchor=(r=a.anchor)!==null&&r!==void 0?r:"start",ns(a)?void 0:a}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const s=!this.parent||Ic(this.parent)?u4e(this):[];s.length>0&&(n.scales=s);const o=this.assembleAxes();o.length>0&&(n.axes=o);const i=this.assembleLegends();return i.length>0&&(n.legends=i),n}getName(t){return ks((this.name?this.name+"_":"")+t)}requestDataName(t){var n;const r=this.getName(t),s=this.component.data.outputNodeRefCounts;return s[r]=((n=s[r])!==null&&n!==void 0?n:0)+1,r}getSizeSignalRef(t){if(Ic(this.parent)){const n=GMe(t),r=C6(n),s=this.component.scales[r];if(s&&!s.merged){const o=s.get("type"),i=s.get("range");if(Tl(o)&&T0(i)){const a=s.get("name"),l=j6(this,r),u=kte(l);if(u){const c=It({aggregate:"distinct",field:u},{expr:"datum"});return{signal:qMe(a,s,c)}}else return Ct(`Unknown field for ${r}. Cannot calculate view size.`),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(FRe(t)&&_0(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error($Ht(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)===null||t===void 0?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)===null||n===void 0?void 0:n.some(r=>r.hasOrientSignalRef()))}}class v4e extends _te{vgField(t,n={}){const r=this.fieldDef(t);if(r)return It(r,n)}reduceFieldDef(t,n){return BFe(this.getMapping(),(r,s,o)=>{const i=Cd(s);return i?t(r,i,o):r},n)}forEachFieldDef(t,n){tte(this.getMapping(),(r,s)=>{const o=Cd(r);o&&t(o,s)},n)}}class H6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"value",(o=i[1])!==null&&o!==void 0?o:"density"]}clone(){return new H6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${br(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,r=mn(t,["density"]);return Object.assign({type:"kde",field:n},r)}}class ZE extends Jr{constructor(t,n){super(t),this.filter=n}clone(){return new ZE(null,Object.assign({},this.filter))}static make(t,n){const{config:r,mark:s,markDef:o}=n;if(Dr("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((l,u,c)=>{const f=_0(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");ju(d)&&u.aggregate!=="count"&&!Gy(s)&&(l[u.field]=u)}return l},{});return kt(a).length?new ZE(t,a):null}dependentFields(){return new Set(kt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${br(this.filter)}`}assemble(){const t=kt(this.filter).reduce((n,r)=>{const s=this.filter[r],o=It(s,{expr:"datum"});return s!==null&&(s.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):s.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class q6 extends Jr{constructor(t,n){super(t),this.transform=n,this.transform=er(n);const{flatten:r,as:s=[]}=this.transform;this.transform.as=r.map((o,i)=>{var a;return(a=s[i])!==null&&a!==void 0?a:o})}clone(){return new q6(this.parent,er(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${br(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class G6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"key",(o=i[1])!==null&&o!==void 0?o:"value"]}clone(){return new G6(null,er(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${br(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class bw extends Jr{constructor(t,n,r,s){super(t),this.fields=n,this.geojson=r,this.signal=s}clone(){return new bw(null,er(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const s of[[Kd,Gd],[Wu,uf]]){const o=s.map(i=>{const a=wo(n.encoding[i]);return Bt(a)?a.field:A0(a)?{expr:`${a.datum}`}:mp(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new bw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(_l)){const s=n.typedFieldDef(_l);s.type===MC&&(t=new bw(t,null,s.field,n.getName(`geojson_${r++}`)))}return t}dependentFields(){var t;const n=((t=this.fields)!==null&&t!==void 0?t:[]).filter(Qn);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${br(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class JE extends Jr{constructor(t,n,r,s){super(t),this.projection=n,this.fields=r,this.as=s}clone(){return new JE(null,this.projection,er(this.fields),er(this.as))}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Kd,Gd],[Wu,uf]]){const s=r.map(i=>{const a=wo(n.encoding[i]);return Bt(a)?a.field:A0(a)?{expr:`${a.datum}`}:mp(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Wu?"2":"";(s[0]||s[1])&&(t=new JE(t,n.projectionName(),s,[n.getName("x"+o),n.getName("y"+o)]))}return t}dependentFields(){return new Set(this.fields.filter(Qn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${br(this.fields)} ${br(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class a1 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new a1(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:s}=t;return{signal:`sequence(${[n,r,...s?[s]:[]].join(",")})`}}static makeFromTransform(t,n){return new a1(t,n)}static makeFromEncoding(t,n){const r=n.encoding,s=r.x,o=r.y;if(Bt(s)&&Bt(o)){const i=s.impute?s:o.impute?o:void 0;if(i===void 0)return;const a=s.impute?o:o.impute?s:void 0,{method:l,value:u,frame:c,keyvals:f}=i.impute,d=zFe(n.mark,r);return new a1(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:i.field,key:a.field},l?{method:l}:{}),u!==void 0?{value:u}:{}),c?{frame:c}:{}),f!==void 0?{keyvals:f}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${br(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:s,groupby:o,value:i,frame:a=[null,null]}=this.transform,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:DKt(r)?this.processSequence(r):r}:{}),{method:"value"}),o?{groupby:o}:{}),{value:!s||s==="value"?i:null});if(s&&s!=="value"){const u=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[s],fields:[t],frame:a,ignorePeers:!1},o?{groupby:o}:{}),c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class K6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:n.on,(o=i[1])!==null&&o!==void 0?o:n.loess]}clone(){return new K6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${br(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:r}=t,s=mn(t,["loess","on"]);return Object.assign({type:"loess",x:r,y:n},s)}}class QE extends Jr{constructor(t,n,r){super(t),this.transform=n,this.secondary=r}clone(){return new QE(null,er(this.transform),this.secondary)}static make(t,n,r,s){const o=n.component.data.sources,{from:i}=r;let a=null;if(RKt(i)){let l=w4e(i.data,o);l||(l=new Nx(i.data),o.push(l));const u=n.getName(`lookup_${s}`);a=new Na(l,u,"lookup",n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(FKt(i)){const l=i.selection;if(r=Object.assign({as:l},r),a=n.getSelectionComponent(ks(l),l).materialized,!a)throw new Error(_Ht(l))}return new QE(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Js(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${br({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Js(this.transform.as)}:{});else{let n=this.transform.as;Qn(n)||(Ct(DHt),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}class Y6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"prob",(o=i[1])!==null&&o!==void 0?o:"value"]}clone(){return new Y6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${br(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,r=mn(t,["quantile"]);return Object.assign({type:"quantile",field:n},r)}}class X6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:n.on,(o=i[1])!==null&&o!==void 0?o:n.regression]}clone(){return new X6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${br(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:r}=t,s=mn(t,["regression","on"]);return Object.assign({type:"regression",x:r,y:n},s)}}class Z6 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new Z6(null,er(this.transform))}addDimensions(t){var n;this.transform.groupby=Wg(((n=this.transform.groupby)!==null&&n!==void 0?n:[]).concat(t),r=>r)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}hash(){return`PivotTransform ${br(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:s,op:o}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},s!==void 0?{limit:s}:{}),o!==void 0?{op:o}:{}),r!==void 0?{groupby:r}:{})}}class J6 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new J6(null,er(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${br(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function y4e(e){let t=0;function n(r,s){var o;if(r instanceof Nx&&!r.isGenerator&&!GE(r.data)&&(e.push(s),s={name:null,source:s.name,transform:[]}),r instanceof Yi&&(r.parent instanceof Nx&&!s.source?(s.format=Object.assign(Object.assign({},(o=s.format)!==null&&o!==void 0?o:{}),{parse:r.assembleFormatParse()}),s.transform.push(...r.assembleTransforms(!0))):s.transform.push(...r.assembleTransforms())),r instanceof BC){s.name||(s.name=`data_${t++}`),!s.source||s.transform.length>0?(e.push(s),r.data=s.name):r.data=s.source;for(const i of r.assemble())e.push(i);return}switch((r instanceof lI||r instanceof uI||r instanceof ZE||r instanceof LC||r instanceof Tx||r instanceof JE||r instanceof bw||r instanceof Ac||r instanceof QE||r instanceof zC||r instanceof Qy||r instanceof G6||r instanceof q6||r instanceof H6||r instanceof K6||r instanceof Y6||r instanceof X6||r instanceof Km||r instanceof J6||r instanceof Z6)&&s.transform.push(r.assemble()),(r instanceof ed||r instanceof Qf||r instanceof a1||r instanceof Zh)&&s.transform.push(...r.assemble()),r instanceof Na&&(s.source&&s.transform.length===0?r.setSource(s.source):r.parent instanceof Na?r.setSource(s.name):(s.name||(s.name=`data_${t++}`),r.setSource(s.name),r.numChildren()===1&&(e.push(s),s={name:null,source:s.name,transform:[]}))),r.numChildren()){case 0:r instanceof Na&&(!s.source||s.transform.length>0)&&e.push(s);break;case 1:n(r.children[0],s);break;default:{s.name||(s.name=`data_${t++}`);let i=s.name;!s.source||s.transform.length>0?e.push(s):i=s.source;for(const a of r.children)n(a,{name:null,source:i,transform:[]});break}}}return n}function XJt(e){const t=[],n=y4e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function ZJt(e,t){var n,r;const s=[],o=y4e(s);let i=0;for(const l of e.sources){l.hasName()||(l.dataName=`source_${i++}`);const u=l.assemble();o(l,u)}for(const l of s)l.transform.length===0&&delete l.transform;let a=0;for(const[l,u]of s.entries())((n=u.transform)!==null&&n!==void 0?n:[]).length===0&&!u.source&&s.splice(a++,0,s.splice(l,1)[0]);for(const l of s)for(const u of(r=l.transform)!==null&&r!==void 0?r:[])u.type==="lookup"&&(u.from=e.outputNodes[u.from].getSource());for(const l of s)l.name in t&&(l.values=t[l.name]);return s}function JJt(e){return e==="top"||e==="left"||An(e)?"header":"footer"}function QJt(e){for(const t of Tu)eQt(e,t);Ahe(e,"x"),Ahe(e,"y")}function eQt(e,t){var n;const{facet:r,config:s,child:o,component:i}=e;if(e.channelHasField(t)){const a=r[t],l=Ix("title",null,s,t);let u=s1(a,s,{allowDisabling:!0,includeDefault:l===void 0||!!l});o.component.layoutHeaders[t].title&&(u=wn(u)?u.join(", "):u,u+=" / "+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);const c=Ix("labelOrient",a,s,t),f=(n=a.header)!==null&&n!==void 0?n:{},d=uo(f.labels,s.header.labels,!0),h=Cn(["bottom","right"],c)?"footer":"header";i.layoutHeaders[t]={title:u,facetFieldDef:a,[h]:t==="facet"?[]:[b4e(e,t,d)]}}}function b4e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Ahe(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:s,resolve:o}=e.component;if(o.axis[t]=Cte(o,t),o.axis[t]==="shared"){const i=t==="x"?"column":"row",a=s[i];for(const l of r.component.axes[t]){const u=JJt(l.get("orient"));a[u]=(n=a[u])!==null&&n!==void 0?n:[b4e(e,i,!1)];const c=A$(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function tQt(e){Tte(e),GF(e,"width"),GF(e,"height")}function nQt(e){Tte(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";GF(e,t),GF(e,n)}function Tte(e){for(const t of e.children)t.parseLayoutSize()}function GF(e,t){const n=GMe(t),r=C6(n),s=e.component.resolve,o=e.component.layoutSize;let i;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=s.scale[r];if(u==="independent"&&l.value==="step"){i=void 0;break}if(i){if(u==="independent"&&i.value!==l.value){i=void 0;break}i=Hm(i,l,n,"")}else i=l}if(i){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,i)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function rQt(e){const{size:t,component:n}=e;for(const r of Uu){const s=Jd(r);if(t[s]){const o=t[s];n.layoutSize.set(s,Sd(o)?"step":o,!0)}else{const o=sQt(e,s);n.layoutSize.set(s,o,!1)}}}function sQt(e,t){const n=t==="width"?"x":"y",r=e.config,s=e.getScaleComponent(n);if(s){const o=s.get("type"),i=s.get("range");if(Tl(o)){const a=qE(r.view,t);return T0(i)||Sd(a)?"step":a}else return Ij(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return Ij(r.view,t);{const o=qE(r.view,t);return Sd(o)?o.step:o}}}function qj(e,t,n){return It(t,Object.assign({suffix:`by_${It(e)}`},n??{}))}class ck extends v4e{constructor(t,n,r,s){super(t,"facet",n,r,s,t.resolve),this.child=Dte(t.spec,this,this.getName("child"),void 0,s),this.children=[this.child],this.facet=this.initFacet(t.facet,s)}initFacet(t,n){return eI(t)?BFe(t,(r,s,o)=>Cn([Kh,Yh],o)?s.field===void 0?(Ct(kj(s,o)),r):(r[o]=Tj(s,o,n),r):(Ct(k6(o,"facet")),r),{}):{facet:Tj(t,"facet",n)}}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Q6(this),this.child.parseData()}parseLayoutSize(){Tte(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),QJt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,r;const s={};for(const o of Tu)for(const i of wte){const a=this.component.layoutHeaders[o],l=a[i],{facetFieldDef:u}=a;if(u){const c=Ix("titleOrient",u,this.config,o);if(Cn(["right","bottom"],c)){const f=V6(o,c);s.titleAnchor=(t=s.titleAnchor)!==null&&t!==void 0?t:{},s.titleAnchor[f]="end"}}if(l?.[0]){const c=o==="row"?"height":"width",f=i==="header"?"headerBand":"footerBand";o!=="facet"&&!this.child.component.layoutSize.get(c)&&(s[f]=(n=s[f])!==null&&n!==void 0?n:{},s[f][o]=.5),a.title&&(s.offset=(r=s.offset)!==null&&r!==void 0?r:{},s.offset[o==="row"?"rowTitle":"columnTitle"]=10)}}return s}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let s="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(s="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:s})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ck))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(t){return this.parent&&this.parent instanceof ck?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:It(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ck){if(this.child.channelHasField("column")){const s=It(this.child.facet.column);t.push(s),n.push("distinct"),r.push(`distinct_${s}`)}}else for(const s of Uu){const o=this.child.component.scales[s];if(o&&!o.merged){const i=o.get("type"),a=o.get("range");if(Tl(i)&&T0(a)){const l=j6(this.child,s),u=kte(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Ct(`Unknown field for ${s}. Cannot calculate view size.`)}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:s}=this.facet,{fields:o,ops:i,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Tu){const f=this.facet[c];if(f){l.push(It(f));const{bin:d,sort:h}=f;if(ls(d)&&l.push(It(f,{binSuffix:"end"})),Jf(h)){const{field:p,op:g=_6}=h,m=qj(f,h);r&&s?(o.push(m),i.push("max"),a.push(m)):(o.push(p),i.push(g),a.push(m))}else if(wn(h)){const p=Ax(f,c);o.push(p),i.push("max"),a.push(p)}}}const u=!!r&&!!s;return Object.assign({name:t,data:n,groupby:l},u||o.length>0?{aggregate:Object.assign(Object.assign({},u?{cross:u}:{}),o.length?{fields:o,ops:i,as:a}:{})}:{})}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Jf(r.sort)?[qj(r,r.sort,{expr:"datum"})]:wn(r.sort)?[Ax(r,t,{expr:"datum"})]:[It(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:s}=r;return[(Jf(s)?s.order:!wn(s)&&s)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return zj(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of bte)if(t[s]){const o=Ix("labelOrient",t[s],n,s);if(Cn(r[s],o))return zj(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=XJt(n),s=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),i=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},o?{title:o}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:Tu.map(l=>this.facetSortFields(l)).flat(),order:Tu.map(l=>this.facetSortOrder(l)).flat()}}),r.length>0?{data:r}:{}),s?{encode:{update:s}}:{}),t.assembleGroup(CYt(this,[])))]}getMapping(){return this.facet}}function oQt(e,t){const{row:n,column:r}=t;if(n&&r){let s=null;for(const o of[n,r])if(Jf(o.sort)){const{field:i,op:a=_6}=o.sort;e=s=new Qy(e,{joinaggregate:[{op:a,field:i,as:qj(o,o.sort,{forAs:!0})}],groupby:[It(o)]})}return s}return null}function w4e(e,t){var n,r,s,o,i,a,l,u,c,f;for(const d of t){const h=d.data;if(!(e.name&&d.hasName()&&e.name!==d.dataName)&&!(!((n=e.format)===null||n===void 0)&&n.mesh&&(!((r=h.format)===null||r===void 0)&&r.feature))&&!((!((s=e.format)===null||s===void 0)&&s.feature||!((o=h.format)===null||o===void 0)&&o.feature)&&((i=e.format)===null||i===void 0?void 0:i.feature)!==((a=h.format)===null||a===void 0?void 0:a.feature))&&!((!((l=e.format)===null||l===void 0)&&l.mesh||!((u=h.format)===null||u===void 0)&&u.mesh)&&((c=e.format)===null||c===void 0?void 0:c.mesh)!==((f=h.format)===null||f===void 0?void 0:f.mesh))){if(VF(e)&&VF(h)){if(YA(e.values,h.values))return d}else if(GE(e)&&GE(h)){if(e.url===h.url)return d}else if(iMe(e)&&e.name===d.dataName)return d}}return null}function iQt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Nx({values:[]});return t.push(r),r}const n=w4e(e.data,t);if(n)return i1(e.data)||(n.data.format=_jt({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Nx(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function aQt(e,t,n){var r,s;let o=0;for(const i of t.transforms){let a,l;if(HKt(i))l=e=new Tx(e,i),a="derived";else if(uMe(i)){const u=QZt(i);l=e=(r=Yi.makeWithAncestors(e,{},u,n))!==null&&r!==void 0?r:e,e=new LC(e,t,i.filter)}else if(qKt(i))l=e=ed.makeFromTransform(e,i,t),a="number";else if(KKt(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new Yi(e,{[i.field]:a}),n.set(i.field,a,!1)),l=e=Qf.makeFromTransform(e,i);else if(YKt(i))l=e=Ac.makeFromTransform(e,i),a="number",gte(t)&&(e=new Km(e));else if(OKt(i))l=e=QE.make(e,t,i,o++),a="derived";else if(WKt(i))l=e=new zC(e,i),a="number";else if(UKt(i))l=e=new Qy(e,i),a="number";else if(XKt(i))l=e=Zh.makeFromTransform(e,i),a="derived";else if(ZKt(i))l=e=new G6(e,i),a="derived";else if(jKt(i))l=e=new q6(e,i),a="derived";else if(MKt(i))l=e=new Z6(e,i),a="derived";else if(VKt(i))e=new J6(e,i);else if(GKt(i))l=e=a1.makeFromTransform(e,i),a="derived";else if(PKt(i))l=e=new H6(e,i),a="derived";else if(LKt(i))l=e=new Y6(e,i),a="derived";else if(BKt(i))l=e=new X6(e,i),a="derived";else if(zKt(i))l=e=new K6(e,i),a="derived";else{Ct(NHt(i));continue}if(l&&a!==void 0)for(const u of(s=l.producedFields())!==null&&s!==void 0?s:[])n.set(u,a,!1)}return e}function Q6(e){var t,n,r,s,o,i,a,l,u,c;let f=iQt(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:h}=e.component.data,p=e.parent?e.parent.component.data.ancestorParse.clone():new NKt,g=e.data;i1(g)?(aMe(g)?f=new uI(f,g.sequence):cte(g)&&(f=new lI(f,g.graticule)),p.parseNothing=!0):((t=g?.format)===null||t===void 0?void 0:t.parse)===null&&(p.parseNothing=!0),f=(n=Yi.makeExplicit(f,e,p))!==null&&n!==void 0?n:f,f=new Km(f);const m=e.parent&&VC(e.parent);(Bs(e)||Ic(e))&&m&&(f=(r=ed.makeFromEncoding(f,e))!==null&&r!==void 0?r:f),e.transforms.length>0&&(f=aQt(f,e,p));const v=tJt(e),y=eJt(e);f=(s=Yi.makeWithAncestors(f,{},Object.assign(Object.assign({},v),y),p))!==null&&s!==void 0?s:f,Bs(e)&&(f=bw.parseAll(f,e),f=JE.parseAll(f,e)),(Bs(e)||Ic(e))&&(m||(f=(o=ed.makeFromEncoding(f,e))!==null&&o!==void 0?o:f),f=(i=Qf.makeFromEncoding(f,e))!==null&&i!==void 0?i:f,f=Tx.parseAllForSortIndex(f,e));const b=e.getName(WF),w=new Na(f,b,WF,h);if(d[b]=w,f=w,Bs(e)){const k=Ac.makeFromEncoding(f,e);k&&(f=k,gte(e)&&(f=new Km(f))),f=(a=a1.makeFromEncoding(f,e))!==null&&a!==void 0?a:f,f=(l=Zh.makeFromEncoding(f,e))!==null&&l!==void 0?l:f}Bs(e)&&(f=(u=ZE.make(f,e))!==null&&u!==void 0?u:f);const C=e.getName(Pi),S=new Na(f,C,Pi,h);d[C]=S,f=S,Bs(e)&&YXt(e,S);let $=null;if(Ic(e)){const k=e.getName("facet");f=(c=oQt(f,e.facet))!==null&&c!==void 0?c:f,$=new BC(f,e,k,S.getSource()),d[k]=$}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:h,raw:w,main:S,facetRoot:$,ancestorParse:p})}class lQt extends _te{constructor(t,n,r,s){var o,i,a,l;super(t,"concat",n,r,s,t.resolve),(((i=(o=t.resolve)===null||o===void 0?void 0:o.axis)===null||i===void 0?void 0:i.x)==="shared"||((l=(a=t.resolve)===null||a===void 0?void 0:a.axis)===null||l===void 0?void 0:l.y)==="shared")&&Ct(AHt),this.children=this.getChildren(t).map((u,c)=>Dte(u,this,this.getName("concat_"+c),void 0,s))}parseData(){this.component.data=Q6(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of kt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return D6(t)?t.vconcat:lte(t)?t.hconcat:t.concat}parseLayoutSize(){nQt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=xte(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),r?{style:r}:{}),s?{encode:{update:s}}:{}),t.assembleGroup())})}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}}function uQt(e){return e===!1||e===null}const cQt=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},SRe),{labelExpr:1,encode:1}),x4e=kt(cQt);class Ate extends zp{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new Ate(er(this.explicit),er(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!uQt(this.get(t))}hasOrientSignalRef(){return An(this.explicit.orient)}}function fQt(e,t,n){var r;const{encoding:s,config:o}=e,i=(r=wo(s[t]))!==null&&r!==void 0?r:wo(s[Zd(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;return q1(u)?Object.assign({text:jee({fieldOrDatumDef:i,field:"datum.value",format:l,formatType:u,config:o})},n):n}function dQt(e){return Uu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[bQt(n,e)]),t),{})}const hQt={bottom:"top",top:"bottom",left:"right",right:"left"};function pQt(e){var t;const{axes:n,resolve:r}=e.component,s={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const i of kt(o.component.axes))r.axis[i]=Cte(e.component.resolve,i),r.axis[i]==="shared"&&(n[i]=gQt(n[i],o.component.axes[i]),n[i]||(r.axis[i]="independent",delete n[i]))}for(const o of Uu){for(const i of e.children)if(i.component.axes[o]){if(r.axis[o]==="independent"){n[o]=((t=n[o])!==null&&t!==void 0?t:[]).concat(i.component.axes[o]);for(const a of i.component.axes[o]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!An(l)){if(s[l]>0&&!u){const c=hQt[l];s[l]>s[c]&&a.set("orient",c,!1)}s[l]++}}}delete i.component.axes[o]}if(r.axis[o]==="independent"&&n[o]&&n[o].length>1)for(const i of n[o])i.get("grid")&&!i.explicit.grid&&(i.implicit.grid=!1)}}function gQt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const s=e[r],o=t[r];if(!!s!=!!o)return;if(s&&o){const i=s.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(i.explicit&&a.explicit&&i.value!==a.value)return;e[r]=mQt(s,o)}}}else return t.map(n=>n.clone());return e}function mQt(e,t){for(const n of x4e){const r=Hm(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(s,o)=>{switch(n){case"title":return LFe(s,o);case"gridScale":return{explicit:s.explicit,value:uo(s.value,o.value)}}return R6(s,o,n,"axis")});e.setWithExplicit(n,r)}return e}function vQt(e,t,n,r,s){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(An(n.labelAngle)?n.labelAngle:NF(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===WMe(r,s))return!0}return e===n[t]}const yQt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function bQt(e,t){var n,r,s;let o=t.axis(e);const i=new Ate,a=wo(t.encoding[e]),{mark:l,config:u}=t,c=o?.orient||((n=u[e==="x"?"axisX":"axisY"])===null||n===void 0?void 0:n.orient)||((r=u.axis)===null||r===void 0?void 0:r.orient)||aZt(e),f=t.getScaleComponent(e).get("type"),d=eZt(e,f,c,t.config),h=o!==void 0?!o:Lj("disable",u,o?.style,d).configValue;if(i.set("disable",h,o!==void 0),h)return i;o=o||{};const p=sZt(t,o,e,a,d),g={fieldOrDatumDef:a,axis:o,channel:e,model:t,scaleType:f,orient:c,labelAngle:p,mark:l,config:u};for(const y of x4e){const b=y in phe?phe[y](g):Sde(y)?o[y]:void 0,w=b!==void 0,C=vQt(b,y,o,t,e);if(w&&C)i.set(y,b,C);else{const{configValue:S=void 0,configFrom:$=void 0}=Sde(y)&&y!=="values"?Lj(y,t.config,o.style,d):{},k=S!==void 0;w&&!k?i.set(y,b,C):($!=="vgAxisConfig"||yQt.has(y)&&k||xee(S)||An(S))&&i.set(y,S,!1)}}const m=(s=o.encoding)!==null&&s!==void 0?s:{},v=CRe.reduce((y,b)=>{var w;if(!i.hasAxisPart(b))return y;const C=KMe((w=m[b])!==null&&w!==void 0?w:{},t),S=b==="labels"?fQt(t,e,C):C;return S!==void 0&&!ns(S)&&(y[b]={update:S}),y},{});return ns(v)||i.set("encode",v,!!o.encoding||o.labelAngle!==void 0),i}function wQt({encoding:e,size:t}){for(const n of Uu){const r=Jd(n);Sd(t[r])&&Vf(e[n])&&(delete t[r],Ct(jRe(r)))}return t}function xQt(e,t,n,{graticule:r}){const s=wd(e)?Object.assign({},e):{type:e},o=Dr("orient",s,n);if(s.orient=kQt(s.type,t,o),o!==void 0&&o!==s.orient&&Ct(HHt(s.orient,o)),s.type==="bar"&&s.orient){const u=Dr("cornerRadiusEnd",s,n);if(u!==void 0){const c=s.orient==="horizontal"&&t.x2||s.orient==="vertical"&&t.y2?["cornerRadius"]:Gjt[s.orient];for(const f of c)s[f]=u;s.cornerRadiusEnd!==void 0&&delete s.cornerRadiusEnd}}return Dr("opacity",s,n)===void 0&&(s.opacity=SQt(s.type,t)),s.filled===void 0&&(s.filled=r?!1:$Qt(s,n)),Dr("cursor",s,n)===void 0&&(s.cursor=CQt(s,t,n)),s}function CQt(e,t,n){return t.href||e.href||Dr("href",e,n)?"pointer":e.cursor}function SQt(e,t){if(Cn([h6,Cee,See,$ee],e)&&!Qee(t))return .7}function $Qt(e,t){const n=G1("filled",e,t),r=e.type;return uo(n,r!==h6&&r!==d6&&r!==DF)}function kQt(e,t,n){switch(e){case h6:case See:case $ee:case kRe:case Bjt:case Ljt:return}const{x:r,y:s,x2:o,y2:i}=t;switch(e){case f6:if(Bt(r)&&(ka(r.bin)||Bt(s)&&s.aggregate&&!r.aggregate))return"vertical";if(Bt(s)&&(ka(s.bin)||Bt(r)&&r.aggregate&&!s.aggregate))return"horizontal";if(i||o){if(n)return n;if(!o&&(Bt(r)&&r.type===H1&&!ls(r.bin)||_j(r)))return"horizontal";if(!i&&(Bt(s)&&s.type===H1&&!ls(s.bin)||_j(s)))return"vertical"}case DF:if(o&&!(Bt(r)&&ka(r.bin))&&i&&!(Bt(s)&&ka(s.bin)))return;case c6:if(i)return Bt(s)&&ka(s.bin)?"horizontal":"vertical";if(o)return Bt(r)&&ka(r.bin)?"vertical":"horizontal";if(e===DF){if(r&&!s)return"vertical";if(s&&!r)return"horizontal"}case d6:case Cee:{const a=Vf(r),l=Vf(s);if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l){const u=r,c=s,f=u.type===kx,d=c.type===kx;return f&&!d?e!=="tick"?"vertical":"horizontal":!f&&d?e!=="tick"?"horizontal":"vertical":!u.aggregate&&c.aggregate?e!=="tick"?"vertical":"horizontal":u.aggregate&&!c.aggregate?e!=="tick"?"horizontal":"vertical":n||"vertical"}else return n||void 0}}return"vertical"}const EQt={vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),qm(e,"radius","arc")),qm(e,"theta","arc"))},_Qt={vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),UF("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),UF("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),hte(e))},TQt={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","bar")),qm(e,"y","bar"))},AQt={vgMark:"shape",encodeEntry:e=>Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&Bt(n)&&n.type===MC?{field:It(n,{expr:"datum"})}:{})]}},IQt={vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","image")),qm(e,"y","image")),fte(e,"url"))},NQt={vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e,{vgChannel:"strokeWidth"})),hte(e))},DQt={vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e)),hte(e))};function Ite(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e)),Po("angle",e)),OQt(e,n,t))}function OQt(e,t,n){return n?{shape:{value:n}}:Po("shape",e)}const RQt={vgMark:"symbol",encodeEntry:e=>Ite(e)},FQt={vgMark:"symbol",encodeEntry:e=>Ite(e,"circle")},MQt={vgMark:"symbol",encodeEntry:e=>Ite(e,"square")},PQt={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","rect")),qm(e,"y","rect"))},LQt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),UF("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"})),UF("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"})),Po("size",e,{vgChannel:"strokeWidth"}))}},BQt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),fte(e)),Po("size",e,{vgChannel:"fontSize"})),Po("angle",e)),rhe("align",zQt(e.markDef,n,t))),rhe("baseline",VQt(e.markDef,n,t))),Gi("radius",e,{defaultPos:null,isMidPoint:!0})),Gi("theta",e,{defaultPos:null,isMidPoint:!0}))}};function zQt(e,t,n){if(Dr("align",e,n)===void 0)return"center"}function VQt(e,t,n){if(Dr("baseline",e,n)===void 0)return"middle"}const WQt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,s=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ec(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid",vgChannel:"xc"})),Gi("y",e,{defaultPos:"mid",vgChannel:"yc"})),Po("size",e,{defaultValue:UQt(e),vgChannel:s})),{[o]:Ys(Dr("thickness",n,t))})}};function UQt(e){var t;const{config:n,markDef:r}=e,{orient:s}=r,o=s==="horizontal"?"width":"height",i=e.getScaleComponent(s==="horizontal"?"x":"y"),a=(t=Dr("size",r,n,{vgChannel:o}))!==null&&t!==void 0?t:n.tick.bandSize;if(a!==void 0)return a;{const l=i?i.get("range"):void 0;return l&&T0(l)&&lo(l.step)?l.step*3/4:zF(n.view,o)*3/4}}const YN={arc:EQt,area:_Qt,bar:TQt,circle:FQt,geoshape:AQt,image:IQt,line:NQt,point:RQt,rect:PQt,rule:LQt,square:MQt,text:BQt,tick:WQt,trail:DQt};function jQt(e){return Cn([d6,c6,zjt],e.mark)?HQt(e):Cn([f6],e.mark)?qQt(e):KF(e)}const Ihe="faceted_path_";function HQt(e){const t=zFe(e.mark,e.encoding),n=KF(e,{fromPrefix:t.length>0?Ihe:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Ihe+e.requestDataName(Pi),data:e.requestDataName(Pi),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}const Nhe="stack_group_";function qQt(e){const t=X9.some(n=>Dr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t){const[n]=KF(e,{fromPrefix:Nhe}),r=e.scaleName(e.stack.fieldChannel),s=(f={})=>e.vgField(e.stack.fieldChannel,f),o=(f,d)=>{const h=[s({prefix:"min",suffix:"start",expr:d}),s({prefix:"max",suffix:"start",expr:d}),s({prefix:"min",suffix:"end",expr:d}),s({prefix:"max",suffix:"end",expr:d})];return`${f}(${h.map(p=>`scale('${r}',${p})`).join(",")})`};let i,a;e.stack.fieldChannel==="x"?(i=Object.assign(Object.assign({},VE(n.encode.update,["y","yc","y2","height",...X9])),{x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}}),a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},Gh(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(i=Object.assign(Object.assign({},VE(n.encode.update,["x","xc","x2","width"])),{y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}}),a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},Gh(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const f of X9){const d=G1(f,e.markDef,e.config);n.encode.update[f]?(i[f]=n.encode.update[f],delete n.encode.update[f]):d&&(i[f]=Ys(d)),d&&(n.encode.update[f]={value:0})}const l=e.fieldDef(e.stack.groupbyChannel),u=It(l)?[It(l)]:[];return(l?.bin||l?.timeUnit)&&u.push(It(l,{binSuffix:"end"})),i=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((f,d)=>{if(n.encode.update[d])return Object.assign(Object.assign({},f),{[d]:n.encode.update[d]});{const h=G1(d,e.markDef,e.config);return h!==void 0?Object.assign(Object.assign({},f),{[d]:Ys(h)}):f}},i),i.stroke&&(i.strokeForeground={value:!0},i.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Pi),name:Nhe+e.requestDataName(Pi),groupby:u,aggregate:{fields:[s({suffix:"start"}),s({suffix:"start"}),s({suffix:"end"}),s({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:i},marks:[{type:"group",encode:{update:a},marks:[n]}]}]}else return KF(e)}function GQt(e){const{encoding:t,stack:n,mark:r,markDef:s,config:o}=e,i=t.order;if(!(!wn(i)&&mp(i)&&wde(i.value)||!i&&wde(Dr("order",s,o)))){if((wn(i)||Bt(i))&&!n)return FFe(i,{expr:"datum"});if(Gy(r)){const a=s.orient==="horizontal"?"y":"x",l=t[a];if(Bt(l)){const u=l.sort;if(wn(u))return{field:It(l,{prefix:a,suffix:"sort_index",expr:"datum"})};if(Jf(u))return{field:It({aggregate:Qee(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if(bFe(u)){const c=e.fieldDef(u.encoding);return{field:It(c,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:It(l,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}return}}}function KF(e,t={fromPrefix:""}){const{mark:n,markDef:r,config:s}=e,o=uo(r.clip,KQt(e),YQt(e)),i=OFe(r),a=e.encoding.key,l=GQt(e),u=XQt(e),c=Dr("aria",r,s),f=YN[n].postEncodingTransform?YN[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:YN[n].vgMark},o?{clip:!0}:{}),i?{style:i}:{}),a?{key:a.field}:{}),l?{sort:l}:{}),u||{}),c===!1?{aria:c}:{}),{from:{data:t.fromPrefix+e.requestDataName(Pi)},encode:{update:YN[n].encodeEntry(e)}}),f?{transform:f}:{})]}function KQt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t&&t.get("selectionExtent")||n&&n.get("selectionExtent")?!0:void 0}function YQt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function XQt(e){if(!e.component.selection)return null;const t=kt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=kt(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}class C4e extends v4e{constructor(t,n,r,s={},o){var i,a;super(t,"unit",n,r,o,void 0,Wde(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const l=wd(t.mark)?t.mark.type:t.mark;this.markDef=xQt(t.mark,(i=t.encoding)!==null&&i!==void 0?i:{},o,{graticule:t.data&&cte(t.data)});const u=this.encoding=AGt((a=t.encoding)!==null&&a!==void 0?a:{},this.markDef,o);this.size=wQt({encoding:u,size:Wde(t)?Object.assign(Object.assign(Object.assign({},s),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):s}),this.stack=tMe(l,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegend(u),this.specifiedProjection=t.projection,this.selection=t.selection}get hasProjection(){const{encoding:t}=this,n=this.mark===ERe,r=t&&lHt.some(s=>On(t[s]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return S6.reduce((r,s)=>{var o;const i=wo(n[s]);return i&&(r[s]=(o=i.scale)!==null&&o!==void 0?o:{}),r},{})}initAxes(t){return Uu.reduce((n,r)=>{const s=t[r];if(On(s)||r===Rs&&On(t.x2)||r===So&&On(t.y2)){const o=On(s)?s.axis:void 0;n[r]=o&&Object.assign({},o)}return n},{})}initLegend(t){return gHt.reduce((n,r)=>{const s=wo(t[r]);if(s&&vHt(r)){const o=s.legend;n[r]=o&&Object.assign({},o)}return n},{})}parseData(){this.component.data=Q6(this)}parseLayoutSize(){rQt(this)}parseSelections(){this.component.selection=KXt(this,this.selection)}parseMarkGroup(){this.component.mark=jQt(this)}parseAxesAndHeaders(){this.component.axes=dQt(this)}assembleSelectionTopLevelSignals(t){return SYt(this,t)}assembleSignals(){return[...PMe(this),...xYt(this,[])]}assembleSelectionData(t){return $Yt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return xte(this)}assembleMarks(){var t;let n=(t=this.component.mark)!==null&&t!==void 0?t:[];return(!this.parent||!VC(this.parent))&&(n=SMe(this,n)),n.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return o1(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Cd(n)}typedFieldDef(t){const n=this.fieldDef(t);return iu(n)?n:null}}class Nte extends _te{constructor(t,n,r,s,o){super(t,"layer",n,r,o,t.resolve,t.view);const i=Object.assign(Object.assign(Object.assign({},s),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((a,l)=>{if(O6(a))return new Nte(a,this,this.getName("layer_"+l),i,o);if(Fp(a))return new C4e(a,this,this.getName("layer_"+l),i,o);throw new Error(Iee(a))})}parseData(){this.component.data=Q6(this);for(const t of this.children)t.parseData()}parseLayoutSize(){tQt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of kt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){pQt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),PMe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),xte(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return kYt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),t4e(this))}}function Dte(e,t,n,r,s){if(T6(e))return new ck(e,t,n,s);if(O6(e))return new Nte(e,t,n,r,s);if(Fp(e))return new C4e(e,t,n,r,s);if(XGt(e))return new lQt(e,t,n,s);throw new Error(Iee(e))}function ZQt(e,t={}){t.logger&&mqt(t.logger),t.fieldTitle&&TFe(t.fieldTitle);try{const n=QFe(gRe(t.config,e.config)),r=sMe(e,n),s=Dte(r,null,"",void 0,n);return s.parse(),vJt(s.component.data,s),{spec:QQt(s,JQt(e,r.autosize,n,s),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&vqt(),t.fieldTitle&&CGt()}}function JQt(e,t,n,r){const s=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Qn(t)&&(t={type:t}),s&&o&&TKt(t.type)){if(s==="step"&&o==="step")Ct(Ade()),t.type="pad";else if(s==="step"||o==="step"){const i=s==="step"?"width":"height";Ct(Ade(C6(i)));const a=i==="width"?"height":"width";t.type=AKt(a)}}return Object.assign(Object.assign(Object.assign({},kt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),Qde(n)),Qde(e))}function QQt(e,t,n={},r){const s=e.config?lKt(e.config):void 0,o=[].concat(e.assembleSelectionData([]),ZJt(e.component.data,n)),i=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();return c=c.filter(f=>(f.name==="width"||f.name==="height")&&f.value!==void 0?(t[f.name]=+f.value,!1):!0),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),a?{title:a}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),i.length>0?{projections:i}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([])])),s?{config:s}:{}),r?{usermeta:r}:{})}class een extends eMe{mapUnit(t,{config:n}){if(t.encoding){const{encoding:r,transform:s}=t,{bins:o,timeUnits:i,aggregate:a,groupby:l,encoding:u}=ete(r,n),c=[...s||[],...o,...i,...a.length===0?[]:[{aggregate:a,groupby:l}]];return Object.assign(Object.assign(Object.assign({},t),c.length>0?{transform:c}:{}),{encoding:u})}else return t}}const ten=new een;function nen(e,t){return ten.map(e,{config:t})}const ren=ijt.version,sen=Object.freeze(Object.defineProperty({__proto__:null,compile:ZQt,extractTransforms:nen,normalize:sMe,version:ren},Symbol.toStringTag,{value:"Module"}));function S4e(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var oen="2.15.0",ien={version:oen};const Sb="#fff",Dhe="#888",aen={background:"#333",view:{stroke:Dhe},title:{color:Sb,subtitleColor:Sb},style:{"guide-label":{fill:Sb},"guide-title":{fill:Sb}},axis:{domainColor:Sb,gridColor:Dhe,tickColor:Sb}},j0="#4572a7",len={background:"#fff",arc:{fill:j0},area:{fill:j0},line:{stroke:j0,strokeWidth:2},path:{stroke:j0},rect:{fill:j0},shape:{stroke:j0},symbol:{fill:j0,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},H0="#30a2da",u7="#cbcbcb",uen="#999",cen="#333",Ohe="#f0f0f0",Rhe="#333",fen={arc:{fill:H0},area:{fill:H0},axis:{domainColor:u7,grid:!0,gridColor:u7,gridWidth:1,labelColor:uen,labelFontSize:10,titleColor:cen,tickColor:u7,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Ohe,group:{fill:Ohe},legend:{labelColor:Rhe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Rhe,titleFontSize:14,titlePadding:10},line:{stroke:H0,strokeWidth:2},path:{stroke:H0,strokeWidth:.5},rect:{fill:H0},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:H0},bar:{binSpacing:2,fill:H0,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},q0="#000",den={group:{fill:"#e5e5e5"},arc:{fill:q0},area:{fill:q0},line:{stroke:q0},path:{stroke:q0},rect:{fill:q0},shape:{stroke:q0},symbol:{fill:q0,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},hen=22,pen="normal",Fhe="Benton Gothic, sans-serif",Mhe=11.5,gen="normal",G0="#82c6df",c7="Benton Gothic Bold, sans-serif",Phe="normal",Lhe=13,BS={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},men={background:"#ffffff",title:{anchor:"start",color:"#000000",font:c7,fontSize:hen,fontWeight:pen},arc:{fill:G0},area:{fill:G0},line:{stroke:G0,strokeWidth:2},path:{stroke:G0},rect:{fill:G0},shape:{stroke:G0},symbol:{fill:G0,size:30},axis:{labelFont:Fhe,labelFontSize:Mhe,labelFontWeight:gen,titleFont:c7,titleFontSize:Lhe,titleFontWeight:Phe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Fhe,labelFontSize:Mhe,symbolType:"square",titleFont:c7,titleFontSize:Lhe,titleFontWeight:Phe},range:{category:BS["category-6"],diverging:BS["fireandice-6"],heatmap:BS["fire-7"],ordinal:BS["fire-7"],ramp:BS["fire-7"]}},K0="#ab5787",XN="#979797",ven={background:"#f9f9f9",arc:{fill:K0},area:{fill:K0},line:{stroke:K0},path:{stroke:K0},rect:{fill:K0},shape:{stroke:K0},symbol:{fill:K0,size:30},axis:{domainColor:XN,domainWidth:.5,gridWidth:.2,labelColor:XN,tickColor:XN,tickWidth:.2,titleColor:XN},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Y0="#3e5c69",yen={background:"#fff",arc:{fill:Y0},area:{fill:Y0},line:{stroke:Y0},path:{stroke:Y0},rect:{fill:Y0},shape:{stroke:Y0},symbol:{fill:Y0},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},mu="#1696d2",Bhe="#000000",ben="#FFFFFF",ZN="Lato",f7="Lato",wen="Lato",xen="#DEDDDD",Cen=18,zS={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Sen={background:ben,title:{anchor:"start",fontSize:Cen,font:ZN},axisX:{domain:!0,domainColor:Bhe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:f7,labelAngle:0,tickColor:Bhe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:ZN},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:xen,gridWidth:1,labelFontSize:12,labelFont:f7,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:ZN,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:f7,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:ZN,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:zS["six-groups-cat-1"],diverging:zS["diverging-colors"],heatmap:zS["diverging-colors"],ordinal:zS["six-groups-seq"],ramp:zS["shades-blue"]},area:{fill:mu},rect:{fill:mu},line:{color:mu,stroke:mu,strokeWidth:5},trail:{color:mu,stroke:mu,strokeWidth:0,size:1},path:{stroke:mu,strokeWidth:.5},point:{filled:!0},text:{font:wen,color:mu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:mu,stroke:null}},arc:{fill:mu},shape:{stroke:mu},symbol:{fill:mu,size:30}},X0="#3366CC",zhe="#ccc",JN="Arial, sans-serif",$en={arc:{fill:X0},area:{fill:X0},path:{stroke:X0},rect:{fill:X0},shape:{stroke:X0},symbol:{stroke:X0},circle:{fill:X0},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:JN,fontSize:12},"guide-title":{font:JN,fontSize:12},"group-title":{font:JN,fontSize:12}},title:{font:JN,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:zhe,tickColor:zhe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Ote=e=>e*(1/3+1),Vhe=Ote(9),Whe=Ote(10),Uhe=Ote(12),VS="Segoe UI",jhe="wf_standard-font, helvetica, arial, sans-serif",Hhe="#252423",WS="#605E5C",qhe="transparent",ken="#C8C6C4",ac="#118DFF",Een="#12239E",_en="#E66C37",Ten="#6B007B",Aen="#E044A7",Ien="#744EC2",Nen="#D9B300",Den="#D64550",$4e=ac,k4e="#DEEFFF",Ghe=[k4e,$4e],Oen=[k4e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",$4e],Ren={view:{stroke:qhe},background:qhe,font:VS,header:{titleFont:jhe,titleFontSize:Uhe,titleColor:Hhe,labelFont:VS,labelFontSize:Whe,labelColor:WS},axis:{ticks:!1,grid:!1,domain:!1,labelColor:WS,labelFontSize:Vhe,titleFont:jhe,titleColor:Hhe,titleFontSize:Uhe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:ken,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:ac},line:{stroke:ac,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:VS,fontSize:Vhe,fill:WS},arc:{fill:ac},area:{fill:ac,line:!0,opacity:.6},path:{stroke:ac},rect:{fill:ac},point:{fill:ac,filled:!0,size:75},shape:{stroke:ac},symbol:{fill:ac,strokeWidth:1.5,size:50},legend:{titleFont:VS,titleFontWeight:"bold",titleColor:WS,labelFont:VS,labelFontSize:Whe,labelColor:WS,symbolType:"circle",symbolSize:75},range:{category:[ac,Een,_en,Ten,Aen,Ien,Nen,Den],diverging:Ghe,heatmap:Ghe,ordinal:Oen}},d7='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Fen='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',h7=400,QN={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Men=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Pen=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function e8({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=QN.gridBg[e],s=QN.textPrimary[e],o=QN.textSecondary[e],i=n==="dark"?Men:Pen,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:s,anchor:"start",dy:-15,fontSize:16,font:d7,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:Fen,labelFontWeight:h7,titleColor:s,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:QN.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:d7,fill:o,fontWeight:h7},"guide-title":{font:d7,fill:o,fontWeight:h7}},range:{category:i,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Len=e8({theme:"white",background:"#ffffff"}),Ben=e8({theme:"g10",background:"#f4f4f4"}),zen=e8({theme:"g90",background:"#262626"}),Ven=e8({theme:"g100",background:"#161616"}),Wen=ien.version,Uen=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Ben,carbong100:Ven,carbong90:zen,carbonwhite:Len,dark:aen,excel:len,fivethirtyeight:fen,ggplot2:den,googlecharts:$en,latimes:men,powerbi:Ren,quartz:ven,urbaninstitute:Sen,version:Wen,vox:yen},Symbol.toStringTag,{value:"Module"}));var jen=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element img {
    max-width: 200px;
    max-height: 200px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`;const E4e="vg-tooltip-element",Hen={offsetX:10,offsetY:10,id:E4e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:qen,maxDepth:2};function qen(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Gen(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return jen.toString().replace(E4e,e)}function Ken(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Yen(e,t,n){if(jn(e))return`[${e.map(r=>t(ys(r)?r:Khe(r,n))).join(", ")}]`;if(tr(e)){let r="";const s=e,{title:o,image:i}=s,a=Ken(s,["title","image"]);o&&(r+=`<h2>${t(o)}</h2>`),i&&(r+=`<img src="${t(i)}">`);const l=Object.keys(a);if(l.length>0){r+="<table>";for(const u of l){let c=a[u];c!==void 0&&(tr(c)&&(c=Khe(c,n)),r+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function Xen(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const s=t.indexOf(this)+1;return t.length=s,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Khe(e,t){return JSON.stringify(e,Xen(t))}function Zen(e,t,n,r){let s=e.clientX+n;s+t.width>window.innerWidth&&(s=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:s,y:o}}class Jen{constructor(t){this.options=Object.assign(Object.assign({},Hen),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Gen(n);const s=document.head;s.childNodes.length>0?s.insertBefore(r,s.childNodes[0]):s.appendChild(r)}}tooltipHandler(t,n,r,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(document.fullscreenElement!=null?document.fullscreenElement:document.body).appendChild(this.el),s==null||s===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=Yen(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:a}=Zen(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${i}px`)}}function YF(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(f){i(f)}}function l(c){try{u(r.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):s(c.value).then(a,l)}u((r=r.apply(e,[])).next())})}function Qen(e,t,n){const r=e.open(t),s=250,{origin:o}=new URL(t);let i=40;function a(u){u.source===r&&(i=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){i<=0||(r.postMessage(n,o),setTimeout(l,s),i-=1)}setTimeout(l,s)}var etn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }
  .vega-embed .chart-wrapper {
    width: 100%;
    height: 100%; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function _4e(e,...t){for(const n of t)ttn(e,n);return e}function ttn(e,t){for(const n of Object.keys(t))sL(e,n,t[n],!0)}var p7;const wh=sjt;let Dx=sen;const eD=typeof window<"u"?window:void 0;Dx===void 0&&(!((p7=eD?.vl)===null||p7===void 0)&&p7.compile)&&(Dx=eD.vl);const T4e={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ntn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},I$={vega:"Vega","vega-lite":"Vega-Lite"},XF={vega:wh.version,"vega-lite":Dx?Dx.version:"not available"},rtn={vega:e=>e,"vega-lite":(e,t)=>Dx.compile(e,{config:t}).spec},stn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,otn="chart-wrapper";function itn(e){return typeof e=="function"}function Yhe(e,t,n,r){const s=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,i=window.open("");i.document.write(s+e+o),i.document.title=`${I$[r]} JSON Source`}function A4e(e,t){var n;if(e.$schema){const r=S4e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${I$[r.library]}, but mode argument sets ${(n=I$[t])!==null&&n!==void 0?n:t}.`);const s=r.library;return USe.satisfies(XF[s],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${I$[s]} ${r.version}, but the current version of ${I$[s]} is v${XF[s]}.`),s}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function atn(e){return!!(e&&"load"in e)}function Xhe(e){return atn(e)?e:wh.loader(e)}function Zhe(e){var t;return(t=e.usermeta&&e.usermeta.embedOptions)!==null&&t!==void 0?t:{}}function ltn(e,t,n={}){var r,s,o;return YF(this,void 0,void 0,function*(){let i,a;ys(t)?(a=Xhe(n.loader),i=JSON.parse(yield a.load(t))):i=t;const l=Zhe(i).loader;(!a||l)&&(a=Xhe((r=n.loader)!==null&&r!==void 0?r:l));const u=yield Jhe(Zhe(i),a),c=yield Jhe(n,a),f=Object.assign(Object.assign({},_4e(c,u)),{config:rL((s=c.config)!==null&&s!==void 0?s:{},(o=u.config)!==null&&o!==void 0?o:{})});return yield ctn(e,i,f,a)})}function Jhe(e,t){var n;return YF(this,void 0,void 0,function*(){const r=ys(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},s=ys(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),s?{patch:s}:{}),r?{config:r}:{})})}function utn(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function ctn(e,t,n={},r){var s,o,i,a,l,u;return YF(this,void 0,void 0,function*(){const c=n.theme?rL(Uen[n.theme],(s=n.config)!==null&&s!==void 0?s:{}):n.config,f=i$e(n.actions)?n.actions:_4e({},T4e,(o=n.actions)!==null&&o!==void 0?o:{}),d=Object.assign(Object.assign({},ntn),n.i18n),h=(i=n.renderer)!==null&&i!==void 0?i:"canvas",p=(a=n.logLevel)!==null&&a!==void 0?a:wh.Warn,g=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization",m=typeof e=="string"?document.querySelector(e):e;if(!m)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:A,rootContainer:I}=utn(m);if(!A.getElementById(E)){const F=document.createElement("style");F.id=E,F.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?etn.toString():n.defaultStyle,I.appendChild(F)}}const v=A4e(t,n.mode);let y=rtn[v](t,c);if(v==="vega-lite"&&y.$schema){const E=S4e(y.$schema);USe.satisfies(XF.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${XF.vega}.`)}m.classList.add("vega-embed"),f&&m.classList.add("has-actions"),m.innerHTML="";let b=m;if(f){const E=document.createElement("div");E.classList.add(otn),m.appendChild(E),b=E}const w=n.patch;w&&(w instanceof Function?y=w(y):y=XP(y,w,!0,!1).newDocument),n.formatLocale&&wh.formatLocale(n.formatLocale),n.timeFormatLocale&&wh.timeFormatLocale(n.timeFormatLocale);const{ast:C}=n,S=wh.parse(y,v==="vega-lite"?{}:c,{ast:C}),$=new(n.viewClass||wh.View)(S,Object.assign({loader:r,logLevel:p,renderer:h},C?{expr:wh.expressionInterpreter}:{}));if(n.tooltip!==!1){let E;itn(n.tooltip)?E=n.tooltip:E=new Jen(n.tooltip===!0?{}:n.tooltip).call,$.tooltip(E)}let{hover:k}=n;if(k===void 0&&(k=v==="vega"),k){const{hoverSet:E,updateSet:A}=typeof k=="boolean"?{}:k;$.hover(E,A)}n&&(n.width!=null&&$.width(n.width),n.height!=null&&$.height(n.height),n.padding!=null&&$.padding(n.padding)),yield $.initialize(b,n.bind).runAsync();let T;if(f!==!1){let E=m;if(n.defaultStyle!==!1){const I=document.createElement("details");I.title=d.CLICK_TO_VIEW_ACTIONS,m.append(I),E=I;const F=document.createElement("summary");F.innerHTML=stn,I.append(F),T=R=>{I.contains(R.target)||I.removeAttribute("open")},document.addEventListener("click",T)}const A=document.createElement("div");if(E.append(A),A.classList.add("vega-actions"),f===!0||f.export!==!1){for(const I of["svg","png"])if(f===!0||f.export===!0||f.export[I]){const F=d[`${I.toUpperCase()}_ACTION`],R=document.createElement("a");R.text=F,R.href="#",R.target="_blank",R.download=`${g}.${I}`,R.addEventListener("mousedown",function(L){return YF(this,void 0,void 0,function*(){L.preventDefault();const D=yield $.toImageURL(I,n.scaleFactor);this.href=D})}),A.append(R)}}if(f===!0||f.source!==!1){const I=document.createElement("a");I.text=d.SOURCE_ACTION,I.href="#",I.addEventListener("click",function(F){var R,L;Yhe(y5(t),(R=n.sourceHeader)!==null&&R!==void 0?R:"",(L=n.sourceFooter)!==null&&L!==void 0?L:"",v),F.preventDefault()}),A.append(I)}if(v==="vega-lite"&&(f===!0||f.compiled!==!1)){const I=document.createElement("a");I.text=d.COMPILED_ACTION,I.href="#",I.addEventListener("click",function(F){var R,L;Yhe(y5(y),(R=n.sourceHeader)!==null&&R!==void 0?R:"",(L=n.sourceFooter)!==null&&L!==void 0?L:"","vega"),F.preventDefault()}),A.append(I)}if(f===!0||f.editor!==!1){const I=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",F=document.createElement("a");F.text=d.EDITOR_ACTION,F.href="#",F.addEventListener("click",function(R){Qen(window,I,{config:c,mode:v,renderer:h,spec:y5(t)}),R.preventDefault()}),A.append(F)}}function _(){T&&document.removeEventListener("click",T),$.finalize()}return{view:$,spec:t,vgSpec:y,finalize:_}})}const ftn=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ACTIONS:T4e,default:ltn,guessMode:A4e,vega:wh,get vegaLite(){return Dx}},Symbol.toStringTag,{value:"Module"})),WC=ly(ftn);var $b={},Tt={};var g7,Qhe;function Rte(){if(Qhe)return g7;Qhe=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function s(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var i={},a=0;a<10;a++)i["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(i).map(function(c){return i[c]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(c){u[c]=c}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return g7=s()?Object.assign:function(o,i){for(var a,l=r(o),u,c=1;c<arguments.length;c++){a=Object(arguments[c]);for(var f in a)t.call(a,f)&&(l[f]=a[f]);if(e){u=e(a);for(var d=0;d<u.length;d++)n.call(a,u[d])&&(l[u[d]]=a[u[d]])}}return l},g7}var tD={},epe;function dtn(){if(epe)return tD;epe=1,Object.defineProperty(tD,"__esModule",{value:!0}),tD.StyleSheet=u;var e=Rte(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function r(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function s(c){return c[c.length-1]}function o(c){if(c.sheet)return c.sheet;for(var f=0;f<document.styleSheets.length;f++)if(document.styleSheets[f].ownerNode===c)return document.styleSheets[f]}var i=typeof window<"u",a=(function(){if(i){var c=document.createElement("div");return c.innerHTML="\x3C!--[if lt IE 10]><i></i><![endif]-->",c.getElementsByTagName("i").length===1}})();function l(){var c=document.createElement("style");return c.type="text/css",c.setAttribute("data-glamor",""),c.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(c),c}function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=c.speedy,d=f===void 0?!0:f,h=c.maxLength,p=h===void 0?i&&a?4e3:65e3:h;this.isSpeedy=d,this.sheet=void 0,this.tags=[],this.maxLength=p,this.ctr=0}return(0,t.default)(u.prototype,{getSheet:function(){return o(s(this.tags))},inject:function(){var f=this;if(this.injected)throw new Error("already injected stylesheet!");i?this.tags[0]=l():this.sheet={cssRules:[],insertRule:function(h){f.sheet.cssRules.push({cssText:h})}},this.injected=!0},speedy:function(f){if(this.ctr!==0)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+f+") earlier in your app, or call flush() before speedy("+f+")");this.isSpeedy=!!f},_insert:function(f){try{var d=this.getSheet();d.insertRule(f,f.indexOf("@import")!==-1?0:d.cssRules.length)}catch{}},insert:function(f){if(i)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(f);else if(f.indexOf("@import")!==-1){var d=s(this.tags);d.insertBefore(document.createTextNode(f),d.firstChild)}else s(this.tags).appendChild(document.createTextNode(f));else this.sheet.insertRule(f,f.indexOf("@import")!==-1?0:this.sheet.cssRules.length);return this.ctr++,i&&this.ctr%this.maxLength===0&&this.tags.push(l()),this.ctr-1},delete:function(f){return this.replace(f,"")},flush:function(){i?(this.tags.forEach(function(f){return f.parentNode.removeChild(f)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!i)return this.sheet.cssRules;var f=[];return this.tags.forEach(function(d){return f.splice.apply(f,[f.length,0].concat(r(Array.from(o(d).cssRules))))}),f}}),tD}var kb={},m7,tpe;function htn(){if(tpe)return m7;tpe=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,s){return s.toUpperCase()})}return m7=t,m7}var v7,npe;function ptn(){if(npe)return v7;npe=1;var e=htn(),t=/^-ms-/;function n(r){return e(r.replace(t,"ms-"))}return v7=n,v7}var nD={},rD={},rpe;function gtn(){if(rpe)return rD;rpe=1,Object.defineProperty(rD,"__esModule",{value:!0});var e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function t(o,i){return o+i.charAt(0).toUpperCase()+i.substring(1)}var n=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(o){n.forEach(function(i){e[t(i,o)]=e[o]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:e,shorthandPropertyExpansions:r};return rD.default=s,rD}var y7,spe;function mtn(){if(spe)return y7;spe=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},y7=t,y7}var b7,ope;function I4e(){if(ope)return b7;ope=1;var e=mtn(),t=e;return b7=t,b7}var ipe;function vtn(){if(ipe)return nD;ipe=1,Object.defineProperty(nD,"__esModule",{value:!0});var e=gtn(),t=r(e),n=I4e();r(n);function r(i){return i&&i.__esModule?i:{default:i}}var s=t.default.isUnitlessNumber;function o(i,a,l){var u=a==null||typeof a=="boolean"||a==="";if(u)return"";var c=isNaN(a);return c||a===0||s.hasOwnProperty(i)&&s[i]?""+a:(typeof a=="string"&&(a=a.trim()),a+"px")}return nD.default=o,nD}var w7,ape;function ytn(){if(ape)return w7;ape=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return w7=t,w7}var x7,lpe;function btn(){if(lpe)return x7;lpe=1;var e=ytn(),t=/^ms-/;function n(r){return e(r).replace(t,"-ms-")}return x7=n,x7}var C7,upe;function wtn(){if(upe)return C7;upe=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return C7=e,C7}var cpe;function N4e(){if(cpe)return kb;cpe=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.processStyleName=void 0,kb.createMarkupForStyles=c;var e=ptn();l(e);var t=vtn(),n=l(t),r=btn(),s=l(r),o=wtn(),i=l(o),a=I4e();l(a);function l(f){return f&&f.__esModule?f:{default:f}}var u=kb.processStyleName=(0,i.default)(s.default);function c(f,d){var h="";for(var p in f){var g=p.indexOf("--")===0;if(f.hasOwnProperty(p)&&p!=="label"){var m=f[p];m!=null&&(g?h+=p+":"+m+";":(h+=u(p)+":",h+=(0,n.default)(p,m,d)+";"))}}return h||null}return kb}var sD={},fpe;function xtn(){if(fpe)return sD;fpe=1,Object.defineProperty(sD,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};sD.default=s;function t(o){return o==null||o===!1||(typeof o>"u"?"undefined":e(o))==="object"&&Object.keys(o).length===0}function n(o){if(t(o))return null;if((typeof o>"u"?"undefined":e(o))!=="object")return o;for(var i={},a=Object.keys(o),l=!1,u=0;u<a.length;u++){var c=o[a[u]],f=s(c);(f===null||f!==c)&&(l=!0),f!==null&&(i[a[u]]=f)}return Object.keys(i).length===0?null:l?i:o}function r(o){var i=!1,a=[];return o.forEach(function(l){var u=s(l);(u===null||u!==l)&&(i=!0),u!==null&&a.push(u)}),a.length==0?null:i?a:o}function s(o){return Array.isArray(o)?r(o):n(o)}return sD}var Z0={},oD={},iD={exports:{}},dpe;function Ctn(){return dpe||(dpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],s=["ms"],o=["Webkit","Moz"],i=["Webkit","ms"],a=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:a,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:a,breakBefore:a,breakInside:a,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:i,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:i,scrollSnapPointsX:i,scrollSnapPointsY:i,scrollSnapDestination:i,scrollSnapCoordinate:i,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:a,flowInto:i,flowFrom:i,regionFragment:i,textAlignLast:r,tabSize:r,wrapFlow:s,wrapThrough:s,wrapMargin:s,gridTemplateColumns:s,gridTemplateRows:s,gridTemplateAreas:s,gridTemplate:s,gridAutoColumns:s,gridAutoRows:s,gridAutoFlow:s,grid:s,gridRowStart:s,gridColumnStart:s,gridRowEnd:s,gridRow:s,gridColumn:s,gridColumnEnd:s,gridColumnGap:s,gridRowGap:s,gridArea:s,gridGap:s,textSizeAdjust:i,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default})(iD,iD.exports)),iD.exports}var aD={exports:{}},lD={exports:{}},hpe;function D4e(){return hpe||(hpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return r.charAt(0).toUpperCase()+r.slice(1)}e.exports=t.default})(lD,lD.exports)),lD.exports}var ppe;function Stn(){return ppe||(ppe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=D4e(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i,a,l){if(i.hasOwnProperty(a))for(var u=i[a],c=0,f=u.length;c<f;++c)l[u[c]+(0,r.default)(a)]=l[a]}e.exports=t.default})(aD,aD.exports)),aD.exports}var uD={exports:{}},gpe;function $tn(){return gpe||(gpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s,o,i,a){for(var l=0,u=r.length;l<u;++l){var c=r[l](s,o,i,a);if(c)return c}}e.exports=t.default})(uD,uD.exports)),uD.exports}var cD={exports:{}},mpe;function ktn(){return mpe||(mpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function s(o,i){if(o==="cursor"&&r.hasOwnProperty(i))return n.map(function(a){return a+i})}e.exports=t.default})(cD,cD.exports)),cD.exports}var fD={exports:{}},dD={exports:{}},vpe;function cI(){return vpe||(vpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=/-webkit-|-moz-|-ms-/;function r(s){return typeof s=="string"&&n.test(s)}e.exports=t.default})(dD,dD.exports)),dD.exports}var ype;function Etn(){return ype||(ype=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("cross-fade(")>-1)return o.map(function(u){return l.replace(/cross-fade\(/g,u+"cross-fade(")})}e.exports=t.default})(fD,fD.exports)),fD.exports}var hD={exports:{}},bpe;function _tn(){return bpe||(bpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("filter(")>-1)return o.map(function(u){return l.replace(/filter\(/g,u+"filter(")})}e.exports=t.default})(hD,hD.exports)),hD.exports}var pD={exports:{}},wpe;function Ttn(){return wpe||(wpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function r(s,o){if(s==="display"&&n.hasOwnProperty(o))return n[o]}e.exports=t.default})(pD,pD.exports)),pD.exports}var gD={exports:{}},xpe;function Atn(){return xpe||(xpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};function s(o,i,a){o==="flexDirection"&&typeof i=="string"&&(i.indexOf("column")>-1?a.WebkitBoxOrient="vertical":a.WebkitBoxOrient="horizontal",i.indexOf("reverse")>-1?a.WebkitBoxDirection="reverse":a.WebkitBoxDirection="normal"),r.hasOwnProperty(o)&&(a[r[o]]=n[i]||i)}e.exports=t.default})(gD,gD.exports)),gD.exports}var mD={exports:{}},Cpe;function Itn(){return Cpe||(Cpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=cI(),r=s(n);function s(l){return l&&l.__esModule?l:{default:l}}var o=["-webkit-","-moz-",""],i=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;function a(l,u){if(typeof u=="string"&&!(0,r.default)(u)&&i.test(u))return o.map(function(c){return c+u})}e.exports=t.default})(mD,mD.exports)),mD.exports}var vD={exports:{}},Spe;function Ntn(){return Spe||(Spe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("image-set(")>-1)return o.map(function(u){return l.replace(/image-set\(/g,u+"image-set(")})}e.exports=t.default})(vD,vD.exports)),vD.exports}var yD={exports:{}},$pe;function Dtn(){return $pe||($pe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s){if(r==="position"&&s==="sticky")return["-webkit-sticky","sticky"]}e.exports=t.default})(yD,yD.exports)),yD.exports}var bD={exports:{}},kpe;function Otn(){return kpe||(kpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function o(i,a){if(r.hasOwnProperty(i)&&s.hasOwnProperty(a))return n.map(function(l){return l+a})}e.exports=t.default})(bD,bD.exports)),bD.exports}var wD={exports:{}},xD={exports:{}},Rtn=/[A-Z]/g,Ftn=/^ms-/,S7={};function Mtn(e){return"-"+e.toLowerCase()}function Ptn(e){if(S7.hasOwnProperty(e))return S7[e];var t=e.replace(Rtn,Mtn);return S7[e]=Ftn.test(t)?"-"+t:t}const Ltn=Object.freeze(Object.defineProperty({__proto__:null,default:Ptn},Symbol.toStringTag,{value:"Module"})),Btn=ly(Ltn);var Epe;function ztn(){return Epe||(Epe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=Btn,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i){return(0,r.default)(i)}e.exports=t.default})(xD,xD.exports)),xD.exports}var _pe;function Vtn(){return _pe||(_pe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=ztn(),r=l(n),s=cI(),o=l(s),i=D4e(),a=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function f(h,p){if((0,o.default)(h))return h;for(var g=h.split(/,(?![^()]*(?:\([^()]*\))?\))/g),m=0,v=g.length;m<v;++m){var y=g[m],b=[y];for(var w in p){var C=(0,r.default)(w);if(y.indexOf(C)>-1&&C!=="order")for(var S=p[w],$=0,k=S.length;$<k;++$)b.unshift(y.replace(C,c[S[$]]+C))}g[m]=b.join(",")}return g.join(",")}function d(h,p,g,m){if(typeof p=="string"&&u.hasOwnProperty(h)){var v=f(p,m),y=v.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(w){return!/-moz-|-ms-/.test(w)}).join(",");if(h.indexOf("Webkit")>-1)return y;var b=v.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(w){return!/-webkit-|-ms-/.test(w)}).join(",");return h.indexOf("Moz")>-1?b:(g["Webkit"+(0,a.default)(h)]=y,g["Moz"+(0,a.default)(h)]=b,v)}}e.exports=t.default})(wD,wD.exports)),wD.exports}var Tpe;function Wtn(){if(Tpe)return oD;Tpe=1,Object.defineProperty(oD,"__esModule",{value:!0}),oD.default=I;var e=Ctn(),t=_(e),n=Stn(),r=_(n),s=$tn(),o=_(s),i=ktn(),a=_(i),l=Etn(),u=_(l),c=_tn(),f=_(c),d=Ttn(),h=_(d),p=Atn(),g=_(p),m=Itn(),v=_(m),y=Ntn(),b=_(y),w=Dtn(),C=_(w),S=Otn(),$=_(S),k=Vtn(),T=_(k);function _(F){return F&&F.__esModule?F:{default:F}}var E=[u.default,a.default,f.default,g.default,v.default,b.default,C.default,$.default,T.default,h.default],A=t.default.prefixMap;function I(F){for(var R in F){var L=F[R],D=(0,o.default)(E,R,L,F,A);D&&(F[R]=D),(0,r.default)(A,R,F)}return F}return oD}var Ape;function Utn(){if(Ape)return Z0;Ape=1,Object.defineProperty(Z0,"__esModule",{value:!0});var e=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(d[g]=p[g])}return d};Z0.PluginSet=a,Z0.fallbacks=l,Z0.contentWrap=c,Z0.prefixes=f;var t=Rte(),n=i(t),r=N4e(),s=Wtn(),o=i(s);function i(d){return d&&d.__esModule?d:{default:d}}function a(d){this.fns=d||[]}(0,n.default)(a.prototype,{add:function(){for(var h=this,p=arguments.length,g=Array(p),m=0;m<p;m++)g[m]=arguments[m];g.forEach(function(v){h.fns.indexOf(v)>=0||(h.fns=[v].concat(h.fns))})},remove:function(h){this.fns=this.fns.filter(function(p){return p!==h})},clear:function(){this.fns=[]},transform:function(h){return this.fns.reduce(function(p,g){return g(p)},h)}});function l(d){var h=Object.keys(d.style).map(function(m){return Array.isArray(d.style[m])}).indexOf(!0)>=0;if(h){var p=d.style,g=Object.keys(p).reduce(function(m,v){return m[v]=Array.isArray(p[v])?p[v].join("; "+(0,r.processStyleName)(v)+": "):p[v],m},{});return(0,n.default)({},d,{style:g})}return d}var u=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"];function c(d){if(d.style.content){var h=d.style.content;return u.indexOf(h)>=0||/^(attr|calc|counters?|url)\(/.test(h)||h.charAt(0)===h.charAt(h.length-1)&&(h.charAt(0)==='"'||h.charAt(0)==="'")?d:e({},d,{style:e({},d.style,{content:'"'+h+'"'})})}return d}function f(d){return(0,n.default)({},d,{style:(0,o.default)(e({},d.style))})}return Z0}var CD={},Ipe;function jtn(){if(Ipe)return CD;Ipe=1,Object.defineProperty(CD,"__esModule",{value:!0}),CD.default=e;function e(s,o){for(var i=1540483477,a=24,l=o^s.length,u=s.length,c=0;u>=4;){var f=t(s,c);f=r(f,i),f^=f>>>a,f=r(f,i),l=r(l,i),l^=f,c+=4,u-=4}switch(u){case 3:l^=n(s,c),l^=s.charCodeAt(c+2)<<16,l=r(l,i);break;case 2:l^=n(s,c),l=r(l,i);break;case 1:l^=s.charCodeAt(c),l=r(l,i);break}return l^=l>>>13,l=r(l,i),l^=l>>>15,l>>>0}function t(s,o){return s.charCodeAt(o++)+(s.charCodeAt(o++)<<8)+(s.charCodeAt(o++)<<16)+(s.charCodeAt(o)<<24)}function n(s,o){return s.charCodeAt(o++)+(s.charCodeAt(o++)<<8)}function r(s,o){s=s|0,o=o|0;var i=s&65535,a=s>>>16,l=i*o+((a*o&65535)<<16)|0;return l}return CD}var Npe;function fI(){if(Npe)return Tt;Npe=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.compose=Tt.merge=Tt.$=Tt.style=Tt.presets=Tt.keyframes=Tt.fontFace=Tt.insertGlobal=Tt.insertRule=Tt.plugins=Tt.styleSheet=void 0,Tt.speedy=d,Tt.simulations=b,Tt.simulate=w,Tt.cssLabels=S,Tt.isLikeRule=T,Tt.idFor=_,Tt.css=$e,Tt.rehydrate=Ce,Tt.flush=Fe,Tt.select=Ue,Tt.parent=st,Tt.media=ht,Tt.pseudo=ye,Tt.active=Ge,Tt.any=at,Tt.checked=cn,Tt.disabled=lt,Tt.empty=Ft,Tt.enabled=Dt,Tt._default=Gt,Tt.first=Te,Tt.firstChild=Xe,Tt.firstOfType=Se,Tt.fullscreen=ct,Tt.focus=Xt,Tt.hover=Gn,Tt.indeterminate=Ne,Tt.inRange=nt,Tt.invalid=wt,Tt.lastChild=Fr,Tt.lastOfType=da,Tt.left=bs,Tt.link=Ze,Tt.onlyChild=yt,Tt.onlyOfType=Kt,Tt.optional=ai,Tt.outOfRange=uu,Tt.readOnly=Rl,Tt.readWrite=ib,Tt.required=rh,Tt.right=ab,Tt.root=tc,Tt.scope=QC,Tt.target=eS,Tt.valid=tS,Tt.visited=nS,Tt.dir=rS,Tt.lang=sh,Tt.not=Be,Tt.nthChild=St,Tt.nthLastChild=dn,Tt.nthLastOfType=yr,Tt.nthOfType=Hr,Tt.after=Fo,Tt.before=ho,Tt.firstLetter=cu,Tt.firstLine=nc,Tt.selection=Gp,Tt.backdrop=lb,Tt.placeholder=We,Tt.cssFor=_t,Tt.attribsFor=Yt;var e=Rte(),t=u(e),n=dtn(),r=N4e(),s=xtn(),o=u(s),i=Utn(),a=jtn(),l=u(a);function u(le){return le&&le.__esModule?le:{default:le}}function c(le,Ee,ut){return Ee in le?Object.defineProperty(le,Ee,{value:ut,enumerable:!0,configurable:!0,writable:!0}):le[Ee]=ut,le}var f=Tt.styleSheet=new n.StyleSheet;f.inject();function d(le){return f.speedy(le)}var h=Tt.plugins=f.plugins=new i.PluginSet([i.prefixes,i.contentWrap,i.fallbacks]);h.media=new i.PluginSet,h.fontFace=new i.PluginSet,h.keyframes=new i.PluginSet([i.prefixes,i.fallbacks]);var p=!1,g=typeof window<"u",m=p,v=!1,y=!1;function b(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;m=!!le}function w(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];return Ee=(0,o.default)(Ee),Ee?m?Ee.reduce(function($t,hn){return $t["data-simulate-"+$(hn)]="",$t},{}):(v||(console.warn("can't simulate without once calling simulations(true)"),v=!0),y||(console.warn("don't use simulation outside dev"),y=!0),{}):{}}var C=p;function S(le){C=!!le}function $(le){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return le.toLowerCase().replace(/[^a-z0-9]/g,Ee)}function k(le){var Ee=JSON.stringify(le),ut=(0,l.default)(Ee).toString(36);return le.label&&le.label.length>0,ut}function T(le){var Ee=Object.keys(le).filter(function(ut){return ut!=="toString"});return Ee.length!==1?!1:!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(Ee[0])}function _(le){var Ee=Object.keys(le).filter(function(hn){return hn!=="toString"});if(Ee.length!==1)throw new Error("not a rule");var ut=/data\-css\-([a-zA-Z0-9\-_]+)/,$t=ut.exec(Ee[0]);if(!$t)throw new Error("not a rule");return $t[1]}var E=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function A(le){if(le.indexOf(",")===-1)return[le];for(var Ee=[],ut=[],$t=0,hn;hn=E.exec(le);)switch(hn[0]){case"(":$t++;break;case")":$t--;break;case",":if($t)break;Ee.push(hn.index)}for(hn=Ee.length;hn--;)ut.unshift(le.slice(Ee[hn]+1)),le=le.slice(0,Ee[hn]);return ut.unshift(le),ut}function I(le,Ee){if(!le)return Ee.replace(/\&/g,"");if(!Ee)return".css-"+le+",[data-css-"+le+"]";var ut=A(Ee).map(function($t){return $t.indexOf("&")>=0?[$t.replace(/\&/mg,".css-"+le),$t.replace(/\&/mg,"[data-css-"+le+"]")].join(","):".css-"+le+$t+",[data-css-"+le+"]"+$t}).join(",");return m&&/^\&\:/.exec(Ee)&&!/\s/.exec(Ee)&&(ut+=",.css-"+le+"[data-simulate-"+$(Ee)+"],[data-css-"+le+"][data-simulate-"+$(Ee)+"]"),ut}function F(le){var Ee=le.selector,ut=le.style,$t=h.transform({selector:Ee,style:ut});return $t.selector+"{"+(0,r.createMarkupForStyles)($t.style)+"}"}function R(le){var Ee=void 0,ut=void 0,$t=void 0,hn=void 0;return Object.keys(le).forEach(function(ar){ar.indexOf("&")>=0?(ut=ut||{},ut[ar]=le[ar]):ar.indexOf("@media")===0?($t=$t||{},$t[ar]=R(le[ar])):ar.indexOf("@supports")===0?(hn=hn||{},hn[ar]=R(le[ar])):ar==="label"?le.label.length>0&&(Ee=Ee||{},Ee.label=C?le.label.join("."):""):(Ee=Ee||{},Ee[ar]=le[ar])}),{plain:Ee,selects:ut,medias:$t,supports:hn}}function L(le,Ee){var ut=[],$t=Ee.plain,hn=Ee.selects,ar=Ee.medias,Si=Ee.supports;return $t&&ut.push(F({style:$t,selector:I(le)})),hn&&Object.keys(hn).forEach(function(ws){return ut.push(F({style:hn[ws],selector:I(le,ws)}))}),ar&&Object.keys(ar).forEach(function(ws){return ut.push(ws+"{"+L(le,ar[ws]).join("")+"}")}),Si&&Object.keys(Si).forEach(function(ws){return ut.push(ws+"{"+L(le,Si[ws]).join("")+"}")}),ut}var D=f.inserted={};function N(le){if(!D[le.id]){D[le.id]=!0;var Ee=R(le.style),ut=L(le.id,Ee);D[le.id]=g?!0:ut,ut.forEach(function($t){return f.insert($t)})}}var M=f.registered={};function z(le){M[le.id]||(M[le.id]=le)}function W(le){if(T(le)){var Ee=M[_(le)];if(Ee==null)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return Ee}return le}var j={};function U(le){if(z(le),N(le),j[le.id])return j[le.id];var Ee=c({},"data-css-"+le.id,C&&le.label||"");return Object.defineProperty(Ee,"toString",{enumerable:!1,value:function(){return"css-"+le.id}}),j[le.id]=Ee,Ee}function Y(le){for(var Ee=[":",".","[",">"," "],ut=!1,$t=le.charAt(0),hn=0;hn<Ee.length;hn++)if($t===Ee[hn]){ut=!0;break}return ut||le.indexOf("&")>=0}function G(le,Ee){var ut=A(le).map(function(hn){return hn.indexOf("&")>=0?hn:"&"+hn}),$t=A(Ee).map(function(hn){return hn.indexOf("&")>=0?hn:"&"+hn});return $t.reduce(function(hn,ar){return hn.concat(ut.map(function(Si){return ar.replace(/\&/g,Si)}))},[]).join(",")}function ne(le,Ee){return le?"@media "+le.substring(6)+" and "+Ee.substring(6):Ee}function ue(le){return le.indexOf("@media")===0}function ae(le){return le.indexOf("@supports")===0}function X(le,Ee){return le?"@supports "+le.substring(9)+" and "+Ee.substring(9):Ee}function J(le){for(var Ee=[],ut=0;ut<le.length;ut++)Array.isArray(le[ut])?Ee=Ee.concat(J(le[ut])):Ee=Ee.concat(le[ut]);return Ee}var q={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function P(le,Ee){var ut=Ee.selector,$t=ut===void 0?"":ut,hn=Ee.mq,ar=hn===void 0?"":hn,Si=Ee.supp,ws=Si===void 0?"":Si,sS=Ee.src,Kp=sS===void 0?{}:sS;Array.isArray(Kp)||(Kp=[Kp]),Kp=J(Kp),Kp.forEach(function(ha){if(T(ha)){var Mre=W(ha);if(Mre.type!=="css")throw new Error("cannot merge this rule");ha=Mre.style}ha=(0,o.default)(ha),ha&&ha.composes&&P(le,{selector:$t,mq:ar,supp:ws,src:ha.composes}),Object.keys(ha||{}).forEach(function($i){if(Y($i))q[$i]&&q[$i].forEach(function(w5e){return P(le,{selector:G($t,w5e),mq:ar,supp:ws,src:ha[$i]})}),P(le,{selector:G($t,$i),mq:ar,supp:ws,src:ha[$i]});else if(ue($i))P(le,{selector:$t,mq:ne(ar,$i),supp:ws,src:ha[$i]});else if(ae($i))P(le,{selector:$t,mq:ar,supp:X(ws,$i),src:ha[$i]});else if($i!=="composes"){var Fl=le;ws&&(Fl[ws]=Fl[ws]||{},Fl=Fl[ws]),ar&&(Fl[ar]=Fl[ar]||{},Fl=Fl[ar]),$t&&(Fl[$t]=Fl[$t]||{},Fl=Fl[$t]),$i==="label"?C&&(le.label=le.label.concat(ha.label)):Fl[$i]=ha[$i]}})})}function Q(le){var Ee={label:[]};P(Ee,{src:le});var ut={id:k(Ee),style:Ee,label:C?Ee.label.join("."):"",type:"css"};return U(ut)}var se={};Object.defineProperty(se,"toString",{enumerable:!1,value:function(){return"css-nil"}});var de=typeof WeakMap<"u"?[se,new WeakMap,new WeakMap,new WeakMap]:[se];function he(le){return function(Ee){if(de[Ee.length]){for(var ut=de[Ee.length],$t=0;$t<Ee.length-1;)ut.has(Ee[$t])||ut.set(Ee[$t],new WeakMap),ut=ut.get(Ee[$t]),$t++;if(ut.has(Ee[Ee.length-1])){var hn=ut.get(Ee[$t]);if(M[hn.toString().substring(4)])return hn}}var ar=le(Ee);if(de[Ee.length]){for(var Si=0,ws=de[Ee.length];Si<Ee.length-1;)ws=ws.get(Ee[Si]),Si++;try{ws.set(Ee[Si],ar)}catch{}}return ar}}var ge=typeof WeakMap<"u"?he(Q):Q;function $e(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];if(Ee[0]&&Ee[0].length&&Ee[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return Ee=(0,o.default)(Ee),Ee?ge(Ee):se}$e.insert=function(le){var Ee={id:k(le),css:le,type:"raw"};z(Ee),D[Ee.id]||(f.insert(Ee.css),D[Ee.id]=g?!0:[Ee.css])},Tt.insertRule=$e.insert,$e.global=function(le,Ee){if(Ee=(0,o.default)(Ee),Ee)return $e.insert(F({selector:le,style:Ee}))},Tt.insertGlobal=$e.global;function He(le){if(!D[le.id]){var Ee=Object.keys(le.keyframes).map(function($t){var hn=h.keyframes.transform({id:le.id,name:$t,style:le.keyframes[$t]});return hn.name+"{"+(0,r.createMarkupForStyles)(hn.style)+"}"}).join(""),ut=["-webkit-","-moz-","-o-",""].map(function($t){return"@"+$t+"keyframes "+(le.name+"_"+le.id)+"{"+Ee+"}"});ut.forEach(function($t){return f.insert($t)}),D[le.id]=g?!0:ut}}$e.keyframes=function(le,Ee){Ee||(Ee=le,le="animation"),Ee=(0,o.default)(Ee)||{};var ut={id:k({name:le,kfs:Ee}),type:"keyframes",name:le,keyframes:Ee};return z(ut),He(ut),le+"_"+ut.id},$e.fontFace=function(le){le=(0,o.default)(le);var Ee={id:k(le),type:"font-face",font:le};return z(Ee),Ie(Ee),le.fontFamily},Tt.fontFace=$e.fontFace,Tt.keyframes=$e.keyframes;function Ie(le){if(!D[le.id]){var Ee="@font-face{"+(0,r.createMarkupForStyles)(le.font)+"}";f.insert(Ee),D[le.id]=g?!0:[Ee]}}function Ce(le){(0,t.default)(D,le.reduce(function(Ee,ut){return Ee[ut]=!0,Ee},{}))}function Fe(){D=f.inserted={},M=f.registered={},j={},f.flush(),f.inject()}Tt.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var ze=Tt.style=$e;function Ue(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return le?$e(c({},le,ut)):ze(ut)}Tt.$=Ue;function st(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},le+" &",ut))}Tt.merge=$e,Tt.compose=$e;function ht(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},"@media "+le,ut))}function ye(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},le,ut))}function Ge(le){return ye(":active",le)}function at(le){return ye(":any",le)}function cn(le){return ye(":checked",le)}function lt(le){return ye(":disabled",le)}function Ft(le){return ye(":empty",le)}function Dt(le){return ye(":enabled",le)}function Gt(le){return ye(":default",le)}function Te(le){return ye(":first",le)}function Xe(le){return ye(":first-child",le)}function Se(le){return ye(":first-of-type",le)}function ct(le){return ye(":fullscreen",le)}function Xt(le){return ye(":focus",le)}function Gn(le){return ye(":hover",le)}function Ne(le){return ye(":indeterminate",le)}function nt(le){return ye(":in-range",le)}function wt(le){return ye(":invalid",le)}function Fr(le){return ye(":last-child",le)}function da(le){return ye(":last-of-type",le)}function bs(le){return ye(":left",le)}function Ze(le){return ye(":link",le)}function yt(le){return ye(":only-child",le)}function Kt(le){return ye(":only-of-type",le)}function ai(le){return ye(":optional",le)}function uu(le){return ye(":out-of-range",le)}function Rl(le){return ye(":read-only",le)}function ib(le){return ye(":read-write",le)}function rh(le){return ye(":required",le)}function ab(le){return ye(":right",le)}function tc(le){return ye(":root",le)}function QC(le){return ye(":scope",le)}function eS(le){return ye(":target",le)}function tS(le){return ye(":valid",le)}function nS(le){return ye(":visited",le)}function rS(le,Ee){return ye(":dir("+le+")",Ee)}function sh(le,Ee){return ye(":lang("+le+")",Ee)}function Be(le,Ee){var ut=le.split(",").map(function($t){return $t.trim()}).map(function($t){return":not("+$t+")"});return ut.length===1?ye(":not("+le+")",Ee):Ue(ut.join(""),Ee)}function St(le,Ee){return ye(":nth-child("+le+")",Ee)}function dn(le,Ee){return ye(":nth-last-child("+le+")",Ee)}function yr(le,Ee){return ye(":nth-last-of-type("+le+")",Ee)}function Hr(le,Ee){return ye(":nth-of-type("+le+")",Ee)}function Fo(le){return ye("::after",le)}function ho(le){return ye("::before",le)}function cu(le){return ye("::first-letter",le)}function nc(le){return ye("::first-line",le)}function Gp(le){return ye("::selection",le)}function lb(le){return ye("::backdrop",le)}function We(le){return $e({"::placeholder":le})}function _t(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];return Ee=(0,o.default)(Ee),Ee?Ee.map(function($t){var hn={label:[]};return P(hn,{src:$t}),L(k(hn),R(hn)).join("")}).join(""):""}function Yt(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];Ee=(0,o.default)(Ee);var $t=Ee?Ee.map(function(hn){_(hn);var ar=Object.keys(hn)[0],Si=hn[ar];return ar+'="'+(Si||"")+'"'}).join(" "):"";return $t}return Tt}var eg={},US={},Dpe;function O4e(){if(Dpe)return US;Dpe=1,Object.defineProperty(US,"__esModule",{value:!0});function e(n){return n.name!=null}US.isSurfaceInfo=e;function t(n){return n.drawArea instanceof HTMLElement}return US.isSurface=t,US}var jS={},SD={};function Htn(){}var Al={},Eb=[],Ope=[];function e_(e,t){var n=Ope,r,s,o,i;for(i=arguments.length;i-- >2;)Eb.push(arguments[i]);for(t&&t.children!=null&&(Eb.length||Eb.push(t.children),delete t.children);Eb.length;)if((s=Eb.pop())&&s.pop!==void 0)for(i=s.length;i--;)Eb.push(s[i]);else typeof s=="boolean"&&(s=null),(o=typeof e!="function")&&(s==null?s="":typeof s=="number"?s=String(s):typeof s!="string"&&(o=!1)),o&&r?n[n.length-1]+=s:n===Ope?n=[s]:n.push(s),r=o;var a=new Htn;return a.nodeName=e,a.children=n,a.attributes=t??void 0,a.key=t?.key,Al.vnode!==void 0&&Al.vnode(a),a}function sm(e,t){for(var n in t)e[n]=t[n];return e}var qtn=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function R4e(e,t){return e_(e.nodeName,sm(sm({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var Gtn=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Gj=[];function F4e(e){!e._dirty&&(e._dirty=!0)&&Gj.push(e)==1&&(Al.debounceRendering||qtn)(Fte)}function Fte(){var e,t=Gj;for(Gj=[];e=t.pop();)e._dirty&&t8(e)}function Ktn(e,t,n){return typeof t=="string"||typeof t=="number"?e.splitText!==void 0:typeof t.nodeName=="string"?!e._componentConstructor&&M4e(e,t.nodeName):n||e._componentConstructor===t.nodeName}function M4e(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function P4e(e){var t=sm({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n!==void 0)for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}function Ytn(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function Mte(e){var t=e.parentNode;t&&t.removeChild(e)}function Rpe(e,t,n,r,s){if(t==="className"&&(t="class"),t!=="key")if(t==="ref")n&&n(null),r&&r(e);else if(t==="class"&&!s)e.className=r||"";else if(t==="style"){if((!r||typeof r=="string"||typeof n=="string")&&(e.style.cssText=r||""),r&&typeof r=="object"){if(typeof n!="string")for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]=typeof r[o]=="number"&&Gtn.test(o)===!1?r[o]+"px":r[o]}}else if(t==="dangerouslySetInnerHTML")r&&(e.innerHTML=r.__html||"");else if(t[0]=="o"&&t[1]=="n"){var i=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Fpe,i):e.removeEventListener(t,Fpe,i),(e._listeners||(e._listeners={}))[t]=r}else if(t!=="list"&&t!=="type"&&!s&&t in e)Xtn(e,t,r??""),(r==null||r===!1)&&e.removeAttribute(t);else{var a=s&&t!==(t=t.replace(/^xlink:?/,""));r==null||r===!1?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):typeof r!="function"&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}}function Xtn(e,t,n){try{e[t]=n}catch{}}function Fpe(e){return this._listeners[e.type](Al.event&&Al.event(e)||e)}var L4e=[],Kj=0,Eg=!1,ZF=!1;function B4e(){for(var e;e=L4e.pop();)Al.afterMount&&Al.afterMount(e),e.componentDidMount&&e.componentDidMount()}function z4e(e,t,n,r,s,o){Kj++||(Eg=s!=null&&s.ownerSVGElement!==void 0,ZF=e!=null&&!("__preactattr_"in e));var i=V4e(e,t,n,r,o);return s&&i.parentNode!==s&&s.appendChild(i),--Kj||(ZF=!1,o||B4e()),i}function V4e(e,t,n,r,s){var o=e,i=Eg;if((t==null||typeof t=="boolean")&&(t=""),typeof t=="string"||typeof t=="number")return e&&e.splitText!==void 0&&e.parentNode&&(!e._component||s)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),Z1(e,!0))),o.__preactattr_=!0,o;var a=t.nodeName;if(typeof a=="function")return tnn(e,t,n,r);if(Eg=a==="svg"?!0:a==="foreignObject"?!1:Eg,a=String(a),(!e||!M4e(e,a))&&(o=Ytn(a,Eg),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),Z1(e,!0)}var l=o.firstChild,u=o.__preactattr_,c=t.children;if(u==null){u=o.__preactattr_={};for(var f=o.attributes,d=f.length;d--;)u[f[d].name]=f[d].value}return!ZF&&c&&c.length===1&&typeof c[0]=="string"&&l!=null&&l.splitText!==void 0&&l.nextSibling==null?l.nodeValue!=c[0]&&(l.nodeValue=c[0]):(c&&c.length||l!=null)&&Ztn(o,c,n,r,ZF||u.dangerouslySetInnerHTML!=null),Jtn(o,t.attributes,u),Eg=i,o}function Ztn(e,t,n,r,s){var o=e.childNodes,i=[],a={},l=0,u=0,c=o.length,f=0,d=t?t.length:0,h,p,g,m,v;if(c!==0)for(var y=0;y<c;y++){var b=o[y],w=b.__preactattr_,C=d&&w?b._component?b._component.__key:w.key:null;C!=null?(l++,a[C]=b):(w||(b.splitText!==void 0?!s||b.nodeValue.trim():s))&&(i[f++]=b)}if(d!==0)for(var y=0;y<d;y++){m=t[y],v=null;var C=m.key;if(C!=null)l&&a[C]!==void 0&&(v=a[C],a[C]=void 0,l--);else if(!v&&u<f){for(h=u;h<f;h++)if(i[h]!==void 0&&Ktn(p=i[h],m,s)){v=p,i[h]=void 0,h===f-1&&f--,h===u&&u++;break}}v=V4e(v,m,n,r),g=o[y],v&&v!==e&&v!==g&&(g==null?e.appendChild(v):v===g.nextSibling?Mte(g):e.insertBefore(v,g))}if(l)for(var y in a)a[y]!==void 0&&Z1(a[y],!1);for(;u<=f;)(v=i[f--])!==void 0&&Z1(v,!1)}function Z1(e,t){var n=e._component;n?n8(n):(e.__preactattr_!=null&&e.__preactattr_.ref&&e.__preactattr_.ref(null),(t===!1||e.__preactattr_==null)&&Mte(e),W4e(e))}function W4e(e){for(e=e.lastChild;e;){var t=e.previousSibling;Z1(e,!0),e=t}}function Jtn(e,t,n){var r;for(r in n)!(t&&t[r]!=null)&&n[r]!=null&&Rpe(e,r,n[r],n[r]=void 0,Eg);for(r in t)r!=="children"&&r!=="innerHTML"&&(!(r in n)||t[r]!==(r==="value"||r==="checked"?e[r]:n[r]))&&Rpe(e,r,n[r],n[r]=t[r],Eg)}var Yj={};function Qtn(e){var t=e.constructor.name;(Yj[t]||(Yj[t]=[])).push(e)}function U4e(e,t,n){var r=Yj[e.name],s;if(e.prototype&&e.prototype.render?(s=new e(t,n),t_.call(s,t,n)):(s=new t_(t,n),s.constructor=e,s.render=enn),r){for(var o=r.length;o--;)if(r[o].constructor===e){s.nextBase=r[o].nextBase,r.splice(o,1);break}}return s}function enn(e,t,n){return this.constructor(e,n)}function JF(e,t,n,r,s){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||s?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,n!==0&&(n===1||Al.syncComponentUpdates!==!1||!e.base?t8(e,1,s):F4e(e)),e.__ref&&e.__ref(e))}function t8(e,t,n,r){if(!e._disable){var s=e.props,o=e.state,i=e.context,a=e.prevProps||s,l=e.prevState||o,u=e.prevContext||i,c=e.base,f=e.nextBase,d=c||f,h=e._component,p=!1,g,m,v;if(c&&(e.props=a,e.state=l,e.context=u,t!==2&&e.shouldComponentUpdate&&e.shouldComponentUpdate(s,o,i)===!1?p=!0:e.componentWillUpdate&&e.componentWillUpdate(s,o,i),e.props=s,e.state=o,e.context=i),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!p){g=e.render(s,o,i),e.getChildContext&&(i=sm(sm({},i),e.getChildContext()));var y=g&&g.nodeName,b,w;if(typeof y=="function"){var C=P4e(g);m=h,m&&m.constructor===y&&C.key==m.__key?JF(m,C,1,i,!1):(b=m,e._component=m=U4e(y,C,i),m.nextBase=m.nextBase||f,m._parentComponent=e,JF(m,C,0,i,!1),t8(m,1,n,!0)),w=m.base}else v=d,b=h,b&&(v=e._component=null),(d||t===1)&&(v&&(v._component=null),w=z4e(v,g,i,n||!c,d&&d.parentNode,!0));if(d&&w!==d&&m!==h){var S=d.parentNode;S&&w!==S&&(S.replaceChild(w,d),b||(d._component=null,Z1(d,!1)))}if(b&&n8(b),e.base=w,w&&!r){for(var $=e,k=e;k=k._parentComponent;)($=k).base=w;w._component=$,w._componentConstructor=$.constructor}}if(!c||n?L4e.unshift(e):p||(e.componentDidUpdate&&e.componentDidUpdate(a,l,u),Al.afterUpdate&&Al.afterUpdate(e)),e._renderCallbacks!=null)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);!Kj&&!r&&B4e()}}function tnn(e,t,n,r){for(var s=e&&e._component,o=s,i=e,a=s&&e._componentConstructor===t.nodeName,l=a,u=P4e(t);s&&!l&&(s=s._parentComponent);)l=s.constructor===t.nodeName;return s&&l&&(!r||s._component)?(JF(s,u,3,n,r),e=s.base):(o&&!a&&(n8(o),e=i=null),s=U4e(t.nodeName,u,n),e&&!s.nextBase&&(s.nextBase=e,i=null),JF(s,u,1,n,r),e=s.base,i&&e!==i&&(i._component=null,Z1(i,!1))),e}function n8(e){Al.beforeUnmount&&Al.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?n8(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,Mte(t),Qtn(e),W4e(t)),e.__ref&&e.__ref(null)}function t_(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}sm(t_.prototype,{setState:function(t,n){var r=this.state;this.prevState||(this.prevState=sm({},r)),sm(r,typeof t=="function"?t(r,this.props):t),n&&(this._renderCallbacks=this._renderCallbacks||[]).push(n),F4e(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),t8(this,2)},render:function(){}});function j4e(e,t,n){return z4e(n,e,{},!1,t,!1)}var nnn={h:e_,createElement:e_,cloneElement:R4e,Component:t_,render:j4e,rerender:Fte,options:Al};const rnn=Object.freeze(Object.defineProperty({__proto__:null,Component:t_,cloneElement:R4e,createElement:e_,default:nnn,h:e_,options:Al,render:j4e,rerender:Fte},Symbol.toStringTag,{value:"Module"})),Pte=ly(rnn);var $D={},Mpe;function snn(){if(Mpe)return $D;Mpe=1;Object.defineProperty($D,"__esModule",{value:!0});const e=Pte,t=fI();class n extends e.Component{componentDidMount(){const{name:s,tab:o}=this.props;this.props.registerSurface(s,o,this)}componentDidUpdate(){return!1}render(){const{name:s,visible:o,styles:i}=this.props,a=Object.assign({},n.defaultStyles,i),{width:l,height:u}=a;let{maxHeight:c,maxWidth:f}=a;c=u===n.defaultStyles.height?c:u,f=l===n.defaultStyles.width?f:l;const d=t.css({display:o?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:u,width:l,maxHeight:c,maxWidth:f,overflow:"auto"}),h=t.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),p=t.css({boxSizing:"border-box"});return e.h("div",{className:`${d} tf-surface`,ref:g=>this.container=g,"data-visible":o},e.h("div",{className:`${h} tf-label`,ref:g=>this.label=g},s),e.h("div",{className:`${p} tf-draw-area`,ref:g=>this.drawArea=g}))}}return n.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},$D.SurfaceComponent=n,$D}var kD={},Ppe;function onn(){if(Ppe)return kD;Ppe=1;Object.defineProperty(kD,"__esModule",{value:!0});const e=Pte,t=fI();class n extends e.Component{render(){const{tabNames:o,activeTab:i,handleClick:a}=this.props,l=o.length>0?o.map(c=>e.h(r,{key:c,id:c,handleClick:a,isActive:c===i},c)):null,u=t.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return e.h("div",{className:`${u} visor-tabs`},l)}}kD.Tabs=n;class r extends e.Component{render(){const{children:o,isActive:i,handleClick:a,id:l}=this.props,u=t.css({borderBottomColor:i?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return e.h("a",{className:`${u} tf-tab`,"data-isactive":i,onClick:()=>a(l)},o)}}return kD}var Lpe;function inn(){if(Lpe)return SD;Lpe=1;Object.defineProperty(SD,"__esModule",{value:!0});const e=Pte,t=fI(),n=snn(),r=onn();class s extends e.Component{static render(a,l,u){return e.render(e.h(s,Object.assign({},u)),a,l)}constructor(a){super(a),this.surfaces=new Map;const l=a.startOpen==null?!0:a.startOpen;this.state={isOpen:l,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(a,l){const u=this.surfaceId(a,l);let c;if(this.surfaces.has(u))c=this.surfaces.get(u);else throw Error(`Surface not found with id: ${u}`);return{container:c.container,label:c.label,drawArea:c.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(a,l){return a+l}setTabs(a){const l=a.map(f=>f.tab),u=this.state.tabs;let c;for(const f of l)u.has(f)||(u.add(f),c=f);c!=null&&this.setState({tabs:u,activeTab:c})}getTabs(){return this.state.tabs}registerSurface(a,l,u){const c=this.surfaceId(a,l);this.surfaces.set(c,u)}keyHandler(a){a.keyCode===192&&(a.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(a){this.setState({activeTab:a})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(a){this.setTabs(a.surfaceList)}render(){const{isOpen:a,isFullscreen:l,activeTab:u}=this.state,{surfaceList:c}=this.props,f=Array.from(this.getTabs().values()),p=l?"90vw":"550px",g=t.css({width:p,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),m=t.css({right:"0"}),v=t.css({right:`calc(-${p} - 10px)`}),y=a?m:v,b=t.css({});return e.h("div",{className:`${g} ${y} visor`,"data-isopen":a,"data-isfullscreen":l},e.h(o,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:l}),e.h(r.Tabs,{tabNames:f,activeTab:u,handleClick:this.setActiveTab.bind(this)}),e.h("div",{className:`${b} visor-surfaces`},c.map(w=>e.h(n.SurfaceComponent,{key:w.name+w.tab,name:w.name,tab:w.tab,styles:w.styles,registerSurface:this.registerSurface.bind(this),visible:u===w.tab}))))}}SD.VisorComponent=s;function o(i){const{isFullScreen:a,fullScreenHandler:l,closeHandler:u}=i,c=t.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),f=t.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),d=t.css({marginLeft:"auto"});return e.h("div",{className:`${c} visor-controls`},e.h("button",{className:`${f}`,onClick:l},a?"Minimize":"Maximize"),e.h("button",{className:`${f} ${d}`,onClick:u},"Hide"))}return SD}var Bpe;function H4e(){if(Bpe)return jS;Bpe=1;Object.defineProperty(jS,"__esModule",{value:!0});const e=inn();let t;const n="Visor",r="tfjs-visor-container";function s(){if(typeof document>"u")throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(r)&&t!=null)return t;let i=document.getElementById(r);i==null&&(i=document.createElement("div"),i.id=r,document.body.appendChild(i));let a;function l(f,d){let h=null;return a=e.VisorComponent.render(f,a,{ref:p=>h=p,surfaceList:Array.from(d.values())}),h}const u=new Map,c=l(i,u);return t=new o(c,i,u,l),t}jS.visor=s;class o{constructor(a,l,u,c){this.visorComponent=a,this.el=l,this.surfaceList=u,this.renderVisor=c}surface(a){const{name:l}=a,u=a.tab==null?n:a.tab;if(l==null||!(typeof l=="string"||l instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const c=Object.assign({},a,{tab:u}),f=`${l}-${u}`;return this.surfaceList.has(f)||this.surfaceList.set(f,c),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(l,u)}isFullscreen(){return this.visorComponent.isFullscreen()}isOpen(){return this.visorComponent.isOpen()}close(){return this.visorComponent.close()}open(){return this.visorComponent.open()}toggle(){return this.visorComponent.toggle()}toggleFullScreen(){return this.visorComponent.toggleFullScreen()}bindKeys(){return this.visorComponent.bindKeys()}unbindKeys(){return this.visorComponent.unbindKeys()}setActiveTab(a){if(!this.visorComponent.state.tabs.has(a))throw new Error(`Tab '${a}' does not exist`);this.visorComponent.setState({activeTab:a})}}return jS.Visor=o,jS}var zpe;function ff(){if(zpe)return eg;zpe=1;var e=eg&&eg.__awaiter||function(i,a,l,u){return new(l||(l=Promise))(function(c,f){function d(g){try{p(u.next(g))}catch(m){f(m)}}function h(g){try{p(u.throw(g))}catch(m){f(m)}}function p(g){g.done?c(g.value):new l(function(m){m(g.value)}).then(d,h)}p((u=u.apply(i,a||[])).next())})};Object.defineProperty(eg,"__esModule",{value:!0});const t=O4e(),n=H4e();function r(i){if(i instanceof HTMLElement)return i;if(t.isSurface(i))return i.drawArea;if(t.isSurfaceInfo(i))return n.visor().surface({name:i.name,tab:i.tab,styles:i.styles}).drawArea;throw new Error("Not a drawable")}eg.getDrawArea=r;function s(i,a){const l=Object.getOwnPropertyNames(i),u=Object.getOwnPropertyNames(a);if(l.length!==u.length)return!1;for(let c=0;c<l.length;c++){const f=l[c];if(i[f]!==a[f])return!1}return!0}eg.shallowEquals=s;function o(){return e(this,void 0,void 0,function*(){yield new Promise(i=>requestAnimationFrame(i))})}return eg.nextFrame=o,eg}var Vpe;function N0(){if(Vpe)return $b;Vpe=1;Object.defineProperty($b,"__esModule",{value:!0});const e=fI(),t=ff(),n={prepend:!1};function r(i,a,l={}){const u=t.getDrawArea(i),c=e.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),f=e.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),d=Object.assign({},n,l);let h=u.querySelector(`div[data-name=${a}]`);if(!h){if(h=document.createElement("div"),h.setAttribute("class",`${c}`),h.dataset.name=a,d.title){const p=document.createElement("div");p.setAttribute("class",`subsurface-title ${f}`),p.innerText=d.title,h.appendChild(p)}d.prepend?u.insertBefore(h,u.firstChild):u.appendChild(h)}return h}$b.subSurface=r;function s(i){let l=0,u=i;for(;u&&u.clientWidth===0;)u=u.parentElement,l=50;return u.clientWidth-l}$b.getDefaultWidth=s;function o(i){return i.clientHeight===0?200:i.clientHeight}return $b.getDefaultHeight=o,$b}var Wpe;function ann(){if(Wpe)return Xp;Wpe=1;var e=Xp&&Xp.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=Xp&&Xp.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Xp,"__esModule",{value:!0});const n=t(WC),r=N0(),s=ff();function o(l,u,c={}){return e(this,void 0,void 0,function*(){const f=s.getDrawArea(l),d=u,h=Object.assign({},i,c);if(a.has(f)){const k=a.get(f);if(s.shallowEquals(h,k.lastOptions)){yield s.nextFrame();const T=k.view,_=T.changeset().remove(()=>!0).insert(d);yield T.change("values",_).runAsync();return}}const{xLabel:p,yLabel:g,xType:m,yType:v}=h;let y=null;p!=null&&(y={title:p});let b=null;g!=null&&(b={title:g});const w={actions:!1,mode:"vega-lite",defaultStyle:!1};let C;h.color!=null?Array.isArray(h.color)?C={field:"index",type:"nominal",scale:{range:h.color}}:C={value:h.color}:C={value:"#4C78A0"};const S={width:h.width||r.getDefaultWidth(f),height:h.height||r.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:h.fontSize,titleFontSize:h.fontSize},text:{fontSize:h.fontSize},legend:{labelFontSize:h.fontSize,titleFontSize:h.fontSize}},data:{values:d,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:m,axis:y},y:{field:"value",type:v,axis:b},color:C}};yield s.nextFrame();const $=yield n.default(f,S,w);a.set(f,{view:$.view,lastOptions:h})})}Xp.barchart=o;const i={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},a=new Map;return Xp}var tg={},Upe;function lnn(){if(Upe)return tg;Upe=1;var e=tg&&tg.__awaiter||function(a,l,u,c){return new(u||(u=Promise))(function(f,d){function h(m){try{g(c.next(m))}catch(v){d(v)}}function p(m){try{g(c.throw(m))}catch(v){d(v)}}function g(m){m.done?f(m.value):new u(function(v){v(m.value)}).then(h,p)}g((c=c.apply(a,l||[])).next())})},t=tg&&tg.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=ff();function o(a,l,u={}){return e(this,void 0,void 0,function*(){const c=Object.assign({},i,u),f=s.getDrawArea(a),d=[],h=l.values,p=l.tickLabels||[],g=p.length===0;let m=!0;for(let w=0;w<h.length;w++){const C=g?`Class ${w}`:p[w];g&&p.push(C);for(let S=0;S<h[w].length;S++){const $=g?`Class ${S}`:p[S],k=h[w][S];w===S&&!c.shadeDiagonal?d.push({label:C,prediction:$,count:k,noFill:!0}):(d.push({label:C,prediction:$,count:k,scaleCount:k}),k!==0&&(m=!1))}}if(!c.shadeDiagonal&&m)for(const w of d)w.noFill===!0&&(w.noFill=!1,w.scaleCount=w.count);const v={actions:!1,mode:"vega-lite",defaultStyle:!1},y={width:c.width||r.getDefaultWidth(f),height:c.height||r.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:c.fontSize,titleFontSize:c.fontSize},text:{fontSize:c.fontSize},legend:{labelFontSize:c.fontSize,titleFontSize:c.fontSize}},data:{values:d},encoding:{x:{field:"prediction",type:"ordinal",title:c.xLabel||"prediction",scale:{domain:p}},y:{field:"label",type:"ordinal",title:c.yLabel||"label",scale:{domain:p}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:c.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]};c.shadeDiagonal===!1&&y.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),c.showTextOverlay&&y.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}});const b=typeof c.colorMap=="string"?{scheme:c.colorMap}:c.colorMap;y.layer[0].encoding.color.scale.range=b,yield n.default(f,y,v)})}tg.confusionMatrix=o;const i={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]};return tg}var xf={},J0={},jpe;function r8(){if(jpe)return J0;jpe=1,Object.defineProperty(J0,"__esModule",{value:!0});function e(r,s){if(!r)throw new Error(typeof s=="string"?s:s())}J0.assert=e;function t(r,s,o=""){e(n(r,s),o+` Shapes ${r} and ${s} must match`)}J0.assertShapesMatch=t;function n(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o]!==s[o])return!1;return!0}return J0.arraysEqual=n,J0.DECIMAL_PLACES_TO_CHECK=4,J0}var Hpe;function unn(){if(Hpe)return xf;Hpe=1;var e=xf&&xf.__awaiter||function(d,h,p,g){return new(p||(p=Promise))(function(m,v){function y(C){try{w(g.next(C))}catch(S){v(S)}}function b(C){try{w(g.throw(C))}catch(S){v(S)}}function w(C){C.done?m(C.value):new p(function(S){S(C.value)}).then(y,b)}w((g=g.apply(d,h||[])).next())})},t=xf&&xf.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var p in d)Object.hasOwnProperty.call(d,p)&&(h[p]=d[p]);return h.default=d,h},n=xf&&xf.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(xf,"__esModule",{value:!0});const r=t(FSe),s=n(WC),o=N0(),i=r8(),a=ff();function l(d,h,p={}){return e(this,void 0,void 0,function*(){const g=Object.assign({},f,p),m=a.getDrawArea(d);let v=h.values;g.rowMajor&&(v=yield u(h.values));const{xTickLabels:y,yTickLabels:b}=h;y!=null&&c(v,y,0),b!=null&&c(v,b,1);const w="@tfidx@",C=[];if(v instanceof r.Tensor){i.assert(v.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const E=yield v.data(),[A,I]=v.shape;for(let F=0;F<A;F++){const R=y?`${y[F]}${w}${F}`:F;for(let L=0;L<I;L++){const D=b?`${b[L]}${w}${L}`:L,N=F*I+L,M=E[N];C.push({x:R,y:D,value:M})}}}else{const E=v;for(let A=0;A<E.length;A++){const I=y?`${y[A]}${w}${A}`:A;for(let F=0;F<E[A].length;F++){const R=b?`${b[F]}${w}${F}`:F,L=E[A][F];C.push({x:I,y:R,value:L})}}}const S={actions:!1,mode:"vega-lite",defaultStyle:!1},$={width:g.width||o.getDefaultWidth(m),height:g.height||o.getDefaultHeight(m),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:C},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:g.xType,title:g.xLabel,sort:!1},y:{field:"y",type:g.yType,title:g.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},k=`${w}\\d+$`,T=new RegExp(k);y&&($.encoding.x.axis={labelExpr:`replace(datum.value, regexp(/${k}/), '')`}),b&&($.encoding.y.axis={labelExpr:`replace(datum.value, regexp(/${k}/), '')`}),(y||b)&&(S.tooltip={sanitize:E=>String(E).replace(T,"")});let _;switch(g.colorMap){case"blues":_=["#f7fbff","#4292c6"];break;case"greyscale":_=["#000000","#ffffff"];break;default:_="viridis";break}if(_!=="viridis"){const E=$.encoding.fill;E.scale={range:_}}if(g.domain){const E=$.encoding.fill;E.scale!=null?E.scale=Object.assign({},E.scale,{domain:g.domain}):E.scale={domain:g.domain}}yield s.default(m,$,S)})}xf.heatmap=l;function u(d){return e(this,void 0,void 0,function*(){let h,p;d instanceof r.Tensor?(h=d.shape,p=d.transpose()):(h=[d.length,d[0].length],p=r.tidy(()=>r.tensor2d(d).transpose())),i.assert(p.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const g=yield p.array();p.dispose();const m=[g.length,g[0].length];return i.assert(h[0]===m[1]&&h[1]===m[0],`Unexpected transposed shape. Original ${h} : Transposed ${m}`),g})}function c(d,h,p){const g=d instanceof r.Tensor?d.shape:[d.length,d[0].length];p===0?i.assert(g[0]===h.length,`Length of xTickLabels (${h.length}) must match number of rows (${g[0]})`):p===1&&i.assert(g[1]===h.length,`Length of yTickLabels (${h.length}) must match number of columns (${g[1]})`)}const f={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1};return xf}var ng={};const q4e=ly(hTt);var Cf={},qpe;function s8(){if(qpe)return Cf;qpe=1;var e=Cf&&Cf.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})};Object.defineProperty(Cf,"__esModule",{value:!0});const t=FSe,n=r8();function r(l){if(!Array.isArray(l))throw new Error("input must be an array");if(l.length===0)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const u=l.length;let c=-1/0,f=1/0,d=0,h=0,p=0;for(let m=0;m<u;m++){const v=l[m];v>c&&(c=v),v<f&&(f=v),v===0&&(d+=1),isNaN(v)?h+=1:isFinite(v)||(p+=1)}const g={numVals:u,numZeros:d,numNans:h,max:c,min:f,numInfs:p};return g.max===-1/0&&(g.max=NaN),g.min===1/0&&(g.min=NaN),g}Cf.arrayStats=r;function s(l){return e(this,void 0,void 0,function*(){const[u,c,f]=t.tidy(()=>{const d=t.scalar(0,l.dtype),h=l.min(),p=l.max(),g=l.equal(d).sum();return[h,p,g]});return Promise.all([l.data(),u.data(),c.data(),f.data()]).then(([d,h,p,g])=>{const m=d.length;let v=0,y=0;for(let S=0;S<m;S++){const $=d[S];isNaN($)?v+=1:isFinite($)||(y+=1)}let b=h[0],w=p[0];return v===m&&(b=NaN,w=NaN),{numVals:m,numZeros:g[0],numNans:v,min:b,max:w,numInfs:y}})})}Cf.tensorStats=s;function o(l,u,c,f){return e(this,void 0,void 0,function*(){n.assert(l.rank===1,"labels must be a 1D tensor"),n.assert(u.rank===1,"predictions must be a 1D tensor"),n.assert(l.size===u.size,"labels and predictions must be the same length"),f!=null&&n.assert(f.size===u.size,"labels and predictions must be the same length");const d=l.cast("int32"),h=u.cast("int32");c==null&&(c=t.tidy(()=>t.maximum(d.max(),h.max()).cast("int32").dataSync()[0]+1));let p=Promise.resolve(null);return f!=null&&(p=f.data()),Promise.all([d.data(),h.data(),p]).then(([g,m,v])=>{const y=Array(c).fill(0);for(let b=0;b<c;b++)y[b]=Array(c).fill(0);for(let b=0;b<g.length;b++){const w=g[b],C=m[b];v!=null?y[w][C]+=v[b]:y[w][C]+=1}return y})})}Cf.confusionMatrix=o;function i(l,u){return e(this,void 0,void 0,function*(){n.assertShapesMatch(l.shape,u.shape,"Error computing accuracy.");const c=l.equal(u),f=c.mean(),d=(yield f.data())[0];return t.dispose([c,f]),d})}Cf.accuracy=i;function a(l,u,c){return e(this,void 0,void 0,function*(){return n.assert(l.rank===1,"labels must be a 1D tensor"),n.assert(u.rank===1,"predictions must be a 1D tensor"),n.assert(l.size===u.size,"labels and predictions must be the same length"),c==null&&(c=t.tidy(()=>t.maximum(l.max(),u.max()).dataSync()[0]+1)),Promise.all([l.data(),u.data()]).then(([f,d])=>{const h=Array(c).fill(0),p=Array(c).fill(0);for(let m=0;m<f.length;m++){const v=f[m],y=d[m];h[v]+=1,v===y&&(p[v]+=1)}const g=[];for(let m=0;m<h.length;m++)g.push({count:h[m],accuracy:h[m]===0?0:p[m]/h[m]});return g})})}return Cf.perClassAccuracy=a,Cf}var ED={},Xj="http://www.w3.org/1999/xhtml";const Zj={svg:"http://www.w3.org/2000/svg",xhtml:Xj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lte(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zj.hasOwnProperty(t)?{space:Zj[t],local:e}:e}function cnn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xj&&t.documentElement.namespaceURI===Xj?t.createElement(e):t.createElementNS(n,e)}}function fnn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function o8(e){var t=Lte(e);return(t.local?fnn:cnn)(t)}function dnn(){}function Bte(e){return e==null?dnn:function(){return this.querySelector(e)}}function hnn(e){typeof e!="function"&&(e=Bte(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),l,u,c=0;c<i;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new za(r,this._parents)}function pnn(){return[]}function G4e(e){return e==null?pnn:function(){return this.querySelectorAll(e)}}function gnn(e){typeof e!="function"&&(e=G4e(e));for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(r.push(e.call(l,l.__data__,u,i)),s.push(l));return new za(r,s)}var K4e=function(e){return function(){return this.matches(e)}};if(typeof document<"u"){var HS=document.documentElement;if(!HS.matches){var mnn=HS.webkitMatchesSelector||HS.msMatchesSelector||HS.mozMatchesSelector||HS.oMatchesSelector;K4e=function(e){return function(){return mnn.call(this,e)}}}}const Y4e=K4e;function vnn(e){typeof e!="function"&&(e=Y4e(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,u=0;u<i;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new za(r,this._parents)}function X4e(e){return new Array(e.length)}function ynn(){return new za(this._enter||this._groups.map(X4e),this._parents)}function QF(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}QF.prototype={constructor:QF,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bnn(e){return function(){return e}}var Gpe="$";function wnn(e,t,n,r,s,o){for(var i=0,a,l=t.length,u=o.length;i<u;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new QF(e,o[i]);for(;i<l;++i)(a=t[i])&&(s[i]=a)}function xnn(e,t,n,r,s,o,i){var a,l,u={},c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=Gpe+i.call(l,l.__data__,a,t),h in u?s[a]=l:u[h]=l);for(a=0;a<f;++a)h=Gpe+i.call(e,o[a],a,o),(l=u[h])?(r[a]=l,l.__data__=o[a],u[h]=null):n[a]=new QF(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u[d[a]]===l&&(s[a]=l)}function Cnn(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(S){h[++u]=S}),h;var n=t?xnn:wnn,r=this._parents,s=this._groups;typeof e!="function"&&(e=bnn(e));for(var o=s.length,i=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=s[u],d=f.length,h=e.call(c,c&&c.__data__,u,r),p=h.length,g=a[u]=new Array(p),m=i[u]=new Array(p),v=l[u]=new Array(d);n(c,f,g,m,v,h,t);for(var y=0,b=0,w,C;y<p;++y)if(w=g[y]){for(y>=b&&(b=y+1);!(C=m[b])&&++b<p;);w._next=C||null}}return i=new za(i,r),i._enter=a,i._exit=l,i}function Snn(){return new za(this._exit||this._groups.map(X4e),this._parents)}function $nn(e){for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=i[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)i[a]=t[a];return new za(i,this._parents)}function knn(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this}function Enn(e){e||(e=_nn);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,l=s[o]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new za(s,this._parents).order()}function _nn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tnn(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ann(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function Inn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function Nnn(){var e=0;return this.each(function(){++e}),e}function Dnn(){return!this.node()}function Onn(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function Rnn(e){return function(){this.removeAttribute(e)}}function Fnn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mnn(e,t){return function(){this.setAttribute(e,t)}}function Pnn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Lnn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Bnn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function znn(e,t){var n=Lte(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Fnn:Rnn:typeof t=="function"?n.local?Bnn:Lnn:n.local?Pnn:Mnn)(n,t))}function zte(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Vnn(e){return function(){this.style.removeProperty(e)}}function Wnn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Unn(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function jnn(e,t,n){return arguments.length>1?this.each((t==null?Vnn:typeof t=="function"?Unn:Wnn)(e,t,n??"")):Z4e(this.node(),e)}function Z4e(e,t){return e.style.getPropertyValue(t)||zte(e).getComputedStyle(e,null).getPropertyValue(t)}function Hnn(e){return function(){delete this[e]}}function qnn(e,t){return function(){this[e]=t}}function Gnn(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Knn(e,t){return arguments.length>1?this.each((t==null?Hnn:typeof t=="function"?Gnn:qnn)(e,t)):this.node()[e]}function J4e(e){return e.trim().split(/^|\s+/)}function Vte(e){return e.classList||new Q4e(e)}function Q4e(e){this._node=e,this._names=J4e(e.getAttribute("class")||"")}Q4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ePe(e,t){for(var n=Vte(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function tPe(e,t){for(var n=Vte(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Ynn(e){return function(){ePe(this,e)}}function Xnn(e){return function(){tPe(this,e)}}function Znn(e,t){return function(){(t.apply(this,arguments)?ePe:tPe)(this,e)}}function Jnn(e,t){var n=J4e(e+"");if(arguments.length<2){for(var r=Vte(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Znn:t?Ynn:Xnn)(n,t))}function Qnn(){this.textContent=""}function ern(e){return function(){this.textContent=e}}function trn(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nrn(e){return arguments.length?this.each(e==null?Qnn:(typeof e=="function"?trn:ern)(e)):this.node().textContent}function rrn(){this.innerHTML=""}function srn(e){return function(){this.innerHTML=e}}function orn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function irn(e){return arguments.length?this.each(e==null?rrn:(typeof e=="function"?orn:srn)(e)):this.node().innerHTML}function arn(){this.nextSibling&&this.parentNode.appendChild(this)}function lrn(){return this.each(arn)}function urn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function crn(){return this.each(urn)}function frn(e){var t=typeof e=="function"?e:o8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function drn(){return null}function hrn(e,t){var n=typeof e=="function"?e:o8(e),r=t==null?drn:typeof t=="function"?t:Bte(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function prn(){var e=this.parentNode;e&&e.removeChild(this)}function grn(){return this.each(prn)}function mrn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function vrn(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function yrn(e){return this.select(e?vrn:mrn)}function brn(e){return arguments.length?this.property("__data__",e):this.node().__data__}var nPe={},Bh=null;if(typeof document<"u"){var wrn=document.documentElement;"onmouseenter"in wrn||(nPe={mouseenter:"mouseover",mouseleave:"mouseout"})}function xrn(e,t,n){return e=rPe(e,t,n),function(r){var s=r.relatedTarget;(!s||s!==this&&!(s.compareDocumentPosition(this)&8))&&e.call(this,r)}}function rPe(e,t,n){return function(r){var s=Bh;Bh=r;try{e.call(this,this.__data__,t,n)}finally{Bh=s}}}function Crn(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Srn(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++r]=o;++r?t.length=r:delete this.__on}}}function $rn(e,t,n){var r=nPe.hasOwnProperty(e.type)?xrn:rPe;return function(s,o,i){var a=this.__on,l,u=r(t,o,i);if(a){for(var c=0,f=a.length;c<f;++c)if((l=a[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),l.value=t;return}}this.addEventListener(e.type,u,n),l={type:e.type,name:e.name,value:t,listener:u,capture:n},a?a.push(l):this.__on=[l]}}function krn(e,t,n){var r=Crn(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(s=0,c=a[l];s<o;++s)if((i=r[s]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?$rn:Srn,n==null&&(n=!1),s=0;s<o;++s)this.each(a(r[s],t,n));return this}function Ern(e,t,n,r){var s=Bh;e.sourceEvent=Bh,Bh=e;try{return t.apply(n,r)}finally{Bh=s}}function sPe(e,t,n){var r=zte(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function _rn(e,t){return function(){return sPe(this,e,t)}}function Trn(e,t){return function(){return sPe(this,e,t.apply(this,arguments))}}function Arn(e,t){return this.each((typeof t=="function"?Trn:_rn)(e,t))}var Wte=[null];function za(e,t){this._groups=e,this._parents=t}function oPe(){return new za([[document.documentElement]],Wte)}za.prototype=oPe.prototype={constructor:za,select:hnn,selectAll:gnn,filter:vnn,data:Cnn,enter:ynn,exit:Snn,merge:$nn,order:knn,sort:Enn,call:Tnn,nodes:Ann,node:Inn,size:Nnn,empty:Dnn,each:Onn,attr:znn,style:jnn,property:Knn,classed:Jnn,text:nrn,html:irn,raise:lrn,lower:crn,append:frn,insert:hrn,remove:grn,clone:yrn,datum:brn,on:krn,dispatch:Arn};function iPe(e){return typeof e=="string"?new za([[document.querySelector(e)]],[document.documentElement]):new za([[e]],Wte)}function Irn(e){return iPe(o8(e).call(document.documentElement))}var Nrn=0;function aPe(){return new Jj}function Jj(){this._="@"+(++Nrn).toString(36)}Jj.prototype=aPe.prototype={constructor:Jj,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Ute(){for(var e=Bh,t;t=e.sourceEvent;)e=t;return e}function i8(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Drn(e){var t=Ute();return t.changedTouches&&(t=t.changedTouches[0]),i8(e,t)}function Orn(e){return typeof e=="string"?new za([document.querySelectorAll(e)],[document.documentElement]):new za([e??[]],Wte)}function Rrn(e,t,n){arguments.length<3&&(n=t,t=Ute().changedTouches);for(var r=0,s=t?t.length:0,o;r<s;++r)if((o=t[r]).identifier===n)return i8(e,o);return null}function Frn(e,t){t==null&&(t=Ute().touches);for(var n=0,r=t?t.length:0,s=new Array(r);n<r;++n)s[n]=i8(e,t[n]);return s}const Mrn=Object.freeze(Object.defineProperty({__proto__:null,clientPoint:i8,create:Irn,creator:o8,customEvent:Ern,get event(){return Bh},local:aPe,matcher:Y4e,mouse:Drn,namespace:Lte,namespaces:Zj,select:iPe,selectAll:Orn,selection:oPe,selector:Bte,selectorAll:G4e,style:Z4e,touch:Rrn,touches:Frn,window:zte},Symbol.toStringTag,{value:"Module"})),Prn=ly(Mrn);var Kpe;function a8(){if(Kpe)return ED;Kpe=1;Object.defineProperty(ED,"__esModule",{value:!0});const e=q4e,t=Prn,n=fI(),r=ff();function s(i,a,l={}){if(a&&a.headers==null)throw new Error('Data to render must have a "headers" property');if(a&&a.values==null)throw new Error('Data to render must have a "values" property');const u=r.getDrawArea(i),c=Object.assign({},o,l);let f=t.select(u).select("table.tf-table");const d=n.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(f.size()===0&&(f=t.select(u).append("table"),f.attr("class",` ${d} tf-table`),f.append("thead").append("tr"),f.append("tbody")),f.size()!==1)throw new Error("Error inserting table");const h=n.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),p=f.select("thead").select("tr").selectAll("th").data(a.headers),g=p.enter().append("th").attr("class",`${h}`);p.merge(g).html(S=>S),p.exit().remove();const m=e.format(",.4~f"),v=f.select("tbody").selectAll("tr").data(a.values),y=v.enter().append("tr"),b=n.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),w=v.merge(y).selectAll("td").data(S=>S),C=w.enter().append("td").attr("class",`${b}`);w.merge(C).html(S=>typeof S=="number"?m(S):S),w.exit().remove(),v.exit().remove()}ED.table=s;const o={fontSize:14};return ED}var Ype;function jte(){if(Ype)return ng;Ype=1;var e=ng&&ng.__awaiter||function(f,d,h,p){return new(h||(h=Promise))(function(g,m){function v(w){try{b(p.next(w))}catch(C){m(C)}}function y(w){try{b(p.throw(w))}catch(C){m(C)}}function b(w){w.done?g(w.value):new h(function(C){C(w.value)}).then(v,y)}b((p=p.apply(f,d||[])).next())})},t=ng&&ng.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ng,"__esModule",{value:!0});const n=q4e,r=t(WC),s=N0(),o=s8(),i=a8(),a={maxBins:12,fontSize:11};function l(f,d,h={}){return e(this,void 0,void 0,function*(){const p=c(d),g=Object.assign({},a,h),m={actions:!1,mode:"vega-lite",defaultStyle:!1},v=s.subSurface(f,"histogram");if(h.stats!==!1){const w=s.subSurface(f,"stats",{prepend:!0});let C;h.stats?C=h.stats:C=o.arrayStats(p.map(S=>S.value)),u(C,w,{fontSize:g.fontSize})}if(p.length===0)return;const y=[];for(let w=0;w<p.length;w++){const C=p[w].value;C!=null&&isFinite(C)&&y.push(p[w])}const b={width:g.width||s.getDefaultWidth(v),height:g.height||s.getDefaultHeight(v),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:y},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},encoding:{x:{bin:{maxbins:g.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:g.color||"#001B44"}}};return r.default(v,b,m)})}ng.histogram=l;function u(f,d,h){const p=n.format(",.4~f"),g=n.format(".4~p"),m=[],v=[];if(f.numVals!=null&&(m.push("Num Vals"),v.push(p(f.numVals))),f.min!=null&&(m.push("Min"),v.push(p(f.min))),f.max!=null&&(m.push("Max"),v.push(p(f.max))),f.numZeros!=null){m.push("# Zeros");let y="";f.numVals&&(y=f.numZeros>0?`(${g(f.numZeros/f.numVals)})`:""),v.push(`${p(f.numZeros)} ${y}`)}if(f.numNans!=null){m.push("# NaNs");let y="";f.numVals&&(y=f.numNans>0?`(${g(f.numNans/f.numVals)})`:""),v.push(`${p(f.numNans)} ${y}`)}if(f.numInfs!=null){m.push("# Infinity");let y="";f.numVals&&(y=f.numInfs>0?`(${g(f.numInfs/f.numVals)})`:""),v.push(`${p(f.numInfs)} ${y}`)}i.table(d,{headers:m,values:[v]},h)}function c(f){if(f.length==null)throw new Error("input data must be an array");if(f.length===0)return[];if(typeof f[0]=="object"){if(f[0].value==null)throw new Error("input data must have a value field");return f}else{const d=Array(f.length);for(let h=0;h<f.length;h++)d[h]={value:f[h]};return d}}return ng}var rg={},Xpe;function lPe(){if(Xpe)return rg;Xpe=1;var e=rg&&rg.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=rg&&rg.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(rg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=r8(),o=ff();function i(l,u,c={}){return e(this,void 0,void 0,function*(){const f=Array.isArray(u.values[0])?u.values:[u.values],d=f[0].length,h=u.series?u.series:f.map(($,k)=>`Series ${k+1}`);s.assert(h.length===f.length,"Must have an equal number of series labels as there are data series"),c.seriesColors!=null&&s.assert(c.seriesColors.length===f.length,"Must have an equal number of series colors as there are data series");const p=[];for(let $=0;$<d;$++){const k={x:$};h.forEach((T,_)=>{const E=f[_][$].y;k[T]=E,k[`${T}-name`]=T}),p.push(k)}const g=Object.assign({},a,c),m=()=>{if(g.zoomToFit)return{zero:!1};if(g.yAxisDomain!=null)return{domain:g.yAxisDomain}},v={x:{field:"x",type:g.xType,title:g.xLabel},tooltip:[{field:"x",type:"quantitative"},...h.map($=>({field:$,type:"quantitative"}))]},y=h.map($=>({data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:$,type:g.yType,title:g.yLabel,scale:m()},color:{field:`${$}-name`,type:"nominal",legend:{values:h,title:null},scale:{range:g.seriesColors}}}})),b={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},w=o.getDrawArea(l),C={width:g.width||r.getDefaultWidth(w),height:g.height||r.getDefaultHeight(w),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:p},encoding:v,layer:[...y,b]},S={actions:!1,mode:"vega-lite",defaultStyle:!1};return yield n.default(w,C,S),Promise.resolve()})}rg.linechart=i;const a={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};return rg}var sg={},Zpe;function Lrn(){if(Zpe)return sg;Zpe=1;var e=sg&&sg.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=sg&&sg.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(sg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=r8(),o=ff();function i(l,u,c={}){return e(this,void 0,void 0,function*(){let f=u.values;const d=u.series==null?[]:u.series;f=Array.isArray(f[0])?f:[f];const h=[];f.forEach((w,C)=>{const S=d[C]!=null?d[C]:`Series ${C+1}`,$=w.map(k=>Object.assign({},k,{series:S}));h.push(...$)}),c.seriesColors!=null&&s.assert(c.seriesColors.length===f.length,"Must have an equal number of series colors as there are data series");const p=o.getDrawArea(l),g=Object.assign({},a,c),m={actions:!1,mode:"vega-lite",defaultStyle:!1},v=()=>{if(g.zoomToFit)return{zero:!1};if(g.xAxisDomain!=null)return{domain:g.xAxisDomain}},y=()=>{if(g.zoomToFit)return{zero:!1};if(g.yAxisDomain!=null)return{domain:g.yAxisDomain}},b={width:g.width||r.getDefaultWidth(p),height:g.height||r.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:h},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:g.xType,title:g.xLabel,scale:v()},y:{field:"y",type:g.yType,title:g.yLabel,scale:y()},color:{field:"series",type:"nominal",scale:{range:g.seriesColors}},shape:{field:"series",type:"nominal"}}};return yield n.default(p,b,m),Promise.resolve()})}sg.scatterplot=i;const a={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};return sg}var Q0={},Jpe;function Brn(){if(Jpe)return Q0;Jpe=1;var e=Q0&&Q0.__awaiter||function(u,c,f,d){return new(f||(f=Promise))(function(h,p){function g(y){try{v(d.next(y))}catch(b){p(b)}}function m(y){try{v(d.throw(y))}catch(b){p(b)}}function v(y){y.done?h(y.value):new f(function(b){b(y.value)}).then(g,m)}v((d=d.apply(u,c||[])).next())})};Object.defineProperty(Q0,"__esModule",{value:!0});const t=lPe(),n=ff(),r=N0();function s(u,c,f,d={}){return e(this,void 0,void 0,function*(){const h=n.getDrawArea(u),p={};for(const y of f)if(/val_/.test(y)){const b=y.replace("val_","");o(p,b);const w=i(c,y,f.indexOf(y));p[b].series.push(y),p[b].values.push(w)}else{const b=i(c,y,f.indexOf(y));o(p,y),p[y].series.push(y),p[y].values.push(b)}const g=Object.keys(p),m=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},d),v=[];for(const y of g){const b=r.subSurface(h,y),w=p[y].series,C=p[y].values;w.every($=>!!$.match("acc"))&&(m.zoomToFitAccuracy?m.zoomToFit=!0:(m.yAxisDomain=[0,1],delete m.zoomToFit));const S=t.linechart(b,{values:C,series:w},m);v.push(S)}yield Promise.all(v)})}Q0.history=s;function o(u,c){u[c]==null&&(u[c]={series:[],values:[]})}function i(u,c,f){if(Array.isArray(u)){const d=Array.isArray(u[0])?u[f]:u,h=[];for(let p=0;p<d.length;p++){const g=d[p];h.push({x:p,y:g[c]})}return h}else return u.history[c].map((d,h)=>({x:h,y:d}))}function a(u,c,f={}){const d={},h=f.callbacks||["onEpochEnd","onBatchEnd"],p=n.getDrawArea(u),g=Object.assign({},f);delete g.callbacks;function m(y){return(b,w)=>e(this,void 0,void 0,function*(){/batch/i.test(y)?g.xLabel="Batch":/epoch/i.test(y)&&(g.xLabel="Epoch");const C=[],S=[];for(const k of c)if(w[k]!=null){S.push(k);const T=l(d,y,k);T.push({[k]:w[k]}),C.push(T)}const $=r.subSurface(p,y,{title:y});s($,C,S,g),yield n.nextFrame()})}const v={};return h.forEach(y=>{v[y]=m(y)}),v}Q0.fitCallbacks=a;function l(u,c,f){return u[c]==null&&(u[c]={}),u[c][f]==null&&(u[c][f]=[]),u[c][f]}return Q0}var ev={},Qpe;function zrn(){if(Qpe)return ev;Qpe=1;var e=ev&&ev.__awaiter||function(h,p,g,m){return new(g||(g=Promise))(function(v,y){function b(S){try{C(m.next(S))}catch($){y($)}}function w(S){try{C(m.throw(S))}catch($){y($)}}function C(S){S.done?v(S.value):new g(function($){$(S.value)}).then(b,w)}C((m=m.apply(h,p||[])).next())})};Object.defineProperty(ev,"__esModule",{value:!0});const t=jte(),n=ff(),r=a8(),s=N0(),o=s8();function i(h,p){return e(this,void 0,void 0,function*(){const g=n.getDrawArea(h),m=l(p),v=["Layer Name","Output Shape","# Of Params","Trainable"],y=m.layers.map(b=>[b.name,b.outputShape,b.parameters,b.trainable]);r.table(g,{headers:v,values:y})})}ev.modelSummary=i;function a(h,p){return e(this,void 0,void 0,function*(){const g=n.getDrawArea(h),m=yield c(p),v=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],y=s.subSurface(g,"layer-weights-info"),b=m.map($=>[$.name,$.shape,$.stats.min,$.stats.max,$.weight.size,$.stats.numZeros,$.stats.numNans,$.stats.numInfs]);r.table(y,{headers:v,values:b});const w=s.subSurface(g,"select-layer"),C=s.subSurface(g,"param-distribution"),S=$=>e(this,void 0,void 0,function*(){const T=yield m.filter(_=>_.name===$)[0].weight.data();t.histogram(C,T,{height:150,width:460,stats:!1})});d(m.map($=>$.name),w,S)})}ev.layer=a;function l(h){return{layers:h.layers.map(u)}}function u(h){let p;return Array.isArray(h.outputShape[0])?p=`[${h.outputShape.map(m=>f(m)).join(", ")}]`:p=f(h.outputShape),{name:h.name,trainable:h.trainable,parameters:h.countParams(),outputShape:p}}function c(h){return e(this,void 0,void 0,function*(){const p=h.getWeights(),g=h.weights,m=p.map(o.tensorStats),v=yield Promise.all(m),y=p.map(b=>b.shape);return p.map((b,w)=>({name:g[w].name,stats:v[w],shape:f(y[w]),weight:b}))})}function f(h){const p=h.slice();return p.length===0?"Scalar":(p[0]===null&&(p[0]="batch"),`[${p.join(",")}]`)}function d(h,p,g){const y=`<div><button>Show Values Distribution for:</button>${`
    <select>
      ${h.map(C=>`<option value=${C}>${C}</option>`)}
    </select>
  `}</div>`;p.innerHTML=y;const b=p.querySelector("button"),w=p.querySelector("select");b.addEventListener("click",()=>{g(w.selectedOptions[0].label)})}return ev}var _b={},ege;function Vrn(){if(ege)return _b;ege=1;var e=_b&&_b.__awaiter||function(s,o,i,a){return new(i||(i=Promise))(function(l,u){function c(h){try{d(a.next(h))}catch(p){u(p)}}function f(h){try{d(a.throw(h))}catch(p){u(p)}}function d(h){h.done?l(h.value):new i(function(p){p(h.value)}).then(c,f)}d((a=a.apply(s,o||[])).next())})};Object.defineProperty(_b,"__esModule",{value:!0});const t=ff(),n=a8();function r(s,o,i){return e(this,void 0,void 0,function*(){const a=t.getDrawArea(s),l=["Class","Accuracy","# Samples"],u=[];for(let c=0;c<o.length;c++){const f=i?i[c]:c.toString(),d=o[c];u.push([f,d.accuracy,d.count])}return n.table(a,{headers:l,values:u})})}return _b.perClassAccuracy=r,_b}var Tb={},tge;function Wrn(){if(tge)return Tb;tge=1;var e=Tb&&Tb.__awaiter||function(o,i,a,l){return new(a||(a=Promise))(function(u,c){function f(p){try{h(l.next(p))}catch(g){c(g)}}function d(p){try{h(l.throw(p))}catch(g){c(g)}}function h(p){p.done?u(p.value):new a(function(g){g(p.value)}).then(f,d)}h((l=l.apply(o,i||[])).next())})};Object.defineProperty(Tb,"__esModule",{value:!0});const t=jte(),n=ff(),r=s8();function s(o,i){return e(this,void 0,void 0,function*(){const a=n.getDrawArea(o),l=yield r.tensorStats(i),u=yield i.data();t.histogram(a,u,{height:150,stats:l})})}return Tb.valuesDistribution=s,Tb}var _D={},nge;function Urn(){if(nge)return _D;nge=1;Object.defineProperty(_D,"__esModule",{value:!0});const e="1.5.1";return _D.version=e,_D}var rge;function jrn(){return rge||(rge=1,(function(e){function t(b){for(var w in b)e.hasOwnProperty(w)||(e[w]=b[w])}Object.defineProperty(e,"__esModule",{value:!0});const n=ann(),r=lnn(),s=unn(),o=jte(),i=lPe(),a=Lrn(),l=a8(),u=Brn(),c=zrn(),f=Vrn(),d=Wrn(),h=s8(),p=Urn();e.version_vis=p.version;const g={barchart:n.barchart,table:l.table,histogram:o.histogram,linechart:i.linechart,scatterplot:a.scatterplot,confusionMatrix:r.confusionMatrix,heatmap:s.heatmap};e.render=g;const m={accuracy:h.accuracy,perClassAccuracy:h.perClassAccuracy,confusionMatrix:h.confusionMatrix};e.metrics=m;const v={history:u.history,fitCallbacks:u.fitCallbacks,perClassAccuracy:f.perClassAccuracy,valuesDistribution:d.valuesDistribution,layer:c.layer,modelSummary:c.modelSummary};e.show=v;var y=H4e();e.visor=y.visor,t(O4e())})(m5)),m5}var Hrn=jrn();const qrn="2.13.0",sge=Symbol("INSTALLED_KEY"),uPe=Symbol(),fk="el",Grn="is-",tv=(e,t,n,r,s)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},cPe=Symbol("namespaceContextKey"),Hte=e=>{const t=e||(Ut()?tt(cPe,H(fk)):H(fk));return O(()=>x(t)||fk)},Ae=(e,t)=>{const n=Hte(t);return{namespace:n,b:(g="")=>tv(n.value,e,g,"",""),e:g=>g?tv(n.value,e,"",g,""):"",m:g=>g?tv(n.value,e,"","",g):"",be:(g,m)=>g&&m?tv(n.value,e,g,m,""):"",em:(g,m)=>g&&m?tv(n.value,e,"",g,m):"",bm:(g,m)=>g&&m?tv(n.value,e,g,"",m):"",bem:(g,m,v)=>g&&m&&v?tv(n.value,e,g,m,v):"",is:(g,...m)=>{const v=m.length>=1?m[0]:!0;return g&&v?`${Grn}${g}`:""},cssVar:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${v}`]=g[v]);return m},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${e}-${v}`]=g[v]);return m},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}};var fPe=typeof global=="object"&&global&&global.Object===Object&&global,Krn=typeof self=="object"&&self&&self.Object===Object&&self,df=fPe||Krn||Function("return this")(),Hu=df.Symbol,dPe=Object.prototype,Yrn=dPe.hasOwnProperty,Xrn=dPe.toString,qS=Hu?Hu.toStringTag:void 0;function Zrn(e){var t=Yrn.call(e,qS),n=e[qS];try{e[qS]=void 0;var r=!0}catch{}var s=Xrn.call(e);return r&&(t?e[qS]=n:delete e[qS]),s}var Jrn=Object.prototype,Qrn=Jrn.toString;function esn(e){return Qrn.call(e)}var tsn="[object Null]",nsn="[object Undefined]",oge=Hu?Hu.toStringTag:void 0;function eb(e){return e==null?e===void 0?nsn:tsn:oge&&oge in Object(e)?Zrn(e):esn(e)}function kd(e){return e!=null&&typeof e=="object"}var rsn="[object Symbol]";function l8(e){return typeof e=="symbol"||kd(e)&&eb(e)==rsn}function qte(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Va=Array.isArray,ige=Hu?Hu.prototype:void 0,age=ige?ige.toString:void 0;function hPe(e){if(typeof e=="string")return e;if(Va(e))return qte(e,hPe)+"";if(l8(e))return age?age.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ssn=/\s/;function osn(e){for(var t=e.length;t--&&ssn.test(e.charAt(t)););return t}var isn=/^\s+/;function asn(e){return e&&e.slice(0,osn(e)+1).replace(isn,"")}function Wa(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lge=NaN,lsn=/^[-+]0x[0-9a-f]+$/i,usn=/^0b[01]+$/i,csn=/^0o[0-7]+$/i,fsn=parseInt;function dk(e){if(typeof e=="number")return e;if(l8(e))return lge;if(Wa(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wa(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=asn(e);var n=usn.test(e);return n||csn.test(e)?fsn(e.slice(2),n?2:8):lsn.test(e)?lge:+e}function Gte(e){return e}var dsn="[object AsyncFunction]",hsn="[object Function]",psn="[object GeneratorFunction]",gsn="[object Proxy]";function Kte(e){if(!Wa(e))return!1;var t=eb(e);return t==hsn||t==psn||t==dsn||t==gsn}var $7=df["__core-js_shared__"],uge=(function(){var e=/[^.]+$/.exec($7&&$7.keys&&$7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function msn(e){return!!uge&&uge in e}var vsn=Function.prototype,ysn=vsn.toString;function tb(e){if(e!=null){try{return ysn.call(e)}catch{}try{return e+""}catch{}}return""}var bsn=/[\\^$.*+?()[\]{}|]/g,wsn=/^\[object .+?Constructor\]$/,xsn=Function.prototype,Csn=Object.prototype,Ssn=xsn.toString,$sn=Csn.hasOwnProperty,ksn=RegExp("^"+Ssn.call($sn).replace(bsn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Esn(e){if(!Wa(e)||msn(e))return!1;var t=Kte(e)?ksn:wsn;return t.test(tb(e))}function _sn(e,t){return e?.[t]}function nb(e,t){var n=_sn(e,t);return Esn(n)?n:void 0}var Qj=nb(df,"WeakMap"),cge=Object.create,Tsn=(function(){function e(){}return function(t){if(!Wa(t))return{};if(cge)return cge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function Asn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Isn(){}function pPe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Nsn=800,Dsn=16,Osn=Date.now;function Rsn(e){var t=0,n=0;return function(){var r=Osn(),s=Dsn-(r-n);if(n=r,s>0){if(++t>=Nsn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Fsn(e){return function(){return e}}var eM=(function(){try{var e=nb(Object,"defineProperty");return e({},"",{}),e}catch{}})(),Msn=eM?function(e,t){return eM(e,"toString",{configurable:!0,enumerable:!1,value:Fsn(t),writable:!0})}:Gte,gPe=Rsn(Msn);function Psn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function mPe(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}function Lsn(e){return e!==e}function Bsn(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function zsn(e,t,n){return t===t?Bsn(e,t,n):mPe(e,Lsn,n)}function Vsn(e,t){var n=e==null?0:e.length;return!!n&&zsn(e,t,0)>-1}var Wsn=9007199254740991,Usn=/^(?:0|[1-9]\d*)$/;function u8(e,t){var n=typeof e;return t=t??Wsn,!!t&&(n=="number"||n!="symbol"&&Usn.test(e))&&e>-1&&e%1==0&&e<t}function Yte(e,t,n){t=="__proto__"&&eM?eM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function dI(e,t){return e===t||e!==e&&t!==t}var jsn=Object.prototype,Hsn=jsn.hasOwnProperty;function Xte(e,t,n){var r=e[t];(!(Hsn.call(e,t)&&dI(r,n))||n===void 0&&!(t in e))&&Yte(e,t,n)}function UC(e,t,n,r){var s=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),s?Yte(n,a,l):Xte(n,a,l)}return n}var fge=Math.max;function vPe(e,t,n){return t=fge(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=fge(r.length-t,0),i=Array(o);++s<o;)i[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(i),Asn(e,this,a)}}function yPe(e,t){return gPe(vPe(e,t,Gte),e+"")}var qsn=9007199254740991;function Zte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qsn}function jC(e){return e!=null&&Zte(e.length)&&!Kte(e)}function Gsn(e,t,n){if(!Wa(n))return!1;var r=typeof t;return(r=="number"?jC(n)&&u8(t,n.length):r=="string"&&t in n)?dI(n[t],e):!1}function Ksn(e){return yPe(function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):void 0,i&&Gsn(n[0],n[1],i)&&(o=s<3?void 0:o,s=1),t=Object(t);++r<s;){var a=n[r];a&&e(t,a,r,o)}return t})}var Ysn=Object.prototype;function Jte(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ysn;return e===n}function Xsn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Zsn="[object Arguments]";function dge(e){return kd(e)&&eb(e)==Zsn}var bPe=Object.prototype,Jsn=bPe.hasOwnProperty,Qsn=bPe.propertyIsEnumerable,n_=dge((function(){return arguments})())?dge:function(e){return kd(e)&&Jsn.call(e,"callee")&&!Qsn.call(e,"callee")};function eon(){return!1}var wPe=typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,hge=wPe&&typeof Xl=="object"&&Xl&&!Xl.nodeType&&Xl,ton=hge&&hge.exports===wPe,pge=ton?df.Buffer:void 0,non=pge?pge.isBuffer:void 0,r_=non||eon,ron="[object Arguments]",son="[object Array]",oon="[object Boolean]",ion="[object Date]",aon="[object Error]",lon="[object Function]",uon="[object Map]",con="[object Number]",fon="[object Object]",don="[object RegExp]",hon="[object Set]",pon="[object String]",gon="[object WeakMap]",mon="[object ArrayBuffer]",von="[object DataView]",yon="[object Float32Array]",bon="[object Float64Array]",won="[object Int8Array]",xon="[object Int16Array]",Con="[object Int32Array]",Son="[object Uint8Array]",$on="[object Uint8ClampedArray]",kon="[object Uint16Array]",Eon="[object Uint32Array]",cs={};cs[yon]=cs[bon]=cs[won]=cs[xon]=cs[Con]=cs[Son]=cs[$on]=cs[kon]=cs[Eon]=!0;cs[ron]=cs[son]=cs[mon]=cs[oon]=cs[von]=cs[ion]=cs[aon]=cs[lon]=cs[uon]=cs[con]=cs[fon]=cs[don]=cs[hon]=cs[pon]=cs[gon]=!1;function _on(e){return kd(e)&&Zte(e.length)&&!!cs[eb(e)]}function Qte(e){return function(t){return e(t)}}var xPe=typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,hk=xPe&&typeof Xl=="object"&&Xl&&!Xl.nodeType&&Xl,Ton=hk&&hk.exports===xPe,k7=Ton&&fPe.process,Ox=(function(){try{var e=hk&&hk.require&&hk.require("util").types;return e||k7&&k7.binding&&k7.binding("util")}catch{}})(),gge=Ox&&Ox.isTypedArray,ene=gge?Qte(gge):_on,Aon=Object.prototype,Ion=Aon.hasOwnProperty;function CPe(e,t){var n=Va(e),r=!n&&n_(e),s=!n&&!r&&r_(e),o=!n&&!r&&!s&&ene(e),i=n||r||s||o,a=i?Xsn(e.length,String):[],l=a.length;for(var u in e)(t||Ion.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||u8(u,l)))&&a.push(u);return a}function SPe(e,t){return function(n){return e(t(n))}}var Non=SPe(Object.keys,Object),Don=Object.prototype,Oon=Don.hasOwnProperty;function Ron(e){if(!Jte(e))return Non(e);var t=[];for(var n in Object(e))Oon.call(e,n)&&n!="constructor"&&t.push(n);return t}function hI(e){return jC(e)?CPe(e):Ron(e)}function Fon(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Mon=Object.prototype,Pon=Mon.hasOwnProperty;function Lon(e){if(!Wa(e))return Fon(e);var t=Jte(e),n=[];for(var r in e)r=="constructor"&&(t||!Pon.call(e,r))||n.push(r);return n}function pI(e){return jC(e)?CPe(e,!0):Lon(e)}var Bon=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zon=/^\w*$/;function tne(e,t){if(Va(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||l8(e)?!0:zon.test(e)||!Bon.test(e)||t!=null&&e in Object(t)}var s_=nb(Object,"create");function Von(){this.__data__=s_?s_(null):{},this.size=0}function Won(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Uon="__lodash_hash_undefined__",jon=Object.prototype,Hon=jon.hasOwnProperty;function qon(e){var t=this.__data__;if(s_){var n=t[e];return n===Uon?void 0:n}return Hon.call(t,e)?t[e]:void 0}var Gon=Object.prototype,Kon=Gon.hasOwnProperty;function Yon(e){var t=this.__data__;return s_?t[e]!==void 0:Kon.call(t,e)}var Xon="__lodash_hash_undefined__";function Zon(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=s_&&t===void 0?Xon:t,this}function J1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}J1.prototype.clear=Von;J1.prototype.delete=Won;J1.prototype.get=qon;J1.prototype.has=Yon;J1.prototype.set=Zon;function Jon(){this.__data__=[],this.size=0}function c8(e,t){for(var n=e.length;n--;)if(dI(e[n][0],t))return n;return-1}var Qon=Array.prototype,ein=Qon.splice;function tin(e){var t=this.__data__,n=c8(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ein.call(t,n,1),--this.size,!0}function nin(e){var t=this.__data__,n=c8(t,e);return n<0?void 0:t[n][1]}function rin(e){return c8(this.__data__,e)>-1}function sin(e,t){var n=this.__data__,r=c8(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wp.prototype.clear=Jon;Wp.prototype.delete=tin;Wp.prototype.get=nin;Wp.prototype.has=rin;Wp.prototype.set=sin;var o_=nb(df,"Map");function oin(){this.size=0,this.__data__={hash:new J1,map:new(o_||Wp),string:new J1}}function iin(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function f8(e,t){var n=e.__data__;return iin(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ain(e){var t=f8(this,e).delete(e);return this.size-=t?1:0,t}function lin(e){return f8(this,e).get(e)}function uin(e){return f8(this,e).has(e)}function cin(e,t){var n=f8(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Up(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Up.prototype.clear=oin;Up.prototype.delete=ain;Up.prototype.get=lin;Up.prototype.has=uin;Up.prototype.set=cin;var fin="Expected a function";function d8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fin);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=e.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(d8.Cache||Up),n}d8.Cache=Up;var din=500;function hin(e){var t=d8(e,function(r){return n.size===din&&n.clear(),r}),n=t.cache;return t}var pin=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gin=/\\(\\)?/g,min=hin(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pin,function(n,r,s,o){t.push(s?o.replace(gin,"$1"):r||n)}),t});function vin(e){return e==null?"":hPe(e)}function HC(e,t){return Va(e)?e:tne(e,t)?[e]:min(vin(e))}function qC(e){if(typeof e=="string"||l8(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function h8(e,t){t=HC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qC(t[n++])];return n&&n==r?e:void 0}function Es(e,t,n){var r=e==null?void 0:h8(e,t);return r===void 0?n:r}function nne(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var mge=Hu?Hu.isConcatSpreadable:void 0;function yin(e){return Va(e)||n_(e)||!!(mge&&e&&e[mge])}function gI(e,t,n,r,s){var o=-1,i=e.length;for(n||(n=yin),s||(s=[]);++o<i;){var a=e[o];t>0&&n(a)?t>1?gI(a,t-1,n,r,s):nne(s,a):r||(s[s.length]=a)}return s}function $Pe(e){var t=e==null?0:e.length;return t?gI(e,1):[]}function kPe(e){return gPe(vPe(e,void 0,$Pe),e+"")}var rne=SPe(Object.getPrototypeOf,Object),bin="[object Object]",win=Function.prototype,xin=Object.prototype,EPe=win.toString,Cin=xin.hasOwnProperty,Sin=EPe.call(Object);function _Pe(e){if(!kd(e)||eb(e)!=bin)return!1;var t=rne(e);if(t===null)return!0;var n=Cin.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&EPe.call(n)==Sin}function $in(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}function vo(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]}function kin(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function p8(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=dk(n),n=n===n?n:0),t!==void 0&&(t=dk(t),t=t===t?t:0),kin(dk(e),t,n)}function Ein(){this.__data__=new Wp,this.size=0}function _in(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tin(e){return this.__data__.get(e)}function Ain(e){return this.__data__.has(e)}var Iin=200;function Nin(e,t){var n=this.__data__;if(n instanceof Wp){var r=n.__data__;if(!o_||r.length<Iin-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Up(r)}return n.set(e,t),this.size=n.size,this}function Nc(e){var t=this.__data__=new Wp(e);this.size=t.size}Nc.prototype.clear=Ein;Nc.prototype.delete=_in;Nc.prototype.get=Tin;Nc.prototype.has=Ain;Nc.prototype.set=Nin;function Din(e,t){return e&&UC(t,hI(t),e)}function Oin(e,t){return e&&UC(t,pI(t),e)}var TPe=typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,vge=TPe&&typeof Xl=="object"&&Xl&&!Xl.nodeType&&Xl,Rin=vge&&vge.exports===TPe,yge=Rin?df.Buffer:void 0,bge=yge?yge.allocUnsafe:void 0;function APe(e,t){if(t)return e.slice();var n=e.length,r=bge?bge(n):new e.constructor(n);return e.copy(r),r}function Fin(e,t){for(var n=-1,r=e==null?0:e.length,s=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[s++]=i)}return o}function IPe(){return[]}var Min=Object.prototype,Pin=Min.propertyIsEnumerable,wge=Object.getOwnPropertySymbols,sne=wge?function(e){return e==null?[]:(e=Object(e),Fin(wge(e),function(t){return Pin.call(e,t)}))}:IPe;function Lin(e,t){return UC(e,sne(e),t)}var Bin=Object.getOwnPropertySymbols,NPe=Bin?function(e){for(var t=[];e;)nne(t,sne(e)),e=rne(e);return t}:IPe;function zin(e,t){return UC(e,NPe(e),t)}function DPe(e,t,n){var r=t(e);return Va(e)?r:nne(r,n(e))}function eH(e){return DPe(e,hI,sne)}function OPe(e){return DPe(e,pI,NPe)}var tH=nb(df,"DataView"),nH=nb(df,"Promise"),ww=nb(df,"Set"),xge="[object Map]",Vin="[object Object]",Cge="[object Promise]",Sge="[object Set]",$ge="[object WeakMap]",kge="[object DataView]",Win=tb(tH),Uin=tb(o_),jin=tb(nH),Hin=tb(ww),qin=tb(Qj),vc=eb;(tH&&vc(new tH(new ArrayBuffer(1)))!=kge||o_&&vc(new o_)!=xge||nH&&vc(nH.resolve())!=Cge||ww&&vc(new ww)!=Sge||Qj&&vc(new Qj)!=$ge)&&(vc=function(e){var t=eb(e),n=t==Vin?e.constructor:void 0,r=n?tb(n):"";if(r)switch(r){case Win:return kge;case Uin:return xge;case jin:return Cge;case Hin:return Sge;case qin:return $ge}return t});var Gin=Object.prototype,Kin=Gin.hasOwnProperty;function Yin(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Kin.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var tM=df.Uint8Array;function one(e){var t=new e.constructor(e.byteLength);return new tM(t).set(new tM(e)),t}function Xin(e,t){var n=t?one(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Zin=/\w*$/;function Jin(e){var t=new e.constructor(e.source,Zin.exec(e));return t.lastIndex=e.lastIndex,t}var Ege=Hu?Hu.prototype:void 0,_ge=Ege?Ege.valueOf:void 0;function Qin(e){return _ge?Object(_ge.call(e)):{}}function RPe(e,t){var n=t?one(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ean="[object Boolean]",tan="[object Date]",nan="[object Map]",ran="[object Number]",san="[object RegExp]",oan="[object Set]",ian="[object String]",aan="[object Symbol]",lan="[object ArrayBuffer]",uan="[object DataView]",can="[object Float32Array]",fan="[object Float64Array]",dan="[object Int8Array]",han="[object Int16Array]",pan="[object Int32Array]",gan="[object Uint8Array]",man="[object Uint8ClampedArray]",van="[object Uint16Array]",yan="[object Uint32Array]";function ban(e,t,n){var r=e.constructor;switch(t){case lan:return one(e);case ean:case tan:return new r(+e);case uan:return Xin(e,n);case can:case fan:case dan:case han:case pan:case gan:case man:case van:case yan:return RPe(e,n);case nan:return new r;case ran:case ian:return new r(e);case san:return Jin(e);case oan:return new r;case aan:return Qin(e)}}function FPe(e){return typeof e.constructor=="function"&&!Jte(e)?Tsn(rne(e)):{}}var wan="[object Map]";function xan(e){return kd(e)&&vc(e)==wan}var Tge=Ox&&Ox.isMap,Can=Tge?Qte(Tge):xan,San="[object Set]";function $an(e){return kd(e)&&vc(e)==San}var Age=Ox&&Ox.isSet,kan=Age?Qte(Age):$an,Ean=1,_an=2,Tan=4,MPe="[object Arguments]",Aan="[object Array]",Ian="[object Boolean]",Nan="[object Date]",Dan="[object Error]",PPe="[object Function]",Oan="[object GeneratorFunction]",Ran="[object Map]",Fan="[object Number]",LPe="[object Object]",Man="[object RegExp]",Pan="[object Set]",Lan="[object String]",Ban="[object Symbol]",zan="[object WeakMap]",Van="[object ArrayBuffer]",Wan="[object DataView]",Uan="[object Float32Array]",jan="[object Float64Array]",Han="[object Int8Array]",qan="[object Int16Array]",Gan="[object Int32Array]",Kan="[object Uint8Array]",Yan="[object Uint8ClampedArray]",Xan="[object Uint16Array]",Zan="[object Uint32Array]",os={};os[MPe]=os[Aan]=os[Van]=os[Wan]=os[Ian]=os[Nan]=os[Uan]=os[jan]=os[Han]=os[qan]=os[Gan]=os[Ran]=os[Fan]=os[LPe]=os[Man]=os[Pan]=os[Lan]=os[Ban]=os[Kan]=os[Yan]=os[Xan]=os[Zan]=!0;os[Dan]=os[PPe]=os[zan]=!1;function xw(e,t,n,r,s,o){var i,a=t&Ean,l=t&_an,u=t&Tan;if(n&&(i=s?n(e,r,s,o):n(e)),i!==void 0)return i;if(!Wa(e))return e;var c=Va(e);if(c){if(i=Yin(e),!a)return pPe(e,i)}else{var f=vc(e),d=f==PPe||f==Oan;if(r_(e))return APe(e,a);if(f==LPe||f==MPe||d&&!s){if(i=l||d?{}:FPe(e),!a)return l?zin(e,Oin(i,e)):Lin(e,Din(i,e))}else{if(!os[f])return s?e:{};i=ban(e,f,a)}}o||(o=new Nc);var h=o.get(e);if(h)return h;o.set(e,i),kan(e)?e.forEach(function(m){i.add(xw(m,t,n,m,e,o))}):Can(e)&&e.forEach(function(m,v){i.set(v,xw(m,t,n,v,e,o))});var p=u?l?OPe:eH:l?pI:hI,g=c?void 0:p(e);return Psn(g||e,function(m,v){g&&(v=m,m=e[v]),Xte(i,v,xw(m,t,n,v,e,o))}),i}var Jan=4;function Ige(e){return xw(e,Jan)}var Qan=1,eln=4;function nM(e){return xw(e,Qan|eln)}var tln="__lodash_hash_undefined__";function nln(e){return this.__data__.set(e,tln),this}function rln(e){return this.__data__.has(e)}function i_(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Up;++t<n;)this.add(e[t])}i_.prototype.add=i_.prototype.push=nln;i_.prototype.has=rln;function sln(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function BPe(e,t){return e.has(t)}var oln=1,iln=2;function zPe(e,t,n,r,s,o){var i=n&oln,a=e.length,l=t.length;if(a!=l&&!(i&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&iln?new i_:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],g=t[f];if(r)var m=i?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!sln(t,function(v,y){if(!BPe(h,y)&&(p===v||s(p,v,n,r,o)))return h.push(y)})){d=!1;break}}else if(!(p===g||s(p,g,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function aln(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function ine(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var lln=1,uln=2,cln="[object Boolean]",fln="[object Date]",dln="[object Error]",hln="[object Map]",pln="[object Number]",gln="[object RegExp]",mln="[object Set]",vln="[object String]",yln="[object Symbol]",bln="[object ArrayBuffer]",wln="[object DataView]",Nge=Hu?Hu.prototype:void 0,E7=Nge?Nge.valueOf:void 0;function xln(e,t,n,r,s,o,i){switch(n){case wln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bln:return!(e.byteLength!=t.byteLength||!o(new tM(e),new tM(t)));case cln:case fln:case pln:return dI(+e,+t);case dln:return e.name==t.name&&e.message==t.message;case gln:case vln:return e==t+"";case hln:var a=aln;case mln:var l=r&lln;if(a||(a=ine),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;r|=uln,i.set(e,t);var c=zPe(a(e),a(t),r,s,o,i);return i.delete(e),c;case yln:if(E7)return E7.call(e)==E7.call(t)}return!1}var Cln=1,Sln=Object.prototype,$ln=Sln.hasOwnProperty;function kln(e,t,n,r,s,o){var i=n&Cln,a=eH(e),l=a.length,u=eH(t),c=u.length;if(l!=c&&!i)return!1;for(var f=l;f--;){var d=a[f];if(!(i?d in t:$ln.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=i;++f<l;){d=a[f];var v=e[d],y=t[d];if(r)var b=i?r(y,v,d,t,e,o):r(v,y,d,e,t,o);if(!(b===void 0?v===y||s(v,y,n,r,o):b)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var w=e.constructor,C=t.constructor;w!=C&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(e),o.delete(t),g}var Eln=1,Dge="[object Arguments]",Oge="[object Array]",TD="[object Object]",_ln=Object.prototype,Rge=_ln.hasOwnProperty;function Tln(e,t,n,r,s,o){var i=Va(e),a=Va(t),l=i?Oge:vc(e),u=a?Oge:vc(t);l=l==Dge?TD:l,u=u==Dge?TD:u;var c=l==TD,f=u==TD,d=l==u;if(d&&r_(e)){if(!r_(t))return!1;i=!0,c=!1}if(d&&!c)return o||(o=new Nc),i||ene(e)?zPe(e,t,n,r,s,o):xln(e,t,l,n,r,s,o);if(!(n&Eln)){var h=c&&Rge.call(e,"__wrapped__"),p=f&&Rge.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new Nc),s(g,m,n,r,o)}}return d?(o||(o=new Nc),kln(e,t,n,r,s,o)):!1}function g8(e,t,n,r,s){return e===t?!0:e==null||t==null||!kd(e)&&!kd(t)?e!==e&&t!==t:Tln(e,t,n,r,g8,s)}var Aln=1,Iln=2;function Nln(e,t,n,r){var s=n.length,o=s;if(e==null)return!o;for(e=Object(e);s--;){var i=n[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<o;){i=n[s];var a=i[0],l=e[a],u=i[1];if(i[2]){if(l===void 0&&!(a in e))return!1}else{var c=new Nc,f;if(!(f===void 0?g8(u,l,Aln|Iln,r,c):f))return!1}}return!0}function VPe(e){return e===e&&!Wa(e)}function Dln(e){for(var t=hI(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,VPe(s)]}return t}function WPe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Oln(e){var t=Dln(e);return t.length==1&&t[0][2]?WPe(t[0][0],t[0][1]):function(n){return n===e||Nln(n,e,t)}}function Rln(e,t){return e!=null&&t in Object(e)}function Fln(e,t,n){t=HC(t,e);for(var r=-1,s=t.length,o=!1;++r<s;){var i=qC(t[r]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++r!=s?o:(s=e==null?0:e.length,!!s&&Zte(s)&&u8(i,s)&&(Va(e)||n_(e)))}function UPe(e,t){return e!=null&&Fln(e,t,Rln)}var Mln=1,Pln=2;function Lln(e,t){return tne(e)&&VPe(t)?WPe(qC(e),t):function(n){var r=Es(n,e);return r===void 0&&r===t?UPe(n,e):g8(t,r,Mln|Pln)}}function Bln(e){return function(t){return t?.[e]}}function zln(e){return function(t){return h8(t,e)}}function Vln(e){return tne(e)?Bln(qC(e)):zln(e)}function jPe(e){return typeof e=="function"?e:e==null?Gte:typeof e=="object"?Va(e)?Lln(e[0],e[1]):Oln(e):Vln(e)}function Wln(e){return function(t,n,r){for(var s=-1,o=Object(t),i=r(t),a=i.length;a--;){var l=i[++s];if(n(o[l],l,o)===!1)break}return t}}var HPe=Wln();function Uln(e,t){return e&&HPe(e,t,hI)}function jln(e,t){return function(n,r){if(n==null)return n;if(!jC(n))return e(n,r);for(var s=n.length,o=-1,i=Object(n);++o<s&&r(i[o],o,i)!==!1;);return n}}var Hln=jln(Uln),_7=function(){return df.Date.now()},qln="Expected a function",Gln=Math.max,Kln=Math.min;function Ed(e,t,n){var r,s,o,i,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(qln);t=dk(t)||0,Wa(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Gln(dk(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(S){var $=r,k=s;return r=s=void 0,u=S,i=e.apply(k,$),i}function p(S){return u=S,a=setTimeout(v,t),c?h(S):i}function g(S){var $=S-l,k=S-u,T=t-$;return f?Kln(T,o-k):T}function m(S){var $=S-l,k=S-u;return l===void 0||$>=t||$<0||f&&k>=o}function v(){var S=_7();if(m(S))return y(S);a=setTimeout(v,g(S))}function y(S){return a=void 0,d&&r?h(S):(r=s=void 0,i)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function w(){return a===void 0?i:y(_7())}function C(){var S=_7(),$=m(S);if(r=arguments,s=this,l=S,$){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(v,t),h(l)}return a===void 0&&(a=setTimeout(v,t)),i}return C.cancel=b,C.flush=w,C}function rH(e,t,n){(n!==void 0&&!dI(e[t],n)||n===void 0&&!(t in e))&&Yte(e,t,n)}function qPe(e){return kd(e)&&jC(e)}function sH(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Yln(e){return UC(e,pI(e))}function Xln(e,t,n,r,s,o,i){var a=sH(e,n),l=sH(t,n),u=i.get(l);if(u){rH(e,n,u);return}var c=o?o(a,l,n+"",e,t,i):void 0,f=c===void 0;if(f){var d=Va(l),h=!d&&r_(l),p=!d&&!h&&ene(l);c=l,d||h||p?Va(a)?c=a:qPe(a)?c=pPe(a):h?(f=!1,c=APe(l,!0)):p?(f=!1,c=RPe(l,!0)):c=[]:_Pe(l)||n_(l)?(c=a,n_(a)?c=Yln(a):(!Wa(a)||Kte(a))&&(c=FPe(l))):f=!1}f&&(i.set(l,c),s(c,l,r,o,i),i.delete(l)),rH(e,n,c)}function GPe(e,t,n,r,s){e!==t&&HPe(t,function(o,i){if(s||(s=new Nc),Wa(o))Xln(e,t,i,n,GPe,r,s);else{var a=r?r(sH(e,i),o,i+"",e,t,s):void 0;a===void 0&&(a=o),rH(e,i,a)}},pI)}function Zln(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function KPe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return mPe(e,jPe(t),s,!0)}function Jln(e,t){var n=-1,r=jC(e)?Array(e.length):[];return Hln(e,function(s,o,i){r[++n]=t(s,o,i)}),r}function Qln(e,t){var n=Va(e)?qte:Jln;return n(e,jPe(t))}function YPe(e,t){return gI(Qln(e,t),1)}var eun=1/0;function tun(e){var t=e==null?0:e.length;return t?gI(e,eun):[]}function a_(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function nun(e,t){return t.length<2?e:h8(e,$in(t,0,-1))}function Gr(e,t){return g8(e,t)}function vs(e){return e==null}function mI(e){return e===null}function run(e){return e===void 0}var XPe=Ksn(function(e,t,n){GPe(e,t,n)}),sun=Object.prototype,oun=sun.hasOwnProperty;function iun(e,t){t=HC(t,e);var n=-1,r=t.length;if(!r)return!0;for(var s=e==null||typeof e!="object"&&typeof e!="function";++n<r;){var o=t[n];if(typeof o=="string"){if(o==="__proto__"&&!oun.call(e,"__proto__"))return!1;if(o==="constructor"&&n+1<r&&typeof t[n+1]=="string"&&t[n+1]==="prototype"){if(s&&n===0)continue;return!1}}}var i=nun(e,t);return i==null||delete i[qC(Zln(t))]}function aun(e){return _Pe(e)?void 0:e}var lun=1,uun=2,cun=4,vI=kPe(function(e,t){var n={};if(e==null)return n;var r=!1;t=qte(t,function(o){return o=HC(o,e),r||(r=o.length>1),o}),UC(e,OPe(e),n),r&&(n=xw(n,lun|uun|cun,aun));for(var s=t.length;s--;)iun(n,t[s]);return n});function ZPe(e,t,n,r){if(!Wa(e))return e;t=HC(t,e);for(var s=-1,o=t.length,i=o-1,a=e;a!=null&&++s<o;){var l=qC(t[s]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=i){var c=a[l];u=void 0,u===void 0&&(u=Wa(c)?c:u8(t[s+1])?[]:{})}Xte(a,l,u),a=a[l]}return e}function fun(e,t,n){for(var r=-1,s=t.length,o={};++r<s;){var i=t[r],a=h8(e,i);n(a,i)&&ZPe(o,HC(i,e),a)}return o}function dun(e,t){return fun(e,t,function(n,r){return UPe(e,r)})}var vp=kPe(function(e,t){return e==null?{}:dun(e,t)});function hun(e,t,n){return e==null?e:ZPe(e,t,n)}var pun="Expected a function";function jg(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(pun);return Wa(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ed(e,t,{leading:r,maxWait:t,trailing:s})}var gun=1/0,mun=ww&&1/ine(new ww([,-0]))[1]==gun?function(e){return new ww(e)}:Isn,vun=200;function yun(e,t,n){var r=-1,s=Vsn,o=e.length,i=!0,a=[],l=a;if(o>=vun){var u=mun(e);if(u)return ine(u);i=!1,s=BPe,l=new i_}else l=a;e:for(;++r<o;){var c=e[r],f=c;if(c=c!==0?c:0,i&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;a.push(c)}else s(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var T7=yPe(function(e){return yun(gI(e,1,qPe,!0))});const yn=e=>e===void 0,Ln=e=>typeof e=="boolean",pt=e=>typeof e=="number",_a=e=>!e&&e!==0||Oe(e)&&e.length===0||Pt(e)&&!Object.keys(e).length,cl=e=>typeof Element>"u"?!1:e instanceof Element,fl=e=>vs(e),bun=e=>it(e)?!Number.isNaN(Number(e)):!1,yI=e=>e===window;function JPe(e,t){var n;const r=lr();return ml(()=>{r.value=e()},{...t,flush:(n=void 0)!=null?n:"sync"}),d1(r)}function rb(e){return hve()?(pve(e),!0):!1}function Gl(e){return typeof e=="function"?e():x(e)}function wun(e){if(!fr(e))return In(e);const t=new Proxy({},{get(n,r,s){return x(Reflect.get(e.value,r,s))},set(n,r,s){return fr(e.value[r])&&!fr(s)?e.value[r].value=s:e.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return In(t)}function xun(e){return wun(O(e))}const Tn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Cun=e=>typeof e<"u",QPe=e=>e!=null,Sun=Object.prototype.toString,$un=e=>Sun.call(e)==="[object Object]",eLe=(e,t,n)=>Math.min(n,Math.max(t,e)),Dc=()=>{},rM=kun();function kun(){var e,t;return Tn&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function tLe(e,t){function n(...r){return new Promise((s,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(o)})}return n}function Eun(e,t={}){let n,r,s=Dc;const o=a=>{clearTimeout(a),s(),s=Dc};return a=>{const l=Gl(e),u=Gl(t.maxWait);return n&&o(n),l<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((c,f)=>{s=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(a())},u)),n=setTimeout(()=>{r&&o(r),r=null,c(a())},l)})}}function _un(...e){let t=0,n,r=!0,s=Dc,o,i,a,l,u;!fr(e[0])&&typeof e[0]=="object"?{delay:i,trailing:a=!0,leading:l=!0,rejectOnCancel:u=!1}=e[0]:[i,a=!0,l=!0,u=!1]=e;const c=()=>{n&&(clearTimeout(n),n=void 0,s(),s=Dc)};return d=>{const h=Gl(i),p=Date.now()-t,g=()=>o=d();return c(),h<=0?(t=Date.now(),g()):(p>h&&(l||!r)?(t=Date.now(),g()):a&&(o=new Promise((m,v)=>{s=u?v:m,n=setTimeout(()=>{t=Date.now(),r=!0,m(g()),c()},Math.max(0,h-p))})),!l&&!n&&(n=setTimeout(()=>r=!0,h)),r=!1,o)}}function Tun(e){return Ut()}function bI(e,t=200,n={}){return tLe(Eun(t,n),e)}function Aun(e,t=200,n={}){const r=H(e.value),s=bI(()=>{r.value=e.value},t,n);return xe(e,()=>s()),r}function nLe(e,t=200,n=!1,r=!0,s=!1){return tLe(_un(t,n,r,s),e)}function ane(e,t=!0,n){Tun()?jt(e,n):t?e():Ye(e)}function Rx(e,t,n={}){const{immediate:r=!0}=n,s=H(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,i()}function l(...u){i(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,e(...u)},Gl(t))}return r&&(s.value=!0,Tn&&l()),rb(a),{isPending:d1(s),start:l,stop:a}}function Vs(e){var t;const n=Gl(e);return(t=n?.$el)!=null?t:n}const hf=Tn?window:void 0,Iun=Tn?window.document:void 0;function Fn(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=hf):[t,n,r,s]=e,!t)return Dc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],i=()=>{o.forEach(c=>c()),o.length=0},a=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=xe(()=>[Vs(t),Gl(s)],([c,f])=>{if(i(),!c)return;const d=$un(f)?{...f}:f;o.push(...n.flatMap(h=>r.map(p=>a(c,h,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return rb(u),u}let Fge=!1;function lne(e,t,n={}){const{window:r=hf,ignore:s=[],capture:o=!0,detectIframe:i=!1}=n;if(!r)return Dc;rM&&!Fge&&(Fge=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Dc)),r.document.documentElement.addEventListener("click",Dc));let a=!0;const l=d=>s.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Vs(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Fn(r,"click",d=>{const h=Vs(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}t(d)}},{passive:!0,capture:o}),Fn(r,"pointerdown",d=>{const h=Vs(e);a=!l(d)&&!!(h&&!d.composedPath().includes(h))},{passive:!0}),i&&Fn(r,"blur",d=>{setTimeout(()=>{var h;const p=Vs(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!p?.contains(r.document.activeElement)&&t(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function Nun(){const e=H(!1),t=Ut();return t&&jt(()=>{e.value=!0},t),e}function m8(e){const t=Nun();return O(()=>(t.value,!!e()))}function wI(e,t,n={}){const{window:r=hf,...s}=n;let o;const i=m8(()=>r&&"MutationObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=O(()=>{const d=Gl(e),h=(Array.isArray(d)?d:[d]).map(Vs).filter(QPe);return new Set(h)}),u=xe(()=>l.value,d=>{a(),i.value&&d.size&&(o=new MutationObserver(t),d.forEach(h=>o.observe(h,s)))},{immediate:!0,flush:"post"}),c=()=>o?.takeRecords(),f=()=>{a(),u()};return rb(f),{isSupported:i,stop:f,takeRecords:c}}function Dun(e={}){var t;const{window:n=hf,deep:r=!0,triggerOnRemoval:s=!1}=e,o=(t=e.document)!=null?t:n?.document,i=()=>{var u;let c=o?.activeElement;if(r)for(;c?.shadowRoot;)c=(u=c?.shadowRoot)==null?void 0:u.activeElement;return c},a=H(),l=()=>{a.value=i()};return n&&(Fn(n,"blur",u=>{u.relatedTarget===null&&l()},!0),Fn(n,"focus",l,!0)),s&&wI(o,u=>{u.filter(c=>c.removedNodes.length).map(c=>Array.from(c.removedNodes)).flat().forEach(c=>{c===a.value&&l()})},{childList:!0,subtree:!0}),l(),a}function Oun(e,t={}){const{window:n=hf}=t,r=m8(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const o=H(!1),i=u=>{o.value=u.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},l=ml(()=>{r.value&&(a(),s=n.matchMedia(Gl(e)),"addEventListener"in s?s.addEventListener("change",i):s.addListener(i),o.value=s.matches)});return rb(()=>{l(),a(),s=void 0}),o}function Run(e){return JSON.parse(JSON.stringify(e))}function Fun(e,t,n={}){const{window:r=hf,initialValue:s="",observe:o=!1}=n,i=H(s),a=O(()=>{var u;return Vs(t)||((u=r?.document)==null?void 0:u.documentElement)});function l(){var u;const c=Gl(e),f=Gl(a);if(f&&r){const d=(u=r.getComputedStyle(f).getPropertyValue(c))==null?void 0:u.trim();i.value=d||s}}return o&&wI(a,l,{attributeFilter:["style","class"],window:r}),xe([a,()=>Gl(e)],l,{immediate:!0}),xe(i,u=>{var c;(c=a.value)!=null&&c.style&&a.value.style.setProperty(Gl(e),u)}),i}function Mun(e={}){const{document:t=Iun}=e;if(!t)return H("visible");const n=H(t.visibilityState);return Fn(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}function Cr(e,t,n={}){const{window:r=hf,...s}=n;let o;const i=m8(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=O(()=>Array.isArray(e)?e.map(f=>Vs(f)):[Vs(e)]),u=xe(l,f=>{if(a(),i.value&&r){o=new ResizeObserver(t);for(const d of f)d&&o.observe(d,s)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return rb(c),{isSupported:i,stop:c}}function Mge(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:o=!0}=t,i=H(0),a=H(0),l=H(0),u=H(0),c=H(0),f=H(0),d=H(0),h=H(0);function p(){const g=Vs(e);if(!g){n&&(i.value=0,a.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const m=g.getBoundingClientRect();i.value=m.height,a.value=m.bottom,l.value=m.left,u.value=m.right,c.value=m.top,f.value=m.width,d.value=m.x,h.value=m.y}return Cr(e,p),xe(()=>Vs(e),g=>!g&&p()),wI(e,p,{attributeFilter:["style","class"]}),s&&Fn("scroll",p,{capture:!0,passive:!0}),r&&Fn("resize",p,{passive:!0}),ane(()=>{o&&p()}),{height:i,bottom:a,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}function oH(e,t={width:0,height:0},n={}){const{window:r=hf,box:s="content-box"}=n,o=O(()=>{var f,d;return(d=(f=Vs(e))==null?void 0:f.namespaceURI)==null?void 0:d.includes("svg")}),i=H(t.width),a=H(t.height),{stop:l}=Cr(e,([f])=>{const d=s==="border-box"?f.borderBoxSize:s==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(r&&o.value){const h=Vs(e);if(h){const p=h.getBoundingClientRect();i.value=p.width,a.value=p.height}}else if(d){const h=Array.isArray(d)?d:[d];i.value=h.reduce((p,{inlineSize:g})=>p+g,0),a.value=h.reduce((p,{blockSize:g})=>p+g,0)}else i.value=f.contentRect.width,a.value=f.contentRect.height},n);ane(()=>{const f=Vs(e);f&&(i.value="offsetWidth"in f?f.offsetWidth:t.width,a.value="offsetHeight"in f?f.offsetHeight:t.height)});const u=xe(()=>Vs(e),f=>{i.value=f?t.width:0,a.value=f?t.height:0});function c(){l(),u()}return{width:i,height:a,stop:c}}function Pun(e,t,n={}){const{root:r,rootMargin:s="0px",threshold:o=.1,window:i=hf,immediate:a=!0}=n,l=m8(()=>i&&"IntersectionObserver"in i),u=O(()=>{const p=Gl(e);return(Array.isArray(p)?p:[p]).map(Vs).filter(QPe)});let c=Dc;const f=H(a),d=l.value?xe(()=>[u.value,Vs(r),f.value],([p,g])=>{if(c(),!f.value||!p.length)return;const m=new IntersectionObserver(t,{root:Vs(g),rootMargin:s,threshold:o});p.forEach(v=>v&&m.observe(v)),c=()=>{m.disconnect(),c=Dc}},{immediate:a,flush:"post"}):Dc,h=()=>{c(),d(),f.value=!1};return rb(h),{isSupported:l,isActive:f,pause(){c(),f.value=!1},resume(){f.value=!0},stop:h}}function rLe(e,t,n,r={}){var s,o,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:d}=r,h=Ut(),p=n||h?.emit||((s=h?.$emit)==null?void 0:s.bind(h))||((i=(o=h?.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(h?.proxy));let g=u;t||(t="modelValue"),g=g||`update:${t.toString()}`;const m=b=>a?typeof a=="function"?a(b):Run(b):b,v=()=>Cun(e[t])?m(e[t]):f,y=b=>{d?d(b)&&p(g,b):p(g,b)};if(l){const b=v(),w=H(b);let C=!1;return xe(()=>e[t],S=>{C||(C=!0,w.value=m(S),Ye(()=>C=!1))}),xe(w,S=>{!C&&(S!==e[t]||c)&&y(S)},{deep:c}),w}else return O({get(){return v()},set(b){y(b)}})}function Lun(e={}){const{window:t=hf}=e;if(!t)return H(!1);const n=H(t.document.hasFocus());return Fn(t,"blur",()=>{n.value=!1}),Fn(t,"focus",()=>{n.value=!0}),n}function une(e={}){const{window:t=hf,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:o=!0}=e,i=H(n),a=H(r),l=()=>{t&&(o?(i.value=t.innerWidth,a.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight))};if(l(),ane(l),Fn("resize",l,{passive:!0}),s){const u=Oun("(orientation: portrait)");xe(u,()=>l())}return{width:i,height:a}}class Bun extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ts(e,t){throw new Bun(`[${e}] ${t}`)}const Pge={current:0},Lge=H(0),sLe=2e3,Bge=Symbol("elZIndexContextKey"),oLe=Symbol("zIndexContextKey"),xI=e=>{const t=Ut()?tt(Bge,Pge):Pge,n=e||(Ut()?tt(oLe,void 0):void 0),r=O(()=>{const i=x(n);return pt(i)?i:sLe}),s=O(()=>r.value+Lge.value),o=()=>(t.current++,Lge.value=t.current,s.value);return!Tn&&tt(Bge),{initialZIndex:r,currentZIndex:s,nextZIndex:o}};var zun={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum",selectAllLabel:"Select all rows",selectRowLabel:"Select this row",expandRowLabel:"Expand this row",collapseRowLabel:"Collapse this row",sortLabel:"Sort by {column}",filterLabel:"Filter by {column}"},tag:{close:"Close this tag"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Vun=e=>(t,n)=>Wun(t,n,x(e)),Wun=(e,t,n)=>Es(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var o;return`${(o=t?.[s])!=null?o:`{${s}}`}`}),Uun=e=>{const t=O(()=>x(e).name),n=fr(e)?e:H(e);return{lang:t,locale:n,t:Vun(e)}},iLe=Symbol("localeContextKey"),un=e=>{const t=e||tt(iLe,H());return Uun(O(()=>t.value||zun))},aLe="__epPropKey",oe=e=>e,jun=e=>Pt(e)&&!!e[aLe],pf=(e,t)=>{if(!Pt(e)||jun(e))return e;const{values:n,required:r,default:s,type:o,validator:i}=e,l={type:o,required:!!r,validator:n||i?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),En(e,"default")&&f.push(s),c||(c=f.includes(u))),i&&(c||(c=i(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");u9e(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[aLe]:!0};return En(e,"default")&&(l.default=s),l},Me=e=>a_(Object.entries(e).map(([t,n])=>[t,pf(n,t)])),eh=["","default","small","large"],js=pf({type:String,values:eh,required:!1}),lLe=Symbol("size"),uLe=()=>{const e=tt(lLe,{});return O(()=>x(e.size)||"")},cLe=Symbol("emptyValuesContextKey"),Hun=["",void 0,null],qun=void 0,sb=Me({emptyValues:Array,valueOnClear:{type:oe([String,Number,Boolean,Function]),default:void 0,validator:e=>(e=ft(e)?e():e,Oe(e)?e.every(t=>!t):!e)}}),CI=(e,t)=>{const n=Ut()?tt(cLe,H({})):H({}),r=O(()=>e.emptyValues||n.value.emptyValues||Hun),s=O(()=>ft(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:ft(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:qun),o=i=>{let a=!0;return Oe(i)?a=r.value.some(l=>Gr(i,l)):a=r.value.includes(i),a};return o(s.value),{emptyValues:r,valueOnClear:s,isEmptyValue:o}},l_=e=>Object.keys(e),fLe=e=>Object.entries(e),pk=(e,t,n)=>({get value(){return Es(e,t,n)},set value(r){hun(e,t,r)}}),sM=H();function GC(e,t=void 0){const n=Ut()?tt(uPe,sM):sM;return e?O(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function v8(e,t){const n=GC(),r=Ae(e,O(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||fk})),s=un(O(()=>{var a;return(a=n.value)==null?void 0:a.locale})),o=xI(O(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||sLe})),i=O(()=>{var a;return x(t)||((a=n.value)==null?void 0:a.size)||""});return cne(O(()=>x(n)||{})),{ns:r,locale:s,zIndex:o,size:i}}const cne=(e,t,n=!1)=>{var r;const s=!!Ut(),o=s?GC():void 0,i=(r=t?.provide)!=null?r:s?ln:void 0;if(!i)return;const a=O(()=>{const l=x(e);return o?.value?Gun(o.value,l):l});return i(uPe,a),i(iLe,O(()=>a.value.locale)),i(cPe,O(()=>a.value.namespace)),i(oLe,O(()=>a.value.zIndex)),i(lLe,{size:O(()=>a.value.size||"")}),i(cLe,O(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(n||!sM.value)&&(sM.value=a.value),a},Gun=(e,t)=>{const n=[...new Set([...l_(e),...l_(t)])],r={};for(const s of n)r[s]=t[s]!==void 0?t[s]:e[s];return r},Kun=(e=[])=>({version:qrn,install:(n,r)=>{n[sge]||(n[sge]=!0,e.forEach(s=>n.use(s)),r&&cne(r,n,!0))}}),SI=Me({to:{type:oe([String,Object]),required:!0},disabled:Boolean});var Ve=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const Yun=me({__name:"teleport",props:SI,setup(e){return(t,n)=>t.disabled?ce(t.$slots,"default",{key:0}):(B(),pe(mze,{key:1,to:t.to},[ce(t.$slots,"default")],8,["to"]))}});var Xun=Ve(Yun,[["__file","/home/runner/work/element-plus/element-plus/packages/components/teleport/src/teleport.vue"]]);const Rt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},dLe=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Zun=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ur=e=>(e.install=Rn,e),KC=Rt(Xun),Et="update:modelValue",tn="change",Os="input",Jun=Me({zIndex:{type:oe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"},teleported:Boolean,appendTo:{type:SI.to.type,default:"body"}}),Qun={scroll:({scrollTop:e,fixed:t})=>pt(e)&&Ln(t),[tn]:e=>Ln(e)};function ecn(e,t,n,r){const s=n-t;return e/=r/2,e<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}const _d=e=>Tn?window.requestAnimationFrame(e):setTimeout(e,16),yp=e=>Tn?window.cancelAnimationFrame(e):clearTimeout(e),hLe=(e="")=>e.split(" ").filter(t=>!!t.trim()),td=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Au=(e,t)=>{!e||!t.trim()||e.classList.add(...hLe(t))},ia=(e,t)=>{!e||!t.trim()||e.classList.remove(...hLe(t))},Th=(e,t)=>{var n;if(!Tn||!e||!t)return"";let r=Da(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch{return e.style[r]}},pLe=(e,t,n)=>{if(!(!e||!t))if(Pt(t))fLe(t).forEach(([r,s])=>pLe(e,r,s));else{const r=Da(t);e.style[r]=n}};function Vr(e,t="px"){if(!e&&e!==0)return"";if(pt(e)||bun(e))return`${e}${t}`;if(it(e))return e}const tcn=(e,t)=>{if(!Tn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Th(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},fne=(e,t)=>{if(!Tn)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(tcn(n,t))return n;n=n.parentNode}return n};let AD;const gLe=e=>{var t;if(!Tn)return 0;if(AD!==void 0)return AD;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const o=s.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),AD=r-o,AD};function dne(e,t){if(!Tn)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const s=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=s+t.offsetHeight,i=e.scrollTop,a=i+e.clientHeight;s<i?e.scrollTop=s:o>a&&(e.scrollTop=o-e.clientHeight)}function ncn(e,t,n,r,s){const o=Date.now();let i;const a=()=>{const u=Date.now()-o,c=ecn(u>r?r:u,t,n,r);yI(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?i=_d(a):ft(s)&&s()};return a(),()=>{i&&yp(i)}}const zge=(e,t)=>yI(t)?e.ownerDocument.documentElement:t,Vge=e=>yI(e)?window.scrollY:e.scrollTop,Wge="ElAffix",rcn=me({name:Wge,__name:"affix",props:Jun,emits:Qun,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("affix"),i=lr(),a=lr(),l=lr(),{height:u}=une(),{height:c,width:f,top:d,bottom:h,left:p,update:g}=Mge(a,{windowScroll:!1}),m=Mge(i),v=H(!1),y=H(0),b=H(0),w=O(()=>!r.teleported||!v.value),C=O(()=>({height:v.value?`${c.value}px`:"",width:v.value?`${f.value}px`:""})),S=O(()=>{if(!v.value)return{};const _=Vr(r.offset);return{height:`${c.value}px`,width:`${f.value}px`,top:r.position==="top"?_:"",bottom:r.position==="bottom"?_:"",left:r.teleported?`${p.value}px`:"",transform:b.value?`translateY(${b.value}px)`:"",zIndex:r.zIndex}}),$=()=>{if(!l.value)return;y.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0;const{position:_,target:E,offset:A}=r,I=A+c.value;if(_==="top")if(E){const F=m.bottom.value-I;v.value=A>d.value&&m.bottom.value>0,b.value=F<0?F:0}else v.value=A>d.value;else if(E){const F=u.value-m.top.value-I;v.value=u.value-A<h.value&&u.value>m.top.value,b.value=F<0?-F:0}else v.value=u.value-A<h.value},k=async()=>{if(!v.value){g();return}v.value=!1,await Ye(),g(),v.value=!0},T=async()=>{g(),await Ye(),s("scroll",{scrollTop:y.value,fixed:v.value})};return xe(v,_=>s(tn,_)),jt(()=>{var _;r.target?(i.value=(_=document.querySelector(r.target))!=null?_:void 0,i.value||Ts(Wge,`Target does not exist: ${r.target}`)):i.value=document.documentElement,l.value=fne(a.value,!0),g()}),Fn(l,"scroll",T),ml($),t({update:$,updateRoot:k}),(_,E)=>(B(),K("div",{ref_key:"root",ref:a,class:V(x(o).b()),style:dt(C.value)},[ee(x(KC),{disabled:w.value,to:_.appendTo},{default:ie(()=>[Z("div",{class:V({[x(o).m("fixed")]:v.value}),style:dt(S.value)},[ce(_.$slots,"default")],6)]),_:3},8,["disabled","to"])],6))}});var scn=Ve(rcn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const ocn=Rt(scn),icn=Me({size:{type:oe([Number,String])},color:{type:String}}),acn=me({name:"ElIcon",inheritAttrs:!1,__name:"icon",props:icn,setup(e){const t=e,n=Ae("icon"),r=O(()=>{const{size:s,color:o}=t,i=Vr(s);return!i&&!o?{}:{fontSize:i,"--color":o}});return(s,o)=>(B(),K("i",Wt({class:x(n).b(),style:r.value},s.$attrs),[ce(s.$slots,"default")],16))}});var lcn=Ve(acn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ot=Rt(lcn);var ucn=me({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),th=ucn,ccn=me({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),bp=ccn,fcn=me({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),aa=fcn,dcn=me({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),y8=dcn,hcn=me({name:"Back",__name:"back",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),pcn=hcn,gcn=me({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),mcn=gcn,vcn=me({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),mLe=vcn,ycn=me({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),bcn=ycn,wcn=me({name:"Check",__name:"check",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),$I=wcn,xcn=me({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Ccn=xcn,Scn=me({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),hne=Scn,$cn=me({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),pne=$cn,kcn=me({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),jp=kcn,Ecn=me({name:"Clock",__name:"clock",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),vLe=Ecn,_cn=me({name:"Close",__name:"close",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),qu=_cn,Tcn=me({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),Ym=Tcn,Acn=me({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),Xm=Acn,Icn=me({name:"Delete",__name:"delete",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),yLe=Icn,Ncn=me({name:"Document",__name:"document",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Dcn=Ncn,Ocn=me({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Rcn=Ocn,Fcn=me({name:"Hide",__name:"hide",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),Mcn=Fcn,Pcn=me({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),u_=Pcn,Lcn=me({name:"Loading",__name:"loading",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),Td=Lcn,Bcn=me({name:"Minus",__name:"minus",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),zcn=Bcn,Vcn=me({name:"Monitor",__name:"monitor",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64z"})]))}}),Uge=Vcn,Wcn=me({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),jge=Wcn,Ucn=me({name:"More",__name:"more",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),jcn=Ucn,Hcn=me({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),qcn=Hcn,Gcn=me({name:"Plus",__name:"plus",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),gne=Gcn,Kcn=me({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784"})]))}}),Ycn=Kcn,Xcn=me({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Zcn=Xcn,Jcn=me({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),Qcn=Jcn,efn=me({name:"Refresh",__name:"refresh",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),tfn=efn,nfn=me({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),rfn=nfn,sfn=me({name:"Search",__name:"search",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),ofn=sfn,ifn=me({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),afn=ifn,lfn=me({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),ufn=lfn,cfn=me({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),ID=cfn,ffn=me({name:"Star",__name:"star",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),dfn=ffn,hfn=me({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),bLe=hfn,pfn=me({name:"View",__name:"view",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),wLe=pfn,gfn=me({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),b8=gfn,mfn=me({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),xLe=mfn,vfn=me({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(B(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),yfn=vfn;const zn=oe([String,Object,Function]),CLe={Close:qu},mne={Close:qu,SuccessFilled:bLe,InfoFilled:u_,WarningFilled:b8,CircleCloseFilled:pne},Zm={primary:u_,success:bLe,warning:b8,error:pne,info:u_},w8={validating:Td,success:hne,error:jp},bfn=["light","dark"],wfn=Me({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:l_(Zm),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:bfn,default:"light"},showAfter:Number,hideAfter:Number,autoClose:Number}),xfn={close:e=>e instanceof MouseEvent},Cfn=me({name:"ElAlert",__name:"alert",props:wfn,emits:xfn,setup(e,{emit:t}){const{Close:n}=mne,r=e,s=t,o=Ms(),i=Ae("alert"),a=H(!0),l=O(()=>Zm[r.type]),u=O(()=>!!(r.description||o.default)),c=f=>{a.value=!1,s("close",f)};return r.showAfter||r.hideAfter||r.autoClose,(f,d)=>(B(),pe(Ho,{name:x(i).b("fade"),persisted:""},{default:ie(()=>[Lt(Z("div",{class:V([x(i).b(),x(i).m(f.type),x(i).is("center",f.center),x(i).is(f.effect)]),role:"alert"},[f.showIcon&&(f.$slots.icon||l.value)?(B(),pe(x(ot),{key:0,class:V([x(i).e("icon"),x(i).is("big",u.value)])},{default:ie(()=>[ce(f.$slots,"icon",{},()=>[(B(),pe(zt(l.value)))])]),_:3},8,["class"])):fe("v-if",!0),Z("div",{class:V(x(i).e("content"))},[f.title||f.$slots.title?(B(),K("span",{key:0,class:V([x(i).e("title"),{"with-description":u.value}])},[ce(f.$slots,"title",{},()=>[Jt(De(f.title),1)])],2)):fe("v-if",!0),u.value?(B(),K("p",{key:1,class:V(x(i).e("description"))},[ce(f.$slots,"default",{},()=>[Jt(De(f.description),1)])],2)):fe("v-if",!0),f.closable?(B(),K(rt,{key:2},[f.closeText?(B(),K("div",{key:0,class:V([x(i).e("close-btn"),x(i).is("customed")]),onClick:c},De(f.closeText),3)):(B(),pe(x(ot),{key:1,class:V(x(i).e("close-btn")),onClick:c},{default:ie(()=>[ee(x(n))]),_:1},8,["class"]))],64)):fe("v-if",!0)],2)],2),[[$n,a.value]])]),_:3},8,["name"]))}});var Sfn=Ve(Cfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const $fn=Rt(Sfn),vne=()=>Tn&&/firefox/i.test(window.navigator.userAgent),SLe=()=>Tn&&/android/i.test(window.navigator.userAgent);let Ga;const kfn={height:"0",visibility:"hidden",overflow:vne()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Efn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Hge=e=>{const t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function _fn(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Efn.map(i=>[i,t.getPropertyValue(i)]),paddingSize:r,borderSize:s,boxSizing:n}}function qge(e,t=1,n){var r,s;Ga||(Ga=document.createElement("textarea"),((r=e.parentNode)!=null?r:document.body).appendChild(Ga));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:l}=_fn(e);l.forEach(([d,h])=>Ga?.style.setProperty(d,h)),Object.entries(kfn).forEach(([d,h])=>Ga?.style.setProperty(d,h,"important")),Ga.value=e.value||e.placeholder||"";let u=Ga.scrollHeight;const c={};a==="border-box"?u=u+i:a==="content-box"&&(u=u-o),Ga.value="";const f=Ga.scrollHeight-o;if(pt(t)){let d=f*t;a==="border-box"&&(d=d+o+i),u=Math.max(d,u),c.minHeight=`${d}px`}if(pt(n)){let d=f*n;a==="border-box"&&(d=d+o+i),u=Math.min(d,u)}return c.height=`${u}px`,(s=Ga.parentNode)==null||s.removeChild(Ga),Ga=void 0,c}const zr=e=>e,Tfn=Me({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),fa=e=>vp(Tfn,e),kI=Me({id:{type:String,default:void 0},size:js,disabled:{type:Boolean,default:void 0},modelValue:{type:oe([String,Number,Object]),default:""},modelModifiers:{type:oe(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:oe(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:oe([Boolean,Object]),default:!1},autocomplete:{type:oe(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:zn,default:jp},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:zn},prefixIcon:{type:zn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:oe([Object,Array,String]),default:()=>zr({})},autofocus:Boolean,rows:{type:Number,default:2},...fa(["ariaLabel"]),inputmode:{type:oe(String),default:void 0},name:String}),Afn={[Et]:e=>it(e),input:e=>it(e),change:(e,t)=>it(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Ifn=["class","style"],Nfn=/^on[A-Z]/,x8=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=O(()=>(n?.value||[]).concat(Ifn)),s=Ut();return O(s?()=>{var o;return a_(Object.entries((o=s.proxy)==null?void 0:o.$attrs).filter(([i])=>!r.value.includes(i)&&!(t&&Nfn.test(i))))}:()=>({}))},Gge={prefix:Math.floor(Math.random()*1e4),current:0},Dfn=Symbol("elIdInjection"),yne=()=>Ut()?tt(Dfn,Gge):Gge,Yo=e=>{const t=yne(),n=Hte();return JPe(()=>x(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},ob=Symbol("formContextKey"),Ad=Symbol("formItemContextKey"),Ro=()=>{const e=tt(ob,void 0),t=tt(Ad,void 0);return{form:e,formItem:t}},lu=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=H(!1)),r||(r=H(!1));const s=Ut(),o=()=>{let u=s?.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},i=H();let a;const l=O(()=>{var u;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return jt(()=>{a=xe([Bn(e,"id"),n],([u,c])=>{const f=u??(c?void 0:Yo().value);f!==i.value&&(t?.removeInputId&&!o()&&(i.value&&t.removeInputId(i.value),!r?.value&&!c&&f&&t.addInputId(f)),i.value=f)},{immediate:!0})}),Yx(()=>{a&&a(),t?.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:l,inputId:i}},$Le=e=>{const t=Ut();return O(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},Fs=(e,t={})=>{const n=H(void 0),r=t.prop?n:$Le("size"),s=t.global?n:uLe(),o=t.form?{size:void 0}:tt(ob,void 0),i=t.formItem?{size:void 0}:tt(Ad,void 0);return O(()=>r.value||x(e)||i?.size||o?.size||s.value||"")},jr=e=>{const t=$Le("disabled"),n=tt(ob,void 0);return O(()=>{var r,s,o;return(o=(s=(r=t.value)!=null?r:x(e))!=null?s:n?.disabled)!=null?o:!1})},Ofn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Kge=e=>typeof Element>"u"?!1:e instanceof Element,Rfn=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,Yge=e=>Array.from(e.querySelectorAll(Ofn)).filter(t=>c_(t)&&Rfn(t)),c_=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},B3=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(t,...n),e.dispatchEvent(s),e},kLe=e=>!e.getAttribute("aria-owns"),ELe=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const s=r.querySelectorAll(n),o=Array.prototype.indexOf.call(s,e);return s[o+t]||null},EI=(e,t)=>{if(!e||!e.focus)return;let n=!1;Kge(e)&&!c_(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),n=!0),e.focus(t),Kge(e)&&n&&e.removeAttribute("tabindex")},z3=e=>{e&&(EI(e),!kLe(e)&&e.click())};function Hp(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:s,afterBlur:o}={}){const i=Ut(),{emit:a}=i,l=lr(),u=H(!1),c=h=>{const p=ft(n)?n(h):!1;x(t)||u.value||p||(u.value=!0,a("focus",h),r?.())},f=h=>{var p;const g=ft(s)?s(h):!1;x(t)||h.relatedTarget&&((p=l.value)!=null&&p.contains(h.relatedTarget))||g||(u.value=!1,a("blur",h),o?.())},d=h=>{var p,g;x(t)||c_(h.target)||(p=l.value)!=null&&p.contains(document.activeElement)&&l.value!==document.activeElement||(g=e.value)==null||g.focus()};return xe([l,()=>x(t)],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),Fn(l,"focus",c,!0),Fn(l,"blur",f,!0),Fn(l,"click",d,!0),{isFocused:u,wrapperRef:l,handleFocus:c,handleBlur:f}}const Ffn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function _I({afterComposition:e,emit:t}){const n=H(!1),r=a=>{t?.("compositionstart",a),n.value=!0},s=a=>{var l;t?.("compositionupdate",a);const u=(l=a.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!Ffn(c)},o=a=>{t?.("compositionend",a),n.value&&(n.value=!1,Ye(()=>e(a)))};return{isComposing:n,handleComposition:a=>{a.type==="compositionend"?o(a):s(a)},handleCompositionStart:r,handleCompositionUpdate:s,handleCompositionEnd:o}}function Mfn(e){let t;function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:o,value:i}=e.value;if(s==null||o==null)return;const a=i.slice(0,Math.max(0,s)),l=i.slice(Math.max(0,o));t={selectionStart:s,selectionEnd:o,value:i,beforeTxt:a,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:s}=e.value,{beforeTxt:o,afterTxt:i,selectionStart:a}=t;if(o==null||i==null||a==null)return;let l=s.length;if(s.endsWith(i))l=s.length-i.length;else if(s.startsWith(o))l=o.length;else{const u=o[a-1],c=s.indexOf(u,a-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const Pfn=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],Lfn=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],Bfn="ElInput",zfn=me({name:Bfn,inheritAttrs:!1,__name:"input",props:kI,emits:Afn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=$p(),i=x8(),a=Ms(),l=O(()=>[r.type==="textarea"?m.b():g.b(),g.m(h.value),g.is("disabled",p.value),g.is("exceed",U.value),{[g.b("group")]:a.prepend||a.append,[g.m("prefix")]:a.prefix||r.prefixIcon,[g.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:M.value&&z.value,[g.b("hidden")]:r.type==="hidden"},o.class]),u=O(()=>[g.e("wrapper"),g.is("focus",T.value)]),{form:c,formItem:f}=Ro(),{inputId:d}=lu(r,{formItemContext:f}),h=Fs(),p=jr(),g=Ae("input"),m=Ae("textarea"),v=lr(),y=lr(),b=H(!1),w=H(!1),C=H(),S=lr(r.inputStyle),$=O(()=>v.value||y.value),{wrapperRef:k,isFocused:T,handleFocus:_,handleBlur:E}=Hp($,{disabled:p,afterBlur(){var ye;r.validateEvent&&((ye=f?.validate)==null||ye.call(f,"blur").catch(Ge=>void 0))}}),A=O(()=>{var ye;return(ye=c?.statusIcon)!=null?ye:!1}),I=O(()=>f?.validateState||""),F=O(()=>I.value&&w8[I.value]),R=O(()=>w.value?wLe:Mcn),L=O(()=>[o.style]),D=O(()=>[r.inputStyle,S.value,{resize:r.resize}]),N=O(()=>vs(r.modelValue)?"":String(r.modelValue)),M=O(()=>r.clearable&&!p.value&&!r.readonly&&!!N.value&&(T.value||b.value)),z=O(()=>r.showPassword&&!p.value&&!!N.value),W=O(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!p.value&&!r.readonly&&!r.showPassword),j=O(()=>N.value.length),U=O(()=>!!W.value&&j.value>Number(r.maxlength)),Y=O(()=>!!a.suffix||!!r.suffixIcon||M.value||r.showPassword||W.value||!!I.value&&A.value),G=O(()=>!!Object.keys(r.modelModifiers).length),[ne,ue]=Mfn(v);Cr(y,ye=>{if(J(),!W.value||r.resize!=="both"&&r.resize!=="horizontal")return;const Ge=ye[0],{width:at}=Ge.contentRect;C.value={right:`calc(100% - ${at+22-10}px)`}});const ae=()=>{const{type:ye,autosize:Ge}=r;if(!(!Tn||ye!=="textarea"||!y.value))if(Ge){const at=Pt(Ge)?Ge.minRows:void 0,cn=Pt(Ge)?Ge.maxRows:void 0,lt=qge(y.value,at,cn);S.value={overflowY:"hidden",...lt},Ye(()=>{y.value.offsetHeight,S.value=lt})}else S.value={minHeight:qge(y.value).minHeight}},J=(ye=>{let Ge=!1;return()=>{var at;if(Ge||!r.autosize)return;((at=y.value)==null?void 0:at.offsetParent)===null||(setTimeout(ye),Ge=!0)}})(ae),q=()=>{const ye=$.value,Ge=r.formatter?r.formatter(N.value):N.value;!ye||ye.value===Ge||r.type==="file"||(ye.value=Ge)},P=ye=>{const{trim:Ge,number:at}=r.modelModifiers;return Ge&&(ye=ye.trim()),at&&(ye=`${Hge(ye)}`),r.formatter&&r.parser&&(ye=r.parser(ye)),ye},Q=async ye=>{if(de.value)return;const{lazy:Ge}=r.modelModifiers;let{value:at}=ye.target;if(Ge){s(Os,at);return}if(at=P(at),String(at)===N.value){r.formatter&&q();return}ne(),s(Et,at),s(Os,at),await Ye(),(r.formatter&&r.parser||!G.value)&&q(),ue()},se=async ye=>{let{value:Ge}=ye.target;Ge=P(Ge),r.modelModifiers.lazy&&s(Et,Ge),s(tn,Ge,ye),await Ye(),q()},{isComposing:de,handleCompositionStart:he,handleCompositionUpdate:ge,handleCompositionEnd:$e}=_I({emit:s,afterComposition:Q}),He=()=>{w.value=!w.value},Ie=()=>{var ye;return(ye=$.value)==null?void 0:ye.focus()},Ce=()=>{var ye;return(ye=$.value)==null?void 0:ye.blur()},Fe=ye=>{b.value=!1,s("mouseleave",ye)},ze=ye=>{b.value=!0,s("mouseenter",ye)},Ue=ye=>{s("keydown",ye)},st=()=>{var ye;(ye=$.value)==null||ye.select()},ht=()=>{s(Et,""),s(tn,""),s("clear"),s(Os,"")};return xe(()=>r.modelValue,()=>{var ye;Ye(()=>ae()),r.validateEvent&&((ye=f?.validate)==null||ye.call(f,"change").catch(Ge=>void 0))}),xe(N,ye=>{if(!$.value)return;const{trim:Ge,number:at}=r.modelModifiers,cn=$.value.value,lt=(at||r.type==="number")&&!/^0\d/.test(cn)?`${Hge(cn)}`:cn;lt!==ye&&(document.activeElement===$.value&&$.value.type!=="range"&&Ge&&lt.trim()===ye||q())}),xe(()=>r.type,async()=>{await Ye(),q(),ae()}),jt(()=>{!r.formatter&&r.parser,q(),Ye(ae)}),t({input:v,textarea:y,ref:$,textareaStyle:D,autosize:Bn(r,"autosize"),isComposing:de,focus:Ie,blur:Ce,select:st,clear:ht,resizeTextarea:ae}),(ye,Ge)=>(B(),K("div",{class:V([l.value,{[x(g).bm("group","append")]:ye.$slots.append,[x(g).bm("group","prepend")]:ye.$slots.prepend}]),style:dt(L.value),onMouseenter:ze,onMouseleave:Fe},[fe(" input "),ye.type!=="textarea"?(B(),K(rt,{key:0},[fe(" prepend slot "),ye.$slots.prepend?(B(),K("div",{key:0,class:V(x(g).be("group","prepend"))},[ce(ye.$slots,"prepend")],2)):fe("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:k,class:V(u.value)},[fe(" prefix slot "),ye.$slots.prefix||ye.prefixIcon?(B(),K("span",{key:0,class:V(x(g).e("prefix"))},[Z("span",{class:V(x(g).e("prefix-inner"))},[ce(ye.$slots,"prefix"),ye.prefixIcon?(B(),pe(x(ot),{key:0,class:V(x(g).e("icon"))},{default:ie(()=>[(B(),pe(zt(ye.prefixIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)):fe("v-if",!0),Z("input",Wt({id:x(d),ref_key:"input",ref:v,class:x(g).e("inner")},x(i),{name:ye.name,minlength:ye.minlength,maxlength:ye.maxlength,type:ye.showPassword?w.value?"text":"password":ye.type,disabled:x(p),readonly:ye.readonly,autocomplete:ye.autocomplete,tabindex:ye.tabindex,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,style:ye.inputStyle,form:ye.form,autofocus:ye.autofocus,role:ye.containerRole,inputmode:ye.inputmode,onCompositionstart:Ge[0]||(Ge[0]=(...at)=>x(he)&&x(he)(...at)),onCompositionupdate:Ge[1]||(Ge[1]=(...at)=>x(ge)&&x(ge)(...at)),onCompositionend:Ge[2]||(Ge[2]=(...at)=>x($e)&&x($e)(...at)),onInput:Q,onChange:se,onKeydown:Ue}),null,16,Pfn),fe(" suffix slot "),Y.value?(B(),K("span",{key:1,class:V(x(g).e("suffix"))},[Z("span",{class:V(x(g).e("suffix-inner"))},[!M.value||!z.value||!W.value?(B(),K(rt,{key:0},[ce(ye.$slots,"suffix"),ye.suffixIcon?(B(),pe(x(ot),{key:0,class:V(x(g).e("icon"))},{default:ie(()=>[(B(),pe(zt(ye.suffixIcon)))]),_:1},8,["class"])):fe("v-if",!0)],64)):fe("v-if",!0),M.value?(B(),pe(x(ot),{key:1,class:V([x(g).e("icon"),x(g).e("clear")]),onMousedown:xt(x(Rn),["prevent"]),onClick:ht},{default:ie(()=>[(B(),pe(zt(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0),z.value?(B(),pe(x(ot),{key:2,class:V([x(g).e("icon"),x(g).e("password")]),onClick:He,onMousedown:xt(x(Rn),["prevent"]),onMouseup:xt(x(Rn),["prevent"])},{default:ie(()=>[(B(),pe(zt(R.value)))]),_:1},8,["class","onMousedown","onMouseup"])):fe("v-if",!0),W.value?(B(),K("span",{key:3,class:V([x(g).e("count"),x(g).is("outside",ye.wordLimitPosition==="outside")])},[Z("span",{class:V(x(g).e("count-inner"))},De(j.value)+" / "+De(ye.maxlength),3)],2)):fe("v-if",!0),I.value&&F.value&&A.value?(B(),pe(x(ot),{key:4,class:V([x(g).e("icon"),x(g).e("validateIcon"),x(g).is("loading",I.value==="validating")])},{default:ie(()=>[(B(),pe(zt(F.value)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)):fe("v-if",!0)],2),fe(" append slot "),ye.$slots.append?(B(),K("div",{key:1,class:V(x(g).be("group","append"))},[ce(ye.$slots,"append")],2)):fe("v-if",!0)],64)):(B(),K(rt,{key:1},[fe(" textarea "),Z("textarea",Wt({id:x(d),ref_key:"textarea",ref:y,class:[x(m).e("inner"),x(g).is("focus",x(T))]},x(i),{name:ye.name,minlength:ye.minlength,maxlength:ye.maxlength,tabindex:ye.tabindex,disabled:x(p),readonly:ye.readonly,autocomplete:ye.autocomplete,style:D.value,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,form:ye.form,autofocus:ye.autofocus,rows:ye.rows,role:ye.containerRole,onCompositionstart:Ge[3]||(Ge[3]=(...at)=>x(he)&&x(he)(...at)),onCompositionupdate:Ge[4]||(Ge[4]=(...at)=>x(ge)&&x(ge)(...at)),onCompositionend:Ge[5]||(Ge[5]=(...at)=>x($e)&&x($e)(...at)),onInput:Q,onFocus:Ge[6]||(Ge[6]=(...at)=>x(_)&&x(_)(...at)),onBlur:Ge[7]||(Ge[7]=(...at)=>x(E)&&x(E)(...at)),onChange:se,onKeydown:Ue}),null,16,Lfn),W.value?(B(),K("span",{key:0,style:dt(C.value),class:V([x(g).e("count"),x(g).is("outside",ye.wordLimitPosition==="outside")])},De(j.value)+" / "+De(ye.maxlength),7)):fe("v-if",!0)],64))],38))}});var Vfn=Ve(zfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Xi=Rt(Vfn),Ab=4,_Le={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Wfn=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),bne=Symbol("scrollbarContextKey"),Ufn=Me({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),jfn="Thumb",Hfn=me({__name:"thumb",props:Ufn,setup(e){const t=e,n=tt(bne),r=Ae("scrollbar");n||Ts(jfn,"can not inject scrollbar context");const s=H(),o=H(),i=H({}),a=H(!1);let l=!1,u=!1,c=0,f=0,d=Tn?document.onselectstart:null;const h=O(()=>_Le[t.vertical?"vertical":"horizontal"]),p=O(()=>Wfn({size:t.size,move:t.move,bar:h.value})),g=O(()=>s.value[h.value.offset]**2/n.wrapElement[h.value.scrollSize]/t.ratio/o.value[h.value.offset]),m=k=>{var T;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(T=window.getSelection())==null||T.removeAllRanges(),y(k);const _=k.currentTarget;_&&(i.value[h.value.axis]=_[h.value.offset]-(k[h.value.client]-_.getBoundingClientRect()[h.value.direction]))},v=k=>{if(!o.value||!s.value||!n.wrapElement)return;const T=Math.abs(k.target.getBoundingClientRect()[h.value.direction]-k[h.value.client]),_=o.value[h.value.offset]/2,E=(T-_)*100*g.value/s.value[h.value.offset];n.wrapElement[h.value.scroll]=E*n.wrapElement[h.value.scrollSize]/100},y=k=>{k.stopImmediatePropagation(),l=!0,c=n.wrapElement.scrollHeight,f=n.wrapElement.scrollWidth,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),d=document.onselectstart,document.onselectstart=()=>!1},b=k=>{if(!s.value||!o.value||l===!1)return;const T=i.value[h.value.axis];if(!T)return;const _=(s.value.getBoundingClientRect()[h.value.direction]-k[h.value.client])*-1,E=o.value[h.value.offset]-T,A=(_-E)*100*g.value/s.value[h.value.offset];h.value.scroll==="scrollLeft"?n.wrapElement[h.value.scroll]=A*f/100:n.wrapElement[h.value.scroll]=A*c/100},w=()=>{l=!1,i.value[h.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),$(),u&&(a.value=!1)},C=()=>{u=!1,a.value=!!t.size},S=()=>{u=!0,a.value=l};Nn(()=>{$(),document.removeEventListener("mouseup",w)});const $=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return Fn(Bn(n,"scrollbarElement"),"mousemove",C),Fn(Bn(n,"scrollbarElement"),"mouseleave",S),(k,T)=>(B(),pe(Ho,{name:x(r).b("fade"),persisted:""},{default:ie(()=>[Lt(Z("div",{ref_key:"instance",ref:s,class:V([x(r).e("bar"),x(r).is(h.value.key)]),onMousedown:v,onClick:T[0]||(T[0]=xt(()=>{},["stop"]))},[Z("div",{ref_key:"thumb",ref:o,class:V(x(r).e("thumb")),style:dt(p.value),onMousedown:m},null,38)],34),[[$n,k.always||a.value]])]),_:1},8,["name"]))}});var Xge=Ve(Hfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const qfn=Me({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Gfn=me({__name:"bar",props:qfn,setup(e,{expose:t}){const n=e,r=tt(bne),s=H(0),o=H(0),i=H(""),a=H(""),l=H(1),u=H(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-Ab,p=d.offsetWidth-Ab;o.value=d.scrollTop*100/h*l.value,s.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r?.wrapElement;if(!d)return;const h=d.offsetHeight-Ab,p=d.offsetWidth-Ab,g=h**2/d.scrollHeight,m=p**2/d.scrollWidth,v=Math.max(g,n.minSize),y=Math.max(m,n.minSize);l.value=g/(h-g)/(v/(h-v)),u.value=m/(p-m)/(y/(p-y)),a.value=v+Ab<h?`${v}px`:"",i.value=y+Ab<p?`${y}px`:""}}),(d,h)=>(B(),K(rt,null,[ee(Xge,{move:s.value,ratio:u.value,size:i.value,always:d.always},null,8,["move","ratio","size","always"]),ee(Xge,{move:o.value,ratio:l.value,size:a.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var Kfn=Ve(Gfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Yfn=Me({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:oe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...fa(["ariaLabel","ariaOrientation"])}),TLe={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(pt)},Xfn=["tabindex"],Zfn="ElScrollbar",Jfn=me({name:Zfn,__name:"scrollbar",props:Yfn,emits:TLe,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("scrollbar");let i,a,l,u=0,c=0,f="";const d={bottom:!1,top:!1,right:!1,left:!1},h=H(),p=H(),g=H(),m=H(),v=O(()=>{const A={},I=Vr(r.height),F=Vr(r.maxHeight);return I&&(A.height=I),F&&(A.maxHeight=F),[r.wrapStyle,A]}),y=O(()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}]),b=O(()=>[o.e("view"),r.viewClass]),w=A=>{var I;return(I=d[A])!=null?I:!1},C={top:"bottom",bottom:"top",left:"right",right:"left"},S=A=>{const I=C[f];if(!I)return;const F=A[f],R=A[I];F&&!d[f]&&(d[f]=!0),!R&&d[I]&&(d[I]=!1)},$=()=>{var A;if(p.value){(A=m.value)==null||A.handleScroll(p.value);const I=u,F=c;u=p.value.scrollTop,c=p.value.scrollLeft;const R={bottom:u+p.value.clientHeight>=p.value.scrollHeight-r.distance,top:u<=r.distance&&I!==0,right:c+p.value.clientWidth>=p.value.scrollWidth-r.distance&&F!==c,left:c<=r.distance&&F!==0};if(s("scroll",{scrollTop:u,scrollLeft:c}),I!==u&&(f=u>I?"bottom":"top"),F!==c&&(f=c>F?"right":"left"),r.distance>0){if(w(f))return;S(R)}R[f]&&s("end-reached",f)}};function k(A,I){Pt(A)?p.value.scrollTo(A):pt(A)&&pt(I)&&p.value.scrollTo(A,I)}const T=A=>{pt(A)&&(p.value.scrollTop=A)},_=A=>{pt(A)&&(p.value.scrollLeft=A)},E=()=>{var A;(A=m.value)==null||A.update(),d[f]=!1};return xe(()=>r.noresize,A=>{A?(i?.(),a?.(),l?.()):({stop:i}=Cr(g,E),{stop:a}=Cr(p,E),l=Fn("resize",E))},{immediate:!0}),xe(()=>[r.maxHeight,r.height],()=>{r.native||Ye(()=>{var A;E(),p.value&&((A=m.value)==null||A.handleScroll(p.value))})}),ln(bne,In({scrollbarElement:h,wrapElement:p})),MM(()=>{p.value&&(p.value.scrollTop=u,p.value.scrollLeft=c)}),jt(()=>{r.native||Ye(()=>{E()})}),Yc(()=>E()),t({wrapRef:p,update:E,scrollTo:k,setScrollTop:T,setScrollLeft:_,handleScroll:$}),(A,I)=>(B(),K("div",{ref_key:"scrollbarRef",ref:h,class:V(x(o).b())},[Z("div",{ref_key:"wrapRef",ref:p,class:V(y.value),style:dt(v.value),tabindex:A.tabindex,onScroll:$},[(B(),pe(zt(A.tag),{id:A.id,ref_key:"resizeRef",ref:g,class:V(b.value),style:dt(A.viewStyle),role:A.role,"aria-label":A.ariaLabel,"aria-orientation":A.ariaOrientation},{default:ie(()=>[ce(A.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,Xfn),A.native?fe("v-if",!0):(B(),pe(Kfn,{key:0,ref_key:"barRef",ref:m,always:A.always,"min-size":A.minSize},null,8,["always","min-size"]))],2))}});var Qfn=Ve(Jfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const jc=Rt(Qfn),wne=Symbol("popper"),ALe=Symbol("popperContent"),ILe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],NLe=Me({role:{type:String,values:ILe,default:"tooltip"}}),edn=me({name:"ElPopper",inheritAttrs:!1,__name:"popper",props:NLe,setup(e,{expose:t}){const n=e,r=H(),s=H(),o=H(),i=H(),a=O(()=>n.role),l={triggerRef:r,popperInstanceRef:s,contentRef:o,referenceRef:i,role:a};return t(l),ln(wne,l),(u,c)=>ce(u.$slots,"default")}});var tdn=Ve(edn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const ndn=me({name:"ElPopperArrow",inheritAttrs:!1,__name:"arrow",setup(e,{expose:t}){const n=Ae("popper"),{arrowRef:r,arrowStyle:s}=tt(ALe,void 0);return Nn(()=>{r.value=void 0}),t({arrowRef:r}),(o,i)=>(B(),K("span",{ref_key:"arrowRef",ref:r,class:V(x(n).e("arrow")),style:dt(x(s)),"data-popper-arrow":""},null,6))}});var rdn=Ve(ndn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const DLe=Me({virtualRef:{type:oe(Object)},virtualTriggering:Boolean,onMouseenter:{type:oe(Function)},onMouseleave:{type:oe(Function)},onClick:{type:oe(Function)},onKeydown:{type:oe(Function)},onFocus:{type:oe(Function)},onBlur:{type:oe(Function)},onContextmenu:{type:oe(Function)},id:String,open:Boolean}),OLe=Symbol("elForwardRef"),sdn=e=>{ln(OLe,{setForwardRef:n=>{e.value=n}})},odn=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),idn="ElOnlyChild",RLe=me({name:idn,setup(e,{slots:t,attrs:n}){var r;const s=tt(OLe),o=odn((r=s?.setForwardRef)!=null?r:Rn);return()=>{var i;const a=(i=t.default)==null?void 0:i.call(t,n);if(!a)return null;const[l,u]=FLe(a);return l?Lt(np(l,n),[[o]]):null}}});function FLe(e){if(!e)return[null,0];const t=e,n=t.filter(r=>r.type!==ps).length;for(const r of t){if(Pt(r))switch(r.type){case ps:continue;case Xx:case"svg":return[Zge(r),n];case rt:return FLe(r.children);default:return[r,n]}return[Zge(r),n]}return[null,0]}function Zge(e){const t=Ae("only-child");return ee("span",{class:t.e("content")},[e])}const adn=me({name:"ElPopperTrigger",inheritAttrs:!1,__name:"trigger",props:DLe,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=tt(wne,void 0);sdn(s);const o=O(()=>a.value?n.id:void 0),i=O(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=O(()=>{if(r&&r.value!=="tooltip")return r.value}),l=O(()=>a.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return jt(()=>{xe(()=>n.virtualRef,f=>{f&&(s.value=Vs(f))},{immediate:!0}),xe(s,(f,d)=>{u?.(),u=void 0,cl(d)&&c.forEach(h=>{const p=n[h];p&&d.removeEventListener(h.slice(2).toLowerCase(),p,["onFocus","onBlur"].includes(h))}),cl(f)&&(c.forEach(h=>{const p=n[h];p&&f.addEventListener(h.slice(2).toLowerCase(),p,["onFocus","onBlur"].includes(h))}),c_(f)&&(u=xe([o,i,a,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{vs(h[g])?f.removeAttribute(p):f.setAttribute(p,h[g])})},{immediate:!0}))),cl(d)&&c_(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),Nn(()=>{if(u?.(),u=void 0,s.value&&cl(s.value)){const f=s.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h,["onFocus","onBlur"].includes(d))}),s.value=void 0}}),t({triggerRef:s}),(f,d)=>f.virtualTriggering?fe("v-if",!0):(B(),pe(x(RLe),Wt({key:0},f.$attrs,{"aria-controls":o.value,"aria-describedby":i.value,"aria-expanded":l.value,"aria-haspopup":a.value}),{default:ie(()=>[ce(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ldn=Ve(adn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const A7="focus-trap.focus-after-trapped",I7="focus-trap.focus-after-released",udn="focus-trap.focusout-prevented",Jge={cancelable:!0,bubbles:!1},cdn={cancelable:!0,bubbles:!1},Qge="focusAfterTrapped",eme="focusAfterReleased",MLe=Symbol("elFocusTrap"),xne=H(),C8=H(0),Cne=H(0);let ND=0;const PLe=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},tme=(e,t)=>{for(const n of e)if(!fdn(n,t))return n},fdn=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},ddn=e=>{const t=PLe(e),n=tme(t,e),r=tme(t.reverse(),e);return[n,r]},hdn=e=>e instanceof HTMLInputElement&&"select"in e,cg=(e,t)=>{if(e){const n=document.activeElement;EI(e,{preventScroll:!0}),Cne.value=window.performance.now(),e!==n&&hdn(e)&&t&&e.select()}};function nme(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const pdn=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=nme(e,r),e.unshift(r)},remove:r=>{var s,o;e=nme(e,r),(o=(s=e[0])==null?void 0:s.resume)==null||o.call(s)}}},gdn=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(cg(r,t),document.activeElement!==n)return},rme=pdn(),mdn=()=>C8.value>Cne.value,DD=()=>{xne.value="pointer",C8.value=window.performance.now()},sme=()=>{xne.value="keyboard",C8.value=window.performance.now()},vdn=()=>(jt(()=>{ND===0&&(document.addEventListener("mousedown",DD),document.addEventListener("touchstart",DD),document.addEventListener("keydown",sme)),ND++}),Nn(()=>{ND--,ND<=0&&(document.removeEventListener("mousedown",DD),document.removeEventListener("touchstart",DD),document.removeEventListener("keydown",sme))}),{focusReason:xne,lastUserFocusTimestamp:C8,lastAutomatedFocusTimestamp:Cne}),OD=e=>new CustomEvent(udn,{...cdn,detail:e}),Re={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},to=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const o=e?.(s);if(n===!1||!o)return t?.(s)},ome=e=>t=>t.pointerType==="mouse"?e(t):void 0,Hn=e=>{if(e.code&&e.code!=="Unidentified")return e.code;const t=LLe(e);return t?Object.values(Re).includes(t)?t:t===" "?Re.space:"":""},LLe=e=>{let t=e.key&&e.key!=="Unidentified"?e.key:"";if(!t&&e.type==="keyup"&&SLe()){const n=e.target;t=n.value.charAt(n.selectionStart-1)}return t};let Vb=[];const ime=e=>{Hn(e)===Re.esc&&Vb.forEach(n=>n(e))},ydn=e=>{jt(()=>{Vb.length===0&&document.addEventListener("keydown",ime),Tn&&Vb.push(e)}),Nn(()=>{Vb=Vb.filter(t=>t!==e),Vb.length===0&&Tn&&document.removeEventListener("keydown",ime)})},bdn=me({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Qge,eme,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=H();let r,s;const{focusReason:o}=vdn();ydn(p=>{e.trapped&&!i.paused&&t("release-requested",p)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!e.loop&&!e.trapped||i.paused)return;const{altKey:g,ctrlKey:m,metaKey:v,currentTarget:y,shiftKey:b}=p,{loop:w}=e,S=Hn(p)===Re.tab&&!g&&!m&&!v,$=document.activeElement;if(S&&$){const k=y,[T,_]=ddn(k);if(T&&_){if(!b&&$===_){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),w&&cg(T,!0))}else if(b&&[T,k].includes($)){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),w&&cg(_,!0))}}else if($===k){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||p.preventDefault()}}};ln(MLe,{focusTrapRef:n,onKeydown:a}),xe(()=>e.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),xe([n],([p],[g])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),g&&(g.removeEventListener("keydown",a),g.removeEventListener("focusin",c),g.removeEventListener("focusout",f))});const l=p=>{t(Qge,p)},u=p=>t(eme,p),c=p=>{const g=x(n);if(!g)return;const m=p.target,v=p.relatedTarget,y=m&&g.contains(m);e.trapped||v&&g.contains(v)||(r=v),y&&t("focusin",p),!i.paused&&e.trapped&&(y?s=m:cg(s,!0))},f=p=>{const g=x(n);if(!(i.paused||!g))if(e.trapped){const m=p.relatedTarget;!vs(m)&&!g.contains(m)&&setTimeout(()=>{if(!i.paused&&e.trapped){const v=OD({focusReason:o.value});t("focusout-prevented",v),v.defaultPrevented||cg(s,!0)}},0)}else{const m=p.target;m&&g.contains(m)||t("focusout",p)}};async function d(){await Ye();const p=x(n);if(p){rme.push(i);const g=p.contains(document.activeElement)?r:document.activeElement;if(r=g,!p.contains(g)){const v=new Event(A7,Jge);p.addEventListener(A7,l),p.dispatchEvent(v),v.defaultPrevented||Ye(()=>{let y=e.focusStartEl;it(y)||(cg(y),document.activeElement!==y&&(y="first")),y==="first"&&gdn(PLe(p),!0),(document.activeElement===g||y==="container")&&cg(p)})}}}function h(){const p=x(n);if(p){p.removeEventListener(A7,l);const g=new CustomEvent(I7,{...Jge,detail:{focusReason:o.value}});p.addEventListener(I7,u),p.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!mdn()||p.contains(document.activeElement))&&cg(r??document.body),p.removeEventListener(I7,u),rme.remove(i),r=null,s=null}}return jt(()=>{e.trapped&&d(),xe(()=>e.trapped,p=>{p?d():h()})}),Nn(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",a),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0),r=null,s=null}),{onKeydown:a}}});function wdn(e,t,n,r,s,o){return ce(e.$slots,"default",{handleKeydown:e.onKeydown})}var YC=Ve(bdn,[["render",wdn],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]),pl="top",Gu="bottom",Ku="right",gl="left",Sne="auto",TI=[pl,Gu,Ku,gl],Fx="start",f_="end",xdn="clippingParents",BLe="viewport",GS="popper",Cdn="reference",ame=TI.reduce(function(e,t){return e.concat([t+"-"+Fx,t+"-"+f_])},[]),qp=[].concat(TI,[Sne]).reduce(function(e,t){return e.concat([t,t+"-"+Fx,t+"-"+f_])},[]),Sdn="beforeRead",$dn="read",kdn="afterRead",Edn="beforeMain",_dn="main",Tdn="afterMain",Adn="beforeWrite",Idn="write",Ndn="afterWrite",Ddn=[Sdn,$dn,kdn,Edn,_dn,Tdn,Adn,Idn,Ndn];function Id(e){return e?(e.nodeName||"").toLowerCase():null}function gf(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mx(e){var t=gf(e).Element;return e instanceof t||e instanceof Element}function Fu(e){var t=gf(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function $ne(e){if(typeof ShadowRoot>"u")return!1;var t=gf(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Odn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},o=t.elements[n];!Fu(o)||!Id(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function Rdn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],o=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=i.reduce(function(l,u){return l[u]="",l},{});!Fu(s)||!Id(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var zLe={name:"applyStyles",enabled:!0,phase:"write",fn:Odn,effect:Rdn,requires:["computeStyles"]};function nd(e){return e.split("-")[0]}var l1=Math.max,oM=Math.min,Px=Math.round;function Lx(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Fu(e)&&t){var o=e.offsetHeight,i=e.offsetWidth;i>0&&(r=Px(n.width)/i||1),o>0&&(s=Px(n.height)/o||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function kne(e){var t=Lx(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function VLe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&$ne(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wp(e){return gf(e).getComputedStyle(e)}function Fdn(e){return["table","td","th"].indexOf(Id(e))>=0}function D0(e){return((Mx(e)?e.ownerDocument:e.document)||window.document).documentElement}function S8(e){return Id(e)==="html"?e:e.assignedSlot||e.parentNode||($ne(e)?e.host:null)||D0(e)}function lme(e){return!Fu(e)||wp(e).position==="fixed"?null:e.offsetParent}function Mdn(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Fu(e)){var r=wp(e);if(r.position==="fixed")return null}var s=S8(e);for($ne(s)&&(s=s.host);Fu(s)&&["html","body"].indexOf(Id(s))<0;){var o=wp(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function AI(e){for(var t=gf(e),n=lme(e);n&&Fdn(n)&&wp(n).position==="static";)n=lme(n);return n&&(Id(n)==="html"||Id(n)==="body"&&wp(n).position==="static")?t:n||Mdn(e)||t}function Ene(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gk(e,t,n){return l1(e,oM(t,n))}function Pdn(e,t,n){var r=gk(e,t,n);return r>n?n:r}function WLe(){return{top:0,right:0,bottom:0,left:0}}function ULe(e){return Object.assign({},WLe(),e)}function jLe(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Ldn=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ULe(typeof e!="number"?e:jLe(e,TI))};function Bdn(e){var t,n=e.state,r=e.name,s=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=nd(n.placement),l=Ene(a),u=[gl,Ku].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!i)){var f=Ldn(s.padding,n),d=kne(o),h=l==="y"?pl:gl,p=l==="y"?Gu:Ku,g=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],m=i[l]-n.rects.reference[l],v=AI(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=g/2-m/2,w=f[h],C=y-d[c]-f[p],S=y/2-d[c]/2+b,$=gk(w,S,C),k=l;n.modifiersData[r]=(t={},t[k]=$,t.centerOffset=$-S,t)}}function zdn(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!VLe(t.elements.popper,s)||(t.elements.arrow=s))}var Vdn={name:"arrow",enabled:!0,phase:"main",fn:Bdn,effect:zdn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bx(e){return e.split("-")[1]}var Wdn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Udn(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:Px(t*s)/s||0,y:Px(n*s)/s||0}}function ume(e){var t,n=e.popper,r=e.popperRect,s=e.placement,o=e.variation,i=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=i.x,h=d===void 0?0:d,p=i.y,g=p===void 0?0:p,m=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),b=gl,w=pl,C=window;if(u){var S=AI(n),$="clientHeight",k="clientWidth";if(S===gf(n)&&(S=D0(n),wp(S).position!=="static"&&a==="absolute"&&($="scrollHeight",k="scrollWidth")),S=S,s===pl||(s===gl||s===Ku)&&o===f_){w=Gu;var T=f&&S===C&&C.visualViewport?C.visualViewport.height:S[$];g-=T-r.height,g*=l?1:-1}if(s===gl||(s===pl||s===Gu)&&o===f_){b=Ku;var _=f&&S===C&&C.visualViewport?C.visualViewport.width:S[k];h-=_-r.width,h*=l?1:-1}}var E=Object.assign({position:a},u&&Wdn),A=c===!0?Udn({x:h,y:g}):{x:h,y:g};if(h=A.x,g=A.y,l){var I;return Object.assign({},E,(I={},I[w]=y?"0":"",I[b]=v?"0":"",I.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",I))}return Object.assign({},E,(t={},t[w]=y?g+"px":"",t[b]=v?h+"px":"",t.transform="",t))}function jdn(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:nd(t.placement),variation:Bx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ume(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ume(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var HLe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jdn,data:{}},RD={passive:!0};function Hdn(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,l=gf(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,RD)}),a&&l.addEventListener("resize",n.update,RD),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,RD)}),a&&l.removeEventListener("resize",n.update,RD)}}var qLe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hdn,data:{}},qdn={left:"right",right:"left",bottom:"top",top:"bottom"};function V3(e){return e.replace(/left|right|bottom|top/g,function(t){return qdn[t]})}var Gdn={start:"end",end:"start"};function cme(e){return e.replace(/start|end/g,function(t){return Gdn[t]})}function _ne(e){var t=gf(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Tne(e){return Lx(D0(e)).left+_ne(e).scrollLeft}function Kdn(e){var t=gf(e),n=D0(e),r=t.visualViewport,s=n.clientWidth,o=n.clientHeight,i=0,a=0;return r&&(s=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,a=r.offsetTop)),{width:s,height:o,x:i+Tne(e),y:a}}function Ydn(e){var t,n=D0(e),r=_ne(e),s=(t=e.ownerDocument)==null?void 0:t.body,o=l1(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=l1(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Tne(e),l=-r.scrollTop;return wp(s||n).direction==="rtl"&&(a+=l1(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}function Ane(e){var t=wp(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function GLe(e){return["html","body","#document"].indexOf(Id(e))>=0?e.ownerDocument.body:Fu(e)&&Ane(e)?e:GLe(S8(e))}function mk(e,t){var n;t===void 0&&(t=[]);var r=GLe(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),o=gf(r),i=s?[o].concat(o.visualViewport||[],Ane(r)?r:[]):r,a=t.concat(i);return s?a:a.concat(mk(S8(i)))}function iH(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xdn(e){var t=Lx(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function fme(e,t){return t===BLe?iH(Kdn(e)):Mx(t)?Xdn(t):iH(Ydn(D0(e)))}function Zdn(e){var t=mk(S8(e)),n=["absolute","fixed"].indexOf(wp(e).position)>=0,r=n&&Fu(e)?AI(e):e;return Mx(r)?t.filter(function(s){return Mx(s)&&VLe(s,r)&&Id(s)!=="body"}):[]}function Jdn(e,t,n){var r=t==="clippingParents"?Zdn(e):[].concat(t),s=[].concat(r,[n]),o=s[0],i=s.reduce(function(a,l){var u=fme(e,l);return a.top=l1(u.top,a.top),a.right=oM(u.right,a.right),a.bottom=oM(u.bottom,a.bottom),a.left=l1(u.left,a.left),a},fme(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function KLe(e){var t=e.reference,n=e.element,r=e.placement,s=r?nd(r):null,o=r?Bx(r):null,i=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(s){case pl:l={x:i,y:t.y-n.height};break;case Gu:l={x:i,y:t.y+t.height};break;case Ku:l={x:t.x+t.width,y:a};break;case gl:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=s?Ene(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Fx:l[u]=l[u]-(t[c]/2-n[c]/2);break;case f_:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function d_(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,o=n.boundary,i=o===void 0?xdn:o,a=n.rootBoundary,l=a===void 0?BLe:a,u=n.elementContext,c=u===void 0?GS:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,g=ULe(typeof p!="number"?p:jLe(p,TI)),m=c===GS?Cdn:GS,v=e.rects.popper,y=e.elements[d?m:c],b=Jdn(Mx(y)?y:y.contextElement||D0(e.elements.popper),i,l),w=Lx(e.elements.reference),C=KLe({reference:w,element:v,placement:s}),S=iH(Object.assign({},v,C)),$=c===GS?S:w,k={top:b.top-$.top+g.top,bottom:$.bottom-b.bottom+g.bottom,left:b.left-$.left+g.left,right:$.right-b.right+g.right},T=e.modifiersData.offset;if(c===GS&&T){var _=T[s];Object.keys(k).forEach(function(E){var A=[Ku,Gu].indexOf(E)>=0?1:-1,I=[pl,Gu].indexOf(E)>=0?"y":"x";k[E]+=_[I]*A})}return k}function Qdn(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?qp:l,c=Bx(r),f=c?a?ame:ame.filter(function(p){return Bx(p)===c}):TI,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=d_(e,{placement:g,boundary:s,rootBoundary:o,padding:i})[nd(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function ehn(e){if(nd(e)===Sne)return[];var t=V3(e);return[cme(e),t,cme(t)]}function thn(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,m=t.options.placement,v=nd(m),y=v===m,b=l||(y||!p?[V3(m)]:ehn(m)),w=[m].concat(b).reduce(function(Y,G){return Y.concat(nd(G)===Sne?Qdn(t,{placement:G,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:g}):G)},[]),C=t.rects.reference,S=t.rects.popper,$=new Map,k=!0,T=w[0],_=0;_<w.length;_++){var E=w[_],A=nd(E),I=Bx(E)===Fx,F=[pl,Gu].indexOf(A)>=0,R=F?"width":"height",L=d_(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),D=F?I?Ku:gl:I?Gu:pl;C[R]>S[R]&&(D=V3(D));var N=V3(D),M=[];if(o&&M.push(L[A]<=0),a&&M.push(L[D]<=0,L[N]<=0),M.every(function(Y){return Y})){T=E,k=!1;break}$.set(E,M)}if(k)for(var z=p?3:1,W=function(Y){var G=w.find(function(ne){var ue=$.get(ne);if(ue)return ue.slice(0,Y).every(function(ae){return ae})});if(G)return T=G,"break"},j=z;j>0;j--){var U=W(j);if(U==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var nhn={name:"flip",enabled:!0,phase:"main",fn:thn,requiresIfExists:["offset"],data:{_skip:!1}};function dme(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function hme(e){return[pl,Ku,Gu,gl].some(function(t){return e[t]>=0})}function rhn(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,i=d_(t,{elementContext:"reference"}),a=d_(t,{altBoundary:!0}),l=dme(i,r),u=dme(a,s,o),c=hme(l),f=hme(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var shn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rhn};function ohn(e,t,n){var r=nd(e),s=[gl,pl].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[gl,Ku].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function ihn(e){var t=e.state,n=e.options,r=e.name,s=n.offset,o=s===void 0?[0,0]:s,i=qp.reduce(function(c,f){return c[f]=ohn(f,t.rects,o),c},{}),a=i[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}var ahn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ihn};function lhn(e){var t=e.state,n=e.name;t.modifiersData[n]=KLe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var YLe={name:"popperOffsets",enabled:!0,phase:"read",fn:lhn,data:{}};function uhn(e){return e==="x"?"y":"x"}function chn(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,g=p===void 0?0:p,m=d_(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),v=nd(t.placement),y=Bx(t.placement),b=!y,w=Ene(v),C=uhn(w),S=t.modifiersData.popperOffsets,$=t.rects.reference,k=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,_=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(S){if(o){var I,F=w==="y"?pl:gl,R=w==="y"?Gu:Ku,L=w==="y"?"height":"width",D=S[w],N=D+m[F],M=D-m[R],z=h?-k[L]/2:0,W=y===Fx?$[L]:k[L],j=y===Fx?-k[L]:-$[L],U=t.elements.arrow,Y=h&&U?kne(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:WLe(),ne=G[F],ue=G[R],ae=gk(0,$[L],Y[L]),X=b?$[L]/2-z-ae-ne-_.mainAxis:W-ae-ne-_.mainAxis,J=b?-$[L]/2+z+ae+ue+_.mainAxis:j+ae+ue+_.mainAxis,q=t.elements.arrow&&AI(t.elements.arrow),P=q?w==="y"?q.clientTop||0:q.clientLeft||0:0,Q=(I=E?.[w])!=null?I:0,se=D+X-Q-P,de=D+J-Q,he=gk(h?oM(N,se):N,D,h?l1(M,de):M);S[w]=he,A[w]=he-D}if(a){var ge,$e=w==="x"?pl:gl,He=w==="x"?Gu:Ku,Ie=S[C],Ce=C==="y"?"height":"width",Fe=Ie+m[$e],ze=Ie-m[He],Ue=[pl,gl].indexOf(v)!==-1,st=(ge=E?.[C])!=null?ge:0,ht=Ue?Fe:Ie-$[Ce]-k[Ce]-st+_.altAxis,ye=Ue?Ie+$[Ce]+k[Ce]-st-_.altAxis:ze,Ge=h&&Ue?Pdn(ht,Ie,ye):gk(h?ht:Fe,Ie,h?ye:ze);S[C]=Ge,A[C]=Ge-Ie}t.modifiersData[r]=A}}var fhn={name:"preventOverflow",enabled:!0,phase:"main",fn:chn,requiresIfExists:["offset"]};function dhn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function hhn(e){return e===gf(e)||!Fu(e)?_ne(e):dhn(e)}function phn(e){var t=e.getBoundingClientRect(),n=Px(t.width)/e.offsetWidth||1,r=Px(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ghn(e,t,n){n===void 0&&(n=!1);var r=Fu(t),s=Fu(t)&&phn(t),o=D0(t),i=Lx(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Id(t)!=="body"||Ane(o))&&(a=hhn(t)),Fu(t)?(l=Lx(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Tne(o))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function mhn(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&s(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||s(o)}),r}function vhn(e){var t=mhn(e);return Ddn.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function yhn(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function bhn(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var pme={placement:"bottom",modifiers:[],strategy:"absolute"};function gme(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ine(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,o=s===void 0?pme:s;return function(i,a,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pme,o),modifiersData:{},elements:{reference:i,popper:a},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(g){var m=typeof g=="function"?g(u.options):g;p(),u.options=Object.assign({},o,u.options,m),u.scrollParents={reference:Mx(i)?mk(i):i.contextElement?mk(i.contextElement):[],popper:mk(a)};var v=vhn(bhn([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var g=u.elements,m=g.reference,v=g.popper;if(gme(m,v)){u.rects={reference:ghn(m,AI(v),u.options.strategy==="fixed"),popper:kne(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],w=b.fn,C=b.options,S=C===void 0?{}:C,$=b.name;typeof w=="function"&&(u=w({state:u,options:S,name:$,instance:d})||u)}}}},update:yhn(function(){return new Promise(function(g){d.forceUpdate(),g(u)})}),destroy:function(){p(),f=!0}};if(!gme(i,a))return d;d.setOptions(l).then(function(g){!f&&l.onFirstUpdate&&l.onFirstUpdate(g)});function h(){u.orderedModifiers.forEach(function(g){var m=g.name,v=g.options,y=v===void 0?{}:v,b=g.effect;if(typeof b=="function"){var w=b({state:u,name:m,instance:d,options:y}),C=function(){};c.push(w||C)}})}function p(){c.forEach(function(g){return g()}),c=[]}return d}}Ine();var whn=[qLe,YLe,HLe,zLe];Ine({defaultModifiers:whn});var xhn=[qLe,YLe,HLe,zLe,ahn,nhn,fhn,Vdn,shn],Chn=Ine({defaultModifiers:xhn});const XLe=Me({arrowOffset:{type:Number,default:5}}),Shn=["fixed","absolute"],$hn=Me({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:oe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:qp,default:"bottom"},popperOptions:{type:oe(Object),default:()=>({})},strategy:{type:String,values:Shn,default:"absolute"}}),ZLe=Me({...$hn,...XLe,id:String,style:{type:oe([String,Array,Object])},className:{type:oe([String,Array,Object])},effect:{type:oe(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:oe([String,Array,Object])},popperStyle:{type:oe([String,Array,Object])},referenceEl:{type:oe(Object)},triggerTargetEl:{type:oe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...fa(["ariaLabel"]),loop:Boolean}),khn={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Ehn=(e,t)=>{const n=H(!1),r=H(),s=()=>{t("focus")},o=u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},i=u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},a=u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},l=()=>{n.value=!1,t("close")};return Nn(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:i,onFocusoutPrevented:a,onReleaseRequested:l}},_hn=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,o={placement:n,strategy:r,...s,modifiers:[...Ahn(e),...t]};return Ihn(o,s?.modifiers),o},Thn=e=>{if(Tn)return Vs(e)};function Ahn(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Ihn(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Nhn=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=Dhn(l);Object.assign(i.value,u)},requires:["computeStyles"]},s=O(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=x(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),o=lr(),i=H({styles:{popper:{position:x(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return xe(s,l=>{const u=x(o);u&&u.setOptions(l)},{deep:!0}),xe([e,t],([l,u])=>{a(),!(!l||!u)&&(o.value=Chn(l,u,x(s)))}),Nn(()=>{a()}),{state:O(()=>{var l;return{...((l=x(o))==null?void 0:l.state)||{}}}),styles:O(()=>x(i).styles),attributes:O(()=>x(i).attributes),update:()=>{var l;return(l=x(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=x(o))==null?void 0:l.forceUpdate()},instanceRef:O(()=>x(o))}};function Dhn(e){const t=Object.keys(e.elements),n=a_(t.map(s=>[s,e.styles[s]||{}])),r=a_(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}const Ohn=0,Rhn=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=tt(wne,void 0),o=H(),i=O(()=>e.arrowOffset),a=O(()=>({name:"eventListeners",enabled:!!e.visible})),l=O(()=>{var v;const y=x(o),b=(v=x(i))!=null?v:Ohn;return{name:"arrow",enabled:!run(y),options:{element:y,padding:b}}}),u=O(()=>({onFirstUpdate:()=>{p()},..._hn(e,[x(l),x(a)])})),c=O(()=>Thn(e.referenceEl)||x(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:g,instanceRef:m}=Nhn(c,n,u);return xe(m,v=>t.value=v,{flush:"sync"}),jt(()=>{xe(()=>{var v,y;return(y=(v=x(c))==null?void 0:v.getBoundingClientRect)==null?void 0:y.call(v)},()=>{p()})}),Nn(()=>{t.value=void 0}),{attributes:f,arrowRef:o,contentRef:n,instanceRef:m,state:d,styles:h,role:s,forceUpdate:g,update:p}},Fhn=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=xI(),o=Ae("popper"),i=O(()=>x(t).popper),a=H(pt(e.zIndex)?e.zIndex:s()),l=O(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),u=O(()=>[{zIndex:x(a)},x(n).popper,e.popperStyle||{}]),c=O(()=>r.value==="dialog"?"false":void 0),f=O(()=>x(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:i,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=pt(e.zIndex)?e.zIndex:s()}}},Mhn=me({name:"ElPopperContent",__name:"content",props:ZLe,emits:khn,setup(e,{expose:t,emit:n}){const r=n,s=e,{focusStartRef:o,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:f}=Ehn(s,r),{attributes:d,arrowRef:h,contentRef:p,styles:g,instanceRef:m,role:v,update:y}=Rhn(s),{ariaModal:b,arrowStyle:w,contentAttrs:C,contentClass:S,contentStyle:$,updateZIndex:k}=Fhn(s,{styles:g,attributes:d,role:v}),T=tt(Ad,void 0);ln(ALe,{arrowStyle:w,arrowRef:h}),T&&ln(Ad,{...T,addInputId:Rn,removeInputId:Rn});let _;const E=(I=!0)=>{y(),I&&k()},A=()=>{E(!1),s.visible&&s.focusOnShow?i.value=!0:s.visible===!1&&(i.value=!1)};return jt(()=>{xe(()=>s.triggerTargetEl,(I,F)=>{_?.(),_=void 0;const R=x(I||p.value),L=x(F||p.value);cl(R)&&(_=xe([v,()=>s.ariaLabel,b,()=>s.id],D=>{["role","aria-label","aria-modal","id"].forEach((N,M)=>{vs(D[M])?R.removeAttribute(N):R.setAttribute(N,D[M])})},{immediate:!0})),L!==R&&cl(L)&&["role","aria-label","aria-modal","id"].forEach(D=>{L.removeAttribute(D)})},{immediate:!0}),xe(()=>s.visible,A,{immediate:!0})}),Nn(()=>{_?.(),_=void 0,p.value=void 0}),t({popperContentRef:p,popperInstanceRef:m,updatePopper:E,contentStyle:$}),(I,F)=>(B(),K("div",Wt({ref_key:"contentRef",ref:p},x(C),{style:x($),class:x(S),tabindex:"-1",onMouseenter:F[0]||(F[0]=R=>I.$emit("mouseenter",R)),onMouseleave:F[1]||(F[1]=R=>I.$emit("mouseleave",R))}),[ee(x(YC),{loop:I.loop,trapped:x(i),"trap-on-focus-in":!0,"focus-trap-el":x(p),"focus-start-el":x(o),onFocusAfterTrapped:x(l),onFocusAfterReleased:x(a),onFocusin:x(u),onFocusoutPrevented:x(c),onReleaseRequested:x(f)},{default:ie(()=>[ce(I.$slots,"default")]),_:3},8,["loop","trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Phn=Ve(Mhn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const JLe=Rt(tdn),Nne=Symbol("elTooltip");function mme(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return rb(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Lhn=Me({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Bhn=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:o}=mme(),{registerTimeout:i,cancelTimeout:a}=mme();return{onOpen:(c,f=x(e))=>{o(()=>{r(c);const d=x(n);pt(d)&&d>0&&i(()=>{s(c)},d)},f)},onClose:(c,f=x(t))=>{a(),o(()=>{s(c)},f)}}},Un=Me({...Lhn,...ZLe,appendTo:{type:SI.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:oe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...fa(["ariaLabel"])}),rd=Me({...DLe,disabled:Boolean,trigger:{type:oe([String,Array]),default:"hover"},triggerKeys:{type:oe(Array),default:()=>[Re.enter,Re.numpadEnter,Re.space]},focusOnTarget:Boolean}),zhn=pf({type:oe(Boolean),default:null}),Vhn=pf({type:oe(Function)}),Whn=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:zhn,[n]:Vhn};return{useModelToggle:({indicator:i,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=Ut(),{emit:h}=d,p=d.props,g=O(()=>ft(p[n])),m=O(()=>p[e]===null),v=$=>{i.value!==!0&&(i.value=!0,a&&(a.value=$),ft(c)&&c($))},y=$=>{i.value!==!1&&(i.value=!1,a&&(a.value=$),ft(f)&&f($))},b=$=>{if(p.disabled===!0||ft(u)&&!u())return;const k=g.value&&Tn;k&&h(t,!0),(m.value||!k)&&v($)},w=$=>{if(p.disabled===!0||!Tn)return;const k=g.value&&Tn;k&&h(t,!1),(m.value||!k)&&y($)},C=$=>{Ln($)&&(p.disabled&&$?g.value&&h(t,!1):i.value!==$&&($?v():y()))},S=()=>{i.value?w():b()};return xe(()=>p[e],C),l&&d.appContext.config.globalProperties.$route!==void 0&&xe(()=>({...d.proxy.$route}),()=>{l.value&&i.value&&w()}),jt(()=>{C(p[e])}),{hide:w,show:b,toggle:S,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}},{useModelToggleProps:Uhn,useModelToggleEmits:jhn,useModelToggle:Hhn}=Whn("visible"),qhn=Me({...NLe,...Uhn,...Un,...rd,...XLe,showArrow:{type:Boolean,default:!0}}),Ghn=[...jhn,"before-show","before-hide","show","hide","open","close"],aH=(e,t)=>Oe(e)?e.includes(t):e===t,Ib=(e,t,n)=>r=>{aH(x(e),t)&&n(r)},Khn=me({name:"ElTooltipTrigger",__name:"trigger",props:rd,setup(e,{expose:t}){const n=e,r=Ae("tooltip"),{controlled:s,id:o,open:i,onOpen:a,onClose:l,onToggle:u}=tt(Nne,void 0),c=H(null),f=()=>{if(x(s)||n.disabled)return!0},d=Bn(n,"trigger"),h=to(f,Ib(d,"hover",w=>{a(w),n.focusOnTarget&&w.target&&Ye(()=>{EI(w.target,{preventScroll:!0})})})),p=to(f,Ib(d,"hover",l)),g=to(f,Ib(d,"click",w=>{w.button===0&&u(w)})),m=to(f,Ib(d,"focus",a)),v=to(f,Ib(d,"focus",l)),y=to(f,Ib(d,"contextmenu",w=>{w.preventDefault(),u(w)})),b=to(f,w=>{const C=Hn(w);n.triggerKeys.includes(C)&&(w.preventDefault(),u(w))});return t({triggerRef:c}),(w,C)=>(B(),pe(x(ldn),{id:x(o),"virtual-ref":w.virtualRef,open:x(i),"virtual-triggering":w.virtualTriggering,class:V(x(r).e("trigger")),onBlur:x(v),onClick:x(g),onContextmenu:x(y),onFocus:x(m),onMouseenter:x(h),onMouseleave:x(p),onKeydown:x(b)},{default:ie(()=>[ce(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Yhn=Ve(Khn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const QLe=()=>{const e=Hte(),t=yne(),n=O(()=>`${e.value}-popper-container-${t.prefix}`),r=O(()=>`#${n.value}`);return{id:n,selector:r}},Xhn=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Zhn=()=>{const{id:e,selector:t}=QLe();return LM(()=>{Tn&&(document.body.querySelector(t.value)||Xhn(e.value))}),{id:e,selector:t}},vme=e=>[...new Set(e)],KS=e=>Oe(e)?e[0]:e,Hi=e=>!e&&e!==0?[]:Oe(e)?e:[e],Jhn=me({name:"ElTooltipContent",inheritAttrs:!1,__name:"content",props:Un,setup(e,{expose:t}){const n=e,{selector:r}=QLe(),s=Ae("tooltip"),o=H(),i=JPe(()=>{var N;return(N=o.value)==null?void 0:N.popperContentRef});let a;const{controlled:l,id:u,open:c,trigger:f,onClose:d,onOpen:h,onShow:p,onHide:g,onBeforeShow:m,onBeforeHide:v}=tt(Nne,void 0),y=O(()=>n.transition||`${s.namespace.value}-fade-in-linear`),b=O(()=>n.persistent);Nn(()=>{a?.()});const w=O(()=>x(b)?!0:x(c)),C=O(()=>n.disabled?!1:x(c)),S=O(()=>n.appendTo||r.value),$=O(()=>{var N;return(N=n.style)!=null?N:{}}),k=H(!0),T=()=>{g(),D()&&EI(document.body,{preventScroll:!0}),k.value=!0},_=()=>{if(x(l))return!0},E=to(_,()=>{n.enterable&&aH(x(f),"hover")&&h()}),A=to(_,()=>{aH(x(f),"hover")&&d()}),I=()=>{var N,M;(M=(N=o.value)==null?void 0:N.updatePopper)==null||M.call(N),m?.()},F=()=>{v?.()},R=()=>{p()},L=()=>{n.virtualTriggering||d()},D=N=>{var M;const z=(M=o.value)==null?void 0:M.popperContentRef,W=N?.relatedTarget||document.activeElement;return z?.contains(W)};return xe(()=>x(c),N=>{N?(k.value=!1,a=lne(i,()=>{if(x(l))return;Hi(x(f)).every(z=>z!=="hover"&&z!=="focus")&&d()},{detectIframe:!0})):a?.()},{flush:"post"}),xe(()=>n.content,()=>{var N,M;(M=(N=o.value)==null?void 0:N.updatePopper)==null||M.call(N)}),t({contentRef:o,isFocusInsideContent:D}),(N,M)=>(B(),pe(x(KC),{disabled:!N.teleported,to:S.value},{default:ie(()=>[w.value||!k.value?(B(),pe(Ho,{key:0,name:y.value,appear:!b.value,onAfterLeave:T,onBeforeEnter:I,onAfterEnter:R,onBeforeLeave:F,persisted:""},{default:ie(()=>[Lt(ee(x(Phn),Wt({id:x(u),ref_key:"contentRef",ref:o},N.$attrs,{"aria-label":N.ariaLabel,"aria-hidden":k.value,"boundaries-padding":N.boundariesPadding,"fallback-placements":N.fallbackPlacements,"gpu-acceleration":N.gpuAcceleration,offset:N.offset,placement:N.placement,"popper-options":N.popperOptions,"arrow-offset":N.arrowOffset,strategy:N.strategy,effect:N.effect,enterable:N.enterable,pure:N.pure,"popper-class":N.popperClass,"popper-style":[N.popperStyle,$.value],"reference-el":N.referenceEl,"trigger-target-el":N.triggerTargetEl,visible:C.value,"z-index":N.zIndex,loop:N.loop,onMouseenter:x(E),onMouseleave:x(A),onBlur:L,onClose:x(d)}),{default:ie(()=>[ce(N.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","loop","onMouseenter","onMouseleave","onClose"]),[[$n,C.value]])]),_:3},8,["name","appear"])):fe("v-if",!0)]),_:3},8,["disabled","to"]))}});var Qhn=Ve(Jhn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const epn=["innerHTML"],tpn={key:1},npn=me({name:"ElTooltip",__name:"tooltip",props:qhn,emits:Ghn,setup(e,{expose:t,emit:n}){const r=e,s=n;Zhn();const o=Ae("tooltip"),i=Yo(),a=H(),l=H(),u=()=>{var w;const C=x(a);C&&((w=C.popperInstanceRef)==null||w.update())},c=H(!1),f=H(),{show:d,hide:h,hasUpdateHandler:p}=Hhn({indicator:c,toggleReason:f}),{onOpen:g,onClose:m}=Bhn({showAfter:Bn(r,"showAfter"),hideAfter:Bn(r,"hideAfter"),autoClose:Bn(r,"autoClose"),open:d,close:h}),v=O(()=>Ln(r.visible)&&!p.value),y=O(()=>[o.b(),r.popperClass]);ln(Nne,{controlled:v,id:i,open:d1(c),trigger:Bn(r,"trigger"),onOpen:g,onClose:m,onToggle:w=>{x(c)?m(w):g(w)},onShow:()=>{s("show",f.value)},onHide:()=>{s("hide",f.value)},onBeforeShow:()=>{s("before-show",f.value)},onBeforeHide:()=>{s("before-hide",f.value)},updatePopper:u}),xe(()=>r.disabled,w=>{w&&c.value&&(c.value=!1)});const b=w=>{var C;return(C=l.value)==null?void 0:C.isFocusInsideContent(w)};return Kve(()=>c.value&&h()),Nn(()=>{f.value=void 0}),t({popperRef:a,contentRef:l,isFocusInsideContent:b,updatePopper:u,onOpen:g,onClose:m,hide:h}),(w,C)=>(B(),pe(x(JLe),{ref_key:"popperRef",ref:a,role:w.role},{default:ie(()=>[ee(Yhn,{disabled:w.disabled,trigger:w.trigger,"trigger-keys":w.triggerKeys,"virtual-ref":w.virtualRef,"virtual-triggering":w.virtualTriggering,"focus-on-target":w.focusOnTarget},{default:ie(()=>[w.$slots.default?ce(w.$slots,"default",{key:0}):fe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),ee(Qhn,{ref_key:"contentRef",ref:l,"aria-label":w.ariaLabel,"boundaries-padding":w.boundariesPadding,content:w.content,disabled:w.disabled,effect:w.effect,enterable:w.enterable,"fallback-placements":w.fallbackPlacements,"hide-after":w.hideAfter,"gpu-acceleration":w.gpuAcceleration,offset:w.offset,persistent:w.persistent,"popper-class":y.value,"popper-style":w.popperStyle,placement:w.placement,"popper-options":w.popperOptions,"arrow-offset":w.arrowOffset,pure:w.pure,"raw-content":w.rawContent,"reference-el":w.referenceEl,"trigger-target-el":w.triggerTargetEl,"show-after":w.showAfter,strategy:w.strategy,teleported:w.teleported,transition:w.transition,"virtual-triggering":w.virtualTriggering,"z-index":w.zIndex,"append-to":w.appendTo,loop:w.loop},{default:ie(()=>[ce(w.$slots,"content",{},()=>[w.rawContent?(B(),K("span",{key:0,innerHTML:w.content},null,8,epn)):(B(),K("span",tpn,De(w.content),1))]),w.showArrow?(B(),pe(x(rdn),{key:0})):fe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to","loop"])]),_:3},8,["role"]))}});var rpn=Ve(npn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Xo=Rt(rpn),spn=Me({...kI,valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:oe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:oe([Function,Array]),default:Rn},popperClass:Un.popperClass,popperStyle:Un.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:Un.teleported,appendTo:Un.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),opn={[Et]:e=>it(e)||pt(e),[Os]:e=>it(e)||pt(e),[tn]:e=>it(e)||pt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Pt(e)},ipn=["aria-expanded","aria-owns"],apn={key:0},lpn=["id","aria-selected","onClick"],yme="ElAutocomplete",upn=me({name:yme,inheritAttrs:!1,__name:"autocomplete",props:spn,emits:opn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>vp(r,Object.keys(kI))),i=$p(),a=jr(),l=Ae("autocomplete"),u=H(),c=H(),f=H(),d=H();let h=!1,p=!1;const g=H([]),m=H(-1),v=H(""),y=H(!1),b=H(!1),w=H(!1),C=Yo(),S=O(()=>i.style),$=O(()=>(g.value.length>0||w.value)&&y.value),k=O(()=>!r.hideLoading&&w.value),T=O(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),_=()=>{$.value&&(v.value=`${u.value.$el.offsetWidth}px`)},E=()=>{m.value=-1},A=async q=>{if(b.value)return;const P=Q=>{w.value=!1,!b.value&&(Oe(Q)?(g.value=Q,m.value=r.highlightFirstItem?0:-1):Ts(yme,"autocomplete suggestions must be an array"))};if(w.value=!0,Oe(r.fetchSuggestions))P(r.fetchSuggestions);else{const Q=await r.fetchSuggestions(q,P);Oe(Q)&&P(Q)}},I=O(()=>r.debounce),F=bI(A,I),R=q=>{const P=!!q;if(s(Os,q),s(Et,q),b.value=!1,y.value||(y.value=P),!r.triggerOnFocus&&!q){b.value=!0,g.value=[];return}F(q)},L=q=>{var P;a.value||(((P=q.target)==null?void 0:P.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(y.value=!0)},D=q=>{s(tn,q)},N=q=>{var P;if(p)p=!1;else{y.value=!0,s("focus",q);const Q=(P=r.modelValue)!=null?P:"";r.triggerOnFocus&&!h&&F(String(Q))}},M=q=>{setTimeout(()=>{var P;if((P=f.value)!=null&&P.isFocusInsideContent()){p=!0;return}y.value&&U(),s("blur",q)})},z=()=>{y.value=!1,s(Et,""),s("clear")},W=async()=>{var q;(q=u.value)!=null&&q.isComposing||($.value&&m.value>=0&&m.value<g.value.length?ne(g.value[m.value]):(r.selectWhenUnmatched&&(s("select",{value:r.modelValue}),g.value=[],m.value=-1),y.value=!0,F(String(r.modelValue))))},j=q=>{$.value&&(q.preventDefault(),q.stopPropagation(),U())},U=()=>{y.value=!1},Y=()=>{var q;(q=u.value)==null||q.focus()},G=()=>{var q;(q=u.value)==null||q.blur()},ne=async q=>{s(Os,q[r.valueKey]),s(Et,q[r.valueKey]),s("select",q),g.value=[],m.value=-1},ue=q=>{var P,Q;if(!$.value||w.value)return;if(q<0){if(!r.loopNavigation){m.value=-1;return}q=g.value.length-1}q>=g.value.length&&(q=r.loopNavigation?0:g.value.length-1);const[se,de]=ae(),he=de[q],ge=se.scrollTop,{offsetTop:$e,scrollHeight:He}=he;$e+He>ge+se.clientHeight&&(se.scrollTop=$e+He-se.clientHeight),$e<ge&&(se.scrollTop=$e),m.value=q,(Q=(P=u.value)==null?void 0:P.ref)==null||Q.setAttribute("aria-activedescendant",`${C.value}-item-${m.value}`)},ae=()=>{const q=c.value.querySelector(`.${l.be("suggestion","wrap")}`),P=q.querySelectorAll(`.${l.be("suggestion","list")} li`);return[q,P]},X=lne(d,()=>{var q;(q=f.value)!=null&&q.isFocusInsideContent()||$.value&&U()}),J=q=>{switch(Hn(q)){case Re.up:q.preventDefault(),ue(m.value-1);break;case Re.down:q.preventDefault(),ue(m.value+1);break;case Re.enter:case Re.numpadEnter:q.preventDefault(),W();break;case Re.tab:U();break;case Re.esc:j(q);break;case Re.home:q.preventDefault(),ue(0);break;case Re.end:q.preventDefault(),ue(g.value.length-1);break;case Re.pageUp:q.preventDefault(),ue(Math.max(0,m.value-10));break;case Re.pageDown:q.preventDefault(),ue(Math.min(g.value.length-1,m.value+10));break}};return Nn(()=>{X?.()}),jt(()=>{var q;const P=(q=u.value)==null?void 0:q.ref;P&&([{key:"role",value:"textbox"},{key:"aria-autocomplete",value:"list"},{key:"aria-controls",value:"id"},{key:"aria-activedescendant",value:`${C.value}-item-${m.value}`}].forEach(({key:Q,value:se})=>P.setAttribute(Q,se)),h=P.hasAttribute("readonly"))}),t({highlightedIndex:m,activated:y,loading:w,inputRef:u,popperRef:f,suggestions:g,handleSelect:ne,handleKeyEnter:W,focus:Y,blur:G,close:U,highlight:ue,getData:A}),(q,P)=>(B(),pe(x(Xo),{ref_key:"popperRef",ref:f,visible:$.value,placement:q.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[x(l).e("popper"),q.popperClass],"popper-style":q.popperStyle,teleported:q.teleported,"append-to":q.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${x(l).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:_,onHide:E},{content:ie(()=>[Z("div",{ref_key:"regionRef",ref:c,class:V([x(l).b("suggestion"),x(l).is("loading",k.value)]),style:dt({[q.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[q.$slots.header?(B(),K("div",{key:0,class:V(x(l).be("suggestion","header")),onClick:P[0]||(P[0]=xt(()=>{},["stop"]))},[ce(q.$slots,"header")],2)):fe("v-if",!0),ee(x(jc),{id:x(C),tag:"ul","wrap-class":x(l).be("suggestion","wrap"),"view-class":x(l).be("suggestion","list"),role:"listbox"},{default:ie(()=>[k.value?(B(),K("li",apn,[ce(q.$slots,"loading",{},()=>[ee(x(ot),{class:V(x(l).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])])])):(B(!0),K(rt,{key:1},Ht(g.value,(Q,se)=>(B(),K("li",{id:`${x(C)}-item-${se}`,key:se,class:V({highlighted:m.value===se}),role:"option","aria-selected":m.value===se,onClick:de=>ne(Q)},[ce(q.$slots,"default",{item:Q},()=>[Jt(De(Q[q.valueKey]),1)])],10,lpn))),128))]),_:3},8,["id","wrap-class","view-class"]),q.$slots.footer?(B(),K("div",{key:1,class:V(x(l).be("suggestion","footer")),onClick:P[1]||(P[1]=xt(()=>{},["stop"]))},[ce(q.$slots,"footer")],2)):fe("v-if",!0)],6)]),default:ie(()=>[Z("div",{ref_key:"listboxRef",ref:d,class:V([x(l).b(),q.$attrs.class]),style:dt(S.value),role:"combobox","aria-haspopup":"listbox","aria-expanded":$.value,"aria-owns":x(C)},[ee(x(Xi),Wt({ref_key:"inputRef",ref:u},Wt(o.value,q.$attrs),{"model-value":q.modelValue,disabled:x(a),onInput:R,onChange:D,onFocus:N,onBlur:M,onClear:z,onKeydown:J,onMousedown:L}),vl({_:2},[q.$slots.prepend?{name:"prepend",fn:ie(()=>[ce(q.$slots,"prepend")]),key:"0"}:void 0,q.$slots.append?{name:"append",fn:ie(()=>[ce(q.$slots,"append")]),key:"1"}:void 0,q.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(q.$slots,"prefix")]),key:"2"}:void 0,q.$slots.suffix?{name:"suffix",fn:ie(()=>[ce(q.$slots,"suffix")]),key:"3"}:void 0]),1040,["model-value","disabled"])],14,ipn)]),_:3},8,["visible","placement","popper-class","popper-style","teleported","append-to","transition"]))}});var cpn=Ve(upn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const fpn=Rt(cpn),dpn=Me({size:{type:[Number,String],values:eh,default:"",validator:e=>pt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:zn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:oe(String),default:"cover"}}),hpn={error:e=>e instanceof Event},ppn=["src","alt","srcset"],gpn=me({name:"ElAvatar",__name:"avatar",props:dpn,emits:hpn,setup(e,{emit:t}){const n=e,r=t,s=Ae("avatar"),o=H(!1),i=O(()=>{const{size:c,icon:f,shape:d}=n,h=[s.b()];return it(c)&&h.push(s.m(c)),f&&h.push(s.m("icon")),d&&h.push(s.m(d)),h}),a=O(()=>{const{size:c}=n;return pt(c)?s.cssVarBlock({size:Vr(c)}):void 0}),l=O(()=>({objectFit:n.fit}));xe(()=>n.src,()=>o.value=!1);function u(c){o.value=!0,r("error",c)}return(c,f)=>(B(),K("span",{class:V(i.value),style:dt(a.value)},[(c.src||c.srcSet)&&!o.value?(B(),K("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:dt(l.value),onError:u},null,44,ppn)):c.icon?(B(),pe(x(ot),{key:1},{default:ie(()=>[(B(),pe(zt(c.icon)))]),_:1})):ce(c.$slots,"default",{key:2})],6))}});var mpn=Ve(gpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const vpn=Rt(mpn),ypn={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},bpn={click:e=>e instanceof MouseEvent},wpn=(e,t,n)=>{const r=lr(),s=lr(),o=H(!1),i=()=>{r.value&&(o.value=r.value.scrollTop>=e.visibilityHeight)},a=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=nLe(i,300,!0);return Fn(s,"scroll",l),jt(()=>{var u;s.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||Ts(n,`target does not exist: ${e.target}`),s.value=r.value),i()}),{visible:o,handleClick:a}},bme="ElBacktop",xpn=me({name:bme,__name:"backtop",props:ypn,emits:bpn,setup(e,{emit:t}){const n=e,r=t,s=Ae("backtop"),{handleClick:o,visible:i}=wpn(n,r,bme),a=O(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(l,u)=>(B(),pe(Ho,{name:`${x(s).namespace.value}-fade-in`},{default:ie(()=>[x(i)?(B(),K("div",{key:0,style:dt(a.value),class:V(x(s).b()),onClick:u[0]||(u[0]=xt((...c)=>x(o)&&x(o)(...c),["stop"]))},[ce(l.$slots,"default",{},()=>[ee(x(ot),{class:V(x(s).e("icon"))},{default:ie(()=>[ee(x(bcn))]),_:1},8,["class"])])],6)):fe("v-if",!0)]),_:3},8,["name"]))}});var Cpn=Ve(xpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const Spn=Rt(Cpn),$pn=Me({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:oe([String,Object,Array])},offset:{type:oe(Array),default:[0,0]},badgeClass:{type:String}}),kpn=me({name:"ElBadge",__name:"badge",props:$pn,setup(e,{expose:t}){const n=e,r=Ae("badge"),s=O(()=>n.isDot?"":pt(n.value)&&pt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=O(()=>{var i;return[{backgroundColor:n.color,marginRight:Vr(-n.offset[0]),marginTop:Vr(n.offset[1])},(i=n.badgeStyle)!=null?i:{}]});return t({content:s}),(i,a)=>(B(),K("div",{class:V(x(r).b())},[ce(i.$slots,"default"),ee(Ho,{name:`${x(r).namespace.value}-zoom-in-center`,persisted:""},{default:ie(()=>[Lt(Z("sup",{class:V([x(r).e("content"),x(r).em("content",i.type),x(r).is("fixed",!!i.$slots.default),x(r).is("dot",i.isDot),x(r).is("hide-zero",!i.showZero&&i.value===0),i.badgeClass]),style:dt(o.value)},[ce(i.$slots,"content",{value:s.value},()=>[Jt(De(s.value),1)])],6),[[$n,!i.hidden&&(s.value||i.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});var Epn=Ve(kpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const eBe=Rt(Epn),tBe=Symbol("breadcrumbKey"),_pn=Me({separator:{type:String,default:"/"},separatorIcon:{type:zn}}),Tpn=["aria-label"],Apn=me({name:"ElBreadcrumb",__name:"breadcrumb",props:_pn,setup(e){const{t}=un(),n=e,r=Ae("breadcrumb"),s=H();return ln(tBe,n),jt(()=>{const o=s.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,i)=>(B(),K("div",{ref_key:"breadcrumb",ref:s,class:V(x(r).b()),"aria-label":x(t)("el.breadcrumb.label"),role:"navigation"},[ce(o.$slots,"default")],10,Tpn))}});var Ipn=Ve(Apn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Npn=Me({to:{type:oe([String,Object]),default:""},replace:Boolean}),Dpn=me({name:"ElBreadcrumbItem",__name:"breadcrumb-item",props:Npn,setup(e){const t=e,n=Ut(),r=tt(tBe,void 0),s=Ae("breadcrumb"),o=n.appContext.config.globalProperties.$router,i=()=>{!t.to||!o||(t.replace?o.replace(t.to):o.push(t.to))};return(a,l)=>{var u,c;return B(),K("span",{class:V(x(s).e("item"))},[Z("span",{class:V([x(s).e("inner"),x(s).is("link",!!a.to)]),role:"link",onClick:i},[ce(a.$slots,"default")],2),(u=x(r))!=null&&u.separatorIcon?(B(),pe(x(ot),{key:0,class:V(x(s).e("separator"))},{default:ie(()=>[(B(),pe(zt(x(r).separatorIcon)))]),_:1},8,["class"])):(B(),K("span",{key:1,class:V(x(s).e("separator")),role:"presentation"},De((c=x(r))==null?void 0:c.separator),3))],2)}}});var nBe=Ve(Dpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const Opn=Rt(Ipn,{BreadcrumbItem:nBe}),Rpn=Ur(nBe),rBe=Symbol("buttonGroupContextKey"),sd=({from:e,replacement:t,scope:n,version:r,ref:s,type:o="API"},i)=>{xe(()=>x(i),a=>{},{immediate:!0})},Fpn=(e,t)=>{sd({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},O(()=>e.type==="text"));const n=tt(rBe,void 0),r=GC("button"),{form:s}=Ro(),o=Fs(O(()=>n?.size)),i=jr(),a=H(),l=Ms(),u=O(()=>{var v;return e.type||n?.type||((v=r.value)==null?void 0:v.type)||""}),c=O(()=>{var v,y,b;return(b=(y=e.autoInsertSpace)!=null?y:(v=r.value)==null?void 0:v.autoInsertSpace)!=null?b:!1}),f=O(()=>{var v,y,b;return(b=(y=e.plain)!=null?y:(v=r.value)==null?void 0:v.plain)!=null?b:!1}),d=O(()=>{var v,y,b;return(b=(y=e.round)!=null?y:(v=r.value)==null?void 0:v.round)!=null?b:!1}),h=O(()=>{var v,y,b;return(b=(y=e.text)!=null?y:(v=r.value)==null?void 0:v.text)!=null?b:!1}),p=O(()=>e.tag==="button"?{ariaDisabled:i.value||e.loading,disabled:i.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),g=O(()=>{var v;const y=(v=l.default)==null?void 0:v.call(l);if(c.value&&y?.length===1){const b=y[0];if(b?.type===Xx){const w=b.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(w.trim())}}return!1});return{_disabled:i,_size:o,_type:u,_ref:a,_props:p,_plain:f,_round:d,_text:h,shouldAddSpace:g,handleClick:v=>{if(i.value||e.loading){v.stopPropagation();return}e.nativeType==="reset"&&s?.resetFields(),t("click",v)}}},lH=["default","primary","success","warning","info","danger","text",""],Mpn=["button","submit","reset"],uH=Me({size:js,disabled:{type:Boolean,default:void 0},type:{type:String,values:lH,default:""},icon:{type:zn},nativeType:{type:String,values:Mpn,default:"button"},loading:Boolean,loadingIcon:{type:zn,default:()=>Td},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:oe([String,Object]),default:"button"}}),Ppn={click:e=>e instanceof MouseEvent};function yi(e,t){Lpn(e)&&(e="100%");var n=Bpn(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function FD(e){return Math.min(1,Math.max(0,e))}function Lpn(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Bpn(e){return typeof e=="string"&&e.indexOf("%")!==-1}function sBe(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function MD(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Mv(e){return e.length===1?"0"+e:String(e)}function zpn(e,t,n){return{r:yi(e,255)*255,g:yi(t,255)*255,b:yi(n,255)*255}}function wme(e,t,n){e=yi(e,255),t=yi(t,255),n=yi(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=0,a=(r+s)/2;if(r===s)i=0,o=0;else{var l=r-s;switch(i=a>.5?l/(2-r-s):l/(r+s),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s:i,l:a}}function N7(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vpn(e,t,n){var r,s,o;if(e=yi(e,360),t=yi(t,100),n=yi(n,100),t===0)s=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=N7(a,i,e+1/3),s=N7(a,i,e),o=N7(a,i,e-1/3)}return{r:r*255,g:s*255,b:o*255}}function xme(e,t,n){e=yi(e,255),t=yi(t,255),n=yi(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=r,a=r-s,l=r===0?0:a/r;if(r===s)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s:l,v:i}}function Wpn(e,t,n){e=yi(e,360)*6,t=yi(t,100),n=yi(n,100);var r=Math.floor(e),s=e-r,o=n*(1-t),i=n*(1-s*t),a=n*(1-(1-s)*t),l=r%6,u=[n,i,o,o,a,n][l],c=[a,n,n,i,o,o][l],f=[o,o,a,n,n,i][l];return{r:u*255,g:c*255,b:f*255}}function Cme(e,t,n,r){var s=[Mv(Math.round(e).toString(16)),Mv(Math.round(t).toString(16)),Mv(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Upn(e,t,n,r,s){var o=[Mv(Math.round(e).toString(16)),Mv(Math.round(t).toString(16)),Mv(Math.round(n).toString(16)),Mv(jpn(r))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function jpn(e){return Math.round(parseFloat(e)*255).toString(16)}function Sme(e){return Ml(e)/255}function Ml(e){return parseInt(e,16)}function Hpn(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var cH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function qpn(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,o=null,i=!1,a=!1;return typeof e=="string"&&(e=Ypn(e)),typeof e=="object"&&(fh(e.r)&&fh(e.g)&&fh(e.b)?(t=zpn(e.r,e.g,e.b),i=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):fh(e.h)&&fh(e.s)&&fh(e.v)?(r=MD(e.s),s=MD(e.v),t=Wpn(e.h,r,s),i=!0,a="hsv"):fh(e.h)&&fh(e.s)&&fh(e.l)&&(r=MD(e.s),o=MD(e.l),t=Vpn(e.h,r,o),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=sBe(n),{ok:i,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Gpn="[-\\+]?\\d+%?",Kpn="[-\\+]?\\d*\\.\\d+%?",Hg="(?:".concat(Kpn,")|(?:").concat(Gpn,")"),D7="[\\s|\\(]+(".concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")\\s*\\)?"),O7="[\\s|\\(]+(".concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")\\s*\\)?"),lc={CSS_UNIT:new RegExp(Hg),rgb:new RegExp("rgb"+D7),rgba:new RegExp("rgba"+O7),hsl:new RegExp("hsl"+D7),hsla:new RegExp("hsla"+O7),hsv:new RegExp("hsv"+D7),hsva:new RegExp("hsva"+O7),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ypn(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(cH[e])e=cH[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=lc.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=lc.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lc.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=lc.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lc.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=lc.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lc.hex8.exec(e),n?{r:Ml(n[1]),g:Ml(n[2]),b:Ml(n[3]),a:Sme(n[4]),format:t?"name":"hex8"}:(n=lc.hex6.exec(e),n?{r:Ml(n[1]),g:Ml(n[2]),b:Ml(n[3]),format:t?"name":"hex"}:(n=lc.hex4.exec(e),n?{r:Ml(n[1]+n[1]),g:Ml(n[2]+n[2]),b:Ml(n[3]+n[3]),a:Sme(n[4]+n[4]),format:t?"name":"hex8"}:(n=lc.hex3.exec(e),n?{r:Ml(n[1]+n[1]),g:Ml(n[2]+n[2]),b:Ml(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function fh(e){return!!lc.CSS_UNIT.exec(String(e))}var Zb=(function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=Hpn(t)),this.originalInput=t;var s=qpn(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,o=t.r/255,i=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=sBe(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=xme(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=xme(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=wme(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=wme(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Cme(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Upn(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(yi(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(yi(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Cme(this.r,this.g,this.b,!1),n=0,r=Object.entries(cH);n<r.length;n++){var s=r[n],o=s[0],i=s[1];if(t===i)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,o=!n&&s&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=FD(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=FD(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=FD(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=FD(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),o=n/100,i={r:(s.r-r.r)*o+r.r,g:(s.g-r.g)*o+r.g,b:(s.b-r.b)*o+r.b,a:(s.a-r.a)*o+r.a};return new e(i)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,o=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,o=n.v,i=[],a=1/t;t--;)i.push(new e({h:r,s,v:o})),o=(o+a)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],o=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e})();function og(e,t=20){return e.mix("#141414",t).toString()}function Xpn(e){const t=jr(),n=Ae("button");return O(()=>{let r={},s=e.color;if(s){const o=s.match(/var\((.*?)\)/);o&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const i=new Zb(s),a=e.dark?i.tint(20).toString():og(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?og(i,90):i.tint(90).toString(),"text-color":s,"border-color":e.dark?og(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?og(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?og(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?og(i,80):i.tint(80).toString());else{const l=e.dark?og(i,30):i.tint(30).toString(),u=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":u,"border-color":s,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":a,"active-border-color":a}),t.value){const c=e.dark?og(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const Zpn=me({name:"ElButton",__name:"button",props:uH,emits:Ppn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Xpn(r),i=Ae("button"),{_ref:a,_size:l,_type:u,_disabled:c,_props:f,_plain:d,_round:h,_text:p,shouldAddSpace:g,handleClick:m}=Fpn(r,s),v=O(()=>[i.b(),i.m(u.value),i.m(l.value),i.is("disabled",c.value),i.is("loading",r.loading),i.is("plain",d.value),i.is("round",h.value),i.is("circle",r.circle),i.is("text",p.value),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:a,size:l,type:u,disabled:c,shouldAddSpace:g}),(y,b)=>(B(),pe(zt(y.tag),Wt({ref_key:"_ref",ref:a},x(f),{class:v.value,style:x(o),onClick:x(m)}),{default:ie(()=>[y.loading?(B(),K(rt,{key:0},[y.$slots.loading?ce(y.$slots,"loading",{key:0}):(B(),pe(x(ot),{key:1,class:V(x(i).is("loading"))},{default:ie(()=>[(B(),pe(zt(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(B(),pe(x(ot),{key:1},{default:ie(()=>[y.icon?(B(),pe(zt(y.icon),{key:0})):ce(y.$slots,"icon",{key:1})]),_:3})):fe("v-if",!0),y.$slots.default?(B(),K("span",{key:2,class:V({[x(i).em("text","expand")]:x(g)})},[ce(y.$slots,"default")],2)):fe("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Jpn=Ve(Zpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Qpn={size:uH.size,type:uH.type,direction:{type:oe(String),values:["horizontal","vertical"],default:"horizontal"}},egn=me({name:"ElButtonGroup",__name:"button-group",props:Qpn,setup(e){const t=e;ln(rBe,In({size:Bn(t,"size"),type:Bn(t,"type")}));const n=Ae("button");return(r,s)=>(B(),K("div",{class:V([x(n).b("group"),x(n).bm("group",t.direction)])},[ce(r.$slots,"default")],2))}});var oBe=Ve(egn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const $o=Rt(Jpn,{ButtonGroup:oBe}),iBe=Ur(oBe);var W3={exports:{}},tgn=W3.exports,$me;function ngn(){return $me||($me=1,(function(e,t){(function(n,r){e.exports=r()})(tgn,(function(){var n=1e3,r=6e4,s=36e5,o="millisecond",i="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var R=["th","st","nd","rd"],L=F%100;return"["+F+(R[(L-20)%10]||R[L]||R[0])+"]"}},b=function(F,R,L){var D=String(F);return!D||D.length>=R?F:""+Array(R+1-D.length).join(L)+F},w={s:b,z:function(F){var R=-F.utcOffset(),L=Math.abs(R),D=Math.floor(L/60),N=L%60;return(R<=0?"+":"-")+b(D,2,"0")+":"+b(N,2,"0")},m:function F(R,L){if(R.date()<L.date())return-F(L,R);var D=12*(L.year()-R.year())+(L.month()-R.month()),N=R.clone().add(D,f),M=L-N<0,z=R.clone().add(D+(M?-1:1),f);return+(-(D+(L-N)/(M?N-z:z-N))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:f,y:h,w:c,d:u,D:p,h:l,m:a,s:i,ms:o,Q:d}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},C="en",S={};S[C]=y;var $="$isDayjsObject",k=function(F){return F instanceof A||!(!F||!F[$])},T=function F(R,L,D){var N;if(!R)return C;if(typeof R=="string"){var M=R.toLowerCase();S[M]&&(N=M),L&&(S[M]=L,N=M);var z=R.split("-");if(!N&&z.length>1)return F(z[0])}else{var W=R.name;S[W]=R,N=W}return!D&&N&&(C=N),N||!D&&C},_=function(F,R){if(k(F))return F.clone();var L=typeof R=="object"?R:{};return L.date=F,L.args=arguments,new A(L)},E=w;E.l=T,E.i=k,E.w=function(F,R){return _(F,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=(function(){function F(L){this.$L=T(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[$]=!0}var R=F.prototype;return R.parse=function(L){this.$d=(function(D){var N=D.date,M=D.utc;if(N===null)return new Date(NaN);if(E.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var z=N.match(m);if(z){var W=z[2]-1||0,j=(z[7]||"0").substring(0,3);return M?new Date(Date.UTC(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,j)):new Date(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,j)}}return new Date(N)})(L),this.init()},R.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==g},R.isSame=function(L,D){var N=_(L);return this.startOf(D)<=N&&N<=this.endOf(D)},R.isAfter=function(L,D){return _(L)<this.startOf(D)},R.isBefore=function(L,D){return this.endOf(D)<_(L)},R.$g=function(L,D,N){return E.u(L)?this[D]:this.set(N,L)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(L,D){var N=this,M=!!E.u(D)||D,z=E.p(L),W=function(X,J){var q=E.w(N.$u?Date.UTC(N.$y,J,X):new Date(N.$y,J,X),N);return M?q:q.endOf(u)},j=function(X,J){return E.w(N.toDate()[X].apply(N.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(J)),N)},U=this.$W,Y=this.$M,G=this.$D,ne="set"+(this.$u?"UTC":"");switch(z){case h:return M?W(1,0):W(31,11);case f:return M?W(1,Y):W(0,Y+1);case c:var ue=this.$locale().weekStart||0,ae=(U<ue?U+7:U)-ue;return W(M?G-ae:G+(6-ae),Y);case u:case p:return j(ne+"Hours",0);case l:return j(ne+"Minutes",1);case a:return j(ne+"Seconds",2);case i:return j(ne+"Milliseconds",3);default:return this.clone()}},R.endOf=function(L){return this.startOf(L,!1)},R.$set=function(L,D){var N,M=E.p(L),z="set"+(this.$u?"UTC":""),W=(N={},N[u]=z+"Date",N[p]=z+"Date",N[f]=z+"Month",N[h]=z+"FullYear",N[l]=z+"Hours",N[a]=z+"Minutes",N[i]=z+"Seconds",N[o]=z+"Milliseconds",N)[M],j=M===u?this.$D+(D-this.$W):D;if(M===f||M===h){var U=this.clone().set(p,1);U.$d[W](j),U.init(),this.$d=U.set(p,Math.min(this.$D,U.daysInMonth())).$d}else W&&this.$d[W](j);return this.init(),this},R.set=function(L,D){return this.clone().$set(L,D)},R.get=function(L){return this[E.p(L)]()},R.add=function(L,D){var N,M=this;L=Number(L);var z=E.p(D),W=function(Y){var G=_(M);return E.w(G.date(G.date()+Math.round(Y*L)),M)};if(z===f)return this.set(f,this.$M+L);if(z===h)return this.set(h,this.$y+L);if(z===u)return W(1);if(z===c)return W(7);var j=(N={},N[a]=r,N[l]=s,N[i]=n,N)[z]||1,U=this.$d.getTime()+L*j;return E.w(U,this)},R.subtract=function(L,D){return this.add(-1*L,D)},R.format=function(L){var D=this,N=this.$locale();if(!this.isValid())return N.invalidDate||g;var M=L||"YYYY-MM-DDTHH:mm:ssZ",z=E.z(this),W=this.$H,j=this.$m,U=this.$M,Y=N.weekdays,G=N.months,ne=N.meridiem,ue=function(J,q,P,Q){return J&&(J[q]||J(D,M))||P[q].slice(0,Q)},ae=function(J){return E.s(W%12||12,J,"0")},X=ne||function(J,q,P){var Q=J<12?"AM":"PM";return P?Q.toLowerCase():Q};return M.replace(v,(function(J,q){return q||(function(P){switch(P){case"YY":return String(D.$y).slice(-2);case"YYYY":return E.s(D.$y,4,"0");case"M":return U+1;case"MM":return E.s(U+1,2,"0");case"MMM":return ue(N.monthsShort,U,G,3);case"MMMM":return ue(G,U);case"D":return D.$D;case"DD":return E.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return ue(N.weekdaysMin,D.$W,Y,2);case"ddd":return ue(N.weekdaysShort,D.$W,Y,3);case"dddd":return Y[D.$W];case"H":return String(W);case"HH":return E.s(W,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return X(W,j,!0);case"A":return X(W,j,!1);case"m":return String(j);case"mm":return E.s(j,2,"0");case"s":return String(D.$s);case"ss":return E.s(D.$s,2,"0");case"SSS":return E.s(D.$ms,3,"0");case"Z":return z}return null})(J)||z.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(L,D,N){var M,z=this,W=E.p(D),j=_(L),U=(j.utcOffset()-this.utcOffset())*r,Y=this-j,G=function(){return E.m(z,j)};switch(W){case h:M=G()/12;break;case f:M=G();break;case d:M=G()/3;break;case c:M=(Y-U)/6048e5;break;case u:M=(Y-U)/864e5;break;case l:M=Y/s;break;case a:M=Y/r;break;case i:M=Y/n;break;default:M=Y}return N?M:E.a(M)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return S[this.$L]},R.locale=function(L,D){if(!L)return this.$L;var N=this.clone(),M=T(L,D,!0);return M&&(N.$L=M),N},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},F})(),I=A.prototype;return _.prototype=I,[["$ms",o],["$s",i],["$m",a],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach((function(F){I[F[1]]=function(R){return this.$g(R,F[0],F[1])}})),_.extend=function(F,R){return F.$i||(F(R,A,_),F.$i=!0),_},_.locale=T,_.isDayjs=k,_.unix=function(F){return _(1e3*F)},_.en=S[C],_.Ls=S,_.p={},_}))})(W3)),W3.exports}var rgn=ngn();const Mt=Nl(rgn),R7=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],om=e=>Array.from(Array.from({length:e}).keys()),aBe=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),lBe=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),kme=function(e,t){const n=im(e),r=im(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},uBe=function(e,t){const n=Oe(e),r=Oe(t);return n&&r?e.length!==t.length?!1:e.every((s,o)=>kme(s,t[o])):!n&&!r?kme(e,t):!1},Eme=function(e,t,n){const r=_a(t)||t==="x"?Mt(e).locale(n):Mt(e,t).locale(n);return r.isValid()?r:void 0},_me=function(e,t,n){return _a(t)?e:t==="x"?+e:Mt(e).locale(n).format(t)},F7=(e,t)=>{var n;const r=[],s=t?.();for(let o=0;o<e;o++)r.push((n=s?.includes(o))!=null?n:!1);return r},U3=e=>Oe(e)?e.map(t=>t.toDate()):e.toDate(),sgn=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return om(t).map((r,s)=>n-(t-s-1))},ogn=e=>{const t=e.daysInMonth();return om(t).map((n,r)=>r+1)},ign=e=>om(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),agn=Me({selectedDay:{type:oe(Object)},range:{type:oe(Array)},date:{type:oe(Object),required:!0},hideHeader:{type:Boolean}}),lgn={pick:e=>Pt(e)};var j3={exports:{}},ugn=j3.exports,Tme;function cgn(){return Tme||(Tme=1,(function(e,t){(function(n,r){e.exports=r()})(ugn,(function(){return function(n,r,s){var o=r.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,d,h,p,g){var m=f.name?f:f.$locale(),v=i(m[d]),y=i(m[h]),b=v||y.map((function(C){return C.slice(0,p)}));if(!g)return b;var w=m.weekStart;return b.map((function(C,S){return b[(S+(w||0))%7]}))},l=function(){return s.Ls[s.locale()]},u=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,g,m){return g||m.slice(1)}))})(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):a(f,"months")},monthsShort:function(d){return d?d.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):a(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},s.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(f){return a(l(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}}))})(j3)),j3.exports}var fgn=cgn();const cBe=Nl(fgn),dgn=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],M7=["sun","mon","tue","wed","thu","fri","sat"],hgn=(e,t)=>{Mt.extend(cBe);const n=Mt.localeData().firstDayOfWeek(),{t:r,lang:s}=un(),o=Mt().locale(s.value),i=O(()=>!!e.range&&!!e.range.length),a=O(()=>{let d=[];if(i.value){const[h,p]=e.range,g=om(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let m=g.length%7;m=m===0?0:7-m;const v=om(m).map((y,b)=>({text:b+1,type:"next"}));d=g.concat(v)}else{const h=e.date.startOf("month").day(),p=sgn(e.date,(h-n+7)%7).map(y=>({text:y,type:"prev"})),g=ogn(e.date).map(y=>({text:y,type:"current"}));d=[...p,...g];const m=7-(d.length%7||7),v=om(m).map((y,b)=>({text:b+1,type:"next"}));d=d.concat(v)}return ign(d)}),l=O(()=>{const d=n;return d===0?M7.map(h=>r(`el.datepicker.weeks.${h}`)):M7.slice(d).concat(M7.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:o,isInRange:i,rows:a,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);t("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(e.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},pgn={key:0},ggn=["onClick"],mgn=me({name:"DateTable",__name:"date-table",props:agn,emits:lgn,setup(e,{expose:t,emit:n}){const r=e,s=n,{isInRange:o,now:i,rows:a,weekDays:l,getFormattedDate:u,handlePickDay:c,getSlotData:f}=hgn(r,s),d=Ae("calendar-table"),h=Ae("calendar-day"),p=({text:g,type:m})=>{const v=[m];if(m==="current"){const y=u(g,m);y.isSame(r.selectedDay,"day")&&v.push(h.is("selected")),y.isSame(i,"day")&&v.push(h.is("today"))}return v};return t({getFormattedDate:u}),(g,m)=>(B(),K("table",{class:V([x(d).b(),x(d).is("range",x(o))]),cellspacing:"0",cellpadding:"0"},[g.hideHeader?fe("v-if",!0):(B(),K("thead",pgn,[Z("tr",null,[(B(!0),K(rt,null,Ht(x(l),v=>(B(),K("th",{key:v,scope:"col"},De(v),1))),128))])])),Z("tbody",null,[(B(!0),K(rt,null,Ht(x(a),(v,y)=>(B(),K("tr",{key:y,class:V({[x(d).e("row")]:!0,[x(d).em("row","hide-border")]:y===0&&g.hideHeader})},[(B(!0),K(rt,null,Ht(v,(b,w)=>(B(),K("td",{key:w,class:V(p(b)),onClick:C=>x(c)(b)},[Z("div",{class:V(x(h).b())},[ce(g.$slots,"date-cell",{data:x(f)(b)},()=>[Z("span",null,De(b.text),1)])],2)],10,ggn))),128))],2))),128))])],2))}});var Ame=Ve(mgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const vgn=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[o.startOf("week"),t]]},ygn=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,o=s.endOf("month"),i=t.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[e,n],[s.startOf("week"),o],[a.startOf("week"),t]]},bgn=(e,t,n)=>{const{lang:r}=un(),s=H(),o=Mt().locale(r.value),i=O({get(){return e.modelValue?l.value:s.value},set(m){if(!m)return;s.value=m;const v=m.toDate();t(Os,v),t(Et,v)}}),a=O(()=>{if(!e.range||!Oe(e.range)||e.range.length!==2||e.range.some(b=>!im(b)))return[];const m=e.range.map(b=>Mt(b).locale(r.value)),[v,y]=m;return v.isAfter(y)?[]:v.isSame(y,"month")?h(v,y):v.add(1,"month").month()!==y.month()?[]:h(v,y)}),l=O(()=>e.modelValue?Mt(e.modelValue).locale(r.value):i.value||(a.value.length?a.value[0][0]:o)),u=O(()=>l.value.subtract(1,"month").date(1)),c=O(()=>l.value.add(1,"month").date(1)),f=O(()=>l.value.subtract(1,"year").date(1)),d=O(()=>l.value.add(1,"year").date(1)),h=(m,v)=>{const y=m.startOf("week"),b=v.endOf("week"),w=y.get("month"),C=b.get("month");return w===C?[[y,b]]:(w+1)%12===C?vgn(y,b):w+2===C||(w+1)%11===C?ygn(y,b):[]},p=m=>{i.value=m};return{calculateValidatedDateRange:h,date:l,realSelectedDay:i,pickDay:p,selectDate:m=>{const y={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:o}[m];y.isSame(l.value,"day")||p(y)},validatedRange:a}},wgn=e=>Oe(e)&&e.length===2&&e.every(t=>im(t)),xgn=Me({modelValue:{type:Date},range:{type:oe(Array),validator:wgn}}),Cgn={[Et]:e=>im(e),[Os]:e=>im(e)},Sgn="ElCalendar",$gn=me({name:Sgn,__name:"calendar",props:xgn,emits:Cgn,setup(e,{expose:t,emit:n}){const r=Ae("calendar"),s=e,o=n,{calculateValidatedDateRange:i,date:a,pickDay:l,realSelectedDay:u,selectDate:c,validatedRange:f}=bgn(s,o),{t:d}=un(),h=O(()=>{const p=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${d("el.datepicker.year")} ${d(p)}`});return t({selectedDay:u,pickDay:l,selectDate:c,calculateValidatedDateRange:i}),(p,g)=>(B(),K("div",{class:V(x(r).b())},[Z("div",{class:V(x(r).e("header"))},[ce(p.$slots,"header",{date:h.value},()=>[Z("div",{class:V(x(r).e("title"))},De(h.value),3),x(f).length===0?(B(),K("div",{key:0,class:V(x(r).e("button-group"))},[ee(x(iBe),null,{default:ie(()=>[ee(x($o),{size:"small",onClick:g[0]||(g[0]=m=>x(c)("prev-month"))},{default:ie(()=>[Jt(De(x(d)("el.datepicker.prevMonth")),1)]),_:1}),ee(x($o),{size:"small",onClick:g[1]||(g[1]=m=>x(c)("today"))},{default:ie(()=>[Jt(De(x(d)("el.datepicker.today")),1)]),_:1}),ee(x($o),{size:"small",onClick:g[2]||(g[2]=m=>x(c)("next-month"))},{default:ie(()=>[Jt(De(x(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):fe("v-if",!0)])],2),x(f).length===0?(B(),K("div",{key:0,class:V(x(r).e("body"))},[ee(Ame,{date:x(a),"selected-day":x(u),onPick:x(l)},vl({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ie(m=>[ce(p.$slots,"date-cell",zh(Wh(m)))]),key:"0"}:void 0]),1032,["date","selected-day","onPick"])],2)):(B(),K("div",{key:1,class:V(x(r).e("body"))},[(B(!0),K(rt,null,Ht(x(f),(m,v)=>(B(),pe(Ame,{key:v,date:m[0],"selected-day":x(u),range:m,"hide-header":v!==0,onPick:x(l)},vl({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ie(y=>[ce(p.$slots,"date-cell",Wt({ref_for:!0},y))]),key:"0"}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var kgn=Ve($gn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Egn=Rt(kgn),_gn=Me({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:oe([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),Tgn=me({name:"ElCard",__name:"card",props:_gn,setup(e){const t=GC("card"),n=Ae("card");return(r,s)=>{var o;return B(),K("div",{class:V([x(n).b(),x(n).is(`${r.shadow||((o=x(t))==null?void 0:o.shadow)||"always"}-shadow`)])},[r.$slots.header||r.header?(B(),K("div",{key:0,class:V([x(n).e("header"),r.headerClass])},[ce(r.$slots,"header",{},()=>[Jt(De(r.header),1)])],2)):fe("v-if",!0),Z("div",{class:V([x(n).e("body"),r.bodyClass]),style:dt(r.bodyStyle)},[ce(r.$slots,"default")],6),r.$slots.footer||r.footer?(B(),K("div",{key:1,class:V([x(n).e("footer"),r.footerClass])},[ce(r.$slots,"footer",{},()=>[Jt(De(r.footer),1)])],2)):fe("v-if",!0)],2)}}});var Agn=Ve(Tgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Ign=Rt(Agn),Ngn=Me({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),Dgn={change:(e,t)=>[e,t].every(pt)},fBe=Symbol("carouselContextKey"),fH="ElCarouselItem";var yu=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(yu||{});function dH(e){return or(e)&&e.type===rt}function Ogn(e){return or(e)&&e.type===ps}function Rgn(e){return or(e)&&!dH(e)&&!Ogn(e)}const Fgn=e=>{if(!or(e))return{};const t=e.props||{},n=(or(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{En(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(t).forEach(s=>{r[Da(s)]=t[s]}),r},Sc=e=>{const t=Oe(e)?e:[e],n=[];return t.forEach(r=>{var s;Oe(r)?n.push(...Sc(r)):or(r)&&((s=r.component)!=null&&s.subTree)?n.push(r,...Sc(r.component.subTree)):or(r)&&Oe(r.children)?n.push(...Sc(r.children)):or(r)&&r.shapeFlag===2?n.push(...Sc(r.type())):n.push(r)}),n},Mgn=(e,t,n)=>Sc(e.subTree).filter(o=>{var i;return or(o)&&((i=o.type)==null?void 0:i.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),$8=(e,t)=>{const n=lr({}),r=lr([]),s=new WeakMap,o=c=>{n.value[c.uid]=c,GD(n),jt(()=>{const f=c.getVnode().el,d=f.parentNode;if(!s.has(d)){s.set(d,[]);const h=d.insertBefore.bind(d);d.insertBefore=(p,g)=>(s.get(d).some(v=>p===v||g===v)&&GD(n),h(p,g))}s.get(d).push(f)})},i=c=>{delete n.value[c.uid],GD(n);const f=c.getVnode().el,d=f.parentNode,h=s.get(d),p=h.indexOf(f);h.splice(p,1)},a=()=>{r.value=Mgn(e,t,n.value)},l=c=>c.render();return{children:r,addChild:o,removeChild:i,ChildrenSorter:me({setup(c,{slots:f}){return()=>(a(),f.default?bt(l,{render:f.default}):null)}})}},Ime=300,Pgn=(e,t,n)=>{const{children:r,addChild:s,removeChild:o,ChildrenSorter:i}=$8(Ut(),fH),a=Ms(),l=H(-1),u=H(null),c=H(!1),f=H(),d=H(0),h=H(!0),p=O(()=>e.arrow!=="never"&&!x(v)),g=O(()=>r.value.some(G=>G.props.label.toString().length>0)),m=O(()=>e.type==="card"),v=O(()=>e.direction==="vertical"),y=O(()=>e.height!=="auto"?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"}),b=jg(G=>{T(G)},Ime,{trailing:!0}),w=jg(G=>{D(G)},Ime),C=G=>h.value?l.value<=1?G<=1:G>1:!0;function S(){u.value&&(clearInterval(u.value),u.value=null)}function $(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval(()=>k(),e.interval))}const k=()=>{l.value<r.value.length-1?l.value=l.value+1:e.loop&&(l.value=0)};function T(G){if(it(G)){const ae=r.value.filter(X=>X.props.name===G);ae.length>0&&(G=r.value.indexOf(ae[0]))}if(G=Number(G),Number.isNaN(G)||G!==Math.floor(G))return;const ne=r.value.length,ue=l.value;G<0?l.value=e.loop?ne-1:0:G>=ne?l.value=e.loop?0:ne-1:l.value=G,ue===l.value&&_(ue),z()}function _(G){r.value.forEach((ne,ue)=>{ne.translateItem(ue,l.value,G)})}function E(G,ne){var ue,ae,X,J;const q=x(r),P=q.length;if(P===0||!G.states.inStage)return!1;const Q=ne+1,se=ne-1,de=P-1,he=q[de].states.active,ge=q[0].states.active,$e=(ae=(ue=q[Q])==null?void 0:ue.states)==null?void 0:ae.active,He=(J=(X=q[se])==null?void 0:X.states)==null?void 0:J.active;return ne===de&&ge||$e?"left":ne===0&&he||He?"right":!1}function A(){c.value=!0,e.pauseOnHover&&S()}function I(){c.value=!1,$()}function F(G){x(v)||r.value.forEach((ne,ue)=>{G===E(ne,ue)&&(ne.states.hover=!0)})}function R(){x(v)||r.value.forEach(G=>{G.states.hover=!1})}function L(G){l.value=G}function D(G){e.trigger==="hover"&&G!==l.value&&(l.value=G)}function N(){T(l.value-1)}function M(){T(l.value+1)}function z(){S(),e.pauseOnHover||$()}function W(G){e.height==="auto"&&(d.value=G)}function j(){var G;const ne=(G=a.default)==null?void 0:G.call(a);if(!ne)return null;const ae=Sc(ne).filter(X=>or(X)&&X.type.name===fH);return ae?.length===2&&e.loop&&!m.value?(h.value=!0,ae):(h.value=!1,null)}xe(()=>l.value,(G,ne)=>{_(ne),h.value&&(G=G%2,ne=ne%2),ne>-1&&t(tn,G,ne)});const U=O({get:()=>h.value?l.value%2:l.value,set:G=>l.value=G});xe(()=>e.autoplay,G=>{G?$():S()}),xe(()=>e.loop,()=>{T(l.value)}),xe(()=>e.interval,()=>{z()});const Y=lr();return jt(()=>{xe(()=>r.value,()=>{r.value.length>0&&T(e.initialIndex)},{immediate:!0}),Y.value=Cr(f.value,()=>{_()}),$()}),Nn(()=>{S(),f.value&&Y.value&&Y.value.stop()}),ln(fBe,{root:f,isCardType:m,isVertical:v,items:r,loop:e.loop,cardScale:e.cardScale,addItem:s,removeItem:o,setActiveItem:T,setContainerHeight:W}),{root:f,activeIndex:l,exposeActiveIndex:U,arrowDisplay:p,hasLabel:g,hover:c,isCardType:m,items:r,isVertical:v,containerStyle:y,isItemsTwoLength:h,handleButtonEnter:F,handleButtonLeave:R,handleIndicatorClick:L,handleMouseEnter:A,handleMouseLeave:I,setActiveItem:T,prev:N,next:M,PlaceholderItem:j,isTwoLengthShow:C,ItemsSorter:i,throttledArrowClick:b,throttledIndicatorHover:w}},Lgn=["aria-label"],Bgn=["aria-label"],zgn=["onMouseenter","onClick"],Vgn=["aria-label"],Wgn={key:0},Ugn={key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},jgn="ElCarousel",Hgn=me({name:jgn,__name:"carousel",props:Ngn,emits:Dgn,setup(e,{expose:t,emit:n}){const r=e,s=n,{root:o,activeIndex:i,exposeActiveIndex:a,arrowDisplay:l,hasLabel:u,hover:c,isCardType:f,items:d,isVertical:h,containerStyle:p,handleButtonEnter:g,handleButtonLeave:m,handleIndicatorClick:v,handleMouseEnter:y,handleMouseLeave:b,setActiveItem:w,prev:C,next:S,PlaceholderItem:$,isTwoLengthShow:k,ItemsSorter:T,throttledArrowClick:_,throttledIndicatorHover:E}=Pgn(r,s),A=Ae("carousel"),{t:I}=un(),F=O(()=>{const N=[A.b(),A.m(r.direction)];return x(f)&&N.push(A.m("card")),N}),R=O(()=>{const N=[A.e("indicators"),A.em("indicators",r.direction)];return x(u)&&N.push(A.em("indicators","labels")),r.indicatorPosition==="outside"&&N.push(A.em("indicators","outside")),x(h)&&N.push(A.em("indicators","right")),N});function L(N){if(!r.motionBlur)return;const M=x(h)?`${A.namespace.value}-transitioning-vertical`:`${A.namespace.value}-transitioning`;N.currentTarget.classList.add(M)}function D(N){if(!r.motionBlur)return;const M=x(h)?`${A.namespace.value}-transitioning-vertical`:`${A.namespace.value}-transitioning`;N.currentTarget.classList.remove(M)}return t({activeIndex:a,setActiveItem:w,prev:C,next:S}),(N,M)=>(B(),K("div",{ref_key:"root",ref:o,class:V(F.value),onMouseenter:M[6]||(M[6]=xt((...z)=>x(y)&&x(y)(...z),["stop"])),onMouseleave:M[7]||(M[7]=xt((...z)=>x(b)&&x(b)(...z),["stop"]))},[x(l)?(B(),pe(Ho,{key:0,name:"carousel-arrow-left",persisted:""},{default:ie(()=>[Lt(Z("button",{type:"button",class:V([x(A).e("arrow"),x(A).em("arrow","left")]),"aria-label":x(I)("el.carousel.leftArrow"),onMouseenter:M[0]||(M[0]=z=>x(g)("left")),onMouseleave:M[1]||(M[1]=(...z)=>x(m)&&x(m)(...z)),onClick:M[2]||(M[2]=xt(z=>x(_)(x(i)-1),["stop"]))},[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1})],42,Lgn),[[$n,(N.arrow==="always"||x(c))&&(N.loop||x(i)>0)]])]),_:1})):fe("v-if",!0),x(l)?(B(),pe(Ho,{key:1,name:"carousel-arrow-right",persisted:""},{default:ie(()=>[Lt(Z("button",{type:"button",class:V([x(A).e("arrow"),x(A).em("arrow","right")]),"aria-label":x(I)("el.carousel.rightArrow"),onMouseenter:M[3]||(M[3]=z=>x(g)("right")),onMouseleave:M[4]||(M[4]=(...z)=>x(m)&&x(m)(...z)),onClick:M[5]||(M[5]=xt(z=>x(_)(x(i)+1),["stop"]))},[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})],42,Bgn),[[$n,(N.arrow==="always"||x(c))&&(N.loop||x(i)<x(d).length-1)]])]),_:1})):fe("v-if",!0),Z("div",{class:V(x(A).e("container")),style:dt(x(p)),onTransitionstart:L,onTransitionend:D},[ee(x($)),ce(N.$slots,"default")],38),ee(x(T),null,{default:ie(()=>[N.indicatorPosition!=="none"?(B(),K("ul",{key:0,class:V(R.value)},[(B(!0),K(rt,null,Ht(x(d),(z,W)=>Lt((B(),K("li",{key:W,class:V([x(A).e("indicator"),x(A).em("indicator",N.direction),x(A).is("active",W===x(i))]),onMouseenter:j=>x(E)(W),onClick:xt(j=>x(v)(W),["stop"])},[Z("button",{class:V(x(A).e("button")),"aria-label":x(I)("el.carousel.indicator",{index:W+1})},[x(u)?(B(),K("span",Wgn,De(z.props.label),1)):fe("v-if",!0)],10,Vgn)],42,zgn)),[[$n,x(k)(W)]])),128))],2)):fe("v-if",!0)]),_:1}),N.motionBlur?(B(),K("svg",Ugn,[...M[8]||(M[8]=[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)])])):fe("v-if",!0)],34))}});var qgn=Ve(Hgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Ggn=Me({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Kgn=e=>{const t=tt(fBe),n=Ut(),r=H(),s=H(!1),o=H(0),i=H(1),a=H(!1),l=H(!1),u=H(!1),c=H(!1),{isCardType:f,isVertical:d,cardScale:h}=t;function p(w,C,S){const $=S-1,k=C-1,T=C+1,_=S/2;return C===0&&w===$?-1:C===$&&w===0?S:w<k&&C-w>=_?S+1:w>T&&w-C>=_?-2:w}function g(w,C){var S,$;const k=x(d)?((S=t.root.value)==null?void 0:S.offsetHeight)||0:(($=t.root.value)==null?void 0:$.offsetWidth)||0;return u.value?k*((2-h)*(w-C)+1)/4:w<C?-(1+h)*k/4:(3+h)*k/4}function m(w,C,S){const $=t.root.value;return $?((S?$.offsetHeight:$.offsetWidth)||0)*(w-C):0}const v=(w,C,S)=>{var $;const k=x(f),T=($=t.items.value.length)!=null?$:Number.NaN,_=w===C;!k&&!yn(S)&&(c.value=_||w===S),!_&&T>2&&t.loop&&(w=p(w,C,T));const E=x(d);a.value=_,k?(u.value=Math.round(Math.abs(w-C))<=1,o.value=g(w,C),i.value=x(a)?1:h):o.value=m(w,C,E),l.value=!0,_&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function y(){if(t&&x(f)){const w=t.items.value.findIndex(({uid:C})=>C===n.uid);t.setActiveItem(w)}}const b={props:e,states:In({hover:s,translate:o,scale:i,active:a,ready:l,inStage:u,animating:c}),uid:n.uid,getVnode:()=>n.vnode,translateItem:v};return t.addItem(b),Nn(()=>{t.removeItem(b)}),{carouselItemRef:r,active:a,animating:c,hover:s,inStage:u,isVertical:d,translate:o,isCardType:f,scale:i,ready:l,handleItemClick:y}},Ygn=me({name:fH,__name:"carousel-item",props:Ggn,setup(e){const t=e,n=Ae("carousel"),{carouselItemRef:r,active:s,animating:o,hover:i,inStage:a,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=Kgn(t),p=O(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",a.value),n.is("hover",i.value),n.is("animating",o.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),g=O(()=>{const v=`${`translate${x(l)?"Y":"X"}`}(${x(u)}px)`,y=`scale(${x(f)})`;return{transform:[v,y].join(" ")}});return(m,v)=>Lt((B(),K("div",{ref_key:"carouselItemRef",ref:r,class:V(p.value),style:dt(g.value),onClick:v[0]||(v[0]=(...y)=>x(h)&&x(h)(...y))},[x(c)?Lt((B(),K("div",{key:0,class:V(x(n).e("mask"))},null,2)),[[$n,!x(s)]]):fe("v-if",!0),ce(m.$slots,"default")],6)),[[$n,x(d)]])}});var dBe=Ve(Ygn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Xgn=Rt(qgn,{CarouselItem:dBe}),Zgn=Ur(dBe),hBe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:js,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...fa(["ariaControls"])},pBe={[Et]:e=>it(e)||pt(e)||Ln(e),change:e=>it(e)||pt(e)||Ln(e)},XC=Symbol("checkboxGroupContextKey"),Jgn=({model:e,isChecked:t})=>{const n=tt(XC,void 0),r=tt(ob,void 0),s=O(()=>{var i,a;const l=(i=n?.max)==null?void 0:i.value,u=(a=n?.min)==null?void 0:a.value;return!yn(l)&&e.value.length>=l&&!t.value||!yn(u)&&e.value.length<=u&&t.value});return{isDisabled:jr(O(()=>{var i,a;return n===void 0?(i=r?.disabled)!=null?i:s.value:((a=n.disabled)==null?void 0:a.value)||s.value})),isLimitDisabled:s}},Qgn=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:o})=>{const i=tt(XC,void 0),{formItem:a}=Ro(),{emit:l}=Ut();function u(p){var g,m,v,y;return[!0,e.trueValue,e.trueLabel].includes(p)?(m=(g=e.trueValue)!=null?g:e.trueLabel)!=null?m:!0:(y=(v=e.falseValue)!=null?v:e.falseLabel)!=null?y:!1}function c(p,g){l(tn,u(p),g)}function f(p){if(n.value)return;const g=p.target;l(tn,u(g.checked),p)}async function d(p){n.value||!r.value&&!s.value&&o.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await Ye(),c(t.value,p)))}const h=O(()=>i?.validateEvent||e.validateEvent);return xe(()=>e.modelValue,()=>{h.value&&a?.validate("change").catch(p=>void 0)}),{handleChange:f,onClickRoot:d}},emn=e=>{const t=H(!1),{emit:n}=Ut(),r=tt(XC,void 0),s=O(()=>yn(r)===!1),o=H(!1),i=O({get(){var a,l;return s.value?(a=r?.modelValue)==null?void 0:a.value:(l=e.modelValue)!=null?l:t.value},set(a){var l,u;s.value&&Oe(a)?(o.value=((l=r?.max)==null?void 0:l.value)!==void 0&&a.length>r?.max.value&&a.length>i.value.length,o.value===!1&&((u=r?.changeEvent)==null||u.call(r,a))):(n(Et,a),t.value=a)}});return{model:i,isGroup:s,isLimitExceeded:o}},tmn=(e,t,{model:n})=>{const r=tt(XC,void 0),s=H(!1),o=O(()=>fl(e.value)?e.label:e.value),i=O(()=>{const c=n.value;return Ln(c)?c:Oe(c)?Pt(o.value)?c.map(nr).some(f=>Gr(f,o.value)):c.map(nr).includes(o.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),a=Fs(O(()=>{var c;return(c=r?.size)==null?void 0:c.value}),{prop:!0}),l=Fs(O(()=>{var c;return(c=r?.size)==null?void 0:c.value})),u=O(()=>!!t.default||!fl(o.value));return{checkboxButtonSize:a,isChecked:i,isFocused:s,checkboxSize:l,hasOwnLabel:u,actualValue:o}},gBe=(e,t)=>{const{formItem:n}=Ro(),{model:r,isGroup:s,isLimitExceeded:o}=emn(e),{isFocused:i,isChecked:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=tmn(e,t,{model:r}),{isDisabled:d}=Jgn({model:r,isChecked:a}),{inputId:h,isLabeledByFormItem:p}=lu(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:s}),{handleChange:g,onClickRoot:m}=Qgn(e,{model:r,isLimitExceeded:o,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function y(){var b,w;Oe(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(w=(b=e.trueValue)!=null?b:e.trueLabel)!=null?w:!0}e.checked&&y()})(),sd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>s.value&&fl(e.value))),sd({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>!!e.trueLabel)),sd({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:a,isDisabled:d,isFocused:i,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:g,onClickRoot:m}},nmn=["id","indeterminate","name","tabindex","disabled"],rmn=me({name:"ElCheckbox",__name:"checkbox",props:hBe,emits:pBe,setup(e){const t=e,n=Ms(),{inputId:r,isLabeledByFormItem:s,isChecked:o,isDisabled:i,isFocused:a,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=gBe(t,n),p=O(()=>{var y,b,w,C;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(b=(y=t.trueValue)!=null?y:t.trueLabel)!=null?b:!0,"false-value":(C=(w=t.falseValue)!=null?w:t.falseLabel)!=null?C:!1}:{value:f.value}}),g=Ae("checkbox"),m=O(()=>[g.b(),g.m(l.value),g.is("disabled",i.value),g.is("bordered",t.border),g.is("checked",o.value)]),v=O(()=>[g.e("input"),g.is("disabled",i.value),g.is("checked",o.value),g.is("indeterminate",t.indeterminate),g.is("focus",a.value)]);return(y,b)=>(B(),pe(zt(!x(u)&&x(s)?"span":"label"),{for:!x(u)&&x(s)?null:x(r),class:V(m.value),"aria-controls":y.indeterminate?y.ariaControls:null,"aria-checked":y.indeterminate?"mixed":void 0,"aria-label":y.ariaLabel,onClick:x(h)},{default:ie(()=>[Z("span",{class:V(v.value)},[Lt(Z("input",Wt({id:x(r),"onUpdate:modelValue":b[0]||(b[0]=w=>fr(c)?c.value=w:null),class:x(g).e("original"),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:x(i)},p.value,{onChange:b[1]||(b[1]=(...w)=>x(d)&&x(d)(...w)),onFocus:b[2]||(b[2]=w=>a.value=!0),onBlur:b[3]||(b[3]=w=>a.value=!1),onClick:b[4]||(b[4]=xt(()=>{},["stop"]))}),null,16,nmn),[[T1e,x(c)]]),Z("span",{class:V(x(g).e("inner"))},null,2)],2),x(u)?(B(),K("span",{key:0,class:V(x(g).e("label"))},[ce(y.$slots,"default"),y.$slots.default?fe("v-if",!0):(B(),K(rt,{key:0},[Jt(De(y.label),1)],64))],2)):fe("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var mBe=Ve(rmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const smn=["name","tabindex","disabled"],omn=me({name:"ElCheckboxButton",__name:"checkbox-button",props:hBe,emits:pBe,setup(e){const t=e,n=Ms(),{isFocused:r,isChecked:s,isDisabled:o,checkboxButtonSize:i,model:a,actualValue:l,handleChange:u}=gBe(t,n),c=O(()=>{var g,m,v,y;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(m=(g=t.trueValue)!=null?g:t.trueLabel)!=null?m:!0,"false-value":(y=(v=t.falseValue)!=null?v:t.falseLabel)!=null?y:!1}:{value:l.value}}),f=tt(XC,void 0),d=Ae("checkbox"),h=O(()=>{var g,m,v,y;const b=(m=(g=f?.fill)==null?void 0:g.value)!=null?m:"";return{backgroundColor:b,borderColor:b,color:(y=(v=f?.textColor)==null?void 0:v.value)!=null?y:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),p=O(()=>[d.b("button"),d.bm("button",i.value),d.is("disabled",o.value),d.is("checked",s.value),d.is("focus",r.value)]);return(g,m)=>(B(),K("label",{class:V(p.value)},[Lt(Z("input",Wt({"onUpdate:modelValue":m[0]||(m[0]=v=>fr(a)?a.value=v:null),class:x(d).be("button","original"),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:x(o)},c.value,{onChange:m[1]||(m[1]=(...v)=>x(u)&&x(u)(...v)),onFocus:m[2]||(m[2]=v=>r.value=!0),onBlur:m[3]||(m[3]=v=>r.value=!1),onClick:m[4]||(m[4]=xt(()=>{},["stop"]))}),null,16,smn),[[T1e,x(a)]]),g.$slots.default||g.label?(B(),K("span",{key:0,class:V(x(d).be("button","inner")),style:dt(x(s)?h.value:void 0)},[ce(g.$slots,"default",{},()=>[Jt(De(g.label),1)])],6)):fe("v-if",!0)],2))}});var Dne=Ve(omn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const imn=Me({modelValue:{type:oe(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:js,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:oe(Array)},props:{type:oe(Object),default:()=>vBe},type:{type:String,values:["checkbox","button"],default:"checkbox"},...fa(["ariaLabel"])}),amn={[Et]:e=>Oe(e),change:e=>Oe(e)},vBe={label:"label",value:"value",disabled:"disabled"},lmn=me({name:"ElCheckboxGroup",__name:"checkbox-group",props:imn,emits:amn,setup(e,{emit:t}){const n=e,r=t,s=Ae("checkbox"),o=jr(),{formItem:i}=Ro(),{inputId:a,isLabeledByFormItem:l}=lu(n,{formItemContext:i}),u=async p=>{r(Et,p),await Ye(),r(tn,p)},c=O({get(){return n.modelValue},set(p){u(p)}}),f=O(()=>({...vBe,...n.props})),d=p=>{const{label:g,value:m,disabled:v}=f.value,y={label:p[g],value:p[m],disabled:p[v]};return{...vI(p,[g,m,v]),...y}},h=O(()=>n.type==="button"?Dne:mBe);return ln(XC,{...vp(ao(n),["size","min","max","validateEvent","fill","textColor"]),disabled:o,modelValue:c,changeEvent:u}),xe(()=>n.modelValue,(p,g)=>{n.validateEvent&&!Gr(p,g)&&i?.validate("change").catch(m=>void 0)}),(p,g)=>{var m;return B(),pe(zt(p.tag),{id:x(a),class:V(x(s).b("group")),role:"group","aria-label":x(l)?void 0:p.ariaLabel||"checkbox-group","aria-labelledby":x(l)?(m=x(i))==null?void 0:m.labelId:void 0},{default:ie(()=>[ce(p.$slots,"default",{},()=>[(B(!0),K(rt,null,Ht(p.options,(v,y)=>(B(),pe(zt(h.value),Wt({key:y},{ref_for:!0},d(v)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var yBe=Ve(lmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Hc=Rt(mBe,{CheckboxButton:Dne,CheckboxGroup:yBe}),umn=Ur(Dne),One=Ur(yBe),bBe=Me({modelValue:{type:[String,Number,Boolean],default:void 0},size:js,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),cmn=Me({...bBe,border:Boolean}),wBe={[Et]:e=>it(e)||pt(e)||Ln(e),[tn]:e=>it(e)||pt(e)||Ln(e)},xBe=Symbol("radioGroupKey"),CBe=(e,t)=>{const n=H(),r=tt(xBe,void 0),s=O(()=>!!r),o=O(()=>fl(e.value)?e.label:e.value),i=O({get(){return s.value?r.modelValue:e.modelValue},set(f){s.value?r.changeEvent(f):t&&t(Et,f),n.value.checked=e.modelValue===o.value}}),a=Fs(O(()=>r?.size)),l=jr(O(()=>r?.disabled)),u=H(!1),c=O(()=>l.value||s.value&&i.value!==o.value?-1:0);return sd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},O(()=>s.value&&fl(e.value))),{radioRef:n,isGroup:s,radioGroup:r,focus:u,size:a,disabled:l,tabIndex:c,modelValue:i,actualValue:o}},fmn=["value","name","disabled","checked"],dmn=me({name:"ElRadio",__name:"radio",props:cmn,emits:wBe,setup(e,{emit:t}){const n=e,r=t,s=Ae("radio"),{radioRef:o,radioGroup:i,focus:a,size:l,disabled:u,modelValue:c,actualValue:f}=CBe(n,r);function d(){Ye(()=>r(tn,c.value))}return(h,p)=>{var g;return B(),K("label",{class:V([x(s).b(),x(s).is("disabled",x(u)),x(s).is("focus",x(a)),x(s).is("bordered",h.border),x(s).is("checked",x(c)===x(f)),x(s).m(x(l))])},[Z("span",{class:V([x(s).e("input"),x(s).is("disabled",x(u)),x(s).is("checked",x(c)===x(f))])},[Lt(Z("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":p[0]||(p[0]=m=>fr(c)?c.value=m:null),class:V(x(s).e("original")),value:x(f),name:h.name||((g=x(i))==null?void 0:g.name),disabled:x(u),checked:x(c)===x(f),type:"radio",onFocus:p[1]||(p[1]=m=>a.value=!0),onBlur:p[2]||(p[2]=m=>a.value=!1),onChange:d,onClick:p[3]||(p[3]=xt(()=>{},["stop"]))},null,42,fmn),[[A1e,x(c)]]),Z("span",{class:V(x(s).e("inner"))},null,2)],2),Z("span",{class:V(x(s).e("label")),onKeydown:p[4]||(p[4]=xt(()=>{},["stop"]))},[ce(h.$slots,"default",{},()=>[Jt(De(h.label),1)])],34)],2)}}});var SBe=Ve(dmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const hmn=Me({...bBe}),pmn=["value","name","disabled"],gmn=me({name:"ElRadioButton",__name:"radio-button",props:hmn,setup(e){const t=e,n=Ae("radio"),{radioRef:r,focus:s,size:o,disabled:i,modelValue:a,radioGroup:l,actualValue:u}=CBe(t),c=O(()=>({backgroundColor:l?.fill||"",borderColor:l?.fill||"",boxShadow:l?.fill?`-1px 0 0 0 ${l.fill}`:"",color:l?.textColor||""}));return(f,d)=>{var h;return B(),K("label",{class:V([x(n).b("button"),x(n).is("active",x(a)===x(u)),x(n).is("disabled",x(i)),x(n).is("focus",x(s)),x(n).bm("button",x(o))])},[Lt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":d[0]||(d[0]=p=>fr(a)?a.value=p:null),class:V(x(n).be("button","original-radio")),value:x(u),type:"radio",name:f.name||((h=x(l))==null?void 0:h.name),disabled:x(i),onFocus:d[1]||(d[1]=p=>s.value=!0),onBlur:d[2]||(d[2]=p=>s.value=!1),onClick:d[3]||(d[3]=xt(()=>{},["stop"]))},null,42,pmn),[[A1e,x(a)]]),Z("span",{class:V(x(n).be("button","inner")),style:dt(x(a)===x(u)?c.value:{}),onKeydown:d[4]||(d[4]=xt(()=>{},["stop"]))},[ce(f.$slots,"default",{},()=>[Jt(De(f.label),1)])],38)],2)}}});var Rne=Ve(gmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const mmn=Me({id:{type:String,default:void 0},size:js,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:oe(Array)},props:{type:oe(Object),default:()=>$Be},type:{type:String,values:["radio","button"],default:"radio"},...fa(["ariaLabel"])}),vmn=wBe,$Be={label:"label",value:"value",disabled:"disabled"},ymn=["id","aria-label","aria-labelledby"],bmn=me({name:"ElRadioGroup",__name:"radio-group",props:mmn,emits:vmn,setup(e,{emit:t}){const n=e,r=t,s=Ae("radio"),o=Yo(),i=H(),{formItem:a}=Ro(),{inputId:l,isLabeledByFormItem:u}=lu(n,{formItemContext:a}),c=g=>{r(Et,g),Ye(()=>r(tn,g))};jt(()=>{const g=i.value.querySelectorAll("[type=radio]"),m=g[0];!Array.from(g).some(v=>v.checked)&&m&&(m.tabIndex=0)});const f=O(()=>n.name||o.value),d=O(()=>({...$Be,...n.props})),h=g=>{const{label:m,value:v,disabled:y}=d.value,b={label:g[m],value:g[v],disabled:g[y]};return{...vI(g,[m,v,y]),...b}},p=O(()=>n.type==="button"?Rne:SBe);return ln(xBe,In({...ao(n),changeEvent:c,name:f})),xe(()=>n.modelValue,(g,m)=>{n.validateEvent&&!Gr(g,m)&&a?.validate("change").catch(v=>void 0)}),(g,m)=>(B(),K("div",{id:x(l),ref_key:"radioGroupRef",ref:i,class:V(x(s).b("group")),role:"radiogroup","aria-label":x(u)?void 0:g.ariaLabel||"radio-group","aria-labelledby":x(u)?x(a).labelId:void 0},[ce(g.$slots,"default",{},()=>[(B(!0),K(rt,null,Ht(g.options,(v,y)=>(B(),pe(zt(p.value),Wt({key:y},{ref_for:!0},h(v)),null,16))),128))])],10,ymn))}});var kBe=Ve(bmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const EBe=Rt(SBe,{RadioButton:Rne,RadioGroup:kBe}),wmn=Ur(kBe),xmn=Ur(Rne),k8=Symbol();function Cmn(e){return!!(Oe(e)?e.every(({type:t})=>t===ps):e?.type===ps)}var Smn=me({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(e){const t=Ae("cascader-node"),{renderLabelFn:n}=tt(k8),{node:r}=e,{data:s,label:o}=r,i=()=>{const a=n?.({node:r,data:s});return Cmn(a)?o:a??o};return()=>ee("span",{class:t.e("label")},[i()])}});const $mn=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],kmn=me({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=e,r=t,s=tt(k8),o=Ae("cascader-node"),i=O(()=>s.isHoverMenu),a=O(()=>s.config.multiple),l=O(()=>s.config.checkStrictly),u=O(()=>s.config.showPrefix),c=O(()=>{var T;return(T=s.checkedNodes[0])==null?void 0:T.uid}),f=O(()=>n.node.isDisabled),d=O(()=>n.node.isLeaf),h=O(()=>l.value&&!d.value||!f.value),p=O(()=>m(s.expandingNode)),g=O(()=>l.value&&s.checkedNodes.some(m)),m=T=>{var _;const{level:E,uid:A}=n.node;return((_=T?.pathNodes[E-1])==null?void 0:_.uid)===A},v=()=>{p.value||s.expandNode(n.node)},y=T=>{const{node:_}=n;T!==_.checked&&s.handleCheckChange(_,T)},b=()=>{s.lazyLoad(n.node,()=>{d.value||v()})},w=T=>{i.value&&(C(),!d.value&&r("expand",T))},C=()=>{const{node:T}=n;!h.value||T.loading||(T.loaded?v():b())},S=()=>{d.value&&!f.value&&!l.value&&!a.value?k(!0):(s.config.checkOnClickNode&&(a.value||l.value)||d.value&&s.config.checkOnClickLeaf)&&!f.value?$(!n.node.checked):i.value||C()},$=T=>{l.value?(y(T),n.node.loaded&&v()):k(T)},k=T=>{n.node.loaded?(y(T),!l.value&&v()):b()};return(T,_)=>(B(),K("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!d.value,"aria-owns":d.value?void 0:e.menuId,"aria-expanded":p.value,tabindex:h.value?-1:void 0,class:V([x(o).b(),x(o).is("selectable",l.value),x(o).is("active",e.node.checked),x(o).is("disabled",!h.value),p.value&&"in-active-path",g.value&&"in-checked-path"]),onMouseenter:w,onFocus:w,onClick:S},[fe(" prefix "),a.value&&u.value?(B(),pe(x(Hc),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:f.value,onClick:_[0]||(_[0]=xt(()=>{},["stop"])),"onUpdate:modelValue":$},null,8,["model-value","indeterminate","disabled"])):l.value&&u.value?(B(),pe(x(EBe),{key:1,"model-value":c.value,label:e.node.uid,disabled:f.value,"onUpdate:modelValue":$,onClick:_[1]||(_[1]=xt(()=>{},["stop"]))},{default:ie(()=>[fe(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),_[2]||(_[2]=Z("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):d.value&&e.node.checked?(B(),pe(x(ot),{key:2,class:V(x(o).e("prefix"))},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):fe("v-if",!0),fe(" content "),ee(x(Smn),{node:e.node},null,8,["node"]),fe(" postfix "),d.value?fe("v-if",!0):(B(),K(rt,{key:3},[e.node.loading?(B(),pe(x(ot),{key:0,class:V([x(o).is("loading"),x(o).e("postfix")])},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])):(B(),pe(x(ot),{key:1,class:V(["arrow-right",x(o).e("postfix")])},{default:ie(()=>[ee(x(aa))]),_:1},8,["class"]))],64))],42,$mn))}});var Emn=Ve(kmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const _mn=me({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=e,n=Ut(),r=Ae("cascader-menu"),{t:s}=un(),o=Yo();let i,a;const l=tt(k8),u=H(),c=O(()=>!t.nodes.length),f=O(()=>!l.initialLoaded),d=O(()=>`${o.value}-${t.index}`),h=v=>{i=v.target},p=v=>{var y;if(!(!l.isHoverMenu||!i||!u.value))if(i.contains(v.target)){g();const b=n.vnode.el,{left:w}=b.getBoundingClientRect(),{offsetWidth:C,offsetHeight:S}=b,$=v.clientX-w,k=i.offsetTop,T=k+i.offsetHeight,_=((y=b.querySelector(`.${r.e("wrap")}`))==null?void 0:y.scrollTop)||0;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${k} L${C} ${_} V${k} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${T} L${C} ${S+_} V${T} Z" />
        `}else a||(a=window.setTimeout(m,l.config.hoverThreshold))},g=()=>{a&&(clearTimeout(a),a=void 0)},m=()=>{u.value&&(u.value.innerHTML="",g())};return(v,y)=>(B(),pe(x(jc),{key:d.value,tag:"ul",role:"menu",class:V(x(r).b()),"wrap-class":x(r).e("wrap"),"view-class":[x(r).e("list"),x(r).is("empty",c.value)],onMousemove:p,onMouseleave:m},{default:ie(()=>{var b;return[(B(!0),K(rt,null,Ht(e.nodes,w=>(B(),pe(Emn,{key:w.uid,node:w,"menu-id":d.value,onExpand:h},null,8,["node","menu-id"]))),128)),f.value?(B(),K("div",{key:0,class:V(x(r).e("empty-text"))},[ee(x(ot),{size:"14",class:V(x(r).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"]),Jt(" "+De(x(s)("el.cascader.loading")),1)],2)):c.value?(B(),K("div",{key:1,class:V(x(r).e("empty-text"))},[ce(v.$slots,"empty",{},()=>[Jt(De(x(s)("el.cascader.noData")),1)])],2)):(b=x(l))!=null&&b.isHoverMenu?(B(),K(rt,{key:2},[fe(" eslint-disable-next-line vue/html-self-closing "),(B(),K("svg",{ref_key:"hoverZone",ref:u,class:V(x(r).e("hover-zone"))},null,2))],2112)):fe("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var Tmn=Ve(_mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Amn=0;const Imn=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let hH=class pH{constructor(t,n,r,s=!1){this.data=t,this.config=n,this.parent=r,this.root=s,this.uid=Amn++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=n,l=t[a],u=Imn(this);this.level=s?0:r?r.level+1:1,this.value=t[o],this.label=t[i],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new pH(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!_a(l),this.text=""}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:s,checkStrictly:o}=r;return(ft(s)?s(t,this):!!t[s])||!o&&!!n?.isDisabled}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:s}=this,{lazy:o,leaf:i}=n,a=ft(i)?i(t,this):t[i];return yn(a)?o&&!s?!1:!(Oe(r)&&r.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,s=new pH(t,this.config,this);return Oe(n)?n.push(t):this.childrenData=[t],r.push(s),s}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t){this.children.forEach(n=>{var r;n&&(n.broadcast(t),(r=n.onParentCheck)==null||r.call(n,t))})}emit(){var t;const{parent:n}=this;n&&((t=n.onChildCheck)==null||t.call(n),n.emit())}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((s,o)=>{const i=o.checked?1:o.indeterminate?.5:0;return s+i},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast(t),this.setCheckState(t),this.emit())}};const gH=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(gH(r.children,t))),n),[]);class Nme{constructor(t,n){this.config=n;const r=(t||[]).map(s=>new hH(s,this.config));this.nodes=r,this.allNodes=gH(r,!1),this.leafNodes=gH(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new hH(t,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(t,n){t.length>0?t.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(t){this.allNodes.push(t),t.isLeaf&&this.leafNodes.push(t),t.children&&t.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(t,n=!1){return fl(t)?null:this.getFlattedNodes(n).find(s=>Gr(s.value,t)||Gr(s.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:s})=>Gr(t.value,r)&&t.level===s)||null}}const _Be=Me({modelValue:{type:oe([Number,String,Array,Object])},options:{type:oe(Array),default:()=>[]},props:{type:oe(Object),default:()=>({})}}),Nmn={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Rn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},Dmn=Me({..._Be,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),Dme=e=>!0,Omn={[Et]:Dme,[tn]:Dme,close:()=>!0,"expand-change":e=>e},Rmn=e=>O(()=>({...Nmn,...e.props})),Ome=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Fmn=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():kLe(e)&&e.click()},Mmn=(e,t)=>{const n=t.slice(0),r=n.map(o=>o.uid),s=e.reduce((o,i)=>{const a=r.indexOf(i.uid);return a>-1&&(o.push(i),n.splice(a,1),r.splice(a,1)),o},[]);return s.push(...n),s},Pmn=me({name:"ElCascaderPanel",__name:"index",props:Dmn,emits:Omn,setup(e,{expose:t,emit:n}){const r=e,s=n;let o=!1;const i=Ae("cascader"),a=Rmn(r),l=Ms();let u;const c=H(!0),f=H(!1),d=H([]),h=H(),p=H([]),g=H(),m=H([]),v=O(()=>a.value.expandTrigger==="hover"),y=O(()=>r.renderLabel||l.default),b=()=>{const{options:D}=r,N=a.value;o=!1,u=new Nme(D,N),p.value=[u.getNodes()],N.lazy&&_a(r.options)?(c.value=!1,w(void 0,M=>{M&&(u=new Nme(M,N),p.value=[u.getNodes()]),c.value=!0,A(!1,!0)})):A(!1,!0)},w=(D,N)=>{const M=a.value;D=D||new hH({},M,void 0,!0),D.loading=!0;const z=j=>{const U=D,Y=U.root?null:U;U.loading=!1,U.loaded=!0,U.childrenData=U.childrenData||[],j&&u?.appendNodes(j,Y),j&&N?.(j),D.level===0&&(f.value=!0)},W=()=>{D.loading=!1,D.loaded=!1,D.level===0&&(c.value=!0)};M.lazyLoad(D,z,W)},C=(D,N)=>{var M;const{level:z}=D,W=p.value.slice(0,z);let j;D.isLeaf?j=D.pathNodes[z-2]:(j=D,W.push(D.children)),((M=g.value)==null?void 0:M.uid)!==j?.uid&&(g.value=D,p.value=W,!N&&s("expand-change",D?.pathValues||[]))},S=(D,N,M=!0)=>{const{checkStrictly:z,multiple:W}=a.value,j=m.value[0];o=!0,!W&&j?.doCheck(!1),D.doCheck(N),E(),M&&!W&&!z&&s("close"),!M&&!W&&$(D)},$=D=>{D&&(D=D.parent,$(D),D&&C(D))},k=D=>u?.getFlattedNodes(D),T=D=>{var N;return(N=k(D))==null?void 0:N.filter(({checked:M})=>M!==!1)},_=()=>{m.value.forEach(D=>D.doCheck(!1)),E(),p.value=p.value.slice(0,1),g.value=void 0,s("expand-change",[])},E=()=>{var D;const{checkStrictly:N,multiple:M}=a.value,z=m.value,W=T(!N),j=Mmn(z,W),U=j.map(Y=>Y.valueByOption);m.value=j,h.value=M?U:(D=U[0])!=null?D:null},A=(D=!1,N=!1)=>{const{modelValue:M}=r,{lazy:z,multiple:W,checkStrictly:j}=a.value,U=!j;if(!(!c.value||o||!N&&Gr(M,h.value)))if(z&&!D){const G=vme(tun(Hi(M))).map(ne=>u?.getNodeByValue(ne)).filter(ne=>!!ne&&!ne.loaded&&!ne.loading);G.length?G.forEach(ne=>{w(ne,()=>A(!1,N))}):A(!0,N)}else{const Y=W?Hi(M):[M],G=vme(Y.map(ne=>u?.getNodeByValue(ne,U)));I(G,N),h.value=nM(M??void 0)}},I=(D,N=!0)=>{const{checkStrictly:M}=a.value,z=m.value,W=D.filter(Y=>!!Y&&(M||Y.isLeaf)),j=u?.getSameNode(g.value),U=N&&j||W[0];U?U.pathNodes.forEach(Y=>C(Y,!0)):g.value=void 0,z.forEach(Y=>Y.doCheck(!1)),In(W).forEach(Y=>Y.doCheck(!0)),m.value=W,Ye(F)},F=()=>{Tn&&d.value.forEach(D=>{const N=D?.$el;if(N){const M=N.querySelector(`.${i.namespace.value}-scrollbar__wrap`),z=N.querySelector(`.${i.b("node")}.${i.is("active")}:last-child`)||N.querySelector(`.${i.b("node")}.in-active-path`);dne(M,z)}})},R=D=>{const N=D.target,M=Hn(D);switch(M){case Re.up:case Re.down:{D.preventDefault();const z=M===Re.up?-1:1;z3(ELe(N,z,`.${i.b("node")}[tabindex="-1"]`));break}case Re.left:{D.preventDefault();const z=d.value[Ome(N)-1],W=z?.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);z3(W);break}case Re.right:{D.preventDefault();const z=d.value[Ome(N)+1],W=z?.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);z3(W);break}case Re.enter:case Re.numpadEnter:Fmn(N);break}};ln(k8,In({config:a,expandingNode:g,checkedNodes:m,isHoverMenu:v,initialLoaded:c,renderLabelFn:y,lazyLoad:w,expandNode:C,handleCheckChange:S})),xe(a,(D,N)=>{Gr(D,N)||b()},{immediate:!0}),xe(()=>r.options,b,{deep:!0}),xe(()=>r.modelValue,()=>{o=!1,A()},{deep:!0}),xe(()=>h.value,D=>{Gr(D,r.modelValue)||(s(Et,D),s(tn,D))});const L=()=>{f.value||b()};return yq(()=>d.value=[]),jt(()=>!_a(r.modelValue)&&A()),t({menuList:d,menus:p,checkedNodes:m,handleKeyDown:R,handleCheckChange:S,getFlattedNodes:k,getCheckedNodes:T,clearCheckedNodes:_,calculateCheckedValue:E,scrollToExpandingNode:F,loadLazyRootNodes:L}),(D,N)=>(B(),K("div",{class:V([x(i).b("panel"),x(i).is("bordered",D.border)]),onKeydown:R},[(B(!0),K(rt,null,Ht(p.value,(M,z)=>(B(),pe(Tmn,{key:z,ref_for:!0,ref:W=>d.value[z]=W,index:z,nodes:[...M]},{empty:ie(()=>[ce(D.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});var Lmn=Ve(Pmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);const TBe=Rt(Lmn),xp=Me({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:eh},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Bmn={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},zmn=["aria-label"],Vmn=["aria-label"],Wmn=me({name:"ElTag",__name:"tag",props:xp,emits:Bmn,setup(e,{emit:t}){const n=e,r=t,s=Fs(),{t:o}=un(),i=Ae("tag"),a=O(()=>{const{type:f,hit:d,effect:h,closable:p,round:g}=n;return[i.b(),i.is("closable",p),i.m(f||"primary"),i.m(s.value),i.m(h),i.is("hit",d),i.is("round",g)]}),l=f=>{r("close",f)},u=f=>{r("click",f)},c=f=>{var d,h,p;(p=(h=(d=f?.component)==null?void 0:d.subTree)==null?void 0:h.component)!=null&&p.bum&&(f.component.subTree.component.bum=null)};return(f,d)=>f.disableTransitions?(B(),K("span",{key:0,class:V(a.value),style:dt({backgroundColor:f.color}),onClick:u},[Z("span",{class:V(x(i).e("content"))},[ce(f.$slots,"default")],2),f.closable?(B(),K("button",{key:0,"aria-label":x(o)("el.tag.close"),class:V(x(i).e("close")),type:"button",onClick:xt(l,["stop"])},[ee(x(ot),null,{default:ie(()=>[ee(x(qu))]),_:1})],10,zmn)):fe("v-if",!0)],6)):(B(),pe(Ho,{key:1,name:`${x(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:c},{default:ie(()=>[Z("span",{class:V(a.value),style:dt({backgroundColor:f.color}),onClick:u},[Z("span",{class:V(x(i).e("content"))},[ce(f.$slots,"default")],2),f.closable?(B(),K("button",{key:0,"aria-label":x(o)("el.tag.close"),class:V(x(i).e("close")),type:"button",onClick:xt(l,["stop"])},[ee(x(ot),null,{default:ie(()=>[ee(x(qu))]),_:1})],10,Vmn)):fe("v-if",!0)],6)]),_:3},8,["name"]))}});var Umn=Ve(Wmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Jh=Rt(Umn),jmn=Me({..._Be,size:js,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:zn,default:jp},filterable:Boolean,filterMethod:{type:oe(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:oe(Function),default:()=>!0},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Un.popperClass,popperStyle:Un.popperStyle,teleported:Un.teleported,effect:{type:oe(String),default:"light"},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...sb}),Rme=e=>!0,Hmn={[Et]:Rme,[tn]:Rme,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Ln(e),expandChange:e=>!!e,removeTag:e=>!!e},fg=new Map;if(Tn){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of fg.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function Fme(e,t){let n=[];return Oe(t.arg)?n=t.arg:cl(t.arg)&&n.push(t.arg),function(r,s){const o=t.instance.popperRef,i=r.target,a=s?.target,l=!t||!t.instance,u=!i||!a,c=e.contains(i)||e.contains(a),f=e===i,d=n.length&&n.some(p=>p?.contains(i))||n.length&&n.includes(a),h=o&&(o.contains(i)||o.contains(a));l||u||c||f||d||h||t.value(r,s)}}const Jm={beforeMount(e,t){fg.has(e)||fg.set(e,[]),fg.get(e).push({documentHandler:Fme(e,t),bindingFn:t.value})},updated(e,t){fg.has(e)||fg.set(e,[]);const n=fg.get(e),r=n.findIndex(o=>o.bindingFn===t.oldValue),s={documentHandler:Fme(e,t),bindingFn:t.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(e){fg.delete(e)}},qmn=["placeholder"],Gmn=["onClick"],Kmn=me({name:"ElCascader",__name:"cascader",props:jmn,emits:Hmn,setup(e,{expose:t,emit:n}){const r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Ne})=>{const{modifiersData:nt,placement:wt}=Ne;["right","left","bottom","top"].includes(wt)||nt.arrow&&(nt.arrow.x=35)},requires:["arrow"]}]},s=e,o=n,i=$p();let a=0,l=0;const u=Ae("cascader"),c=Ae("input"),{t:f}=un(),{formItem:d}=Ro(),h=jr(),{valueOnClear:p}=CI(s),{isComposing:g,handleComposition:m}=_I({afterComposition(Ne){var nt;const wt=(nt=Ne.target)==null?void 0:nt.value;Se(wt)}}),v=H(),y=H(),b=H(),w=H(),C=H(),S=H(),$=H(!1),k=H(!1),T=H(!1),_=H(""),E=H(""),A=H([]),I=H([]),F=O(()=>s.props.multiple?s.collapseTags?A.value.slice(0,s.maxCollapseTags):A.value:[]),R=O(()=>s.props.multiple?s.collapseTags?A.value.slice(s.maxCollapseTags):[]:[]),L=O(()=>i.style),D=O(()=>{var Ne;return(Ne=s.placeholder)!=null?Ne:f("el.cascader.placeholder")}),N=O(()=>E.value||A.value.length>0||g.value?"":D.value),M=Fs(),z=O(()=>M.value==="small"?"small":"default"),W=O(()=>!!s.props.multiple),j=O(()=>!s.filterable||W.value),U=O(()=>W.value?E.value:_.value),Y=O(()=>{var Ne;return((Ne=C.value)==null?void 0:Ne.checkedNodes)||[]}),{wrapperRef:G,isFocused:ne,handleBlur:ue}=Hp(b,{disabled:h,beforeBlur(Ne){var nt,wt;return((nt=v.value)==null?void 0:nt.isFocusInsideContent(Ne))||((wt=y.value)==null?void 0:wt.isFocusInsideContent(Ne))},afterBlur(){var Ne;s.validateEvent&&((Ne=d?.validate)==null||Ne.call(d,"blur").catch(nt=>void 0))}}),ae=O(()=>!s.clearable||h.value||T.value||!k.value&&!ne.value?!1:!!Y.value.length),X=O(()=>{const{showAllLevels:Ne,separator:nt}=s,wt=Y.value;return wt.length?W.value?"":wt[0].calcText(Ne,nt):""}),J=O(()=>d?.validateState||""),q=O({get(){return nM(s.modelValue)},set(Ne){const nt=Ne??p.value;o(Et,nt),o(tn,nt),s.validateEvent&&d?.validate("change").catch(wt=>void 0)}}),P=O(()=>[u.b(),u.m(M.value),u.is("disabled",h.value),i.class]),Q=O(()=>[c.e("icon"),"icon-arrow-down",u.is("reverse",$.value)]),se=O(()=>u.is("focus",ne.value)),de=O(()=>{var Ne,nt;return(nt=(Ne=v.value)==null?void 0:Ne.popperRef)==null?void 0:nt.contentRef}),he=Ne=>{if(ne.value){const nt=new FocusEvent("blur",Ne);ue(nt)}ge(!1)},ge=Ne=>{var nt,wt;h.value||(Ne=Ne??!$.value,Ne!==$.value&&($.value=Ne,(wt=(nt=b.value)==null?void 0:nt.input)==null||wt.setAttribute("aria-expanded",`${Ne}`),Ne?($e(),C.value&&Ye(C.value.scrollToExpandingNode)):s.filterable&&lt(),o("visibleChange",Ne)))},$e=()=>{Ye(()=>{var Ne;(Ne=v.value)==null||Ne.updatePopper()})},He=()=>{T.value=!1},Ie=Ne=>{const{showAllLevels:nt,separator:wt}=s;return{node:Ne,key:Ne.uid,text:Ne.calcText(nt,wt),hitState:!1,closable:!h.value&&!Ne.isDisabled}},Ce=Ne=>{var nt;const wt=Ne.node;wt.doCheck(!1),(nt=C.value)==null||nt.calculateCheckedValue(),o("removeTag",wt.valueByOption)},Fe=()=>{switch(s.showCheckedStrategy){case"child":return Y.value;case"parent":{const Ne=ye(!1),nt=Ne.map(Fr=>Fr.value);return Ne.filter(Fr=>!Fr.parent||!nt.includes(Fr.parent.value))}default:return[]}},ze=()=>{if(!W.value)return;const Ne=Fe(),nt=[];Ne.forEach(wt=>nt.push(Ie(wt))),A.value=nt},Ue=()=>{var Ne,nt;const{filterMethod:wt,showAllLevels:Fr,separator:da}=s,bs=(nt=(Ne=C.value)==null?void 0:Ne.getFlattedNodes(!s.props.checkStrictly))==null?void 0:nt.filter(Ze=>Ze.isDisabled?!1:(Ze.calcText(Fr,da),wt(Ze,U.value)));W.value&&A.value.forEach(Ze=>{Ze.hitState=!1}),T.value=!0,I.value=bs,$e()},st=()=>{var Ne;let nt;T.value&&S.value?nt=S.value.$el.querySelector(`.${u.e("suggestion-item")}`):nt=(Ne=C.value)==null?void 0:Ne.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),nt&&(nt.focus(),!T.value&&nt.click())},ht=()=>{var Ne,nt;const wt=(Ne=b.value)==null?void 0:Ne.input,Fr=w.value,da=(nt=S.value)==null?void 0:nt.$el;if(!(!Tn||!wt)){if(da){const bs=da.querySelector(`.${u.e("suggestion-list")}`);bs.style.minWidth=`${wt.offsetWidth}px`}if(Fr){const{offsetHeight:bs}=Fr,Ze=A.value.length>0?`${Math.max(bs,a)-2}px`:`${a}px`;wt.style.height=Ze,$e()}}},ye=Ne=>{var nt;return(nt=C.value)==null?void 0:nt.getCheckedNodes(Ne)},Ge=Ne=>{$e(),o("expandChange",Ne)},at=Ne=>{if(g.value)return;switch(Hn(Ne)){case Re.enter:case Re.numpadEnter:ge();break;case Re.down:ge(!0),Ye(st),Ne.preventDefault();break;case Re.esc:$.value===!0&&(Ne.preventDefault(),Ne.stopPropagation(),ge(!1));break;case Re.tab:ge(!1);break}},cn=()=>{var Ne;(Ne=C.value)==null||Ne.clearCheckedNodes(),!$.value&&s.filterable&&lt(),ge(!1),o("clear")},lt=()=>{const{value:Ne}=X;_.value=Ne,E.value=Ne},Ft=Ne=>{var nt,wt;const{checked:Fr}=Ne;W.value?(nt=C.value)==null||nt.handleCheckChange(Ne,!Fr,!1):(!Fr&&((wt=C.value)==null||wt.handleCheckChange(Ne,!0,!1)),ge(!1))},Dt=Ne=>{const nt=Ne.target,wt=Hn(Ne);switch(wt){case Re.up:case Re.down:{Ne.preventDefault();const Fr=wt===Re.up?-1:1;z3(ELe(nt,Fr,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case Re.enter:case Re.numpadEnter:nt.click();break}},Gt=()=>{const Ne=A.value[A.value.length-1];l=E.value?0:l+1,!(!Ne||!l||s.collapseTags&&A.value.length>1)&&(Ne.hitState?Ce(Ne):Ne.hitState=!0)},Te=O(()=>s.debounce),Xe=bI(()=>{const{value:Ne}=U;if(!Ne)return;const nt=s.beforeFilter(Ne);f1(nt)?nt.then(Ue).catch(()=>{}):nt!==!1?Ue():He()},Te),Se=(Ne,nt)=>{!$.value&&ge(!0),!nt?.isComposing&&(Ne?Xe():He())},ct=Ne=>Number.parseFloat(Fun(c.cssVarName("input-height"),Ne).value)-2,Xt=()=>{var Ne;(Ne=b.value)==null||Ne.focus()},Gn=()=>{var Ne;(Ne=b.value)==null||Ne.blur()};return xe(T,$e),xe([Y,h,()=>s.collapseTags,()=>s.maxCollapseTags],ze),xe(A,()=>{Ye(()=>ht())}),xe(M,async()=>{await Ye();const Ne=b.value.input;a=ct(Ne)||a,ht()}),xe(X,lt,{immediate:!0}),xe(()=>$.value,Ne=>{var nt;Ne&&s.props.lazy&&s.props.lazyLoad&&((nt=C.value)==null||nt.loadLazyRootNodes())}),jt(()=>{const Ne=b.value.input,nt=ct(Ne);a=Ne.offsetHeight||nt,Cr(Ne,ht)}),t({getCheckedNodes:ye,cascaderPanelRef:C,togglePopperVisible:ge,contentRef:de,presentText:X,focus:Xt,blur:Gn}),(Ne,nt)=>(B(),pe(x(Xo),{ref_key:"tooltipRef",ref:v,visible:$.value,teleported:Ne.teleported,"popper-class":[x(u).e("dropdown"),Ne.popperClass],"popper-style":Ne.popperStyle,"popper-options":r,"fallback-placements":Ne.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Ne.placement,transition:`${x(u).namespace.value}-zoom-in-top`,effect:Ne.effect,pure:"",persistent:Ne.persistent,onHide:He},{default:ie(()=>[Lt((B(),K("div",{ref_key:"wrapperRef",ref:G,class:V(P.value),style:dt(L.value),onClick:nt[8]||(nt[8]=()=>ge(j.value?void 0:!0)),onKeydown:at,onMouseenter:nt[9]||(nt[9]=wt=>k.value=!0),onMouseleave:nt[10]||(nt[10]=wt=>k.value=!1)},[ee(x(Xi),{ref_key:"inputRef",ref:b,modelValue:_.value,"onUpdate:modelValue":nt[1]||(nt[1]=wt=>_.value=wt),placeholder:N.value,readonly:j.value,disabled:x(h),"validate-event":!1,size:x(M),class:V(se.value),tabindex:W.value&&Ne.filterable&&!x(h)?-1:void 0,onCompositionstart:x(m),onCompositionupdate:x(m),onCompositionend:x(m),onInput:Se},vl({suffix:ie(()=>[ae.value?(B(),pe(x(ot),{key:"clear",class:V([x(c).e("icon"),"icon-circle-close"]),onClick:xt(cn,["stop"])},{default:ie(()=>[(B(),pe(zt(Ne.clearIcon)))]),_:1},8,["class"])):(B(),pe(x(ot),{key:"arrow-down",class:V(Q.value),onClick:nt[0]||(nt[0]=xt(wt=>ge(),["stop"]))},{default:ie(()=>[ee(x(th))]),_:1},8,["class"]))]),_:2},[Ne.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(Ne.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),W.value?(B(),K("div",{key:0,ref_key:"tagWrapper",ref:w,class:V([x(u).e("tags"),x(u).is("validate",!!J.value)])},[ce(Ne.$slots,"tag",{data:A.value,deleteTag:Ce},()=>[(B(!0),K(rt,null,Ht(F.value,wt=>(B(),pe(x(Jh),{key:wt.key,type:Ne.tagType,size:z.value,effect:Ne.tagEffect,hit:wt.hitState,closable:wt.closable,"disable-transitions":"",onClose:Fr=>Ce(wt)},{default:ie(()=>[Z("span",null,De(wt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),Ne.collapseTags&&A.value.length>Ne.maxCollapseTags?(B(),pe(x(Xo),{key:0,ref_key:"tagTooltipRef",ref:y,disabled:$.value||!Ne.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":Ne.popperClass,"popper-style":Ne.popperStyle,effect:Ne.effect,persistent:Ne.persistent},{default:ie(()=>[ee(x(Jh),{closable:!1,size:z.value,type:Ne.tagType,effect:Ne.tagEffect,"disable-transitions":""},{default:ie(()=>[Z("span",{class:V(x(u).e("tags-text"))}," + "+De(A.value.length-Ne.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:ie(()=>[ee(x(jc),{"max-height":Ne.maxCollapseTagsTooltipHeight},{default:ie(()=>[Z("div",{class:V(x(u).e("collapse-tags"))},[(B(!0),K(rt,null,Ht(R.value,(wt,Fr)=>(B(),K("div",{key:Fr,class:V(x(u).e("collapse-tag"))},[(B(),pe(x(Jh),{key:wt.key,class:"in-tooltip",type:Ne.tagType,size:z.value,effect:Ne.tagEffect,hit:wt.hitState,closable:wt.closable,"disable-transitions":"",onClose:da=>Ce(wt)},{default:ie(()=>[Z("span",null,De(wt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):fe("v-if",!0),Ne.filterable&&!x(h)?Lt((B(),K("input",{key:1,"onUpdate:modelValue":nt[2]||(nt[2]=wt=>E.value=wt),type:"text",class:V(x(u).e("search-input")),placeholder:X.value?"":D.value,onInput:nt[3]||(nt[3]=wt=>Se(E.value,wt)),onClick:nt[4]||(nt[4]=xt(wt=>ge(!0),["stop"])),onKeydown:qr(Gt,["delete"]),onCompositionstart:nt[5]||(nt[5]=(...wt)=>x(m)&&x(m)(...wt)),onCompositionupdate:nt[6]||(nt[6]=(...wt)=>x(m)&&x(m)(...wt)),onCompositionend:nt[7]||(nt[7]=(...wt)=>x(m)&&x(m)(...wt))},null,42,qmn)),[[VM,E.value]]):fe("v-if",!0)],2)):fe("v-if",!0)],38)),[[x(Jm),he,de.value]])]),content:ie(()=>[Ne.$slots.header?(B(),K("div",{key:0,class:V(x(u).e("header")),onClick:nt[11]||(nt[11]=xt(()=>{},["stop"]))},[ce(Ne.$slots,"header")],2)):fe("v-if",!0),Lt(ee(x(TBe),{ref_key:"cascaderPanelRef",ref:C,modelValue:q.value,"onUpdate:modelValue":nt[12]||(nt[12]=wt=>q.value=wt),options:Ne.options,props:s.props,border:!1,"render-label":Ne.$slots.default,onExpandChange:Ge,onClose:nt[13]||(nt[13]=wt=>Ne.$nextTick(()=>ge(!1)))},{empty:ie(()=>[ce(Ne.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[$n,!T.value]]),Ne.filterable?Lt((B(),pe(x(jc),{key:1,ref_key:"suggestionPanel",ref:S,tag:"ul",class:V(x(u).e("suggestion-panel")),"view-class":x(u).e("suggestion-list"),onKeydown:Dt},{default:ie(()=>[I.value.length?(B(!0),K(rt,{key:0},Ht(I.value,wt=>(B(),K("li",{key:wt.uid,class:V([x(u).e("suggestion-item"),x(u).is("checked",wt.checked)]),tabindex:-1,onClick:Fr=>Ft(wt)},[ce(Ne.$slots,"suggestion-item",{item:wt},()=>[Z("span",null,De(wt.text),1),wt.checked?(B(),pe(x(ot),{key:0},{default:ie(()=>[ee(x($I))]),_:1})):fe("v-if",!0)])],10,Gmn))),128)):ce(Ne.$slots,"empty",{key:1},()=>[Z("li",{class:V(x(u).e("empty-text"))},De(x(f)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[$n,T.value]]):fe("v-if",!0),Ne.$slots.footer?(B(),K("div",{key:2,class:V(x(u).e("footer")),onClick:nt[14]||(nt[14]=xt(()=>{},["stop"]))},[ce(Ne.$slots,"footer")],2)):fe("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var Ymn=Ve(Kmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);const Xmn=Rt(Ymn),Zmn=Me({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Jmn={"update:checked":e=>Ln(e),[tn]:e=>Ln(e)},Qmn=me({name:"ElCheckTag",__name:"check-tag",props:Zmn,emits:Jmn,setup(e,{emit:t}){const n=e,r=t,s=Ae("check-tag"),o=O(()=>[s.b(),s.is("checked",n.checked),s.is("disabled",n.disabled),s.m(n.type||"primary")]),i=()=>{if(n.disabled)return;const a=!n.checked;r(tn,a),r("update:checked",a)};return(a,l)=>(B(),K("span",{class:V(o.value),onClick:i},[ce(a.$slots,"default")],2))}});var e0n=Ve(Qmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const t0n=Rt(e0n),n0n=Me({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:oe([Number,Object]),default:()=>zr({})},sm:{type:oe([Number,Object]),default:()=>zr({})},md:{type:oe([Number,Object]),default:()=>zr({})},lg:{type:oe([Number,Object]),default:()=>zr({})},xl:{type:oe([Number,Object]),default:()=>zr({})}}),ABe=Symbol("rowContextKey"),r0n=me({name:"ElCol",__name:"col",props:n0n,setup(e){const t=e,{gutter:n}=tt(ABe,{gutter:O(()=>0)}),r=Ae("col"),s=O(()=>{const i={};return n.value&&(i.paddingLeft=i.paddingRight=`${n.value/2}px`),i}),o=O(()=>{const i=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];pt(c)&&(u==="span"?i.push(r.b(`${t[u]}`)):c>0&&i.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{pt(t[u])?i.push(r.b(`${u}-${t[u]}`)):Pt(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{i.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&i.push(r.is("guttered")),[r.b(),i]});return(i,a)=>(B(),pe(zt(i.tag),{class:V(o.value),style:dt(s.value)},{default:ie(()=>[ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var s0n=Ve(r0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const o0n=Rt(s0n),Mme=e=>pt(e)||it(e)||Oe(e),i0n=Me({accordion:Boolean,modelValue:{type:oe([Array,String,Number]),default:()=>zr([])},expandIconPosition:{type:oe([String]),default:"right"},beforeCollapse:{type:oe(Function)}}),a0n={[Et]:Mme,[tn]:Mme},IBe=Symbol("collapseContextKey"),l0n="ElCollapse",u0n=(e,t)=>{const n=H(vo(e.modelValue)),r=i=>{n.value=i;const a=e.accordion?n.value[0]:n.value;t(Et,a),t(tn,a)},s=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const a=[...n.value],l=a.indexOf(i);l>-1?a.splice(l,1):a.push(i),r(a)}},o=async i=>{const{beforeCollapse:a}=e;if(!a){s(i);return}const l=a(i);[f1(l),Ln(l)].includes(!0)||Ts(l0n,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),f1(l)?l.then(c=>{c!==!1&&s(i)}).catch(c=>{}):l&&s(i)};return xe(()=>e.modelValue,()=>n.value=vo(e.modelValue),{deep:!0}),ln(IBe,{activeNames:n,handleItemClick:o}),{activeNames:n,setActiveNames:r}},c0n=e=>{const t=Ae("collapse");return{rootKls:O(()=>[t.b(),t.b(`icon-position-${e.expandIconPosition}`)])}},f0n=me({name:"ElCollapse",__name:"collapse",props:i0n,emits:a0n,setup(e,{expose:t,emit:n}){const r=e,s=n,{activeNames:o,setActiveNames:i}=u0n(r,s),{rootKls:a}=c0n(r);return t({activeNames:o,setActiveNames:i}),(l,u)=>(B(),K("div",{class:V(x(a))},[ce(l.$slots,"default")],2))}});var d0n=Ve(f0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const h0n=me({name:"ElCollapseTransition",__name:"collapse-transition",setup(e){const t=Ae("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},r={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,o)=>(B(),pe(Ho,Wt({name:x(t).b()},kze(r)),{default:ie(()=>[ce(s.$slots,"default")]),_:3},16,["name"]))}});var p0n=Ve(h0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const E8=Rt(p0n),g0n=Me({title:{type:String,default:""},name:{type:oe([String,Number]),default:void 0},icon:{type:zn,default:aa},disabled:Boolean}),m0n=e=>{const t=tt(IBe),{namespace:n}=Ae("collapse"),r=H(!1),s=H(!1),o=yne(),i=O(()=>o.current++),a=O(()=>{var d;return(d=e.name)!=null?d:`${n.value}-id-${o.prefix}-${x(i)}`}),l=O(()=>t?.activeNames.value.includes(x(a)));return{focusing:r,id:i,isActive:l,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:r.value=!0},50)},handleHeaderClick:d=>{if(e.disabled)return;const h=d.target;h?.closest("input, textarea, select")||(t?.handleItemClick(x(a)),r.value=!1,s.value=!0)},handleEnterClick:d=>{const h=d.target;h?.closest("input, textarea, select")||(d.preventDefault(),t?.handleItemClick(x(a)))}}},v0n=(e,{focusing:t,isActive:n,id:r})=>{const s=Ae("collapse"),o=O(()=>[s.b("item"),s.is("active",x(n)),s.is("disabled",e.disabled)]),i=O(()=>[s.be("item","header"),s.is("active",x(n)),{focusing:x(t)&&!e.disabled}]),a=O(()=>[s.be("item","arrow"),s.is("active",x(n))]),l=O(()=>[s.be("item","title")]),u=O(()=>s.be("item","wrap")),c=O(()=>s.be("item","content")),f=O(()=>s.b(`content-${x(r)}`)),d=O(()=>s.b(`head-${x(r)}`));return{itemTitleKls:l,arrowKls:a,headKls:i,rootKls:o,itemWrapperKls:u,itemContentKls:c,scopedContentId:f,scopedHeadId:d}},y0n=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],b0n=["id","aria-hidden","aria-labelledby"],w0n=me({name:"ElCollapseItem",__name:"collapse-item",props:g0n,setup(e,{expose:t}){const n=e,{focusing:r,id:s,isActive:o,handleFocus:i,handleHeaderClick:a,handleEnterClick:l}=m0n(n),{arrowKls:u,headKls:c,rootKls:f,itemTitleKls:d,itemWrapperKls:h,itemContentKls:p,scopedContentId:g,scopedHeadId:m}=v0n(n,{focusing:r,isActive:o,id:s});return t({isActive:o}),(v,y)=>(B(),K("div",{class:V(x(f))},[Z("div",{id:x(m),class:V(x(c)),"aria-expanded":x(o),"aria-controls":x(g),"aria-describedby":x(g),tabindex:v.disabled?void 0:0,"aria-disabled":v.disabled,role:"button",onClick:y[0]||(y[0]=(...b)=>x(a)&&x(a)(...b)),onKeydown:y[1]||(y[1]=qr(xt((...b)=>x(l)&&x(l)(...b),["stop"]),["space","enter"])),onFocus:y[2]||(y[2]=(...b)=>x(i)&&x(i)(...b)),onBlur:y[3]||(y[3]=b=>r.value=!1)},[Z("span",{class:V(x(d))},[ce(v.$slots,"title",{isActive:x(o)},()=>[Jt(De(v.title),1)])],2),ce(v.$slots,"icon",{isActive:x(o)},()=>[ee(x(ot),{class:V(x(u))},{default:ie(()=>[(B(),pe(zt(v.icon)))]),_:1},8,["class"])])],42,y0n),ee(x(E8),null,{default:ie(()=>[Lt(Z("div",{id:x(g),role:"region",class:V(x(h)),"aria-hidden":!x(o),"aria-labelledby":x(m)},[Z("div",{class:V(x(p))},[ce(v.$slots,"default")],2)],10,b0n),[[$n,x(o)]])]),_:3})],2))}});var NBe=Ve(w0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const x0n=Rt(d0n,{CollapseItem:NBe}),C0n=Ur(NBe),DBe=Me({color:{type:oe(Object),required:!0},vertical:Boolean,disabled:Boolean}),S0n=DBe;let P7=!1;function mH(e,t){if(!Tn)return;const n=function(o){var i;(i=t.drag)==null||i.call(t,o)},r=function(o){var i;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,P7=!1,(i=t.end)==null||i.call(t,o)},s=function(o){var i;P7||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),P7=!0,(i=t.start)==null||i.call(t,o))};e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!1})}const Pme=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},vH=(e,t)=>Math.abs(Pme(e)-Pme(t)),OBe=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},RBe=(e,{key:t,minValue:n,maxValue:r})=>{const s=Ut(),o=lr(),i=lr(),a=O(()=>e.color.get(t));function l(d){var h;if(e.disabled)return;d.target!==o.value&&u(d),(h=o.value)==null||h.focus()}function u(d){if(!i.value||!o.value||e.disabled)return;const p=s.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=OBe(d);let v;if(e.vertical){let y=m-p.top;y=Math.max(o.value.offsetHeight/2,y),y=Math.min(y,p.height-o.value.offsetHeight/2),v=Math.round((y-o.value.offsetHeight/2)/(p.height-o.value.offsetHeight)*r)}else{let y=g-p.left;y=Math.max(o.value.offsetWidth/2,y),y=Math.min(y,p.width-o.value.offsetWidth/2),v=Math.round((y-o.value.offsetWidth/2)/(p.width-o.value.offsetWidth)*r)}e.color.set(t,v)}function c(d){if(e.disabled)return;const{shiftKey:h}=d,p=Hn(d),g=h?10:1,m=t==="hue"?-1:1;let v=!0;switch(p){case Re.left:case Re.down:f(-g*m);break;case Re.right:case Re.up:f(g*m);break;case Re.home:e.color.set(t,t==="hue"?r:n);break;case Re.end:e.color.set(t,t==="hue"?n:r);break;case Re.pageDown:f(-4*m);break;case Re.pageUp:f(4*m);break;default:v=!1;break}v&&d.preventDefault()}function f(d){let h=a.value+d;h=h<n?n:h>r?r:h,e.color.set(t,h)}return{thumb:o,bar:i,currentValue:a,handleDrag:u,handleClick:l,handleKeydown:c}},FBe=(e,{namespace:t,maxValue:n,bar:r,thumb:s,currentValue:o,handleDrag:i,getBackground:a})=>{const l=Ut(),u=Ae(t),c=H(0),f=H(0),d=H();function h(){if(!s.value||e.vertical)return 0;const C=l.vnode.el,S=o.value;return C?Math.round(S*(C.offsetWidth-s.value.offsetWidth/2)/n):0}function p(){if(!s.value)return 0;const C=l.vnode.el;if(!e.vertical)return 0;const S=o.value;return C?Math.round(S*(C.offsetHeight-s.value.offsetHeight/2)/n):0}function g(){c.value=h(),f.value=p(),d.value=a?.()}jt(()=>{if(!r.value||!s.value)return;const C={drag:S=>{i(S)},end:S=>{i(S)}};mH(r.value,C),mH(s.value,C),g()}),xe(o,()=>g()),xe(()=>e.color.value,()=>g());const m=O(()=>[u.b(),u.is("vertical",e.vertical),u.is("disabled",e.disabled)]),v=O(()=>u.e("bar")),y=O(()=>u.e("thumb")),b=O(()=>({background:d.value})),w=O(()=>({left:Vr(c.value),top:Vr(f.value)}));return{rootKls:m,barKls:v,barStyle:b,thumbKls:y,thumbStyle:w,thumbLeft:c,thumbTop:f,update:g}},$0n=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],Lme=0,L7=100,k0n=me({name:"ElColorAlphaSlider",__name:"alpha-slider",props:DBe,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:o,handleDrag:i,handleClick:a,handleKeydown:l}=RBe(n,{key:"alpha",minValue:Lme,maxValue:L7}),{rootKls:u,barKls:c,barStyle:f,thumbKls:d,thumbStyle:h,update:p}=FBe(n,{namespace:"color-alpha-slider",maxValue:L7,currentValue:r,bar:s,thumb:o,handleDrag:i,getBackground:y}),{t:g}=un(),m=O(()=>g("el.colorpicker.alphaLabel")),v=O(()=>g("el.colorpicker.alphaDescription",{alpha:r.value,color:n.color.value}));function y(){if(n.color&&n.color.value){const{r:b,g:w,b:C}=n.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${w}, ${C}, 0) 0%, rgba(${b}, ${w}, ${C}, 1) 100%)`}return""}return t({update:p,bar:s,thumb:o}),(b,w)=>(B(),K("div",{class:V(x(u))},[Z("div",{ref_key:"bar",ref:s,class:V(x(c)),style:dt(x(f)),onClick:w[0]||(w[0]=(...C)=>x(a)&&x(a)(...C))},null,6),Z("div",{ref_key:"thumb",ref:o,class:V(x(d)),style:dt(x(h)),"aria-label":m.value,"aria-valuenow":x(r),"aria-valuetext":v.value,"aria-orientation":b.vertical?"vertical":"horizontal","aria-valuemin":Lme,"aria-valuemax":L7,role:"slider",tabindex:b.disabled?void 0:0,"aria-disabled":b.disabled,onKeydown:w[1]||(w[1]=(...C)=>x(l)&&x(l)(...C))},null,46,$0n)],2))}});var E0n=Ve(k0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/alpha-slider.vue"]]);const _0n=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],Bme=0,B7=360,T0n=me({name:"ElColorHueSlider",__name:"hue-slider",props:S0n,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:o,handleDrag:i,handleClick:a,handleKeydown:l}=RBe(n,{key:"hue",minValue:Bme,maxValue:B7}),{rootKls:u,barKls:c,thumbKls:f,thumbStyle:d,thumbTop:h,update:p}=FBe(n,{namespace:"color-hue-slider",maxValue:B7,currentValue:r,bar:s,thumb:o,handleDrag:i}),{t:g}=un(),m=O(()=>g("el.colorpicker.hueLabel")),v=O(()=>g("el.colorpicker.hueDescription",{hue:r.value,color:n.color.value}));return t({bar:s,thumb:o,thumbTop:h,update:p}),(y,b)=>(B(),K("div",{class:V(x(u))},[Z("div",{ref_key:"bar",ref:s,class:V(x(c)),onClick:b[0]||(b[0]=(...w)=>x(a)&&x(a)(...w))},null,2),Z("div",{ref_key:"thumb",ref:o,class:V(x(f)),style:dt(x(d)),"aria-label":m.value,"aria-valuenow":x(r),"aria-valuetext":v.value,"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":Bme,"aria-valuemax":B7,role:"slider",tabindex:y.disabled?void 0:0,"aria-disabled":y.disabled,onKeydown:b[1]||(b[1]=(...w)=>x(l)&&x(l)(...w))},null,46,_0n)],2))}});var A0n=Ve(T0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/hue-slider.vue"]]);const I0n=Me({colors:{type:oe(Array),required:!0},color:{type:oe(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean}),MBe=Me({modelValue:{type:oe(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:oe(Array)},validateEvent:{type:Boolean,default:!0}}),N0n={[Et]:e=>it(e)||vs(e)},PBe=Symbol("colorCommonPickerKey"),LBe=Symbol("colorPickerPanelContextKey");class iM{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new Zb,this._isValid=!1,this.enableAlpha=!1,this.format="",this.value="";for(const n in t)En(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)En(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this._isValid=!0,this.doOnChange()}get(t){return["hue","saturation","value","alpha"].includes(t)?Math.round(this[`_${t}`]):this[`_${t}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(t){const n=new Zb(t);if(this._isValid=n.isValid,n.isValid){const{h:r,s,v:o,a:i}=n.toHsv();this._hue=r,this._saturation=s*100,this._value=o*100,this._alpha=i*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value="",this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(t){const n=new Zb({h:t._hue,s:t._saturation/100,v:t._value/100,a:t._alpha/100});return this._tiny.equals(n)}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:s,format:o,enableAlpha:i}=this;let a=o||(i?"rgb":"hex");o==="hex"&&i&&(a="hex8"),this._tiny=new Zb({h:t,s:n/100,v:r/100,a:s/100}),this.value=this._isValid?this._tiny.toString(a):""}}const D0n=e=>{const{currentColor:t}=tt(LBe),n=H(s(e.colors,e.color));xe(()=>t.value,o=>{const i=new iM({value:o,enableAlpha:e.enableAlpha});n.value.forEach(a=>{a.selected=i.compare(a)})}),ml(()=>{n.value=s(e.colors,e.color)});function r(o){e.color.fromString(e.colors[o])}function s(o,i){return o.map(a=>{const l=new iM({value:a,enableAlpha:e.enableAlpha});return l.selected=l.compare(i),l})}return{rgbaColors:n,handleSelect:r}},O0n=e=>{const t=Ae("color-predefine"),n=O(()=>[t.b(),t.is("disabled",e.disabled)]),r=O(()=>t.e("colors"));function s(o){return[t.e("color-selector"),t.is("alpha",o.get("alpha")<100),{selected:o.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:s}},R0n=["disabled","aria-label","onClick"],F0n=me({name:"ElColorPredefine",__name:"predefine",props:I0n,setup(e){const t=e,{rgbaColors:n,handleSelect:r}=D0n(t),{rootKls:s,colorsKls:o,colorSelectorKls:i}=O0n(t),{t:a}=un(),l=u=>a("el.colorpicker.predefineDescription",{value:u});return(u,c)=>(B(),K("div",{class:V(x(s))},[Z("div",{class:V(x(o))},[(B(!0),K(rt,null,Ht(x(n),(f,d)=>(B(),K("button",{key:u.colors[d],type:"button",disabled:u.disabled,"aria-label":l(f.value),class:V(x(i)(f)),onClick:h=>x(r)(d)},[Z("div",{style:dt({backgroundColor:f.value})},null,4)],10,R0n))),128))],2)],2))}});var M0n=Ve(F0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/predefine.vue"]]);const P0n=Me({color:{type:oe(Object),required:!0},disabled:Boolean}),L0n=e=>{const t=Ut(),n=H(),r=H(0),s=H(0),o=H("hsl(0, 100%, 50%)"),i=O(()=>e.color.get("saturation")),a=O(()=>e.color.get("value")),l=O(()=>e.color.get("hue"));function u(p){var g;if(e.disabled)return;p.target!==n.value&&c(p),(g=n.value)==null||g.focus({preventScroll:!0})}function c(p){if(e.disabled)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=OBe(p);let b=v-m.left,w=y-m.top;b=Math.max(0,b),b=Math.min(b,m.width),w=Math.max(0,w),w=Math.min(w,m.height),s.value=b,r.value=w,e.color.set({saturation:b/m.width*100,value:100-w/m.height*100})}function f(p){if(e.disabled)return;const{shiftKey:g}=p,m=Hn(p),v=g?10:1;let y=!0;switch(m){case Re.left:d(-v);break;case Re.right:d(v);break;case Re.up:h(v);break;case Re.down:h(-v);break;default:y=!1;break}y&&p.preventDefault()}function d(p){let g=i.value+p;g=g<0?0:g>100?100:g,e.color.set("saturation",g)}function h(p){let g=a.value+p;g=g<0?0:g>100?100:g,e.color.set("value",g)}return{cursorRef:n,cursorTop:r,cursorLeft:s,background:o,saturation:i,brightness:a,hue:l,handleClick:u,handleDrag:c,handleKeydown:f}},B0n=(e,{cursorTop:t,cursorLeft:n,background:r,handleDrag:s})=>{const o=Ut(),i=Ae("color-svpanel");function a(){const d=e.color.get("saturation"),h=e.color.get("value"),p=o.vnode.el,{clientWidth:g,clientHeight:m}=p;n.value=d*g/100,t.value=(100-h)*m/100,r.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}jt(()=>{mH(o.vnode.el,{drag:d=>{s(d)},end:d=>{s(d)}}),a()}),xe([()=>e.color.get("hue"),()=>e.color.get("value"),()=>e.color.value],()=>a());const l=O(()=>i.b()),u=O(()=>i.e("cursor")),c=O(()=>({backgroundColor:r.value})),f=O(()=>({top:Vr(t.value),left:Vr(n.value)}));return{rootKls:l,cursorKls:u,rootStyle:c,cursorStyle:f,update:a}},z0n=["tabindex","aria-disabled","aria-label","aria-valuenow","aria-valuetext"],V0n=me({name:"ElSvPanel",__name:"sv-panel",props:P0n,setup(e,{expose:t}){const n=e,{cursorRef:r,cursorTop:s,cursorLeft:o,background:i,saturation:a,brightness:l,handleClick:u,handleDrag:c,handleKeydown:f}=L0n(n),{rootKls:d,cursorKls:h,rootStyle:p,cursorStyle:g,update:m}=B0n(n,{cursorTop:s,cursorLeft:o,background:i,handleDrag:c}),{t:v}=un(),y=O(()=>v("el.colorpicker.svLabel")),b=O(()=>v("el.colorpicker.svDescription",{saturation:a.value,brightness:l.value,color:n.color.value}));return t({update:m}),(w,C)=>(B(),K("div",{class:V(x(d)),style:dt(x(p)),onClick:C[1]||(C[1]=(...S)=>x(u)&&x(u)(...S))},[Z("div",{ref_key:"cursorRef",ref:r,class:V(x(h)),style:dt(x(g)),tabindex:w.disabled?void 0:0,"aria-disabled":w.disabled,role:"slider","aria-valuemin":"0,0","aria-valuemax":"100,100","aria-label":y.value,"aria-valuenow":`${x(a)},${x(l)}`,"aria-valuetext":b.value,onKeydown:C[0]||(C[0]=(...S)=>x(f)&&x(f)(...S))},null,46,z0n)],6))}});var W0n=Ve(V0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/sv-panel.vue"]]);const BBe=(e,t)=>{const n=In(new iM({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue}));return xe(()=>[e.colorFormat,e.showAlpha],()=>{n.enableAlpha=e.showAlpha,n.format=e.colorFormat||n.format,n.doOnChange(),t(Et,n.value)}),{color:n}},U0n=me({name:"ElColorPickerPanel",__name:"color-picker-panel",props:MBe,emits:N0n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("color-picker-panel"),{formItem:i}=Ro(),a=jr(),l=H(),u=H(),c=H(),f=H(),d=H(""),{color:h}=tt(PBe,()=>BBe(r,s),!0);function p(){h.fromString(d.value),h.value!==d.value&&(d.value=h.value)}function g(){var v;r.validateEvent&&((v=i?.validate)==null||v.call(i,"blur").catch(y=>void 0))}function m(){var v,y,b;(v=l.value)==null||v.update(),(y=u.value)==null||y.update(),(b=c.value)==null||b.update()}return jt(()=>{r.modelValue&&(d.value=h.value),Ye(m)}),xe(()=>r.modelValue,v=>{v!==h.value&&(v?h.fromString(v):h.clear())}),xe(()=>h.value,v=>{s(Et,v),d.value=v,r.validateEvent&&i?.validate("change").catch(y=>void 0)}),ln(LBe,{currentColor:O(()=>h.value)}),t({color:h,inputRef:f,update:m}),(v,y)=>(B(),K("div",{class:V([x(o).b(),x(o).is("disabled",x(a)),x(o).is("border",v.border)]),onFocusout:g},[Z("div",{class:V(x(o).e("wrapper"))},[ee(A0n,{ref_key:"hueRef",ref:l,class:"hue-slider",color:x(h),vertical:"",disabled:x(a)},null,8,["color","disabled"]),ee(W0n,{ref_key:"svRef",ref:u,color:x(h),disabled:x(a)},null,8,["color","disabled"])],2),v.showAlpha?(B(),pe(E0n,{key:0,ref_key:"alphaRef",ref:c,color:x(h),disabled:x(a)},null,8,["color","disabled"])):fe("v-if",!0),v.predefine?(B(),pe(M0n,{key:1,ref:"predefine","enable-alpha":v.showAlpha,color:x(h),colors:v.predefine,disabled:x(a)},null,8,["enable-alpha","color","colors","disabled"])):fe("v-if",!0),Z("div",{class:V(x(o).e("footer"))},[ee(x(Xi),{ref_key:"inputRef",ref:f,modelValue:d.value,"onUpdate:modelValue":y[0]||(y[0]=b=>d.value=b),"validate-event":!1,size:"small",disabled:x(a),onChange:p},null,8,["modelValue","disabled"]),ce(v.$slots,"footer")],2)],34))}});var j0n=Ve(U0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/color-picker-panel.vue"]]);const zBe=Rt(j0n),H0n=Me({persistent:{type:Boolean,default:!0},modelValue:{type:oe(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},size:js,popperClass:Un.popperClass,popperStyle:Un.popperStyle,tabindex:{type:[String,Number],default:0},teleported:Un.teleported,appendTo:Un.appendTo,predefine:{type:oe(Array)},validateEvent:{type:Boolean,default:!0},...sb,...fa(["ariaLabel"])}),q0n={[Et]:e=>it(e)||vs(e),[tn]:e=>it(e)||vs(e),activeChange:e=>it(e)||vs(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},G0n=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],K0n=me({name:"ElColorPicker",__name:"color-picker",props:H0n,emits:q0n,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("color"),{formItem:a}=Ro(),l=Fs(),u=jr(),{valueOnClear:c,isEmptyValue:f}=CI(r,null),d=BBe(r,s),{inputId:h,isLabeledByFormItem:p}=lu(r,{formItemContext:a}),g=H(),m=H(),v=H(),y=H(!1),b=H(!1);let w=!0;const{isFocused:C,handleFocus:S,handleBlur:$}=Hp(m,{disabled:u,beforeBlur(J){var q;return(q=g.value)==null?void 0:q.isFocusInsideContent(J)},afterBlur(){var J;L(!1),z(),r.validateEvent&&((J=a?.validate)==null||J.call(a,"blur").catch(q=>void 0))}}),k=xun(()=>{var J,q;return(q=(J=v.value)==null?void 0:J.color)!=null?q:d.color}),T=O(()=>vp(r,Object.keys(MBe))),_=O(()=>!r.modelValue&&!b.value?"transparent":R(k,r.showAlpha)),E=O(()=>!r.modelValue&&!b.value?"":k.value),A=O(()=>p.value?void 0:r.ariaLabel||o("el.colorpicker.defaultLabel")),I=O(()=>p.value?a?.labelId:void 0),F=O(()=>[i.b("picker"),i.is("disabled",u.value),i.bm("picker",l.value),i.is("focused",C.value)]);function R(J,q){const{r:P,g:Q,b:se,a:de}=J.toRgb();return q?`rgba(${P}, ${Q}, ${se}, ${de})`:`rgb(${P}, ${Q}, ${se})`}function L(J){y.value=J}const D=Ed(L,100,{leading:!0});function N(){u.value||L(!0)}function M(){D(!1),z()}function z(){Ye(()=>{r.modelValue?k.fromString(r.modelValue):(k.value="",Ye(()=>{b.value=!1}))})}function W(){u.value||(y.value&&z(),D(!y.value))}function j(){const J=f(k.value)?c.value:k.value;s(Et,J),s(tn,J),r.validateEvent&&a?.validate("change").catch(q=>void 0),D(!1),Ye(()=>{const q=new iM({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});k.compare(q)||z()})}function U(){D(!1),s(Et,c.value),s(tn,c.value),r.modelValue!==c.value&&r.validateEvent&&a?.validate("change").catch(J=>void 0),z()}function Y(){var J,q;(q=(J=v?.value)==null?void 0:J.inputRef)==null||q.focus()}function G(){y.value&&(M(),C.value&&ae())}function ne(J){J.preventDefault(),J.stopPropagation(),L(!1),z()}function ue(J){switch(Hn(J)){case Re.enter:case Re.numpadEnter:case Re.space:J.preventDefault(),J.stopPropagation(),N();break;case Re.esc:ne(J);break}}function ae(){m.value.focus()}function X(){m.value.blur()}return xe(()=>E.value,J=>{w&&s("activeChange",J),w=!0}),xe(()=>k.value,()=>{!r.modelValue&&!b.value&&(b.value=!0)}),xe(()=>r.modelValue,J=>{J?J&&J!==k.value&&(w=!1,k.fromString(J)):b.value=!1}),xe(()=>y.value,()=>{v.value&&Ye(v.value.update)}),ln(PBe,d),t({color:k,show:N,hide:M,focus:ae,blur:X}),(J,q)=>(B(),pe(x(Xo),{ref_key:"popper",ref:g,visible:y.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[x(i).be("picker","panel"),J.popperClass],"popper-style":J.popperStyle,"stop-popper-mouse-event":!1,pure:"",loop:"",role:"dialog",effect:"light",trigger:"click",teleported:J.teleported,transition:`${x(i).namespace.value}-zoom-in-top`,persistent:J.persistent,"append-to":J.appendTo,onShow:Y,onHide:q[2]||(q[2]=P=>L(!1))},{content:ie(()=>[Lt((B(),pe(x(zBe),Wt({ref_key:"pickerPanelRef",ref:v},T.value,{border:!1,"validate-event":!1,onKeydown:qr(ne,["esc"])}),{footer:ie(()=>[Z("div",null,[ee(x($o),{class:V(x(i).be("footer","link-btn")),text:"",size:"small",onClick:U},{default:ie(()=>[Jt(De(x(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ee(x($o),{plain:"",size:"small",class:V(x(i).be("footer","btn")),onClick:j},{default:ie(()=>[Jt(De(x(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])])]),_:1},16)),[[x(Jm),G,m.value]])]),default:ie(()=>[Z("div",Wt({id:x(h),ref_key:"triggerRef",ref:m},J.$attrs,{class:F.value,role:"button","aria-label":A.value,"aria-labelledby":I.value,"aria-description":x(o)("el.colorpicker.description",{color:J.modelValue||""}),"aria-disabled":x(u),tabindex:x(u)?void 0:J.tabindex,onKeydown:ue,onFocus:q[0]||(q[0]=(...P)=>x(S)&&x(S)(...P)),onBlur:q[1]||(q[1]=(...P)=>x($)&&x($)(...P))}),[Z("div",{class:V(x(i).be("picker","trigger")),onClick:W},[Z("span",{class:V([x(i).be("picker","color"),x(i).is("alpha",J.showAlpha)])},[Z("span",{class:V(x(i).be("picker","color-inner")),style:dt({backgroundColor:_.value})},[Lt(ee(x(ot),{class:V([x(i).be("picker","icon"),x(i).is("icon-arrow-down")])},{default:ie(()=>[ee(x(th))]),_:1},8,["class"]),[[$n,J.modelValue||b.value]]),Lt(ee(x(ot),{class:V([x(i).be("picker","empty"),x(i).is("icon-close")])},{default:ie(()=>[ee(x(qu))]),_:1},8,["class"]),[[$n,!J.modelValue&&!b.value]])],6)],2)],2)],16,G0n)]),_:1},8,["visible","popper-class","popper-style","teleported","transition","persistent","append-to"]))}});var Y0n=Ve(K0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const X0n=Rt(Y0n),Z0n=Me({a11y:{type:Boolean,default:!0},locale:{type:oe(Object)},size:js,button:{type:oe(Object)},card:{type:oe(Object)},dialog:{type:oe(Object)},link:{type:oe(Object)},experimentalFeatures:{type:oe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:oe(Object)},zIndex:Number,namespace:{type:String,default:"el"},...sb}),Oi={placement:"top"},J0n=me({name:"ElConfigProvider",props:Z0n,setup(e,{slots:t}){const n=cne(e);return xe(()=>e.message,r=>{var s,o;Object.assign(Oi,(o=(s=n?.value)==null?void 0:s.message)!=null?o:{},r??{})},{immediate:!0,deep:!0}),()=>ce(t,"default",{config:n?.value})}}),Q0n=Rt(J0n),evn=me({name:"ElContainer",__name:"container",props:Me({direction:{type:String,values:["horizontal","vertical"]}}),setup(e){const t=e,n=Ms(),r=Ae("container"),s=O(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(i=>{const a=i.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(o,i)=>(B(),K("section",{class:V([x(r).b(),x(r).is("vertical",s.value)])},[ce(o.$slots,"default")],2))}});var tvn=Ve(evn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const nvn=me({name:"ElAside",__name:"aside",props:{width:{type:String,default:null}},setup(e){const t=e,n=Ae("aside"),r=O(()=>t.width?n.cssVarBlock({width:t.width}):{});return(s,o)=>(B(),K("aside",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var VBe=Ve(nvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const rvn=me({name:"ElFooter",__name:"footer",props:{height:{type:String,default:null}},setup(e){const t=e,n=Ae("footer"),r=O(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,o)=>(B(),K("footer",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var WBe=Ve(rvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const svn=me({name:"ElHeader",__name:"header",props:{height:{type:String,default:null}},setup(e){const t=e,n=Ae("header"),r=O(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,o)=>(B(),K("header",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var UBe=Ve(svn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const ovn=me({name:"ElMain",__name:"main",setup(e){const t=Ae("main");return(n,r)=>(B(),K("main",{class:V(x(t).b())},[ce(n.$slots,"default")],2))}});var jBe=Ve(ovn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ivn=Rt(tvn,{Aside:VBe,Footer:WBe,Header:UBe,Main:jBe}),avn=Ur(VBe),lvn=Ur(WBe),uvn=Ur(UBe),cvn=Ur(jBe);var H3={exports:{}},fvn=H3.exports,zme;function dvn(){return zme||(zme=1,(function(e,t){(function(n,r){e.exports=r()})(fvn,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,o=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},u=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(v){this[m]=+v}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b})(m)}],d=function(m){var v=l[m];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(m,v){var y,b=l.meridiem;if(b){for(var w=1;w<=24;w+=1)if(m.indexOf(b(w,0,v))>-1){y=w>12;break}}else y=m===(v?"pm":"PM");return y},p={A:[a,function(m){this.afternoon=h(m,!1)}],a:[a,function(m){this.afternoon=h(m,!0)}],Q:[s,function(m){this.month=3*(m-1)+1}],S:[s,function(m){this.milliseconds=100*+m}],SS:[o,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[o,c("day")],Do:[a,function(m){var v=l.ordinal,y=m.match(/\d+/);if(this.day=y[0],v)for(var b=1;b<=31;b+=1)v(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],w:[i,c("week")],ww:[o,c("week")],M:[i,c("month")],MM:[o,c("month")],MMM:[a,function(m){var v=d("months"),y=(d("monthsShort")||v.map((function(b){return b.slice(0,3)}))).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(m){var v=d("months").indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(m){this.year=u(m)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function g(m){var v,y;v=m,y=l&&l.formats;for(var b=(m=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(_,E,A){var I=A&&A.toUpperCase();return E||y[A]||n[A]||y[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(F,R,L){return R||L.slice(1)}))}))).match(r),w=b.length,C=0;C<w;C+=1){var S=b[C],$=p[S],k=$&&$[0],T=$&&$[1];b[C]=T?{regex:k,parser:T}:S.replace(/^\[|\]$/g,"")}return function(_){for(var E={},A=0,I=0;A<w;A+=1){var F=b[A];if(typeof F=="string")I+=F.length;else{var R=F.regex,L=F.parser,D=_.slice(I),N=R.exec(D)[0];L.call(E,N),_=_.replace(N,"")}}return(function(M){var z=M.afternoon;if(z!==void 0){var W=M.hours;z?W<12&&(M.hours+=12):W===12&&(M.hours=0),delete M.afternoon}})(E),E}}return function(m,v,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var b=v.prototype,w=b.parse;b.parse=function(C){var S=C.date,$=C.utc,k=C.args;this.$u=$;var T=k[1];if(typeof T=="string"){var _=k[2]===!0,E=k[3]===!0,A=_||E,I=k[2];E&&(I=k[2]),l=this.$locale(),!_&&I&&(l=y.Ls[I]),this.$d=(function(D,N,M,z){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*D);var W=g(N)(D),j=W.year,U=W.month,Y=W.day,G=W.hours,ne=W.minutes,ue=W.seconds,ae=W.milliseconds,X=W.zone,J=W.week,q=new Date,P=Y||(j||U?1:q.getDate()),Q=j||q.getFullYear(),se=0;j&&!U||(se=U>0?U-1:q.getMonth());var de,he=G||0,ge=ne||0,$e=ue||0,He=ae||0;return X?new Date(Date.UTC(Q,se,P,he,ge,$e,He+60*X.offset*1e3)):M?new Date(Date.UTC(Q,se,P,he,ge,$e,He)):(de=new Date(Q,se,P,he,ge,$e,He),J&&(de=z(de).week(J).toDate()),de)}catch{return new Date("")}})(S,T,$,y),this.init(),I&&I!==!0&&(this.$L=this.locale(I).$L),A&&S!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var F=T.length,R=1;R<=F;R+=1){k[1]=T[R-1];var L=y.apply(this,k);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}R===F&&(this.$d=new Date(""))}else w.call(this,C)}}}))})(H3)),H3.exports}var hvn=dvn();const Fne=Nl(hvn),Vme=["hours","minutes","seconds"],qc="EP_PICKER_BASE",Mne="ElPopperOptions",HBe=Symbol("commonPickerContextKey"),zx="HH:mm:ss",_g="YYYY-MM-DD",pvn={date:_g,dates:_g,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${_g} ${zx}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:_g,datetimerange:`${_g} ${zx}`},qBe=(e,t)=>{const{lang:n}=un(),r=H(!1),s=H(!1),o=H(null),i=O(()=>{const{modelValue:p}=e;return!p||Oe(p)&&!p.filter(Boolean).length}),a=p=>{if(!uBe(e.modelValue,p)){let g;Oe(p)?g=p.map(v=>_me(v,e.valueFormat,n.value)):p&&(g=_me(p,e.valueFormat,n.value)),t(Et,p&&g,n.value)}},l=O(()=>{var p;let g;if(i.value?u.value.getDefaultValue&&(g=u.value.getDefaultValue()):Oe(e.modelValue)?g=e.modelValue.map(m=>Eme(m,e.valueFormat,n.value)):g=Eme((p=e.modelValue)!=null?p:"",e.valueFormat,n.value),u.value.getRangeAvailableTime){const m=u.value.getRangeAvailableTime(g);Gr(m,g)||(g=m,i.value||a(U3(g)))}return Oe(g)&&g.some(m=>!m)&&(g=[]),g}),u=H({});return{parsedValue:l,pickerActualVisible:s,pickerOptions:u,pickerVisible:r,userInput:o,valueIsEmpty:i,emitInput:a,onCalendarChange:p=>{t("calendar-change",p)},onPanelChange:(p,g,m)=>{t("panel-change",p,g,m)},onPick:(p="",g=!1)=>{r.value=g;let m;Oe(p)?m=p.map(v=>v.toDate()):m=p&&p.toDate(),o.value=null,a(m)},onSetPickerOption:p=>{u.value[p[0]]=p[1],u.value.panelReady=!0}}},Pne=Me({disabledHours:{type:oe(Function)},disabledMinutes:{type:oe(Function)},disabledSeconds:{type:oe(Function)}}),GBe=Me({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Lne=Me({automaticDropdown:{type:Boolean,default:!0},id:{type:oe([Array,String])},name:{type:oe([Array,String])},popperClass:Un.popperClass,popperStyle:Un.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:oe([String,Object]),default:jp},editable:{type:Boolean,default:!0},prefixIcon:{type:oe([String,Object]),default:""},size:js,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:oe(Object),default:()=>({})},modelValue:{type:oe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:oe([Date,Array])},defaultTime:{type:oe([Date,Array])},isRange:Boolean,...Pne,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:oe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:oe(String),values:qp,default:"bottom"},fallbackPlacements:{type:oe(Array),default:["bottom","top","right","left"]},...sb,...fa(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),gvn=Me({id:{type:oe(Array)},name:{type:oe(Array)},modelValue:{type:oe([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),mvn=["id","name","placeholder","value","disabled"],vvn=["id","name","placeholder","value","disabled"],yvn=me({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:gvn,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:o}=Ro(),{inputId:i}=lu(In({id:O(()=>{var k;return(k=r.id)==null?void 0:k[0]})}),{formItemContext:o}),a=x8(),l=Ae("date"),u=Ae("range"),c=H(),f=H(),{wrapperRef:d,isFocused:h}=Hp(c,{disabled:O(()=>r.disabled)}),p=k=>{s("click",k)},g=k=>{s("mouseenter",k)},m=k=>{s("mouseleave",k)},v=k=>{s("touchstart",k)},y=k=>{s("startInput",k)},b=k=>{s("endInput",k)},w=k=>{s("startChange",k)},C=k=>{s("endChange",k)};return t({focus:()=>{var k;(k=c.value)==null||k.focus()},blur:()=>{var k,T;(k=c.value)==null||k.blur(),(T=f.value)==null||T.blur()}}),(k,T)=>(B(),K("div",{ref_key:"wrapperRef",ref:d,class:V([x(l).is("active",x(h)),k.$attrs.class]),style:dt(k.$attrs.style),onClick:p,onMouseenter:g,onMouseleave:m,onTouchstartPassive:v},[ce(k.$slots,"prefix"),Z("input",Wt(x(a),{id:x(i),ref_key:"inputRef",ref:c,name:k.name&&k.name[0],placeholder:k.startPlaceholder,value:k.modelValue&&k.modelValue[0],class:x(u).b("input"),disabled:k.disabled,onInput:y,onChange:w}),null,16,mvn),ce(k.$slots,"range-separator"),Z("input",Wt(x(a),{id:k.id&&k.id[1],ref_key:"endInputRef",ref:f,name:k.name&&k.name[1],placeholder:k.endPlaceholder,value:k.modelValue&&k.modelValue[1],class:x(u).b("input"),disabled:k.disabled,onInput:b,onChange:C}),null,16,vvn),ce(k.$slots,"suffix")],38))}});var bvn=Ve(yvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const wvn=me({name:"Picker",__name:"picker",props:Lne,emits:[Et,tn,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,s=n,o=$p(),i=Ae("date"),a=Ae("input"),l=Ae("range"),{formItem:u}=Ro(),c=tt(Mne,{}),f=CI(r,null),d=H(),h=H(),p=H(null);let g=!1;const m=jr(),v=qBe(r,s),{parsedValue:y,pickerActualVisible:b,userInput:w,pickerVisible:C,pickerOptions:S,valueIsEmpty:$,emitInput:k,onPick:T,onSetPickerOption:_,onCalendarChange:E,onPanelChange:A}=v,{isFocused:I,handleFocus:F,handleBlur:R}=Hp(h,{disabled:m,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(C.value=!0)},beforeBlur(Se){var ct;return!g&&((ct=d.value)==null?void 0:ct.isFocusInsideContent(Se))},afterBlur(){st(),C.value=!1,g=!1,r.validateEvent&&u?.validate("blur").catch(Se=>void 0)}}),L=H(!1),D=O(()=>[i.b("editor"),i.bm("editor",r.type),a.e("wrapper"),i.is("disabled",m.value),i.is("active",C.value),l.b("editor"),Fe?l.bm("editor",Fe.value):"",o.class]),N=O(()=>[a.e("icon"),l.e("close-icon"),de.value?"":l.em("close-icon","hidden")]);xe(C,Se=>{Se?Ye(()=>{Se&&(p.value=r.modelValue)}):(w.value=null,Ye(()=>{M(r.modelValue)}))});const M=(Se,ct)=>{(ct||!uBe(Se,p.value))&&(s(tn,Se),ct&&(p.value=Se),r.validateEvent&&u?.validate("change").catch(Xt=>void 0))},z=Se=>{s("keydown",Se)},W=O(()=>h.value?Array.from(h.value.$el.querySelectorAll("input")):[]),j=(Se,ct,Xt)=>{const Gn=W.value;Gn.length&&(!Xt||Xt==="min"?(Gn[0].setSelectionRange(Se,ct),Gn[0].focus()):Xt==="max"&&(Gn[1].setSelectionRange(Se,ct),Gn[1].focus()))},U=()=>{b.value=!0},Y=()=>{s("visible-change",!0)},G=()=>{b.value=!1,C.value=!1,s("visible-change",!1)},ne=()=>{C.value=!0},ue=()=>{C.value=!1},ae=O(()=>{const Se=ye(y.value);return Oe(w.value)?[w.value[0]||Se&&Se[0]||"",w.value[1]||Se&&Se[1]||""]:w.value!==null?w.value:!J.value&&$.value||!C.value&&$.value?"":Se?q.value||P.value||Q.value?Se.join(", "):Se:""}),X=O(()=>r.type.includes("time")),J=O(()=>r.type.startsWith("time")),q=O(()=>r.type==="dates"),P=O(()=>r.type==="months"),Q=O(()=>r.type==="years"),se=O(()=>r.prefixIcon||(X.value?vLe:mcn)),de=O(()=>r.clearable&&!m.value&&!r.readonly&&!$.value&&(L.value||I.value)),he=Se=>{r.readonly||m.value||(de.value&&(Se.stopPropagation(),S.value.handleClear?S.value.handleClear():k(f.valueOnClear.value),M(f.valueOnClear.value,!0),G()),s("clear"))},ge=async Se=>{var ct;r.readonly||m.value||(((ct=Se.target)==null?void 0:ct.tagName)!=="INPUT"||I.value||!r.automaticDropdown)&&(C.value=!0)},$e=()=>{r.readonly||m.value||!$.value&&r.clearable&&(L.value=!0)},He=()=>{L.value=!1},Ie=Se=>{var ct;r.readonly||m.value||(((ct=Se.touches[0].target)==null?void 0:ct.tagName)!=="INPUT"||I.value||!r.automaticDropdown)&&(C.value=!0)},Ce=O(()=>r.type.includes("range")),Fe=Fs(),ze=O(()=>{var Se,ct;return(ct=(Se=x(d))==null?void 0:Se.popperRef)==null?void 0:ct.contentRef}),Ue=lne(h,Se=>{const ct=x(ze),Xt=Vs(h);ct&&(Se.target===ct||Se.composedPath().includes(ct))||Se.target===Xt||Xt&&Se.composedPath().includes(Xt)||(C.value=!1)});Nn(()=>{Ue?.()});const st=()=>{if(w.value){const Se=ht(ae.value);Se&&(Ge(Se)&&k(U3(Se)),w.value=null)}w.value===""&&(k(f.valueOnClear.value),M(f.valueOnClear.value,!0),w.value=null)},ht=Se=>Se?S.value.parseUserInput(Se):null,ye=Se=>Se?Oe(Se)?Se.map(Xt=>Xt.format(r.format)):Se.format(r.format):null,Ge=Se=>S.value.isValidValue(Se),at=async Se=>{if(r.readonly||m.value)return;const ct=Hn(Se);if(z(Se),ct===Re.esc){C.value===!0&&(C.value=!1,Se.preventDefault(),Se.stopPropagation());return}if(ct===Re.down&&(S.value.handleFocusPicker&&(Se.preventDefault(),Se.stopPropagation()),C.value===!1&&(C.value=!0,await Ye()),S.value.handleFocusPicker)){S.value.handleFocusPicker();return}if(ct===Re.tab){g=!0;return}if(ct===Re.enter||ct===Re.numpadEnter){C.value?(w.value===null||w.value===""||Ge(ht(ae.value)))&&(st(),C.value=!1):C.value=!0,Se.preventDefault(),Se.stopPropagation();return}if(w.value){Se.stopPropagation();return}S.value.handleKeydownInput&&S.value.handleKeydownInput(Se)},cn=Se=>{w.value=Se,C.value||(C.value=!0)},lt=Se=>{const ct=Se.target;w.value?w.value=[ct.value,w.value[1]]:w.value=[ct.value,null]},Ft=Se=>{const ct=Se.target;w.value?w.value=[w.value[0],ct.value]:w.value=[null,ct.value]},Dt=()=>{var Se;const ct=w.value,Xt=ht(ct&&ct[0]),Gn=x(y);if(Xt&&Xt.isValid()){w.value=[ye(Xt),((Se=ae.value)==null?void 0:Se[1])||null];const Ne=[Xt,Gn&&(Gn[1]||null)];Ge(Ne)&&(k(U3(Ne)),w.value=null)}},Gt=()=>{var Se;const ct=x(w),Xt=ht(ct&&ct[1]),Gn=x(y);if(Xt&&Xt.isValid()){w.value=[((Se=x(ae))==null?void 0:Se[0])||null,ye(Xt)];const Ne=[Gn&&Gn[0],Xt];Ge(Ne)&&(k(U3(Ne)),w.value=null)}},Te=()=>{var Se;(Se=h.value)==null||Se.focus()},Xe=()=>{var Se;(Se=h.value)==null||Se.blur()};return ln(qc,{props:r,emptyValues:f}),ln(HBe,v),t({focus:Te,blur:Xe,handleOpen:ne,handleClose:ue,onPick:T}),(Se,ct)=>(B(),pe(x(Xo),Wt({ref_key:"refPopper",ref:d,visible:x(C),effect:"light",pure:"",trigger:"click"},Se.$attrs,{role:"dialog",teleported:"",transition:`${x(i).namespace.value}-zoom-in-top`,"popper-class":[`${x(i).namespace.value}-picker__popper`,Se.popperClass],"popper-style":Se.popperStyle,"popper-options":x(c),"fallback-placements":Se.fallbackPlacements,"gpu-acceleration":!1,placement:Se.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:U,onShow:Y,onHide:G}),{default:ie(()=>[Ce.value?(B(),pe(bvn,{key:1,id:Se.id,ref_key:"inputRef",ref:h,"model-value":ae.value,name:Se.name,disabled:x(m),readonly:!Se.editable||Se.readonly,"start-placeholder":Se.startPlaceholder,"end-placeholder":Se.endPlaceholder,class:V(D.value),style:dt(Se.$attrs.style),"aria-label":Se.ariaLabel,tabindex:Se.tabindex,autocomplete:"off",role:"combobox",onClick:ge,onFocus:x(F),onBlur:x(R),onStartInput:lt,onStartChange:Dt,onEndInput:Ft,onEndChange:Gt,onMousedown:ge,onMouseenter:$e,onMouseleave:He,onTouchstartPassive:Ie,onKeydown:at},{prefix:ie(()=>[se.value?(B(),pe(x(ot),{key:0,class:V([x(a).e("icon"),x(l).e("icon")])},{default:ie(()=>[(B(),pe(zt(se.value)))]),_:1},8,["class"])):fe("v-if",!0)]),"range-separator":ie(()=>[ce(Se.$slots,"range-separator",{},()=>[Z("span",{class:V(x(l).b("separator"))},De(Se.rangeSeparator),3)])]),suffix:ie(()=>[Se.clearIcon?(B(),pe(x(ot),{key:0,class:V(N.value),onMousedown:xt(x(Rn),["prevent"]),onClick:he},{default:ie(()=>[(B(),pe(zt(Se.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(B(),pe(x(Xi),{key:0,id:Se.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":ae.value,name:Se.name,size:x(Fe),disabled:x(m),placeholder:Se.placeholder,class:V([x(i).b("editor"),x(i).bm("editor",Se.type),x(i).is("focus",x(C)),Se.$attrs.class]),style:dt(Se.$attrs.style),readonly:!Se.editable||Se.readonly||q.value||P.value||Q.value||Se.type==="week","aria-label":Se.ariaLabel,tabindex:Se.tabindex,"validate-event":!1,onInput:cn,onFocus:x(F),onBlur:x(R),onKeydown:at,onChange:st,onMousedown:ge,onMouseenter:$e,onMouseleave:He,onTouchstartPassive:Ie,onClick:ct[0]||(ct[0]=xt(()=>{},["stop"]))},{prefix:ie(()=>[se.value?(B(),pe(x(ot),{key:0,class:V(x(a).e("icon")),onMousedown:xt(ge,["prevent"]),onTouchstartPassive:Ie},{default:ie(()=>[(B(),pe(zt(se.value)))]),_:1},8,["class"])):fe("v-if",!0)]),suffix:ie(()=>[de.value&&Se.clearIcon?(B(),pe(x(ot),{key:0,class:V(`${x(a).e("icon")} clear-icon`),onMousedown:xt(x(Rn),["prevent"]),onClick:he},{default:ie(()=>[(B(),pe(zt(Se.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:ie(()=>[ce(Se.$slots,"default",{visible:x(C),actualVisible:x(b),parsedValue:x(y),format:Se.format,dateFormat:Se.dateFormat,timeFormat:Se.timeFormat,unlinkPanels:Se.unlinkPanels,type:Se.type,defaultValue:Se.defaultValue,showNow:Se.showNow,showConfirm:Se.showConfirm,showFooter:Se.showFooter,showWeekNumber:Se.showWeekNumber,onPick:ct[1]||(ct[1]=(...Xt)=>x(T)&&x(T)(...Xt)),onSelectRange:j,onSetPickerOption:ct[2]||(ct[2]=(...Xt)=>x(_)&&x(_)(...Xt)),onCalendarChange:ct[3]||(ct[3]=(...Xt)=>x(E)&&x(E)(...Xt)),onPanelChange:ct[4]||(ct[4]=(...Xt)=>x(A)&&x(A)(...Xt)),onMousedown:ct[5]||(ct[5]=xt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var KBe=Ve(wvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const xvn=Me({...GBe,datetimeRole:String,parsedValue:{type:oe(Object)}}),YBe=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(i,a,l,u)=>{const c={hour:e,minute:t,second:n};let f=i;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),a,u);break}case"second":{h=p(f.hour(),f.minute(),a,u);break}default:{h=p(a,u);break}}if(h?.length&&!h.includes(f[d]())){const g=l?0:h.length-1;f=f[d](h[g])}}}),f},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([i,a])=>{s[i]=a}}},z7=e=>{const t=(r,s)=>r||s,n=r=>r!==!0;return e.map(t).filter(n)},XBe=(e,t,n)=>({getHoursList:(i,a)=>F7(24,e&&(()=>e?.(i,a))),getMinutesList:(i,a,l)=>F7(60,t&&(()=>t?.(i,a,l))),getSecondsList:(i,a,l,u)=>F7(60,n&&(()=>n?.(i,a,l,u)))}),ZBe=(e,t,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:o}=XBe(e,t,n);return{getAvailableHours:(u,c)=>z7(r(u,c)),getAvailableMinutes:(u,c,f)=>z7(s(u,c,f)),getAvailableSeconds:(u,c,f,d)=>z7(o(u,c,f,d))}},JBe=e=>{const t=H(e.parsedValue);return xe(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},Cvn=Me({role:{type:String,required:!0},spinnerDate:{type:oe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:oe(String),default:""},...Pne}),Svn=100,$vn=600,PD="_RepeatClick",aM={beforeMount(e,t){const n=t.value,{interval:r=Svn,delay:s=$vn}=ft(n)?{}:n;let o,i;const a=()=>ft(n)?n():n.handler(),l=()=>{i&&(clearTimeout(i),i=void 0),o&&(clearInterval(o),o=void 0)},u=c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",l,{once:!0}),i=setTimeout(()=>{o=setInterval(()=>{a()},r)},s))};e[PD]={start:u,clear:l},e.addEventListener("mousedown",u)},unmounted(e){if(!e[PD])return;const{start:t,clear:n}=e[PD];t&&e.removeEventListener("mousedown",t),n&&(n(),document.removeEventListener("mouseup",n)),e[PD]=null}},kvn=["onClick"],Evn=["onMouseenter"],_vn=me({__name:"basic-time-spinner",props:Cvn,emits:[tn,"select-range","set-option"],setup(e,{emit:t}){const n=e,r=tt(qc),{isRange:s,format:o}=r.props,i=t,a=Ae("time"),{getHoursList:l,getMinutesList:u,getSecondsList:c}=XBe(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let f=!1;const d=H(),h=H(),p=H(),g=H(),m={hours:h,minutes:p,seconds:g},v=O(()=>n.showSeconds?Vme:Vme.slice(0,2)),y=O(()=>{const{spinnerDate:U}=n,Y=U.hour(),G=U.minute(),ne=U.second();return{hours:Y,minutes:G,seconds:ne}}),b=O(()=>{const{hours:U,minutes:Y}=x(y),{role:G,spinnerDate:ne}=n,ue=s?void 0:ne;return{hours:l(G,ue),minutes:u(U,G,ue),seconds:c(U,Y,G,ue)}}),w=O(()=>{const{hours:U,minutes:Y,seconds:G}=x(y);return{hours:R7(U,23),minutes:R7(Y,59),seconds:R7(G,59)}}),C=Ed(U=>{f=!1,k(U)},200),S=U=>{if(!!!n.amPmMode)return"";const G=n.amPmMode==="A";let ne=U<12?" am":" pm";return G&&(ne=ne.toUpperCase()),ne},$=U=>{let Y=[0,0];const G=o||zx,ne=G.indexOf("HH"),ue=G.indexOf("mm"),ae=G.indexOf("ss");switch(U){case"hours":ne!==-1&&(Y=[ne,ne+2]);break;case"minutes":ue!==-1&&(Y=[ue,ue+2]);break;case"seconds":ae!==-1&&(Y=[ae,ae+2]);break}const[X,J]=Y;i("select-range",X,J),d.value=U},k=U=>{E(U,x(y)[U])},T=()=>{k("hours"),k("minutes"),k("seconds")},_=U=>U.querySelector(`.${a.namespace.value}-scrollbar__wrap`),E=(U,Y)=>{if(n.arrowControl)return;const G=x(m[U]);G&&G.$el&&(_(G.$el).scrollTop=Math.max(0,Y*A(U)))},A=U=>{const Y=x(m[U]),G=Y?.$el.querySelector("li");return G&&Number.parseFloat(Th(G,"height"))||0},I=()=>{R(1)},F=()=>{R(-1)},R=U=>{d.value||$("hours");const Y=d.value,G=x(y)[Y],ne=d.value==="hours"?24:60,ue=L(Y,G,U,ne);D(Y,ue),E(Y,ue),Ye(()=>$(Y))},L=(U,Y,G,ne)=>{let ue=(Y+G+ne)%ne;const ae=x(b)[U];for(;ae[ue]&&ue!==Y;)ue=(ue+G+ne)%ne;return ue},D=(U,Y)=>{if(x(b)[U][Y])return;const{hours:ue,minutes:ae,seconds:X}=x(y);let J;switch(U){case"hours":J=n.spinnerDate.hour(Y).minute(ae).second(X);break;case"minutes":J=n.spinnerDate.hour(ue).minute(Y).second(X);break;case"seconds":J=n.spinnerDate.hour(ue).minute(ae).second(Y);break}i(tn,J)},N=(U,{value:Y,disabled:G})=>{G||(D(U,Y),$(U),E(U,Y))},M=U=>{const Y=x(m[U]);if(!Y)return;f=!0,C(U);const G=Math.min(Math.round((_(Y.$el).scrollTop-(z(U)*.5-10)/A(U)+3)/A(U)),U==="hours"?23:59);D(U,G)},z=U=>x(m[U]).$el.offsetHeight,W=()=>{const U=Y=>{const G=x(m[Y]);G&&G.$el&&(_(G.$el).onscroll=()=>{M(Y)})};U("hours"),U("minutes"),U("seconds")};jt(()=>{Ye(()=>{!n.arrowControl&&W(),T(),n.role==="start"&&$("hours")})});const j=(U,Y)=>{m[Y].value=U??void 0};return i("set-option",[`${n.role}_scrollDown`,R]),i("set-option",[`${n.role}_emitSelectRange`,$]),xe(()=>n.spinnerDate,()=>{f||T()}),(U,Y)=>(B(),K("div",{class:V([x(a).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?fe("v-if",!0):(B(!0),K(rt,{key:0},Ht(v.value,G=>(B(),pe(x(jc),{key:G,ref_for:!0,ref:ne=>j(ne,G),class:V(x(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":x(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ne=>$(G),onMousemove:ne=>k(G)},{default:ie(()=>[(B(!0),K(rt,null,Ht(b.value[G],(ne,ue)=>(B(),K("li",{key:ue,class:V([x(a).be("spinner","item"),x(a).is("active",ue===y.value[G]),x(a).is("disabled",ne)]),onClick:ae=>N(G,{value:ue,disabled:ne})},[G==="hours"?(B(),K(rt,{key:0},[Jt(De(("0"+(U.amPmMode?ue%12||12:ue)).slice(-2))+De(S(ue)),1)],64)):(B(),K(rt,{key:1},[Jt(De(("0"+ue).slice(-2)),1)],64))],10,kvn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(B(!0),K(rt,{key:1},Ht(v.value,G=>(B(),K("div",{key:G,class:V([x(a).be("spinner","wrapper"),x(a).is("arrow")]),onMouseenter:ne=>$(G)},[Lt((B(),pe(x(ot),{class:V(["arrow-up",x(a).be("spinner","arrow")])},{default:ie(()=>[ee(x(y8))]),_:1},8,["class"])),[[x(aM),F]]),Lt((B(),pe(x(ot),{class:V(["arrow-down",x(a).be("spinner","arrow")])},{default:ie(()=>[ee(x(th))]),_:1},8,["class"])),[[x(aM),I]]),Z("ul",{class:V(x(a).be("spinner","list"))},[(B(!0),K(rt,null,Ht(w.value[G],(ne,ue)=>(B(),K("li",{key:ue,class:V([x(a).be("spinner","item"),x(a).is("active",ne===y.value[G]),x(a).is("disabled",b.value[G][ne])])},[x(pt)(ne)?(B(),K(rt,{key:0},[G==="hours"?(B(),K(rt,{key:0},[Jt(De(("0"+(U.amPmMode?ne%12||12:ne)).slice(-2))+De(S(ne)),1)],64)):(B(),K(rt,{key:1},[Jt(De(("0"+ne).slice(-2)),1)],64))],64)):fe("v-if",!0)],2))),128))],2)],42,Evn))),128)):fe("v-if",!0)],2))}});var yH=Ve(_vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Tvn=me({__name:"panel-time-pick",props:xvn,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=tt(qc),{arrowControl:o,disabledHours:i,disabledMinutes:a,disabledSeconds:l,defaultValue:u}=s.props,{getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:d}=ZBe(i,a,l),h=Ae("time"),{t:p,lang:g}=un(),m=H([0,2]),v=JBe(n),y=O(()=>yn(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),b=O(()=>n.format.includes("ss")),w=O(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),C=N=>{const M=Mt(N).locale(g.value),z=R(M);return M.isSame(z)},S=()=>{const N=v.value;r("pick",N,!1),Ye(()=>{v.value=N})},$=(N=!1,M=!1)=>{M||r("pick",n.parsedValue,N)},k=N=>{if(!n.visible)return;const M=R(N).millisecond(0);r("pick",M,!0)},T=(N,M)=>{r("select-range",N,M),m.value=[N,M]},_=N=>{const M=n.format,z=M.indexOf("HH"),W=M.indexOf("mm"),j=M.indexOf("ss"),U=[],Y=[];z!==-1&&(U.push(z),Y.push("hours")),W!==-1&&(U.push(W),Y.push("minutes")),j!==-1&&b.value&&(U.push(j),Y.push("seconds"));const ne=(U.indexOf(m.value[0])+N+U.length)%U.length;A.start_emitSelectRange(Y[ne])},E=N=>{const M=Hn(N),{left:z,right:W,up:j,down:U}=Re;if([z,W].includes(M)){_(M===z?-1:1),N.preventDefault();return}if([j,U].includes(M)){const Y=M===j?-1:1;A.start_scrollDown(Y),N.preventDefault();return}},{timePickerOptions:A,onSetOption:I,getAvailableTime:F}=YBe({getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:d}),R=N=>F(N,n.datetimeRole||"",!0),L=N=>N?Mt(N,n.format).locale(g.value):null,D=()=>Mt(u).locale(g.value);return r("set-picker-option",["isValidValue",C]),r("set-picker-option",["parseUserInput",L]),r("set-picker-option",["handleKeydownInput",E]),r("set-picker-option",["getRangeAvailableTime",R]),r("set-picker-option",["getDefaultValue",D]),(N,M)=>(B(),pe(Ho,{name:y.value},{default:ie(()=>[N.actualVisible||N.visible?(B(),K("div",{key:0,class:V(x(h).b("panel"))},[Z("div",{class:V([x(h).be("panel","content"),{"has-seconds":b.value}])},[ee(yH,{ref:"spinner",role:N.datetimeRole||"start","arrow-control":x(o),"show-seconds":b.value,"am-pm-mode":w.value,"spinner-date":N.parsedValue,"disabled-hours":x(i),"disabled-minutes":x(a),"disabled-seconds":x(l),onChange:k,onSetOption:x(I),onSelectRange:T},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:V(x(h).be("panel","footer"))},[Z("button",{type:"button",class:V([x(h).be("panel","btn"),"cancel"]),onClick:S},De(x(p)("el.datepicker.cancel")),3),Z("button",{type:"button",class:V([x(h).be("panel","btn"),"confirm"]),onClick:M[0]||(M[0]=z=>$())},De(x(p)("el.datepicker.confirm")),3)],2)],2)):fe("v-if",!0)]),_:1},8,["name"]))}});var lM=Ve(Tvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Avn=Me({...GBe,parsedValue:{type:oe(Array)}}),Ivn=["disabled"],Nvn=me({__name:"panel-time-range",props:Avn,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=(q,P)=>{const Q=[];for(let se=q;se<=P;se++)Q.push(se);return Q},{t:o,lang:i}=un(),a=Ae("time"),l=Ae("picker"),u=tt(qc),{arrowControl:c,disabledHours:f,disabledMinutes:d,disabledSeconds:h,defaultValue:p}=u.props,g=O(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),C.value?"has-seconds":""]),m=O(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),C.value?"has-seconds":""]),v=O(()=>n.parsedValue[0]),y=O(()=>n.parsedValue[1]),b=JBe(n),w=()=>{const q=b.value;r("pick",q,!1),Ye(()=>{b.value=q})},C=O(()=>n.format.includes("ss")),S=O(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),$=(q=!1)=>{r("pick",[v.value,y.value],q)},k=q=>{E(q.millisecond(0),y.value)},T=q=>{E(v.value,q.millisecond(0))},_=q=>{const P=q.map(se=>Mt(se).locale(i.value)),Q=j(P);return P[0].isSame(Q[0])&&P[1].isSame(Q[1])},E=(q,P)=>{n.visible&&r("pick",[q,P],!0)},A=O(()=>v.value>y.value),I=H([0,2]),F=(q,P)=>{r("select-range",q,P,"min"),I.value=[q,P]},R=O(()=>C.value?11:8),L=(q,P)=>{r("select-range",q,P,"max");const Q=x(R);I.value=[q+Q,P+Q]},D=q=>{const P=C.value?[0,3,6,11,14,17]:[0,3,8,11],Q=["hours","minutes"].concat(C.value?["seconds"]:[]),de=(P.indexOf(I.value[0])+q+P.length)%P.length,he=P.length/2;de<he?ne.start_emitSelectRange(Q[de]):ne.end_emitSelectRange(Q[de-he])},N=q=>{const P=Hn(q),{left:Q,right:se,up:de,down:he}=Re;if([Q,se].includes(P)){D(P===Q?-1:1),q.preventDefault();return}if([de,he].includes(P)){const ge=P===de?-1:1,$e=I.value[0]<R.value?"start":"end";ne[`${$e}_scrollDown`](ge),q.preventDefault();return}},M=(q,P)=>{const Q=f?f(q):[],se=q==="start",he=(P||(se?y.value:v.value)).hour(),ge=se?s(he+1,23):s(0,he-1);return T7(Q,ge)},z=(q,P,Q)=>{const se=d?d(q,P):[],de=P==="start",he=Q||(de?y.value:v.value),ge=he.hour();if(q!==ge)return se;const $e=he.minute(),He=de?s($e+1,59):s(0,$e-1);return T7(se,He)},W=(q,P,Q,se)=>{const de=h?h(q,P,Q):[],he=Q==="start",ge=se||(he?y.value:v.value),$e=ge.hour(),He=ge.minute();if(q!==$e||P!==He)return de;const Ie=ge.second(),Ce=he?s(Ie+1,59):s(0,Ie-1);return T7(de,Ce)},j=([q,P])=>[ue(q,"start",!0,P),ue(P,"end",!1,q)],{getAvailableHours:U,getAvailableMinutes:Y,getAvailableSeconds:G}=ZBe(M,z,W),{timePickerOptions:ne,getAvailableTime:ue,onSetOption:ae}=YBe({getAvailableHours:U,getAvailableMinutes:Y,getAvailableSeconds:G}),X=q=>q?Oe(q)?q.map(P=>Mt(P,n.format).locale(i.value)):Mt(q,n.format).locale(i.value):null,J=()=>{if(Oe(p))return p.map(P=>Mt(P).locale(i.value));const q=Mt(p).locale(i.value);return[q,q.add(60,"m")]};return r("set-picker-option",["parseUserInput",X]),r("set-picker-option",["isValidValue",_]),r("set-picker-option",["handleKeydownInput",N]),r("set-picker-option",["getDefaultValue",J]),r("set-picker-option",["getRangeAvailableTime",j]),(q,P)=>q.actualVisible?(B(),K("div",{key:0,class:V([x(a).b("range-picker"),x(l).b("panel")])},[Z("div",{class:V(x(a).be("range-picker","content"))},[Z("div",{class:V(x(a).be("range-picker","cell"))},[Z("div",{class:V(x(a).be("range-picker","header"))},De(x(o)("el.datepicker.startTime")),3),Z("div",{class:V(g.value)},[ee(yH,{ref:"minSpinner",role:"start","show-seconds":C.value,"am-pm-mode":S.value,"arrow-control":x(c),"spinner-date":v.value,"disabled-hours":M,"disabled-minutes":z,"disabled-seconds":W,onChange:k,onSetOption:x(ae),onSelectRange:F},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:V(x(a).be("range-picker","cell"))},[Z("div",{class:V(x(a).be("range-picker","header"))},De(x(o)("el.datepicker.endTime")),3),Z("div",{class:V(m.value)},[ee(yH,{ref:"maxSpinner",role:"end","show-seconds":C.value,"am-pm-mode":S.value,"arrow-control":x(c),"spinner-date":y.value,"disabled-hours":M,"disabled-minutes":z,"disabled-seconds":W,onChange:T,onSetOption:x(ae),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:V(x(a).be("panel","footer"))},[Z("button",{type:"button",class:V([x(a).be("panel","btn"),"cancel"]),onClick:P[0]||(P[0]=Q=>w())},De(x(o)("el.datepicker.cancel")),3),Z("button",{type:"button",class:V([x(a).be("panel","btn"),"confirm"]),disabled:A.value,onClick:P[1]||(P[1]=Q=>$())},De(x(o)("el.datepicker.confirm")),11,Ivn)],2)],2)):fe("v-if",!0)}});var Dvn=Ve(Nvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Mt.extend(Fne);var Ovn=me({name:"ElTimePicker",install:null,props:{...Lne,isRange:Boolean},emits:[Et],setup(e,t){const n=H(),[r,s]=e.isRange?["timerange",Dvn]:["time",lM],o=i=>t.emit(Et,i);return ln(Mne,e.popperOptions),t.expose({focus:()=>{var i;(i=n.value)==null||i.focus()},blur:()=>{var i;(i=n.value)==null||i.blur()},handleOpen:()=>{var i;(i=n.value)==null||i.handleOpen()},handleClose:()=>{var i;(i=n.value)==null||i.handleClose()}}),()=>{var i;const a=(i=e.format)!=null?i:zx;return ee(KBe,Wt(e,{ref:n,type:r,format:a,"onUpdate:modelValue":o}),{default:l=>ee(s,l,null)})}}});const Rvn=Rt(Ovn);var q3={exports:{}},Fvn=q3.exports,Wme;function Mvn(){return Wme||(Wme=1,(function(e,t){(function(n,r){e.exports=r()})(Fvn,(function(){return function(n,r){var s=r.prototype,o=s.format;s.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return o.bind(this)(i);var u=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),f==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return f}}));return o.bind(this)(c)}}}))})(q3)),q3.exports}var Pvn=Mvn();const Lvn=Nl(Pvn);var G3={exports:{}},Bvn=G3.exports,Ume;function zvn(){return Ume||(Ume=1,(function(e,t){(function(n,r){e.exports=r()})(Bvn,(function(){var n="week",r="year";return function(s,o,i){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=i(this).startOf(r).add(1,r).date(u),f=i(this).endOf(n);if(c.isBefore(f))return 1}var d=i(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?i(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(G3)),G3.exports}var Vvn=zvn();const Wvn=Nl(Vvn);var K3={exports:{}},Uvn=K3.exports,jme;function jvn(){return jme||(jme=1,(function(e,t){(function(n,r){e.exports=r()})(Uvn,(function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),o=this.week(),i=this.year();return o===1&&s===11?i+1:s===0&&o>=52?i-1:i}}}))})(K3)),K3.exports}var Hvn=jvn();const qvn=Nl(Hvn);var Y3={exports:{}},Gvn=Y3.exports,Hme;function Kvn(){return Hme||(Hme=1,(function(e,t){(function(n,r){e.exports=r()})(Gvn,(function(){return function(n,r,s){r.prototype.dayOfYear=function(o){var i=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return o==null?i:this.add(o-i,"day")}}}))})(Y3)),Y3.exports}var Yvn=Kvn();const Xvn=Nl(Yvn);var X3={exports:{}},Zvn=X3.exports,qme;function Jvn(){return qme||(qme=1,(function(e,t){(function(n,r){e.exports=r()})(Zvn,(function(){return function(n,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}}))})(X3)),X3.exports}var Qvn=Jvn();const e1n=Nl(Qvn);var Z3={exports:{}},t1n=Z3.exports,Gme;function n1n(){return Gme||(Gme=1,(function(e,t){(function(n,r){e.exports=r()})(t1n,(function(){return function(n,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}}))})(Z3)),Z3.exports}var r1n=n1n();const s1n=Nl(r1n),o1n=Me({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:oe([Date,Array,String,Number]),default:""},defaultValue:{type:oe([Date,Array])},defaultTime:{type:oe([Date,Array])},isRange:Boolean,...Pne,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:oe(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),Bne=Symbol("rootPickerContextKey"),II="ElIsDefaultFormat",i1n=["date","dates","year","years","month","months","week","range"],zne=Me({cellClassName:{type:oe(Function)},disabledDate:{type:oe(Function)},date:{type:oe(Object),required:!0},minDate:{type:oe(Object)},maxDate:{type:oe(Object)},parsedValue:{type:oe([Object,Array])},rangeState:{type:oe(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),QBe=Me({type:{type:oe(String),required:!0,values:dgn},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),Vne=Me({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:oe(Array)}}),Wne=e=>({type:String,values:i1n,default:e}),a1n=Me({...QBe,parsedValue:{type:oe([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),h_=e=>{if(!Oe(e))return!1;const[t,n]=e;return Mt.isDayjs(t)&&Mt.isDayjs(n)&&Mt(t).isValid()&&Mt(n).isValid()&&t.isSameOrBefore(n)},_8=(e,{lang:t,step:n=1,unit:r,unlinkPanels:s})=>{let o;if(Oe(e)){let[i,a]=e.map(l=>Mt(l).locale(t));return s||(a=i.add(n,r)),[i,a]}else e?o=Mt(e):o=Mt();return o=o.locale(t),[o,o.add(n,r)]},l1n=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:o,unit:i,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*e.column+d,g=a(p);h.dayjs=g,h.date=g.toDate(),h.timestamp=g.valueOf(),h.type="normal",h.inRange=!!(r&&g.isSameOrAfter(r,i)&&s&&g.isSameOrBefore(s,i))||!!(r&&g.isSameOrBefore(r,i)&&s&&g.isSameOrAfter(s,i)),r?.isSameOrAfter(s)?(h.start=!!s&&g.isSame(s,i),h.end=r&&g.isSame(r,i)):(h.start=!!r&&g.isSame(r,i),h.end=!!s&&g.isSame(s,i)),g.isSame(o,i)&&(h.type="today"),l?.(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u?.(f)}},uM=(e,t,n,r)=>{const s=Mt().locale(r).startOf("month").month(n).year(t).hour(e.hour()).minute(e.minute()).second(e.second()),o=s.daysInMonth();return om(o).map(i=>s.add(i,"day").toDate())},Vx=(e,t,n,r,s)=>{const o=Mt().year(t).month(n).startOf("month").hour(e.hour()).minute(e.minute()).second(e.second()),i=uM(e,t,n,r).find(a=>!s?.(a));return i?Mt(i).locale(r):o.locale(r)},cM=(e,t,n)=>{const r=e.year();if(!n?.(e.toDate()))return e.locale(t);const s=e.month();if(!uM(e,r,s,t).every(n))return Vx(e,r,s,t,n);for(let o=0;o<12;o++)if(!uM(e,r,o,t).every(n))return Vx(e,r,o,t,n);return e},Wx=(e,t,n,r)=>{if(Oe(e))return e.map(s=>Wx(s,t,n,r));if(it(e)){const s=r?.value?Mt(e):Mt(e,t);if(!s.isValid())return s}return Mt(e,t).locale(n)},u1n=Me({...zne,showWeekNumber:Boolean,selectionMode:Wne("date")}),c1n=["changerange","pick","select"],fM=(e="")=>["normal","today"].includes(e),f1n=(e,t)=>{const{lang:n}=un(),r=H(),s=H(),o=H(),i=H(),a=H([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(M=>M.toLowerCase()),f=O(()=>u>3?7-u:-u),d=O(()=>{const M=e.date.startOf("month");return M.subtract(M.day()||7,"day")}),h=O(()=>c.concat(c).slice(u,u+7)),p=O(()=>$Pe(x(w)).some(M=>M.isCurrent)),g=O(()=>{const M=e.date.startOf("month"),z=M.day()||7,W=M.daysInMonth(),j=M.subtract(1,"month").daysInMonth();return{startOfMonthDay:z,dateCountOfMonth:W,dateCountOfLastMonth:j}}),m=O(()=>e.selectionMode==="dates"?Hi(e.parsedValue):[]),v=(M,{count:z,rowIndex:W,columnIndex:j})=>{const{startOfMonthDay:U,dateCountOfMonth:Y,dateCountOfLastMonth:G}=x(g),ne=x(f);if(W>=0&&W<=1){const ue=U+ne<0?7+U+ne:U+ne;if(j+W*7>=ue)return M.text=z,!0;M.text=G-(ue-j%7)+1+W*7,M.type="prev-month"}else return z<=Y?M.text=z:(M.text=z-Y,M.type="next-month"),!0;return!1},y=(M,{columnIndex:z,rowIndex:W},j)=>{const{disabledDate:U,cellClassName:Y}=e,G=x(m),ne=v(M,{count:j,rowIndex:W,columnIndex:z}),ue=M.dayjs.toDate();return M.selected=G.find(ae=>ae.isSame(M.dayjs,"day")),M.isSelected=!!M.selected,M.isCurrent=S(M),M.disabled=U?.(ue),M.customClass=Y?.(ue),ne},b=M=>{if(e.selectionMode==="week"){const[z,W]=e.showWeekNumber?[1,7]:[0,6],j=N(M[z+1]);M[z].inRange=j,M[z].start=j,M[W].inRange=j,M[W].end=j}},w=O(()=>{const{minDate:M,maxDate:z,rangeState:W,showWeekNumber:j}=e,U=x(f),Y=x(a),G="day";let ne=1;if(l1n({row:6,column:7},Y,{startDate:M,columnIndexOffset:j?1:0,nextEndDate:W.endDate||z||W.selecting&&M||null,now:Mt().locale(x(n)).startOf(G),unit:G,relativeDateGetter:ue=>x(d).add(ue-U,G),setCellMetadata:(...ue)=>{y(...ue,ne)&&(ne+=1)},setRowMetadata:b}),j)for(let ue=0;ue<6;ue++)Y[ue][1].dayjs&&(Y[ue][0]={type:"week",text:Y[ue][1].dayjs.week()});return Y});xe(()=>e.date,async()=>{var M;(M=x(r))!=null&&M.contains(document.activeElement)&&(await Ye(),await C())});const C=async()=>{var M;return(M=x(s))==null?void 0:M.focus()},S=M=>e.selectionMode==="date"&&fM(M.type)&&$(M,e.parsedValue),$=(M,z)=>z?Mt(z).locale(x(n)).isSame(e.date.date(Number(M.text)),"day"):!1,k=(M,z)=>{const W=M*7+(z-(e.showWeekNumber?1:0))-x(f);return x(d).add(W,"day")},T=M=>{var z;if(!e.rangeState.selecting)return;let W=M.target;if(W.tagName==="SPAN"&&(W=(z=W.parentNode)==null?void 0:z.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const j=W.parentNode.rowIndex-1,U=W.cellIndex;x(w)[j][U].disabled||(j!==x(o)||U!==x(i))&&(o.value=j,i.value=U,t("changerange",{selecting:!0,endDate:k(j,U)}))},_=M=>!x(p)&&M?.text===1&&fM(M.type)||M.isCurrent,E=M=>{l||x(p)||e.selectionMode!=="date"||D(M,!0)},A=M=>{M.target.closest("td")&&(l=!0)},I=M=>{M.target.closest("td")&&(l=!1)},F=M=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:M,maxDate:null}),t("select",!0)):(M>=e.minDate?t("pick",{minDate:e.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:e.minDate}),t("select",!1))},R=M=>{const z=M.week(),W=`${M.year()}w${z}`;t("pick",{year:M.year(),week:z,value:W,date:M.startOf("week")})},L=(M,z)=>{const W=z?Hi(e.parsedValue).filter(j=>j?.valueOf()!==M.valueOf()):Hi(e.parsedValue).concat([M]);t("pick",W)},D=(M,z=!1)=>{if(e.disabled)return;const W=M.target.closest("td");if(!W)return;const j=W.parentNode.rowIndex-1,U=W.cellIndex,Y=x(w)[j][U];if(Y.disabled||Y.type==="week")return;const G=k(j,U);switch(e.selectionMode){case"range":{F(G);break}case"date":{t("pick",G,z);break}case"week":{R(G);break}case"dates":{L(G,!!Y.selected);break}}},N=M=>{if(e.selectionMode!=="week")return!1;let z=e.date.startOf("day");if(M.type==="prev-month"&&(z=z.subtract(1,"month")),M.type==="next-month"&&(z=z.add(1,"month")),z=z.date(Number.parseInt(M.text,10)),e.parsedValue&&!Oe(e.parsedValue)){const W=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(W,"day").isSame(z,"day")}return!1};return{WEEKS:h,rows:w,tbodyRef:r,currentCellRef:s,focus:C,isCurrent:S,isWeekActive:N,isSelectedCell:_,handlePickDate:D,handleMouseUp:I,handleMouseDown:A,handleMouseMove:T,handleFocus:E}},d1n=(e,{isCurrent:t,isWeekActive:n})=>{const r=Ae("date-table"),{t:s}=un(),o=O(()=>[r.b(),r.is("week-mode",e.selectionMode==="week"&&!e.disabled)]),i=O(()=>s("el.datepicker.dateTablePrompt")),a=u=>{const c=[];return fM(u.type)&&!u.disabled?(c.push("available"),u.type==="today"&&c.push("today")):c.push(u.type),t(u)&&c.push("current"),u.inRange&&(fM(u.type)||e.selectionMode==="week")&&(c.push("in-range"),u.start&&c.push("start-date"),u.end&&c.push("end-date")),(u.disabled||e.disabled)&&c.push("disabled"),u.selected&&c.push("selected"),u.customClass&&c.push(u.customClass),c.join(" ")},l=u=>[r.e("row"),{current:n(u)}];return{tableKls:o,tableLabel:i,weekHeaderClass:r.e("week-header"),getCellClasses:a,getRowKls:l,t:s}},h1n=Me({cell:{type:oe(Object)}});var Une=me({name:"ElDatePickerCell",props:h1n,setup(e){const t=Ae("date-table-cell"),{slots:n}=tt(Bne);return()=>{const{cell:r}=e;return ce(n,"default",{...r},()=>{var s;return[ee("div",{class:t.b()},[ee("span",{class:t.e("text")},[(s=r?.renderText)!=null?s:r?.text])])]})}}});const p1n=["aria-label"],g1n=["aria-label"],m1n=["aria-current","aria-selected","tabindex","aria-disabled"],v1n=me({__name:"basic-date-table",props:u1n,emits:c1n,setup(e,{expose:t,emit:n}){const r=e,s=n,{WEEKS:o,rows:i,tbodyRef:a,currentCellRef:l,focus:u,isCurrent:c,isWeekActive:f,isSelectedCell:d,handlePickDate:h,handleMouseUp:p,handleMouseDown:g,handleMouseMove:m,handleFocus:v}=f1n(r,s),{tableLabel:y,tableKls:b,getCellClasses:w,getRowKls:C,weekHeaderClass:S,t:$}=d1n(r,{isCurrent:c,isWeekActive:f});let k=!1;return Nn(()=>{k=!0}),t({focus:u}),(T,_)=>(B(),K("table",{"aria-label":x(y),class:V(x(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:_[1]||(_[1]=(...E)=>x(h)&&x(h)(...E)),onMousemove:_[2]||(_[2]=(...E)=>x(m)&&x(m)(...E)),onMousedown:_[3]||(_[3]=(...E)=>x(g)&&x(g)(...E)),onMouseup:_[4]||(_[4]=(...E)=>x(p)&&x(p)(...E))},[Z("tbody",{ref_key:"tbodyRef",ref:a},[Z("tr",null,[T.showWeekNumber?(B(),K("th",{key:0,scope:"col",class:V(x(S))},null,2)):fe("v-if",!0),(B(!0),K(rt,null,Ht(x(o),(E,A)=>(B(),K("th",{key:A,"aria-label":x($)("el.datepicker.weeksFull."+E),scope:"col"},De(x($)("el.datepicker.weeks."+E)),9,g1n))),128))]),(B(!0),K(rt,null,Ht(x(i),(E,A)=>(B(),K("tr",{key:A,class:V(x(C)(T.showWeekNumber?E[2]:E[1]))},[(B(!0),K(rt,null,Ht(E,(I,F)=>(B(),K("td",{key:`${A}.${F}`,ref_for:!0,ref:R=>!x(k)&&x(d)(I)&&(l.value=R),class:V(x(w)(I)),"aria-current":I.isCurrent?"date":void 0,"aria-selected":I.isCurrent,tabindex:T.disabled?void 0:x(d)(I)?0:-1,"aria-disabled":T.disabled,onFocus:_[0]||(_[0]=(...R)=>x(v)&&x(v)(...R))},[ee(x(Une),{cell:I},null,8,["cell"])],42,m1n))),128))],2))),128))],512)],42,p1n))}});var bH=Ve(v1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const y1n=Me({...zne,selectionMode:Wne("month")}),b1n=["aria-label"],w1n=["aria-selected","aria-label","tabindex","onKeydown"],x1n=me({__name:"basic-month-table",props:y1n,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("month-table"),{t:i,lang:a}=un(),l=H(),u=H(),c=H(r.date.locale("en").localeData().monthsShort().map(w=>w.toLowerCase())),f=H([[],[],[]]),d=H(),h=H(),p=O(()=>{var w,C,S;const $=f.value,k=Mt().locale(a.value).startOf("month");for(let T=0;T<3;T++){const _=$[T];for(let E=0;E<4;E++){const A=_[E]||(_[E]={row:T,column:E,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});A.type="normal";const I=T*4+E,F=r.date.startOf("year").month(I),R=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&F.isSameOrAfter(r.minDate,"month")&&R&&F.isSameOrBefore(R,"month"))||!!(r.minDate&&F.isSameOrBefore(r.minDate,"month")&&R&&F.isSameOrAfter(R,"month")),(w=r.minDate)!=null&&w.isSameOrAfter(R)?(A.start=!!(R&&F.isSame(R,"month")),A.end=r.minDate&&F.isSame(r.minDate,"month")):(A.start=!!(r.minDate&&F.isSame(r.minDate,"month")),A.end=!!(R&&F.isSame(R,"month"))),k.isSame(F)&&(A.type="today");const D=F.toDate();A.text=I,A.disabled=((C=r.disabledDate)==null?void 0:C.call(r,D))||!1,A.date=D,A.customClass=(S=r.cellClassName)==null?void 0:S.call(r,D),A.dayjs=F,A.timestamp=F.valueOf(),A.isSelected=v(A)}}return $}),g=()=>{var w;(w=u.value)==null||w.focus()},m=w=>{const C={},S=r.date.year(),$=new Date,k=w.text;return C.disabled=r.disabled||(r.disabledDate?uM(r.date,S,k,a.value).every(r.disabledDate):!1),C.current=Hi(r.parsedValue).some(T=>Mt.isDayjs(T)&&T.year()===S&&T.month()===k),C.today=$.getFullYear()===S&&$.getMonth()===k,w.customClass&&(C[w.customClass]=!0),w.inRange&&(C["in-range"]=!0,w.start&&(C["start-date"]=!0),w.end&&(C["end-date"]=!0)),C},v=w=>{const C=r.date.year(),S=w.text;return Hi(r.date).some($=>$.year()===C&&$.month()===S)},y=w=>{var C;if(!r.rangeState.selecting)return;let S=w.target;if(S.tagName==="SPAN"&&(S=(C=S.parentNode)==null?void 0:C.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const $=S.parentNode.rowIndex,k=S.cellIndex;p.value[$][k].disabled||($!==d.value||k!==h.value)&&(d.value=$,h.value=k,s("changerange",{selecting:!0,endDate:r.date.startOf("year").month($*4+k)}))},b=w=>{var C;if(r.disabled)return;const S=(C=w.target)==null?void 0:C.closest("td");if(S?.tagName!=="TD"||td(S,"disabled"))return;const $=S.cellIndex,T=S.parentNode.rowIndex*4+$,_=r.date.startOf("year").month(T);if(r.selectionMode==="months"){if(w.type==="keydown"){s("pick",Hi(r.parsedValue),!1);return}const E=Vx(r.date,r.date.year(),T,a.value,r.disabledDate),A=td(S,"current")?Hi(r.parsedValue).filter(I=>I?.year()!==E.year()||I?.month()!==E.month()):Hi(r.parsedValue).concat([Mt(E)]);s("pick",A)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&_>=r.minDate?s("pick",{minDate:r.minDate,maxDate:_}):s("pick",{minDate:_,maxDate:r.minDate}),s("select",!1)):(s("pick",{minDate:_,maxDate:null}),s("select",!0)):s("pick",T)};return xe(()=>r.date,async()=>{var w,C;(w=l.value)!=null&&w.contains(document.activeElement)&&(await Ye(),(C=u.value)==null||C.focus())}),t({focus:g}),(w,C)=>(B(),K("table",{role:"grid","aria-label":x(i)("el.datepicker.monthTablePrompt"),class:V(x(o).b()),onClick:b,onMousemove:y},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(B(!0),K(rt,null,Ht(p.value,(S,$)=>(B(),K("tr",{key:$},[(B(!0),K(rt,null,Ht(S,(k,T)=>(B(),K("td",{key:T,ref_for:!0,ref:_=>k.isSelected&&(u.value=_),class:V(m(k)),"aria-selected":!!k.isSelected,"aria-label":x(i)(`el.datepicker.month${+k.text+1}`),tabindex:k.isSelected?0:-1,onKeydown:[qr(xt(b,["prevent","stop"]),["space"]),qr(xt(b,["prevent","stop"]),["enter"])]},[ee(x(Une),{cell:{...k,renderText:x(i)("el.datepicker.months."+c.value[k.text])}},null,8,["cell"])],42,w1n))),128))]))),128))],512)],42,b1n))}});var p_=Ve(x1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const C1n=Me({...zne,selectionMode:Wne("year")}),S1n=["aria-label"],$1n=["aria-selected","aria-label","tabindex","onKeydown"],k1n=me({__name:"basic-year-table",props:C1n,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=(C,S)=>{const $=Mt(String(C)).locale(S).startOf("year"),T=$.endOf("year").dayOfYear();return om(T).map(_=>$.add(_,"day").toDate())},s=e,o=n,i=Ae("year-table"),{t:a,lang:l}=un(),u=H(),c=H(),f=O(()=>Math.floor(s.date.year()/10)*10),d=H([[],[],[]]),h=H(),p=H(),g=O(()=>{var C,S,$;const k=d.value,T=Mt().locale(l.value).startOf("year");for(let _=0;_<3;_++){const E=k[_];for(let A=0;A<4&&!(_*4+A>=10);A++){let I=E[A];I||(I={row:_,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),I.type="normal";const F=_*4+A+f.value,R=Mt().year(F),L=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;I.inRange=!!(s.minDate&&R.isSameOrAfter(s.minDate,"year")&&L&&R.isSameOrBefore(L,"year"))||!!(s.minDate&&R.isSameOrBefore(s.minDate,"year")&&L&&R.isSameOrAfter(L,"year")),(C=s.minDate)!=null&&C.isSameOrAfter(L)?(I.start=!!(L&&R.isSame(L,"year")),I.end=!!(s.minDate&&R.isSame(s.minDate,"year"))):(I.start=!!(s.minDate&&R.isSame(s.minDate,"year")),I.end=!!(L&&R.isSame(L,"year"))),T.isSame(R)&&(I.type="today"),I.text=F;const N=R.toDate();I.disabled=((S=s.disabledDate)==null?void 0:S.call(s,N))||!1,I.date=N,I.customClass=($=s.cellClassName)==null?void 0:$.call(s,N),I.dayjs=R,I.timestamp=R.valueOf(),I.isSelected=y(I),E[A]=I}}return k}),m=()=>{var C;(C=c.value)==null||C.focus()},v=C=>{const S={},$=Mt().locale(l.value),k=C.text;return S.disabled=s.disabled||(s.disabledDate?r(k,l.value).every(s.disabledDate):!1),S.today=$.year()===k,S.current=Hi(s.parsedValue).some(T=>T.year()===k),C.customClass&&(S[C.customClass]=!0),C.inRange&&(S["in-range"]=!0,C.start&&(S["start-date"]=!0),C.end&&(S["end-date"]=!0)),S},y=C=>{const S=C.text;return Hi(s.date).some($=>$.year()===S)},b=C=>{var S;if(s.disabled)return;const $=(S=C.target)==null?void 0:S.closest("td");if(!$||!$.textContent||td($,"disabled"))return;const k=$.cellIndex,_=$.parentNode.rowIndex*4+k+f.value,E=Mt().year(_);if(s.selectionMode==="range")s.rangeState.selecting?(s.minDate&&E>=s.minDate?o("pick",{minDate:s.minDate,maxDate:E}):o("pick",{minDate:E,maxDate:s.minDate}),o("select",!1)):(o("pick",{minDate:E,maxDate:null}),o("select",!0));else if(s.selectionMode==="years"){if(C.type==="keydown"){o("pick",Hi(s.parsedValue),!1);return}const A=cM(E.startOf("year"),l.value,s.disabledDate),I=td($,"current")?Hi(s.parsedValue).filter(F=>F?.year()!==_):Hi(s.parsedValue).concat([A]);o("pick",I)}else o("pick",_)},w=C=>{var S;if(!s.rangeState.selecting)return;const $=(S=C.target)==null?void 0:S.closest("td");if(!$)return;const k=$.parentNode.rowIndex,T=$.cellIndex;g.value[k][T].disabled||(k!==h.value||T!==p.value)&&(h.value=k,p.value=T,o("changerange",{selecting:!0,endDate:Mt().year(f.value).add(k*4+T,"year")}))};return xe(()=>s.date,async()=>{var C,S;(C=u.value)!=null&&C.contains(document.activeElement)&&(await Ye(),(S=c.value)==null||S.focus())}),t({focus:m}),(C,S)=>(B(),K("table",{role:"grid","aria-label":x(a)("el.datepicker.yearTablePrompt"),class:V(x(i).b()),onClick:b,onMousemove:w},[Z("tbody",{ref_key:"tbodyRef",ref:u},[(B(!0),K(rt,null,Ht(g.value,($,k)=>(B(),K("tr",{key:k},[(B(!0),K(rt,null,Ht($,(T,_)=>(B(),K("td",{key:`${k}_${_}`,ref_for:!0,ref:E=>T.isSelected&&(c.value=E),class:V(["available",v(T)]),"aria-selected":T.isSelected,"aria-label":String(T.text),tabindex:T.isSelected?0:-1,onKeydown:[qr(xt(b,["prevent","stop"]),["space"]),qr(xt(b,["prevent","stop"]),["enter"])]},[ee(x(Une),{cell:T},null,8,["cell"])],42,$1n))),128))]))),128))],512)],42,S1n))}});var g_=Ve(k1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const E1n=["disabled","onClick"],_1n=["aria-label","disabled"],T1n=["aria-label","disabled"],A1n=["tabindex","aria-disabled"],I1n=["tabindex","aria-disabled"],N1n=["aria-label","disabled"],D1n=["aria-label","disabled"],O1n=me({__name:"panel-date-pick",props:a1n,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=(Te,Xe,Se)=>!0,r=e,s=t,o=Ae("picker-panel"),i=Ae("date-picker"),a=$p(),l=Ms(),{t:u,lang:c}=un(),f=tt(qc),d=tt(II,void 0),{shortcuts:h,disabledDate:p,cellClassName:g,defaultTime:m}=f.props,v=Bn(f.props,"defaultValue"),y=H(),b=H(Mt().locale(c.value)),w=H(!1);let C=!1;const S=O(()=>Mt(m).locale(c.value)),$=O(()=>b.value.month()),k=O(()=>b.value.year()),T=H([]),_=H(null),E=H(null),A=Te=>T.value.length>0?n(Te,T.value,r.format||"HH:mm:ss"):!0,I=Te=>m&&!$e.value&&!w.value&&!C?S.value.year(Te.year()).month(Te.month()).date(Te.date()):X.value?Te.millisecond(0):Te.startOf("day"),F=(Te,...Xe)=>{if(!Te)s("pick",Te,...Xe);else if(Oe(Te)){const Se=Te.map(I);s("pick",Se,...Xe)}else s("pick",I(Te),...Xe);_.value=null,E.value=null,w.value=!1,C=!1},R=async(Te,Xe)=>{if(W.value==="date"&&Mt.isDayjs(Te)){const Se=KS(r.parsedValue);let ct=Se?Se.year(Te.year()).month(Te.month()).date(Te.date()):Te;A(ct),b.value=ct,F(ct,X.value||Xe)}else W.value==="week"?F(Te.date):W.value==="dates"&&F(Te,!0)},L=Te=>{const Xe=Te?"add":"subtract";b.value=b.value[Xe](1,"month"),Gt("month")},D=Te=>{const Xe=b.value,Se=Te?"add":"subtract";b.value=N.value==="year"?Xe[Se](10,"year"):Xe[Se](1,"year"),Gt("year")},N=H("date"),M=O(()=>{const Te=u("el.datepicker.year");if(N.value==="year"){const Xe=Math.floor(k.value/10)*10;return Te?`${Xe} ${Te} - ${Xe+9} ${Te}`:`${Xe} - ${Xe+9}`}return`${k.value} ${Te}`}),z=Te=>{const Xe=ft(Te.value)?Te.value():Te.value;if(Xe){C=!0,F(Mt(Xe).locale(c.value));return}Te.onClick&&Te.onClick({attrs:a,slots:l,emit:s})},W=O(()=>{const{type:Te}=r;return["week","month","months","year","years","dates"].includes(Te)?Te:"date"}),j=O(()=>W.value==="dates"||W.value==="months"||W.value==="years"),U=O(()=>W.value==="date"?N.value:W.value),Y=O(()=>!!h.length),G=async(Te,Xe)=>{W.value==="month"?(b.value=Vx(b.value,b.value.year(),Te,c.value,p),F(b.value,!1)):W.value==="months"?F(Te,Xe??!0):(b.value=Vx(b.value,b.value.year(),Te,c.value,p),N.value="date",["month","year","date","week"].includes(W.value)&&(F(b.value,!0),await Ye(),cn())),Gt("month")},ne=async(Te,Xe)=>{if(W.value==="year"){const Se=b.value.startOf("year").year(Te);b.value=cM(Se,c.value,p),F(b.value,!1)}else if(W.value==="years")F(Te,Xe??!0);else{const Se=b.value.year(Te);b.value=cM(Se,c.value,p),N.value="month",["month","year","date","week"].includes(W.value)&&(F(b.value,!0),await Ye(),cn())}Gt("year")},ue=jr(),ae=async Te=>{ue.value||(N.value=Te,await Ye(),cn())},X=O(()=>r.type==="datetime"||r.type==="datetimerange"),J=O(()=>{const Te=X.value||W.value==="dates",Xe=W.value==="years",Se=W.value==="months",ct=N.value==="date",Xt=N.value==="year",Gn=N.value==="month";return Te&&ct||Xe&&Xt||Se&&Gn}),q=O(()=>!j.value&&r.showNow||r.showConfirm),P=O(()=>p?r.parsedValue?Oe(r.parsedValue)?p(r.parsedValue[0].toDate()):p(r.parsedValue.toDate()):!0:!1),Q=()=>{if(j.value)F(r.parsedValue);else{let Te=KS(r.parsedValue);if(!Te){const Xe=Mt(m).locale(c.value),Se=at();Te=Xe.year(Se.year()).month(Se.month()).date(Se.date())}b.value=Te,F(Te)}},se=O(()=>p?p(Mt().locale(c.value).toDate()):!1),de=()=>{const Xe=Mt().locale(c.value).toDate();w.value=!0,(!p||!p(Xe))&&A(Xe)&&(b.value=Mt().locale(c.value),F(b.value))},he=O(()=>r.timeFormat||lBe(r.format)||zx),ge=O(()=>r.dateFormat||aBe(r.format)||_g),$e=O(()=>E.value?E.value:!r.parsedValue&&!v.value?void 0:(KS(r.parsedValue)||b.value).format(he.value)),He=O(()=>_.value?_.value:!r.parsedValue&&!v.value?void 0:(KS(r.parsedValue)||b.value).format(ge.value)),Ie=H(!1),Ce=()=>{Ie.value=!0},Fe=()=>{Ie.value=!1},ze=Te=>({hour:Te.hour(),minute:Te.minute(),second:Te.second(),year:Te.year(),month:Te.month(),date:Te.date()}),Ue=(Te,Xe,Se)=>{const{hour:ct,minute:Xt,second:Gn}=ze(Te),Ne=KS(r.parsedValue),nt=Ne?Ne.hour(ct).minute(Xt).second(Gn):Te;b.value=nt,F(b.value,!0),Se||(Ie.value=Xe)},st=Te=>{const Xe=Mt(Te,he.value).locale(c.value);if(Xe.isValid()&&A(Xe)){const{year:Se,month:ct,date:Xt}=ze(b.value);b.value=Xe.year(Se).month(ct).date(Xt),E.value=null,Ie.value=!1,F(b.value,!0)}},ht=Te=>{const Xe=Wx(Te,ge.value,c.value,d);if(Xe.isValid()){if(p&&p(Xe.toDate()))return;const{hour:Se,minute:ct,second:Xt}=ze(b.value);b.value=Xe.hour(Se).minute(ct).second(Xt),_.value=null,F(b.value,!0)}},ye=Te=>Mt.isDayjs(Te)&&Te.isValid()&&(p?!p(Te.toDate()):!0),Ge=Te=>Wx(Te,r.format,c.value,d),at=()=>{const Te=Mt(v.value).locale(c.value);if(!v.value){const Xe=S.value;return Mt().hour(Xe.hour()).minute(Xe.minute()).second(Xe.second()).locale(c.value)}return Te},cn=()=>{var Te;["week","month","year","date"].includes(W.value)&&((Te=y.value)==null||Te.focus())},lt=()=>{cn(),W.value==="week"&&Dt(Re.down)},Ft=Te=>{const Xe=Hn(Te);[Re.up,Re.down,Re.left,Re.right,Re.home,Re.end,Re.pageUp,Re.pageDown].includes(Xe)&&(Dt(Xe),Te.stopPropagation(),Te.preventDefault()),[Re.enter,Re.space,Re.numpadEnter].includes(Xe)&&_.value===null&&E.value===null&&(Te.preventDefault(),F(b.value,!1))},Dt=Te=>{var Xe;const{up:Se,down:ct,left:Xt,right:Gn,home:Ne,end:nt,pageUp:wt,pageDown:Fr}=Re,da={year:{[Se]:-4,[ct]:4,[Xt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setFullYear(Ze.getFullYear()+yt)},month:{[Se]:-4,[ct]:4,[Xt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setMonth(Ze.getMonth()+yt)},week:{[Se]:-1,[ct]:1,[Xt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setDate(Ze.getDate()+yt*7)},date:{[Se]:-7,[ct]:7,[Xt]:-1,[Gn]:1,[Ne]:Ze=>-Ze.getDay(),[nt]:Ze=>-Ze.getDay()+6,[wt]:Ze=>-new Date(Ze.getFullYear(),Ze.getMonth(),0).getDate(),[Fr]:Ze=>new Date(Ze.getFullYear(),Ze.getMonth()+1,0).getDate(),offset:(Ze,yt)=>Ze.setDate(Ze.getDate()+yt)}},bs=b.value.toDate();for(;Math.abs(b.value.diff(bs,"year",!0))<1;){const Ze=da[U.value];if(!Ze)return;if(Ze.offset(bs,ft(Ze[Te])?Ze[Te](bs):(Xe=Ze[Te])!=null?Xe:0),p&&p(bs))break;const yt=Mt(bs).locale(c.value);b.value=yt,s("pick",yt,!0);break}},Gt=Te=>{s("panel-change",b.value.toDate(),Te,N.value)};return xe(()=>W.value,Te=>{if(["month","year"].includes(Te)){N.value=Te;return}else if(Te==="years"){N.value="year";return}else if(Te==="months"){N.value="month";return}N.value="date"},{immediate:!0}),xe(()=>v.value,Te=>{Te&&(b.value=at())},{immediate:!0}),xe(()=>r.parsedValue,Te=>{if(Te){if(j.value||Oe(Te))return;b.value=Te}else b.value=at()},{immediate:!0}),s("set-picker-option",["isValidValue",ye]),s("set-picker-option",["parseUserInput",Ge]),s("set-picker-option",["handleFocusPicker",lt]),(Te,Xe)=>(B(),K("div",{class:V([x(o).b(),x(i).b(),x(o).is("border",Te.border),x(o).is("disabled",x(ue)),{"has-sidebar":Te.$slots.sidebar||Y.value,"has-time":X.value}])},[Z("div",{class:V(x(o).e("body-wrapper"))},[ce(Te.$slots,"sidebar",{class:V(x(o).e("sidebar"))}),Y.value?(B(),K("div",{key:0,class:V(x(o).e("sidebar"))},[(B(!0),K(rt,null,Ht(x(h),(Se,ct)=>(B(),K("button",{key:ct,type:"button",disabled:x(ue),class:V(x(o).e("shortcut")),onClick:Xt=>z(Se)},De(Se.text),11,E1n))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(o).e("body"))},[X.value?(B(),K("div",{key:0,class:V(x(i).e("time-header"))},[Z("span",{class:V(x(i).e("editor-wrap"))},[ee(x(Xi),{placeholder:x(u)("el.datepicker.selectDate"),"model-value":He.value,size:"small","validate-event":!1,disabled:x(ue),readonly:!Te.editable,onInput:Xe[0]||(Xe[0]=Se=>_.value=Se),onChange:ht},null,8,["placeholder","model-value","disabled","readonly"])],2),Lt((B(),K("span",{class:V(x(i).e("editor-wrap"))},[ee(x(Xi),{placeholder:x(u)("el.datepicker.selectTime"),"model-value":$e.value,size:"small","validate-event":!1,disabled:x(ue),readonly:!Te.editable,onFocus:Ce,onInput:Xe[1]||(Xe[1]=Se=>E.value=Se),onChange:st},null,8,["placeholder","model-value","disabled","readonly"]),ee(x(lM),{visible:Ie.value,format:he.value,"parsed-value":b.value,onPick:Ue},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Fe]])],2)):fe("v-if",!0),Lt(Z("div",{class:V([x(i).e("header"),(N.value==="year"||N.value==="month")&&x(i).em("header","bordered")])},[Z("span",{class:V(x(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":x(u)("el.datepicker.prevYear"),class:V(["d-arrow-left",x(o).e("icon-btn")]),disabled:x(ue),onClick:Xe[2]||(Xe[2]=Se=>D(!1))},[ce(Te.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,_1n),Lt(Z("button",{type:"button","aria-label":x(u)("el.datepicker.prevMonth"),class:V([x(o).e("icon-btn"),"arrow-left"]),disabled:x(ue),onClick:Xe[3]||(Xe[3]=Se=>L(!1))},[ce(Te.$slots,"prev-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,T1n),[[$n,N.value==="date"]])],2),Z("span",{role:"button",class:V(x(i).e("header-label")),"aria-live":"polite",tabindex:Te.disabled?void 0:0,"aria-disabled":Te.disabled,onKeydown:Xe[4]||(Xe[4]=qr(Se=>ae("year"),["enter"])),onClick:Xe[5]||(Xe[5]=Se=>ae("year"))},De(M.value),43,A1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Te.disabled?void 0:0,"aria-disabled":Te.disabled,class:V([x(i).e("header-label"),{active:N.value==="month"}]),onKeydown:Xe[6]||(Xe[6]=qr(Se=>ae("month"),["enter"])),onClick:Xe[7]||(Xe[7]=Se=>ae("month"))},De(x(u)(`el.datepicker.month${$.value+1}`)),43,I1n),[[$n,N.value==="date"]]),Z("span",{class:V(x(i).e("next-btn"))},[Lt(Z("button",{type:"button","aria-label":x(u)("el.datepicker.nextMonth"),class:V([x(o).e("icon-btn"),"arrow-right"]),disabled:x(ue),onClick:Xe[8]||(Xe[8]=Se=>L(!0))},[ce(Te.$slots,"next-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,N1n),[[$n,N.value==="date"]]),Z("button",{type:"button","aria-label":x(u)("el.datepicker.nextYear"),class:V([x(o).e("icon-btn"),"d-arrow-right"]),disabled:x(ue),onClick:Xe[9]||(Xe[9]=Se=>D(!0))},[ce(Te.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,D1n)],2)],2),[[$n,N.value!=="time"]]),Z("div",{class:V(x(o).e("content")),onKeydown:Ft},[N.value==="date"?(B(),pe(bH,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:b.value,"parsed-value":Te.parsedValue,"disabled-date":x(p),disabled:x(ue),"cell-class-name":x(g),"show-week-number":Te.showWeekNumber,onPick:R},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):fe("v-if",!0),N.value==="year"?(B(),pe(g_,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:b.value,"disabled-date":x(p),disabled:x(ue),"parsed-value":Te.parsedValue,"cell-class-name":x(g),onPick:ne},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):fe("v-if",!0),N.value==="month"?(B(),pe(p_,{key:2,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:b.value,"parsed-value":Te.parsedValue,"disabled-date":x(p),disabled:x(ue),"cell-class-name":x(g),onPick:G},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):fe("v-if",!0)],34)],2)],2),Te.showFooter&&J.value&&q.value?(B(),K("div",{key:0,class:V(x(o).e("footer"))},[Lt(ee(x($o),{text:"",size:"small",class:V(x(o).e("link-btn")),disabled:se.value,onClick:de},{default:ie(()=>[Jt(De(x(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[$n,!j.value&&Te.showNow]]),Te.showConfirm?(B(),pe(x($o),{key:0,plain:"",size:"small",class:V(x(o).e("link-btn")),disabled:P.value,onClick:Q},{default:ie(()=>[Jt(De(x(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):fe("v-if",!0)],2)):fe("v-if",!0)],2))}});var R1n=Ve(O1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const F1n=Me({...QBe,...Vne}),M1n=e=>{const{emit:t}=Ut(),n=$p(),r=Ms();return o=>{const i=ft(o.value)?o.value():o.value;if(i){t("pick",[Mt(i[0]).locale(e.value),Mt(i[1]).locale(e.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},jne=(e,{defaultValue:t,defaultTime:n,leftDate:r,rightDate:s,step:o,unit:i,sortDates:a})=>{const{emit:l}=Ut(),{pickerNs:u}=tt(Bne),c=Ae("date-range-picker"),{t:f,lang:d}=un(),h=M1n(d),p=H(),g=H(),m=H({endDate:null,selecting:!1}),v=S=>{m.value=S},y=(S=!1)=>{const $=x(p),k=x(g);h_([$,k])&&l("pick",[$,k],S)},b=S=>{m.value.selecting=S,S||(m.value.endDate=null)},w=S=>{if(Oe(S)&&S.length===2){const[$,k]=S;p.value=$,r.value=$,g.value=k,a(x(p),x(g))}else C()},C=()=>{let[S,$]=_8(x(t),{lang:x(d),step:o,unit:i,unlinkPanels:e.unlinkPanels});const k=_=>_.diff(_.startOf("d"),"ms"),T=x(n);if(T){let _=0,E=0;if(Oe(T)){const[A,I]=T.map(Mt);_=k(A),E=k(I)}else{const A=k(Mt(T));_=A,E=A}S=S.startOf("d").add(_,"ms"),$=$.startOf("d").add(E,"ms")}p.value=void 0,g.value=void 0,r.value=S,s.value=$};return xe(t,S=>{S&&C()},{immediate:!0}),xe(()=>e.parsedValue,S=>{(!S?.length||!Gr(S,[p.value,g.value]))&&w(S)},{immediate:!0}),xe(()=>e.visible,()=>{e.visible&&w(e.parsedValue)},{immediate:!0}),{minDate:p,maxDate:g,rangeState:m,lang:d,ppNs:u,drpNs:c,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:h,onSelect:b,parseValue:w,t:f}},P1n=(e,t,n,r)=>{const s=H("date"),o=H(),i=H("date"),a=H(),l=tt(qc),{disabledDate:u}=l.props,{t:c,lang:f}=un(),d=O(()=>n.value.year()),h=O(()=>n.value.month()),p=O(()=>r.value.year()),g=O(()=>r.value.month());function m(S,$){const k=c("el.datepicker.year");if(S.value==="year"){const T=Math.floor($.value/10)*10;return k?`${T} ${k} - ${T+9} ${k}`:`${T} - ${T+9}`}return`${$.value} ${k}`}function v(S){S?.focus()}async function y(S,$){if(e.disabled)return;const k=S==="left"?s:i,T=S==="left"?o:a;k.value=$,await Ye(),v(T.value)}async function b(S,$,k){if(e.disabled)return;const T=$==="left",_=T?n:r,E=T?r:n,A=T?s:i,I=T?o:a;if(S==="year"){const F=_.value.year(k);_.value=cM(F,f.value,u)}S==="month"&&(_.value=Vx(_.value,_.value.year(),k,f.value,u)),e.unlinkPanels||(E.value=$==="left"?_.value.add(1,"month"):_.value.subtract(1,"month")),A.value=S==="year"?"month":"date",await Ye(),v(I.value),w(S)}function w(S){t("panel-change",[n.value.toDate(),r.value.toDate()],S)}function C(S,$,k){const T=k?"add":"subtract";return S==="year"?$[T](10,"year"):$[T](1,"year")}return{leftCurrentView:s,rightCurrentView:i,leftCurrentViewRef:o,rightCurrentViewRef:a,leftYear:d,rightYear:p,leftMonth:h,rightMonth:g,leftYearLabel:O(()=>m(s,d)),rightYearLabel:O(()=>m(i,p)),showLeftPicker:S=>y("left",S),showRightPicker:S=>y("right",S),handleLeftYearPick:S=>b("year","left",S),handleRightYearPick:S=>b("year","right",S),handleLeftMonthPick:S=>b("month","left",S),handleRightMonthPick:S=>b("month","right",S),handlePanelChange:w,adjustDateByView:C}},L1n=["disabled","onClick"],B1n=["aria-label","disabled"],z1n=["aria-label","disabled"],V1n=["disabled","aria-label"],W1n=["disabled","aria-label"],U1n=["tabindex","aria-disabled"],j1n=["tabindex","aria-disabled"],H1n=["disabled","aria-label"],q1n=["disabled","aria-label"],G1n=["aria-label","disabled"],K1n=["disabled","aria-label"],Y1n=["tabindex","aria-disabled"],X1n=["tabindex","aria-disabled"],LD="month",Z1n=me({__name:"panel-date-range",props:F1n,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=t,s=tt(qc),o=tt(II,void 0),{disabledDate:i,cellClassName:a,defaultTime:l,clearable:u}=s.props,c=Bn(s.props,"format"),f=Bn(s.props,"shortcuts"),d=Bn(s.props,"defaultValue"),{lang:h}=un(),p=H(Mt().locale(h.value)),g=H(Mt().locale(h.value).add(1,LD)),{minDate:m,maxDate:v,rangeState:y,ppNs:b,drpNs:w,handleChangeRange:C,handleRangeConfirm:S,handleShortcutClick:$,onSelect:k,parseValue:T,t:_}=jne(n,{defaultValue:d,defaultTime:l,leftDate:p,rightDate:g,unit:LD,sortDates:bs});xe(()=>n.visible,Ze=>{!Ze&&y.value.selecting&&(T(n.parsedValue),k(!1))});const E=H({min:null,max:null}),A=H({min:null,max:null}),{leftCurrentView:I,rightCurrentView:F,leftCurrentViewRef:R,rightCurrentViewRef:L,leftYear:D,rightYear:N,leftMonth:M,rightMonth:z,leftYearLabel:W,rightYearLabel:j,showLeftPicker:U,showRightPicker:Y,handleLeftYearPick:G,handleRightYearPick:ne,handleLeftMonthPick:ue,handleRightMonthPick:ae,handlePanelChange:X,adjustDateByView:J}=P1n(n,r,p,g),q=O(()=>!!f.value.length),P=O(()=>E.value.min!==null?E.value.min:m.value?m.value.format(ge.value):""),Q=O(()=>E.value.max!==null?E.value.max:v.value||m.value?(v.value||m.value).format(ge.value):""),se=O(()=>A.value.min!==null?A.value.min:m.value?m.value.format(he.value):""),de=O(()=>A.value.max!==null?A.value.max:v.value||m.value?(v.value||m.value).format(he.value):""),he=O(()=>n.timeFormat||lBe(c.value||"")||zx),ge=O(()=>n.dateFormat||aBe(c.value||"")||_g),$e=Ze=>h_(Ze)&&(i?!i(Ze[0].toDate())&&!i(Ze[1].toDate()):!0),He=()=>{p.value=J(I.value,p.value,!1),n.unlinkPanels||(g.value=p.value.add(1,"month")),X("year")},Ie=()=>{p.value=p.value.subtract(1,"month"),n.unlinkPanels||(g.value=p.value.add(1,"month")),X("month")},Ce=()=>{n.unlinkPanels?g.value=J(F.value,g.value,!0):(p.value=J(F.value,p.value,!0),g.value=p.value.add(1,"month")),X("year")},Fe=()=>{n.unlinkPanels?g.value=g.value.add(1,"month"):(p.value=p.value.add(1,"month"),g.value=p.value.add(1,"month")),X("month")},ze=()=>{p.value=J(I.value,p.value,!0),X("year")},Ue=()=>{p.value=p.value.add(1,"month"),X("month")},st=()=>{g.value=J(F.value,g.value,!1),X("year")},ht=()=>{g.value=g.value.subtract(1,"month"),X("month")},ye=O(()=>{const Ze=(M.value+1)%12,yt=M.value+1>=12?1:0;return n.unlinkPanels&&new Date(D.value+yt,Ze)<new Date(N.value,z.value)}),Ge=O(()=>n.unlinkPanels&&N.value*12+z.value-(D.value*12+M.value+1)>=12),at=jr(),cn=O(()=>!(m.value&&v.value&&!y.value.selecting&&h_([m.value,v.value])&&!at.value)),lt=O(()=>n.type==="datetime"||n.type==="datetimerange"),Ft=(Ze,yt)=>{if(Ze)return l?Mt(l[yt]||l).locale(h.value).year(Ze.year()).month(Ze.month()).date(Ze.date()):Ze},Dt=(Ze,yt=!0)=>{const Kt=Ze.minDate,ai=Ze.maxDate,uu=Ft(Kt,0),Rl=Ft(ai,1);v.value===Rl&&m.value===uu||(r("calendar-change",[Kt.toDate(),ai&&ai.toDate()]),v.value=Rl,m.value=uu,!lt.value&&yt&&(yt=!uu||!Rl),S(yt))},Gt=H(!1),Te=H(!1),Xe=()=>{Gt.value=!1},Se=()=>{Te.value=!1},ct=(Ze,yt)=>{E.value[yt]=Ze;const Kt=Mt(Ze,ge.value).locale(h.value);if(Kt.isValid()){if(i&&i(Kt.toDate()))return;yt==="min"?(p.value=Kt,m.value=(m.value||p.value).year(Kt.year()).month(Kt.month()).date(Kt.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(m.value))&&(g.value=Kt.add(1,"month"),v.value=m.value.add(1,"month"))):(g.value=Kt,v.value=(v.value||g.value).year(Kt.year()).month(Kt.month()).date(Kt.date()),!n.unlinkPanels&&(!m.value||m.value.isAfter(v.value))&&(p.value=Kt.subtract(1,"month"),m.value=v.value.subtract(1,"month"))),bs(m.value,v.value),S(!0)}},Xt=(Ze,yt)=>{E.value[yt]=null},Gn=(Ze,yt)=>{A.value[yt]=Ze;const Kt=Mt(Ze,he.value).locale(h.value);Kt.isValid()&&(yt==="min"?(Gt.value=!0,m.value=(m.value||p.value).hour(Kt.hour()).minute(Kt.minute()).second(Kt.second()),p.value=m.value):(Te.value=!0,v.value=(v.value||g.value).hour(Kt.hour()).minute(Kt.minute()).second(Kt.second()),g.value=v.value))},Ne=(Ze,yt)=>{A.value[yt]=null,yt==="min"?(p.value=m.value,Gt.value=!1,(!v.value||v.value.isBefore(m.value))&&(v.value=m.value)):(g.value=v.value,Te.value=!1,v.value&&v.value.isBefore(m.value)&&(m.value=v.value)),S(!0)},nt=(Ze,yt,Kt)=>{A.value.min||(Ze&&(m.value=(m.value||p.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second())),Kt||(Gt.value=yt),(!v.value||v.value.isBefore(m.value))&&(v.value=m.value,g.value=Ze,Ye(()=>{T(n.parsedValue)})),S(!0))},wt=(Ze,yt,Kt)=>{A.value.max||(Ze&&(v.value=(v.value||g.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second())),Kt||(Te.value=yt),v.value&&v.value.isBefore(m.value)&&(m.value=v.value),S(!0))},Fr=()=>{let Ze=null;s?.emptyValues&&(Ze=s.emptyValues.valueOnClear.value),p.value=_8(x(d),{lang:x(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],g.value=p.value.add(1,"month"),v.value=void 0,m.value=void 0,S(!0),r("pick",Ze)},da=Ze=>Wx(Ze,c.value||"",h.value,o);function bs(Ze,yt){if(n.unlinkPanels&&yt){const Kt=Ze?.year()||0,ai=Ze?.month()||0,uu=yt.year(),Rl=yt.month();g.value=Kt===uu&&ai===Rl?yt.add(1,LD):yt}else g.value=p.value.add(1,LD),yt&&(g.value=g.value.hour(yt.hour()).minute(yt.minute()).second(yt.second()))}return r("set-picker-option",["isValidValue",$e]),r("set-picker-option",["parseUserInput",da]),r("set-picker-option",["handleClear",Fr]),(Ze,yt)=>(B(),K("div",{class:V([x(b).b(),x(w).b(),x(b).is("border",Ze.border),x(b).is("disabled",x(at)),{"has-sidebar":Ze.$slots.sidebar||q.value,"has-time":lt.value}])},[Z("div",{class:V(x(b).e("body-wrapper"))},[ce(Ze.$slots,"sidebar",{class:V(x(b).e("sidebar"))}),q.value?(B(),K("div",{key:0,class:V(x(b).e("sidebar"))},[(B(!0),K(rt,null,Ht(f.value,(Kt,ai)=>(B(),K("button",{key:ai,type:"button",disabled:x(at),class:V(x(b).e("shortcut")),onClick:uu=>x($)(Kt)},De(Kt.text),11,L1n))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(b).e("body"))},[lt.value?(B(),K("div",{key:0,class:V(x(w).e("time-header"))},[Z("span",{class:V(x(w).e("editors-wrap"))},[Z("span",{class:V(x(w).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.startDate"),class:V(x(w).e("editor")),"model-value":P.value,"validate-event":!1,readonly:!Ze.editable,onInput:yt[0]||(yt[0]=Kt=>ct(Kt,"min")),onChange:yt[1]||(yt[1]=Kt=>Xt(Kt,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),Lt((B(),K("span",{class:V(x(w).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(w).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.startTime"),"model-value":se.value,"validate-event":!1,readonly:!Ze.editable,onFocus:yt[2]||(yt[2]=Kt=>Gt.value=!0),onInput:yt[3]||(yt[3]=Kt=>Gn(Kt,"min")),onChange:yt[4]||(yt[4]=Kt=>Ne(Kt,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ee(x(lM),{visible:Gt.value,format:he.value,"datetime-role":"start","parsed-value":x(m)||p.value,onPick:nt},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Xe]])],2),Z("span",null,[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})]),Z("span",{class:V([x(w).e("editors-wrap"),"is-right"])},[Z("span",{class:V(x(w).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(w).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.endDate"),"model-value":Q.value,readonly:!x(m)||!Ze.editable,"validate-event":!1,onInput:yt[5]||(yt[5]=Kt=>ct(Kt,"max")),onChange:yt[6]||(yt[6]=Kt=>Xt(Kt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Lt((B(),K("span",{class:V(x(w).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(w).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.endTime"),"model-value":de.value,readonly:!x(m)||!Ze.editable,"validate-event":!1,onFocus:yt[7]||(yt[7]=Kt=>x(m)&&(Te.value=!0)),onInput:yt[8]||(yt[8]=Kt=>Gn(Kt,"max")),onChange:yt[9]||(yt[9]=Kt=>Ne(Kt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ee(x(lM),{"datetime-role":"end",visible:Te.value,format:he.value,"parsed-value":x(v)||g.value,onPick:wt},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Se]])],2)],2)):fe("v-if",!0),Z("div",{class:V([[x(b).e("content"),x(w).e("content")],"is-left"])},[Z("div",{class:V(x(w).e("header"))},[Z("button",{type:"button",class:V([x(b).e("icon-btn"),"d-arrow-left"]),"aria-label":x(_)("el.datepicker.prevYear"),disabled:x(at),onClick:He},[ce(Ze.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,B1n),Lt(Z("button",{type:"button",class:V([x(b).e("icon-btn"),"arrow-left"]),"aria-label":x(_)("el.datepicker.prevMonth"),disabled:x(at),onClick:Ie},[ce(Ze.$slots,"prev-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,z1n),[[$n,x(I)==="date"]]),Ze.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!Ge.value||x(at),class:V([[x(b).e("icon-btn"),x(b).is("disabled",!Ge.value||x(at))],"d-arrow-right"]),"aria-label":x(_)("el.datepicker.nextYear"),onClick:ze},[ce(Ze.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,V1n)):fe("v-if",!0),Ze.unlinkPanels&&x(I)==="date"?(B(),K("button",{key:1,type:"button",disabled:!ye.value||x(at),class:V([[x(b).e("icon-btn"),x(b).is("disabled",!ye.value||x(at))],"arrow-right"]),"aria-label":x(_)("el.datepicker.nextMonth"),onClick:Ue},[ce(Ze.$slots,"next-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,W1n)):fe("v-if",!0),Z("div",null,[Z("span",{role:"button",class:V(x(w).e("header-label")),"aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,onKeydown:yt[10]||(yt[10]=qr(Kt=>x(U)("year"),["enter"])),onClick:yt[11]||(yt[11]=Kt=>x(U)("year"))},De(x(W)),43,U1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,class:V([x(w).e("header-label"),{active:x(I)==="month"}]),onKeydown:yt[12]||(yt[12]=qr(Kt=>x(U)("month"),["enter"])),onClick:yt[13]||(yt[13]=Kt=>x(U)("month"))},De(x(_)(`el.datepicker.month${p.value.month()+1}`)),43,j1n),[[$n,x(I)==="date"]])])],2),x(I)==="date"?(B(),pe(bH,{key:0,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"range",date:p.value,"min-date":x(m),"max-date":x(v),"range-state":x(y),"disabled-date":x(i),"cell-class-name":x(a),"show-week-number":Ze.showWeekNumber,disabled:x(at),onChangerange:x(C),onPick:Dt,onSelect:x(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):fe("v-if",!0),x(I)==="year"?(B(),pe(g_,{key:1,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"year",date:p.value,"disabled-date":x(i),"parsed-value":Ze.parsedValue,disabled:x(at),onPick:x(G)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):fe("v-if",!0),x(I)==="month"?(B(),pe(p_,{key:2,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"month",date:p.value,"parsed-value":Ze.parsedValue,"disabled-date":x(i),disabled:x(at),onPick:x(ue)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):fe("v-if",!0)],2),Z("div",{class:V([[x(b).e("content"),x(w).e("content")],"is-right"])},[Z("div",{class:V(x(w).e("header"))},[Ze.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!Ge.value||x(at),class:V([x(b).e("icon-btn"),"d-arrow-left"]),"aria-label":x(_)("el.datepicker.prevYear"),onClick:st},[ce(Ze.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,H1n)):fe("v-if",!0),Ze.unlinkPanels&&x(F)==="date"?(B(),K("button",{key:1,type:"button",disabled:!ye.value||x(at),class:V([x(b).e("icon-btn"),"arrow-left"]),"aria-label":x(_)("el.datepicker.prevMonth"),onClick:ht},[ce(Ze.$slots,"prev-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,q1n)):fe("v-if",!0),Z("button",{type:"button","aria-label":x(_)("el.datepicker.nextYear"),class:V([x(b).e("icon-btn"),"d-arrow-right"]),disabled:x(at),onClick:Ce},[ce(Ze.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,G1n),Lt(Z("button",{type:"button",class:V([x(b).e("icon-btn"),"arrow-right"]),disabled:x(at),"aria-label":x(_)("el.datepicker.nextMonth"),onClick:Fe},[ce(Ze.$slots,"next-month",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,K1n),[[$n,x(F)==="date"]]),Z("div",null,[Z("span",{role:"button",class:V(x(w).e("header-label")),"aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,onKeydown:yt[14]||(yt[14]=qr(Kt=>x(Y)("year"),["enter"])),onClick:yt[15]||(yt[15]=Kt=>x(Y)("year"))},De(x(j)),43,Y1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,class:V([x(w).e("header-label"),{active:x(F)==="month"}]),onKeydown:yt[16]||(yt[16]=qr(Kt=>x(Y)("month"),["enter"])),onClick:yt[17]||(yt[17]=Kt=>x(Y)("month"))},De(x(_)(`el.datepicker.month${g.value.month()+1}`)),43,X1n),[[$n,x(F)==="date"]])])],2),x(F)==="date"?(B(),pe(bH,{key:0,ref_key:"rightCurrentViewRef",ref:L,"selection-mode":"range",date:g.value,"min-date":x(m),"max-date":x(v),"range-state":x(y),"disabled-date":x(i),"cell-class-name":x(a),"show-week-number":Ze.showWeekNumber,disabled:x(at),onChangerange:x(C),onPick:Dt,onSelect:x(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):fe("v-if",!0),x(F)==="year"?(B(),pe(g_,{key:1,ref_key:"rightCurrentViewRef",ref:L,"selection-mode":"year",date:g.value,"disabled-date":x(i),"parsed-value":Ze.parsedValue,disabled:x(at),onPick:x(ne)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):fe("v-if",!0),x(F)==="month"?(B(),pe(p_,{key:2,ref_key:"rightCurrentViewRef",ref:L,"selection-mode":"month",date:g.value,"parsed-value":Ze.parsedValue,"disabled-date":x(i),disabled:x(at),onPick:x(ae)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):fe("v-if",!0)],2)],2)],2),Ze.showFooter&&lt.value&&(Ze.showConfirm||x(u))?(B(),K("div",{key:0,class:V(x(b).e("footer"))},[x(u)?(B(),pe(x($o),{key:0,text:"",size:"small",class:V(x(b).e("link-btn")),onClick:Fr},{default:ie(()=>[Jt(De(x(_)("el.datepicker.clear")),1)]),_:1},8,["class"])):fe("v-if",!0),Ze.showConfirm?(B(),pe(x($o),{key:1,plain:"",size:"small",class:V(x(b).e("link-btn")),disabled:cn.value,onClick:yt[18]||(yt[18]=Kt=>x(S)(!1))},{default:ie(()=>[Jt(De(x(_)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):fe("v-if",!0)],2)):fe("v-if",!0)],2))}});var J1n=Ve(Z1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const Q1n=Me({...Vne}),eyn=["pick","set-picker-option","calendar-change"],tyn=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=un(),s=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},o=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},i=()=>{t.value=t.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},l=O(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=O(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=O(()=>t.value.year()),f=O(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:o,leftNextYear:i,rightPrevYear:a,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},nyn=["disabled","onClick"],ryn=["disabled"],syn=["disabled"],oyn=["disabled"],iyn=["disabled"],BD="year",ayn=me({name:"DatePickerMonthRange",__name:"panel-month-range",props:Q1n,emits:eyn,setup(e,{emit:t}){const n=e,r=t,{lang:s}=un(),o=tt(qc),i=tt(II,void 0),{shortcuts:a,disabledDate:l,cellClassName:u}=o.props,c=Bn(o.props,"format"),f=Bn(o.props,"defaultValue"),d=H(Mt().locale(s.value)),h=H(Mt().locale(s.value).add(1,BD)),{minDate:p,maxDate:g,rangeState:m,ppNs:v,drpNs:y,handleChangeRange:b,handleRangeConfirm:w,handleShortcutClick:C,onSelect:S,parseValue:$}=jne(n,{defaultValue:f,leftDate:d,rightDate:h,unit:BD,sortDates:W}),k=O(()=>!!a.length),{leftPrevYear:T,rightNextYear:_,leftNextYear:E,rightPrevYear:A,leftLabel:I,rightLabel:F,leftYear:R,rightYear:L}=tyn({unlinkPanels:Bn(n,"unlinkPanels"),leftDate:d,rightDate:h}),D=O(()=>n.unlinkPanels&&L.value>R.value+1),N=(U,Y=!0)=>{const G=U.minDate,ne=U.maxDate;g.value===ne&&p.value===G||(r("calendar-change",[G.toDate(),ne&&ne.toDate()]),g.value=ne,p.value=G,Y&&w())},M=()=>{let U=null;o?.emptyValues&&(U=o.emptyValues.valueOnClear.value),d.value=_8(x(f),{lang:x(s),unit:"year",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"year"),r("pick",U)},z=U=>Wx(U,c.value,s.value,i);function W(U,Y){if(n.unlinkPanels&&Y){const G=U?.year()||0,ne=Y.year();h.value=G===ne?Y.add(1,BD):Y}else h.value=d.value.add(1,BD)}const j=jr();return xe(()=>n.visible,U=>{!U&&m.value.selecting&&($(n.parsedValue),S(!1))}),r("set-picker-option",["isValidValue",h_]),r("set-picker-option",["parseUserInput",z]),r("set-picker-option",["handleClear",M]),(U,Y)=>(B(),K("div",{class:V([x(v).b(),x(y).b(),x(v).is("border",U.border),x(v).is("disabled",x(j)),{"has-sidebar":!!U.$slots.sidebar||k.value}])},[Z("div",{class:V(x(v).e("body-wrapper"))},[ce(U.$slots,"sidebar",{class:V(x(v).e("sidebar"))}),k.value?(B(),K("div",{key:0,class:V(x(v).e("sidebar"))},[(B(!0),K(rt,null,Ht(x(a),(G,ne)=>(B(),K("button",{key:ne,type:"button",class:V(x(v).e("shortcut")),disabled:x(j),onClick:ue=>x(C)(G)},De(G.text),11,nyn))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(v).e("body"))},[Z("div",{class:V([[x(v).e("content"),x(y).e("content")],"is-left"])},[Z("div",{class:V(x(y).e("header"))},[Z("button",{type:"button",class:V([x(v).e("icon-btn"),"d-arrow-left"]),disabled:x(j),onClick:Y[0]||(Y[0]=(...G)=>x(T)&&x(T)(...G))},[ce(U.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,ryn),U.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!D.value||x(j),class:V([[x(v).e("icon-btn"),x(v).is("disabled",!D.value||x(j))],"d-arrow-right"]),onClick:Y[1]||(Y[1]=(...G)=>x(E)&&x(E)(...G))},[ce(U.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,syn)):fe("v-if",!0),Z("div",null,De(x(I)),1)],2),ee(p_,{"selection-mode":"range",date:d.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(l),disabled:x(j),"cell-class-name":x(u),onChangerange:x(b),onPick:N,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:V([[x(v).e("content"),x(y).e("content")],"is-right"])},[Z("div",{class:V(x(y).e("header"))},[U.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!D.value||x(j),class:V([[x(v).e("icon-btn"),x(v).is("disabled",!D.value||x(j))],"d-arrow-left"]),onClick:Y[2]||(Y[2]=(...G)=>x(A)&&x(A)(...G))},[ce(U.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,oyn)):fe("v-if",!0),Z("button",{type:"button",class:V([x(v).e("icon-btn"),"d-arrow-right"]),disabled:x(j),onClick:Y[3]||(Y[3]=(...G)=>x(_)&&x(_)(...G))},[ce(U.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,iyn),Z("div",null,De(x(F)),1)],2),ee(p_,{"selection-mode":"range",date:h.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(l),disabled:x(j),"cell-class-name":x(u),onChangerange:x(b),onPick:N,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var lyn=Ve(ayn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const uyn=Me({...Vne}),cyn=["pick","set-picker-option","calendar-change"],fyn=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},s=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{t.value=t.value.add(10,"year")},i=()=>{n.value=n.value.subtract(10,"year")},a=O(()=>{const f=Math.floor(t.value.year()/10)*10;return`${f}-${f+9}`}),l=O(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=O(()=>Math.floor(t.value.year()/10)*10+9),c=O(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:s,leftNextYear:o,rightPrevYear:i,leftLabel:a,rightLabel:l,leftYear:u,rightYear:c}},dyn=["disabled","onClick"],hyn=["disabled"],pyn=["disabled"],gyn=["disabled"],myn=["disabled"],Nb=10,YS="year",vyn=me({name:"DatePickerYearRange",__name:"panel-year-range",props:uyn,emits:cyn,setup(e,{emit:t}){const n=e,r=t,{lang:s}=un(),o=H(Mt().locale(s.value)),i=H(Mt().locale(s.value).add(Nb,YS)),a=tt(II,void 0),l=tt(qc),{shortcuts:u,disabledDate:c,cellClassName:f}=l.props,d=Bn(l.props,"format"),h=Bn(l.props,"defaultValue"),{minDate:p,maxDate:g,rangeState:m,ppNs:v,drpNs:y,handleChangeRange:b,handleRangeConfirm:w,handleShortcutClick:C,onSelect:S,parseValue:$}=jne(n,{defaultValue:h,leftDate:o,rightDate:i,step:Nb,unit:YS,sortDates:ne}),{leftPrevYear:k,rightNextYear:T,leftNextYear:_,rightPrevYear:E,leftLabel:A,rightLabel:I,leftYear:F,rightYear:R}=fyn({unlinkPanels:Bn(n,"unlinkPanels"),leftDate:o,rightDate:i}),L=jr(),D=O(()=>!!u.length),N=O(()=>[v.b(),y.b(),v.is("border",n.border),v.is("disabled",L.value),{"has-sidebar":!!Ms().sidebar||D.value}]),M=O(()=>({content:[v.e("content"),y.e("content"),"is-left"],arrowLeftBtn:[v.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),v.is("disabled",!W.value||L.value),"d-arrow-right"]})),z=O(()=>({content:[v.e("content"),y.e("content"),"is-right"],arrowLeftBtn:[v.e("icon-btn"),v.is("disabled",!W.value||L.value),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),"d-arrow-right"]})),W=O(()=>n.unlinkPanels&&R.value>F.value+1),j=(ue,ae=!0)=>{const X=ue.minDate,J=ue.maxDate;g.value===J&&p.value===X||(r("calendar-change",[X.toDate(),J&&J.toDate()]),g.value=J,p.value=X,ae&&w())},U=ue=>Wx(ue,d.value,s.value,a),Y=ue=>h_(ue)&&(c?!c(ue[0].toDate())&&!c(ue[1].toDate()):!0),G=()=>{let ue=null;l?.emptyValues&&(ue=l.emptyValues.valueOnClear.value);const ae=_8(x(h),{lang:x(s),step:Nb,unit:YS,unlinkPanels:n.unlinkPanels});o.value=ae[0],i.value=ae[1],r("pick",ue)};function ne(ue,ae){if(n.unlinkPanels&&ae){const X=ue?.year()||0,J=ae.year();i.value=X+Nb>J?ae.add(Nb,YS):ae}else i.value=o.value.add(Nb,YS)}return xe(()=>n.visible,ue=>{!ue&&m.value.selecting&&($(n.parsedValue),S(!1))}),r("set-picker-option",["isValidValue",Y]),r("set-picker-option",["parseUserInput",U]),r("set-picker-option",["handleClear",G]),(ue,ae)=>(B(),K("div",{class:V(N.value)},[Z("div",{class:V(x(v).e("body-wrapper"))},[ce(ue.$slots,"sidebar",{class:V(x(v).e("sidebar"))}),D.value?(B(),K("div",{key:0,class:V(x(v).e("sidebar"))},[(B(!0),K(rt,null,Ht(x(u),(X,J)=>(B(),K("button",{key:J,type:"button",class:V(x(v).e("shortcut")),disabled:x(L),onClick:q=>x(C)(X)},De(X.text),11,dyn))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(v).e("body"))},[Z("div",{class:V(M.value.content)},[Z("div",{class:V(x(y).e("header"))},[Z("button",{type:"button",class:V(M.value.arrowLeftBtn),disabled:x(L),onClick:ae[0]||(ae[0]=(...X)=>x(k)&&x(k)(...X))},[ce(ue.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,hyn),ue.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!W.value||x(L),class:V(M.value.arrowRightBtn),onClick:ae[1]||(ae[1]=(...X)=>x(_)&&x(_)(...X))},[ce(ue.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,pyn)):fe("v-if",!0),Z("div",null,De(x(A)),1)],2),ee(g_,{"selection-mode":"range",date:o.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(c),disabled:x(L),"cell-class-name":x(f),onChangerange:x(b),onPick:j,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:V(z.value.content)},[Z("div",{class:V(x(y).e("header"))},[ue.unlinkPanels?(B(),K("button",{key:0,type:"button",disabled:!W.value||x(L),class:V(z.value.arrowLeftBtn),onClick:ae[2]||(ae[2]=(...X)=>x(E)&&x(E)(...X))},[ce(ue.$slots,"prev-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,gyn)):fe("v-if",!0),Z("button",{type:"button",class:V(z.value.arrowRightBtn),disabled:x(L),onClick:ae[3]||(ae[3]=(...X)=>x(T)&&x(T)(...X))},[ce(ue.$slots,"next-year",{},()=>[ee(x(ot),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,myn),Z("div",null,De(x(I)),1)],2),ee(g_,{"selection-mode":"range",date:i.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(c),disabled:x(L),"cell-class-name":x(f),onChangerange:x(b),onPick:j,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var yyn=Ve(vyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const byn=function(e){switch(e){case"daterange":case"datetimerange":return J1n;case"monthrange":return lyn;case"yearrange":return yyn;default:return R1n}};function wyn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}Mt.extend(cBe);Mt.extend(Lvn);Mt.extend(Fne);Mt.extend(Wvn);Mt.extend(qvn);Mt.extend(Xvn);Mt.extend(e1n);Mt.extend(s1n);var xyn=me({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:o1n,emits:[Et,"calendar-change","panel-change","visible-change"],setup(e,{slots:t,emit:n,attrs:r}){const s=Ae("picker-panel"),o=tt(qc,void 0);if(yn(o)){const f=In({...ao(e)});ln(qc,{props:f})}ln(Bne,{slots:t,pickerNs:s});const{parsedValue:i,onCalendarChange:a,onPanelChange:l,onSetPickerOption:u,onPick:c}=tt(HBe,()=>qBe(e,n),!0);return()=>{const f=byn(e.type);return ee(f,Wt(vI(r,"onPick"),e,{parsedValue:i.value,"onSet-picker-option":u,"onCalendar-change":a,"onPanel-change":l,onPick:c}),wyn(t)?t:{default:()=>[t]})}}});const e6e=Rt(xyn),Cyn=Me({...Lne,type:{type:oe(String),default:"date"}});function Syn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}var $yn=me({name:"ElDatePicker",install:null,props:Cyn,emits:[Et],setup(e,{expose:t,emit:n,slots:r}){const s=O(()=>!e.format);ln(II,s),ln(Mne,In(Bn(e,"popperOptions")));const o=H();t({focus:()=>{var l;(l=o.value)==null||l.focus()},blur:()=>{var l;(l=o.value)==null||l.blur()},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const a=l=>{n(Et,l)};return()=>{var l;const u=(l=e.format)!=null?l:pvn[e.type]||_g;return ee(KBe,Wt(e,{format:u,type:e.type,ref:o,"onUpdate:modelValue":a}),{default:c=>ee(e6e,Wt({disabled:e.disabled,editable:e.editable,border:!1},c),Syn(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const kyn=Rt($yn),Hne=Symbol("elDescriptions");var XS=me({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:tt(Hne,{})}},render(){var e,t,n,r;const s=Fgn(this.cell),o=(((e=this.cell)==null?void 0:e.dirs)||[]).map(w=>{const{dir:C,arg:S,modifiers:$,value:k}=w;return[C,k,S,$]}),{border:i,direction:a}=this.descriptions,l=a==="vertical",u=()=>{var w,C,S;return((S=(C=(w=this.cell)==null?void 0:w.children)==null?void 0:C.label)==null?void 0:S.call(C))||s.label},c=()=>{var w,C,S;return(S=(C=(w=this.cell)==null?void 0:w.children)==null?void 0:C.default)==null?void 0:S.call(C)},f=s.span,d=s.rowspan,h=s.align?`is-${s.align}`:"",p=s.labelAlign?`is-${s.labelAlign}`:h,g=s.className,m=s.labelClassName,v=this.type==="label"&&(n=(t=s.labelWidth)!=null?t:this.descriptions.labelWidth)!=null?n:s.width,y={width:Vr(v),minWidth:Vr(s.minWidth)},b=Ae("descriptions");switch(this.type){case"label":return Lt(bt(this.tag,{style:y,class:[b.e("cell"),b.e("label"),b.is("bordered-label",i),b.is("vertical-label",l),p,m],colSpan:l?f:1,rowspan:l?1:d},u()),o);case"content":return Lt(bt(this.tag,{style:y,class:[b.e("cell"),b.e("content"),b.is("bordered-content",i),b.is("vertical-content",l),h,g],colSpan:l?f:f*2-1,rowspan:l?d*2-1:d},c()),o);default:{const w=u(),C={},S=Vr((r=s.labelWidth)!=null?r:this.descriptions.labelWidth);return S&&(C.width=S,C.display="inline-block"),Lt(bt("td",{style:y,class:[b.e("cell"),h],colSpan:f,rowspan:d},[vs(w)?void 0:bt("span",{style:C,class:[b.e("label"),m]},w),bt("span",{class:[b.e("content"),g]},c())]),o)}}}});const Eyn=Me({row:{type:oe(Array),default:()=>[]}}),_yn={key:1},Tyn=me({name:"ElDescriptionsRow",__name:"descriptions-row",props:Eyn,setup(e){const t=tt(Hne,{});return(n,r)=>x(t).direction==="vertical"?(B(),K(rt,{key:0},[Z("tr",null,[(B(!0),K(rt,null,Ht(n.row,(s,o)=>(B(),pe(x(XS),{key:`tr1-${o}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(B(!0),K(rt,null,Ht(n.row,(s,o)=>(B(),pe(x(XS),{key:`tr2-${o}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(B(),K("tr",_yn,[(B(!0),K(rt,null,Ht(n.row,(s,o)=>(B(),K(rt,{key:`tr3-${o}`},[x(t).border?(B(),K(rt,{key:0},[ee(x(XS),{cell:s,tag:"td",type:"label"},null,8,["cell"]),ee(x(XS),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(B(),pe(x(XS),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Ayn=Ve(Tyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Iyn=Me({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:js,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number]}}),t6e="ElDescriptionsItem",Nyn=me({name:"ElDescriptions",__name:"description",props:Iyn,setup(e){const t=e,n=Ae("descriptions"),r=Fs(),s=Ms();ln(Hne,t);const o=O(()=>[n.b(),n.m(r.value)]),i=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),a=()=>{if(!s.default)return[];const l=Sc(s.default()).filter(p=>{var g;return((g=p?.type)==null?void 0:g.name)===t6e}),u=[];let c=[],f=t.column,d=0;const h=[];return l.forEach((p,g)=>{var m,v,y;const b=((m=p.props)==null?void 0:m.span)||1,w=((v=p.props)==null?void 0:v.rowspan)||1,C=u.length;if(h[C]||(h[C]=0),w>1)for(let S=1;S<w;S++)h[y=C+S]||(h[y]=0),h[C+S]++,d++;if(h[C]>0&&(f-=h[C],h[C]=0),g<l.length-1&&(d+=b>f?f:b),g===l.length-1){const S=t.column-d%t.column;c.push(i(p,S,f,!0)),u.push(c);return}b<f?(f-=b,c.push(p)):(c.push(i(p,b,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(B(),K("div",{class:V(o.value)},[l.title||l.extra||l.$slots.title||l.$slots.extra?(B(),K("div",{key:0,class:V(x(n).e("header"))},[Z("div",{class:V(x(n).e("title"))},[ce(l.$slots,"title",{},()=>[Jt(De(l.title),1)])],2),Z("div",{class:V(x(n).e("extra"))},[ce(l.$slots,"extra",{},()=>[Jt(De(l.extra),1)])],2)],2)):fe("v-if",!0),Z("div",{class:V(x(n).e("body"))},[Z("table",{class:V([x(n).e("table"),x(n).is("bordered",l.border)])},[Z("tbody",null,[(B(!0),K(rt,null,Ht(a(),(c,f)=>(B(),pe(Ayn,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var Dyn=Ve(Nyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]);const Kme=["left","center","right"],Oyn=Me({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number]},align:{type:String,values:Kme,default:"left"},labelAlign:{type:String,values:Kme},className:{type:String,default:""},labelClassName:{type:String,default:""}}),n6e=me({name:t6e,props:Oyn}),Ryn=Rt(Dyn,{DescriptionsItem:n6e}),Fyn=Ur(n6e),qne=e=>{if(!e)return{onClick:Rn,onMousedown:Rn,onMouseup:Rn};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},Myn=Me({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:oe([String,Array,Object])},zIndex:{type:oe([String,Number])}}),Pyn={click:e=>e instanceof MouseEvent},Lyn="overlay";var Byn=me({name:"ElOverlay",props:Myn,emits:Pyn,setup(e,{slots:t,emit:n}){const r=Ae(Lyn),s=l=>{n("click",l)},{onClick:o,onMousedown:i,onMouseup:a}=qne(e.customMaskEvent?void 0:s);return()=>e.mask?ee("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:a},[ce(t,"default")],yu.STYLE|yu.CLASS|yu.PROPS,["onClick","onMouseup","onMousedown"]):bt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ce(t,"default")])}});const Gne=Byn,r6e=Symbol("dialogInjectionKey"),Yme="dialog-fade",s6e=Me({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:zn},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),zyn={close:()=>!0},o6e=(e,t,n,r)=>{const s={offsetX:0,offsetY:0},o=H(!1),i=(d,h)=>{if(e.value){const{offsetX:p,offsetY:g}=s,m=e.value.getBoundingClientRect(),v=m.left,y=m.top,b=m.width,w=m.height,C=document.documentElement.clientWidth,S=document.documentElement.clientHeight,$=-v+p,k=-y+g,T=C-v-b+p,_=S-y-(w<S?w:0)+g;r?.value||(d=Math.min(Math.max(d,$),T),h=Math.min(Math.max(h,k),_)),s.offsetX=d,s.offsetY=h,e.value.style.transform=`translate(${Vr(d)}, ${Vr(h)})`}},a=d=>{const h=d.clientX,p=d.clientY,{offsetX:g,offsetY:m}=s,v=b=>{o.value||(o.value=!0);const w=g+b.clientX-h,C=m+b.clientY-p;i(w,C)},y=()=>{o.value=!1,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},l=()=>{t.value&&e.value&&(t.value.addEventListener("mousedown",a),window.addEventListener("resize",f))},u=()=>{t.value&&e.value&&(t.value.removeEventListener("mousedown",a),window.removeEventListener("resize",f))},c=()=>{s.offsetX=0,s.offsetY=0,e.value&&(e.value.style.transform="")},f=()=>{const{offsetX:d,offsetY:h}=s;i(d,h)};return jt(()=>{ml(()=>{n.value?l():u()})}),Nn(()=>{u()}),{isDragging:o,resetPosition:c,updatePosition:f}},Kne=(...e)=>t=>{e.forEach(n=>{n.value=t})},Vyn=["aria-level"],Wyn=["aria-label"],Uyn=["id"],jyn=me({name:"ElDialogContent",__name:"dialog-content",props:s6e,emits:zyn,setup(e,{expose:t}){const{t:n}=un(),{Close:r}=CLe,s=e,{dialogRef:o,headerRef:i,bodyId:a,ns:l,style:u}=tt(r6e),{focusTrapRef:c}=tt(MLe),f=Kne(c,o),d=O(()=>!!s.draggable),h=O(()=>!!s.overflow),{resetPosition:p,updatePosition:g,isDragging:m}=o6e(o,i,d,h),v=O(()=>[l.b(),l.is("fullscreen",s.fullscreen),l.is("draggable",d.value),l.is("dragging",m.value),l.is("align-center",!!s.alignCenter),{[l.m("center")]:s.center}]);return t({resetPosition:p,updatePosition:g}),(y,b)=>(B(),K("div",{ref:x(f),class:V(v.value),style:dt(x(u)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:i,class:V([x(l).e("header"),y.headerClass,{"show-close":y.showClose}])},[ce(y.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":y.ariaLevel,class:V(x(l).e("title"))},De(y.title),11,Vyn)]),y.showClose?(B(),K("button",{key:0,"aria-label":x(n)("el.dialog.close"),class:V(x(l).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=w=>y.$emit("close"))},[ee(x(ot),{class:V(x(l).e("close"))},{default:ie(()=>[(B(),pe(zt(y.closeIcon||x(r))))]),_:1},8,["class"])],10,Wyn)):fe("v-if",!0)],2),Z("div",{id:x(a),class:V([x(l).e("body"),y.bodyClass])},[ce(y.$slots,"default")],10,Uyn),y.$slots.footer?(B(),K("footer",{key:0,class:V([x(l).e("footer"),y.footerClass])},[ce(y.$slots,"footer")],2)):fe("v-if",!0)],6))}});var Hyn=Ve(jyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const i6e=Me({...s6e,appendToBody:Boolean,appendTo:{type:SI.to.type,default:"body"},beforeClose:{type:oe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:oe([String,Object]),default:void 0}}),a6e={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Et]:e=>Ln(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},T8=(e,t={})=>{fr(e)||Ts("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Ae("popup"),r=O(()=>n.bm("parent","hidden"));let s=0,o=!1,i="0";const a=()=>{setTimeout(()=>{typeof document>"u"||o&&document&&(document.body.style.width=i,ia(document.body,r.value))},200)};xe(e,l=>{if(!l){a();return}o=!td(document.body,r.value),o&&(i=document.body.style.width,Au(document.body,r.value)),s=gLe(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=Th(document.body,"overflowY");s>0&&(u||c==="scroll")&&o&&(document.body.style.width=`calc(100% - ${s}px)`)}),pve(()=>a())},l6e=(e,t)=>{var n;const s=Ut().emit,{nextZIndex:o}=xI();let i="";const a=Yo(),l=Yo(),u=H(!1),c=H(!1),f=H(!1),d=H((n=e.zIndex)!=null?n:o()),h=H(!1);let p,g;const m=GC(),v=O(()=>{var j,U;return(U=(j=m.value)==null?void 0:j.namespace)!=null?U:fk}),y=O(()=>{var j;return(j=m.value)==null?void 0:j.dialog}),b=O(()=>{const j={},U=`--${v.value}-dialog`;if(!e.fullscreen){e.top&&(j[`${U}-margin-top`]=e.top);const Y=Vr(e.width);Y&&(j[`${U}-width`]=Y)}return j}),w=O(()=>{var j,U,Y;return((Y=(U=e.draggable)!=null?U:(j=y.value)==null?void 0:j.draggable)!=null?Y:!1)&&!e.fullscreen}),C=O(()=>{var j,U,Y;return(Y=(U=e.alignCenter)!=null?U:(j=y.value)==null?void 0:j.alignCenter)!=null?Y:!1}),S=O(()=>{var j,U,Y;return(Y=(U=e.overflow)!=null?U:(j=y.value)==null?void 0:j.overflow)!=null?Y:!1}),$=O(()=>C.value?{display:"flex"}:{}),k=O(()=>{var j,U,Y;const G=(Y=(U=e.transition)!=null?U:(j=y.value)==null?void 0:j.transition)!=null?Y:Yme,ne={name:G,onAfterEnter:T,onBeforeLeave:E,onAfterLeave:_};if(Pt(G)){const ue={...G},ae=(X,J)=>q=>{Oe(X)?X.forEach(P=>{ft(P)&&P(q)}):ft(X)&&X(q),J()};return ue.onAfterEnter=ae(ue.onAfterEnter,T),ue.onBeforeLeave=ae(ue.onBeforeLeave,E),ue.onAfterLeave=ae(ue.onAfterLeave,_),ue.name||(ue.name=Yme),ue}return ne});function T(){s("opened")}function _(){s("closed"),s(Et,!1),e.destroyOnClose&&(f.value=!1),h.value=!1}function E(){h.value=!0,s("close")}function A(){g?.(),p?.(),e.openDelay&&e.openDelay>0?{stop:p}=Rx(()=>L(),e.openDelay):L()}function I(){p?.(),g?.(),e.closeDelay&&e.closeDelay>0?{stop:g}=Rx(()=>D(),e.closeDelay):D()}function F(){function j(U){U||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(j):I()}function R(){e.closeOnClickModal&&F()}function L(){Tn&&(u.value=!0)}function D(){u.value=!1}function N(){s("openAutoFocus")}function M(){s("closeAutoFocus")}function z(j){var U;((U=j.detail)==null?void 0:U.focusReason)==="pointer"&&j.preventDefault()}e.lockScroll&&T8(u);function W(){e.closeOnPressEscape&&F()}return xe(()=>e.zIndex,()=>{var j;d.value=(j=e.zIndex)!=null?j:o()}),xe(()=>e.modelValue,j=>{var U;j?(c.value=!1,A(),f.value=!0,d.value=(U=e.zIndex)!=null?U:o(),Ye(()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):u.value&&I()}),xe(()=>e.fullscreen,j=>{t.value&&(j?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),jt(()=>{e.modelValue&&(u.value=!0,f.value=!0,A())}),{afterEnter:T,afterLeave:_,beforeLeave:E,handleClose:F,onModalClick:R,close:I,doClose:D,onOpenAutoFocus:N,onCloseAutoFocus:M,onCloseRequested:W,onFocusoutPrevented:z,titleId:a,bodyId:l,closed:c,style:b,overlayDialogStyle:$,rendered:f,visible:u,zIndex:d,transitionConfig:k,_draggable:w,_alignCenter:C,_overflow:S,closing:h}},qyn=["aria-label","aria-labelledby","aria-describedby"],Gyn=me({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:i6e,emits:a6e,setup(e,{expose:t}){const n=e,r=Ms();sd({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!r.title));const s=Ae("dialog"),o=H(),i=H(),a=H(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,transitionConfig:p,zIndex:g,_draggable:m,_alignCenter:v,_overflow:y,handleClose:b,onModalClick:w,onOpenAutoFocus:C,onCloseAutoFocus:S,onCloseRequested:$,onFocusoutPrevented:k,closing:T}=l6e(n,o);ln(r6e,{dialogRef:o,headerRef:i,bodyId:c,ns:s,rendered:h,style:f});const _=qne(w),E=O(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return t({visible:l,dialogContentRef:a,resetPosition:()=>{var I;(I=a.value)==null||I.resetPosition()},handleClose:b}),(I,F)=>(B(),pe(x(KC),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:ie(()=>[ee(Ho,Wt(x(p),{persisted:""}),{default:ie(()=>{var R;return[Lt(ee(x(Gne),{"custom-mask-event":"",mask:I.modal,"overlay-class":[(R=I.modalClass)!=null?R:"",`${x(s).namespace.value}-modal-dialog`,x(s).is("penetrable",E.value)],"z-index":x(g)},{default:ie(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:x(u),"aria-describedby":x(c),class:V([`${x(s).namespace.value}-overlay-dialog`,x(s).is("closing",x(T))]),style:dt(x(d)),onClick:F[0]||(F[0]=(...L)=>x(_).onClick&&x(_).onClick(...L)),onMousedown:F[1]||(F[1]=(...L)=>x(_).onMousedown&&x(_).onMousedown(...L)),onMouseup:F[2]||(F[2]=(...L)=>x(_).onMouseup&&x(_).onMouseup(...L))},[ee(x(YC),{loop:"",trapped:x(l),"focus-start-el":"container",onFocusAfterTrapped:x(C),onFocusAfterReleased:x(S),onFocusoutPrevented:x(k),onReleaseRequested:x($)},{default:ie(()=>[x(h)?(B(),pe(Hyn,Wt({key:0,ref_key:"dialogContentRef",ref:a},I.$attrs,{center:I.center,"align-center":x(v),"close-icon":I.closeIcon,draggable:x(m),overflow:x(y),fullscreen:I.fullscreen,"header-class":I.headerClass,"body-class":I.bodyClass,"footer-class":I.footerClass,"show-close":I.showClose,title:I.title,"aria-level":I.headerAriaLevel,onClose:x(b)}),vl({header:ie(()=>[I.$slots.title?ce(I.$slots,"title",{key:1}):ce(I.$slots,"header",{key:0,close:x(b),titleId:x(u),titleClass:x(s).e("title")})]),default:ie(()=>[ce(I.$slots,"default")]),_:2},[I.$slots.footer?{name:"footer",fn:ie(()=>[ce(I.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):fe("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,qyn)]),_:3},8,["mask","overlay-class","z-index"]),[[$n,x(l)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var Kyn=Ve(Gyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Yyn=Rt(Kyn),Xyn=Me({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:oe(String),default:"solid"}}),Zyn=me({name:"ElDivider",__name:"divider",props:Xyn,setup(e){const t=e,n=Ae("divider"),r=O(()=>n.cssVar({"border-style":t.borderStyle}));return(s,o)=>(B(),K("div",{class:V([x(n).b(),x(n).m(s.direction)]),style:dt(r.value),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(B(),K("div",{key:0,class:V([x(n).e("text"),x(n).is(s.contentPosition)])},[ce(s.$slots,"default")],2)):fe("v-if",!0)],6))}});var Jyn=Ve(Zyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const u6e=Rt(Jyn),Qyn=Me({...i6e,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),ebn={...a6e,"resize-start":(e,t)=>e instanceof MouseEvent&&typeof t=="number",resize:(e,t)=>e instanceof MouseEvent&&typeof t=="number","resize-end":(e,t)=>e instanceof MouseEvent&&typeof t=="number"};function tbn(e,t,n){const{width:r,height:s}=une(),o=O(()=>["ltr","rtl"].includes(e.direction)),i=O(()=>["ltr","ttb"].includes(e.direction)?1:-1),a=O(()=>o.value?r.value:s.value),l=O(()=>eLe(u.value+i.value*c.value,4,a.value)),u=H(0),c=H(0),f=H(!1),d=H(!1);let h=[],p=[];const g=()=>{var w;const C=(w=t.value)==null?void 0:w.closest('[aria-modal="true"]');return C?o.value?C.offsetWidth:C.offsetHeight:100};xe(()=>[e.size,e.resizable],()=>{d.value=!1,u.value=0,c.value=0,y()});const m=w=>{e.resizable&&(d.value||(u.value=g(),d.value=!0),h=[w.pageX,w.pageY],f.value=!0,n("resize-start",w,u.value),p.push(Fn(window,"mouseup",y),Fn(window,"mousemove",v)))},v=w=>{const{pageX:C,pageY:S}=w,$=C-h[0],k=S-h[1];c.value=o.value?$:k,n("resize",w,l.value)},y=w=>{f.value&&(h=[],u.value=l.value,c.value=0,f.value=!1,p.forEach(C=>C?.()),p=[],w&&n("resize-end",w,u.value))},b=Fn(t,"mousedown",m);return Nn(()=>{b(),y()}),{size:O(()=>d.value?`${l.value}px`:Vr(e.size)),isResizing:f,isHorizontal:o}}const nbn=["aria-label","aria-labelledby","aria-describedby"],rbn=["id","aria-level"],sbn=["aria-label"],obn=["id"],ibn=me({name:"ElDrawer",inheritAttrs:!1,__name:"drawer",props:Qyn,emits:ebn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms();sd({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},O(()=>!!o.title));const i=H(),a=H(),l=H(),u=Ae("drawer"),{t:c}=un(),{afterEnter:f,afterLeave:d,beforeLeave:h,visible:p,rendered:g,titleId:m,bodyId:v,zIndex:y,onModalClick:b,onOpenAutoFocus:w,onCloseAutoFocus:C,onFocusoutPrevented:S,onCloseRequested:$,handleClose:k}=l6e(r,i),{isHorizontal:T,size:_,isResizing:E}=tbn(r,l,s),A=O(()=>r.modalPenetrable&&!r.modal);return t({handleClose:k,afterEnter:f,afterLeave:d}),(I,F)=>(B(),pe(x(KC),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:ie(()=>[ee(Ho,{name:x(u).b("fade"),onAfterEnter:x(f),onAfterLeave:x(d),onBeforeLeave:x(h),persisted:""},{default:ie(()=>{var R;return[Lt(ee(x(Gne),{mask:I.modal,"overlay-class":[x(u).is("drawer"),(R=I.modalClass)!=null?R:"",`${x(u).namespace.value}-modal-drawer`,x(u).is("penetrable",A.value)],"z-index":x(y),onClick:x(b)},{default:ie(()=>[ee(x(YC),{loop:"",trapped:x(p),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:x(w),onFocusAfterReleased:x(C),onFocusoutPrevented:x(S),onReleaseRequested:x($)},{default:ie(()=>[Z("div",Wt({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:x(m),"aria-describedby":x(v)},I.$attrs,{class:[x(u).b(),I.direction,x(p)&&"open",x(u).is("dragging",x(E))],style:{[x(T)?"width":"height"]:x(_)},role:"dialog",onClick:F[1]||(F[1]=xt(()=>{},["stop"]))}),[Z("span",{ref_key:"focusStartRef",ref:a,class:V(x(u).e("sr-focus")),tabindex:"-1"},null,2),I.withHeader?(B(),K("header",{key:0,class:V([x(u).e("header"),I.headerClass])},[I.$slots.title?ce(I.$slots,"title",{key:1},()=>[fe(" DEPRECATED SLOT ")]):ce(I.$slots,"header",{key:0,close:x(k),titleId:x(m),titleClass:x(u).e("title")},()=>[Z("span",{id:x(m),role:"heading","aria-level":I.headerAriaLevel,class:V(x(u).e("title"))},De(I.title),11,rbn)]),I.showClose?(B(),K("button",{key:2,"aria-label":x(c)("el.drawer.close"),class:V(x(u).e("close-btn")),type:"button",onClick:F[0]||(F[0]=(...L)=>x(k)&&x(k)(...L))},[ee(x(ot),{class:V(x(u).e("close"))},{default:ie(()=>[ee(x(qu))]),_:1},8,["class"])],10,sbn)):fe("v-if",!0)],2)):fe("v-if",!0),x(g)?(B(),K("div",{key:1,id:x(v),class:V([x(u).e("body"),I.bodyClass])},[ce(I.$slots,"default")],10,obn)):fe("v-if",!0),I.$slots.footer?(B(),K("div",{key:2,class:V([x(u).e("footer"),I.footerClass])},[ce(I.$slots,"footer")],2)):fe("v-if",!0),I.resizable?(B(),K("div",{key:3,ref_key:"draggerRef",ref:l,style:dt({zIndex:x(y)}),class:V(x(u).e("dragger"))},null,6)):fe("v-if",!0)],16,nbn)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[$n,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var abn=Ve(ibn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const lbn=Rt(abn),ubn=me({inheritAttrs:!1});function cbn(e,t,n,r,s,o){return ce(e.$slots,"default")}var fbn=Ve(ubn,[["render",cbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const dbn=me({name:"ElCollectionItem",inheritAttrs:!1});function hbn(e,t,n,r,s,o){return ce(e.$slots,"default")}var pbn=Ve(dbn,[["render",hbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const c6e="data-el-collection-item",gbn=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),o=Object.assign({},fbn,{name:t,setup(){const a=H(),l=new Map;ln(r,{itemMap:l,getItems:()=>{const c=x(a);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${c6e}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:a})}}),i=Object.assign({},pbn,{name:n,setup(a,{attrs:l}){const u=H(),c=tt(r,void 0);ln(s,{collectionItemRef:u}),jt(()=>{const f=x(u);f&&c.itemMap.set(f,{ref:f,...l})}),Nn(()=>{const f=x(u);c.itemMap.delete(f)})}});return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:o,ElCollectionItem:i}},mbn=Me({style:{type:oe([String,Array,Object])},currentTabId:{type:oe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:oe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:vbn,ElCollectionItem:ybn,COLLECTION_INJECTION_KEY:f6e,COLLECTION_ITEM_INJECTION_KEY:bbn}=gbn("RovingFocusGroup"),Yne=Symbol("elRovingFocusGroup"),d6e=Symbol("elRovingFocusGroupItem"),wbn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},xbn=(e,t)=>e,Cbn=(e,t,n)=>{const r=Hn(e),s=xbn(r);return wbn[s]},Sbn=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),Xme=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Zme="currentTabIdChange",Jme="rovingFocusGroup.entryFocus",$bn={bubbles:!1,cancelable:!0},kbn=me({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:mbn,emits:[Zme,"entryFocus"],setup(e,{emit:t}){var n;const r=H((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=H(!1),o=H(!1),i=H(),{getItems:a}=tt(f6e,void 0),l=O(()=>[{outline:"none"},e.style]),u=m=>{t(Zme,m)},c=()=>{s.value=!0},f=to(m=>{var v;(v=e.onMousedown)==null||v.call(e,m)},()=>{o.value=!0}),d=to(m=>{var v;(v=e.onFocus)==null||v.call(e,m)},m=>{const v=!x(o),{target:y,currentTarget:b}=m;if(y===b&&v&&!x(s)){const w=new Event(Jme,$bn);if(b?.dispatchEvent(w),!w.defaultPrevented){const C=a().filter(_=>_.focusable),S=C.find(_=>_.active),$=C.find(_=>_.id===x(r)),T=[S,$,...C].filter(Boolean).map(_=>_.ref);Xme(T)}}o.value=!1}),h=to(m=>{var v;(v=e.onBlur)==null||v.call(e,m)},()=>{s.value=!1}),p=(...m)=>{t("entryFocus",...m)},g=m=>{const v=Cbn(m);if(v){m.preventDefault();let b=a().filter(w=>w.focusable).map(w=>w.ref);switch(v){case"last":{b.reverse();break}case"prev":case"next":{v==="prev"&&b.reverse();const w=b.indexOf(m.currentTarget);b=e.loop?Sbn(b,w+1):b.slice(w+1);break}}Ye(()=>{Xme(b)})}};ln(Yne,{currentTabbedId:d1(r),loop:Bn(e,"loop"),tabIndex:O(()=>x(s)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:l,orientation:Bn(e,"orientation"),dir:Bn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f,onKeydown:g}),xe(()=>e.currentTabId,m=>{r.value=m??null}),Fn(i,Jme,p)}});function Ebn(e,t,n,r,s,o){return ce(e.$slots,"default")}var _bn=Ve(kbn,[["render",Ebn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Tbn=me({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:vbn,ElRovingFocusGroupImpl:_bn}});function Abn(e,t,n,r,s,o){const i=Zt("el-roving-focus-group-impl"),a=Zt("el-focus-group-collection");return B(),pe(a,null,{default:ie(()=>[ee(i,zh(Wh(e.$attrs)),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16)]),_:3})}var Ibn=Ve(Tbn,[["render",Abn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const J3=Me({trigger:{...rd.trigger,type:oe([String,Array])},triggerKeys:{type:oe(Array),default:()=>[Re.enter,Re.numpadEnter,Re.space,Re.down]},virtualTriggering:rd.virtualTriggering,virtualRef:rd.virtualRef,effect:{...Un.effect,default:"light"},type:{type:oe(String)},placement:{type:oe(String),default:"bottom"},popperOptions:{type:oe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:oe([Number,String]),default:0},maxHeight:{type:oe([Number,String]),default:""},popperClass:Un.popperClass,popperStyle:Un.popperStyle,disabled:Boolean,role:{type:String,values:ILe,default:"menu"},buttonProps:{type:oe(Object)},teleported:Un.teleported,appendTo:Un.appendTo,persistent:{type:Boolean,default:!0}}),h6e=Me({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:zn}}),Nbn=Me({onKeydown:{type:oe(Function)}}),A8=Symbol("elDropdown"),p6e="elDropdown",{ButtonGroup:Dbn}=$o,Obn=me({name:"ElDropdown",components:{ElButton:$o,ElButtonGroup:Dbn,ElScrollbar:jc,ElTooltip:Xo,ElRovingFocusGroup:Ibn,ElOnlyChild:RLe,ElIcon:ot,ArrowDown:th},props:J3,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Ut(),r=Ae("dropdown"),{t:s}=un(),o=H(),i=H(),a=H(),l=H(),u=H(null),c=H(null),f=H(!1),d=O(()=>({maxHeight:Vr(e.maxHeight)})),h=O(()=>[r.m(w.value)]),p=O(()=>vo(e.trigger)),g=Yo().value,m=O(()=>e.id||g);function v(){var I;(I=a.value)==null||I.onClose(void 0,0)}function y(){var I;(I=a.value)==null||I.onClose()}function b(){var I;(I=a.value)==null||I.onOpen()}const w=Fs();function C(...I){t("command",...I)}function S(){}function $(){const I=x(l);p.value.includes("hover")&&I?.focus({preventScroll:!0}),c.value=null}function k(I){c.value=I}function T(){t("visible-change",!0)}function _(I){var F;f.value=I?.type==="keydown",(F=l.value)==null||F.focus()}function E(){t("visible-change",!1)}return ln(A8,{contentRef:l,role:O(()=>e.role),triggerId:m,isUsingKeyboard:f,onItemEnter:S,onItemLeave:$,handleClose:y}),ln(p6e,{instance:n,dropdownSize:w,handleClick:v,commandHandler:C,trigger:Bn(e,"trigger"),hideOnClick:Bn(e,"hideOnClick")}),{t:s,ns:r,scrollbar:u,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:w,triggerId:m,currentTabId:c,handleCurrentTabIdChange:k,handlerMainButtonClick:I=>{t("click",I)},handleClose:y,handleOpen:b,handleBeforeShowTooltip:T,handleShowTooltip:_,handleBeforeHideTooltip:E,popperRef:a,contentRef:l,triggeringElementRef:o,referenceElementRef:i}}});function Rbn(e,t,n,r,s,o){var i;const a=Zt("el-roving-focus-group"),l=Zt("el-scrollbar"),u=Zt("el-only-child"),c=Zt("el-tooltip"),f=Zt("el-button"),d=Zt("arrow-down"),h=Zt("el-icon"),p=Zt("el-button-group");return B(),K("div",{class:V([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ee(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger==="hover"?e.showTimeout:0,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"virtual-ref":(i=e.virtualRef)!=null?i:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,"append-to":e.appendTo,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},vl({content:ie(()=>[ee(l,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ie(()=>[ee(a,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:ie(()=>[ce(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ie(()=>[ee(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ie(()=>[ce(e.$slots,"default")]),_:3},8,["id","tabindex"])]),key:"0"}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","append-to","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(B(),pe(p,{key:0},{default:ie(()=>[ee(f,Wt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ee(f,Wt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ie(()=>[ee(h,{class:V(e.ns.e("icon"))},{default:ie(()=>[ee(d)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):fe("v-if",!0)],2)}var Fbn=Ve(Obn,[["render",Rbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Mbn=me({components:{ElRovingFocusCollectionItem:ybn},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,onItemFocus:r,onItemShiftTab:s,onKeydown:o}=tt(Yne,void 0),i=Yo(),a=H(),l=to(d=>{t("mousedown",d)},d=>{e.focusable?r(x(i)):d.preventDefault()}),u=to(d=>{t("focus",d)},()=>{r(x(i))}),c=to(d=>{t("keydown",d)},d=>{const{shiftKey:h,target:p,currentTarget:g}=d;if(Hn(d)===Re.tab&&h){s();return}p===g&&o(d)}),f=O(()=>n.value===x(i));return ln(d6e,{rovingFocusGroupItemRef:a,tabIndex:O(()=>x(f)?0:-1),handleMousedown:l,handleFocus:u,handleKeydown:c}),{id:i,handleKeydown:c,handleFocus:u,handleMousedown:l}}});function Pbn(e,t,n,r,s,o){const i=Zt("el-roving-focus-collection-item");return B(),pe(i,{id:e.id,focusable:e.focusable,active:e.active},{default:ie(()=>[ce(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Lbn=Ve(Mbn,[["render",Pbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Bbn=me({name:"DropdownItemImpl",components:{ElIcon:ot},props:h6e,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Ae("dropdown"),{role:r}=tt(A8,void 0),{collectionItemRef:s}=tt(bbn,void 0),{rovingFocusGroupItemRef:o,tabIndex:i,handleFocus:a,handleKeydown:l,handleMousedown:u}=tt(d6e,void 0),c=Kne(s,o),f=O(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),d=to(h=>{const p=Hn(h);if([Re.enter,Re.numpadEnter,Re.space].includes(p))return h.preventDefault(),h.stopImmediatePropagation(),t("clickimpl",h),!0},l);return{ns:n,itemRef:c,dataset:{[c6e]:""},role:f,tabIndex:i,handleFocus:a,handleKeydown:d,handleMousedown:u}}}),zbn=["aria-disabled","tabindex","role"];function Vbn(e,t,n,r,s,o){const i=Zt("el-icon");return B(),K(rt,null,[e.divided?(B(),K("li",{key:0,role:"separator",class:V(e.ns.bem("menu","item","divided"))},null,2)):fe("v-if",!0),Z("li",Wt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=a=>e.$emit("clickimpl",a)),onFocus:t[1]||(t[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onKeydown:t[2]||(t[2]=xt((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:t[3]||(t[3]=(...a)=>e.handleMousedown&&e.handleMousedown(...a)),onPointermove:t[4]||(t[4]=a=>e.$emit("pointermove",a)),onPointerleave:t[5]||(t[5]=a=>e.$emit("pointerleave",a))}),[e.icon?(B(),pe(i,{key:0},{default:ie(()=>[(B(),pe(zt(e.icon)))]),_:1})):fe("v-if",!0),ce(e.$slots,"default")],16,zbn)],64)}var Wbn=Ve(Bbn,[["render",Vbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const g6e=()=>{const e=tt(p6e,{}),t=O(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Ubn=me({name:"ElDropdownItem",components:{ElRovingFocusItem:Lbn,ElDropdownItemImpl:Wbn},inheritAttrs:!1,props:h6e,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=g6e(),s=Ut(),{onItemEnter:o,onItemLeave:i}=tt(A8,void 0),a=to(f=>(t("pointermove",f),f.defaultPrevented),ome(f=>{if(e.disabled){i(f);return}const d=f.currentTarget;d===document.activeElement||d.contains(document.activeElement)||(o(f),f.defaultPrevented||d?.focus({preventScroll:!0}))})),l=to(f=>(t("pointerleave",f),f.defaultPrevented),ome(i)),u=to(f=>{if(!e.disabled)return t("click",f),f.type!=="keydown"&&f.defaultPrevented},f=>{var d,h,p;if(e.disabled){f.stopImmediatePropagation();return}(d=r?.hideOnClick)!=null&&d.value&&((h=r.handleClick)==null||h.call(r)),(p=r.commandHandler)==null||p.call(r,e.command,s,f)}),c=O(()=>({...e,...n}));return{handleClick:u,handlePointerMove:a,handlePointerLeave:l,propsAndAttrs:c}}});function jbn(e,t,n,r,s,o){const i=Zt("el-dropdown-item-impl"),a=Zt("el-roving-focus-item");return B(),pe(a,{focusable:!e.disabled},{default:ie(()=>[ee(i,Wt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var m6e=Ve(Ubn,[["render",jbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Hbn=me({name:"ElDropdownMenu",props:Nbn,setup(e){const t=Ae("dropdown"),{_elDropdownSize:n}=g6e(),r=n.value,{contentRef:s,role:o,triggerId:i,isUsingKeyboard:a,handleClose:l}=tt(A8,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:c,onBlur:f,onFocus:d,onKeydown:h,onMousedown:p}=tt(Yne,void 0),{collectionRef:g}=tt(f6e,void 0),m=O(()=>[t.b("menu"),t.bm("menu",r?.value)]),v=Kne(s,u,g),y=to(w=>{var C;(C=e.onKeydown)==null||C.call(e,w)},w=>{const{currentTarget:C,target:S}=w,$=Hn(w);if(C.contains(S),Re.tab===$)return l();h(w)});function b(w){a.value&&d(w)}return{size:r,rovingFocusGroupRootStyle:c,dropdownKls:m,role:o,triggerId:i,dropdownListWrapperRef:v,handleKeydown:y,onBlur:f,handleFocus:b,onMousedown:p}}}),qbn=["role","aria-labelledby"];function Gbn(e,t,n,r,s,o){return B(),K("ul",{ref:e.dropdownListWrapperRef,class:V(e.dropdownKls),style:dt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:t[0]||(t[0]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onFocusout:t[1]||(t[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onKeydown:t[2]||(t[2]=xt((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:t[3]||(t[3]=xt((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[ce(e.$slots,"default")],46,qbn)}var v6e=Ve(Hbn,[["render",Gbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Kbn=Rt(Fbn,{DropdownItem:m6e,DropdownMenu:v6e}),Ybn=Ur(m6e),Xbn=Ur(v6e),Zbn={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Jbn=["id"],Qbn=["stop-color"],ewn=["stop-color"],twn=["id"],nwn=["stop-color"],rwn=["stop-color"],swn=["id"],own={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},iwn={transform:"translate(-1268.000000, -535.000000)"},awn={transform:"translate(1268.000000, 535.000000)"},lwn=["fill"],uwn=["fill"],cwn={transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},fwn=["fill"],dwn=["fill"],hwn=["fill"],pwn=["fill"],gwn=["fill"],mwn={transform:"translate(53.000000, 45.000000)"},vwn=["fill","xlink:href"],ywn=["fill","mask"],bwn=["fill"],wwn=me({name:"ImgEmpty",__name:"img-empty",setup(e){const t=Ae("empty"),n=Yo();return(r,s)=>(B(),K("svg",Zbn,[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${x(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Qbn),Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ewn)],8,Jbn),Z("linearGradient",{id:`linearGradient-2-${x(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,nwn),Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,rwn)],8,twn),Z("rect",{id:`path-3-${x(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,swn)]),Z("g",own,[Z("g",iwn,[Z("g",awn,[Z("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${x(t).cssVarBlockName("fill-color-3")})`},null,8,lwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,uwn),Z("g",cwn,[Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,fwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,dwn),Z("rect",{fill:`url(#linearGradient-1-${x(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,hwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,pwn)]),Z("rect",{fill:`url(#linearGradient-2-${x(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,gwn),Z("g",mwn,[Z("use",{fill:`var(${x(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${x(n)}`},null,8,vwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${x(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,ywn)]),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,bwn)])])])]))}});var xwn=Ve(wwn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Cwn=Me({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Swn=["src"],$wn={key:1},kwn=me({name:"ElEmpty",__name:"empty",props:Cwn,setup(e){const t=e,{t:n}=un(),r=Ae("empty"),s=O(()=>t.description||n("el.table.emptyText")),o=O(()=>({width:Vr(t.imageSize)}));return(i,a)=>(B(),K("div",{class:V(x(r).b())},[Z("div",{class:V(x(r).e("image")),style:dt(o.value)},[i.image?(B(),K("img",{key:0,src:i.image,ondragstart:"return false"},null,8,Swn)):ce(i.$slots,"image",{key:1},()=>[ee(xwn)])],6),Z("div",{class:V(x(r).e("description"))},[i.$slots.description?ce(i.$slots,"description",{key:0}):(B(),K("p",$wn,De(s.value),1))],2),i.$slots.default?(B(),K("div",{key:0,class:V(x(r).e("bottom"))},[ce(i.$slots,"default")],2)):fe("v-if",!0)],2))}});var Ewn=Ve(kwn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const y6e=Rt(Ewn),_wn=Me({size:{type:String,values:eh},disabled:Boolean}),Twn=Me({..._wn,model:Object,rules:{type:oe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:oe([Object,Boolean]),default:!0}}),Awn={validate:(e,t,n)=>(Oe(e)||it(e))&&Ln(t)&&it(n)};function Iwn(){const e=H([]),t=O(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function n(o){const i=e.value.indexOf(o);return i===-1&&t.value,i}function r(o,i){if(o&&i){const a=n(i);e.value.splice(a,1,o)}else o&&e.value.push(o)}function s(o){const i=n(o);i>-1&&e.value.splice(i,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:s}}const zD=(e,t)=>{const n=vo(t).map(r=>Oe(r)?r.join("."):r);return n.length>0?e.filter(r=>r.propString&&n.includes(r.propString)):e},Nwn="ElForm",Dwn=me({name:Nwn,__name:"form",props:Twn,emits:Awn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=H(),i=In([]),a=Fs(),l=Ae("form"),u=O(()=>{const{labelPosition:C,inline:S}=r;return[l.b(),l.m(a.value||"default"),{[l.m(`label-${C}`)]:C,[l.m("inline")]:S}]}),c=C=>zD(i,[C])[0],f=C=>{i.push(C)},d=C=>{C.prop&&i.splice(i.indexOf(C),1)},h=(C=[])=>{r.model&&zD(i,C).forEach(S=>S.resetField())},p=(C=[])=>{zD(i,C).forEach(S=>S.clearValidate())},g=O(()=>!!r.model),m=C=>{if(i.length===0)return[];const S=zD(i,C);return S.length?S:[]},v=async C=>b(void 0,C),y=async(C=[])=>{if(!g.value)return!1;const S=m(C);if(S.length===0)return!0;let $={};for(const k of S)try{await k.validate(""),k.validateState==="error"&&!k.error&&k.resetField()}catch(T){$={...$,...T}}return Object.keys($).length===0?!0:Promise.reject($)},b=async(C=[],S)=>{let $=!1;const k=!ft(S);try{return $=await y(C),$===!0&&await S?.($),$}catch(T){if(T instanceof Error)throw T;const _=T;if(r.scrollToError&&o.value){const E=o.value.querySelector(`.${l.b()}-item.is-error`);E?.scrollIntoView(r.scrollIntoViewOptions)}return!$&&await S?.(!1,_),k&&Promise.reject(_)}},w=C=>{var S;const $=c(C);$&&((S=$.$el)==null||S.scrollIntoView(r.scrollIntoViewOptions))};return xe(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(C=>void 0)},{deep:!0,flush:"post"}),ln(ob,In({...ao(r),emit:s,resetFields:h,clearValidate:p,validateField:b,getField:c,addField:f,removeField:d,...Iwn()})),t({validate:v,validateField:b,resetFields:h,clearValidate:p,scrollToField:w,getField:c,fields:i}),(C,S)=>(B(),K("form",{ref_key:"formRef",ref:o,class:V(u.value)},[ce(C.$slots,"default")],2))}});var Own=Ve(Dwn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(this,arguments)}function Rwn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m_(e,t)}function wH(e){return wH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wH(e)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m_(e,t)}function Fwn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q3(e,t,n){return Fwn()?Q3=Reflect.construct.bind():Q3=function(s,o,i){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(s,a),u=new l;return i&&m_(u,i.prototype),u},Q3.apply(null,arguments)}function Mwn(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function xH(e){var t=typeof Map=="function"?new Map:void 0;return xH=function(r){if(r===null||!Mwn(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Q3(r,arguments,wH(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),m_(s,r)},xH(e)}var Pwn=/%[sdj%]/g,Lwn=function(){};function CH(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var i=e.replace(Pwn,function(a){if(a==="%%")return"%";if(s>=o)return a;switch(a){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return a}});return i}return e}function Bwn(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function _o(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Bwn(t)&&typeof e=="string"&&!e)}function zwn(e,t,n){var r=[],s=0,o=e.length;function i(a){r.push.apply(r,a||[]),s++,s===o&&n(r)}e.forEach(function(a){t(a,i)})}function Qme(e,t,n){var r=0,s=e.length;function o(i){if(i&&i.length){n(i);return}var a=r;r=r+1,a<s?t(e[a],o):n([])}o([])}function Vwn(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var e0e=(function(e){Rwn(t,e);function t(n,r){var s;return s=e.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return t})(xH(Error));function Wwn(e,t,n,r,s){if(t.first){var o=new Promise(function(d,h){var p=function(v){return r(v),v.length?h(new e0e(v,CH(v))):d(s)},g=Vwn(e);Qme(g,n,p)});return o.catch(function(d){return d}),o}var i=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,u=0,c=[],f=new Promise(function(d,h){var p=function(m){if(c.push.apply(c,m),u++,u===l)return r(c),c.length?h(new e0e(c,CH(c))):d(s)};a.length||(r(c),d(s)),a.forEach(function(g){var m=e[g];i.indexOf(g)!==-1?Qme(m,n,p):zwn(m,n,p)})});return f.catch(function(d){return d}),f}function Uwn(e){return!!(e&&e.message!==void 0)}function jwn(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function t0e(e,t){return function(n){var r;return e.fullFields?r=jwn(t,e.fullFields):r=t[n.field||e.fullField],Uwn(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function n0e(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=Pv({},e[n],r):e[n]=r}}return e}var b6e=function(t,n,r,s,o,i){t.required&&(!r.hasOwnProperty(t.field)||_o(n,i||t.type))&&s.push(Kl(o.messages.required,t.fullField))},Hwn=function(t,n,r,s,o){(/^\s+$/.test(n)||n==="")&&s.push(Kl(o.messages.whitespace,t.fullField))},VD,qwn=(function(){if(VD)return VD;var e="[a-fA-F\\d:]",t=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),a=new RegExp("^"+s+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+t(w)+n+t(w)+")|(?:"+t(w)+s+t(w)+")","g")};l.v4=function(b){return b&&b.exact?i:new RegExp(""+t(b)+n+t(b),"g")},l.v6=function(b){return b&&b.exact?a:new RegExp(""+t(b)+s+t(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+g+")"+m+v;return VD=new RegExp("(?:^"+y+"$)","i"),VD}),r0e={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},N$={integer:function(t){return N$.number(t)&&parseInt(t,10)===t},float:function(t){return N$.number(t)&&!N$.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!N$.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(r0e.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(qwn())},hex:function(t){return typeof t=="string"&&!!t.match(r0e.hex)}},Gwn=function(t,n,r,s,o){if(t.required&&n===void 0){b6e(t,n,r,s,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;i.indexOf(a)>-1?N$[a](n)||s.push(Kl(o.messages.types[a],t.fullField,t.type)):a&&typeof n!==t.type&&s.push(Kl(o.messages.types[a],t.fullField,t.type))},Kwn=function(t,n,r,s,o){var i=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),i?c!==t.len&&s.push(Kl(o.messages[f].len,t.fullField,t.len)):a&&!l&&c<t.min?s.push(Kl(o.messages[f].min,t.fullField,t.min)):l&&!a&&c>t.max?s.push(Kl(o.messages[f].max,t.fullField,t.max)):a&&l&&(c<t.min||c>t.max)&&s.push(Kl(o.messages[f].range,t.fullField,t.min,t.max))},Db="enum",Ywn=function(t,n,r,s,o){t[Db]=Array.isArray(t[Db])?t[Db]:[],t[Db].indexOf(n)===-1&&s.push(Kl(o.messages[Db],t.fullField,t[Db].join(", ")))},Xwn=function(t,n,r,s,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||s.push(Kl(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var i=new RegExp(t.pattern);i.test(n)||s.push(Kl(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},ur={required:b6e,whitespace:Hwn,type:Gwn,range:Kwn,enum:Ywn,pattern:Xwn},Zwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"string")&&!t.required)return r();ur.required(t,n,s,i,o,"string"),_o(n,"string")||(ur.type(t,n,s,i,o),ur.range(t,n,s,i,o),ur.pattern(t,n,s,i,o),t.whitespace===!0&&ur.whitespace(t,n,s,i,o))}r(i)},Jwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&ur.type(t,n,s,i,o)}r(i)},Qwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(n===""&&(n=void 0),_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&(ur.type(t,n,s,i,o),ur.range(t,n,s,i,o))}r(i)},exn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&ur.type(t,n,s,i,o)}r(i)},txn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),_o(n)||ur.type(t,n,s,i,o)}r(i)},nxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&(ur.type(t,n,s,i,o),ur.range(t,n,s,i,o))}r(i)},rxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&(ur.type(t,n,s,i,o),ur.range(t,n,s,i,o))}r(i)},sxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(n==null&&!t.required)return r();ur.required(t,n,s,i,o,"array"),n!=null&&(ur.type(t,n,s,i,o),ur.range(t,n,s,i,o))}r(i)},oxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&ur.type(t,n,s,i,o)}r(i)},ixn="enum",axn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o),n!==void 0&&ur[ixn](t,n,s,i,o)}r(i)},lxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"string")&&!t.required)return r();ur.required(t,n,s,i,o),_o(n,"string")||ur.pattern(t,n,s,i,o)}r(i)},uxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"date")&&!t.required)return r();if(ur.required(t,n,s,i,o),!_o(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),ur.type(t,l,s,i,o),l&&ur.range(t,l.getTime(),s,i,o)}}r(i)},cxn=function(t,n,r,s,o){var i=[],a=Array.isArray(n)?"array":typeof n;ur.required(t,n,s,i,o,a),r(i)},V7=function(t,n,r,s,o){var i=t.type,a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(_o(n,i)&&!t.required)return r();ur.required(t,n,s,a,o,i),_o(n,i)||ur.type(t,n,s,a,o)}r(a)},fxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();ur.required(t,n,s,i,o)}r(i)},vk={string:Zwn,method:Jwn,number:Qwn,boolean:exn,regexp:txn,integer:nxn,float:rxn,array:sxn,object:oxn,enum:axn,pattern:lxn,date:uxn,url:V7,hex:V7,email:V7,required:cxn,any:fxn};function SH(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var $H=SH(),NI=(function(){function e(n){this.rules=null,this._messages=$H,this.define(n)}var t=e.prototype;return t.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var i=r[o];s.rules[o]=Array.isArray(i)?i:[i]})},t.messages=function(r){return r&&(this._messages=n0e(SH(),r)),this._messages},t.validate=function(r,s,o){var i=this;s===void 0&&(s={}),o===void 0&&(o=function(){});var a=r,l=s,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(g){var m=[],v={};function y(w){if(Array.isArray(w)){var C;m=(C=m).concat.apply(C,w)}else m.push(w)}for(var b=0;b<g.length;b++)y(g[b]);m.length?(v=CH(m),u(m,v)):u(null,a)}if(l.messages){var f=this.messages();f===$H&&(f=SH()),n0e(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var m=i.rules[g],v=a[g];m.forEach(function(y){var b=y;typeof b.transform=="function"&&(a===r&&(a=Pv({},a)),v=a[g]=b.transform(v)),typeof b=="function"?b={validator:b}:b=Pv({},b),b.validator=i.getValidationMethod(b),b.validator&&(b.field=g,b.fullField=b.fullField||g,b.type=i.getType(b),d[g]=d[g]||[],d[g].push({rule:b,value:v,source:a,field:g}))})});var p={};return Wwn(d,l,function(g,m){var v=g.rule,y=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");y=y&&(v.required||!v.required&&g.value),v.field=g.field;function b(S,$){return Pv({},$,{fullField:v.fullField+"."+S,fullFields:v.fullFields?[].concat(v.fullFields,[S]):[S]})}function w(S){S===void 0&&(S=[]);var $=Array.isArray(S)?S:[S];!l.suppressWarning&&$.length&&e.warning("async-validator:",$),$.length&&v.message!==void 0&&($=[].concat(v.message));var k=$.map(t0e(v,a));if(l.first&&k.length)return p[v.field]=1,m(k);if(!y)m(k);else{if(v.required&&!g.value)return v.message!==void 0?k=[].concat(v.message).map(t0e(v,a)):l.error&&(k=[l.error(v,Kl(l.messages.required,v.field))]),m(k);var T={};v.defaultField&&Object.keys(g.value).map(function(A){T[A]=v.defaultField}),T=Pv({},T,g.rule.fields);var _={};Object.keys(T).forEach(function(A){var I=T[A],F=Array.isArray(I)?I:[I];_[A]=F.map(b.bind(null,A))});var E=new e(_);E.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),E.validate(g.value,g.rule.options||l,function(A){var I=[];k&&k.length&&I.push.apply(I,k),A&&A.length&&I.push.apply(I,A),m(I.length?I:null)})}}var C;if(v.asyncValidator)C=v.asyncValidator(v,g.value,w,g.source,l);else if(v.validator){try{C=v.validator(v,g.value,w,g.source,l)}catch(S){console.error?.(S),l.suppressValidatorError||setTimeout(function(){throw S},0),w(S.message)}C===!0?w():C===!1?w(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):C instanceof Array?w(C):C instanceof Error&&w(C.message)}C&&C.then&&C.then(function(){return w()},function(S){return w(S)})},function(g){c(g)},a)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!vk.hasOwnProperty(r.type))throw new Error(Kl("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),o=s.indexOf("message");return o!==-1&&s.splice(o,1),s.length===1&&s[0]==="required"?vk.required:vk[this.getType(r)]||void 0},e})();NI.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");vk[t]=n};NI.warning=Lwn;NI.messages=$H;NI.validators=vk;const dxn=["","error","validating","success"],hxn=Me({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:oe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:oe([Object,Array])},error:String,validateStatus:{type:String,values:dxn},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:eh}}),s0e="ElLabelWrap";var pxn=me({name:s0e,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=tt(ob,void 0),r=tt(Ad);r||Ts(s0e,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Ae("form"),o=H(),i=H(0),a=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{Ye(()=>{t.default&&e.isAutoWidth&&(c==="update"?i.value=a():c==="remove"&&n?.deregisterLabelWidth(i.value))})},u=()=>l("update");return jt(()=>{u()}),Nn(()=>{l("remove")}),Yc(()=>u()),xe(i,(c,f)=>{e.updateAll&&n?.registerLabelWidth(c,f)}),Cr(O(()=>{var c,f;return(f=(c=o.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=n?.autoLabelWidth,p=r?.hasLabel,g={};if(p&&h&&h!=="auto"){const m=Math.max(0,Number.parseInt(h,10)-i.value),y=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";m&&(g[y]=`${m}px`)}return ee("div",{ref:o,class:[s.be("item","label-wrap")],style:g},[(c=t.default)==null?void 0:c.call(t)])}else return ee(rt,{ref:o},[(f=t.default)==null?void 0:f.call(t)])}}});const gxn=["role","aria-labelledby"],mxn=me({name:"ElFormItem",__name:"form-item",props:hxn,setup(e,{expose:t}){const n=e,r=Ms(),s=tt(ob,void 0),o=tt(Ad,void 0),i=Fs(void 0,{formItem:!1}),a=Ae("form-item"),l=Yo().value,u=H([]),c=H(""),f=Aun(c,100),d=H(""),h=H();let p,g=!1;const m=O(()=>n.labelPosition||s?.labelPosition),v=O(()=>{var ae;return m.value==="top"?{}:{width:Vr((ae=n.labelWidth)!=null?ae:s?.labelWidth)}}),y=O(()=>{var ae;if(m.value==="top"||s?.inline)return{};if(!n.label&&!n.labelWidth&&_)return{};const X=Vr((ae=n.labelWidth)!=null?ae:s?.labelWidth);return!n.label&&!r.label?{marginLeft:X}:{}}),b=O(()=>[a.b(),a.m(i.value),a.is("error",c.value==="error"),a.is("validating",c.value==="validating"),a.is("success",c.value==="success"),a.is("required",R.value||n.required),a.is("no-asterisk",s?.hideRequiredAsterisk),s?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:s?.statusIcon,[a.m(`label-${m.value}`)]:m.value}]),w=O(()=>Ln(n.inlineMessage)?n.inlineMessage:s?.inlineMessage||!1),C=O(()=>[a.e("error"),{[a.em("error","inline")]:w.value}]),S=O(()=>n.prop?Oe(n.prop)?n.prop.join("."):n.prop:""),$=O(()=>!!(n.label||r.label)),k=O(()=>{var ae;return(ae=n.for)!=null?ae:u.value.length===1?u.value[0]:void 0}),T=O(()=>!k.value&&$.value),_=!!o,E=O(()=>{const ae=s?.model;if(!(!ae||!n.prop))return pk(ae,n.prop).value}),A=O(()=>{const{required:ae}=n,X=[];n.rules&&X.push(...vo(n.rules));const J=s?.rules;if(J&&n.prop){const q=pk(J,n.prop).value;q&&X.push(...vo(q))}if(ae!==void 0){const q=X.map((P,Q)=>[P,Q]).filter(([P])=>"required"in P);if(q.length>0)for(const[P,Q]of q)P.required!==ae&&(X[Q]={...P,required:ae});else X.push({required:ae})}return X}),I=O(()=>A.value.length>0),F=ae=>A.value.filter(J=>!J.trigger||!ae?!0:Oe(J.trigger)?J.trigger.includes(ae):J.trigger===ae).map(({trigger:J,...q})=>q),R=O(()=>A.value.some(ae=>ae.required)),L=O(()=>{var ae;return f.value==="error"&&n.showMessage&&((ae=s?.showMessage)!=null?ae:!0)}),D=O(()=>`${n.label||""}${s?.labelSuffix||""}`),N=ae=>{c.value=ae},M=ae=>{var X,J;const{errors:q,fields:P}=ae;(!q||!P)&&console.error(ae),N("error"),d.value=q?(J=(X=q?.[0])==null?void 0:X.message)!=null?J:`${n.prop} is required`:"",s?.emit("validate",n.prop,!1,d.value)},z=()=>{N("success"),s?.emit("validate",n.prop,!0,"")},W=async ae=>{const X=S.value;return new NI({[X]:ae}).validate({[X]:E.value},{firstFields:!0}).then(()=>(z(),!0)).catch(q=>(M(q),Promise.reject(q)))},j=async(ae,X)=>{if(g||!n.prop)return!1;const J=ft(X);if(!I.value)return X?.(!1),!1;const q=F(ae);return q.length===0?(X?.(!0),!0):(N("validating"),W(q).then(()=>(X?.(!0),!0)).catch(P=>{const{fields:Q}=P;return X?.(!1,Q),J?!1:Promise.reject(Q)}))},U=()=>{N(""),d.value="",g=!1},Y=async()=>{const ae=s?.model;if(!ae||!n.prop)return;const X=pk(ae,n.prop);g=!0,X.value=Ige(p),await Ye(),U(),g=!1},G=ae=>{u.value.includes(ae)||u.value.push(ae)},ne=ae=>{u.value=u.value.filter(X=>X!==ae)};xe(()=>n.error,ae=>{d.value=ae||"",N(ae?"error":"")},{immediate:!0}),xe(()=>n.validateStatus,ae=>N(ae||""));const ue=In({...ao(n),$el:h,size:i,validateMessage:d,validateState:c,labelId:l,inputIds:u,isGroup:T,hasLabel:$,fieldValue:E,addInputId:G,removeInputId:ne,resetField:Y,clearValidate:U,validate:j,propString:S});return ln(Ad,ue),jt(()=>{n.prop&&(s?.addField(ue),p=Ige(E.value))}),Nn(()=>{s?.removeField(ue)}),t({size:i,validateMessage:d,validateState:c,validate:j,clearValidate:U,resetField:Y}),(ae,X)=>{var J;return B(),K("div",{ref_key:"formItemRef",ref:h,class:V(b.value),role:T.value?"group":void 0,"aria-labelledby":T.value?x(l):void 0},[ee(x(pxn),{"is-auto-width":v.value.width==="auto","update-all":((J=x(s))==null?void 0:J.labelWidth)==="auto"},{default:ie(()=>[ae.label||ae.$slots.label?(B(),pe(zt(k.value?"label":"div"),{key:0,id:x(l),for:k.value,class:V(x(a).e("label")),style:dt(v.value)},{default:ie(()=>[ce(ae.$slots,"label",{label:D.value},()=>[Jt(De(D.value),1)])]),_:3},8,["id","for","class","style"])):fe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:V(x(a).e("content")),style:dt(y.value)},[ce(ae.$slots,"default"),ee(_1e,{name:`${x(a).namespace.value}-zoom-in-top`},{default:ie(()=>[L.value?ce(ae.$slots,"error",{key:0,error:d.value},()=>[Z("div",{class:V(C.value)},De(d.value),3)]):fe("v-if",!0)]),_:3},8,["name"])],6)],10,gxn)}}});var w6e=Ve(mxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const vxn=Rt(Own,{FormItem:w6e}),yxn=Ur(w6e),bxn=Me({urlList:{type:oe(Array),default:()=>zr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:oe(String)}}),wxn={close:()=>!0,error:e=>e instanceof Event,switch:e=>pt(e),rotate:e=>pt(e)},xxn=["src","crossorigin"],Cxn=me({name:"ElImageViewer",__name:"image-viewer",props:bxn,emits:wxn,setup(e,{expose:t,emit:n}){var r;const s={CONTAIN:{name:"contain",icon:Vh(Rcn)},ORIGINAL:{name:"original",icon:Vh(rfn)}},o=e,i=n;let a;const{t:l}=un(),u=Ae("image-viewer"),{nextZIndex:c}=xI(),f=H(),d=H(),h=F5e(),p=O(()=>{const{scale:J,minScale:q,maxScale:P}=o;return eLe(J,q,P)}),g=H(!0),m=H(!1),v=H(!1),y=H(o.initialIndex),b=lr(s.CONTAIN),w=H({scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),C=H((r=o.zIndex)!=null?r:c());T8(v,{ns:u});const S=O(()=>{const{urlList:J}=o;return J.length<=1}),$=O(()=>y.value===0),k=O(()=>y.value===o.urlList.length-1),T=O(()=>o.urlList[y.value]),_=O(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!o.infinite&&$.value)]),E=O(()=>[u.e("btn"),u.e("next"),u.is("disabled",!o.infinite&&k.value)]),A=O(()=>{const{scale:J,deg:q,offsetX:P,offsetY:Q,enableTransition:se}=w.value;let de=P/J,he=Q/J;const ge=q*Math.PI/180,$e=Math.cos(ge),He=Math.sin(ge);de=de*$e+he*He,he=he*$e-P/J*He;const Ie={transform:`scale(${J}) rotate(${q}deg) translate(${de}px, ${he}px)`,transition:se?"transform .3s":""};return b.value.name===s.CONTAIN.name&&(Ie.maxWidth=Ie.maxHeight="100%"),Ie}),I=O(()=>`${y.value+1} / ${o.urlList.length}`);function F(){L(),a?.(),v.value=!1,i("close")}function R(){const J=jg(P=>{switch(Hn(P)){case Re.esc:o.closeOnPressEscape&&F();break;case Re.space:j();break;case Re.left:Y();break;case Re.up:ne("zoomIn");break;case Re.right:G();break;case Re.down:ne("zoomOut");break}}),q=jg(P=>{const Q=P.deltaY||P.deltaX;ne(Q<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});h.run(()=>{Fn(document,"keydown",J),Fn(f,"wheel",q)})}function L(){h.stop()}function D(){g.value=!1}function N(J){m.value=!0,g.value=!1,i("error",J),J.target.alt=l("el.image.error")}function M(J){if(g.value||J.button!==0||!f.value)return;w.value.enableTransition=!1;const{offsetX:q,offsetY:P}=w.value,Q=J.pageX,se=J.pageY,de=jg($e=>{w.value={...w.value,offsetX:q+$e.pageX-Q,offsetY:P+$e.pageY-se}}),he=Fn(document,"mousemove",de),ge=Fn(document,"mouseup",()=>{he(),ge()});J.preventDefault()}function z(J){if(g.value||!f.value||J.touches.length!==1)return;w.value.enableTransition=!1;const{offsetX:q,offsetY:P}=w.value,{pageX:Q,pageY:se}=J.touches[0],de=jg($e=>{const He=$e.touches[0];w.value={...w.value,offsetX:q+He.pageX-Q,offsetY:P+He.pageY-se}}),he=Fn(document,"touchmove",de),ge=Fn(document,"touchend",()=>{he(),ge()});J.preventDefault()}function W(){w.value={scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function j(){if(g.value||m.value)return;const J=l_(s),q=Object.values(s),P=b.value.name,se=(q.findIndex(de=>de.name===P)+1)%J.length;b.value=s[J[se]],W()}function U(J){m.value=!1;const q=o.urlList.length;y.value=(J+q)%q}function Y(){$.value&&!o.infinite||U(y.value-1)}function G(){k.value&&!o.infinite||U(y.value+1)}function ne(J,q={}){if(g.value||m.value)return;const{minScale:P,maxScale:Q}=o,{zoomRate:se,rotateDeg:de,enableTransition:he}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...q};switch(J){case"zoomOut":w.value.scale>P&&(w.value.scale=Number.parseFloat((w.value.scale/se).toFixed(3)));break;case"zoomIn":w.value.scale<Q&&(w.value.scale=Number.parseFloat((w.value.scale*se).toFixed(3)));break;case"clockwise":w.value.deg+=de,i("rotate",w.value.deg);break;case"anticlockwise":w.value.deg-=de,i("rotate",w.value.deg);break}w.value.enableTransition=he}function ue(J){var q;((q=J.detail)==null?void 0:q.focusReason)==="pointer"&&J.preventDefault()}function ae(){o.closeOnPressEscape&&F()}function X(J){if(J.ctrlKey){if(J.deltaY<0)return J.preventDefault(),!1;if(J.deltaY>0)return J.preventDefault(),!1}}return xe(()=>p.value,J=>{w.value.scale=J}),xe(T,()=>{Ye(()=>{const J=d.value;J?.complete||(g.value=!0)})}),xe(y,J=>{W(),i("switch",J)}),jt(()=>{v.value=!0,R(),a=Fn("wheel",X,{passive:!1})}),t({setActiveItem:U}),(J,q)=>(B(),pe(x(KC),{to:"body",disabled:!J.teleported},{default:ie(()=>[ee(Ho,{name:"viewer-fade",appear:""},{default:ie(()=>[Z("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:V(x(u).e("wrapper")),style:dt({zIndex:C.value})},[ee(x(YC),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:ue,onReleaseRequested:ae},{default:ie(()=>[Z("div",{class:V(x(u).e("mask")),onClick:q[0]||(q[0]=xt(P=>J.hideOnClickModal&&F(),["self"]))},null,2),fe(" CLOSE "),Z("span",{class:V([x(u).e("btn"),x(u).e("close")]),onClick:F},[ee(x(ot),null,{default:ie(()=>[ee(x(qu))]),_:1})],2),fe(" ARROW "),S.value?fe("v-if",!0):(B(),K(rt,{key:0},[Z("span",{class:V(_.value),onClick:Y},[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1})],2),Z("span",{class:V(E.value),onClick:G},[ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})],2)],64)),J.$slots.progress||J.showProgress?(B(),K("div",{key:1,class:V([x(u).e("btn"),x(u).e("progress")])},[ce(J.$slots,"progress",{activeIndex:y.value,total:J.urlList.length},()=>[Jt(De(I.value),1)])],2)):fe("v-if",!0),fe(" ACTIONS "),Z("div",{class:V([x(u).e("btn"),x(u).e("actions")])},[Z("div",{class:V(x(u).e("actions__inner"))},[ce(J.$slots,"toolbar",{actions:ne,prev:Y,next:G,reset:j,activeIndex:y.value,setActiveItem:U},()=>[ee(x(ot),{onClick:q[1]||(q[1]=P=>ne("zoomOut"))},{default:ie(()=>[ee(x(yfn))]),_:1}),ee(x(ot),{onClick:q[2]||(q[2]=P=>ne("zoomIn"))},{default:ie(()=>[ee(x(xLe))]),_:1}),Z("i",{class:V(x(u).e("actions__divider"))},null,2),ee(x(ot),{onClick:j},{default:ie(()=>[(B(),pe(zt(b.value.icon)))]),_:1}),Z("i",{class:V(x(u).e("actions__divider"))},null,2),ee(x(ot),{onClick:q[3]||(q[3]=P=>ne("anticlockwise"))},{default:ie(()=>[ee(x(Zcn))]),_:1}),ee(x(ot),{onClick:q[4]||(q[4]=P=>ne("clockwise"))},{default:ie(()=>[ee(x(Qcn))]),_:1})])],2)],2),fe(" CANVAS "),Z("div",{class:V(x(u).e("canvas"))},[m.value&&J.$slots["viewer-error"]?ce(J.$slots,"viewer-error",{key:0,activeIndex:y.value,src:T.value}):(B(),K("img",{ref_key:"imgRef",ref:d,key:T.value,src:T.value,style:dt(A.value),class:V(x(u).e("img")),crossorigin:J.crossorigin,onLoad:D,onError:N,onMousedown:M,onTouchstart:z},null,46,xxn))],2),ce(J.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var Sxn=Ve(Cxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const x6e=Rt(Sxn),$xn=Me({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:oe([String,Object])},previewSrcList:{type:oe(Array),default:()=>zr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:oe(String)}}),kxn={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>pt(e),close:()=>!0,show:()=>!0},Exn=["src","loading","crossorigin"],_xn={key:0},Txn=me({name:"ElImage",inheritAttrs:!1,__name:"image",props:$xn,emits:kxn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("image"),a=$p(),l=O(()=>a_(Object.entries(a).filter(([D])=>/^(data-|on[A-Z])/i.test(D)||["id","style"].includes(D)))),u=x8({excludeListeners:!0,excludeKeys:O(()=>Object.keys(l.value))}),c=H(),f=H(!1),d=H(!0),h=H(!1),p=H(),g=H(),m=Tn&&"loading"in HTMLImageElement.prototype;let v;const y=O(()=>[i.e("inner"),w.value&&i.e("preview"),d.value&&i.is("loading")]),b=O(()=>{const{fit:D}=r;return Tn&&D?{objectFit:D}:{}}),w=O(()=>{const{previewSrcList:D}=r;return Oe(D)&&D.length>0}),C=O(()=>{const{previewSrcList:D,initialIndex:N}=r;let M=N;return N>D.length-1&&(M=0),M}),S=O(()=>r.loading==="eager"?!1:!m&&r.loading==="lazy"||r.lazy),$=()=>{Tn&&(d.value=!0,f.value=!1,c.value=r.src)};function k(D){d.value=!1,f.value=!1,s("load",D)}function T(D){d.value=!1,f.value=!0,s("error",D)}function _(D){D&&($(),I())}const E=nLe(_,200,!0);async function A(){var D;if(!Tn)return;await Ye();const{scrollContainer:N}=r;if(cl(N))g.value=N;else if(it(N)&&N!=="")g.value=(D=document.querySelector(N))!=null?D:void 0;else if(p.value){const z=fne(p.value);g.value=yI(z)?void 0:z}const{stop:M}=Pun(p,([z])=>{E(z.isIntersecting)},{root:g});v=M}function I(){!Tn||!E||(v?.(),g.value=void 0,v=void 0)}function F(){w.value&&(h.value=!0,s("show"))}function R(){h.value=!1,s("close")}function L(D){s("switch",D)}return xe(()=>r.src,()=>{S.value?(d.value=!0,f.value=!1,I(),A()):$()}),jt(()=>{S.value?A():$()}),t({showPreview:F}),(D,N)=>(B(),K("div",Wt({ref_key:"container",ref:p},l.value,{class:[x(i).b(),D.$attrs.class]}),[f.value?ce(D.$slots,"error",{key:0},()=>[Z("div",{class:V(x(i).e("error"))},De(x(o)("el.image.error")),3)]):(B(),K(rt,{key:1},[c.value!==void 0?(B(),K("img",Wt({key:0},x(u),{src:c.value,loading:D.loading,style:b.value,class:y.value,crossorigin:D.crossorigin,onClick:F,onLoad:k,onError:T}),null,16,Exn)):fe("v-if",!0),d.value?(B(),K("div",{key:1,class:V(x(i).e("wrapper"))},[ce(D.$slots,"placeholder",{},()=>[Z("div",{class:V(x(i).e("placeholder"))},null,2)])],2)):fe("v-if",!0)],64)),w.value?(B(),K(rt,{key:2},[h.value?(B(),pe(x(x6e),{key:0,"z-index":D.zIndex,"initial-index":C.value,infinite:D.infinite,"zoom-rate":D.zoomRate,"min-scale":D.minScale,"max-scale":D.maxScale,"show-progress":D.showProgress,"url-list":D.previewSrcList,scale:D.scale,crossorigin:D.crossorigin,"hide-on-click-modal":D.hideOnClickModal,teleported:D.previewTeleported,"close-on-press-escape":D.closeOnPressEscape,onClose:R,onSwitch:L},vl({toolbar:ie(M=>[ce(D.$slots,"toolbar",zh(Wh(M)))]),default:ie(()=>[D.$slots.viewer?(B(),K("div",_xn,[ce(D.$slots,"viewer")])):fe("v-if",!0)]),_:2},[D.$slots.progress?{name:"progress",fn:ie(M=>[ce(D.$slots,"progress",zh(Wh(M)))]),key:"0"}:void 0,D.$slots["viewer-error"]?{name:"viewer-error",fn:ie(M=>[ce(D.$slots,"viewer-error",zh(Wh(M)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):fe("v-if",!0)],64)):fe("v-if",!0)],16))}});var Axn=Ve(Txn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Ixn=Rt(Axn),Nxn=Me({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:js,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:oe([String,Number,null]),validator:e=>e===null||pt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...fa(["ariaLabel"]),inputmode:{type:oe(String),default:void 0},align:{type:oe(String),default:"center"},disabledScientific:Boolean}),Dxn={[tn]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Os]:e=>pt(e)||vs(e),[Et]:e=>pt(e)||vs(e)},Oxn=["aria-label"],Rxn=["aria-label"],Fxn=me({name:"ElInputNumber",__name:"input-number",props:Nxn,emits:Dxn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("input-number"),a=H(),l=In({currentValue:r.modelValue,userInput:null}),{formItem:u}=Ro(),c=O(()=>pt(r.modelValue)&&r.modelValue<=r.min),f=O(()=>pt(r.modelValue)&&r.modelValue>=r.max),d=O(()=>{const D=y(r.step);return yn(r.precision)?Math.max(y(r.modelValue),D):(D>r.precision,r.precision)}),h=O(()=>r.controls&&r.controlsPosition==="right"),p=Fs(),g=jr(),m=O(()=>{if(l.userInput!==null)return l.userInput;let D=l.currentValue;if(vs(D))return"";if(pt(D)){if(Number.isNaN(D))return"";yn(r.precision)||(D=D.toFixed(r.precision))}return D}),v=(D,N)=>{if(yn(N)&&(N=d.value),N===0)return Math.round(D);let M=String(D);const z=M.indexOf(".");if(z===-1||!M.replace(".","").split("")[z+N])return D;const U=M.length;return M.charAt(U-1)==="5"&&(M=`${M.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(M).toFixed(N))},y=D=>{if(vs(D))return 0;const N=D.toString(),M=N.indexOf(".");let z=0;return M!==-1&&(z=N.length-M-1),z},b=(D,N=1)=>pt(D)?D>=Number.MAX_SAFE_INTEGER&&N===1||D<=Number.MIN_SAFE_INTEGER&&N===-1?D:v(D+r.step*N):l.currentValue,w=D=>{const N=Hn(D),M=LLe(D);if(r.disabledScientific&&["e","E"].includes(M)){D.preventDefault();return}switch(N){case Re.up:{D.preventDefault(),C();break}case Re.down:{D.preventDefault(),S();break}}},C=()=>{if(r.readonly||g.value||f.value)return;const D=Number(m.value)||0,N=b(D);k(N),s(Os,l.currentValue),R()},S=()=>{if(r.readonly||g.value||c.value)return;const D=Number(m.value)||0,N=b(D,-1);k(N),s(Os,l.currentValue),R()},$=(D,N)=>{const{max:M,min:z,step:W,precision:j,stepStrictly:U,valueOnClear:Y}=r;M<z&&Ts("InputNumber","min should not be greater than max.");let G=Number(D);if(vs(D)||Number.isNaN(G))return null;if(D===""){if(Y===null)return null;G=it(Y)?{min:z,max:M}[Y]:Y}return U&&(G=v(Math.round(v(G/W))*W,j),G!==D&&N&&s(Et,G)),yn(j)||(G=v(G,j)),(G>M||G<z)&&(G=G>M?M:z,N&&s(Et,G)),G},k=(D,N=!0)=>{var M;const z=l.currentValue,W=$(D);if(!N){s(Et,W);return}l.userInput=null,!(z===W&&D)&&(s(Et,W),z!==W&&s(tn,W,z),r.validateEvent&&((M=u?.validate)==null||M.call(u,"change").catch(j=>void 0)),l.currentValue=W)},T=D=>{l.userInput=D;const N=D===""?null:Number(D);s(Os,N),k(N,!1)},_=D=>{const N=D!==""?Number(D):"";(pt(N)&&!Number.isNaN(N)||D==="")&&k(N),R(),l.userInput=null},E=()=>{var D,N;(N=(D=a.value)==null?void 0:D.focus)==null||N.call(D)},A=()=>{var D,N;(N=(D=a.value)==null?void 0:D.blur)==null||N.call(D)},I=D=>{s("focus",D)},F=D=>{var N,M;l.userInput=null,l.currentValue===null&&((N=a.value)!=null&&N.input)&&(a.value.input.value=""),s("blur",D),r.validateEvent&&((M=u?.validate)==null||M.call(u,"blur").catch(z=>void 0))},R=()=>{l.currentValue!==r.modelValue&&(l.currentValue=r.modelValue)},L=D=>{document.activeElement===D.target&&D.preventDefault()};return xe(()=>r.modelValue,(D,N)=>{const M=$(D,!0);l.userInput===null&&M!==N&&(l.currentValue=M)},{immediate:!0}),xe(()=>r.precision,()=>{l.currentValue=$(r.modelValue)}),jt(()=>{var D;const{min:N,max:M,modelValue:z}=r,W=(D=a.value)==null?void 0:D.input;if(W.setAttribute("role","spinbutton"),Number.isFinite(M)?W.setAttribute("aria-valuemax",String(M)):W.removeAttribute("aria-valuemax"),Number.isFinite(N)?W.setAttribute("aria-valuemin",String(N)):W.removeAttribute("aria-valuemin"),W.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),W.setAttribute("aria-disabled",String(g.value)),!pt(z)&&z!=null){let j=Number(z);Number.isNaN(j)&&(j=null),s(Et,j)}W.addEventListener("wheel",L,{passive:!1})}),Yc(()=>{var D,N;const M=(D=a.value)==null?void 0:D.input;M?.setAttribute("aria-valuenow",`${(N=l.currentValue)!=null?N:""}`)}),t({focus:E,blur:A}),(D,N)=>(B(),K("div",{class:V([x(i).b(),x(i).m(x(p)),x(i).is("disabled",x(g)),x(i).is("without-controls",!D.controls),x(i).is("controls-right",h.value),x(i).is(D.align,!!D.align)]),onDragstart:N[0]||(N[0]=xt(()=>{},["prevent"]))},[D.controls?Lt((B(),K("span",{key:0,role:"button","aria-label":x(o)("el.inputNumber.decrease"),class:V([x(i).e("decrease"),x(i).is("disabled",c.value)]),onKeydown:qr(S,["enter"])},[ce(D.$slots,"decrease-icon",{},()=>[ee(x(ot),null,{default:ie(()=>[h.value?(B(),pe(x(th),{key:0})):(B(),pe(x(zcn),{key:1}))]),_:1})])],42,Oxn)),[[x(aM),S]]):fe("v-if",!0),D.controls?Lt((B(),K("span",{key:1,role:"button","aria-label":x(o)("el.inputNumber.increase"),class:V([x(i).e("increase"),x(i).is("disabled",f.value)]),onKeydown:qr(C,["enter"])},[ce(D.$slots,"increase-icon",{},()=>[ee(x(ot),null,{default:ie(()=>[h.value?(B(),pe(x(y8),{key:0})):(B(),pe(x(gne),{key:1}))]),_:1})])],42,Rxn)),[[x(aM),C]]):fe("v-if",!0),ee(x(Xi),{id:D.id,ref_key:"input",ref:a,type:"number",step:D.step,"model-value":m.value,placeholder:D.placeholder,readonly:D.readonly,disabled:x(g),size:x(p),max:D.max,min:D.min,name:D.name,"aria-label":D.ariaLabel,"validate-event":!1,inputmode:D.inputmode,onKeydown:w,onBlur:F,onFocus:I,onInput:T,onChange:_},vl({_:2},[D.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(D.$slots,"prefix")]),key:"0"}:void 0,D.$slots.suffix?{name:"suffix",fn:ie(()=>[ce(D.$slots,"suffix")]),key:"1"}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],34))}});var Mxn=Ve(Fxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const C6e=Rt(Mxn),Pxn=Me({modelValue:{type:oe(Array)},max:Number,tagType:{...xp.type,default:"info"},tagEffect:xp.effect,trigger:{type:oe(String),default:Re.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:js,clearable:Boolean,clearIcon:{type:zn,default:jp},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:oe(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),Lxn={[Et]:e=>Oe(e)||yn(e),[tn]:e=>Oe(e)||yn(e),[Os]:e=>it(e),"add-tag":e=>it(e)||Oe(e),"remove-tag":(e,t)=>it(e)&&pt(t),"drag-tag":(e,t,n)=>pt(e)&&pt(t)&&it(n),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Bxn({props:e,emit:t,formItem:n}){const r=jr(),s=Fs(),o=lr(),i=H(),a=H(),l=O(()=>["small"].includes(s.value)?"small":"default"),u=O(()=>{var R;return(R=e.modelValue)!=null&&R.length?void 0:e.placeholder}),c=O(()=>!(e.readonly||r.value)),f=O(()=>{var R,L;return yn(e.max)?!1:((L=(R=e.modelValue)==null?void 0:R.length)!=null?L:0)>=e.max}),d=O(()=>{var R;return e.collapseTags?(R=e.modelValue)==null?void 0:R.slice(0,e.maxCollapseTags):e.modelValue}),h=O(()=>{var R;return e.collapseTags?(R=e.modelValue)==null?void 0:R.slice(e.maxCollapseTags):[]}),p=R=>{var L;const D=[...(L=e.modelValue)!=null?L:[],...vo(R)];t(Et,D),t(tn,D),t("add-tag",R),i.value=void 0},g=R=>{var L,D;const N=R.split(e.delimiter).filter(M=>M&&M!==R);if(e.max){const M=e.max-((D=(L=e.modelValue)==null?void 0:L.length)!=null?D:0);N.splice(M)}return N.length===1?N[0]:N},m=R=>{if(f.value){i.value=void 0;return}if(!E.value){if(e.delimiter&&i.value){const L=g(i.value);L.length&&p(L)}t(Os,R.target.value)}},v=R=>{var L;if(E.value)return;switch(Hn(R)){case e.trigger:R.preventDefault(),R.stopPropagation(),b();break;case Re.numpadEnter:e.trigger===Re.enter&&(R.preventDefault(),R.stopPropagation(),b());break;case Re.backspace:!i.value&&((L=e.modelValue)!=null&&L.length)&&(R.preventDefault(),R.stopPropagation(),w(e.modelValue.length-1));break}},y=R=>{if(E.value||!SLe())return;Hn(R)===Re.space&&e.trigger===Re.space&&(R.preventDefault(),R.stopPropagation(),b())},b=()=>{var R;const L=(R=i.value)==null?void 0:R.trim();!L||f.value||p(L)},w=R=>{var L;const D=((L=e.modelValue)!=null?L:[]).slice(),[N]=D.splice(R,1);t(Et,D),t(tn,D),t("remove-tag",N,R)},C=()=>{i.value=void 0,t(Et,void 0),t(tn,void 0),t("clear")},S=(R,L,D)=>{var N;const M=((N=e.modelValue)!=null?N:[]).slice(),[z]=M.splice(R,1),W=L>R&&D==="before"?-1:L<R&&D==="after"?1:0;M.splice(L+W,0,z),t(Et,M),t(tn,M),t("drag-tag",R,L+W,z)},$=()=>{var R;(R=o.value)==null||R.focus()},k=()=>{var R;(R=o.value)==null||R.blur()},{wrapperRef:T,isFocused:_}=Hp(o,{disabled:r,beforeBlur(R){var L;return(L=a.value)==null?void 0:L.isFocusInsideContent(R)},afterBlur(){var R;e.saveOnBlur?b():i.value=void 0,e.validateEvent&&((R=n?.validate)==null||R.call(n,"blur").catch(L=>void 0))}}),{isComposing:E,handleCompositionStart:A,handleCompositionUpdate:I,handleCompositionEnd:F}=_I({afterComposition:m});return xe(()=>e.modelValue,()=>{var R;e.validateEvent&&((R=n?.validate)==null||R.call(n,tn).catch(L=>void 0))}),{inputRef:o,wrapperRef:T,tagTooltipRef:a,isFocused:_,isComposing:E,inputValue:i,size:s,tagSize:l,placeholder:u,closable:c,disabled:r,inputLimit:f,showTagList:d,collapseTagList:h,handleDragged:S,handleInput:m,handleKeydown:v,handleKeyup:y,handleAddTag:b,handleRemoveTag:w,handleClear:C,handleCompositionStart:A,handleCompositionUpdate:I,handleCompositionEnd:F,focus:$,blur:k}}function zxn(){const e=H(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}const I8=11,S6e=2;function Xne(){const e=lr(),t=H(0),n=O(()=>({minWidth:`${Math.max(t.value,I8)}px`}));return Cr(e,()=>{var s,o;t.value=(o=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}function Vxn({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=Ae("input-tag"),s=lr(),o=H(!1);let i,a,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,g){i=g,a=e.value.querySelector(c(g)),a&&(a.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,g){if(l=g,p.preventDefault(),p.dataTransfer.dropEffect="move",yn(i)||i===g){o.value=!1;return}const m=e.value.querySelector(c(g)).getBoundingClientRect(),v=i+1!==g,y=i-1!==g,b=p.clientX-m.left,w=v?y?.5:1:-1,C=y?v?.5:0:1;b<=m.width*w?u="before":b>m.width*C?u="after":u=void 0;const S=e.value.querySelector(`.${r.e("inner")}`),$=S.getBoundingClientRect(),k=Number.parseFloat(Th(S,"gap"))/2,T=m.top-$.top;let _=-9999;if(u==="before")_=Math.max(m.left-$.left-k,Math.floor(-k/2));else if(u==="after"){const E=m.right-$.left;_=E+($.width===E?Math.floor(k/2):k)}pLe(s.value,{top:`${T}px`,left:`${_}px`}),o.value=!!u}function h(p){p.preventDefault(),a&&(a.style.opacity=""),u&&!yn(i)&&!yn(l)&&i!==l&&t(i,l,u),o.value=!1,i=void 0,a=null,l=void 0,u=void 0,n?.()}return{dropIndicatorRef:s,showDropIndicator:o,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function Wxn({props:e,isFocused:t,hovering:n,disabled:r,inputValue:s,size:o,validateState:i,validateIcon:a,needStatusIcon:l}){const u=$p(),c=Ms(),f=Ae("input-tag"),d=Ae("input"),h=H(),p=H(),g=O(()=>[f.b(),f.is("focused",t.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(o.value),f.e("wrapper"),u.class]),m=O(()=>[u.style]),v=O(()=>{var T,_;return[f.e("inner"),f.is("draggable",e.draggable),f.is("left-space",!((T=e.modelValue)!=null&&T.length)&&!c.prefix),f.is("right-space",!((_=e.modelValue)!=null&&_.length)&&!b.value)]}),y=O(()=>{var T;return e.clearable&&!r.value&&!e.readonly&&(((T=e.modelValue)==null?void 0:T.length)||s.value)&&(t.value||n.value)}),b=O(()=>c.suffix||y.value||i.value&&a.value&&l.value),w=In({innerWidth:0,collapseItemWidth:0}),C=()=>{if(!p.value)return 0;const T=window.getComputedStyle(p.value);return Number.parseFloat(T.gap||"6px")},S=()=>{w.innerWidth=Number.parseFloat(window.getComputedStyle(p.value).width)},$=()=>{w.collapseItemWidth=h.value.getBoundingClientRect().width},k=O(()=>{if(!e.collapseTags)return{};const T=C(),_=T+I8,E=h.value&&e.maxCollapseTags===1?w.innerWidth-w.collapseItemWidth-T-_:w.innerWidth-_;return{maxWidth:`${Math.max(E,0)}px`}});return Cr(p,S),Cr(h,$),{ns:f,nsInput:d,containerKls:g,containerStyle:m,innerKls:v,showClear:y,showSuffix:b,tagStyle:k,collapseItemRef:h,innerRef:p}}const Uxn=["id","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel"],jxn=["textContent"],Hxn=me({name:"ElInputTag",inheritAttrs:!1,__name:"input-tag",props:Pxn,emits:Lxn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=x8(),i=Ms(),{form:a,formItem:l}=Ro(),{inputId:u}=lu(r,{formItemContext:l}),c=O(()=>{var Ie;return(Ie=a?.statusIcon)!=null?Ie:!1}),f=O(()=>l?.validateState||""),d=O(()=>f.value&&w8[f.value]),{inputRef:h,wrapperRef:p,tagTooltipRef:g,isFocused:m,inputValue:v,size:y,tagSize:b,placeholder:w,closable:C,disabled:S,showTagList:$,collapseTagList:k,handleDragged:T,handleInput:_,handleKeydown:E,handleKeyup:A,handleRemoveTag:I,handleClear:F,handleCompositionStart:R,handleCompositionUpdate:L,handleCompositionEnd:D,focus:N,blur:M}=Bxn({props:r,emit:s,formItem:l}),{hovering:z,handleMouseEnter:W,handleMouseLeave:j}=zxn(),{calculatorRef:U,inputStyle:Y}=Xne(),{dropIndicatorRef:G,showDropIndicator:ne,handleDragStart:ue,handleDragOver:ae,handleDragEnd:X}=Vxn({wrapperRef:p,handleDragged:T,afterDragged:N}),{ns:J,nsInput:q,containerKls:P,containerStyle:Q,innerKls:se,showClear:de,showSuffix:he,tagStyle:ge,collapseItemRef:$e,innerRef:He}=Wxn({props:r,hovering:z,isFocused:m,inputValue:v,disabled:S,size:y,validateState:f,validateIcon:d,needStatusIcon:c});return t({focus:N,blur:M}),(Ie,Ce)=>(B(),K("div",{ref_key:"wrapperRef",ref:p,class:V(x(P)),style:dt(x(Q)),onMouseenter:Ce[8]||(Ce[8]=(...Fe)=>x(W)&&x(W)(...Fe)),onMouseleave:Ce[9]||(Ce[9]=(...Fe)=>x(j)&&x(j)(...Fe))},[x(i).prefix?(B(),K("div",{key:0,class:V(x(J).e("prefix"))},[ce(Ie.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref_key:"innerRef",ref:He,class:V(x(se))},[(B(!0),K(rt,null,Ht(x($),(Fe,ze)=>(B(),pe(x(Jh),{key:ze,size:x(b),closable:x(C),type:Ie.tagType,effect:Ie.tagEffect,draggable:x(C)&&Ie.draggable,style:dt(x(ge)),"disable-transitions":"",onClose:Ue=>x(I)(ze),onDragstart:Ue=>x(ue)(Ue,ze),onDragover:Ue=>x(ae)(Ue,ze),onDragend:x(X),onDrop:Ce[0]||(Ce[0]=xt(()=>{},["stop"]))},{default:ie(()=>[ce(Ie.$slots,"tag",{value:Fe,index:ze},()=>[Jt(De(Fe),1)])]),_:2},1032,["size","closable","type","effect","draggable","style","onClose","onDragstart","onDragover","onDragend"]))),128)),Ie.collapseTags&&Ie.modelValue&&Ie.modelValue.length>Ie.maxCollapseTags?(B(),pe(x(Xo),{key:0,ref_key:"tagTooltipRef",ref:g,disabled:!Ie.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:Ie.tagEffect,placement:"bottom"},{default:ie(()=>[Z("div",{ref_key:"collapseItemRef",ref:$e},[ee(x(Jh),{closable:!1,size:x(b),type:Ie.tagType,effect:Ie.tagEffect,"disable-transitions":""},{default:ie(()=>[Jt(" + "+De(Ie.modelValue.length-Ie.maxCollapseTags),1)]),_:1},8,["size","type","effect"])],512)]),content:ie(()=>[Z("div",{class:V(x(J).e("input-tag-list"))},[(B(!0),K(rt,null,Ht(x(k),(Fe,ze)=>(B(),pe(x(Jh),{key:ze,size:x(b),closable:x(C),type:Ie.tagType,effect:Ie.tagEffect,"disable-transitions":"",onClose:Ue=>x(I)(ze+Ie.maxCollapseTags)},{default:ie(()=>[ce(Ie.$slots,"tag",{value:Fe,index:ze+Ie.maxCollapseTags},()=>[Jt(De(Fe),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):fe("v-if",!0),Z("div",{class:V(x(J).e("input-wrapper"))},[Lt(Z("input",Wt({id:x(u),ref_key:"inputRef",ref:h,"onUpdate:modelValue":Ce[1]||(Ce[1]=Fe=>fr(v)?v.value=Fe:null)},x(o),{type:"text",minlength:Ie.minlength,maxlength:Ie.maxlength,disabled:x(S),readonly:Ie.readonly,autocomplete:Ie.autocomplete,tabindex:Ie.tabindex,placeholder:x(w),autofocus:Ie.autofocus,ariaLabel:Ie.ariaLabel,class:x(J).e("input"),style:x(Y),onCompositionstart:Ce[2]||(Ce[2]=(...Fe)=>x(R)&&x(R)(...Fe)),onCompositionupdate:Ce[3]||(Ce[3]=(...Fe)=>x(L)&&x(L)(...Fe)),onCompositionend:Ce[4]||(Ce[4]=(...Fe)=>x(D)&&x(D)(...Fe)),onInput:Ce[5]||(Ce[5]=(...Fe)=>x(_)&&x(_)(...Fe)),onKeydown:Ce[6]||(Ce[6]=(...Fe)=>x(E)&&x(E)(...Fe)),onKeyup:Ce[7]||(Ce[7]=(...Fe)=>x(A)&&x(A)(...Fe))}),null,16,Uxn),[[VM,x(v)]]),Z("span",{ref_key:"calculatorRef",ref:U,"aria-hidden":"true",class:V(x(J).e("input-calculator")),textContent:De(x(v))},null,10,jxn)],2),Lt(Z("div",{ref_key:"dropIndicatorRef",ref:G,class:V(x(J).e("drop-indicator"))},null,2),[[$n,x(ne)]])],2),x(he)?(B(),K("div",{key:1,class:V(x(J).e("suffix"))},[ce(Ie.$slots,"suffix"),x(de)?(B(),pe(x(ot),{key:0,class:V([x(J).e("icon"),x(J).e("clear")]),onMousedown:xt(x(Rn),["prevent"]),onClick:x(F)},{default:ie(()=>[(B(),pe(zt(Ie.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):fe("v-if",!0),f.value&&d.value&&c.value?(B(),pe(x(ot),{key:1,class:V([x(q).e("icon"),x(q).e("validateIcon"),x(q).is("loading",f.value==="validating")])},{default:ie(()=>[(B(),pe(zt(d.value)))]),_:1},8,["class"])):fe("v-if",!0)],2)):fe("v-if",!0)],38))}});var qxn=Ve(Hxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-tag/src/input-tag.vue"]]);const Gxn=Rt(qxn),Kxn=Me({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:zn}}),Yxn={click:e=>e instanceof MouseEvent},Xxn=["href","target"],Zxn=me({name:"ElLink",__name:"link",props:Kxn,emits:Yxn,setup(e,{emit:t}){const n=e,r=t,s=GC("link");sd({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},O(()=>Ln(n.underline)));const o=Ae("link"),i=O(()=>{var u,c,f;return[o.b(),o.m((f=(c=n.type)!=null?c:(u=s.value)==null?void 0:u.type)!=null?f:"default"),o.is("disabled",n.disabled),o.is("underline",a.value==="always"),o.is("hover-underline",a.value==="hover"&&!n.disabled)]}),a=O(()=>{var u,c,f;return Ln(n.underline)?n.underline?"hover":"never":(f=(c=n.underline)!=null?c:(u=s.value)==null?void 0:u.underline)!=null?f:"hover"});function l(u){n.disabled||r("click",u)}return(u,c)=>(B(),K("a",{class:V(i.value),href:u.disabled||!u.href?void 0:u.href,target:u.disabled||!u.href?void 0:u.target,onClick:l},[u.icon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(u.icon)))]),_:1})):fe("v-if",!0),u.$slots.default?(B(),K("span",{key:1,class:V(x(o).e("inner"))},[ce(u.$slots,"default")],2)):fe("v-if",!0),u.$slots.icon?ce(u.$slots,"icon",{key:2}):fe("v-if",!0)],10,Xxn))}});var Jxn=Ve(Zxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Qxn=Rt(Jxn);let e2n=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{const s=Hn(r);let o=!1;switch(s){case Re.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case Re.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case Re.tab:{B3(t,"mouseleave");break}case Re.enter:case Re.numpadEnter:case Re.space:{o=!0,r.currentTarget.click();break}}return o&&(r.preventDefault(),r.stopPropagation()),!1})})}},t2n=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new e2n(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{const n=Hn(t);let r=!1;switch(n){case Re.down:{B3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Re.up:{B3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Re.tab:{B3(t.currentTarget,"mouseleave");break}case Re.enter:case Re.numpadEnter:case Re.space:{r=!0,t.currentTarget.click();break}}r&&t.preventDefault()})}},n2n=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new t2n(r,t)})}};const r2n=me({name:"ElMenuCollapseTransition",__name:"menu-collapse-transition",setup(e){const t=Ae("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,s){Au(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",s()},onAfterEnter(r){ia(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),td(r,t.m("collapse"))?(ia(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Au(r,t.m("collapse"))):(Au(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),ia(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Au(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,s)=>(B(),pe(Ho,Wt({mode:"out-in"},n),{default:ie(()=>[ce(r.$slots,"default")]),_:3},16))}});var s2n=Ve(r2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function $6e(e,t){const n=O(()=>{let s=e.parent;const o=[t.value];for(;s.type.name!=="ElMenu";)s.props.index&&o.unshift(s.props.index),s=s.parent;return o});return{parentMenu:O(()=>{let s=e.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function o2n(e){return O(()=>{const n=e.backgroundColor;return n?new Zb(n).shade(20).toString():""})}const k6e=(e,t)=>{const n=Ae("menu");return O(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":o2n(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Zne="rootMenu",dM="subMenu:",i2n=Me({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:oe([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:zn},expandOpenIcon:{type:zn},collapseCloseIcon:{type:zn},collapseOpenIcon:{type:zn}}),W7="ElSubMenu";var Jne=me({name:W7,props:i2n,setup(e,{slots:t,expose:n}){const r=Ut(),{indexPath:s,parentMenu:o}=$6e(r,O(()=>e.index)),i=Ae("menu"),a=Ae("sub-menu"),l=tt(Zne);l||Ts(W7,"can not inject root menu");const u=tt(`${dM}${o.value.uid}`);u||Ts(W7,"can not inject sub menu");const c=H({}),f=H({});let d;const h=H(!1),p=H(),g=H(),m=O(()=>u.level===0),v=O(()=>k.value==="horizontal"&&m.value?"bottom-start":"right-start"),y=O(()=>k.value==="horizontal"&&m.value||k.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:th:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:aa),b=O(()=>{const j=e.teleported;return yn(j)?m.value:j}),w=O(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),C=O(()=>k.value==="horizontal"&&m.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=O(()=>l.openedMenus.includes(e.index)),$=O(()=>[...Object.values(c.value),...Object.values(f.value)].some(({active:j})=>j)),k=O(()=>l.props.mode),T=O(()=>l.props.persistent),_=In({index:e.index,indexPath:s,active:$}),E=k6e(l.props,u.level+1),A=O(()=>{var j;return(j=e.popperOffset)!=null?j:l.props.popperOffset}),I=O(()=>{var j;return(j=e.popperClass)!=null?j:l.props.popperClass}),F=O(()=>{var j;return(j=e.popperStyle)!=null?j:l.props.popperStyle}),R=O(()=>{var j;return(j=e.showTimeout)!=null?j:l.props.showTimeout}),L=O(()=>{var j;return(j=e.hideTimeout)!=null?j:l.props.hideTimeout}),D=()=>{var j,U,Y;return(Y=(U=(j=g.value)==null?void 0:j.popperRef)==null?void 0:U.popperInstanceRef)==null?void 0:Y.destroy()},N=j=>{j||D()},M=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:s.value,active:$.value})},z=(j,U=R.value)=>{var Y;if(j.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d?.(),{stop:d}=Rx(()=>{l.openMenu(e.index,s.value)},U),b.value&&((Y=o.value.vnode.el)==null||Y.dispatchEvent(new MouseEvent("mouseenter"))),j.type==="mouseenter"&&j.target&&Ye(()=>{EI(j.target,{preventScroll:!0})})}},W=(j=!1)=>{var U;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d?.(),u.mouseInChild.value=!1,{stop:d}=Rx(()=>!h.value&&l.closeMenu(e.index,s.value),L.value),b.value&&j&&((U=u.handleMouseleave)==null||U.call(u,!0))};xe(()=>l.props.collapse,j=>N(!!j));{const j=Y=>{f.value[Y.index]=Y},U=Y=>{delete f.value[Y.index]};ln(`${dM}${r.uid}`,{addSubMenu:j,removeSubMenu:U,handleMouseleave:W,mouseInChild:h,level:u.level+1})}return n({opened:S}),jt(()=>{l.addSubMenu(_),u.addSubMenu(_)}),Nn(()=>{u.removeSubMenu(_),l.removeSubMenu(_)}),()=>{var j;const U=[(j=t.title)==null?void 0:j.call(t),bt(ot,{class:a.e("icon-arrow"),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>it(y.value)?bt(r.appContext.components[y.value]):bt(y.value)})],Y=l.isMenuPopup?bt(Xo,{ref:g,visible:S.value,effect:"light",pure:!0,offset:A.value,showArrow:!1,persistent:T.value,popperClass:I.value,popperStyle:F.value,placement:v.value,teleported:b.value,fallbackPlacements:C.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var G;return bt("div",{class:[i.m(k.value),i.m("popup-container"),I.value],onMouseenter:ne=>z(ne,100),onMouseleave:()=>W(!0),onFocus:ne=>z(ne,100)},[bt("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${v.value}`)],style:E.value},[(G=t.default)==null?void 0:G.call(t)])])},default:()=>bt("div",{class:a.e("title"),onClick:M},U)}):bt(rt,{},[bt("div",{class:a.e("title"),ref:p,onClick:M},U),bt(E8,{},{default:()=>{var G;return Lt(bt("ul",{role:"menu",class:[i.b(),i.m("inline")],style:E.value},[(G=t.default)==null?void 0:G.call(t)]),[[$n,S.value]])}})]);return bt("li",{class:[a.b(),a.is("active",$.value),a.is("opened",S.value),a.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:z,onMouseleave:()=>W(),onFocus:z},[Y])}}});const a2n=Me({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:oe(Array),default:()=>zr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:zn,default:()=>jcn},popperEffect:{type:oe(String),default:"dark"},popperClass:String,popperStyle:{type:oe([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),U7=e=>Oe(e)&&e.every(t=>it(t)),l2n={close:(e,t)=>it(e)&&U7(t),open:(e,t)=>it(e)&&U7(t),select:(e,t,n,r)=>it(e)&&U7(t)&&Pt(n)&&(yn(r)||r instanceof Promise)},o0e=64;var u2n=me({name:"ElMenu",props:a2n,emits:l2n,setup(e,{emit:t,slots:n,expose:r}){const s=Ut(),o=s.appContext.config.globalProperties.$router,i=H(),a=H(),l=Ae("menu"),u=Ae("sub-menu");let c=o0e;const f=H(-1),d=H(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),h=H(e.defaultActive),p=H({}),g=H({}),m=O(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),v=()=>{const D=h.value&&p.value[h.value];if(!D||e.mode==="horizontal"||e.collapse)return;D.indexPath.forEach(M=>{const z=g.value[M];z&&y(M,z.indexPath)})},y=(D,N)=>{d.value.includes(D)||(e.uniqueOpened&&(d.value=d.value.filter(M=>N.includes(M))),d.value.push(D),t("open",D,N))},b=D=>{const N=d.value.indexOf(D);N!==-1&&d.value.splice(N,1)},w=(D,N)=>{b(D),t("close",D,N)},C=({index:D,indexPath:N})=>{d.value.includes(D)?w(D,N):y(D,N)},S=D=>{(e.mode==="horizontal"||e.collapse)&&(d.value=[]);const{index:N,indexPath:M}=D;if(!(vs(N)||vs(M)))if(e.router&&o){const z=D.route||N,W=o.push(z).then(j=>(j||(h.value=N),j));t("select",N,M,{index:N,indexPath:M,route:z},W)}else h.value=N,t("select",N,M,{index:N,indexPath:M})},$=D=>{var N;const M=p.value,z=M[D]||h.value&&M[h.value]||M[e.defaultActive];h.value=(N=z?.index)!=null?N:D},k=D=>{const N=getComputedStyle(D),M=Number.parseInt(N.marginLeft,10),z=Number.parseInt(N.marginRight,10);return D.offsetWidth+M+z||0},T=()=>{if(!i.value)return-1;const D=Array.from(i.value.childNodes).filter(Y=>Y.nodeName!=="#comment"&&(Y.nodeName!=="#text"||Y.nodeValue)),N=getComputedStyle(i.value),M=Number.parseInt(N.paddingLeft,10),z=Number.parseInt(N.paddingRight,10),W=i.value.clientWidth-M-z;let j=0,U=0;return D.forEach((Y,G)=>{j+=k(Y),j<=W-c&&(U=G+1)}),U===D.length?-1:U},_=D=>g.value[D].indexPath,E=(D,N=33.34)=>{let M;return()=>{M&&clearTimeout(M),M=setTimeout(()=>{D()},N)}};let A=!0;const I=()=>{const D=Vs(a);if(D&&(c=k(D)||o0e),f.value===T())return;const N=()=>{f.value=-1,Ye(()=>{f.value=T()})};A?N():E(N)(),A=!1};xe(()=>e.defaultActive,D=>{p.value[D]||(h.value=""),$(D)}),xe(()=>e.collapse,D=>{D&&(d.value=[])}),xe(p.value,v);let F;ml(()=>{e.mode==="horizontal"&&e.ellipsis?F=Cr(i,I).stop:F?.()});const R=H(!1);{const D=W=>{g.value[W.index]=W},N=W=>{delete g.value[W.index]};ln(Zne,In({props:e,openedMenus:d,items:p,subMenus:g,activeIndex:h,isMenuPopup:m,addMenuItem:W=>{p.value[W.index]=W},removeMenuItem:W=>{delete p.value[W.index]},addSubMenu:D,removeSubMenu:N,openMenu:y,closeMenu:w,handleMenuItemClick:S,handleSubMenuClick:C})),ln(`${dM}${s.uid}`,{addSubMenu:D,removeSubMenu:N,mouseInChild:R,level:0})}jt(()=>{e.mode==="horizontal"&&new n2n(s.vnode.el,l.namespace.value)}),r({open:N=>{const{indexPath:M}=g.value[N];M.forEach(z=>y(z,M))},close:b,updateActiveIndex:$,handleResize:I});const L=k6e(e,0);return()=>{var D,N;let M=(N=(D=n.default)==null?void 0:D.call(n))!=null?N:[];const z=[];if(e.mode==="horizontal"&&i.value){const U=Sc(M).filter(ne=>ne?.shapeFlag!==8),Y=f.value===-1?U:U.slice(0,f.value),G=f.value===-1?[]:U.slice(f.value);G?.length&&e.ellipsis&&(M=Y,z.push(bt(Jne,{ref:a,index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>bt(ot,{class:u.e("icon-more")},{default:()=>bt(e.ellipsisIcon)}),default:()=>G})))}const W=e.closeOnClickOutside?[[Jm,()=>{d.value.length&&(R.value||(d.value.forEach(U=>t("close",U,_(U))),d.value=[]))}]]:[],j=Lt(bt("ul",{key:String(e.collapse),role:"menubar",ref:i,style:L.value,class:{[l.b()]:!0,[l.m(e.mode)]:!0,[l.m("collapse")]:e.collapse}},[...M,...z]),W);return e.collapseTransition&&e.mode==="vertical"?bt(s2n,()=>j):j}}});const c2n=Me({index:{type:oe([String,null]),default:null},route:{type:oe([String,Object])},disabled:Boolean}),f2n={click:e=>it(e.index)&&Oe(e.indexPath)},j7="ElMenuItem",d2n=me({name:j7,__name:"menu-item",props:c2n,emits:f2n,setup(e,{expose:t,emit:n}){const r=e,s=n;fl(r.index)&&void 0;const o=Ut(),i=tt(Zne),a=Ae("menu"),l=Ae("menu-item");i||Ts(j7,"can not inject root menu");const{parentMenu:u,indexPath:c}=$6e(o,Bn(r,"index")),f=tt(`${dM}${u.value.uid}`);f||Ts(j7,"can not inject sub menu");const d=O(()=>r.index===i.activeIndex),h=In({index:r.index,indexPath:c,active:d}),p=()=>{r.disabled||(i.handleMenuItemClick({index:r.index,indexPath:c.value,route:r.route}),s("click",h))};return jt(()=>{f.addSubMenu(h),i.addMenuItem(h)}),Nn(()=>{f.removeSubMenu(h),i.removeMenuItem(h)}),t({parentMenu:u,rootMenu:i,active:d,nsMenu:a,nsMenuItem:l,handleClick:p}),(g,m)=>(B(),K("li",{class:V([x(l).b(),x(l).is("active",d.value),x(l).is("disabled",g.disabled)]),role:"menuitem",tabindex:"-1",onClick:p},[x(u).type.name==="ElMenu"&&x(i).props.collapse&&g.$slots.title?(B(),pe(x(Xo),{key:0,effect:x(i).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":x(i).props.popperClass,"popper-style":x(i).props.popperStyle,persistent:x(i).props.persistent,"focus-on-target":""},{content:ie(()=>[ce(g.$slots,"title")]),default:ie(()=>[Z("div",{class:V(x(a).be("tooltip","trigger"))},[ce(g.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(B(),K(rt,{key:1},[ce(g.$slots,"default"),ce(g.$slots,"title")],64))],2))}});var E6e=Ve(d2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const h2n={title:String},p2n=me({name:"ElMenuItemGroup",__name:"menu-item-group",props:h2n,setup(e){const t=Ae("menu-item-group");return(n,r)=>(B(),K("li",{class:V(x(t).b())},[Z("div",{class:V(x(t).e("title"))},[n.$slots.title?ce(n.$slots,"title",{key:1}):(B(),K(rt,{key:0},[Jt(De(n.title),1)],64))],2),Z("ul",null,[ce(n.$slots,"default")])],2))}});var _6e=Ve(p2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const g2n=Rt(u2n,{MenuItem:E6e,MenuItemGroup:_6e,SubMenu:Jne}),m2n=Ur(E6e),v2n=Ur(_6e),y2n=Ur(Jne),b2n=Me({icon:{type:zn,default:()=>pcn},title:String,content:{type:String,default:""}}),w2n={back:()=>!0},x2n=["aria-label"],C2n=me({name:"ElPageHeader",__name:"page-header",props:b2n,emits:w2n,setup(e,{emit:t}){const n=t,{t:r}=un(),s=Ae("page-header");function o(){n("back")}return(i,a)=>(B(),K("div",{class:V([x(s).b(),x(s).is("contentful",!!i.$slots.default),{[x(s).m("has-breadcrumb")]:!!i.$slots.breadcrumb,[x(s).m("has-extra")]:!!i.$slots.extra}])},[i.$slots.breadcrumb?(B(),K("div",{key:0,class:V(x(s).e("breadcrumb"))},[ce(i.$slots,"breadcrumb")],2)):fe("v-if",!0),Z("div",{class:V(x(s).e("header"))},[Z("div",{class:V(x(s).e("left"))},[Z("div",{class:V(x(s).e("back")),role:"button",tabindex:"0",onClick:o},[i.icon||i.$slots.icon?(B(),K("div",{key:0,"aria-label":i.title||x(r)("el.pageHeader.title"),class:V(x(s).e("icon"))},[ce(i.$slots,"icon",{},()=>[i.icon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(i.icon)))]),_:1})):fe("v-if",!0)])],10,x2n)):fe("v-if",!0),Z("div",{class:V(x(s).e("title"))},[ce(i.$slots,"title",{},()=>[Jt(De(i.title||x(r)("el.pageHeader.title")),1)])],2)],2),ee(x(u6e),{direction:"vertical"}),Z("div",{class:V(x(s).e("content"))},[ce(i.$slots,"content",{},()=>[Jt(De(i.content),1)])],2)],2),i.$slots.extra?(B(),K("div",{key:0,class:V(x(s).e("extra"))},[ce(i.$slots,"extra")],2)):fe("v-if",!0)],2),i.$slots.default?(B(),K("div",{key:1,class:V(x(s).e("main"))},[ce(i.$slots,"default")],2)):fe("v-if",!0)],2))}});var S2n=Ve(C2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const $2n=Rt(S2n),T6e=Symbol("elPaginationKey"),k2n=Me({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:zn}}),E2n={click:e=>e instanceof MouseEvent},_2n=["disabled","aria-label","aria-disabled"],T2n={key:0},A2n=me({name:"ElPaginationPrev",__name:"prev",props:k2n,emits:E2n,setup(e){const t=e,{t:n}=un(),r=O(()=>t.disabled||t.currentPage<=1);return(s,o)=>(B(),K("button",{type:"button",class:"btn-prev",disabled:r.value,"aria-label":s.prevText||x(n)("el.pagination.prev"),"aria-disabled":r.value,onClick:o[0]||(o[0]=i=>s.$emit("click",i))},[s.prevText?(B(),K("span",T2n,De(s.prevText),1)):(B(),pe(x(ot),{key:1},{default:ie(()=>[(B(),pe(zt(s.prevIcon)))]),_:1}))],8,_2n))}});var I2n=Ve(A2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const N2n=Me({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:zn}}),D2n=["disabled","aria-label","aria-disabled"],O2n={key:0},R2n=me({name:"ElPaginationNext",__name:"next",props:N2n,emits:["click"],setup(e){const t=e,{t:n}=un(),r=O(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(s,o)=>(B(),K("button",{type:"button",class:"btn-next",disabled:r.value,"aria-label":s.nextText||x(n)("el.pagination.next"),"aria-disabled":r.value,onClick:o[0]||(o[0]=i=>s.$emit("click",i))},[s.nextText?(B(),K("span",O2n,De(s.nextText),1)):(B(),pe(x(ot),{key:1},{default:ie(()=>[(B(),pe(zt(s.nextIcon)))]),_:1}))],8,D2n))}});var F2n=Ve(R2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const hM={label:"label",value:"value",disabled:"disabled",options:"options"};function DI(e){const t=H({...hM,...e.props});let n={...e.props};return xe(()=>e.props,a=>{Gr(a,n)||(t.value={...hM,...a},n={...a})},{deep:!0}),{aliasProps:t,getLabel:a=>Es(a,t.value.label),getValue:a=>Es(a,t.value.value),getDisabled:a=>Es(a,t.value.disabled),getOptions:a=>Es(a,t.value.options)}}const A6e=Symbol("ElSelectGroup"),OI=Symbol("ElSelect"),kH="ElOption",M2n=Me({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),Qne=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Tg=e=>T_(e);function P2n(e,t){const n=tt(OI);n||Ts(kH,"usage: <el-select><el-option /></el-select/>");const r=tt(A6e,{disabled:!1}),s=O(()=>c(vo(n.props.modelValue),e.value)),o=O(()=>{var h;if(n.props.multiple){const p=vo((h=n.props.modelValue)!=null?h:[]);return!s.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),i=O(()=>{var h;return(h=e.label)!=null?h:Pt(e.value)?"":e.value}),a=O(()=>e.value||e.label||""),l=O(()=>e.disabled||t.groupDisabled||o.value),u=Ut(),c=(h=[],p)=>{if(Pt(e.value)){const g=n.props.valueKey;return h&&h.some(m=>nr(Es(m,g))===Es(p,g))}else return h&&h.includes(p)},f=()=>{l.value||(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(Qne(h),"i");t.visible=p.test(String(i.value))||e.created};return xe(()=>i.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),xe(()=>e.value,(h,p)=>{const{remote:g,valueKey:m}=n.props;if((g?h!==p:!Gr(h,p))&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!g){if(m&&Pt(h)&&Pt(p)&&h[m]===p[m])return;n.setSelected()}}),xe(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:i,currentValue:a,itemSelected:s,isDisabled:l,hoverItem:f,updateOption:d}}const L2n=me({name:kH,componentName:kH,props:M2n,setup(e){const t=Ae("select"),n=Yo(),r=O(()=>[t.be("dropdown","item"),t.is("disabled",x(a)),t.is("selected",x(i)),t.is("hovering",x(d))]),s=In({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:i,isDisabled:a,select:l,hoverItem:u,updateOption:c}=P2n(e,s),{visible:f,hover:d}=ao(s),h=Ut().proxy;l.onOptionCreate(h),Nn(()=>{const g=h.value;Ye(()=>{const{selected:m}=l.states,v=m.some(y=>y.value===h.value);l.states.cachedOptions.get(g)===h&&!v&&l.states.cachedOptions.delete(g)}),l.onOptionDestroy(g,h)});function p(){a.value||l.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:o,itemSelected:i,isDisabled:a,select:l,visible:f,hover:d,states:s,hoverItem:u,updateOption:c,selectOptionClick:p}}}),B2n=["id","aria-disabled","aria-selected"];function z2n(e,t,n,r,s,o){return Lt((B(),K("li",{id:e.id,class:V(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=xt((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"])),onMousedown:t[2]||(t[2]=xt(()=>{},["prevent"]))},[ce(e.$slots,"default",{},()=>[Z("span",null,De(e.currentLabel),1)])],42,B2n)),[[$n,e.visible]])}var ere=Ve(L2n,[["render",z2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const V2n=me({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=tt(OI),t=Ae("select"),n=O(()=>e.props.popperClass),r=O(()=>e.props.multiple),s=O(()=>e.props.fitInputWidth),o=H("");function i(){var a;const l=(a=e.selectRef)==null?void 0:a.offsetWidth;l?o.value=`${l-S6e}px`:o.value=""}return jt(()=>{i(),Cr(e.selectRef,i)}),{ns:t,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function W2n(e,t,n,r,s,o){return B(),K("div",{class:V([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:dt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(B(),K("div",{key:0,class:V(e.ns.be("dropdown","header"))},[ce(e.$slots,"header")],2)):fe("v-if",!0),ce(e.$slots,"default"),e.$slots.footer?(B(),K("div",{key:1,class:V(e.ns.be("dropdown","footer"))},[ce(e.$slots,"footer")],2)):fe("v-if",!0)],6)}var U2n=Ve(V2n,[["render",W2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const j2n=(e,t)=>{const{t:n}=un(),r=Yo(),s=Ae("select"),o=Ae("input"),i=In({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=H(),l=H(),u=H(),c=H(),f=H(),d=H(),h=H(),p=H(),g=H(),m=H(),v=H(),y=H(!1),b=H(),w=H(!1),{form:C,formItem:S}=Ro(),{inputId:$}=lu(e,{formItemContext:S}),{valueOnClear:k,isEmptyValue:T}=CI(e),{isComposing:_,handleCompositionStart:E,handleCompositionUpdate:A,handleCompositionEnd:I}=_I({afterComposition:Be=>at(Be)}),F=jr(),{wrapperRef:R,isFocused:L,handleBlur:D}=Hp(f,{disabled:F,afterFocus(){e.automaticDropdown&&!y.value&&(y.value=!0,i.menuVisibleOnFocus=!0)},beforeBlur(Be){var St,dn;return((St=u.value)==null?void 0:St.isFocusInsideContent(Be))||((dn=c.value)==null?void 0:dn.isFocusInsideContent(Be))},afterBlur(){var Be;y.value=!1,i.menuVisibleOnFocus=!1,e.validateEvent&&((Be=S?.validate)==null||Be.call(S,"blur").catch(St=>void 0))}}),N=O(()=>Oe(e.modelValue)?e.modelValue.length>0:!T(e.modelValue)),M=O(()=>{var Be;return(Be=C?.statusIcon)!=null?Be:!1}),z=O(()=>e.clearable&&!F.value&&N.value&&(L.value||i.inputHovering)),W=O(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),j=O(()=>s.is("reverse",!!(W.value&&y.value))),U=O(()=>S?.validateState||""),Y=O(()=>U.value&&w8[U.value]),G=O(()=>e.remote?e.debounce:0),ne=O(()=>e.remote&&!i.inputValue&&i.options.size===0),ue=O(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&i.inputValue&&i.options.size>0&&ae.value===0?e.noMatchText||n("el.select.noMatch"):i.options.size===0?e.noDataText||n("el.select.noData"):null),ae=O(()=>X.value.filter(Be=>Be.visible).length),X=O(()=>{const Be=Array.from(i.options.values()),St=[];return i.optionValues.forEach(dn=>{const yr=Be.findIndex(Hr=>Hr.value===dn);yr>-1&&St.push(Be[yr])}),St.length>=Be.length?St:Be}),J=O(()=>Array.from(i.cachedOptions.values())),q=O(()=>{const Be=X.value.filter(St=>!St.created).some(St=>St.currentLabel===i.inputValue);return e.filterable&&e.allowCreate&&i.inputValue!==""&&!Be}),P=()=>{e.filterable&&ft(e.filterMethod)||e.filterable&&e.remote&&ft(e.remoteMethod)||X.value.forEach(Be=>{var St;(St=Be.updateOption)==null||St.call(Be,i.inputValue)})},Q=Fs(),se=O(()=>["small"].includes(Q.value)?"small":"default"),de=O({get(){return y.value&&(e.loading||!ne.value)&&(!w.value||!_a(i.previousQuery))},set(Be){y.value=Be}}),he=O(()=>{if(e.multiple&&!yn(e.modelValue))return vo(e.modelValue).length===0&&!i.inputValue;const Be=Oe(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||yn(Be)?!i.inputValue:!0}),ge=O(()=>{var Be;const St=(Be=e.placeholder)!=null?Be:n("el.select.placeholder");return e.multiple||!N.value?St:i.selectedLabel}),$e=O(()=>rM?null:"mouseenter");xe(()=>e.modelValue,(Be,St)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(i.inputValue="",He("")),Ce(),!Gr(Be,St)&&e.validateEvent&&S?.validate("change").catch(dn=>void 0)},{flush:"post",deep:!0}),xe(()=>y.value,Be=>{Be?He(i.inputValue):(i.inputValue="",i.previousQuery=null,i.isBeforeHide=!0)}),xe(()=>i.options.entries(),()=>{Tn&&(Ce(),e.defaultFirstOption&&(e.filterable||e.remote)&&ae.value&&Ie())},{flush:"post"}),xe([()=>i.hoveringIndex,X],([Be])=>{pt(Be)&&Be>-1?b.value=X.value[Be]||{}:b.value={},X.value.forEach(St=>{St.hover=b.value===St})}),ml(()=>{i.isBeforeHide||P()});const He=Be=>{i.previousQuery===Be||_.value||(i.previousQuery=Be,e.filterable&&ft(e.filterMethod)?e.filterMethod(Be):e.filterable&&e.remote&&ft(e.remoteMethod)&&e.remoteMethod(Be),e.defaultFirstOption&&(e.filterable||e.remote)&&ae.value?Ye(Ie):Ye(ze))},Ie=()=>{const Be=X.value.filter(Hr=>Hr.visible&&!Hr.disabled&&!Hr.states.groupDisabled),St=Be.find(Hr=>Hr.created),dn=Be[0],yr=X.value.map(Hr=>Hr.value);i.hoveringIndex=Se(yr,St||dn)},Ce=()=>{if(e.multiple)i.selectedLabel="";else{const St=Oe(e.modelValue)?e.modelValue[0]:e.modelValue,dn=Fe(St);i.selectedLabel=dn.currentLabel,i.selected=[dn];return}const Be=[];yn(e.modelValue)||vo(e.modelValue).forEach(St=>{Be.push(Fe(St))}),i.selected=Be},Fe=Be=>{let St;const dn=bk(Be);for(let Fo=i.cachedOptions.size-1;Fo>=0;Fo--){const ho=J.value[Fo];if(dn?Es(ho.value,e.valueKey)===Es(Be,e.valueKey):ho.value===Be){St={index:X.value.filter(nc=>!nc.created).indexOf(ho),value:Be,currentLabel:ho.currentLabel,get isDisabled(){return ho.isDisabled}};break}}if(St)return St;const yr=dn?Be.label:Be??"";return{index:-1,value:Be,currentLabel:yr}},ze=()=>{const Be=i.selected.length;if(Be>0){const St=i.selected[Be-1];i.hoveringIndex=X.value.findIndex(dn=>ai(St)===ai(dn))}else i.hoveringIndex=-1},Ue=()=>{i.selectionWidth=Number.parseFloat(window.getComputedStyle(l.value).width)},st=()=>{i.collapseItemWidth=m.value.getBoundingClientRect().width},ht=()=>{var Be,St;(St=(Be=u.value)==null?void 0:Be.updatePopper)==null||St.call(Be)},ye=()=>{var Be,St;(St=(Be=c.value)==null?void 0:Be.updatePopper)==null||St.call(Be)},Ge=()=>{i.inputValue.length>0&&!y.value&&(y.value=!0),He(i.inputValue)},at=Be=>{if(i.inputValue=Be.target.value,e.remote)w.value=!0,cn();else return Ge()},cn=bI(()=>{Ge(),w.value=!1},G),lt=Be=>{Gr(e.modelValue,Be)||t(tn,Be)},Ft=Be=>KPe(Be,St=>{const dn=i.cachedOptions.get(St);return!dn?.disabled&&!dn?.states.groupDisabled}),Dt=Be=>{const St=Hn(Be);if(e.multiple&&St!==Re.delete&&Be.target.value.length<=0){const dn=vo(e.modelValue).slice(),yr=Ft(dn);if(yr<0)return;const Hr=dn[yr];dn.splice(yr,1),t(Et,dn),lt(dn),t("remove-tag",Hr)}},Gt=(Be,St)=>{const dn=i.selected.indexOf(St);if(dn>-1&&!F.value){const yr=vo(e.modelValue).slice();yr.splice(dn,1),t(Et,yr),lt(yr),t("remove-tag",St.value)}Be.stopPropagation(),wt()},Te=Be=>{Be.stopPropagation();const St=e.multiple?[]:k.value;if(e.multiple)for(const dn of i.selected)dn.isDisabled&&St.push(dn.value);t(Et,St),lt(St),i.hoveringIndex=-1,y.value=!1,t("clear"),wt()},Xe=Be=>{var St;if(e.multiple){const dn=vo((St=e.modelValue)!=null?St:[]).slice(),yr=Se(dn,Be);yr>-1?dn.splice(yr,1):(e.multipleLimit<=0||dn.length<e.multipleLimit)&&dn.push(Be.value),t(Et,dn),lt(dn),Be.created&&He(""),e.filterable&&!e.reserveKeyword&&(i.inputValue="")}else!Gr(e.modelValue,Be.value)&&t(Et,Be.value),lt(Be.value),y.value=!1;wt(),!y.value&&Ye(()=>{ct(Be)})},Se=(Be,St)=>yn(St)?-1:Pt(St.value)?Be.findIndex(dn=>Gr(Es(dn,e.valueKey),ai(St))):Be.indexOf(St.value),ct=Be=>{var St,dn,yr,Hr,Fo;const ho=Oe(Be)?Be[Be.length-1]:Be;let cu=null;if(!vs(ho?.value)){const nc=X.value.filter(Gp=>Gp.value===ho.value);nc.length>0&&(cu=nc[0].$el)}if(u.value&&cu){const nc=(Hr=(yr=(dn=(St=u.value)==null?void 0:St.popperRef)==null?void 0:dn.contentRef)==null?void 0:yr.querySelector)==null?void 0:Hr.call(yr,`.${s.be("dropdown","wrap")}`);nc&&dne(nc,cu)}(Fo=v.value)==null||Fo.handleScroll()},Xt=Be=>{i.options.set(Be.value,Be),i.cachedOptions.set(Be.value,Be)},Gn=(Be,St)=>{i.options.get(Be)===St&&i.options.delete(Be)},Ne=O(()=>{var Be,St;return(St=(Be=u.value)==null?void 0:Be.popperRef)==null?void 0:St.contentRef}),nt=()=>{i.isBeforeHide=!1,Ye(()=>{var Be;(Be=v.value)==null||Be.update(),ct(i.selected)})},wt=()=>{var Be;(Be=f.value)==null||Be.focus()},Fr=()=>{var Be;if(y.value){y.value=!1,Ye(()=>{var St;return(St=f.value)==null?void 0:St.blur()});return}(Be=f.value)==null||Be.blur()},da=Be=>{Te(Be)},bs=Be=>{if(y.value=!1,L.value){const St=new FocusEvent("blur",Be);Ye(()=>D(St))}},Ze=()=>{i.inputValue.length>0?i.inputValue="":y.value=!1},yt=Be=>{var St;F.value||e.filterable&&y.value&&Be&&!((St=h.value)!=null&&St.contains(Be.target))||(rM&&(i.inputHovering=!0),i.menuVisibleOnFocus?i.menuVisibleOnFocus=!1:y.value=!y.value)},Kt=()=>{if(!y.value)yt();else{const Be=X.value[i.hoveringIndex];Be&&!Be.isDisabled&&Xe(Be)}},ai=Be=>Pt(Be.value)?Es(Be.value,e.valueKey):Be.value,uu=O(()=>X.value.filter(Be=>Be.visible).every(Be=>Be.isDisabled)),Rl=O(()=>e.multiple?e.collapseTags?i.selected.slice(0,e.maxCollapseTags):i.selected:[]),ib=O(()=>e.multiple?e.collapseTags?i.selected.slice(e.maxCollapseTags):[]:[]),rh=Be=>{if(!y.value){y.value=!0;return}if(!(i.options.size===0||ae.value===0||_.value)&&!uu.value){Be==="next"?(i.hoveringIndex++,i.hoveringIndex===i.options.size&&(i.hoveringIndex=0)):Be==="prev"&&(i.hoveringIndex--,i.hoveringIndex<0&&(i.hoveringIndex=i.options.size-1));const St=X.value[i.hoveringIndex];(St.isDisabled||!St.visible)&&rh(Be),Ye(()=>ct(b.value))}},ab=(Be,St,dn,yr)=>{for(let Hr=St;Hr>=0&&Hr<yr;Hr+=dn){const Fo=Be[Hr];if(!Fo?.isDisabled&&Fo?.visible)return Hr}return null},tc=(Be,St)=>{var dn;const yr=i.options.size;if(yr===0)return;const Hr=p8(Be,0,yr-1),Fo=X.value,ho=St==="up"?-1:1,cu=(dn=ab(Fo,Hr,ho,yr))!=null?dn:ab(Fo,Hr-ho,-ho,yr);cu!=null&&(i.hoveringIndex=cu,Ye(()=>ct(b.value)))},QC=Be=>{const St=Hn(Be);let dn=!0;switch(St){case Re.up:rh("prev");break;case Re.down:rh("next");break;case Re.enter:case Re.numpadEnter:_.value||Kt();break;case Re.esc:Ze();break;case Re.backspace:dn=!1,Dt(Be);return;case Re.home:if(!y.value)return;tc(0,"down");break;case Re.end:if(!y.value)return;tc(i.options.size-1,"up");break;case Re.pageUp:if(!y.value)return;tc(i.hoveringIndex-10,"up");break;case Re.pageDown:if(!y.value)return;tc(i.hoveringIndex+10,"down");break;default:dn=!1;break}dn&&(Be.preventDefault(),Be.stopPropagation())},eS=()=>{if(!l.value)return 0;const Be=window.getComputedStyle(l.value);return Number.parseFloat(Be.gap||"6px")},tS=O(()=>{const Be=eS(),St=e.filterable?Be+I8:0;return{maxWidth:`${m.value&&e.maxCollapseTags===1?i.selectionWidth-i.collapseItemWidth-Be-St:i.selectionWidth-St}px`}}),nS=O(()=>({maxWidth:`${i.selectionWidth}px`})),rS=Be=>{t("popup-scroll",Be)};Cr(l,Ue),Cr(R,ht),Cr(g,ye),Cr(m,st);let sh;return xe(()=>de.value,Be=>{Be?sh=Cr(p,ht).stop:(sh?.(),sh=void 0),t("visible-change",Be)}),jt(()=>{Ce()}),{inputId:$,contentId:r,nsSelect:s,nsInput:o,states:i,isFocused:L,expanded:y,optionsArray:X,hoverOption:b,selectSize:Q,filteredOptionsCount:ae,updateTooltip:ht,updateTagTooltip:ye,debouncedOnInputChange:cn,onInput:at,deletePrevTag:Dt,deleteTag:Gt,deleteSelected:Te,handleOptionSelect:Xe,scrollToOption:ct,hasModelValue:N,shouldShowPlaceholder:he,currentPlaceholder:ge,mouseEnterEventName:$e,needStatusIcon:M,showClearBtn:z,iconComponent:W,iconReverse:j,validateState:U,validateIcon:Y,showNewOption:q,updateOptions:P,collapseTagSize:se,setSelected:Ce,selectDisabled:F,emptyText:ue,handleCompositionStart:E,handleCompositionUpdate:A,handleCompositionEnd:I,handleKeydown:QC,onOptionCreate:Xt,onOptionDestroy:Gn,handleMenuEnter:nt,focus:wt,blur:Fr,handleClearClick:da,handleClickOutside:bs,handleEsc:Ze,toggleMenu:yt,selectOption:Kt,getValueKey:ai,navigateOptions:rh,dropdownMenuVisible:de,showTagList:Rl,collapseTagList:ib,popupScroll:rS,getOption:Fe,tagStyle:tS,collapseTagStyle:nS,popperRef:Ne,inputRef:f,tooltipRef:u,tagTooltipRef:c,prefixRef:d,suffixRef:h,selectRef:a,wrapperRef:R,selectionRef:l,scrollbarRef:v,menuRef:p,tagMenuRef:g,collapseItemRef:m}};var H2n=me({name:"ElOptions",setup(e,{slots:t}){const n=tt(OI);let r=[];return()=>{var s,o;const i=(s=t.default)==null?void 0:s.call(t),a=[];function l(u){Oe(u)&&u.forEach(c=>{var f,d,h,p;const g=(f=c?.type||{})==null?void 0:f.name;g==="ElOptionGroup"?l(!it(c.children)&&!Oe(c.children)&&ft((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):g==="ElOption"?a.push((p=c.props)==null?void 0:p.value):Oe(c.children)&&l(c.children)})}return i.length&&l((o=i[0])==null?void 0:o.children),Gr(a,r)||(r=a,n&&(n.states.optionValues=a)),i}}});const I6e=Me({name:String,id:String,modelValue:{type:oe([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:js,effect:{type:oe(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},popperOptions:{type:oe(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:oe(Function)},filterMethod:{type:oe(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Un.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:zn,default:jp},fitInputWidth:Boolean,suffixIcon:{type:zn,default:th},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:Un.appendTo,options:{type:oe(Array)},props:{type:oe(Object),default:()=>hM},...sb,...fa(["ariaLabel"])});TLe.scroll;const q2n=me({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Ae("select"),n=H(),r=Ut(),s=H([]);ln(A6e,In({...ao(e)}));const o=O(()=>s.value.some(u=>u.visible===!0)),i=u=>{var c;return u.type.name==="ElOption"&&!!((c=u.component)!=null&&c.proxy)},a=u=>{const c=vo(u),f=[];return c.forEach(d=>{var h;or(d)&&(i(d)?f.push(d.component.proxy):Oe(d.children)&&d.children.length?f.push(...a(d.children)):(h=d.component)!=null&&h.subTree&&f.push(...a(d.component.subTree)))}),f},l=()=>{s.value=a(r.subTree)};return jt(()=>{l()}),wI(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:t}}});function G2n(e,t,n,r,s,o){return Lt((B(),K("ul",{ref:"groupRef",class:V(e.ns.be("group","wrap"))},[Z("li",{class:V(e.ns.be("group","title"))},De(e.label),3),Z("li",null,[Z("ul",{class:V(e.ns.b("group"))},[ce(e.$slots,"default")],2)])],2)),[[$n,e.visible]])}var tre=Ve(q2n,[["render",G2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const i0e="ElSelect",v_=new WeakMap,K2n=e=>(...t)=>{var n,r;const s=t[0];if(!s||s.includes('Slot "default" invoked outside of the render function')&&((n=t[2])!=null&&n.includes("ElTreeSelect")))return;const o=(r=v_.get(e))==null?void 0:r.originalWarnHandler;if(o){o(...t);return}console.warn(...t)},Y2n=e=>{let t=v_.get(e);return t||(t={originalWarnHandler:e.config.warnHandler,handler:K2n(e),count:0},v_.set(e,t)),t},X2n=me({name:i0e,componentName:i0e,components:{ElSelectMenu:U2n,ElOption:ere,ElOptions:H2n,ElOptionGroup:tre,ElTag:Jh,ElScrollbar:jc,ElTooltip:Xo,ElIcon:ot},directives:{ClickOutside:Jm},props:I6e,emits:[Et,tn,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t,slots:n}){const r=Ut(),s=Y2n(r.appContext);s.count+=1,r.appContext.config.warnHandler=s.handler;const o=O(()=>{const{modelValue:y,multiple:b}=e,w=b?[]:void 0;return Oe(y)?b?y:w:b?w:y}),i=In({...ao(e),modelValue:o}),a=j2n(i,t),{calculatorRef:l,inputStyle:u}=Xne(),{getLabel:c,getValue:f,getOptions:d,getDisabled:h}=DI(e),p=y=>({label:c(y),value:f(y),disabled:h(y)}),g=y=>y.reduce((b,w)=>(b.push(w),w.children&&w.children.length>0&&b.push(...g(w.children)),b),[]),m=y=>{Sc(y||[]).forEach(w=>{var C;if(Pt(w)&&(w.type.name==="ElOption"||w.type.name==="ElTree")){const S=w.type.name;if(S==="ElTree"){const $=((C=w.props)==null?void 0:C.data)||[];g($).forEach(T=>{T.currentLabel=T.label||(Pt(T.value)?"":T.value),a.onOptionCreate(T)})}else if(S==="ElOption"){const $={...w.props};$.currentLabel=$.label||(Pt($.value)?"":$.value),a.onOptionCreate($)}}})};xe(()=>{var y;return[(y=n.default)==null?void 0:y.call(n),o.value]},()=>{var y;e.persistent||a.expanded.value||(a.states.options.clear(),m((y=n.default)==null?void 0:y.call(n)))},{immediate:!0}),ln(OI,In({props:i,states:a.states,selectRef:a.selectRef,optionsArray:a.optionsArray,setSelected:a.setSelected,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy}));const v=O(()=>e.multiple?a.states.selected.map(y=>y.currentLabel):a.states.selectedLabel);return Nn(()=>{const y=v_.get(r.appContext);y&&(y.count-=1,y.count<=0&&(r.appContext.config.warnHandler=y.originalWarnHandler,v_.delete(r.appContext)))}),{...a,modelValue:o,selectedLabel:v,calculatorRef:l,inputStyle:u,getLabel:c,getValue:f,getOptions:d,getDisabled:h,getOptionProps:p}}}),Z2n=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],J2n=["textContent"],Q2n={key:1};function eCn(e,t,n,r,s,o){const i=Zt("el-tag"),a=Zt("el-tooltip"),l=Zt("el-icon"),u=Zt("el-option"),c=Zt("el-option-group"),f=Zt("el-options"),d=Zt("el-scrollbar"),h=Zt("el-select-menu"),p=wq("click-outside");return Lt((B(),K("div",Wt({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[M$(e.mouseEnterEventName)]:t[11]||(t[11]=g=>e.states.inputHovering=!0)},{onMouseleave:t[12]||(t[12]=g=>e.states.inputHovering=!1)}),[ee(a,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[10]||(t[10]=g=>e.states.isBeforeHide=!1)},{default:ie(()=>{var g;return[Z("div",{ref:"wrapperRef",class:V([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[7]||(t[7]=xt((...m)=>e.toggleMenu&&e.toggleMenu(...m),["prevent"]))},[e.$slots.prefix?(B(),K("div",{key:0,ref:"prefixRef",class:V(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref:"selectionRef",class:V([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?ce(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(B(!0),K(rt,null,Ht(e.showTagList,m=>(B(),K("div",{key:e.getValueKey(m),class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.tagStyle),onClose:v=>e.deleteTag(v,m)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:m.index,label:m.currentLabel,value:m.value},()=>[Jt(De(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(B(),pe(a,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:ie(()=>[Z("div",{ref:"collapseItemRef",class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.collapseTagStyle)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))}," + "+De(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[Z("div",{ref:"tagMenuRef",class:V(e.nsSelect.e("selection"))},[(B(!0),K(rt,null,Ht(e.collapseTagList,m=>(B(),K("div",{key:e.getValueKey(m),class:V(e.nsSelect.e("selected-item"))},[ee(i,{class:"in-tooltip",closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:v=>e.deleteTag(v,m)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:m.index,label:m.currentLabel,value:m.value},()=>[Jt(De(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):fe("v-if",!0)]):fe("v-if",!0),Z("div",{class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Lt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=m=>e.states.inputValue=m),type:"text",name:e.name,class:V([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:dt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:t[1]||(t[1]=(...m)=>e.handleKeydown&&e.handleKeydown(...m)),onCompositionstart:t[2]||(t[2]=(...m)=>e.handleCompositionStart&&e.handleCompositionStart(...m)),onCompositionupdate:t[3]||(t[3]=(...m)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...m)),onCompositionend:t[4]||(t[4]=(...m)=>e.handleCompositionEnd&&e.handleCompositionEnd(...m)),onInput:t[5]||(t[5]=(...m)=>e.onInput&&e.onInput(...m)),onClick:t[6]||(t[6]=xt((...m)=>e.toggleMenu&&e.toggleMenu(...m),["stop"]))},null,46,Z2n),[[VM,e.states.inputValue]]),e.filterable?(B(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(e.nsSelect.e("input-calculator")),textContent:De(e.states.inputValue)},null,10,J2n)):fe("v-if",!0)],2),e.shouldShowPlaceholder?(B(),K("div",{key:1,class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,De(e.currentPlaceholder),1)]):(B(),K("span",Q2n,De(e.currentPlaceholder),1))],2)):fe("v-if",!0)],2),Z("div",{ref:"suffixRef",class:V(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(B(),pe(l,{key:0,class:V([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),pe(l,{key:1,class:V([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:ie(()=>[(B(),pe(zt(e.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(B(),pe(l,{key:2,class:V([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ie(()=>[(B(),pe(zt(e.validateIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)]}),content:ie(()=>[ee(h,{ref:"menuRef"},{default:ie(()=>[e.$slots.header?(B(),K("div",{key:0,class:V(e.nsSelect.be("dropdown","header")),onClick:t[8]||(t[8]=xt(()=>{},["stop"]))},[ce(e.$slots,"header")],2)):fe("v-if",!0),Lt(ee(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:V([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:ie(()=>[e.showNewOption?(B(),pe(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):fe("v-if",!0),ee(f,null,{default:ie(()=>[ce(e.$slots,"default",{},()=>[(B(!0),K(rt,null,Ht(e.options,(g,m)=>{var v;return B(),K(rt,{key:m},[(v=e.getOptions(g))!=null&&v.length?(B(),pe(c,{key:0,label:e.getLabel(g),disabled:e.getDisabled(g)},{default:ie(()=>[(B(!0),K(rt,null,Ht(e.getOptions(g),y=>(B(),pe(u,Wt({key:e.getValue(y)},{ref_for:!0},e.getOptionProps(y)),null,16))),128))]),_:2},1032,["label","disabled"])):(B(),pe(u,Wt({key:1,ref_for:!0},e.getOptionProps(g)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[$n,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(B(),K("div",{key:1,class:V(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(B(),K("div",{key:2,class:V(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[Z("span",null,De(e.emptyText),1)])],2)):fe("v-if",!0),e.$slots.footer?(B(),K("div",{key:3,class:V(e.nsSelect.be("dropdown","footer")),onClick:t[9]||(t[9]=xt(()=>{},["stop"]))},[ce(e.$slots,"footer")],2)):fe("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[p,e.handleClickOutside,e.popperRef]])}var tCn=Ve(X2n,[["render",eCn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Ux=Rt(tCn,{Option:ere,OptionGroup:tre}),pM=Ur(ere),nCn=Ur(tre),nre=()=>tt(T6e,{}),rCn=Me({pageSize:{type:Number,required:!0},pageSizes:{type:oe(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:oe([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:eh},appendSizeTo:String}),sCn=me({name:"ElPaginationSizes",__name:"sizes",props:rCn,emits:["page-size-change"],setup(e,{emit:t}){const n=e,r=t,{t:s}=un(),o=Ae("pagination"),i=nre(),a=H(n.pageSize);xe(()=>n.pageSizes,(c,f)=>{if(!Gr(c,f)&&Oe(c)){const d=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];r("page-size-change",d)}}),xe(()=>n.pageSize,c=>{a.value=c});const l=O(()=>n.pageSizes);function u(c){var f;c!==a.value&&(a.value=c,(f=i.handleSizeChange)==null||f.call(i,Number(c)))}return(c,f)=>(B(),K("span",{class:V(x(o).e("sizes"))},[ee(x(Ux),{"model-value":a.value,disabled:c.disabled,"popper-class":c.popperClass,"popper-style":c.popperStyle,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:u},{default:ie(()=>[(B(!0),K(rt,null,Ht(l.value,d=>(B(),pe(x(pM),{key:d,value:d,label:d+x(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}});var oCn=Ve(sCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const iCn=Me({size:{type:String,values:eh}}),aCn=["disabled"],lCn=me({name:"ElPaginationJumper",__name:"jumper",props:iCn,setup(e){const{t}=un(),n=Ae("pagination"),{pageCount:r,disabled:s,currentPage:o,changeEvent:i}=nre(),a=H(),l=O(()=>{var f;return(f=a.value)!=null?f:o?.value});function u(f){a.value=f?+f:""}function c(f){f=Math.trunc(+f),i?.(f),a.value=void 0}return(f,d)=>(B(),K("span",{class:V(x(n).e("jump")),disabled:x(s)},[Z("span",{class:V([x(n).e("goto")])},De(x(t)("el.pagination.goto")),3),ee(x(Xi),{size:f.size,class:V([x(n).e("editor"),x(n).is("in-pagination")]),min:1,max:x(r),disabled:x(s),"model-value":l.value,"validate-event":!1,"aria-label":x(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:V([x(n).e("classifier")])},De(x(t)("el.pagination.pageClassifier")),3)],10,aCn))}});var uCn=Ve(lCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const cCn=Me({total:{type:Number,default:1e3}}),fCn=["disabled"],dCn=me({name:"ElPaginationTotal",__name:"total",props:cCn,setup(e){const{t}=un(),n=Ae("pagination"),{disabled:r}=nre();return(s,o)=>(B(),K("span",{class:V(x(n).e("total")),disabled:x(r)},De(x(t)("el.pagination.total",{total:s.total})),11,fCn))}});var hCn=Ve(dCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const pCn=Me({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),gCn=["aria-current","aria-label","tabindex"],mCn=["tabindex","aria-label"],vCn=["aria-current","aria-label","tabindex"],yCn=["tabindex","aria-label"],bCn=["aria-current","aria-label","tabindex"],wCn=me({name:"ElPaginationPager",__name:"pager",props:pCn,emits:[tn],setup(e,{emit:t}){const n=e,r=t,s=Ae("pager"),o=Ae("icon"),{t:i}=un(),a=H(!1),l=H(!1),u=H(!1),c=H(!1),f=H(!1),d=H(!1),h=O(()=>{const C=n.pagerCount,S=(C-1)/2,$=Number(n.currentPage),k=Number(n.pageCount);let T=!1,_=!1;k>C&&($>C-S&&(T=!0),$<k-S&&(_=!0));const E=[];if(T&&!_){const A=k-(C-2);for(let I=A;I<k;I++)E.push(I)}else if(!T&&_)for(let A=2;A<C;A++)E.push(A);else if(T&&_){const A=Math.floor(C/2)-1;for(let I=$-A;I<=$+A;I++)E.push(I)}else for(let A=2;A<k;A++)E.push(A);return E}),p=O(()=>["more","btn-quickprev",o.b(),s.is("disabled",n.disabled)]),g=O(()=>["more","btn-quicknext",o.b(),s.is("disabled",n.disabled)]),m=O(()=>n.disabled?-1:0);xe(()=>[n.pageCount,n.pagerCount,n.currentPage],([C,S,$])=>{const k=(S-1)/2;let T=!1,_=!1;C>S&&(T=$>S-k,_=$<C-k),u.value&&(u.value=T),c.value&&(c.value=_),a.value=T,l.value=_},{immediate:!0});function v(C=!1){n.disabled||(C?u.value=!0:c.value=!0)}function y(C=!1){C?f.value=!0:d.value=!0}function b(C){const S=C.target;if(S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("number")){const $=Number(S.textContent);$!==n.currentPage&&r(tn,$)}else S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("more")&&w(C)}function w(C){const S=C.target;if(S.tagName.toLowerCase()==="ul"||n.disabled)return;let $=Number(S.textContent);const k=n.pageCount,T=n.currentPage,_=n.pagerCount-2;S.className.includes("more")&&(S.className.includes("quickprev")?$=T-_:S.className.includes("quicknext")&&($=T+_)),Number.isNaN(+$)||($<1&&($=1),$>k&&($=k)),$!==T&&r(tn,$)}return(C,S)=>(B(),K("ul",{class:V(x(s).b()),onClick:w,onKeyup:qr(b,["enter"])},[C.pageCount>0?(B(),K("li",{key:0,class:V([[x(s).is("active",C.currentPage===1),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===1,"aria-label":x(i)("el.pagination.currentPage",{pager:1}),tabindex:m.value}," 1 ",10,gCn)):fe("v-if",!0),a.value?(B(),K("li",{key:1,class:V(p.value),tabindex:m.value,"aria-label":x(i)("el.pagination.prevPages",{pager:C.pagerCount-2}),onMouseenter:S[0]||(S[0]=$=>v(!0)),onMouseleave:S[1]||(S[1]=$=>u.value=!1),onFocus:S[2]||(S[2]=$=>y(!0)),onBlur:S[3]||(S[3]=$=>f.value=!1)},[(u.value||f.value)&&!C.disabled?(B(),pe(x(Ym),{key:0})):(B(),pe(x(jge),{key:1}))],42,mCn)):fe("v-if",!0),(B(!0),K(rt,null,Ht(h.value,$=>(B(),K("li",{key:$,class:V([[x(s).is("active",C.currentPage===$),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===$,"aria-label":x(i)("el.pagination.currentPage",{pager:$}),tabindex:m.value},De($),11,vCn))),128)),l.value?(B(),K("li",{key:2,class:V(g.value),tabindex:m.value,"aria-label":x(i)("el.pagination.nextPages",{pager:C.pagerCount-2}),onMouseenter:S[4]||(S[4]=$=>v()),onMouseleave:S[5]||(S[5]=$=>c.value=!1),onFocus:S[6]||(S[6]=$=>y()),onBlur:S[7]||(S[7]=$=>d.value=!1)},[(c.value||d.value)&&!C.disabled?(B(),pe(x(Xm),{key:0})):(B(),pe(x(jge),{key:1}))],42,yCn)):fe("v-if",!0),C.pageCount>1?(B(),K("li",{key:3,class:V([[x(s).is("active",C.currentPage===C.pageCount),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===C.pageCount,"aria-label":x(i)("el.pagination.currentPage",{pager:C.pageCount}),tabindex:m.value},De(C.pageCount),11,bCn)):fe("v-if",!0)],34))}});var xCn=Ve(wCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ga=e=>typeof e!="number",CCn=Me({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>pt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:oe(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},prevText:{type:String,default:""},prevIcon:{type:zn,default:()=>bp},nextText:{type:String,default:""},nextIcon:{type:zn,default:()=>aa},teleported:{type:Boolean,default:!0},small:Boolean,size:js,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),SCn={"update:current-page":e=>pt(e),"update:page-size":e=>pt(e),"size-change":e=>pt(e),change:(e,t)=>pt(e)&&pt(t),"current-change":e=>pt(e),"prev-click":e=>pt(e),"next-click":e=>pt(e)},a0e="ElPagination";var $Cn=me({name:a0e,props:CCn,emits:SCn,setup(e,{emit:t,slots:n}){const{t:r}=un(),s=Ae("pagination"),o=Ut().vnode.props||{},i=uLe(),a=O(()=>{var C;return e.small?"small":(C=e.size)!=null?C:i.value});sd({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},O(()=>!!e.small));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,u="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,c=O(()=>{if(ga(e.total)&&ga(e.pageCount)||!ga(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(ga(e.pageCount)){if(!ga(e.total)&&!ga(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=H(ga(e.defaultPageSize)?10:e.defaultPageSize),d=H(ga(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=O({get(){return ga(e.pageSize)?f.value:e.pageSize},set(C){ga(e.pageSize)&&(f.value=C),u&&(t("update:page-size",C),t("size-change",C))}}),p=O(()=>{let C=0;return ga(e.pageCount)?ga(e.total)||(C=Math.max(1,Math.ceil(e.total/h.value))):C=e.pageCount,C}),g=O({get(){return ga(e.currentPage)?d.value:e.currentPage},set(C){let S=C;C<1?S=1:C>p.value&&(S=p.value),ga(e.currentPage)&&(d.value=S),l&&(t("update:current-page",S),t("current-change",S))}});xe(p,C=>{g.value>C&&(g.value=C)}),xe([g,h],C=>{t(tn,...C)},{flush:"post"});function m(C){g.value=C}function v(C){h.value=C;const S=p.value;g.value>S&&(g.value=S)}function y(){e.disabled||(g.value-=1,t("prev-click",g.value))}function b(){e.disabled||(g.value+=1,t("next-click",g.value))}function w(C,S){C&&(C.props||(C.props={}),C.props.class=[C.props.class,S].join(" "))}return ln(T6e,{pageCount:p,disabled:O(()=>e.disabled),currentPage:g,changeEvent:m,handleSizeChange:v}),()=>{var C,S;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const $=[],k=[],T=bt("div",{class:s.e("rightwrapper")},k),_={prev:bt(I2n,{disabled:e.disabled,currentPage:g.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:y}),jumper:bt(uCn,{size:a.value}),pager:bt(xCn,{currentPage:g.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:m,disabled:e.disabled}),next:bt(F2n,{disabled:e.disabled,currentPage:g.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:b}),sizes:bt(oCn,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:a.value,appendSizeTo:e.appendSizeTo}),slot:(S=(C=n?.default)==null?void 0:C.call(n))!=null?S:null,total:bt(hCn,{total:ga(e.total)?0:e.total})},E=e.layout.split(",").map(I=>I.trim());let A=!1;return E.forEach(I=>{if(I==="->"){A=!0;return}A?k.push(_[I]):$.push(_[I])}),w($[0],s.is("first")),w($[$.length-1],s.is("last")),A&&k.length>0&&(w(k[0],s.is("first")),w(k[k.length-1],s.is("last")),$.push(T)),bt("div",{class:[s.b(),s.is("background",e.background),s.m(a.value)]},$)}}});const kCn=Rt($Cn),ECn=Me({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:lH,default:"primary"},cancelButtonType:{type:String,values:lH,default:"text"},icon:{type:zn,default:()=>Ycn},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...Un.effect,default:"light"},teleported:Un.teleported,persistent:Un.persistent,width:{type:[String,Number],default:150},virtualTriggering:rd.virtualTriggering,virtualRef:rd.virtualRef}),_Cn={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},TCn=me({name:"ElPopconfirm",__name:"popconfirm",props:ECn,emits:_Cn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("popconfirm"),a=H(),l=H(),u=O(()=>{var v;return(v=x(a))==null?void 0:v.popperRef}),c=()=>{var v,y;(y=(v=l.value)==null?void 0:v.focus)==null||y.call(v)},f=()=>{var v,y;(y=(v=a.value)==null?void 0:v.onClose)==null||y.call(v)},d=O(()=>({width:Vr(r.width)})),h=v=>{s("confirm",v),f()},p=v=>{s("cancel",v),f()},g=O(()=>r.confirmButtonText||o("el.popconfirm.confirmButtonText")),m=O(()=>r.cancelButtonText||o("el.popconfirm.cancelButtonText"));return t({popperRef:u,hide:f}),(v,y)=>(B(),pe(x(Xo),Wt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:v.effect},v.$attrs,{"virtual-triggering":v.virtualTriggering,"virtual-ref":v.virtualRef,"popper-class":`${x(i).namespace.value}-popover`,"popper-style":d.value,teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent,loop:"",onShow:c}),{content:ie(()=>[Z("div",{ref_key:"rootRef",ref:l,tabindex:"-1",class:V(x(i).b())},[Z("div",{class:V(x(i).e("main"))},[!v.hideIcon&&v.icon?(B(),pe(x(ot),{key:0,class:V(x(i).e("icon")),style:dt({color:v.iconColor})},{default:ie(()=>[(B(),pe(zt(v.icon)))]),_:1},8,["class","style"])):fe("v-if",!0),Jt(" "+De(v.title),1)],2),Z("div",{class:V(x(i).e("action"))},[ce(v.$slots,"actions",{confirm:h,cancel:p},()=>[ee(x($o),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:p},{default:ie(()=>[Jt(De(m.value),1)]),_:1},8,["type","text"]),ee(x($o),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:h},{default:ie(()=>[Jt(De(g.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:ie(()=>[v.$slots.reference?ce(v.$slots,"reference",{key:0}):fe("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});var ACn=Ve(TCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ICn=Rt(ACn),NCn=Me({trigger:rd.trigger,triggerKeys:rd.triggerKeys,placement:J3.placement,disabled:rd.disabled,visible:Un.visible,transition:Un.transition,popperOptions:J3.popperOptions,tabindex:J3.tabindex,content:Un.content,popperStyle:Un.popperStyle,popperClass:Un.popperClass,enterable:{...Un.enterable,default:!0},effect:{...Un.effect,default:"light"},teleported:Un.teleported,appendTo:Un.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),DCn={"update:visible":e=>Ln(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},OCn="onUpdate:visible",RCn=me({name:"ElPopover",__name:"popover",props:NCn,emits:DCn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>r[OCn]),i=Ae("popover"),a=H(),l=O(()=>{var v;return(v=x(a))==null?void 0:v.popperRef}),u=O(()=>[{width:Vr(r.width)},r.popperStyle]),c=O(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),f=O(()=>r.transition===`${i.namespace.value}-fade-in-linear`),d=()=>{var v;(v=a.value)==null||v.hide()},h=()=>{s("before-enter")},p=()=>{s("before-leave")},g=()=>{s("after-enter")},m=()=>{s("update:visible",!1),s("after-leave")};return t({popperRef:l,hide:d}),(v,y)=>(B(),pe(x(Xo),Wt({ref_key:"tooltipRef",ref:a},v.$attrs,{trigger:v.trigger,"trigger-keys":v.triggerKeys,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":c.value,"popper-style":u.value,teleported:v.teleported,"append-to":v.appendTo,persistent:v.persistent,"gpu-acceleration":f.value,"onUpdate:visible":o.value,onBeforeShow:h,onBeforeHide:p,onShow:g,onHide:m}),{content:ie(()=>[v.title?(B(),K("div",{key:0,class:V(x(i).e("title")),role:"title"},De(v.title),3)):fe("v-if",!0),ce(v.$slots,"default",{},()=>[Jt(De(v.content),1)])]),default:ie(()=>[v.$slots.reference?ce(v.$slots,"reference",{key:0}):fe("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var FCn=Ve(RCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const l0e=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var MCn={mounted(e,t){l0e(e,t)},updated(e,t){l0e(e,t)}};const PCn="popover",N6e=Zun(MCn,PCn),LCn=Rt(FCn,{directive:N6e}),BCn=Me({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:oe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:oe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:oe(Function),default:e=>`${e}%`}}),zCn=["aria-valuenow"],VCn={viewBox:"0 0 100 100"},WCn=["d","stroke","stroke-linecap","stroke-width"],UCn=["d","stroke","opacity","stroke-linecap","stroke-width"],jCn={key:0},HCn=me({name:"ElProgress",__name:"progress",props:BCn,setup(e){const t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=e,r=Ae("progress"),s=O(()=>{const b={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},w=y(n.percentage);return w.includes("gradient")?b.background=w:b.backgroundColor=w,b}),o=O(()=>(n.strokeWidth/n.width*100).toFixed(1)),i=O(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),a=O(()=>{const b=i.value,w=n.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${w?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${w?"":"-"}${b*2}
          `}),l=O(()=>2*Math.PI*i.value),u=O(()=>n.type==="dashboard"?.75:1),c=O(()=>`${-1*l.value*(1-u.value)/2}px`),f=O(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=O(()=>({strokeDasharray:`${l.value*u.value*(n.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=O(()=>{let b;return n.color?b=y(n.percentage):b=t[n.status]||t.default,b}),p=O(()=>n.status==="warning"?b8:n.type==="line"?n.status==="success"?hne:jp:n.status==="success"?$I:qu),g=O(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),m=O(()=>n.format(n.percentage));function v(b){const w=100/b.length;return b.map((S,$)=>it(S)?{color:S,percentage:($+1)*w}:S).sort((S,$)=>S.percentage-$.percentage)}const y=b=>{var w;const{color:C}=n;if(ft(C))return C(b);if(it(C))return C;{const S=v(C);for(const $ of S)if($.percentage>b)return $.color;return(w=S[S.length-1])==null?void 0:w.color}};return(b,w)=>(B(),K("div",{class:V([x(r).b(),x(r).m(b.type),x(r).is(b.status),{[x(r).m("without-text")]:!b.showText,[x(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(B(),K("div",{key:0,class:V(x(r).b("bar"))},[Z("div",{class:V(x(r).be("bar","outer")),style:dt({height:`${b.strokeWidth}px`})},[Z("div",{class:V([x(r).be("bar","inner"),{[x(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[x(r).bem("bar","inner","striped")]:b.striped},{[x(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:dt(s.value)},[(b.showText||b.$slots.default)&&b.textInside?(B(),K("div",{key:0,class:V(x(r).be("bar","innerText"))},[ce(b.$slots,"default",{percentage:b.percentage},()=>[Z("span",null,De(m.value),1)])],2)):fe("v-if",!0)],6)],6)],2)):(B(),K("div",{key:1,class:V(x(r).b("circle")),style:dt({height:`${b.width}px`,width:`${b.width}px`})},[(B(),K("svg",VCn,[Z("path",{class:V(x(r).be("circle","track")),d:a.value,stroke:`var(${x(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":o.value,fill:"none",style:dt(f.value)},null,14,WCn),Z("path",{class:V(x(r).be("circle","path")),d:a.value,stroke:h.value,fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":o.value,style:dt(d.value)},null,14,UCn)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(B(),K("div",{key:2,class:V(x(r).e("text")),style:dt({fontSize:`${g.value}px`})},[ce(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(B(),pe(x(ot),{key:1},{default:ie(()=>[(B(),pe(zt(p.value)))]),_:1})):(B(),K("span",jCn,De(m.value),1))])],6)):fe("v-if",!0)],10,zCn))}});var qCn=Ve(HCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const D6e=Rt(qCn),GCn=Me({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:oe([Array,Object]),default:()=>zr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:oe([Array,Object]),default:()=>[ID,ID,ID]},voidIcon:{type:zn,default:()=>dfn},disabledVoidIcon:{type:zn,default:()=>ID},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:oe(Array),default:()=>zr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:js,clearable:Boolean,...fa(["ariaLabel"])}),KCn={[tn]:e=>pt(e),[Et]:e=>pt(e)},YCn=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],XCn=["onMousemove","onClick"],ZCn=me({name:"ElRate",__name:"rate",props:GCn,emits:KCn,setup(e,{expose:t,emit:n}){function r(N,M){const z=U=>Pt(U),W=Object.keys(M).map(U=>+U).filter(U=>{const Y=M[U];return(z(Y)?Y.excluded:!1)?N<U:N<=U}).sort((U,Y)=>U-Y),j=M[W[0]];return z(j)&&j.value||j}const s=e,o=n,i=tt(Ad,void 0),a=Fs(),l=Ae("rate"),{inputId:u,isLabeledByFormItem:c}=lu(s,{formItemContext:i}),f=H(s.modelValue),d=H(-1),h=H(!0),p=H([]),g=O(()=>p.value.map(N=>N.$el.clientWidth)),m=O(()=>[l.b(),l.m(a.value)]),v=jr(),y=O(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":S.value})),b=O(()=>{let N="";return s.showScore?N=s.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${s.modelValue}`:`${f.value}`):s.showText&&(N=s.texts[Math.ceil(f.value)-1]),N}),w=O(()=>s.modelValue*100-Math.floor(s.modelValue)*100),C=O(()=>Oe(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),S=O(()=>{const N=r(f.value,C.value);return Pt(N)?"":N}),$=O(()=>{let N="";return v.value?N=`${w.value}%`:s.allowHalf&&(N="50%"),{color:S.value,width:N}}),k=O(()=>{let N=Oe(s.icons)?[...s.icons]:{...s.icons};return N=Vh(N),Oe(N)?{[s.lowThreshold]:N[0],[s.highThreshold]:{value:N[1],excluded:!0},[s.max]:N[2]}:N}),T=O(()=>r(s.modelValue,k.value)),_=O(()=>v.value?it(s.disabledVoidIcon)?s.disabledVoidIcon:Vh(s.disabledVoidIcon):it(s.voidIcon)?s.voidIcon:Vh(s.voidIcon)),E=O(()=>r(f.value,k.value));function A(N){const M=v.value&&w.value>0&&N-1<s.modelValue&&N>s.modelValue,z=s.allowHalf&&h.value&&N-.5<=f.value&&N>f.value;return M||z}function I(N){s.clearable&&N===s.modelValue&&(N=0),o(Et,N),s.modelValue!==N&&o(tn,N)}function F(N){v.value||(s.allowHalf&&h.value?I(f.value):I(N))}function R(N){if(v.value)return;const M=Hn(N),z=s.allowHalf?.5:1;let W=f.value;switch(M){case Re.up:case Re.right:W+=z;break;case Re.left:case Re.down:W-=z;break}if(W=p8(W,0,s.max),W!==f.value)return N.stopPropagation(),N.preventDefault(),o(Et,W),o(tn,W),W}function L(N,M){v.value||(s.allowHalf&&M?(h.value=M.offsetX*2<=g.value[N-1],f.value=h.value?N-.5:N):f.value=N,d.value=N)}function D(){v.value||(s.allowHalf&&(h.value=s.modelValue!==Math.floor(s.modelValue)),f.value=s.modelValue,d.value=-1)}return xe(()=>s.modelValue,N=>{f.value=N,h.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||o(Et,0),t({setCurrentValue:L,resetCurrentValue:D}),(N,M)=>{var z;return B(),K("div",{id:x(u),class:V([m.value,x(l).is("disabled",x(v))]),role:"slider","aria-label":x(c)?void 0:N.ariaLabel||"rating","aria-labelledby":x(c)?(z=x(i))==null?void 0:z.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":b.value||void 0,"aria-valuemin":"0","aria-valuemax":N.max,tabindex:"0",style:dt(y.value),onKeydown:R},[(B(!0),K(rt,null,Ht(N.max,(W,j)=>(B(),K("span",{key:j,class:V(x(l).e("item")),onMousemove:U=>L(W,U),onMouseleave:D,onClick:U=>F(W)},[ee(x(ot),{ref_for:!0,ref_key:"iconRefs",ref:p,class:V([x(l).e("icon"),{hover:d.value===W},x(l).is("active",W<=f.value),x(l).is("focus-visible",W===Math.ceil(f.value||1))])},{default:ie(()=>[Lt((B(),pe(zt(E.value),null,null,512)),[[$n,!A(W)&&W<=f.value]]),Lt((B(),pe(zt(_.value),null,null,512)),[[$n,!A(W)&&W>f.value]]),Lt((B(),pe(zt(_.value),{class:V([x(l).em("decimal","box")])},null,8,["class"])),[[$n,A(W)]]),Lt(ee(x(ot),{style:dt($.value),class:V([x(l).e("icon"),x(l).e("decimal")])},{default:ie(()=>[(B(),pe(zt(T.value)))]),_:1},8,["style","class"]),[[$n,A(W)]])]),_:2},1032,["class"])],42,XCn))),128)),N.showText||N.showScore?(B(),K("span",{key:0,class:V(x(l).e("text")),style:dt({color:N.textColor})},De(b.value),7)):fe("v-if",!0)],46,YCn)}}});var JCn=Ve(ZCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const QCn=Rt(JCn),Cv={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},u0e={[Cv.primary]:u_,[Cv.success]:Ccn,[Cv.warning]:b8,[Cv.error]:pne,[Cv.info]:u_},eSn=Me({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}}),tSn=me({name:"ElResult",__name:"result",props:eSn,setup(e){const t=e,n=Ae("result"),r=O(()=>{const s=t.icon,o=s&&Cv[s]?Cv[s]:"icon-info",i=u0e[o]||u0e["icon-info"];return{class:o,component:i}});return(s,o)=>(B(),K("div",{class:V(x(n).b())},[Z("div",{class:V(x(n).e("icon"))},[ce(s.$slots,"icon",{},()=>[r.value.component?(B(),pe(zt(r.value.component),{key:0,class:V(r.value.class)},null,8,["class"])):fe("v-if",!0)])],2),s.title||s.$slots.title?(B(),K("div",{key:0,class:V(x(n).e("title"))},[ce(s.$slots,"title",{},()=>[Z("p",null,De(s.title),1)])],2)):fe("v-if",!0),s.subTitle||s.$slots["sub-title"]?(B(),K("div",{key:1,class:V(x(n).e("subtitle"))},[ce(s.$slots,"sub-title",{},()=>[Z("p",null,De(s.subTitle),1)])],2)):fe("v-if",!0),s.$slots.extra?(B(),K("div",{key:2,class:V(x(n).e("extra"))},[ce(s.$slots,"extra")],2)):fe("v-if",!0)],2))}});var nSn=Ve(tSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const rSn=Rt(nSn),sSn=["start","center","end","space-around","space-between","space-evenly"],oSn=["top","middle","bottom"],iSn=Me({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:sSn,default:"start"},align:{type:String,values:oSn}}),aSn=me({name:"ElRow",__name:"row",props:iSn,setup(e){const t=e,n=Ae("row"),r=O(()=>t.gutter);ln(ABe,{gutter:r});const s=O(()=>{const i={};return t.gutter&&(i.marginRight=i.marginLeft=`-${t.gutter/2}px`),i}),o=O(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(i,a)=>(B(),pe(zt(i.tag),{class:V(o.value),style:dt(s.value)},{default:ie(()=>[ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var lSn=Ve(aSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const uSn=Rt(lSn),cSn=me({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Ae("select")}}});function fSn(e,t,n,r,s,o){return B(),K("div",{class:V(e.ns.be("group","title")),style:dt({...e.style,lineHeight:`${e.height}px`})},De(e.item.label),7)}var dSn=Ve(cSn,[["render",fSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function hSn(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const pSn=Me({allowCreate:Boolean,autocomplete:{type:oe(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:zn,default:jp},effect:{type:oe(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:oe(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:oe([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:oe(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:oe(Array),required:!0},placeholder:{type:String},teleported:Un.teleported,persistent:{type:Boolean,default:!0},popperClass:Un.popperClass,popperStyle:Un.popperStyle,popperOptions:{type:oe(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:js,props:{type:oe(Object),default:()=>hM},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","top-start","right","left"]},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:Un.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return Ln(e)||pt(e)}},suffixIcon:{type:zn,default:th},...sb,...fa(["ariaLabel"])}),gSn=Me({data:Array,disabled:Boolean,hovering:Boolean,item:{type:oe(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),mSn={[Et]:e=>!0,[tn]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},vSn={hover:e=>pt(e),select:(e,t)=>!0},rre=Symbol("ElSelectV2Injection"),ySn=me({props:gSn,emits:vSn,setup(e,{emit:t}){const n=tt(rre),r=Ae("select"),{hoverItem:s,selectOptionClick:o}=hSn(e,{emit:t}),{getLabel:i}=DI(n.props),a=n.contentId;return{ns:r,contentId:a,hoverItem:s,selectOptionClick:o,getLabel:i}}}),bSn=["id","aria-selected","aria-disabled"];function wSn(e,t,n,r,s,o){return B(),K("li",{id:`${e.contentId}-${e.index}`,role:"option","aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:dt(e.style),class:V([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=xt((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"])),onMousedown:t[2]||(t[2]=xt(()=>{},["prevent"]))},[ce(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,De(e.getLabel(e.item)),1)])],46,bSn)}var xSn=Ve(ySn,[["render",wSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]),c0e=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function CSn(e,t){return!!(e===t||c0e(e)&&c0e(t))}function SSn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!CSn(e[n],t[n]))return!1;return!0}function $Sn(e,t){t===void 0&&(t=SSn);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const O6e=()=>{const t=Ut().proxy.$props;return O(()=>{const n=(r,s,o)=>({});return t.perfMode?d8(n):$Sn(n)})},EH=50,gM="itemRendered",mM="scroll",Jb="forward",vM="backward",Iu="auto",N8="smart",y_="start",Wf="center",b_="end",jx="horizontal",sre="vertical",kSn="ltr",Cw="rtl",w_="negative",ore="positive-ascending",ire="positive-descending",ESn={[jx]:"left",[sre]:"top"},_Sn=20,TSn={[jx]:"deltaX",[sre]:"deltaY"},R6e=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let s,o=0;const i=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:i,onWheel:l=>{yp(s);const u=l[TSn[n.value]];i(o)&&i(o+u)||(o+=u,vne()||l.preventDefault(),s=_d(()=>{r(o),o=0}))}}},_H=pf({type:oe([Number,Function]),required:!0}),TH=pf({type:Number}),AH=pf({type:Number,default:2}),ASn=pf({type:String,values:["ltr","rtl"],default:"ltr"}),IH=pf({type:Number,default:0}),yM=pf({type:Number,required:!0}),F6e=pf({type:String,values:["horizontal","vertical"],default:sre}),M6e=Me({className:{type:String,default:""},containerElement:{type:oe([String,Object]),default:"div"},data:{type:oe(Array),default:()=>zr([])},direction:ASn,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:oe(Object),default:()=>({})},style:{type:oe([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),P6e=Me({cache:AH,estimatedItemSize:TH,layout:F6e,initScrollOffset:IH,total:yM,itemSize:_H,...M6e}),NH={type:Number,default:6},L6e={type:Number,default:0},B6e={type:Number,default:2},u1=Me({columnCache:AH,columnWidth:_H,estimatedColumnWidth:TH,estimatedRowHeight:TH,initScrollLeft:IH,initScrollTop:IH,itemKey:{type:oe(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:AH,rowHeight:_H,totalColumn:yM,totalRow:yM,hScrollbarSize:NH,vScrollbarSize:NH,scrollbarStartGap:L6e,scrollbarEndGap:B6e,role:String,...M6e}),z6e=Me({alwaysOn:Boolean,class:String,layout:F6e,total:yM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:NH,startGap:L6e,endGap:B6e,visible:Boolean}),Lv=(e,t)=>e<t?Jb:vM,x_=e=>e===kSn||e===Cw||e===jx,f0e=e=>e===Cw;let Ob=null;function bM(e=!1){if(Ob===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ob=ire:(t.scrollLeft=1,t.scrollLeft===0?Ob=w_:Ob=ore),document.body.removeChild(t),Ob}return Ob}function ISn({move:e,size:t,bar:n},r){const s={},o=`translate${n.axis}(${e}px)`;return s[n.size]=t,s.transform=o,r==="horizontal"?s.height="100%":s.width="100%",s}const DH=me({name:"ElVirtualScrollBar",props:z6e,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=O(()=>e.startGap+e.endGap),r=Ae("virtual-scrollbar"),s=Ae("scrollbar"),o=H(),i=H();let a=null,l=null;const u=In({isDragging:!1,traveled:0}),c=O(()=>_Le[e.layout]),f=O(()=>e.clientSize-x(n)),d=O(()=>({position:"absolute",width:`${jx===e.layout?f.value:e.scrollbarSize}px`,height:`${jx===e.layout?e.scrollbarSize:f.value}px`,[ESn[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=O(()=>{const S=e.ratio;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*f.value/100;const $=f.value/3;return Math.floor(Math.min(Math.max(S*f.value/100,_Sn),$))}),p=O(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return ISn({bar:c.value,size:S,move:u.traveled},e.layout)}),g=O(()=>Math.ceil(e.clientSize-h.value-x(n))),m=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",b);const S=x(i);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",w,{passive:!0}),S.addEventListener("touchend",b))},v=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const S=x(i);S&&(S.removeEventListener("touchmove",w),S.removeEventListener("touchend",b))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(u.isDragging=!0,u[c.value.axis]=S.currentTarget[c.value.offset]-(S[c.value.client]-S.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),m())},b=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),v()},w=S=>{const{isDragging:$}=u;if(!$||!i.value||!o.value)return;const k=u[c.value.axis];if(!k)return;yp(a);const T=(o.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,_=i.value[c.value.offset]-k,E=T-_;a=_d(()=>{u.traveled=Math.max(0,Math.min(E,g.value)),t("scroll",E,g.value)})},C=S=>{const $=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),k=i.value[c.value.offset]/2,T=$-k;u.traveled=Math.max(0,Math.min(T,g.value)),t("scroll",T,g.value)};return xe(()=>e.scrollFrom,S=>{u.isDragging||(u.traveled=Math.ceil(S*g.value))}),Nn(()=>{v()}),()=>bt("div",{role:"presentation",ref:o,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:xt(C,["stop","prevent"]),onTouchstartPrevent:y},bt("div",{ref:i,class:s.e("thumb"),style:p.value,onMousedown:y},[]))}}),V6e=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:o,getStopIndexForStartIndex:i,initCache:a,clearCache:l,validateProps:u})=>me({name:e??"ElVirtualList",props:P6e,emits:[gM,mM],setup(c,{emit:f,expose:d}){u(c);const h=Ut(),p=Ae("vl"),g=H(a(c,h)),m=O6e(),v=H(),y=H(),b=H(),w=H({isScrolling:!1,scrollDir:"forward",scrollOffset:pt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),C=O(()=>{const{total:U,cache:Y}=c,{isScrolling:G,scrollDir:ne,scrollOffset:ue}=x(w);if(U===0)return[0,0,0,0];const ae=o(c,ue,x(g)),X=i(c,ae,ue,x(g)),J=!G||ne===vM?Math.max(1,Y):1,q=!G||ne===Jb?Math.max(1,Y):1;return[Math.max(0,ae-J),Math.max(0,Math.min(U-1,X+q)),ae,X]}),S=O(()=>s(c,x(g))),$=O(()=>x_(c.layout)),k=O(()=>[{position:"relative",[`overflow-${$.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:pt(c.height)?`${c.height}px`:c.height,width:pt(c.width)?`${c.width}px`:c.width},c.style]),T=O(()=>{const U=x(S),Y=x($);return{height:Y?"100%":`${U}px`,pointerEvents:x(w).isScrolling?"none":void 0,width:Y?`${U}px`:"100%",margin:0,boxSizing:"border-box"}}),_=O(()=>$.value?c.width:c.height),{onWheel:E}=R6e({atStartEdge:O(()=>w.value.scrollOffset<=0),atEndEdge:O(()=>w.value.scrollOffset>=S.value),layout:O(()=>c.layout)},U=>{var Y,G;(G=(Y=b.value).onMouseUp)==null||G.call(Y),D(Math.min(w.value.scrollOffset+U,S.value-_.value))});Fn(v,"wheel",E,{passive:!1});const A=()=>{const{total:U}=c;if(U>0){const[ue,ae,X,J]=x(C);f(gM,ue,ae,X,J)}const{scrollDir:Y,scrollOffset:G,updateRequested:ne}=x(w);f(mM,Y,G,ne)},I=U=>{const{clientHeight:Y,scrollHeight:G,scrollTop:ne}=U.currentTarget,ue=x(w);if(ue.scrollOffset===ne)return;const ae=Math.max(0,Math.min(ne,G-Y));w.value={...ue,isScrolling:!0,scrollDir:Lv(ue.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},Ye(z)},F=U=>{const{clientWidth:Y,scrollLeft:G,scrollWidth:ne}=U.currentTarget,ue=x(w);if(ue.scrollOffset===G)return;const{direction:ae}=c;let X=G;if(ae===Cw)switch(bM()){case w_:{X=-G;break}case ire:{X=ne-Y-G;break}}X=Math.max(0,Math.min(X,ne-Y)),w.value={...ue,isScrolling:!0,scrollDir:Lv(ue.scrollOffset,X),scrollOffset:X,updateRequested:!1},Ye(z)},R=U=>{x($)?F(U):I(U),A()},L=(U,Y)=>{const G=(S.value-_.value)/Y*U;D(Math.min(S.value-_.value,G))},D=U=>{U=Math.max(U,0),U!==x(w).scrollOffset&&(w.value={...x(w),scrollOffset:U,scrollDir:Lv(x(w).scrollOffset,U),updateRequested:!0},Ye(z))},N=(U,Y=Iu)=>{const{scrollOffset:G}=x(w);U=Math.max(0,Math.min(U,c.total-1)),D(t(c,U,Y,G,x(g)))},M=U=>{const{direction:Y,itemSize:G,layout:ne}=c,ue=m.value(l&&G,l&&ne,l&&Y);let ae;if(En(ue,String(U)))ae=ue[U];else{const X=r(c,U,x(g)),J=n(c,U,x(g)),q=x($),P=Y===Cw,Q=q?X:0;ue[U]=ae={position:"absolute",left:P?void 0:`${Q}px`,right:P?`${Q}px`:void 0,top:q?0:`${X}px`,height:q?"100%":`${J}px`,width:q?`${J}px`:"100%"}}return ae},z=()=>{w.value.isScrolling=!1,Ye(()=>{m.value(-1,null,null)})},W=()=>{const U=v.value;U&&(U.scrollTop=0)};jt(()=>{if(!Tn)return;const{initScrollOffset:U}=c,Y=x(v);pt(U)&&Y&&(x($)?Y.scrollLeft=U:Y.scrollTop=U),A()}),Yc(()=>{const{direction:U,layout:Y}=c,{scrollOffset:G,updateRequested:ne}=x(w),ue=x(v);if(ne&&ue)if(Y===jx)if(U===Cw)switch(bM()){case w_:{ue.scrollLeft=-G;break}case ore:{ue.scrollLeft=G;break}default:{const{clientWidth:ae,scrollWidth:X}=ue;ue.scrollLeft=X-ae-G;break}}else ue.scrollLeft=G;else ue.scrollTop=G}),MM(()=>{x(v).scrollTop=x(w).scrollOffset});const j={ns:p,clientSize:_,estimatedTotalSize:S,windowStyle:k,windowRef:v,innerRef:y,innerStyle:T,itemsToRender:C,scrollbarRef:b,states:w,getItemStyle:M,onScroll:R,onScrollbarScroll:L,onWheel:E,scrollTo:D,scrollToItem:N,resetScrollTop:W};return d({windowRef:v,innerRef:y,getItemStyleCache:m,scrollTo:D,scrollToItem:N,resetScrollTop:W,states:w}),j},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:g,data:m,getItemStyle:v,innerElement:y,itemsToRender:b,innerStyle:w,layout:C,total:S,onScroll:$,onScrollbarScroll:k,states:T,useIsScrolling:_,windowStyle:E,ns:A}=c,[I,F]=b,R=zt(g),L=zt(y),D=[];if(S>0)for(let W=I;W<=F;W++)D.push(bt(rt,{key:W},(f=d.default)==null?void 0:f.call(d,{data:m,index:W,isScrolling:_?T.isScrolling:void 0,style:v(W)})));const N=[bt(L,Wt(c.innerProps,{style:w,ref:"innerRef"}),it(L)?D:{default:()=>D})],M=bt(DH,{ref:"scrollbarRef",clientSize:p,layout:C,onScroll:k,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:S,alwaysOn:T.scrollbarAlwaysOn}),z=bt(R,{class:[A.e("window"),h],style:E,onScroll:$,ref:"windowRef",key:0},it(R)?[N]:{default:()=>[N]});return bt("div",{key:0,class:[A.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[z,M])}}),W6e=V6e({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:s},o,i,a)=>{const l=x_(r)?s:e,u=Math.max(0,t*n-l),c=Math.min(u,o*n),f=Math.max(0,(o+1)*n-l);switch(i===N8&&(a>=f-l&&a<=c+l?i=Iu:i=Wf),i){case y_:return c;case b_:return f;case Wf:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case Iu:default:return a>=f&&a<=c?a:a<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:s},o,i)=>{const a=o*n,l=x_(r)?s:e,u=Math.ceil((l+i-a)/n);return Math.max(0,Math.min(t-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Qb=(e,t,n)=>{const{itemSize:r}=e,{items:s,lastVisitedIndex:o}=n;if(t>o){let i=0;if(o>=0){const a=s[o];i=a.offset+a.size}for(let a=o+1;a<=t;a++){const l=r(a);s[a]={offset:i,size:l},i+=l}n.lastVisitedIndex=t}return s[t]},NSn=(e,t,n)=>{const{items:r,lastVisitedIndex:s}=t;return(s>0?r[s].offset:0)>=n?U6e(e,t,0,s,n):DSn(e,t,Math.max(0,s),n)},U6e=(e,t,n,r,s)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),i=Qb(e,o,t).offset;if(i===s)return o;i<s?n=o+1:i>s&&(r=o-1)}return Math.max(0,n-1)},DSn=(e,t,n,r)=>{const{total:s}=e;let o=1;for(;n<s&&Qb(e,n,t).offset<r;)n+=o,o*=2;return U6e(e,t,Math.floor(n/2),Math.min(n,s-1),r)},d0e=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=e&&(r=e-1),r>=0){const a=t[r];s=a.offset+a.size}const i=(e-r-1)*n;return s+i},OSn=V6e({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>Qb(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:d0e,getOffset:(e,t,n,r,s)=>{const{height:o,layout:i,width:a}=e,l=x_(i)?a:o,u=Qb(e,t,s),c=d0e(e,s),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===N8&&(r>=d-l&&r<=f+l?n=Iu:n=Wf),n){case y_:return f;case b_:return d;case Wf:return Math.round(d+(f-d)/2);case Iu:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(e,t,n)=>NSn(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:s,total:o,layout:i,width:a}=e,l=x_(i)?a:s,u=Qb(e,t,r),c=n+l;let f=u.offset+u.size,d=t;for(;d<o-1&&f<c;)d++,f+=Qb(e,d,r).size;return d},initCache({estimatedItemSize:e=EH},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var o,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=t.exposed)==null||o.getItemStyleCache(-1),s&&((i=t.proxy)==null||i.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),RSn={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String};var FSn=me({name:"ElSelectDropdown",props:RSn,setup(e,{slots:t,expose:n}){const r=tt(rre),s=Ae("select"),{getLabel:o,getValue:i,getDisabled:a}=DI(r.props),l=H([]),u=H(),c=O(()=>e.data.length);xe(()=>c.value,()=>{var E,A;(A=(E=r.tooltipRef.value)==null?void 0:E.updatePopper)==null||A.call(E)});const f=O(()=>yn(r.props.estimatedOptionHeight)),d=O(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:E=>l.value[E]}),h=(E=[],A)=>{const{props:{valueKey:I}}=r;return Pt(A)?E&&E.some(F=>nr(Es(F,I))===Es(A,I)):E.includes(A)},p=(E,A)=>{if(Pt(A)){const{valueKey:I}=r.props;return Es(E,I)===Es(A,I)}else return E===A},g=(E,A)=>r.props.multiple?h(E,i(A)):p(E,i(A)),m=(E,A)=>{const{disabled:I,multiple:F,multipleLimit:R}=r.props;return I||!A&&(F?R>0&&E.length>=R:!1)},v=E=>e.hoveringIndex===E;n({listRef:u,isSized:f,isItemDisabled:m,isItemHovering:v,isItemSelected:g,scrollToItem:E=>{const A=u.value;A&&A.scrollToItem(E)},resetScrollTop:()=>{const E=u.value;E&&E.resetScrollTop()}});const C=E=>{const{index:A,data:I,style:F}=E,R=x(f),{itemSize:L,estimatedSize:D}=x(d),{modelValue:N}=r.props,{onSelect:M,onHover:z}=r,W=I[A];if(W.type==="Group")return ee(dSn,{item:W,style:F,height:R?L:D},null);const j=g(N,W),U=m(N,j),Y=v(A);return ee(xSn,Wt(E,{selected:j,disabled:a(W)||U,created:!!W.created,hovering:Y,item:W,onSelect:M,onHover:z}),{default:G=>{var ne;return((ne=t.default)==null?void 0:ne.call(t,G))||ee("span",null,[o(W)])}})},{onKeyboardNavigate:S,onKeyboardSelect:$}=r,k=()=>{S("forward")},T=()=>{S("backward")},_=E=>{const A=Hn(E),{tab:I,esc:F,down:R,up:L,enter:D,numpadEnter:N}=Re;switch([F,R,L,D,N].includes(A)&&(E.preventDefault(),E.stopPropagation()),A){case I:case F:break;case R:k();break;case L:T();break;case D:case N:$();break}};return()=>{var E,A,I,F;const{data:R,width:L}=e,{height:D,multiple:N,scrollbarAlwaysOn:M}=r.props,z=O(()=>rM?!0:M),W=x(f)?W6e:OSn;return ee("div",{class:[s.b("dropdown"),s.is("multiple",N)],style:{width:`${L}px`}},[(E=t.header)==null?void 0:E.call(t),((A=t.loading)==null?void 0:A.call(t))||((I=t.empty)==null?void 0:I.call(t))||ee(W,Wt({ref:u},x(d),{className:s.be("dropdown","list"),scrollbarAlwaysOn:z.value,data:R,height:D,width:L,total:R.length,innerElement:"ul",innerProps:{id:e.id,role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},onKeydown:_}),{default:j=>ee(C,j,null)}),(F=t.footer)==null?void 0:F.call(t)])}}});function MSn(e,t){const{aliasProps:n,getLabel:r,getValue:s}=DI(e),o=H(0),i=H(),a=O(()=>e.allowCreate&&e.filterable);xe(()=>e.options,h=>{const p=new Set(h.map(g=>r(g)));t.createdOptions=t.createdOptions.filter(g=>!p.has(r(g)))});function l(h){const p=g=>r(g)===h;return e.options&&e.options.some(p)||t.createdOptions.some(p)}function u(h){a.value&&(e.multiple&&h.created?o.value++:i.value=h)}function c(h){if(a.value)if(h&&h.length>0){if(l(h)){t.createdOptions=t.createdOptions.filter(g=>r(g)!==t.previousQuery);return}const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=p:t.createdOptions.push(p)}else if(e.multiple)t.createdOptions.length=o.value;else{const p=i.value;t.createdOptions.length=0,p&&p.created&&t.createdOptions.push(p)}}function f(h){if(!a.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===r(h))return;const p=t.createdOptions.findIndex(g=>s(g)===s(h));~p&&(t.createdOptions.splice(p,1),o.value--)}function d(){a.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const PSn=(e,t)=>{const{t:n}=un(),r=Ae("select"),s=Ae("input"),{form:o,formItem:i}=Ro(),{inputId:a}=lu(e,{formItemContext:i}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=DI(e),{valueOnClear:h,isEmptyValue:p}=CI(e),g=In({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),m=H(-1),v=H(!1),y=H(),b=H(),w=H(),C=H(),S=H(),$=H(),k=H(),T=H(),_=H(),E=H(),{isComposing:A,handleCompositionStart:I,handleCompositionEnd:F,handleCompositionUpdate:R}=_I({afterComposition:We=>yr(We)}),L=jr(),{wrapperRef:D,isFocused:N,handleBlur:M}=Hp(S,{disabled:L,afterFocus(){e.automaticDropdown&&!U.value&&(U.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(We){var _t,Yt;return((_t=w.value)==null?void 0:_t.isFocusInsideContent(We))||((Yt=C.value)==null?void 0:Yt.isFocusInsideContent(We))},afterBlur(){var We;U.value=!1,g.menuVisibleOnFocus=!1,e.validateEvent&&((We=i?.validate)==null||We.call(i,"blur").catch(_t=>void 0))}}),z=O(()=>ge("")),W=O(()=>e.loading?!1:e.options.length>0||g.createdOptions.length>0),j=H([]),U=H(!1),Y=O(()=>{var We;return(We=o?.statusIcon)!=null?We:!1}),G=O(()=>{const We=j.value.length*e.itemHeight;return We>e.height?e.height:We}),ne=O(()=>e.multiple?Oe(e.modelValue)&&e.modelValue.length>0:!p(e.modelValue)),ue=O(()=>e.clearable&&!L.value&&ne.value&&(N.value||g.inputHovering)),ae=O(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),X=O(()=>ae.value&&r.is("reverse",U.value)),J=O(()=>i?.validateState||""),q=O(()=>{if(J.value)return w8[J.value]}),P=O(()=>e.remote?e.debounce:0),Q=O(()=>e.remote&&!g.inputValue&&!W.value),se=O(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&g.inputValue&&W.value&&j.value.length===0?e.noMatchText||n("el.select.noMatch"):W.value?null:e.noDataText||n("el.select.noData")),de=O(()=>e.filterable&&ft(e.filterMethod)),he=O(()=>e.filterable&&e.remote&&ft(e.remoteMethod)),ge=We=>{const _t=new RegExp(Qne(We),"i"),Yt=le=>de.value||he.value?!0:We?_t.test(u(le)||""):!0;return e.loading?[]:[...g.createdOptions,...e.options].reduce((le,Ee)=>{const ut=d(Ee);if(Oe(ut)){const $t=ut.filter(Yt);$t.length>0&&le.push({label:u(Ee),type:"Group"},...$t)}else(e.remote||Yt(Ee))&&le.push(Ee);return le},[])},$e=()=>{j.value=ge(g.inputValue)},He=O(()=>{const We=new Map;return z.value.forEach((_t,Yt)=>{We.set(yt(c(_t)),{option:_t,index:Yt})}),We}),Ie=O(()=>{const We=new Map;return j.value.forEach((_t,Yt)=>{We.set(yt(c(_t)),{option:_t,index:Yt})}),We}),Ce=O(()=>j.value.every(We=>f(We))),Fe=Fs(),ze=O(()=>Fe.value==="small"?"small":"default"),Ue=()=>{var We;if(pt(e.fitInputWidth)){m.value=e.fitInputWidth;return}const _t=((We=y.value)==null?void 0:We.offsetWidth)||200;!e.fitInputWidth&&W.value?Ye(()=>{m.value=Math.max(_t,st())}):m.value=_t},st=()=>{var We,_t;const le=document.createElement("canvas").getContext("2d"),Ee=r.be("dropdown","item"),$t=(((_t=(We=T.value)==null?void 0:We.listRef)==null?void 0:_t.innerRef)||document).querySelector(`.${Ee}`);if($t===null||le===null)return 0;const hn=getComputedStyle($t),ar=Number.parseFloat(hn.paddingLeft)+Number.parseFloat(hn.paddingRight);return le.font=`bold ${hn.font.replace(new RegExp(`\\b${hn.fontWeight}\\b`),"")}`,j.value.reduce((ws,sS)=>{const Kp=le.measureText(u(sS));return Math.max(Kp.width,ws)},0)+ar},ht=()=>{if(!b.value)return 0;const We=window.getComputedStyle(b.value);return Number.parseFloat(We.gap||"6px")},ye=O(()=>{const We=ht(),_t=e.filterable?We+I8:0;return{maxWidth:`${E.value&&e.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-We-_t:g.selectionWidth-_t}px`}}),Ge=O(()=>({maxWidth:`${g.selectionWidth}px`})),at=O(()=>Oe(e.modelValue)?e.modelValue.length===0&&!g.inputValue:e.filterable?!g.inputValue:!0),cn=O(()=>{var We;const _t=(We=e.placeholder)!=null?We:n("el.select.placeholder");return e.multiple||!ne.value?_t:g.selectedLabel}),lt=O(()=>{var We,_t;return(_t=(We=w.value)==null?void 0:We.popperRef)==null?void 0:_t.contentRef}),Ft=O(()=>{if(e.multiple){const We=e.modelValue.length;if(We>0&&Ie.value.has(e.modelValue[We-1])){const{index:_t}=Ie.value.get(e.modelValue[We-1]);return _t}}else if(!p(e.modelValue)&&Ie.value.has(e.modelValue)){const{index:We}=Ie.value.get(e.modelValue);return We}return-1}),Dt=O({get(){return U.value&&(e.loading||!Q.value)&&(!v.value||!_a(g.previousQuery))},set(We){U.value=We}}),Gt=O(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(0,e.maxCollapseTags):g.cachedOptions:[]),Te=O(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Xe,removeNewOption:Se,selectNewOption:ct,clearAllNewOption:Xt}=MSn(e,g),Gn=We=>{var _t;L.value||e.filterable&&U.value&&We&&!((_t=k.value)!=null&&_t.contains(We.target))||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:U.value=!U.value)},Ne=()=>{g.inputValue.length>0&&!U.value&&(U.value=!0),Xe(g.inputValue),Ye(()=>{wt(g.inputValue)})},nt=bI(()=>{Ne(),v.value=!1},P),wt=We=>{g.previousQuery===We||A.value||(g.previousQuery=We,e.filterable&&ft(e.filterMethod)?e.filterMethod(We):e.filterable&&e.remote&&ft(e.remoteMethod)&&e.remoteMethod(We),e.defaultFirstOption&&(e.filterable||e.remote)&&j.value.length?Ye(Fr):Ye(dn))},Fr=()=>{const We=j.value.filter(le=>!le.disabled&&le.type!=="Group"),_t=We.find(le=>le.created),Yt=We[0];g.hoveringIndex=Ze(j.value,_t||Yt)},da=We=>{Gr(e.modelValue,We)||t(tn,We)},bs=We=>{t(Et,We),da(We),g.previousValue=e.multiple?String(We):We,Ye(()=>{if(e.multiple&&Oe(e.modelValue)){const _t=g.cachedOptions.slice(),Yt=e.modelValue.map(le=>cu(le,_t));Gr(g.cachedOptions,Yt)||(g.cachedOptions=Yt)}else Gp(!0)})},Ze=(We=[],_t)=>{if(!Pt(_t))return We.indexOf(_t);const Yt=e.valueKey;let le=-1;return We.some((Ee,ut)=>Es(Ee,Yt)===Es(_t,Yt)?(le=ut,!0):!1),le},yt=We=>Pt(We)?Es(We,e.valueKey):We,Kt=()=>{Ue()},ai=()=>{g.selectionWidth=Number.parseFloat(window.getComputedStyle(b.value).width)},uu=()=>{g.collapseItemWidth=E.value.getBoundingClientRect().width},Rl=()=>{var We,_t;(_t=(We=w.value)==null?void 0:We.updatePopper)==null||_t.call(We)},ib=()=>{var We,_t;(_t=(We=C.value)==null?void 0:We.updatePopper)==null||_t.call(We)},rh=We=>{const _t=c(We);if(e.multiple){let Yt=e.modelValue.slice();const le=Ze(Yt,_t);le>-1?(Yt=[...Yt.slice(0,le),...Yt.slice(le+1)],g.cachedOptions.splice(le,1),Se(We)):(e.multipleLimit<=0||Yt.length<e.multipleLimit)&&(Yt=[...Yt,_t],g.cachedOptions.push(We),ct(We)),bs(Yt),We.created&&wt(""),e.filterable&&!e.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=u(We),!Gr(e.modelValue,_t)&&bs(_t),U.value=!1,ct(We),We.created||Xt();tc()},ab=(We,_t)=>{let Yt=e.modelValue.slice();const le=Ze(Yt,c(_t));le>-1&&!L.value&&(Yt=[...e.modelValue.slice(0,le),...e.modelValue.slice(le+1)],g.cachedOptions.splice(le,1),bs(Yt),t("remove-tag",c(_t)),Se(_t)),We.stopPropagation(),tc()},tc=()=>{var We;(We=S.value)==null||We.focus()},QC=()=>{var We;if(U.value){U.value=!1,Ye(()=>{var _t;return(_t=S.value)==null?void 0:_t.blur()});return}(We=S.value)==null||We.blur()},eS=()=>{g.inputValue.length>0?g.inputValue="":U.value=!1},tS=We=>KPe(We,_t=>!g.cachedOptions.some(Yt=>c(Yt)===_t&&f(Yt))),nS=We=>{const _t=Hn(We);if(e.multiple&&_t!==Re.delete&&g.inputValue.length===0){We.preventDefault();const Yt=e.modelValue.slice(),le=tS(Yt);if(le<0)return;const Ee=Yt[le];Yt.splice(le,1);const ut=g.cachedOptions[le];g.cachedOptions.splice(le,1),Se(ut),bs(Yt),t("remove-tag",Ee)}},rS=()=>{let We;Oe(e.modelValue)?We=[]:We=h.value,g.selectedLabel="",U.value=!1,bs(We),t("clear"),Xt(),tc()},sh=(We,_t=void 0)=>{const Yt=j.value;if(!["forward","backward"].includes(We)||L.value||Yt.length<=0||Ce.value||A.value)return;if(!U.value)return Gn();yn(_t)&&(_t=g.hoveringIndex);let le=-1;We==="forward"?(le=_t+1,le>=Yt.length&&(le=0)):We==="backward"&&(le=_t-1,(le<0||le>=Yt.length)&&(le=Yt.length-1));const Ee=Yt[le];if(f(Ee)||Ee.type==="Group")return sh(We,le);g.hoveringIndex=le,ho(le)},Be=()=>{if(U.value)~g.hoveringIndex&&j.value[g.hoveringIndex]&&rh(j.value[g.hoveringIndex]);else return Gn()},St=We=>{g.hoveringIndex=We??-1},dn=()=>{if(!e.multiple)g.hoveringIndex=j.value.findIndex(We=>yt(c(We))===yt(e.modelValue));else{const We=e.modelValue.length;if(We>0){const _t=e.modelValue[We-1];g.hoveringIndex=j.value.findIndex(Yt=>yt(_t)===yt(c(Yt)))}else g.hoveringIndex=-1}},yr=We=>{if(g.inputValue=We.target.value,e.remote)v.value=!0,nt();else return Ne()},Hr=We=>{if(U.value=!1,N.value){const _t=new FocusEvent("blur",We);M(_t)}},Fo=()=>(g.isBeforeHide=!1,Ye(()=>{~Ft.value&&ho(Ft.value)})),ho=We=>{T.value.scrollToItem(We)},cu=(We,_t)=>{const Yt=yt(We);if(He.value.has(Yt)){const{option:le}=He.value.get(Yt);return le}if(_t&&_t.length){const le=_t.find(Ee=>yt(c(Ee))===Yt);if(le)return le}return{[l.value.value]:We,[l.value.label]:We}},nc=We=>{var _t,Yt;return(Yt=(_t=He.value.get(c(We)))==null?void 0:_t.index)!=null?Yt:-1},Gp=(We=!1)=>{if(e.multiple)if(e.modelValue.length>0){const _t=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=e.modelValue.toString();for(const Yt of e.modelValue){const le=cu(Yt,_t);g.cachedOptions.push(le)}}else g.cachedOptions=[],g.previousValue=void 0;else if(ne.value){g.previousValue=e.modelValue;const _t=j.value,Yt=_t.findIndex(le=>yt(c(le))===yt(e.modelValue));~Yt?g.selectedLabel=u(_t[Yt]):(!g.selectedLabel||We)&&(g.selectedLabel=yt(e.modelValue))}else g.selectedLabel="",g.previousValue=void 0;Xt(),Ue()};xe(()=>e.fitInputWidth,()=>{Ue()}),xe(U,We=>{We?(e.persistent||Ue(),wt("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,Xe(""))}),xe(()=>e.modelValue,(We,_t)=>{var Yt;(!We||Oe(We)&&We.length===0||e.multiple&&!Gr(We.toString(),g.previousValue)||!e.multiple&&yt(We)!==yt(g.previousValue))&&Gp(!0),!Gr(We,_t)&&e.validateEvent&&((Yt=i?.validate)==null||Yt.call(i,"change").catch(Ee=>void 0))},{deep:!0}),xe(()=>e.options,()=>{const We=S.value;(!We||We&&document.activeElement!==We)&&Gp()},{deep:!0,flush:"post"}),xe(()=>j.value,()=>(Ue(),T.value&&Ye(T.value.resetScrollTop))),ml(()=>{g.isBeforeHide||$e()}),ml(()=>{const{valueKey:We,options:_t}=e,Yt=new Map;for(const le of _t){const Ee=c(le);let ut=Ee;if(Pt(ut)&&(ut=Es(Ee,We)),Yt.get(ut))break;Yt.set(ut,!0)}}),jt(()=>{Gp()}),Cr(y,Kt),Cr(b,ai),Cr(D,Rl),Cr(_,ib),Cr(E,uu);let lb;return xe(()=>Dt.value,We=>{We?lb=Cr(T,Rl).stop:(lb?.(),lb=void 0),t("visible-change",We)}),{inputId:a,collapseTagSize:ze,currentPlaceholder:cn,expanded:U,emptyText:se,popupHeight:G,debounce:P,allOptions:z,allOptionsValueMap:He,filteredOptions:j,iconComponent:ae,iconReverse:X,tagStyle:ye,collapseTagStyle:Ge,popperSize:m,dropdownMenuVisible:Dt,hasModelValue:ne,shouldShowPlaceholder:at,selectDisabled:L,selectSize:Fe,needStatusIcon:Y,showClearBtn:ue,states:g,isFocused:N,nsSelect:r,nsInput:s,inputRef:S,menuRef:T,tagMenuRef:_,tooltipRef:w,tagTooltipRef:C,selectRef:y,wrapperRef:D,selectionRef:b,prefixRef:$,suffixRef:k,collapseItemRef:E,popperRef:lt,validateState:J,validateIcon:q,showTagList:Gt,collapseTagList:Te,debouncedOnInputChange:nt,deleteTag:ab,getLabel:u,getValue:c,getDisabled:f,getValueKey:yt,getIndex:nc,handleClear:rS,handleClickOutside:Hr,handleDel:nS,handleEsc:eS,focus:tc,blur:QC,handleMenuEnter:Fo,handleResize:Kt,resetSelectionWidth:ai,updateTooltip:Rl,updateTagTooltip:ib,updateOptions:$e,toggleMenu:Gn,scrollTo:ho,onInput:yr,onKeyboardNavigate:sh,onKeyboardSelect:Be,onSelect:rh,onHover:St,handleCompositionStart:I,handleCompositionEnd:F,handleCompositionUpdate:R}},LSn=me({name:"ElSelectV2",components:{ElSelectMenu:FSn,ElTag:Jh,ElTooltip:Xo,ElIcon:ot},directives:{ClickOutside:Jm},props:pSn,emits:mSn,setup(e,{emit:t}){const n=O(()=>{const{modelValue:l,multiple:u}=e,c=u?[]:void 0;return Oe(l)?u?l:c:u?c:l}),r=PSn(In({...ao(e),modelValue:n}),t),{calculatorRef:s,inputStyle:o}=Xne(),i=Yo();ln(rre,{props:In({...ao(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:i,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=O(()=>e.multiple?r.states.cachedOptions.map(l=>r.getLabel(l)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a,calculatorRef:s,inputStyle:o,contentId:i,BORDER_HORIZONTAL_WIDTH:S6e}}}),BSn=["id","autocomplete","tabindex","aria-expanded","aria-label","disabled","aria-controls","aria-activedescendant","readonly","name"],zSn=["textContent"],VSn={key:1};function WSn(e,t,n,r,s,o){const i=Zt("el-tag"),a=Zt("el-tooltip"),l=Zt("el-icon"),u=Zt("el-select-menu"),c=wq("click-outside");return Lt((B(),K("div",{ref:"selectRef",class:V([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[15]||(t[15]=f=>e.states.inputHovering=!0),onMouseleave:t[16]||(t[16]=f=>e.states.inputHovering=!1)},[ee(a,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[14]||(t[14]=f=>e.states.isBeforeHide=!1)},{default:ie(()=>{var f,d;return[Z("div",{ref:"wrapperRef",class:V([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[11]||(t[11]=xt((...h)=>e.toggleMenu&&e.toggleMenu(...h),["prevent"]))},[e.$slots.prefix?(B(),K("div",{key:0,ref:"prefixRef",class:V(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref:"selectionRef",class:V([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ce(e.$slots,"tag",{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(B(!0),K(rt,null,Ht(e.showTagList,h=>(B(),K("div",{key:e.getValueKey(e.getValue(h)),class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!e.selectDisabled&&!e.getDisabled(h),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.tagStyle),onClose:p=>e.deleteTag(p,h)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:e.getIndex(h),label:e.getLabel(h),value:e.getValue(h)},()=>[Jt(De(e.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(B(),pe(a,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:ie(()=>[Z("div",{ref:"collapseItemRef",class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:dt(e.collapseTagStyle),"disable-transitions":""},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))}," + "+De(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[Z("div",{ref:"tagMenuRef",class:V(e.nsSelect.e("selection"))},[(B(!0),K(rt,null,Ht(e.collapseTagList,h=>(B(),K("div",{key:e.getValueKey(e.getValue(h)),class:V(e.nsSelect.e("selected-item"))},[ee(i,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(h),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:p=>e.deleteTag(p,h)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:e.getIndex(h),label:e.getLabel(h),value:e.getValue(h)},()=>[Jt(De(e.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):fe("v-if",!0)]):fe("v-if",!0),Z("div",{class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Lt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=h=>e.states.inputValue=h),style:dt(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"none","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:V([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox","aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:"",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:t[1]||(t[1]=(...h)=>e.onInput&&e.onInput(...h)),onCompositionstart:t[2]||(t[2]=(...h)=>e.handleCompositionStart&&e.handleCompositionStart(...h)),onCompositionupdate:t[3]||(t[3]=(...h)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...h)),onCompositionend:t[4]||(t[4]=(...h)=>e.handleCompositionEnd&&e.handleCompositionEnd(...h)),onKeydown:[t[5]||(t[5]=qr(xt(h=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[6]||(t[6]=qr(xt(h=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[7]||(t[7]=qr(xt((...h)=>e.onKeyboardSelect&&e.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),t[8]||(t[8]=qr(xt((...h)=>e.handleEsc&&e.handleEsc(...h),["stop","prevent"]),["esc"])),t[9]||(t[9]=qr(xt((...h)=>e.handleDel&&e.handleDel(...h),["stop"]),["delete"]))],onClick:t[10]||(t[10]=xt((...h)=>e.toggleMenu&&e.toggleMenu(...h),["stop"]))},null,46,BSn),[[VM,e.states.inputValue]]),e.filterable?(B(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(e.nsSelect.e("input-calculator")),textContent:De(e.states.inputValue)},null,10,zSn)):fe("v-if",!0)],2),e.shouldShowPlaceholder?(B(),K("div",{key:1,class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,index:(d=(f=e.allOptionsValueMap.get(e.modelValue))==null?void 0:f.index)!=null?d:-1,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,De(e.currentPlaceholder),1)]):(B(),K("span",VSn,De(e.currentPlaceholder),1))],2)):fe("v-if",!0)],2),Z("div",{ref:"suffixRef",class:V(e.nsSelect.e("suffix"))},[e.iconComponent?Lt((B(),pe(l,{key:0,class:V([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])),[[$n,!e.showClearBtn]]):fe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),pe(l,{key:1,class:V([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:xt(e.handleClear,["prevent","stop"])},{default:ie(()=>[(B(),pe(zt(e.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(B(),pe(l,{key:2,class:V([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ie(()=>[(B(),pe(zt(e.validateIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)]}),content:ie(()=>[ee(u,{id:e.contentId,ref:"menuRef",data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},vl({default:ie(f=>[ce(e.$slots,"default",zh(Wh(f)))]),_:2},[e.$slots.header?{name:"header",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","header")),onClick:t[12]||(t[12]=xt(()=>{},["stop"]))},[ce(e.$slots,"header")],2)]),key:"0"}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)]),key:"1"}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[Z("span",null,De(e.emptyText),1)])],2)]),key:"2"}:void 0,e.$slots.footer?{name:"footer",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","footer")),onClick:t[13]||(t[13]=xt(()=>{},["stop"]))},[ce(e.$slots,"footer")],2)]),key:"3"}:void 0]),1032,["id","data","width","hovering-index","scrollbar-always-on","aria-label"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}var USn=Ve(LSn,[["render",WSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);const jSn=Rt(USn),HSn=Me({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:oe([Number,Object])}}),qSn=Me({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),GSn=me({name:"ElSkeletonItem",__name:"skeleton-item",props:qSn,setup(e){const t=Ae("skeleton");return(n,r)=>(B(),K("div",{class:V([x(t).e("item"),x(t).e(n.variant)])},[n.variant==="image"?(B(),pe(x(qcn),{key:0})):fe("v-if",!0)],2))}});var wM=Ve(GSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const KSn=(e,t=0)=>{if(t===0)return e;const n=Pt(t)&&!!t.initVal,r=H(n);let s=null;const o=a=>{if(yn(a)){r.value=e.value;return}s&&clearTimeout(s),s=setTimeout(()=>{r.value=e.value},a)},i=a=>{a==="leading"?pt(t)?o(t):o(t.leading):Pt(t)?o(t.trailing):r.value=!1};return jt(()=>i("leading")),xe(()=>e.value,a=>{i(a?"leading":"trailing")}),r},YSn=me({name:"ElSkeleton",__name:"skeleton",props:HSn,setup(e,{expose:t}){const n=e,r=Ae("skeleton"),s=KSn(Bn(n,"loading"),n.throttle);return t({uiLoading:s}),(o,i)=>x(s)?(B(),K("div",Wt({key:0,class:[x(r).b(),x(r).is("animated",o.animated)]},o.$attrs),[(B(!0),K(rt,null,Ht(o.count,a=>(B(),K(rt,{key:a},[x(s)?ce(o.$slots,"template",{key:a},()=>[ee(wM,{class:V(x(r).is("first")),variant:"p"},null,8,["class"]),(B(!0),K(rt,null,Ht(o.rows,l=>(B(),pe(wM,{key:l,class:V([x(r).e("paragraph"),x(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):fe("v-if",!0)],64))),128))],16)):ce(o.$slots,"default",zh(Wt({key:1},o.$attrs)))}});var XSn=Ve(YSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const ZSn=Rt(XSn,{SkeletonItem:wM}),JSn=Ur(wM),j6e=Symbol("sliderContextKey"),QSn=Me({modelValue:{type:oe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:js,inputSize:js,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:oe(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:oe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:qp,default:"top"},marks:{type:oe(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...fa(["ariaLabel"])}),H7=e=>pt(e)||Oe(e)&&e.every(pt),e$n={[Et]:H7,[Os]:H7,[tn]:H7},t$n=Me({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:qp,default:"top"}}),n$n={[Et]:e=>pt(e)},r$n=(e,t,n)=>{const r=H(),s=H(!1),o=O(()=>t.value instanceof Function),i=O(()=>o.value&&t.value(e.modelValue)||e.modelValue),a=Ed(()=>{n.value&&(s.value=!0)},50),l=Ed(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:i,displayTooltip:a,hideTooltip:l}},s$n=(e,t,n)=>{const{disabled:r,min:s,max:o,step:i,showTooltip:a,persistent:l,precision:u,sliderSize:c,formatTooltip:f,emitChange:d,resetSize:h,updateDragging:p}=tt(j6e),{tooltip:g,tooltipVisible:m,formatValue:v,displayTooltip:y,hideTooltip:b}=r$n(e,f,a),w=H(),C=O(()=>`${(e.modelValue-s.value)/(o.value-s.value)*100}%`),S=O(()=>e.vertical?{bottom:C.value}:{left:C.value}),$=()=>{t.hovering=!0,y()},k=()=>{t.hovering=!1,t.dragging||b()},T=U=>{r.value||(U.preventDefault(),M(U),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),w.value.focus())},_=U=>{r.value||(t.newPosition=Number.parseFloat(C.value)+U/(o.value-s.value)*100,j(t.newPosition),d())},E=()=>{_(-i.value)},A=()=>{_(i.value)},I=()=>{_(-i.value*4)},F=()=>{_(i.value*4)},R=()=>{r.value||(j(0),d())},L=()=>{r.value||(j(100),d())},D=U=>{const Y=Hn(U);let G=!0;switch(Y){case Re.left:case Re.down:E();break;case Re.right:case Re.up:A();break;case Re.home:R();break;case Re.end:L();break;case Re.pageDown:I();break;case Re.pageUp:F();break;default:G=!1;break}G&&U.preventDefault()},N=U=>{let Y,G;return U.type.startsWith("touch")?(G=U.touches[0].clientY,Y=U.touches[0].clientX):(G=U.clientY,Y=U.clientX),{clientX:Y,clientY:G}},M=U=>{t.dragging=!0,t.isClick=!0;const{clientX:Y,clientY:G}=N(U);e.vertical?t.startY=G:t.startX=Y,t.startPosition=Number.parseFloat(C.value),t.newPosition=t.startPosition},z=U=>{if(t.dragging){t.isClick=!1,y(),h();let Y;const{clientX:G,clientY:ne}=N(U);e.vertical?(t.currentY=ne,Y=(t.startY-t.currentY)/c.value*100):(t.currentX=G,Y=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+Y,j(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||b(),t.isClick||j(t.newPosition),d()},0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},j=async U=>{if(U===null||Number.isNaN(+U))return;U=p8(U,0,100);const Y=Math.floor((o.value-s.value)/i.value),G=Y*i.value/(o.value-s.value)*100,ne=G+(100-G)/2;let ue;if(U<G){const ae=G/Y,X=Math.round(U/ae);ue=s.value+X*i.value}else U<ne?ue=s.value+Y*i.value:ue=o.value;ue=Number.parseFloat(ue.toFixed(u.value)),ue!==e.modelValue&&n(Et,ue),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Ye(),t.dragging&&y(),g.value.updatePopper()};return xe(()=>t.dragging,U=>{p(U)}),Fn(w,"touchstart",T,{passive:!1}),{disabled:r,button:w,tooltip:g,tooltipVisible:m,showTooltip:a,persistent:l,wrapperStyle:S,formatValue:v,handleMouseEnter:$,handleMouseLeave:k,onButtonDown:T,onKeyDown:D,setPosition:j}},o$n=["tabindex"],i$n=me({name:"ElSliderButton",__name:"button",props:t$n,emits:n$n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("slider"),i=In({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),a=O(()=>f.value?d.value:!1),{disabled:l,button:u,tooltip:c,showTooltip:f,persistent:d,tooltipVisible:h,wrapperStyle:p,formatValue:g,handleMouseEnter:m,handleMouseLeave:v,onButtonDown:y,onKeyDown:b,setPosition:w}=s$n(r,i,s),{hovering:C,dragging:S}=ao(i);return t({onButtonDown:y,onKeyDown:b,setPosition:w,hovering:C,dragging:S}),($,k)=>(B(),K("div",{ref_key:"button",ref:u,class:V([x(o).e("button-wrapper"),{hover:x(C),dragging:x(S)}]),style:dt(x(p)),tabindex:x(l)?void 0:0,onMouseenter:k[0]||(k[0]=(...T)=>x(m)&&x(m)(...T)),onMouseleave:k[1]||(k[1]=(...T)=>x(v)&&x(v)(...T)),onMousedown:k[2]||(k[2]=(...T)=>x(y)&&x(y)(...T)),onFocus:k[3]||(k[3]=(...T)=>x(m)&&x(m)(...T)),onBlur:k[4]||(k[4]=(...T)=>x(v)&&x(v)(...T)),onKeydown:k[5]||(k[5]=(...T)=>x(b)&&x(b)(...T))},[ee(x(Xo),{ref_key:"tooltip",ref:c,visible:x(h),placement:$.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":$.tooltipClass,disabled:!x(f),persistent:a.value},{content:ie(()=>[Z("span",null,De(x(g)),1)]),default:ie(()=>[Z("div",{class:V([x(o).e("button"),{hover:x(C),dragging:x(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,o$n))}});var h0e=Ve(i$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const a$n=Me({mark:{type:oe([String,Object]),default:void 0}});var l$n=me({name:"ElSliderMarker",props:a$n,setup(e){const t=Ae("slider"),n=O(()=>it(e.mark)?e.mark:e.mark.label),r=O(()=>it(e.mark)?void 0:e.mark.style);return()=>bt("div",{class:t.e("marks-text"),style:r.value},n.value)}});const u$n=(e,t,n)=>{const{formItem:r}=Ro(),s=lr(),o=H(),i=H(),a={firstButton:o,secondButton:i},l=jr(),u=O(()=>Math.min(t.firstValue,t.secondValue)),c=O(()=>Math.max(t.firstValue,t.secondValue)),f=O(()=>e.range?`${100*(c.value-u.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),d=O(()=>e.range?`${100*(u.value-e.min)/(e.max-e.min)}%`:"0%"),h=O(()=>e.vertical?{height:e.height}:{}),p=O(()=>e.vertical?{height:f.value,bottom:d.value}:{width:f.value,left:d.value}),g=()=>{if(s.value){const E=s.value.getBoundingClientRect();t.sliderSize=E[e.vertical?"height":"width"]}},m=E=>{const A=e.min+E*(e.max-e.min)/100;if(!e.range)return o;let I;return Math.abs(u.value-A)<Math.abs(c.value-A)?I=t.firstValue<t.secondValue?"firstButton":"secondButton":I=t.firstValue>t.secondValue?"firstButton":"secondButton",a[I]},v=E=>{const A=m(E);return A.value.setPosition(E),A},y=E=>{t.firstValue=E??e.min,w(e.range?[u.value,c.value]:E??e.min)},b=E=>{t.secondValue=E,e.range&&w([u.value,c.value])},w=E=>{n(Et,E),n(Os,E)},C=async()=>{await Ye(),n(tn,e.range?[u.value,c.value]:e.modelValue)},S=E=>{var A,I,F,R,L,D;if(l.value||t.dragging)return;g();let N=0;if(e.vertical){const M=(F=(I=(A=E.touches)==null?void 0:A.item(0))==null?void 0:I.clientY)!=null?F:E.clientY;N=(s.value.getBoundingClientRect().bottom-M)/t.sliderSize*100}else{const M=(D=(L=(R=E.touches)==null?void 0:R.item(0))==null?void 0:L.clientX)!=null?D:E.clientX,z=s.value.getBoundingClientRect().left;N=(M-z)/t.sliderSize*100}if(!(N<0||N>100))return v(N)};return{elFormItem:r,slider:s,firstButton:o,secondButton:i,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:h,barStyle:p,resetSize:g,setPosition:v,emitChange:C,onSliderWrapperPrevent:E=>{var A,I;((A=a.firstButton.value)!=null&&A.dragging||(I=a.secondButton.value)!=null&&I.dragging)&&E.preventDefault()},onSliderClick:E=>{S(E)&&C()},onSliderDown:async E=>{const A=S(E);A&&(await Ye(),A.value.onButtonDown(E))},onSliderMarkerDown:E=>{if(l.value||t.dragging)return;v(E)&&C()},setFirstValue:y,setSecondValue:b}},c$n=(e,t,n,r)=>({stops:O(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const i=Math.ceil((e.max-e.min)/e.step),a=100*e.step/(e.max-e.min),l=Array.from({length:i-1}).map((u,c)=>(c+1)*a);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:i=>e.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),f$n=e=>O(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),d$n=(e,t,n,r,s,o)=>{const i=u=>{s(Et,u),s(Os,u)},a=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Ts("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Oe(f)?f[1]<e.min?i([e.min,e.min]):f[0]>e.max?i([e.max,e.max]):f[0]<e.min?i([e.min,f[1]]):f[1]>e.max?i([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],a()&&(e.validateEvent&&((u=o?.validate)==null||u.call(o,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&pt(f)&&!Number.isNaN(f)&&(f<e.min?i(e.min):f>e.max?i(e.max):(t.firstValue=f,a()&&(e.validateEvent&&((c=o?.validate)==null||c.call(o,"change").catch(d=>void 0)),t.oldValue=f)))};l(),xe(()=>t.dragging,u=>{u||l()}),xe(()=>e.modelValue,(u,c)=>{t.dragging||Oe(u)&&Oe(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),xe(()=>[e.min,e.max],()=>{l()})},h$n=(e,t,n)=>{const r=H();return jt(async()=>{e.range?(Oe(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!pt(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Fn(window,"resize",n),await Ye(),n()}),{sliderWrapper:r}},p$n=["id","role","aria-label","aria-labelledby"],g$n={key:1},m$n=me({name:"ElSlider",__name:"slider",props:QSn,emits:e$n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("slider"),{t:i}=un(),a=In({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:u,firstButton:c,secondButton:f,sliderDisabled:d,minValue:h,maxValue:p,runwayStyle:g,barStyle:m,resetSize:v,emitChange:y,onSliderWrapperPrevent:b,onSliderClick:w,onSliderDown:C,onSliderMarkerDown:S,setFirstValue:$,setSecondValue:k}=u$n(r,a,s),{stops:T,getStopStyle:_}=c$n(r,a,h,p),{inputId:E,isLabeledByFormItem:A}=lu(r,{formItemContext:l}),I=Fs(),F=O(()=>r.inputSize||I.value),R=O(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),L=O(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):R.value),D=O(()=>r.formatValueText?r.formatValueText(Y.value):`${Y.value}`),N=O(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),M=O(()=>r.formatValueText?r.formatValueText(G.value):`${G.value}`),z=O(()=>[o.b(),o.m(I.value),o.is("vertical",r.vertical),{[o.m("with-input")]:r.showInput}]),W=f$n(r);d$n(r,a,h,p,s,l);const j=O(()=>{const ae=[r.min,r.max,r.step].map(X=>{const J=`${X}`.split(".")[1];return J?J.length:0});return Math.max.apply(null,ae)}),{sliderWrapper:U}=h$n(r,a,v),{firstValue:Y,secondValue:G,sliderSize:ne}=ao(a),ue=ae=>{a.dragging=ae};return Fn(U,"touchstart",b,{passive:!1}),Fn(U,"touchmove",b,{passive:!1}),ln(j6e,{...ao(r),sliderSize:ne,disabled:d,precision:j,emitChange:y,resetSize:v,updateDragging:ue}),t({onSliderClick:w}),(ae,X)=>{var J,q;return B(),K("div",{id:ae.range?x(E):void 0,ref_key:"sliderWrapper",ref:U,class:V(z.value),role:ae.range?"group":void 0,"aria-label":ae.range&&!x(A)?R.value:void 0,"aria-labelledby":ae.range&&x(A)?(J=x(l))==null?void 0:J.labelId:void 0},[Z("div",{ref_key:"slider",ref:u,class:V([x(o).e("runway"),{"show-input":ae.showInput&&!ae.range},x(o).is("disabled",x(d))]),style:dt(x(g)),onMousedown:X[0]||(X[0]=(...P)=>x(C)&&x(C)(...P)),onTouchstartPassive:X[1]||(X[1]=(...P)=>x(C)&&x(C)(...P))},[Z("div",{class:V(x(o).e("bar")),style:dt(x(m))},null,6),ee(h0e,{id:ae.range?void 0:x(E),ref_key:"firstButton",ref:c,"model-value":x(Y),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":ae.range||!x(A)?L.value:void 0,"aria-labelledby":!ae.range&&x(A)?(q=x(l))==null?void 0:q.labelId:void 0,"aria-valuemin":ae.min,"aria-valuemax":ae.range?x(G):ae.max,"aria-valuenow":x(Y),"aria-valuetext":D.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":x(d),"onUpdate:modelValue":x($)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ae.range?(B(),pe(h0e,{key:0,ref_key:"secondButton",ref:f,"model-value":x(G),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":N.value,"aria-valuemin":x(Y),"aria-valuemax":ae.max,"aria-valuenow":x(G),"aria-valuetext":M.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":x(d),"onUpdate:modelValue":x(k)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):fe("v-if",!0),ae.showStops?(B(),K("div",g$n,[(B(!0),K(rt,null,Ht(x(T),(P,Q)=>(B(),K("div",{key:Q,class:V(x(o).e("stop")),style:dt(x(_)(P))},null,6))),128))])):fe("v-if",!0),x(W).length>0?(B(),K(rt,{key:2},[Z("div",null,[(B(!0),K(rt,null,Ht(x(W),(P,Q)=>(B(),K("div",{key:Q,style:dt(x(_)(P.position)),class:V([x(o).e("stop"),x(o).e("marks-stop")])},null,6))),128))]),Z("div",{class:V(x(o).e("marks"))},[(B(!0),K(rt,null,Ht(x(W),(P,Q)=>(B(),pe(x(l$n),{key:Q,mark:P.mark,style:dt(x(_)(P.position)),onMousedown:xt(se=>x(S)(P.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):fe("v-if",!0)],38),ae.showInput&&!ae.range?(B(),pe(x(C6e),{key:0,ref:"input","model-value":x(Y),class:V(x(o).e("input")),step:ae.step,disabled:x(d),controls:ae.showInputControls,min:ae.min,max:ae.max,precision:j.value,size:F.value,"onUpdate:modelValue":x($),onChange:x(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","size","onUpdate:modelValue","onChange"])):fe("v-if",!0)],10,p$n)}}});var v$n=Ve(m$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const y$n=Rt(v$n),b$n=Me({prefixCls:{type:String}}),p0e=me({name:"ElSpaceItem",props:b$n,setup(e,{slots:t}){const n=Ae("space"),r=O(()=>`${e.prefixCls||n.b()}__item`);return()=>bt("div",{class:r.value},ce(t,"default"))}}),g0e={small:8,default:12,large:16};function w$n(e){const t=Ae("space"),n=O(()=>[t.b(),t.m(e.direction),e.class]),r=H(0),s=H(0),o=O(()=>{const a=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${s.value}px`,columnGap:`${r.value}px`};return[a,l,u,e.style]}),i=O(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return ml(()=>{const{size:a="small",wrap:l,direction:u,fill:c}=e;if(Oe(a)){const[f=0,d=0]=a;r.value=f,s.value=d}else{let f;pt(a)?f=a:f=g0e[a||"small"]||g0e.small,(l||c)&&u==="horizontal"?r.value=s.value=f:u==="horizontal"?(r.value=f,s.value=0):(s.value=f,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:i}}const x$n=Me({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:oe([String,Object,Array]),default:""},style:{type:oe([String,Array,Object]),default:""},alignment:{type:oe(String),default:"center"},prefixCls:{type:String},spacer:{type:oe([Object,String,Number,Array]),default:null,validator:e=>or(e)||pt(e)||it(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:eh,validator:e=>pt(e)||Oe(e)&&e.length===2&&e.every(pt)}}),C$n=me({name:"ElSpace",props:x$n,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:s}=w$n(e);function o(i,a="",l=[]){const{prefixCls:u}=e;return i.forEach((c,f)=>{dH(c)?Oe(c.children)&&c.children.forEach((d,h)=>{dH(d)&&Oe(d.children)?o(d.children,`${a+h}-`,l):or(d)&&d?.type===ps?l.push(d):l.push(ee(p0e,{style:s.value,prefixCls:u,key:`nested-${a+h}`},{default:()=>[d]},yu.PROPS|yu.STYLE,["style","prefixCls"]))}):Rgn(c)&&l.push(ee(p0e,{style:s.value,prefixCls:u,key:`LoopKey${a+f}`},{default:()=>[c]},yu.PROPS|yu.STYLE,["style","prefixCls"]))}),l}return()=>{var i;const{spacer:a,direction:l}=e,u=ce(t,"default",{key:0},()=>[]);if(((i=u.children)!=null?i:[]).length===0)return null;if(Oe(u.children)){let c=o(u.children);if(a){const f=c.length-1;c=c.reduce((d,h,p)=>{const g=[...d,h];return p!==f&&g.push(ee("span",{style:[s.value,l==="vertical"?"width: 100%":null],key:p},[or(a)?a:Jt(a,yu.TEXT)],yu.STYLE)),g},[])}return ee("div",{class:n.value,style:r.value},c,yu.STYLE|yu.CLASS)}return u.children}}}),S$n=Rt(C$n),$$n=Me({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:oe([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:oe([String,Object,Array])}}),k$n=me({name:"ElStatistic",__name:"statistic",props:$$n,setup(e,{expose:t}){const n=e,r=Ae("statistic"),s=O(()=>{const{value:o,formatter:i,precision:a,decimalSeparator:l,groupSeparator:u}=n;if(ft(i))return i(o);if(!pt(o)||Number.isNaN(o))return o;let[c,f=""]=String(o).split(".");return f=f.padEnd(a,"0").slice(0,a>0?a:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:s}),(o,i)=>(B(),K("div",{class:V(x(r).b())},[o.$slots.title||o.title?(B(),K("div",{key:0,class:V(x(r).e("head"))},[ce(o.$slots,"title",{},()=>[Jt(De(o.title),1)])],2)):fe("v-if",!0),Z("div",{class:V(x(r).e("content"))},[o.$slots.prefix||o.prefix?(B(),K("div",{key:0,class:V(x(r).e("prefix"))},[ce(o.$slots,"prefix",{},()=>[Z("span",null,De(o.prefix),1)])],2)):fe("v-if",!0),Z("span",{class:V(x(r).e("number")),style:dt(o.valueStyle)},De(s.value),7),o.$slots.suffix||o.suffix?(B(),K("div",{key:1,class:V(x(r).e("suffix"))},[ce(o.$slots,"suffix",{},()=>[Z("span",null,De(o.suffix),1)])],2)):fe("v-if",!0)],2)],2))}});var E$n=Ve(k$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const H6e=Rt(E$n),_$n=Me({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:oe([Number,Object]),default:0},valueStyle:{type:oe([String,Object,Array])}}),T$n={finish:()=>!0,[tn]:e=>pt(e)},A$n=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],m0e=e=>pt(e)?new Date(e).getTime():e.valueOf(),v0e=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return A$n.reduce((o,[i,a])=>{const l=new RegExp(`${i}+(?![^\\[\\]]*\\])`,"g");if(l.test(o)){const u=Math.floor(n/a);return n-=u*a,o.replace(l,c=>String(u).padStart(c.length,"0"))}return o},t).replace(r,"$1")},I$n=me({name:"ElCountdown",__name:"countdown",props:_$n,emits:T$n,setup(e,{expose:t,emit:n}){const r=e,s=n;let o;const i=H(0),a=O(()=>v0e(i.value,r.format)),l=f=>v0e(f,r.format),u=()=>{o&&(yp(o),o=void 0)},c=()=>{const f=m0e(r.value),d=()=>{let h=f-Date.now();s(tn,h),h<=0?(h=0,u(),s("finish")):o=_d(d),i.value=h};o=_d(d)};return jt(()=>{i.value=m0e(r.value)-Date.now(),xe(()=>[r.value,r.format],()=>{u(),c()},{immediate:!0})}),Nn(()=>{u()}),t({displayValue:a}),(f,d)=>(B(),pe(x(H6e),{value:i.value,title:f.title,prefix:f.prefix,suffix:f.suffix,"value-style":f.valueStyle,formatter:l},vl({_:2},[Ht(f.$slots,(h,p)=>({name:p,fn:ie(()=>[ce(f.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var N$n=Ve(I$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const D$n=Rt(N$n),O$n=Me({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),R$n={[tn]:(e,t)=>[e,t].every(pt)},q6e="ElSteps",F$n=me({name:"ElSteps",__name:"steps",props:O$n,emits:R$n,setup(e,{emit:t}){const n=e,r=t,s=Ae("steps"),{children:o,addChild:i,removeChild:a,ChildrenSorter:l}=$8(Ut(),"ElStep");return xe(o,()=>{o.value.forEach((u,c)=>{u.setIndex(c)})}),ln(q6e,{props:n,steps:o,addStep:i,removeStep:a}),xe(()=>n.active,(u,c)=>{r(tn,u,c)}),(u,c)=>(B(),K("div",{class:V([x(s).b(),x(s).m(u.simple?"simple":u.direction)])},[ce(u.$slots,"default"),ee(x(l))],2))}});var M$n=Ve(F$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const P$n=Me({title:{type:String,default:""},icon:{type:zn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),L$n=me({name:"ElStep",__name:"item",props:P$n,setup(e){const t=e,n=Ae("step"),r=H(-1),s=H({}),o=H(""),i=tt(q6e),a=Ut();let l=0,u=0;jt(()=>{xe([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([k],[T])=>{u=T||0,l=k-u,S(k)},{immediate:!0})});const c=O(()=>t.status||o.value),f=O(()=>{const k=i.steps.value[r.value-1];return k?k.internalStatus.value:"wait"}),d=O(()=>i.props.alignCenter),h=O(()=>i.props.direction==="vertical"),p=O(()=>i.props.simple),g=O(()=>i.steps.value.length),m=O(()=>{var k;return((k=i.steps.value[g.value-1])==null?void 0:k.uid)===a.uid}),v=O(()=>p.value?"":i.props.space),y=O(()=>[n.b(),n.is(p.value?"simple":i.props.direction),n.is("flex",m.value&&!v.value&&!d.value),n.is("center",d.value&&!h.value&&!p.value)]),b=O(()=>{const k={flexBasis:pt(v.value)?`${v.value}px`:v.value?v.value:`${100/(g.value-(d.value?0:1))}%`};return h.value||m.value&&(k.maxWidth=`${100/g.value}%`),k}),w=k=>{r.value=k},C=k=>{const T=k==="wait",E={transitionDelay:`${Math.abs(l)===1?0:l>0?(r.value+1-u)*150:-(r.value+1-i.props.active)*150}ms`},A=k===i.props.processStatus||T?0:100;E.borderWidth=A&&!p.value?"1px":0,E[i.props.direction==="vertical"?"height":"width"]=`${A}%`,s.value=E},S=k=>{k>r.value?o.value=i.props.finishStatus:k===r.value&&f.value!=="error"?o.value=i.props.processStatus:o.value="wait";const T=i.steps.value[r.value-1];T&&T.calcProgress(o.value)},$={uid:a.uid,getVnode:()=>a.vnode,currentStatus:c,internalStatus:o,setIndex:w,calcProgress:C};return i.addStep($),Nn(()=>{i.removeStep($)}),(k,T)=>(B(),K("div",{style:dt(b.value),class:V(y.value)},[fe(" icon & line "),Z("div",{class:V([x(n).e("head"),x(n).is(c.value)])},[p.value?fe("v-if",!0):(B(),K("div",{key:0,class:V(x(n).e("line"))},[Z("i",{class:V(x(n).e("line-inner")),style:dt(s.value)},null,6)],2)),Z("div",{class:V([x(n).e("icon"),x(n).is(k.icon||k.$slots.icon?"icon":"text")])},[ce(k.$slots,"icon",{},()=>[k.icon?(B(),pe(x(ot),{key:0,class:V(x(n).e("icon-inner"))},{default:ie(()=>[(B(),pe(zt(k.icon)))]),_:1},8,["class"])):c.value==="success"?(B(),pe(x(ot),{key:1,class:V([x(n).e("icon-inner"),x(n).is("status")])},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):c.value==="error"?(B(),pe(x(ot),{key:2,class:V([x(n).e("icon-inner"),x(n).is("status")])},{default:ie(()=>[ee(x(qu))]),_:1},8,["class"])):p.value?fe("v-if",!0):(B(),K("div",{key:3,class:V(x(n).e("icon-inner"))},De(r.value+1),3))])],2)],2),fe(" title & description "),Z("div",{class:V(x(n).e("main"))},[Z("div",{class:V([x(n).e("title"),x(n).is(c.value)])},[ce(k.$slots,"title",{},()=>[Jt(De(k.title),1)])],2),p.value?(B(),K("div",{key:0,class:V(x(n).e("arrow"))},null,2)):(B(),K("div",{key:1,class:V([x(n).e("description"),x(n).is(c.value)])},[ce(k.$slots,"description",{},()=>[Jt(De(k.description),1)])],2))],2)],6))}});var G6e=Ve(L$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const B$n=Rt(M$n,{Step:G6e}),z$n=Ur(G6e),K6e=e=>["",...eh].includes(e),V$n=Me({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:K6e},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:zn},activeActionIcon:{type:zn},activeIcon:{type:zn},inactiveIcon:{type:zn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:oe(Function)},id:String,tabindex:{type:[String,Number]},...fa(["ariaLabel"])}),W$n={[Et]:e=>Ln(e)||it(e)||pt(e),[tn]:e=>Ln(e)||it(e)||pt(e),[Os]:e=>Ln(e)||it(e)||pt(e)},U$n=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],j$n=["aria-hidden"],H$n={key:1},q$n={key:1},G$n=["aria-hidden"],y0e="ElSwitch",K$n=me({name:y0e,__name:"switch",props:V$n,emits:W$n,setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:o}=Ro(),i=Fs(),a=Ae("switch"),{inputId:l}=lu(r,{formItemContext:o}),u=jr(O(()=>{if(r.loading)return!0})),c=H(r.modelValue!==!1),f=lr(),d=O(()=>[a.b(),a.m(i.value),a.is("disabled",u.value),a.is("checked",v.value)]),h=O(()=>[a.e("label"),a.em("label","left"),a.is("active",!v.value)]),p=O(()=>[a.e("label"),a.em("label","right"),a.is("active",v.value)]),g=O(()=>({width:Vr(r.width)}));xe(()=>r.modelValue,()=>{c.value=!0});const m=O(()=>c.value?r.modelValue:!1),v=O(()=>m.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(m.value)||(s(Et,r.inactiveValue),s(tn,r.inactiveValue),s(Os,r.inactiveValue)),xe(v,C=>{var S;f.value.checked=C,r.validateEvent&&((S=o?.validate)==null||S.call(o,"change").catch($=>void 0))});const y=()=>{const C=v.value?r.inactiveValue:r.activeValue;s(Et,C),s(tn,C),s(Os,C),Ye(()=>{f.value.checked=v.value})},b=()=>{if(u.value)return;const{beforeChange:C}=r;if(!C){y();return}const S=C();[f1(S),Ln(S)].includes(!0)||Ts(y0e,"beforeChange must return type `Promise<boolean>` or `boolean`"),f1(S)?S.then(k=>{k&&y()}).catch(k=>{}):S&&y()},w=()=>{var C,S;(S=(C=f.value)==null?void 0:C.focus)==null||S.call(C)};return jt(()=>{f.value.checked=v.value}),t({focus:w,checked:v}),(C,S)=>(B(),K("div",{class:V(d.value),onClick:xt(b,["prevent"])},[Z("input",{id:x(l),ref_key:"input",ref:f,class:V(x(a).e("input")),type:"checkbox",role:"switch","aria-checked":v.value,"aria-disabled":x(u),"aria-label":C.ariaLabel,name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:x(u),tabindex:C.tabindex,onChange:y,onKeydown:qr(b,["enter"])},null,42,U$n),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText||C.$slots.inactive)?(B(),K("span",{key:0,class:V(h.value)},[ce(C.$slots,"inactive",{},()=>[C.inactiveIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveIcon)))]),_:1})):fe("v-if",!0),!C.inactiveIcon&&C.inactiveText?(B(),K("span",{key:1,"aria-hidden":v.value},De(C.inactiveText),9,j$n)):fe("v-if",!0)])],2)):fe("v-if",!0),Z("span",{class:V(x(a).e("core")),style:dt(g.value)},[C.inlinePrompt?(B(),K("div",{key:0,class:V(x(a).e("inner"))},[v.value?(B(),K("div",{key:1,class:V(x(a).e("inner-wrapper"))},[ce(C.$slots,"active",{},()=>[C.activeIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeIcon)))]),_:1})):fe("v-if",!0),!C.activeIcon&&C.activeText?(B(),K("span",q$n,De(C.activeText),1)):fe("v-if",!0)])],2)):(B(),K("div",{key:0,class:V(x(a).e("inner-wrapper"))},[ce(C.$slots,"inactive",{},()=>[C.inactiveIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveIcon)))]),_:1})):fe("v-if",!0),!C.inactiveIcon&&C.inactiveText?(B(),K("span",H$n,De(C.inactiveText),1)):fe("v-if",!0)])],2))],2)):fe("v-if",!0),Z("div",{class:V(x(a).e("action"))},[C.loading?(B(),pe(x(ot),{key:0,class:V(x(a).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])):v.value?ce(C.$slots,"active-action",{key:1},()=>[C.activeActionIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeActionIcon)))]),_:1})):fe("v-if",!0)]):v.value?fe("v-if",!0):ce(C.$slots,"inactive-action",{key:2},()=>[C.inactiveActionIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveActionIcon)))]),_:1})):fe("v-if",!0)])],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText||C.$slots.active)?(B(),K("span",{key:1,class:V(p.value)},[ce(C.$slots,"active",{},()=>[C.activeIcon?(B(),pe(x(ot),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeIcon)))]),_:1})):fe("v-if",!0),!C.activeIcon&&C.activeText?(B(),K("span",{key:1,"aria-hidden":!v.value},De(C.activeText),9,G$n)):fe("v-if",!0)])],2)):fe("v-if",!0)],2))}});var Y$n=Ve(K$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const X$n=Rt(Y$n),q7=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},Z$n=function(e,t,n,r,s){if(!t&&!r&&(!s||Oe(s)&&!s.length))return e;it(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(a,l){return s?YPe(vo(s),u=>it(u)?Es(a,u):u(a,l,e)):(t!=="$key"&&Pt(a)&&"$value"in a&&(a=a.$value),[Pt(a)?t?Es(a,t):null:a])},i=function(a,l){var u,c,f,d,h,p;if(r)return r(a.value,l.value);for(let g=0,m=(c=(u=a.key)==null?void 0:u.length)!=null?c:0;g<m;g++){if(((f=a.key)==null?void 0:f[g])<((d=l.key)==null?void 0:d[g]))return-1;if(((h=a.key)==null?void 0:h[g])>((p=l.key)==null?void 0:p[g]))return 1}return 0};return e.map((a,l)=>({value:a,index:l,key:o?o(a,l):null})).sort((a,l)=>{let u=i(a,l);return u||(u=a.index-l.index),u*+n}).map(a=>a.value)},Y6e=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},J$n=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const s=e.columns[r];if(s.columnKey===t){n=s;break}}return n||Ts("ElTable",`No column matching with column-key: ${t}`),n},b0e=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?Y6e(e,r[0]):null},ui=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(it(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const s of n)r=r[s];return`${r}`}else if(ft(t))return t.call(null,e);return""},Sw=function(e,t,n=!1,r="children"){const s=e||[],o={};return s.forEach((i,a)=>{if(o[ui(i,t)]={row:i,index:a},n){const l=i[r];Oe(l)&&Object.assign(o,Sw(l,t,!0,r))}}),o};function Q$n(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(En(t,r)){const s=t[r];yn(s)||(n[r]=s)}return n}function are(e){return e===""||yn(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function X6e(e){return e===""||yn(e)||(e=are(e),Number.isNaN(e)&&(e=80)),e}function ekn(e){return pt(e)?e:it(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function tkn(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function xM(e,t,n,r,s,o,i){let a=o??0,l=!1;const c=(()=>{if(!i)return e.indexOf(t);const g=ui(t,i);return e.findIndex(m=>ui(m,i)===g)})(),f=c!==-1,d=s?.call(null,t,a),h=g=>{g==="add"?e.push(t):e.splice(c,1),l=!0},p=g=>{let m=0;const v=r?.children&&g[r.children];return v&&Oe(v)&&(m+=v.length,v.forEach(y=>{m+=p(y)})),m};return(!s||d)&&(Ln(n)?n&&!f?h("add"):!n&&f&&h("remove"):h(f?"remove":"add")),!r?.checkStrictly&&r?.children&&Oe(t[r.children])&&t[r.children].forEach(g=>{const m=xM(e,g,n??!f,r,s,a+1,i);a+=p(g)+1,m&&(l=m)}),l}function nkn(e,t,n="children",r="hasChildren",s=!1){const o=a=>!(Oe(a)&&a.length);function i(a,l,u){t(a,l,u),l.forEach(c=>{if(c[r]&&s){t(c,null,u+1);return}const f=c[n];o(f)||i(c,f,u+1)})}e.forEach(a=>{if(a[r]&&s){t(a,null,0);return}const l=a[n];o(l)||i(a,l,0)})}const rkn=(e,t,n,r)=>{const s={strategy:"fixed",...e.popperOptions},o=ft(r?.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:pk(n,r.property).value}):void 0;return or(o)?{slotContent:o,content:null,...e,popperOptions:s}:{slotContent:null,content:o??t,...e,popperOptions:s}};let Ni=null;function skn(e,t,n,r,s,o){var i;const a=rkn(e,t,n,r),l={...a,slotContent:void 0};if(Ni?.trigger===s){const p=(i=Ni.vm)==null?void 0:i.component;XPe(p?.props,l),p&&a.slotContent&&(p.slots.content=()=>[a.slotContent]);return}Ni?.();const u=o?.refs.tableWrapper,c=u?.dataset.prefix,f=ee(Xo,{virtualTriggering:!0,virtualRef:s,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},a.slotContent?{content:()=>a.slotContent}:void 0);f.appContext={...o.appContext,...o};const d=document.createElement("div");am(f,d),f.component.exposed.onOpen();const h=u?.querySelector(`.${c}-scrollbar__wrap`);Ni=()=>{var p,g;(g=(p=f.component)==null?void 0:p.exposed)!=null&&g.onClose&&f.component.exposed.onClose(),am(null,d);const m=Ni;h?.removeEventListener("scroll",m),m.trigger=void 0,m.vm=void 0,Ni=null},Ni.trigger=s??void 0,Ni.vm=f,h?.addEventListener("scroll",Ni)}function Z6e(e){return e.children?YPe(e.children,Z6e):[e]}function w0e(e,t){return e+t.colSpan}const J6e=(e,t,n,r)=>{let s=0,o=e;const i=n.states.columns.value;if(r){const l=Z6e(r[e]);s=i.slice(0,i.indexOf(l[0])).reduce(w0e,0),o=s+l.reduce(w0e,0)-1}else s=e;let a;switch(t){case"left":o<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:o<n.states.fixedLeafColumnsLength.value?a="left":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:s,after:o}:{}},lre=(e,t,n,r,s,o=0)=>{const i=[],{direction:a,start:l,after:u}=J6e(t,n,r,s);if(a){const c=a==="left";i.push(`${e}-fixed-column--${a}`),c&&u+o===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!c&&l-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function x0e(e,t){return e+(mI(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const ure=(e,t,n,r)=>{const{direction:s,start:o=0,after:i=0}=J6e(e,t,n,r);if(!s)return;const a={},l=s==="left",u=n.states.columns.value;return l?a.left=u.slice(0,o).reduce(x0e,0):a.right=u.slice(i+1).reverse().reduce(x0e,0),a},Hx=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Q6e(e){return e.some(t=>or(t)?!(t.type===ps||t.type===rt&&!Q6e(t.children)):!0)?e:null}function okn(e){const t=Ut(),n=H(!1),r=H([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=Sw(r.value,u);r.value=l.reduce((f,d)=>{const h=ui(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{xM(r.value,l,u,void 0,void 0,void 0,e.rowKey.value)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=Sw(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!Sw(r.value,u)[ui(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function ikn(e){const t=Ut(),n=H(null),r=H(null),s=u=>{t.store.assertRowKey(),n.value=u,i(u)},o=()=>{n.value=null},i=u=>{var c;const{data:f,rowKey:d}=e;let h=null;d.value&&(h=(c=(x(f)||[]).find(p=>ui(p,d.value)===u))!=null?c:null),r.value=h??null,t.emit("current-change",r.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=r.value;if(f&&!c.includes(f)){if(u){const d=ui(f,u);i(d)}else r.value=null;mI(r.value)&&t.emit("current-change",null,f)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function akn(e){const t=H([]),n=H({}),r=H(16),s=H(!1),o=H({}),i=H("hasChildren"),a=H("children"),l=H(!1),u=Ut(),c=O(()=>{if(!e.rowKey.value)return{};const w=e.data.value||[];return d(w)}),f=O(()=>{const w=e.rowKey.value,C=Object.keys(o.value),S={};return C.length&&C.forEach($=>{if(o.value[$].length){const k={children:[]};o.value[$].forEach(T=>{const _=ui(T,w);k.children.push(_),T[i.value]&&!S[_]&&(S[_]={children:[]})}),S[$]=k}}),S}),d=w=>{const C=e.rowKey.value,S={};return nkn(w,($,k,T)=>{const _=ui($,C);Oe(k)?S[_]={children:k.map(E=>ui(E,C)),level:T}:s.value&&(S[_]={children:[],lazy:!0,level:T})},a.value,i.value,s.value),S},h=(w=!1,C)=>{var S,$;C||(C=(S=u.store)==null?void 0:S.states.defaultExpandAll.value);const k=c.value,T=f.value,_=Object.keys(k),E={};if(_.length){const A=x(n),I=[],F=(L,D)=>{if(w)return t.value?C||t.value.includes(D):!!(C||L?.expanded);{const N=C||t.value&&t.value.includes(D);return!!(L?.expanded||N)}};_.forEach(L=>{const D=A[L],N={...k[L]};if(N.expanded=F(D,L),N.lazy){const{loaded:M=!1,loading:z=!1}=D||{};N.loaded=!!M,N.loading=!!z,I.push(L)}E[L]=N});const R=Object.keys(T);s.value&&R.length&&I.length&&R.forEach(L=>{var D;const N=A[L],M=T[L].children;if(I.includes(L)){if(((D=E[L].children)==null?void 0:D.length)!==0)throw new Error("[ElTable]children must be an empty array.");E[L].children=M}else{const{loaded:z=!1,loading:W=!1}=N||{};E[L]={lazy:!0,loaded:!!z,loading:!!W,expanded:F(N,L),children:M,level:void 0}}})}n.value=E,($=u.store)==null||$.updateTableScrollY()};xe(()=>t.value,()=>{h(!0)}),xe(()=>c.value,()=>{h()}),xe(()=>f.value,()=>{h()});const p=w=>{t.value=w,h()},g=w=>s.value&&w&&"loaded"in w&&!w.loaded,m=(w,C)=>{u.store.assertRowKey();const S=e.rowKey.value,$=ui(w,S),k=$&&n.value[$];if($&&k&&"expanded"in k){const T=k.expanded;C=yn(C)?!k.expanded:C,n.value[$].expanded=C,T!==C&&u.emit("expand-change",w,C),C&&g(k)&&y(w,$,k),u.store.updateTableScrollY()}},v=w=>{u.store.assertRowKey();const C=e.rowKey.value,S=ui(w,C),$=n.value[S];g($)?y(w,S,$):m(w,void 0)},y=(w,C,S)=>{const{load:$}=u.props;$&&!n.value[C].loaded&&(n.value[C].loading=!0,$(w,S,k=>{if(!Oe(k))throw new TypeError("[ElTable] data must be an array");n.value[C].loading=!1,n.value[C].loaded=!0,n.value[C].expanded=!0,k.length&&(o.value[C]=k),u.emit("expand-change",w,!0)}))};return{loadData:y,loadOrToggle:v,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(w,C)=>{const{lazy:S,rowKey:$}=u.props;if(S){if(!$)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[w]&&(o.value[w]=C)}},normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:o,lazyColumnIdentifier:i,childrenColumnName:a,checkStrictly:l}}}const lkn=(e,t)=>{const n=t.sortingColumn;return!n||it(n.sortable)?e:Z$n(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},eO=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,eO(n.children)):t.push(n)}),t};function ukn(){var e;const t=Ut(),{size:n}=ao((e=t.proxy)==null?void 0:e.$props),r=H(null),s=H([]),o=H([]),i=H(!1),a=H([]),l=H([]),u=H([]),c=H([]),f=H([]),d=H([]),h=H([]),p=H([]),g=[],m=H(0),v=H(0),y=H(0),b=H(!1),w=H([]),C=H(!1),S=H(!1),$=H(null),k=H({}),T=H(null),_=H(null),E=H(null),A=H(null),I=H(null),F=O(()=>r.value?Sw(w.value,r.value):void 0);xe(s,()=>{var lt;t.state&&(N(!1),t.props.tableLayout==="auto"&&((lt=t.refs.tableHeaderRef)==null||lt.updateFixedColumnStyle()))},{deep:!0});const R=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},L=lt=>{var Ft;(Ft=lt.children)==null||Ft.forEach(Dt=>{Dt.fixed=lt.fixed,L(Dt)})},D=()=>{a.value.forEach(Se=>{L(Se)}),c.value=a.value.filter(Se=>[!0,"left"].includes(Se.fixed));const lt=a.value.find(Se=>Se.type==="selection");let Ft;lt&&lt.fixed!=="right"&&!c.value.includes(lt)&&a.value.indexOf(lt)===0&&c.value.length&&(c.value.unshift(lt),Ft=!0),f.value=a.value.filter(Se=>Se.fixed==="right");const Dt=a.value.filter(Se=>(Ft?Se.type!=="selection":!0)&&!Se.fixed);l.value=Array.from(c.value).concat(Dt).concat(f.value);const Gt=eO(Dt),Te=eO(c.value),Xe=eO(f.value);m.value=Gt.length,v.value=Te.length,y.value=Xe.length,u.value=Array.from(Te).concat(Gt).concat(Xe),i.value=c.value.length>0||f.value.length>0},N=(lt,Ft=!1)=>{lt&&D(),Ft?t.state.doLayout():t.state.debouncedUpdateLayout()},M=lt=>F.value?!!F.value[ui(lt,r.value)]:w.value.includes(lt),z=()=>{b.value=!1;const lt=w.value;w.value=[],lt.length&&t.emit("selection-change",[])},W=()=>{var lt,Ft;let Dt;if(r.value){Dt=[];const Gt=(Ft=(lt=t?.store)==null?void 0:lt.states)==null?void 0:Ft.childrenColumnName.value,Te=Sw(s.value,r.value,!0,Gt);for(const Xe in F.value)En(F.value,Xe)&&!Te[Xe]&&Dt.push(F.value[Xe].row)}else Dt=w.value.filter(Gt=>!s.value.includes(Gt));if(Dt.length){const Gt=w.value.filter(Te=>!Dt.includes(Te));w.value=Gt,t.emit("selection-change",Gt.slice())}},j=()=>(w.value||[]).slice(),U=(lt,Ft,Dt=!0,Gt=!1)=>{var Te,Xe,Se,ct;const Xt={children:(Xe=(Te=t?.store)==null?void 0:Te.states)==null?void 0:Xe.childrenColumnName.value,checkStrictly:(ct=(Se=t?.store)==null?void 0:Se.states)==null?void 0:ct.checkStrictly.value};if(xM(w.value,lt,Ft,Xt,Gt?void 0:$.value,s.value.indexOf(lt),r.value)){const Ne=(w.value||[]).slice();Dt&&t.emit("select",Ne,lt),t.emit("selection-change",Ne)}},Y=()=>{var lt,Ft;const Dt=S.value?!b.value:!(b.value||w.value.length);b.value=Dt;let Gt=!1,Te=0;const Xe=(Ft=(lt=t?.store)==null?void 0:lt.states)==null?void 0:Ft.rowKey.value,{childrenColumnName:Se}=t.store.states,ct={children:Se.value,checkStrictly:!1};s.value.forEach((Xt,Gn)=>{const Ne=Gn+Te;xM(w.value,Xt,Dt,ct,$.value,Ne,Xe)&&(Gt=!0),Te+=ne(ui(Xt,Xe))}),Gt&&t.emit("selection-change",w.value?w.value.slice():[]),t.emit("select-all",(w.value||[]).slice())},G=()=>{var lt;if(((lt=s.value)==null?void 0:lt.length)===0){b.value=!1;return}const{childrenColumnName:Ft}=t.store.states;let Dt=0,Gt=0;const Te=Se=>{var ct;for(const Xt of Se){const Gn=$.value&&$.value.call(null,Xt,Dt);if(M(Xt))Gt++;else if(!$.value||Gn)return!1;if(Dt++,(ct=Xt[Ft.value])!=null&&ct.length&&!Te(Xt[Ft.value]))return!1}return!0},Xe=Te(s.value||[]);b.value=Gt===0?!1:Xe},ne=lt=>{var Ft;if(!t||!t.store)return 0;const{treeData:Dt}=t.store.states;let Gt=0;const Te=(Ft=Dt.value[lt])==null?void 0:Ft.children;return Te&&(Gt+=Te.length,Te.forEach(Xe=>{Gt+=ne(Xe)})),Gt},ue=(lt,Ft)=>{const Dt={};return vo(lt).forEach(Gt=>{k.value[Gt.id]=Ft,Dt[Gt.columnKey||Gt.id]=Ft}),Dt},ae=(lt,Ft,Dt)=>{_.value&&_.value!==lt&&(_.value.order=null),_.value=lt,E.value=Ft,A.value=Dt},X=()=>{let lt=x(o);Object.keys(k.value).forEach(Ft=>{const Dt=k.value[Ft];if(!Dt||Dt.length===0)return;const Gt=Y6e({columns:u.value},Ft);Gt&&Gt.filterMethod&&(lt=lt.filter(Te=>Dt.some(Xe=>Gt.filterMethod.call(null,Xe,Te,Gt))))}),T.value=lt},J=()=>{var lt;s.value=lkn((lt=T.value)!=null?lt:[],{sortingColumn:_.value,sortProp:E.value,sortOrder:A.value})},q=(lt=void 0)=>{lt?.filter||X(),J()},P=lt=>{const{tableHeaderRef:Ft}=t.refs;if(!Ft)return;const Dt=Object.assign({},Ft.filterPanels),Gt=Object.keys(Dt);if(Gt.length)if(it(lt)&&(lt=[lt]),Oe(lt)){const Te=lt.map(Xe=>J$n({columns:u.value},Xe));Gt.forEach(Xe=>{const Se=Te.find(ct=>ct.id===Xe);Se&&(Se.filteredValue=[])}),t.store.commit("filterChange",{column:Te,values:[],silent:!0,multi:!0})}else Gt.forEach(Te=>{const Xe=u.value.find(Se=>Se.id===Te);Xe&&(Xe.filteredValue=[])}),k.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Q=()=>{_.value&&(ae(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:se,toggleRowExpansion:de,updateExpandRows:he,states:ge,isRowExpanded:$e}=okn({data:s,rowKey:r}),{updateTreeExpandKeys:He,toggleTreeExpansion:Ie,updateTreeData:Ce,updateKeyChildren:Fe,loadOrToggle:ze,states:Ue}=akn({data:s,rowKey:r}),{updateCurrentRowData:st,updateCurrentRow:ht,setCurrentRowKey:ye,states:Ge}=ikn({data:s,rowKey:r});return{assertRowKey:R,updateColumns:D,scheduleLayout:N,isSelected:M,clearSelection:z,cleanSelection:W,getSelectionRows:j,toggleRowSelection:U,_toggleAllSelection:Y,toggleAllSelection:null,updateAllSelected:G,updateFilters:ue,updateCurrentRow:ht,updateSort:ae,execFilter:X,execSort:J,execQuery:q,clearFilter:P,clearSort:Q,toggleRowExpansion:de,setExpandRowKeysAdapter:lt=>{se(lt),He(lt)},setCurrentRowKey:ye,toggleRowExpansionAdapter:(lt,Ft)=>{u.value.some(({type:Gt})=>Gt==="expand")?de(lt,Ft):Ie(lt,Ft)},isRowExpanded:$e,updateExpandRows:he,updateCurrentRowData:st,loadOrToggle:ze,updateTreeData:Ce,updateKeyChildren:Fe,states:{tableSize:n,rowKey:r,data:s,_data:o,isComplex:i,_columns:a,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:g,leafColumnsLength:m,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:w,reserveSelection:C,selectOnIndeterminate:S,selectable:$,filters:k,filteredData:T,sortingColumn:_,sortProp:E,sortOrder:A,hoverRow:I,...ge,...Ue,...Ge}}}function OH(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=OH(n.children,t)),n)})}function RH(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&RH(t.children)}),e.sort((t,n)=>t.no-n.no)}function ckn(){const e=Ut(),t=ukn(),n=Ae("table"),{t:r}=un();return{ns:n,t:r,...t,mutations:{setData(a,l){const u=x(a._data)!==l;a.data.value=l,a._data.value=l,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),x(a.reserveSelection)?e.store.assertRowKey():u?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(a,l,u,c){var f;const d=x(a._columns);let h=[];u?(u&&!u.children&&(u.children=[]),(f=u.children)==null||f.push(l),h=OH(d,u)):(d.push(l),h=d),RH(h),a._columns.value=h,a.updateOrderFns.push(c),l.type==="selection"&&(a.selectable.value=l.selectable,a.reserveSelection.value=l.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(a,l){var u;((u=l.getColumnIndex)==null?void 0:u.call(l))!==l.no&&(RH(a._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(a,l,u,c){var f;const d=x(a._columns)||[];if(u)(f=u.children)==null||f.splice(u.children.findIndex(p=>p.id===l.id),1),Ye(()=>{var p;((p=u.children)==null?void 0:p.length)===0&&delete u.children}),a._columns.value=OH(d,u);else{const p=d.indexOf(l);p>-1&&(d.splice(p,1),a._columns.value=d)}const h=a.updateOrderFns.indexOf(c);h>-1&&a.updateOrderFns.splice(h,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(a,l){const{prop:u,order:c,init:f}=l;if(u){const d=x(a.columns).find(h=>h.property===u);d&&(d.order=c,e.store.updateSort(d,u,c),e.store.commit("changeSortCondition",{init:f}))}},changeSortCondition(a,l){const{sortingColumn:u,sortProp:c,sortOrder:f}=a,d=x(u),h=x(c),p=x(f);mI(p)&&(a.sortingColumn.value=null,a.sortProp.value=null);const g={filter:!0};e.store.execQuery(g),(!l||!(l.silent||l.init))&&e.emit("sort-change",{column:d,prop:h,order:p}),e.store.updateTableScrollY()},filterChange(a,l){const{column:u,values:c,silent:f}=l,d=e.store.updateFilters(u,c);e.store.execQuery(),f||e.emit("filter-change",d),e.store.updateTableScrollY()},toggleAllSelection(){var a,l;(l=(a=e.store).toggleAllSelection)==null||l.call(a)},rowSelectedChanged(a,l){e.store.toggleRowSelection(l),e.store.updateAllSelected()},setHoverRow(a,l){a.hoverRow.value=l},setCurrentRow(a,l){e.store.updateCurrentRow(l)}},commit:function(a,...l){const u=e.store.mutations;if(u[a])u[a].apply(e,[e.store.states,...l]);else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){Ye(()=>e.layout.updateScrollY.apply(e.layout))}}}const cre={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function fkn(e,t){if(!e)throw new Error("Table is required.");const n=ckn();return n.toggleAllSelection=Ed(n._toggleAllSelection,10),Object.keys(cre).forEach(r=>{e8e(t8e(t,r),r,n)}),dkn(n,t),n}function dkn(e,t){Object.keys(cre).forEach(n=>{xe(()=>t8e(t,n),r=>{e8e(r,n,e)})})}function e8e(e,t,n){let r=e,s=cre[t];Pt(s)&&(r=r||s.default,s=s.key),n.states[s].value=r}function t8e(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(s=>{r=r[s]}),r}else return e[t]}class hkn{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=H(null),this.scrollX=H(!1),this.scrollY=H(!1),this.bodyWidth=H(null),this.fixedWidth=H(null),this.rightFixedWidth=H(null),this.gutterWidth=0;for(const n in t)En(t,n)&&(fr(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(mI(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n?.wrapRef){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(t,n="height"){if(!Tn)return;const r=this.table.vnode.el;if(t=ekn(t),this.height.value=Number(t),!r&&(t||t===0)){Ye(()=>this.setHeight(t,n));return}r&&pt(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):r&&it(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var t;if(!Tn)return;const n=this.fit,r=(t=this.table.vnode.el)==null?void 0:t.clientWidth;let s=0;const o=this.getFlattenColumns(),i=o.filter(u=>!pt(u.width));if(o.forEach(u=>{pt(u.width)&&u.realWidth&&(u.realWidth=null)}),i.length>0&&n){if(o.forEach(u=>{s+=Number(u.width||u.minWidth||80)}),s<=r){this.scrollX.value=!1;const u=r-s;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+u;else{const c=i.reduce((h,p)=>h+Number(p.minWidth||80),0),f=u/c;let d=0;i.forEach((h,p)=>{if(p===0)return;const g=Math.floor(Number(h.minWidth||80)*f);d+=g,h.realWidth=Number(h.minWidth||80)+g}),i[0].realWidth=Number(i[0].minWidth||80)+u-d}}else this.scrollX.value=!0,i.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(s,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),s+=u.realWidth}),this.scrollX.value=s>r,this.bodyWidth.value=s;const a=this.store.states.fixedColumns.value;if(a.length>0){let u=0;a.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var s,o;switch(t){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const pkn=me({name:"ElTableFilterPanel",components:{ElCheckbox:Hc,ElCheckboxGroup:One,ElScrollbar:jc,ElTooltip:Xo,ElIcon:ot,ArrowDown:th,ArrowUp:y8},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:Un.appendTo},setup(e){const t=Ut(),{t:n}=un(),r=Ae("table-filter"),s=t?.parent;e.column&&!s.filterPanels.value[e.column.id]&&(s.filterPanels.value[e.column.id]=t);const o=H(null),i=H(null),a=H(0),l=O(()=>e.column&&e.column.filters),u=O(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),c=O({get:()=>{var $;return((($=e.column)==null?void 0:$.filteredValue)||[])[0]},set:$=>{f.value&&(fl($)?f.value.splice(0,1):f.value.splice(0,1,$))}}),f=O({get(){return e.column?e.column.filteredValue||[]:[]},set($){var k;e.column&&((k=e.upDataColumn)==null||k.call(e,"filteredValue",$))}}),d=O(()=>e.column?e.column.filterMultiple:!0),h=$=>$.value===c.value,p=()=>{var $;($=o.value)==null||$.onClose()},g=()=>{y(f.value),p()},m=()=>{f.value=[],y(f.value),p()},v=($,k)=>{c.value=$,a.value=k,fl($)?y([]):y(f.value),p()},y=$=>{var k,T;(k=e.store)==null||k.commit("filterChange",{column:e.column,values:$}),(T=e.store)==null||T.updateAllSelected()},b=()=>{var $,k;($=i.value)==null||$.focus(),!d.value&&C(),e.column&&((k=e.upDataColumn)==null||k.call(e,"filterOpened",!0))},w=()=>{var $;e.column&&(($=e.upDataColumn)==null||$.call(e,"filterOpened",!1))},C=()=>{if(fl(c)){a.value=0;return}const $=(l.value||[]).findIndex(k=>k.value===c.value);a.value=$>=0?$+1:0};return{multiple:d,filterClassName:u,filteredValue:f,filterValue:c,filters:l,handleConfirm:g,handleReset:m,handleSelect:v,isPropAbsent:fl,isActive:h,t:n,ns:r,tooltipRef:o,rootRef:i,checkedIndex:a,handleShowTooltip:b,handleHideTooltip:w,handleKeydown:$=>{var k,T;const _=Hn($),E=(l.value?l.value.length:0)+1;let A=a.value,I=!0;switch(_){case Re.down:case Re.right:A=(A+1)%E;break;case Re.up:case Re.left:A=(A-1+E)%E;break;case Re.tab:p(),I=!1;break;case Re.enter:case Re.space:if(A===0)v(null,0);else{const F=(l.value||[])[A-1];F.value&&v(F.value,A)}break;default:I=!1;break}I&&$.preventDefault(),a.value=A,(T=(k=i.value)==null?void 0:k.querySelector(`.${r.e("list-item")}:nth-child(${A+1})`))==null||T.focus()}}}}),gkn=["disabled"],mkn=["tabindex","aria-checked"],vkn=["tabindex","aria-checked","onClick"],ykn=["aria-label"];function bkn(e,t,n,r,s,o){const i=Zt("el-checkbox"),a=Zt("el-checkbox-group"),l=Zt("el-scrollbar"),u=Zt("arrow-up"),c=Zt("arrow-down"),f=Zt("el-icon"),d=Zt("el-tooltip");return B(),pe(d,{ref:"tooltipRef",offset:0,placement:e.placement,"show-arrow":!1,trigger:"click",role:"dialog",teleported:"",effect:"light",pure:"",loop:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo,onShow:e.handleShowTooltip,onHide:e.handleHideTooltip},{content:ie(()=>[e.multiple?(B(),K("div",{key:0,ref:"rootRef",tabindex:"-1",class:V(e.ns.e("multiple"))},[Z("div",{class:V(e.ns.e("content"))},[ee(l,{"wrap-class":e.ns.e("wrap")},{default:ie(()=>[ee(a,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=h=>e.filteredValue=h),class:V(e.ns.e("checkbox-group"))},{default:ie(()=>[(B(!0),K(rt,null,Ht(e.filters,h=>(B(),pe(i,{key:h.value,value:h.value},{default:ie(()=>[Jt(De(h.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:V(e.ns.e("bottom"))},[Z("button",{class:V(e.ns.is("disabled",e.filteredValue.length===0)),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...h)=>e.handleConfirm&&e.handleConfirm(...h))},De(e.t("el.table.confirmFilter")),11,gkn),Z("button",{type:"button",onClick:t[2]||(t[2]=(...h)=>e.handleReset&&e.handleReset(...h))},De(e.t("el.table.resetFilter")),1)],2)],2)):(B(),K("ul",{key:1,ref:"rootRef",tabindex:"-1",role:"radiogroup",class:V(e.ns.e("list")),onKeydown:t[4]||(t[4]=(...h)=>e.handleKeydown&&e.handleKeydown(...h))},[Z("li",{role:"radio",class:V([e.ns.e("list-item"),e.ns.is("active",e.isPropAbsent(e.filterValue))]),tabindex:e.checkedIndex===0?0:-1,"aria-checked":e.isPropAbsent(e.filterValue),onClick:t[3]||(t[3]=h=>e.handleSelect(null,0))},De(e.t("el.table.clearFilter")),11,mkn),(B(!0),K(rt,null,Ht(e.filters,(h,p)=>(B(),K("li",{key:h.value,role:"radio",class:V([e.ns.e("list-item"),e.ns.is("active",e.isActive(h))]),tabindex:e.checkedIndex===p+1?0:-1,"aria-checked":e.isActive(h),onClick:g=>e.handleSelect(h.value,p+1)},De(h.text),11,vkn))),128))],34))]),default:ie(()=>{var h;return[Z("button",{type:"button",class:V(`${e.ns.namespace.value}-table__column-filter-trigger`),"aria-label":e.t("el.table.filterLabel",{column:((h=e.column)==null?void 0:h.label)||""})},[ee(f,null,{default:ie(()=>[ce(e.$slots,"filter-icon",{},()=>{var p;return[(p=e.column)!=null&&p.filterOpened?(B(),pe(u,{key:0})):(B(),pe(c,{key:1}))]})]),_:3})],10,ykn)]}),_:3},8,["placement","popper-class","append-to","onShow","onHide"])}var wkn=Ve(pkn,[["render",bkn],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function fre(e){const t=Ut();LM(()=>{n.value.addObserver(t)}),jt(()=>{r(n.value),s(n.value)}),Yc(()=>{r(n.value),s(n.value)}),Yx(()=>{n.value.removeObserver(t)});const n=O(()=>{const o=e.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var i;const a=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=a.length;c<f;c++){const d=a[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},s=o=>{var i,a;const l=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const u=((a=e.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",d.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const mf=Symbol("ElTable");function xkn(e,t){const n=Ut(),r=tt(mf),s=g=>{g.stopPropagation()},o=(g,m)=>{!m.filters&&m.sortable?p(g,m,!1):m.filterable&&!m.sortable&&s(g),r?.emit("header-click",m,g)},i=(g,m)=>{r?.emit("header-contextmenu",m,g)},a=H(null),l=H(!1),u=H(),c=(g,m)=>{var v,y;if(Tn&&!(m.children&&m.children.length>0)&&a.value&&e.border&&a.value.id===m.id){l.value=!0;const b=r;t("set-drag-visible",!0);const w=b?.vnode.el,C=w?.getBoundingClientRect().left,S=(y=(v=n?.vnode)==null?void 0:v.el)==null?void 0:y.querySelector(`th.${m.id}`),$=S.getBoundingClientRect(),k=$.left-C+30;Au(S,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:$.right-C,startColumnLeft:$.left-C,tableLeft:C};const T=b?.refs.resizeProxy;T.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const _=A=>{const I=A.clientX-u.value.startMouseLeft,F=u.value.startLeft+I;T.style.left=`${Math.max(k,F)}px`},E=()=>{if(l.value){const{startColumnLeft:A,startLeft:I}=u.value,R=Number.parseInt(T.style.left,10)-A;m.width=m.realWidth=R,b?.emit("header-dragend",m.width,I-A,m,g),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value=void 0,t("set-drag-visible",!1)}document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ia(S,"noclick")},0)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",E)}},f=(g,m)=>{var v;if(!e.border||m.children&&m.children.length>0)return;const y=g.target,b=cl(y)?y.closest("th"):null;if(!b)return;const w=td(b,"is-sortable");if(w){const _=l.value?"col-resize":"";b.style.cursor=_;const E=b.querySelector(".caret-wrapper");E&&(E.style.cursor=_)}if(!m.resizable||l.value){a.value=null;return}const C=b.getBoundingClientRect(),S=((v=b.parentNode)==null?void 0:v.lastElementChild)===b,$=e.allowDragLastColumn||!S,k=C.width>12&&C.right-g.clientX<8&&$,T=k?"col-resize":"";document.body.style.cursor=T,a.value=k?m:null,w&&(b.style.cursor=T)},d=()=>{!Tn||l.value||(document.body.style.cursor="")},h=({order:g,sortOrders:m})=>{if(g==="")return m[0];const v=m.indexOf(g||null);return m[v>m.length-2?0:v+1]},p=(g,m,v)=>{var y;g.stopPropagation();const b=m.order===v?null:v||h(m),w=(y=g.target)==null?void 0:y.closest("th");if(w&&td(w,"noclick")){ia(w,"noclick");return}if(!m.sortable)return;const C=g.currentTarget;if(["ascending","descending"].some(_=>td(C,_)&&!m.sortOrders.includes(_)))return;const S=e.store.states;let $=S.sortProp.value,k;const T=S.sortingColumn.value;(T!==m||T===m&&mI(T.order))&&(T&&(T.order=null),S.sortingColumn.value=m,$=m.property),b?k=m.order=b:k=m.order=null,S.sortProp.value=$,S.sortOrder.value=k,r?.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:i,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:s}}function Ckn(e){const t=tt(mf),n=Ae("table");return{getHeaderRowStyle:a=>{const l=t?.props.headerRowStyle;return ft(l)?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=t?.props.headerRowClassName;return it(u)?l.push(u):ft(u)&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,c)=>{var f;let d=(f=t?.props.headerCellStyle)!=null?f:{};ft(d)&&(d=d.call(null,{rowIndex:a,columnIndex:l,row:u,column:c}));const h=ure(l,c.fixed,e.store,u);return Hx(h,"left"),Hx(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(a,l,u,c)=>{const f=lre(n.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t?.props.headerCellClassName;return it(h)?d.push(h):ft(h)&&d.push(h.call(null,{rowIndex:a,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const n8e=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,n8e(n.children))):t.push(n)}),t},r8e=e=>{let t=1;const n=(o,i)=>{if(i&&(o.level=i.level+1,t<o.level&&(t=o.level)),o.children){let a=0;o.children.forEach(l=>{n(l,o),a+=l.colSpan}),o.colSpan=a}else o.colSpan=1};e.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<t;o++)r.push([]);return n8e(e).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(i=>i.isSubColumn=!0)):o.rowSpan=t-o.level+1,r[o.level-1].push(o)}),r};function Skn(e){const t=tt(mf),n=O(()=>r8e(e.store.states.originColumns.value));return{isGroup:O(()=>{const o=n.value.length>1;return o&&t&&(t.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),t?.store.commit("toggleAllSelection")},columnRows:n}}var $kn=me({name:"ElTableHeader",components:{ElCheckbox:Hc},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=Ut(),r=tt(mf),s=Ae("table"),o=H({}),{onColumnsChange:i,onScrollableChange:a}=fre(r),l=r?.props.tableLayout==="auto",u=In(new Map),c=H();let f;const d=()=>{f=setTimeout(()=>{u.size>0&&(u.forEach((A,I)=>{const F=c.value.querySelector(`.${I.replace(/\s/g,".")}`);if(F){const R=F.getBoundingClientRect().width;A.width=R||A.width}}),u.clear())})};xe(u,d),Nn(()=>{f&&(clearTimeout(f),f=void 0)}),jt(async()=>{await Ye(),await Ye();const{prop:A,order:I}=e.defaultSort;r?.store.commit("sort",{prop:A,order:I,init:!0}),d()});const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:b}=xkn(e,t),{getHeaderRowStyle:w,getHeaderRowClass:C,getHeaderCellStyle:S,getHeaderCellClass:$}=Ckn(e),{isGroup:k,toggleAllSelection:T,columnRows:_}=Skn(e),{t:E}=un();return n.state={onColumnsChange:i,onScrollableChange:a},n.filterPanels=o,{ns:s,t:E,filterPanels:o,onColumnsChange:i,onScrollableChange:a,columnRows:_,getHeaderRowClass:C,getHeaderRowStyle:w,getHeaderCellClass:$,getHeaderCellStyle:S,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:b,isGroup:k,toggleAllSelection:T,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:d}},render(){const{ns:e,t,isGroup:n,columnRows:r,getHeaderCellStyle:s,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:f,handleSortClick:d,handleMouseOut:h,store:p,$parent:g,saveIndexSelection:m,isTableLayoutAuto:v}=this;let y=1;return bt("thead",{ref:"theadRef",class:e.is("group",n)},r.map((b,w)=>bt("tr",{class:i(w),key:w,style:a(w)},b.map((C,S)=>{C.rowSpan>y&&(y=C.rowSpan);const $=o(w,S,b,C);return v&&C.fixed&&m.set($,C),bt("th",{class:$,colspan:C.colSpan,key:`${C.id}-thead`,rowspan:C.rowSpan,scope:C.colSpan>1?"colgroup":"col",ariaSort:C.sortable?C.order:void 0,style:s(w,S,b,C),onClick:k=>{var T;(T=k.currentTarget)!=null&&T.classList.contains("noclick")||l(k,C)},onContextmenu:k=>u(k,C),onMousedown:k=>c(k,C),onMousemove:k=>f(k,C),onMouseout:h},[bt("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:S,store:p,_self:g}):C.label,C.sortable&&bt("button",{type:"button",class:"caret-wrapper","aria-label":t("el.table.sortLabel",{column:C.label||""}),onClick:k=>d(k,C)},[bt("i",{onClick:k=>d(k,C,"ascending"),class:"sort-caret ascending"}),bt("i",{onClick:k=>d(k,C,"descending"),class:"sort-caret descending"})]),C.filterable&&bt(wkn,{store:p,placement:C.filterPlacement||"bottom-start",appendTo:g?.appendFilterPanelTo,column:C,upDataColumn:(k,T)=>{C[k]=T}},{"filter-icon":()=>C.renderFilterIcon?C.renderFilterIcon({filterOpened:C.filterOpened}):null})])])}))))}});function G7(e,t,n=.03){return e-t>n}function kkn(e){const t=tt(mf),n=H(""),r=H(bt("div")),s=(p,g,m)=>{var v,y,b;const w=t,C=q7(p);let S=null;const $=(v=w?.vnode.el)==null?void 0:v.dataset.prefix;C&&(S=b0e({columns:(b=(y=e.store)==null?void 0:y.states.columns.value)!=null?b:[]},C,$),S&&w?.emit(`cell-${m}`,g,S,C,p)),w?.emit(`row-${m}`,g,S,p)},o=(p,g)=>{s(p,g,"dblclick")},i=(p,g)=>{var m;(m=e.store)==null||m.commit("setCurrentRow",g),s(p,g,"click")},a=(p,g)=>{s(p,g,"contextmenu")},l=Ed(p=>{var g;(g=e.store)==null||g.commit("setHoverRow",p)},30),u=Ed(()=>{var p;(p=e.store)==null||p.commit("setHoverRow",null)},30),c=p=>{const g=window.getComputedStyle(p,null),m=Number.parseInt(g.paddingLeft,10)||0,v=Number.parseInt(g.paddingRight,10)||0,y=Number.parseInt(g.paddingTop,10)||0,b=Number.parseInt(g.paddingBottom,10)||0;return{left:m,right:v,top:y,bottom:b}},f=(p,g,m)=>{var v;let y=(v=g?.target)==null?void 0:v.parentNode;for(;p>1&&(y=y?.nextSibling,!(!y||y.nodeName!=="TR"));)m(y,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:o,handleClick:i,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,g,m)=>{var v,y,b,w,C,S,$,k,T;if(!t)return;const _=t,E=q7(p),A=(v=_?.vnode.el)==null?void 0:v.dataset.prefix;let I=null;if(E){if(I=b0e({columns:(b=(y=e.store)==null?void 0:y.states.columns.value)!=null?b:[]},E,A),!I)return;E.rowSpan>1&&f(E.rowSpan,p,Au);const ne=_.hoverState={cell:E,column:I,row:g};_?.emit("cell-mouse-enter",ne.row,ne.column,ne.cell,p)}if(!m){((w=Ni)==null?void 0:w.trigger)===E&&((C=Ni)==null||C());return}const F=p.target.querySelector(".cell");if(!(td(F,`${A}-tooltip`)&&F.childNodes.length&&((S=F.textContent)!=null&&S.trim())))return;const R=document.createRange();R.setStart(F,0),R.setEnd(F,F.childNodes.length);const{width:L,height:D}=R.getBoundingClientRect(),{width:N,height:M}=F.getBoundingClientRect(),{top:z,left:W,right:j,bottom:U}=c(F),Y=W+j,G=z+U;G7(L+Y,N)||G7(D+G,M)||G7(F.scrollWidth,N)?skn(m,($=E?.innerText||E?.textContent)!=null?$:"",g,I,E,_):((k=Ni)==null?void 0:k.trigger)===E&&((T=Ni)==null||T())},handleCellMouseLeave:p=>{const g=q7(p);if(!g)return;g.rowSpan>1&&f(g.rowSpan,p,ia);const m=t?.hoverState;t?.emit("cell-mouse-leave",m?.row,m?.column,m?.cell,p)},tooltipContent:n,tooltipTrigger:r}}function Ekn(e){const t=tt(mf),n=Ae("table");return{getRowStyle:(u,c)=>{const f=t?.props.rowStyle;return ft(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c,f)=>{var d;const h=[n.e("row")];t?.props.highlightCurrentRow&&u===((d=e.store)==null?void 0:d.states.currentRow.value)&&h.push("current-row"),e.stripe&&f%2===1&&h.push(n.em("row","striped"));const p=t?.props.rowClassName;return it(p)?h.push(p):ft(p)&&h.push(p.call(null,{row:u,rowIndex:c})),h},getCellStyle:(u,c,f,d)=>{const h=t?.props.cellStyle;let p=h??{};ft(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const g=ure(c,e?.fixed,e.store);return Hx(g,"left"),Hx(g,"right"),Object.assign({},p,g)},getCellClass:(u,c,f,d,h)=>{const p=lre(n.b(),c,e?.fixed,e.store,void 0,h),g=[d.id,d.align,d.className,...p],m=t?.props.cellClassName;return it(m)?g.push(m):ft(m)&&g.push(m.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),g.push(n.e("cell")),g.filter(v=>!!v).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const g=t?.props.spanMethod;if(ft(g)){const m=g({row:u,column:c,rowIndex:f,columnIndex:d});Oe(m)?(h=m[0],p=m[1]):Pt(m)&&(h=m.rowspan,p=m.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const _kn=["colspan","rowspan"],Tkn=me({name:"TableTdWrapper",__name:"td-wrapper",props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(B(),K("td",{colspan:e.colspan,rowspan:e.rowspan},[ce(t.$slots,"default")],8,_kn))}});var Akn=Ve(Tkn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table-body/td-wrapper.vue"]]);function Ikn(e){const t=tt(mf),n=Ae("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:o,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=kkn(e),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:g,getSpan:m,getColspanRealWidth:v}=Ekn(e);let y=-1;const b=O(()=>{var k;return(k=e.store)==null?void 0:k.states.columns.value.findIndex(({type:T})=>T==="default")}),w=(k,T)=>{var _;const E=(_=t?.props)==null?void 0:_.rowKey;return E?ui(k,E):T},C=(k,T,_,E=!1)=>{const{tooltipEffect:A,tooltipOptions:I,store:F}=e,{indent:R,columns:L}=F.states,D=[];let N=!0;return _&&(D.push(n.em("row",`level-${_.level}`)),N=!!_.display),T===0&&(y=-1),e.stripe&&N&&y++,D.push(...h(k,T,y)),bt("tr",{style:[N?null:{display:"none"},d(k,T)],class:D,key:w(k,T),onDblclick:z=>r(z,k),onClick:z=>s(z,k),onContextmenu:z=>o(z,k),onMouseenter:()=>i(T),onMouseleave:a},L.value.map((z,W)=>{const{rowspan:j,colspan:U}=m(k,z,T,W);if(!j||!U)return null;const Y=Object.assign({},z);Y.realWidth=v(L.value,U,W);const G={store:F,_self:e.context||t,column:Y,row:k,$index:T,cellIndex:W,expanded:E};W===b.value&&_&&(G.treeNode={indent:_.level&&_.level*R.value,level:_.level},Ln(_.expanded)&&(G.treeNode.expanded=_.expanded,"loading"in _&&(G.treeNode.loading=_.loading),"noLazyChildren"in _&&(G.treeNode.noLazyChildren=_.noLazyChildren)));const ne=`${w(k,T)},${W}`,ue=Y.columnKey||Y.rawColumnKey||"",ae=z.showOverflowTooltip&&XPe({effect:A},I,z.showOverflowTooltip);return bt(Akn,{style:p(T,W,k,z),class:g(T,W,k,z,U-1),key:`${ue}${ne}`,rowspan:j,colspan:U,onMouseenter:X=>l(X,k,ae),onMouseleave:u},{default:()=>S(W,z,G)})}))},S=(k,T,_)=>T.renderCell(_);return{wrappedRowRender:(k,T)=>{const _=e.store,{isRowExpanded:E,assertRowKey:A}=_,{treeData:I,lazyTreeNodeMap:F,childrenColumnName:R,rowKey:L}=_.states,D=_.states.columns.value;if(D.some(({type:M})=>M==="expand")){const M=E(k),z=C(k,T,void 0,M),W=t?.renderExpanded;if(!W)return console.error("[Element Error]renderExpanded is required."),z;const j=[[z]];return(t.props.preserveExpandedContent||M)&&j[0].push(bt("tr",{key:`expanded-row__${z.key}`,style:{display:M?"":"none"}},[bt("td",{colspan:D.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:k,$index:T,store:_,expanded:M})])])),j}else if(Object.keys(I.value).length){A();const M=ui(k,L.value);let z=I.value[M],W=null;z&&(W={expanded:z.expanded,level:z.level,display:!0,noLazyChildren:void 0,loading:void 0},Ln(z.lazy)&&(W&&Ln(z.loaded)&&z.loaded&&(W.noLazyChildren=!(z.children&&z.children.length)),W.loading=z.loading));const j=[C(k,T,W??void 0)];if(z){let U=0;const Y=(ne,ue)=>{ne&&ne.length&&ue&&ne.forEach(ae=>{const X={display:ue.display&&ue.expanded,level:ue.level+1,expanded:!1,noLazyChildren:!1,loading:!1},J=ui(ae,L.value);if(fl(J))throw new Error("For nested data item, row-key is required.");if(z={...I.value[J]},z&&(X.expanded=z.expanded,z.level=z.level||X.level,z.display=!!(z.expanded&&X.display),Ln(z.lazy)&&(Ln(z.loaded)&&z.loaded&&(X.noLazyChildren=!(z.children&&z.children.length)),X.loading=z.loading)),U++,j.push(C(ae,T+U,X)),z){const q=F.value[J]||ae[R.value];Y(q,z)}})};z.display=!0;const G=F.value[M]||k[R.value];Y(G,z)}return j}else return C(k,T,void 0)},tooltipContent:c,tooltipTrigger:f}}const Nkn={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Dkn=me({name:"ElTableBody",props:Nkn,setup(e){var t;const n=Ut(),r=tt(mf),s=Ae("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}=Ikn(e),{onColumnsChange:l,onScrollableChange:u}=fre(r),c=[];return xe((t=e.store)==null?void 0:t.states.hoverRow,(f,d)=>{var h,p;const g=n?.vnode.el,m=Array.from(g?.children||[]).filter(b=>b?.classList.contains(`${s.e("row")}`));let v=f;const y=(h=m[v])==null?void 0:h.childNodes;if(y?.length){let b=0;Array.from(y).reduce((C,S,$)=>{var k,T;return((k=y[$])==null?void 0:k.colSpan)>1&&(b=(T=y[$])==null?void 0:T.colSpan),S.nodeName!=="TD"&&b===0&&C.push($),b>0&&b--,C},[]).forEach(C=>{var S;for(v=f;v>0;){const $=(S=m[v-1])==null?void 0:S.childNodes;if($[C]&&$[C].nodeName==="TD"&&$[C].rowSpan>1){Au($[C],"hover-cell"),c.push($[C]);break}v--}})}else c.forEach(b=>ia(b,"hover-cell")),c.length=0;!((p=e.store)!=null&&p.states.isComplex.value)||!Tn||_d(()=>{const b=m[d],w=m[f];b&&!b.classList.contains("hover-fixed-row")&&ia(b,"hover-row"),w&&Au(w,"hover-row")})}),Yx(()=>{var f;(f=Ni)==null||f()}),{ns:s,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,n=t?.states.data.value||[];return bt("tbody",{tabIndex:-1},[n.reduce((r,s)=>r.concat(e(s,r.length)),[])])}});function Okn(){const e=tt(mf),t=e?.store,n=O(()=>{var a;return(a=t?.states.fixedLeafColumnsLength.value)!=null?a:0}),r=O(()=>{var a;return(a=t?.states.rightFixedColumns.value.length)!=null?a:0}),s=O(()=>{var a;return(a=t?.states.columns.value.length)!=null?a:0}),o=O(()=>{var a;return(a=t?.states.fixedColumns.value.length)!=null?a:0}),i=O(()=>{var a;return(a=t?.states.rightFixedColumns.value.length)!=null?a:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:o,rightFixedCount:i,columns:O(()=>{var a;return(a=t?.states.columns.value)!=null?a:[]})}}function Rkn(e){const{columns:t}=Okn(),n=Ae("table");return{getCellClasses:(o,i)=>{const a=o[i],l=[n.e("cell"),a.id,a.align,a.labelClassName,...lre(n.b(),i,a.fixed,e.store)];return a.className&&l.push(a.className),a.children||l.push(n.is("leaf")),l},getCellStyles:(o,i)=>{const a=ure(i,o.fixed,e.store);return Hx(a,"left"),Hx(a,"right"),a},columns:t}}var Fkn=me({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const t=tt(mf),n=Ae("table"),{getCellClasses:r,getCellStyles:s,columns:o}=Rkn(e),{onScrollableChange:i,onColumnsChange:a}=fre(t);return{ns:n,onScrollableChange:i,onColumnsChange:a,getCellClasses:r,getCellStyles:s,columns:o}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:s}=this,o=this.store.states.data.value;let i=[];return r?i=r({columns:e,data:o}):e.forEach((a,l)=>{if(l===0){i[l]=s;return}const u=o.map(h=>Number(h[a.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?i[l]="":i[l]=u.reduce((h,p)=>{const g=Number(p);return Number.isNaN(+g)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),bt(bt("tfoot",[bt("tr",{},[...e.map((a,l)=>bt("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:n(e,l),style:t(a,l)},[bt("div",{class:["cell",a.labelClassName]},[i[l]])]))])]))}});function Mkn(e){return{setCurrentRow:f=>{e.commit("setCurrentRow",f)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{e.toggleRowSelection(f,d,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:f=>{e.clearFilter(f)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{e.toggleRowExpansionAdapter(f,d)},clearSort:()=>{e.clearSort()},sort:(f,d)=>{e.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{e.updateKeyChildren(f,d)}}}function Pkn(e,t,n,r){const s=H(!1),o=H(null),i=H(!1),a=D=>{i.value=D},l=H({width:null,height:null,headerHeight:null}),u=H(!1),c={display:"inline-block",verticalAlign:"middle"},f=H(),d=H(0),h=H(0),p=H(0),g=H(0),m=H(0);xe(()=>e.height,D=>{t.setHeight(D??null)},{immediate:!0}),xe(()=>e.maxHeight,D=>{t.setMaxHeight(D??null)},{immediate:!0}),xe(()=>[e.currentRowKey,n.states.rowKey],([D,N])=>{!x(N)||!x(D)||n.setCurrentRowKey(`${D}`)},{immediate:!0}),xe(()=>e.data,D=>{r.store.commit("setData",D)},{immediate:!0,deep:!0}),ml(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const v=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(D,N)=>{const{pixelX:M,pixelY:z}=N;Math.abs(M)>=Math.abs(z)&&(r.refs.bodyWrapper.scrollLeft+=N.pixelX/5)},b=O(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=O(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),C=()=>{b.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(T)};jt(async()=>{await Ye(),n.updateColumns(),_(),requestAnimationFrame(C);const D=r.vnode.el,N=r.refs.headerWrapper;e.flexible&&D&&D.parentElement&&(D.parentElement.style.minWidth="0"),l.value={width:f.value=D.offsetWidth,height:D.offsetHeight,headerHeight:e.showHeader&&N?N.offsetHeight:null},n.states.columns.value.forEach(M=>{M.filteredValue&&M.filteredValue.length&&r.store.commit("filterChange",{column:M,values:M.filteredValue,silent:!0})}),r.$ready=!0});const S=(D,N)=>{if(!D)return;const M=Array.from(D.classList).filter(z=>!z.startsWith("is-scrolling-"));M.push(t.scrollX.value?N:"is-scrolling-none"),D.className=M.join(" ")},$=D=>{const{tableWrapper:N}=r.refs;S(N,D)},k=D=>{const{tableWrapper:N}=r.refs;return!!(N&&N.classList.contains(D))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const Y="is-scrolling-none";k(Y)||$(Y);return}const D=r.refs.scrollBarRef.wrapRef;if(!D)return;const{scrollLeft:N,offsetWidth:M,scrollWidth:z}=D,{headerWrapper:W,footerWrapper:j}=r.refs;W&&(W.scrollLeft=N),j&&(j.scrollLeft=N);const U=z-M-1;N>=U?$("is-scrolling-right"):$(N===0?"is-scrolling-left":"is-scrolling-middle")},_=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Fn(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?Cr(r.vnode.el,E):Fn(window,"resize",E),Cr(r.refs.tableInnerWrapper,()=>{var D,N;E(),(N=(D=r.refs)==null?void 0:D.scrollBarRef)==null||N.update()}))},E=()=>{var D,N,M,z;const W=r.vnode.el;if(!r.$ready||!W)return;let j=!1;const{width:U,height:Y,headerHeight:G}=l.value,ne=f.value=W.offsetWidth;U!==ne&&(j=!0);const ue=W.offsetHeight;(e.height||b.value)&&Y!==ue&&(j=!0);const ae=e.tableLayout==="fixed"?r.refs.headerWrapper:(D=r.refs.tableHeaderRef)==null?void 0:D.$el;e.showHeader&&ae?.offsetHeight!==G&&(j=!0),d.value=((N=r.refs.tableWrapper)==null?void 0:N.scrollHeight)||0,p.value=ae?.scrollHeight||0,g.value=((M=r.refs.footerWrapper)==null?void 0:M.offsetHeight)||0,m.value=((z=r.refs.appendWrapper)==null?void 0:z.offsetHeight)||0,h.value=d.value-p.value-g.value-m.value,j&&(l.value={width:ne,height:ue,headerHeight:e.showHeader&&ae?.offsetHeight||0},C())},A=Fs(),I=O(()=>{const{bodyWidth:D,scrollY:N,gutterWidth:M}=t;return D.value?`${D.value-(N.value?M:0)}px`:""}),F=O(()=>e.maxHeight?"fixed":e.tableLayout),R=O(()=>{if(e.data&&e.data.length)return;let D="100%";e.height&&h.value&&(D=`${h.value}px`);const N=f.value;return{width:N?`${N}px`:"",height:D}}),L=O(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+g.value}px)`}:{maxHeight:`${+e.maxHeight-p.value-g.value}px`}:{});return{isHidden:s,renderExpanded:o,setDragVisible:a,isGroup:u,handleMouseLeave:v,handleHeaderFooterMousewheel:y,tableSize:A,emptyBlockStyle:R,resizeProxyVisible:i,bodyWidth:I,resizeState:l,doLayout:C,tableBodyStyles:w,tableLayout:F,scrollbarViewStyle:c,scrollbarStyle:L}}function Lkn(e){const t=H(),n=()=>{const s=e.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{i.forEach(a=>a())}),t.value.observe(s,o)};jt(()=>{n()}),Yx(()=>{var r;(r=t.value)==null||r.disconnect()})}var Bkn={data:{type:Array,default:()=>[]},size:js,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function s8e(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:s})=>yn(s))&&(n=[]);const r=s=>{const o={key:`${e.tableLayout}_${s.id}`,style:{},name:void 0};return t?o.style={width:`${s.width}px`}:o.name=s.id,o};return bt("colgroup",{},n.map(s=>bt("col",r(s))))}s8e.props=["columns","tableLayout"];const zkn=()=>{const e=H(),t=(o,i)=>{const a=e.value;a&&a.scrollTo(o,i)},n=(o,i)=>{const a=e.value;a&&pt(i)&&["Top","Left"].includes(o)&&a[`setScroll${o}`](i)};return{scrollBarRef:e,scrollTo:t,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var C0e=!1,Sv,FH,MH,tO,nO,o8e,rO,PH,LH,BH,i8e,zH,VH,a8e,l8e;function Ka(){if(!C0e){C0e=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(zH=/\b(iPhone|iP[ao]d)/.exec(e),VH=/\b(iP[ao]d)/.exec(e),BH=/Android/i.exec(e),a8e=/FBAN\/\w+;/i.exec(e),l8e=/Mobile/i.exec(e),i8e=!!/Win64/.exec(e),t){Sv=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Sv&&document&&document.documentMode&&(Sv=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);o8e=r?parseFloat(r[1])+4:Sv,FH=t[2]?parseFloat(t[2]):NaN,MH=t[3]?parseFloat(t[3]):NaN,tO=t[4]?parseFloat(t[4]):NaN,tO?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),nO=t&&t[1]?parseFloat(t[1]):NaN):nO=NaN}else Sv=FH=MH=nO=tO=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);rO=s?parseFloat(s[1].replace("_",".")):!0}else rO=!1;PH=!!n[2],LH=!!n[3]}else rO=PH=LH=!1}}var WH={ie:function(){return Ka()||Sv},ieCompatibilityMode:function(){return Ka()||o8e>Sv},ie64:function(){return WH.ie()&&i8e},firefox:function(){return Ka()||FH},opera:function(){return Ka()||MH},webkit:function(){return Ka()||tO},safari:function(){return WH.webkit()},chrome:function(){return Ka()||nO},windows:function(){return Ka()||PH},osx:function(){return Ka()||rO},linux:function(){return Ka()||LH},iphone:function(){return Ka()||zH},mobile:function(){return Ka()||zH||VH||BH||l8e},nativeApp:function(){return Ka()||a8e},android:function(){return Ka()||BH},ipad:function(){return Ka()||VH}},Vkn=WH,Wkn=!!(typeof window<"u"&&window.document&&window.document.createElement),Ukn={canUseDOM:Wkn},u8e=Ukn,c8e;u8e.canUseDOM&&(c8e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function jkn(e,t){if(!u8e.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&c8e&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Hkn=jkn,S0e=10,$0e=40,k0e=800;function f8e(e){var t=0,n=0,r=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*S0e,s=n*S0e,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||s)&&e.deltaMode&&(e.deltaMode==1?(r*=$0e,s*=$0e):(r*=k0e,s*=k0e)),r&&!t&&(t=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:s}}f8e.getEventType=function(){return Vkn.firefox()?"DOMMouseScroll":Hkn("wheel")?"wheel":"mousewheel"};var qkn=f8e;const sO="_Mousewheel",E0e=function(e,t){if(e&&e.addEventListener){d8e(e);const n=function(r){const s=qkn(r);t&&Reflect.apply(t,this,[r,s])};e[sO]={wheelHandler:n},e.addEventListener("wheel",n,{passive:!0})}},d8e=e=>{var t;(t=e[sO])!=null&&t.wheelHandler&&(e.removeEventListener("wheel",e[sO].wheelHandler),e[sO]=null)},Gkn={beforeMount(e,t){E0e(e,t.value)},unmounted(e){d8e(e)},updated(e,t){t.value!==t.oldValue&&E0e(e,t.value)}};let Kkn=1;const Ykn=me({name:"ElTable",directives:{Mousewheel:Gkn},components:{TableHeader:$kn,TableBody:Dkn,TableFooter:Fkn,ElScrollbar:jc,hColgroup:s8e},props:Bkn,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=un(),n=Ae("table"),r=Ut();ln(mf,r);const s=fkn(r,e);r.store=s;const o=new hkn({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=o;const i=O(()=>(s.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:g,updateKeyChildren:m}=Mkn(s),{isHidden:v,renderExpanded:y,setDragVisible:b,isGroup:w,handleMouseLeave:C,handleHeaderFooterMousewheel:S,tableSize:$,emptyBlockStyle:k,resizeProxyVisible:T,bodyWidth:_,resizeState:E,doLayout:A,tableBodyStyles:I,tableLayout:F,scrollbarViewStyle:R,scrollbarStyle:L}=Pkn(e,o,s,r),{scrollBarRef:D,scrollTo:N,setScrollLeft:M,setScrollTop:z}=zkn(),W=Ed(A,50),j=`${n.namespace.value}-table_${Kkn++}`;r.tableId=j,r.state={isGroup:w,resizeState:E,doLayout:A,debouncedUpdateLayout:W};const U=O(()=>{var ne;return(ne=e.sumText)!=null?ne:t("el.table.sumText")}),Y=O(()=>{var ne;return(ne=e.emptyText)!=null?ne:t("el.table.emptyText")}),G=O(()=>r8e(s.states.originColumns.value)[0]);return Lkn(r),Nn(()=>{W.cancel()}),{ns:n,layout:o,store:s,columns:G,handleHeaderFooterMousewheel:S,handleMouseLeave:C,tableId:j,tableSize:$,isHidden:v,isEmpty:i,renderExpanded:y,resizeProxyVisible:T,resizeState:E,isGroup:w,bodyWidth:_,tableBodyStyles:I,emptyBlockStyle:k,debouncedUpdateLayout:W,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:A,sort:g,updateKeyChildren:m,t,setDragVisible:b,context:r,computedSumText:U,computedEmptyText:Y,tableLayout:F,scrollbarViewStyle:R,scrollbarStyle:L,scrollBarRef:D,scrollTo:N,setScrollLeft:M,setScrollTop:z,allowDragLastColumn:e.allowDragLastColumn}}}),Xkn=["data-prefix"],Zkn={ref:"hiddenColumns",class:"hidden-columns"};function Jkn(e,t,n,r,s,o){const i=Zt("hColgroup"),a=Zt("table-header"),l=Zt("table-body"),u=Zt("table-footer"),c=Zt("el-scrollbar"),f=wq("mousewheel");return B(),K("div",{ref:"tableWrapper",class:V([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:dt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[1]||(t[1]=(...d)=>e.handleMouseLeave&&e.handleMouseLeave(...d))},[Z("div",{ref:"tableInnerWrapper",class:V(e.ns.e("inner-wrapper"))},[Z("div",Zkn,[ce(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Lt((B(),K("div",{key:0,ref:"headerWrapper",class:V(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:V(e.ns.e("header")),style:dt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ee(a,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):fe("v-if",!0),Z("div",{ref:"bodyWrapper",class:V(e.ns.e("body-wrapper"))},[ee(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:t[0]||(t[0]=d=>e.$emit("scroll",d))},{default:ie(()=>[Z("table",{ref:"tableBody",class:V(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:dt({width:e.bodyWidth,tableLayout:e.tableLayout})},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(B(),pe(a,{key:0,ref:"tableHeaderRef",class:V(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):fe("v-if",!0),ee(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(B(),pe(u,{key:1,class:V(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):fe("v-if",!0)],6),e.isEmpty?(B(),K("div",{key:0,ref:"emptyBlock",style:dt(e.emptyBlockStyle),class:V(e.ns.e("empty-block"))},[Z("span",{class:V(e.ns.e("empty-text"))},[ce(e.$slots,"empty",{},()=>[Jt(De(e.computedEmptyText),1)])],2)],6)):fe("v-if",!0),e.$slots.append?(B(),K("div",{key:1,ref:"appendWrapper",class:V(e.ns.e("append-wrapper"))},[ce(e.$slots,"append")],2)):fe("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native"])],2),e.showSummary&&e.tableLayout==="fixed"?Lt((B(),K("div",{key:1,ref:"footerWrapper",class:V(e.ns.e("footer-wrapper"))},[Z("table",{class:V(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:dt(e.tableBodyStyles)},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ee(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[$n,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):fe("v-if",!0),e.border||e.isGroup?(B(),K("div",{key:2,class:V(e.ns.e("border-left-patch"))},null,2)):fe("v-if",!0)],2),Lt(Z("div",{ref:"resizeProxy",class:V(e.ns.e("column-resize-proxy"))},null,2),[[$n,e.resizeProxyVisible]])],46,Xkn)}var Qkn=Ve(Ykn,[["render",Jkn],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const eEn={selection:"table-column--selection",expand:"table__expand-column"},tEn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},nEn=e=>eEn[e]||"",rEn={selection:{renderHeader({store:e}){var t;function n(){return e.states.data.value&&e.states.data.value.length===0}return bt(Hc,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":(t=e.toggleAllSelection)!=null?t:void 0,modelValue:e.states.isAllSelected.value,ariaLabel:e.t("el.table.selectAllLabel")})},renderCell({row:e,column:t,store:n,$index:r}){return bt(Hc,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:n.t("el.table.selectRowLabel")})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return pt(r)?n=t+r:ft(r)&&(n=r(t)),bt("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({column:e,row:t,store:n,expanded:r}){const{ns:s}=n,o=[s.e("expand-icon")];!e.renderExpand&&r&&o.push(s.em("expand-icon","expanded"));const i=function(a){a.stopPropagation(),n.toggleRowExpansion(t)};return bt("button",{type:"button","aria-label":n.t(r?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":r,class:o,onClick:i},{default:()=>e.renderExpand?[e.renderExpand({expanded:r})]:[bt(ot,null,{default:()=>[bt(aa)]})]})},sortable:!1,resizable:!1}};function sEn({row:e,column:t,$index:n}){var r;const s=t.property,o=s&&pk(e,s).value;return t&&t.formatter?t.formatter(e,t,o,n):((r=o?.toString)==null?void 0:r.call(o))||""}function oEn({row:e,treeNode:t,store:n},r=!1){const{ns:s}=n;if(!t)return r?[bt("span",{class:s.e("placeholder")})]:null;const o=[],i=function(a){a.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&o.push(bt("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),Ln(t.expanded)&&!t.noLazyChildren){const a=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let l=aa;t.loading&&(l=Td),o.push(bt("button",{type:"button","aria-label":n.t(t.expanded?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":t.expanded,class:a,onClick:i},{default:()=>[bt(ot,{class:s.is("loading",t.loading)},{default:()=>[bt(l)]})]}))}else o.push(bt("span",{class:s.e("placeholder")}));return o}function _0e(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function iEn(e,t){const n=Ut();return{registerComplexWatchers:()=>{const o=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},a=_0e(o,i);Object.keys(a).forEach(l=>{const u=i[l];En(t,u)&&xe(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=are(c)),u==="minWidth"&&l==="realMinWidth"&&(f=X6e(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter","resizable"],i=["showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=_0e(o,a);Object.keys(l).forEach(u=>{const c=a[u];En(t,c)&&xe(()=>t[c],f=>{n.columnConfig.value[u]=f,(u==="filters"||u==="filterMethod")&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),i.forEach(u=>{En(e.value.props,u)&&xe(()=>e.value.props[u],c=>{n.columnConfig.value[u]=c})})}}}function aEn(e,t,n){const r=Ut(),s=H(""),o=H(!1),i=H(),a=H(),l=Ae("table");ml(()=>{i.value=e.align?`is-${e.align}`:null,i.value}),ml(()=>{a.value=e.headerAlign?`is-${e.headerAlign}`:i.value,a.value});const u=O(()=>{let w=r.vnode.vParent||r.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=O(()=>{const{store:w}=r.parent;if(!w)return!1;const{treeData:C}=w.states,S=C.value;return S&&Object.keys(S).length>0}),f=H(are(e.width)),d=H(X6e(e.minWidth)),h=w=>(f.value&&(w.width=f.value),d.value&&(w.minWidth=d.value),!f.value&&d.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(yn(w.width)?w.minWidth:w.width),w),p=w=>{const C=w.type,S=rEn[C]||{};Object.keys(S).forEach(k=>{const T=S[k];k!=="className"&&!yn(T)&&(w[k]=T)});const $=nEn(C);if($){const k=`${x(l.namespace)}-${$}`;w.className=w.className?`${w.className} ${k}`:k}return w},g=w=>{Oe(w)?w.forEach(S=>C(S)):C(w);function C(S){var $;(($=S?.type)==null?void 0:$.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:s,realAlign:i,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:w=>{e.renderHeader||w.type!=="selection"&&(w.renderHeader=S=>{if(r.columnConfig.value.label,t.header){const $=t.header(S);if(Q6e($))return bt(rt,$)}return Jt(w.label)}),t["filter-icon"]&&(w.renderFilterIcon=S=>ce(t,"filter-icon",S)),t.expand&&(w.renderExpand=S=>ce(t,"expand",S));let C=w.renderCell;return w.type==="expand"?(w.renderCell=S=>bt("div",{class:"cell"},[C(S)]),n.value.renderExpanded=S=>t.default?t.default(S):t.default):(C=C||sEn,w.renderCell=S=>{let $=null;if(t.default){const I=t.default(S);$=I.some(F=>F.type!==ps)?I:C(S)}else $=C(S);const{columns:k}=n.value.store.states,T=k.value.findIndex(I=>I.type==="default"),_=c.value&&S.cellIndex===T,E=oEn(S,_),A={class:"cell",style:{}};return w.showOverflowTooltip&&(A.class=`${A.class} ${x(l.namespace)}-tooltip`,A.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),g($),bt("div",A,[E,$])}),w},getPropsData:(...w)=>w.reduce((C,S)=>(Oe(S)&&S.forEach($=>{C[$]=e[$]}),C),{}),getColumnElIndex:(w,C)=>Array.prototype.indexOf.call(w,C),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var lEn={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let uEn=1;var h8e=me({name:"ElTableColumn",components:{ElCheckbox:Hc},props:lEn,setup(e,{slots:t}){const n=Ut(),r=H({}),s=O(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:o,registerComplexWatchers:i}=iEn(s,e),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:g,realAlign:m,updateColumnOrder:v}=aEn(e,t,s),y=c.value;a.value=`${"tableId"in y&&y.tableId||"columnId"in y&&y.columnId}_column_${uEn++}`,LM(()=>{l.value=s.value!==y;const b=e.type||"default",w=e.sortable===""?!0:e.sortable,C=b==="selection"?!1:yn(e.showOverflowTooltip)?y.props.showOverflowTooltip:e.showOverflowTooltip,S=yn(e.tooltipFormatter)?y.props.tooltipFormatter:e.tooltipFormatter,$={...tEn[b],id:a.value,type:b,property:e.prop||e.property,align:m,headerAlign:u,showOverflowTooltip:C,tooltipFormatter:S,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:e.index,rawColumnKey:n.vnode.key};let A=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);A=Q$n($,A),A=tkn(h,f,d)(A),r.value=A,o(),i()}),jt(()=>{var b,w;const C=c.value,S=l.value?(b=C.vnode.el)==null?void 0:b.children:(w=C.refs.hiddenColumns)==null?void 0:w.children,$=()=>g(S||[],n.vnode.el);r.value.getColumnIndex=$,$()>-1&&s.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in C&&C.columnConfig.value:null,v)}),Nn(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&s.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in y&&y.columnConfig.value:null,v)}),n.columnId=a.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(Oe(r))for(const i of r)((n=i.type)==null?void 0:n.name)==="ElTableColumn"||i.shapeFlag&2?s.push(i):i.type===rt&&Oe(i.children)&&i.children.forEach(a=>{a?.patchFlag!==1024&&!it(a?.children)&&s.push(a)});return bt("div",s)}catch{return bt("div",[])}}});const cEn=Rt(Qkn,{TableColumn:h8e}),fEn=Ur(h8e);var Bv=(e=>(e.ASC="asc",e.DESC="desc",e))(Bv||{}),C_=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(C_||{}),p8e=(e=>(e.LEFT="left",e.RIGHT="right",e))(p8e||{});const UH={asc:"desc",desc:"asc"},S_=Symbol("placeholder"),dEn=(e,t,n)=>{var r;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(s.flexShrink=1);const o={...(r=e.style)!=null?r:{},...s,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function hEn(e,t,n){const r=O(()=>x(t).map((m,v)=>{var y,b;return{...m,key:(b=(y=m.key)!=null?y:m.dataKey)!=null?b:v}})),s=O(()=>x(r).filter(m=>!m.hidden)),o=O(()=>x(s).filter(m=>m.fixed==="left"||m.fixed===!0)),i=O(()=>x(s).filter(m=>m.fixed==="right")),a=O(()=>x(s).filter(m=>!m.fixed)),l=O(()=>{const m=[];return x(o).forEach(v=>{m.push({...v,placeholderSign:S_})}),x(a).forEach(v=>{m.push(v)}),x(i).forEach(v=>{m.push({...v,placeholderSign:S_})}),m}),u=O(()=>x(o).length||x(i).length),c=O(()=>x(r).reduce((m,v)=>(m[v.key]=dEn(v,x(n),e.fixed),m),{})),f=O(()=>x(s).reduce((m,v)=>m+v.width,0)),d=m=>x(r).find(v=>v.key===m),h=m=>x(c)[m],p=(m,v)=>{m.width=v};function g(m){var v;const{key:y}=m.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:w}=e;let C=Bv.ASC;Pt(b)?C=UH[b[y]]:C=UH[w.order],(v=e.onColumnSort)==null||v.call(e,{column:d(y),key:y,order:C})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,hasFixedColumns:u,mainColumns:l,normalColumns:a,visibleColumns:s,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:g}}const pEn=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const o=H({scrollLeft:0,scrollTop:0});function i(h){var p,g,m;const{scrollTop:v}=h;(p=t.value)==null||p.scrollTo(h),(g=n.value)==null||g.scrollToTop(v),(m=r.value)==null||m.scrollToTop(v)}function a(h){o.value=h,i(h)}function l(h){o.value.scrollTop=h,i(x(o))}function u(h){var p,g;o.value.scrollLeft=h,(g=(p=t.value)==null?void 0:p.scrollTo)==null||g.call(p,x(o))}function c(h){var p;a(h),(p=e.onScroll)==null||p.call(e,h)}function f({scrollTop:h}){const{scrollTop:p}=x(o);h!==p&&l(h)}function d(h,p="auto"){var g;(g=t.value)==null||g.scrollToRow(h,p)}return xe(()=>x(o).scrollTop,(h,p)=>{h>p&&s()}),{scrollPos:o,scrollTo:a,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},gEn=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:s,ns:o,isScrolling:i})=>{const a=Ut(),{emit:l}=a,u=lr(!1),c=H(e.defaultExpandedRowKeys||[]),f=H(-1),d=lr(null),h=H({}),p=H({}),g=lr({}),m=lr({}),v=lr({}),y=O(()=>pt(e.estimatedRowHeight));function b(_){var E;(E=e.onRowsRendered)==null||E.call(e,_),_.rowCacheEnd>x(f)&&(f.value=_.rowCacheEnd)}function w({hovered:_,rowKey:E}){if(i.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(E)}"]`).forEach(F=>{_?F.classList.add(o.is("hovered")):F.classList.remove(o.is("hovered"))})}function C({expanded:_,rowData:E,rowIndex:A,rowKey:I}){var F,R;const L=[...x(c)],D=L.indexOf(I);_?D===-1&&L.push(I):D>-1&&L.splice(D,1),c.value=L,l("update:expandedRowKeys",L),(F=e.onRowExpand)==null||F.call(e,{expanded:_,rowData:E,rowIndex:A,rowKey:I}),(R=e.onExpandedRowsChange)==null||R.call(e,L),s.vnode.el.querySelector(`.${o.is("hovered")}[rowkey="${String(I)}"]`)&&Ye(()=>w({hovered:!0,rowKey:I}))}const S=Ed(()=>{var _,E,A,I;u.value=!0,h.value={...x(h),...x(p)},$(x(d),!1),p.value={},d.value=null,(_=t.value)==null||_.forceUpdate(),(E=n.value)==null||E.forceUpdate(),(A=r.value)==null||A.forceUpdate(),(I=a.proxy)==null||I.$forceUpdate(),u.value=!1},0);function $(_,E=!1){x(y)&&[t,n,r].forEach(A=>{const I=x(A);I&&I.resetAfterRowIndex(_,E)})}function k(_,E,A){const I=x(d);(I===null||I>A)&&(d.value=A),p.value[_]=E}function T({rowKey:_,height:E,rowIndex:A},I){I?I===p8e.RIGHT?v.value[_]=E:g.value[_]=E:m.value[_]=E;const F=Math.max(...[g,v,m].map(R=>R.value[_]||0));x(h)[_]!==F&&(k(_,F,A),S())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:h,resetAfterIndex:$,onRowExpanded:C,onRowHovered:w,onRowsRendered:b,onRowHeightChange:T}},mEn=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=H({}),o=O(()=>{const a={},{data:l,rowKey:u}=e,c=x(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>a[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&Oe(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(g=>a[g[u]]=a[p[u]]+1))}return s.value=a,f}),i=O(()=>{const{data:a,expandColumnKey:l}=e;return l?x(o):a});return xe(i,(a,l)=>{a!==l&&(n.value=-1,r(0,!0))}),{data:i,depthMap:s}},vEn=(e,t)=>e+t,oO=e=>Oe(e)?e.reduce(vEn,0):e,Q1=(e,t,n={})=>ft(e)?e(t):e??n,qg=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Vr(e[t])}),e),g8e=e=>or(e)?t=>bt(e,t):e,yEn=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const o=O(()=>{const{fixed:v,width:y,vScrollbarSize:b}=e,w=y-b;return v?Math.max(Math.round(x(t)),w):w}),i=O(()=>{const{height:v=0,maxHeight:y=0,footerHeight:b,hScrollbarSize:w}=e;if(y>0){const C=x(d),S=x(n),k=x(f)+C+S+w;return Math.min(k,y-b)}return v-b}),a=O(()=>{const{maxHeight:v}=e,y=x(i);if(pt(v)&&v>0)return y;const b=x(n)+x(f)+x(d);return Math.min(y,b)}),l=v=>v.width,u=O(()=>oO(x(r).map(l))),c=O(()=>oO(x(s).map(l))),f=O(()=>oO(e.headerHeight)),d=O(()=>{var v;return(((v=e.fixedData)==null?void 0:v.length)||0)*e.rowHeight}),h=O(()=>x(i)-x(f)-x(d)),p=O(()=>{const{style:v={},height:y,width:b}=e;return qg({...v,height:y,width:b})}),g=O(()=>qg({height:e.footerHeight})),m=O(()=>({top:Vr(x(f)),bottom:Vr(e.footerHeight),width:Vr(e.width)}));return{bodyWidth:o,fixedTableHeight:a,mainTableHeight:i,leftTableWidth:u,rightTableWidth:c,windowHeight:h,footerHeight:g,emptyStyle:m,rootStyle:p,headerHeight:f}};function bEn(e){const t=H(),n=H(),r=H(),{columns:s,columnsStyles:o,columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=hEn(e,Bn(e,"columns"),Bn(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v,scrollPos:y}=pEn(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Q}),b=Ae("table-v2"),w=Ut(),C=lr(!1),{expandedRowKeys:S,lastRenderedRowIndex:$,isDynamic:k,isResetting:T,rowHeights:_,resetAfterIndex:E,onRowExpanded:A,onRowHeightChange:I,onRowHovered:F,onRowsRendered:R}=gEn(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:w,ns:b,isScrolling:C}),{data:L,depthMap:D}=mEn(e,{expandedRowKeys:S,lastRenderedRowIndex:$,resetAfterIndex:E}),N=O(()=>{const{estimatedRowHeight:se,rowHeight:de}=e,he=x(L);return pt(se)?Object.values(x(_)).reduce((ge,$e)=>ge+$e,0):he.length*de}),{bodyWidth:M,fixedTableHeight:z,mainTableHeight:W,leftTableWidth:j,rightTableWidth:U,windowHeight:Y,footerHeight:G,emptyStyle:ne,rootStyle:ue,headerHeight:ae}=yEn(e,{columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,rowsHeight:N}),X=H(),J=O(()=>{const se=x(L).length===0;return Oe(e.fixedData)?e.fixedData.length===0&&se:se});function q(se){const{estimatedRowHeight:de,rowHeight:he,rowKey:ge}=e;return de?x(_)[x(L)[se][ge]]||de:he}const P=H(!1);function Q(){const{onEndReached:se}=e;if(!se)return;const{scrollTop:de}=x(y),he=x(N),ge=x(Y),$e=he-(de+ge)+e.hScrollbarSize;!P.value&&x($)>=0&&he<=de+x(W)-x(ae)?(P.value=!0,se($e)):P.value=!1}return xe(()=>x(N),()=>P.value=!1),xe(()=>e.expandedRowKeys,se=>S.value=se,{deep:!0}),{columns:s,containerRef:X,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:T,isScrolling:C,hasFixedColumns:u,columnsStyles:o,columnsTotalWidth:i,data:L,expandedRowKeys:S,depthMap:D,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:M,emptyStyle:ne,rootStyle:ue,footerHeight:G,mainTableHeight:W,fixedTableHeight:z,leftTableWidth:j,rightTableWidth:U,showEmpty:J,getRowHeight:q,onColumnSorted:f,onRowHovered:F,onRowExpanded:A,onRowsRendered:R,onRowHeightChange:I,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v}}const dre=Symbol("tableV2"),m8e="tableV2GridScrollLeft",v8e=String,RI={type:oe(Array),required:!0},hre={type:oe(Array)},y8e={...hre,required:!0},wEn=String,T0e={type:oe(Array),default:()=>zr([])},$v={type:Number,required:!0},b8e={type:oe([String,Number,Symbol]),default:"id"},A0e={type:oe(Object)},zv=Me({class:String,columns:RI,columnsStyles:{type:oe(Object),required:!0},depth:Number,expandColumnKey:wEn,estimatedRowHeight:{...u1.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:oe(Function)},onRowHover:{type:oe(Function)},onRowHeightChange:{type:oe(Function)},rowData:{type:oe(Object),required:!0},rowEventHandlers:{type:oe(Object)},rowIndex:{type:Number,required:!0},rowKey:b8e,style:{type:oe(Object)}}),K7={type:Number,required:!0},pre=Me({class:String,columns:RI,fixedHeaderData:{type:oe(Array)},headerData:{type:oe(Array),required:!0},headerHeight:{type:oe([Number,Array]),default:50},rowWidth:K7,rowHeight:{type:Number,default:50},height:K7,width:K7}),iO=Me({columns:RI,data:y8e,fixedData:hre,estimatedRowHeight:zv.estimatedRowHeight,width:$v,height:$v,headerWidth:$v,headerHeight:pre.headerHeight,bodyWidth:$v,rowHeight:$v,cache:P6e.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:u1.scrollbarAlwaysOn,scrollbarStartGap:u1.scrollbarStartGap,scrollbarEndGap:u1.scrollbarEndGap,class:v8e,style:A0e,containerStyle:A0e,getRowHeight:{type:oe(Function),required:!0},rowKey:zv.rowKey,onRowsRendered:{type:oe(Function)},onScroll:{type:oe(Function)}}),xEn=Me({cache:iO.cache,estimatedRowHeight:zv.estimatedRowHeight,rowKey:b8e,headerClass:{type:oe([String,Function])},headerProps:{type:oe([Object,Function])},headerCellProps:{type:oe([Object,Function])},headerHeight:pre.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:oe([String,Function])},rowProps:{type:oe([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:oe([Object,Function])},columns:RI,data:y8e,dataGetter:{type:oe(Function)},fixedData:hre,expandColumnKey:zv.expandColumnKey,expandedRowKeys:T0e,defaultExpandedRowKeys:T0e,class:v8e,fixed:Boolean,style:{type:oe(Object)},width:$v,height:$v,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:u1.hScrollbarSize,vScrollbarSize:u1.vScrollbarSize,scrollbarAlwaysOn:z6e.alwaysOn,sortBy:{type:oe(Object),default:()=>({})},sortState:{type:oe(Object),default:void 0},onColumnSort:{type:oe(Function)},onExpandedRowsChange:{type:oe(Function)},onEndReached:{type:oe(Function)},onRowExpand:zv.onRowExpand,onScroll:iO.onScroll,onRowsRendered:iO.onRowsRendered,rowEventHandlers:zv.rowEventHandlers}),CEn="ElTableV2Header",SEn=me({name:CEn,props:pre,setup(e,{slots:t,expose:n}){const r=Ae("table-v2"),s=tt(m8e),o=H(),i=O(()=>qg({width:e.width,height:e.height})),a=O(()=>qg({width:e.rowWidth,height:e.height})),l=O(()=>vo(x(e.headerHeight))),u=d=>{const h=x(o);Ye(()=>{h?.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:g}=e;return p?.map((m,v)=>{var y;const b=qg({height:g,width:"100%"});return(y=t.fixed)==null?void 0:y.call(t,{class:d,columns:h,rowData:m,rowIndex:-(v+1),style:b})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=e;return x(l).map((p,g)=>{var m;const v=qg({width:"100%",height:p});return(m=t.dynamic)==null?void 0:m.call(t,{class:d,columns:h,headerIndex:g,style:v})})};return Yc(()=>{s?.value&&u(s.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return ee("div",{ref:o,class:e.class,style:x(i),role:"rowgroup"},[ee("div",{style:x(a),class:r.e("header")},[f(),c()])])}}});var $En=SEn;const kEn=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},s)=>{let o=null,i=0,a=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{yp(o);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(i,a)&&l(i+f,a+d))&&(i+=f,a+=d,c.preventDefault(),o=_d(()=>{s(i,a),i=0,a=0}))}}},EEn=(e,t,n,r,s,o,i)=>{const a=H(0),l=H(0);let u,c=0,f=0;const d=p=>{yp(u),a.value=p.touches[0].clientX,l.value=p.touches[0].clientY,c=0,f=0},h=p=>{p.preventDefault(),yp(u),c+=a.value-p.touches[0].clientX,f+=l.value-p.touches[0].clientY,a.value=p.touches[0].clientX,l.value=p.touches[0].clientY,u=_d(()=>{const g=r.value-x(o),m=s.value-x(i),v=Math.min(t.value.scrollLeft+c,g),y=Math.min(t.value.scrollTop+f,m);n({scrollLeft:v,scrollTop:y}),c=0,f=0})};return Fn(e,"touchstart",d,{passive:!0}),Fn(e,"touchmove",h,{passive:!1}),{touchStartX:a,touchStartY:l,handleTouchStart:d,handleTouchMove:h}},w8e=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:o,getEstimatedTotalWidth:i,getColumnOffset:a,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>me({name:e??"ElVirtualList",props:u1,emits:[gM,mM],setup(g,{emit:m,expose:v,slots:y}){const b=Ae("vl");p(g);const w=Ut(),C=H(d(g,w));h?.(w,C);const S=H(),$=H(),k=H(),T=H(),_=H({isScrolling:!1,scrollLeft:pt(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:pt(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Jb,yAxisScrollDir:Jb}),E=O6e(),A=O(()=>Number.parseInt(`${g.height}`,10)),I=O(()=>Number.parseInt(`${g.width}`,10)),F=O(()=>{const{totalColumn:Ce,totalRow:Fe,columnCache:ze}=g,{isScrolling:Ue,xAxisScrollDir:st,scrollLeft:ht}=x(_);if(Ce===0||Fe===0)return[0,0,0,0];const ye=r(g,ht,x(C)),Ge=s(g,ye,ht,x(C)),at=!Ue||st===vM?Math.max(1,ze):1,cn=!Ue||st===Jb?Math.max(1,ze):1;return[Math.max(0,ye-at),Math.max(0,Math.min(Ce-1,Ge+cn)),ye,Ge]}),R=O(()=>{const{totalColumn:Ce,totalRow:Fe,rowCache:ze}=g,{isScrolling:Ue,yAxisScrollDir:st,scrollTop:ht}=x(_);if(Ce===0||Fe===0)return[0,0,0,0];const ye=c(g,ht,x(C)),Ge=f(g,ye,ht,x(C)),at=!Ue||st===vM?Math.max(1,ze):1,cn=!Ue||st===Jb?Math.max(1,ze):1;return[Math.max(0,ye-at),Math.max(0,Math.min(Fe-1,Ge+cn)),ye,Ge]}),L=O(()=>o(g,x(C))),D=O(()=>i(g,x(C))),N=O(()=>{var Ce;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:pt(g.height)?`${g.height}px`:g.height,width:pt(g.width)?`${g.width}px`:g.width},(Ce=g.style)!=null?Ce:{}]}),M=O(()=>{const Ce=`${x(D)}px`;return{height:`${x(L)}px`,pointerEvents:x(_).isScrolling?"none":void 0,width:Ce,margin:0,boxSizing:"border-box"}}),z=()=>{const{totalColumn:Ce,totalRow:Fe}=g;if(Ce>0&&Fe>0){const[Ge,at,cn,lt]=x(F),[Ft,Dt,Gt,Te]=x(R);m(gM,{columnCacheStart:Ge,columnCacheEnd:at,rowCacheStart:Ft,rowCacheEnd:Dt,columnVisibleStart:cn,columnVisibleEnd:lt,rowVisibleStart:Gt,rowVisibleEnd:Te})}const{scrollLeft:ze,scrollTop:Ue,updateRequested:st,xAxisScrollDir:ht,yAxisScrollDir:ye}=x(_);m(mM,{xAxisScrollDir:ht,scrollLeft:ze,yAxisScrollDir:ye,scrollTop:Ue,updateRequested:st})},W=Ce=>{const{clientHeight:Fe,clientWidth:ze,scrollHeight:Ue,scrollLeft:st,scrollTop:ht,scrollWidth:ye}=Ce.currentTarget,Ge=x(_);if(Ge.scrollTop===ht&&Ge.scrollLeft===st)return;let at=st;if(f0e(g.direction))switch(bM()){case w_:at=-st;break;case ire:at=ye-ze-st;break}_.value={...Ge,isScrolling:!0,scrollLeft:at,scrollTop:Math.max(0,Math.min(ht,Ue-Fe)),updateRequested:!0,xAxisScrollDir:Lv(Ge.scrollLeft,at),yAxisScrollDir:Lv(Ge.scrollTop,ht)},Ye(()=>P()),Q(),z()},j=(Ce,Fe)=>{const ze=x(A),Ue=(L.value-ze)/Fe*Ce;G({scrollTop:Math.min(L.value-ze,Ue)})},U=(Ce,Fe)=>{const ze=x(I),Ue=(D.value-ze)/Fe*Ce;G({scrollLeft:Math.min(D.value-ze,Ue)})},{onWheel:Y}=kEn({atXStartEdge:O(()=>_.value.scrollLeft<=0),atXEndEdge:O(()=>_.value.scrollLeft>=D.value-x(I)),atYStartEdge:O(()=>_.value.scrollTop<=0),atYEndEdge:O(()=>_.value.scrollTop>=L.value-x(A))},(Ce,Fe)=>{var ze,Ue,st,ht;(Ue=(ze=$.value)==null?void 0:ze.onMouseUp)==null||Ue.call(ze),(ht=(st=k.value)==null?void 0:st.onMouseUp)==null||ht.call(st);const ye=x(I),Ge=x(A);G({scrollLeft:Math.min(_.value.scrollLeft+Ce,D.value-ye),scrollTop:Math.min(_.value.scrollTop+Fe,L.value-Ge)})});Fn(S,"wheel",Y,{passive:!1});const G=({scrollLeft:Ce=_.value.scrollLeft,scrollTop:Fe=_.value.scrollTop})=>{Ce=Math.max(Ce,0),Fe=Math.max(Fe,0);const ze=x(_);Fe===ze.scrollTop&&Ce===ze.scrollLeft||(_.value={...ze,xAxisScrollDir:Lv(ze.scrollLeft,Ce),yAxisScrollDir:Lv(ze.scrollTop,Fe),scrollLeft:Ce,scrollTop:Fe,updateRequested:!0},Ye(()=>P()),Q(),z())},{touchStartX:ne,touchStartY:ue,handleTouchStart:ae,handleTouchMove:X}=EEn(S,_,G,D,L,I,A),J=(Ce=0,Fe=0,ze=Iu)=>{const Ue=x(_);Fe=Math.max(0,Math.min(Fe,g.totalColumn-1)),Ce=Math.max(0,Math.min(Ce,g.totalRow-1));const st=gLe(b.namespace.value),ht=x(C),ye=o(g,ht),Ge=i(g,ht);G({scrollLeft:a(g,Fe,ze,Ue.scrollLeft,ht,Ge>g.width?st:0),scrollTop:l(g,Ce,ze,Ue.scrollTop,ht,ye>g.height?st:0)})},q=(Ce,Fe)=>{const{columnWidth:ze,direction:Ue,rowHeight:st}=g,ht=E.value(t&&ze,t&&st,t&&Ue),ye=`${Ce},${Fe}`;if(En(ht,ye))return ht[ye];{const[,Ge]=n(g,Fe,x(C)),at=x(C),cn=f0e(Ue),[lt,Ft]=u(g,Ce,at),[Dt]=n(g,Fe,at);return ht[ye]={position:"absolute",left:cn?void 0:`${Ge}px`,right:cn?`${Ge}px`:void 0,top:`${Ft}px`,height:`${lt}px`,width:`${Dt}px`},ht[ye]}},P=()=>{_.value.isScrolling=!1,Ye(()=>{E.value(-1,null,null)})};jt(()=>{if(!Tn)return;const{initScrollLeft:Ce,initScrollTop:Fe}=g,ze=x(S);ze&&(pt(Ce)&&(ze.scrollLeft=Ce),pt(Fe)&&(ze.scrollTop=Fe)),z()});const Q=()=>{const{direction:Ce}=g,{scrollLeft:Fe,scrollTop:ze,updateRequested:Ue}=x(_),st=x(S);if(Ue&&st){if(Ce===Cw)switch(bM()){case w_:{st.scrollLeft=-Fe;break}case ore:{st.scrollLeft=Fe;break}default:{const{clientWidth:ht,scrollWidth:ye}=st;st.scrollLeft=ye-ht-Fe;break}}else st.scrollLeft=Math.max(0,Fe);st.scrollTop=Math.max(0,ze)}},{resetAfterColumnIndex:se,resetAfterRowIndex:de,resetAfter:he}=w.proxy;v({windowRef:S,innerRef:T,getItemStyleCache:E,touchStartX:ne,touchStartY:ue,handleTouchStart:ae,handleTouchMove:X,scrollTo:G,scrollToItem:J,states:_,resetAfterColumnIndex:se,resetAfterRowIndex:de,resetAfter:he});const ge=()=>{const{scrollbarAlwaysOn:Ce,scrollbarStartGap:Fe,scrollbarEndGap:ze,totalColumn:Ue,totalRow:st}=g,ht=x(I),ye=x(A),Ge=x(D),at=x(L),{scrollLeft:cn,scrollTop:lt}=x(_),Ft=bt(DH,{ref:$,alwaysOn:Ce,startGap:Fe,endGap:ze,class:b.e("horizontal"),clientSize:ht,layout:"horizontal",onScroll:U,ratio:ht*100/Ge,scrollFrom:cn/(Ge-ht),total:st,visible:!0}),Dt=bt(DH,{ref:k,alwaysOn:Ce,startGap:Fe,endGap:ze,class:b.e("vertical"),clientSize:ye,layout:"vertical",onScroll:j,ratio:ye*100/at,scrollFrom:lt/(at-ye),total:Ue,visible:!0});return{horizontalScrollbar:Ft,verticalScrollbar:Dt}},$e=()=>{var Ce;const[Fe,ze]=x(F),[Ue,st]=x(R),{data:ht,totalColumn:ye,totalRow:Ge,useIsScrolling:at,itemKey:cn}=g,lt=[];if(Ge>0&&ye>0)for(let Ft=Ue;Ft<=st;Ft++)for(let Dt=Fe;Dt<=ze;Dt++){const Gt=cn({columnIndex:Dt,data:ht,rowIndex:Ft});lt.push(bt(rt,{key:Gt},(Ce=y.default)==null?void 0:Ce.call(y,{columnIndex:Dt,data:ht,isScrolling:at?x(_).isScrolling:void 0,style:q(Ft,Dt),rowIndex:Ft})))}return lt},He=()=>{const Ce=zt(g.innerElement),Fe=$e();return[bt(Ce,Wt(g.innerProps,{style:x(M),ref:T}),it(Ce)?Fe:{default:()=>Fe})]};return()=>{const Ce=zt(g.containerElement),{horizontalScrollbar:Fe,verticalScrollbar:ze}=ge(),Ue=He();return bt("div",{key:0,class:b.e("wrapper"),role:g.role},[bt(Ce,{class:g.className,style:x(N),onScroll:W,ref:S},it(Ce)?Ue:{default:()=>Ue}),Fe,ze])}}}),{max:CM,min:x8e,floor:C8e}=Math,_En={column:"columnWidth",row:"rowHeight"},jH={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xh=(e,t,n,r)=>{const[s,o,i]=[n[r],e[_En[r]],n[jH[r]]];if(t>i){let a=0;if(i>=0){const l=s[i];a=l.offset+l.size}for(let l=i+1;l<=t;l++){const u=o(l);s[l]={offset:a,size:u},a+=u}n[jH[r]]=t}return s[t]},S8e=(e,t,n,r,s,o)=>{for(;n<=r;){const i=n+C8e((r-n)/2),a=xh(e,i,t,o).offset;if(a===s)return i;a<s?n=i+1:r=i-1}return CM(0,n-1)},TEn=(e,t,n,r,s)=>{const o=s==="column"?e.totalColumn:e.totalRow;let i=1;for(;n<o&&xh(e,n,t,s).offset<r;)n+=i,i*=2;return S8e(e,t,C8e(n/2),x8e(n,o-1),r,s)},I0e=(e,t,n,r)=>{const[s,o]=[t[r],t[jH[r]]];return(o>0?s[o].offset:0)>=n?S8e(e,t,0,o,n,r):TEn(e,t,CM(0,o),n,r)},$8e=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=e&&(n=e-1),n>=0){const a=r[n];s=a.offset+a.size}const i=(e-n-1)*t;return s+i},k8e=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>e&&(r=e-1),r>=0){const a=t[r];s=a.offset+a.size}const i=(e-r-1)*n;return s+i},AEn={column:k8e,row:$8e},N0e=(e,t,n,r,s,o,i)=>{const[a,l]=[o==="row"?e.height:e.width,AEn[o]],u=xh(e,t,s,o),c=l(e,s),f=CM(0,x8e(c-a,u.offset)),d=CM(0,u.offset-a+i+u.size);switch(n===N8&&(r>=d-a&&r<=f+a?n=Iu:n=Wf),n){case y_:return f;case b_:return d;case Wf:return Math.round(d+(f-d)/2);case Iu:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},IEn=w8e({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=xh(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=xh(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,s,o)=>N0e(e,t,n,r,s,"column",o),getRowOffset:(e,t,n,r,s,o)=>N0e(e,t,n,r,s,"row",o),getColumnStartIndexForOffset:(e,t,n)=>I0e(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const s=xh(e,t,r,"column"),o=n+e.width;let i=s.offset+s.size,a=t;for(;a<e.totalColumn-1&&i<o;)a++,i+=xh(e,t,r,"column").size;return a},getEstimatedTotalHeight:$8e,getEstimatedTotalWidth:k8e,getRowStartIndexForOffset:(e,t,n)=>I0e(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:s,height:o}=e,i=xh(e,t,r,"row"),a=n+o;let l=i.size+i.offset,u=t;for(;u<s-1&&l<a;)u++,l+=xh(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:o,rowIndex:i},a)=>{var l,u;a=yn(a)?!0:a,pt(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),pt(i)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,i-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),a&&((u=e.proxy)==null||u.$forceUpdate())},r=(o,i)=>{n({columnIndex:o},i)},s=(o,i)=>{n({rowIndex:o},i)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:e=EH,estimatedRowHeight:t=EH})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),NEn=w8e({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,s,o,i,a)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+a+t);switch(s==="smart"&&(o>=c-n&&o<=u+n?s=Iu:s=Wf),s){case y_:return u;case b_:return c;case Wf:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Iu:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,s,o,i,a)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+a+e);switch(s===N8&&(o>=c-t&&o<=u+t?s=Iu:s=Wf),s){case y_:return u;case b_:return c;case Wf:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case Iu:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,s)=>{const o=r*e,i=Math.ceil((n+s-o)/e);return Math.max(0,Math.min(t-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,s)=>{const o=r*e,i=Math.ceil((n+s-o)/e);return Math.max(0,Math.min(t-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),DEn="ElTableV2Grid",OEn=e=>{const t=H(),n=H(),r=H(0),s=O(()=>{const{data:m,rowHeight:v,estimatedRowHeight:y}=e;if(!y)return m.length*v}),o=O(()=>{const{fixedData:m,rowHeight:v}=e;return(m?.length||0)*v}),i=O(()=>oO(e.headerHeight)),a=O(()=>{const{height:m}=e;return Math.max(0,m-x(i)-x(o))}),l=O(()=>x(i)+x(o)>0),u=({data:m,rowIndex:v})=>m[v][e.rowKey];function c({rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b}){var w;(w=e.onRowsRendered)==null||w.call(e,{rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:b})}function f(m,v){var y;(y=n.value)==null||y.resetAfterRowIndex(m,v)}function d(m,v){const y=x(t),b=x(n);Pt(m)?(y?.scrollToLeft(m.scrollLeft),r.value=m.scrollLeft,b?.scrollTo(m)):(y?.scrollToLeft(m),r.value=m,b?.scrollTo({scrollLeft:m,scrollTop:v}))}function h(m){var v;(v=x(n))==null||v.scrollTo({scrollTop:m})}function p(m,v){var y;(y=x(n))==null||y.scrollToItem(m,1,v)}function g(){var m,v;(m=x(n))==null||m.$forceUpdate(),(v=x(t))==null||v.$forceUpdate()}return xe(()=>e.bodyWidth,()=>{var m;pt(e.estimatedRowHeight)&&((m=n.value)==null||m.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:o,gridHeight:a,hasHeader:l,headerHeight:i,headerRef:t,totalHeight:s,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},REn=me({name:DEn,props:iO,setup(e,{slots:t,expose:n}){const{ns:r}=tt(dre),{bodyRef:s,fixedRowHeight:o,gridHeight:i,hasHeader:a,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:g,scrollToTop:m,scrollToRow:v,scrollLeft:y}=OEn(e);ln(m8e,y),MM(async()=>{var w;await Ye();const C=(w=s.value)==null?void 0:w.states.scrollTop;C&&m(Math.round(C)+1)}),n({forceUpdate:f,totalHeight:c,scrollTo:g,scrollToTop:m,scrollToRow:v,resetAfterRowIndex:p});const b=()=>e.bodyWidth;return()=>{const{cache:w,columns:C,data:S,fixedData:$,useIsScrolling:k,scrollbarAlwaysOn:T,scrollbarEndGap:_,scrollbarStartGap:E,style:A,rowHeight:I,bodyWidth:F,estimatedRowHeight:R,headerWidth:L,height:D,width:N,getRowHeight:M,onScroll:z}=e,W=pt(R),j=W?IEn:NEn,U=x(u);return ee("div",{role:"table",class:[r.e("table"),e.class],style:A},[ee(j,{ref:s,data:S,useIsScrolling:k,itemKey:d,columnCache:0,columnWidth:W?b:F,totalColumn:1,totalRow:S.length,rowCache:w,rowHeight:W?M:I,width:N,height:x(i),class:r.e("body"),role:"rowgroup",scrollbarStartGap:E,scrollbarEndGap:_,scrollbarAlwaysOn:T,onScroll:z,onItemRendered:h,perfMode:!1},{default:Y=>{var G;const ne=S[Y.rowIndex];return(G=t.row)==null?void 0:G.call(t,{...Y,columns:C,rowData:ne})}}),x(a)&&ee($En,{ref:l,class:r.e("header-wrapper"),columns:C,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:$,rowWidth:L,rowHeight:I,width:N,height:Math.min(U+x(o),D)},{dynamic:t.header,fixed:t.row})])}}});var gre=REn;function FEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const MEn=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return ee(gre,Wt({ref:n},r),FEn(t)?t:{default:()=>[t]})};var PEn=MEn;function LEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const BEn=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return ee(gre,Wt({ref:n},r),LEn(t)?t:{default:()=>[t]})};var zEn=BEn;function VEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const WEn=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return ee(gre,Wt({ref:n},r),VEn(t)?t:{default:()=>[t]})};var UEn=WEn;const jEn=e=>{const{isScrolling:t}=tt(dre),n=H(!1),r=H(),s=O(()=>pt(e.estimatedRowHeight)&&e.rowIndex>=0),o=(l=!1)=>{const u=x(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=e,{height:g}=u.getBoundingClientRect();n.value=!0,Ye(()=>{if(l||g!==Number.parseInt(p.height)){const m=c[0],v=m?.placeholderSign===S_;f?.({rowKey:d,height:g,rowIndex:h},m&&!v&&m.fixed)}})},i=O(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,g])=>{ft(g)&&(h[p]=m=>{g({event:m,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:g})=>{const m=h[p];h[p]=v=>{f({event:v,hovered:g,rowData:l,rowIndex:u,rowKey:c}),m?.(v)}}),h}),a=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u?.({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return jt(()=>{x(s)&&o(!0)}),{isScrolling:t,measurable:s,measured:n,rowRef:r,eventHandlers:i,onExpand:a}},HEn="ElTableV2TableRow",qEn=me({name:HEn,props:zv,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:o,measurable:i,measured:a,rowRef:l,onExpand:u}=jEn(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:g,style:m}=e;let v=c.map((y,b)=>{const w=Oe(p.children)&&p.children.length>0&&y.key===d;return n.cell({column:y,columns:c,columnIndex:b,depth:h,style:f[y.key],rowData:p,rowIndex:g,isScrolling:x(o),expandIconProps:w?{rowData:p,rowIndex:g,onExpand:u}:void 0})});if(n.row&&(v=n.row({cells:v.map(y=>Oe(y)&&y.length===1?y[0]:y),style:m,columns:c,depth:h,rowData:p,rowIndex:g,isScrolling:x(o)})),x(i)){const{height:y,...b}=m||{},w=x(a);return ee("div",Wt({ref:l,class:e.class,style:w?m:b,role:"row"},r,x(s)),[v])}return ee("div",Wt(r,{ref:l,class:e.class,style:m,role:"row"},x(s)),[v])}}});var GEn=qEn;function KEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const YEn=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:o,expandedRowKeys:i,estimatedRowHeight:a,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:g,rowEventHandlers:m,ns:v,onRowHovered:y,onRowExpanded:b}=e,w=Q1(p,{columns:n,rowData:u,rowIndex:c},""),C=Q1(h,{columns:n,rowData:u,rowIndex:c}),S=u[g],$=s[S]||0,k=!!o,T=c<0,_=[v.e("row"),w,v.is("expanded",k&&i.includes(S)),v.is("fixed",!$&&T),v.is("customized",!!t.row),{[v.e(`row-depth-${$}`)]:k&&c>=0}],E=l?y:void 0,A={...C,columns:n,columnsStyles:r,class:_,depth:$,expandColumnKey:o,estimatedRowHeight:T?void 0:a,isScrolling:d,rowIndex:c,rowData:u,rowKey:S,rowEventHandlers:m,style:f};return ee(GEn,Wt(A,{onRowExpand:b,onMouseenter:R=>{E?.({hovered:!0,rowKey:S,event:R,rowData:u,rowIndex:c})},onMouseleave:R=>{E?.({hovered:!1,rowKey:S,event:R,rowData:u,rowIndex:c})},rowkey:S}),KEn(t)?t:{default:()=>[t]})};var XEn=YEn;const mre=(e,{slots:t})=>{var n;const{cellData:r,style:s}=e,o=((n=r?.toString)==null?void 0:n.call(r))||"",i=ce(t,"default",e,()=>[o]);return ee("div",{class:e.class,title:o,style:s},[i])};mre.displayName="ElTableV2Cell";mre.inheritAttrs=!1;var ZEn=mre;const JEn=e=>{const{expanded:t,expandable:n,onExpand:r,style:s,size:o,ariaLabel:i}=e,a={onClick:n?()=>r(!t):void 0,ariaLabel:i,ariaExpanded:t,class:e.class};return ee("button",Wt(a,{type:"button"}),[ee(ot,{size:o,style:s},{default:()=>[ee(aa,null,null)]})])};var QEn=JEn;const E8e=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:s,isScrolling:o,rowData:i,rowIndex:a,style:l,expandedRowKeys:u,ns:c,t:f,cellProps:d,expandColumnKey:h,indentSize:p,iconSize:g,rowKey:m},{slots:v})=>{const y=qg(l);if(t.placeholderSign===S_)return ee("div",{class:c.em("row-cell","placeholder"),style:y},null);const{cellRenderer:b,dataKey:w,dataGetter:C}=t,S=ft(C)?C({columns:e,column:t,columnIndex:n,rowData:i,rowIndex:a}):Es(i,w??""),$=Q1(d,{cellData:S,columns:e,column:t,columnIndex:n,rowIndex:a,rowData:i}),k={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:S,isScrolling:o,rowData:i,rowIndex:a},T=g8e(b),_=T?T(k):ce(v,"default",k,()=>[ee(ZEn,k,null)]),E=[c.e("row-cell"),t.class,t.align===C_.CENTER&&c.is("align-center"),t.align===C_.RIGHT&&c.is("align-right")],A=a>=0&&h&&t.key===h,I=a>=0&&u.includes(i[m]);let F;const R=`margin-inline-start: ${r*p}px;`;return A&&(Pt(s)?F=ee(QEn,Wt(s,{class:[c.e("expand-icon"),c.is("expanded",I)],size:g,expanded:I,ariaLabel:f(I?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:R,expandable:!0}),null):F=ee("div",{style:[R,`width: ${g}px; height: ${g}px;`].join(" ")},null)),ee("div",Wt({class:E,style:y},$,{role:"cell"}),[F,_])};E8e.inheritAttrs=!1;var D0e=E8e;const e_n=Me({class:String,columns:RI,columnsStyles:{type:oe(Object),required:!0},headerIndex:Number,style:{type:oe(Object)}}),t_n=me({name:"ElTableV2HeaderRow",props:e_n,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:o}=e;let i=n.map((a,l)=>t.cell({columns:n,column:a,columnIndex:l,headerIndex:s,style:r[a.key]}));return t.header&&(i=t.header({cells:i.map(a=>Oe(a)&&a.length===1?a[0]:a),columns:n,headerIndex:s})),ee("div",{class:e.class,style:o,role:"row"},[i])}}});var n_n=t_n;function r_n(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const s_n=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:s,headerProps:o,ns:i},{slots:a})=>{const l={columns:e,headerIndex:n},u=[i.e("header-row"),Q1(s,l,""),i.is("customized",!!a.header)],c={...Q1(o,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return ee(n_n,c,r_n(a)?a:{default:()=>[a]})};var o_n=s_n;const vre=(e,{slots:t})=>ce(t,"default",e,()=>{var n,r;return[ee("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});vre.displayName="ElTableV2HeaderCell";vre.inheritAttrs=!1;var i_n=vre;const a_n=e=>{const{sortOrder:t}=e;return ee("button",{type:"button","aria-label":e.ariaLabel,class:e.class},[ee(ot,{size:14},{default:()=>[t===Bv.ASC?ee(ufn,null,null):ee(afn,null,null)]})])};var l_n=a_n;const u_n=(e,{slots:t})=>{const{column:n,ns:r,t:s,style:o,onColumnSorted:i}=e,a=qg(o);if(n.placeholderSign===S_)return ee("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:l,headerClass:u,sortable:c}=n,f={...e,class:r.e("header-cell-text")},d=g8e(l),h=d?d(f):ce(t,"default",f,()=>[ee(i_n,f,null)]),{sortBy:p,sortState:g,headerCellProps:m}=e;let v,y,b;if(g){const S=g[n.key];v=!!UH[S],y=v?S:Bv.ASC}else v=n.key===p.key,y=v?p.order:Bv.ASC;y===Bv.ASC?b="ascending":y===Bv.DESC?b="descending":b=void 0;const w=[r.e("header-cell"),Q1(u,e,""),n.align===C_.CENTER&&r.is("align-center"),n.align===C_.RIGHT&&r.is("align-right"),c&&r.is("sortable")],C={...Q1(m,e),onClick:n.sortable?i:void 0,ariaSort:c?b:void 0,class:w,style:a,"data-key":n.key};return ee("div",Wt(C,{role:"columnheader"}),[h,c&&ee(l_n,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:y,ariaLabel:s("el.table.sortLabel",{column:n.title||""})},null)])};var O0e=u_n;const _8e=(e,{slots:t})=>{var n;return ee("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};_8e.displayName="ElTableV2Footer";var c_n=_8e;const T8e=(e,{slots:t})=>{const n=ce(t,"default",{},()=>[ee(y6e,null,null)]);return ee("div",{class:e.class,style:e.style},[n])};T8e.displayName="ElTableV2Empty";var f_n=T8e;const A8e=(e,{slots:t})=>{var n;return ee("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};A8e.displayName="ElTableV2Overlay";var d_n=A8e;function ZS(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const h_n="ElTableV2",p_n=me({name:h_n,props:xEn,setup(e,{slots:t,expose:n}){const r=Ae("table-v2"),{t:s}=un(),{columnsStyles:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:l,mainTableHeight:u,fixedTableHeight:c,leftTableWidth:f,rightTableWidth:d,data:h,depthMap:p,expandedRowKeys:g,hasFixedColumns:m,mainTableRef:v,leftTableRef:y,rightTableRef:b,isDynamic:w,isResetting:C,isScrolling:S,bodyWidth:$,emptyStyle:k,rootStyle:T,footerHeight:_,showEmpty:E,scrollTo:A,scrollToLeft:I,scrollToTop:F,scrollToRow:R,getRowHeight:L,onColumnSorted:D,onRowHeightChange:N,onRowHovered:M,onRowExpanded:z,onRowsRendered:W,onScroll:j,onVerticalScroll:U}=bEn(e);return n({scrollTo:A,scrollToLeft:I,scrollToTop:F,scrollToRow:R}),ln(dre,{ns:r,isResetting:C,isScrolling:S}),()=>{const{cache:Y,cellProps:G,estimatedRowHeight:ne,expandColumnKey:ue,fixedData:ae,headerHeight:X,headerClass:J,headerProps:q,headerCellProps:P,sortBy:Q,sortState:se,rowHeight:de,rowClass:he,rowEventHandlers:ge,rowKey:$e,rowProps:He,scrollbarAlwaysOn:Ie,indentSize:Ce,iconSize:Fe,useIsScrolling:ze,vScrollbarSize:Ue,width:st}=e,ht=x(h),ye={cache:Y,class:r.e("main"),columns:x(l),data:ht,fixedData:ae,estimatedRowHeight:ne,bodyWidth:x($),headerHeight:X,headerWidth:x($),height:x(u),mainTableRef:v,rowKey:$e,rowHeight:de,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,useIsScrolling:ze,width:st,getRowHeight:L,onRowsRendered:W,onScroll:j},Ge=x(f),at=x(c),cn={cache:Y,class:r.e("left"),columns:x(i),data:ht,fixedData:ae,estimatedRowHeight:ne,leftTableRef:y,rowHeight:de,bodyWidth:Ge,headerWidth:Ge,headerHeight:X,height:at,rowKey:$e,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,useIsScrolling:ze,width:Ge,getRowHeight:L,onScroll:U},lt=x(d),Ft={cache:Y,class:r.e("right"),columns:x(a),data:ht,fixedData:ae,estimatedRowHeight:ne,rightTableRef:b,rowHeight:de,bodyWidth:lt,headerWidth:lt,headerHeight:X,height:at,rowKey:$e,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,width:lt,style:`${r.cssVarName("table-scrollbar-size")}: ${Ue}px`,useIsScrolling:ze,getRowHeight:L,onScroll:U},Dt=x(o),Gt={ns:r,depthMap:x(p),columnsStyles:Dt,expandColumnKey:ue,expandedRowKeys:x(g),estimatedRowHeight:ne,hasFixedColumns:x(m),rowProps:He,rowClass:he,rowKey:$e,rowEventHandlers:ge,onRowHovered:M,onRowExpanded:z,onRowHeightChange:N},Te={cellProps:G,expandColumnKey:ue,indentSize:Ce,iconSize:Fe,rowKey:$e,expandedRowKeys:x(g),ns:r,t:s},Xe={ns:r,headerClass:J,headerProps:q,columnsStyles:Dt},Se={ns:r,t:s,sortBy:Q,sortState:se,headerCellProps:P,onColumnSorted:D},ct={row:Ne=>ee(XEn,Wt(Ne,Gt),{row:t.row,cell:nt=>{let wt;return t.cell?ee(D0e,Wt(nt,Te,{style:Dt[nt.column.key]}),ZS(wt=t.cell(nt))?wt:{default:()=>[wt]}):ee(D0e,Wt(nt,Te,{style:Dt[nt.column.key]}),null)}}),header:Ne=>ee(o_n,Wt(Ne,Xe),{header:t.header,cell:nt=>{let wt;return t["header-cell"]?ee(O0e,Wt(nt,Se,{style:Dt[nt.column.key]}),ZS(wt=t["header-cell"](nt))?wt:{default:()=>[wt]}):ee(O0e,Wt(nt,Se,{style:Dt[nt.column.key]}),null)}})},Xt=[e.class,r.b(),r.e("root"),r.is("dynamic",x(w))],Gn={class:r.e("footer"),style:x(_)};return ee("div",{class:Xt,style:x(T)},[ee(PEn,ye,ZS(ct)?ct:{default:()=>[ct]}),ee(zEn,cn,ZS(ct)?ct:{default:()=>[ct]}),ee(UEn,Ft,ZS(ct)?ct:{default:()=>[ct]}),t.footer&&ee(c_n,Gn,{default:t.footer}),x(E)&&ee(f_n,{class:r.e("empty"),style:x(k)},{default:t.empty}),t.overlay&&ee(d_n,{class:r.e("overlay")},{default:t.overlay})])}}});var g_n=p_n;const m_n=Me({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:oe(Function)}}),v_n=e=>{const t=H(),n=H(0),r=H(0);let s;return jt(()=>{s=Cr(t,([o])=>{const{width:i,height:a}=o.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(o.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,g=Number.parseInt(f)||0;n.value=i-d-h,r.value=a-p-g}).stop}),Nn(()=>{s?.()}),xe([n,r],([o,i])=>{var a;(a=e.onResize)==null||a.call(e,{width:o,height:i})}),{sizer:t,width:n,height:r}},y_n=me({name:"ElAutoResizer",props:m_n,setup(e,{slots:t}){const n=Ae("auto-resizer"),{height:r,width:s,sizer:o}=v_n(e),i={width:"100%",height:"100%"};return()=>{var a;return ee("div",{ref:o,class:n.b(),style:i},[(a=t.default)==null?void 0:a.call(t,{height:r.value,width:s.value})])}}});var b_n=y_n;const w_n=Rt(g_n),x_n=Rt(b_n),D8=Symbol("tabsRootContextKey"),C_n=Me({tabs:{type:oe(Array),default:()=>zr([])},tabRefs:{type:oe(Object),default:()=>zr({})}}),R0e="ElTabBar",S_n=me({name:R0e,__name:"tab-bar",props:C_n,setup(e,{expose:t}){const n=e,r=tt(D8);r||Ts(R0e,"<el-tabs><el-tab-bar /></el-tabs>");const s=Ae("tabs"),o=H(),i=H(),a=O(()=>{var h;return yn(r.props.defaultValue)||!!((h=i.value)!=null&&h.transform)}),l=()=>{let h=0,p=0;const g=["top","bottom"].includes(r.props.tabPosition)?"width":"height",m=g==="width"?"x":"y",v=m==="x"?"left":"top";return n.tabs.every(y=>{if(yn(y.paneName))return!1;const b=n.tabRefs[y.paneName];if(!b)return!1;if(!y.active)return!0;h=b[`offset${Tg(v)}`],p=b[`client${Tg(g)}`];const w=window.getComputedStyle(b);return g==="width"&&(p-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight),h+=Number.parseFloat(w.paddingLeft)),!1}),{[g]:`${p}px`,transform:`translate${Tg(m)}(${h}px)`}},u=()=>i.value=l(),c=[],f=()=>{c.forEach(h=>h.stop()),c.length=0,Object.values(n.tabRefs).forEach(h=>{c.push(Cr(h,u))})};xe(()=>n.tabs,async()=>{await Ye(),u(),f()},{immediate:!0});const d=Cr(o,()=>u());return Nn(()=>{c.forEach(h=>h.stop()),c.length=0,d.stop()}),t({ref:o,update:u}),(h,p)=>a.value?(B(),K("div",{key:0,ref_key:"barRef",ref:o,class:V([x(s).e("active-bar"),x(s).is(x(r).props.tabPosition)]),style:dt(i.value)},null,6)):fe("v-if",!0)}});var $_n=Ve(S_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const k_n=Me({panes:{type:oe(Array),default:()=>zr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),E_n={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},F0e="ElTabNav",__n=me({name:F0e,props:k_n,emits:E_n,setup(e,{expose:t,emit:n}){const r=tt(D8);r||Ts(F0e,"<el-tabs><tab-nav /></el-tabs>");const s=Ae("tabs"),o=Mun(),i=Lun(),a=H(),l=H(),u=H(),c=H({}),f=H(),d=H(!1),h=H(0),p=H(!1),g=H(!0),m=lr(),v=O(()=>["top","bottom"].includes(r.props.tabPosition)),y=O(()=>v.value?"width":"height"),b=O(()=>({transform:`translate${y.value==="width"?"X":"Y"}(-${h.value}px)`})),{width:w,height:C}=oH(a),{width:S,height:$}=oH(l,{width:0,height:0},{box:"border-box"}),k=O(()=>v.value?w.value:C.value),T=O(()=>v.value?S.value:$.value),{onWheel:_}=R6e({atStartEdge:O(()=>h.value<=0),atEndEdge:O(()=>T.value-h.value<=k.value),layout:O(()=>v.value?"horizontal":"vertical")},z=>{h.value=p8(h.value+z,0,T.value-k.value)}),E=()=>{if(!a.value)return;const z=a.value[`offset${Tg(y.value)}`],W=h.value;if(!W)return;const j=W>z?W-z:0;h.value=j},A=()=>{if(!a.value||!l.value)return;const z=l.value[`offset${Tg(y.value)}`],W=a.value[`offset${Tg(y.value)}`],j=h.value;if(z-j<=W)return;const U=z-j>W*2?j+W:z-W;h.value=U},I=async()=>{const z=l.value;if(!d.value||!u.value||!a.value||!z)return;await Ye();const W=c.value[e.currentName];if(!W)return;const j=a.value,U=W.getBoundingClientRect(),Y=j.getBoundingClientRect(),G=v.value?z.offsetWidth-Y.width:z.offsetHeight-Y.height,ne=h.value;let ue=ne;v.value?(U.left<Y.left&&(ue=ne-(Y.left-U.left)),U.right>Y.right&&(ue=ne+U.right-Y.right)):(U.top<Y.top&&(ue=ne-(Y.top-U.top)),U.bottom>Y.bottom&&(ue=ne+(U.bottom-Y.bottom))),ue=Math.max(ue,0),h.value=Math.min(ue,G)},F=()=>{var z;if(!l.value||!a.value)return;e.stretch&&((z=f.value)==null||z.update());const W=l.value[`offset${Tg(y.value)}`],j=a.value[`offset${Tg(y.value)}`],U=h.value;j<W?(d.value=d.value||{},d.value.prev=U,d.value.next=U+j<W,W-U<j&&(h.value=W-j)):(d.value=!1,U>0&&(h.value=0))},R=z=>{const W=Hn(z);let j=0;switch(W){case Re.left:case Re.up:j=-1;break;case Re.right:case Re.down:j=1;break;default:return}const U=Array.from(z.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let G=U.indexOf(z.target)+j;G<0?G=U.length-1:G>=U.length&&(G=0),U[G].focus({preventScroll:!0}),U[G].click(),L()},L=()=>{g.value&&(p.value=!0)},D=()=>p.value=!1,N=(z,W)=>{c.value[W]=z},M=async()=>{await Ye();const z=c.value[e.currentName];z?.focus({preventScroll:!0})};return xe(o,z=>{z==="hidden"?g.value=!1:z==="visible"&&setTimeout(()=>g.value=!0,50)}),xe(i,z=>{z?setTimeout(()=>g.value=!0,50):g.value=!1}),Cr(u,()=>{_d(F)}),jt(()=>setTimeout(()=>I(),0)),Yc(()=>F()),t({scrollToActiveTab:I,removeFocus:D,focusActiveTab:M,tabListRef:l,tabBarRef:f,scheduleRender:()=>GD(m)}),()=>{const z=d.value?[ee("span",{class:[s.e("nav-prev"),s.is("disabled",!d.value.prev)],onClick:E},[ee(ot,null,{default:()=>[ee(bp,null,null)]})]),ee("span",{class:[s.e("nav-next"),s.is("disabled",!d.value.next)],onClick:A},[ee(ot,null,{default:()=>[ee(aa,null,null)]})])]:null,W=e.panes.map((j,U)=>{var Y,G,ne,ue,ae;const X=j.uid,J=j.props.disabled,q=(G=(Y=j.props.name)!=null?Y:j.index)!=null?G:`${U}`,P=!J&&(j.isClosable||j.props.closable!==!1&&e.editable);j.index=`${U}`;const Q=P?ee(ot,{class:"is-icon-close",onClick:he=>n("tabRemove",j,he)},{default:()=>[ee(qu,null,null)]}):null,se=((ue=(ne=j.slots).label)==null?void 0:ue.call(ne))||j.props.label,de=!J&&j.active?(ae=e.tabindex)!=null?ae:r.props.tabindex:-1;return ee("div",{ref:he=>N(he,q),class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",j.active),s.is("disabled",J),s.is("closable",P),s.is("focus",p.value)],id:`tab-${q}`,key:`tab-${X}`,"aria-controls":`pane-${q}`,role:"tab","aria-selected":j.active,tabindex:de,onFocus:()=>L(),onBlur:()=>D(),onClick:he=>{D(),n("tabClick",j,q,he)},onKeydown:he=>{const ge=Hn(he);P&&(ge===Re.delete||ge===Re.backspace)&&n("tabRemove",j,he)}},[se,Q])});return m.value,ee("div",{ref:u,class:[s.e("nav-wrap"),s.is("scrollable",!!d.value),s.is(r.props.tabPosition)]},[z,ee("div",{class:s.e("nav-scroll"),ref:a},[e.panes.length>0?ee("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:b.value,role:"tablist",onKeydown:R,onWheel:_},[e.type?null:ee($_n,{ref:f,tabs:[...e.panes],tabRefs:c.value},null),W]):null])])}}}),T_n=Me({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:oe(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),Y7=e=>it(e)||pt(e),A_n={[Et]:e=>Y7(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Y7(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Y7(e),tabAdd:()=>!0},I_n=me({name:"ElTabs",props:T_n,emits:A_n,setup(e,{emit:t,slots:n,expose:r}){var s;const o=Ae("tabs"),i=O(()=>["left","right"].includes(e.tabPosition)),{children:a,addChild:l,removeChild:u,ChildrenSorter:c}=$8(Ut(),"ElTabPane"),f=H(),d=H((s=yn(e.modelValue)?e.defaultValue:e.modelValue)!=null?s:"0"),h=async(b,w=!1)=>{var C,S,$,k;if(!(d.value===b||yn(b)))try{let T;if(e.beforeLeave){const _=e.beforeLeave(b,d.value);T=_ instanceof Promise?await _:_}else T=!0;if(T!==!1){const _=(C=a.value.find(E=>E.paneName===d.value))==null?void 0:C.isFocusInsidePane();d.value=b,w&&(t(Et,b),t("tabChange",b)),($=(S=f.value)==null?void 0:S.removeFocus)==null||$.call(S),_&&((k=f.value)==null||k.focusActiveTab())}}catch{}},p=(b,w,C)=>{b.props.disabled||(t("tabClick",b,C),h(w,!0))},g=(b,w)=>{b.props.disabled||yn(b.props.name)||(w.stopPropagation(),t("edit",b.props.name,"remove"),t("tabRemove",b.props.name))},m=()=>{t("edit",void 0,"add"),t("tabAdd")},v=b=>{const w=Hn(b);[Re.enter,Re.numpadEnter].includes(w)&&m()},y=b=>{const w=b.el.firstChild,C=["bottom","right"].includes(e.tabPosition)?b.children[0].el:b.children[1].el;w!==C&&w.before(C)};return xe(()=>e.modelValue,b=>h(b)),xe(d,async()=>{var b;await Ye(),(b=f.value)==null||b.scrollToActiveTab()}),ln(D8,{props:e,currentName:d,registerPane:l,unregisterPane:u,nav$:f}),r({currentName:d,get tabNavRef(){return vI(f.value,["scheduleRender"])}}),()=>{const b=n["add-icon"],w=e.editable||e.addable?ee("div",{class:[o.e("new-tab"),i.value&&o.e("new-tab-vertical")],tabindex:e.tabindex,onClick:m,onKeydown:v},[b?ce(n,"add-icon"):ee(ot,{class:o.is("icon-plus")},{default:()=>[ee(gne,null,null)]})]):null,C=()=>ee(__n,{ref:f,currentName:d.value,editable:e.editable,type:e.type,panes:a.value,stretch:e.stretch,onTabClick:p,onTabRemove:g},null),S=ee("div",{class:[o.e("header"),i.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[ee(c,null,{default:C,$stable:!0}),w]),$=ee("div",{class:o.e("content")},[ce(n,"default")]);return ee("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}],onVnodeMounted:y,onVnodeUpdated:y},[$,S])}}}),N_n=Me({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),D_n=["id","aria-hidden","aria-labelledby"],M0e="ElTabPane",O_n=me({name:M0e,__name:"tab-pane",props:N_n,setup(e){const t=e,n=Ut(),r=Ms(),s=tt(D8);s||Ts(M0e,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Ae("tab-pane"),i=H(),a=H(),l=O(()=>{var g;return(g=t.closable)!=null?g:s.props.closable}),u=O(()=>{var g;return s.currentName.value===((g=t.name)!=null?g:a.value)}),c=H(u.value),f=O(()=>{var g;return(g=t.name)!=null?g:a.value}),d=O(()=>!t.lazy||c.value||u.value),h=()=>{var g;return(g=i.value)==null?void 0:g.contains(document.activeElement)};xe(u,g=>{g&&(c.value=!0)});const p=In({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:t,paneName:f,active:u,index:a,isClosable:l,isFocusInsidePane:h});return s.registerPane(p),Nn(()=>{s.unregisterPane(p)}),yq(()=>{var g;r.label&&((g=s.nav$.value)==null||g.scheduleRender())}),(g,m)=>d.value?Lt((B(),K("div",{key:0,id:`pane-${f.value}`,ref_key:"paneRef",ref:i,class:V(x(o).b()),role:"tabpanel","aria-hidden":!u.value,"aria-labelledby":`tab-${f.value}`},[ce(g.$slots,"default")],10,D_n)),[[$n,u.value]]):fe("v-if",!0)}});var I8e=Ve(O_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const R_n=Rt(I_n,{TabPane:I8e}),F_n=Ur(I8e),M_n=Me({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:eh,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),P_n=me({name:"ElText",__name:"text",props:M_n,setup(e){const t=e,n=H(),r=Fs(),s=Ae("text"),o=O(()=>[s.b(),s.m(t.type),s.m(r.value),s.is("truncated",t.truncated),s.is("line-clamp",!yn(t.lineClamp))]),i=()=>{var a,l,u,c,f,d,h;if($p().title)return;let g=!1;const m=((a=n.value)==null?void 0:a.textContent)||"";if(t.truncated){const v=(l=n.value)==null?void 0:l.offsetWidth,y=(u=n.value)==null?void 0:u.scrollWidth;v&&y&&y>v&&(g=!0)}else if(!yn(t.lineClamp)){const v=(c=n.value)==null?void 0:c.offsetHeight,y=(f=n.value)==null?void 0:f.scrollHeight;v&&y&&y>v&&(g=!0)}g?(d=n.value)==null||d.setAttribute("title",m):(h=n.value)==null||h.removeAttribute("title")};return jt(i),Yc(i),(a,l)=>(B(),pe(zt(a.tag),{ref_key:"textRef",ref:n,class:V(o.value),style:dt({"-webkit-line-clamp":a.lineClamp})},{default:ie(()=>[ce(a.$slots,"default")]),_:3},8,["class","style"]))}});var L_n=Ve(P_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const yre=Rt(L_n),B_n=Me({format:{type:String,default:"HH:mm"},modelValue:{type:oe(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:oe(String),default:"light"},clearable:{type:Boolean,default:!0},size:js,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:oe(String)},maxTime:{type:oe(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:oe([String,Object]),default:()=>vLe},clearIcon:{type:oe([String,Object]),default:()=>jp},popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},...sb}),Ah=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),s=e.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},X7=(e,t)=>{const n=Ah(e);if(!n)return-1;const r=Ah(t);if(!r)return-1;const s=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return s===o?0:s>o?1:-1},P0e=e=>`${e}`.padStart(2,"0"),Wb=e=>`${P0e(e.hours)}:${P0e(e.minutes)}`,z_n=(e,t)=>{const n=Ah(e);if(!n)return"";const r=Ah(t);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,Wb(s)},V_n=me({name:"ElTimeSelect",__name:"time-select",props:B_n,emits:[tn,"blur","focus","clear",Et],setup(e,{expose:t}){Mt.extend(Fne);const{Option:n}=Ux,r=e,s=Ae("input"),o=H(),i=jr(),{lang:a}=un(),l=O(()=>r.modelValue),u=O(()=>{const v=Ah(r.start);return v?Wb(v):null}),c=O(()=>{const v=Ah(r.end);return v?Wb(v):null}),f=O(()=>{const v=Ah(r.step);return v?Wb(v):null}),d=O(()=>{const v=Ah(r.minTime||"");return v?Wb(v):null}),h=O(()=>{const v=Ah(r.maxTime||"");return v?Wb(v):null}),p=O(()=>{var v;const y=[],b=(w,C)=>{y.push({value:w,disabled:X7(C,d.value||"-1:-1")<=0||X7(C,h.value||"100:100")>=0})};if(r.start&&r.end&&r.step){let w=u.value,C;for(;w&&c.value&&X7(w,c.value)<=0;)C=Mt(w,"HH:mm").locale(a.value).format(r.format),b(C,w),w=z_n(w,f.value);if(r.includeEndTime&&c.value&&((v=y[y.length-1])==null?void 0:v.value)!==c.value){const S=Mt(c.value,"HH:mm").locale(a.value).format(r.format);b(S,c.value)}}return y});return t({blur:()=>{var v,y;(y=(v=o.value)==null?void 0:v.blur)==null||y.call(v)},focus:()=>{var v,y;(y=(v=o.value)==null?void 0:v.focus)==null||y.call(v)}}),(v,y)=>(B(),pe(x(Ux),{ref_key:"select",ref:o,"model-value":l.value,disabled:x(i),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"popper-class":v.popperClass,"popper-style":v.popperStyle,"onUpdate:modelValue":y[0]||(y[0]=b=>v.$emit(x(Et),b)),onChange:y[1]||(y[1]=b=>v.$emit(x(tn),b)),onBlur:y[2]||(y[2]=b=>v.$emit("blur",b)),onFocus:y[3]||(y[3]=b=>v.$emit("focus",b)),onClear:y[4]||(y[4]=()=>v.$emit("clear"))},{prefix:ie(()=>[v.prefixIcon?(B(),pe(x(ot),{key:0,class:V(x(s).e("prefix-icon"))},{default:ie(()=>[(B(),pe(zt(v.prefixIcon)))]),_:1},8,["class"])):fe("v-if",!0)]),default:ie(()=>[(B(!0),K(rt,null,Ht(p.value,b=>(B(),pe(x(n),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","popper-class","popper-style"]))}});var W_n=Ve(V_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);const U_n=Rt(W_n),j_n="timeline",H_n=me({name:"ElTimeline",props:{reverse:Boolean},setup(e,{slots:t}){const n=Ae("timeline");return ln(j_n,t),()=>{var r,s;const o=Sc((s=(r=t.default)==null?void 0:r.call(t))!=null?s:[]).filter(i=>{var a;return((a=i?.type)==null?void 0:a.name)==="ElTimelineItem"});return bt("ul",{class:[n.b()]},e.reverse?o.reverse():o)}}}),q_n=Me({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:zn},hollow:Boolean}),G_n=me({name:"ElTimelineItem",__name:"timeline-item",props:q_n,setup(e){const t=e,n=Ae("timeline-item"),r=O(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(s,o)=>(B(),K("li",{class:V([x(n).b(),{[x(n).e("center")]:s.center}])},[Z("div",{class:V(x(n).e("tail"))},null,2),s.$slots.dot?fe("v-if",!0):(B(),K("div",{key:0,class:V(r.value),style:dt({backgroundColor:s.color})},[s.icon?(B(),pe(x(ot),{key:0,class:V(x(n).e("icon"))},{default:ie(()=>[(B(),pe(zt(s.icon)))]),_:1},8,["class"])):fe("v-if",!0)],6)),s.$slots.dot?(B(),K("div",{key:1,class:V(x(n).e("dot"))},[ce(s.$slots,"dot")],2)):fe("v-if",!0),Z("div",{class:V(x(n).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(B(),K("div",{key:0,class:V([x(n).e("timestamp"),x(n).is("top")])},De(s.timestamp),3)):fe("v-if",!0),Z("div",{class:V(x(n).e("content"))},[ce(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(B(),K("div",{key:1,class:V([x(n).e("timestamp"),x(n).is("bottom")])},De(s.timestamp),3)):fe("v-if",!0)],2)],2))}});var N8e=Ve(G_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const K_n=Rt(H_n,{TimelineItem:N8e}),Y_n=Ur(N8e),D8e="left-check-change",O8e="right-check-change",Ub=Me({data:{type:oe(Array),default:()=>[]},titles:{type:oe(Array),default:()=>[]},buttonTexts:{type:oe(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:oe(Function)},leftDefaultChecked:{type:oe(Array),default:()=>[]},rightDefaultChecked:{type:oe(Array),default:()=>[]},renderContent:{type:oe(Function)},modelValue:{type:oe(Array),default:()=>[]},format:{type:oe(Object),default:()=>({})},filterable:Boolean,props:{type:oe(Object),default:()=>zr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),HH=(e,t)=>[e,t].every(Oe)||Oe(e)&&vs(t),X_n={[tn]:(e,t,n)=>[e,n].every(Oe)&&["left","right"].includes(t),[Et]:e=>Oe(e),[D8e]:HH,[O8e]:HH},qH="checked-change",Z_n=Me({data:Ub.data,optionRender:{type:oe(Function)},placeholder:String,title:String,filterable:Boolean,format:Ub.format,filterMethod:Ub.filterMethod,defaultChecked:Ub.leftDefaultChecked,props:Ub.props}),J_n={[qH]:HH},FI=e=>{const t={label:"label",key:"key",disabled:"disabled"};return O(()=>({...t,...e.props}))},Q_n=(e,t,n)=>{const r=FI(e),s=O(()=>e.data.filter(c=>ft(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),o=O(()=>s.value.filter(c=>!c[r.value.disabled])),i=O(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),a=O(()=>{const c=t.checked.length;return c>0&&c<o.value.length}),l=()=>{const c=o.value.map(f=>f[r.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?o.value.map(f=>f[r.value.key]):[]};return xe(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n(qH,c,d)}else n(qH,c),t.checkChangeByUser=!0}),xe(o,()=>{l()}),xe(()=>e.data,()=>{const c=[],f=s.value.map(d=>d[r.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),xe(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=o.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:s,checkableData:o,checkedSummary:i,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:u}},eTn=me({name:"ElTransferPanel",__name:"transfer-panel",props:Z_n,emits:J_n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=({option:w})=>w,{t:a}=un(),l=Ae("transfer"),u=In({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=FI(r),{filteredData:f,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:p}=Q_n(r,u,s),g=O(()=>!_a(u.query)&&_a(f.value)),m=O(()=>!_a(o.default()[0].children)),{checked:v,allChecked:y,query:b}=ao(u);return t({query:b}),(w,C)=>(B(),K("div",{class:V(x(l).b("panel"))},[Z("p",{class:V(x(l).be("panel","header"))},[ee(x(Hc),{modelValue:x(y),"onUpdate:modelValue":C[0]||(C[0]=S=>fr(y)?y.value=S:null),indeterminate:x(h),"validate-event":!1,onChange:x(p)},{default:ie(()=>[Jt(De(w.title)+" ",1),Z("span",null,De(x(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Z("div",{class:V([x(l).be("panel","body"),x(l).is("with-footer",m.value)])},[w.filterable?(B(),pe(x(Xi),{key:0,modelValue:x(b),"onUpdate:modelValue":C[1]||(C[1]=S=>fr(b)?b.value=S:null),class:V(x(l).be("panel","filter")),size:"default",placeholder:w.placeholder,"prefix-icon":x(ofn),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):fe("v-if",!0),Lt(ee(x(One),{modelValue:x(v),"onUpdate:modelValue":C[2]||(C[2]=S=>fr(v)?v.value=S:null),"validate-event":!1,class:V([x(l).is("filterable",w.filterable),x(l).be("panel","list")])},{default:ie(()=>[(B(!0),K(rt,null,Ht(x(f),S=>(B(),pe(x(Hc),{key:S[x(c).key],class:V(x(l).be("panel","item")),value:S[x(c).key],disabled:S[x(c).disabled],"validate-event":!1},{default:ie(()=>{var $;return[ee(i,{option:($=w.optionRender)==null?void 0:$.call(w,S)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[$n,!g.value&&!x(_a)(w.data)]]),Lt(Z("div",{class:V(x(l).be("panel","empty"))},[ce(w.$slots,"empty",{},()=>[Jt(De(g.value?x(a)("el.transfer.noMatch"):x(a)("el.transfer.noData")),1)])],2),[[$n,g.value||x(_a)(w.data)]])],2),m.value?(B(),K("p",{key:0,class:V(x(l).be("panel","footer"))},[ce(w.$slots,"default")],2)):fe("v-if",!0)],2))}});var L0e=Ve(eTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const tTn=e=>{const t=FI(e),n=O(()=>e.data.reduce((o,i)=>(o[i[t.value.key]]=i)&&o,{})),r=O(()=>e.data.filter(o=>!e.modelValue.includes(o[t.value.key]))),s=O(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[t.value.key])):e.modelValue.reduce((o,i)=>{const a=n.value[i];return a&&o.push(a),o},[]));return{sourceData:r,targetData:s}},nTn=(e,t,n)=>{const r=FI(e),s=(a,l,u)=>{n(Et,a),n(tn,a,l,u)};return{addToLeft:()=>{const a=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),s(a,"left",t.rightChecked)},addToRight:()=>{let a=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);a=e.targetOrder==="unshift"?l.concat(a):a.concat(l),e.targetOrder==="original"&&(a=e.data.filter(u=>a.includes(u[r.value.key])).map(u=>u[r.value.key])),s(a,"right",t.leftChecked)}}},rTn=(e,t)=>({onSourceCheckedChange:(s,o)=>{e.leftChecked=s,o&&t(D8e,s,o)},onTargetCheckedChange:(s,o)=>{e.rightChecked=s,o&&t(O8e,s,o)}}),sTn={key:0},oTn={key:0},iTn=me({name:"ElTransfer",__name:"transfer",props:Ub,emits:X_n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),{t:i}=un(),a=Ae("transfer"),{formItem:l}=Ro(),u=In({leftChecked:[],rightChecked:[]}),c=FI(r),{sourceData:f,targetData:d}=tTn(r),{onSourceCheckedChange:h,onTargetCheckedChange:p}=rTn(u,s),{addToLeft:g,addToRight:m}=nTn(r,u,s),v=H(),y=H(),b=T=>{switch(T){case"left":v.value.query="";break;case"right":y.value.query="";break}},w=O(()=>r.buttonTexts.length===2),C=O(()=>r.titles[0]||i("el.transfer.titles.0")),S=O(()=>r.titles[1]||i("el.transfer.titles.1")),$=O(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));xe(()=>r.modelValue,()=>{var T;r.validateEvent&&((T=l?.validate)==null||T.call(l,"change").catch(_=>void 0))});const k=O(()=>T=>{var _;if(r.renderContent)return r.renderContent(bt,T);const E=(((_=o.default)==null?void 0:_.call(o,{option:T}))||[]).filter(A=>A.type!==ps);return E.length?E:bt("span",T[c.value.label]||T[c.value.key])});return t({clearQuery:b,leftPanel:v,rightPanel:y}),(T,_)=>(B(),K("div",{class:V(x(a).b())},[ee(L0e,{ref_key:"leftPanel",ref:v,data:x(f),"option-render":k.value,placeholder:$.value,title:C.value,filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,"default-checked":T.leftDefaultChecked,props:r.props,onCheckedChange:x(h)},{empty:ie(()=>[ce(T.$slots,"left-empty")]),default:ie(()=>[ce(T.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:V(x(a).e("buttons"))},[ee(x($o),{type:"primary",class:V([x(a).e("button"),x(a).is("with-texts",w.value)]),disabled:x(_a)(u.rightChecked),onClick:x(g)},{default:ie(()=>[ee(x(ot),null,{default:ie(()=>[ee(x(bp))]),_:1}),x(yn)(T.buttonTexts[0])?fe("v-if",!0):(B(),K("span",sTn,De(T.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ee(x($o),{type:"primary",class:V([x(a).e("button"),x(a).is("with-texts",w.value)]),disabled:x(_a)(u.leftChecked),onClick:x(m)},{default:ie(()=>[x(yn)(T.buttonTexts[1])?fe("v-if",!0):(B(),K("span",oTn,De(T.buttonTexts[1]),1)),ee(x(ot),null,{default:ie(()=>[ee(x(aa))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ee(L0e,{ref_key:"rightPanel",ref:y,data:x(d),"option-render":k.value,placeholder:$.value,filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,title:S.value,"default-checked":T.rightDefaultChecked,props:r.props,onCheckedChange:x(p)},{empty:ie(()=>[ce(T.$slots,"right-empty")]),default:ie(()=>[ce(T.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var aTn=Ve(iTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const lTn=Rt(aTn),$w="$treeNodeId",B0e=function(e,t){!t||t[$w]||Object.defineProperty(t,$w,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},bre=(e,t)=>t?.[e||$w],GH=(e,t,n)=>{const r=e.value.currentNode;n();const s=e.value.currentNode;r!==s&&t("current-change",s?s.data:null,s)},R8e=e=>{let t=!0,n=!0,r=!0,s=!0;for(let o=0,i=e.length;o<i;o++){const a=e[o];(a.checked!==!0||a.indeterminate)&&(t=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1),a.isEffectivelyChecked||(s=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n,isEffectivelyChecked:s}},D$=function(e){if(e.childNodes.length===0||e.loading){e.isEffectivelyChecked=e.disabled||e.checked;return}const{all:t,none:n,half:r,isEffectivelyChecked:s}=R8e(e.childNodes);e.isEffectivelyChecked=s,t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||D$(o)},WD=function(e,t){const n=e.store.props,r=e.data||{},s=n[t];if(ft(s))return s(r,e);if(it(s))return r[s];if(yn(s)){const o=r[t];return yn(o)?"":o}},KH=function(e,t){e.forEach(n=>{n.canFocus=t,KH(n.childNodes,t)})};let uTn=0,YH=class aO{constructor(t){this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=uTn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)En(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var t;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const i=WD(this,"isLeaf");Ln(i)&&(this.isLeafByUser=i)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Oe(this.data)||B0e(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,o=n.key;o&&!vs(this.key)&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),o&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode&&(n.currentNode.isCurrent=!1),n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((t=this.parent)==null?void 0:t.expanded)===!0)&&(this.canFocus=!0)}setData(t){Oe(t)||B0e(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Oe(this.data)?n=this.data:n=WD(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return WD(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return WD(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof aO)){if(!r){const s=this.getChildren(!0);s?.includes(t.data)||(yn(n)||n<0?s?.push(t.data):s?.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=In(new aO(t)),t instanceof aO&&t.initialize()}t.level=this.level+1,yn(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(t);s>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(t){const n=this.childNodes.find(r=>r.data===t);n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let s=this.parent;for(;s&&s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,t&&t(),KH(this.childNodes,!0)};this.shouldLoadData()?this.loadData(s=>{Oe(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||D$(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,KH(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(t,n,r,s){if(this.indeterminate=t==="half",this.checked=t===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const i=()=>{if(n){const a=this.childNodes;for(let f=0,d=a.length;f<d;f++){const h=a[f];s=s||t!==!1;const p=h.disabled&&h.isLeaf?h.checked:s;h.setChecked(p,n,!0,s)}const{half:l,all:u,isEffectivelyChecked:c}=R8e(a);u||(this.checked=u,this.indeterminate=l),this.isEffectivelyChecked=this.childNodes.length?c:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{i(),D$(this)},{checked:t!==!1});return}else i()}const o=this.parent;!o||o.level===0||r||D$(o)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),yn(n[s])&&(n[s]=null),t&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},s=[];t.forEach((o,i)=>{const a=o[$w];!!a&&n.some(u=>u?.[$w]===a)?r[a]={index:i,data:o}:s.push({index:i,data:o})}),this.store.lazy||n.forEach(o=>{r[o?.[$w]]||this.removeChildByData(o)}),s.forEach(({index:o,data:i})=>{this.insertChild({data:i},o)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)},s=()=>{this.loading=!1};this.store.load(this,r,s)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||D$(this)}};class cTn{constructor(t){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in t)En(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new YH({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},Rn)}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,s=async function(o){const i=o.root?o.root.childNodes:o.childNodes;for(const[a,l]of i.entries())l.visible=!!n?.call(l,t,l.data,l),a%80===0&&a>0&&await Ye(),await s(l);if(!o.visible&&i.length){let a=!0;a=!i.some(l=>l.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}t&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};s(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof YH)return t;const n=Pt(t)?bre(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertBefore({data:t},s)}insertAfter(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertAfter({data:t},s)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=fl(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){const n=this.defaultCheckedKeys||[];!vs(t.key)&&n.includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;if(!(!t||!t.data))if(!n)this.nodesMap[t.id]=t;else{const r=t.key;vs(r)||(this.nodesMap[r]=t)}}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],s=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!t||t&&a.isLeaf)&&r.push(a.data),s(a)})};return s(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&t.push(o.data),n(o)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)En(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const s=r.childNodes;for(let o=s.length-1;o>=0;o--){const i=s[o];this.remove(i.data)}for(let o=0,i=n.length;o<i;o++){const a=n[o];this.append(a,r.data)}}_setCheckedKeys(t,n=!1,r){const s=this._getAllNodes().sort((l,u)=>l.level-u.level),o=Object.create(null),i=Object.keys(r);s.forEach(l=>l.setChecked(!1,!1));const a=l=>{l.childNodes.forEach(u=>{var c;o[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&a(u)})};for(let l=0,u=s.length;l<u;l++){const c=s[l],f=c.data[t].toString();if(!i.includes(f)){c.checked&&!o[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&a(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),h(m)})};h(c)}}}setCheckedNodes(t,n=!1){const r=this.key,s={};t.forEach(o=>{s[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,s={};t.forEach(o=>{s[o]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const s=this.getNode(t);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){var r;const s=t[this.key],o=this.nodesMap[s];this.setCurrentNode(o),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0))}setCurrentNodeKey(t,n=!0){var r;if(this.currentNodeKey=t,fl(t)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0)))}}const wre="RootTree",F8e="NodeInstance",z0e="TreeNodeMap",fTn=me({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Ae("tree"),n=tt(F8e),r=tt(wre);return()=>{const s=e.node,{data:o,store:i}=s;return e.renderContent?e.renderContent(bt,{_self:n,node:s,data:o,store:i}):ce(r.ctx.slots,"default",{node:s,data:o},()=>[bt(yre,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[s.label])])}}});var dTn=Ve(fTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function M8e(e){const t=tt(z0e,null);let n={treeNodeExpand:r=>{var s;e.node!==r&&((s=e.node)==null||s.collapse())},children:new Set};return t&&t.children.add(n),Nn(()=>{t&&t.children.delete(n),n=null}),ln(z0e,n),{broadcastExpanded:r=>{if(e.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const P8e=Symbol("dragEvents");function hTn({props:e,ctx:t,el$:n,dropIndicator$:r,store:s}){const o=Ae("tree"),i=H({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ln(P8e,{treeNodeDragStart:({event:c,treeNode:f})=>{if(c.dataTransfer){if(ft(e.allowDrag)&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=f,t.emit("node-drag-start",f.node,c)}},treeNodeDragOver:({event:c,treeNode:f})=>{if(!c.dataTransfer)return;const d=f,h=i.value.dropNode;h&&h.node.id!==d.node.id&&ia(h.$el,o.is("drop-inner"));const p=i.value.draggingNode;if(!p||!d)return;let g=!0,m=!0,v=!0,y=!0;ft(e.allowDrop)&&(g=e.allowDrop(p.node,d.node,"prev"),y=m=e.allowDrop(p.node,d.node,"inner"),v=e.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=m||g||v?"move":"none",(g||m||v)&&h?.node.id!==d.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,d.node,c)),g||m||v?i.value.dropNode=d:i.value.dropNode=null,d.node.nextSibling===p.node&&(v=!1),d.node.previousSibling===p.node&&(g=!1),d.node.contains(p.node,!1)&&(m=!1),(p.node===d.node||p.node.contains(d.node))&&(g=!1,m=!1,v=!1);const b=d.$el,w=b.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),C=n.value.getBoundingClientRect(),S=n.value.scrollTop;let $;const k=g?m?.25:v?.45:1:Number.NEGATIVE_INFINITY,T=v?m?.75:g?.55:0:Number.POSITIVE_INFINITY;let _=-9999;const E=c.clientY-w.top;E<w.height*k?$="before":E>w.height*T?$="after":m?$="inner":$="none";const A=b.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),I=r.value;$==="before"?_=A.top-C.top+S:$==="after"&&(_=A.bottom-C.top+S),I.style.top=`${_}px`,I.style.left=`${A.right-C.left}px`,$==="inner"?Au(b,o.is("drop-inner")):ia(b,o.is("drop-inner")),i.value.showDropIndicator=$==="before"||$==="after",i.value.allowDrop=i.value.showDropIndicator||y,i.value.dropType=$,t.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{var f,d;const{draggingNode:h,dropType:p,dropNode:g}=i.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),h?.node.data&&g){const m={data:h.node.data};p!=="none"&&h.node.remove(),p==="before"?(f=g.node.parent)==null||f.insertBefore(m,g.node):p==="after"?(d=g.node.parent)==null||d.insertAfter(m,g.node):p==="inner"&&g.node.insertChild(m),p!=="none"&&(s.value.registerNode(m),s.value.key&&h.node.eachNode(v=>{var y;(y=s.value.nodesMap[v.data[s.value.key]])==null||y.setChecked(v.checked,!s.value.checkStrictly)})),ia(g.$el,o.is("drop-inner")),t.emit("node-drag-end",h.node,g.node,p,c),p!=="none"&&t.emit("node-drop",h.node,g.node,p,c)}h&&!g&&t.emit("node-drag-end",h.node,null,p,c),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}const pTn=me({name:"ElTreeNode",components:{ElCollapseTransition:E8,ElCheckbox:Hc,NodeContent:dTn,ElIcon:ot,Loading:Td},props:{node:{type:YH,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,t){const n=Ae("tree"),{broadcastExpanded:r}=M8e(e),s=tt(wre),o=H(!1),i=H(!1),a=H(),l=H(),u=H(),c=tt(P8e),f=Ut();ln(F8e,f),e.node.expanded&&(o.value=!0,i.value=!0);const d=s.props.props.children||"children";xe(()=>{var T;const _=(T=e.node.data)==null?void 0:T[d];return _&&[..._]},()=>{e.node.updateChildren()}),xe(()=>e.node.indeterminate,T=>{g(e.node.checked,T)}),xe(()=>e.node.checked,T=>{g(T,e.node.indeterminate)}),xe(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),xe(()=>e.node.expanded,T=>{Ye(()=>o.value=T),T&&(i.value=!0)});const h=T=>bre(s.props.nodeKey,T.data),p=T=>{const _=e.props.class;if(!_)return{};let E;if(ft(_)){const{data:A}=T;E=_(A,T)}else E=_;return it(E)?{[E]:!0}:E},g=(T,_)=>{(a.value!==T||l.value!==_)&&s.ctx.emit("check-change",e.node.data,T,_),a.value=T,l.value=_},m=T=>{GH(s.store,s.ctx.emit,()=>{var _;if((_=s?.props)==null?void 0:_.nodeKey){const A=h(e.node);s.store.value.setCurrentNodeKey(A)}else s.store.value.setCurrentNode(e.node)}),s.currentNode.value=e.node,s.props.expandOnClickNode&&y(),(s.props.checkOnClickNode||e.node.isLeaf&&s.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&b(!e.node.checked),s.ctx.emit("node-click",e.node.data,e.node,f,T)},v=T=>{var _;(_=s.instance.vnode.props)!=null&&_.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),s.ctx.emit("node-contextmenu",T,e.node.data,e.node,f)},y=()=>{e.node.isLeaf||(o.value?(s.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},b=T=>{const _=s?.props.checkStrictly,E=e.node.childNodes;!_&&E.length&&(T=E.some(A=>!A.isEffectivelyChecked)),e.node.setChecked(T,!_),Ye(()=>{const A=s.store.value;s.ctx.emit("check",e.node.data,{checkedNodes:A.getCheckedNodes(),checkedKeys:A.getCheckedKeys(),halfCheckedNodes:A.getHalfCheckedNodes(),halfCheckedKeys:A.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:s,expanded:o,childNodeRendered:i,oldChecked:a,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:g,handleClick:m,handleContextMenu:v,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(T,_,E)=>{r(_),s.ctx.emit("node-expand",T,_,E)},handleDragStart:T=>{s.props.draggable&&c.treeNodeDragStart({event:T,treeNode:e})},handleDragOver:T=>{T.preventDefault(),s.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:e.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{s.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:mLe}}}),gTn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],mTn=["aria-expanded"];function vTn(e,t,n,r,s,o){const i=Zt("el-icon"),a=Zt("el-checkbox"),l=Zt("loading"),u=Zt("node-content"),c=Zt("el-tree-node"),f=Zt("el-collapse-transition");return Lt((B(),K("div",{ref:"node$",class:V([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[2]||(t[2]=xt((...d)=>e.handleClick&&e.handleClick(...d),["stop"])),onContextmenu:t[3]||(t[3]=(...d)=>e.handleContextMenu&&e.handleContextMenu(...d)),onDragstart:t[4]||(t[4]=xt((...d)=>e.handleDragStart&&e.handleDragStart(...d),["stop"])),onDragover:t[5]||(t[5]=xt((...d)=>e.handleDragOver&&e.handleDragOver(...d),["stop"])),onDragend:t[6]||(t[6]=xt((...d)=>e.handleDragEnd&&e.handleDragEnd(...d),["stop"])),onDrop:t[7]||(t[7]=xt((...d)=>e.handleDrop&&e.handleDrop(...d),["stop"]))},[Z("div",{class:V(e.ns.be("node","content")),style:dt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(B(),pe(i,{key:0,class:V([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:xt(e.handleExpandIconClick,["stop"])},{default:ie(()=>[(B(),pe(zt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.showCheckbox?(B(),pe(a,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=xt(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):fe("v-if",!0),e.node.loading?(B(),pe(i,{key:2,class:V([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ie(()=>[ee(l)]),_:1},8,["class"])):fe("v-if",!0),ee(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ee(f,null,{default:ie(()=>[!e.renderAfterExpand||e.childNodeRendered?Lt((B(),K("div",{key:0,class:V(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:t[1]||(t[1]=xt(()=>{},["stop"]))},[(B(!0),K(rt,null,Ht(e.node.childNodes,d=>(B(),pe(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,mTn)),[[$n,e.expanded]]):fe("v-if",!0)]),_:1})],42,gTn)),[[$n,e.node.visible]])}var yTn=Ve(pTn,[["render",vTn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function bTn({el$:e},t){const n=Ae("tree");jt(()=>{o()}),Yc(()=>{var i;(i=e.value)==null||i.querySelectorAll("input[type=checkbox]").forEach(a=>{a.setAttribute("tabindex","-1")})});function r(i,a){var l,u;const c=t.value.getNode(i[a].dataset.key);return c.canFocus&&c.visible&&(((l=c.parent)==null?void 0:l.expanded)||((u=c.parent)==null?void 0:u.level)===0)}Fn(e,"keydown",i=>{const a=i.target;if(!a.className.includes(n.b("node")))return;const l=Hn(i),u=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),c=u.indexOf(a);let f;if([Re.up,Re.down].includes(l)){if(i.preventDefault(),l===Re.up){f=c===-1?0:c!==0?c-1:u.length-1;const h=f;for(;!r(u,f);){if(f--,f===h){f=-1;break}f<0&&(f=u.length-1)}}else{f=c===-1?0:c<u.length-1?c+1:0;const h=f;for(;!r(u,f);){if(f++,f===h){f=-1;break}f>=u.length&&(f=0)}}f!==-1&&u[f].focus()}[Re.left,Re.right].includes(l)&&(i.preventDefault(),a.click());const d=a.querySelector('[type="checkbox"]');[Re.enter,Re.numpadEnter,Re.space].includes(l)&&d&&(i.preventDefault(),d.click())});const o=()=>{var i;if(!e.value)return;const a=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(c=>{c.setAttribute("tabindex","-1")});const u=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(i=a[0])==null||i.setAttribute("tabindex","0")}}const L8e=Me({data:{type:oe(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:oe(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:oe(Function)},allowDrop:{type:oe(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:zn}}),wTn={"check-change":(e,t,n)=>e&&Ln(t)&&Ln(n),"current-change":(e,t)=>!0,"node-click":(e,t,n,r)=>e&&t&&r instanceof Event,"node-contextmenu":(e,t,n,r)=>e instanceof Event&&t&&n,"node-collapse":(e,t,n)=>e&&t,"node-expand":(e,t,n)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,n,r)=>e&&r,"node-drop":(e,t,n,r)=>e&&t&&r,"node-drag-leave":(e,t,n)=>e&&t&&n,"node-drag-enter":(e,t,n)=>e&&t&&n,"node-drag-over":(e,t,n)=>e&&t&&n},xTn=me({name:"ElTree",components:{ElTreeNode:yTn},props:L8e,emits:wTn,setup(e,t){const{t:n}=un(),r=Ae("tree"),s=H(new cTn({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));s.value.initialize();const o=H(s.value.root),i=H(null),a=H(null),l=H(null),{broadcastExpanded:u}=M8e(e),{dragState:c}=hTn({props:e,ctx:t,el$:a,dropIndicator$:l,store:s});bTn({el$:a},s);const f=Ut(),d=O(()=>{let z=f?.parent;for(;z;){if(z.type.name==="ElTreeSelect")return!0;z=z.parent}return!1}),h=O(()=>{const{childNodes:z}=o.value;return(!z||z.length===0||z.every(({visible:W})=>!W))&&!d.value});xe(()=>e.currentNodeKey,z=>{s.value.setCurrentNodeKey(z??null)}),xe(()=>e.defaultCheckedKeys,(z,W)=>{Gr(z,W)||s.value.setDefaultCheckedKey(z??[])}),xe(()=>e.defaultExpandedKeys,z=>{s.value.setDefaultExpandedKeys(z??[])}),xe(()=>e.data,z=>{s.value.setData(z)},{deep:!0}),xe(()=>e.checkStrictly,z=>{s.value.checkStrictly=z});const p=z=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(z)},g=z=>bre(e.nodeKey,z.data),m=z=>{if(!e.nodeKey)throw new Error(`[Tree] nodeKey is required in ${z}`)},v=z=>{m("getNodePath");const W=s.value.getNode(z);if(!W)return[];const j=[W.data];let U=W.parent;for(;U&&U!==o.value;)j.push(U.data),U=U.parent;return j.reverse()},y=(z,W)=>s.value.getCheckedNodes(z,W),b=z=>s.value.getCheckedKeys(z),w=()=>{const z=s.value.getCurrentNode();return z?z.data:null},C=()=>{m("getCurrentKey");const z=w();return z?z[e.nodeKey]:null},S=(z,W)=>{m("setCheckedNodes"),s.value.setCheckedNodes(z,W)},$=(z,W)=>{m("setCheckedKeys"),s.value.setCheckedKeys(z,W)},k=(z,W,j)=>{s.value.setChecked(z,W,j)},T=()=>s.value.getHalfCheckedNodes(),_=()=>s.value.getHalfCheckedKeys(),E=(z,W=!0)=>{m("setCurrentNode"),GH(s,t.emit,()=>{u(z),s.value.setUserCurrentNode(z,W)})},A=(z=null,W=!0)=>{m("setCurrentKey"),GH(s,t.emit,()=>{u(),s.value.setCurrentNodeKey(z,W)})},I=z=>s.value.getNode(z),F=z=>{s.value.remove(z)},R=(z,W)=>{s.value.append(z,W)},L=(z,W)=>{s.value.insertBefore(z,W)},D=(z,W)=>{s.value.insertAfter(z,W)},N=(z,W,j)=>{u(W),t.emit("node-expand",z,W,j)},M=(z,W)=>{m("updateKeyChild"),s.value.updateChildren(z,W)};return ln(wre,{ctx:t,props:e,store:s,root:o,currentNode:i,instance:f}),ln(Ad,void 0),{ns:r,store:s,root:o,currentNode:i,dragState:c,el$:a,dropIndicator$:l,isEmpty:h,filter:p,getNodeKey:g,getNodePath:v,getCheckedNodes:y,getCheckedKeys:b,getCurrentNode:w,getCurrentKey:C,setCheckedNodes:S,setCheckedKeys:$,setChecked:k,getHalfCheckedNodes:T,getHalfCheckedKeys:_,setCurrentNode:E,setCurrentKey:A,t:n,getNode:I,remove:F,append:R,insertBefore:L,insertAfter:D,handleNodeExpand:N,updateKeyChildren:M}}});function CTn(e,t,n,r,s,o){const i=Zt("el-tree-node");return B(),K("div",{ref:"el$",class:V([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(B(!0),K(rt,null,Ht(e.root.childNodes,a=>(B(),pe(i,{key:e.getNodeKey(a),node:a,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(B(),K("div",{key:0,class:V(e.ns.e("empty-block"))},[ce(e.$slots,"empty",{},()=>{var a;return[Z("span",{class:V(e.ns.e("empty-text"))},De((a=e.emptyText)!=null?a:e.t("el.tree.emptyText")),3)]})],2)):fe("v-if",!0),Lt(Z("div",{ref:"dropIndicator$",class:V(e.ns.e("drop-indicator"))},null,2),[[$n,e.dragState.showDropIndicator]])],2)}var STn=Ve(xTn,[["render",CTn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);const xre=Rt(STn),$Tn=(e,{attrs:t,emit:n},{select:r,tree:s,key:o})=>{const i=Ae("tree-select");xe(()=>e.data,()=>{e.filterable&&Ye(()=>{var u,c;(c=s.value)==null||c.filter((u=r.value)==null?void 0:u.states.inputValue)})},{flush:"post"});const a=u=>{var c;const f=u.at(-1);if(f.expanded&&f.childNodes.at(-1))a([f.childNodes.at(-1)]);else{const d=(c=s.value.el$)==null?void 0:c.querySelector(`[data-key="${u.at(-1).key}"]`);d?.focus({preventScroll:!0});return}};return jt(()=>{Fn(()=>{var u;return(u=r.value)==null?void 0:u.$el},"keydown",async u=>{const c=Hn(u),{dropdownMenuVisible:f}=r.value;[Re.down,Re.up].includes(c)&&f&&(await Ye(),setTimeout(()=>{var d,h,p;if(Re.up===c){const g=s.value.store.root.childNodes;a(g);return}(p=(h=(d=r.value.optionsArray[r.value.states.hoveringIndex].$el)==null?void 0:d.parentNode)==null?void 0:h.parentNode)==null||p.focus({preventScroll:!0})}))},{capture:!0})}),{...vp(ao(e),Object.keys(Ux.props)),...t,class:O(()=>t.class),style:O(()=>t.style),"onUpdate:modelValue":u=>n(Et,u),valueKey:o,popperClass:O(()=>{const u=[i.e("popper")];return e.popperClass&&u.push(e.popperClass),u.join(" ")}),filterMethod:(u="")=>{var c;e.filterMethod?e.filterMethod(u):e.remoteMethod?e.remoteMethod(u):(c=s.value)==null||c.filter(u)}}},kTn=me({extends:pM,setup(e,t){const n=pM.setup(e,t);delete n.selectOptionClick;const r=Ut().proxy;return Ye(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),xe(()=>t.attrs.visible,s=>{Ye(()=>{n.states.visible=s})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function XH(e){return e||e===0}function Cre(e){return Oe(e)&&e.length}function Rb(e){return Oe(e)?e:XH(e)?[e]:[]}function lO(e,t,n,r,s){for(let o=0;o<e.length;o++){const i=e[o];if(t(i,o,e,s))return r?r(i,o,e,s):i;{const a=n(i);if(Cre(a)){const l=lO(a,t,n,r,i);if(l)return l}}}}function uO(e,t,n,r){for(let s=0;s<e.length;s++){const o=e[s];t(o,s,e,r);const i=n(o);Cre(i)&&uO(i,t,n,o)}}const ETn=(e,{attrs:t,slots:n,emit:r},{select:s,tree:o,key:i})=>{xe([()=>e.modelValue,o],()=>{e.showCheckbox&&Ye(()=>{const d=o.value;d&&!Gr(d.getCheckedKeys(),Rb(e.modelValue))&&d.setCheckedKeys(Rb(e.modelValue))})},{immediate:!0,deep:!0});const a=O(()=>({value:i.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(d,h)=>{var p;const g=a.value[d];return ft(g)?g(h,(p=o.value)==null?void 0:p.getNode(l("value",h))):h[g]},u=Rb(e.modelValue).map(d=>lO(e.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,g,m)=>m&&l("value",m))).filter(d=>XH(d)),c=O(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return uO(e.data.concat(e.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=o.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const g=(p=o.value)==null?void 0:p.getNode(h);return!vs(g)&&_a(g.childNodes)})};return{...vp(ao(e),Object.keys(xre.props)),...t,nodeKey:i,expandOnClickNode:O(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:O(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:g})=>d(kTn,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},e.renderContent?()=>e.renderContent(d,{node:h,data:p,store:g}):n.default?()=>n.default({node:h,data:p,store:g}):void 0),filterNodeMethod:(d,h,p)=>e.filterNodeMethod?e.filterNodeMethod(d,h,p):d?new RegExp(Qne(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var g,m,v;if((g=t.onNodeClick)==null||g.call(t,d,h,p),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const y=(m=s.value)==null?void 0:m.states.options.get(l("value",d));(v=s.value)==null||v.handleOptionSelect(y)}}else e.expandOnClickNode&&p.proxy.handleExpandIconClick()},onCheck:(d,h)=>{var p;if(!e.showCheckbox)return;const g=l("value",d),m={};uO([o.value.store.root],w=>m[w.key]=w,w=>w.childNodes);const v=h.checkedKeys,y=e.multiple?Rb(e.modelValue).filter(w=>!(w in m)&&!v.includes(w)):[],b=y.concat(v);if(e.checkStrictly)r(Et,e.multiple?b:b.includes(g)?g:void 0);else if(e.multiple){const w=f();r(Et,y.concat(w))}else{const w=lO([d],$=>!Cre(l("children",$))&&!l("disabled",$),$=>l("children",$)),C=w?l("value",w):void 0,S=XH(e.modelValue)&&!!lO([d],$=>l("value",$)===e.modelValue,$=>l("children",$));r(Et,C===e.modelValue||S?void 0:C)}Ye(()=>{var w;const C=Rb(e.modelValue);o.value.setCheckedKeys(C),(w=t.onCheck)==null||w.call(t,d,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(p=s.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var g;(g=t.onNodeExpand)==null||g.call(t,d,h,p),Ye(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&h.checked){const m={},v=o.value.getCheckedKeys();uO([o.value.store.root],w=>m[w.key]=w,w=>w.childNodes);const y=Rb(e.modelValue).filter(w=>!(w in m)&&!v.includes(w)),b=f();r(Et,y.concat(b))}})},cacheOptions:c}};var _Tn=me({props:{data:{type:Array,default:()=>[]}},setup(e){const t=tt(OI);return xe(()=>e.data,()=>{var n;e.data.forEach(s=>{t.states.cachedOptions.has(s.value)||t.states.cachedOptions.set(s.value,s)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Tn&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const TTn=me({name:"ElTreeSelect",inheritAttrs:!1,props:{...I6e,...L8e,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,s=H(),o=H(),i=O(()=>e.nodeKey||e.valueKey||"value"),a=$Tn(e,t,{select:s,tree:o,key:i}),{cacheOptions:l,...u}=ETn(e,t,{select:s,tree:o,key:i}),c=In({});return r(c),jt(()=>{Object.assign(c,{...vp(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...vp(s.value,["focus","blur","selectedLabel"]),treeRef:o.value,selectRef:s.value})}),()=>bt(Ux,In({...a,ref:f=>s.value=f}),{...n,default:()=>[bt(_Tn,{data:l.value}),bt(xre,In({...u,ref:f=>o.value=f}))]})}});var ATn=Ve(TTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);const ITn=Rt(ATn),Sre=Symbol(),NTn={key:-1,level:-1,data:{}};var O$=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(O$||{}),ZH=(e=>(e.ADD="add",e.DELETE="delete",e))(ZH||{});const B8e={type:Number,default:26},DTn=Me({data:{type:oe(Array),default:()=>zr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:oe(Object),default:()=>zr({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:oe(Array),default:()=>zr([])},checkStrictly:Boolean,defaultExpandedKeys:{type:oe(Array),default:()=>zr([])},indent:{type:Number,default:16},itemSize:B8e,icon:{type:zn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:oe([String,Number])},accordion:Boolean,filterMethod:{type:oe(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),OTn=Me({node:{type:oe(Object),default:()=>zr(NTn)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:B8e}),RTn=Me({node:{type:oe(Object),required:!0}}),z8e="node-click",V8e="node-drop",W8e="node-expand",U8e="node-collapse",j8e="current-change",H8e="check",q8e="check-change",G8e="node-contextmenu",FTn={[z8e]:(e,t,n)=>e&&t&&n,[V8e]:(e,t,n)=>e&&t&&n,[W8e]:(e,t)=>e&&t,[U8e]:(e,t)=>e&&t,[j8e]:(e,t)=>e&&t,[H8e]:(e,t)=>e&&t,[q8e]:(e,t)=>e&&Ln(t),[G8e]:(e,t,n)=>e&&t&&n},MTn={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&Ln(t)};function PTn(e,t){const n=H(new Set),r=H(new Set),{emit:s}=Ut();xe([()=>t.value,()=>e.defaultCheckedKeys],()=>Ye(()=>{y(e.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:w}=t.value,C=n.value,S=new Set;for(let $=w;$>=1;--$){const k=b.get($);k&&k.forEach(T=>{const _=T.children;let E=!T.isLeaf||T.disabled||C.has(T.key);if(_){let A=!0,I=!1;for(const F of _){const R=F.key;if(F.isEffectivelyChecked||(E=!1),C.has(R))I=!0;else if(S.has(R)){A=!1,I=!0;break}else A=!1}A?C.add(T.key):I?(S.add(T.key),C.delete(T.key)):(C.delete(T.key),S.delete(T.key))}T.isEffectivelyChecked=E})}r.value=S},i=b=>n.value.has(b.key),a=b=>r.value.has(b.key),l=(b,w,C=!0,S=!0)=>{const $=n.value,k=b.children;!e.checkStrictly&&C&&k?.length&&(w=k.some(_=>!_.isEffectivelyChecked));const T=(_,E)=>{$[E?ZH.ADD:ZH.DELETE](_.key);const A=_.children;!e.checkStrictly&&A&&A.forEach(I=>{(!I.disabled||I.children)&&T(I,E)})};T(b,w),S&&o(),C&&u(b,w)},u=(b,w)=>{const{checkedNodes:C,checkedKeys:S}=p(),{halfCheckedNodes:$,halfCheckedKeys:k}=g();s(H8e,b.data,{checkedKeys:S,checkedNodes:C,halfCheckedKeys:k,halfCheckedNodes:$}),s(q8e,b.data,w)};function c(b=!1){return p(b).checkedKeys}function f(b=!1){return p(b).checkedNodes}function d(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function p(b=!1){const w=[],C=[];if(t?.value&&e.showCheckbox){const{treeNodeMap:S}=t.value;n.value.forEach($=>{const k=S.get($);k&&(!b||b&&k.isLeaf)&&(C.push($),w.push(k.data))})}return{checkedKeys:C,checkedNodes:w}}function g(){const b=[],w=[];if(t?.value&&e.showCheckbox){const{treeNodeMap:C}=t.value;r.value.forEach(S=>{const $=C.get(S);$&&(w.push(S),b.push($.data))})}return{halfCheckedNodes:b,halfCheckedKeys:w}}function m(b){n.value.clear(),r.value.clear(),Ye(()=>{y(b)})}function v(b,w){if(t?.value&&e.showCheckbox){const C=t.value.treeNodeMap.get(b);C&&l(C,w,!1)}}function y(b){if(t?.value){const{treeNodeMap:w}=t.value;if(e.showCheckbox&&w&&b?.length>0){for(const C of b){const S=w.get(C);S&&!i(S)&&l(S,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:i,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:v,setCheckedKeys:m}}function LTn(e,t){const n=H(new Set([])),r=H(new Set([])),s=O(()=>ft(e.filterMethod));function o(a){var l;if(!s.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],p=e.filterMethod;f.clear();function g(m){m.forEach(v=>{d.push(v),p?.(a,v.data,v)?d.forEach(b=>{u.add(b.key),b.expanded=!0}):(v.expanded=!1,v.isLeaf&&f.add(v.key));const y=v.children;if(y&&g(y),!v.isLeaf){if(!u.has(v.key))f.add(v.key);else if(y){let b=!0;for(const w of y)if(!f.has(w.key)){b=!1;break}b?c.add(v.key):c.delete(v.key)}}d.pop()})}return g(h),u}function i(a){return r.value.has(a.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:i}}function BTn(e,t){const n=H(new Set),r=H(),s=lr(),o=H(),{isIndeterminate:i,isChecked:a,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=PTn(e,s),{doFilter:g,hiddenNodeKeySet:m,isForceHiddenExpandIcon:v}=LTn(e,s),y=O(()=>{var q;return((q=e.props)==null?void 0:q.value)||O$.KEY}),b=O(()=>{var q;return((q=e.props)==null?void 0:q.children)||O$.CHILDREN}),w=O(()=>{var q;return((q=e.props)==null?void 0:q.disabled)||O$.DISABLED}),C=O(()=>{var q;return((q=e.props)==null?void 0:q.label)||O$.LABEL}),S=O(()=>{var q;const P=n.value,Q=m.value,se=[],de=((q=s.value)==null?void 0:q.treeNodes)||[],he=[];for(let ge=de.length-1;ge>=0;--ge)he.push(de[ge]);for(;he.length;){const ge=he.pop();if(!Q.has(ge.key)&&(se.push(ge),ge.children&&P.has(ge.key)))for(let $e=ge.children.length-1;$e>=0;--$e)he.push(ge.children[$e])}return se}),$=O(()=>S.value.length>0);function k(q){const P=new Map,Q=new Map;let se=1;function de(ge,$e=1,He=void 0){var Ie;const Ce=[];for(const Fe of ge){const ze=E(Fe),Ue={level:$e,key:ze,data:Fe};Ue.label=I(Fe),Ue.parent=He;const st=_(Fe);Ue.disabled=A(Fe),Ue.isLeaf=!st||st.length===0,Ue.expanded=n.value.has(ze),st&&st.length&&(Ue.children=de(st,$e+1,Ue)),Ce.push(Ue),P.set(ze,Ue),Q.has($e)||Q.set($e,[]),(Ie=Q.get($e))==null||Ie.push(Ue)}return $e>se&&(se=$e),Ce}const he=de(q);return{treeNodeMap:P,levelTreeNodeMap:Q,maxLevel:se,treeNodes:he}}function T(q){const P=g(q);P&&(n.value=P)}function _(q){return q[b.value]}function E(q){return q?q[y.value]:""}function A(q){return q[w.value]}function I(q){return q[C.value]}function F(q){n.value.has(q.key)?W(q):z(q)}function R(q){const P=new Set,Q=s.value.treeNodeMap;n.value.forEach(se=>{const de=Q.get(se);n.value.delete(de.key),de.expanded=!1}),q.forEach(se=>{let de=Q.get(se);for(;de&&!P.has(de.key);)P.add(de.key),de.expanded=!0,de=de.parent}),n.value=P}function L(q,P){t(z8e,q.data,q,P),N(q),e.expandOnClickNode&&F(q),e.showCheckbox&&(e.checkOnClickNode||q.isLeaf&&e.checkOnClickLeaf)&&!q.disabled&&l(q,!a(q),!0)}function D(q,P){t(V8e,q.data,q,P)}function N(q){U(q)||(r.value=q.key,t(j8e,q.data,q))}function M(q,P){l(q,P)}function z(q){const P=n.value;if(s.value&&e.accordion){const{treeNodeMap:se}=s.value;P.forEach(de=>{const he=se.get(de);q&&q.level===he?.level&&(P.delete(de),he.expanded=!1)})}P.add(q.key);const Q=ae(q.key);Q&&(Q.expanded=!0,t(W8e,Q.data,Q))}function W(q){n.value.delete(q.key);const P=ae(q.key);P&&(P.expanded=!1,t(U8e,P.data,P))}function j(q){return!!q.disabled}function U(q){const P=r.value;return P!==void 0&&P===q.key}function Y(){var q,P;if(r.value)return(P=(q=s.value)==null?void 0:q.treeNodeMap.get(r.value))==null?void 0:P.data}function G(){return r.value}function ne(q){r.value=q}function ue(q){s.value=k(q)}function ae(q){var P;const Q=Pt(q)?E(q):q;return(P=s.value)==null?void 0:P.treeNodeMap.get(Q)}function X(q,P="auto"){const Q=ae(q);Q&&o.value&&o.value.scrollToItem(S.value.indexOf(Q),P)}function J(q){var P;(P=o.value)==null||P.scrollTo(q)}return xe(()=>e.currentNodeKey,q=>{r.value=q},{immediate:!0}),xe(()=>e.defaultExpandedKeys,q=>{n.value=new Set(q)},{immediate:!0}),xe(()=>e.data,q=>{ue(q)},{immediate:!0}),{tree:s,flattenTree:S,isNotEmpty:$,listRef:o,getKey:E,getChildren:_,toggleExpand:F,toggleCheckbox:l,isChecked:a,isIndeterminate:i,isDisabled:j,isCurrent:U,isForceHiddenExpandIcon:v,handleNodeClick:L,handleNodeDrop:D,handleNodeCheck:M,getCurrentNode:Y,getCurrentKey:G,setCurrentKey:ne,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:T,setData:ue,getNode:ae,expandNode:z,collapseNode:W,setExpandedKeys:R,scrollToNode:X,scrollTo:J}}var zTn=me({name:"ElTreeNodeContent",props:RTn,setup(e){const t=tt(Sre),n=Ae("tree");return()=>{const r=e.node,{data:s}=r;return t?.ctx.slots.default?t.ctx.slots.default({node:r,data:s}):bt(yre,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r?.label])}}});const VTn=["aria-expanded","aria-disabled","aria-checked","data-key"],WTn=me({name:"ElTreeNode",__name:"tree-node",props:OTn,emits:MTn,setup(e,{emit:t}){const n=e,r=t,s=tt(Sre),o=Ae("tree"),i=O(()=>{var p;return(p=s?.props.indent)!=null?p:16}),a=O(()=>{var p;return(p=s?.props.icon)!=null?p:mLe}),l=p=>{const g=s?.props.props.class;if(!g)return{};let m;if(ft(g)){const{data:v}=p;m=g(v,p)}else m=g;return it(m)?{[m]:!0}:m},u=p=>{r("click",n.node,p)},c=p=>{r("drop",n.node,p)},f=()=>{r("toggle",n.node)},d=p=>{r("check",n.node,p)},h=p=>{var g,m,v,y;(v=(m=(g=s?.instance)==null?void 0:g.vnode)==null?void 0:m.props)!=null&&v.onNodeContextmenu&&(p.stopPropagation(),p.preventDefault()),s?.ctx.emit(G8e,p,(y=n.node)==null?void 0:y.data,n.node)};return(p,g)=>{var m,v,y;return B(),K("div",{ref:"node$",class:V([x(o).b("node"),x(o).is("expanded",p.expanded),x(o).is("current",p.current),x(o).is("focusable",!p.disabled),x(o).is("checked",!p.disabled&&p.checked),l(p.node)]),role:"treeitem",tabindex:"-1","aria-expanded":p.expanded,"aria-disabled":p.disabled,"aria-checked":p.checked,"data-key":(m=p.node)==null?void 0:m.key,onClick:xt(u,["stop"]),onContextmenu:h,onDragover:g[1]||(g[1]=xt(()=>{},["prevent"])),onDragenter:g[2]||(g[2]=xt(()=>{},["prevent"])),onDrop:xt(c,["stop"])},[Z("div",{class:V(x(o).be("node","content")),style:dt({paddingLeft:`${(p.node.level-1)*i.value}px`,height:p.itemSize+"px"})},[a.value?(B(),pe(x(ot),{key:0,class:V([x(o).is("leaf",!!((v=p.node)!=null&&v.isLeaf)),x(o).is("hidden",p.hiddenExpandIcon),{expanded:!((y=p.node)!=null&&y.isLeaf)&&p.expanded},x(o).be("node","expand-icon")]),onClick:xt(f,["stop"])},{default:ie(()=>[(B(),pe(zt(a.value)))]),_:1},8,["class"])):fe("v-if",!0),p.showCheckbox?(B(),pe(x(Hc),{key:1,"model-value":p.checked,indeterminate:p.indeterminate,disabled:p.disabled,onChange:d,onClick:g[0]||(g[0]=xt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):fe("v-if",!0),ee(x(zTn),{node:{...p.node,expanded:p.expanded}},null,8,["node"])],6)],42,VTn)}}});var UTn=Ve(WTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const jTn=me({name:"ElTreeV2",__name:"tree",props:DTn,emits:FTn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=O(()=>r.itemSize);ln(Sre,{ctx:{emit:s,slots:o},props:r,instance:Ut()}),ln(Ad,void 0);const{t:a}=un(),l=Ae("tree"),{flattenTree:u,isNotEmpty:c,listRef:f,toggleExpand:d,isIndeterminate:h,isChecked:p,isDisabled:g,isCurrent:m,isForceHiddenExpandIcon:v,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:w,toggleCheckbox:C,getCurrentNode:S,getCurrentKey:$,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:_,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:I,setCheckedKeys:F,filter:R,setData:L,getNode:D,expandNode:N,collapseNode:M,setExpandedKeys:z,scrollToNode:W,scrollTo:j}=BTn(r,s);return t({toggleCheckbox:C,getCurrentNode:S,getCurrentKey:$,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:_,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:I,setCheckedKeys:F,filter:R,setData:L,getNode:D,expandNode:N,collapseNode:M,setExpandedKeys:z,scrollToNode:W,scrollTo:j}),(U,Y)=>(B(),K("div",{class:V([x(l).b(),{[x(l).m("highlight-current")]:U.highlightCurrent}]),role:"tree"},[x(c)?(B(),pe(x(W6e),{key:0,ref_key:"listRef",ref:f,"class-name":x(l).b("virtual-list"),data:x(u),total:x(u).length,height:U.height,"item-size":i.value,"perf-mode":U.perfMode,"scrollbar-always-on":U.scrollbarAlwaysOn},{default:ie(({data:G,index:ne,style:ue})=>[(B(),pe(UTn,{key:G[ne].key,style:dt(ue),node:G[ne],expanded:G[ne].expanded,"show-checkbox":U.showCheckbox,checked:x(p)(G[ne]),indeterminate:x(h)(G[ne]),"item-size":i.value,disabled:x(g)(G[ne]),current:x(m)(G[ne]),"hidden-expand-icon":x(v)(G[ne]),onClick:x(y),onToggle:x(d),onCheck:x(w),onDrop:x(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode","scrollbar-always-on"])):(B(),K("div",{key:1,class:V(x(l).e("empty-block"))},[ce(U.$slots,"empty",{},()=>{var G;return[Z("span",{class:V(x(l).e("empty-text"))},De((G=U.emptyText)!=null?G:x(a)("el.tree.emptyText")),3)]})],2))],2))}});var HTn=Ve(jTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const qTn=Rt(HTn),K8e=Symbol("uploadContextKey"),GTn="ElUpload";class KTn extends Error{constructor(t,n,r,s){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function V0e(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new KTn(r,n.status,t.method,e)}function YTn(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const XTn=e=>{typeof XMLHttpRequest>"u"&&Ts(GTn,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const i=o;i.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(i)});const r=new FormData;if(e.data)for(const[o,i]of Object.entries(e.data))Oe(i)&&i.length?r.append(o,...i):r.append(o,i);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(V0e(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(V0e(n,e,t));e.onSuccess(YTn(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((o,i)=>t.setRequestHeader(i,o));else for(const[o,i]of Object.entries(s))vs(i)||t.setRequestHeader(o,String(i));return t.send(r),t},Y8e=["text","picture","picture-card"];let ZTn=1;const JH=()=>Date.now()+ZTn++,X8e=Me({action:{type:String,default:"#"},headers:{type:oe(Object)},method:{type:String,default:"post"},data:{type:oe([Object,Function,Promise]),default:()=>zr({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:oe(Array),default:()=>zr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Y8e,default:"text"},httpRequest:{type:oe(Function),default:XTn},disabled:{type:Boolean,default:void 0},limit:Number}),JTn=Me({...X8e,beforeUpload:{type:oe(Function),default:Rn},beforeRemove:{type:oe(Function)},onRemove:{type:oe(Function),default:Rn},onChange:{type:oe(Function),default:Rn},onPreview:{type:oe(Function),default:Rn},onSuccess:{type:oe(Function),default:Rn},onProgress:{type:oe(Function),default:Rn},onError:{type:oe(Function),default:Rn},onExceed:{type:oe(Function),default:Rn},crossorigin:{type:oe(String)}}),QTn=Me({files:{type:oe(Array),default:()=>zr([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:oe(Function),default:Rn},listType:{type:String,values:Y8e,default:"text"},crossorigin:{type:oe(String)}}),eAn={remove:e=>!!e},tAn=["tabindex","aria-disabled","onKeydown"],nAn=["src","crossorigin"],rAn=["onClick"],sAn=["title"],oAn=["onClick"],iAn=["onClick"],aAn=me({name:"ElUploadList",__name:"upload-list",props:QTn,emits:eAn,setup(e,{emit:t}){const n=e,r=t,{t:s}=un(),o=Ae("upload"),i=Ae("icon"),a=Ae("list"),l=jr(),u=H(!1),c=O(()=>[o.b("list"),o.bm("list",n.listType),o.is("disabled",l.value)]),f=d=>{r("remove",d)};return(d,h)=>(B(),pe(_1e,{tag:"ul",class:V(c.value),name:x(a).b()},{default:ie(()=>[(B(!0),K(rt,null,Ht(d.files,(p,g)=>(B(),K("li",{key:p.uid||p.name,class:V([x(o).be("list","item"),x(o).is(p.status),{focusing:u.value}]),tabindex:x(l)?void 0:0,"aria-disabled":x(l),role:"button",onKeydown:qr(m=>!x(l)&&f(p),["delete"]),onFocus:h[0]||(h[0]=m=>u.value=!0),onBlur:h[1]||(h[1]=m=>u.value=!1),onClick:h[2]||(h[2]=m=>u.value=!1)},[ce(d.$slots,"default",{file:p,index:g},()=>[d.listType==="picture"||p.status!=="uploading"&&d.listType==="picture-card"?(B(),K("img",{key:0,class:V(x(o).be("list","item-thumbnail")),src:p.url,crossorigin:d.crossorigin,alt:""},null,10,nAn)):fe("v-if",!0),p.status==="uploading"||d.listType!=="picture-card"?(B(),K("div",{key:1,class:V(x(o).be("list","item-info"))},[Z("a",{class:V(x(o).be("list","item-name")),onClick:xt(m=>d.handlePreview(p),["prevent"])},[ee(x(ot),{class:V(x(i).m("document"))},{default:ie(()=>[ee(x(Dcn))]),_:1},8,["class"]),Z("span",{class:V(x(o).be("list","item-file-name")),title:p.name},De(p.name),11,sAn)],10,rAn),p.status==="uploading"?(B(),pe(x(D6e),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(p.percentage),style:dt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):fe("v-if",!0)],2)):fe("v-if",!0),Z("label",{class:V(x(o).be("list","item-status-label"))},[d.listType==="text"?(B(),pe(x(ot),{key:0,class:V([x(i).m("upload-success"),x(i).m("circle-check")])},{default:ie(()=>[ee(x(hne))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(B(),pe(x(ot),{key:1,class:V([x(i).m("upload-success"),x(i).m("check")])},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):fe("v-if",!0)],2),x(l)?fe("v-if",!0):(B(),pe(x(ot),{key:2,class:V(x(i).m("close")),onClick:m=>f(p)},{default:ie(()=>[ee(x(qu))]),_:1},8,["class","onClick"])),fe(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),fe(" This is a bug which needs to be fixed "),fe(" TODO: Fix the incorrect navigation interaction "),x(l)?fe("v-if",!0):(B(),K("i",{key:3,class:V(x(i).m("close-tip"))},De(x(s)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(B(),K("span",{key:4,class:V(x(o).be("list","item-actions"))},[Z("span",{class:V(x(o).be("list","item-preview")),onClick:m=>d.handlePreview(p)},[ee(x(ot),{class:V(x(i).m("zoom-in"))},{default:ie(()=>[ee(x(xLe))]),_:1},8,["class"])],10,oAn),x(l)?fe("v-if",!0):(B(),K("span",{key:0,class:V(x(o).be("list","item-delete")),onClick:m=>f(p)},[ee(x(ot),{class:V(x(i).m("delete"))},{default:ie(()=>[ee(x(yLe))]),_:1},8,["class"])],10,iAn))],2)):fe("v-if",!0)])],42,tAn))),128)),ce(d.$slots,"append")]),_:3},8,["class","name"]))}});var W0e=Ve(aAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const lAn=Me({disabled:{type:Boolean,default:void 0}}),uAn={file:e=>Oe(e)},U0e="ElUploadDrag",cAn=me({name:U0e,__name:"upload-dragger",props:lAn,emits:uAn,setup(e,{emit:t}){const n=t;tt(K8e)||Ts(U0e,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=Ae("upload"),o=H(!1),i=jr(),a=c=>{if(i.value)return;o.value=!1,c.stopPropagation();const f=Array.from(c.dataTransfer.files),d=c.dataTransfer.items||[];f.forEach((h,p)=>{var g;const m=d[p],v=(g=m?.webkitGetAsEntry)==null?void 0:g.call(m);v&&(h.isDirectory=v.isDirectory)}),n("file",f)},l=()=>{i.value||(o.value=!0)},u=c=>{c.currentTarget.contains(c.relatedTarget)||(o.value=!1)};return(c,f)=>(B(),K("div",{class:V([x(s).b("dragger"),x(s).is("dragover",o.value)]),onDrop:xt(a,["prevent"]),onDragover:xt(l,["prevent"]),onDragleave:xt(u,["prevent"])},[ce(c.$slots,"default")],34))}});var fAn=Ve(cAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const dAn=Me({...X8e,beforeUpload:{type:oe(Function),default:Rn},onRemove:{type:oe(Function),default:Rn},onStart:{type:oe(Function),default:Rn},onSuccess:{type:oe(Function),default:Rn},onProgress:{type:oe(Function),default:Rn},onError:{type:oe(Function),default:Rn},onExceed:{type:oe(Function),default:Rn}}),hAn=["tabindex","aria-disabled","onKeydown"],pAn=["name","disabled","multiple","accept"],gAn=me({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:dAn,setup(e,{expose:t}){const n=e,r=Ae("upload"),s=jr(),o=lr({}),i=lr(),a=g=>{if(g.length===0)return;const{autoUpload:m,limit:v,fileList:y,multiple:b,onStart:w,onExceed:C}=n;if(v&&y.length+g.length>v){C(g,y);return}b||(g=g.slice(0,1));for(const S of g){const $=S;$.uid=JH(),w($),m&&l($)}},l=async g=>{if(i.value.value="",!n.beforeUpload)return c(g);let m,v={};try{const b=n.data,w=n.beforeUpload(g);v=bk(n.data)?nM(n.data):n.data,m=await w,bk(n.data)&&Gr(b,v)&&(v=nM(n.data))}catch{m=!1}if(m===!1){n.onRemove(g);return}let y=g;m instanceof Blob&&(m instanceof File?y=m:y=new File([m],g.name,{type:g.type})),c(Object.assign(y,{uid:g.uid}),v)},u=async(g,m)=>ft(g)?g(m):g,c=async(g,m)=>{const{headers:v,data:y,method:b,withCredentials:w,name:C,action:S,onProgress:$,onSuccess:k,onError:T,httpRequest:_}=n;try{m=await u(m??y,g)}catch{n.onRemove(g);return}const{uid:E}=g,A={headers:v||{},withCredentials:w,file:g,data:m,method:b,filename:C,action:S,onProgress:F=>{$(F,g)},onSuccess:F=>{k(F,g),delete o.value[E]},onError:F=>{T(F,g),delete o.value[E]}},I=_(A);o.value[E]=I,I instanceof Promise&&I.then(A.onSuccess,A.onError)},f=g=>{const m=g.target.files;m&&a(Array.from(m))},d=()=>{s.value||(i.value.value="",i.value.click())},h=()=>{d()};return t({abort:g=>{fLe(o.value).filter(g?([v])=>String(g.uid)===v:()=>!0).forEach(([v,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[v]})},upload:l}),(g,m)=>(B(),K("div",{class:V([x(r).b(),x(r).m(g.listType),x(r).is("drag",g.drag),x(r).is("disabled",x(s))]),tabindex:x(s)?void 0:0,"aria-disabled":x(s),role:"button",onClick:d,onKeydown:qr(xt(h,["self"]),["enter","space"])},[g.drag?(B(),pe(fAn,{key:0,disabled:x(s),onFile:a},{default:ie(()=>[ce(g.$slots,"default")]),_:3},8,["disabled"])):ce(g.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:i,class:V(x(r).e("input")),name:g.name,disabled:x(s),multiple:g.multiple,accept:g.accept,type:"file",onChange:f,onClick:m[0]||(m[0]=xt(()=>{},["stop"]))},null,42,pAn)],42,hAn))}});var j0e=Ve(gAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const H0e="ElUpload",q0e=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},mAn=(e,t)=>{const n=rLe(e,"fileList",void 0,{passive:!0}),r=p=>n.value.find(g=>g.uid===p.uid);function s(p){var g;(g=t.value)==null||g.abort(p)}function o(p=["ready","uploading","success","fail"]){n.value=n.value.filter(g=>!p.includes(g.status))}function i(p){n.value=n.value.filter(g=>g.uid!==p.uid)}const a=p=>{Ye(()=>e.onChange(p,n.value))},l=(p,g)=>{const m=r(g);m&&(console.error(p),m.status="fail",i(m),e.onError(p,m,n.value),a(m))},u=(p,g)=>{const m=r(g);m&&(e.onProgress(p,m,n.value),m.status="uploading",m.percentage=Math.round(p.percent))},c=(p,g)=>{const m=r(g);m&&(m.status="success",m.response=p,e.onSuccess(p,m,n.value),a(m))},f=p=>{vs(p.uid)&&(p.uid=JH());const g={name:p.name,percentage:0,status:"ready",size:p.size,raw:p,uid:p.uid};if(e.listType==="picture-card"||e.listType==="picture")try{g.url=URL.createObjectURL(p)}catch(m){m.message,e.onError(m,g,n.value)}n.value=[...n.value,g],a(g)},d=async p=>{const g=p instanceof File?r(p):p;g||Ts(H0e,"file to be removed not found");const m=v=>{s(v),i(v),e.onRemove(v,n.value),q0e(v)};e.beforeRemove?await e.beforeRemove(g,n.value)!==!1&&m(g):m(g)};function h(){n.value.filter(({status:p})=>p==="ready").forEach(({raw:p})=>{var g;return p&&((g=t.value)==null?void 0:g.upload(p))})}return xe(()=>e.listType,p=>{p!=="picture-card"&&p!=="picture"||(n.value=n.value.map(g=>{const{raw:m,url:v}=g;if(!v&&m)try{g.url=URL.createObjectURL(m)}catch(y){e.onError(y,g,n.value)}return g}))}),xe(n,p=>{for(const g of p)g.uid||(g.uid=JH()),g.status||(g.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:o,handleError:l,handleProgress:u,handleStart:f,handleSuccess:c,handleRemove:d,submit:h,revokeFileObjectURL:q0e}},vAn=me({name:"ElUpload",__name:"upload",props:JTn,setup(e,{expose:t}){const n=e,r=jr(),s=lr(),{abort:o,submit:i,clearFiles:a,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=mAn(n,s),g=O(()=>n.listType==="picture-card"),m=O(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return Nn(()=>{l.value.forEach(p)}),ln(K8e,{accept:Bn(n,"accept")}),t({abort:o,submit:i,clearFiles:a,handleStart:u,handleRemove:f}),(v,y)=>(B(),K("div",null,[g.value&&v.showFileList?(B(),pe(W0e,{key:0,disabled:x(r),"list-type":v.listType,files:x(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:x(f)},vl({append:ie(()=>[ee(j0e,Wt({ref_key:"uploadRef",ref:s},m.value),{default:ie(()=>[v.$slots.trigger?ce(v.$slots,"trigger",{key:0}):fe("v-if",!0),!v.$slots.trigger&&v.$slots.default?ce(v.$slots,"default",{key:1}):fe("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:ie(({file:b,index:w})=>[ce(v.$slots,"file",{file:b,index:w})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):fe("v-if",!0),!g.value||g.value&&!v.showFileList?(B(),pe(j0e,Wt({key:1,ref_key:"uploadRef",ref:s},m.value),{default:ie(()=>[v.$slots.trigger?ce(v.$slots,"trigger",{key:0}):fe("v-if",!0),!v.$slots.trigger&&v.$slots.default?ce(v.$slots,"default",{key:1}):fe("v-if",!0)]),_:3},16)):fe("v-if",!0),v.$slots.trigger?ce(v.$slots,"default",{key:2}):fe("v-if",!0),ce(v.$slots,"tip"),!g.value&&v.showFileList?(B(),pe(W0e,{key:3,disabled:x(r),"list-type":v.listType,files:x(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:x(f)},vl({_:2},[v.$slots.file?{name:"default",fn:ie(({file:b,index:w})=>[ce(v.$slots,"file",{file:b,index:w})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):fe("v-if",!0)]))}});var yAn=Ve(vAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const bAn=Rt(yAn),wAn=Me({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:oe([String,Array]),default:"Element Plus"},font:{type:oe(Object)},gap:{type:oe(Array),default:()=>[100,100]},offset:{type:oe(Array)}});function xAn(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function CAn(e){return Object.keys(e).map(t=>`${xAn(t)}: ${e[t]};`).join(" ")}function SAn(){return window.devicePixelRatio||1}const $An=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},kAn={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function Z7(e,t,n=1){const r=document.createElement("canvas"),s=r.getContext("2d"),o=e*n,i=t*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${i}px`),s.save(),[s,r,o,i]}function EAn(){function e(t,n,r,s,o,i,a,l,u){const[c,f,d,h]=Z7(s,o,r);let p=0;if(t instanceof HTMLImageElement)c.drawImage(t,0,0,d,h);else{const{color:U,fontSize:Y,fontStyle:G,fontWeight:ne,fontFamily:ue,textAlign:ae,textBaseline:X}=i,J=Number(Y)*r;c.font=`${G} normal ${ne} ${J}px/${o}px ${ue}`,c.fillStyle=U,c.textAlign=ae,c.textBaseline=X;const q=Oe(t)?t:[t];if(X!=="top"&&q[0]){const P=c.measureText(q[0]);c.textBaseline="top";const Q=c.measureText(q[0]);p=P.actualBoundingBoxAscent-Q.actualBoundingBoxAscent}q?.forEach((P,Q)=>{const[se,de]=kAn[ae];c.fillText(P??"",d*se+u*de,Q*(J+i.fontGap*r))})}const g=Math.PI/180*Number(n),m=Math.max(s,o),[v,y,b]=Z7(m,m,r);v.translate(b/2,b/2),v.rotate(g),d>0&&h>0&&v.drawImage(f,-d/2,-h/2);function w(U,Y){const G=U*Math.cos(g)-Y*Math.sin(g),ne=U*Math.sin(g)+Y*Math.cos(g);return[G,ne]}let C=0,S=0,$=0,k=0;const T=d/2,_=h/2;[[0-T,0-_],[0+T,0-_],[0+T,0+_],[0-T,0+_]].forEach(([U,Y])=>{const[G,ne]=w(U,Y);C=Math.min(C,G),S=Math.max(S,G),$=Math.min($,ne),k=Math.max(k,ne)});const A=C+b/2,I=$+b/2,F=S-C,R=k-$,L=a*r,D=l*r,N=(F+L)*2,M=R+D,[z,W]=Z7(N,M);function j(U=0,Y=0){z.drawImage(y,A,I,F,R,U,Y+p,F,R)}return j(),j(F+L,-R/2-D/2),j(F+L,+R/2+D/2),[W.toDataURL(),N/r,M/r]}return e}const _An=me({name:"ElWatermark",__name:"watermark",props:wAn,setup(e){const t={position:"relative"},n=e,r=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontGap)!=null?A:3}),s=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.color)!=null?A:"rgba(0,0,0,.15)"}),o=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontSize)!=null?A:16}),i=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontWeight)!=null?A:"normal"}),a=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontStyle)!=null?A:"normal"}),l=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontFamily)!=null?A:"sans-serif"}),u=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.textAlign)!=null?A:"center"}),c=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.textBaseline)!=null?A:"hanging"}),f=O(()=>n.gap[0]),d=O(()=>n.gap[1]),h=O(()=>f.value/2),p=O(()=>d.value/2),g=O(()=>{var E,A;return(A=(E=n.offset)==null?void 0:E[0])!=null?A:h.value}),m=O(()=>{var E,A;return(A=(E=n.offset)==null?void 0:E[1])!=null?A:p.value}),v=()=>{const E={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let A=g.value-h.value,I=m.value-p.value;return A>0&&(E.left=`${A}px`,E.width=`calc(100% - ${A}px)`,A=0),I>0&&(E.top=`${I}px`,E.height=`calc(100% - ${I}px)`,I=0),E.backgroundPosition=`${A}px ${I}px`,E},y=lr(null),b=lr(),w=H(!1),C=()=>{b.value&&(b.value.remove(),b.value=void 0)},S=(E,A)=>{var I;y.value&&b.value&&(w.value=!0,b.value.setAttribute("style",CAn({...v(),backgroundImage:`url('${E}')`,backgroundSize:`${Math.floor(A)}px`})),(I=y.value)==null||I.append(b.value),setTimeout(()=>{w.value=!1}))},$=E=>{let A=120,I=64,F=0;const{image:R,content:L,width:D,height:N,rotate:M}=n;if(!R&&E.measureText){E.font=`${Number(o.value)}px ${l.value}`;const z=Oe(L)?L:[L];let W=0,j=0;z.forEach(Y=>{const{width:G,fontBoundingBoxAscent:ne,fontBoundingBoxDescent:ue,actualBoundingBoxAscent:ae,actualBoundingBoxDescent:X}=E.measureText(Y),J=yn(ne)?ae+X:ne+ue;G>W&&(W=Math.ceil(G)),J>j&&(j=Math.ceil(J))}),A=W,I=j*z.length+(z.length-1)*r.value;const U=Math.PI/180*Number(M);F=Math.ceil(Math.abs(Math.sin(U)*I)/2),A+=F}return[D??A,N??I,F]},k=EAn(),T=()=>{const A=document.createElement("canvas").getContext("2d"),I=n.image,F=n.content,R=n.rotate;if(A){b.value||(b.value=document.createElement("div"));const L=SAn(),[D,N,M]=$(A),z=W=>{const[j,U]=k(W||"",R,L,D,N,{color:s.value,fontSize:o.value,fontStyle:a.value,fontWeight:i.value,fontFamily:l.value,fontGap:r.value,textAlign:u.value,textBaseline:c.value},f.value,d.value,M);S(j,U)};if(I){const W=new Image;W.onload=()=>{z(W)},W.onerror=()=>{z(F)},W.crossOrigin="anonymous",W.referrerPolicy="no-referrer",W.src=I}else z(F)}};return jt(()=>{T()}),xe(()=>n,()=>{T()},{deep:!0,flush:"post"}),Nn(()=>{C()}),wI(y,E=>{w.value||E.forEach(A=>{$An(A,b.value)&&(C(),T())})},{attributes:!0,subtree:!0,childList:!0}),(E,A)=>(B(),K("div",{ref_key:"containerRef",ref:y,style:dt([t])},[ce(E.$slots,"default")],4))}});var TAn=Ve(_An,[["__file","/home/runner/work/element-plus/element-plus/packages/components/watermark/src/watermark.vue"]]);const AAn=Rt(TAn),IAn=Me({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:oe(Object)},targetAreaClickable:{type:Boolean,default:!0}}),qx=Math.min,c1=Math.max,SM=Math.round,UD=Math.floor,od=e=>({x:e,y:e}),NAn={left:"right",right:"left",bottom:"top",top:"bottom"},DAn={start:"end",end:"start"};function QH(e,t,n){return c1(e,qx(t,n))}function MI(e,t){return typeof e=="function"?e(t):e}function ey(e){return e.split("-")[0]}function PI(e){return e.split("-")[1]}function Z8e(e){return e==="x"?"y":"x"}function $re(e){return e==="y"?"height":"width"}const OAn=new Set(["top","bottom"]);function Gg(e){return OAn.has(ey(e))?"y":"x"}function kre(e){return Z8e(Gg(e))}function RAn(e,t,n){n===void 0&&(n=!1);const r=PI(e),s=kre(e),o=$re(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=$M(i)),[i,$M(i)]}function FAn(e){const t=$M(e);return[eq(e),t,eq(t)]}function eq(e){return e.replace(/start|end/g,t=>DAn[t])}const G0e=["left","right"],K0e=["right","left"],MAn=["top","bottom"],PAn=["bottom","top"];function LAn(e,t,n){switch(e){case"top":case"bottom":return n?t?K0e:G0e:t?G0e:K0e;case"left":case"right":return t?MAn:PAn;default:return[]}}function BAn(e,t,n,r){const s=PI(e);let o=LAn(ey(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(eq)))),o}function $M(e){return e.replace(/left|right|bottom|top/g,t=>NAn[t])}function zAn(e){return{top:0,right:0,bottom:0,left:0,...e}}function J8e(e){return typeof e!="number"?zAn(e):{top:e,right:e,bottom:e,left:e}}function kM(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Y0e(e,t,n){let{reference:r,floating:s}=e;const o=Gg(t),i=kre(t),a=$re(i),l=ey(t),u=o==="y",c=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(PI(t)){case"start":h[i]-=d*(n&&u?-1:1);break;case"end":h[i]+=d*(n&&u?-1:1);break}return h}const VAn=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:f}=Y0e(u,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:m,fn:v}=a[g],{x:y,y:b,data:w,reset:C}=await v({x:c,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});c=y??c,f=b??f,h={...h,[m]:{...h[m],...w}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:c,y:f}=Y0e(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:s,middlewareData:h}};async function Ere(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=MI(t,e),p=J8e(h),m=a[d?f==="floating"?"reference":"floating":f],v=kM(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},C=kM(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-C.top+p.top)/w.y,bottom:(C.bottom-v.bottom+p.bottom)/w.y,left:(v.left-C.left+p.left)/w.x,right:(C.right-v.right+p.right)/w.x}}const WAn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=MI(e,t)||{};if(u==null)return{};const f=J8e(c),d={x:n,y:r},h=kre(s),p=$re(h),g=await i.getDimensions(u),m=h==="y",v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],C=d[h]-o.reference[h],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let $=S?S[b]:0;(!$||!await(i.isElement==null?void 0:i.isElement(S)))&&($=a.floating[b]||o.floating[p]);const k=w/2-C/2,T=$/2-g[p]/2-1,_=qx(f[v],T),E=qx(f[y],T),A=_,I=$-g[p]-E,F=$/2-g[p]/2+k,R=QH(A,F,I),L=!l.arrow&&PI(s)!=null&&F!==R&&o.reference[p]/2-(F<A?_:E)-g[p]/2<0,D=L?F<A?F-A:F-I:0;return{[h]:d[h]+D,data:{[h]:R,centerOffset:F-R-D,...L&&{alignmentOffset:D}},reset:L}}}),UAn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=MI(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=ey(s),y=Gg(a),b=ey(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=d||(b||!g?[$M(a)]:FAn(a)),S=p!=="none";!d&&S&&C.push(...BAn(a,g,p,w));const $=[a,...C],k=await Ere(t,m),T=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(k[v]),f){const F=RAn(s,i,w);T.push(k[F[0]],k[F[1]])}if(_=[..._,{placement:s,overflows:T}],!T.every(F=>F<=0)){var E,A;const F=(((E=o.flip)==null?void 0:E.index)||0)+1,R=$[F];if(R&&(!(f==="alignment"?y!==Gg(R):!1)||_.every(N=>Gg(N.placement)===y?N.overflows[0]>0:!0)))return{data:{index:F,overflows:_},reset:{placement:R}};let L=(A=_.filter(D=>D.overflows[0]<=0).sort((D,N)=>D.overflows[1]-N.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(h){case"bestFit":{var I;const D=(I=_.filter(N=>{if(S){const M=Gg(N.placement);return M===y||M==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(M=>M>0).reduce((M,z)=>M+z,0)]).sort((N,M)=>N[1]-M[1])[0])==null?void 0:I[0];D&&(L=D);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}},jAn=new Set(["left","top"]);async function HAn(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=ey(n),a=PI(n),l=Gg(n)==="y",u=jAn.has(i)?-1:1,c=o&&l?-1:1,f=MI(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const qAn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await HAn(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},GAn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...l}=MI(e,t),u={x:n,y:r},c=await Ere(t,l),f=Gg(ey(s)),d=Z8e(f);let h=u[d],p=u[f];if(o){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+c[m],b=h-c[v];h=QH(y,h,b)}if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+c[m],b=p-c[v];p=QH(y,p,b)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:o,[f]:i}}}}}};function O8(){return typeof window<"u"}function ZC(e){return Q8e(e)?(e.nodeName||"").toLowerCase():"#document"}function eu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nh(e){var t;return(t=(Q8e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Q8e(e){return O8()?e instanceof Node||e instanceof eu(e).Node:!1}function Gc(e){return O8()?e instanceof Element||e instanceof eu(e).Element:!1}function Nd(e){return O8()?e instanceof HTMLElement||e instanceof eu(e).HTMLElement:!1}function X0e(e){return!O8()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof eu(e).ShadowRoot}const KAn=new Set(["inline","contents"]);function LI(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Kc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!KAn.has(s)}const YAn=new Set(["table","td","th"]);function XAn(e){return YAn.has(ZC(e))}const ZAn=[":popover-open",":modal"];function R8(e){return ZAn.some(t=>{try{return e.matches(t)}catch{return!1}})}const JAn=["transform","translate","scale","rotate","perspective"],QAn=["transform","translate","scale","rotate","perspective","filter"],eIn=["paint","layout","strict","content"];function _re(e){const t=Tre(),n=Gc(e)?Kc(e):e;return JAn.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||QAn.some(r=>(n.willChange||"").includes(r))||eIn.some(r=>(n.contain||"").includes(r))}function tIn(e){let t=Qm(e);for(;Nd(t)&&!Gx(t);){if(_re(t))return t;if(R8(t))return null;t=Qm(t)}return null}function Tre(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nIn=new Set(["html","body","#document"]);function Gx(e){return nIn.has(ZC(e))}function Kc(e){return eu(e).getComputedStyle(e)}function F8(e){return Gc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qm(e){if(ZC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||X0e(e)&&e.host||nh(e);return X0e(t)?t.host:t}function e5e(e){const t=Qm(e);return Gx(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nd(t)&&LI(t)?t:e5e(t)}function $_(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=e5e(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=eu(s);if(o){const a=tq(i);return t.concat(i,i.visualViewport||[],LI(s)?s:[],a&&n?$_(a):[])}return t.concat(s,$_(s,[],n))}function tq(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function t5e(e){const t=Kc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Nd(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=SM(n)!==o||SM(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Are(e){return Gc(e)?e:e.contextElement}function kw(e){const t=Are(e);if(!Nd(t))return od(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=t5e(t);let i=(o?SM(n.width):n.width)/r,a=(o?SM(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const rIn=od(0);function n5e(e){const t=eu(e);return!Tre()||!t.visualViewport?rIn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sIn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==eu(e)?!1:t}function ty(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Are(e);let i=od(1);t&&(r?Gc(r)&&(i=kw(r)):i=kw(e));const a=sIn(o,n,r)?n5e(o):od(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,c=s.width/i.x,f=s.height/i.y;if(o){const d=eu(o),h=r&&Gc(r)?eu(r):r;let p=d,g=tq(p);for(;g&&r&&h!==p;){const m=kw(g),v=g.getBoundingClientRect(),y=Kc(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=b,u+=w,p=eu(g),g=tq(p)}}return kM({width:c,height:f,x:l,y:u})}function M8(e,t){const n=F8(e).scrollLeft;return t?t.left+n:ty(nh(e)).left+n}function r5e(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-M8(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function oIn(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=nh(r),a=t?R8(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=od(1);const c=od(0),f=Nd(r);if((f||!f&&!o)&&((ZC(r)!=="body"||LI(i))&&(l=F8(r)),Nd(r))){const h=ty(r);u=kw(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=i&&!f&&!o?r5e(i,l):od(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function iIn(e){return Array.from(e.getClientRects())}function aIn(e){const t=nh(e),n=F8(e),r=e.ownerDocument.body,s=c1(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=c1(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+M8(e);const a=-n.scrollTop;return Kc(r).direction==="rtl"&&(i+=c1(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Z0e=25;function lIn(e,t){const n=eu(e),r=nh(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=Tre();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=M8(r);if(u<=0){const c=r.ownerDocument,f=c.body,d=getComputedStyle(f),h=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-h);p<=Z0e&&(o-=p)}else u<=Z0e&&(o+=u);return{width:o,height:i,x:a,y:l}}const uIn=new Set(["absolute","fixed"]);function cIn(e,t){const n=ty(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Nd(e)?kw(e):od(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function J0e(e,t,n){let r;if(t==="viewport")r=lIn(e,n);else if(t==="document")r=aIn(nh(e));else if(Gc(t))r=cIn(t,n);else{const s=n5e(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return kM(r)}function s5e(e,t){const n=Qm(e);return n===t||!Gc(n)||Gx(n)?!1:Kc(n).position==="fixed"||s5e(n,t)}function fIn(e,t){const n=t.get(e);if(n)return n;let r=$_(e,[],!1).filter(a=>Gc(a)&&ZC(a)!=="body"),s=null;const o=Kc(e).position==="fixed";let i=o?Qm(e):e;for(;Gc(i)&&!Gx(i);){const a=Kc(i),l=_re(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&uIn.has(s.position)||LI(i)&&!l&&s5e(e,i))?r=r.filter(c=>c!==i):s=a,i=Qm(i)}return t.set(e,r),r}function dIn(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?R8(t)?[]:fIn(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,c)=>{const f=J0e(t,c,s);return u.top=c1(f.top,u.top),u.right=qx(f.right,u.right),u.bottom=qx(f.bottom,u.bottom),u.left=c1(f.left,u.left),u},J0e(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hIn(e){const{width:t,height:n}=t5e(e);return{width:t,height:n}}function pIn(e,t,n){const r=Nd(t),s=nh(t),o=n==="fixed",i=ty(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=od(0);function u(){l.x=M8(s)}if(r||!r&&!o)if((ZC(t)!=="body"||LI(s))&&(a=F8(t)),r){const h=ty(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&u();o&&!r&&s&&u();const c=s&&!r&&!o?r5e(s,a):od(0),f=i.left+a.scrollLeft-l.x-c.x,d=i.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:i.width,height:i.height}}function J7(e){return Kc(e).position==="static"}function Q0e(e,t){if(!Nd(e)||Kc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nh(e)===n&&(n=n.ownerDocument.body),n}function o5e(e,t){const n=eu(e);if(R8(e))return n;if(!Nd(e)){let s=Qm(e);for(;s&&!Gx(s);){if(Gc(s)&&!J7(s))return s;s=Qm(s)}return n}let r=Q0e(e,t);for(;r&&XAn(r)&&J7(r);)r=Q0e(r,t);return r&&Gx(r)&&J7(r)&&!_re(r)?n:r||tIn(e)||n}const gIn=async function(e){const t=this.getOffsetParent||o5e,n=this.getDimensions,r=await n(e.floating);return{reference:pIn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mIn(e){return Kc(e).direction==="rtl"}const vIn={convertOffsetParentRelativeRectToViewportRelativeRect:oIn,getDocumentElement:nh,getClippingRect:dIn,getOffsetParent:o5e,getElementRects:gIn,getClientRects:iIn,getDimensions:hIn,getScale:kw,isElement:Gc,isRTL:mIn};function i5e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yIn(e,t){let n=null,r;const s=nh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:h}=u;if(a||t(),!d||!h)return;const p=UD(f),g=UD(s.clientWidth-(c+d)),m=UD(s.clientHeight-(f+h)),v=UD(c),b={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:c1(0,qx(1,l))||1};let w=!0;function C(S){const $=S[0].intersectionRatio;if($!==l){if(!w)return i();$?i(!1,$):r=setTimeout(()=>{i(!1,1e-7)},1e3)}$===1&&!i5e(u,e.getBoundingClientRect())&&i(),w=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return i(!0),o}function bIn(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Are(e),c=s||o?[...u?$_(u):[],...$_(t)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&a?yIn(u,n):null;let d=-1,h=null;i&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,g=l?ty(e):null;l&&m();function m(){const v=ty(e);g&&!i5e(g,v)&&n(),g=v,p=requestAnimationFrame(m)}return n(),()=>{var v;c.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const wIn=Ere,xIn=qAn,CIn=GAn,SIn=UAn,$In=WAn,kIn=(e,t,n)=>{const r=new Map,s={platform:vIn,...n},o={...s.platform,_c:r};return VAn(e,t,{...s,platform:o})},EIn=(e,t,n,r,s)=>{const o=H(null),i=()=>{let f;return it(e.value)?f=document.querySelector(e.value):ft(e.value)?f=e.value():f=e.value,f},a=()=>{const f=i();if(!f||!t.value){o.value=null;return}_In(f)||f.scrollIntoView(s.value);const{left:d,top:h,width:p,height:g}=f.getBoundingClientRect();o.value={left:d,top:h,width:p,height:g,radius:0}};jt(()=>{xe([t,e],()=>{a()},{immediate:!0}),window.addEventListener("resize",a)}),Nn(()=>{window.removeEventListener("resize",a)});const l=f=>{var d;return(d=Oe(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=O(()=>{var f;if(!o.value)return o.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:o.value.left-d,top:o.value.top-h,width:o.value.width+d*2,height:o.value.height+h*2,radius:p}}),c=O(()=>{const f=i();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,g;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((g=u.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},P8=Symbol("ElTour");function _In(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:s,bottom:o,left:i}=e.getBoundingClientRect();return r>=0&&i>=0&&s<=t&&o<=n}const TIn=(e,t,n,r,s,o,i,a)=>{const l=H(),u=H(),c=H({}),f={x:l,y:u,placement:r,strategy:s,middlewareData:c},d=O(()=>{const v=[xIn(x(o)),SIn(),CIn(),AIn()];return x(a)&&x(n)&&v.push($In({element:x(n)})),v}),h=async()=>{if(!Tn)return;const v=x(e),y=x(t);if(!v||!y)return;const b=await kIn(v,y,{placement:x(r),strategy:x(s),middleware:x(d)});l_(f).forEach(w=>{f[w].value=b[w]})},p=O(()=>{if(!x(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:x(i)};const{overflow:v}=x(c);return{position:x(s),zIndex:x(i),top:x(u)!=null?`${x(u)}px`:"",left:x(l)!=null?`${x(l)}px`:"",maxWidth:v?.maxWidth?`${v?.maxWidth}px`:""}}),g=O(()=>{if(!x(a))return{};const{arrow:v}=x(c);return{left:v?.x!=null?`${v?.x}px`:"",top:v?.y!=null?`${v?.y}px`:""}});let m;return jt(()=>{const v=x(e),y=x(t);v&&y&&(m=bIn(v,y,h)),ml(()=>{h()})}),Nn(()=>{m&&m()}),{update:h,contentStyle:p,arrowStyle:g}},AIn=()=>({name:"overflow",async fn(e){const t=await wIn(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),IIn={style:{width:"100%",height:"100%"}},NIn=["d"],DIn=me({name:"ElTourMask",inheritAttrs:!1,__name:"mask",props:IAn,setup(e){const t=e,{ns:n}=tt(P8),r=O(()=>{var c,f;return(f=(c=t.pos)==null?void 0:c.radius)!=null?f:2}),s=O(()=>{const c=r.value,f=`a${c},${c} 0 0 1`;return{topRight:`${f} ${c},${c}`,bottomRight:`${f} ${-c},${c}`,bottomLeft:`${f} ${-c},${-c}`,topLeft:`${f} ${c},${-c}`}}),{width:o,height:i}=une(),a=O(()=>{const c=o.value,f=i.value,d=s.value,h=`M${c},0 L0,0 L0,${f} L${c},${f} L${c},0 Z`,p=r.value;return t.pos?`${h} M${t.pos.left+p},${t.pos.top} h${t.pos.width-p*2} ${d.topRight} v${t.pos.height-p*2} ${d.bottomRight} h${-t.pos.width+p*2} ${d.bottomLeft} v${-t.pos.height+p*2} ${d.topLeft} z`:h}),l=O(()=>({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?"none":"auto"})),u=O(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return T8(Bn(t,"visible"),{ns:n}),(c,f)=>c.visible?(B(),K("div",Wt({key:0,class:x(n).e("mask"),style:l.value},c.$attrs),[(B(),K("svg",IIn,[Z("path",{class:V(x(n).e("hollow")),style:dt(u.value),d:a.value},null,14,NIn)]))],16)):fe("v-if",!0)}});var OIn=Ve(DIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/mask.vue"]]);const RIn=["absolute","fixed"],FIn=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Ire=Me({placement:{type:oe(String),values:FIn,default:"bottom"},reference:{type:oe(Object),default:null},strategy:{type:oe(String),values:RIn,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),MIn={close:()=>!0},PIn=["data-side"],LIn=me({name:"ElTourContent",__name:"content",props:Ire,emits:MIn,setup(e,{emit:t}){const n=e,r=t,s=H(n.placement),o=H(n.strategy),i=H(null),a=H(null);xe(()=>n.placement,()=>{s.value=n.placement});const{contentStyle:l,arrowStyle:u}=TIn(Bn(n,"reference"),i,a,s,o,Bn(n,"offset"),Bn(n,"zIndex"),Bn(n,"showArrow")),c=O(()=>s.value.split("-")[0]),{ns:f}=tt(P8),d=()=>{r("close")},h=p=>{p.detail.focusReason==="pointer"&&p.preventDefault()};return(p,g)=>(B(),K("div",{ref_key:"contentRef",ref:i,style:dt(x(l)),class:V(x(f).e("content")),"data-side":c.value,tabindex:"-1"},[ee(x(YC),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:d,onFocusoutPrevented:h},{default:ie(()=>[ce(p.$slots,"default")]),_:3},8,["focus-trap-el"]),p.showArrow?(B(),K("span",{key:0,ref_key:"arrowRef",ref:a,style:dt(x(u)),class:V(x(f).e("arrow"))},null,6)):fe("v-if",!0)],14,PIn))}});var BIn=Ve(LIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/content.vue"]]),zIn=me({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var s,o;const i=(s=t.default)==null?void 0:s.call(t),a=[];let l=0;function u(c){Oe(c)&&c.forEach(f=>{var d;((d=f?.type||{})==null?void 0:d.name)==="ElTourStep"&&(a.push(f),l+=1)})}return i.length&&u(Sc((o=i[0])==null?void 0:o.children)),r!==l&&(r=l,n("update-total",l)),a.length?a[e.current]:null}}});const VIn=Me({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:zn},placement:Ire.placement,contentStyle:{type:oe([Object])},mask:{type:oe([Boolean,Object]),default:!0},gap:{type:oe(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:oe([Boolean,Object]),default:()=>({block:"center"})},type:{type:oe(String)},appendTo:{type:SI.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),WIn={[Et]:e=>Ln(e),"update:current":e=>pt(e),close:e=>pt(e),finish:()=>!0,change:e=>pt(e)},UIn=me({name:"ElTour",__name:"tour",props:VIn,emits:WIn,setup(e,{emit:t}){const n=e,r=t,s=Ae("tour"),o=H(0),i=H(),a=rLe(n,"current",r,{passive:!0}),l=O(()=>{var _;return(_=i.value)==null?void 0:_.target}),u=O(()=>[s.b(),v.value==="primary"?s.m("primary"):""]),c=O(()=>{var _;return((_=i.value)==null?void 0:_.placement)||n.placement}),f=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.contentStyle)!=null?E:n.contentStyle}),d=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.mask)!=null?E:n.mask}),h=O(()=>!!d.value&&n.modelValue),p=O(()=>Ln(d.value)?void 0:d.value),g=O(()=>{var _,E;return!!l.value&&((E=(_=i.value)==null?void 0:_.showArrow)!=null?E:n.showArrow)}),m=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.scrollIntoViewOptions)!=null?E:n.scrollIntoViewOptions}),v=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.type)!=null?E:n.type}),{nextZIndex:y}=xI(),b=y(),w=O(()=>{var _;return(_=n.zIndex)!=null?_:b}),{mergedPosInfo:C,triggerTarget:S}=EIn(l,Bn(n,"modelValue"),Bn(n,"gap"),d,m);xe(()=>n.modelValue,_=>{_||(a.value=0)});const $=()=>{n.closeOnPressEscape&&(r(Et,!1),r("close",a.value))},k=_=>{o.value=_},T=Ms();return ln(P8,{currentStep:i,current:a,total:o,showClose:Bn(n,"showClose"),closeIcon:Bn(n,"closeIcon"),mergedType:v,ns:s,slots:T,updateModelValue(_){r(Et,_)},onClose(){r("close",a.value)},onFinish(){r("finish")},onChange(){r(tn,a.value)}}),(_,E)=>(B(),K(rt,null,[ee(x(KC),{to:_.appendTo},{default:ie(()=>{var A,I;return[Z("div",Wt({class:u.value},_.$attrs),[ee(OIn,{visible:h.value,fill:(A=p.value)==null?void 0:A.color,style:dt((I=p.value)==null?void 0:I.style),pos:x(C),"z-index":w.value,"target-area-clickable":_.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),_.modelValue?(B(),pe(BIn,{key:x(a),reference:x(S),placement:c.value,"show-arrow":g.value,"z-index":w.value,style:dt(f.value),onClose:$},{default:ie(()=>[ee(x(zIn),{current:x(a),onUpdateTotal:k},{default:ie(()=>[ce(_.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):fe("v-if",!0)],16)]}),_:3},8,["to"]),fe(" just for IDE "),fe("v-if",!0)],64))}});var jIn=Ve(UIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/tour.vue"]]);const HIn=Me({target:{type:oe([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:zn},showArrow:{type:Boolean,default:void 0},placement:Ire.placement,mask:{type:oe([Boolean,Object]),default:void 0},contentStyle:{type:oe([Object])},prevButtonProps:{type:oe(Object)},nextButtonProps:{type:oe(Object)},scrollIntoViewOptions:{type:oe([Boolean,Object]),default:void 0},type:{type:oe(String)}}),qIn={close:()=>!0},GIn=["aria-label"],KIn=me({name:"ElTourStep",__name:"step",props:HIn,emits:qIn,setup(e,{emit:t}){const n=e,r=t,{Close:s}=CLe,{t:o}=un(),{currentStep:i,current:a,total:l,showClose:u,closeIcon:c,mergedType:f,ns:d,slots:h,updateModelValue:p,onClose:g,onFinish:m,onChange:v}=tt(P8);xe(n,_=>{i.value=_},{immediate:!0});const y=O(()=>{var _;return(_=n.showClose)!=null?_:u.value}),b=O(()=>{var _,E;return(E=(_=n.closeIcon)!=null?_:c.value)!=null?E:s}),w=_=>{if(_)return vI(_,["children","onClick"])},C=()=>{var _,E;a.value-=1,(_=n.prevButtonProps)!=null&&_.onClick&&((E=n.prevButtonProps)==null||E.onClick()),v()},S=()=>{var _;a.value>=l.value-1?$():a.value+=1,(_=n.nextButtonProps)!=null&&_.onClick&&n.nextButtonProps.onClick(),v()},$=()=>{k(),m()},k=()=>{p(!1),g(),r("close")},T=_=>{const E=_.target;if(E?.isContentEditable)return;switch(Hn(_)){case Re.left:_.preventDefault(),a.value>0&&C();break;case Re.right:_.preventDefault(),S();break}};return jt(()=>{window.addEventListener("keydown",T)}),Nn(()=>{window.removeEventListener("keydown",T)}),(_,E)=>(B(),K(rt,null,[y.value?(B(),K("button",{key:0,"aria-label":x(o)("el.tour.close"),class:V(x(d).e("closebtn")),type:"button",onClick:k},[ee(x(ot),{class:V(x(d).e("close"))},{default:ie(()=>[(B(),pe(zt(b.value)))]),_:1},8,["class"])],10,GIn)):fe("v-if",!0),Z("header",{class:V([x(d).e("header"),{"show-close":x(u)}])},[ce(_.$slots,"header",{},()=>[Z("span",{role:"heading",class:V(x(d).e("title"))},De(_.title),3)])],2),Z("div",{class:V(x(d).e("body"))},[ce(_.$slots,"default",{},()=>[Z("span",null,De(_.description),1)])],2),Z("footer",{class:V(x(d).e("footer"))},[Z("div",{class:V(x(d).b("indicators"))},[x(h).indicators?(B(),pe(zt(x(h).indicators),{key:0,current:x(a),total:x(l)},null,8,["current","total"])):(B(!0),K(rt,{key:1},Ht(x(l),(A,I)=>(B(),K("span",{key:A,class:V([x(d).b("indicator"),x(d).is("active",I===x(a))])},null,2))),128))],2),Z("div",{class:V(x(d).b("buttons"))},[x(a)>0?(B(),pe(x($o),Wt({key:0,size:"small",type:x(f)},w(_.prevButtonProps),{onClick:C}),{default:ie(()=>{var A,I;return[Jt(De((I=(A=_.prevButtonProps)==null?void 0:A.children)!=null?I:x(o)("el.tour.previous")),1)]}),_:1},16,["type"])):fe("v-if",!0),x(a)<=x(l)-1?(B(),pe(x($o),Wt({key:1,size:"small",type:x(f)==="primary"?"default":"primary"},w(_.nextButtonProps),{onClick:S}),{default:ie(()=>{var A,I;return[Jt(De((I=(A=_.nextButtonProps)==null?void 0:A.children)!=null?I:x(a)===x(l)-1?x(o)("el.tour.finish"):x(o)("el.tour.next")),1)]}),_:1},16,["type"])):fe("v-if",!0)],2)],2)],64))}});var a5e=Ve(KIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/step.vue"]]);const YIn=Rt(jIn,{TourStep:a5e}),XIn=Ur(a5e),ZIn=Me({container:{type:oe([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:oe(String),default:"default"},direction:{type:oe(String),default:"vertical"},selectScrollTop:Boolean}),JIn={change:e=>it(e),click:(e,t)=>e instanceof MouseEvent&&(it(t)||yn(t))},l5e=Symbol("anchor"),jD=e=>{if(!Tn||e==="")return null;if(it(e))try{return document.querySelector(e)}catch{return null}return e};function QIn(e){let t=0;const n=(...r)=>{t&&yp(t),t=_d(()=>{e(...r),t=0})};return n.cancel=()=>{yp(t),t=0},n}const eNn=me({name:"ElAnchor",__name:"anchor",props:ZIn,emits:JIn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=H(""),a=H({}),l=H(null),u=H(null),c=H(),f={};let d=!1,h=0;const p=Ae("anchor"),g=O(()=>[p.b(),r.type==="underline"?p.m("underline"):"",p.m(r.direction)]),m=A=>{f[A.href]=A.el},v=A=>{delete f[A]},y=A=>{i.value!==A&&(i.value=A,s(tn,A))};let b=null,w="";const C=A=>{if(!c.value)return;const I=jD(A);if(!I)return;if(b){if(w===A)return;b()}w=A,d=!0;const F=zge(I,c.value),R=vH(I,F),L=F.scrollHeight-F.clientHeight,D=Math.min(R-r.offset,L);b=ncn(c.value,h,D,r.duration,()=>{setTimeout(()=>{d=!1,w=""},20)})},S=A=>{A&&(y(A),C(A))},$=(A,I)=>{s("click",A,I),S(I)},k=QIn(()=>{c.value&&(h=Vge(c.value));const A=T();d||yn(A)||y(A)}),T=()=>{if(!c.value)return;const A=Vge(c.value),I=[];for(const F of Object.keys(f)){const R=jD(F);if(!R)continue;const L=zge(R,c.value),D=vH(R,L);I.push({top:D-r.offset-r.bound,href:F})}I.sort((F,R)=>F.top-R.top);for(let F=0;F<I.length;F++){const R=I[F],L=I[F+1];if(F===0&&A===0)return r.selectScrollTop?R.href:"";if(R.top<=A&&(!L||L.top>A))return R.href}},_=()=>{const A=jD(r.container);!A||yI(A)?c.value=window:c.value=A};Fn(c,"scroll",k);const E=()=>{Ye(()=>{if(!l.value||!u.value||!i.value){a.value={};return}const A=f[i.value];if(!A){a.value={};return}const I=l.value.getBoundingClientRect(),F=u.value.getBoundingClientRect(),R=A.getBoundingClientRect();if(r.direction==="horizontal"){const L=R.left-I.left;a.value={left:`${L}px`,width:`${R.width}px`,opacity:1}}else{const L=R.top-I.top+(R.height-F.height)/2;a.value={top:`${L}px`,opacity:1}}})};return xe(i,E),xe(()=>{var A;return(A=o.default)==null?void 0:A.call(o)},E),jt(()=>{_();const A=decodeURIComponent(window.location.hash);jD(A)?S(A):k()}),xe(()=>r.container,()=>{_()}),ln(l5e,{ns:p,direction:r.direction,currentAnchor:i,addLink:m,removeLink:v,handleClick:$}),t({scrollTo:S}),(A,I)=>(B(),K("div",{ref_key:"anchorRef",ref:l,class:V(g.value)},[A.marker?(B(),K("div",{key:0,ref_key:"markerRef",ref:u,class:V(x(p).e("marker")),style:dt(a.value)},null,6)):fe("v-if",!0),Z("div",{class:V(x(p).e("list"))},[ce(A.$slots,"default")],2)],2))}});var tNn=Ve(eNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor.vue"]]);const nNn=Me({title:String,href:String}),rNn=["href"],sNn=me({name:"ElAnchorLink",__name:"anchor-link",props:nNn,setup(e){const t=e,n=H(null),{ns:r,direction:s,currentAnchor:o,addLink:i,removeLink:a,handleClick:l}=tt(l5e),u=O(()=>[r.e("link"),r.is("active",o.value===t.href)]),c=f=>{l(f,t.href)};return xe(()=>t.href,(f,d)=>{Ye(()=>{d&&a(d),f&&i({href:f,el:n.value})})}),jt(()=>{const{href:f}=t;f&&i({href:f,el:n.value})}),Nn(()=>{const{href:f}=t;f&&a(f)}),(f,d)=>(B(),K("div",{class:V(x(r).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:V(u.value),href:f.href,onClick:c},[ce(f.$slots,"default",{},()=>[Jt(De(f.title),1)])],10,rNn),f.$slots["sub-link"]&&x(s)==="vertical"?(B(),K("div",{key:0,class:V(x(r).e("list"))},[ce(f.$slots,"sub-link")],2)):fe("v-if",!0)],2))}});var u5e=Ve(sNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor-link.vue"]]);const oNn=Rt(tNn,{AnchorLink:u5e}),iNn=Ur(u5e),c5e={label:"label",value:"value",disabled:"disabled"},aNn=Me({direction:{type:oe(String),default:"horizontal"},options:{type:oe(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:oe(Object),default:()=>c5e},block:Boolean,size:js,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...fa(["ariaLabel"])}),lNn={[Et]:e=>it(e)||pt(e)||Ln(e),[tn]:e=>it(e)||pt(e)||Ln(e)},uNn=["id","aria-label","aria-labelledby"],cNn=["name","disabled","checked","onChange"],fNn=me({name:"ElSegmented",__name:"segmented",props:aNn,emits:lNn,setup(e,{emit:t}){const n=e,r=t,s=Ae("segmented"),o=Yo(),i=Fs(),a=jr(),{formItem:l}=Ro(),{inputId:u,isLabeledByFormItem:c}=lu(n,{formItemContext:l}),f=H(null),d=Dun(),h=In({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),p=(A,I)=>{const F=v(I);r(Et,F),r(tn,F),A.target.checked=F===n.modelValue},g=O(()=>({...c5e,...n.props})),m=A=>A,v=A=>Pt(A)?A[g.value.value]:A,y=A=>Pt(A)?A[g.value.label]:A,b=A=>!!(a.value||Pt(A)&&A[g.value.disabled]),w=A=>n.modelValue===v(A),C=A=>n.options.find(I=>v(I)===A),S=A=>[s.e("item"),s.is("selected",w(A)),s.is("disabled",b(A))],$=()=>{if(!f.value)return;const A=f.value.querySelector(".is-selected"),I=f.value.querySelector(".is-selected input");if(!A||!I){h.width=0,h.height=0,h.translateX=0,h.translateY=0,h.focusVisible=!1;return}h.isInit=!0,n.direction==="vertical"?(h.height=A.offsetHeight,h.translateY=A.offsetTop):(h.width=A.offsetWidth,h.translateX=A.offsetLeft);try{h.focusVisible=I.matches(":focus-visible")}catch{}},k=O(()=>[s.b(),s.m(i.value),s.is("block",n.block)]),T=O(()=>({width:n.direction==="vertical"?"100%":`${h.width}px`,height:n.direction==="vertical"?`${h.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${h.translateY}px)`:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"})),_=O(()=>[s.e("item-selected"),s.is("disabled",b(C(n.modelValue))),s.is("focus-visible",h.focusVisible)]),E=O(()=>n.name||o.value);return Cr(f,$),xe(d,$),xe(()=>n.modelValue,()=>{var A;$(),n.validateEvent&&((A=l?.validate)==null||A.call(l,"change").catch(I=>void 0))},{flush:"post"}),(A,I)=>A.options.length?(B(),K("div",{key:0,id:x(u),ref_key:"segmentedRef",ref:f,class:V(k.value),role:"radiogroup","aria-label":x(c)?void 0:A.ariaLabel||"segmented","aria-labelledby":x(c)?x(l).labelId:void 0},[Z("div",{class:V([x(s).e("group"),x(s).m(A.direction)])},[Z("div",{style:dt(T.value),class:V(_.value)},null,6),(B(!0),K(rt,null,Ht(A.options,(F,R)=>(B(),K("label",{key:R,class:V(S(F))},[Z("input",{class:V(x(s).e("item-input")),type:"radio",name:E.value,disabled:b(F),checked:w(F),onChange:L=>p(L,F)},null,42,cNn),Z("div",{class:V(x(s).e("item-label"))},[ce(A.$slots,"default",{item:m(F)},()=>[Jt(De(y(F)),1)])],2)],2))),128))],2)],10,uNn)):fe("v-if",!0)}});var dNn=Ve(fNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/segmented/src/segmented.vue"]]);const hNn=Rt(dNn),pNn=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value||"").toLowerCase().includes(n)},gNn=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const s=e.value,o=vo(t);let i=-1,a;for(let l=r-1;l>=0;--l){const u=s[l];if(u===n||u===`
`||u==="\r"){i=l;continue}if(o.includes(u)){const c=i===-1?r:i;a={pattern:s.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:i,selectionEnd:r};break}}return a},mNn=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d?.parentNode&&d.parentNode.removeChild(d)}const i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);const a=i.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";a.whiteSpace=u?"nowrap":"pre-wrap",u||(a.wordWrap="break-word"),a.position="absolute",t.debug||(a.visibility="hidden"),o.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),g=p+Number.parseInt(l.lineHeight);h>g?a.lineHeight=`${h-p}px`:h===g?a.lineHeight=l.lineHeight:a.lineHeight="0"}else a.lineHeight=l.height;else a[d]=l[d]}),vne()?e.scrollHeight>Number.parseInt(l.height)&&(a.overflowY="scroll"):a.overflow="hidden",i.textContent=e.value.slice(0,Math.max(0,s)),u&&i.textContent&&(i.textContent=i.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,s))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,i.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(i),f.left>=e.clientWidth&&(f.left=e.clientWidth),f},vNn=Me({...kI,options:{type:oe(Array),default:()=>[]},prefix:{type:oe([String,Array]),default:"@",validator:e=>it(e)?e.length===1:e.every(t=>it(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:oe([Boolean,Function]),default:()=>pNn,validator:e=>e===!1?!0:ft(e)},placement:{type:oe(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:oe(Function)},modelValue:String,loading:Boolean,popperClass:Un.popperClass,popperStyle:Un.popperStyle,popperOptions:{type:oe(Object),default:()=>({})},props:{type:oe(Object),default:()=>f5e}}),yNn={[Et]:e=>it(e),"whole-remove":(e,t)=>it(e)&&it(t),input:e=>it(e),search:(e,t)=>it(e)&&it(t),select:(e,t)=>Pt(e)&&it(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},f5e={value:"value",label:"label",disabled:"disabled"},bNn=Me({options:{type:oe(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),wNn={select:e=>it(e.value)},xNn=["id","aria-disabled","aria-selected","onMousemove","onClick"],CNn=me({name:"ElMentionDropdown",__name:"mention-dropdown",props:bNn,emits:wNn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("mention"),{t:i}=un(),a=H(-1),l=H(),u=H(),c=H(),f=(w,C)=>[o.be("dropdown","item"),o.is("hovering",a.value===C),o.is("disabled",w.disabled||r.disabled)],d=w=>{w.disabled||r.disabled||s("select",w)},h=w=>{a.value=w},p=O(()=>r.disabled||r.options.every(w=>w.disabled)),g=O(()=>r.options[a.value]),m=()=>{g.value&&s("select",g.value)},v=w=>{const{options:C}=r;if(C.length===0||p.value)return;w==="next"?(a.value++,a.value===C.length&&(a.value=0)):w==="prev"&&(a.value--,a.value<0&&(a.value=C.length-1));const S=C[a.value];if(S.disabled){v(w);return}Ye(()=>y(S))},y=w=>{var C,S,$,k;const{options:T}=r,_=T.findIndex(A=>A.value===w.value),E=(C=u.value)==null?void 0:C[_];if(E){const A=($=(S=c.value)==null?void 0:S.querySelector)==null?void 0:$.call(S,`.${o.be("dropdown","wrap")}`);A&&dne(A,E)}(k=l.value)==null||k.handleScroll()};return xe(()=>r.options,()=>{p.value||r.options.length===0?a.value=-1:a.value=0},{immediate:!0}),t({hoveringIndex:a,navigateOptions:v,selectHoverOption:m,hoverOption:g}),(w,C)=>(B(),K("div",{ref_key:"dropdownRef",ref:c,class:V(x(o).b("dropdown"))},[w.$slots.header?(B(),K("div",{key:0,class:V(x(o).be("dropdown","header"))},[ce(w.$slots,"header")],2)):fe("v-if",!0),Lt(ee(x(jc),{id:w.contentId,ref_key:"scrollbarRef",ref:l,tag:"ul","wrap-class":x(o).be("dropdown","wrap"),"view-class":x(o).be("dropdown","list"),role:"listbox","aria-label":w.ariaLabel,"aria-orientation":"vertical"},{default:ie(()=>[(B(!0),K(rt,null,Ht(w.options,(S,$)=>(B(),K("li",{id:`${w.contentId}-${$}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:$,class:V(f(S,$)),role:"option","aria-disabled":S.disabled||w.disabled||void 0,"aria-selected":a.value===$,onMousemove:k=>h($),onClick:xt(k=>d(S),["stop"])},[ce(w.$slots,"label",{item:S,index:$},()=>{var k;return[Z("span",null,De((k=S.label)!=null?k:S.value),1)]})],42,xNn))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[$n,w.options.length>0&&!w.loading]]),w.loading?(B(),K("div",{key:1,class:V(x(o).be("dropdown","loading"))},[ce(w.$slots,"loading",{},()=>[Jt(De(x(i)("el.mention.loading")),1)])],2)):fe("v-if",!0),w.$slots.footer?(B(),K("div",{key:2,class:V(x(o).be("dropdown","footer"))},[ce(w.$slots,"footer")],2)):fe("v-if",!0)],2))}});var SNn=Ve(CNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention-dropdown.vue"]]);const $Nn=me({name:"ElMention",inheritAttrs:!1,__name:"mention",props:vNn,emits:yNn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>vp(r,Object.keys(kI))),i=Ae("mention"),a=jr(),l=Yo(),u=H(),c=H(),f=H(),d=H(!1),h=H(),p=H(),g=O(()=>r.showArrow?r.placement:`${r.placement}-start`),m=O(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),v=O(()=>({...f5e,...r.props})),y=D=>{const N={label:D[v.value.label],value:D[v.value.value],disabled:D[v.value.disabled]};return{...D,...N}},b=O(()=>r.options.map(y)),w=O(()=>{const{filterOption:D}=r;return!p.value||!D?b.value:b.value.filter(N=>D(p.value.pattern,N))}),C=O(()=>d.value&&(!!w.value.length||r.loading)),S=O(()=>{var D;return`${l.value}-${(D=f.value)==null?void 0:D.hoveringIndex}`}),$=D=>{s(Et,D),s(Os,D),F()},k=D=>{var N,M,z,W;if((N=u.value)!=null&&N.isComposing)return;const j=Hn(D);switch(j){case Re.left:case Re.right:F();break;case Re.up:case Re.down:if(!d.value)return;D.preventDefault(),(M=f.value)==null||M.navigateOptions(j===Re.up?"prev":"next");break;case Re.enter:case Re.numpadEnter:if(!d.value){r.type!=="textarea"&&F();return}D.preventDefault(),(z=f.value)!=null&&z.hoverOption?(W=f.value)==null||W.selectHoverOption():d.value=!1;break;case Re.esc:if(!d.value)return;D.preventDefault(),d.value=!1;break;case Re.backspace:if(r.whole&&p.value){const{splitIndex:U,selectionEnd:Y,pattern:G,prefixIndex:ne,prefix:ue}=p.value,ae=I();if(!ae)return;const X=ae.value,J=b.value.find(P=>P.value===G);if((ft(r.checkIsWhole)?r.checkIsWhole(G,ue):J)&&U!==-1&&U+1===Y){D.preventDefault();const P=X.slice(0,ne)+X.slice(U+1);s(Et,P),s(Os,P),s("whole-remove",G,ue);const Q=ne;Ye(()=>{ae.selectionStart=Q,ae.selectionEnd=Q,L()})}}}},{wrapperRef:T}=Hp(u,{disabled:a,afterFocus(){F()},beforeBlur(D){var N;return(N=c.value)==null?void 0:N.isFocusInsideContent(D)},afterBlur(){d.value=!1}}),_=()=>{F()},E=D=>r.options.find(N=>D.value===N[v.value.value]),A=D=>{if(!p.value)return;const N=I();if(!N)return;const M=N.value,{split:z}=r,W=M.slice(p.value.end),j=W.startsWith(z),U=`${D.value}${j?"":z}`,Y=M.slice(0,p.value.start)+U+W;s(Et,Y),s(Os,Y),s("select",E(D),p.value.prefix);const G=p.value.start+U.length+(j?1:0);Ye(()=>{N.selectionStart=G,N.selectionEnd=G,N.focus(),L()})},I=()=>{var D,N;return r.type==="textarea"?(D=u.value)==null?void 0:D.textarea:(N=u.value)==null?void 0:N.input},F=()=>{setTimeout(()=>{R(),L(),Ye(()=>{var D;return(D=c.value)==null?void 0:D.updatePopper()})},0)},R=()=>{const D=I();if(!D)return;const N=mNn(D),M=D.getBoundingClientRect(),z=T.value.getBoundingClientRect();h.value={position:"absolute",width:0,height:`${N.height}px`,left:`${N.left+M.left-z.left}px`,top:`${N.top+M.top-z.top}px`}},L=()=>{const D=I();if(document.activeElement!==D){d.value=!1;return}const{prefix:N,split:M}=r;if(p.value=gNn(D,N,M),p.value&&p.value.splitIndex===-1){d.value=!0,s("search",p.value.pattern,p.value.prefix);return}d.value=!1};return t({input:u,tooltip:c,dropdownVisible:C}),(D,N)=>(B(),K("div",{ref_key:"wrapperRef",ref:T,class:V(x(i).b())},[ee(x(Xi),Wt(Wt(o.value,D.$attrs),{ref_key:"elInputRef",ref:u,"model-value":D.modelValue,disabled:x(a),role:C.value?"combobox":void 0,"aria-activedescendant":C.value?S.value||"":void 0,"aria-controls":C.value?x(l):void 0,"aria-expanded":C.value||void 0,"aria-label":D.ariaLabel,"aria-autocomplete":C.value?"none":void 0,"aria-haspopup":C.value?"listbox":void 0,onInput:$,onKeydown:k,onMousedown:_}),vl({_:2},[Ht(D.$slots,(M,z)=>({name:z,fn:ie(W=>[ce(D.$slots,z,zh(Wh(W)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ee(x(Xo),{ref_key:"tooltipRef",ref:c,visible:C.value,"popper-class":[x(i).e("popper"),D.popperClass],"popper-style":D.popperStyle,"popper-options":D.popperOptions,placement:g.value,"fallback-placements":m.value,effect:"light",pure:"",offset:D.offset,"show-arrow":D.showArrow},{default:ie(()=>[Z("div",{style:dt(h.value)},null,4)]),content:ie(()=>[ee(SNn,{ref_key:"dropdownRef",ref:f,options:w.value,disabled:x(a),loading:D.loading,"content-id":x(l),"aria-label":D.ariaLabel,onSelect:A,onClick:N[0]||(N[0]=xt(M=>{var z;return(z=u.value)==null?void 0:z.focus()},["stop"]))},vl({_:2},[Ht(D.$slots,(M,z)=>({name:z,fn:ie(W=>[ce(D.$slots,z,zh(Wh(W)))])}))]),1032,["options","disabled","loading","content-id","aria-label"])]),_:3},8,["visible","popper-class","popper-style","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var kNn=Ve($Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention.vue"]]);const ENn=Rt(kNn),_Nn=Me({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]},lazy:Boolean}),TNn={resizeStart:(e,t)=>!0,resize:(e,t)=>!0,resizeEnd:(e,t)=>!0,collapse:(e,t,n)=>!0},d5e=Symbol("splitterRootContextKey");function ANn(e){const t=H(),{width:n,height:r}=oH(t),s=O(()=>e.value==="horizontal"?n.value:r.value);return{containerEl:t,containerSize:s}}function Nre(e){return Number(e.slice(0,-1))/100}function Dre(e){return Number(e.slice(0,-2))}function Ore(e){return it(e)&&e.endsWith("%")}function Rre(e){return it(e)&&e.endsWith("px")}function INn(e,t){const n=O(()=>e.value.map(a=>a.size)),r=O(()=>e.value.length),s=H([]);xe([n,r,t],()=>{var a;let l=[],u=0;for(let f=0;f<r.value;f+=1){const d=(a=e.value[f])==null?void 0:a.size;if(Ore(d))l[f]=Nre(d);else if(Rre(d))l[f]=Dre(d)/t.value;else if(d||d===0){const h=Number(d);Number.isNaN(h)||(l[f]=h/t.value)}else u+=1,l[f]=void 0}const c=l.reduce((f,d)=>f+(d||0),0);if(c>1||!u){const f=1/c;l=l.map(d=>d===void 0?0:d*f)}else{const f=(1-c)/u;l=l.map(d=>d===void 0?f:d)}s.value=l});const o=a=>a*t.value,i=O(()=>s.value.map(o));return{percentSizes:s,pxSizes:i}}function NNn(e,t,n,r){const s=m=>m*t.value||0;function o(m,v){return Ore(m)?s(Nre(m)):Rre(m)?Dre(m):m??v}const i=H(0),a=H(null);let l=[],u=Rn;const c=O(()=>e.value.map(m=>[m.min,m.max]));xe(r,()=>{if(i.value){const m=new MouseEvent("mouseup",{bubbles:!0});window.dispatchEvent(m)}});const f=m=>{i.value=0,a.value={index:m,confirmed:!1},l=n.value},d=(m,v)=>{var y,b;let w=null;if((!a.value||!a.value.confirmed)&&v!==0){if(v>0)w=m,a.value={index:m,confirmed:!0};else for(let I=m;I>=0;I-=1)if(l[I]>0){w=I,a.value={index:I,confirmed:!0};break}}const C=(b=w??((y=a.value)==null?void 0:y.index))!=null?b:m,S=[...l],$=C+1,k=o(c.value[C][0],0),T=o(c.value[$][0],0),_=o(c.value[C][1],t.value||0),E=o(c.value[$][1],t.value||0);let A=v;S[C]+A<k&&(A=k-S[C]),S[$]-A<T&&(A=S[$]-T),S[C]+A>_&&(A=_-S[C]),S[$]-A>E&&(A=S[$]-E),S[C]+=A,S[$]-=A,i.value=A,u=()=>{e.value.forEach((I,F)=>{I.size=S[F]}),u=Rn},r.value||u()},h=()=>{r.value&&u(),i.value=0,a.value=null,l=[]},p=[];return{lazyOffset:i,onMoveStart:f,onMoving:d,onMoveEnd:h,movingIndex:a,onCollapse:(m,v)=>{p.length||p.push(...n.value);const y=n.value,b=v==="start"?m:m+1,w=v==="start"?m+1:m,C=y[b],S=y[w];if(C!==0&&S!==0)y[b]=0,y[w]+=C,p[m]=C;else{const $=C+S,k=p[m],T=$-k;y[w]=k,y[b]=T}e.value.forEach(($,k)=>{$.size=y[k]})}}}const DNn=me({name:"ElSplitter",__name:"splitter",props:_Nn,emits:TNn,setup(e,{emit:t}){const n=Ae("splitter"),r=t,s=e,o=Bn(s,"layout"),i=Bn(s,"lazy"),{containerEl:a,containerSize:l}=ANn(o),{removeChild:u,children:c,addChild:f,ChildrenSorter:d}=$8(Ut(),"ElSplitterPanel");xe(c,()=>{m.value=null,c.value.forEach((_,E)=>{_.setIndex(E)})});const{percentSizes:h,pxSizes:p}=INn(c,l),{lazyOffset:g,movingIndex:m,onMoveStart:v,onMoving:y,onMoveEnd:b,onCollapse:w}=NNn(c,l,p,i),C=O(()=>({[n.cssVarBlockName("bar-offset")]:i.value?`${g.value}px`:void 0}));return ln(d5e,In({panels:c,percentSizes:h,pxSizes:p,layout:o,lazy:i,movingIndex:m,containerSize:l,onMoveStart:_=>{v(_),r("resizeStart",_,p.value)},onMoving:(_,E)=>{y(_,E),i.value||r("resize",_,p.value)},onMoveEnd:async _=>{b(),await Ye(),r("resizeEnd",_,p.value)},onCollapse:(_,E)=>{w(_,E),r("collapse",_,E,p.value)},registerPanel:f,unregisterPanel:u})),(_,E)=>(B(),K("div",{ref_key:"containerEl",ref:a,class:V([x(n).b(),x(n).e(o.value)]),style:dt(C.value)},[ce(_.$slots,"default"),ee(x(d)),fe(" Prevent iframe touch events from breaking "),x(m)?(B(),K("div",{key:0,class:V([x(n).e("mask"),x(n).e(`mask-${o.value}`)])},null,2)):fe("v-if",!0)],6))}});var ONn=Ve(DNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/splitter.vue"]]);function RNn(e){return e&&Pt(e)?e:{start:!!e,end:!!e}}function eve(e,t,n,r){return!!(e?.collapsible.end&&t>0||n?.collapsible.start&&r===0&&t>0)}const FNn=me({name:"ElSplitterBar",__name:"split-bar",props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:["moveStart","moving","moveEnd","collapse"],setup(e,{emit:t}){const n=Ae("splitter-bar"),r=e,s=t,o=O(()=>r.layout==="horizontal"),i=O(()=>o.value?{width:0}:{height:0}),a=O(()=>({width:o.value?"16px":"100%",height:o.value?"100%":"16px",cursor:r.resizable?o.value?"ew-resize":"ns-resize":"auto",touchAction:"none"})),l=O(()=>{const y=n.e("dragger");return{[`${y}-horizontal`]:o.value,[`${y}-vertical`]:!o.value,[`${y}-active`]:!!u.value}}),u=H(null),c=y=>{r.resizable&&(u.value=[y.pageX,y.pageY],s("moveStart",r.index),window.addEventListener("mouseup",p),window.addEventListener("mousemove",d))},f=y=>{if(r.resizable&&y.touches.length===1){y.preventDefault();const b=y.touches[0];u.value=[b.pageX,b.pageY],s("moveStart",r.index),window.addEventListener("touchend",g),window.addEventListener("touchmove",h)}},d=y=>{const{pageX:b,pageY:w}=y,C=b-u.value[0],S=w-u.value[1],$=o.value?C:S;s("moving",r.index,$)},h=y=>{if(y.touches.length===1){y.preventDefault();const b=y.touches[0],w=b.pageX-u.value[0],C=b.pageY-u.value[1],S=o.value?w:C;s("moving",r.index,S)}},p=()=>{u.value=null,window.removeEventListener("mouseup",p),window.removeEventListener("mousemove",d),s("moveEnd",r.index)},g=()=>{u.value=null,window.removeEventListener("touchend",g),window.removeEventListener("touchmove",h),s("moveEnd",r.index)},m=O(()=>o.value?bp:y8),v=O(()=>o.value?aa:th);return(y,b)=>(B(),K("div",{class:V([x(n).b()]),style:dt(i.value)},[e.startCollapsible?(B(),K("div",{key:0,class:V([x(n).e("collapse-icon"),x(n).e(`${e.layout}-collapse-icon-start`)]),onClick:b[0]||(b[0]=w=>s("collapse",e.index,"start"))},[ce(y.$slots,"start-collapsible",{},()=>[(B(),pe(zt(m.value),{style:{width:"12px",height:"12px"}}))])],2)):fe("v-if",!0),Z("div",{class:V([x(n).e("dragger"),l.value,x(n).is("disabled",!e.resizable),x(n).is("lazy",e.resizable&&e.lazy)]),style:dt(a.value),onMousedown:c,onTouchstart:f},null,38),e.endCollapsible?(B(),K("div",{key:1,class:V([x(n).e("collapse-icon"),x(n).e(`${e.layout}-collapse-icon-end`)]),onClick:b[1]||(b[1]=w=>s("collapse",e.index,"end"))},[ce(y.$slots,"end-collapsible",{},()=>[(B(),pe(zt(v.value),{style:{width:"12px",height:"12px"}}))])],2)):fe("v-if",!0)],6))}});var MNn=Ve(FNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-bar.vue"]]);const PNn=Me({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),LNn={"update:size":e=>typeof e=="number"||typeof e=="string"},tve="ElSplitterPanel",BNn=me({name:tve,__name:"split-panel",props:PNn,emits:LNn,setup(e,{expose:t,emit:n}){const r=Ae("splitter-panel"),s=e,o=n,i=tt(d5e);i||Ts(tve,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:a,layout:l,lazy:u,containerSize:c,pxSizes:f}=ao(i),{registerPanel:d,unregisterPanel:h,onCollapse:p,onMoveEnd:g,onMoveStart:m,onMoving:v}=i,y=H(),b=Ut(),w=b.uid,C=H(0),S=O(()=>a.value[C.value]),$=N=>{C.value=N},k=O(()=>{var N;return S.value&&(N=f.value[C.value])!=null?N:0}),T=O(()=>{var N;return S.value&&(N=f.value[C.value+1])!=null?N:0}),_=O(()=>S.value?a.value[C.value+1]:null),E=O(()=>{var N;return _.value?s.resizable&&((N=_.value)==null?void 0:N.resizable)&&(k.value!==0||!s.min)&&(T.value!==0||!_.value.min):!1}),A=O(()=>S.value?C.value!==a.value.length-1:!1),I=O(()=>eve(S.value,k.value,_.value,T.value)),F=O(()=>eve(_.value,T.value,S.value,k.value));function R(N){return Ore(N)?Nre(N)*c.value||0:Rre(N)?Dre(N):N??0}let L=!1;xe(()=>s.size,()=>{if(!L&&S.value){if(!c.value){S.value.size=s.size;return}const N=R(s.size),M=R(s.max),z=R(s.min),W=Math.min(Math.max(N,z||0),M||N);W!==N&&o("update:size",W),S.value.size=W}}),xe(()=>{var N;return(N=S.value)==null?void 0:N.size},N=>{N!==s.size&&(L=!0,o("update:size",N),Ye(()=>L=!1))}),xe(()=>s.resizable,N=>{S.value&&(S.value.resizable=N)});const D=In({el:y.value,uid:w,getVnode:()=>b.vnode,setIndex:$,...s,collapsible:O(()=>RNn(s.collapsible))});return d(D),Nn(()=>h(D)),t({splitterPanelRef:y}),(N,M)=>(B(),K(rt,null,[Z("div",Wt({ref_key:"panelEl",ref:y,class:[x(r).b()],style:{flexBasis:`${k.value}px`}},N.$attrs),[ce(N.$slots,"default")],16),A.value?(B(),pe(MNn,{key:0,index:C.value,layout:x(l),lazy:x(u),resizable:E.value,"start-collapsible":I.value,"end-collapsible":F.value,onMoveStart:x(m),onMoving:x(v),onMoveEnd:x(g),onCollapse:x(p)},{"start-collapsible":ie(()=>[ce(N.$slots,"start-collapsible")]),"end-collapsible":ie(()=>[ce(N.$slots,"end-collapsible")]),_:3},8,["index","layout","lazy","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):fe("v-if",!0)],64))}});var h5e=Ve(BNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-panel.vue"]]);const zNn=Rt(ONn,{SplitPanel:h5e}),VNn=Ur(h5e);var WNn=[ocn,$fn,fpn,x_n,vpn,Spn,eBe,Opn,Rpn,$o,iBe,Egn,Ign,Xgn,Zgn,Xmn,TBe,t0n,Hc,umn,One,o0n,x0n,C0n,E8,zBe,X0n,Q0n,ivn,avn,lvn,uvn,cvn,kyn,e6e,Ryn,Fyn,Yyn,u6e,lbn,Kbn,Ybn,Xbn,y6e,vxn,yxn,ot,Ixn,x6e,Xi,C6e,Gxn,Qxn,g2n,m2n,v2n,y2n,$2n,kCn,ICn,LCn,JLe,D6e,EBe,xmn,wmn,QCn,rSn,uSn,jc,Ux,pM,nCn,jSn,ZSn,JSn,y$n,S$n,H6e,D$n,B$n,z$n,X$n,cEn,fEn,w_n,R_n,F_n,Jh,yre,Rvn,U_n,K_n,Y_n,Xo,lTn,xre,ITn,qTn,bAn,AAn,YIn,XIn,oNn,iNn,hNn,ENn,zNn,VNn];const Bl="ElInfiniteScroll",UNn=50,jNn=200,HNn=0,qNn={delay:{type:Number,default:jNn},distance:{type:Number,default:HNn},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Fre=(e,t)=>Object.entries(qNn).reduce((n,[r,s])=>{var o,i;const{type:a,default:l}=s,u=e.getAttribute(`infinite-scroll-${r}`);let c=(i=(o=t[u])!=null?o:u)!=null?i:l;return c=c==="false"?!1:c,c=a(c),n[r]=Number.isNaN(c)?l:c,n},{}),p5e=e=>{const{observer:t}=e[Bl];t&&(t.disconnect(),delete e[Bl].observer)},GNn=(e,t)=>{const{container:n,containerEl:r,instance:s,observer:o,lastScrollTop:i}=e[Bl],{disabled:a,distance:l}=Fre(e,s),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-i;if(e[Bl].lastScrollTop=f,o||a||d<0)return;let h=!1;if(n===e)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:g}=e,m=vH(e,r);h=f+u>=m+p+g-l}h&&t.call(s)};function Q7(e,t){const{containerEl:n,instance:r}=e[Bl],{disabled:s}=Fre(e,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):p5e(e))}const KNn={async mounted(e,t){const{instance:n,value:r}=t;sd({scope:Bl,from:"the directive v-infinite-scroll",replacement:"the el-scrollbar infinite scroll",version:"3.0.0",ref:"https://element-plus.org/en-US/component/scrollbar#infinite-scroll"},!0),ft(r)||Ts(Bl,"'v-infinite-scroll' binding value must be a function"),await Ye();const{delay:s,immediate:o}=Fre(e,n),i=fne(e,!0),a=i===window?document.documentElement:i,l=jg(GNn.bind(null,e,r),s);if(i){if(e[Bl]={instance:n,container:i,containerEl:a,delay:s,cb:r,onScroll:l,lastScrollTop:a.scrollTop},o){const u=new MutationObserver(jg(Q7.bind(null,e,r),UNn));e[Bl].observer=u,u.observe(e,{childList:!0,subtree:!0}),Q7(e,r)}i.addEventListener("scroll",l)}},unmounted(e){if(!e[Bl])return;const{container:t,onScroll:n}=e[Bl];t?.removeEventListener("scroll",n),p5e(e)},async updated(e){if(!e[Bl])await Ye();else{const{containerEl:t,cb:n,observer:r}=e[Bl];t.clientHeight&&r&&Q7(e,n)}}},nq=KNn;nq.install=e=>{e.directive("InfiniteScroll",nq)};const YNn=nq;function XNn(e,t){let n;const r=H(!1),s=In({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(h){s.text=h}function i(){const h=s.parent,p=d.ns;if(!h.vLoadingAddClassList){let g=h.getAttribute("loading-number");g=Number.parseInt(g)-1,g?h.setAttribute("loading-number",g.toString()):(ia(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),ia(h,p.bm("parent","hidden"))}a(),f.unmount()}function a(){var h,p;(p=(h=d.$el)==null?void 0:h.parentNode)==null||p.removeChild(d.$el)}function l(){var h;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),s.visible=!1,(h=e.closed)==null||h.call(e))}function u(){if(!r.value)return;const h=s.parent;r.value=!1,h.vLoadingAddClassList=void 0,i()}const f=O1e(me({name:"ElLoading",setup(h,{expose:p}){const{ns:g,zIndex:m}=v8("loading");return p({ns:g,zIndex:m}),()=>{const v=s.spinner||s.svg,y=bt("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[bt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=s.text?bt("p",{class:g.b("text")},[s.text]):void 0;return bt(Ho,{name:g.b("fade"),onAfterLeave:u},{default:ie(()=>[Lt(ee("div",{style:{backgroundColor:s.background||""},class:[g.b("mask"),s.customClass,g.is("fullscreen",s.fullscreen)]},[bt("div",{class:g.b("spinner")},[y,b])]),[[$n,s.visible]])])})}}}));Object.assign(f._context,t??{});const d=f.mount(document.createElement("div"));return{...ao(s),setText:o,removeElLoadingChild:a,close:l,handleAfterLeave:u,vm:d,get $el(){return d.$el}}}let HD;const Ew=function(e={},t){if(!Tn)return;const n=ZNn(e);if(n.fullscreen&&HD)return HD;const r=XNn({...n,closed:()=>{var o;(o=n.closed)==null||o.call(n),n.fullscreen&&(HD=void 0)}},t??Ew._context);JNn(n,n.parent,r),nve(n,n.parent,r),n.parent.vLoadingAddClassList=()=>nve(n,n.parent,r);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(r.$el),Ye(()=>r.visible.value=n.visible),n.fullscreen&&(HD=r),r},ZNn=e=>{var t,n,r,s;let o;return it(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,beforeClose:e.beforeClose,closed:e.closed,target:o}},JNn=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(e.fullscreen)n.originalPosition.value=Th(document.body,"position"),n.originalOverflow.value=Th(document.body,"overflow"),s.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Th(document.body,"position"),await Ye();for(const o of["top","left"]){const i=o==="top"?"scrollTop":"scrollLeft";s[o]=`${e.target.getBoundingClientRect()[o]+document.body[i]+document.documentElement[i]-Number.parseInt(Th(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])s[o]=`${e.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=Th(t,"position");for(const[o,i]of Object.entries(s))n.$el.style[o]=i},nve=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?ia(t,r.bm("parent","relative")):Au(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Au(t,r.bm("parent","hidden")):ia(t,r.bm("parent","hidden"))};Ew._context=null;const R$=Symbol("ElLoading"),uv=e=>`element-loading-${Cp(e)}`,rve=(e,t)=>{var n,r,s,o;const i=t.instance,a=h=>Pt(t.value)?t.value[h]:void 0,l=h=>{const p=it(h)&&i?.[h]||h;return H(p)},u=h=>l(a(h)||e.getAttribute(uv(h))),c=(n=a("fullscreen"))!=null?n:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=a("target"))!=null?r:c?void 0:e,body:(s=a("body"))!=null?s:t.modifiers.body,lock:(o=a("lock"))!=null?o:t.modifiers.lock},d=Ew(f);d._context=yk._context,e[R$]={options:f,instance:d}},QNn=(e,t)=>{for(const n of Object.keys(e))fr(e[n])&&(e[n].value=t[n])},yk={mounted(e,t){t.value&&rve(e,t)},updated(e,t){const n=e[R$];if(!t.value){n?.instance.close(),e[R$]=null;return}n?QNn(n.options,Pt(t.value)?t.value:{text:e.getAttribute(uv("text")),svg:e.getAttribute(uv("svg")),svgViewBox:e.getAttribute(uv("svgViewBox")),spinner:e.getAttribute(uv("spinner")),background:e.getAttribute(uv("background")),customClass:e.getAttribute(uv("customClass"))}):rve(e,t)},unmounted(e){var t;(t=e[R$])==null||t.instance.close(),e[R$]=null}};yk._context=null;const eDn={install(e){Ew._context=e._context,yk._context=e._context,e.directive("loading",yk),e.config.globalProperties.$loading=Ew},directive:yk,service:Ew},g5e=["primary","success","info","warning","error"],m5e=["top","top-left","top-right","bottom","bottom-left","bottom-right"],k_="top",_i=zr({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:Tn?document.body:void 0}),tDn=Me({customClass:{type:String,default:_i.customClass},dangerouslyUseHTMLString:{type:Boolean,default:_i.dangerouslyUseHTMLString},duration:{type:Number,default:_i.duration},icon:{type:zn,default:_i.icon},id:{type:String,default:_i.id},message:{type:oe([String,Object,Function]),default:_i.message},onClose:{type:oe(Function),default:_i.onClose},showClose:{type:Boolean,default:_i.showClose},type:{type:String,values:g5e,default:_i.type},plain:{type:Boolean,default:_i.plain},offset:{type:Number,default:_i.offset},placement:{type:String,values:m5e,default:_i.placement},zIndex:{type:Number,default:_i.zIndex},grouping:{type:Boolean,default:_i.grouping},repeatNum:{type:Number,default:_i.repeatNum}}),nDn={destroy:()=>!0},Oc=hq({}),rDn=e=>(Oc[e]||(Oc[e]=hq([])),Oc[e]),sDn=(e,t)=>{const n=Oc[t]||[],r=n.findIndex(i=>i.id===e),s=n[r];let o;return r>0&&(o=n[r-1]),{current:s,prev:o}},oDn=(e,t)=>{const{prev:n}=sDn(e,t);return n?n.vm.exposed.bottom.value:0},iDn=(e,t,n)=>(Oc[n]||[]).findIndex(o=>o.id===e)>0?16:t,aDn=["id"],lDn=["innerHTML"],uDn=me({name:"ElMessage",__name:"message",props:tDn,emits:nDn,setup(e,{expose:t,emit:n}){const{Close:r}=mne,s=e,o=n,i=H(!1),{ns:a,zIndex:l}=v8("message"),{currentZIndex:u,nextZIndex:c}=l,f=H(),d=H(!1),h=H(0);let p;const g=O(()=>s.type?s.type==="error"?"danger":s.type:"info"),m=O(()=>{const I=s.type;return{[a.bm("icon",I)]:I&&Zm[I]}}),v=O(()=>s.icon||Zm[s.type]||""),y=O(()=>s.placement||k_),b=O(()=>oDn(s.id,y.value)),w=O(()=>iDn(s.id,s.offset,y.value)+b.value),C=O(()=>h.value+w.value),S=O(()=>y.value.includes("left")?a.is("left"):y.value.includes("right")?a.is("right"):a.is("center")),$=O(()=>y.value.startsWith("top")?"top":"bottom"),k=O(()=>({[$.value]:`${w.value}px`,zIndex:u.value}));function T(){s.duration!==0&&({stop:p}=Rx(()=>{E()},s.duration))}function _(){p?.()}function E(){d.value=!1,Ye(()=>{var I;i.value||((I=s.onClose)==null||I.call(s),o("destroy"))})}function A(I){Hn(I)===Re.esc&&E()}return jt(()=>{T(),c(),d.value=!0}),xe(()=>s.repeatNum,()=>{_(),T()}),Fn(document,"keydown",A),Cr(f,()=>{h.value=f.value.getBoundingClientRect().height}),t({visible:d,bottom:C,close:E}),(I,F)=>(B(),pe(Ho,{name:x(a).b("fade"),onBeforeEnter:F[0]||(F[0]=R=>i.value=!0),onBeforeLeave:I.onClose,onAfterLeave:F[1]||(F[1]=R=>I.$emit("destroy")),persisted:""},{default:ie(()=>[Lt(Z("div",{id:I.id,ref_key:"messageRef",ref:f,class:V([x(a).b(),{[x(a).m(I.type)]:I.type},x(a).is("closable",I.showClose),x(a).is("plain",I.plain),x(a).is("bottom",$.value==="bottom"),S.value,I.customClass]),style:dt(k.value),role:"alert",onMouseenter:_,onMouseleave:T},[I.repeatNum>1?(B(),pe(x(eBe),{key:0,value:I.repeatNum,type:g.value,class:V(x(a).e("badge"))},null,8,["value","type","class"])):fe("v-if",!0),v.value?(B(),pe(x(ot),{key:1,class:V([x(a).e("icon"),m.value])},{default:ie(()=>[(B(),pe(zt(v.value)))]),_:1},8,["class"])):fe("v-if",!0),ce(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(B(),K(rt,{key:1},[fe(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:V(x(a).e("content")),innerHTML:I.message},null,10,lDn)],2112)):(B(),K("p",{key:0,class:V(x(a).e("content"))},De(I.message),3))]),I.showClose?(B(),pe(x(ot),{key:2,class:V(x(a).e("closeBtn")),onClick:xt(E,["stop"])},{default:ie(()=>[ee(x(r))]),_:1},8,["class"])):fe("v-if",!0)],46,aDn),[[$n,d.value]])]),_:3},8,["name","onBeforeLeave"]))}});var cDn=Ve(uDn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let fDn=1;const dDn=e=>{if(!e.appendTo)e.appendTo=document.body;else if(it(e.appendTo)){let n=document.querySelector(e.appendTo);cl(n)||(n=document.body),e.appendTo=n}},hDn=e=>{!e.placement&&it(Oi.placement)&&Oi.placement&&(e.placement=Oi.placement),e.placement||(e.placement=k_),m5e.includes(e.placement)||(e.placement=k_)},v5e=e=>{const t=!e||it(e)||or(e)||ft(e)?{message:e}:e,n={..._i,...t};return dDn(n),hDn(n),Ln(Oi.grouping)&&!n.grouping&&(n.grouping=Oi.grouping),pt(Oi.duration)&&n.duration===3e3&&(n.duration=Oi.duration),pt(Oi.offset)&&n.offset===16&&(n.offset=Oi.offset),Ln(Oi.showClose)&&!n.showClose&&(n.showClose=Oi.showClose),Ln(Oi.plain)&&!n.plain&&(n.plain=Oi.plain),n},pDn=e=>{const t=e.props.placement||k_,n=Oc[t],r=n.indexOf(e);if(r===-1)return;n.splice(r,1);const{handler:s}=e;s.close()},gDn=({appendTo:e,...t},n)=>{const r=`message_${fDn++}`,s=t.onClose,o=document.createElement("div"),i={...t,id:r,onClose:()=>{s?.(),pDn(c)},onDestroy:()=>{am(null,o)}},a=ee(cDn,i,ft(i.message)||or(i.message)?{default:ft(i.message)?i.message:()=>i.message}:null);a.appContext=n||ny._context,am(a,o),e.appendChild(o.firstElementChild);const l=a.component,c={id:r,vnode:a,vm:l,handler:{close:()=>{l.exposed.close()}},props:a.component.props};return c},ny=(e={},t)=>{if(!Tn)return{close:()=>{}};const n=v5e(e),r=rDn(n.placement||k_);if(n.grouping&&r.length){const o=r.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===n.message});if(o)return o.props.repeatNum+=1,o.props.type=n.type,o.handler}if(pt(Oi.max)&&r.length>=Oi.max)return{close:()=>{}};const s=gDn(n,t);return r.push(s),s.handler};g5e.forEach(e=>{ny[e]=(t={},n)=>{const r=v5e(t);return ny({...r,type:e},n)}});function mDn(e){for(const t in Oc)if(En(Oc,t)){const n=[...Oc[t]];for(const r of n)(!e||e===r.props.type)&&r.handler.close()}}function vDn(e){if(!Oc[e])return;[...Oc[e]].forEach(n=>n.handler.close())}ny.closeAll=mDn;ny.closeAllByPlacement=vDn;ny._context=null;const cO=dLe(ny,"$message"),rq="_trap-focus-children",Vv=[],sve=e=>{if(Vv.length===0)return;const t=Hn(e),n=Vv[Vv.length-1][rq];if(n.length>0&&t===Re.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=e.shiftKey,s=e.target===n[0],o=e.target===n[n.length-1];s&&r&&(e.preventDefault(),n[n.length-1].focus()),o&&!r&&(e.preventDefault(),n[0].focus())}},yDn={beforeMount(e){e[rq]=Yge(e),Vv.push(e),Vv.length<=1&&document.addEventListener("keydown",sve)},updated(e){Ye(()=>{e[rq]=Yge(e)})},unmounted(){Vv.shift(),Vv.length===0&&document.removeEventListener("keydown",sve)}},bDn=me({name:"ElMessageBox",directives:{TrapFocus:yDn},components:{ElButton:$o,ElFocusTrap:YC,ElInput:Xi,ElOverlay:Gne,ElIcon:ot,...mne},inheritAttrs:!1,props:{buttonSize:{type:String,validator:K6e},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:s,size:o}=v8("message-box",O(()=>e.buttonSize)),{t:i}=n,{nextZIndex:a}=r,l=H(!1),u=In({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Vh(Td),cancelButtonLoadingIcon:Vh(Td),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),c=O(()=>{const D=u.type;return{[s.bm("icon",D)]:D&&Zm[D]}}),f=Yo(),d=Yo(),h=O(()=>{const D=u.type;return u.icon||D&&Zm[D]||""}),p=O(()=>!!u.message),g=H(),m=H(),v=H(),y=H(),b=H(),w=O(()=>u.confirmButtonClass);xe(()=>u.inputValue,async D=>{await Ye(),e.boxType==="prompt"&&D&&I()},{immediate:!0}),xe(()=>l.value,D=>{var N,M;D&&(e.boxType!=="prompt"&&(u.autofocus?v.value=(M=(N=b.value)==null?void 0:N.$el)!=null?M:g.value:v.value=g.value),u.zIndex=a()),e.boxType==="prompt"&&(D?Ye().then(()=>{var z;y.value&&y.value.$el&&(u.autofocus?v.value=(z=F())!=null?z:g.value:v.value=g.value)}):(u.editorErrorMessage="",u.validateError=!1))});const C=O(()=>e.draggable),S=O(()=>e.overflow),{isDragging:$}=o6e(g,m,C,S);jt(async()=>{await Ye(),e.closeOnHashChange&&window.addEventListener("hashchange",k)}),Nn(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",k)});function k(){l.value&&(l.value=!1,Ye(()=>{u.action&&t("action",u.action)}))}const T=()=>{e.closeOnClickModal&&A(u.distinguishCancelAndClose?"close":"cancel")},_=qne(T),E=D=>{if(u.inputType!=="textarea")return D.preventDefault(),A("confirm")},A=D=>{var N;e.boxType==="prompt"&&D==="confirm"&&!I()||(u.action=D,u.beforeClose?(N=u.beforeClose)==null||N.call(u,D,u,k):k())},I=()=>{if(e.boxType==="prompt"){const D=u.inputPattern;if(D&&!D.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;const N=u.inputValidator;if(ft(N)){const M=N(u.inputValue);if(M===!1)return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;if(it(M))return u.editorErrorMessage=M,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},F=()=>{var D,N;const M=(D=y.value)==null?void 0:D.$refs;return(N=M?.input)!=null?N:M?.textarea},R=()=>{A("close")},L=()=>{e.closeOnPressEscape&&R()};return e.lockScroll&&T8(l,{ns:s}),{...ao(u),ns:s,overlayEvent:_,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:o,iconComponent:h,confirmButtonClasses:w,rootRef:g,focusStartRef:v,headerRef:m,inputRef:y,isDragging:$,confirmRef:b,doClose:k,handleClose:R,onCloseRequested:L,handleWrapperClick:T,handleInputEnter:E,handleAction:A,t:i}}}),wDn=["aria-label","aria-describedby"],xDn=["aria-label"],CDn=["id"];function SDn(e,t,n,r,s,o){const i=Zt("el-icon"),a=Zt("el-input"),l=Zt("el-button"),u=Zt("el-focus-trap"),c=Zt("el-overlay");return B(),pe(Ho,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=f=>e.$emit("vanish")),persisted:""},{default:ie(()=>[Lt(ee(c,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:ie(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:V(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...f)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...f)),onMousedown:t[9]||(t[9]=(...f)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...f)),onMouseup:t[10]||(t[10]=(...f)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...f))},[ee(u,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ie(()=>[Z("div",{ref:"rootRef",class:V([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),e.ns.is("dragging",e.isDragging),{[e.ns.m("center")]:e.center}]),style:dt(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=xt(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(B(),K("div",{key:0,ref:"headerRef",class:V([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:V(e.ns.e("title"))},[e.iconComponent&&e.center?(B(),pe(i,{key:0,class:V([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),Z("span",null,De(e.title),1)],2),e.showClose?(B(),K("button",{key:0,type:"button",class:V(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=qr(xt(f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ee(i,{class:V(e.ns.e("close"))},{default:ie(()=>[(B(),pe(zt(e.closeIcon||"close")))]),_:1},8,["class"])],42,xDn)):fe("v-if",!0)],2)):fe("v-if",!0),Z("div",{id:e.contentId,class:V(e.ns.e("content"))},[Z("div",{class:V(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(B(),pe(i,{key:0,class:V([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),e.hasMessage?(B(),K("div",{key:1,class:V(e.ns.e("message"))},[ce(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(B(),pe(zt(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(B(),pe(zt(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0,textContent:De(e.message)},null,8,["for","textContent"]))])],2)):fe("v-if",!0)],2),Lt(Z("div",{class:V(e.ns.e("input"))},[ee(a,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=f=>e.inputValue=f),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:V({invalid:e.validateError}),onKeydown:qr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:V(e.ns.e("errormsg")),style:dt({visibility:e.editorErrorMessage?"visible":"hidden"})},De(e.editorErrorMessage),7)],2),[[$n,e.showInput]])],10,CDn),Z("div",{class:V(e.ns.e("btns"))},[e.showCancelButton?(B(),pe(l,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:V([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=f=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=qr(xt(f=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:ie(()=>[Jt(De(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size"])):fe("v-if",!0),Lt(ee(l,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:V([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=f=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=qr(xt(f=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:ie(()=>[Jt(De(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size"]),[[$n,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,wDn)]),_:3},8,["z-index","overlay-class","mask"]),[[$n,e.visible]])]),_:3})}var $Dn=Ve(bDn,[["render",SDn],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const E_=new Map,kDn=e=>{let t=document.body;return e.appendTo&&(it(e.appendTo)&&(t=document.querySelector(e.appendTo)),cl(e.appendTo)&&(t=e.appendTo),cl(t)||(t=document.body)),t},EDn=(e,t,n=null)=>{const r=ee($Dn,e,ft(e.message)||or(e.message)?{default:ft(e.message)?e.message:()=>e.message}:null);return r.appContext=n,am(r,t),kDn(e).appendChild(t.firstElementChild),r.component},_Dn=()=>document.createElement("div"),TDn=(e,t)=>{const n=_Dn();e.onVanish=()=>{am(null,n),E_.delete(s)},e.onAction=o=>{const i=E_.get(s);let a;e.showInput?a={value:s.inputValue,action:o}:a=o,e.callback?e.callback(a,r.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(a)};const r=EDn(e,n,t),s=r.proxy;for(const o in e)En(e,o)&&!En(s.$props,o)&&(o==="closeIcon"&&Pt(e[o])?s[o]=Vh(e[o]):s[o]=e[o]);return s.visible=!0,s};function JC(e,t=null){if(!Tn)return Promise.reject();let n;return it(e)||or(e)?e={message:e}:n=e.callback,new Promise((r,s)=>{const o=TDn(e,t??JC._context);E_.set(o,{options:e,callback:n,resolve:r,reject:s})})}const ADn=["alert","confirm","prompt"],IDn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};ADn.forEach(e=>{JC[e]=NDn(e)});function NDn(e){return(t,n,r,s)=>{let o="";return Pt(n)?(r=n,o=""):yn(n)?o="":o=n,JC(Object.assign({title:o,message:t,type:"",...IDn[e]},r,{boxType:e}),s)}}JC.close=()=>{E_.forEach((e,t)=>{t.doClose()}),E_.clear()};JC._context=null;const dg=JC;dg.install=e=>{dg._context=e._context,e.config.globalProperties.$msgbox=dg,e.config.globalProperties.$messageBox=dg,e.config.globalProperties.$alert=dg.alert,e.config.globalProperties.$confirm=dg.confirm,e.config.globalProperties.$prompt=dg.prompt};const y5e=dg,b5e=["primary","success","info","warning","error"],DDn=Me({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:zn},id:{type:String,default:""},message:{type:oe([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:oe(Function),default:()=>{}},onClose:{type:oe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...b5e,""],default:""},zIndex:Number,closeIcon:{type:zn,default:qu}}),ODn={destroy:()=>!0},RDn=["id"],FDn=["textContent"],MDn={key:0},PDn=["innerHTML"],LDn=me({name:"ElNotification",__name:"notification",props:DDn,emits:ODn,setup(e,{expose:t}){const n=e,{ns:r,zIndex:s}=v8("notification"),{nextZIndex:o,currentZIndex:i}=s,a=H(!1);let l;const u=O(()=>{const y=n.type;return y&&Zm[n.type]?r.m(y):""}),c=O(()=>n.type&&Zm[n.type]||n.icon),f=O(()=>n.position.endsWith("right")?"right":"left"),d=O(()=>n.position.startsWith("top")?"top":"bottom"),h=O(()=>{var y;return{[d.value]:`${n.offset}px`,zIndex:(y=n.zIndex)!=null?y:i.value}});function p(){n.duration>0&&({stop:l}=Rx(()=>{a.value&&m()},n.duration))}function g(){l?.()}function m(){a.value=!1}function v(y){switch(Hn(y)){case Re.delete:case Re.backspace:g();break;case Re.esc:a.value&&m();break;default:p();break}}return jt(()=>{p(),o(),a.value=!0}),Fn(document,"keydown",v),t({visible:a,close:m}),(y,b)=>(B(),pe(Ho,{name:x(r).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:b[1]||(b[1]=w=>y.$emit("destroy")),persisted:""},{default:ie(()=>[Lt(Z("div",{id:y.id,class:V([x(r).b(),y.customClass,f.value]),style:dt(h.value),role:"alert",onMouseenter:g,onMouseleave:p,onClick:b[0]||(b[0]=(...w)=>y.onClick&&y.onClick(...w))},[c.value?(B(),pe(x(ot),{key:0,class:V([x(r).e("icon"),u.value])},{default:ie(()=>[(B(),pe(zt(c.value)))]),_:1},8,["class"])):fe("v-if",!0),Z("div",{class:V(x(r).e("group"))},[Z("h2",{class:V(x(r).e("title")),textContent:De(y.title)},null,10,FDn),Lt(Z("div",{class:V(x(r).e("content")),style:dt(y.title?void 0:{margin:0})},[ce(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(B(),K(rt,{key:1},[fe(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:y.message},null,8,PDn)],2112)):(B(),K("p",MDn,De(y.message),1))])],6),[[$n,y.message]]),y.showClose?(B(),pe(x(ot),{key:0,class:V(x(r).e("closeBtn")),onClick:xt(m,["stop"])},{default:ie(()=>[(B(),pe(zt(y.closeIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],46,RDn),[[$n,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var BDn=Ve(LDn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Kx={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},EM=16;let zDn=1;const ry=function(e={},t){if(!Tn)return{close:()=>{}};(it(e)||or(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;Kx[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+EM}),r+=EM;const s=`notification_${zDn++}`,o=e.onClose,i={...e,offset:r,id:s,onClose:()=>{VDn(s,n,o)}};let a=document.body;cl(e.appendTo)?a=e.appendTo:it(e.appendTo)&&(a=document.querySelector(e.appendTo)),cl(a)||(a=document.body);const l=document.createElement("div"),u=ee(BDn,i,ft(i.message)?i.message:or(i.message)?()=>i.message:null);return u.appContext=yn(t)?ry._context:t,u.props.onDestroy=()=>{am(null,l)},am(u,l),Kx[n].push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};b5e.forEach(e=>{ry[e]=(t={},n)=>((it(t)||or(t))&&(t={message:t}),ry({...t,type:e},n))});function VDn(e,t,n){const r=Kx[t],s=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(s===-1)return;const{vm:o}=r[s];if(!o)return;n?.(o);const i=o.el.offsetHeight,a=t.split("-")[0];r.splice(s,1);const l=r.length;if(!(l<1))for(let u=s;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[a],10)-i-EM;f.props.offset=d}}function WDn(){for(const e of Object.values(Kx))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}function UDn(e="top-right"){var t,n,r,s;let o=((r=(n=(t=Kx[e][0])==null?void 0:t.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:i}of Kx[e])i.component.props.offset=o,o+=(((s=i.el)==null?void 0:s.offsetHeight)||0)+EM}ry.closeAll=WDn;ry.updateOffsets=UDn;ry._context=null;const jDn=dLe(ry,"$notify");var HDn=[YNn,eDn,cO,y5e,jDn,N6e],qDn=Kun([...WNn,...HDn]);const GDn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},KDn={class:"app-container"},YDn={class:"header-inner"},XDn={class:"logo-group"},ZDn={class:"actions"},JDn={class:"card-header"},QDn={class:"config-bar"},e3n={class:"config-item"},t3n={class:"config-item"},n3n={class:"config-item"},r3n={class:"config-item"},s3n={class:"data-row-inputs"},o3n={class:"data-row-inputs"},i3n={key:0,class:"inference-container"},a3n={class:"predict-grid"},l3n={class:"result-panel"},u3n={class:"res-tags"},c3n={class:"y-label"},f3n={class:"y-value"},d3n={key:0,class:"monitor-stats"},h3n={class:"stat-row"},p3n={class:"stat-row loss-row"},g3n={class:"loss-val"},m3n={key:1,class:"viz-placeholder"},v3n={key:0,class:"matrix-viewer"},y3n={class:"layer-title"},b3n={class:"matrix-grid-view"},w3n={class:"matrix-item"},x3n={class:"matrix-label"},C3n={class:"matrix-scroll"},S3n={class:"m-table"},$3n={key:0,class:"matrix-item"},k3n={class:"matrix-label"},E3n={class:"matrix-scroll"},_3n={class:"m-table"},eV="ai_model_lab_data",T3n={__name:"App",setup(e){const t=In({inputDim:3,outputDim:1,epochs:100,lr:.01}),n=H([{inputs:[1,2,3],outputs:[6]},{inputs:[2,3,4],outputs:[9]},{inputs:[5,1,2],outputs:[8]}]),r=lr(null),s=H([]),o=H([]),i=H(!1),a=H(0),l=H(0),u=H(!1);let c={inputMin:null,inputMax:null,outputMin:null,outputMax:null};jt(()=>{const y=localStorage.getItem(eV);if(y)try{const b=JSON.parse(y);Object.assign(t,b.config),n.value=b.dataset}catch(b){console.error("Cache load failed",b)}s.value=new Array(t.inputDim).fill(0)}),xe([t,n],()=>{localStorage.setItem(eV,JSON.stringify({config:t,dataset:n.value}))},{deep:!0});const f=()=>{y5e.confirm("This will clear all saved data. Proceed?").then(()=>{localStorage.removeItem(eV),location.reload()})};xe(()=>t.inputDim,y=>{n.value.forEach(b=>{b.inputs=Array.from({length:y},(w,C)=>b.inputs[C]??0)}),s.value=new Array(y).fill(0)}),xe(()=>t.outputDim,y=>{n.value.forEach(b=>{b.outputs=Array.from({length:y},(w,C)=>b.outputs[C]??0)})});const d=()=>{n.value.push({inputs:new Array(t.inputDim).fill(0),outputs:new Array(t.outputDim).fill(0)})},h=y=>{n.value.splice(y,1)},p=(y,b)=>{const w=y.getWeights()[b];if(!w)return[];const C=w.arraySync();return b===1?[C]:C},g=y=>y>.5?"v-pos-high":y>0?"v-pos":y<-.5?"v-neg-high":"v-neg",m=async()=>{if(n.value.length<2)return cO.warning("Need at least 2 samples.");i.value=!0,a.value=0,c.inputMin&&Object.values(c).forEach(S=>S?.dispose());const{inputs:y,outputs:b,stats:w}=Le(()=>{const S=Zg(n.value.map(I=>I.inputs)),$=Zg(n.value.map(I=>I.outputs)),k=S.min(0),T=S.max(0),_=$.min(0),E=$.max(0),A=Sn(1e-7);return{inputs:S.sub(k).div(T.sub(k).add(A)),outputs:$.sub(_).div(E.sub(_).add(A)),stats:{inputMin:Ta(k),inputMax:Ta(T),outputMin:Ta(_),outputMax:Ta(E)}}});c=w;const C=XJe();C.add(u5({units:16,activation:"relu",inputShape:[t.inputDim]})),C.add(u5({units:8,activation:"relu"})),C.add(u5({units:t.outputDim})),C.compile({optimizer:mg.adam(t.lr),loss:"meanSquaredError"});try{const S=document.getElementById("viz-container");await C.fit(y,b,{epochs:t.epochs,callbacks:[Hrn.show.fitCallbacks(S,["loss"],{height:180}),{onEpochEnd:($,k)=>{l.value=k.loss,a.value=Math.floor(($+1)/t.epochs*100)}}]}),r.value=C,await Ye(),v(),cO.success("Training Complete!")}catch(S){cO.error(S.message)}finally{i.value=!1,y.dispose(),b.dispose()}},v=()=>{!r.value||!c.inputMin||Le(()=>{const y=Zg([s.value]),b=Sn(1e-7),w=y.sub(c.inputMin).div(c.inputMax.sub(c.inputMin).add(b)),S=r.value.predict(w).mul(c.outputMax.sub(c.outputMin).add(b)).add(c.outputMin);o.value=Array.from(S.dataSync()).map($=>$.toFixed(4))})};return Nn(()=>{r.value&&r.value.dispose(),Object.values(c).forEach(y=>y?.dispose())}),(y,b)=>{const w=Zt("el-icon"),C=Zt("el-button"),S=Zt("el-header"),$=Zt("el-input-number"),k=Zt("el-option"),T=Zt("el-select"),_=Zt("el-table-column"),E=Zt("el-table"),A=Zt("el-card"),I=Zt("el-empty"),F=Zt("el-col"),R=Zt("el-progress"),L=Zt("el-row"),D=Zt("el-main"),N=Zt("el-container"),M=Zt("el-divider"),z=Zt("el-dialog");return B(),K("div",KDn,[ee(N,{class:"main-layout"},{default:ie(()=>[ee(S,{height:"64px",class:"header"},{default:ie(()=>[Z("div",YDn,[Z("div",XDn,[ee(w,{color:"#409EFF",size:"24"},{default:ie(()=>[ee(x(Uge))]),_:1}),b[6]||(b[6]=Z("span",{class:"logo"},[Jt("AI Function Approximator "),Z("small",{class:"version"},"v2.1")],-1))]),Z("div",ZDn,[r.value?(B(),pe(C,{key:0,type:"info",icon:x(wLe),onClick:b[0]||(b[0]=W=>u.value=!0),plain:"",round:""},{default:ie(()=>[...b[7]||(b[7]=[Jt(" View Weights ",-1)])]),_:1},8,["icon"])):fe("",!0),ee(C,{type:"primary",onClick:m,loading:i.value,size:"large",round:""},{default:ie(()=>[Jt(De(i.value?"TRAINING...":"RUN TRAINING"),1)]),_:1},8,["loading"])])])]),_:1}),ee(D,{class:"content-wrapper"},{default:ie(()=>[ee(L,{gutter:20,class:"full-height-row"},{default:ie(()=>[ee(F,{lg:14,md:24,class:"scroll-col"},{default:ie(()=>[ee(A,{shadow:"never",class:"card"},{header:ie(()=>[Z("div",JDn,[b[9]||(b[9]=Z("span",{class:"card-title"},"1. Config & Dataset",-1)),ee(C,{type:"danger",link:"",icon:x(tfn),onClick:f},{default:ie(()=>[...b[8]||(b[8]=[Jt("Clear Cache",-1)])]),_:1},8,["icon"])])]),default:ie(()=>[Z("div",QDn,[Z("div",e3n,[b[10]||(b[10]=Z("span",{class:"label"},"Input Dim (N)",-1)),ee($,{modelValue:t.inputDim,"onUpdate:modelValue":b[1]||(b[1]=W=>t.inputDim=W),min:1,size:"small"},null,8,["modelValue"])]),Z("div",t3n,[b[11]||(b[11]=Z("span",{class:"label"},"Output Dim (M)",-1)),ee($,{modelValue:t.outputDim,"onUpdate:modelValue":b[2]||(b[2]=W=>t.outputDim=W),min:1,size:"small"},null,8,["modelValue"])]),Z("div",n3n,[b[12]||(b[12]=Z("span",{class:"label"},"Epochs",-1)),ee($,{modelValue:t.epochs,"onUpdate:modelValue":b[3]||(b[3]=W=>t.epochs=W),step:50,size:"small"},null,8,["modelValue"])]),Z("div",r3n,[b[13]||(b[13]=Z("span",{class:"label"},"Learning Rate",-1)),ee(T,{modelValue:t.lr,"onUpdate:modelValue":b[4]||(b[4]=W=>t.lr=W),size:"small",style:{width:"100px"}},{default:ie(()=>[ee(k,{label:"0.1",value:.1}),ee(k,{label:"0.01",value:.01}),ee(k,{label:"0.001",value:.001})]),_:1},8,["modelValue"])])]),ee(E,{data:n.value,border:"",stripe:"","max-height":"300px",size:"small"},{default:ie(()=>[ee(_,{label:"Input Features (X)"},{default:ie(({row:W})=>[Z("div",s3n,[(B(!0),K(rt,null,Ht(W.inputs,(j,U)=>(B(),pe($,{key:U,modelValue:W.inputs[U],"onUpdate:modelValue":Y=>W.inputs[U]=Y,controls:!1,class:"cell-input"},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),_:1}),ee(_,{label:"Target Labels (Y)",width:"160"},{default:ie(({row:W})=>[Z("div",o3n,[(B(!0),K(rt,null,Ht(W.outputs,(j,U)=>(B(),pe($,{key:U,modelValue:W.outputs[U],"onUpdate:modelValue":Y=>W.outputs[U]=Y,controls:!1,class:"cell-input y-text"},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),_:1}),ee(_,{width:"50",align:"center"},{default:ie(W=>[ee(C,{link:"",type:"danger",icon:x(yLe),onClick:j=>h(W.$index)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),ee(C,{icon:x(gne),class:"add-btn",onClick:d,size:"small"},{default:ie(()=>[...b[14]||(b[14]=[Jt("Add Data Sample",-1)])]),_:1},8,["icon"])]),_:1}),ee(A,{shadow:"never",class:"card",style:{"margin-top":"16px"}},{header:ie(()=>[...b[15]||(b[15]=[Z("div",{class:"card-title"},"3. Live Inference",-1)])]),default:ie(()=>[r.value?(B(),K("div",i3n,[Z("div",a3n,[(B(!0),K(rt,null,Ht(s.value,(W,j)=>(B(),K("div",{key:j,class:"predict-field"},[Z("label",null,"x"+De(j+1),1),ee($,{modelValue:s.value[j],"onUpdate:modelValue":U=>s.value[j]=U,onChange:v,size:"default",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),Z("div",l3n,[b[16]||(b[16]=Z("div",{class:"res-header"},"Prediction Result:",-1)),Z("div",u3n,[(B(!0),K(rt,null,Ht(o.value,(W,j)=>(B(),K("div",{key:j,class:"res-item"},[Z("span",c3n,"y"+De(j+1),1),Z("span",f3n,De(W),1)]))),128))])])])):(B(),pe(I,{key:1,description:"Train model to enable prediction","image-size":40}))]),_:1})]),_:1}),ee(F,{lg:10,md:24,class:"scroll-col"},{default:ie(()=>[ee(A,{shadow:"never",class:"card monitor-card"},{header:ie(()=>[...b[17]||(b[17]=[Z("div",{class:"card-title"},"2. Training Monitor",-1)])]),default:ie(()=>[i.value||l.value>0?(B(),K("div",d3n,[Z("div",h3n,[Z("span",null,"Progress: "+De(a.value)+"%",1),ee(R,{percentage:a.value,"show-text":!1,"stroke-width":"8",style:{flex:"1","margin-left":"10px"}},null,8,["percentage"])]),Z("div",p3n,[b[18]||(b[18]=Z("span",null,"MSE Loss:",-1)),Z("span",g3n,De(l.value.toFixed(6)),1)])])):fe("",!0),b[20]||(b[20]=Z("div",{id:"viz-container",class:"viz-wrapper"},null,-1)),!i.value&&l.value===0?(B(),K("div",m3n,[ee(w,{size:"40",color:"#DCDFE6"},{default:ie(()=>[ee(x(Uge))]),_:1}),b[19]||(b[19]=Z("p",null,"Waiting for training...",-1))])):fe("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),ee(z,{modelValue:u.value,"onUpdate:modelValue":b[5]||(b[5]=W=>u.value=W),title:"Neural Network Matrix (Weights & Biases)",width:"850px"},{default:ie(()=>[r.value?(B(),K("div",v3n,[(B(!0),K(rt,null,Ht(r.value.layers,(W,j)=>(B(),K("div",{key:j,class:"layer-block"},[Z("div",y3n,"Layer "+De(j+1)+": "+De(W.getClassName())+" ("+De(W.name)+")",1),Z("div",b3n,[Z("div",w3n,[Z("p",x3n,"Weights (W) - Shape: "+De(W.getWeights()[0]?.shape),1),Z("div",C3n,[Z("table",S3n,[(B(!0),K(rt,null,Ht(p(W,0),(U,Y)=>(B(),K("tr",{key:Y},[(B(!0),K(rt,null,Ht(U,(G,ne)=>(B(),K("td",{key:ne,class:V(g(G))},De(G.toFixed(3)),3))),128))]))),128))])])]),W.getWeights()[1]?(B(),K("div",$3n,[Z("p",k3n,"Bias (b) - Shape: "+De(W.getWeights()[1]?.shape),1),Z("div",E3n,[Z("table",_3n,[Z("tr",null,[(B(!0),K(rt,null,Ht(p(W,1)[0],(U,Y)=>(B(),K("td",{key:Y,class:V(g(U))},De(U.toFixed(3)),3))),128))])])])])):fe("",!0)]),j<r.value.layers.length-1?(B(),pe(M,{key:0})):fe("",!0)]))),128))])):fe("",!0)]),_:1},8,["modelValue"])])}}},A3n=GDn(T3n,[["__scopeId","data-v-b8f7ff81"]]);O1e(A3n).use(qDn).mount("#app")});export default I3n();</script>
    <style rel="stylesheet" crossorigin>body{margin:0;overflow:hidden}.app-container[data-v-b8f7ff81]{background-color:#f8f9fb;height:100vh;display:flex;flex-direction:column;overflow:hidden}.header[data-v-b8f7ff81]{background:#fff;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;flex-shrink:0}.header-inner[data-v-b8f7ff81]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 10px}.logo[data-v-b8f7ff81]{font-size:1.1rem;font-weight:700;color:#1e293b}.version[data-v-b8f7ff81]{font-weight:400;font-size:.7em;opacity:.5;margin-left:5px}.content-wrapper[data-v-b8f7ff81]{flex:1;padding:16px;overflow:hidden}.full-height-row[data-v-b8f7ff81]{height:100%}.scroll-col[data-v-b8f7ff81]{height:100%;overflow-y:auto;padding-bottom:20px}.scroll-col[data-v-b8f7ff81]::-webkit-scrollbar{width:6px}.scroll-col[data-v-b8f7ff81]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.card[data-v-b8f7ff81]{border-radius:12px;border:1px solid #e2e8f0;margin-bottom:0}.card-header[data-v-b8f7ff81]{display:flex;justify-content:space-between;align-items:center}.card-title[data-v-b8f7ff81]{font-weight:600;color:#475569;font-size:.9rem}.config-bar[data-v-b8f7ff81]{display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap;background:#f8fafc;padding:12px;border-radius:8px;border:1px solid #f1f5f9}.config-item[data-v-b8f7ff81]{display:flex;flex-direction:column;gap:4px}.label[data-v-b8f7ff81]{font-size:10px;color:#64748b;font-weight:700;text-transform:uppercase}.data-row-inputs[data-v-b8f7ff81]{display:flex;flex-wrap:wrap;gap:4px}.cell-input[data-v-b8f7ff81]{width:64px!important}.y-text[data-v-b8f7ff81] .el-input__inner{color:#3b82f6;font-weight:700}.add-btn[data-v-b8f7ff81]{margin-top:10px;width:100%;border-style:dashed}.predict-grid[data-v-b8f7ff81]{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:10px;margin-bottom:16px}.predict-field label[data-v-b8f7ff81]{font-size:11px;color:#64748b;display:block;margin-bottom:3px}.result-panel[data-v-b8f7ff81]{background:#f0fdf4;padding:12px;border-radius:8px;border:1px solid #dcfce7}.res-header[data-v-b8f7ff81]{font-size:12px;color:#166534;font-weight:700;margin-bottom:8px}.res-tags[data-v-b8f7ff81]{display:flex;gap:8px;flex-wrap:wrap}.res-item[data-v-b8f7ff81]{background:#16a34a;color:#fff;padding:4px 10px;border-radius:6px;font-family:monospace;display:flex;gap:6px;font-size:13px}.y-label[data-v-b8f7ff81]{opacity:.7;font-size:.8em}.monitor-stats[data-v-b8f7ff81]{margin-bottom:12px;background:#fff;padding:10px;border-radius:8px;border:1px solid #e2e8f0}.stat-row[data-v-b8f7ff81]{display:flex;align-items:center;font-size:11px;margin-bottom:5px}.loss-row[data-v-b8f7ff81]{color:#16a34a;font-weight:700}.loss-val[data-v-b8f7ff81]{margin-left:8px;font-family:monospace}.viz-placeholder[data-v-b8f7ff81]{height:180px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#cbd5e1;gap:10px}.layer-title[data-v-b8f7ff81]{font-weight:700;color:#1e293b;margin-bottom:12px;font-size:14px}.matrix-grid-view[data-v-b8f7ff81]{display:flex;gap:16px;overflow-x:auto;padding-bottom:8px}.matrix-item[data-v-b8f7ff81]{flex:1;min-width:220px}.matrix-label[data-v-b8f7ff81]{font-size:11px;color:#94a3b8;margin-bottom:6px;font-family:monospace}.matrix-scroll[data-v-b8f7ff81]{max-height:250px;overflow:auto;border:1px solid #f1f5f9;border-radius:4px}.m-table[data-v-b8f7ff81]{border-collapse:collapse;width:100%;font-family:monospace;font-size:11px}.m-table td[data-v-b8f7ff81]{border:1px solid #f1f5f9;padding:4px;text-align:center}.v-pos-high[data-v-b8f7ff81]{background:#dcfce7;color:#166534}.v-pos[data-v-b8f7ff81]{background:#f0fdf4;color:#16a34a}.v-neg-high[data-v-b8f7ff81]{background:#fee2e2;color:#991b1b}.v-neg[data-v-b8f7ff81]{background:#fef2f2;color:#ef4444}:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645,.045,.355,1);--el-transition-function-fast-bezier:cubic-bezier(.23,1,.32,1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px;color-scheme:light;--el-color-primary:#409eff;--el-color-primary-light-3:rgb(121,187,255);--el-color-primary-light-5:rgb(160,207,255);--el-color-primary-light-7:rgb(198,226,255);--el-color-primary-light-8:rgb(217,236,255);--el-color-primary-light-9:rgb(236,245,255);--el-color-primary-dark-2:rgb(51,126,204);--el-color-success:#67c23a;--el-color-success-light-3:rgb(149,212,117);--el-color-success-light-5:rgb(179,225,157);--el-color-success-light-7:rgb(209,237,196);--el-color-success-light-8:rgb(225,243,216);--el-color-success-light-9:rgb(240,249,235);--el-color-success-dark-2:rgb(82,155,46);--el-color-warning:#e6a23c;--el-color-warning-light-3:rgb(238,190,119);--el-color-warning-light-5:rgb(243,209,158);--el-color-warning-light-7:rgb(248,227,197);--el-color-warning-light-8:rgb(250,236,216);--el-color-warning-light-9:rgb(253,246,236);--el-color-warning-dark-2:rgb(184,130,48);--el-color-danger:#f56c6c;--el-color-danger-light-3:rgb(248,152,152);--el-color-danger-light-5:rgb(250,182,182);--el-color-danger-light-7:rgb(252,211,211);--el-color-danger-light-8:rgb(253,226,226);--el-color-danger-light-9:rgb(254,240,240);--el-color-danger-dark-2:rgb(196,86,86);--el-color-error:#f56c6c;--el-color-error-light-3:rgb(248,152,152);--el-color-error-light-5:rgb(250,182,182);--el-color-error-light-7:rgb(252,211,211);--el-color-error-light-8:rgb(253,226,226);--el-color-error-light-9:rgb(254,240,240);--el-color-error-dark-2:rgb(196,86,86);--el-color-info:#909399;--el-color-info-light-3:rgb(177,179,184);--el-color-info-light-5:rgb(200,201,204);--el-color-info-light-7:rgb(222,223,224);--el-color-info-light-8:rgb(233,233,235);--el-color-info-light-9:rgb(244,244,245);--el-color-info-dark-2:rgb(115,118,122);--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0,0,0,.04),0px 8px 20px rgba(0,0,0,.08);--el-box-shadow-light:0px 0px 12px rgba(0,0,0,.12);--el-box-shadow-lighter:0px 0px 6px rgba(0,0,0,.12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0,0,0,.08),0px 12px 32px rgba(0,0,0,.12),0px 8px 16px -8px rgba(0,0,0,.16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0,0,0,.8);--el-overlay-color-light:rgba(0,0,0,.7);--el-overlay-color-lighter:rgba(0,0,0,.5);--el-mask-color:rgba(255,255,255,.9);--el-mask-color-extra-light:rgba(255,255,255,.3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transform-origin:center top;transition:var(--el-transition-md-fade)}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transform-origin:center bottom;transition:var(--el-transition-md-fade)}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transform-origin:top left;transition:var(--el-transition-md-fade)}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-to{opacity:0;transform:translateY(-30px)}.el-list-leave-active{position:absolute!important}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.el-icon{--color:inherit;align-items:center;color:var(--color);display:inline-flex;fill:currentColor;font-size:inherit;height:1em;justify-content:center;line-height:1em;position:relative;width:1em}.el-icon.is-loading{animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-affix--fixed{position:fixed}.el-alert{--el-alert-padding:8px 16px;--el-alert-border-radius-base:var(--el-border-radius-base);--el-alert-title-font-size:14px;--el-alert-title-with-description-font-size:16px;--el-alert-description-font-size:14px;--el-alert-close-font-size:16px;--el-alert-close-customed-font-size:14px;--el-alert-icon-size:16px;--el-alert-icon-large-size:28px;align-items:center;background-color:var(--el-color-white);border-radius:var(--el-alert-border-radius-base);box-sizing:border-box;display:flex;margin:0;opacity:1;overflow:hidden;padding:var(--el-alert-padding);position:relative;transition:opacity var(--el-transition-duration-fast);width:100%}.el-alert.is-light .el-alert__close-btn{color:var(--el-text-color-placeholder)}.el-alert.is-dark .el-alert__close-btn,.el-alert.is-dark .el-alert__description{color:var(--el-color-white)}.el-alert.is-center{justify-content:center}.el-alert--primary{--el-alert-bg-color:var(--el-color-primary-light-9)}.el-alert--primary.is-light{background-color:var(--el-alert-bg-color)}.el-alert--primary.is-light,.el-alert--primary.is-light .el-alert__description{color:var(--el-color-primary)}.el-alert--primary.is-dark{background-color:var(--el-color-primary);color:var(--el-color-white)}.el-alert--success{--el-alert-bg-color:var(--el-color-success-light-9)}.el-alert--success.is-light{background-color:var(--el-alert-bg-color)}.el-alert--success.is-light,.el-alert--success.is-light .el-alert__description{color:var(--el-color-success)}.el-alert--success.is-dark{background-color:var(--el-color-success);color:var(--el-color-white)}.el-alert--info{--el-alert-bg-color:var(--el-color-info-light-9)}.el-alert--info.is-light{background-color:var(--el-alert-bg-color)}.el-alert--info.is-light,.el-alert--info.is-light .el-alert__description{color:var(--el-color-info)}.el-alert--info.is-dark{background-color:var(--el-color-info);color:var(--el-color-white)}.el-alert--warning{--el-alert-bg-color:var(--el-color-warning-light-9)}.el-alert--warning.is-light{background-color:var(--el-alert-bg-color)}.el-alert--warning.is-light,.el-alert--warning.is-light .el-alert__description{color:var(--el-color-warning)}.el-alert--warning.is-dark{background-color:var(--el-color-warning);color:var(--el-color-white)}.el-alert--error{--el-alert-bg-color:var(--el-color-error-light-9)}.el-alert--error.is-light{background-color:var(--el-alert-bg-color)}.el-alert--error.is-light,.el-alert--error.is-light .el-alert__description{color:var(--el-color-error)}.el-alert--error.is-dark{background-color:var(--el-color-error);color:var(--el-color-white)}.el-alert__content{display:flex;flex-direction:column;gap:4px}.el-alert .el-alert__icon{font-size:var(--el-alert-icon-size);margin-right:8px;width:var(--el-alert-icon-size)}.el-alert .el-alert__icon.is-big{font-size:var(--el-alert-icon-large-size);margin-right:12px;width:var(--el-alert-icon-large-size)}.el-alert__title{font-size:var(--el-alert-title-font-size);line-height:24px}.el-alert__title.with-description{font-size:var(--el-alert-title-with-description-font-size)}.el-alert .el-alert__description{font-size:var(--el-alert-description-font-size);margin:0}.el-alert .el-alert__close-btn{cursor:pointer;font-size:var(--el-alert-close-font-size);opacity:1;position:absolute;right:16px;top:12px}.el-alert .el-alert__close-btn.is-customed{font-size:var(--el-alert-close-customed-font-size);font-style:normal;line-height:24px;top:8px}.el-alert-fade-enter-from,.el-alert-fade-leave-active{opacity:0}.el-aside{box-sizing:border-box;flex-shrink:0;overflow:auto;width:var(--el-aside-width,300px)}.el-autocomplete{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;display:inline-block;position:relative;width:var(--el-input-width)}.el-autocomplete__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-autocomplete__popper.el-popper,.el-autocomplete__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-autocomplete__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-autocomplete-suggestion{border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-autocomplete-suggestion__header{border-bottom:1px solid var(--el-border-color-lighter);padding:10px}.el-autocomplete-suggestion__footer{border-top:1px solid var(--el-border-color-lighter);padding:10px}.el-autocomplete-suggestion__wrap{box-sizing:border-box;max-height:280px;padding:10px 0}.el-autocomplete-suggestion__list{margin:0;padding:0}.el-autocomplete-suggestion li{color:var(--el-text-color-regular);cursor:pointer;font-size:var(--el-font-size-base);line-height:34px;list-style:none;margin:0;overflow:hidden;padding:0 20px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.el-autocomplete-suggestion li.highlighted,.el-autocomplete-suggestion li:hover{background-color:var(--el-fill-color-light)}.el-autocomplete-suggestion li.divider{border-top:1px solid var(--el-color-black);margin-top:6px}.el-autocomplete-suggestion li.divider:last-child{margin-bottom:-6px}.el-autocomplete-suggestion.is-loading li{align-items:center;color:var(--el-text-color-secondary);cursor:default;display:flex;font-size:20px;height:100px;justify-content:center}.el-autocomplete-suggestion.is-loading li:hover{background-color:var(--el-bg-color-overlay)}.el-avatar{--el-avatar-text-color:var(--el-color-white);--el-avatar-bg-color:var(--el-text-color-disabled);--el-avatar-text-size:14px;--el-avatar-icon-size:18px;--el-avatar-border-radius:var(--el-border-radius-base);--el-avatar-size-large:56px;--el-avatar-size-small:24px;--el-avatar-size:40px;align-items:center;background:var(--el-avatar-bg-color);box-sizing:border-box;color:var(--el-avatar-text-color);display:inline-flex;font-size:var(--el-avatar-text-size);height:var(--el-avatar-size);justify-content:center;outline:none;overflow:hidden;text-align:center;width:var(--el-avatar-size)}.el-avatar>img{display:block;height:100%;width:100%}.el-avatar--circle{border-radius:50%}.el-avatar--square{border-radius:var(--el-avatar-border-radius)}.el-avatar--icon{font-size:var(--el-avatar-icon-size)}.el-avatar--small{--el-avatar-size:24px}.el-avatar--large{--el-avatar-size:56px}.el-backtop{--el-backtop-bg-color:var(--el-bg-color-overlay);--el-backtop-text-color:var(--el-color-primary);--el-backtop-hover-bg-color:var(--el-border-color-extra-light);align-items:center;background-color:var(--el-backtop-bg-color);border-radius:50%;box-shadow:var(--el-box-shadow-lighter);color:var(--el-backtop-text-color);cursor:pointer;display:flex;font-size:20px;height:40px;justify-content:center;position:fixed;width:40px;z-index:5}.el-backtop:hover{background-color:var(--el-backtop-hover-bg-color)}.el-backtop__icon{font-size:20px}.el-badge{--el-badge-bg-color:var(--el-color-danger);--el-badge-radius:10px;--el-badge-font-size:12px;--el-badge-padding:6px;--el-badge-size:18px;display:inline-block;position:relative;vertical-align:middle;width:-moz-fit-content;width:fit-content}.el-badge__content{align-items:center;background-color:var(--el-badge-bg-color);border:1px solid var(--el-bg-color);border-radius:var(--el-badge-radius);color:var(--el-color-white);display:inline-flex;font-size:var(--el-badge-font-size);height:var(--el-badge-size);justify-content:center;padding:0 var(--el-badge-padding);white-space:nowrap}.el-badge__content.is-fixed{position:absolute;right:calc(1px + var(--el-badge-size)/2);top:0;transform:translateY(-50%) translate(100%);z-index:var(--el-index-normal)}.el-badge__content.is-fixed.is-dot{right:5px}.el-badge__content.is-dot{border-radius:50%;height:8px;padding:0;right:0;width:8px}.el-badge__content.is-hide-zero{display:none}.el-badge__content--primary{background-color:var(--el-color-primary)}.el-badge__content--success{background-color:var(--el-color-success)}.el-badge__content--warning{background-color:var(--el-color-warning)}.el-badge__content--info{background-color:var(--el-color-info)}.el-badge__content--danger{background-color:var(--el-color-danger)}.el-breadcrumb{font-size:14px;line-height:1}.el-breadcrumb:after,.el-breadcrumb:before{content:"";display:table}.el-breadcrumb:after{clear:both}.el-breadcrumb__separator{color:var(--el-text-color-placeholder);font-weight:700;margin:0 9px}.el-breadcrumb__separator.el-icon{font-weight:400;margin:0 6px}.el-breadcrumb__separator.el-icon svg{vertical-align:middle}.el-breadcrumb__item{align-items:center;display:inline-flex;float:left}.el-breadcrumb__inner{color:var(--el-text-color-regular)}.el-breadcrumb__inner a,.el-breadcrumb__inner.is-link{color:var(--el-text-color-primary);font-weight:700;text-decoration:none;transition:var(--el-transition-color)}.el-breadcrumb__inner a:hover,.el-breadcrumb__inner.is-link:hover{color:var(--el-color-primary);cursor:pointer}.el-breadcrumb__item:last-child .el-breadcrumb__inner,.el-breadcrumb__item:last-child .el-breadcrumb__inner a,.el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover,.el-breadcrumb__item:last-child .el-breadcrumb__inner:hover{color:var(--el-text-color-regular);cursor:text;font-weight:400}.el-breadcrumb__item:last-child .el-breadcrumb__separator{display:none}.el-button-group>.el-button+.el-button{margin-left:0}.el-button-group>.el-button:first-child:last-child{border-bottom-left-radius:var(--el-border-radius-base);border-bottom-right-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);border-top-right-radius:var(--el-border-radius-base)}.el-button-group>.el-button:first-child:last-child.is-round{border-radius:var(--el-border-radius-round)}.el-button-group>.el-button:first-child:last-child.is-circle{border-radius:50%}.el-button-group>.el-button:not(:first-child):not(:last-child){border-radius:0}.el-button-group>.el-button.is-active,.el-button-group>.el-button:active,.el-button-group>.el-button:focus,.el-button-group>.el-button:hover{z-index:1}.el-button-group--horizontal{display:inline-block;vertical-align:middle}.el-button-group--horizontal:after,.el-button-group--horizontal:before{content:"";display:table}.el-button-group--horizontal:after{clear:both}.el-button-group--horizontal>.el-button{float:left;position:relative}.el-button-group--horizontal>.el-button:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.el-button-group--horizontal>.el-button:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.el-button-group--horizontal>.el-button:not(:last-child){margin-right:-1px}.el-button-group--horizontal .el-button--primary:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--primary:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--primary:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal>.el-dropdown>.el-button{border-bottom-left-radius:0;border-left-color:var(--el-button-divide-border-color);border-top-left-radius:0}.el-button-group--vertical{align-items:stretch;display:inline-flex;flex-direction:column}.el-button-group--vertical>.el-button{margin-top:-1px}.el-button-group--vertical>.el-button:first-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.el-button-group--vertical>.el-button:last-child{border-top-left-radius:0;border-top-right-radius:0}.el-button-group--vertical>.el-dropdown{margin-top:-1px}.el-button-group--vertical>.el-dropdown>.el-button{border-left-color:var(--el-button-divide-border-color);border-top-left-radius:0;border-top-right-radius:0}.el-button-group--vertical .el-button--primary:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--primary:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--primary:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button{--el-button-font-weight:var(--el-font-weight-primary);--el-button-border-color:var(--el-border-color);--el-button-bg-color:var(--el-fill-color-blank);--el-button-text-color:var(--el-text-color-regular);--el-button-disabled-text-color:var(--el-disabled-text-color);--el-button-disabled-bg-color:var(--el-fill-color-blank);--el-button-disabled-border-color:var(--el-border-color-light);--el-button-divide-border-color:rgba(255,255,255,.5);--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-primary-light-9);--el-button-hover-border-color:var(--el-color-primary-light-7);--el-button-active-text-color:var(--el-button-hover-text-color);--el-button-active-border-color:var(--el-color-primary);--el-button-active-bg-color:var(--el-button-hover-bg-color);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-hover-link-text-color:var(--el-text-color-secondary);--el-button-active-color:var(--el-text-color-primary);align-items:center;-webkit-appearance:none;background-color:var(--el-button-bg-color);border:var(--el-border);border-color:var(--el-button-border-color);box-sizing:border-box;color:var(--el-button-text-color);cursor:pointer;display:inline-flex;font-weight:var(--el-button-font-weight);height:32px;justify-content:center;line-height:1;outline:none;text-align:center;transition:.1s;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-button:hover{background-color:var(--el-button-hover-bg-color);border-color:var(--el-button-hover-border-color);color:var(--el-button-hover-text-color);outline:none}.el-button:active{background-color:var(--el-button-active-bg-color);border-color:var(--el-button-active-border-color);color:var(--el-button-active-text-color);outline:none}.el-button:focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px;transition:outline-offset 0s,outline 0s}.el-button>span{align-items:center;display:inline-flex}.el-button+.el-button{margin-left:12px}.el-button{border-radius:var(--el-border-radius-base);font-size:var(--el-font-size-base)}.el-button,.el-button.is-round{padding:8px 15px}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon]+span{margin-left:6px}.el-button [class*=el-icon] svg{vertical-align:bottom}.el-button.is-plain{--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-fill-color-blank);--el-button-hover-border-color:var(--el-color-primary)}.el-button.is-active{background-color:var(--el-button-active-bg-color);border-color:var(--el-button-active-border-color);color:var(--el-button-active-text-color);outline:none}.el-button.is-disabled,.el-button.is-disabled:hover{background-color:var(--el-button-disabled-bg-color);background-image:none;border-color:var(--el-button-disabled-border-color);color:var(--el-button-disabled-text-color);cursor:not-allowed}.el-button.is-loading{pointer-events:none;position:relative}.el-button.is-loading:before{background-color:var(--el-mask-color-extra-light);border-radius:inherit;content:"";inset:-1px;pointer-events:none;position:absolute;z-index:1}.el-button.is-round{border-radius:var(--el-border-radius-round)}.el-button.is-circle{border-radius:50%;padding:8px;width:32px}.el-button.is-text{background-color:transparent;border:0 solid transparent;color:var(--el-button-text-color)}.el-button.is-text.is-disabled{background-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button.is-text:not(.is-disabled):hover{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled):focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px;transition:outline-offset 0s,outline 0s}.el-button.is-text:not(.is-disabled):active{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled).is-has-bg:hover{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg:active{background-color:var(--el-fill-color-dark)}.el-button__text--expand{letter-spacing:.3em;margin-right:-.3em}.el-button.is-link{background:transparent;border-color:transparent;color:var(--el-button-text-color);height:auto;padding:2px}.el-button.is-link:hover{color:var(--el-button-hover-link-text-color)}.el-button.is-link.is-disabled{background-color:transparent!important;border-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button.is-link:not(.is-disabled):active,.el-button.is-link:not(.is-disabled):hover{background-color:transparent;border-color:transparent}.el-button.is-link:not(.is-disabled):active{color:var(--el-button-active-color)}.el-button--text{background:transparent;border-color:transparent;color:var(--el-color-primary);padding-left:0;padding-right:0}.el-button--text.is-disabled{background-color:transparent!important;border-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button--text:not(.is-disabled):hover{background-color:transparent;border-color:transparent;color:var(--el-color-primary-light-3)}.el-button--text:not(.is-disabled):active{background-color:transparent;border-color:transparent;color:var(--el-color-primary-dark-2)}.el-button__link--expand{letter-spacing:.3em;margin-right:-.3em}.el-button--primary{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-primary);--el-button-border-color:var(--el-color-primary);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-active-color:var(--el-color-primary-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-primary-light-5);--el-button-hover-bg-color:var(--el-color-primary-light-3);--el-button-hover-border-color:var(--el-color-primary-light-3);--el-button-active-bg-color:var(--el-color-primary-dark-2);--el-button-active-border-color:var(--el-color-primary-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-primary-light-5);--el-button-disabled-border-color:var(--el-color-primary-light-5)}.el-button--primary.is-link,.el-button--primary.is-plain,.el-button--primary.is-text{--el-button-text-color:var(--el-color-primary);--el-button-bg-color:var(--el-color-primary-light-9);--el-button-border-color:var(--el-color-primary-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-primary);--el-button-hover-border-color:var(--el-color-primary);--el-button-active-text-color:var(--el-color-white)}.el-button--primary.is-link.is-disabled,.el-button--primary.is-link.is-disabled:active,.el-button--primary.is-link.is-disabled:focus,.el-button--primary.is-link.is-disabled:hover,.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover,.el-button--primary.is-text.is-disabled,.el-button--primary.is-text.is-disabled:active,.el-button--primary.is-text.is-disabled:focus,.el-button--primary.is-text.is-disabled:hover{background-color:var(--el-color-primary-light-9);border-color:var(--el-color-primary-light-8);color:var(--el-color-primary-light-5)}.el-button--success{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-success);--el-button-border-color:var(--el-color-success);--el-button-outline-color:var(--el-color-success-light-5);--el-button-active-color:var(--el-color-success-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-success-light-5);--el-button-hover-bg-color:var(--el-color-success-light-3);--el-button-hover-border-color:var(--el-color-success-light-3);--el-button-active-bg-color:var(--el-color-success-dark-2);--el-button-active-border-color:var(--el-color-success-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-success-light-5);--el-button-disabled-border-color:var(--el-color-success-light-5)}.el-button--success.is-link,.el-button--success.is-plain,.el-button--success.is-text{--el-button-text-color:var(--el-color-success);--el-button-bg-color:var(--el-color-success-light-9);--el-button-border-color:var(--el-color-success-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-success);--el-button-hover-border-color:var(--el-color-success);--el-button-active-text-color:var(--el-color-white)}.el-button--success.is-link.is-disabled,.el-button--success.is-link.is-disabled:active,.el-button--success.is-link.is-disabled:focus,.el-button--success.is-link.is-disabled:hover,.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover,.el-button--success.is-text.is-disabled,.el-button--success.is-text.is-disabled:active,.el-button--success.is-text.is-disabled:focus,.el-button--success.is-text.is-disabled:hover{background-color:var(--el-color-success-light-9);border-color:var(--el-color-success-light-8);color:var(--el-color-success-light-5)}.el-button--warning{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-warning);--el-button-border-color:var(--el-color-warning);--el-button-outline-color:var(--el-color-warning-light-5);--el-button-active-color:var(--el-color-warning-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-warning-light-5);--el-button-hover-bg-color:var(--el-color-warning-light-3);--el-button-hover-border-color:var(--el-color-warning-light-3);--el-button-active-bg-color:var(--el-color-warning-dark-2);--el-button-active-border-color:var(--el-color-warning-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-warning-light-5);--el-button-disabled-border-color:var(--el-color-warning-light-5)}.el-button--warning.is-link,.el-button--warning.is-plain,.el-button--warning.is-text{--el-button-text-color:var(--el-color-warning);--el-button-bg-color:var(--el-color-warning-light-9);--el-button-border-color:var(--el-color-warning-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-warning);--el-button-hover-border-color:var(--el-color-warning);--el-button-active-text-color:var(--el-color-white)}.el-button--warning.is-link.is-disabled,.el-button--warning.is-link.is-disabled:active,.el-button--warning.is-link.is-disabled:focus,.el-button--warning.is-link.is-disabled:hover,.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover,.el-button--warning.is-text.is-disabled,.el-button--warning.is-text.is-disabled:active,.el-button--warning.is-text.is-disabled:focus,.el-button--warning.is-text.is-disabled:hover{background-color:var(--el-color-warning-light-9);border-color:var(--el-color-warning-light-8);color:var(--el-color-warning-light-5)}.el-button--danger{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-danger);--el-button-border-color:var(--el-color-danger);--el-button-outline-color:var(--el-color-danger-light-5);--el-button-active-color:var(--el-color-danger-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-danger-light-5);--el-button-hover-bg-color:var(--el-color-danger-light-3);--el-button-hover-border-color:var(--el-color-danger-light-3);--el-button-active-bg-color:var(--el-color-danger-dark-2);--el-button-active-border-color:var(--el-color-danger-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-danger-light-5);--el-button-disabled-border-color:var(--el-color-danger-light-5)}.el-button--danger.is-link,.el-button--danger.is-plain,.el-button--danger.is-text{--el-button-text-color:var(--el-color-danger);--el-button-bg-color:var(--el-color-danger-light-9);--el-button-border-color:var(--el-color-danger-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-danger);--el-button-hover-border-color:var(--el-color-danger);--el-button-active-text-color:var(--el-color-white)}.el-button--danger.is-link.is-disabled,.el-button--danger.is-link.is-disabled:active,.el-button--danger.is-link.is-disabled:focus,.el-button--danger.is-link.is-disabled:hover,.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover,.el-button--danger.is-text.is-disabled,.el-button--danger.is-text.is-disabled:active,.el-button--danger.is-text.is-disabled:focus,.el-button--danger.is-text.is-disabled:hover{background-color:var(--el-color-danger-light-9);border-color:var(--el-color-danger-light-8);color:var(--el-color-danger-light-5)}.el-button--info{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-info);--el-button-border-color:var(--el-color-info);--el-button-outline-color:var(--el-color-info-light-5);--el-button-active-color:var(--el-color-info-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-info-light-5);--el-button-hover-bg-color:var(--el-color-info-light-3);--el-button-hover-border-color:var(--el-color-info-light-3);--el-button-active-bg-color:var(--el-color-info-dark-2);--el-button-active-border-color:var(--el-color-info-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-info-light-5);--el-button-disabled-border-color:var(--el-color-info-light-5)}.el-button--info.is-link,.el-button--info.is-plain,.el-button--info.is-text{--el-button-text-color:var(--el-color-info);--el-button-bg-color:var(--el-color-info-light-9);--el-button-border-color:var(--el-color-info-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-info);--el-button-hover-border-color:var(--el-color-info);--el-button-active-text-color:var(--el-color-white)}.el-button--info.is-link.is-disabled,.el-button--info.is-link.is-disabled:active,.el-button--info.is-link.is-disabled:focus,.el-button--info.is-link.is-disabled:hover,.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover,.el-button--info.is-text.is-disabled,.el-button--info.is-text.is-disabled:active,.el-button--info.is-text.is-disabled:focus,.el-button--info.is-text.is-disabled:hover{background-color:var(--el-color-info-light-9);border-color:var(--el-color-info-light-8);color:var(--el-color-info-light-5)}.el-button--large{--el-button-size:40px;height:var(--el-button-size)}.el-button--large [class*=el-icon]+span{margin-left:8px}.el-button--large{border-radius:var(--el-border-radius-base);font-size:var(--el-font-size-base);padding:12px 19px}.el-button--large.is-round{padding:12px 19px}.el-button--large.is-circle{padding:12px;width:var(--el-button-size)}.el-button--small{--el-button-size:24px;height:var(--el-button-size)}.el-button--small [class*=el-icon]+span{margin-left:4px}.el-button--small{border-radius:calc(var(--el-border-radius-base) - 1px);font-size:12px;padding:5px 11px}.el-button--small.is-round{padding:5px 11px}.el-button--small.is-circle{padding:5px;width:var(--el-button-size)}.el-calendar{--el-calendar-border:var(--el-table-border,1px solid var(--el-border-color-lighter));--el-calendar-header-border-bottom:var(--el-calendar-border);--el-calendar-selected-bg-color:var(--el-color-primary-light-9);--el-calendar-cell-width:85px;background-color:var(--el-fill-color-blank)}.el-calendar__header{border-bottom:var(--el-calendar-header-border-bottom);display:flex;justify-content:space-between;padding:12px 20px}.el-calendar__title{align-self:center;color:var(--el-text-color)}.el-calendar__body{padding:12px 20px 35px}.el-calendar-table{table-layout:fixed;width:100%}.el-calendar-table thead th{color:var(--el-text-color-regular);font-weight:400;padding:12px 0}.el-calendar-table:not(.is-range) td.next,.el-calendar-table:not(.is-range) td.prev{color:var(--el-text-color-placeholder)}.el-calendar-table td{border-bottom:var(--el-calendar-border);border-right:var(--el-calendar-border);transition:background-color var(--el-transition-duration-fast) ease;vertical-align:top}.el-calendar-table td.is-selected{background-color:var(--el-calendar-selected-bg-color)}.el-calendar-table td.is-today{color:var(--el-color-primary)}.el-calendar-table tr:first-child td{border-top:var(--el-calendar-border)}.el-calendar-table tr td:first-child{border-left:var(--el-calendar-border)}.el-calendar-table tr.el-calendar-table__row--hide-border td{border-top:none}.el-calendar-table .el-calendar-day{box-sizing:border-box;height:var(--el-calendar-cell-width);padding:8px}.el-calendar-table .el-calendar-day:hover{background-color:var(--el-calendar-selected-bg-color);cursor:pointer}.el-card{--el-card-border-color:var(--el-border-color-light);--el-card-border-radius:4px;--el-card-padding:20px;--el-card-bg-color:var(--el-fill-color-blank);background-color:var(--el-card-bg-color);border:1px solid var(--el-card-border-color);border-radius:var(--el-card-border-radius);color:var(--el-text-color-primary);display:flex;flex-direction:column;overflow:hidden;transition:var(--el-transition-duration)}.el-card.is-always-shadow,.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover{box-shadow:var(--el-box-shadow-light)}.el-card__header{border-bottom:1px solid var(--el-card-border-color);box-sizing:border-box;padding:calc(var(--el-card-padding) - 2px) var(--el-card-padding)}.el-card__body{flex:1;overflow:auto;padding:var(--el-card-padding)}.el-card__footer{border-top:1px solid var(--el-card-border-color);box-sizing:border-box;padding:calc(var(--el-card-padding) - 2px) var(--el-card-padding)}.el-carousel__item{display:inline-block;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.el-carousel__item,.el-carousel__item.is-active{z-index:calc(var(--el-index-normal) - 1)}.el-carousel__item--card,.el-carousel__item.is-animating{transition:transform .4s ease-in-out}.el-carousel__item--card{width:50%}.el-carousel__item--card.is-in-stage{cursor:pointer;z-index:var(--el-index-normal)}.el-carousel__item--card.is-in-stage.is-hover .el-carousel__mask,.el-carousel__item--card.is-in-stage:hover .el-carousel__mask{opacity:.12}.el-carousel__item--card.is-active{z-index:calc(var(--el-index-normal) + 1)}.el-carousel__item--card-vertical{height:50%;width:100%}.el-carousel__mask{background-color:var(--el-color-white);height:100%;left:0;opacity:.24;position:absolute;top:0;transition:var(--el-transition-duration-fast);width:100%}.el-carousel{--el-carousel-arrow-font-size:12px;--el-carousel-arrow-size:36px;--el-carousel-arrow-background:rgba(31,45,61,.11);--el-carousel-arrow-hover-background:rgba(31,45,61,.23);--el-carousel-indicator-width:30px;--el-carousel-indicator-height:2px;--el-carousel-indicator-padding-horizontal:4px;--el-carousel-indicator-padding-vertical:12px;--el-carousel-indicator-out-color:var(--el-border-color-hover);position:relative}.el-carousel--horizontal,.el-carousel--vertical{overflow:hidden}.el-carousel__container{height:300px;position:relative}.el-carousel__arrow{align-items:center;background-color:var(--el-carousel-arrow-background);border:none;border-radius:50%;color:#fff;cursor:pointer;display:inline-flex;font-size:var(--el-carousel-arrow-font-size);height:var(--el-carousel-arrow-size);justify-content:center;margin:0;outline:none;padding:0;position:absolute;text-align:center;top:50%;transform:translateY(-50%);transition:var(--el-transition-duration);width:var(--el-carousel-arrow-size);z-index:10}.el-carousel__arrow--left{left:16px}.el-carousel__arrow--right{right:16px}.el-carousel__arrow:hover{background-color:var(--el-carousel-arrow-hover-background)}.el-carousel__arrow i{cursor:pointer}.el-carousel__indicators{list-style:none;margin:0;padding:0;position:absolute;z-index:calc(var(--el-index-normal) + 1)}.el-carousel__indicators--horizontal{bottom:0;left:50%;transform:translate(-50%)}.el-carousel__indicators--vertical{right:0;top:50%;transform:translateY(-50%)}.el-carousel__indicators--outside{bottom:calc(var(--el-carousel-indicator-height) + var(--el-carousel-indicator-padding-vertical)*2);position:static;text-align:center;transform:none}.el-carousel__indicators--outside .el-carousel__indicator:hover button{opacity:.64}.el-carousel__indicators--outside button{background-color:var(--el-carousel-indicator-out-color);opacity:.24}.el-carousel__indicators--right{right:0}.el-carousel__indicators--labels{left:0;right:0;text-align:center;transform:none}.el-carousel__indicators--labels .el-carousel__button{color:#000;font-size:12px;height:auto;padding:2px 18px;width:auto}.el-carousel__indicators--labels .el-carousel__indicator{padding:6px 4px}.el-carousel__indicator{background-color:transparent;cursor:pointer}.el-carousel__indicator:hover button{opacity:.72}.el-carousel__indicator--horizontal{display:inline-block;padding:var(--el-carousel-indicator-padding-vertical) var(--el-carousel-indicator-padding-horizontal)}.el-carousel__indicator--vertical{padding:var(--el-carousel-indicator-padding-horizontal) var(--el-carousel-indicator-padding-vertical)}.el-carousel__indicator--vertical .el-carousel__button{height:calc(var(--el-carousel-indicator-width)/2);width:var(--el-carousel-indicator-height)}.el-carousel__indicator.is-active button{opacity:1}.el-carousel__button{background-color:#fff;border:none;cursor:pointer;display:block;height:var(--el-carousel-indicator-height);margin:0;opacity:.48;outline:none;padding:0;transition:var(--el-transition-duration);width:var(--el-carousel-indicator-width)}.carousel-arrow-left-enter-from,.carousel-arrow-left-leave-active{opacity:0;transform:translateY(-50%) translate(-10px)}.carousel-arrow-right-enter-from,.carousel-arrow-right-leave-active{opacity:0;transform:translateY(-50%) translate(10px)}.el-transitioning{filter:url(#elCarouselHorizontal)}.el-transitioning-vertical{filter:url(#elCarouselVertical)}.el-cascader-panel{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);border-radius:var(--el-cascader-menu-radius);display:flex;font-size:var(--el-cascader-menu-font-size);width:-moz-fit-content;width:fit-content}.el-cascader-panel.is-bordered{border:var(--el-cascader-menu-border);border-radius:var(--el-cascader-menu-radius)}.el-cascader-menu{border-right:var(--el-cascader-menu-border);box-sizing:border-box;color:var(--el-cascader-menu-text-color);min-width:180px}.el-cascader-menu:last-child{border-right:none}.el-cascader-menu:last-child .el-cascader-node{padding-right:20px}.el-cascader-menu__wrap.el-scrollbar__wrap{height:204px}.el-cascader-menu__list{box-sizing:border-box;list-style:none;margin:0;min-height:100%;padding:6px 0;position:relative}.el-cascader-menu__hover-zone{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.el-cascader-menu__empty-text{align-items:center;color:var(--el-cascader-color-empty);display:flex;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-cascader-menu__empty-text .is-loading{margin-right:2px}.el-cascader-node{align-items:center;display:flex;height:34px;line-height:34px;outline:none;padding:0 30px 0 20px;position:relative}.el-cascader-node.is-selectable.in-active-path{color:var(--el-cascader-menu-text-color)}.el-cascader-node.in-active-path,.el-cascader-node.is-active,.el-cascader-node.is-selectable.in-checked-path{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader-node:not(.is-disabled){cursor:pointer}.el-cascader-node:not(.is-disabled):focus,.el-cascader-node:not(.is-disabled):hover{background:var(--el-cascader-node-background-hover)}.el-cascader-node.is-disabled{color:var(--el-cascader-node-color-disabled);cursor:not-allowed}.el-cascader-node__prefix{left:10px;position:absolute}.el-cascader-node__postfix{position:absolute;right:10px}.el-cascader-node__label{flex:1;overflow:hidden;padding:0 8px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.el-cascader-node>.el-checkbox,.el-cascader-node>.el-radio{margin-right:0}.el-cascader-node>.el-radio .el-radio__label{padding-left:0}.el-cascader{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);display:inline-block;font-size:var(--el-font-size-base);line-height:32px;outline:none;position:relative;vertical-align:middle}.el-cascader:not(.is-disabled):hover .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset;cursor:pointer}.el-cascader .el-input{cursor:pointer;display:flex}.el-cascader .el-input .el-input__inner{text-overflow:ellipsis}.el-cascader .el-input .el-input__inner:-moz-read-only{cursor:pointer}.el-cascader .el-input .el-input__inner:read-only{cursor:pointer}.el-cascader .el-input .el-input__inner:disabled{cursor:not-allowed}.el-cascader .el-input .el-input__suffix-inner .el-icon svg{vertical-align:middle}.el-cascader .el-input .icon-arrow-down{font-size:14px;transition:transform var(--el-transition-duration)}.el-cascader .el-input .icon-arrow-down.is-reverse{transform:rotate(180deg)}.el-cascader .el-input .icon-circle-close:hover{color:var(--el-input-clear-hover-color,var(--el-text-color-secondary))}.el-cascader .el-input.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color,var(--el-color-primary)) inset}.el-cascader--large{font-size:14px;line-height:40px}.el-cascader--large .el-cascader__tags{gap:6px;padding:8px}.el-cascader--large .el-cascader__search-input{height:24px;margin-left:7px}.el-cascader--small{font-size:12px;line-height:24px}.el-cascader--small .el-cascader__tags{gap:4px;padding:2px}.el-cascader--small .el-cascader__search-input{height:20px;margin-left:5px}.el-cascader.is-disabled .el-cascader__label{color:var(--el-disabled-text-color);z-index:calc(var(--el-index-normal) + 1)}.el-cascader__dropdown{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);border-radius:var(--el-cascader-menu-radius);font-size:var(--el-cascader-menu-font-size)}.el-cascader__dropdown.el-popper{background:var(--el-cascader-menu-fill)}.el-cascader__dropdown.el-popper,.el-cascader__dropdown.el-popper .el-popper__arrow:before{border:var(--el-cascader-menu-border)}.el-cascader__dropdown.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-cascader__dropdown.el-popper{box-shadow:var(--el-cascader-menu-shadow)}.el-cascader__header{border-bottom:1px solid var(--el-border-color-light);padding:10px}.el-cascader__footer{border-top:1px solid var(--el-border-color-light);padding:10px}.el-cascader__tags{box-sizing:border-box;display:flex;flex-wrap:wrap;gap:6px;left:0;line-height:normal;padding:4px;position:absolute;right:30px;text-align:left;top:50%;transform:translateY(-50%)}.el-cascader__tags .el-tag{align-items:center;background:var(--el-cascader-tag-background);display:inline-flex;max-width:100%;text-overflow:ellipsis}.el-cascader__tags .el-tag.el-tag--dark,.el-cascader__tags .el-tag.el-tag--plain{background-color:var(--el-tag-bg-color)}.el-cascader__tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__tags .el-tag:not(.is-hit).el-tag--dark,.el-cascader__tags .el-tag:not(.is-hit).el-tag--plain{border-color:var(--el-tag-border-color)}.el-cascader__tags .el-tag>span{flex:1;line-height:normal;overflow:hidden;text-overflow:ellipsis}.el-cascader__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);color:var(--el-color-white);flex:none}.el-cascader__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-cascader__tags .el-tag+input{margin-left:0}.el-cascader__tags.is-validate{right:55px}.el-cascader__collapse-tags{white-space:normal;z-index:var(--el-index-normal)}.el-cascader__collapse-tags .el-tag{align-items:center;background:var(--el-fill-color);display:inline-flex;max-width:100%;text-overflow:ellipsis}.el-cascader__collapse-tags .el-tag.el-tag--dark,.el-cascader__collapse-tags .el-tag.el-tag--plain{background-color:var(--el-tag-bg-color)}.el-cascader__collapse-tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__collapse-tags .el-tag:not(.is-hit).el-tag--dark,.el-cascader__collapse-tags .el-tag:not(.is-hit).el-tag--plain{border-color:var(--el-tag-border-color)}.el-cascader__collapse-tags .el-tag>span{flex:1;line-height:normal;overflow:hidden;text-overflow:ellipsis}.el-cascader__collapse-tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);color:var(--el-color-white);flex:none}.el-cascader__collapse-tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-cascader__collapse-tags .el-tag+input{margin-left:0}.el-cascader__collapse-tags .el-tag{margin:2px 0}.el-cascader__suggestion-panel{border-radius:var(--el-cascader-menu-radius)}.el-cascader__suggestion-list{color:var(--el-cascader-menu-text-color);font-size:var(--el-font-size-base);margin:0;max-height:204px;padding:6px 0;text-align:center}.el-cascader__suggestion-item{align-items:center;cursor:pointer;display:flex;height:34px;justify-content:space-between;outline:none;padding:0 15px;text-align:left}.el-cascader__suggestion-item:focus,.el-cascader__suggestion-item:hover{background:var(--el-cascader-node-background-hover)}.el-cascader__suggestion-item.is-checked{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader__suggestion-item>span{margin-right:10px}.el-cascader__empty-text{color:var(--el-cascader-color-empty);margin:10px 0}.el-cascader__search-input{background:transparent;border:none;box-sizing:border-box;color:var(--el-cascader-menu-text-color);flex:1;height:24px;margin-left:7px;min-width:60px;outline:none;padding:0}.el-cascader__search-input::-moz-placeholder{color:transparent}.el-cascader__search-input::placeholder{color:transparent}.el-check-tag{background-color:var(--el-color-info-light-9);border-radius:var(--el-border-radius-base);color:var(--el-color-info);cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:700;line-height:var(--el-font-size-base);padding:7px 15px;transition:var(--el-transition-all)}.el-check-tag:hover{background-color:var(--el-color-info-light-7)}.el-check-tag.el-check-tag--primary.is-checked{background-color:var(--el-color-primary-light-8);color:var(--el-color-primary)}.el-check-tag.el-check-tag--primary.is-checked:hover{background-color:var(--el-color-primary-light-7)}.el-check-tag.el-check-tag--primary.is-checked.is-disabled{background-color:var(--el-color-primary-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--primary.is-checked.is-disabled:hover{background-color:var(--el-color-primary-light-8)}.el-check-tag.el-check-tag--primary.is-disabled{background-color:var(--el-color-info-light-9);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--primary.is-disabled:hover{background-color:var(--el-color-info-light-9)}.el-check-tag.el-check-tag--success.is-checked{background-color:var(--el-color-success-light-8);color:var(--el-color-success)}.el-check-tag.el-check-tag--success.is-checked:hover{background-color:var(--el-color-success-light-7)}.el-check-tag.el-check-tag--success.is-checked.is-disabled{background-color:var(--el-color-success-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--success.is-checked.is-disabled:hover{background-color:var(--el-color-success-light-8)}.el-check-tag.el-check-tag--success.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--success.is-disabled,.el-check-tag.el-check-tag--success.is-disabled:hover{background-color:var(--el-color-success-light-9)}.el-check-tag.el-check-tag--warning.is-checked{background-color:var(--el-color-warning-light-8);color:var(--el-color-warning)}.el-check-tag.el-check-tag--warning.is-checked:hover{background-color:var(--el-color-warning-light-7)}.el-check-tag.el-check-tag--warning.is-checked.is-disabled{background-color:var(--el-color-warning-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--warning.is-checked.is-disabled:hover{background-color:var(--el-color-warning-light-8)}.el-check-tag.el-check-tag--warning.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--warning.is-disabled,.el-check-tag.el-check-tag--warning.is-disabled:hover{background-color:var(--el-color-warning-light-9)}.el-check-tag.el-check-tag--danger.is-checked{background-color:var(--el-color-danger-light-8);color:var(--el-color-danger)}.el-check-tag.el-check-tag--danger.is-checked:hover{background-color:var(--el-color-danger-light-7)}.el-check-tag.el-check-tag--danger.is-checked.is-disabled{background-color:var(--el-color-danger-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--danger.is-checked.is-disabled:hover{background-color:var(--el-color-danger-light-8)}.el-check-tag.el-check-tag--danger.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--danger.is-disabled,.el-check-tag.el-check-tag--danger.is-disabled:hover{background-color:var(--el-color-danger-light-9)}.el-check-tag.el-check-tag--error.is-checked{background-color:var(--el-color-error-light-8);color:var(--el-color-error)}.el-check-tag.el-check-tag--error.is-checked:hover{background-color:var(--el-color-error-light-7)}.el-check-tag.el-check-tag--error.is-checked.is-disabled{background-color:var(--el-color-error-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--error.is-checked.is-disabled:hover{background-color:var(--el-color-error-light-8)}.el-check-tag.el-check-tag--error.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--error.is-disabled,.el-check-tag.el-check-tag--error.is-disabled:hover{background-color:var(--el-color-error-light-9)}.el-check-tag.el-check-tag--info.is-checked{background-color:var(--el-color-info-light-8);color:var(--el-color-info)}.el-check-tag.el-check-tag--info.is-checked:hover{background-color:var(--el-color-info-light-7)}.el-check-tag.el-check-tag--info.is-checked.is-disabled{background-color:var(--el-color-info-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--info.is-checked.is-disabled:hover{background-color:var(--el-color-info-light-8)}.el-check-tag.el-check-tag--info.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--info.is-disabled,.el-check-tag.el-check-tag--info.is-disabled:hover{background-color:var(--el-color-info-light-9)}.el-checkbox-button{--el-checkbox-button-checked-bg-color:var(--el-color-primary);--el-checkbox-button-checked-text-color:var(--el-color-white);--el-checkbox-button-checked-border-color:var(--el-color-primary);display:inline-block;position:relative}.el-checkbox-button__inner{-webkit-appearance:none;background:var(--el-button-bg-color,var(--el-fill-color-blank));border-radius:0;box-sizing:border-box;color:var(--el-button-text-color,var(--el-text-color-regular));cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:var(--el-checkbox-font-weight);line-height:1;margin:0;outline:var(--el-border);padding:8px 15px;position:relative;text-align:center;transition:var(--el-transition-all);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-checkbox-button__inner.is-round{padding:8px 15px}.el-checkbox-button__inner:hover{color:var(--el-color-primary)}.el-checkbox-button__inner [class*=el-icon-]{line-height:.9}.el-checkbox-button__inner [class*=el-icon-]+span{margin-left:5px}.el-checkbox-button__original{margin:0;opacity:0;outline:none;position:absolute;z-index:-1}.el-checkbox-button.is-checked .el-checkbox-button__inner{background-color:var(--el-checkbox-button-checked-bg-color);border-color:var(--el-checkbox-button-checked-border-color);box-shadow:-1px 0 0 0 var(--el-color-primary-light-7);color:var(--el-checkbox-button-checked-text-color)}.el-checkbox-button.is-checked:first-child .el-checkbox-button__inner{border-left-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button.is-disabled .el-checkbox-button__inner{background-color:var(--el-button-disabled-bg-color,var(--el-fill-color-blank));background-image:none;border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none;color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox-button.is-disabled:first-child .el-checkbox-button__inner{border-left-color:var(--el-button-disabled-border-color,var(--el-border-color-light))}.el-checkbox-button:first-child .el-checkbox-button__inner{border-bottom-left-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);box-shadow:none!important}.el-checkbox-button.is-focus .el-checkbox-button__inner{border-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button:last-child .el-checkbox-button__inner{border-bottom-right-radius:var(--el-border-radius-base);border-top-right-radius:var(--el-border-radius-base)}.el-checkbox-button--large .el-checkbox-button__inner{border-radius:0;font-size:var(--el-font-size-base);padding:12px 19px}.el-checkbox-button--large .el-checkbox-button__inner.is-round{padding:12px 19px}.el-checkbox-button--small .el-checkbox-button__inner{border-radius:0;font-size:12px;padding:5px 11px}.el-checkbox-button--small .el-checkbox-button__inner.is-round{padding:5px 11px}.el-checkbox-group{font-size:0;line-height:0}.el-checkbox{--el-checkbox-font-size:14px;--el-checkbox-font-weight:var(--el-font-weight-primary);--el-checkbox-text-color:var(--el-text-color-regular);--el-checkbox-input-height:14px;--el-checkbox-input-width:14px;--el-checkbox-border-radius:var(--el-border-radius-small);--el-checkbox-bg-color:var(--el-fill-color-blank);--el-checkbox-input-border:var(--el-border);--el-checkbox-disabled-border-color:var(--el-border-color);--el-checkbox-disabled-input-fill:var(--el-fill-color-light);--el-checkbox-disabled-icon-color:var(--el-text-color-placeholder);--el-checkbox-disabled-checked-input-fill:var(--el-border-color-extra-light);--el-checkbox-disabled-checked-input-border-color:var(--el-border-color);--el-checkbox-disabled-checked-icon-color:var(--el-text-color-placeholder);--el-checkbox-checked-text-color:var(--el-color-primary);--el-checkbox-checked-input-border-color:var(--el-color-primary);--el-checkbox-checked-bg-color:var(--el-color-primary);--el-checkbox-checked-icon-color:var(--el-color-white);--el-checkbox-input-border-color-hover:var(--el-color-primary);align-items:center;color:var(--el-checkbox-text-color);cursor:pointer;display:inline-flex;font-size:var(--el-font-size-base);font-weight:var(--el-checkbox-font-weight);height:var(--el-checkbox-height,32px);margin-right:30px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-checkbox.is-disabled{cursor:not-allowed}.el-checkbox.is-bordered{border:var(--el-border);border-radius:var(--el-border-radius-base);box-sizing:border-box;padding:0 15px 0 9px}.el-checkbox.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-checkbox.is-bordered.is-disabled{border-color:var(--el-border-color-lighter)}.el-checkbox.is-bordered.el-checkbox--large{border-radius:var(--el-border-radius-base);padding:0 19px 0 11px}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__label{font-size:var(--el-font-size-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{border-radius:calc(var(--el-border-radius-base) - 1px);padding:0 11px 0 7px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox input:focus-visible+.el-checkbox__inner{border-radius:var(--el-checkbox-border-radius);outline:2px solid var(--el-checkbox-input-border-color-hover);outline-offset:1px}.el-checkbox__input{cursor:pointer;display:inline-flex;outline:none;position:relative;white-space:nowrap}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:var(--el-checkbox-disabled-input-fill);border-color:var(--el-checkbox-disabled-border-color);cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-icon-color);cursor:not-allowed;will-change:transform}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-disabled-checked-icon-color);border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-checked-icon-color);transform:translate(-45%,-60%) rotate(45deg) scaleY(1)}.el-checkbox__input.is-checked+.el-checkbox__label{color:var(--el-checkbox-checked-text-color)}.el-checkbox__input.is-focus:not(.is-checked) .el-checkbox__original:not(:focus-visible){border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-checked-icon-color);content:"";display:block;height:2px;left:0;position:absolute;right:0;top:5px;transform:scale(.5)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:after{display:none}.el-checkbox__inner{background-color:var(--el-checkbox-bg-color);border:var(--el-checkbox-input-border);border-radius:var(--el-checkbox-border-radius);box-sizing:border-box;display:inline-block;height:var(--el-checkbox-input-height);position:relative;transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46),outline .25s cubic-bezier(.71,-.46,.29,1.46);width:var(--el-checkbox-input-width);z-index:var(--el-index-normal)}.el-checkbox__inner:hover{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__inner:after{border:1px solid transparent;border-left:0;border-top:0;box-sizing:content-box;content:"";height:7px;left:50%;position:absolute;top:50%;transform:translate(-45%,-60%) rotate(45deg) scaleY(0);transform-origin:center;transition:transform .15s ease-in .05s;width:3px}.el-checkbox__original{height:0;margin:0;opacity:0;outline:none;position:absolute;width:0;z-index:-1}.el-checkbox__label{display:inline-block;font-size:var(--el-checkbox-font-size);line-height:1;padding-left:8px}.el-checkbox.el-checkbox--large{height:40px}.el-checkbox.el-checkbox--large .el-checkbox__label{font-size:14px}.el-checkbox.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.el-checkbox--small{height:24px}.el-checkbox.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.el-checkbox--small .el-checkbox__input.is-indeterminate .el-checkbox__inner:before{top:4px}.el-checkbox.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox:last-of-type{margin-right:0}[class*=el-col-]{box-sizing:border-box}[class*=el-col-].is-guttered{display:block;min-height:1px}.el-col-0{flex:0 0 0%;max-width:0}.el-col-0,.el-col-0.is-guttered{display:none}.el-col-offset-0{margin-left:0}.el-col-pull-0{position:relative;right:0}.el-col-push-0{left:0;position:relative}.el-col-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-1,.el-col-1.is-guttered{display:block}.el-col-offset-1{margin-left:4.1666666667%}.el-col-pull-1{position:relative;right:4.1666666667%}.el-col-push-1{left:4.1666666667%;position:relative}.el-col-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-2,.el-col-2.is-guttered{display:block}.el-col-offset-2{margin-left:8.3333333333%}.el-col-pull-2{position:relative;right:8.3333333333%}.el-col-push-2{left:8.3333333333%;position:relative}.el-col-3{flex:0 0 12.5%;max-width:12.5%}.el-col-3,.el-col-3.is-guttered{display:block}.el-col-offset-3{margin-left:12.5%}.el-col-pull-3{position:relative;right:12.5%}.el-col-push-3{left:12.5%;position:relative}.el-col-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-4,.el-col-4.is-guttered{display:block}.el-col-offset-4{margin-left:16.6666666667%}.el-col-pull-4{position:relative;right:16.6666666667%}.el-col-push-4{left:16.6666666667%;position:relative}.el-col-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-5,.el-col-5.is-guttered{display:block}.el-col-offset-5{margin-left:20.8333333333%}.el-col-pull-5{position:relative;right:20.8333333333%}.el-col-push-5{left:20.8333333333%;position:relative}.el-col-6{flex:0 0 25%;max-width:25%}.el-col-6,.el-col-6.is-guttered{display:block}.el-col-offset-6{margin-left:25%}.el-col-pull-6{position:relative;right:25%}.el-col-push-6{left:25%;position:relative}.el-col-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-7,.el-col-7.is-guttered{display:block}.el-col-offset-7{margin-left:29.1666666667%}.el-col-pull-7{position:relative;right:29.1666666667%}.el-col-push-7{left:29.1666666667%;position:relative}.el-col-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-8,.el-col-8.is-guttered{display:block}.el-col-offset-8{margin-left:33.3333333333%}.el-col-pull-8{position:relative;right:33.3333333333%}.el-col-push-8{left:33.3333333333%;position:relative}.el-col-9{flex:0 0 37.5%;max-width:37.5%}.el-col-9,.el-col-9.is-guttered{display:block}.el-col-offset-9{margin-left:37.5%}.el-col-pull-9{position:relative;right:37.5%}.el-col-push-9{left:37.5%;position:relative}.el-col-10{flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-10,.el-col-10.is-guttered{display:block}.el-col-offset-10{margin-left:41.6666666667%}.el-col-pull-10{position:relative;right:41.6666666667%}.el-col-push-10{left:41.6666666667%;position:relative}.el-col-11{flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-11,.el-col-11.is-guttered{display:block}.el-col-offset-11{margin-left:45.8333333333%}.el-col-pull-11{position:relative;right:45.8333333333%}.el-col-push-11{left:45.8333333333%;position:relative}.el-col-12{flex:0 0 50%;max-width:50%}.el-col-12,.el-col-12.is-guttered{display:block}.el-col-offset-12{margin-left:50%}.el-col-pull-12{position:relative;right:50%}.el-col-push-12{left:50%;position:relative}.el-col-13{flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-13,.el-col-13.is-guttered{display:block}.el-col-offset-13{margin-left:54.1666666667%}.el-col-pull-13{position:relative;right:54.1666666667%}.el-col-push-13{left:54.1666666667%;position:relative}.el-col-14{flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-14,.el-col-14.is-guttered{display:block}.el-col-offset-14{margin-left:58.3333333333%}.el-col-pull-14{position:relative;right:58.3333333333%}.el-col-push-14{left:58.3333333333%;position:relative}.el-col-15{flex:0 0 62.5%;max-width:62.5%}.el-col-15,.el-col-15.is-guttered{display:block}.el-col-offset-15{margin-left:62.5%}.el-col-pull-15{position:relative;right:62.5%}.el-col-push-15{left:62.5%;position:relative}.el-col-16{flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-16,.el-col-16.is-guttered{display:block}.el-col-offset-16{margin-left:66.6666666667%}.el-col-pull-16{position:relative;right:66.6666666667%}.el-col-push-16{left:66.6666666667%;position:relative}.el-col-17{flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-17,.el-col-17.is-guttered{display:block}.el-col-offset-17{margin-left:70.8333333333%}.el-col-pull-17{position:relative;right:70.8333333333%}.el-col-push-17{left:70.8333333333%;position:relative}.el-col-18{flex:0 0 75%;max-width:75%}.el-col-18,.el-col-18.is-guttered{display:block}.el-col-offset-18{margin-left:75%}.el-col-pull-18{position:relative;right:75%}.el-col-push-18{left:75%;position:relative}.el-col-19{flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-19,.el-col-19.is-guttered{display:block}.el-col-offset-19{margin-left:79.1666666667%}.el-col-pull-19{position:relative;right:79.1666666667%}.el-col-push-19{left:79.1666666667%;position:relative}.el-col-20{flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-20,.el-col-20.is-guttered{display:block}.el-col-offset-20{margin-left:83.3333333333%}.el-col-pull-20{position:relative;right:83.3333333333%}.el-col-push-20{left:83.3333333333%;position:relative}.el-col-21{flex:0 0 87.5%;max-width:87.5%}.el-col-21,.el-col-21.is-guttered{display:block}.el-col-offset-21{margin-left:87.5%}.el-col-pull-21{position:relative;right:87.5%}.el-col-push-21{left:87.5%;position:relative}.el-col-22{flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-22,.el-col-22.is-guttered{display:block}.el-col-offset-22{margin-left:91.6666666667%}.el-col-pull-22{position:relative;right:91.6666666667%}.el-col-push-22{left:91.6666666667%;position:relative}.el-col-23{flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-23,.el-col-23.is-guttered{display:block}.el-col-offset-23{margin-left:95.8333333333%}.el-col-pull-23{position:relative;right:95.8333333333%}.el-col-push-23{left:95.8333333333%;position:relative}.el-col-24{flex:0 0 100%;max-width:100%}.el-col-24,.el-col-24.is-guttered{display:block}.el-col-offset-24{margin-left:100%}.el-col-pull-24{position:relative;right:100%}.el-col-push-24{left:100%;position:relative}@media only screen and (max-width:767px){.el-col-xs-0{display:none;flex:0 0 0%;max-width:0}.el-col-xs-0.is-guttered{display:none}.el-col-xs-offset-0{margin-left:0}.el-col-xs-pull-0{position:relative;right:0}.el-col-xs-push-0{left:0;position:relative}.el-col-xs-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-xs-1,.el-col-xs-1.is-guttered{display:block}.el-col-xs-offset-1{margin-left:4.1666666667%}.el-col-xs-pull-1{position:relative;right:4.1666666667%}.el-col-xs-push-1{left:4.1666666667%;position:relative}.el-col-xs-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-xs-2,.el-col-xs-2.is-guttered{display:block}.el-col-xs-offset-2{margin-left:8.3333333333%}.el-col-xs-pull-2{position:relative;right:8.3333333333%}.el-col-xs-push-2{left:8.3333333333%;position:relative}.el-col-xs-3{flex:0 0 12.5%;max-width:12.5%}.el-col-xs-3,.el-col-xs-3.is-guttered{display:block}.el-col-xs-offset-3{margin-left:12.5%}.el-col-xs-pull-3{position:relative;right:12.5%}.el-col-xs-push-3{left:12.5%;position:relative}.el-col-xs-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-xs-4,.el-col-xs-4.is-guttered{display:block}.el-col-xs-offset-4{margin-left:16.6666666667%}.el-col-xs-pull-4{position:relative;right:16.6666666667%}.el-col-xs-push-4{left:16.6666666667%;position:relative}.el-col-xs-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-xs-5,.el-col-xs-5.is-guttered{display:block}.el-col-xs-offset-5{margin-left:20.8333333333%}.el-col-xs-pull-5{position:relative;right:20.8333333333%}.el-col-xs-push-5{left:20.8333333333%;position:relative}.el-col-xs-6{flex:0 0 25%;max-width:25%}.el-col-xs-6,.el-col-xs-6.is-guttered{display:block}.el-col-xs-offset-6{margin-left:25%}.el-col-xs-pull-6{position:relative;right:25%}.el-col-xs-push-6{left:25%;position:relative}.el-col-xs-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-xs-7,.el-col-xs-7.is-guttered{display:block}.el-col-xs-offset-7{margin-left:29.1666666667%}.el-col-xs-pull-7{position:relative;right:29.1666666667%}.el-col-xs-push-7{left:29.1666666667%;position:relative}.el-col-xs-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-xs-8,.el-col-xs-8.is-guttered{display:block}.el-col-xs-offset-8{margin-left:33.3333333333%}.el-col-xs-pull-8{position:relative;right:33.3333333333%}.el-col-xs-push-8{left:33.3333333333%;position:relative}.el-col-xs-9{flex:0 0 37.5%;max-width:37.5%}.el-col-xs-9,.el-col-xs-9.is-guttered{display:block}.el-col-xs-offset-9{margin-left:37.5%}.el-col-xs-pull-9{position:relative;right:37.5%}.el-col-xs-push-9{left:37.5%;position:relative}.el-col-xs-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-xs-10.is-guttered{display:block}.el-col-xs-offset-10{margin-left:41.6666666667%}.el-col-xs-pull-10{position:relative;right:41.6666666667%}.el-col-xs-push-10{left:41.6666666667%;position:relative}.el-col-xs-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-xs-11.is-guttered{display:block}.el-col-xs-offset-11{margin-left:45.8333333333%}.el-col-xs-pull-11{position:relative;right:45.8333333333%}.el-col-xs-push-11{left:45.8333333333%;position:relative}.el-col-xs-12{display:block;flex:0 0 50%;max-width:50%}.el-col-xs-12.is-guttered{display:block}.el-col-xs-offset-12{margin-left:50%}.el-col-xs-pull-12{position:relative;right:50%}.el-col-xs-push-12{left:50%;position:relative}.el-col-xs-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-xs-13.is-guttered{display:block}.el-col-xs-offset-13{margin-left:54.1666666667%}.el-col-xs-pull-13{position:relative;right:54.1666666667%}.el-col-xs-push-13{left:54.1666666667%;position:relative}.el-col-xs-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-xs-14.is-guttered{display:block}.el-col-xs-offset-14{margin-left:58.3333333333%}.el-col-xs-pull-14{position:relative;right:58.3333333333%}.el-col-xs-push-14{left:58.3333333333%;position:relative}.el-col-xs-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-xs-15.is-guttered{display:block}.el-col-xs-offset-15{margin-left:62.5%}.el-col-xs-pull-15{position:relative;right:62.5%}.el-col-xs-push-15{left:62.5%;position:relative}.el-col-xs-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-xs-16.is-guttered{display:block}.el-col-xs-offset-16{margin-left:66.6666666667%}.el-col-xs-pull-16{position:relative;right:66.6666666667%}.el-col-xs-push-16{left:66.6666666667%;position:relative}.el-col-xs-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-xs-17.is-guttered{display:block}.el-col-xs-offset-17{margin-left:70.8333333333%}.el-col-xs-pull-17{position:relative;right:70.8333333333%}.el-col-xs-push-17{left:70.8333333333%;position:relative}.el-col-xs-18{display:block;flex:0 0 75%;max-width:75%}.el-col-xs-18.is-guttered{display:block}.el-col-xs-offset-18{margin-left:75%}.el-col-xs-pull-18{position:relative;right:75%}.el-col-xs-push-18{left:75%;position:relative}.el-col-xs-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-xs-19.is-guttered{display:block}.el-col-xs-offset-19{margin-left:79.1666666667%}.el-col-xs-pull-19{position:relative;right:79.1666666667%}.el-col-xs-push-19{left:79.1666666667%;position:relative}.el-col-xs-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-xs-20.is-guttered{display:block}.el-col-xs-offset-20{margin-left:83.3333333333%}.el-col-xs-pull-20{position:relative;right:83.3333333333%}.el-col-xs-push-20{left:83.3333333333%;position:relative}.el-col-xs-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-xs-21.is-guttered{display:block}.el-col-xs-offset-21{margin-left:87.5%}.el-col-xs-pull-21{position:relative;right:87.5%}.el-col-xs-push-21{left:87.5%;position:relative}.el-col-xs-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-xs-22.is-guttered{display:block}.el-col-xs-offset-22{margin-left:91.6666666667%}.el-col-xs-pull-22{position:relative;right:91.6666666667%}.el-col-xs-push-22{left:91.6666666667%;position:relative}.el-col-xs-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-xs-23.is-guttered{display:block}.el-col-xs-offset-23{margin-left:95.8333333333%}.el-col-xs-pull-23{position:relative;right:95.8333333333%}.el-col-xs-push-23{left:95.8333333333%;position:relative}.el-col-xs-24{display:block;flex:0 0 100%;max-width:100%}.el-col-xs-24.is-guttered{display:block}.el-col-xs-offset-24{margin-left:100%}.el-col-xs-pull-24{position:relative;right:100%}.el-col-xs-push-24{left:100%;position:relative}}@media only screen and (min-width:768px){.el-col-sm-0{display:none;flex:0 0 0%;max-width:0}.el-col-sm-0.is-guttered{display:none}.el-col-sm-offset-0{margin-left:0}.el-col-sm-pull-0{position:relative;right:0}.el-col-sm-push-0{left:0;position:relative}.el-col-sm-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-sm-1,.el-col-sm-1.is-guttered{display:block}.el-col-sm-offset-1{margin-left:4.1666666667%}.el-col-sm-pull-1{position:relative;right:4.1666666667%}.el-col-sm-push-1{left:4.1666666667%;position:relative}.el-col-sm-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-sm-2,.el-col-sm-2.is-guttered{display:block}.el-col-sm-offset-2{margin-left:8.3333333333%}.el-col-sm-pull-2{position:relative;right:8.3333333333%}.el-col-sm-push-2{left:8.3333333333%;position:relative}.el-col-sm-3{flex:0 0 12.5%;max-width:12.5%}.el-col-sm-3,.el-col-sm-3.is-guttered{display:block}.el-col-sm-offset-3{margin-left:12.5%}.el-col-sm-pull-3{position:relative;right:12.5%}.el-col-sm-push-3{left:12.5%;position:relative}.el-col-sm-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-sm-4,.el-col-sm-4.is-guttered{display:block}.el-col-sm-offset-4{margin-left:16.6666666667%}.el-col-sm-pull-4{position:relative;right:16.6666666667%}.el-col-sm-push-4{left:16.6666666667%;position:relative}.el-col-sm-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-sm-5,.el-col-sm-5.is-guttered{display:block}.el-col-sm-offset-5{margin-left:20.8333333333%}.el-col-sm-pull-5{position:relative;right:20.8333333333%}.el-col-sm-push-5{left:20.8333333333%;position:relative}.el-col-sm-6{flex:0 0 25%;max-width:25%}.el-col-sm-6,.el-col-sm-6.is-guttered{display:block}.el-col-sm-offset-6{margin-left:25%}.el-col-sm-pull-6{position:relative;right:25%}.el-col-sm-push-6{left:25%;position:relative}.el-col-sm-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-sm-7,.el-col-sm-7.is-guttered{display:block}.el-col-sm-offset-7{margin-left:29.1666666667%}.el-col-sm-pull-7{position:relative;right:29.1666666667%}.el-col-sm-push-7{left:29.1666666667%;position:relative}.el-col-sm-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-sm-8,.el-col-sm-8.is-guttered{display:block}.el-col-sm-offset-8{margin-left:33.3333333333%}.el-col-sm-pull-8{position:relative;right:33.3333333333%}.el-col-sm-push-8{left:33.3333333333%;position:relative}.el-col-sm-9{flex:0 0 37.5%;max-width:37.5%}.el-col-sm-9,.el-col-sm-9.is-guttered{display:block}.el-col-sm-offset-9{margin-left:37.5%}.el-col-sm-pull-9{position:relative;right:37.5%}.el-col-sm-push-9{left:37.5%;position:relative}.el-col-sm-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-sm-10.is-guttered{display:block}.el-col-sm-offset-10{margin-left:41.6666666667%}.el-col-sm-pull-10{position:relative;right:41.6666666667%}.el-col-sm-push-10{left:41.6666666667%;position:relative}.el-col-sm-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-sm-11.is-guttered{display:block}.el-col-sm-offset-11{margin-left:45.8333333333%}.el-col-sm-pull-11{position:relative;right:45.8333333333%}.el-col-sm-push-11{left:45.8333333333%;position:relative}.el-col-sm-12{display:block;flex:0 0 50%;max-width:50%}.el-col-sm-12.is-guttered{display:block}.el-col-sm-offset-12{margin-left:50%}.el-col-sm-pull-12{position:relative;right:50%}.el-col-sm-push-12{left:50%;position:relative}.el-col-sm-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-sm-13.is-guttered{display:block}.el-col-sm-offset-13{margin-left:54.1666666667%}.el-col-sm-pull-13{position:relative;right:54.1666666667%}.el-col-sm-push-13{left:54.1666666667%;position:relative}.el-col-sm-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-sm-14.is-guttered{display:block}.el-col-sm-offset-14{margin-left:58.3333333333%}.el-col-sm-pull-14{position:relative;right:58.3333333333%}.el-col-sm-push-14{left:58.3333333333%;position:relative}.el-col-sm-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-sm-15.is-guttered{display:block}.el-col-sm-offset-15{margin-left:62.5%}.el-col-sm-pull-15{position:relative;right:62.5%}.el-col-sm-push-15{left:62.5%;position:relative}.el-col-sm-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-sm-16.is-guttered{display:block}.el-col-sm-offset-16{margin-left:66.6666666667%}.el-col-sm-pull-16{position:relative;right:66.6666666667%}.el-col-sm-push-16{left:66.6666666667%;position:relative}.el-col-sm-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-sm-17.is-guttered{display:block}.el-col-sm-offset-17{margin-left:70.8333333333%}.el-col-sm-pull-17{position:relative;right:70.8333333333%}.el-col-sm-push-17{left:70.8333333333%;position:relative}.el-col-sm-18{display:block;flex:0 0 75%;max-width:75%}.el-col-sm-18.is-guttered{display:block}.el-col-sm-offset-18{margin-left:75%}.el-col-sm-pull-18{position:relative;right:75%}.el-col-sm-push-18{left:75%;position:relative}.el-col-sm-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-sm-19.is-guttered{display:block}.el-col-sm-offset-19{margin-left:79.1666666667%}.el-col-sm-pull-19{position:relative;right:79.1666666667%}.el-col-sm-push-19{left:79.1666666667%;position:relative}.el-col-sm-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-sm-20.is-guttered{display:block}.el-col-sm-offset-20{margin-left:83.3333333333%}.el-col-sm-pull-20{position:relative;right:83.3333333333%}.el-col-sm-push-20{left:83.3333333333%;position:relative}.el-col-sm-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-sm-21.is-guttered{display:block}.el-col-sm-offset-21{margin-left:87.5%}.el-col-sm-pull-21{position:relative;right:87.5%}.el-col-sm-push-21{left:87.5%;position:relative}.el-col-sm-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-sm-22.is-guttered{display:block}.el-col-sm-offset-22{margin-left:91.6666666667%}.el-col-sm-pull-22{position:relative;right:91.6666666667%}.el-col-sm-push-22{left:91.6666666667%;position:relative}.el-col-sm-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-sm-23.is-guttered{display:block}.el-col-sm-offset-23{margin-left:95.8333333333%}.el-col-sm-pull-23{position:relative;right:95.8333333333%}.el-col-sm-push-23{left:95.8333333333%;position:relative}.el-col-sm-24{display:block;flex:0 0 100%;max-width:100%}.el-col-sm-24.is-guttered{display:block}.el-col-sm-offset-24{margin-left:100%}.el-col-sm-pull-24{position:relative;right:100%}.el-col-sm-push-24{left:100%;position:relative}}@media only screen and (min-width:992px){.el-col-md-0{display:none;flex:0 0 0%;max-width:0}.el-col-md-0.is-guttered{display:none}.el-col-md-offset-0{margin-left:0}.el-col-md-pull-0{position:relative;right:0}.el-col-md-push-0{left:0;position:relative}.el-col-md-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-md-1,.el-col-md-1.is-guttered{display:block}.el-col-md-offset-1{margin-left:4.1666666667%}.el-col-md-pull-1{position:relative;right:4.1666666667%}.el-col-md-push-1{left:4.1666666667%;position:relative}.el-col-md-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-md-2,.el-col-md-2.is-guttered{display:block}.el-col-md-offset-2{margin-left:8.3333333333%}.el-col-md-pull-2{position:relative;right:8.3333333333%}.el-col-md-push-2{left:8.3333333333%;position:relative}.el-col-md-3{flex:0 0 12.5%;max-width:12.5%}.el-col-md-3,.el-col-md-3.is-guttered{display:block}.el-col-md-offset-3{margin-left:12.5%}.el-col-md-pull-3{position:relative;right:12.5%}.el-col-md-push-3{left:12.5%;position:relative}.el-col-md-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-md-4,.el-col-md-4.is-guttered{display:block}.el-col-md-offset-4{margin-left:16.6666666667%}.el-col-md-pull-4{position:relative;right:16.6666666667%}.el-col-md-push-4{left:16.6666666667%;position:relative}.el-col-md-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-md-5,.el-col-md-5.is-guttered{display:block}.el-col-md-offset-5{margin-left:20.8333333333%}.el-col-md-pull-5{position:relative;right:20.8333333333%}.el-col-md-push-5{left:20.8333333333%;position:relative}.el-col-md-6{flex:0 0 25%;max-width:25%}.el-col-md-6,.el-col-md-6.is-guttered{display:block}.el-col-md-offset-6{margin-left:25%}.el-col-md-pull-6{position:relative;right:25%}.el-col-md-push-6{left:25%;position:relative}.el-col-md-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-md-7,.el-col-md-7.is-guttered{display:block}.el-col-md-offset-7{margin-left:29.1666666667%}.el-col-md-pull-7{position:relative;right:29.1666666667%}.el-col-md-push-7{left:29.1666666667%;position:relative}.el-col-md-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-md-8,.el-col-md-8.is-guttered{display:block}.el-col-md-offset-8{margin-left:33.3333333333%}.el-col-md-pull-8{position:relative;right:33.3333333333%}.el-col-md-push-8{left:33.3333333333%;position:relative}.el-col-md-9{flex:0 0 37.5%;max-width:37.5%}.el-col-md-9,.el-col-md-9.is-guttered{display:block}.el-col-md-offset-9{margin-left:37.5%}.el-col-md-pull-9{position:relative;right:37.5%}.el-col-md-push-9{left:37.5%;position:relative}.el-col-md-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-md-10.is-guttered{display:block}.el-col-md-offset-10{margin-left:41.6666666667%}.el-col-md-pull-10{position:relative;right:41.6666666667%}.el-col-md-push-10{left:41.6666666667%;position:relative}.el-col-md-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-md-11.is-guttered{display:block}.el-col-md-offset-11{margin-left:45.8333333333%}.el-col-md-pull-11{position:relative;right:45.8333333333%}.el-col-md-push-11{left:45.8333333333%;position:relative}.el-col-md-12{display:block;flex:0 0 50%;max-width:50%}.el-col-md-12.is-guttered{display:block}.el-col-md-offset-12{margin-left:50%}.el-col-md-pull-12{position:relative;right:50%}.el-col-md-push-12{left:50%;position:relative}.el-col-md-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-md-13.is-guttered{display:block}.el-col-md-offset-13{margin-left:54.1666666667%}.el-col-md-pull-13{position:relative;right:54.1666666667%}.el-col-md-push-13{left:54.1666666667%;position:relative}.el-col-md-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-md-14.is-guttered{display:block}.el-col-md-offset-14{margin-left:58.3333333333%}.el-col-md-pull-14{position:relative;right:58.3333333333%}.el-col-md-push-14{left:58.3333333333%;position:relative}.el-col-md-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-md-15.is-guttered{display:block}.el-col-md-offset-15{margin-left:62.5%}.el-col-md-pull-15{position:relative;right:62.5%}.el-col-md-push-15{left:62.5%;position:relative}.el-col-md-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-md-16.is-guttered{display:block}.el-col-md-offset-16{margin-left:66.6666666667%}.el-col-md-pull-16{position:relative;right:66.6666666667%}.el-col-md-push-16{left:66.6666666667%;position:relative}.el-col-md-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-md-17.is-guttered{display:block}.el-col-md-offset-17{margin-left:70.8333333333%}.el-col-md-pull-17{position:relative;right:70.8333333333%}.el-col-md-push-17{left:70.8333333333%;position:relative}.el-col-md-18{display:block;flex:0 0 75%;max-width:75%}.el-col-md-18.is-guttered{display:block}.el-col-md-offset-18{margin-left:75%}.el-col-md-pull-18{position:relative;right:75%}.el-col-md-push-18{left:75%;position:relative}.el-col-md-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-md-19.is-guttered{display:block}.el-col-md-offset-19{margin-left:79.1666666667%}.el-col-md-pull-19{position:relative;right:79.1666666667%}.el-col-md-push-19{left:79.1666666667%;position:relative}.el-col-md-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-md-20.is-guttered{display:block}.el-col-md-offset-20{margin-left:83.3333333333%}.el-col-md-pull-20{position:relative;right:83.3333333333%}.el-col-md-push-20{left:83.3333333333%;position:relative}.el-col-md-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-md-21.is-guttered{display:block}.el-col-md-offset-21{margin-left:87.5%}.el-col-md-pull-21{position:relative;right:87.5%}.el-col-md-push-21{left:87.5%;position:relative}.el-col-md-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-md-22.is-guttered{display:block}.el-col-md-offset-22{margin-left:91.6666666667%}.el-col-md-pull-22{position:relative;right:91.6666666667%}.el-col-md-push-22{left:91.6666666667%;position:relative}.el-col-md-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-md-23.is-guttered{display:block}.el-col-md-offset-23{margin-left:95.8333333333%}.el-col-md-pull-23{position:relative;right:95.8333333333%}.el-col-md-push-23{left:95.8333333333%;position:relative}.el-col-md-24{display:block;flex:0 0 100%;max-width:100%}.el-col-md-24.is-guttered{display:block}.el-col-md-offset-24{margin-left:100%}.el-col-md-pull-24{position:relative;right:100%}.el-col-md-push-24{left:100%;position:relative}}@media only screen and (min-width:1200px){.el-col-lg-0{display:none;flex:0 0 0%;max-width:0}.el-col-lg-0.is-guttered{display:none}.el-col-lg-offset-0{margin-left:0}.el-col-lg-pull-0{position:relative;right:0}.el-col-lg-push-0{left:0;position:relative}.el-col-lg-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-lg-1,.el-col-lg-1.is-guttered{display:block}.el-col-lg-offset-1{margin-left:4.1666666667%}.el-col-lg-pull-1{position:relative;right:4.1666666667%}.el-col-lg-push-1{left:4.1666666667%;position:relative}.el-col-lg-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-lg-2,.el-col-lg-2.is-guttered{display:block}.el-col-lg-offset-2{margin-left:8.3333333333%}.el-col-lg-pull-2{position:relative;right:8.3333333333%}.el-col-lg-push-2{left:8.3333333333%;position:relative}.el-col-lg-3{flex:0 0 12.5%;max-width:12.5%}.el-col-lg-3,.el-col-lg-3.is-guttered{display:block}.el-col-lg-offset-3{margin-left:12.5%}.el-col-lg-pull-3{position:relative;right:12.5%}.el-col-lg-push-3{left:12.5%;position:relative}.el-col-lg-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-lg-4,.el-col-lg-4.is-guttered{display:block}.el-col-lg-offset-4{margin-left:16.6666666667%}.el-col-lg-pull-4{position:relative;right:16.6666666667%}.el-col-lg-push-4{left:16.6666666667%;position:relative}.el-col-lg-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-lg-5,.el-col-lg-5.is-guttered{display:block}.el-col-lg-offset-5{margin-left:20.8333333333%}.el-col-lg-pull-5{position:relative;right:20.8333333333%}.el-col-lg-push-5{left:20.8333333333%;position:relative}.el-col-lg-6{flex:0 0 25%;max-width:25%}.el-col-lg-6,.el-col-lg-6.is-guttered{display:block}.el-col-lg-offset-6{margin-left:25%}.el-col-lg-pull-6{position:relative;right:25%}.el-col-lg-push-6{left:25%;position:relative}.el-col-lg-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-lg-7,.el-col-lg-7.is-guttered{display:block}.el-col-lg-offset-7{margin-left:29.1666666667%}.el-col-lg-pull-7{position:relative;right:29.1666666667%}.el-col-lg-push-7{left:29.1666666667%;position:relative}.el-col-lg-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-lg-8,.el-col-lg-8.is-guttered{display:block}.el-col-lg-offset-8{margin-left:33.3333333333%}.el-col-lg-pull-8{position:relative;right:33.3333333333%}.el-col-lg-push-8{left:33.3333333333%;position:relative}.el-col-lg-9{flex:0 0 37.5%;max-width:37.5%}.el-col-lg-9,.el-col-lg-9.is-guttered{display:block}.el-col-lg-offset-9{margin-left:37.5%}.el-col-lg-pull-9{position:relative;right:37.5%}.el-col-lg-push-9{left:37.5%;position:relative}.el-col-lg-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-lg-10.is-guttered{display:block}.el-col-lg-offset-10{margin-left:41.6666666667%}.el-col-lg-pull-10{position:relative;right:41.6666666667%}.el-col-lg-push-10{left:41.6666666667%;position:relative}.el-col-lg-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-lg-11.is-guttered{display:block}.el-col-lg-offset-11{margin-left:45.8333333333%}.el-col-lg-pull-11{position:relative;right:45.8333333333%}.el-col-lg-push-11{left:45.8333333333%;position:relative}.el-col-lg-12{display:block;flex:0 0 50%;max-width:50%}.el-col-lg-12.is-guttered{display:block}.el-col-lg-offset-12{margin-left:50%}.el-col-lg-pull-12{position:relative;right:50%}.el-col-lg-push-12{left:50%;position:relative}.el-col-lg-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-lg-13.is-guttered{display:block}.el-col-lg-offset-13{margin-left:54.1666666667%}.el-col-lg-pull-13{position:relative;right:54.1666666667%}.el-col-lg-push-13{left:54.1666666667%;position:relative}.el-col-lg-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-lg-14.is-guttered{display:block}.el-col-lg-offset-14{margin-left:58.3333333333%}.el-col-lg-pull-14{position:relative;right:58.3333333333%}.el-col-lg-push-14{left:58.3333333333%;position:relative}.el-col-lg-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-lg-15.is-guttered{display:block}.el-col-lg-offset-15{margin-left:62.5%}.el-col-lg-pull-15{position:relative;right:62.5%}.el-col-lg-push-15{left:62.5%;position:relative}.el-col-lg-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-lg-16.is-guttered{display:block}.el-col-lg-offset-16{margin-left:66.6666666667%}.el-col-lg-pull-16{position:relative;right:66.6666666667%}.el-col-lg-push-16{left:66.6666666667%;position:relative}.el-col-lg-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-lg-17.is-guttered{display:block}.el-col-lg-offset-17{margin-left:70.8333333333%}.el-col-lg-pull-17{position:relative;right:70.8333333333%}.el-col-lg-push-17{left:70.8333333333%;position:relative}.el-col-lg-18{display:block;flex:0 0 75%;max-width:75%}.el-col-lg-18.is-guttered{display:block}.el-col-lg-offset-18{margin-left:75%}.el-col-lg-pull-18{position:relative;right:75%}.el-col-lg-push-18{left:75%;position:relative}.el-col-lg-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-lg-19.is-guttered{display:block}.el-col-lg-offset-19{margin-left:79.1666666667%}.el-col-lg-pull-19{position:relative;right:79.1666666667%}.el-col-lg-push-19{left:79.1666666667%;position:relative}.el-col-lg-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-lg-20.is-guttered{display:block}.el-col-lg-offset-20{margin-left:83.3333333333%}.el-col-lg-pull-20{position:relative;right:83.3333333333%}.el-col-lg-push-20{left:83.3333333333%;position:relative}.el-col-lg-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-lg-21.is-guttered{display:block}.el-col-lg-offset-21{margin-left:87.5%}.el-col-lg-pull-21{position:relative;right:87.5%}.el-col-lg-push-21{left:87.5%;position:relative}.el-col-lg-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-lg-22.is-guttered{display:block}.el-col-lg-offset-22{margin-left:91.6666666667%}.el-col-lg-pull-22{position:relative;right:91.6666666667%}.el-col-lg-push-22{left:91.6666666667%;position:relative}.el-col-lg-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-lg-23.is-guttered{display:block}.el-col-lg-offset-23{margin-left:95.8333333333%}.el-col-lg-pull-23{position:relative;right:95.8333333333%}.el-col-lg-push-23{left:95.8333333333%;position:relative}.el-col-lg-24{display:block;flex:0 0 100%;max-width:100%}.el-col-lg-24.is-guttered{display:block}.el-col-lg-offset-24{margin-left:100%}.el-col-lg-pull-24{position:relative;right:100%}.el-col-lg-push-24{left:100%;position:relative}}@media only screen and (min-width:1920px){.el-col-xl-0{display:none;flex:0 0 0%;max-width:0}.el-col-xl-0.is-guttered{display:none}.el-col-xl-offset-0{margin-left:0}.el-col-xl-pull-0{position:relative;right:0}.el-col-xl-push-0{left:0;position:relative}.el-col-xl-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-xl-1,.el-col-xl-1.is-guttered{display:block}.el-col-xl-offset-1{margin-left:4.1666666667%}.el-col-xl-pull-1{position:relative;right:4.1666666667%}.el-col-xl-push-1{left:4.1666666667%;position:relative}.el-col-xl-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-xl-2,.el-col-xl-2.is-guttered{display:block}.el-col-xl-offset-2{margin-left:8.3333333333%}.el-col-xl-pull-2{position:relative;right:8.3333333333%}.el-col-xl-push-2{left:8.3333333333%;position:relative}.el-col-xl-3{flex:0 0 12.5%;max-width:12.5%}.el-col-xl-3,.el-col-xl-3.is-guttered{display:block}.el-col-xl-offset-3{margin-left:12.5%}.el-col-xl-pull-3{position:relative;right:12.5%}.el-col-xl-push-3{left:12.5%;position:relative}.el-col-xl-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-xl-4,.el-col-xl-4.is-guttered{display:block}.el-col-xl-offset-4{margin-left:16.6666666667%}.el-col-xl-pull-4{position:relative;right:16.6666666667%}.el-col-xl-push-4{left:16.6666666667%;position:relative}.el-col-xl-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-xl-5,.el-col-xl-5.is-guttered{display:block}.el-col-xl-offset-5{margin-left:20.8333333333%}.el-col-xl-pull-5{position:relative;right:20.8333333333%}.el-col-xl-push-5{left:20.8333333333%;position:relative}.el-col-xl-6{flex:0 0 25%;max-width:25%}.el-col-xl-6,.el-col-xl-6.is-guttered{display:block}.el-col-xl-offset-6{margin-left:25%}.el-col-xl-pull-6{position:relative;right:25%}.el-col-xl-push-6{left:25%;position:relative}.el-col-xl-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-xl-7,.el-col-xl-7.is-guttered{display:block}.el-col-xl-offset-7{margin-left:29.1666666667%}.el-col-xl-pull-7{position:relative;right:29.1666666667%}.el-col-xl-push-7{left:29.1666666667%;position:relative}.el-col-xl-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-xl-8,.el-col-xl-8.is-guttered{display:block}.el-col-xl-offset-8{margin-left:33.3333333333%}.el-col-xl-pull-8{position:relative;right:33.3333333333%}.el-col-xl-push-8{left:33.3333333333%;position:relative}.el-col-xl-9{flex:0 0 37.5%;max-width:37.5%}.el-col-xl-9,.el-col-xl-9.is-guttered{display:block}.el-col-xl-offset-9{margin-left:37.5%}.el-col-xl-pull-9{position:relative;right:37.5%}.el-col-xl-push-9{left:37.5%;position:relative}.el-col-xl-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-xl-10.is-guttered{display:block}.el-col-xl-offset-10{margin-left:41.6666666667%}.el-col-xl-pull-10{position:relative;right:41.6666666667%}.el-col-xl-push-10{left:41.6666666667%;position:relative}.el-col-xl-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-xl-11.is-guttered{display:block}.el-col-xl-offset-11{margin-left:45.8333333333%}.el-col-xl-pull-11{position:relative;right:45.8333333333%}.el-col-xl-push-11{left:45.8333333333%;position:relative}.el-col-xl-12{display:block;flex:0 0 50%;max-width:50%}.el-col-xl-12.is-guttered{display:block}.el-col-xl-offset-12{margin-left:50%}.el-col-xl-pull-12{position:relative;right:50%}.el-col-xl-push-12{left:50%;position:relative}.el-col-xl-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-xl-13.is-guttered{display:block}.el-col-xl-offset-13{margin-left:54.1666666667%}.el-col-xl-pull-13{position:relative;right:54.1666666667%}.el-col-xl-push-13{left:54.1666666667%;position:relative}.el-col-xl-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-xl-14.is-guttered{display:block}.el-col-xl-offset-14{margin-left:58.3333333333%}.el-col-xl-pull-14{position:relative;right:58.3333333333%}.el-col-xl-push-14{left:58.3333333333%;position:relative}.el-col-xl-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-xl-15.is-guttered{display:block}.el-col-xl-offset-15{margin-left:62.5%}.el-col-xl-pull-15{position:relative;right:62.5%}.el-col-xl-push-15{left:62.5%;position:relative}.el-col-xl-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-xl-16.is-guttered{display:block}.el-col-xl-offset-16{margin-left:66.6666666667%}.el-col-xl-pull-16{position:relative;right:66.6666666667%}.el-col-xl-push-16{left:66.6666666667%;position:relative}.el-col-xl-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-xl-17.is-guttered{display:block}.el-col-xl-offset-17{margin-left:70.8333333333%}.el-col-xl-pull-17{position:relative;right:70.8333333333%}.el-col-xl-push-17{left:70.8333333333%;position:relative}.el-col-xl-18{display:block;flex:0 0 75%;max-width:75%}.el-col-xl-18.is-guttered{display:block}.el-col-xl-offset-18{margin-left:75%}.el-col-xl-pull-18{position:relative;right:75%}.el-col-xl-push-18{left:75%;position:relative}.el-col-xl-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-xl-19.is-guttered{display:block}.el-col-xl-offset-19{margin-left:79.1666666667%}.el-col-xl-pull-19{position:relative;right:79.1666666667%}.el-col-xl-push-19{left:79.1666666667%;position:relative}.el-col-xl-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-xl-20.is-guttered{display:block}.el-col-xl-offset-20{margin-left:83.3333333333%}.el-col-xl-pull-20{position:relative;right:83.3333333333%}.el-col-xl-push-20{left:83.3333333333%;position:relative}.el-col-xl-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-xl-21.is-guttered{display:block}.el-col-xl-offset-21{margin-left:87.5%}.el-col-xl-pull-21{position:relative;right:87.5%}.el-col-xl-push-21{left:87.5%;position:relative}.el-col-xl-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-xl-22.is-guttered{display:block}.el-col-xl-offset-22{margin-left:91.6666666667%}.el-col-xl-pull-22{position:relative;right:91.6666666667%}.el-col-xl-push-22{left:91.6666666667%;position:relative}.el-col-xl-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-xl-23.is-guttered{display:block}.el-col-xl-offset-23{margin-left:95.8333333333%}.el-col-xl-pull-23{position:relative;right:95.8333333333%}.el-col-xl-push-23{left:95.8333333333%;position:relative}.el-col-xl-24{display:block;flex:0 0 100%;max-width:100%}.el-col-xl-24.is-guttered{display:block}.el-col-xl-offset-24{margin-left:100%}.el-col-xl-pull-24{position:relative;right:100%}.el-col-xl-push-24{left:100%;position:relative}}.el-collapse{--el-collapse-border-color:var(--el-border-color-lighter);--el-collapse-header-height:48px;--el-collapse-header-bg-color:var(--el-fill-color-blank);--el-collapse-header-text-color:var(--el-text-color-primary);--el-collapse-header-font-size:13px;--el-collapse-content-bg-color:var(--el-fill-color-blank);--el-collapse-content-font-size:13px;--el-collapse-content-text-color:var(--el-text-color-primary);border-bottom:1px solid var(--el-collapse-border-color);border-top:1px solid var(--el-collapse-border-color)}.el-collapse-item.is-disabled .el-collapse-item__header{color:var(--el-text-color-disabled);cursor:not-allowed}.el-collapse-item__header{align-items:center;background-color:var(--el-collapse-header-bg-color);border:none;border-bottom:1px solid var(--el-collapse-border-color);color:var(--el-collapse-header-text-color);cursor:pointer;display:flex;font-size:var(--el-collapse-header-font-size);font-weight:500;line-height:var(--el-collapse-header-height);min-height:var(--el-collapse-header-height);outline:none;padding:0;transition:border-bottom-color var(--el-transition-duration);width:100%}.el-collapse-item__arrow{font-weight:300;transition:transform var(--el-transition-duration)}.el-collapse-item__arrow.is-active{transform:rotate(90deg)}.el-collapse-item__title{flex:auto;text-align:left}.el-collapse-item__header.focusing:focus:not(:hover){color:var(--el-color-primary)}.el-collapse-item__header.is-active{border-bottom-color:transparent}.el-collapse-item__wrap{background-color:var(--el-collapse-content-bg-color);border-bottom:1px solid var(--el-collapse-border-color);box-sizing:border-box;overflow:hidden;will-change:height}.el-collapse-item__content{color:var(--el-collapse-content-text-color);font-size:var(--el-collapse-content-font-size);line-height:1.7692307692;padding-bottom:25px}.el-collapse-item:last-child{margin-bottom:-1px}.el-collapse-icon-position-left .el-collapse-item__header{gap:8px}.el-collapse-icon-position-left .el-collapse-item__title{order:1}.el-collapse-icon-position-right .el-collapse-item__header{padding-right:8px}.el-color-picker-panel{background:var(--el-bg-color-overlay);box-sizing:content-box;padding:12px;width:300px}.el-color-picker-panel.is-border{border:1px solid var(--el-border-color-lighter);border-radius:4px}.el-color-picker-panel__wrapper{margin-bottom:6px}.el-color-picker-panel__footer{display:flex;justify-content:space-between;margin-top:12px;text-align:right}.el-color-picker-panel__footer .el-input{color:#000;font-size:12px;line-height:26px;width:160px}.el-color-picker-panel.is-disabled .el-color-hue-slider,.el-color-picker-panel.is-disabled .el-color-svpanel{cursor:not-allowed;opacity:.3}.el-color-picker-panel.is-disabled .el-color-hue-slider__thumb{cursor:not-allowed}.el-color-picker-panel.is-disabled .el-color-alpha-slider,.el-color-picker-panel.is-disabled .el-color-predefine .el-color-predefine__color-selector{cursor:not-allowed;opacity:.3}.el-color-predefine{display:flex;font-size:12px;margin-top:8px;width:280px}.el-color-predefine__colors{display:flex;flex:1;flex-wrap:wrap;gap:8px}.el-color-predefine__color-selector{border:none;border-radius:var(--el-border-radius-base);cursor:pointer;height:20px;outline:none;overflow:hidden;padding:0;width:20px}.el-color-predefine__color-selector.selected{box-shadow:0 0 3px 2px var(--el-color-primary)}.el-color-predefine__color-selector:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-color-predefine__color-selector>div{display:flex;height:100%}.el-color-predefine__color-selector.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-hue-slider{background-color:red;box-sizing:border-box;float:right;height:12px;padding:0 2px;position:relative;width:280px}.el-color-hue-slider__bar{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red);height:100%;position:relative}.el-color-hue-slider__thumb{background:#fff;border:1px solid var(--el-border-color-lighter);border-radius:1px;box-shadow:0 0 2px #0009;box-sizing:border-box;cursor:pointer;height:100%;left:0;position:absolute;top:0;width:4px;z-index:1}.el-color-hue-slider__thumb:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-hue-slider.is-vertical{height:180px;padding:2px 0;width:12px}.el-color-hue-slider.is-vertical .el-color-hue-slider__bar{background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}.el-color-hue-slider.is-vertical .el-color-hue-slider__thumb{height:4px;left:0;top:0;width:100%}.el-color-svpanel{background-image:linear-gradient(0deg,#000,#0000),linear-gradient(90deg,#fff,#fff0);height:180px;position:relative;width:280px}.el-color-svpanel__cursor{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px #0000004d,0 0 1px 2px #0006;cursor:pointer;height:4px;position:absolute;transform:translate(-2px,-2px);width:4px}.el-color-svpanel__cursor:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-color-alpha-slider{background-image:linear-gradient(45deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(45deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%);background-position:0 0,6px 0,6px -6px,0 6px;background-size:12px 12px;box-sizing:border-box;height:12px;position:relative;width:280px}.el-color-alpha-slider.is-disabled .el-color-alpha-slider__thumb{cursor:not-allowed}.el-color-alpha-slider__bar{background:linear-gradient(to right,rgba(255,255,255,0) 0,var(--el-bg-color) 100%);height:100%;position:relative}.el-color-alpha-slider__thumb{background:#fff;border:1px solid var(--el-border-color-lighter);border-radius:1px;box-shadow:0 0 2px #0009;box-sizing:border-box;cursor:pointer;height:100%;left:0;position:absolute;top:0;width:4px;z-index:1}.el-color-alpha-slider__thumb:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-alpha-slider.is-vertical{height:180px;width:20px}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__bar{background:linear-gradient(180deg,#fff0 0,#fff)}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__thumb{height:4px;left:0;top:0;width:100%}.el-color-picker-panel{--el-color-picker-alpha-bg-a:#ccc;--el-color-picker-alpha-bg-b:transparent}.dark .el-color-picker-panel{--el-color-picker-alpha-bg-a:#333333}.el-color-picker{display:inline-block;height:32px;line-height:normal;outline:none;position:relative;width:32px}.el-color-picker:hover:not(.is-disabled,.is-focused) .el-color-picker__trigger{border-color:var(--el-border-color-hover)}.el-color-picker:focus-visible:not(.is-disabled) .el-color-picker__trigger{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-picker.is-focused .el-color-picker__trigger{border-color:var(--el-color-primary)}.el-color-picker.is-disabled .el-color-picker__trigger{background-color:var(--el-fill-color-light);cursor:not-allowed}.el-color-picker.is-disabled .el-color-picker__color{opacity:.3}.el-color-picker--large{height:40px;width:40px}.el-color-picker--small{height:24px;width:24px}.el-color-picker--small .el-color-picker__empty,.el-color-picker--small .el-color-picker__icon{transform:scale(.8)}.el-color-picker__trigger{align-items:center;border:1px solid var(--el-border-color);border-radius:4px;cursor:pointer;display:inline-flex;font-size:0;justify-content:center;padding:4px}.el-color-picker__color,.el-color-picker__trigger{box-sizing:border-box;height:100%;position:relative;width:100%}.el-color-picker__color{border:1px solid var(--el-text-color-secondary);border-radius:var(--el-border-radius-small);display:block;text-align:center}.el-color-picker__color.is-alpha{background-image:linear-gradient(45deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(45deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%);background-position:0 0,6px 0,6px -6px,0 6px;background-size:12px 12px}.el-color-picker__color-inner{align-items:center;display:inline-flex;height:100%;justify-content:center;width:100%}.el-color-picker .el-color-picker__empty{color:var(--el-text-color-secondary);font-size:12px}.el-color-picker .el-color-picker__icon{align-items:center;color:#fff;display:inline-flex;font-size:12px;justify-content:center}.el-color-picker__panel{background-color:#fff;border-radius:var(--el-border-radius-base);box-shadow:var(--el-box-shadow-light)}.el-color-picker__panel.el-popper{border:1px solid var(--el-border-color-lighter)}.el-color-picker,.el-color-picker__panel{--el-color-picker-alpha-bg-a:#ccc;--el-color-picker-alpha-bg-b:transparent}.dark .el-color-picker,.dark .el-color-picker__panel{--el-color-picker-alpha-bg-a:#333333}.el-container{box-sizing:border-box;display:flex;flex:1;flex-basis:auto;flex-direction:row;min-width:0}.el-container.is-vertical{flex-direction:column}.el-date-table{font-size:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-date-table.is-week-mode .el-date-table__row:hover .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table.is-week-mode .el-date-table__row:hover td.available:hover{color:var(--el-datepicker-text-color)}.el-date-table.is-week-mode .el-date-table__row:hover td:first-child .el-date-table-cell{border-bottom-left-radius:15px;border-top-left-radius:15px;margin-left:5px}.el-date-table.is-week-mode .el-date-table__row:hover td:last-child .el-date-table-cell{border-bottom-right-radius:15px;border-top-right-radius:15px;margin-right:5px}.el-date-table.is-week-mode .el-date-table__row.current .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td{box-sizing:border-box;cursor:pointer;height:30px;padding:4px 0;position:relative;text-align:center;width:32px}.el-date-table td .el-date-table-cell{box-sizing:border-box;height:30px;padding:3px 0}.el-date-table td .el-date-table-cell .el-date-table-cell__text{border-radius:50%;display:block;height:24px;left:50%;line-height:24px;margin:0 auto;position:absolute;transform:translate(-50%);width:24px}.el-date-table td.next-month,.el-date-table td.prev-month{color:var(--el-datepicker-off-text-color)}.el-date-table td.today{position:relative}.el-date-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-date-table td.today.end-date .el-date-table-cell__text,.el-date-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-date-table td.available:hover{color:var(--el-datepicker-hover-text-color)}.el-date-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-date-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-date-table td.current:not(.disabled):focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-date-table td.end-date .el-date-table-cell,.el-date-table td.start-date .el-date-table-cell{color:#fff}.el-date-table td.end-date .el-date-table-cell__text,.el-date-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color)}.el-date-table td.start-date .el-date-table-cell{border-bottom-left-radius:15px;border-top-left-radius:15px;margin-left:5px}.el-date-table td.end-date .el-date-table-cell{border-bottom-right-radius:15px;border-top-right-radius:15px;margin-right:5px}.el-date-table td.disabled .el-date-table-cell{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed;opacity:1}.el-date-table td.selected .el-date-table-cell{border-radius:15px;margin-left:5px;margin-right:5px}.el-date-table td.selected .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);border-radius:15px;color:#fff}.el-date-table td.week{color:var(--el-datepicker-off-text-color);cursor:default;font-size:80%}.el-date-table td:focus{outline:none}.el-date-table th{border-bottom:1px solid var(--el-border-color-lighter);color:var(--el-datepicker-header-text-color);font-weight:400;padding:5px}.el-date-table th.el-date-table__week-header{padding:0;width:24px}.el-month-table{border-collapse:collapse;font-size:12px;margin:-1px}.el-month-table td{cursor:pointer;padding:8px 0;position:relative;text-align:center;width:68px}.el-month-table td .el-date-table-cell{box-sizing:border-box;height:48px;padding:6px 0}.el-month-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-month-table td.today.end-date .el-date-table-cell__text,.el-month-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-month-table td.disabled .el-date-table-cell__text{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-month-table td.disabled .el-date-table-cell__text:hover{color:var(--el-text-color-placeholder)}.el-month-table td .el-date-table-cell__text{border-radius:18px;color:var(--el-datepicker-text-color);display:block;height:36px;left:50%;line-height:36px;margin:0 auto;position:absolute;transform:translate(-50%);width:54px}.el-month-table td .el-date-table-cell__text:hover{color:var(--el-datepicker-hover-text-color)}.el-month-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-month-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-month-table td.end-date .el-date-table-cell,.el-month-table td.start-date .el-date-table-cell{color:#fff}.el-month-table td.end-date .el-date-table-cell__text,.el-month-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-month-table td.start-date .el-date-table-cell{border-bottom-left-radius:24px;border-top-left-radius:24px;margin-left:3px}.el-month-table td.end-date .el-date-table-cell{border-bottom-right-radius:24px;border-top-right-radius:24px;margin-right:3px}.el-month-table td.current:not(.disabled) .el-date-table-cell{border-radius:24px;margin-left:3px;margin-right:3px}.el-month-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-month-table td:focus-visible{outline:none}.el-month-table td:focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-year-table{border-collapse:collapse;font-size:12px;margin:-1px}.el-year-table .el-icon{color:var(--el-datepicker-icon-color)}.el-year-table td{cursor:pointer;padding:8px 0;position:relative;text-align:center;width:68px}.el-year-table td .el-date-table-cell{box-sizing:border-box;height:48px;padding:6px 0}.el-year-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-year-table td.today.end-date .el-date-table-cell__text,.el-year-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-year-table td.disabled .el-date-table-cell__text{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-year-table td.disabled .el-date-table-cell__text:hover{color:var(--el-text-color-placeholder)}.el-year-table td .el-date-table-cell__text{border-radius:18px;color:var(--el-datepicker-text-color);display:block;height:36px;left:50%;line-height:36px;margin:0 auto;position:absolute;transform:translate(-50%);width:60px}.el-year-table td .el-date-table-cell__text:hover{color:var(--el-datepicker-hover-text-color)}.el-year-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-year-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-year-table td.end-date .el-date-table-cell,.el-year-table td.start-date .el-date-table-cell{color:#fff}.el-year-table td.end-date .el-date-table-cell__text,.el-year-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-year-table td.start-date .el-date-table-cell{border-bottom-left-radius:24px;border-top-left-radius:24px}.el-year-table td.end-date .el-date-table-cell{border-bottom-right-radius:24px;border-top-right-radius:24px}.el-year-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-year-table td:focus-visible{outline:none}.el-year-table td:focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-time-spinner.has-seconds .el-time-spinner__wrapper{width:33.3%}.el-time-spinner__wrapper{display:inline-block;max-height:192px;overflow:auto;position:relative;vertical-align:top;width:50%}.el-time-spinner__wrapper.el-scrollbar__wrap:not(.el-scrollbar__wrap--hidden-default){padding-bottom:15px}.el-time-spinner__wrapper.is-arrow{box-sizing:border-box;overflow:hidden;text-align:center}.el-time-spinner__wrapper.is-arrow .el-time-spinner__list{transform:translateY(-32px)}.el-time-spinner__wrapper.is-arrow .el-time-spinner__item:hover:not(.is-disabled):not(.is-active){background:var(--el-fill-color-light);cursor:default}.el-time-spinner__arrow{color:var(--el-text-color-secondary);cursor:pointer;font-size:12px;height:30px;left:0;line-height:30px;position:absolute;text-align:center;width:100%;z-index:var(--el-index-normal)}.el-time-spinner__arrow:hover{color:var(--el-color-primary)}.el-time-spinner__arrow.arrow-up{top:10px}.el-time-spinner__arrow.arrow-down{bottom:10px}.el-time-spinner__input.el-input{width:70%}.el-time-spinner__input.el-input .el-input__inner,.el-time-spinner__list{padding:0;text-align:center}.el-time-spinner__list{list-style:none;margin:0}.el-time-spinner__list:after,.el-time-spinner__list:before{content:"";display:block;height:80px;width:100%}.el-time-spinner__item{color:var(--el-text-color-regular);font-size:12px;height:32px;line-height:32px}.el-time-spinner__item:hover:not(.is-disabled):not(.is-active){background:var(--el-fill-color-light);cursor:pointer}.el-time-spinner__item.is-active:not(.is-disabled){color:var(--el-text-color-primary);font-weight:700}.el-time-spinner__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-picker__popper{--el-datepicker-border-color:var(--el-disabled-border-color)}.el-picker__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-picker__popper.el-popper,.el-picker__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-datepicker-border-color)}.el-picker__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-date-editor{--el-date-editor-width:220px;--el-date-editor-monthrange-width:300px;--el-date-editor-daterange-width:350px;--el-date-editor-datetimerange-width:400px;--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;position:relative;text-align:left;vertical-align:middle}.el-date-editor.el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset}.el-date-editor.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-date-editor.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-date-editor.el-input,.el-date-editor.el-input__wrapper{height:var(--el-input-height,var(--el-component-size));width:var(--el-date-editor-width)}.el-date-editor--monthrange{--el-date-editor-width:var(--el-date-editor-monthrange-width)}.el-date-editor--daterange,.el-date-editor--timerange{--el-date-editor-width:var(--el-date-editor-daterange-width)}.el-date-editor--datetimerange{--el-date-editor-width:var(--el-date-editor-datetimerange-width)}.el-date-editor--dates .el-input__wrapper{text-overflow:ellipsis;white-space:nowrap}.el-date-editor .clear-icon,.el-date-editor .close-icon{cursor:pointer}.el-date-editor .clear-icon:hover{color:var(--el-input-clear-hover-color)}.el-date-editor .el-range__icon{color:var(--el-text-color-placeholder);float:left;font-size:14px;height:inherit}.el-date-editor .el-range__icon svg{vertical-align:middle}.el-date-editor .el-range-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-text-color-regular);display:inline-block;font-size:var(--el-font-size-base);height:30px;line-height:30px;margin:0;outline:none;padding:0;text-align:center;width:39%}.el-date-editor .el-range-input::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-date-editor .el-range-input::placeholder{color:var(--el-text-color-placeholder)}.el-date-editor .el-range-separator{align-items:center;color:var(--el-text-color-primary);display:inline-flex;flex:1;font-size:14px;height:100%;justify-content:center;margin:0;overflow-wrap:break-word;padding:0 5px}.el-date-editor .el-range__close-icon{color:var(--el-text-color-placeholder);cursor:pointer;font-size:14px;height:inherit;width:unset}.el-date-editor .el-range__close-icon:hover{color:var(--el-input-clear-hover-color)}.el-date-editor .el-range__close-icon svg{vertical-align:middle}.el-date-editor .el-range__close-icon--hidden{opacity:0;visibility:hidden}.el-range-editor.el-input__wrapper{align-items:center;display:inline-flex;padding:0 10px;vertical-align:middle}.el-range-editor.is-active,.el-range-editor.is-active:hover{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-range-editor--large{line-height:var(--el-component-size-large)}.el-range-editor--large.el-input__wrapper{height:var(--el-component-size-large)}.el-range-editor--large .el-range-separator{font-size:14px;line-height:40px}.el-range-editor--large .el-range-input{font-size:14px;height:38px;line-height:38px}.el-range-editor--small{line-height:var(--el-component-size-small)}.el-range-editor--small.el-input__wrapper{height:var(--el-component-size-small)}.el-range-editor--small .el-range-separator{font-size:12px;line-height:24px}.el-range-editor--small .el-range-input{font-size:12px;height:22px;line-height:22px}.el-range-editor.is-disabled{background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled,.el-range-editor.is-disabled:focus,.el-range-editor.is-disabled:hover{border-color:var(--el-disabled-border-color)}.el-range-editor.is-disabled input{background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled input::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-range-editor.is-disabled input::placeholder{color:var(--el-text-color-placeholder)}.el-range-editor.is-disabled .el-range-separator{color:var(--el-disabled-text-color)}.el-picker-panel{background:var(--el-bg-color-overlay);border-radius:var(--el-popper-border-radius,var(--el-border-radius-base));color:var(--el-text-color-regular);line-height:30px}.el-picker-panel .el-time-panel{background-color:var(--el-bg-color-overlay);border:1px solid var(--el-datepicker-border-color);box-shadow:var(--el-box-shadow-light);margin:5px 0}.el-picker-panel__body-wrapper:after,.el-picker-panel__body:after{clear:both;content:"";display:table}.el-picker-panel__content{margin:15px;position:relative}.el-picker-panel__footer{background-color:var(--el-bg-color-overlay);border-top:1px solid var(--el-datepicker-inner-border-color);font-size:0;padding:4px 12px;position:relative;text-align:right}.el-picker-panel__shortcut{background-color:transparent;border:0;color:var(--el-datepicker-text-color);cursor:pointer;display:block;font-size:14px;line-height:28px;outline:none;padding-left:12px;text-align:left;width:100%}.el-picker-panel__shortcut:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__shortcut.active{background-color:#e6f1fe;color:var(--el-datepicker-active-color)}.el-picker-panel__btn{background-color:transparent;border:1px solid var(--el-fill-color-darker);border-radius:2px;color:var(--el-text-color-primary);cursor:pointer;font-size:12px;line-height:24px;outline:none;padding:0 20px}.el-picker-panel__btn[disabled]{color:var(--el-text-color-disabled);cursor:not-allowed}.el-picker-panel__icon-btn{background:transparent;border:0;color:var(--el-datepicker-icon-color);cursor:pointer;font-size:12px;line-height:1;margin-top:8px;outline:none;padding:1px 6px}.el-picker-panel__icon-btn:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__icon-btn:focus-visible{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__icon-btn.is-disabled{color:var(--el-text-color-disabled)}.el-picker-panel__icon-btn.is-disabled:hover{cursor:not-allowed}.el-picker-panel__icon-btn.is-disabled .el-icon{cursor:inherit}.el-picker-panel__icon-btn .el-icon{cursor:pointer;font-size:inherit}.el-picker-panel__link-btn{vertical-align:middle}.el-picker-panel.is-disabled .el-picker-panel__prev-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__prev-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__prev-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__next-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__next-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__next-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__icon-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__icon-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__icon-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__shortcut{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__shortcut:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__shortcut .el-icon{cursor:inherit}.el-picker-panel [slot=sidebar],.el-picker-panel__sidebar{border-right:1px solid var(--el-datepicker-inner-border-color);bottom:0;box-sizing:border-box;overflow:auto;padding-top:6px;position:absolute;top:0;width:110px}.el-picker-panel [slot=sidebar]+.el-picker-panel__body,.el-picker-panel__sidebar+.el-picker-panel__body{margin-left:110px}.el-date-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary);width:322px}.el-date-picker.has-sidebar.has-time{width:434px}.el-date-picker.has-sidebar{width:438px}.el-date-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-picker .el-picker-panel__content{width:292px}.el-date-picker table{table-layout:fixed;width:100%}.el-date-picker__editor-wrap{display:table-cell;padding:0 5px;position:relative}.el-date-picker__time-header{border-bottom:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;display:table;font-size:12px;padding:8px 5px 5px;position:relative;width:100%}.el-date-picker__header{padding:12px 12px 0;text-align:center}.el-date-picker__header--bordered{border-bottom:1px solid var(--el-border-color-lighter);margin-bottom:0;padding-bottom:12px}.el-date-picker__header--bordered+.el-picker-panel__content{margin-top:0}.el-date-picker__header-label{color:var(--el-text-color-regular);cursor:pointer;font-size:16px;font-weight:500;line-height:22px;padding:0 5px;text-align:center}.el-date-picker__header-label:hover{color:var(--el-datepicker-hover-text-color)}.el-date-picker__header-label:focus-visible{color:var(--el-datepicker-hover-text-color);outline:none}.el-date-picker__header-label.active{color:var(--el-datepicker-active-color)}.el-date-picker__prev-btn{float:left}.el-date-picker__next-btn{float:right}.el-date-picker__time-wrap{padding:10px;text-align:center}.el-date-picker__time-label{cursor:pointer;float:left;line-height:30px;margin-left:10px}.el-date-picker .el-time-panel{position:absolute}.el-date-picker.is-disabled .el-date-picker__header-label{color:var(--el-text-color-disabled)}.el-date-picker.is-disabled .el-date-picker__header-label:hover{cursor:not-allowed}.el-date-picker.is-disabled .el-date-picker__header-label .el-icon{cursor:inherit}.el-date-range-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary);width:646px}.el-date-range-picker.has-sidebar{width:756px}.el-date-range-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-range-picker table{table-layout:fixed;width:100%}.el-date-range-picker .el-picker-panel__body{min-width:513px}.el-date-range-picker .el-picker-panel__content{margin:0}.el-date-range-picker__header{height:28px;position:relative;text-align:center}.el-date-range-picker__header [class*=arrow-left]{float:left}.el-date-range-picker__header [class*=arrow-right]{float:right}.el-date-range-picker__header div{font-size:16px;font-weight:500;margin-right:50px}.el-date-range-picker__header-label{color:var(--el-text-color-regular);cursor:pointer;font-size:16px;font-weight:500;line-height:22px;padding:0 5px;text-align:center}.el-date-range-picker__header-label:hover{color:var(--el-datepicker-hover-text-color)}.el-date-range-picker__header-label:focus-visible{color:var(--el-datepicker-hover-text-color);outline:none}.el-date-range-picker__header-label.active{color:var(--el-datepicker-active-color)}.el-date-range-picker__content{box-sizing:border-box;display:table-cell;margin:0;padding:16px;width:50%}.el-date-range-picker__content.is-left{border-right:1px solid var(--el-datepicker-inner-border-color)}.el-date-range-picker__content .el-date-range-picker__header div{margin-left:50px;margin-right:50px}.el-date-range-picker__editors-wrap{box-sizing:border-box;display:table-cell}.el-date-range-picker__editors-wrap.is-right{text-align:right}.el-date-range-picker__time-header{border-bottom:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;display:table;font-size:12px;padding:8px 5px 5px;position:relative;width:100%}.el-date-range-picker__time-header>.el-icon-arrow-right{color:var(--el-datepicker-icon-color);display:table-cell;font-size:20px;vertical-align:middle}.el-date-range-picker__time-picker-wrap{display:table-cell;padding:0 5px;position:relative}.el-date-range-picker__time-picker-wrap .el-picker-panel{background:#fff;position:absolute;right:0;top:13px;z-index:1}.el-date-range-picker__time-picker-wrap .el-time-panel{position:absolute}.el-date-range-picker.is-disabled .el-date-range-picker__header-label{color:var(--el-text-color-disabled)}.el-date-range-picker.is-disabled .el-date-range-picker__header-label:hover{cursor:not-allowed}.el-date-range-picker.is-disabled .el-date-range-picker__header-label .el-icon{cursor:inherit}.el-time-range-picker{overflow:visible;width:354px}.el-time-range-picker__content{padding:10px;position:relative;text-align:center;z-index:1}.el-time-range-picker__cell{box-sizing:border-box;display:inline-block;margin:0;padding:4px 7px 7px;width:50%}.el-time-range-picker__header{font-size:14px;margin-bottom:5px;text-align:center}.el-time-range-picker__body{border:1px solid var(--el-datepicker-border-color);border-radius:2px}.el-time-panel{border-radius:2px;box-sizing:content-box;left:0;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:180px;z-index:var(--el-index-top)}.el-time-panel__content{font-size:0;overflow:hidden;position:relative}.el-time-panel__content:after,.el-time-panel__content:before{box-sizing:border-box;content:"";height:32px;left:0;margin-top:-16px;padding-top:6px;position:absolute;right:0;text-align:left;top:50%;z-index:-1}.el-time-panel__content:after{left:50%;margin-left:12%;margin-right:12%}.el-time-panel__content:before{border-bottom:1px solid var(--el-border-color-light);border-top:1px solid var(--el-border-color-light);margin-left:12%;margin-right:12%;padding-left:50%}.el-time-panel__content.has-seconds:after{left:66.6666666667%}.el-time-panel__content.has-seconds:before{padding-left:33.3333333333%}.el-time-panel__footer{border-top:1px solid var(--el-timepicker-inner-border-color,var(--el-border-color-light));box-sizing:border-box;height:36px;line-height:25px;padding:4px;text-align:right}.el-time-panel__btn{background-color:transparent;border:none;color:var(--el-text-color-primary);cursor:pointer;font-size:12px;line-height:28px;margin:0 5px;outline:none;padding:0 5px}.el-time-panel__btn.confirm{color:var(--el-timepicker-active-color,var(--el-color-primary));font-weight:800}.el-picker-panel.is-border{border:1px solid var(--el-border-color-lighter)}.el-picker-panel.is-border .el-picker-panel__body-wrapper{position:relative}.el-picker-panel.is-border.el-picker-panel [slot=sidebar],.el-picker-panel.is-border.el-picker-panel__sidebar{border-right:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;height:100%;overflow:auto;padding-top:6px;position:absolute;top:0;width:110px}.el-descriptions{--el-descriptions-table-border:1px solid var(--el-border-color-lighter);--el-descriptions-item-bordered-label-background:var(--el-fill-color-light);box-sizing:border-box;color:var(--el-text-color-primary);font-size:var(--el-font-size-base)}.el-descriptions__header{align-items:center;display:flex;justify-content:space-between;margin-bottom:16px}.el-descriptions__title{color:var(--el-text-color-primary);font-size:16px;font-weight:700}.el-descriptions__body{background-color:var(--el-fill-color-blank)}.el-descriptions__body .el-descriptions__table{border-collapse:collapse;width:100%}.el-descriptions__body .el-descriptions__table .el-descriptions__cell{box-sizing:border-box;font-size:14px;line-height:23px;text-align:left}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-left{text-align:left}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-center{text-align:center}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-right{text-align:right}.el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{border:var(--el-descriptions-table-border);padding:8px 11px}.el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:12px}.el-descriptions--large{font-size:14px}.el-descriptions--large .el-descriptions__header{margin-bottom:20px}.el-descriptions--large .el-descriptions__header .el-descriptions__title{font-size:16px}.el-descriptions--large .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:14px}.el-descriptions--large .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:12px 15px}.el-descriptions--large .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:16px}.el-descriptions--small{font-size:12px}.el-descriptions--small .el-descriptions__header{margin-bottom:12px}.el-descriptions--small .el-descriptions__header .el-descriptions__title{font-size:14px}.el-descriptions--small .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:12px}.el-descriptions--small .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:4px 7px}.el-descriptions--small .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:8px}.el-descriptions__label.el-descriptions__cell.is-bordered-label{background:var(--el-descriptions-item-bordered-label-background);color:var(--el-text-color-regular);font-weight:700}.el-descriptions__label:not(.is-bordered-label){color:var(--el-text-color-primary);margin-right:16px}.el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:6px}.el-descriptions__content.el-descriptions__cell.is-bordered-content{color:var(--el-text-color-primary)}.el-descriptions__content:not(.is-bordered-label){color:var(--el-text-color-regular)}.el-descriptions--large .el-descriptions__label:not(.is-bordered-label){margin-right:16px}.el-descriptions--large .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:8px}.el-descriptions--small .el-descriptions__label:not(.is-bordered-label){margin-right:12px}.el-descriptions--small .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:4px}:root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:.5}.v-modal-enter{animation:v-modal-in var(--el-transition-duration-fast) ease}.v-modal-leave{animation:v-modal-out var(--el-transition-duration-fast) ease forwards}@keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-out{to{opacity:0}}.v-modal{background:var(--el-popup-modal-bg-color);height:100%;left:0;opacity:var(--el-popup-modal-opacity);position:fixed;top:0;width:100%}.el-popup-parent--hidden{overflow:hidden}.el-dialog{--el-dialog-width:50%;--el-dialog-margin-top:15vh;--el-dialog-bg-color:var(--el-bg-color);--el-dialog-box-shadow:var(--el-box-shadow);--el-dialog-title-font-size:var(--el-font-size-large);--el-dialog-content-font-size:14px;--el-dialog-font-line-height:var(--el-font-line-height-primary);--el-dialog-padding-primary:16px;--el-dialog-border-radius:var(--el-border-radius-base);background:var(--el-dialog-bg-color);border-radius:var(--el-dialog-border-radius);box-shadow:var(--el-dialog-box-shadow);box-sizing:border-box;margin:var(--el-dialog-margin-top,15vh) auto 50px;overflow-wrap:break-word;padding:var(--el-dialog-padding-primary);position:relative;width:var(--el-dialog-width,50%)}.el-dialog:focus{outline:none!important}.el-dialog.is-align-center{margin:auto}.el-dialog.is-fullscreen{--el-dialog-width:100%;--el-dialog-margin-top:0;border-radius:0;height:100%;margin-bottom:0;overflow:auto}.el-dialog__wrapper{inset:0;margin:0;overflow:auto;position:fixed}.el-dialog.is-draggable .el-dialog__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-dialog__header{padding-bottom:var(--el-dialog-padding-primary)}.el-dialog__header.show-close{padding-right:calc(var(--el-dialog-padding-primary) + var(--el-message-close-size, 16px))}.el-dialog__headerbtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:48px;outline:none;padding:0;position:absolute;right:0;top:0;width:48px}.el-dialog__headerbtn .el-dialog__close{color:var(--el-color-info);font-size:inherit}.el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close{color:var(--el-color-primary)}.el-dialog__title{color:var(--el-text-color-primary);font-size:var(--el-dialog-title-font-size);line-height:var(--el-dialog-font-line-height)}.el-dialog__body{color:var(--el-text-color-regular);font-size:var(--el-dialog-content-font-size)}.el-dialog__footer{box-sizing:border-box;padding-top:var(--el-dialog-padding-primary);text-align:right}.el-dialog--center{text-align:center}.el-dialog--center .el-dialog__body{text-align:initial}.el-dialog--center .el-dialog__footer{text-align:inherit}.el-modal-dialog.is-penetrable{pointer-events:none}.el-modal-dialog.is-penetrable .el-dialog{pointer-events:auto}.el-overlay-dialog{inset:0;overflow:auto;position:fixed}.el-overlay-dialog.is-closing .el-dialog{pointer-events:none}.dialog-fade-enter-active{animation:modal-fade-in var(--el-transition-duration)}.dialog-fade-enter-active .el-overlay-dialog{animation:dialog-fade-in var(--el-transition-duration)}.dialog-fade-leave-active{animation:modal-fade-out var(--el-transition-duration)}.dialog-fade-leave-active .el-overlay-dialog{animation:dialog-fade-out var(--el-transition-duration)}@keyframes dialog-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@keyframes dialog-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-fade-out{0%{opacity:1}to{opacity:0}}.el-divider{position:relative}.el-divider--horizontal{border-top:1px var(--el-border-color) var(--el-border-style);display:block;height:1px;margin:24px 0;width:100%}.el-divider--vertical{border-left:1px var(--el-border-color) var(--el-border-style);display:inline-block;height:1em;margin:0 8px;position:relative;vertical-align:middle;width:1px}.el-divider__text{background-color:var(--el-bg-color);color:var(--el-text-color-primary);font-size:14px;font-weight:500;padding:0 20px;position:absolute}.el-divider__text.is-left{left:20px;transform:translateY(-50%)}.el-divider__text.is-center{left:50%;transform:translate(-50%) translateY(-50%)}.el-divider__text.is-right{right:20px;transform:translateY(-50%)}.el-overlay.is-drawer{overflow:hidden}.el-drawer{--el-drawer-bg-color:var(--el-dialog-bg-color,var(--el-bg-color));--el-drawer-padding-primary:var(--el-dialog-padding-primary,20px);--el-drawer-dragger-size:8px;background-color:var(--el-drawer-bg-color);box-shadow:var(--el-box-shadow-dark);box-sizing:border-box;display:flex;flex-direction:column;position:absolute;transition:all var(--el-transition-duration)}.el-drawer .btt,.el-drawer .ltr,.el-drawer .rtl,.el-drawer .ttb{transform:translate(0)}.el-drawer__sr-focus:focus{outline:none!important}.el-drawer__header{align-items:center;color:var(--el-text-color-primary);display:flex;margin-bottom:32px;overflow:hidden;padding:var(--el-drawer-padding-primary);padding-bottom:0}.el-drawer__header>:first-child{flex:1}.el-drawer__title{flex:1;font-size:16px;line-height:inherit;margin:0}.el-drawer__footer{overflow:hidden;padding:var(--el-drawer-padding-primary);padding-top:10px;text-align:right}.el-drawer__close-btn{background-color:transparent;border:none;color:inherit;cursor:pointer;display:inline-flex;font-size:var(--el-font-size-extra-large);outline:none}.el-drawer__close-btn:focus i,.el-drawer__close-btn:hover i{color:var(--el-color-primary)}.el-drawer__body{flex:1;overflow:auto;padding:var(--el-drawer-padding-primary)}.el-drawer__body>*{box-sizing:border-box}.el-drawer.is-dragging{transition:none}.el-drawer__dragger{-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-drawer__dragger,.el-drawer__dragger:before{background-color:transparent;position:absolute;transition:all .2s}.el-drawer__dragger:before{content:""}.el-drawer__dragger:hover:before{background-color:var(--el-color-primary)}.el-drawer.ltr,.el-drawer.rtl{bottom:0;height:100%;top:0}.el-drawer.ltr>.el-drawer__dragger,.el-drawer.rtl>.el-drawer__dragger{bottom:0;cursor:ew-resize;height:100%;top:0;width:var(--el-drawer-dragger-size)}.el-drawer.ltr>.el-drawer__dragger:before,.el-drawer.rtl>.el-drawer__dragger:before{bottom:0;top:0;width:3px}.el-drawer.btt,.el-drawer.ttb{left:0;right:0;width:100%}.el-drawer.btt>.el-drawer__dragger,.el-drawer.ttb>.el-drawer__dragger{cursor:ns-resize;height:var(--el-drawer-dragger-size);left:0;right:0;width:100%}.el-drawer.btt>.el-drawer__dragger:before,.el-drawer.ttb>.el-drawer__dragger:before{height:3px;left:0;right:0}.el-drawer.ltr{left:0}.el-drawer.ltr>.el-drawer__dragger{right:0}.el-drawer.ltr>.el-drawer__dragger:before{right:-2px}.el-drawer.rtl{right:0}.el-drawer.rtl>.el-drawer__dragger{left:0}.el-drawer.rtl>.el-drawer__dragger:before{left:-2px}.el-drawer.ttb{top:0}.el-drawer.ttb>.el-drawer__dragger{bottom:0}.el-drawer.ttb>.el-drawer__dragger:before{bottom:-2px}.el-drawer.btt{bottom:0}.el-drawer.btt>.el-drawer__dragger{top:0}.el-drawer.btt>.el-drawer__dragger:before{top:-2px}.el-modal-drawer.is-penetrable{pointer-events:none}.el-modal-drawer.is-penetrable .el-drawer{pointer-events:auto}.el-drawer-fade-enter-active,.el-drawer-fade-leave-active{transition:all var(--el-transition-duration)}.el-drawer-fade-enter-active,.el-drawer-fade-enter-from,.el-drawer-fade-enter-to,.el-drawer-fade-leave-active,.el-drawer-fade-leave-from,.el-drawer-fade-leave-to{overflow:hidden!important}.el-drawer-fade-enter-from,.el-drawer-fade-leave-to{background-color:transparent!important}.el-drawer-fade-enter-from .rtl,.el-drawer-fade-leave-to .rtl{transform:translate(100%)}.el-drawer-fade-enter-from .ltr,.el-drawer-fade-leave-to .ltr{transform:translate(-100%)}.el-drawer-fade-enter-from .ttb,.el-drawer-fade-leave-to .ttb{transform:translateY(-100%)}.el-drawer-fade-enter-from .btt,.el-drawer-fade-leave-to .btt{transform:translateY(100%)}.el-dropdown{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10;color:var(--el-text-color-regular);display:inline-flex;font-size:var(--el-font-size-base);line-height:1;position:relative;vertical-align:top}.el-dropdown.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-dropdown__popper{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10}.el-dropdown__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-dropdown-menu-box-shadow)}.el-dropdown__popper.el-popper,.el-dropdown__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-dropdown__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-dropdown__popper .el-dropdown-menu{border:none}.el-dropdown__popper .el-dropdown__popper-selfdefine{outline:none}.el-dropdown__popper .el-scrollbar__bar{z-index:calc(var(--el-dropdown-menu-index) + 1)}.el-dropdown__popper .el-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:0}.el-dropdown .el-dropdown__caret-button{align-items:center;border-left:none;display:inline-flex;justify-content:center;padding-left:0;padding-right:0;width:32px}.el-dropdown .el-dropdown__caret-button>span{display:inline-flex}.el-dropdown .el-dropdown__caret-button:before{background:var(--el-overlay-color-lighter);bottom:-1px;content:"";display:block;left:0;position:absolute;top:-1px;width:1px}.el-dropdown .el-dropdown__caret-button.el-button:before{background:var(--el-border-color);opacity:.5}.el-dropdown .el-dropdown__caret-button .el-dropdown__icon{font-size:inherit;padding-left:0}.el-dropdown .el-dropdown-selfdefine{outline:none}.el-dropdown--large .el-dropdown__caret-button{width:40px}.el-dropdown--small .el-dropdown__caret-button{width:24px}.el-dropdown-menu{background-color:var(--el-bg-color-overlay);border:none;border-radius:var(--el-border-radius-base);box-shadow:none;left:0;list-style:none;margin:0;padding:5px 0;position:relative;top:0;z-index:var(--el-dropdown-menu-index)}.el-dropdown-menu__item{align-items:center;color:var(--el-text-color-regular);cursor:pointer;display:flex;font-size:var(--el-font-size-base);line-height:22px;list-style:none;margin:0;outline:none;padding:5px 16px;white-space:nowrap}.el-dropdown-menu__item:not(.is-disabled):focus,.el-dropdown-menu__item:not(.is-disabled):hover{background-color:var(--el-dropdown-menuItem-hover-fill);color:var(--el-dropdown-menuItem-hover-color)}.el-dropdown-menu__item i{margin-right:5px}.el-dropdown-menu__item--divided{border-top:1px solid var(--el-border-color-lighter);margin:6px 0}.el-dropdown-menu__item.is-disabled{color:var(--el-text-color-disabled);cursor:not-allowed}.el-dropdown-menu--large{padding:7px 0}.el-dropdown-menu--large .el-dropdown-menu__item{font-size:14px;line-height:22px;padding:7px 20px}.el-dropdown-menu--large .el-dropdown-menu__item--divided{margin:8px 0}.el-dropdown-menu--small{padding:3px 0}.el-dropdown-menu--small .el-dropdown-menu__item{font-size:12px;line-height:20px;padding:2px 12px}.el-dropdown-menu--small .el-dropdown-menu__item--divided{margin:4px 0}.el-empty{--el-empty-padding:40px 0;--el-empty-image-width:160px;--el-empty-description-margin-top:20px;--el-empty-bottom-margin-top:20px;--el-empty-fill-color-0:var(--el-color-white);--el-empty-fill-color-1:#fcfcfd;--el-empty-fill-color-2:#f8f9fb;--el-empty-fill-color-3:#f7f8fc;--el-empty-fill-color-4:#eeeff3;--el-empty-fill-color-5:#edeef2;--el-empty-fill-color-6:#e9ebef;--el-empty-fill-color-7:#e5e7e9;--el-empty-fill-color-8:#e0e3e9;--el-empty-fill-color-9:#d5d7de;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:var(--el-empty-padding);text-align:center}.el-empty__image{width:var(--el-empty-image-width)}.el-empty__image img{height:100%;-o-object-fit:contain;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:top;width:100%}.el-empty__image svg{color:var(--el-svg-monochrome-grey);fill:currentColor;height:100%;vertical-align:top;width:100%}.el-empty__description{margin-top:var(--el-empty-description-margin-top)}.el-empty__description p{color:var(--el-text-color-secondary);font-size:var(--el-font-size-base);margin:0}.el-empty__bottom{margin-top:var(--el-empty-bottom-margin-top)}.el-footer{--el-footer-padding:0 20px;--el-footer-height:60px;box-sizing:border-box;flex-shrink:0;height:var(--el-footer-height);padding:var(--el-footer-padding)}.el-form-item{display:flex;--font-size:14px;margin-bottom:18px}.el-form-item .el-form-item{margin-bottom:0}.el-form-item .el-input__validateIcon{display:none}.el-form-item--large{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:22px}.el-form-item--large .el-form-item__label{height:40px;line-height:40px}.el-form-item--large .el-form-item__content{line-height:40px}.el-form-item--large .el-form-item__error{padding-top:4px}.el-form-item--default{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--default .el-form-item__label{height:32px;line-height:32px}.el-form-item--default .el-form-item__content{line-height:32px}.el-form-item--default .el-form-item__error{padding-top:2px}.el-form-item--small{--font-size:12px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--small .el-form-item__label{height:24px;line-height:24px}.el-form-item--small .el-form-item__content{line-height:24px}.el-form-item--small .el-form-item__error{padding-top:2px}.el-form-item--label-left .el-form-item__label{justify-content:flex-start;text-align:left}.el-form-item--label-right .el-form-item__label{justify-content:flex-end;text-align:right}.el-form-item--label-top{display:block}.el-form-item--label-top .el-form-item__label{display:block;height:auto;line-height:22px;margin-bottom:8px;padding-right:0;text-align:left;width:-moz-fit-content;width:fit-content}.el-form-item__label-wrap{display:flex}.el-form-item__label{align-items:flex-start;box-sizing:border-box;color:var(--el-text-color-regular);display:inline-flex;flex:0 0 auto;font-size:var(--el-form-label-font-size);height:32px;line-height:32px;padding:0 12px 0 0}.el-form-item__content{align-items:center;display:flex;flex:1;flex-wrap:wrap;font-size:var(--font-size);line-height:32px;min-width:0;position:relative}.el-form-item__content .el-input-group{vertical-align:top}.el-form-item__error{color:var(--el-color-danger);font-size:12px;left:0;line-height:1;padding-top:2px;position:absolute;top:100%}.el-form-item__error--inline{display:inline-block;left:auto;margin-left:10px;position:relative;top:auto}.el-form-item.is-required:not(.is-no-asterisk).asterisk-left>.el-form-item__label-wrap>.el-form-item__label:before,.el-form-item.is-required:not(.is-no-asterisk).asterisk-left>.el-form-item__label:before{color:var(--el-color-danger);content:"*";margin-right:4px}.el-form-item.is-required:not(.is-no-asterisk).asterisk-right>.el-form-item__label-wrap>.el-form-item__label:after,.el-form-item.is-required:not(.is-no-asterisk).asterisk-right>.el-form-item__label:after{color:var(--el-color-danger);content:"*";margin-left:4px}.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-input__wrapper,.el-form-item.is-error .el-form-item__content .el-input__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-input__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-input__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-select__wrapper,.el-form-item.is-error .el-form-item__content .el-select__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-select__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-select__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-textarea__inner,.el-form-item.is-error .el-form-item__content .el-textarea__inner.is-focus,.el-form-item.is-error .el-form-item__content .el-textarea__inner:focus,.el-form-item.is-error .el-form-item__content .el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-form-item.is-error .el-form-item__content .el-input-group__append .el-input__wrapper,.el-form-item.is-error .el-form-item__content .el-input-group__prepend .el-input__wrapper{box-shadow:inset 0 0 0 1px transparent}.el-form-item.is-error .el-form-item__content .el-input-group__append .el-input__validateIcon,.el-form-item.is-error .el-form-item__content .el-input-group__prepend .el-input__validateIcon{display:none}.el-form-item.is-error .el-form-item__content .el-input__validateIcon{color:var(--el-color-danger)}.el-form-item--feedback .el-input__validateIcon{display:inline-flex}.el-form{--el-form-label-font-size:var(--el-font-size-base);--el-form-inline-content-width:220px}.el-form--inline .el-form-item{display:inline-flex;margin-right:32px;vertical-align:middle}.el-form--inline.el-form--label-top{display:flex;flex-wrap:wrap}.el-form--inline.el-form--label-top .el-form-item{display:block}.el-header{--el-header-padding:0 20px;--el-header-height:60px;box-sizing:border-box;flex-shrink:0;height:var(--el-header-height);padding:var(--el-header-padding)}.el-image-viewer__wrapper{inset:0;position:fixed}.el-image-viewer__wrapper:focus{outline:none!important}.el-image-viewer__btn{align-items:center;border-radius:50%;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;opacity:.8;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}.el-image-viewer__btn .el-icon{cursor:pointer}.el-image-viewer__close{font-size:40px;height:40px;right:40px;top:40px;width:40px}.el-image-viewer__canvas{align-items:center;display:flex;height:100%;justify-content:center;position:static;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.el-image-viewer__actions{background-color:var(--el-text-color-regular);border-color:#fff;border-radius:22px;bottom:30px;height:44px;left:50%;padding:0 23px;transform:translate(-50%)}.el-image-viewer__actions__inner{align-items:center;color:#fff;cursor:default;display:flex;font-size:23px;gap:22px;height:100%;justify-content:space-around;padding:0 6px;width:100%}.el-image-viewer__actions__divider{margin:0 -6px}.el-image-viewer__progress{bottom:90px;color:#fff;cursor:default;left:50%;transform:translate(-50%)}.el-image-viewer__prev{left:40px}.el-image-viewer__next,.el-image-viewer__prev{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;top:50%;transform:translateY(-50%);width:44px}.el-image-viewer__next{right:40px;text-indent:2px}.el-image-viewer__close{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;width:44px}.el-image-viewer__mask{background:#000;height:100%;left:0;opacity:.5;position:absolute;top:0;width:100%}.el-image-viewer-parent--hidden{overflow:hidden}.viewer-fade-enter-active{animation:viewer-fade-in var(--el-transition-duration)}.viewer-fade-leave-active{animation:viewer-fade-out var(--el-transition-duration)}@keyframes viewer-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@keyframes viewer-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}.el-image__error,.el-image__inner,.el-image__placeholder,.el-image__wrapper{height:100%;width:100%}.el-image{display:inline-block;overflow:hidden;position:relative}.el-image__inner{opacity:1;vertical-align:top}.el-image__inner.is-loading{opacity:0}.el-image__wrapper{left:0;position:absolute;top:0}.el-image__error,.el-image__placeholder{background:var(--el-fill-color-light)}.el-image__error{align-items:center;color:var(--el-text-color-placeholder);display:flex;font-size:14px;justify-content:center;vertical-align:middle}.el-image__preview{cursor:pointer}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;display:inline-block;font-size:var(--el-font-size-base);position:relative;vertical-align:bottom;width:100%}.el-textarea__inner{-webkit-appearance:none;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;box-sizing:border-box;color:var(--el-input-text-color,var(--el-text-color-regular));display:block;font-family:inherit;font-size:inherit;line-height:1.5;padding:5px 11px;position:relative;resize:vertical;transition:var(--el-transition-box-shadow);width:100%}.el-textarea__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-textarea__inner:focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset;outline:none}.el-textarea .el-input__count{background:var(--el-fill-color-blank);bottom:5px;color:var(--el-color-info);font-size:12px;line-height:14px;position:absolute;right:10px}.el-textarea .el-input__count.is-outside{background:transparent;bottom:unset;line-height:1;padding-top:2px;position:absolute;right:0;top:100%}.el-textarea.is-disabled .el-textarea__inner{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;--el-input-height:var(--el-component-size);box-sizing:border-box;display:inline-flex;font-size:var(--el-font-size-base);line-height:var(--el-input-height);position:relative;vertical-align:middle;width:var(--el-input-width)}.el-input::-webkit-scrollbar{width:6px;z-index:11}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{background:var(--el-text-color-disabled);border-radius:5px;width:6px}.el-input::-webkit-scrollbar-corner,.el-input::-webkit-scrollbar-track{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track-piece{background:var(--el-fill-color-blank);width:6px}.el-input .el-input__clear,.el-input .el-input__password{color:var(--el-input-icon-color);cursor:pointer;font-size:14px}.el-input .el-input__clear:hover,.el-input .el-input__password:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{align-items:center;color:var(--el-color-info);display:inline-flex;font-size:12px;height:100%}.el-input .el-input__count .el-input__count-inner{background:var(--el-fill-color-blank);display:inline-block;line-height:normal;padding-left:8px}.el-input .el-input__count.is-outside{height:unset;padding-top:2px;position:absolute;right:0;top:100%}.el-input .el-input__count.is-outside .el-input__count-inner{background:transparent;line-height:1;padding-left:0}.el-input__wrapper{align-items:center;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;cursor:text;display:inline-flex;flex-grow:1;justify-content:center;padding:1px 11px;transform:translateZ(0);transition:var(--el-transition-box-shadow)}.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input{--el-input-inner-height:calc(var(--el-input-height, 32px) - 2px)}.el-input__inner{-webkit-appearance:none;background:none;border:none;box-sizing:border-box;color:var(--el-input-text-color,var(--el-text-color-regular));flex-grow:1;font-size:inherit;height:var(--el-input-inner-height);line-height:var(--el-input-inner-height);outline:none;padding:0;width:100%}.el-input__inner:focus{outline:none}.el-input__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner[type=password]::-ms-reveal{display:none}.el-input__inner[type=number]{line-height:1}.el-input__prefix{color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:inline-flex;flex-shrink:0;flex-wrap:nowrap;height:100%;line-height:var(--el-input-inner-height);pointer-events:none;text-align:center;transition:all var(--el-transition-duration);white-space:nowrap}.el-input__prefix-inner{align-items:center;display:inline-flex;justify-content:center;pointer-events:all}.el-input__prefix-inner>:last-child{margin-right:8px}.el-input__prefix-inner>:first-child,.el-input__prefix-inner>:first-child.el-input__icon{margin-left:0}.el-input__suffix{color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:inline-flex;flex-shrink:0;flex-wrap:nowrap;height:100%;line-height:var(--el-input-inner-height);pointer-events:none;text-align:center;transition:all var(--el-transition-duration);white-space:nowrap}.el-input__suffix-inner{align-items:center;display:inline-flex;justify-content:center;pointer-events:all}.el-input__suffix-inner>:first-child{margin-left:8px}.el-input .el-input__icon{align-items:center;display:flex;height:inherit;justify-content:center;line-height:inherit;margin-left:8px;transition:all var(--el-transition-duration)}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-color, ) inset}.el-input.is-disabled{cursor:not-allowed}.el-input.is-disabled .el-input__wrapper{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;cursor:not-allowed}.el-input.is-disabled .el-input__inner{color:var(--el-disabled-text-color);-webkit-text-fill-color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-disabled .el-input__prefix-inner,.el-input.is-disabled .el-input__suffix-inner{pointer-events:none}.el-input.is-exceed .el-input__wrapper{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--large{--el-input-height:var(--el-component-size-large);font-size:14px}.el-input--large .el-input__wrapper{padding:1px 15px}.el-input--large{--el-input-inner-height:calc(var(--el-input-height, 40px) - 2px)}.el-input--small{--el-input-height:var(--el-component-size-small);font-size:12px}.el-input--small .el-input__wrapper{padding:1px 7px}.el-input--small{--el-input-inner-height:calc(var(--el-input-height, 24px) - 2px)}.el-input-group{align-items:stretch;display:inline-flex;width:100%}.el-input-group__append,.el-input-group__prepend{align-items:center;background-color:var(--el-fill-color-light);border-radius:var(--el-input-border-radius);color:var(--el-color-info);display:inline-flex;justify-content:center;min-height:100%;padding:0 20px;position:relative;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:none}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;flex:1;margin:0 -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-select__wrapper,.el-input-group__append div.el-select:hover .el-select__wrapper,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-select__wrapper,.el-input-group__prepend div.el-select:hover .el-select__wrapper{background-color:transparent;border-color:transparent;color:inherit}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group__append{border-left:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--prepend>.el-input__wrapper,.el-input-group__append{border-bottom-left-radius:0;border-top-left-radius:0}.el-input-group--prepend .el-input-group__prepend .el-select .el-select__wrapper{border-bottom-right-radius:0;border-top-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group--append>.el-input__wrapper{border-bottom-right-radius:0;border-top-right-radius:0}.el-input-group--append .el-input-group__append .el-select .el-select__wrapper{border-bottom-left-radius:0;border-top-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-hidden{display:none!important}.el-input-number{display:inline-flex;line-height:30px;position:relative;vertical-align:middle;width:150px}.el-input-number .el-input__wrapper{padding-left:42px;padding-right:42px}.el-input-number .el-input__inner{-webkit-appearance:none;-moz-appearance:textfield;line-height:1;text-align:center}.el-input-number .el-input__inner::-webkit-inner-spin-button,.el-input-number .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-input-number.is-left .el-input__inner{text-align:left}.el-input-number.is-right .el-input__inner{text-align:right}.el-input-number.is-center .el-input__inner{text-align:center}.el-input-number__decrease,.el-input-number__increase{align-items:center;background:var(--el-fill-color-light);bottom:1px;color:var(--el-text-color-regular);cursor:pointer;display:flex;font-size:13px;height:auto;justify-content:center;position:absolute;top:1px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:32px;z-index:1}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:var(--el-color-primary)}.el-input-number__decrease:hover~.el-input:not(.is-disabled) .el-input__wrapper,.el-input-number__increase:hover~.el-input:not(.is-disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color,var(--el-color-primary)) inset}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-input-number__increase{border-left:var(--el-border);border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0;right:1px}.el-input-number__decrease{border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);border-right:var(--el-border);left:1px}.el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase{border-color:var(--el-disabled-border-color);color:var(--el-disabled-border-color)}.el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover{color:var(--el-disabled-border-color);cursor:not-allowed}.el-input-number--large{line-height:38px;width:180px}.el-input-number--large .el-input-number__decrease,.el-input-number--large .el-input-number__increase{font-size:14px;width:40px}.el-input-number--large.is-controls-right .el-input--large .el-input__wrapper{padding-right:47px}.el-input-number--large .el-input--large .el-input__wrapper{padding-left:47px;padding-right:47px}.el-input-number--small{line-height:22px;width:120px}.el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase{font-size:12px;width:24px}.el-input-number--small.is-controls-right .el-input--small .el-input__wrapper{padding-right:31px}.el-input-number--small .el-input--small .el-input__wrapper{padding-left:31px;padding-right:31px}.el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon]{transform:scale(.9)}.el-input-number.is-without-controls .el-input__wrapper{padding-left:15px;padding-right:15px}.el-input-number.is-controls-right .el-input__wrapper{padding-left:15px;padding-right:42px}.el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase{--el-input-number-controls-height:15px;height:var(--el-input-number-controls-height);line-height:var(--el-input-number-controls-height)}.el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number.is-controls-right .el-input-number__increase{border-bottom:var(--el-border);border-radius:0 var(--el-border-radius-base) 0 0;bottom:auto;left:auto}.el-input-number.is-controls-right .el-input-number__decrease{border-left:var(--el-border);border-radius:0 0 var(--el-border-radius-base) 0;border-right:none;left:auto;right:1px;top:auto}.el-input-number.is-controls-right[class*=large] [class*=decrease],.el-input-number.is-controls-right[class*=large] [class*=increase]{--el-input-number-controls-height:19px}.el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase]{--el-input-number-controls-height:11px}.el-input-tag{--el-input-tag-border-color-hover:var(--el-border-color-hover);--el-input-tag-placeholder-color:var(--el-text-color-placeholder);--el-input-tag-disabled-color:var(--el-disabled-text-color);--el-input-tag-disabled-border:var(--el-disabled-border-color);--el-input-tag-font-size:var(--el-font-size-base);--el-input-tag-close-hover-color:var(--el-text-color-secondary);--el-input-tag-text-color:var(--el-text-color-regular);--el-input-tag-input-focus-border-color:var(--el-color-primary);--el-input-tag-width:100%;--el-input-tag-mini-height:var(--el-component-size);--el-input-tag-gap:6px;--el-input-tag-padding:4px;--el-input-tag-inner-padding:8px;--el-input-tag-line-height:24px;align-items:center;background-color:var(--el-fill-color-blank);border-radius:var(--el-border-radius-base);box-shadow:0 0 0 1px var(--el-border-color) inset;box-sizing:border-box;cursor:pointer;display:flex;font-size:var(--el-input-tag-font-size);line-height:var(--el-input-tag-line-height);min-height:var(--el-input-tag-mini-height);padding:var(--el-input-tag-padding);transform:translateZ(0);transition:var(--el-transition-duration);width:var(--el-input-tag-width)}.el-input-tag.is-focused{box-shadow:0 0 0 1px var(--el-color-primary) inset}.el-input-tag.is-hovering:not(.is-focused){box-shadow:0 0 0 1px var(--el-border-color-hover) inset}.el-input-tag.is-disabled{background-color:var(--el-fill-color-light);cursor:not-allowed}.el-input-tag.is-disabled,.el-input-tag.is-disabled:hover{box-shadow:0 0 0 1px var(--el-input-tag-disabled-border) inset}.el-input-tag.is-disabled.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input-tag.is-disabled .el-input-tag__inner .el-input-tag__input,.el-input-tag.is-disabled .el-input-tag__inner .el-tag{cursor:not-allowed}.el-input-tag__prefix,.el-input-tag__suffix{align-items:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:flex;flex-shrink:0;padding:0 var(--el-input-tag-inner-padding)}.el-input-tag__suffix{gap:8px}.el-input-tag__input-tag-list{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:6px;min-width:0;position:relative}.el-input-tag__input-tag-list.is-near{margin-left:-8px}.el-input-tag__input-tag-list .el-tag{border-color:transparent;cursor:pointer}.el-input-tag__input-tag-list .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-input-tag__input-tag-list .el-tag .el-tag__content{min-width:0}.el-input-tag__inner{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:var(--el-input-tag-gap);max-width:100%;min-width:0;position:relative}.el-input-tag__inner.is-left-space{margin-left:var(--el-input-tag-inner-padding)}.el-input-tag__inner.is-right-space{margin-right:var(--el-input-tag-inner-padding)}.el-input-tag__inner.is-draggable .el-tag{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-input-tag__drop-indicator{background-color:var(--el-color-primary);height:var(--el-input-tag-line-height);position:absolute;top:0;width:1px}.el-input-tag__inner .el-tag{border-color:transparent;cursor:pointer;max-width:100%}.el-input-tag__inner .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-input-tag__inner .el-tag .el-tag__content{line-height:normal;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-input-tag__input-wrapper{flex:1}.el-input-tag__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-input-tag-text-color);font-family:inherit;font-size:inherit;line-height:inherit;outline:none;padding:0;width:100%}.el-input-tag__input::-moz-placeholder{color:var(--el-input-tag-placeholder-color)}.el-input-tag__input::placeholder{color:var(--el-input-tag-placeholder-color)}.el-input-tag__input-calculator{left:0;max-width:100%;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:pre}.el-input-tag--large{--el-input-tag-gap:6px;--el-input-tag-padding:8px;--el-input-tag-padding-left:8px;--el-input-tag-font-size:14px}.el-input-tag--small{--el-input-tag-gap:4px;--el-input-tag-padding:2px;--el-input-tag-padding-left:6px;--el-input-tag-font-size:12px;--el-input-tag-line-height:20px;--el-input-tag-mini-height:var(--el-component-size-small)}.el-link{--el-link-font-size:var(--el-font-size-base);--el-link-font-weight:var(--el-font-weight-primary);--el-link-text-color:var(--el-text-color-regular);--el-link-hover-text-color:var(--el-color-primary);--el-link-disabled-text-color:var(--el-text-color-placeholder);align-items:center;color:var(--el-link-text-color);cursor:pointer;display:inline-flex;flex-direction:row;font-size:var(--el-link-font-size);font-weight:var(--el-link-font-weight);justify-content:center;outline:none;padding:0;position:relative;text-decoration:none;vertical-align:middle}.el-link.is-hover-underline:hover:after{border-bottom:1px solid var(--el-link-hover-text-color);bottom:0;content:"";height:0;left:0;position:absolute;right:0}.el-link.is-underline:after{border-bottom:1px solid var(--el-link-text-color);bottom:0;content:"";height:0;left:0;position:absolute;right:0}.el-link:hover{color:var(--el-link-hover-text-color)}.el-link:hover:after{border-color:var(--el-link-hover-text-color)}.el-link [class*=el-icon-]+span{margin-left:5px}.el-link__inner{align-items:center;display:inline-flex;justify-content:center}.el-link.el-link--primary{--el-link-text-color:var(--el-color-primary);--el-link-hover-text-color:var(--el-color-primary-light-3);--el-link-disabled-text-color:var(--el-color-primary-light-5)}.el-link.el-link--success{--el-link-text-color:var(--el-color-success);--el-link-hover-text-color:var(--el-color-success-light-3);--el-link-disabled-text-color:var(--el-color-success-light-5)}.el-link.el-link--warning{--el-link-text-color:var(--el-color-warning);--el-link-hover-text-color:var(--el-color-warning-light-3);--el-link-disabled-text-color:var(--el-color-warning-light-5)}.el-link.el-link--danger{--el-link-text-color:var(--el-color-danger);--el-link-hover-text-color:var(--el-color-danger-light-3);--el-link-disabled-text-color:var(--el-color-danger-light-5)}.el-link.el-link--error{--el-link-text-color:var(--el-color-error);--el-link-hover-text-color:var(--el-color-error-light-3);--el-link-disabled-text-color:var(--el-color-error-light-5)}.el-link.el-link--info{--el-link-text-color:var(--el-color-info);--el-link-hover-text-color:var(--el-color-info-light-3);--el-link-disabled-text-color:var(--el-color-info-light-5)}.el-link.is-disabled{color:var(--el-link-disabled-text-color);cursor:not-allowed}.el-link.is-disabled:after{border-color:var(--el-link-disabled-text-color)}:root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{background-color:var(--el-mask-color);inset:0;margin:0;position:absolute;transition:opacity var(--el-transition-duration);z-index:2000}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:calc((0px - var(--el-loading-fullscreen-spinner-size))/2)}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:var(--el-loading-fullscreen-spinner-size);width:var(--el-loading-fullscreen-spinner-size)}.el-loading-spinner{margin-top:calc((0px - var(--el-loading-spinner-size))/2);position:absolute;text-align:center;top:50%;width:100%}.el-loading-spinner .el-loading-text{color:var(--el-color-primary);font-size:14px;margin:3px 0}.el-loading-spinner .circular{animation:loading-rotate 2s linear infinite;display:inline;height:var(--el-loading-spinner-size);width:var(--el-loading-spinner-size)}.el-loading-spinner .path{animation:loading-dash 1.5s ease-in-out infinite;stroke:var(--el-color-primary);stroke-dasharray:90,150;stroke-dashoffset:0;stroke-linecap:round;stroke-width:2}.el-loading-spinner i{color:var(--el-color-primary)}.el-loading-fade-enter-from,.el-loading-fade-leave-to{opacity:0}@keyframes loading-rotate{to{transform:rotate(1turn)}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}.el-main{--el-main-padding:20px;box-sizing:border-box;display:block;flex:1;flex-basis:auto;overflow:auto;padding:var(--el-main-padding)}:root{--el-menu-active-color:var(--el-color-primary);--el-menu-text-color:var(--el-text-color-primary);--el-menu-hover-text-color:var(--el-color-primary);--el-menu-bg-color:var(--el-fill-color-blank);--el-menu-hover-bg-color:var(--el-color-primary-light-9);--el-menu-item-height:56px;--el-menu-sub-item-height:calc(var(--el-menu-item-height) - 6px);--el-menu-horizontal-height:60px;--el-menu-horizontal-sub-item-height:36px;--el-menu-item-font-size:var(--el-font-size-base);--el-menu-item-hover-fill:var(--el-color-primary-light-9);--el-menu-border-color:var(--el-border-color);--el-menu-base-level-padding:20px;--el-menu-level-padding:20px;--el-menu-icon-width:24px}.el-menu{background-color:var(--el-menu-bg-color);border-right:1px solid var(--el-menu-border-color);box-sizing:border-box;list-style:none;margin:0;padding-left:0;position:relative}.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-menu-item,.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-menu-item-group__title,.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-sub-menu__title{padding-left:calc(var(--el-menu-base-level-padding) + var(--el-menu-level)*var(--el-menu-level-padding));white-space:nowrap}.el-menu:not(.el-menu--collapse) .el-sub-menu__title{padding-right:calc(var(--el-menu-base-level-padding) + var(--el-menu-icon-width))}.el-menu--horizontal{border-right:none;display:flex;flex-wrap:nowrap;height:var(--el-menu-horizontal-height)}.el-menu--horizontal.el-menu--popup-container{height:unset}.el-menu--horizontal.el-menu{border-bottom:1px solid var(--el-menu-border-color)}.el-menu--horizontal>.el-menu-item{align-items:center;border-bottom:2px solid transparent;color:var(--el-menu-text-color);display:inline-flex;height:100%;justify-content:center;margin:0}.el-menu--horizontal>.el-menu-item a,.el-menu--horizontal>.el-menu-item a:hover{color:inherit}.el-menu--horizontal>.el-sub-menu:focus,.el-menu--horizontal>.el-sub-menu:hover{outline:none}.el-menu--horizontal>.el-sub-menu:hover .el-sub-menu__title{color:var(--el-menu-hover-text-color)}.el-menu--horizontal>.el-sub-menu.is-active .el-sub-menu__title{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title{border-bottom:2px solid transparent;color:var(--el-menu-text-color);height:100%}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title:hover{background-color:var(--el-menu-bg-color)}.el-menu--horizontal .el-menu .el-menu-item,.el-menu--horizontal .el-menu .el-sub-menu__title{align-items:center;background-color:var(--el-menu-bg-color);color:var(--el-menu-text-color);display:flex;height:var(--el-menu-horizontal-sub-item-height);line-height:var(--el-menu-horizontal-sub-item-height);padding:0 10px}.el-menu--horizontal .el-menu .el-sub-menu__title{padding-right:40px}.el-menu--horizontal .el-menu .el-menu-item.is-active,.el-menu--horizontal .el-menu .el-menu-item.is-active:hover,.el-menu--horizontal .el-menu .el-sub-menu.is-active>.el-sub-menu__title,.el-menu--horizontal .el-menu .el-sub-menu.is-active>.el-sub-menu__title:hover{color:var(--el-menu-active-color)}.el-menu--horizontal .el-menu-item:not(.is-disabled):focus,.el-menu--horizontal .el-menu-item:not(.is-disabled):hover{background-color:var(--el-menu-hover-bg-color);color:var(--el-menu-active-color,var(--el-menu-hover-text-color));outline:none}.el-menu--horizontal>.el-menu-item.is-active{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)!important}.el-menu--collapse{width:calc(var(--el-menu-icon-width) + var(--el-menu-base-level-padding)*2)}.el-menu--collapse>.el-menu-item [class^=el-icon],.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title [class^=el-icon],.el-menu--collapse>.el-sub-menu>.el-sub-menu__title [class^=el-icon]{margin:0;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-menu--collapse>.el-menu-item .el-sub-menu__icon-arrow,.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title .el-sub-menu__icon-arrow,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title .el-sub-menu__icon-arrow{display:none}.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title>span,.el-menu--collapse>.el-menu-item>span,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title>span{display:inline-block;height:0;overflow:hidden;visibility:hidden;width:0}.el-menu--collapse>.el-menu-item.is-active i{color:inherit}.el-menu--collapse .el-menu .el-sub-menu{min-width:200px}.el-menu--collapse .el-sub-menu.is-active .el-sub-menu__title{color:var(--el-menu-active-color)}.el-menu--popup{border:none;border-radius:var(--el-border-radius-small);box-shadow:var(--el-box-shadow-light);min-width:200px;padding:5px 0;z-index:100}.el-menu .el-icon{flex-shrink:0}.el-menu-item{align-items:center;box-sizing:border-box;color:var(--el-menu-text-color);cursor:pointer;display:flex;font-size:var(--el-menu-item-font-size);height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);list-style:none;padding:0 var(--el-menu-base-level-padding);position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);white-space:nowrap}.el-menu-item *{vertical-align:bottom}.el-menu-item i{color:inherit}.el-menu-item:focus,.el-menu-item:hover{outline:none}.el-menu-item:hover{background-color:var(--el-menu-hover-bg-color)}.el-menu-item.is-disabled{background:none!important;cursor:not-allowed;opacity:.25}.el-menu-item [class^=el-icon]{font-size:18px;margin-right:5px;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-menu-item.is-active{color:var(--el-menu-active-color)}.el-menu-item.is-active i{color:inherit}.el-menu-item .el-menu-tooltip__trigger{align-items:center;box-sizing:border-box;display:inline-flex;height:100%;left:0;padding:0 var(--el-menu-base-level-padding);position:absolute;top:0;width:100%}.el-sub-menu{list-style:none;margin:0;padding-left:0}.el-sub-menu__title{align-items:center;box-sizing:border-box;color:var(--el-menu-text-color);cursor:pointer;display:flex;font-size:var(--el-menu-item-font-size);height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);list-style:none;padding:0 var(--el-menu-base-level-padding);position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);white-space:nowrap}.el-sub-menu__title *{vertical-align:bottom}.el-sub-menu__title i{color:inherit}.el-sub-menu__title:focus,.el-sub-menu__title:hover{outline:none}.el-sub-menu__title.is-disabled{background:none!important;cursor:not-allowed;opacity:.25}.el-sub-menu__title:hover{background-color:var(--el-menu-hover-bg-color)}.el-sub-menu .el-menu{border:none}.el-sub-menu .el-menu-item{height:var(--el-menu-sub-item-height);line-height:var(--el-menu-sub-item-height)}.el-sub-menu.el-sub-menu__hide-arrow .el-sub-menu__title{padding-right:var(--el-menu-base-level-padding)}.el-sub-menu__hide-arrow .el-sub-menu__icon-arrow{display:none!important}.el-sub-menu.is-active .el-sub-menu__title{border-bottom-color:var(--el-menu-active-color)}.el-sub-menu.is-disabled .el-menu-item,.el-sub-menu.is-disabled .el-sub-menu__title{background:none!important;cursor:not-allowed;opacity:.25}.el-sub-menu .el-icon{font-size:18px;margin-right:5px;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-sub-menu .el-icon.el-sub-menu__icon-more{margin-right:0!important}.el-sub-menu .el-sub-menu__icon-arrow{font-size:12px;margin-right:0;margin-top:-6px;position:absolute;right:var(--el-menu-base-level-padding);top:50%;transition:transform var(--el-transition-duration);width:inherit}.el-menu-item-group>ul{padding:0}.el-menu-item-group__title{color:var(--el-text-color-secondary);font-size:12px;line-height:normal;padding:7px 0 7px var(--el-menu-base-level-padding)}.horizontal-collapse-transition .el-sub-menu__title .el-sub-menu__icon-arrow{opacity:0;transition:var(--el-transition-duration-fast)}.el-menu,.el-menu--popup-container,.el-popper{outline:none}.el-message-box{--el-messagebox-title-color:var(--el-text-color-primary);--el-messagebox-width:420px;--el-messagebox-border-radius:4px;--el-messagebox-box-shadow:var(--el-box-shadow);--el-messagebox-font-size:var(--el-font-size-large);--el-messagebox-content-font-size:var(--el-font-size-base);--el-messagebox-content-color:var(--el-text-color-regular);--el-messagebox-error-font-size:12px;--el-messagebox-padding-primary:12px;--el-messagebox-font-line-height:var(--el-font-line-height-primary);backface-visibility:hidden;background-color:var(--el-bg-color);border-radius:var(--el-messagebox-border-radius);box-shadow:var(--el-messagebox-box-shadow);box-sizing:border-box;display:inline-block;font-size:var(--el-messagebox-font-size);max-width:var(--el-messagebox-width);overflow:hidden;overflow-wrap:break-word;padding:var(--el-messagebox-padding-primary);position:relative;text-align:left;vertical-align:middle;width:100%}.el-message-box:focus{outline:none!important}.is-message-box .el-overlay-message-box{inset:0;overflow:auto;padding:16px;position:fixed;text-align:center}.is-message-box .el-overlay-message-box:after{content:"";display:inline-block;height:100%;vertical-align:middle;width:0}.el-message-box.is-draggable .el-message-box__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-message-box__header{padding-bottom:var(--el-messagebox-padding-primary)}.el-message-box__header.show-close{padding-right:calc(var(--el-messagebox-padding-primary) + var(--el-message-close-size, 16px))}.el-message-box__title{color:var(--el-messagebox-title-color);font-size:var(--el-messagebox-font-size);line-height:var(--el-messagebox-font-line-height)}.el-message-box__headerbtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:40px;outline:none;padding:0;position:absolute;right:0;top:0;width:40px}.el-message-box__headerbtn .el-message-box__close{color:var(--el-color-info);font-size:inherit}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:var(--el-color-primary)}.el-message-box__content{color:var(--el-messagebox-content-color);font-size:var(--el-messagebox-content-font-size)}.el-message-box__container{align-items:center;display:flex;gap:12px}.el-message-box__input{padding-top:12px}.el-message-box__input div.invalid>input,.el-message-box__input div.invalid>input:focus{border-color:var(--el-color-error)}.el-message-box__status{font-size:24px}.el-message-box__status.el-message-box-icon--primary{--el-messagebox-color:var(--el-color-primary);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--success{--el-messagebox-color:var(--el-color-success);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--info{--el-messagebox-color:var(--el-color-info);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--warning{--el-messagebox-color:var(--el-color-warning);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--error{--el-messagebox-color:var(--el-color-error);color:var(--el-messagebox-color)}.el-message-box__message{margin:0;min-width:0}.el-message-box__message p{line-height:var(--el-messagebox-font-line-height);margin:0}.el-message-box__errormsg{color:var(--el-color-error);font-size:var(--el-messagebox-error-font-size);line-height:var(--el-messagebox-font-line-height)}.el-message-box__btns{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end;padding-top:var(--el-messagebox-padding-primary)}.el-message-box--center .el-message-box__title{align-items:center;display:flex;gap:6px;justify-content:center}.el-message-box--center .el-message-box__status{font-size:inherit}.el-message-box--center .el-message-box__btns,.el-message-box--center .el-message-box__container{justify-content:center}.el-message-box-parent--hidden{overflow:hidden}.fade-in-linear-enter-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration)}.fade-in-linear-leave-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration) reverse}@keyframes msgbox-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}.el-message{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-border-color-lighter);--el-message-padding:11px 15px;--el-message-close-size:16px;--el-message-close-icon-color:var(--el-text-color-placeholder);--el-message-close-hover-color:var(--el-text-color-secondary);align-items:center;background-color:var(--el-message-bg-color);border-color:var(--el-message-border-color);border-radius:var(--el-border-radius-base);border-style:var(--el-border-style);border-width:var(--el-border-width);box-sizing:border-box;display:flex;gap:8px;max-width:calc(100% - 32px);padding:var(--el-message-padding);position:fixed;transition:opacity var(--el-transition-duration),transform .4s,top .4s,bottom .4s;width:-moz-fit-content;width:fit-content}.el-message.is-left{left:16px}.el-message.is-right{right:16px}.el-message.is-center{left:0;margin:0 auto;right:0}.el-message.is-plain{background-color:var(--el-bg-color-overlay);border-color:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-message p{margin:0}.el-message--primary{--el-message-bg-color:var(--el-color-primary-light-9);--el-message-border-color:var(--el-color-primary-light-8);--el-message-text-color:var(--el-color-primary)}.el-message--primary .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--primary{color:var(--el-message-text-color)}.el-message--success{--el-message-bg-color:var(--el-color-success-light-9);--el-message-border-color:var(--el-color-success-light-8);--el-message-text-color:var(--el-color-success)}.el-message--success .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--success{color:var(--el-message-text-color)}.el-message--info{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-color-info-light-8);--el-message-text-color:var(--el-color-info)}.el-message--info .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--info{color:var(--el-message-text-color)}.el-message--warning{--el-message-bg-color:var(--el-color-warning-light-9);--el-message-border-color:var(--el-color-warning-light-8);--el-message-text-color:var(--el-color-warning)}.el-message--warning .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--warning{color:var(--el-message-text-color)}.el-message--error{--el-message-bg-color:var(--el-color-error-light-9);--el-message-border-color:var(--el-color-error-light-8);--el-message-text-color:var(--el-color-error)}.el-message--error .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--error{color:var(--el-message-text-color)}.el-message .el-message__badge{position:absolute;right:-8px;top:-8px}.el-message__content{font-size:14px;line-height:1;padding:0}.el-message__content:focus{outline-width:0}.el-message .el-message__closeBtn{color:var(--el-message-close-icon-color);cursor:pointer;font-size:var(--el-message-close-size)}.el-message .el-message__closeBtn:focus{outline-width:0}.el-message .el-message__closeBtn:hover{color:var(--el-message-close-hover-color)}.el-message-fade-enter-from,.el-message-fade-leave-to{opacity:0;transform:translateY(-100%)}.el-message-fade-enter-from.is-bottom,.el-message-fade-leave-to.is-bottom{transform:translateY(100%)}.el-notification{--el-notification-width:330px;--el-notification-padding:14px 26px 14px 13px;--el-notification-radius:8px;--el-notification-shadow:var(--el-box-shadow-light);--el-notification-border-color:var(--el-border-color-lighter);--el-notification-icon-size:24px;--el-notification-close-font-size:var(--el-message-close-size,16px);--el-notification-group-margin-left:13px;--el-notification-group-margin-right:8px;--el-notification-content-font-size:var(--el-font-size-base);--el-notification-content-color:var(--el-text-color-regular);--el-notification-title-font-size:16px;--el-notification-title-color:var(--el-text-color-primary);--el-notification-close-color:var(--el-text-color-secondary);--el-notification-close-hover-color:var(--el-text-color-regular);background-color:var(--el-bg-color-overlay);border:1px solid var(--el-notification-border-color);border-radius:var(--el-notification-radius);box-shadow:var(--el-notification-shadow);box-sizing:border-box;display:flex;overflow:hidden;overflow-wrap:break-word;padding:var(--el-notification-padding);position:fixed;transition:opacity var(--el-transition-duration),transform var(--el-transition-duration),left var(--el-transition-duration),right var(--el-transition-duration),top .4s,bottom var(--el-transition-duration);width:var(--el-notification-width);z-index:9999}.el-notification.right{right:16px}.el-notification.left{left:16px}.el-notification__group{flex:1;margin-left:var(--el-notification-group-margin-left);margin-right:var(--el-notification-group-margin-right);min-width:0}.el-notification__title{color:var(--el-notification-title-color);font-size:var(--el-notification-title-font-size);font-weight:700;line-height:var(--el-notification-icon-size);margin:0}.el-notification__content{color:var(--el-notification-content-color);font-size:var(--el-notification-content-font-size);line-height:24px;margin:6px 0 0}.el-notification__content p{margin:0}.el-notification .el-notification__icon{flex-shrink:0;font-size:var(--el-notification-icon-size);height:var(--el-notification-icon-size);width:var(--el-notification-icon-size)}.el-notification .el-notification__closeBtn{color:var(--el-notification-close-color);cursor:pointer;font-size:var(--el-notification-close-font-size);position:absolute;right:15px;top:18px}.el-notification .el-notification__closeBtn:hover{color:var(--el-notification-close-hover-color)}.el-notification .el-notification--primary{--el-notification-icon-color:var(--el-color-primary);color:var(--el-notification-icon-color)}.el-notification .el-notification--success{--el-notification-icon-color:var(--el-color-success);color:var(--el-notification-icon-color)}.el-notification .el-notification--info{--el-notification-icon-color:var(--el-color-info);color:var(--el-notification-icon-color)}.el-notification .el-notification--warning{--el-notification-icon-color:var(--el-color-warning);color:var(--el-notification-icon-color)}.el-notification .el-notification--error{--el-notification-icon-color:var(--el-color-error);color:var(--el-notification-icon-color)}.el-notification-fade-enter-from.right{right:0;transform:translate(100%)}.el-notification-fade-enter-from.left{left:0;transform:translate(-100%)}.el-notification-fade-leave-to{opacity:0}.el-overlay{background-color:var(--el-overlay-color-lighter);height:100%;inset:0;overflow:auto;position:fixed;z-index:2000}.el-overlay .el-overlay-root{height:0}.el-page-header.is-contentful .el-page-header__main{border-top:1px solid var(--el-border-color-light);margin-top:16px}.el-page-header__header{align-items:center;display:flex;justify-content:space-between;line-height:24px}.el-page-header__left{align-items:center;display:flex;margin-right:40px;position:relative}.el-page-header__back{align-items:center;cursor:pointer;display:flex}.el-page-header__left .el-divider--vertical{margin:0 16px}.el-page-header__icon{align-items:center;display:flex;font-size:16px;margin-right:10px}.el-page-header__icon .el-icon{font-size:inherit}.el-page-header__title{font-size:14px;font-weight:500}.el-page-header__content{color:var(--el-text-color-primary);font-size:18px}.el-page-header__breadcrumb{margin-bottom:16px}.el-pagination{--el-pagination-font-size:14px;--el-pagination-bg-color:var(--el-fill-color-blank);--el-pagination-text-color:var(--el-text-color-primary);--el-pagination-border-radius:2px;--el-pagination-button-color:var(--el-text-color-primary);--el-pagination-button-width:32px;--el-pagination-button-height:32px;--el-pagination-button-disabled-color:var(--el-text-color-placeholder);--el-pagination-button-disabled-bg-color:var(--el-fill-color-blank);--el-pagination-button-bg-color:var(--el-fill-color);--el-pagination-hover-color:var(--el-color-primary);--el-pagination-font-size-small:12px;--el-pagination-button-width-small:24px;--el-pagination-button-height-small:24px;--el-pagination-button-width-large:40px;--el-pagination-button-height-large:40px;--el-pagination-item-gap:16px;align-items:center;color:var(--el-pagination-text-color);display:flex;font-size:var(--el-pagination-font-size);font-weight:400;white-space:nowrap}.el-pagination .el-input__inner{-moz-appearance:textfield;text-align:center}.el-pagination .el-select{width:128px}.el-pagination .btn-next,.el-pagination .btn-prev{align-items:center;background:var(--el-pagination-bg-color);border:none;border-radius:var(--el-pagination-border-radius);box-sizing:border-box;color:var(--el-pagination-button-color);cursor:pointer;display:flex;font-size:var(--el-pagination-font-size);height:var(--el-pagination-button-height);justify-content:center;line-height:var(--el-pagination-button-height);min-width:var(--el-pagination-button-width);padding:0 4px;text-align:center}.el-pagination .btn-next *,.el-pagination .btn-prev *{pointer-events:none}.el-pagination .btn-next:focus,.el-pagination .btn-prev:focus{outline:none}.el-pagination .btn-next:hover,.el-pagination .btn-prev:hover{color:var(--el-pagination-hover-color)}.el-pagination .btn-next.is-active,.el-pagination .btn-prev.is-active{color:var(--el-pagination-hover-color);cursor:default;font-weight:700}.el-pagination .btn-next.is-active.is-disabled,.el-pagination .btn-prev.is-active.is-disabled{color:var(--el-text-color-secondary);font-weight:700}.el-pagination .btn-next.is-disabled,.el-pagination .btn-next:disabled,.el-pagination .btn-prev.is-disabled,.el-pagination .btn-prev:disabled{background-color:var(--el-pagination-button-disabled-bg-color);color:var(--el-pagination-button-disabled-color);cursor:not-allowed}.el-pagination .btn-next:focus-visible,.el-pagination .btn-prev:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon{display:block;font-size:12px;font-weight:700;width:inherit}.el-pagination>.is-first{margin-left:0!important}.el-pagination>.is-last{margin-right:0!important}.el-pagination .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination__sizes,.el-pagination__total{color:var(--el-text-color-regular);font-weight:400;margin-left:var(--el-pagination-item-gap)}.el-pagination__total[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__jump{align-items:center;color:var(--el-text-color-regular);display:flex;font-weight:400;margin-left:var(--el-pagination-item-gap)}.el-pagination__jump[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__goto{margin-right:8px}.el-pagination__editor{box-sizing:border-box;text-align:center}.el-pagination__editor.el-input{width:56px}.el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-pagination__classifier{margin-left:8px}.el-pagination__rightwrapper{align-items:center;display:flex;flex:1;justify-content:flex-end}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li{background-color:var(--el-pagination-button-bg-color);margin:0 4px}.el-pagination.is-background .btn-next.is-active,.el-pagination.is-background .btn-prev.is-active,.el-pagination.is-background .el-pager li.is-active{background-color:var(--el-color-primary);color:var(--el-color-white)}.el-pagination.is-background .btn-next.is-disabled,.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev.is-disabled,.el-pagination.is-background .btn-prev:disabled,.el-pagination.is-background .el-pager li.is-disabled,.el-pagination.is-background .el-pager li:disabled{background-color:var(--el-disabled-bg-color);color:var(--el-text-color-placeholder)}.el-pagination.is-background .btn-next.is-disabled.is-active,.el-pagination.is-background .btn-next:disabled.is-active,.el-pagination.is-background .btn-prev.is-disabled.is-active,.el-pagination.is-background .btn-prev:disabled.is-active,.el-pagination.is-background .el-pager li.is-disabled.is-active,.el-pagination.is-background .el-pager li:disabled.is-active{background-color:var(--el-fill-color-dark);color:var(--el-text-color-secondary)}.el-pagination.is-background .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li{font-size:var(--el-pagination-font-size-small);height:var(--el-pagination-button-height-small);line-height:var(--el-pagination-button-height-small);min-width:var(--el-pagination-button-width-small)}.el-pagination--small button,.el-pagination--small span:not([class*=suffix]){font-size:var(--el-pagination-font-size-small)}.el-pagination--small .el-select{width:100px}.el-pagination--large .btn-next,.el-pagination--large .btn-prev,.el-pagination--large .el-pager li{height:var(--el-pagination-button-height-large);line-height:var(--el-pagination-button-height-large);min-width:var(--el-pagination-button-width-large)}.el-pagination--large .el-select .el-input{width:160px}.el-pager{font-size:0;list-style:none;margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-pager,.el-pager li{align-items:center;display:flex}.el-pager li{background:var(--el-pagination-bg-color);border:none;border-radius:var(--el-pagination-border-radius);box-sizing:border-box;color:var(--el-pagination-button-color);cursor:pointer;font-size:var(--el-pagination-font-size);height:var(--el-pagination-button-height);justify-content:center;line-height:var(--el-pagination-button-height);min-width:var(--el-pagination-button-width);padding:0 4px;text-align:center}.el-pager li *{pointer-events:none}.el-pager li:focus{outline:none}.el-pager li.is-active,.el-pager li:hover{color:var(--el-pagination-hover-color)}.el-pager li.is-active{cursor:default;font-weight:700}.el-pager li.is-active.is-disabled{color:var(--el-text-color-secondary);font-weight:700}.el-pager li.is-disabled,.el-pager li:disabled{background-color:var(--el-pagination-button-disabled-bg-color);color:var(--el-pagination-button-disabled-color);cursor:not-allowed}.el-pager li:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-popconfirm{outline:none}.el-popconfirm__main{align-items:center;display:flex}.el-popconfirm__icon{margin-right:5px}.el-popconfirm__action{margin-top:8px;text-align:right}.el-popover{--el-popover-bg-color:var(--el-bg-color-overlay);--el-popover-font-size:var(--el-font-size-base);--el-popover-border-color:var(--el-border-color-lighter);--el-popover-padding:12px;--el-popover-padding-large:18px 20px;--el-popover-title-font-size:16px;--el-popover-title-text-color:var(--el-text-color-primary);--el-popover-border-radius:4px}.el-popover.el-popper{background:var(--el-popover-bg-color);border:1px solid var(--el-popover-border-color);border-radius:var(--el-popover-border-radius);box-shadow:var(--el-box-shadow-light);box-sizing:border-box;color:var(--el-text-color-regular);font-size:var(--el-popover-font-size);line-height:1.4;min-width:150px;overflow-wrap:break-word;padding:var(--el-popover-padding);z-index:var(--el-index-popper)}.el-popover.el-popper--plain{padding:var(--el-popover-padding-large)}.el-popover__title{color:var(--el-popover-title-text-color);font-size:var(--el-popover-title-font-size);line-height:1;margin-bottom:12px}.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing){outline-width:0}.el-popover.el-popper.is-dark{--el-popover-bg-color:var(--el-text-color-primary);--el-popover-border-color:var(--el-text-color-primary);--el-popover-title-text-color:var(--el-bg-color);color:var(--el-bg-color)}.el-popover.el-popper:focus,.el-popover.el-popper:focus:active{outline-width:0}.el-progress{align-items:center;display:flex;line-height:1;position:relative}.el-progress__text{color:var(--el-text-color-regular);font-size:14px;line-height:1;margin-left:5px;min-width:50px}.el-progress__text i{display:block;vertical-align:middle}.el-progress--circle,.el-progress--dashboard{display:inline-block}.el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text{left:0;margin:0;position:absolute;text-align:center;top:50%;transform:translateY(-50%);width:100%}.el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i{display:inline-block;vertical-align:middle}.el-progress--without-text .el-progress__text{display:none}.el-progress--without-text .el-progress-bar{display:block;margin-right:0;padding-right:0}.el-progress--text-inside .el-progress-bar{margin-right:0;padding-right:0}.el-progress.is-success .el-progress-bar__inner{background-color:var(--el-color-success)}.el-progress.is-success .el-progress__text{color:var(--el-color-success)}.el-progress.is-warning .el-progress-bar__inner{background-color:var(--el-color-warning)}.el-progress.is-warning .el-progress__text{color:var(--el-color-warning)}.el-progress.is-exception .el-progress-bar__inner{background-color:var(--el-color-danger)}.el-progress.is-exception .el-progress__text{color:var(--el-color-danger)}.el-progress-bar{box-sizing:border-box;flex-grow:1}.el-progress-bar__outer{background-color:var(--el-border-color-lighter);border-radius:100px;height:6px;overflow:hidden;position:relative;vertical-align:middle}.el-progress-bar__inner{background-color:var(--el-color-primary);border-radius:100px;height:100%;left:0;line-height:1;position:absolute;text-align:right;top:0;transition:width .6s ease;white-space:nowrap}.el-progress-bar__inner:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-progress-bar__inner--indeterminate{animation:indeterminate 3s infinite;transform:translateZ(0)}.el-progress-bar__inner--striped{background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 0,transparent 50%,rgba(0,0,0,.1) 0,rgba(0,0,0,.1) 75%,transparent 0,transparent);background-size:1.25em 1.25em}.el-progress-bar__inner--striped.el-progress-bar__inner--striped-flow{animation:striped-flow 3s linear infinite}.el-progress-bar__innerText{color:#fff;display:inline-block;font-size:12px;margin:0 5px;vertical-align:middle}@keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@keyframes indeterminate{0%{left:-100%}to{left:100%}}@keyframes striped-flow{0%{background-position:-100%}to{background-position:100%}}.el-radio-button{--el-radio-button-checked-bg-color:var(--el-color-primary);--el-radio-button-checked-text-color:var(--el-color-white);--el-radio-button-checked-border-color:var(--el-color-primary);--el-radio-button-disabled-checked-fill:var(--el-border-color-extra-light);display:inline-block;outline:none;position:relative}.el-radio-button__inner{-webkit-appearance:none;background:var(--el-button-bg-color,var(--el-fill-color-blank));border-radius:0;box-sizing:border-box;color:var(--el-button-text-color,var(--el-text-color-regular));cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:var(--el-button-font-weight,var(--el-font-weight-primary));line-height:1;margin:0;outline:var(--el-border);padding:8px 15px;position:relative;text-align:center;transition:var(--el-transition-all);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-radio-button__inner.is-round{padding:8px 15px}.el-radio-button__inner:hover{color:var(--el-color-primary)}.el-radio-button__inner [class*=el-icon-]{line-height:.9}.el-radio-button__inner [class*=el-icon-]+span{margin-left:5px}.el-radio-button:first-child .el-radio-button__inner{border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);box-shadow:none!important}.el-radio-button.is-active .el-radio-button__original-radio:not(:disabled)+.el-radio-button__inner{background-color:var(--el-radio-button-checked-bg-color,var(--el-color-primary));border-color:var(--el-radio-button-checked-border-color,var(--el-color-primary));box-shadow:-1px 0 0 0 var(--el-radio-button-checked-border-color,var(--el-color-primary));color:var(--el-radio-button-checked-text-color,var(--el-color-white))}.el-radio-button__original-radio{opacity:0;outline:none;position:absolute;z-index:-1}.el-radio-button__original-radio:focus-visible+.el-radio-button__inner{border-left:var(--el-border);border-left-color:var(--el-radio-button-checked-border-color,var(--el-color-primary));border-radius:var(--el-border-radius-base);box-shadow:none;outline:2px solid var(--el-radio-button-checked-border-color);outline-offset:1px;z-index:2}.el-radio-button__original-radio:disabled+.el-radio-button__inner{background-color:var(--el-button-disabled-bg-color,var(--el-fill-color-blank));background-image:none;border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none;color:var(--el-disabled-text-color);cursor:not-allowed}.el-radio-button__original-radio:disabled:checked+.el-radio-button__inner{background-color:var(--el-radio-button-disabled-checked-fill)}.el-radio-button:last-child .el-radio-button__inner{border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0}.el-radio-button:first-child:last-child .el-radio-button__inner{border-radius:var(--el-border-radius-base)}.el-radio-button--large .el-radio-button__inner{border-radius:0;font-size:var(--el-font-size-base);padding:12px 19px}.el-radio-button--large .el-radio-button__inner.is-round{padding:12px 19px}.el-radio-button--small .el-radio-button__inner{border-radius:0;font-size:12px;padding:5px 11px}.el-radio-button--small .el-radio-button__inner.is-round{padding:5px 11px}.el-radio-group{align-items:center;display:inline-flex;flex-wrap:wrap;font-size:0}.el-radio{--el-radio-font-size:var(--el-font-size-base);--el-radio-text-color:var(--el-text-color-regular);--el-radio-font-weight:var(--el-font-weight-primary);--el-radio-input-height:14px;--el-radio-input-width:14px;--el-radio-input-border-radius:var(--el-border-radius-circle);--el-radio-input-bg-color:var(--el-fill-color-blank);--el-radio-input-border:var(--el-border);--el-radio-input-border-color:var(--el-border-color);--el-radio-input-border-color-hover:var(--el-color-primary);align-items:center;color:var(--el-radio-text-color);cursor:pointer;display:inline-flex;font-size:var(--el-font-size-base);font-weight:var(--el-radio-font-weight);height:32px;margin-right:30px;outline:none;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-radio.el-radio--large{height:40px}.el-radio.el-radio--small{height:24px}.el-radio.is-bordered{border:var(--el-border);border-radius:var(--el-border-radius-base);box-sizing:border-box;padding:0 15px 0 9px}.el-radio.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-radio.is-bordered.is-disabled{border-color:var(--el-border-color-lighter);cursor:not-allowed}.el-radio.is-bordered.el-radio--large{border-radius:var(--el-border-radius-base);padding:0 19px 0 11px}.el-radio.is-bordered.el-radio--large .el-radio__label{font-size:var(--el-font-size-base)}.el-radio.is-bordered.el-radio--large .el-radio__inner{height:14px;width:14px}.el-radio.is-bordered.el-radio--small{border-radius:var(--el-border-radius-base);padding:0 11px 0 7px}.el-radio.is-bordered.el-radio--small .el-radio__label{font-size:12px}.el-radio.is-bordered.el-radio--small .el-radio__inner{height:12px;width:12px}.el-radio:last-child{margin-right:0}.el-radio__input{cursor:pointer;display:inline-flex;outline:none;position:relative;vertical-align:middle;white-space:nowrap}.el-radio__input.is-disabled .el-radio__inner{border-color:var(--el-disabled-border-color)}.el-radio__input.is-disabled .el-radio__inner,.el-radio__input.is-disabled .el-radio__inner:after{background-color:var(--el-disabled-bg-color);cursor:not-allowed}.el-radio__input.is-disabled .el-radio__inner+.el-radio__label{cursor:not-allowed}.el-radio__input.is-disabled.is-checked .el-radio__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color)}.el-radio__input.is-disabled.is-checked .el-radio__inner:after{background-color:var(--el-text-color-placeholder)}.el-radio__input.is-disabled+span.el-radio__label{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-radio__input.is-checked .el-radio__inner{background:var(--el-color-primary);border-color:var(--el-color-primary)}.el-radio__input.is-checked .el-radio__inner:after{background-color:var(--el-color-white);transform:translate(-50%,-50%) scale(1)}.el-radio__input.is-checked+.el-radio__label{color:var(--el-color-primary)}.el-radio__input.is-focus .el-radio__inner{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner{background-color:var(--el-radio-input-bg-color);border:var(--el-radio-input-border);border-radius:var(--el-radio-input-border-radius);box-sizing:border-box;cursor:pointer;display:inline-block;height:var(--el-radio-input-height);position:relative;transition:all .3s;width:var(--el-radio-input-width)}.el-radio__inner:hover{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner:after{border-radius:var(--el-radio-input-border-radius);content:"";height:4px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%) scale(0);transition:transform .15s ease-in;width:4px}.el-radio__original{inset:0;margin:0;opacity:0;outline:none;position:absolute;z-index:-1}.el-radio__original:focus-visible+.el-radio__inner{border-radius:var(--el-radio-input-border-radius);outline:2px solid var(--el-radio-input-border-color-hover);outline-offset:1px}.el-radio:focus:not(:focus-visible):not(.is-focus):not(:active):not(.is-disabled) .el-radio__inner{box-shadow:0 0 2px 2px var(--el-radio-input-border-color-hover)}.el-radio__label{font-size:var(--el-radio-font-size);padding-left:8px}.el-radio.el-radio--large .el-radio__label{font-size:14px}.el-radio.el-radio--large .el-radio__inner{height:14px;width:14px}.el-radio.el-radio--small .el-radio__label{font-size:12px}.el-radio.el-radio--small .el-radio__inner{height:12px;width:12px}.el-rate{--el-rate-height:20px;--el-rate-font-size:var(--el-font-size-base);--el-rate-icon-size:18px;--el-rate-icon-margin:6px;--el-rate-void-color:var(--el-border-color-darker);--el-rate-fill-color:#f7ba2a;--el-rate-disabled-void-color:var(--el-fill-color);--el-rate-text-color:var(--el-text-color-primary);--el-rate-outline-color:var(--el-color-primary-light-5);align-items:center;display:inline-flex;height:32px}.el-rate:active,.el-rate:focus{outline:none}.el-rate:focus-visible .el-rate__item .el-rate__icon.is-focus-visible{outline:2px solid var(--el-rate-outline-color);transition:outline-offset 0s,outline 0s}.el-rate__item{color:var(--el-rate-void-color);cursor:pointer;display:inline-block;font-size:0;line-height:normal;position:relative;vertical-align:middle}.el-rate .el-rate__icon{display:inline-block;font-size:var(--el-rate-icon-size);margin-right:var(--el-rate-icon-margin);position:relative;transition:var(--el-transition-duration)}.el-rate .el-rate__icon.hover{transform:scale(1.15)}.el-rate .el-rate__icon .path2{left:0;position:absolute;top:0}.el-rate .el-rate__icon.is-active{color:var(--el-rate-fill-color)}.el-rate__decimal{color:var(--el-rate-fill-color);display:inline-block;overflow:hidden}.el-rate__decimal,.el-rate__decimal--box{left:0;position:absolute;top:0}.el-rate__text{color:var(--el-rate-text-color);font-size:var(--el-rate-font-size);vertical-align:middle}.el-rate--large{height:40px}.el-rate--small{height:24px}.el-rate--small .el-rate__icon{font-size:14px}.el-rate.is-disabled .el-rate__item{color:var(--el-rate-disabled-void-color);cursor:not-allowed}.el-result{--el-result-padding:40px 30px;--el-result-icon-font-size:64px;--el-result-title-font-size:20px;--el-result-title-margin-top:20px;--el-result-subtitle-margin-top:10px;--el-result-extra-margin-top:30px;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:var(--el-result-padding);text-align:center}.el-result__icon svg{height:var(--el-result-icon-font-size);width:var(--el-result-icon-font-size)}.el-result__title{margin-top:var(--el-result-title-margin-top)}.el-result__title p{color:var(--el-text-color-primary);font-size:var(--el-result-title-font-size);line-height:1.3;margin:0}.el-result__subtitle{margin-top:var(--el-result-subtitle-margin-top)}.el-result__subtitle p{color:var(--el-text-color-regular);font-size:var(--el-font-size-base);line-height:1.3;margin:0}.el-result__extra{margin-top:var(--el-result-extra-margin-top)}.el-result .icon-primary{--el-result-color:var(--el-color-primary);color:var(--el-result-color)}.el-result .icon-success{--el-result-color:var(--el-color-success);color:var(--el-result-color)}.el-result .icon-warning{--el-result-color:var(--el-color-warning);color:var(--el-result-color)}.el-result .icon-danger{--el-result-color:var(--el-color-danger);color:var(--el-result-color)}.el-result .icon-error{--el-result-color:var(--el-color-error);color:var(--el-result-color)}.el-result .icon-info{--el-result-color:var(--el-color-info);color:var(--el-result-color)}.el-row{box-sizing:border-box;display:flex;flex-wrap:wrap;position:relative}.el-row.is-justify-center{justify-content:center}.el-row.is-justify-end{justify-content:flex-end}.el-row.is-justify-space-between{justify-content:space-between}.el-row.is-justify-space-around{justify-content:space-around}.el-row.is-justify-space-evenly{justify-content:space-evenly}.el-row.is-align-top{align-items:flex-start}.el-row.is-align-middle{align-items:center}.el-row.is-align-bottom{align-items:flex-end}.el-scrollbar{--el-scrollbar-opacity:.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary);height:100%;overflow:hidden;position:relative}.el-scrollbar__wrap{height:100%;overflow:auto}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));border-radius:inherit;cursor:pointer;display:block;height:0;opacity:var(--el-scrollbar-opacity,.3);position:relative;transition:var(--el-transition-duration) background-color;width:0}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{border-radius:4px;bottom:2px;position:absolute;right:2px;z-index:1}.el-scrollbar__bar.is-vertical{top:2px;width:6px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity .34s ease-out}.el-scrollbar-fade-leave-active{transition:opacity .12s ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.el-select-dropdown{border-radius:var(--el-border-radius-base);box-sizing:border-box;z-index:calc(var(--el-index-top) + 1)}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown__empty,.el-select-dropdown__loading{color:var(--el-text-color-secondary);font-size:var(--el-select-font-size);margin:0;padding:10px 0;text-align:center}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:6px 0}.el-select-dropdown__list.el-vl__window{margin:6px 0;padding:0}.el-select-dropdown__header{border-bottom:1px solid var(--el-border-color-light);padding:10px}.el-select-dropdown__footer{border-top:1px solid var(--el-border-color-light);padding:10px}.el-select-dropdown__item{box-sizing:border-box;color:var(--el-text-color-regular);cursor:pointer;font-size:var(--el-font-size-base);height:34px;line-height:34px;overflow:hidden;padding:0 32px 0 20px;position:relative;text-overflow:ellipsis;white-space:nowrap}.el-select-dropdown__item.is-hovering{background-color:var(--el-fill-color-light)}.el-select-dropdown__item.is-selected{color:var(--el-color-primary);font-weight:700}.el-select-dropdown__item.is-disabled{background-color:unset;color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown.is-multiple .el-select-dropdown__item.is-selected:after{background-color:var(--el-color-primary);background-position:50%;background-repeat:no-repeat;border-right:none;border-top:none;content:"";height:12px;mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask-size:100% 100%;-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;-webkit-mask-size:100% 100%;position:absolute;right:20px;top:50%;transform:translateY(-50%);width:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.is-disabled:after{background-color:var(--el-text-color-placeholder)}.el-select-group{margin:0;padding:0}.el-select-group__wrap{list-style:none;margin:0;padding:0;position:relative}.el-select-group__title{box-sizing:border-box;color:var(--el-color-info);font-size:12px;line-height:34px;overflow:hidden;padding:0 20px;text-overflow:ellipsis;white-space:nowrap}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-color:var(--el-disabled-text-color);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px;--el-select-width:100%;display:inline-block;position:relative;vertical-align:middle;width:var(--el-select-width)}.el-select__wrapper{align-items:center;background-color:var(--el-fill-color-blank);border-radius:var(--el-border-radius-base);box-shadow:0 0 0 1px var(--el-border-color) inset;box-sizing:border-box;cursor:pointer;display:flex;font-size:14px;gap:6px;line-height:24px;min-height:32px;padding:4px 12px;position:relative;text-align:left;transform:translateZ(0);transition:var(--el-transition-duration)}.el-select__wrapper.is-filterable{cursor:text}.el-select__wrapper.is-focused{box-shadow:0 0 0 1px var(--el-color-primary) inset}.el-select__wrapper.is-hovering:not(.is-focused){box-shadow:0 0 0 1px var(--el-border-color-hover) inset}.el-select__wrapper.is-disabled{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select__wrapper.is-disabled,.el-select__wrapper.is-disabled:hover{box-shadow:0 0 0 1px var(--el-select-disabled-border) inset}.el-select__wrapper.is-disabled.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-select__wrapper.is-disabled .el-select__selected-item{color:var(--el-select-disabled-color)}.el-select__wrapper.is-disabled .el-select__caret,.el-select__wrapper.is-disabled .el-tag,.el-select__wrapper.is-disabled input{cursor:not-allowed}.el-select__wrapper.is-disabled .el-select__prefix,.el-select__wrapper.is-disabled .el-select__suffix{pointer-events:none}.el-select__prefix,.el-select__suffix{align-items:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:flex;flex-shrink:0;gap:6px}.el-select__caret{color:var(--el-select-input-color);cursor:pointer;font-size:var(--el-select-input-font-size);transform:rotate(0);transition:var(--el-transition-duration)}.el-select__caret.is-reverse{transform:rotate(180deg)}.el-select__clear{cursor:pointer}.el-select__clear:hover{color:var(--el-select-close-hover-color)}.el-select__selection{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:6px;min-width:0;position:relative}.el-select__selection.is-near{margin-left:-8px}.el-select__selection .el-tag{border-color:transparent;cursor:pointer}.el-select__selection .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-select__selection .el-tag .el-tag__content{min-width:0}.el-select__selected-item{display:flex;flex-wrap:wrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-select__tags-text{line-height:normal}.el-select__placeholder,.el-select__tags-text{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-select__placeholder{color:var(--el-input-text-color,var(--el-text-color-regular));position:absolute;top:50%;transform:translateY(-50%);width:100%;z-index:-1}.el-select__placeholder.is-transparent{color:var(--el-text-color-placeholder);-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-select__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper,.el-select__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-select__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-select__input-wrapper{flex:1}.el-select__input-wrapper.is-hidden{opacity:0;position:absolute;z-index:-1}.el-select__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-select-multiple-input-color);font-family:inherit;font-size:inherit;height:24px;outline:none;padding:0;width:100%}.el-select__input-calculator{left:0;max-width:100%;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:pre}.el-select--large .el-select__wrapper{font-size:14px;gap:6px;line-height:24px;min-height:40px;padding:8px 16px}.el-select--large .el-select__selection{gap:6px}.el-select--large .el-select__selection.is-near{margin-left:-8px}.el-select--large .el-select__prefix,.el-select--large .el-select__suffix{gap:6px}.el-select--large .el-select__input{height:24px}.el-select--small .el-select__wrapper{font-size:12px;gap:4px;line-height:20px;min-height:24px;padding:2px 8px}.el-select--small .el-select__selection{gap:4px}.el-select--small .el-select__selection.is-near{margin-left:-6px}.el-select--small .el-select__prefix,.el-select--small .el-select__suffix{gap:4px}.el-select--small .el-select__input{height:20px}.el-skeleton{--el-skeleton-circle-size:var(--el-avatar-size)}.el-skeleton__item{background:var(--el-skeleton-color);border-radius:var(--el-border-radius-base);display:inline-block;height:16px;width:100%}.el-skeleton__circle{border-radius:50%;height:var(--el-skeleton-circle-size);line-height:var(--el-skeleton-circle-size);width:var(--el-skeleton-circle-size)}.el-skeleton__button{border-radius:4px;height:40px;width:64px}.el-skeleton__p{width:100%}.el-skeleton__p.is-last{width:61%}.el-skeleton__p.is-first{width:33%}.el-skeleton__text{height:var(--el-font-size-small);width:100%}.el-skeleton__caption{height:var(--el-font-size-extra-small)}.el-skeleton__h1{height:var(--el-font-size-extra-large)}.el-skeleton__h3{height:var(--el-font-size-large)}.el-skeleton__h5{height:var(--el-font-size-medium)}.el-skeleton__image{align-items:center;border-radius:0;display:flex;justify-content:center;width:unset}.el-skeleton__image svg{color:var(--el-svg-monochrome-grey);fill:currentColor;height:22%;width:22%}.el-skeleton{--el-skeleton-color:var(--el-fill-color);--el-skeleton-to-color:var(--el-fill-color-darker)}@keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}.el-skeleton{width:100%}.el-skeleton__first-line,.el-skeleton__paragraph{background:var(--el-skeleton-color);height:16px;margin-top:16px}.el-skeleton.is-animated .el-skeleton__item{animation:el-skeleton-loading 1.4s ease infinite;background:linear-gradient(90deg,var(--el-skeleton-color) 25%,var(--el-skeleton-to-color) 37%,var(--el-skeleton-color) 63%);background-size:400% 100%}.el-slider{--el-slider-main-bg-color:var(--el-color-primary);--el-slider-runway-bg-color:var(--el-border-color-light);--el-slider-stop-bg-color:var(--el-color-white);--el-slider-disabled-color:var(--el-text-color-placeholder);--el-slider-border-radius:3px;--el-slider-height:6px;--el-slider-button-size:20px;--el-slider-button-wrapper-size:36px;--el-slider-button-wrapper-offset:-15px;align-items:center;display:flex;height:32px;width:100%}.el-slider__runway{background-color:var(--el-slider-runway-bg-color);border-radius:var(--el-slider-border-radius);cursor:pointer;flex:1;height:var(--el-slider-height);position:relative}.el-slider__runway.show-input{margin-right:30px;width:auto}.el-slider__runway.is-disabled{cursor:default}.el-slider__runway.is-disabled .el-slider__bar{background-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button{border-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button-wrapper.dragging,.el-slider__runway.is-disabled .el-slider__button-wrapper.hover,.el-slider__runway.is-disabled .el-slider__button-wrapper:hover{cursor:not-allowed}.el-slider__runway.is-disabled .el-slider__button.dragging,.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover{transform:scale(1)}.el-slider__runway.is-disabled .el-slider__button.dragging,.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover{cursor:not-allowed}.el-slider__input{flex-shrink:0;width:130px}.el-slider__bar{background-color:var(--el-slider-main-bg-color);border-bottom-left-radius:var(--el-slider-border-radius);border-top-left-radius:var(--el-slider-border-radius);height:var(--el-slider-height);position:absolute}.el-slider__button-wrapper{background-color:transparent;height:var(--el-slider-button-wrapper-size);line-height:normal;outline:none;position:absolute;text-align:center;top:var(--el-slider-button-wrapper-offset);transform:translate(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--el-slider-button-wrapper-size);z-index:1}.el-slider__button-wrapper:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover{cursor:grab}.el-slider__button-wrapper.dragging{cursor:grabbing}.el-slider__button{background-color:var(--el-color-white);border:2px solid var(--el-slider-main-bg-color);border-radius:50%;box-sizing:border-box;display:inline-block;height:var(--el-slider-button-size);transition:var(--el-transition-duration-fast);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:var(--el-slider-button-size)}.el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover{transform:scale(1.2)}.el-slider__button.hover,.el-slider__button:hover{cursor:grab}.el-slider__button.dragging{cursor:grabbing}.el-slider__stop{background-color:var(--el-slider-stop-bg-color);border-radius:var(--el-border-radius-circle);height:var(--el-slider-height);position:absolute;transform:translate(-50%);width:var(--el-slider-height)}.el-slider__marks{height:100%;left:12px;top:0;width:18px}.el-slider__marks-text{color:var(--el-color-info);font-size:14px;margin-top:15px;position:absolute;transform:translate(-50%);white-space:pre}.el-slider.is-vertical{display:inline-flex;flex:0;height:100%;position:relative;width:auto}.el-slider.is-vertical .el-slider__runway{height:100%;margin:0 16px;width:var(--el-slider-height)}.el-slider.is-vertical .el-slider__bar{border-radius:0 0 3px 3px;height:auto;width:var(--el-slider-height)}.el-slider.is-vertical .el-slider__button-wrapper{left:var(--el-slider-button-wrapper-offset);top:auto;transform:translateY(50%)}.el-slider.is-vertical .el-slider__stop{transform:translateY(50%)}.el-slider.is-vertical .el-slider__marks-text{left:15px;margin-top:0;transform:translateY(50%)}.el-slider--large{height:40px}.el-slider--small{height:24px}.el-space{display:inline-flex;vertical-align:top}.el-space__item{display:flex;flex-wrap:wrap}.el-space__item>*{flex:1}.el-space--vertical{flex-direction:column}.el-time-spinner{white-space:nowrap;width:100%}.el-spinner{display:inline-block;vertical-align:middle}.el-spinner-inner{animation:rotate 2s linear infinite;height:50px;width:50px}.el-spinner-inner .path{animation:dash 1.5s ease-in-out infinite;stroke:var(--el-border-color-lighter);stroke-linecap:round}@keyframes rotate{to{transform:rotate(1turn)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}.el-step{flex-shrink:1;position:relative}.el-step:last-of-type .el-step__line{display:none}.el-step:last-of-type.is-flex{flex-basis:auto!important;flex-grow:0;flex-shrink:0}.el-step:last-of-type .el-step__description,.el-step:last-of-type .el-step__main{padding-right:0}.el-step__head{position:relative;width:100%}.el-step__head.is-process{border-color:var(--el-text-color-primary);color:var(--el-text-color-primary)}.el-step__head.is-wait{border-color:var(--el-text-color-placeholder);color:var(--el-text-color-placeholder)}.el-step__head.is-success{border-color:var(--el-color-success);color:var(--el-color-success)}.el-step__head.is-error{border-color:var(--el-color-danger);color:var(--el-color-danger)}.el-step__head.is-finish{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-step__icon{align-items:center;background:var(--el-bg-color);box-sizing:border-box;display:inline-flex;font-size:14px;height:24px;justify-content:center;position:relative;transition:.15s ease-out;width:24px;z-index:1}.el-step__icon.is-text{border:2px solid;border-radius:50%}.el-step__icon.is-icon{width:40px}.el-step__icon-inner{color:inherit;display:inline-block;font-weight:700;line-height:1;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:25px;font-weight:400}.el-step__icon-inner.is-status{transform:translateY(1px)}.el-step__line{background-color:var(--el-text-color-placeholder);border-color:currentColor;position:absolute}.el-step__line-inner{border:1px solid;box-sizing:border-box;display:block;height:0;transition:.15s ease-out;width:0}.el-step__main{text-align:left;white-space:normal}.el-step__title{font-size:16px;line-height:38px}.el-step__title.is-process{color:var(--el-text-color-primary);font-weight:700}.el-step__title.is-wait{color:var(--el-text-color-placeholder)}.el-step__title.is-success{color:var(--el-color-success)}.el-step__title.is-error{color:var(--el-color-danger)}.el-step__title.is-finish{color:var(--el-color-primary)}.el-step__description{font-size:12px;font-weight:400;line-height:20px;margin-top:-5px;padding-right:10%}.el-step__description.is-process{color:var(--el-text-color-primary)}.el-step__description.is-wait{color:var(--el-text-color-placeholder)}.el-step__description.is-success{color:var(--el-color-success)}.el-step__description.is-error{color:var(--el-color-danger)}.el-step__description.is-finish{color:var(--el-color-primary)}.el-step.is-horizontal{display:inline-block}.el-step.is-horizontal .el-step__line{height:2px;left:0;right:0;top:11px}.el-step.is-vertical{display:flex}.el-step.is-vertical .el-step__head{flex-grow:0;width:24px}.el-step.is-vertical .el-step__main{flex-grow:1;padding-left:10px}.el-step.is-vertical .el-step__title{line-height:24px;padding-bottom:8px}.el-step.is-vertical .el-step__line{bottom:0;left:11px;top:0;width:2px}.el-step.is-vertical .el-step__icon.is-icon{width:24px}.el-step.is-vertical .el-step__description{padding-right:0}.el-step.is-center .el-step__head,.el-step.is-center .el-step__main{text-align:center}.el-step.is-center .el-step__description{padding-left:20%;padding-right:20%}.el-step.is-center .el-step__line{left:50%;right:-50%}.el-step.is-simple{align-items:center;display:flex}.el-step.is-simple .el-step__head{font-size:0;padding-right:10px;width:auto}.el-step.is-simple .el-step__icon{background:transparent;font-size:12px;height:16px;width:16px}.el-step.is-simple .el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:18px}.el-step.is-simple .el-step__icon-inner.is-status{transform:scale(.8) translateY(1px)}.el-step.is-simple .el-step__main{align-items:stretch;display:flex;flex-grow:1;position:relative}.el-step.is-simple .el-step__title{font-size:16px;line-height:20px}.el-step.is-simple:not(:last-of-type) .el-step__title{max-width:50%;overflow-wrap:break-word}.el-step.is-simple .el-step__arrow{align-items:center;display:flex;flex-grow:1;justify-content:center}.el-step.is-simple .el-step__arrow:after,.el-step.is-simple .el-step__arrow:before{background:var(--el-text-color-placeholder);content:"";display:inline-block;height:15px;position:absolute;width:1px}.el-step.is-simple .el-step__arrow:before{transform:rotate(-45deg) translateY(-4px);transform-origin:0 0}.el-step.is-simple .el-step__arrow:after{transform:rotate(45deg) translateY(4px);transform-origin:100% 100%}.el-step.is-simple:last-of-type .el-step__arrow{display:none}.el-steps{display:flex;line-height:normal}.el-steps--simple{background:var(--el-fill-color-light);border-radius:4px;padding:13px 8%}.el-steps--horizontal{white-space:nowrap}.el-steps--vertical{flex-flow:column;height:100%}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color);align-items:center;display:inline-flex;font-size:14px;height:32px;line-height:20px;position:relative;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{color:var(--el-text-color-primary);cursor:pointer;display:inline-block;font-size:14px;font-weight:500;height:20px;transition:var(--el-transition-duration-fast);vertical-align:middle}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{display:inline-block;font-size:14px;line-height:1}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{height:0;margin:0;opacity:0;position:absolute;width:0}.el-switch__input:focus-visible~.el-switch__core{outline:2px solid var(--el-switch-on-color);outline-offset:1px}.el-switch__core{align-items:center;background:var(--el-switch-off-color);border:1px solid var(--el-switch-border-color,var(--el-switch-off-color));border-radius:10px;box-sizing:border-box;cursor:pointer;display:inline-flex;height:20px;min-width:40px;outline:none;position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration)}.el-switch__core .el-switch__inner{align-items:center;display:flex;height:16px;justify-content:center;overflow:hidden;padding:0 4px 0 18px;transition:all var(--el-transition-duration);width:100%}.el-switch__core .el-switch__inner-wrapper{align-items:center;color:var(--el-color-white);display:flex;font-size:12px;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-switch__core .el-switch__action{align-items:center;background-color:var(--el-color-white);border-radius:var(--el-border-radius-circle);color:var(--el-switch-off-color);display:flex;height:16px;justify-content:center;left:1px;position:absolute;transition:all var(--el-transition-duration);width:16px}.el-switch.is-checked .el-switch__core{background-color:var(--el-switch-on-color);border-color:var(--el-switch-border-color,var(--el-switch-on-color))}.el-switch.is-checked .el-switch__core .el-switch__action{color:var(--el-switch-on-color);left:calc(100% - 17px)}.el-switch.is-checked .el-switch__core .el-switch__inner{padding:0 18px 0 4px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;height:40px;line-height:24px}.el-switch--large .el-switch__label{font-size:14px;height:24px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--large .el-switch__core{border-radius:12px;height:24px;min-width:50px}.el-switch--large .el-switch__core .el-switch__inner{height:20px;padding:0 6px 0 22px}.el-switch--large .el-switch__core .el-switch__action{height:20px;width:20px}.el-switch--large.is-checked .el-switch__core .el-switch__action{left:calc(100% - 21px)}.el-switch--large.is-checked .el-switch__core .el-switch__inner{padding:0 22px 0 6px}.el-switch--small{font-size:12px;height:24px;line-height:16px}.el-switch--small .el-switch__label{font-size:12px;height:16px}.el-switch--small .el-switch__label *{font-size:12px}.el-switch--small .el-switch__core{border-radius:8px;height:16px;min-width:30px}.el-switch--small .el-switch__core .el-switch__inner{height:12px;padding:0 2px 0 14px}.el-switch--small .el-switch__core .el-switch__action{height:12px;width:12px}.el-switch--small.is-checked .el-switch__core .el-switch__action{left:calc(100% - 13px)}.el-switch--small.is-checked .el-switch__core .el-switch__inner{padding:0 14px 0 2px}.el-table-column--selection .cell{padding-left:14px;padding-right:14px}.el-table-filter{background-color:#fff;border:1px solid var(--el-border-color-lighter);border-radius:2px;box-shadow:var(--el-box-shadow-light);box-sizing:border-box}.el-table-filter__list{list-style:none;margin:0;min-width:100px;outline:none;padding:5px 0}.el-table-filter__list-item{cursor:pointer;font-size:var(--el-font-size-base);line-height:36px;outline:none;padding:0 10px}.el-table-filter__list-item:focus,.el-table-filter__list-item:hover{background-color:var(--el-color-primary-light-9);color:var(--el-color-primary)}.el-table-filter__list-item.is-active{background-color:var(--el-color-primary);color:#fff}.el-table-filter__multiple{outline:none}.el-table-filter__content{min-width:100px}.el-table-filter__bottom{border-top:1px solid var(--el-border-color-lighter);padding:8px}.el-table-filter__bottom button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-filter__bottom button:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-filter__bottom button{color:var(--el-text-color-regular);font-size:var(--el-font-size-small);padding:0 3px}.el-table-filter__bottom button:hover{color:var(--el-color-primary)}.el-table-filter__bottom button.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-table-filter__wrap{max-height:280px}.el-table-filter__checkbox-group{padding:10px}.el-table-filter__checkbox-group label.el-checkbox{align-items:center;display:flex;height:unset;margin-bottom:12px;margin-left:5px;margin-right:5px}.el-table-filter__checkbox-group .el-checkbox:last-child{margin-bottom:0}.el-table{--el-table-border-color:var(--el-border-color-lighter);--el-table-border:1px solid var(--el-table-border-color);--el-table-text-color:var(--el-text-color-regular);--el-table-header-text-color:var(--el-text-color-secondary);--el-table-row-hover-bg-color:var(--el-fill-color-light);--el-table-current-row-bg-color:var(--el-color-primary-light-9);--el-table-header-bg-color:var(--el-bg-color);--el-table-fixed-box-shadow:var(--el-box-shadow-light);--el-table-bg-color:var(--el-fill-color-blank);--el-table-tr-bg-color:var(--el-bg-color);--el-table-expanded-cell-bg-color:var(--el-fill-color-blank);--el-table-fixed-left-column:inset 10px 0 10px -10px rgba(0,0,0,.15);--el-table-fixed-right-column:inset -10px 0 10px -10px rgba(0,0,0,.15);--el-table-index:var(--el-index-normal);background-color:var(--el-table-bg-color);box-sizing:border-box;color:var(--el-table-text-color);font-size:var(--el-font-size-base);height:-moz-fit-content;height:fit-content;max-width:100%;overflow:hidden;position:relative;width:100%}.el-table__inner-wrapper{display:flex;flex-direction:column;height:100%;position:relative}.el-table__inner-wrapper:before{bottom:0;height:1px;left:0}.el-table tbody:focus-visible{outline:none}.el-table.has-footer.el-table--fluid-height tr:last-child td.el-table__cell,.el-table.has-footer.el-table--scrollable-y tr:last-child td.el-table__cell{border-bottom-color:transparent}.el-table__empty-block{align-items:center;display:flex;justify-content:center;left:0;min-height:60px;position:sticky;text-align:center;width:100%}.el-table__empty-text{color:var(--el-text-color-secondary);line-height:60px;width:50%}.el-table__expand-column .cell{padding:0;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table__expand-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table__expand-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:-2px}.el-table__expand-icon{color:var(--el-text-color-regular);font-size:12px;height:23px;line-height:12px;width:min(23px,100%)}.el-table__expand-icon--expanded{transform:rotate(90deg)}.el-table__expand-icon>.el-icon{font-size:12px}.el-table__expanded-cell{background-color:var(--el-table-expanded-cell-bg-color)}.el-table__expanded-cell[class*=cell]{padding:20px 50px}.el-table__expanded-cell:hover{background-color:transparent!important}.el-table__placeholder{display:inline-block;width:20px}.el-table__append-wrapper{overflow:hidden}.el-table--fit{border-bottom:0;border-right:0}.el-table--fit .el-table__cell.gutter{border-right-width:1px}.el-table--fit .el-table__inner-wrapper:before{width:100%}.el-table thead{color:var(--el-table-header-text-color)}.el-table thead th{font-weight:600}.el-table thead.is-group th.el-table__cell{background:var(--el-fill-color-light)}.el-table .el-table__cell{box-sizing:border-box;min-width:0;padding:8px 0;position:relative;text-align:left;text-overflow:ellipsis;vertical-align:middle;z-index:var(--el-table-index)}.el-table .el-table__cell.is-center{text-align:center}.el-table .el-table__cell.is-right{text-align:right}.el-table .el-table__cell.gutter{border-bottom-width:0;border-right-width:0;padding:0;width:15px}.el-table .el-table__cell.is-hidden>*{visibility:hidden}.el-table .cell{box-sizing:border-box;line-height:23px;overflow:hidden;overflow-wrap:break-word;padding:0 12px;text-overflow:ellipsis;white-space:normal}.el-table .cell.el-tooltip{min-width:50px;white-space:nowrap}.el-table--large{font-size:var(--el-font-size-base)}.el-table--large .el-table__cell{padding:12px 0}.el-table--large .cell{padding:0 16px}.el-table--default{font-size:var(--el-font-size-base)}.el-table--default .el-table__cell{padding:8px 0}.el-table--default .cell{padding:0 12px}.el-table--small{font-size:var(--el-font-size-extra-small)}.el-table--small .el-table__cell{padding:4px 0}.el-table--small .cell{padding:0 8px}.el-table tr{background-color:var(--el-table-tr-bg-color)}.el-table tr input[type=checkbox]{margin:0}.el-table td.el-table__cell,.el-table th.el-table__cell.is-leaf{border-bottom:var(--el-table-border)}.el-table th.el-table__cell.is-sortable{cursor:pointer}.el-table th.el-table__cell{background-color:var(--el-table-header-bg-color)}.el-table th.el-table__cell>.cell.highlight{color:var(--el-color-primary)}.el-table th.el-table__cell.required>div:before{background:#ff4d51;border-radius:50%;content:"";display:inline-block;height:8px;margin-right:5px;vertical-align:middle;width:8px}.el-table td.el-table__cell div{box-sizing:border-box}.el-table td.el-table__cell.gutter{width:0}.el-table--border .el-table__inner-wrapper:after,.el-table--border:after,.el-table--border:before,.el-table__inner-wrapper:before{background-color:var(--el-table-border-color);content:"";position:absolute;z-index:calc(var(--el-table-index) + 2)}.el-table--border .el-table__inner-wrapper:after{height:1px;left:0;top:0;width:100%;z-index:calc(var(--el-table-index) + 2)}.el-table--border:before{height:100%;left:0;top:-1px;width:1px}.el-table--border:after{height:100%;right:0;top:-1px;width:1px}.el-table--border .el-table__inner-wrapper{border-bottom:none;border-right:none}.el-table--border .el-table__footer-wrapper{flex-shrink:0;position:relative}.el-table--border .el-table__cell{border-right:var(--el-table-border)}.el-table--border th.el-table__cell.gutter:last-of-type{border-bottom:var(--el-table-border);border-bottom-width:1px}.el-table--border th.el-table__cell{border-bottom:var(--el-table-border)}.el-table--hidden{visibility:hidden}.el-table__body-wrapper,.el-table__footer-wrapper,.el-table__header-wrapper{width:100%}.el-table__body-wrapper tr td.el-table-fixed-column--left,.el-table__body-wrapper tr td.el-table-fixed-column--right,.el-table__body-wrapper tr th.el-table-fixed-column--left,.el-table__body-wrapper tr th.el-table-fixed-column--right,.el-table__footer-wrapper tr td.el-table-fixed-column--left,.el-table__footer-wrapper tr td.el-table-fixed-column--right,.el-table__footer-wrapper tr th.el-table-fixed-column--left,.el-table__footer-wrapper tr th.el-table-fixed-column--right,.el-table__header-wrapper tr td.el-table-fixed-column--left,.el-table__header-wrapper tr td.el-table-fixed-column--right,.el-table__header-wrapper tr th.el-table-fixed-column--left,.el-table__header-wrapper tr th.el-table-fixed-column--right{background:inherit;position:sticky!important;z-index:calc(var(--el-table-index) + 1)}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column:before{bottom:0;box-shadow:none;content:"";overflow-x:hidden;overflow-y:hidden;pointer-events:none;position:absolute;top:0;touch-action:none;width:10px}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column:before{left:-10px}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column:before{right:-10px}.el-table__body-wrapper tr td.el-table__fixed-right-patch,.el-table__body-wrapper tr th.el-table__fixed-right-patch,.el-table__footer-wrapper tr td.el-table__fixed-right-patch,.el-table__footer-wrapper tr th.el-table__fixed-right-patch,.el-table__header-wrapper tr td.el-table__fixed-right-patch,.el-table__header-wrapper tr th.el-table__fixed-right-patch{background:#fff;position:sticky!important;right:0;z-index:calc(var(--el-table-index) + 1)}.el-table__header-wrapper{flex-shrink:0}.el-table__header-wrapper tr th.el-table-fixed-column--left,.el-table__header-wrapper tr th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table__body,.el-table__footer,.el-table__header{border-collapse:separate;table-layout:fixed}.el-table__header-wrapper{overflow:hidden}.el-table__header-wrapper tbody td.el-table__cell{background-color:var(--el-table-row-hover-bg-color);color:var(--el-table-text-color)}.el-table__footer-wrapper{flex-shrink:0;overflow:hidden}.el-table__footer-wrapper tfoot td.el-table__cell{background-color:var(--el-table-row-hover-bg-color);color:var(--el-table-text-color)}.el-table__body-wrapper .el-table-column--selection>.cell,.el-table__header-wrapper .el-table-column--selection>.cell{align-items:center;display:inline-flex;height:23px}.el-table__body-wrapper .el-table-column--selection .el-checkbox,.el-table__header-wrapper .el-table-column--selection .el-checkbox{height:unset}.el-table.is-scrolling-left .el-table-fixed-column--right.is-first-column:before{box-shadow:var(--el-table-fixed-right-column)}.el-table.is-scrolling-left.el-table--border .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:var(--el-table-border)}.el-table.is-scrolling-left th.el-table-fixed-column--left{background-color:var(--el-table-header-bg-color)}.el-table.is-scrolling-right .el-table-fixed-column--left.is-last-column:before{box-shadow:var(--el-table-fixed-left-column)}.el-table.is-scrolling-right .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-right th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table.is-scrolling-middle .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-middle .el-table-fixed-column--right.is-first-column:before{box-shadow:var(--el-table-fixed-right-column)}.el-table.is-scrolling-middle .el-table-fixed-column--left.is-last-column:before{box-shadow:var(--el-table-fixed-left-column)}.el-table.is-scrolling-none .el-table-fixed-column--left.is-first-column:before,.el-table.is-scrolling-none .el-table-fixed-column--left.is-last-column:before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-first-column:before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-last-column:before{box-shadow:none}.el-table.is-scrolling-none th.el-table-fixed-column--left,.el-table.is-scrolling-none th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table__body-wrapper{flex:1;overflow:hidden;position:relative}.el-table__body-wrapper .el-scrollbar__bar{z-index:calc(var(--el-table-index) + 2)}.el-table .caret-wrapper{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table .caret-wrapper:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table .caret-wrapper{align-items:center;display:inline-flex;flex-direction:column;height:14px;overflow:initial;position:relative;vertical-align:middle;width:24px}.el-table .sort-caret{border:5px solid transparent;height:0;left:7px;position:absolute;width:0}.el-table .sort-caret.ascending{border-bottom-color:var(--el-text-color-placeholder);top:-5px}.el-table .sort-caret.descending{border-top-color:var(--el-text-color-placeholder);bottom:-3px}.el-table .ascending .sort-caret.ascending{border-bottom-color:var(--el-color-primary)}.el-table .descending .sort-caret.descending{border-top-color:var(--el-color-primary)}.el-table .hidden-columns{position:absolute;visibility:hidden;z-index:-1}.el-table--striped .el-table__body tr.el-table__row--striped td.el-table__cell{background:var(--el-fill-color-lighter)}.el-table--striped .el-table__body tr.el-table__row--striped.current-row td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table__body tr.hover-row.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped>td.el-table__cell,.el-table__body tr.hover-row>td.el-table__cell,.el-table__body tr>td.hover-cell{background-color:var(--el-table-row-hover-bg-color)}.el-table__body tr.current-row>td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table.el-table--scrollable-y .el-table__body-header{position:sticky;top:0;z-index:calc(var(--el-table-index) + 2)}.el-table.el-table--scrollable-y .el-table__body-footer{bottom:0;position:sticky;z-index:calc(var(--el-table-index) + 2)}.el-table__column-resize-proxy{border-left:var(--el-table-border);bottom:0;left:200px;position:absolute;top:0;width:0;z-index:calc(var(--el-table-index) + 9)}.el-table__column-filter-trigger{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table__column-filter-trigger:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table__column-filter-trigger{display:inline-block}.el-table__column-filter-trigger i{color:var(--el-color-info);font-size:14px;vertical-align:middle}.el-table__border-left-patch{height:100%;top:0;width:1px}.el-table__border-bottom-patch,.el-table__border-left-patch{background-color:var(--el-table-border-color);left:0;position:absolute;z-index:calc(var(--el-table-index) + 2)}.el-table__border-bottom-patch{height:1px}.el-table__border-right-patch{background-color:var(--el-table-border-color);height:100%;position:absolute;top:0;width:1px;z-index:calc(var(--el-table-index) + 2)}.el-table--enable-row-transition .el-table__body td.el-table__cell{transition:background-color .25s ease}.el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell{background-color:var(--el-table-row-hover-bg-color)}.el-table [class*=el-table__row--level] .el-table__expand-icon{display:inline-block;text-align:center;width:20px}.el-table .el-table.el-table--border .el-table__cell{border-right:var(--el-table-border)}.el-table:not(.el-table--border) .el-table__cell{border-right:none}.el-table:not(.el-table--border)>.el-table__inner-wrapper:after{content:none}.el-table-v2{--el-table-border-color:var(--el-border-color-lighter);--el-table-border:1px solid var(--el-table-border-color);--el-table-text-color:var(--el-text-color-regular);--el-table-header-text-color:var(--el-text-color-secondary);--el-table-row-hover-bg-color:var(--el-fill-color-light);--el-table-current-row-bg-color:var(--el-color-primary-light-9);--el-table-header-bg-color:var(--el-bg-color);--el-table-fixed-box-shadow:var(--el-box-shadow-light);--el-table-bg-color:var(--el-fill-color-blank);--el-table-tr-bg-color:var(--el-bg-color);--el-table-expanded-cell-bg-color:var(--el-fill-color-blank);--el-table-fixed-left-column:inset 10px 0 10px -10px rgba(0,0,0,.15);--el-table-fixed-right-column:inset -10px 0 10px -10px rgba(0,0,0,.15);--el-table-index:var(--el-index-normal);font-size:var(--el-font-size-base)}.el-table-v2 *{box-sizing:border-box}.el-table-v2__root{position:relative}.el-table-v2__root:hover .el-table-v2__main .el-virtual-scrollbar{opacity:1}.el-table-v2__main{background-color:var(--el-bg-color);display:flex;flex-direction:column-reverse;left:0;overflow:hidden;position:absolute;top:0}.el-table-v2__main .el-vl__horizontal,.el-table-v2__main .el-vl__vertical{z-index:2}.el-table-v2__left{background-color:var(--el-bg-color);box-shadow:2px 0 4px #0000000f;display:flex;flex-direction:column-reverse;left:0;overflow:hidden;position:absolute;top:0}.el-table-v2__left .el-virtual-scrollbar{opacity:0}.el-table-v2__left .el-vl__horizontal,.el-table-v2__left .el-vl__vertical{z-index:-1}.el-table-v2__right{background-color:var(--el-bg-color);box-shadow:-2px 0 4px #0000000f;display:flex;flex-direction:column-reverse;overflow:hidden;position:absolute;right:0;top:0}.el-table-v2__right .el-virtual-scrollbar{opacity:0}.el-table-v2__right .el-vl__horizontal,.el-table-v2__right .el-vl__vertical{z-index:-1}.el-table-v2__header-row,.el-table-v2__row{padding-inline-end:var(--el-table-scrollbar-size)}.el-table-v2__header-wrapper{overflow:hidden}.el-table-v2__header{overflow:hidden;position:relative}.el-table-v2__header .el-checkbox{z-index:0}.el-table-v2__footer{bottom:0;overflow:hidden;right:0}.el-table-v2__empty,.el-table-v2__footer,.el-table-v2__overlay{left:0;position:absolute}.el-table-v2__overlay{bottom:0;right:0;top:0;z-index:9999}.el-table-v2__header-row{border-bottom:var(--el-table-border);display:flex}.el-table-v2__header-cell{align-items:center;background-color:var(--el-table-header-bg-color);color:var(--el-table-header-text-color);display:flex;font-weight:700;height:100%;overflow:hidden;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table-v2__header-cell.is-align-center{justify-content:center;text-align:center}.el-table-v2__header-cell.is-align-right{justify-content:flex-end;text-align:right}.el-table-v2__header-cell.is-sortable{cursor:pointer}.el-table-v2__header-cell:hover .el-icon{display:block}.el-table-v2__sort-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-v2__sort-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-v2__sort-icon{display:none;opacity:.6;transition:opacity,display var(--el-transition-duration)}.el-table-v2__sort-icon.is-sorting{display:flex;opacity:1}.el-table-v2__row{align-items:center;border-bottom:var(--el-table-border);display:flex;transition:background-color var(--el-transition-duration)}.el-table-v2__row.is-hovered,.el-table-v2__row:hover{background-color:var(--el-table-row-hover-bg-color)}.el-table-v2__row-cell{align-items:center;display:flex;height:100%;overflow:hidden;padding:0 8px}.el-table-v2__row-cell.is-align-center{justify-content:center;text-align:center}.el-table-v2__row-cell.is-align-right{justify-content:flex-end;text-align:right}.el-table-v2__expand-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-v2__expand-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-v2__expand-icon{margin:0 4px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table-v2__expand-icon svg{transition:transform var(--el-transition-duration)}.el-table-v2__expand-icon.is-expanded svg{transform:rotate(90deg)}.el-table-v2:not(.is-dynamic) .el-table-v2__cell-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-table-v2.is-dynamic .el-table-v2__row{align-items:stretch;overflow:hidden}.el-table-v2.is-dynamic .el-table-v2__row .el-table-v2__row-cell{overflow-wrap:break-word}.el-tabs{--el-tabs-header-height:40px;display:flex}.el-tabs__header{align-items:center;display:flex;justify-content:space-between;margin:0 0 15px;padding:0;position:relative}.el-tabs__header-vertical{flex-direction:column}.el-tabs__active-bar{background-color:var(--el-color-primary);bottom:0;height:2px;left:0;list-style:none;position:absolute;transition:width var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),transform var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);z-index:1}.el-tabs__active-bar.is-bottom{bottom:auto}.el-tabs__new-tab{align-items:center;border:1px solid var(--el-border-color);border-radius:3px;color:var(--el-text-color-primary);cursor:pointer;display:flex;flex-shrink:0;font-size:12px;height:20px;justify-content:center;line-height:20px;margin:10px 0 10px 10px;text-align:center;transition:all .15s;width:20px}.el-tabs__new-tab .is-icon-plus{height:inherit;transform:scale(.8);width:inherit}.el-tabs__new-tab .is-icon-plus svg{vertical-align:middle}.el-tabs__new-tab:hover{color:var(--el-color-primary)}.el-tabs__new-tab-vertical{margin-left:0}.el-tabs__nav-wrap{flex:1 auto;margin-bottom:-1px;overflow:hidden;position:relative}.el-tabs__nav-wrap:after{background-color:var(--el-border-color-light);bottom:0;content:"";height:2px;left:0;position:absolute;width:100%;z-index:var(--el-index-normal)}.el-tabs__nav-wrap.is-bottom:after{bottom:auto;top:0}.el-tabs__nav-wrap.is-scrollable{box-sizing:border-box;padding:0 20px}.el-tabs__nav-scroll{overflow:hidden}.el-tabs__nav-next,.el-tabs__nav-prev{color:var(--el-text-color-secondary);cursor:pointer;font-size:12px;line-height:44px;position:absolute;text-align:center;width:20px}.el-tabs__nav-next{right:0}.el-tabs__nav-prev{left:0}.el-tabs__nav{display:flex;float:left;position:relative;transition:transform var(--el-transition-duration);white-space:nowrap;z-index:calc(var(--el-index-normal) + 1)}.el-tabs__nav.is-stretch{display:flex;min-width:100%}.el-tabs__nav.is-stretch>*{flex:1;text-align:center}.el-tabs__item{align-items:center;box-sizing:border-box;color:var(--el-text-color-primary);display:flex;font-size:var(--el-font-size-base);font-weight:500;height:var(--el-tabs-header-height);justify-content:center;list-style:none;padding:0 20px;position:relative}.el-tabs__item:focus,.el-tabs__item:focus:active{outline:none}.el-tabs__item:focus-visible{border-radius:3px;box-shadow:0 0 2px 2px var(--el-color-primary) inset}.el-tabs__item .is-icon-close{border-radius:50%;margin-left:5px;text-align:center;transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs__item .is-icon-close:before{display:inline-block;transform:scale(.9)}.el-tabs__item .is-icon-close:hover{background-color:var(--el-text-color-placeholder);color:#fff}.el-tabs__item.is-active,.el-tabs__item:hover{color:var(--el-color-primary)}.el-tabs__item:hover{cursor:pointer}.el-tabs__item.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-tabs__content{flex-grow:1;overflow:hidden;position:relative}.el-tabs--bottom>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:0}.el-tabs--bottom>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top>.el-tabs__header .el-tabs__item:last-child{padding-right:0}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:20px}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:last-child{padding-right:20px}.el-tabs--card>.el-tabs__header{border-bottom:1px solid var(--el-border-color-light);box-sizing:border-box;height:var(--el-tabs-header-height)}.el-tabs--card>.el-tabs__header .el-tabs__nav-wrap:after{content:none}.el-tabs--card>.el-tabs__header .el-tabs__nav{border:1px solid var(--el-border-color-light);border-bottom:none;border-radius:4px 4px 0 0;box-sizing:border-box}.el-tabs--card>.el-tabs__header .el-tabs__active-bar{display:none}.el-tabs--card>.el-tabs__header .el-tabs__item .is-icon-close{font-size:12px;height:14px;overflow:hidden;position:relative;right:-2px;transform-origin:100% 50%;width:0}.el-tabs--card>.el-tabs__header .el-tabs__item{border-bottom:1px solid transparent;border-left:1px solid var(--el-border-color-light);margin-top:-1px;transition:color var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),padding var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs--card>.el-tabs__header .el-tabs__item:first-child{border-left:none}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover{padding-left:13px;padding-right:13px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover .is-icon-close{width:14px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active{border-bottom-color:var(--el-bg-color)}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable{padding-left:20px;padding-right:20px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable .is-icon-close{width:14px}.el-tabs--border-card{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color)}.el-tabs--border-card>.el-tabs__content{padding:15px}.el-tabs--border-card>.el-tabs__header{background-color:var(--el-fill-color-light);border-bottom:1px solid var(--el-border-color-light);margin:0}.el-tabs--border-card>.el-tabs__header .el-tabs__nav-wrap:after{content:none}.el-tabs--border-card>.el-tabs__header .el-tabs__item{border:1px solid transparent;color:var(--el-text-color-secondary);margin-top:-1px;transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs--border-card>.el-tabs__header .el-tabs__item+.el-tabs__item,.el-tabs--border-card>.el-tabs__header .el-tabs__item:first-child{margin-left:-1px}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{background-color:var(--el-bg-color-overlay);border-left-color:var(--el-border-color);border-right-color:var(--el-border-color);color:var(--el-color-primary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item:not(.is-disabled):hover{color:var(--el-color-primary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-disabled{color:var(--el-disabled-text-color)}.el-tabs--border-card>.el-tabs__header .is-scrollable .el-tabs__item:first-child{margin-left:0}.el-tabs--bottom{flex-direction:column}.el-tabs--bottom .el-tabs__header.is-bottom{margin-bottom:0;margin-top:10px}.el-tabs--bottom.el-tabs--border-card .el-tabs__header.is-bottom{border-bottom:0;border-top:1px solid var(--el-border-color)}.el-tabs--bottom.el-tabs--border-card .el-tabs__nav-wrap.is-bottom{margin-bottom:0;margin-top:-1px}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom:not(.is-active){border:1px solid transparent}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom{margin:0 -1px -1px}.el-tabs--left,.el-tabs--right{overflow:hidden}.el-tabs--left .el-tabs__header.is-left,.el-tabs--left .el-tabs__header.is-right,.el-tabs--left .el-tabs__nav-scroll,.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__header.is-left,.el-tabs--right .el-tabs__header.is-right,.el-tabs--right .el-tabs__nav-scroll,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{height:100%}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__active-bar.is-right,.el-tabs--right .el-tabs__active-bar.is-left,.el-tabs--right .el-tabs__active-bar.is-right{bottom:auto;height:auto;top:0;width:2px}.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{margin-bottom:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{cursor:pointer;height:30px;line-height:30px;text-align:center;width:100%}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i{transform:rotate(90deg)}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{left:auto;top:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next{bottom:0;right:auto}.el-tabs--left .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--left .el-tabs__nav-wrap.is-right.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-right.is-scrollable{padding:30px 0}.el-tabs--left .el-tabs__nav-wrap.is-left:after,.el-tabs--left .el-tabs__nav-wrap.is-right:after,.el-tabs--right .el-tabs__nav-wrap.is-left:after,.el-tabs--right .el-tabs__nav-wrap.is-right:after{bottom:auto;height:100%;top:0;width:2px}.el-tabs--left .el-tabs__nav.is-left,.el-tabs--left .el-tabs__nav.is-right,.el-tabs--right .el-tabs__nav.is-left,.el-tabs--right .el-tabs__nav.is-right{flex-direction:column}.el-tabs--left .el-tabs__item.is-left,.el-tabs--right .el-tabs__item.is-left{justify-content:flex-end}.el-tabs--left .el-tabs__item.is-right,.el-tabs--right .el-tabs__item.is-right{justify-content:flex-start}.el-tabs--left{flex-direction:row}.el-tabs--left .el-tabs__header.is-left{margin-bottom:0;margin-right:10px}.el-tabs--left .el-tabs__nav-wrap.is-left{margin-right:-1px}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__nav-wrap.is-left:after{left:auto;right:0}.el-tabs--left .el-tabs__item.is-left{text-align:right}.el-tabs--left.el-tabs--card .el-tabs__active-bar.is-left{display:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left{border-bottom:none;border-left:none;border-right:1px solid var(--el-border-color-light);border-top:1px solid var(--el-border-color-light);text-align:left}.el-tabs--left.el-tabs--card .el-tabs__item.is-left:first-child{border-right:1px solid var(--el-border-color-light);border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active{border:1px solid var(--el-border-color-light);border-bottom:none;border-left:none;border-right:1px solid #fff}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:first-child{border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:last-child{border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__nav{border-bottom:1px solid var(--el-border-color-light);border-radius:4px 0 0 4px;border-right:none}.el-tabs--left.el-tabs--card .el-tabs__new-tab{float:none}.el-tabs--left.el-tabs--border-card .el-tabs__header.is-left{border-right:1px solid var(--el-border-color)}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left{border:1px solid transparent;margin:-1px 0 -1px -1px}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left.is-active{border-color:rgb(209,219,229) transparent}.el-tabs--left>.el-tabs__content+.el-tabs__header{order:-1}.el-tabs--right .el-tabs__header.is-right{margin-bottom:0;margin-left:10px}.el-tabs--right .el-tabs__nav-wrap.is-right{margin-left:-1px}.el-tabs--right .el-tabs__nav-wrap.is-right:after{left:0;right:auto}.el-tabs--right .el-tabs__active-bar.is-right{left:0}.el-tabs--right.el-tabs--card .el-tabs__active-bar.is-right{display:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right{border-bottom:none;border-top:1px solid var(--el-border-color-light)}.el-tabs--right.el-tabs--card .el-tabs__item.is-right:first-child{border-left:1px solid var(--el-border-color-light);border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active{border:1px solid var(--el-border-color-light);border-bottom:none;border-left:1px solid #fff;border-right:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:first-child{border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:last-child{border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__nav{border-bottom:1px solid var(--el-border-color-light);border-left:none;border-radius:0 4px 4px 0}.el-tabs--right.el-tabs--border-card .el-tabs__header.is-right{border-left:1px solid var(--el-border-color)}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right{border:1px solid transparent;margin:-1px -1px -1px 0}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right.is-active{border-color:rgb(209,219,229) transparent}.el-tabs--top{flex-direction:column}.el-tabs--top>.el-tabs__content+.el-tabs__header{order:-1}.slideInLeft-transition,.slideInRight-transition{display:inline-block}.slideInRight-enter{animation:slideInRight-enter var(--el-transition-duration)}.slideInRight-leave{animation:slideInRight-leave var(--el-transition-duration);left:0;position:absolute;right:0}.slideInLeft-enter{animation:slideInLeft-enter var(--el-transition-duration)}.slideInLeft-leave{animation:slideInLeft-leave var(--el-transition-duration);left:0;position:absolute;right:0}@keyframes slideInRight-enter{0%{opacity:0;transform:translate(100%);transform-origin:0 0}to{opacity:1;transform:translate(0);transform-origin:0 0}}@keyframes slideInRight-leave{0%{opacity:1;transform:translate(0);transform-origin:0 0}to{opacity:0;transform:translate(100%);transform-origin:0 0}}@keyframes slideInLeft-enter{0%{opacity:0;transform:translate(-100%);transform-origin:0 0}to{opacity:1;transform:translate(0);transform-origin:0 0}}@keyframes slideInLeft-leave{0%{opacity:1;transform:translate(0);transform-origin:0 0}to{opacity:0;transform:translate(-100%);transform-origin:0 0}}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px;--el-tag-border-radius-rounded:9999px;align-items:center;background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);border-radius:var(--el-tag-border-radius);border-style:solid;border-width:1px;box-sizing:border-box;color:var(--el-tag-text-color);display:inline-flex;font-size:var(--el-tag-font-size);height:24px;justify-content:center;line-height:1;padding:0 9px;vertical-align:middle;white-space:nowrap;--el-icon-size:14px}.el-tag,.el-tag.el-tag--primary{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-bg-color:var(--el-color-success-light-9);--el-tag-border-color:var(--el-color-success-light-8);--el-tag-hover-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-bg-color:var(--el-color-warning-light-9);--el-tag-border-color:var(--el-color-warning-light-8);--el-tag-hover-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-bg-color:var(--el-color-danger-light-9);--el-tag-border-color:var(--el-color-danger-light-8);--el-tag-hover-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-bg-color:var(--el-color-error-light-9);--el-tag-border-color:var(--el-color-error-light-8);--el-tag-hover-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-bg-color:var(--el-color-info-light-9);--el-tag-border-color:var(--el-color-info-light-8);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-hit{border-color:var(--el-color-primary)}.el-tag.is-round{border-radius:var(--el-tag-border-radius-rounded)}.el-tag .el-tag__close{color:var(--el-tag-text-color);flex-shrink:0}.el-tag .el-tag__close:hover{background-color:var(--el-tag-hover-color);color:var(--el-color-white)}.el-tag.el-tag--primary{--el-tag-text-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-text-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-text-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-text-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-text-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-text-color:var(--el-color-info)}.el-tag .el-icon{border-radius:50%;cursor:pointer;display:flex;font-size:calc(var(--el-icon-size) - 2px);height:var(--el-icon-size);width:var(--el-icon-size)}.el-tag .el-tag__close{background-color:transparent;border:none;border-radius:50%;margin-left:6px;outline:none;overflow:hidden;padding:0}.el-tag .el-tag__close:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-tag--dark{--el-tag-text-color:var(--el-color-white)}.el-tag--dark,.el-tag--dark.el-tag--primary{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3)}.el-tag--dark.el-tag--success{--el-tag-bg-color:var(--el-color-success);--el-tag-border-color:var(--el-color-success);--el-tag-hover-color:var(--el-color-success-light-3)}.el-tag--dark.el-tag--warning{--el-tag-bg-color:var(--el-color-warning);--el-tag-border-color:var(--el-color-warning);--el-tag-hover-color:var(--el-color-warning-light-3)}.el-tag--dark.el-tag--danger{--el-tag-bg-color:var(--el-color-danger);--el-tag-border-color:var(--el-color-danger);--el-tag-hover-color:var(--el-color-danger-light-3)}.el-tag--dark.el-tag--error{--el-tag-bg-color:var(--el-color-error);--el-tag-border-color:var(--el-color-error);--el-tag-hover-color:var(--el-color-error-light-3)}.el-tag--dark.el-tag--info{--el-tag-bg-color:var(--el-color-info);--el-tag-border-color:var(--el-color-info);--el-tag-hover-color:var(--el-color-info-light-3)}.el-tag--dark.el-tag--danger,.el-tag--dark.el-tag--error,.el-tag--dark.el-tag--info,.el-tag--dark.el-tag--primary,.el-tag--dark.el-tag--success,.el-tag--dark.el-tag--warning{--el-tag-text-color:var(--el-color-white)}.el-tag--plain,.el-tag--plain.el-tag--primary{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary)}.el-tag--plain.el-tag--success{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-success-light-5);--el-tag-hover-color:var(--el-color-success)}.el-tag--plain.el-tag--warning{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-warning-light-5);--el-tag-hover-color:var(--el-color-warning)}.el-tag--plain.el-tag--danger{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-danger-light-5);--el-tag-hover-color:var(--el-color-danger)}.el-tag--plain.el-tag--error{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-error-light-5);--el-tag-hover-color:var(--el-color-error)}.el-tag--plain.el-tag--info{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-info-light-5);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-closable{padding-right:5px}.el-tag--large{height:32px;padding:0 11px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--small{height:20px;padding:0 7px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag.el-tag--primary.is-hit{border-color:var(--el-color-primary)}.el-tag.el-tag--success.is-hit{border-color:var(--el-color-success)}.el-tag.el-tag--warning.is-hit{border-color:var(--el-color-warning)}.el-tag.el-tag--danger.is-hit{border-color:var(--el-color-danger)}.el-tag.el-tag--error.is-hit{border-color:var(--el-color-error)}.el-tag.el-tag--info.is-hit{border-color:var(--el-color-info)}.el-text{--el-text-font-size:var(--el-font-size-base);--el-text-color:var(--el-text-color-regular);align-self:center;color:var(--el-text-color);font-size:var(--el-text-font-size);margin:0;overflow-wrap:break-word;padding:0}.el-text.is-truncated{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-text.is-line-clamp{display:-webkit-inline-box;-webkit-box-orient:vertical;overflow:hidden}.el-text--large{--el-text-font-size:var(--el-font-size-medium)}.el-text--default{--el-text-font-size:var(--el-font-size-base)}.el-text--small{--el-text-font-size:var(--el-font-size-extra-small)}.el-text.el-text--primary{--el-text-color:var(--el-color-primary)}.el-text.el-text--success{--el-text-color:var(--el-color-success)}.el-text.el-text--warning{--el-text-color:var(--el-color-warning)}.el-text.el-text--danger{--el-text-color:var(--el-color-danger)}.el-text.el-text--error{--el-text-color:var(--el-color-error)}.el-text.el-text--info{--el-text-color:var(--el-color-info)}.el-text>.el-icon{vertical-align:-2px}.time-select{margin:5px 0;min-width:0}.time-select .el-picker-panel__content{margin:0;max-height:200px}.time-select-item{font-size:14px;line-height:20px;padding:8px 10px}.time-select-item.disabled{color:var(--el-datepicker-border-color);cursor:not-allowed}.time-select-item:hover{background-color:var(--el-fill-color-light);cursor:pointer;font-weight:700}.time-select .time-select-item.selected:not(.disabled){color:var(--el-color-primary);font-weight:700}.el-timeline-item{padding-bottom:20px;position:relative}.el-timeline-item__wrapper{padding-left:28px;position:relative;top:-3px}.el-timeline-item__tail{border-left:2px solid var(--el-timeline-node-color);height:100%;left:4px;position:absolute}.el-timeline-item .el-timeline-item__icon{color:var(--el-color-white);font-size:var(--el-font-size-small)}.el-timeline-item__node{align-items:center;background-color:var(--el-timeline-node-color);border-color:var(--el-timeline-node-color);border-radius:50%;box-sizing:border-box;display:flex;justify-content:center;position:absolute}.el-timeline-item__node--normal{height:var(--el-timeline-node-size-normal);left:-1px;width:var(--el-timeline-node-size-normal)}.el-timeline-item__node--large{height:var(--el-timeline-node-size-large);left:-2px;width:var(--el-timeline-node-size-large)}.el-timeline-item__node.is-hollow{background:var(--el-color-white);border-style:solid;border-width:2px}.el-timeline-item__node--primary{background-color:var(--el-color-primary);border-color:var(--el-color-primary)}.el-timeline-item__node--success{background-color:var(--el-color-success);border-color:var(--el-color-success)}.el-timeline-item__node--warning{background-color:var(--el-color-warning);border-color:var(--el-color-warning)}.el-timeline-item__node--danger{background-color:var(--el-color-danger);border-color:var(--el-color-danger)}.el-timeline-item__node--info{background-color:var(--el-color-info);border-color:var(--el-color-info)}.el-timeline-item__dot{align-items:center;display:flex;justify-content:center;position:absolute}.el-timeline-item__content{color:var(--el-text-color-primary)}.el-timeline-item__timestamp{color:var(--el-text-color-secondary);font-size:var(--el-font-size-small);line-height:1}.el-timeline-item__timestamp.is-top{margin-bottom:8px;padding-top:4px}.el-timeline-item__timestamp.is-bottom{margin-top:8px}.el-timeline{--el-timeline-node-size-normal:12px;--el-timeline-node-size-large:14px;--el-timeline-node-color:var(--el-border-color-light);font-size:var(--el-font-size-base);list-style:none;margin:0}.el-timeline .el-timeline-item:last-child .el-timeline-item__tail{display:none}.el-timeline .el-timeline-item__center{align-items:center;display:flex}.el-timeline .el-timeline-item__center .el-timeline-item__wrapper{width:100%}.el-timeline .el-timeline-item__center .el-timeline-item__tail{top:0}.el-timeline .el-timeline-item__center:first-child .el-timeline-item__tail{height:calc(50% + 10px);top:calc(50% - 10px)}.el-timeline .el-timeline-item__center:last-child .el-timeline-item__tail{display:block;height:calc(50% - 10px)}.el-transfer{--el-transfer-border-color:var(--el-border-color-lighter);--el-transfer-border-radius:var(--el-border-radius-base);--el-transfer-panel-width:200px;--el-transfer-panel-header-height:40px;--el-transfer-panel-header-bg-color:var(--el-fill-color-light);--el-transfer-panel-footer-height:40px;--el-transfer-panel-body-height:278px;--el-transfer-item-height:30px;--el-transfer-filter-height:32px;font-size:var(--el-font-size-base)}.el-transfer__buttons{display:inline-block;padding:0 30px;vertical-align:middle}.el-transfer__button{vertical-align:top}.el-transfer__button:nth-child(2){margin:0 0 0 10px}.el-transfer__button i,.el-transfer__button span{font-size:14px}.el-transfer__button .el-icon+span{margin-left:0}.el-transfer-panel{background:var(--el-bg-color-overlay);box-sizing:border-box;display:inline-block;max-height:100%;overflow:hidden;position:relative;text-align:left;vertical-align:middle;width:var(--el-transfer-panel-width)}.el-transfer-panel__body{border-bottom:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);border-left:1px solid var(--el-transfer-border-color);border-right:1px solid var(--el-transfer-border-color);height:var(--el-transfer-panel-body-height);overflow:hidden}.el-transfer-panel__body.is-with-footer{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.el-transfer-panel__list{box-sizing:border-box;height:var(--el-transfer-panel-body-height);list-style:none;margin:0;overflow:auto;padding:6px 0}.el-transfer-panel__list.is-filterable{height:calc(100% - var(--el-transfer-filter-height) - 30px);padding-top:0}.el-transfer-panel__item{display:block!important;height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding-left:15px}.el-transfer-panel__item+.el-transfer-panel__item{margin-left:0}.el-transfer-panel__item.el-checkbox{color:var(--el-text-color-regular);margin-right:30px}.el-transfer-panel__item:hover{color:var(--el-color-primary)}.el-transfer-panel__item.el-checkbox .el-checkbox__label{box-sizing:border-box;display:block;line-height:var(--el-transfer-item-height);overflow:hidden;padding-left:22px;text-overflow:ellipsis;white-space:nowrap;width:100%}.el-transfer-panel__item .el-checkbox__input{position:absolute;top:8px}.el-transfer-panel__filter{box-sizing:border-box;padding:15px;text-align:center}.el-transfer-panel__filter .el-input__inner{box-sizing:border-box;display:inline-block;font-size:12px;height:var(--el-transfer-filter-height);width:100%}.el-transfer-panel__filter .el-icon-circle-close{cursor:pointer}.el-transfer-panel .el-transfer-panel__header{align-items:center;background:var(--el-transfer-panel-header-bg-color);border:1px solid var(--el-transfer-border-color);border-top-left-radius:var(--el-transfer-border-radius);border-top-right-radius:var(--el-transfer-border-radius);box-sizing:border-box;color:var(--el-color-black);display:flex;height:var(--el-transfer-panel-header-height);margin:0;padding-left:15px}.el-transfer-panel .el-transfer-panel__header .el-checkbox{align-items:center;display:flex;position:relative;width:100%}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label{color:var(--el-text-color-primary);font-size:16px;font-weight:400}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{color:var(--el-text-color-secondary);font-size:12px;font-weight:400;position:absolute;right:15px;top:50%;transform:translate3d(0,-50%,0)}.el-transfer-panel .el-transfer-panel__footer{background:var(--el-bg-color-overlay);border:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);height:var(--el-transfer-panel-footer-height);margin:0;padding:0}.el-transfer-panel .el-transfer-panel__footer:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-transfer-panel .el-transfer-panel__footer .el-checkbox{color:var(--el-text-color-regular);padding-left:20px}.el-transfer-panel .el-transfer-panel__empty{color:var(--el-text-color-secondary);height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);margin:0;padding:6px 15px 0;text-align:center}.el-transfer-panel .el-checkbox__label{padding-left:8px}.el-tree{--el-tree-node-content-height:26px;--el-tree-node-hover-bg-color:var(--el-fill-color-light);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder);background:var(--el-fill-color-blank);color:var(--el-tree-text-color);cursor:default;font-size:var(--el-font-size-base);position:relative}.el-tree__empty-block{height:100%;min-height:60px;position:relative;text-align:center;width:100%}.el-tree__empty-text{color:var(--el-text-color-secondary);font-size:var(--el-font-size-base);left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-tree__drop-indicator{background-color:var(--el-color-primary);height:1px;left:0;position:absolute;right:0}.el-tree-node{outline:none;white-space:nowrap}.el-tree-node:focus>.el-tree-node__content{background-color:var(--el-tree-node-hover-bg-color)}.el-tree-node.is-drop-inner>.el-tree-node__content .el-tree-node__label{background-color:var(--el-color-primary);color:#fff}.el-tree-node__content{--el-checkbox-height:var(--el-tree-node-content-height);align-items:center;cursor:pointer;display:flex;height:var(--el-tree-node-content-height)}.el-tree-node__content>.el-tree-node__expand-icon{box-sizing:content-box;padding:6px}.el-tree-node__content>label.el-checkbox{margin-right:8px}.el-tree-node__content:hover{background-color:var(--el-tree-node-hover-bg-color)}.el-tree.is-dragging .el-tree-node__content{cursor:move}.el-tree.is-dragging .el-tree-node__content *{pointer-events:none}.el-tree.is-dragging.is-drop-not-allow .el-tree-node__content{cursor:not-allowed}.el-tree-node__expand-icon{color:var(--el-tree-expand-icon-color);cursor:pointer;font-size:12px;transform:rotate(0);transition:transform var(--el-transition-duration) ease-in-out}.el-tree-node__expand-icon.expanded{transform:rotate(90deg)}.el-tree-node__expand-icon.is-leaf{color:transparent;cursor:default;visibility:hidden}.el-tree-node__expand-icon.is-hidden{visibility:hidden}.el-tree-node__loading-icon{color:var(--el-tree-expand-icon-color);font-size:var(--el-font-size-base);margin-right:8px}.el-tree-node>.el-tree-node__children{background-color:transparent;overflow:hidden}.el-tree-node.is-expanded>.el-tree-node__children{display:block}.el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content{background-color:var(--el-color-primary-light-9)}.el-tree-select{--el-tree-node-content-height:26px;--el-tree-node-hover-bg-color:var(--el-fill-color-light);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder)}.el-tree-select__popper .el-tree-node__expand-icon{margin-left:8px}.el-tree-select__popper .el-tree-node.is-checked>.el-tree-node__content .el-select-dropdown__item.selected:after{content:none}.el-tree-select__popper .el-select-dropdown__list>.el-select-dropdown__item{padding-left:32px}.el-tree-select__popper .el-select-dropdown__item{background:transparent!important;flex:1;height:20px;line-height:20px;padding-left:0}.el-upload{--el-upload-dragger-padding-horizontal:10px;--el-upload-dragger-padding-vertical:40px;--el-upload-list-picture-card-size:var(--el-upload-picture-card-size);--el-upload-picture-card-size:148px;align-items:center;cursor:pointer;display:inline-flex;justify-content:center;outline:none}.el-upload.is-disabled{cursor:not-allowed}.el-upload.is-disabled:focus{color:inherit}.el-upload.is-disabled:focus,.el-upload.is-disabled:focus .el-upload-dragger{border-color:var(--el-border-color-darker)}.el-upload.is-disabled .el-upload-dragger{background-color:var(--el-disabled-bg-color);cursor:not-allowed}.el-upload.is-disabled .el-upload-dragger .el-upload__text{color:var(--el-text-color-placeholder)}.el-upload.is-disabled .el-upload-dragger .el-upload__text em{color:var(--el-disabled-text-color)}.el-upload.is-disabled .el-upload-dragger:hover{border-color:var(--el-border-color-darker)}.el-upload__input{display:none}.el-upload__tip{color:var(--el-text-color-regular);font-size:12px;margin-top:7px}.el-upload iframe{filter:alpha(opacity=0);left:0;opacity:0;position:absolute;top:0;z-index:-1}.el-upload--picture-card{align-items:center;background-color:var(--el-fill-color-lighter);border:1px dashed var(--el-border-color-darker);border-radius:6px;box-sizing:border-box;cursor:pointer;display:inline-flex;height:var(--el-upload-picture-card-size);justify-content:center;vertical-align:top;width:var(--el-upload-picture-card-size)}.el-upload--picture-card>i{color:var(--el-text-color-secondary);font-size:28px}.el-upload--picture-card:hover{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload.is-drag{display:block}.el-upload:focus{color:var(--el-color-primary)}.el-upload:focus,.el-upload:focus .el-upload-dragger{border-color:var(--el-color-primary)}.el-upload-dragger{background-color:var(--el-fill-color-blank);border:1px dashed var(--el-border-color);border-radius:6px;box-sizing:border-box;cursor:pointer;overflow:hidden;padding:var(--el-upload-dragger-padding-vertical) var(--el-upload-dragger-padding-horizontal);position:relative;text-align:center}.el-upload-dragger .el-icon--upload{color:var(--el-text-color-placeholder);font-size:67px;line-height:50px;margin-bottom:16px}.el-upload-dragger+.el-upload__tip{text-align:center}.el-upload-dragger~.el-upload__files{border-top:var(--el-border);margin-top:7px;padding-top:5px}.el-upload-dragger .el-upload__text{color:var(--el-text-color-regular);font-size:14px;text-align:center}.el-upload-dragger .el-upload__text em{color:var(--el-color-primary);font-style:normal}.el-upload-dragger:hover{border-color:var(--el-color-primary)}.el-upload-dragger.is-dragover{background-color:var(--el-color-primary-light-9);border:2px dashed var(--el-color-primary);padding:calc(var(--el-upload-dragger-padding-vertical) - 1px) calc(var(--el-upload-dragger-padding-horizontal) - 1px)}.el-upload-list{--el-upload-dragger-padding-horizontal:10px;--el-upload-dragger-padding-vertical:40px;--el-upload-list-picture-card-size:var(--el-upload-picture-card-size);--el-upload-picture-card-size:148px;list-style:none;margin:10px 0 0;padding:0;position:relative}.el-upload-list__item{border-radius:4px;box-sizing:border-box;color:var(--el-text-color-regular);font-size:14px;margin-bottom:5px;position:relative;transition:all .5s cubic-bezier(.55,0,.1,1);width:100%}.el-upload-list__item .el-progress{position:absolute;top:20px;width:100%}.el-upload-list__item .el-progress__text{position:absolute;right:0;top:-13px}.el-upload-list__item .el-progress-bar{margin-right:0;padding-right:0}.el-upload-list__item .el-icon--upload-success{color:var(--el-color-success)}.el-upload-list__item .el-icon--close{color:var(--el-text-color-regular);cursor:pointer;display:none;opacity:.75;position:absolute;right:5px;top:50%;transform:translateY(-50%);transition:opacity var(--el-transition-duration)}.el-upload-list__item .el-icon--close:hover{color:var(--el-color-primary);opacity:1}.el-upload-list__item .el-icon--close-tip{color:var(--el-color-primary);cursor:pointer;display:none;font-size:12px;font-style:normal;opacity:1;position:absolute;right:5px;top:1px}.el-upload-list__item:hover{background-color:var(--el-fill-color-light)}.el-upload-list__item:hover .el-icon--close{display:inline-flex}.el-upload-list__item:hover .el-progress__text{display:none}.el-upload-list__item .el-upload-list__item-info{display:inline-flex;flex-direction:column;justify-content:center;margin-left:4px;width:calc(100% - 30px)}.el-upload-list__item.is-success .el-upload-list__item-status-label{display:inline-flex}.el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover{color:var(--el-color-primary);cursor:pointer}.el-upload-list__item.is-success:focus:not(:hover) .el-icon--close-tip{display:inline-block}.el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus{outline-width:0}.el-upload-list__item.is-success:active .el-icon--close-tip,.el-upload-list__item.is-success:not(.focusing):focus .el-icon--close-tip{display:none}.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label{display:none;opacity:0}.el-upload-list__item-name{align-items:center;color:var(--el-text-color-regular);display:inline-flex;font-size:var(--el-font-size-base);padding:0 4px;text-align:center;transition:color var(--el-transition-duration)}.el-upload-list__item-name .el-icon{color:var(--el-text-color-secondary);margin-right:6px}.el-upload-list__item-file-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-upload-list__item-status-label{align-items:center;display:none;height:100%;justify-content:center;line-height:inherit;position:absolute;right:5px;top:0;transition:opacity var(--el-transition-duration)}.el-upload-list__item-delete{color:var(--el-text-color-regular);display:none;font-size:12px;position:absolute;right:10px;top:0}.el-upload-list__item-delete:hover{color:var(--el-color-primary)}.el-upload-list--picture-card{display:inline-flex;flex-wrap:wrap;margin:0}.el-upload-list--picture-card .el-upload-list__item{background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;display:inline-flex;height:var(--el-upload-list-picture-card-size);margin:0 8px 8px 0;overflow:hidden;padding:0;width:var(--el-upload-list-picture-card-size)}.el-upload-list--picture-card .el-upload-list__item .el-icon--check,.el-upload-list--picture-card .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture-card .el-upload-list__item .el-icon--close{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label{display:block;opacity:0}.el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture-card .el-upload-list__item .el-upload-list__item-name{display:none}.el-upload-list--picture-card .el-upload-list__item-thumbnail{height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.el-upload-list--picture-card .el-upload-list__item-status-label{background:var(--el-color-success);height:24px;right:-15px;text-align:center;top:-6px;transform:rotate(45deg);width:40px}.el-upload-list--picture-card .el-upload-list__item-status-label i{font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-list--picture-card .el-upload-list__item-actions{align-items:center;background-color:var(--el-overlay-color-lighter);color:#fff;cursor:default;display:inline-flex;font-size:20px;height:100%;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity var(--el-transition-duration);width:100%}.el-upload-list--picture-card .el-upload-list__item-actions span{cursor:pointer;display:none}.el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:16px}.el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete{color:inherit;font-size:inherit;position:static}.el-upload-list--picture-card .el-upload-list__item-actions:hover{opacity:1}.el-upload-list--picture-card .el-upload-list__item-actions:hover span{display:inline-flex}.el-upload-list--picture-card .el-progress{bottom:auto;left:50%;top:50%;transform:translate(-50%,-50%);width:126px}.el-upload-list--picture-card .el-progress .el-progress__text{top:50%}.el-upload-list--picture .el-upload-list__item{align-items:center;background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;display:flex;margin-top:10px;overflow:hidden;padding:10px;z-index:0}.el-upload-list--picture .el-upload-list__item .el-icon--check,.el-upload-list--picture .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label{display:inline-flex;opacity:0}.el-upload-list--picture .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i{display:none}.el-upload-list--picture .el-upload-list__item .el-icon--close{top:5px;transform:translateY(0)}.el-upload-list--picture .el-upload-list__item-thumbnail{align-items:center;background-color:var(--el-color-white);display:inline-flex;height:70px;justify-content:center;-o-object-fit:contain;object-fit:contain;position:relative;width:70px;z-index:1}.el-upload-list--picture .el-upload-list__item-status-label{background:var(--el-color-success);height:26px;position:absolute;right:-17px;text-align:center;top:-7px;transform:rotate(45deg);width:46px}.el-upload-list--picture .el-upload-list__item-status-label i{font-size:12px;margin-top:12px;transform:rotate(-45deg)}.el-upload-list--picture .el-progress{position:relative;top:-7px}.el-upload-cover{cursor:default;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%;z-index:10}.el-upload-cover:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-upload-cover img{display:block;height:100%;width:100%}.el-upload-cover__label{background:var(--el-color-success);height:24px;right:-15px;text-align:center;top:-6px;transform:rotate(45deg);width:40px}.el-upload-cover__label i{color:#fff;font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-cover__progress{display:inline-block;position:static;vertical-align:middle;width:243px}.el-upload-cover__progress+.el-upload__inner{opacity:0}.el-upload-cover__content{height:100%;left:0;position:absolute;top:0;width:100%}.el-upload-cover__interact{background-color:var(--el-overlay-color-light);bottom:0;height:100%;left:0;position:absolute;text-align:center;width:100%}.el-upload-cover__interact .btn{color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin-top:60px;transition:var(--el-transition-md-fade);vertical-align:middle}.el-upload-cover__interact .btn i{margin-top:0}.el-upload-cover__interact .btn span{opacity:0;transition:opacity .15s linear}.el-upload-cover__interact .btn:not(:first-child){margin-left:35px}.el-upload-cover__interact .btn:hover{transform:translateY(-13px)}.el-upload-cover__interact .btn:hover span{opacity:1}.el-upload-cover__interact .btn i{color:#fff;display:block;font-size:24px;line-height:inherit;margin:0 auto 5px}.el-upload-cover__title{background-color:#fff;bottom:0;color:var(--el-text-color-primary);font-size:14px;font-weight:400;height:36px;left:0;line-height:36px;margin:0;overflow:hidden;padding:0 10px;position:absolute;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.el-upload-cover+.el-upload__inner{opacity:0;position:relative;z-index:1}.el-vl__wrapper{position:relative}.el-vl__wrapper.always-on .el-virtual-scrollbar,.el-vl__wrapper:hover .el-virtual-scrollbar{opacity:1}.el-vl__window{scrollbar-width:none}.el-vl__window::-webkit-scrollbar{display:none}.el-virtual-scrollbar{opacity:0;transition:opacity .34s ease-out}.el-virtual-scrollbar.always-on{opacity:1}.el-vg__wrapper{position:relative}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius,4px);border-radius:var(--el-popper-border-radius);font-size:12px;line-height:20px;min-width:10px;overflow-wrap:break-word;padding:5px 11px;position:absolute;visibility:visible;word-break:normal;z-index:2000}.el-popper.is-dark{color:var(--el-bg-color)}.el-popper.is-dark,.el-popper.is-dark>.el-popper__arrow:before{background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark>.el-popper__arrow:before{right:0}.el-popper.is-light,.el-popper.is-light>.el-popper__arrow:before{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light)}.el-popper.is-light>.el-popper__arrow:before{right:0}.el-popper.is-pure{padding:0}.el-popper__arrow,.el-popper__arrow:before{height:10px;position:absolute;width:10px;z-index:-1}.el-popper__arrow:before{background:var(--el-text-color-primary);box-sizing:border-box;content:" ";transform:rotate(45deg)}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-left-color:transparent!important;border-top-color:transparent!important}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-bottom-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-right-color:transparent!important;border-top-color:transparent!important}.el-statistic{--el-statistic-title-font-weight:400;--el-statistic-title-font-size:var(--el-font-size-extra-small);--el-statistic-title-color:var(--el-text-color-regular);--el-statistic-content-font-weight:400;--el-statistic-content-font-size:var(--el-font-size-extra-large);--el-statistic-content-color:var(--el-text-color-primary)}.el-statistic__head{color:var(--el-statistic-title-color);font-size:var(--el-statistic-title-font-size);font-weight:var(--el-statistic-title-font-weight);line-height:20px;margin-bottom:4px}.el-statistic__content{color:var(--el-statistic-content-color);font-size:var(--el-statistic-content-font-size);font-weight:var(--el-statistic-content-font-weight)}.el-statistic__value{display:inline-block}.el-statistic__prefix{display:inline-block;margin-right:4px}.el-statistic__suffix{display:inline-block;margin-left:4px}.el-tour{--el-tour-width:520px;--el-tour-padding-primary:12px;--el-tour-font-line-height:var(--el-font-line-height-primary);--el-tour-title-font-size:16px;--el-tour-title-text-color:var(--el-text-color-primary);--el-tour-title-font-weight:400;--el-tour-close-color:var(--el-color-info);--el-tour-font-size:14px;--el-tour-color:var(--el-text-color-primary);--el-tour-bg-color:var(--el-bg-color);--el-tour-border-radius:4px}.el-tour__hollow{transition:all var(--el-transition-duration) ease}.el-tour__content{border-radius:var(--el-tour-border-radius);box-shadow:var(--el-box-shadow-light);outline:none;overflow-wrap:break-word;padding:var(--el-tour-padding-primary);width:var(--el-tour-width)}.el-tour__arrow,.el-tour__content{background:var(--el-tour-bg-color);box-sizing:border-box}.el-tour__arrow{height:10px;pointer-events:none;position:absolute;transform:rotate(45deg);width:10px}.el-tour__content[data-side^=top] .el-tour__arrow{border-left-color:transparent;border-top-color:transparent}.el-tour__content[data-side^=bottom] .el-tour__arrow{border-bottom-color:transparent;border-right-color:transparent}.el-tour__content[data-side^=left] .el-tour__arrow{border-bottom-color:transparent;border-left-color:transparent}.el-tour__content[data-side^=right] .el-tour__arrow{border-right-color:transparent;border-top-color:transparent}.el-tour__content[data-side^=top] .el-tour__arrow{bottom:-5px}.el-tour__content[data-side^=bottom] .el-tour__arrow{top:-5px}.el-tour__content[data-side^=left] .el-tour__arrow{right:-5px}.el-tour__content[data-side^=right] .el-tour__arrow{left:-5px}.el-tour__closebtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:40px;outline:none;padding:0;position:absolute;right:0;top:0;width:40px}.el-tour__closebtn .el-tour__close{color:var(--el-tour-close-color);font-size:inherit}.el-tour__closebtn:focus .el-tour__close,.el-tour__closebtn:hover .el-tour__close{color:var(--el-color-primary)}.el-tour__header{padding-bottom:var(--el-tour-padding-primary)}.el-tour__header.show-close{padding-right:calc(var(--el-tour-padding-primary) + var(--el-message-close-size, 16px))}.el-tour__title{color:var(--el-tour-title-text-color);font-size:var(--el-tour-title-font-size);font-weight:var(--el-tour-title-font-weight);line-height:var(--el-tour-font-line-height)}.el-tour__body{color:var(--el-tour-text-color);font-size:var(--el-tour-font-size)}.el-tour__body img,.el-tour__body video{max-width:100%}.el-tour__footer{box-sizing:border-box;display:flex;justify-content:space-between;padding-top:var(--el-tour-padding-primary)}.el-tour__content .el-tour-indicators{display:inline-block;flex:1}.el-tour__content .el-tour-indicator{background:var(--el-color-info-light-9);border-radius:50%;display:inline-block;height:6px;margin-right:6px;width:6px}.el-tour__content .el-tour-indicator.is-active{background:var(--el-color-primary)}.el-tour.el-tour--primary{--el-tour-title-text-color:#fff;--el-tour-text-color:#fff;--el-tour-bg-color:var(--el-color-primary);--el-tour-close-color:#fff}.el-tour.el-tour--primary .el-tour__closebtn:focus .el-tour__close,.el-tour.el-tour--primary .el-tour__closebtn:hover .el-tour__close{color:var(--el-tour-title-text-color)}.el-tour.el-tour--primary .el-button--default{background:#fff;border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-tour.el-tour--primary .el-button--primary{border-color:#fff}.el-tour.el-tour--primary .el-tour-indicator{background:#ffffff26}.el-tour.el-tour--primary .el-tour-indicator.is-active{background:#fff}.el-tour-parent--hidden{overflow:hidden}.el-anchor{--el-anchor-bg-color:var(--el-bg-color);--el-anchor-padding-indent:14px;--el-anchor-line-height:22px;--el-anchor-font-size:12px;--el-anchor-color:var(--el-text-color-secondary);--el-anchor-active-color:var(--el-color-primary);--el-anchor-hover-color:var(--el-text-color-regular);--el-anchor-marker-bg-color:var(--el-color-primary);background-color:var(--el-anchor-bg-color);position:relative}.el-anchor__marker{background-color:var(--el-anchor-marker-bg-color);border-radius:4px;opacity:0;position:absolute;z-index:0}.el-anchor.el-anchor--vertical .el-anchor__marker{height:14px;left:0;top:8px;transition:top .25s ease-in-out,opacity .25s;width:4px}.el-anchor.el-anchor--vertical .el-anchor__list{padding-left:var(--el-anchor-padding-indent)}.el-anchor.el-anchor--vertical.el-anchor--underline:before{background-color:#0505050f;content:"";height:100%;left:0;position:absolute;width:2px}.el-anchor.el-anchor--vertical.el-anchor--underline .el-anchor__marker{border-radius:unset;width:2px}.el-anchor.el-anchor--horizontal .el-anchor__marker{bottom:0;height:2px;transition:left .25s ease-in-out,opacity .25s,width .25s;width:20px}.el-anchor.el-anchor--horizontal .el-anchor__list{display:flex;padding-bottom:4px}.el-anchor.el-anchor--horizontal .el-anchor__list .el-anchor__item{padding-left:16px}.el-anchor.el-anchor--horizontal .el-anchor__list .el-anchor__item:first-child{padding-left:0}.el-anchor.el-anchor--horizontal.el-anchor--underline:before{background-color:#0505050f;bottom:0;content:"";height:2px;position:absolute;width:100%}.el-anchor.el-anchor--horizontal.el-anchor--underline .el-anchor__marker{border-radius:unset;height:2px}.el-anchor__item{display:flex;flex-direction:column}.el-anchor__link{color:var(--el-anchor-color);cursor:pointer;font-size:var(--el-anchor-font-size);line-height:var(--el-anchor-line-height);max-width:100%;outline:none;overflow:hidden;padding:4px 0;text-decoration:none;text-overflow:ellipsis;transition:color var(--el-transition-duration);white-space:nowrap}.el-anchor__link:focus,.el-anchor__link:hover{color:var(--el-hover-color)}.el-anchor__link:focus-visible{border-radius:var(--el-border-radius-base);outline:2px solid var(--el-color-primary)}.el-anchor__link.is-active{color:var(--el-anchor-active-color)}.el-anchor .el-anchor__list .el-anchor__item a{display:inline-block}.el-segmented--vertical{flex-direction:column}.el-segmented--vertical .el-segmented__item{padding:11px}.el-segmented{--el-segmented-color:var(--el-text-color-regular);--el-segmented-bg-color:var(--el-fill-color-light);--el-segmented-padding:2px;--el-segmented-item-selected-color:var(--el-color-white);--el-segmented-item-selected-bg-color:var(--el-color-primary);--el-segmented-item-selected-disabled-bg-color:var(--el-color-primary-light-5);--el-segmented-item-hover-color:var(--el-text-color-primary);--el-segmented-item-hover-bg-color:var(--el-fill-color-dark);--el-segmented-item-active-bg-color:var(--el-fill-color-darker);--el-segmented-item-disabled-color:var(--el-text-color-placeholder);align-items:stretch;background:var(--el-segmented-bg-color);border-radius:var(--el-border-radius-base);box-sizing:border-box;color:var(--el-segmented-color);display:inline-flex;font-size:14px;min-height:32px;padding:var(--el-segmented-padding)}.el-segmented__group{align-items:stretch;display:flex;position:relative;width:100%}.el-segmented__item-selected{background:var(--el-segmented-item-selected-bg-color);border-radius:calc(var(--el-border-radius-base) - 2px);height:100%;left:0;pointer-events:none;position:absolute;top:0;transition:all .3s;width:10px}.el-segmented__item-selected.is-disabled{background:var(--el-segmented-item-selected-disabled-bg-color)}.el-segmented__item-selected.is-focus-visible:before{border-radius:inherit;content:"";inset:0;outline:2px solid var(--el-segmented-item-selected-bg-color);outline-offset:1px;position:absolute}.el-segmented__item{align-items:center;border-radius:calc(var(--el-border-radius-base) - 2px);cursor:pointer;display:flex;flex:1;padding:0 11px}.el-segmented__item:not(.is-disabled):not(.is-selected):hover{background:var(--el-segmented-item-hover-bg-color);color:var(--el-segmented-item-hover-color)}.el-segmented__item:not(.is-disabled):not(.is-selected):active{background:var(--el-segmented-item-active-bg-color)}.el-segmented__item.is-selected,.el-segmented__item.is-selected.is-disabled{color:var(--el-segmented-item-selected-color)}.el-segmented__item.is-disabled{color:var(--el-segmented-item-disabled-color);cursor:not-allowed}.el-segmented__item-input{height:0;margin:0;opacity:0;pointer-events:none;position:absolute;width:0}.el-segmented__item-label{flex:1;line-height:normal;overflow:hidden;text-align:center;text-overflow:ellipsis;transition:color .3s;white-space:nowrap;z-index:1}.el-segmented.is-block{display:flex}.el-segmented.is-block .el-segmented__item{min-width:0}.el-segmented--large{border-radius:var(--el-border-radius-base);font-size:16px;min-height:40px}.el-segmented--large .el-segmented__item-selected{border-radius:calc(var(--el-border-radius-base) - 2px)}.el-segmented--large .el-segmented--vertical .el-segmented__item{padding:11px}.el-segmented--large .el-segmented__item{border-radius:calc(var(--el-border-radius-base) - 2px);padding:0 11px}.el-segmented--small{border-radius:calc(var(--el-border-radius-base) - 1px);font-size:14px;min-height:24px}.el-segmented--small .el-segmented__item-selected{border-radius:calc(var(--el-border-radius-base) - 3px)}.el-segmented--small .el-segmented--vertical .el-segmented__item{padding:7px}.el-segmented--small .el-segmented__item{border-radius:calc(var(--el-border-radius-base) - 3px);padding:0 7px}.el-mention{position:relative;width:100%}.el-mention__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-mention__popper.el-popper,.el-mention__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-mention__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-mention-dropdown{--el-mention-font-size:var(--el-font-size-base);--el-mention-bg-color:var(--el-bg-color-overlay);--el-mention-shadow:var(--el-box-shadow-light);--el-mention-border:1px solid var(--el-border-color-light);--el-mention-option-color:var(--el-text-color-regular);--el-mention-option-height:34px;--el-mention-option-min-width:100px;--el-mention-option-hover-background:var(--el-fill-color-light);--el-mention-option-selected-color:var(--el-color-primary);--el-mention-option-disabled-color:var(--el-text-color-placeholder);--el-mention-option-loading-color:var(--el-text-color-secondary);--el-mention-option-loading-padding:10px 0;--el-mention-max-height:174px;--el-mention-padding:6px 0;--el-mention-header-padding:10px;--el-mention-footer-padding:10px}.el-mention-dropdown__item{box-sizing:border-box;color:var(--el-mention-option-color);cursor:pointer;font-size:var(--el-mention-font-size);height:var(--el-mention-option-height);line-height:var(--el-mention-option-height);min-width:var(--el-mention-option-min-width);overflow:hidden;padding:0 20px;position:relative;text-overflow:ellipsis;white-space:nowrap}.el-mention-dropdown__item.is-hovering{background-color:var(--el-mention-option-hover-background)}.el-mention-dropdown__item.is-selected{color:var(--el-mention-option-selected-color);font-weight:700}.el-mention-dropdown__item.is-disabled{background-color:unset;color:var(--el-mention-option-disabled-color);cursor:not-allowed}.el-mention-dropdown{border-radius:var(--el-border-radius-base);box-sizing:border-box;z-index:calc(var(--el-index-top) + 1)}.el-mention-dropdown__loading{color:var(--el-mention-option-loading-color);font-size:12px;margin:0;min-width:var(--el-mention-option-min-width);padding:10px 0;text-align:center}.el-mention-dropdown__wrap{max-height:var(--el-mention-max-height)}.el-mention-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:var(--el-mention-padding)}.el-mention-dropdown__header{border-bottom:var(--el-mention-border);padding:var(--el-mention-header-padding)}.el-mention-dropdown__footer{border-top:var(--el-mention-border);padding:var(--el-mention-footer-padding)}.el-splitter{display:flex;height:100%;margin:0;padding:0;position:relative;width:100%}.el-splitter__mask{inset:0;position:absolute;z-index:999}.el-splitter__mask-horizontal{cursor:ew-resize}.el-splitter__mask-vertical{cursor:ns-resize}.el-splitter__horizontal{flex-direction:row}.el-splitter__vertical{flex-direction:column}.el-splitter-bar{flex:none;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-splitter-bar__dragger{background:transparent;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:1}.el-splitter-bar__dragger:after,.el-splitter-bar__dragger:before{background-color:var(--el-border-color-light);content:"";left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-splitter-bar__dragger:not(.is-lazy):after{display:none}.el-splitter-bar__dragger:after{opacity:.4}.el-splitter-bar__dragger:hover:not(.is-disabled):before{background-color:var(--el-color-primary-light-5)}.el-splitter-bar__dragger-horizontal:after,.el-splitter-bar__dragger-horizontal:before{height:100%;width:2px}.el-splitter-bar__dragger-vertical:after,.el-splitter-bar__dragger-vertical:before{height:2px;width:100%}.el-splitter-bar__dragger-active:after,.el-splitter-bar__dragger-active:before{background-color:var(--el-color-primary-light-3)}.el-splitter-bar__dragger-active.el-splitter-bar__dragger-horizontal:after{transform:translate(calc(-50% + var(--el-splitter-bar-offset)),-50%)}.el-splitter-bar__dragger-active.el-splitter-bar__dragger-vertical:after{transform:translate(-50%,calc(-50% + var(--el-splitter-bar-offset)))}.el-splitter-bar:hover .el-splitter-bar__collapse-icon{opacity:1}.el-splitter-bar__collapse-icon{align-items:center;background:var(--el-border-color-light);border-radius:2px;cursor:pointer;display:flex;justify-content:center;opacity:0;position:absolute;z-index:9}.el-splitter-bar__collapse-icon:hover{background-color:var(--el-color-primary-light-5);opacity:1}.el-splitter-bar__horizontal-collapse-icon-start{height:24px;left:-12px;top:50%;transform:translate(-50%,-50%);width:16px}.el-splitter-bar__horizontal-collapse-icon-end{height:24px;left:12px;top:50%;transform:translate(-50%,-50%);width:16px}.el-splitter-bar__vertical-collapse-icon-start{height:16px;right:50%;top:-12px;transform:translate(50%,-50%);width:24px}.el-splitter-bar__vertical-collapse-icon-end{height:16px;right:50%;top:12px;transform:translate(50%,-50%);width:24px}.el-splitter-panel{box-sizing:border-box;flex-grow:0;overflow:auto;scrollbar-width:thin}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
