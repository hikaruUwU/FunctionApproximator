<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite App</title>
    <script type="module" crossorigin>var m8e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var i3n=m8e((Kl,Yl)=>{function v8e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function sq(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const es={},ew=[],Rn=()=>{},nve=()=>!1,EM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),oq=e=>e.startsWith("onUpdate:"),ko=Object.assign,iq=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},y8e=Object.prototype.hasOwnProperty,En=(e,t)=>y8e.call(e,t),De=Array.isArray,tw=e=>__(e)==="[object Map]",_M=e=>__(e)==="[object Set]",im=e=>__(e)==="[object Date]",ft=e=>typeof e=="function",ot=e=>typeof e=="string",Rc=e=>typeof e=="symbol",Pt=e=>e!==null&&typeof e=="object",f1=e=>(Pt(e)||ft(e))&&ft(e.then)&&ft(e.catch),rve=Object.prototype.toString,__=e=>rve.call(e),b8e=e=>__(e).slice(8,-1),bk=e=>__(e)==="[object Object]",TM=e=>ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,F$=sq(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),AM=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},w8e=/-\w/g,Na=AM(e=>e.replace(w8e,t=>t.slice(1).toUpperCase())),x8e=/\B([A-Z])/g,Cp=AM(e=>e.replace(x8e,"-$1").toLowerCase()),T_=AM(e=>e.charAt(0).toUpperCase()+e.slice(1)),M$=AM(e=>e?`on${T_(e)}`:""),Kg=(e,t)=>!Object.is(e,t),qD=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},sve=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},aq=e=>{const t=parseFloat(e);return isNaN(t)?e:t},C8e=e=>{const t=ot(e)?Number(e):NaN;return isNaN(t)?e:t};let Fre;const IM=()=>Fre||(Fre=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dt(e){if(De(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ot(r)?E8e(r):dt(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(ot(e)||Pt(e))return e}const S8e=/;(?![^(]*\))/g,$8e=/:([^]+)/,k8e=/\/\*[^]*?\*\//g;function E8e(e){const t={};return e.replace(k8e,"").split(S8e).forEach(n=>{if(n){const r=n.split($8e);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function V(e){let t="";if(ot(e))t=e;else if(De(e))for(let n=0;n<e.length;n++){const r=V(e[n]);r&&(t+=r+" ")}else if(Pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function zh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ot(t)&&(e.class=V(t)),n&&(e.style=dt(n)),e}const _8e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",T8e=sq(_8e);function ove(e){return!!e||e===""}function A8e(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=_w(e[r],t[r]);return n}function _w(e,t){if(e===t)return!0;let n=im(e),r=im(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Rc(e),r=Rc(t),n||r)return e===t;if(n=De(e),r=De(t),n||r)return n&&r?A8e(e,t):!1;if(n=Pt(e),r=Pt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!_w(e[i],t[i]))return!1}}return String(e)===String(t)}function ive(e,t){return e.findIndex(n=>_w(n,t))}const ave=e=>!!(e&&e.__v_isRef===!0),Fe=e=>ot(e)?e:e==null?"":De(e)||Pt(e)&&(e.toString===rve||!ft(e.toString))?ave(e)?Fe(e.value):JSON.stringify(e,lve,2):String(e),lve=(e,t)=>ave(t)?lve(e,t.value):tw(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[L5(r,o)+" =>"]=s,n),{})}:_M(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>L5(n))}:Rc(t)?L5(t):Pt(t)&&!De(t)&&!bk(t)?String(t):t,L5=(e,t="")=>{var n;return Rc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let Di;class uve{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Di,!t&&Di&&(this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Di;try{return Di=this,t()}finally{Di=n}}}on(){++this._on===1&&(this.prevScope=Di,Di=this)}off(){this._on>0&&--this._on===0&&(Di=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function I8e(e){return new uve(e)}function cve(){return Di}function fve(e,t=!1){Di&&Di.cleanups.push(e)}let is;const B5=new WeakSet;class dve{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Di&&Di.active&&Di.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,B5.has(this)&&(B5.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pve(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mre(this),gve(this);const t=is,n=Sc;is=this,Sc=!0;try{return this.fn()}finally{mve(this),is=t,Sc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)cq(t);this.deps=this.depsTail=void 0,Mre(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?B5.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){eV(this)&&this.run()}get dirty(){return eV(this)}}let hve=0,P$,L$;function pve(e,t=!1){if(e.flags|=8,t){e.next=L$,L$=e;return}e.next=P$,P$=e}function lq(){hve++}function uq(){if(--hve>0)return;if(L$){let t=L$;for(L$=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;P$;){let t=P$;for(P$=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function gve(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mve(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),cq(r),N8e(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function eV(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(vve(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function vve(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===wk)||(e.globalVersion=wk,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!eV(e))))return;e.flags|=2;const t=e.dep,n=is,r=Sc;is=e,Sc=!0;try{gve(e);const s=e.fn(e._value);(t.version===0||Kg(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{is=n,Sc=r,mve(e),e.flags&=-3}}function cq(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)cq(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function N8e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Sc=!0;const yve=[];function Qh(){yve.push(Sc),Sc=!1}function ep(){const e=yve.pop();Sc=e===void 0?!0:e}function Mre(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=is;is=void 0;try{t()}finally{is=n}}}let wk=0,D8e=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class fq{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!is||!Sc||is===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==is)n=this.activeLink=new D8e(is,this),is.deps?(n.prevDep=is.depsTail,is.depsTail.nextDep=n,is.depsTail=n):is.deps=is.depsTail=n,bve(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=is.depsTail,n.nextDep=void 0,is.depsTail.nextDep=n,is.depsTail=n,is.deps===n&&(is.deps=r)}return n}trigger(t){this.version++,wk++,this.notify(t)}notify(t){lq();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uq()}}}function bve(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)bve(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const cO=new WeakMap,Wv=Symbol(""),tV=Symbol(""),xk=Symbol("");function Li(e,t,n){if(Sc&&is){let r=cO.get(e);r||cO.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new fq),s.map=r,s.key=n),s.track()}}function Ch(e,t,n,r,s,o){const i=cO.get(e);if(!i){wk++;return}const a=l=>{l&&l.trigger()};if(lq(),t==="clear")i.forEach(a);else{const l=De(e),u=l&&TM(n);if(l&&n==="length"){const c=Number(r);i.forEach((f,d)=>{(d==="length"||d===xk||!Rc(d)&&d>=c)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(xk)),t){case"add":l?u&&a(i.get("length")):(a(i.get(Wv)),tw(e)&&a(i.get(tV)));break;case"delete":l||(a(i.get(Wv)),tw(e)&&a(i.get(tV)));break;case"set":tw(e)&&a(i.get(Wv));break}}uq()}function O8e(e,t){const n=cO.get(e);return n&&n.get(t)}function ub(e){const t=nr(e);return t===e?t:(Li(t,"iterate",xk),Xl(e)?t:t.map(Fc))}function NM(e){return Li(e=nr(e),"iterate",xk),e}function hg(e,t){return tp(e)?Uv(e)?Tw(Fc(t)):Tw(t):Fc(t)}const R8e={__proto__:null,[Symbol.iterator](){return z5(this,Symbol.iterator,e=>hg(this,e))},concat(...e){return ub(this).concat(...e.map(t=>De(t)?ub(t):t))},entries(){return z5(this,"entries",e=>(e[1]=hg(this,e[1]),e))},every(e,t){return oh(this,"every",e,t,void 0,arguments)},filter(e,t){return oh(this,"filter",e,t,n=>n.map(r=>hg(this,r)),arguments)},find(e,t){return oh(this,"find",e,t,n=>hg(this,n),arguments)},findIndex(e,t){return oh(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return oh(this,"findLast",e,t,n=>hg(this,n),arguments)},findLastIndex(e,t){return oh(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return oh(this,"forEach",e,t,void 0,arguments)},includes(...e){return V5(this,"includes",e)},indexOf(...e){return V5(this,"indexOf",e)},join(e){return ub(this).join(e)},lastIndexOf(...e){return V5(this,"lastIndexOf",e)},map(e,t){return oh(this,"map",e,t,void 0,arguments)},pop(){return oS(this,"pop")},push(...e){return oS(this,"push",e)},reduce(e,...t){return Pre(this,"reduce",e,t)},reduceRight(e,...t){return Pre(this,"reduceRight",e,t)},shift(){return oS(this,"shift")},some(e,t){return oh(this,"some",e,t,void 0,arguments)},splice(...e){return oS(this,"splice",e)},toReversed(){return ub(this).toReversed()},toSorted(e){return ub(this).toSorted(e)},toSpliced(...e){return ub(this).toSpliced(...e)},unshift(...e){return oS(this,"unshift",e)},values(){return z5(this,"values",e=>hg(this,e))}};function z5(e,t,n){const r=NM(e),s=r[t]();return r!==e&&!Xl(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const F8e=Array.prototype;function oh(e,t,n,r,s,o){const i=NM(e),a=i!==e&&!Xl(e),l=i[t];if(l!==F8e[t]){const f=l.apply(e,o);return a?Fc(f):f}let u=n;i!==e&&(a?u=function(f,d){return n.call(this,hg(e,f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=l.call(i,u,r);return a&&s?s(c):c}function Pre(e,t,n,r){const s=NM(e);let o=n;return s!==e&&(Xl(e)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,e)}):o=function(i,a,l){return n.call(this,i,hg(e,a),l,e)}),s[t](o,...r)}function V5(e,t,n){const r=nr(e);Li(r,"iterate",xk);const s=r[t](...n);return(s===-1||s===!1)&&DM(n[0])?(n[0]=nr(n[0]),r[t](...n)):s}function oS(e,t,n=[]){Qh(),lq();const r=nr(e)[t].apply(e,n);return uq(),ep(),r}const M8e=sq("__proto__,__v_isRef,__isVue"),wve=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rc));function P8e(e){Rc(e)||(e=String(e));const t=nr(this);return Li(t,"has",e),t.hasOwnProperty(e)}class xve{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?G8e:kve:o?$ve:Sve).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=De(t);if(!s){let l;if(i&&(l=R8e[n]))return l;if(n==="hasOwnProperty")return P8e}const a=Reflect.get(t,n,fr(t)?t:r);if((Rc(n)?wve.has(n):M8e(n))||(s||Li(t,"get",n),o))return a;if(fr(a)){const l=i&&TM(n)?a:a.value;return s&&Pt(l)?d1(l):l}return Pt(a)?s?d1(a):In(a):a}}class Cve extends xve{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];const i=De(t)&&TM(n);if(!this._isShallow){const u=tp(o);if(!Xl(r)&&!tp(r)&&(o=nr(o),r=nr(r)),!i&&fr(o)&&!fr(r))return u||(o.value=r),!0}const a=i?Number(n)<t.length:En(t,n),l=Reflect.set(t,n,r,fr(t)?t:s);return t===nr(s)&&(a?Kg(r,o)&&Ch(t,"set",n,r):Ch(t,"add",n,r)),l}deleteProperty(t,n){const r=En(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ch(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Rc(n)||!wve.has(n))&&Li(t,"has",n),r}ownKeys(t){return Li(t,"iterate",De(t)?"length":Wv),Reflect.ownKeys(t)}}class L8e extends xve{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const B8e=new Cve,z8e=new L8e,V8e=new Cve(!0),nV=e=>e,BI=e=>Reflect.getPrototypeOf(e);function W8e(e,t,n){return function(...r){const s=this.__v_raw,o=nr(s),i=tw(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=s[e](...r),c=n?nV:t?Tw:Fc;return!t&&Li(o,"iterate",l?tV:Wv),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function zI(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function U8e(e,t){const n={get(s){const o=this.__v_raw,i=nr(o),a=nr(s);e||(Kg(s,a)&&Li(i,"get",s),Li(i,"get",a));const{has:l}=BI(i),u=t?nV:e?Tw:Fc;if(l.call(i,s))return u(o.get(s));if(l.call(i,a))return u(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!e&&Li(nr(s),"iterate",Wv),s.size},has(s){const o=this.__v_raw,i=nr(o),a=nr(s);return e||(Kg(s,a)&&Li(i,"has",s),Li(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,l=nr(a),u=t?nV:e?Tw:Fc;return!e&&Li(l,"iterate",Wv),a.forEach((c,f)=>s.call(o,u(c),u(f),i))}};return ko(n,e?{add:zI("add"),set:zI("set"),delete:zI("delete"),clear:zI("clear")}:{add(s){!t&&!Xl(s)&&!tp(s)&&(s=nr(s));const o=nr(this);return BI(o).has.call(o,s)||(o.add(s),Ch(o,"add",s,s)),this},set(s,o){!t&&!Xl(o)&&!tp(o)&&(o=nr(o));const i=nr(this),{has:a,get:l}=BI(i);let u=a.call(i,s);u||(s=nr(s),u=a.call(i,s));const c=l.call(i,s);return i.set(s,o),u?Kg(o,c)&&Ch(i,"set",s,o):Ch(i,"add",s,o),this},delete(s){const o=nr(this),{has:i,get:a}=BI(o);let l=i.call(o,s);l||(s=nr(s),l=i.call(o,s)),a&&a.call(o,s);const u=o.delete(s);return l&&Ch(o,"delete",s,void 0),u},clear(){const s=nr(this),o=s.size!==0,i=s.clear();return o&&Ch(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=W8e(s,e,t)}),n}function dq(e,t){const n=U8e(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(En(n,s)&&s in r?n:r,s,o)}const j8e={get:dq(!1,!1)},H8e={get:dq(!1,!0)},q8e={get:dq(!0,!1)},Sve=new WeakMap,$ve=new WeakMap,kve=new WeakMap,G8e=new WeakMap;function K8e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Y8e(e){return e.__v_skip||!Object.isExtensible(e)?0:K8e(b8e(e))}function In(e){return tp(e)?e:pq(e,!1,B8e,j8e,Sve)}function hq(e){return pq(e,!1,V8e,H8e,$ve)}function d1(e){return pq(e,!0,z8e,q8e,kve)}function pq(e,t,n,r,s){if(!Pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Y8e(e);if(o===0)return e;const i=s.get(e);if(i)return i;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Uv(e){return tp(e)?Uv(e.__v_raw):!!(e&&e.__v_isReactive)}function tp(e){return!!(e&&e.__v_isReadonly)}function Xl(e){return!!(e&&e.__v_isShallow)}function DM(e){return e?!!e.__v_raw:!1}function nr(e){const t=e&&e.__v_raw;return t?nr(t):e}function Vh(e){return!En(e,"__v_skip")&&Object.isExtensible(e)&&sve(e,"__v_skip",!0),e}const Fc=e=>Pt(e)?In(e):e,Tw=e=>Pt(e)?d1(e):e;function fr(e){return e?e.__v_isRef===!0:!1}function j(e){return Eve(e,!1)}function cr(e){return Eve(e,!0)}function Eve(e,t){return fr(e)?e:new X8e(e,t)}class X8e{constructor(t,n){this.dep=new fq,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:nr(t),this._value=n?t:Fc(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Xl(t)||tp(t);t=r?t:nr(t),Kg(t,n)&&(this._rawValue=t,this._value=r?t:Fc(t),this.dep.trigger())}}function GD(e){e.dep&&e.dep.trigger()}function x(e){return fr(e)?e.value:e}const Z8e={get:(e,t,n)=>t==="__v_raw"?e:x(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return fr(s)&&!fr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function _ve(e){return Uv(e)?e:new Proxy(e,Z8e)}function ao(e){const t=De(e)?new Array(e.length):{};for(const n in e)t[n]=Tve(e,n);return t}class J8e{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=nr(t);let s=!0,o=t;if(!De(t)||!TM(String(n)))do s=!DM(o)||Xl(o);while(s&&(o=o.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=x(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&fr(this._raw[this._key])){const n=this._object[this._key];if(fr(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return O8e(this._raw,this._key)}}class Q8e{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Bn(e,t,n){return fr(e)?e:ft(e)?new Q8e(e):Pt(e)&&arguments.length>1?Tve(e,t,n):j(e)}function Tve(e,t,n){return new J8e(e,t,n)}class eze{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fq(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wk-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&is!==this)return pve(this,!0),!0}get value(){const t=this.dep.track();return vve(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tze(e,t,n=!1){let r,s;return ft(e)?r=e:(r=e.get,s=e.set),new eze(r,s,n)}const VI={},fO=new WeakMap;let nv;function nze(e,t=!1,n=nv){if(n){let r=fO.get(n);r||fO.set(n,r=[]),r.push(e)}}function rze(e,t,n=es){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:l}=n,u=b=>s?b:Xl(b)||s===!1||s===0?Sh(b,1):Sh(b);let c,f,d,h,p=!1,g=!1;if(fr(e)?(f=()=>e.value,p=Xl(e)):Uv(e)?(f=()=>u(e),p=!0):De(e)?(g=!0,p=e.some(b=>Uv(b)||Xl(b)),f=()=>e.map(b=>{if(fr(b))return b.value;if(Uv(b))return u(b);if(ft(b))return l?l(b,2):b()})):ft(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Qh();try{d()}finally{ep()}}const b=nv;nv=c;try{return l?l(e,3,[h]):e(h)}finally{nv=b}}:f=Rn,t&&s){const b=f,C=s===!0?1/0:s;f=()=>Sh(b(),C)}const m=cve(),v=()=>{c.stop(),m&&m.active&&iq(m.effects,c)};if(o&&t){const b=t;t=(...C)=>{b(...C),v()}}let y=g?new Array(e.length).fill(VI):VI;const w=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const C=c.run();if(s||p||(g?C.some((S,$)=>Kg(S,y[$])):Kg(C,y))){d&&d();const S=nv;nv=c;try{const $=[C,y===VI?void 0:g&&y[0]===VI?[]:y,h];y=C,l?l(t,3,$):t(...$)}finally{nv=S}}}else c.run()};return a&&a(w),c=new dve(f),c.scheduler=i?()=>i(w,!1):w,h=b=>nze(b,!1,c),d=c.onStop=()=>{const b=fO.get(c);if(b){if(l)l(b,4);else for(const C of b)C();fO.delete(c)}},t?r?w(!0):y=c.run():i?i(w.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function Sh(e,t=1/0,n){if(t<=0||!Pt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,fr(e))Sh(e.value,t,n);else if(De(e))for(let r=0;r<e.length;r++)Sh(e[r],t,n);else if(_M(e)||tw(e))e.forEach(r=>{Sh(r,t,n)});else if(bk(e)){for(const r in e)Sh(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Sh(e[r],t,n)}return e}function A_(e,t,n,r){try{return r?e(...r):e()}catch(s){OM(s,t,n)}}function Mc(e,t,n,r){if(ft(e)){const s=A_(e,t,n,r);return s&&f1(s)&&s.catch(o=>{OM(o,t,n)}),s}if(De(e)){const s=[];for(let o=0;o<e.length;o++)s.push(Mc(e[o],t,n,r));return s}}function OM(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||es;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(o){Qh(),A_(o,null,10,[e,l,u]),ep();return}}sze(e,n,s,r,i)}function sze(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const wa=[];let Ef=-1;const nw=[];let pg=null,Fb=0;const Ave=Promise.resolve();let dO=null;function Ye(e){const t=dO||Ave;return e?t.then(this?e.bind(this):e):t}function oze(e){let t=Ef+1,n=wa.length;for(;t<n;){const r=t+n>>>1,s=wa[r],o=Ck(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function gq(e){if(!(e.flags&1)){const t=Ck(e),n=wa[wa.length-1];!n||!(e.flags&2)&&t>=Ck(n)?wa.push(e):wa.splice(oze(t),0,e),e.flags|=1,Ive()}}function Ive(){dO||(dO=Ave.then(Dve))}function ize(e){De(e)?nw.push(...e):pg&&e.id===-1?pg.splice(Fb+1,0,e):e.flags&1||(nw.push(e),e.flags|=1),Ive()}function Lre(e,t,n=Ef+1){for(;n<wa.length;n++){const r=wa[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;wa.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Nve(e){if(nw.length){const t=[...new Set(nw)].sort((n,r)=>Ck(n)-Ck(r));if(nw.length=0,pg){pg.push(...t);return}for(pg=t,Fb=0;Fb<pg.length;Fb++){const n=pg[Fb];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pg=null,Fb=0}}const Ck=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Dve(e){try{for(Ef=0;Ef<wa.length;Ef++){const t=wa[Ef];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),A_(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ef<wa.length;Ef++){const t=wa[Ef];t&&(t.flags&=-2)}Ef=-1,wa.length=0,Nve(),dO=null,(wa.length||nw.length)&&Dve()}}let ci=null,Ove=null;function hO(e){const t=ci;return ci=e,Ove=e&&e.type.__scopeId||null,t}function ie(e,t=ci,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&mO(-1);const o=hO(t);let i;try{i=e(...s)}finally{hO(o),r._d&&mO(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Lt(e,t){if(ci===null)return e;const n=BM(ci),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,i,a,l=es]=t[s];o&&(ft(o)&&(o={mounted:o,updated:o}),o.deep&&Sh(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function O0(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let l=a.dir[r];l&&(Qh(),Mc(l,n,8,[e.el,a,e,t]),ep())}}function ln(e,t){if(Vi){let n=Vi.provides;const r=Vi.parent&&Vi.parent.provides;r===n&&(n=Vi.provides=Object.create(r)),n[e]=t}}function tt(e,t,n=!1){const r=Ut();if(r||sw){let s=sw?sw._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ft(t)?t.call(r&&r.proxy):t}}const aze=Symbol.for("v-scx"),lze=()=>tt(aze);function gl(e,t){return mq(e,null,t)}function xe(e,t,n){return mq(e,t,n)}function mq(e,t,n=es){const{immediate:r,deep:s,flush:o,once:i}=n,a=ko({},n),l=t&&r||!t&&o!=="post";let u;if(kk){if(o==="sync"){const h=lze();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Rn,h.resume=Rn,h.pause=Rn,h}}const c=Vi;a.call=(h,p,g)=>Mc(h,c,p,g);let f=!1;o==="post"?a.scheduler=h=>{va(h,c&&c.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():gq(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=rze(e,t,a);return kk&&(u?u.push(d):l&&d()),d}function uze(e,t,n){const r=this.proxy,s=ot(e)?e.includes(".")?Rve(r,e):()=>r[e]:e.bind(r,r);let o;ft(t)?o=t:(o=t.handler,n=t);const i=I_(this),a=mq(s,o.bind(r),n);return i(),a}function Rve(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Fve=Symbol("_vte"),Mve=e=>e.__isTeleport,B$=e=>e&&(e.disabled||e.disabled===""),Bre=e=>e&&(e.defer||e.defer===""),zre=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Vre=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,rV=(e,t)=>{const n=e&&e.to;return ot(n)?t?t(n):null:n},Pve={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,o,i,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:g,createComment:m}}=u,v=B$(t.props);let{shapeFlag:y,children:w,dynamicChildren:b}=t;if(e==null){const C=t.el=g(""),S=t.anchor=g("");h(C,n,r),h(S,n,r);const $=(T,_)=>{y&16&&c(w,T,_,s,o,i,a,l)},k=()=>{const T=t.target=rV(t.props,p),_=Lve(T,t,g,h);T&&(i!=="svg"&&zre(T)?i="svg":i!=="mathml"&&Vre(T)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(T),v||($(T,_),KD(t,!1)))};v&&($(n,S),KD(t,!0)),Bre(t.props)?(t.el.__isMounted=!1,va(()=>{k(),delete t.el.__isMounted},o)):k()}else{if(Bre(t.props)&&e.el.__isMounted===!1){va(()=>{Pve.process(e,t,n,r,s,o,i,a,l,u)},o);return}t.el=e.el,t.targetStart=e.targetStart;const C=t.anchor=e.anchor,S=t.target=e.target,$=t.targetAnchor=e.targetAnchor,k=B$(e.props),T=k?n:S,_=k?C:$;if(i==="svg"||zre(S)?i="svg":(i==="mathml"||Vre(S))&&(i="mathml"),b?(d(e.dynamicChildren,b,T,s,o,i,a),$q(e,t,!0)):l||f(e,t,T,_,s,o,i,a,!1),v)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):WI(t,n,C,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=rV(t.props,p);E&&WI(t,E,null,u,0)}else k&&WI(t,S,$,u,1);KD(t,v)}},remove(e,t,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(s(u),s(c)),o&&s(l),i&16){const h=o||!B$(d);for(let p=0;p<a.length;p++){const g=a[p];r(g,t,n,h,!!g.dynamicChildren)}}},move:WI,hydrate:cze};function WI(e,t,n,{o:{insert:r},m:s},o=2){o===0&&r(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:l,children:u,props:c}=e,f=o===2;if(f&&r(i,t,n),(!f||B$(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],t,n,2);f&&r(a,t,n)}function cze(e,t,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:u,createText:c}},f){function d(g,m,v,y){m.anchor=f(i(g),m,a(g),n,r,s,o),m.targetStart=v,m.targetAnchor=y}const h=t.target=rV(t.props,l),p=B$(t.props);if(h){const g=h._lpa||h.firstChild;if(t.shapeFlag&16)if(p)d(e,t,g,g&&i(g));else{t.anchor=i(e);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}}m=i(m)}t.targetAnchor||Lve(h,t,c,u),f(g&&i(g),t,h,n,r,s,o)}KD(t,p)}else p&&t.shapeFlag&16&&d(e,t,e,i(e));return t.anchor&&i(t.anchor)}const fze=Pve;function KD(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Lve(e,t,n,r){const s=t.targetStart=n(""),o=t.targetAnchor=n("");return s[Fve]=o,e&&(r(s,e),r(o,e)),o}const ph=Symbol("_leaveCb"),UI=Symbol("_enterCb");function Bve(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht(()=>{e.isMounted=!0}),Dn(()=>{e.isUnmounting=!0}),e}const cu=[Function,Array],zve={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cu,onEnter:cu,onAfterEnter:cu,onEnterCancelled:cu,onBeforeLeave:cu,onLeave:cu,onAfterLeave:cu,onLeaveCancelled:cu,onBeforeAppear:cu,onAppear:cu,onAfterAppear:cu,onAppearCancelled:cu},Vve=e=>{const t=e.subTree;return t.component?Vve(t.component):t},dze={name:"BaseTransition",props:zve,setup(e,{slots:t}){const n=Ut(),r=Bve();return()=>{const s=t.default&&vq(t.default(),!0);if(!s||!s.length)return;const o=Wve(s),i=nr(e),{mode:a}=i;if(r.isLeaving)return W5(o);const l=Wre(o);if(!l)return W5(o);let u=Sk(l,i,r,n,f=>u=f);l.type!==ps&&h1(l,u);let c=n.subTree&&Wre(n.subTree);if(c&&c.type!==ps&&!cv(c,l)&&Vve(n).type!==ps){let f=Sk(c,i,r,n);if(h1(c,f),a==="out-in"&&l.type!==ps)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},W5(o);a==="in-out"&&l.type!==ps?f.delayLeave=(d,h,p)=>{const g=Uve(r,c);g[String(c.key)]=c,d[ph]=()=>{h(),d[ph]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function Wve(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ps){t=n;break}}return t}const hze=dze;function Uve(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Sk(e,t,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:w}=t,b=String(e.key),C=Uve(n,e),S=(T,_)=>{T&&Mc(T,r,9,_)},$=(T,_)=>{const E=_[1];S(T,_),De(T)?T.every(A=>A.length<=1)&&E():T.length<=1&&E()},k={mode:i,persisted:a,beforeEnter(T){let _=l;if(!n.isMounted)if(o)_=m||l;else return;T[ph]&&T[ph](!0);const E=C[b];E&&cv(e,E)&&E.el[ph]&&E.el[ph](),S(_,[T])},enter(T){let _=u,E=c,A=f;if(!n.isMounted)if(o)_=v||u,E=y||c,A=w||f;else return;let N=!1;const F=T[UI]=R=>{N||(N=!0,R?S(A,[T]):S(E,[T]),k.delayedLeave&&k.delayedLeave(),T[UI]=void 0)};_?$(_,[T,F]):F()},leave(T,_){const E=String(e.key);if(T[UI]&&T[UI](!0),n.isUnmounting)return _();S(d,[T]);let A=!1;const N=T[ph]=F=>{A||(A=!0,_(),F?S(g,[T]):S(p,[T]),T[ph]=void 0,C[E]===e&&delete C[E])};C[E]=e,h?$(h,[T,N]):N()},clone(T){const _=Sk(T,t,n,r,s);return s&&s(_),_}};return k}function W5(e){if(RM(e))return e=np(e),e.children=null,e}function Wre(e){if(!RM(e))return Mve(e.type)&&e.children?Wve(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ft(n.default))return n.default()}}function h1(e,t){e.shapeFlag&6&&e.component?(e.transition=t,h1(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vq(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let i=e[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===it?(i.patchFlag&128&&s++,r=r.concat(vq(i.children,t,a))):(t||i.type!==ps)&&r.push(a!=null?np(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function me(e,t){return ft(e)?ko({name:e.name},t,{setup:e}):e}function jve(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pO=new WeakMap;function z$(e,t,n,r,s=!1){if(De(e)){e.forEach((p,g)=>z$(p,t&&(De(t)?t[g]:t),n,r,s));return}if(rw(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&z$(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?BM(r.component):r.el,i=s?null:o,{i:a,r:l}=e,u=t&&t.r,c=a.refs===es?a.refs={}:a.refs,f=a.setupState,d=nr(f),h=f===es?nve:p=>En(d,p);if(u!=null&&u!==l){if(Ure(t),ot(u))c[u]=null,h(u)&&(f[u]=null);else if(fr(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(ft(l))A_(l,a,12,[i,c]);else{const p=ot(l),g=fr(l);if(p||g){const m=()=>{if(e.f){const v=p?h(l)?f[l]:c[l]:l.value;if(s)De(v)&&iq(v,o);else if(De(v))v.includes(o)||v.push(o);else if(p)c[l]=[o],h(l)&&(f[l]=c[l]);else{const y=[o];l.value=y,e.k&&(c[e.k]=y)}}else p?(c[l]=i,h(l)&&(f[l]=i)):g&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const v=()=>{m(),pO.delete(e)};v.id=-1,pO.set(e,v),va(v,n)}else Ure(e),m()}}}function Ure(e){const t=pO.get(e);t&&(t.flags|=8,pO.delete(e))}IM().requestIdleCallback;IM().cancelIdleCallback;const rw=e=>!!e.type.__asyncLoader,RM=e=>e.type.__isKeepAlive;function FM(e,t){qve(e,"a",t)}function Hve(e,t){qve(e,"da",t)}function qve(e,t,n=Vi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(MM(t,r,n),n){let s=n.parent;for(;s&&s.parent;)RM(s.parent.vnode)&&pze(r,t,n,s),s=s.parent}}function pze(e,t,n,r){const s=MM(t,e,r,!0);Yx(()=>{iq(r[t],s)},n)}function MM(e,t,n=Vi,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{Qh();const a=I_(n),l=Mc(t,n,e,i);return a(),ep(),l});return r?s.unshift(o):s.push(o),o}}const Sp=e=>(t,n=Vi)=>{(!kk||e==="sp")&&MM(e,(...r)=>t(...r),n)},PM=Sp("bm"),Ht=Sp("m"),yq=Sp("bu"),Yc=Sp("u"),Dn=Sp("bum"),Yx=Sp("um"),gze=Sp("sp"),mze=Sp("rtg"),vze=Sp("rtc");function yze(e,t=Vi){MM("ec",e,t)}const bq="components",bze="directives";function Qt(e,t){return xq(bq,e,!0,t)||e}const Gve=Symbol.for("v-ndc");function zt(e){return ot(e)?xq(bq,e,!1)||e:e||Gve}function wq(e){return xq(bze,e)}function xq(e,t,n=!0,r=!1){const s=ci||Vi;if(s){const o=s.type;if(e===bq){const a=t9e(o,!1);if(a&&(a===t||a===Na(t)||a===T_(Na(t))))return o}const i=jre(s[e]||o[e],t)||jre(s.appContext[e],t);return!i&&r?o:i}}function jre(e,t){return e&&(e[t]||e[Na(t)]||e[T_(Na(t))])}function Xt(e,t,n,r){let s;const o=n,i=De(e);if(i||ot(e)){const a=i&&Uv(e);let l=!1,u=!1;a&&(l=!Xl(e),u=tp(e),e=NM(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?u?Tw(Fc(e[c])):Fc(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o)}else if(Pt(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];s[l]=t(e[c],c,l,o)}}else s=[];return s}function ml(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(De(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const o=r.fn(...s);return o&&(o.key=r.key),o}:r.fn)}return e}function ce(e,t,n={},r,s){if(ci.ce||ci.parent&&rw(ci.parent)&&ci.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),B(),pe(it,null,[ee("slot",n,r&&r())],u?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),B();const i=o&&Kve(o(n)),a=n.key||i&&i.key,l=pe(it,{key:(a&&!Rc(a)?a:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Kve(e){return e.some(t=>or(t)?!(t.type===ps||t.type===it&&!Kve(t.children)):!0)?e:null}function wze(e,t){const n={};for(const r in e)n[M$(r)]=e[r];return n}const sV=e=>e?h1e(e)?BM(e):sV(e.parent):null,V$=ko(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sV(e.parent),$root:e=>sV(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zve(e),$forceUpdate:e=>e.f||(e.f=()=>{gq(e.update)}),$nextTick:e=>e.n||(e.n=Ye.bind(e.proxy)),$watch:e=>uze.bind(e)}),U5=(e,t)=>e!==es&&!e.__isScriptSetup&&En(e,t),xze={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:l}=e;if(t[0]!=="$"){const d=i[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(U5(r,t))return i[t]=1,r[t];if(s!==es&&En(s,t))return i[t]=2,s[t];if(En(o,t))return i[t]=3,o[t];if(n!==es&&En(n,t))return i[t]=4,n[t];oV&&(i[t]=0)}}const u=V$[t];let c,f;if(u)return t==="$attrs"&&Li(e.attrs,"get",""),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==es&&En(n,t))return i[t]=4,n[t];if(f=l.config.globalProperties,En(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return U5(s,t)?(s[t]=n,!0):r!==es&&En(r,t)?(r[t]=n,!0):En(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:o,type:i}},a){let l;return!!(n[a]||e!==es&&a[0]!=="$"&&En(e,a)||U5(t,a)||En(o,a)||En(r,a)||En(V$,a)||En(s.config.globalProperties,a)||(l=i.__cssModules)&&l[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:En(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ms(){return Yve().slots}function $p(){return Yve().attrs}function Yve(e){const t=Ut();return t.setupContext||(t.setupContext=g1e(t))}function Hre(e){return De(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let oV=!0;function Cze(e){const t=Zve(e),n=e.proxy,r=e.ctx;oV=!1,t.beforeCreate&&qre(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:w,unmounted:b,render:C,renderTracked:S,renderTriggered:$,errorCaptured:k,serverPrefetch:T,expose:_,inheritAttrs:E,components:A,directives:N,filters:F}=t;if(u&&Sze(u,r,null),i)for(const I in i){const D=i[I];ft(D)&&(r[I]=D.bind(n))}if(s){const I=s.call(n,n);Pt(I)&&(e.data=In(I))}if(oV=!0,o)for(const I in o){const D=o[I],M=ft(D)?D.bind(n,n):ft(D.get)?D.get.bind(n,n):Rn,z=!ft(D)&&ft(D.set)?D.set.bind(n):Rn,W=O({get:M,set:z});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>W.value,set:H=>W.value=H})}if(a)for(const I in a)Xve(a[I],r,n,I);if(l){const I=ft(l)?l.call(n):l;Reflect.ownKeys(I).forEach(D=>{ln(D,I[D])})}c&&qre(c,e,"c");function P(I,D){De(D)?D.forEach(M=>I(M.bind(n))):D&&I(D.bind(n))}if(P(PM,f),P(Ht,d),P(yq,h),P(Yc,p),P(FM,g),P(Hve,m),P(yze,k),P(vze,S),P(mze,$),P(Dn,y),P(Yx,b),P(gze,T),De(_))if(_.length){const I=e.exposed||(e.exposed={});_.forEach(D=>{Object.defineProperty(I,D,{get:()=>n[D],set:M=>n[D]=M,enumerable:!0})})}else e.exposed||(e.exposed={});C&&e.render===Rn&&(e.render=C),E!=null&&(e.inheritAttrs=E),A&&(e.components=A),N&&(e.directives=N),T&&jve(e)}function Sze(e,t,n=Rn){De(e)&&(e=iV(e));for(const r in e){const s=e[r];let o;Pt(s)?"default"in s?o=tt(s.from||r,s.default,!0):o=tt(s.from||r):o=tt(s),fr(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[r]=o}}function qre(e,t,n){Mc(De(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xve(e,t,n,r){let s=r.includes(".")?Rve(n,r):()=>n[r];if(ot(e)){const o=t[e];ft(o)&&xe(s,o)}else if(ft(e))xe(s,e.bind(n));else if(Pt(e))if(De(e))e.forEach(o=>Xve(o,t,n,r));else{const o=ft(e.handler)?e.handler.bind(n):t[e.handler];ft(o)&&xe(s,o,e)}}function Zve(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>gO(l,u,i,!0)),gO(l,t,i)),Pt(t)&&o.set(t,l),l}function gO(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&gO(e,o,n,!0),s&&s.forEach(i=>gO(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=$ze[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const $ze={data:Gre,props:Kre,emits:Kre,methods:JS,computed:JS,beforeCreate:ma,created:ma,beforeMount:ma,mounted:ma,beforeUpdate:ma,updated:ma,beforeDestroy:ma,beforeUnmount:ma,destroyed:ma,unmounted:ma,activated:ma,deactivated:ma,errorCaptured:ma,serverPrefetch:ma,components:JS,directives:JS,watch:Eze,provide:Gre,inject:kze};function Gre(e,t){return t?e?function(){return ko(ft(e)?e.call(this,this):e,ft(t)?t.call(this,this):t)}:t:e}function kze(e,t){return JS(iV(e),iV(t))}function iV(e){if(De(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ma(e,t){return e?[...new Set([].concat(e,t))]:t}function JS(e,t){return e?ko(Object.create(null),e,t):t}function Kre(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:ko(Object.create(null),Hre(e),Hre(t??{})):t}function Eze(e,t){if(!e)return t;if(!t)return e;const n=ko(Object.create(null),e);for(const r in t)n[r]=ma(e[r],t[r]);return n}function Jve(){return{app:null,config:{isNativeTag:nve,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _ze=0;function Tze(e,t){return function(r,s=null){ft(r)||(r=ko({},r)),s!=null&&!Pt(s)&&(s=null);const o=Jve(),i=new WeakSet,a=[];let l=!1;const u=o.app={_uid:_ze++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:r9e,get config(){return o.config},set config(c){},use(c,...f){return i.has(c)||(c&&ft(c.install)?(i.add(c),c.install(u,...f)):ft(c)&&(i.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||ee(r,s);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,BM(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Mc(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=sw;sw=u;try{return c()}finally{sw=f}}};return u}}let sw=null;const Aze=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Na(t)}Modifiers`]||e[`${Cp(t)}Modifiers`];function Ize(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||es;let s=n;const o=t.startsWith("update:"),i=o&&Aze(r,t.slice(7));i&&(i.trim&&(s=n.map(c=>ot(c)?c.trim():c)),i.number&&(s=n.map(aq)));let a,l=r[a=M$(t)]||r[a=M$(Na(t))];!l&&o&&(l=r[a=M$(Cp(t))]),l&&Mc(l,e,6,s);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Mc(u,e,6,s)}}const Nze=new WeakMap;function Qve(e,t,n=!1){const r=n?Nze:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},a=!1;if(!ft(e)){const l=u=>{const c=Qve(u,t,!0);c&&(a=!0,ko(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Pt(e)&&r.set(e,null),null):(De(o)?o.forEach(l=>i[l]=null):ko(i,o),Pt(e)&&r.set(e,i),i)}function LM(e,t){return!e||!EM(t)?!1:(t=t.slice(2).replace(/Once$/,""),En(e,t[0].toLowerCase()+t.slice(1))||En(e,Cp(t))||En(e,t))}function Yre(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:g}=e,m=hO(e);let v,y;try{if(n.shapeFlag&4){const b=s||r,C=b;v=Tf(u.call(C,b,c,f,h,d,p)),y=a}else{const b=t;v=Tf(b.length>1?b(f,{attrs:a,slots:i,emit:l}):b(f,null)),y=t.props?a:Dze(a)}}catch(b){W$.length=0,OM(b,e,1),v=ee(ps)}let w=v;if(y&&g!==!1){const b=Object.keys(y),{shapeFlag:C}=w;b.length&&C&7&&(o&&b.some(oq)&&(y=Oze(y,o)),w=np(w,y,!1,!0))}return n.dirs&&(w=np(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&h1(w,n.transition),v=w,hO(m),v}const Dze=e=>{let t;for(const n in e)(n==="class"||n==="style"||EM(n))&&((t||(t={}))[n]=e[n]);return t},Oze=(e,t)=>{const n={};for(const r in e)(!oq(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Rze(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Xre(r,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(i[d]!==r[d]&&!LM(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?Xre(r,i,u):!0:!!i;return!1}function Xre(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!LM(n,o))return!0}return!1}function Fze({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const e1e={},t1e=()=>Object.create(e1e),n1e=e=>Object.getPrototypeOf(e)===e1e;function Mze(e,t,n,r=!1){const s={},o=t1e();e.propsDefaults=Object.create(null),r1e(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:hq(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function Pze(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,a=nr(s),[l]=e.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(LM(e.emitsOptions,d))continue;const h=t[d];if(l)if(En(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=Na(d);s[p]=aV(l,a,p,h,e,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{r1e(e,t,s,o)&&(u=!0);let c;for(const f in a)(!t||!En(t,f)&&((c=Cp(f))===f||!En(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=aV(l,a,f,void 0,e,!0)):delete s[f]);if(o!==a)for(const f in o)(!t||!En(t,f))&&(delete o[f],u=!0)}u&&Ch(e.attrs,"set","")}function r1e(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(F$(l))continue;const u=t[l];let c;s&&En(s,c=Na(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:LM(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(o){const l=nr(n),u=a||es;for(let c=0;c<o.length;c++){const f=o[c];n[f]=aV(s,l,f,u[f],e,!En(u,f))}}return i}function aV(e,t,n,r,s,o){const i=e[n];if(i!=null){const a=En(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ft(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=I_(s);r=u[n]=l.call(null,t),c()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Cp(n))&&(r=!0))}return r}const Lze=new WeakMap;function s1e(e,t,n=!1){const r=n?Lze:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},a=[];let l=!1;if(!ft(e)){const c=f=>{l=!0;const[d,h]=s1e(f,t,!0);ko(i,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return Pt(e)&&r.set(e,ew),ew;if(De(o))for(let c=0;c<o.length;c++){const f=Na(o[c]);Zre(f)&&(i[f]=es)}else if(o)for(const c in o){const f=Na(c);if(Zre(f)){const d=o[c],h=i[f]=De(d)||ft(d)?{type:d}:ko({},d),p=h.type;let g=!1,m=!0;if(De(p))for(let v=0;v<p.length;++v){const y=p[v],w=ft(y)&&y.name;if(w==="Boolean"){g=!0;break}else w==="String"&&(m=!1)}else g=ft(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||En(h,"default"))&&a.push(f)}}const u=[i,a];return Pt(e)&&r.set(e,u),u}function Zre(e){return e[0]!=="$"&&!F$(e)}const Cq=e=>e==="_"||e==="_ctx"||e==="$stable",Sq=e=>De(e)?e.map(Tf):[Tf(e)],Bze=(e,t,n)=>{if(t._n)return t;const r=ie((...s)=>Sq(t(...s)),n);return r._c=!1,r},o1e=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Cq(s))continue;const o=e[s];if(ft(o))t[s]=Bze(s,o,r);else if(o!=null){const i=Sq(o);t[s]=()=>i}}},i1e=(e,t)=>{const n=Sq(t);e.slots.default=()=>n},a1e=(e,t,n)=>{for(const r in t)(n||!Cq(r))&&(e[r]=t[r])},zze=(e,t,n)=>{const r=e.slots=t1e();if(e.vnode.shapeFlag&32){const s=t._;s?(a1e(r,t,n),n&&sve(r,"_",s,!0)):o1e(t,r)}else t&&i1e(e,t)},Vze=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=es;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:a1e(s,t,n):(o=!t.$stable,o1e(t,s)),i=t}else t&&(i1e(e,t),i={default:1});if(o)for(const a in s)!Cq(a)&&i[a]==null&&delete s[a]},va=qze;function Wze(e){return Uze(e)}function Uze(e,t){const n=IM();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Rn,insertStaticContent:p}=e,g=(L,Q,se,de=null,he=null,ge=null,$e=void 0,He=null,Ie=!!Q.dynamicChildren)=>{if(L===Q)return;L&&!cv(L,Q)&&(de=ue(L),H(L,he,ge,!0),L=null),Q.patchFlag===-2&&(Ie=!1,Q.dynamicChildren=null);const{type:Ce,ref:Re,shapeFlag:ze}=Q;switch(Ce){case Xx:m(L,Q,se,de);break;case ps:v(L,Q,se,de);break;case H5:L==null&&y(Q,se,de,$e);break;case it:A(L,Q,se,de,he,ge,$e,He,Ie);break;default:ze&1?C(L,Q,se,de,he,ge,$e,He,Ie):ze&6?N(L,Q,se,de,he,ge,$e,He,Ie):(ze&64||ze&128)&&Ce.process(L,Q,se,de,he,ge,$e,He,Ie,J)}Re!=null&&he?z$(Re,L&&L.ref,ge,Q||L,!Q):Re==null&&L&&L.ref!=null&&z$(L.ref,null,ge,L,!0)},m=(L,Q,se,de)=>{if(L==null)r(Q.el=a(Q.children),se,de);else{const he=Q.el=L.el;Q.children!==L.children&&u(he,Q.children)}},v=(L,Q,se,de)=>{L==null?r(Q.el=l(Q.children||""),se,de):Q.el=L.el},y=(L,Q,se,de)=>{[L.el,L.anchor]=p(L.children,Q,se,de,L.el,L.anchor)},w=({el:L,anchor:Q},se,de)=>{let he;for(;L&&L!==Q;)he=d(L),r(L,se,de),L=he;r(Q,se,de)},b=({el:L,anchor:Q})=>{let se;for(;L&&L!==Q;)se=d(L),s(L),L=se;s(Q)},C=(L,Q,se,de,he,ge,$e,He,Ie)=>{if(Q.type==="svg"?$e="svg":Q.type==="math"&&($e="mathml"),L==null)S(Q,se,de,he,ge,$e,He,Ie);else{const Ce=L.el&&L.el._isVueCE?L.el:null;try{Ce&&Ce._beginPatch(),T(L,Q,he,ge,$e,He,Ie)}finally{Ce&&Ce._endPatch()}}},S=(L,Q,se,de,he,ge,$e,He)=>{let Ie,Ce;const{props:Re,shapeFlag:ze,transition:Ue,dirs:rt}=L;if(Ie=L.el=i(L.type,ge,Re&&Re.is,Re),ze&8?c(Ie,L.children):ze&16&&k(L.children,Ie,null,de,he,j5(L,ge),$e,He),rt&&O0(L,null,de,"created"),$(Ie,L,L.scopeId,$e,de),Re){for(const ye in Re)ye!=="value"&&!F$(ye)&&o(Ie,ye,null,Re[ye],ge,de);"value"in Re&&o(Ie,"value",null,Re.value,ge),(Ce=Re.onVnodeBeforeMount)&&vf(Ce,de,L)}rt&&O0(L,null,de,"beforeMount");const ht=jze(he,Ue);ht&&Ue.beforeEnter(Ie),r(Ie,Q,se),((Ce=Re&&Re.onVnodeMounted)||ht||rt)&&va(()=>{Ce&&vf(Ce,de,L),ht&&Ue.enter(Ie),rt&&O0(L,null,de,"mounted")},he)},$=(L,Q,se,de,he)=>{if(se&&h(L,se),de)for(let ge=0;ge<de.length;ge++)h(L,de[ge]);if(he){let ge=he.subTree;if(Q===ge||c1e(ge.type)&&(ge.ssContent===Q||ge.ssFallback===Q)){const $e=he.vnode;$(L,$e,$e.scopeId,$e.slotScopeIds,he.parent)}}},k=(L,Q,se,de,he,ge,$e,He,Ie=0)=>{for(let Ce=Ie;Ce<L.length;Ce++){const Re=L[Ce]=He?gg(L[Ce]):Tf(L[Ce]);g(null,Re,Q,se,de,he,ge,$e,He)}},T=(L,Q,se,de,he,ge,$e)=>{const He=Q.el=L.el;let{patchFlag:Ie,dynamicChildren:Ce,dirs:Re}=Q;Ie|=L.patchFlag&16;const ze=L.props||es,Ue=Q.props||es;let rt;if(se&&R0(se,!1),(rt=Ue.onVnodeBeforeUpdate)&&vf(rt,se,Q,L),Re&&O0(Q,L,se,"beforeUpdate"),se&&R0(se,!0),(ze.innerHTML&&Ue.innerHTML==null||ze.textContent&&Ue.textContent==null)&&c(He,""),Ce?_(L.dynamicChildren,Ce,He,se,de,j5(Q,he),ge):$e||D(L,Q,He,null,se,de,j5(Q,he),ge,!1),Ie>0){if(Ie&16)E(He,ze,Ue,se,he);else if(Ie&2&&ze.class!==Ue.class&&o(He,"class",null,Ue.class,he),Ie&4&&o(He,"style",ze.style,Ue.style,he),Ie&8){const ht=Q.dynamicProps;for(let ye=0;ye<ht.length;ye++){const Ge=ht[ye],at=ze[Ge],cn=Ue[Ge];(cn!==at||Ge==="value")&&o(He,Ge,at,cn,he,se)}}Ie&1&&L.children!==Q.children&&c(He,Q.children)}else!$e&&Ce==null&&E(He,ze,Ue,se,he);((rt=Ue.onVnodeUpdated)||Re)&&va(()=>{rt&&vf(rt,se,Q,L),Re&&O0(Q,L,se,"updated")},de)},_=(L,Q,se,de,he,ge,$e)=>{for(let He=0;He<Q.length;He++){const Ie=L[He],Ce=Q[He],Re=Ie.el&&(Ie.type===it||!cv(Ie,Ce)||Ie.shapeFlag&198)?f(Ie.el):se;g(Ie,Ce,Re,null,de,he,ge,$e,!0)}},E=(L,Q,se,de,he)=>{if(Q!==se){if(Q!==es)for(const ge in Q)!F$(ge)&&!(ge in se)&&o(L,ge,Q[ge],null,he,de);for(const ge in se){if(F$(ge))continue;const $e=se[ge],He=Q[ge];$e!==He&&ge!=="value"&&o(L,ge,He,$e,he,de)}"value"in se&&o(L,"value",Q.value,se.value,he)}},A=(L,Q,se,de,he,ge,$e,He,Ie)=>{const Ce=Q.el=L?L.el:a(""),Re=Q.anchor=L?L.anchor:a("");let{patchFlag:ze,dynamicChildren:Ue,slotScopeIds:rt}=Q;rt&&(He=He?He.concat(rt):rt),L==null?(r(Ce,se,de),r(Re,se,de),k(Q.children||[],se,Re,he,ge,$e,He,Ie)):ze>0&&ze&64&&Ue&&L.dynamicChildren&&L.dynamicChildren.length===Ue.length?(_(L.dynamicChildren,Ue,se,he,ge,$e,He),(Q.key!=null||he&&Q===he.subTree)&&$q(L,Q,!0)):D(L,Q,se,Re,he,ge,$e,He,Ie)},N=(L,Q,se,de,he,ge,$e,He,Ie)=>{Q.slotScopeIds=He,L==null?Q.shapeFlag&512?he.ctx.activate(Q,se,de,$e,Ie):F(Q,se,de,he,ge,$e,Ie):R(L,Q,Ie)},F=(L,Q,se,de,he,ge,$e)=>{const He=L.component=Zze(L,de,he);if(RM(L)&&(He.ctx.renderer=J),Jze(He,!1,$e),He.asyncDep){if(he&&he.registerDep(He,P,$e),!L.el){const Ie=He.subTree=ee(ps);v(null,Ie,Q,se),L.placeholder=Ie.el}}else P(He,L,Q,se,he,ge,$e)},R=(L,Q,se)=>{const de=Q.component=L.component;if(Rze(L,Q,se))if(de.asyncDep&&!de.asyncResolved){I(de,Q,se);return}else de.next=Q,de.update();else Q.el=L.el,de.vnode=Q},P=(L,Q,se,de,he,ge,$e)=>{const He=()=>{if(L.isMounted){let{next:ze,bu:Ue,u:rt,parent:ht,vnode:ye}=L;{const Ft=l1e(L);if(Ft){ze&&(ze.el=ye.el,I(L,ze,$e)),Ft.asyncDep.then(()=>{L.isUnmounted||He()});return}}let Ge=ze,at;R0(L,!1),ze?(ze.el=ye.el,I(L,ze,$e)):ze=ye,Ue&&qD(Ue),(at=ze.props&&ze.props.onVnodeBeforeUpdate)&&vf(at,ht,ze,ye),R0(L,!0);const cn=Yre(L),lt=L.subTree;L.subTree=cn,g(lt,cn,f(lt.el),ue(lt),L,he,ge),ze.el=cn.el,Ge===null&&Fze(L,cn.el),rt&&va(rt,he),(at=ze.props&&ze.props.onVnodeUpdated)&&va(()=>vf(at,ht,ze,ye),he)}else{let ze;const{el:Ue,props:rt}=Q,{bm:ht,m:ye,parent:Ge,root:at,type:cn}=L,lt=rw(Q);R0(L,!1),ht&&qD(ht),!lt&&(ze=rt&&rt.onVnodeBeforeMount)&&vf(ze,Ge,Q),R0(L,!0);{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(cn);const Ft=L.subTree=Yre(L);g(null,Ft,se,de,L,he,ge),Q.el=Ft.el}if(ye&&va(ye,he),!lt&&(ze=rt&&rt.onVnodeMounted)){const Ft=Q;va(()=>vf(ze,Ge,Ft),he)}(Q.shapeFlag&256||Ge&&rw(Ge.vnode)&&Ge.vnode.shapeFlag&256)&&L.a&&va(L.a,he),L.isMounted=!0,Q=se=de=null}};L.scope.on();const Ie=L.effect=new dve(He);L.scope.off();const Ce=L.update=Ie.run.bind(Ie),Re=L.job=Ie.runIfDirty.bind(Ie);Re.i=L,Re.id=L.uid,Ie.scheduler=()=>gq(Re),R0(L,!0),Ce()},I=(L,Q,se)=>{Q.component=L;const de=L.vnode.props;L.vnode=Q,L.next=null,Pze(L,Q.props,de,se),Vze(L,Q.children,se),Qh(),Lre(L),ep()},D=(L,Q,se,de,he,ge,$e,He,Ie=!1)=>{const Ce=L&&L.children,Re=L?L.shapeFlag:0,ze=Q.children,{patchFlag:Ue,shapeFlag:rt}=Q;if(Ue>0){if(Ue&128){z(Ce,ze,se,de,he,ge,$e,He,Ie);return}else if(Ue&256){M(Ce,ze,se,de,he,ge,$e,He,Ie);return}}rt&8?(Re&16&&re(Ce,he,ge),ze!==Ce&&c(se,ze)):Re&16?rt&16?z(Ce,ze,se,de,he,ge,$e,He,Ie):re(Ce,he,ge,!0):(Re&8&&c(se,""),rt&16&&k(ze,se,de,he,ge,$e,He,Ie))},M=(L,Q,se,de,he,ge,$e,He,Ie)=>{L=L||ew,Q=Q||ew;const Ce=L.length,Re=Q.length,ze=Math.min(Ce,Re);let Ue;for(Ue=0;Ue<ze;Ue++){const rt=Q[Ue]=Ie?gg(Q[Ue]):Tf(Q[Ue]);g(L[Ue],rt,se,null,he,ge,$e,He,Ie)}Ce>Re?re(L,he,ge,!0,!1,ze):k(Q,se,de,he,ge,$e,He,Ie,ze)},z=(L,Q,se,de,he,ge,$e,He,Ie)=>{let Ce=0;const Re=Q.length;let ze=L.length-1,Ue=Re-1;for(;Ce<=ze&&Ce<=Ue;){const rt=L[Ce],ht=Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]);if(cv(rt,ht))g(rt,ht,se,null,he,ge,$e,He,Ie);else break;Ce++}for(;Ce<=ze&&Ce<=Ue;){const rt=L[ze],ht=Q[Ue]=Ie?gg(Q[Ue]):Tf(Q[Ue]);if(cv(rt,ht))g(rt,ht,se,null,he,ge,$e,He,Ie);else break;ze--,Ue--}if(Ce>ze){if(Ce<=Ue){const rt=Ue+1,ht=rt<Re?Q[rt].el:de;for(;Ce<=Ue;)g(null,Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]),se,ht,he,ge,$e,He,Ie),Ce++}}else if(Ce>Ue)for(;Ce<=ze;)H(L[Ce],he,ge,!0),Ce++;else{const rt=Ce,ht=Ce,ye=new Map;for(Ce=ht;Ce<=Ue;Ce++){const Te=Q[Ce]=Ie?gg(Q[Ce]):Tf(Q[Ce]);Te.key!=null&&ye.set(Te.key,Ce)}let Ge,at=0;const cn=Ue-ht+1;let lt=!1,Ft=0;const Dt=new Array(cn);for(Ce=0;Ce<cn;Ce++)Dt[Ce]=0;for(Ce=rt;Ce<=ze;Ce++){const Te=L[Ce];if(at>=cn){H(Te,he,ge,!0);continue}let Xe;if(Te.key!=null)Xe=ye.get(Te.key);else for(Ge=ht;Ge<=Ue;Ge++)if(Dt[Ge-ht]===0&&cv(Te,Q[Ge])){Xe=Ge;break}Xe===void 0?H(Te,he,ge,!0):(Dt[Xe-ht]=Ce+1,Xe>=Ft?Ft=Xe:lt=!0,g(Te,Q[Xe],se,null,he,ge,$e,He,Ie),at++)}const qt=lt?Hze(Dt):ew;for(Ge=qt.length-1,Ce=cn-1;Ce>=0;Ce--){const Te=ht+Ce,Xe=Q[Te],Se=Q[Te+1],ct=Te+1<Re?Se.el||u1e(Se):de;Dt[Ce]===0?g(null,Xe,se,ct,he,ge,$e,He,Ie):lt&&(Ge<0||Ce!==qt[Ge]?W(Xe,se,ct,2):Ge--)}}},W=(L,Q,se,de,he=null)=>{const{el:ge,type:$e,transition:He,children:Ie,shapeFlag:Ce}=L;if(Ce&6){W(L.component.subTree,Q,se,de);return}if(Ce&128){L.suspense.move(Q,se,de);return}if(Ce&64){$e.move(L,Q,se,J);return}if($e===it){r(ge,Q,se);for(let ze=0;ze<Ie.length;ze++)W(Ie[ze],Q,se,de);r(L.anchor,Q,se);return}if($e===H5){w(L,Q,se);return}if(de!==2&&Ce&1&&He)if(de===0)He.beforeEnter(ge),r(ge,Q,se),va(()=>He.enter(ge),he);else{const{leave:ze,delayLeave:Ue,afterLeave:rt}=He,ht=()=>{L.ctx.isUnmounted?s(ge):r(ge,Q,se)},ye=()=>{ge._isLeaving&&ge[ph](!0),ze(ge,()=>{ht(),rt&&rt()})};Ue?Ue(ge,ht,ye):ye()}else r(ge,Q,se)},H=(L,Q,se,de=!1,he=!1)=>{const{type:ge,props:$e,ref:He,children:Ie,dynamicChildren:Ce,shapeFlag:Re,patchFlag:ze,dirs:Ue,cacheIndex:rt}=L;if(ze===-2&&(he=!1),He!=null&&(Qh(),z$(He,null,se,L,!0),ep()),rt!=null&&(Q.renderCache[rt]=void 0),Re&256){Q.ctx.deactivate(L);return}const ht=Re&1&&Ue,ye=!rw(L);let Ge;if(ye&&(Ge=$e&&$e.onVnodeBeforeUnmount)&&vf(Ge,Q,L),Re&6)G(L.component,se,de);else{if(Re&128){L.suspense.unmount(se,de);return}ht&&O0(L,null,Q,"beforeUnmount"),Re&64?L.type.remove(L,Q,se,J,de):Ce&&!Ce.hasOnce&&(ge!==it||ze>0&&ze&64)?re(Ce,Q,se,!1,!0):(ge===it&&ze&384||!he&&Re&16)&&re(Ie,Q,se),de&&U(L)}(ye&&(Ge=$e&&$e.onVnodeUnmounted)||ht)&&va(()=>{Ge&&vf(Ge,Q,L),ht&&O0(L,null,Q,"unmounted")},se)},U=L=>{const{type:Q,el:se,anchor:de,transition:he}=L;if(Q===it){K(se,de);return}if(Q===H5){b(L);return}const ge=()=>{s(se),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(L.shapeFlag&1&&he&&!he.persisted){const{leave:$e,delayLeave:He}=he,Ie=()=>$e(se,ge);He?He(L.el,ge,Ie):Ie()}else ge()},K=(L,Q)=>{let se;for(;L!==Q;)se=d(L),s(L),L=se;s(Q)},G=(L,Q,se)=>{const{bum:de,scope:he,job:ge,subTree:$e,um:He,m:Ie,a:Ce}=L;Jre(Ie),Jre(Ce),de&&qD(de),he.stop(),ge&&(ge.flags|=8,H($e,L,Q,se)),He&&va(He,Q),va(()=>{L.isUnmounted=!0},Q)},re=(L,Q,se,de=!1,he=!1,ge=0)=>{for(let $e=ge;$e<L.length;$e++)H(L[$e],Q,se,de,he)},ue=L=>{if(L.shapeFlag&6)return ue(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const Q=d(L.anchor||L.el),se=Q&&Q[Fve];return se?d(se):Q};let ae=!1;const X=(L,Q,se)=>{let de;L==null?Q._vnode&&(H(Q._vnode,null,null,!0),de=Q._vnode.component):g(Q._vnode||null,L,Q,null,null,null,se),Q._vnode=L,ae||(ae=!0,Lre(de),Nve(),ae=!1)},J={p:g,um:H,m:W,r:U,mt:F,mc:k,pc:D,pbc:_,n:ue,o:e};return{render:X,hydrate:void 0,createApp:Tze(X)}}function j5({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function R0({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function jze(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $q(e,t,n=!1){const r=e.children,s=t.children;if(De(r)&&De(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=gg(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&$q(i,a)),a.type===Xx&&(a.patchFlag!==-1?a.el=i.el:a.__elIndex=o+(e.type===it?1:0)),a.type===ps&&!a.el&&(a.el=i.el)}}function Hze(e){const t=e.slice(),n=[0];let r,s,o,i,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<u?o=a+1:i=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function l1e(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:l1e(t)}function Jre(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function u1e(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?u1e(t.subTree):null}const c1e=e=>e.__isSuspense;function qze(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):ize(e)}const it=Symbol.for("v-fgt"),Xx=Symbol.for("v-txt"),ps=Symbol.for("v-cmt"),H5=Symbol.for("v-stc"),W$=[];let Wl=null;function B(e=!1){W$.push(Wl=e?null:[])}function Gze(){W$.pop(),Wl=W$[W$.length-1]||null}let $k=1;function mO(e,t=!1){$k+=e,e<0&&Wl&&t&&(Wl.hasOnce=!0)}function f1e(e){return e.dynamicChildren=$k>0?Wl||ew:null,Gze(),$k>0&&Wl&&Wl.push(e),e}function Y(e,t,n,r,s,o){return f1e(Z(e,t,n,r,s,o,!0))}function pe(e,t,n,r,s){return f1e(ee(e,t,n,r,s,!0))}function or(e){return e?e.__v_isVNode===!0:!1}function cv(e,t){return e.type===t.type&&e.key===t.key}const d1e=({key:e})=>e??null,YD=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ot(e)||fr(e)||ft(e)?{i:ci,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,s=null,o=e===it?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&d1e(t),ref:t&&YD(t),scopeId:Ove,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ci};return a?(kq(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),$k>0&&!i&&Wl&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Wl.push(l),l}const ee=Kze;function Kze(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Gve)&&(e=ps),or(e)){const a=np(e,t,!0);return n&&kq(a,n),$k>0&&!o&&Wl&&(a.shapeFlag&6?Wl[Wl.indexOf(e)]=a:Wl.push(a)),a.patchFlag=-2,a}if(n9e(e)&&(e=e.__vccOpts),t){t=Wh(t);let{class:a,style:l}=t;a&&!ot(a)&&(t.class=V(a)),Pt(l)&&(DM(l)&&!De(l)&&(l=ko({},l)),t.style=dt(l))}const i=ot(e)?1:c1e(e)?128:Mve(e)?64:Pt(e)?4:ft(e)?2:0;return Z(e,t,n,r,s,i,o,!0)}function Wh(e){return e?DM(e)||n1e(e)?ko({},e):e:null}function np(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:l}=e,u=t?Wt(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&d1e(u),ref:t&&t.ref?n&&o?De(o)?o.concat(YD(t)):[o,YD(t)]:YD(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==it?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&np(e.ssContent),ssFallback:e.ssFallback&&np(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&h1(c,l.clone(c)),c}function tn(e=" ",t=0){return ee(Xx,null,e,t)}function fe(e="",t=!1){return t?(B(),pe(ps,null,e)):ee(ps,null,e)}function Tf(e){return e==null||typeof e=="boolean"?ee(ps):De(e)?ee(it,null,e.slice()):or(e)?gg(e):ee(Xx,null,String(e))}function gg(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:np(e)}function kq(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(De(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),kq(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!n1e(t)?t._ctx=ci:s===3&&ci&&(ci.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ft(t)?(t={default:t,_ctx:ci},n=32):(t=String(t),r&64?(n=16,t=[tn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=V([t.class,r.class]));else if(s==="style")t.style=dt([t.style,r.style]);else if(EM(s)){const o=t[s],i=r[s];i&&o!==i&&!(De(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function vf(e,t,n,r=null){Mc(e,t,7,[n,r])}const Yze=Jve();let Xze=0;function Zze(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Yze,o={uid:Xze++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uve(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:s1e(r,s),emitsOptions:Qve(r,s),emit:null,emitted:null,propsDefaults:es,inheritAttrs:r.inheritAttrs,ctx:es,data:es,props:es,attrs:es,slots:es,refs:es,setupState:es,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ize.bind(null,o),e.ce&&e.ce(o),o}let Vi=null;const Ut=()=>Vi||ci;let vO,lV;{const e=IM(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};vO=t("__VUE_INSTANCE_SETTERS__",n=>Vi=n),lV=t("__VUE_SSR_SETTERS__",n=>kk=n)}const I_=e=>{const t=Vi;return vO(e),e.scope.on(),()=>{e.scope.off(),vO(t)}},Qre=()=>{Vi&&Vi.scope.off(),vO(null)};function h1e(e){return e.vnode.shapeFlag&4}let kk=!1;function Jze(e,t=!1,n=!1){t&&lV(t);const{props:r,children:s}=e.vnode,o=h1e(e);Mze(e,r,o,t),zze(e,s,n||t);const i=o?Qze(e,t):void 0;return t&&lV(!1),i}function Qze(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xze);const{setup:r}=n;if(r){Qh();const s=e.setupContext=r.length>1?g1e(e):null,o=I_(e),i=A_(r,e,0,[e.props,s]),a=f1(i);if(ep(),o(),(a||e.sp)&&!rw(e)&&jve(e),a){if(i.then(Qre,Qre),t)return i.then(l=>{ese(e,l)}).catch(l=>{OM(l,e,0)});e.asyncDep=i}else ese(e,i)}else p1e(e)}function ese(e,t,n){ft(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pt(t)&&(e.setupState=_ve(t)),p1e(e)}function p1e(e,t,n){const r=e.type;e.render||(e.render=r.render||Rn);{const s=I_(e);Qh();try{Cze(e)}finally{ep(),s()}}}const e9e={get(e,t){return Li(e,"get",""),e[t]}};function g1e(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,e9e),slots:e.slots,emit:e.emit,expose:t}}function BM(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_ve(Vh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in V$)return V$[n](e)},has(t,n){return n in t||n in V$}})):e.proxy}function t9e(e,t=!0){return ft(e)?e.displayName||e.name:e.name||t&&e.__name}function n9e(e){return ft(e)&&"__vccOpts"in e}const O=(e,t)=>tze(e,t,kk);function bt(e,t,n){try{mO(-1);const r=arguments.length;return r===2?Pt(t)&&!De(t)?or(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&or(n)&&(n=[n]),ee(e,t,n))}finally{mO(1)}}const r9e="3.5.26",s9e=Rn;let uV;const tse=typeof window<"u"&&window.trustedTypes;if(tse)try{uV=tse.createPolicy("vue",{createHTML:e=>e})}catch{}const m1e=uV?e=>uV.createHTML(e):e=>e,o9e="http://www.w3.org/2000/svg",i9e="http://www.w3.org/1998/Math/MathML",dh=typeof document<"u"?document:null,nse=dh&&dh.createElement("template"),a9e={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?dh.createElementNS(o9e,e):t==="mathml"?dh.createElementNS(i9e,e):n?dh.createElement(e,{is:n}):dh.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>dh.createTextNode(e),createComment:e=>dh.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dh.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{nse.innerHTML=m1e(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=nse.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Yp="transition",iS="animation",Aw=Symbol("_vtc"),v1e={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y1e=ko({},zve,v1e),l9e=e=>(e.displayName="Transition",e.props=y1e,e),Ho=l9e((e,{slots:t})=>bt(hze,b1e(e),t)),F0=(e,t=[])=>{De(e)?e.forEach(n=>n(...t)):e&&e(...t)},rse=e=>e?De(e)?e.some(t=>t.length>1):e.length>1:!1;function b1e(e){const t={};for(const A in e)A in v1e||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=i,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=u9e(s),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:w,onLeave:b,onLeaveCancelled:C,onBeforeAppear:S=v,onAppear:$=y,onAppearCancelled:k=w}=t,T=(A,N,F,R)=>{A._enterCancelled=R,ig(A,N?c:a),ig(A,N?u:i),F&&F()},_=(A,N)=>{A._isLeaving=!1,ig(A,f),ig(A,h),ig(A,d),N&&N()},E=A=>(N,F)=>{const R=A?$:y,P=()=>T(N,A,F);F0(R,[N,P]),sse(()=>{ig(N,A?l:o),Sf(N,A?c:a),rse(R)||ose(N,r,g,P)})};return ko(t,{onBeforeEnter(A){F0(v,[A]),Sf(A,o),Sf(A,i)},onBeforeAppear(A){F0(S,[A]),Sf(A,l),Sf(A,u)},onEnter:E(!1),onAppear:E(!0),onLeave(A,N){A._isLeaving=!0;const F=()=>_(A,N);Sf(A,f),A._enterCancelled?(Sf(A,d),cV(A)):(cV(A),Sf(A,d)),sse(()=>{A._isLeaving&&(ig(A,f),Sf(A,h),rse(b)||ose(A,r,m,F))}),F0(b,[A,F])},onEnterCancelled(A){T(A,!1,void 0,!0),F0(w,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),F0(k,[A])},onLeaveCancelled(A){_(A),F0(C,[A])}})}function u9e(e){if(e==null)return null;if(Pt(e))return[q5(e.enter),q5(e.leave)];{const t=q5(e);return[t,t]}}function q5(e){return C8e(e)}function Sf(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Aw]||(e[Aw]=new Set)).add(t)}function ig(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Aw];n&&(n.delete(t),n.size||(e[Aw]=void 0))}function sse(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let c9e=0;function ose(e,t,n,r){const s=e._endId=++c9e,o=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:l}=w1e(e,t);if(!i)return r();const u=i+"end";let c=0;const f=()=>{e.removeEventListener(u,d),o()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,d)}function w1e(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${Yp}Delay`),o=r(`${Yp}Duration`),i=ise(s,o),a=r(`${iS}Delay`),l=r(`${iS}Duration`),u=ise(a,l);let c=null,f=0,d=0;t===Yp?i>0&&(c=Yp,f=i,d=o.length):t===iS?u>0&&(c=iS,f=u,d=l.length):(f=Math.max(i,u),c=f>0?i>u?Yp:iS:null,d=c?c===Yp?o.length:l.length:0);const h=c===Yp&&/\b(?:transform|all)(?:,|$)/.test(r(`${Yp}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function ise(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ase(n)+ase(e[r])))}function ase(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function cV(e){return(e?e.ownerDocument:document).body.offsetHeight}function f9e(e,t,n){const r=e[Aw];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const yO=Symbol("_vod"),x1e=Symbol("_vsh"),Sn={name:"show",beforeMount(e,{value:t},{transition:n}){e[yO]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):aS(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),aS(e,!0),r.enter(e)):r.leave(e,()=>{aS(e,!1)}):aS(e,t))},beforeUnmount(e,{value:t}){aS(e,t)}};function aS(e,t){e.style.display=t?e[yO]:"none",e[x1e]=!t}const d9e=Symbol(""),h9e=/(?:^|;)\s*display\s*:/;function p9e(e,t,n){const r=e.style,s=ot(n);let o=!1;if(n&&!s){if(t)if(ot(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&XD(r,a,"")}else for(const i in t)n[i]==null&&XD(r,i,"");for(const i in n)i==="display"&&(o=!0),XD(r,i,n[i])}else if(s){if(t!==n){const i=r[d9e];i&&(n+=";"+i),r.cssText=n,o=h9e.test(n)}}else t&&e.removeAttribute("style");yO in e&&(e[yO]=o?r.display:"",e[x1e]&&(r.display="none"))}const lse=/\s*!important$/;function XD(e,t,n){if(De(n))n.forEach(r=>XD(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=g9e(e,t);lse.test(n)?e.setProperty(Cp(r),n.replace(lse,""),"important"):e[r]=n}}const use=["Webkit","Moz","ms"],G5={};function g9e(e,t){const n=G5[t];if(n)return n;let r=Na(t);if(r!=="filter"&&r in e)return G5[t]=r;r=T_(r);for(let s=0;s<use.length;s++){const o=use[s]+r;if(o in e)return G5[t]=o}return t}const cse="http://www.w3.org/1999/xlink";function fse(e,t,n,r,s,o=T8e(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(cse,t.slice(6,t.length)):e.setAttributeNS(cse,t,n):n==null||o&&!ove(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Rc(n)?String(n):n)}function dse(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?m1e(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=ove(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function Sg(e,t,n,r){e.addEventListener(t,n,r)}function m9e(e,t,n,r){e.removeEventListener(t,n,r)}const hse=Symbol("_vei");function v9e(e,t,n,r,s=null){const o=e[hse]||(e[hse]={}),i=o[t];if(r&&i)i.value=r;else{const[a,l]=y9e(t);if(r){const u=o[t]=x9e(r,s);Sg(e,a,u,l)}else i&&(m9e(e,a,i,l),o[t]=void 0)}}const pse=/(?:Once|Passive|Capture)$/;function y9e(e){let t;if(pse.test(e)){t={};let r;for(;r=e.match(pse);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cp(e.slice(2)),t]}let K5=0;const b9e=Promise.resolve(),w9e=()=>K5||(b9e.then(()=>K5=0),K5=Date.now());function x9e(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mc(C9e(r,n.value),t,5,[r])};return n.value=e,n.attached=w9e(),n}function C9e(e,t){if(De(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const gse=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,S9e=(e,t,n,r,s,o)=>{const i=s==="svg";t==="class"?f9e(e,r,i):t==="style"?p9e(e,n,r):EM(t)?oq(t)||v9e(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$9e(e,t,r,i))?(dse(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fse(e,t,r,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ot(r))?dse(e,Na(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),fse(e,t,r,i))};function $9e(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&gse(t)&&ft(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return gse(t)&&ot(n)?!1:t in e}const C1e=new WeakMap,S1e=new WeakMap,bO=Symbol("_moveCb"),mse=Symbol("_enterCb"),k9e=e=>(delete e.props.mode,e),E9e=k9e({name:"TransitionGroup",props:ko({},y1e,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ut(),r=Bve();let s,o;return Yc(()=>{if(!s.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!I9e(s[0].el,n.vnode.el,i)){s=[];return}s.forEach(_9e),s.forEach(T9e);const a=s.filter(A9e);cV(n.vnode.el),a.forEach(l=>{const u=l.el,c=u.style;Sf(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[bO]=d=>{d&&d.target!==u||(!d||d.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[bO]=null,ig(u,i))};u.addEventListener("transitionend",f)}),s=[]}),()=>{const i=nr(e),a=b1e(i);let l=i.tag||it;if(s=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(s.push(c),h1(c,Sk(c,a,r,n)),C1e.set(c,{left:c.el.offsetLeft,top:c.el.offsetTop}))}o=t.default?vq(t.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&h1(c,Sk(c,a,r,n))}return ee(l,null,o)}}}),$1e=E9e;function _9e(e){const t=e.el;t[bO]&&t[bO](),t[mse]&&t[mse]()}function T9e(e){S1e.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function A9e(e){const t=C1e.get(e),n=S1e.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${s}px)`,o.transitionDuration="0s",e}}function I9e(e,t,n){const r=e.cloneNode(),s=e[Aw];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=w1e(r);return o.removeChild(r),i}const Iw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?n=>qD(t,n):t};function N9e(e){e.target.composing=!0}function vse(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Uh=Symbol("_assign");function yse(e,t,n){return t&&(e=e.trim()),n&&(e=aq(e)),e}const zM={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Uh]=Iw(s);const o=r||s.props&&s.props.type==="number";Sg(e,t?"change":"input",i=>{i.target.composing||e[Uh](yse(e.value,n,o))}),(n||o)&&Sg(e,"change",()=>{e.value=yse(e.value,n,o)}),t||(Sg(e,"compositionstart",N9e),Sg(e,"compositionend",vse),Sg(e,"change",vse))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},i){if(e[Uh]=Iw(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?aq(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},k1e={deep:!0,created(e,t,n){e[Uh]=Iw(n),Sg(e,"change",()=>{const r=e._modelValue,s=_1e(e),o=e.checked,i=e[Uh];if(De(r)){const a=ive(r,s),l=a!==-1;if(o&&!l)i(r.concat(s));else if(!o&&l){const u=[...r];u.splice(a,1),i(u)}}else if(_M(r)){const a=new Set(r);o?a.add(s):a.delete(s),i(a)}else i(T1e(e,o))})},mounted:bse,beforeUpdate(e,t,n){e[Uh]=Iw(n),bse(e,t,n)}};function bse(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(De(t))s=ive(t,r.props.value)>-1;else if(_M(t))s=t.has(r.props.value);else{if(t===n)return;s=_w(t,T1e(e,!0))}e.checked!==s&&(e.checked=s)}const E1e={created(e,{value:t},n){e.checked=_w(t,n.props.value),e[Uh]=Iw(n),Sg(e,"change",()=>{e[Uh](_1e(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Uh]=Iw(r),t!==n&&(e.checked=_w(t,r.props.value))}};function _1e(e){return"_value"in e?e._value:e.value}function T1e(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const D9e=["ctrl","shift","alt","meta"],O9e={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>D9e.some(n=>e[`${n}Key`]&&!t.includes(n))},xt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...o)=>{for(let i=0;i<t.length;i++){const a=O9e[t[i]];if(a&&a(s,t))return}return e(s,...o)}))},R9e={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const o=Cp(s.key);if(t.some(i=>i===o||R9e[i]===o))return e(s)}))},F9e=ko({patchProp:S9e},a9e);let wse;function A1e(){return wse||(wse=Wze(F9e))}const am=((...e)=>{A1e().render(...e)}),I1e=((...e)=>{const t=A1e().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=P9e(r);if(!s)return;const o=t._component;!ft(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,M9e(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t});function M9e(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function P9e(e){return ot(e)?document.querySelector(e):e}const L9e=1e-7,B9e=1e-4;class Eq{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class VM{refCount(t){return Ha("refCount")}incRef(t){return Ha("incRef")}timerAvailable(){return!0}time(t){return Ha("time")}read(t){return Ha("read")}readSync(t){return Ha("readSync")}readToGPU(t,n){return Ha("readToGPU")}numDataIds(){return Ha("numDataIds")}disposeData(t,n){return Ha("disposeData")}write(t,n,r){return Ha("write")}move(t,n,r,s,o){return Ha("move")}createTensorFromGPUData(t,n,r){return Ha("createTensorFromGPUData")}memory(){return Ha("memory")}floatPrecision(){return Ha("floatPrecision")}epsilon(){return this.floatPrecision()===32?L9e:B9e}dispose(){return Ha("dispose")}}function Ha(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function _q(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,$h(e,t,n)}function z9e(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,$h(e,n,r),$h(t,n,r)}function lm(e,t,n){return Math.max(e,Math.min(t,n))}function WM(e){return e%2===0?e:e+1}function $h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function N1e(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function V9e(e,t){const n=Math.random();return t*n+(1-n)*e}function W9e(e,t){let n=0;for(let r=0;r<e.length;r++){const s=Number(e[r])-Number(t[r]);n+=s*s}return n}function te(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Zo(e,t,n=""){te(ir(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function sy(e){te(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function je(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function U9e(e){return e.length===0}function D1e(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==null&&t[n]!==null&&e[n]!==t[n])return!1;return!0}function ir(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p1(e){return e%1===0}function j9e(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function wO(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function H9e(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return _q(t),t}function jv(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function fV(e,t=s=>0,n,r){return new Promise((s,o)=>{let i=0;const a=()=>{if(e()){s();return}i++;const l=t(i);if(n!=null&&i>=n){o();return}r!=null?r(a,l):setTimeout(a,l)};a()})}function Tq(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(e[o]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(e[o]<0)throw Error(`Shapes can not be < 0. Found ${e[o]} at dim ${o}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const s=e.slice();return s[r]=t/n,s}function qn(e,t){const n=t.length;return e=e==null?t.map((r,s)=>s):[].concat(e),te(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),te(e.every(r=>p1(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function kp(e,t){const n=[],r=[],s=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||s?null:qn(t,e).sort();let i=0;for(let a=0;a<e.length;++a){if(o!=null){if(o[i]===a&&e[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${e[a]}' is not 1`);(o[i]==null||o[i]>a)&&e[a]===1&&(n.push(e[a]),r.push(a)),o[i]<=a&&i++}e[a]!==1&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function Eo(e,t){return Ds(e,t)}function Ds(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function O1e(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function R1e(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function Aq(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function Ek(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function F1e(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function Lf(e){return typeof e=="string"||e instanceof String}function M1e(e){return typeof e=="boolean"}function xO(e){return typeof e=="number"}function oy(e){return Array.isArray(e)?oy(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":xO(e)?"float32":Lf(e)?"string":M1e(e)?"bool":"float32"}function um(e){return!!(e&&e.constructor&&e.call&&e.apply)}function CO(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function fn(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function P1e(e,t,n,r=!1){const s=new Array;if(t.length===1){const o=t[0]*(r?2:1);for(let i=0;i<o;i++)s[i]=n[e+i]}else{const o=t[0],i=t.slice(1),a=i.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<o;l++)s[l]=P1e(e+l*a,i,n,r)}return s}function Iu(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((s,o)=>s*o)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return P1e(0,e,t,n)}function L1e(e,t){if(Array.isArray(e))return e;if(t==="float32")return e instanceof Float32Array?e:new Float32Array(e);if(t==="int32")return e instanceof Int32Array?e:new Int32Array(e);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function UM(e,t){const n=qo(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function qo(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Iq(e,t){const n=e.reduce((r,s)=>r*s,1);if(t==null||t==="float32")return Iu(e,new Float32Array(n));if(t==="int32")return Iu(e,new Int32Array(n));if(t==="bool")return Iu(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function Al(e){e.forEach(t=>{te(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function $c(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=n[s]*e[s];return r}function iy(e,t,n){if(t===0)return[];if(t===1)return[e];const r=new Array(t);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(e/n[s]),e-=r[s]*n[s];return r[r.length-1]=e,r}function jM(e){return e&&e.then&&typeof e.then=="function"}const xse="tfjsflags";class B1e{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=q9e,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const s=this.urlFlags[t];Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${s}.`),this.set(t,s)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(jM(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);xse in t&&t[xse].split(",").forEach(r=>{const[s,o]=r.split(":");this.urlFlags[s]=K9e(s,o)})}}function q9e(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(G9e(t,r[0],r[1]),r.join("="))),t}function G9e(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function K9e(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function Pe(){return Nq}let Nq=null;function Y9e(e){Nq=e}let Y5;function z1e(){if(Y5==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");Y5=e}return Y5}function X9e(){const e=z1e();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function Dq(e,t){const n=X9e();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const N_="Abs",Zx="Acos",Jx="Acosh",ay="Add",D_="AddN",HM="All",qM="Any",O_="ArgMax",R_="ArgMin",Qx="Asin",e2="Asinh",t2="Atan",n2="Atanh",r2="Atan2",F_="AvgPool",GM="AvgPoolGrad",M_="AvgPool3D",KM="AvgPool3DGrad",P_="BatchMatMul",L_="BatchToSpaceND",YM="Bincount",B_="BitwiseAnd",V1e="BroadcastTo",XM="BroadcastArgs",s2="Cast",o2="Ceil",i2="ClipByValue",ZM="Complex",z_="ComplexAbs",V_="Concat",W_="Conv2D",JM="Conv2DBackpropFilter",U_="Conv2DBackpropInput",j_="Conv3D",QM="Conv3DBackpropFilterV2",e4="Conv3DBackpropInputV2",a2="Cos",l2="Cosh",t4="Cumprod",H_="Cumsum",n4="CropAndResize",r4="DenseBincount",s4="DepthToSpace",q_="DepthwiseConv2dNative",o4="DepthwiseConv2dNativeBackpropFilter",i4="DepthwiseConv2dNativeBackpropInput",a4="Diag",G_="Dilation2D",SO="Dilation2DBackpropInput",$O="Dilation2DBackpropFilter",l4="Draw",u2="RealDiv",u4="Einsum",c2="Elu",c4="EluGrad",f2="Erf",K_="Equal",d2="Exp",Y_="ExpandDims",h2="Expm1",f4="FFT",d4="Fill",h4="FlipLeftRight",p2="Floor",g2="FloorDiv",X_="FusedBatchNorm",Z_="GatherV2",p4="GatherNd",J_="Greater",m2="GreaterEqual",v2="Identity",g4="IFFT",m4="Imag",y2="IsFinite",b2="IsInf",w2="IsNan",Q_="LeakyRelu",eT="Less",tT="LessEqual",v4="LinSpace",x2="Log",C2="Log1p",nT="LogicalAnd",rT="LogicalNot",sT="LogicalOr",Z9e="LogicalXor",W1e="LogSoftmax",J9e="LowerBound",oT="LRN",y4="LRNGrad",Q9e="MatrixBandPart",iT="Max",S2="Maximum",aT="MaxPool",b4="MaxPoolGrad",lT="MaxPool3D",w4="MaxPool3DGrad",x4="MaxPoolWithArgmax",uT="Mean",cT="Min",$2="Minimum",fT="MirrorPad",k2="Mod",C4="Multinomial",E2="Multiply",dT="Neg",hT="NotEqual",S4="NonMaxSuppressionV3",$4="NonMaxSuppressionV4",k4="NonMaxSuppressionV5",pT="OnesLike",gT="OneHot",mT="Pack",vT="PadV2",e7e="Pool",_2="Pow",yT="Prelu",bT="Prod",E4="RaggedGather",_4="RaggedRange",T4="RaggedTensorToTensor",A4="Range",I4="Real",T2="Reciprocal",A2="Relu",wT="Reshape",xT="ResizeNearestNeighbor",N4="ResizeNearestNeighborGrad",CT="ResizeBilinear",D4="ResizeBilinearGrad",I2="Relu6",ST="Reverse",N2="Round",D2="Rsqrt",O4="ScatterNd",R4="TensorScatterUpdate",F4="SearchSorted",$T="Select",O2="Selu",kT="Slice",R2="Sin",F2="Sinh",M2="Sign",P2="Sigmoid",L2="Softplus",B2="Sqrt",ET="Sum",_T="SpaceToBatchND",TT="SplitV",AT="Softmax",M4="SparseFillEmptyRows",P4="SparseReshape",L4="SparseSegmentMean",B4="SparseSegmentSum",z4="SparseToDense",z2="SquaredDifference",V4="Square",IT="StaticRegexReplace",W4="StridedSlice",U4="StringNGrams",j4="StringSplit",H4="StringToHashBucketFast",V2="Sub",W2="Tan",U2="Tanh",j2="Tile",q4="TopK",G4="Transform",Hv="Transpose",K4="Unique",NT="Unpack",DT="UnsortedSegmentSum",t7e="UpperBound",OT="ZerosLike",H2="Step",kO="FromPixels",Y4="RotateWithOffset",_k="_FusedMatMul",Tk="FusedConv2D",Ak="FusedDepthwiseConv2D";function zl(...e){Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.warn(...e)}function n7e(...e){Pe().getBool("IS_TEST")||Pe().getBool("PROD")||console.log(...e)}const Nw=Dq("kernelRegistry",()=>new Map),Ik=Dq("gradRegistry",()=>new Map);function Nk(e,t){const n=Oq(e,t);return Nw.get(n)}function dV(e){return Ik.get(e)}function EO(e){const t=Nw.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[o,i]=s,[a]=o.split("_");a===e&&n.push(i)}return n}function X4(e){const{kernelName:t,backendName:n}=e,r=Oq(t,n);Nw.has(r)&&zl(`The kernel '${t}' for backend '${n}' is already registered`),Nw.set(r,e)}function U1e(e){const{kernelName:t}=e;Ik.has(t)&&Pe().getBool("DEBUG")&&zl(`Overriding the gradient for '${t}'`),Ik.set(t,e)}function r7e(e,t){const n=Oq(e,t);if(!Nw.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);Nw.delete(n)}function s7e(e){if(!Ik.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);Ik.delete(e)}function o7e(e,t){EO(e).forEach(r=>{const s=Object.assign({},r,{backendName:t});X4(s)})}function Oq(e,t){return`${t}_${e}`}function j1e(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ly(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var X5,Cse;function i7e(){if(Cse)return X5;Cse=1,X5=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(_,E,A){this.low=_|0,this.high=E|0,this.unsigned=!!A}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(_){return(_&&_.__isLong__)===!0}t.isLong=n;var r={},s={};function o(_,E){var A,N,F;return E?(_>>>=0,(F=0<=_&&_<256)&&(N=s[_],N)?N:(A=a(_,(_|0)<0?-1:0,!0),F&&(s[_]=A),A)):(_|=0,(F=-128<=_&&_<128)&&(N=r[_],N)?N:(A=a(_,_<0?-1:0,!1),F&&(r[_]=A),A))}t.fromInt=o;function i(_,E){if(isNaN(_))return E?y:v;if(E){if(_<0)return y;if(_>=p)return $}else{if(_<=-g)return k;if(_+1>=g)return S}return _<0?i(-_,E).neg():a(_%h|0,_/h|0,E)}t.fromNumber=i;function a(_,E,A){return new t(_,E,A)}t.fromBits=a;var l=Math.pow;function u(_,E,A){if(_.length===0)throw Error("empty string");if(_==="NaN"||_==="Infinity"||_==="+Infinity"||_==="-Infinity")return v;if(typeof E=="number"?(A=E,E=!1):E=!!E,A=A||10,A<2||36<A)throw RangeError("radix");var N;if((N=_.indexOf("-"))>0)throw Error("interior hyphen");if(N===0)return u(_.substring(1),E,A).neg();for(var F=i(l(A,8)),R=v,P=0;P<_.length;P+=8){var I=Math.min(8,_.length-P),D=parseInt(_.substring(P,P+I),A);if(I<8){var M=i(l(A,I));R=R.mul(M).add(i(D))}else R=R.mul(F),R=R.add(i(D))}return R.unsigned=E,R}t.fromString=u;function c(_,E){return typeof _=="number"?i(_,E):typeof _=="string"?u(_,E):a(_.low,_.high,typeof E=="boolean"?E:_.unsigned)}t.fromValue=c;var f=65536,d=1<<24,h=f*f,p=h*h,g=p/2,m=o(d),v=o(0);t.ZERO=v;var y=o(0,!0);t.UZERO=y;var w=o(1);t.ONE=w;var b=o(1,!0);t.UONE=b;var C=o(-1);t.NEG_ONE=C;var S=a(-1,2147483647,!1);t.MAX_VALUE=S;var $=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=$;var k=a(0,-2147483648,!1);t.MIN_VALUE=k;var T=t.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(k)){var A=i(E),N=this.div(A),F=N.mul(A).sub(this);return N.toString(E)+F.toInt().toString(E)}else return"-"+this.neg().toString(E);for(var R=i(l(E,6),this.unsigned),P=this,I="";;){var D=P.div(R),M=P.sub(D.mul(R)).toInt()>>>0,z=M.toString(E);if(P=D,P.isZero())return z+I;for(;z.length<6;)z="0"+z;I=""+z+I}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,A=31;A>0&&(E&1<<A)==0;A--);return this.high!=0?A+33:A+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(this.low&1)===1},T.isEven=function(){return(this.low&1)===0},T.equals=function(E){return n(E)||(E=c(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?!1:this.high===E.high&&this.low===E.low},T.eq=T.equals,T.notEquals=function(E){return!this.eq(E)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(E){return this.comp(E)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(E){return this.comp(E)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(E){return this.comp(E)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(E){return this.comp(E)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(E){if(n(E)||(E=c(E)),this.eq(E))return 0;var A=this.isNegative(),N=E.isNegative();return A&&!N?-1:!A&&N?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(w)},T.neg=T.negate,T.add=function(E){n(E)||(E=c(E));var A=this.high>>>16,N=this.high&65535,F=this.low>>>16,R=this.low&65535,P=E.high>>>16,I=E.high&65535,D=E.low>>>16,M=E.low&65535,z=0,W=0,H=0,U=0;return U+=R+M,H+=U>>>16,U&=65535,H+=F+D,W+=H>>>16,H&=65535,W+=N+I,z+=W>>>16,W&=65535,z+=A+P,z&=65535,a(H<<16|U,z<<16|W,this.unsigned)},T.subtract=function(E){return n(E)||(E=c(E)),this.add(E.neg())},T.sub=T.subtract,T.multiply=function(E){if(this.isZero())return v;if(n(E)||(E=c(E)),e){var A=e.mul(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}if(E.isZero())return v;if(this.eq(k))return E.isOdd()?k:v;if(E.eq(k))return this.isOdd()?k:v;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(m)&&E.lt(m))return i(this.toNumber()*E.toNumber(),this.unsigned);var N=this.high>>>16,F=this.high&65535,R=this.low>>>16,P=this.low&65535,I=E.high>>>16,D=E.high&65535,M=E.low>>>16,z=E.low&65535,W=0,H=0,U=0,K=0;return K+=P*z,U+=K>>>16,K&=65535,U+=R*z,H+=U>>>16,U&=65535,U+=P*M,H+=U>>>16,U&=65535,H+=F*z,W+=H>>>16,H&=65535,H+=R*M,W+=H>>>16,H&=65535,H+=P*D,W+=H>>>16,H&=65535,W+=N*z+F*M+R*D+P*I,W&=65535,a(U<<16|K,W<<16|H,this.unsigned)},T.mul=T.multiply,T.divide=function(E){if(n(E)||(E=c(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var A=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?y:v;var N,F,R;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return y;if(E.gt(this.shru(1)))return b;R=y}else{if(this.eq(k)){if(E.eq(w)||E.eq(C))return k;if(E.eq(k))return w;var P=this.shr(1);return N=P.div(E).shl(1),N.eq(v)?E.isNegative()?w:C:(F=this.sub(E.mul(N)),R=N.add(F.div(E)),R)}else if(E.eq(k))return this.unsigned?y:v;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();R=v}for(F=this;F.gte(E);){N=Math.max(1,Math.floor(F.toNumber()/E.toNumber()));for(var I=Math.ceil(Math.log(N)/Math.LN2),D=I<=48?1:l(2,I-48),M=i(N),z=M.mul(E);z.isNegative()||z.gt(F);)N-=D,M=i(N,this.unsigned),z=M.mul(E);M.isZero()&&(M=w),R=R.add(M),F=F.sub(z)}return R},T.div=T.divide,T.modulo=function(E){if(n(E)||(E=c(E)),e){var A=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return a(A,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return a(~this.low,~this.high,this.unsigned)},T.and=function(E){return n(E)||(E=c(E)),a(this.low&E.low,this.high&E.high,this.unsigned)},T.or=function(E){return n(E)||(E=c(E)),a(this.low|E.low,this.high|E.high,this.unsigned)},T.xor=function(E){return n(E)||(E=c(E)),a(this.low^E.low,this.high^E.high,this.unsigned)},T.shiftLeft=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?a(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):a(0,this.low<<E-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?a(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):a(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(E){if(n(E)&&(E=E.toInt()),E&=63,E===0)return this;var A=this.high;if(E<32){var N=this.low;return a(N>>>E|A<<32-E,A>>>E,this.unsigned)}else return E===32?a(A,0,this.unsigned):a(A>>>E-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},T.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var E=this.high,A=this.low;return[A&255,A>>>8&255,A>>>16&255,A>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},T.toBytesBE=function(){var E=this.high,A=this.low;return[E>>>24,E>>>16&255,E>>>8&255,E&255,A>>>24,A>>>16&255,A>>>8&255,A&255]},t.fromBytes=function(E,A,N){return N?t.fromBytesLE(E,A):t.fromBytesBE(E,A)},t.fromBytesLE=function(E,A){return new t(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,A)},t.fromBytesBE=function(E,A){return new t(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],A)},X5}var H1e=i7e();const q1e=Il(H1e),a7e=v8e({__proto__:null,default:q1e},[H1e]);const fv=q1e||a7e;function RT(e){return fv.fromString(e,!0,16)}const G1e=RT("c3a5c85c97cb3127"),rv=RT("b492b66fbe98f273"),Bi=RT("9ae16a3b2f90404f");function hV(e){return e.xor(e.shru(47))}function K1e(e,t,n){const r=e.slice(t,t+n);return fv.fromBytes(Array.from(r),!0,!0)}function Qr(e,t){return K1e(e,t,8)}function Sse(e,t){return K1e(e,t,4)}function po(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function Yg(e,t,n=RT("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let s=t.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function l7e(e,t,n,r,s,o){s=s.add(e),o=po(o.add(s).add(r),21);const i=s;return s=s.add(t),s=s.add(n),o=o.add(po(s,44)),[s.add(r),o.add(i)]}function jI(e,t,n,r){return l7e(Qr(e,t),Qr(e,t+8),Qr(e,t+16),Qr(e,t+24),n,r)}function u7e(e,t=e.length){if(t>=8){const n=Bi.add(t*2),r=Qr(e,0).add(Bi),s=Qr(e,t-8),o=po(s,37).mul(n).add(r),i=po(r,25).add(s).mul(n);return Yg(o,i,n)}if(t>=4){const n=Bi.add(t*2),r=Sse(e,0);return Yg(r.shl(3).add(t),Sse(e,t-4),n)}if(t>0){const n=e[0],r=e[t>>1],s=e[t-1],o=n+(r<<8),i=t+(s<<2);return hV(Bi.mul(o).xor(G1e.mul(i))).mul(Bi)}return Bi}function c7e(e,t=e.length){const n=Bi.add(t*2),r=Qr(e,0).mul(rv),s=Qr(e,8),o=Qr(e,t-8).mul(n),i=Qr(e,t-16).mul(Bi);return Yg(po(r.add(s),43).add(po(o,30)).add(i),r.add(po(s.add(Bi),18)).add(o),n)}function f7e(e,t=e.length){const n=Bi.add(t*2),r=Qr(e,0).mul(Bi),s=Qr(e,8),o=Qr(e,t-8).mul(n),i=Qr(e,t-16).mul(Bi),a=po(r.add(s),43).add(po(o,30)).add(i),l=Yg(a,r.add(po(s.add(Bi),18)).add(o),n),u=Qr(e,16).mul(n),c=Qr(e,24),f=a.add(Qr(e,t-32)).mul(n),d=l.add(Qr(e,t-24)).mul(n);return Yg(po(u.add(c),43).add(po(f,30)).add(d),u.add(po(c.add(r),18)).add(f),n)}function Y1e(e,t=e.length){const n=fv.fromNumber(81,!0);if(t<=32)return t<=16?u7e(e,t):c7e(e,t);if(t<=64)return f7e(e,t);let r=n,s=n.mul(rv).add(113),o=hV(s.mul(Bi).add(113)).mul(Bi),i=[fv.UZERO,fv.UZERO],a=[fv.UZERO,fv.UZERO];r=r.mul(Bi).add(Qr(e,0));let l=0;const u=(t-1>>6)*64,c=u+(t-1&63)-63;do r=po(r.add(s).add(i[0]).add(Qr(e,l+8)),37).mul(rv),s=po(s.add(i[1]).add(Qr(e,l+48)),42).mul(rv),r=r.xor(a[1]),s=s.add(i[0]).add(Qr(e,l+40)),o=po(o.add(a[0]),33).mul(rv),i=jI(e,l,i[1].mul(rv),r.add(a[0])),a=jI(e,l+32,o.add(a[1]),s.add(Qr(e,l+16))),[o,r]=[r,o],l+=64;while(l!==u);const f=rv.add(o.and(255).shl(1));return l=c,a[0]=a[0].add(t-1&63),i[0]=i[0].add(a[0]),a[0]=a[0].add(i[0]),r=po(r.add(s).add(i[0]).add(Qr(e,l+8)),37).mul(f),s=po(s.add(i[1]).add(Qr(e,l+48)),42).mul(f),r=r.xor(a[1].mul(9)),s=s.add(i[0].mul(9).add(Qr(e,l+40))),o=po(o.add(a[0]),33).mul(f),i=jI(e,l,i[1].mul(f),r.add(a[0])),a=jI(e,l+32,o.add(a[1]),s.add(Qr(e,l+16))),[o,r]=[r,o],Yg(Yg(i[0],a[0],f).add(hV(s).mul(G1e)).add(o),Yg(i[1],a[1],f).add(r),f)}function Ep(e,t){return t==="string"?Uf(e):e0([e],t)}function d7e(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function e0(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=id(e)),Pe().getBool("DEBUG")&&O1e(e,t),d7e(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function Fi(){return Pe().platform.now()}function h7e(e,t){return Pe().platform.fetch(e,t)}function Uf(e,t="utf-8"){return t=t||"utf-8",Pe().platform.encode(e,t)}function rp(e,t="utf-8"){return t=t||"utf-8",Pe().platform.decode(e,t)}function go(e){return Pe().platform.isTypedArray!=null?Pe().platform.isTypedArray(e):j1e(e)}function id(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||jM(e)||e==null||go(e)&&n)t.push(e);else if(Array.isArray(e)||go(e))for(let r=0;r<e.length;++r)id(e[r],t,n);else{let r=-1;for(const s of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)id(e[s],t,n)}return t}const p7e=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:ir,arraysEqualWithNull:D1e,assert:te,assertNonNegativeIntegerDimensions:Al,assertNonNull:sy,assertShapesMatch:Zo,bytesFromStringArray:F1e,bytesPerElement:Ek,checkConversionForErrors:O1e,clamp:lm,computeStrides:fn,convertBackendValuesAndArrayBuffer:L1e,createScalarValue:Ep,createShuffledIndices:H9e,decodeString:rp,distSquared:W9e,encodeString:Uf,fetch:h7e,fingerPrint64:Y1e,flatten:id,getArrayFromDType:Ds,getTypedArrayFromDType:Eo,hasEncodingLoss:Aq,hexToLong:RT,indexToLoc:iy,inferDtype:oy,inferFromImplicitShape:Tq,isBoolean:M1e,isFunction:um,isInt:p1,isNumber:xO,isPromise:jM,isScalarShape:U9e,isString:Lf,isTypedArray:go,isValidDtype:R1e,locToIndex:$c,makeOnesTypedArray:UM,makeZerosNestedTypedArray:Iq,makeZerosTypedArray:qo,nearestDivisor:CO,nearestLargerEven:WM,now:Fi,parseAxisParam:qn,randUniform:V9e,repeatedTry:fV,rightPad:jv,shuffle:_q,shuffleCombo:z9e,sizeFromShape:je,sizeToSquarishShape:wO,squeezeShape:kp,sum:N1e,swap:$h,tanh:j9e,toNestedArray:Iu,toTypedArray:e0},Symbol.toStringTag,{value:"Module"}));class g7e{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new v7e)}profileKernel(t,n,r){let s;const o=()=>{s=r()};let i;const a=Fi();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const u of s)u.dataSync();i=Promise.resolve({kernelMs:Fi()-a})}if(Pe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const c=s[u];c.data().then(f=>{m7e(f,c.dtype,t)})}return{kernelName:t,outputs:s,inputs:n,timeMs:i.then(u=>u.kernelMs),extraInfo:i.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:s,inputs:o,extraInfo:i}=t;r.forEach(a=>{Promise.all([a.data(),s,i]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function m7e(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const s=e[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class v7e{logKernelProfile(t,n,r,s,o,i){const a=typeof s=="number"?jv(`${s}ms`,9):s.error,l=jv(t,25),u=n.rank,c=n.size,f=jv(n.shape.toString(),14);let d="";for(const h in o){const p=o[h];if(p!=null){const g=p.shape||n.shape,m=g.length;d+=`${h}: ${m}D ${m>0?g:""} `}}console.log(`%c${l}	%c${a}	%c${u}D ${f}	%c${c}	%c${d}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function y7e(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const f in c){const d=c[f];let h=!1;for(let p=0;p<t.length;p++)if(r[d.id]){u.outputs.forEach(g=>r[g.id]=!0),h=!0,s[u.id]=!0;break}if(h)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(o[u.outputs[f].id]){for(const d in c)o[c[d].id]=!0,i[u.id]=!0;break}}const a=[];for(let l=0;l<e.length;l++){const u=e[l];if(s[u.id]&&i[u.id]){const c={};for(const d in u.inputs){const h=u.inputs[d];r[h.id]&&(c[d]=h)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,a.push(f)}}return a}function b7e(e,t,n,r){for(let s=t.length-1;s>=0;s--){const o=t[s],i=[];if(o.outputs.forEach(l=>{const u=e[l.id];u!=null?i.push(u):i.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const a=o.gradient(i);for(const l in o.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const u=n(()=>a[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!ir(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}const $se=20,lS=3,Z5=7;function w7e(e,t,n,r){const s=fn(t),o=x7e(e,t,n,s),i=t.length,a=ZD(e,t,n,s,o),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(a.map(u=>"    "+u).join(`
`)),l.join(`
`)}function x7e(e,t,n,r){const s=je(t),o=r[r.length-1],i=new Array(o).fill(0),a=t.length,l=n==="complex64"?e$(e):e;if(a>1)for(let u=0;u<s/o;u++){const c=u*o;for(let f=0;f<o;f++)i[f]=Math.max(i[f],QS(l[c+f],0,n).length)}return i}function QS(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(Z5))} + ${parseFloat(e[1].toFixed(Z5))}j`:Lf(e)?r=`'${e}'`:n==="bool"?r=X1e(e):r=parseFloat(e.toFixed(Z5)).toString(),jv(r,t)}function X1e(e){return e===0?"false":"true"}function ZD(e,t,n,r,s,o=!0){const i=n==="complex64"?2:1,a=t[0],l=t.length;if(l===0){if(n==="complex64"){const g=e$(e);return[QS(g[0],0,n)]}return n==="bool"?[X1e(e[0])]:[e[0].toString()]}if(l===1){if(a>$se){const m=lS*i;let v=Array.from(e.slice(0,m)),y=Array.from(e.slice((a-lS)*i,a*i));return n==="complex64"&&(v=e$(v),y=e$(y)),["["+v.map((w,b)=>QS(w,s[b],n)).join(", ")+", ..., "+y.map((w,b)=>QS(w,s[a-lS+b],n)).join(", ")+"]"]}return["["+(n==="complex64"?e$(e):Array.from(e)).map((m,v)=>QS(m,s[v],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*i,d=[];if(a>$se){for(let g=0;g<lS;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,!1))}d.push("...");for(let g=a-lS;g<a;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,g===a-1))}}else for(let g=0;g<a;g++){const m=g*f,v=m+f;d.push(...ZD(e.slice(m,v),u,n,c,s,g===a-1))}const h=l===2?",":"";d[0]="["+(a>0?d[0]+h:"");for(let g=1;g<d.length-1;g++)d[g]=" "+d[g]+h;let p=`,
`;for(let g=2;g<l;g++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(o?"":p),d}function e$(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Xs{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=je(t),r!=null){const s=r.length;te(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Ds(n,this.size),this.strides=fn(t)}set(t,...n){n.length===0&&(n=[0]),te(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const s of t){if(s<0||s>=this.shape[n]){const o=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=this.strides[s]*t[s];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return cc().makeTensor(this.values,this.shape,this.dtype)}}let cc=null,Mb=null;function C7e(e){cc=e}function S7e(e){Mb=e}class Mr{constructor(t,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=je(t),this.strides=fn(t),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return Mb.buffer(this.shape,this.dtype,t)}bufferSync(){return Mb.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return Iu(this.shape,t,this.dtype==="complex64")}arraySync(){return Iu(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=cc().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>rp(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),cc().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=cc().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>rp(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await cc().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),cc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return Mb.print(this,t)}clone(){return this.throwIfDisposed(),Mb.clone(this)}toString(t=!1){const n=this.dataSync();return w7e(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),Mb.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),cc().makeVariable(this,t,n,r)}}Object.defineProperty(Mr,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function qe(){return Dq("Tensor",()=>Mr)}qe();class Dk extends Mr{constructor(t,n,r,s){super(t.shape,t.dtype,t.dataId,s),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!ir(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);cc().disposeTensor(this),this.dataId=t.dataId,cc().incRef(this,null)}dispose(){cc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Dk,Symbol.hasInstance,{value:e=>e instanceof Mr&&e.assign!=null&&e.assign instanceof Function});var pV;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(pV||(pV={}));var gV;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(gV||(gV={}));var mV;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(mV||(mV={}));var vV;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(vV||(vV={}));var yV;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(yV||(yV={}));const $7e={float32:vV,int32:gV,bool:mV,complex64:yV};function Da(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return $7e[e][t]}function Z4(e){return Da(e,"int32")}function Z1e(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function J1e(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}function _s(e,t){if(e.dtype===t.dtype)return[e,t];const n=Da(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Q1e(e,t){te(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}function k7e(e,t){return t.some(n=>n.id===e.id)}function Rq(e){const t=[];return eye(e,t,new Set),t}function eye(e,t,n){if(e==null)return;if(e instanceof Mr){t.push(e);return}if(!E7e(e))return;const r=e;for(const s in r){const o=r[s];n.has(o)||(n.add(o),eye(o,t,n))}}function E7e(e){return Array.isArray(e)||typeof e=="object"}const _7e=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:Q1e,getTensorsInContainer:Rq,isTensorInList:k7e,makeTypesMatch:_s},Symbol.toStringTag,{value:"Module"}));function J5(e){return e.kernelName!=null}class kse{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class Dw{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new kse}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?(zl(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g7e(this.backendInstance),!0}setupRegisteredKernels(){EO(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){EO(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof VM)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,o=r.then(i=>s<this.pendingBackendInitId?!1:(this.registry[t]=i,this.pendingBackendInit=null,!0)).catch(i=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,zl(`Initialization of backend ${t} failed`),zl(i.stack||i.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return zl(`Initialization of backend ${t} failed`),zl(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:s,asyncInit:o}=this.initializeBackend(r);if(o||s)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),s=r.backend,o=this.readSync(n),i=s.refCount(n);s.disposeData(n,!0),r.backend=t,t.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(t,n,r){t();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Dw.nextTensorId++}nextVariableId(){return Dw.nextVariableId++}clone(t){const n=ve.runKernel(v2,{x:t}),r={x:t},s=i=>({x:()=>{const a="float32",l={x:i},u={dtype:a};return ve.runKernel(s2,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,o,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(Nk(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const s=this.backend.numDataIds();let o=0;r.forEach(l=>{o+=l.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const s=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const u=J5(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(J5(t)){const{kernelName:p,inputs:g,attrs:m}=t;this.backendName==null&&this.backend;const v=Nk(p,this.backendName);te(v!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),a=()=>{const y=this.backend.numDataIds();l=v.kernelFunc({inputs:g,attrs:m,backend:this.backend});const w=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,y,w);const b=w.map(C=>C.rank!=null?C:this.makeTensorFromTensorInfo(C));if(s){const C=this.getTensorsForGradient(p,g,b);r=this.saveTensorsForBackwardMode(C)}return b}}else{const{forwardFunc:p}=t,g=m=>{s&&(r=m.map(v=>this.keep(this.clone(v))))};a=()=>{const m=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,g));const v=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,m,v),v}}const{inputs:c,attrs:f}=t,d=J5(t)?null:t.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(u,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const s=dV(t);if(s!=null){const o=s.inputsToSave||[],i=s.outputsToSave||[];let a;s.saveAllInputs?(te(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(u=>n[u])):a=o.map(u=>n[u]);const l=r.filter((u,c)=>i[c]);return a.concat(l)}return[]}makeTensor(t,n,r,s){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let o=t;r==="string"&&Lf(t[0])&&(o=t.map(l=>Uf(l)));const i=s.write(o,n,r),a=new Mr(n,r,i,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(i),u=F1e(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return a}makeTensorFromDataId(t,n,r,s){r=r||"float32";const o={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,s)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:s,dtype:o}=t,i=new Mr(s,o,r,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(t,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==t.dtype&&(t=t.cast(s));const o=new Dk(t,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*Ek(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof Dk||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*Ek(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,s,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:o},l=dV(t);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],h=qo(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),s(u.length>1?u:u[0],o,i))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=Rq(t),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const i=this.state.activeScope.track[o];!i.kept&&!r.has(i.id)&&i.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===s.id&&this.track(o)})}gradients(t,n,r,s=!1){if(te(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));te(o instanceof Mr,()=>"The result y returned by f() must be a tensor.");const i=y7e(this.state.activeTape,n,o);if(!s&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=r??T7e(o.shape),b7e(a,i,u=>this.tidy(u),A7e);const l=n.map(u=>a[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(t){return te(um(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{te(n.every(a=>a instanceof Mr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const o=(a,l)=>(r=t(...n,l),te(r.value instanceof Mr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),te(um(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),i=(a,l)=>{const u=r.gradFunc(a,l),c=Array.isArray(u)?u:[u];te(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),te(c.every(d=>d instanceof Mr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,h)=>{f[h]=()=>d}),f};return this.runKernelFunc({forwardFunc:o,backwardsFunc:i,inputs:s})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=Fi(),r=await this.backend.time(t);return r.wallMs=Fi()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new kse;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Dw.nextTensorId=0;Dw.nextVariableId=0;function T7e(e){const t=UM(je(e),"float32");return ve.makeTensor(t,e,"float32")}function tye(){const e=z1e();if(e._tfengine==null){const t=new B1e(e);e._tfengine=new Dw(t)}return Y9e(e._tfengine.ENV),C7e(()=>e._tfengine),e._tfengine}const ve=tye();function A7e(e,t){const n={a:e,b:t};return ve.runKernel(ay,n)}function I7e(){return typeof navigator<"u"&&navigator!=null}let bV;function N7e(e){bV=e}function Fq(e){if(bV!==void 0)return bV;if(e||I7e()){if(e||(e=navigator),e.product==="ReactNative")return!0;const t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){const n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function Mq(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const D7e=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:Mq,isMobile:Fq,mockIsMobile:N7e},Symbol.toStringTag,{value:"Module"}));const Oa=Pe();Oa.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Oa.registerFlag("IS_BROWSER",()=>Mq());Oa.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Oa.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Oa.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Oa.registerFlag("PROD",()=>!1);Oa.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Oa.getBool("DEBUG"));Oa.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Oa.registerFlag("IS_TEST",()=>!1);Oa.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Oa.getBool("DEBUG"));Oa.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Oa.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Oa.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function ad(e,t){let n=e;if(go(e))return t==="string"?[]:[e.length];if(Z1e(e)){const s=e.channels||"RGBA";return[e.height,e.width*s.length]}else if(J1e(e))return[e.buffer.size/(t==null?4:Ek(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||go(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&Pe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&nye(e,r,[]),r}function nye(e,t,n){if(n=n||[],!Array.isArray(e)&&!go(e)){te(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}te(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),te(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let s=0;s<e.length;++s)nye(e[s],r,n.concat(s))}function Ese(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function ne(e,t,n,r="numeric"){if(e instanceof qe())return Ese(r,e.dtype,t,n),e;let s=oy(e);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),Ese(r,s,t,n),e==null||!go(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=ad(e,s);!go(e)&&!Array.isArray(e)&&(e=[e]);const a=s!=="string"?e0(e,s):id(e,[],!0);return ve.makeTensor(a,o,s)}function Ok(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((o,i)=>ne(o,`${t}[${i}]`,n,r))}const rye="__op";function be(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+rye;const s=(...o)=>{ve.startScope(n);try{const i=r(...o);return jM(i)&&console.error("Cannot return a Promise inside of tidy."),ve.endScope(i),i}catch(i){throw ve.endScope(null),i}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}function O7e(e,t){const n=ne(e,"real","complex"),r=ne(t,"imag","complex");Zo(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ve.runKernel(ZM,s)}const cm=be({complex_:O7e});function t0(e,t,n,r){if(r==null)r=oy(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(J1e(e)||Z1e(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ve.backend.createTensorFromGPUData(e,t||n,r)}if(!go(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){Al(t);const s=je(t),o=je(n);te(s===o,()=>`Based on the provided shape, [${t}], the tensor should have ${s} values but has ${o}`);for(let i=0;i<n.length;++i){const a=n[i],l=i===n.length-1?a!==je(t.slice(i)):!0;te(n[i]===t[i]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!go(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?e0(e,r):id(e,[],!0),ve.makeTensor(e,t,r)}function qv(e,t,n){const r=ad(e,n);return t0(e,t,r,n)}const g1={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Xc{static join(t){return new Xc(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>go(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const s=t[r];r!==t.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+s.byteLength;this.shards.push({buffer:s,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const s=n-t,o=new ArrayBuffer(s),i=new Uint8Array(o);let a=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=t+a-u.start,d=a,p=Math.min(n,u.end)-u.start,g=new Uint8Array(u.buffer,f,p-f);if(i.set(g,d),a+=g.length,n<u.end)break}return o}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(s){return t<s.start?-1:t>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=R7e(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function R7e(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,o=t(e[s]);if(o===0)return s;o<0?r=s:n=s+1}return-1}function F7e(){Pe().set("PROD",!0)}function M7e(){Pe().set("DEBUG",!0)}function P7e(){Pe().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function L7e(e){Pe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function B7e(){ve.disposeVariables()}function lc(){return ve}function wV(){return ve.memory()}function z7e(e){return ve.profile(e)}function Be(e,t){return ve.tidy(e,t)}function Yn(e){Rq(e).forEach(n=>n.dispose())}function kc(e){return ve.keep(e)}function V7e(e){return ve.time(e)}function W7e(e){return ve.setBackend(e)}function U7e(){return ve.ready()}function sye(){return ve.backendName}function j7e(e){ve.removeBackend(e)}function H7e(e){return ve.findBackend(e)}function q7e(e){return ve.findBackendFactory(e)}function Pq(e,t,n=1){return ve.registerBackend(e,t,n)}function Lq(){return ve.backend}function G7e(e,t){Pe().setPlatform(e,t)}const fm=4;async function xV(e,t){const n=[],r=[],s=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);for(let i=0;i<s.length;++i){const a=s[i],l=Array.isArray(e)?e[i].tensor:e[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),h=d.reduce((m,v)=>m+v.length,0)+fm*d.length,p=new Uint8Array(h);let g=0;for(let m=0;m<d.length;m++){const v=d[m],y=new Uint8Array(new Uint32Array([v.length]).buffer);p.set(y,g),g+=fm,p.set(v,g),g+=v.length}f(p)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const o=await Promise.all(r);return{data:Z7e(o),specs:n}}function oye(e,t){const n=new Xc(e),r={};let s=0;for(const o of t){const i=K7e(o,(a,l)=>n.slice(s+a,s+l));r[o.name]=iye(o,n.slice(s,s+i)),s+=i}return r}function K7e(e,t){const n=je(e.shape);let r;if("quantization"in e){const s=e.quantization;r=g1[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=fm+new Uint32Array(t(s,s+fm))[0];return s}else r=g1[e.dtype];return n*r}async function Y7e(e,t){const n=je(e.shape);let r;if("quantization"in e){const s=e.quantization;r=g1[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=fm+new Uint32Array(await t(s,s+fm))[0];return s}else r=g1[e.dtype];return n*r}function iye(e,t){const n=e.name,r=e.dtype,s=e.shape,o=je(s);let i,a=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=g1[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){i=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=d*l.scale+l.min}}else if(l.dtype==="float16")i=rVe()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);i=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*u}else if(r==="string"){const l=je(e.shape);i=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(a,a+fm))[0];a+=fm;const f=new Uint8Array(t.slice(a,a+c));i.push(f),a+=c}}else{const l=g1[r];if(r==="float32")i=new Float32Array(t);else if(r==="int32")i=new Int32Array(t);else if(r==="bool")i=new Uint8Array(t);else if(r==="complex64"){i=new Float32Array(t);const u=new Float32Array(i.length/2),c=new Float32Array(i.length/2);for(let p=0;p<u.length;p++)u[p]=i[p*2],c[p]=i[p*2+1];const f=qv(u,s,"float32"),d=qv(c,s,"float32"),h=cm(f,d);return f.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*l}return qv(i,s,r)}async function _se(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:s,value:o}=await e.read();if(s&&o==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function X7e(e,t){const n={},r=e.getReader();let s=new ArrayBuffer(0);for(const o of t){const i=await Y7e(o,async(u,c)=>(s=await _se(r,s,c),s.slice(u,c)));s=await _se(r,s,i);const a=s.slice(0,i);s=s.slice(i);const l=iye(o,a);if(n[o.name]=l,sye()==="webgpu"){const u=Lq();"uploadToGPU"in u&&je(l.shape)>=Pe().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function Z7e(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(o=>{if(t+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(t);let s=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),s),s+=o.byteLength}),r.buffer}const Bq=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Tse(e){return Bq?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function J7e(e){if(Bq)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Q7e(e){if(Bq){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function aye(e){return Xc.join(e)}function Ase(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const n=e.split("/");return n[n.length-1]}function lye(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function uye(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function zq(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),uye(e,n,r)}function FT(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:Tse(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:Tse(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new Xc(e.weightData).byteLength}}function CV(e){const t=[];for(const n of e)t.push(...n.weights);return t}function eVe(){const e=n=>{let r=n<<13,s=0;for(;(r&8388608)===0;)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function tVe(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function nVe(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function rVe(){const e=eVe(),t=tVe(),n=nVe();return r=>{const s=new ArrayBuffer(4*r.length),o=new Uint32Array(s);for(let i=0;i<r.length;i++){const a=r[i],l=e[n[a>>10]+(a&1023)]+t[a>>10];o[i]=l}return new Float32Array(s)}}class Cs{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Cs.instance==null&&(Cs.instance=new Cs),Cs.instance}static registerSaveRouter(t){Cs.getInstance().saveRouters.push(t)}static registerLoadRouter(t){Cs.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return Cs.getHandlers(t,"save")}static getLoadHandlers(t,n){return Cs.getHandlers(t,"load",n)}static getHandlers(t,n,r){const s=[];return(n==="load"?Cs.getInstance().loadRouters:Cs.getInstance().saveRouters).forEach(i=>{const a=i(t,r);a!==null&&s.push(a)}),s}}const sVe=e=>Cs.registerSaveRouter(e),oVe=e=>Cs.registerLoadRouter(e),cye=e=>Cs.getSaveHandlers(e),iVe=(e,t)=>Cs.getLoadHandlers(e,t);const SV="tensorflowjs",$V=1,kv="models_store",Ag="model_info_store";function fye(){if(!Pe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function kV(e){const t=e.result;t.createObjectStore(kv,{keyPath:"modelPath"}),t.createObjectStore(Ag,{keyPath:"modelPath"})}class m1{constructor(t){if(this.indexedDB=fye(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,s)=>{const o=this.indexedDB.open(SV,$V);o.onupgradeneeded=()=>kV(o),o.onsuccess=()=>{const i=o.result;if(n==null){const a=i.transaction(kv,"readonly"),u=a.objectStore(kv).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return i.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(i.close(),s(u.error)),a.oncomplete=()=>i.close()}else{n.weightData=Xc.join(n.weightData);const a=FT(n),l=i.transaction(Ag,"readwrite");let u=l.objectStore(Ag),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let f;c.onsuccess=()=>{f=i.transaction(kv,"readwrite");const d=f.objectStore(kv);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(p){return s(p)}h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=p=>{u=l.objectStore(Ag);const g=u.delete(this.modelPath);g.onsuccess=()=>(i.close(),s(h.error)),g.onerror=m=>(i.close(),s(h.error))}},c.onerror=d=>(i.close(),s(c.error)),l.oncomplete=()=>{f==null?i.close():f.oncomplete=()=>i.close()}}},o.onerror=i=>s(o.error)})}}m1.URL_SCHEME="indexeddb://";const dye=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(m1.URL_SCHEME)?aVe(e.slice(m1.URL_SCHEME.length)):null;Cs.registerSaveRouter(dye);Cs.registerLoadRouter(dye);function aVe(e){return new m1(e)}function lVe(e){return e.startsWith(m1.URL_SCHEME)?e.slice(m1.URL_SCHEME.length):e}class uVe{constructor(){this.indexedDB=fye()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open(SV,$V);r.onupgradeneeded=()=>kV(r),r.onsuccess=()=>{const s=r.result,o=s.transaction(Ag,"readonly"),a=o.objectStore(Ag).getAll();a.onsuccess=()=>{const l={};for(const u of a.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},a.onerror=l=>(s.close(),n(a.error)),o.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(t){return t=lVe(t),new Promise((n,r)=>{const s=this.indexedDB.open(SV,$V);s.onupgradeneeded=()=>kV(s),s.onsuccess=()=>{const o=s.result,i=o.transaction(Ag,"readwrite"),a=i.objectStore(Ag),l=a.get(t);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=a.delete(t),f=()=>{u=o.transaction(kv,"readwrite");const h=u.objectStore(kv).delete(t);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),o.close(),r(l.error))}},l.onerror=c=>(o.close(),r(l.error)),i.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},s.onerror=o=>r(s.error)})}}const kh="/",Pb="tensorflowjs_models",hye="info",cVe="model_topology",fVe="weight_specs",dVe="weight_data",hVe="model_metadata";function pye(e){return{info:[Pb,e,hye].join(kh),topology:[Pb,e,cVe].join(kh),weightSpecs:[Pb,e,fVe].join(kh),weightData:[Pb,e,dVe].join(kh),modelMetadata:[Pb,e,hVe].join(kh)}}function gye(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function pVe(e){const t=e.split(kh);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(kh)}function gVe(e){return e.startsWith(v1.URL_SCHEME)?e.slice(v1.URL_SCHEME.length):e}class v1{constructor(t){if(!Pe().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=pye(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),s=FT(t),o=Xc.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,J7e(o));const i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw gye(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Q7e(i),n}}v1.URL_SCHEME="localstorage://";const mye=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v1.URL_SCHEME)?mVe(e.slice(v1.URL_SCHEME.length)):null;Cs.registerSaveRouter(mye);Cs.registerLoadRouter(mye);function mVe(e){return new v1(e)}class vVe{constructor(){te(Pe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),te(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=Pb+kh,r=kh+hye;for(let s=0;s<this.LS.length;++s){const o=this.LS.key(s);if(o.startsWith(n)&&o.endsWith(r)){const i=pVe(o);t[i]=JSON.parse(this.LS.getItem(o))}}return t}async removeModel(t){t=gVe(t);const n=pye(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return gye(n),r}}const ow="://";class Mi{constructor(){this.managers={}}static getInstance(){return Mi.instance==null&&(Mi.instance=new Mi),Mi.instance}static registerManager(t,n){te(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(ow)&&(t=t.slice(0,t.indexOf(ow))),te(t.length>0,()=>"scheme must not be an empty string.");const r=Mi.getInstance();te(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=Mi.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(Mi.getInstance().managers)}}function JD(e){if(e.indexOf(ow)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Mi.getSchemes().join(",")}`);return{scheme:e.split(ow)[0],path:e.split(ow)[1]}}async function vye(e,t,n=!1){te(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=Cs.getLoadHandlers(e);te(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),te(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);const s=r[0],o=Cs.getSaveHandlers(t);te(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),te(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);const i=o[0],a=JD(e).scheme,l=JD(e).path,u=a===JD(e).scheme,c=await s.load();n&&u&&await Mi.getManager(a).removeModel(l);const f=await i.save(c);return n&&!u&&await Mi.getManager(a).removeModel(l),f.modelArtifactsInfo}async function yVe(){const e=Mi.getSchemes(),t={};for(const n of e){const r=await Mi.getManager(n).listModels();for(const s in r){const o=n+ow+s;t[o]=r[s]}}return t}async function bVe(e){const t=JD(e);return Mi.getManager(t.scheme).removeModel(t.path)}async function wVe(e,t){return vye(e,t,!1)}async function xVe(e,t){return vye(e,t,!0)}class CVe{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!Pe().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return j1e(t)}}if(Pe().get("IS_BROWSER")){Pe().setPlatform("browser",new CVe);try{Mi.registerManager(v1.URL_SCHEME,new vVe)}catch{}try{Mi.registerManager(m1.URL_SCHEME,new uVe)}catch{}}const SVe={importFetch:()=>require("node-fetch")};let Q5;class $Ve{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return Pe().global.fetch!=null?Pe().global.fetch(t,n):(Q5==null&&(Q5=SVe.importFetch()),Q5(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}Pe().get("IS_NODE")&&!Pe().get("IS_BROWSER")&&Pe().setPlatform("node",new $Ve);function Wn(e,t="float32",n){return t=t||"float32",Al(e),new Xs(e,t,n)}function kVe(e,t){const n=ne(e,"x","cast");if(!R1e(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return ve.runKernel(s2,r,s)}const At=be({cast_:kVe});function EVe(e){const n={x:ne(e,"x","clone","string_or_numeric")};return ve.runKernel(v2,n)}const Xg=be({clone_:EVe});function yye(e,t=!1){console.log(e.toString(t))}tye();const _Ve={buffer:Wn,cast:At,clone:Xg,print:yye};S7e(_Ve);function TVe(e,t){let n=ne(e,"a","add"),r=ne(t,"b","add");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(ay,s)}const mt=be({add_:TVe});function AVe(e,t){let n=ne(e,"a","floorDiv"),r=ne(t,"b","floorDiv");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(g2,s)}const Vq=be({floorDiv_:AVe});function IVe(e,t){let n=ne(e,"a","div"),r=ne(t,"b","div");if([n,r]=_s(n,r),n.dtype==="int32"&&r.dtype==="int32")return Vq(n,r);const s={a:n,b:r},o={};return ve.runKernel(u2,s,o)}const an=be({div_:IVe});function NVe(e,t){let n=ne(e,"a","mul"),r=ne(t,"b","mul");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(E2,s)}const we=be({mul_:NVe});function DVe(e){const t=ne(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return ve.runKernel(z_,n)}else{const n={x:t};return ve.runKernel(N_,n)}}const eo=be({abs_:DVe});function OVe(e){const n={x:ne(e,"x","acos")};return ve.runKernel(Zx,n)}const bye=be({acos_:OVe});function RVe(e){const n={x:ne(e,"x","acosh")};return ve.runKernel(Jx,n)}const wye=be({acosh_:RVe});function FVe(e){te(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),te(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);const t=e.map((s,o)=>ne(s,`tensors${o}`,"addN")),n=t[0];t.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(s=>{if(!ir(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return ve.runKernel(D_,r)}const MVe=be({addN_:FVe});function PVe(e,t=null,n=!1){const s={x:ne(e,"x","all","bool")},o={axis:t,keepDims:n};return ve.runKernel(HM,s,o)}const Wq=be({all_:PVe});function LVe(e,t=null,n=!1){const s={x:ne(e,"x","any","bool")},o={axis:t,keepDims:n};return ve.runKernel(qM,s,o)}const _O=be({any_:LVe});function BVe(e,t=0){const r={x:ne(e,"x","argMax")},s={axis:t};return ve.runKernel(O_,r,s)}const Ow=be({argMax_:BVe});function zVe(e,t=0){const r={x:ne(e,"x","argMin")},s={axis:t};return ve.runKernel(R_,r,s)}const xye=be({argMin_:zVe});function VVe(e){const n={x:ne(e,"x","asin")};return ve.runKernel(Qx,n)}const Cye=be({asin_:VVe});function WVe(e){const n={x:ne(e,"x","asinh")};return ve.runKernel(e2,n)}const Sye=be({asinh_:WVe});function UVe(e){const n={x:ne(e,"x","atan")};return ve.runKernel(t2,n)}const $ye=be({atan_:UVe});function jVe(e,t){let n=ne(e,"a","atan2"),r=ne(t,"b","atan2");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(r2,s)}const kye=be({atan2_:jVe});function HVe(e){const n={x:ne(e,"x","atanh")};return ve.runKernel(n2,n)}const Eye=be({atanh_:HVe});function MT(e,t,n,r,s="NHWC",o){const i=e[3],a=[...t,i],l=Tp(s);return To(e,a,n,o,r,null,null,l)}function Ku(e,t,n,r,s,o,i="channelsLast"){const[a,l]=Rk(t);let u;if(i==="channelsLast")u=[a,l,e[3],e[3]];else if(i==="channelsFirst")u=[a,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return To(e,u,n,r,s,o,!1,i)}function _p(e,t,n,r,s,o,i="NDHWC"){const[a,l,u]=EV(t);let c,f;if(i==="NDHWC")f="channelsLast",c=[a,l,u,e[4],e[4]];else if(i==="NCDHW")f="channelsFirst",c=[a,l,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return n0(e,c,n,r,s,!1,f,o)}function To(e,t,n,r,s,o,i=!1,a="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,f]=e;else if(a==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,p]=t,[g,m]=Rk(n),[v,y]=Rk(r),w=iw(d,v),b=iw(h,y),{padInfo:C,outHeight:S,outWidth:$}=KVe(s,u,c,g,m,w,b,o,a),k=i?p*f:p;let T;return a==="channelsFirst"?T=[l,k,S,$]:a==="channelsLast"&&(T=[l,S,$,k]),{batchSize:l,dataFormat:a,inHeight:u,inWidth:c,inChannels:f,outHeight:S,outWidth:$,outChannels:k,padInfo:C,strideHeight:g,strideWidth:m,filterHeight:d,filterWidth:h,effectiveFilterHeight:w,effectiveFilterWidth:b,dilationHeight:v,dilationWidth:y,inShape:e,outShape:T,filterShape:t}}function n0(e,t,n,r,s,o=!1,i="channelsLast",a){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[l,u,c,f,d]=e;else if(i==="channelsFirst")[l,d,u,c,f]=e;else throw new Error(`Unknown dataFormat ${i}`);const[h,p,g,,m]=t,[v,y,w]=EV(n),[b,C,S]=EV(r),$=iw(h,b),k=iw(p,C),T=iw(g,S),{padInfo:_,outDepth:E,outHeight:A,outWidth:N}=YVe(s,u,c,f,v,y,w,$,k,T,a),F=o?m*d:m;let R;return i==="channelsFirst"?R=[l,F,E,A,N]:i==="channelsLast"&&(R=[l,E,A,N,F]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:E,outHeight:A,outWidth:N,outChannels:F,padInfo:_,strideDepth:v,strideHeight:y,strideWidth:w,filterDepth:h,filterHeight:p,filterWidth:g,effectiveFilterDepth:$,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:b,dilationHeight:C,dilationWidth:S,inShape:e,outShape:R,filterShape:t}}function qVe(e,t,n,r,s){r==null&&(r=Uq(e,t,n));const o=e[0],i=e[1],a=Fk((o-t+2*r)/n+1,s),l=Fk((i-t+2*r)/n+1,s);return[a,l]}function GVe(e,t,n,r,s,o){s==null&&(s=Uq(e,t[0],r[0]));const i=[0,0,0,n];for(let a=0;a<3;a++)e[a]+2*s>=t[a]&&(i[a]=Fk((e[a]-t[a]+2*s)/r[a]+1,o));return i}function Uq(e,t,n,r=1){const s=iw(t,r);return Math.floor((e[0]*(n-1)-n+s)/2)}function Rk(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function EV(e){return typeof e=="number"?[e,e,e]:e}function iw(e,t){return t<=1?e:e+(e-1)*(t-1)}function KVe(e,t,n,r,s,o,i,a,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const h=qVe([t,n],o,r,e,a);c=h[0],f=h[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/s);const d=Math.max(0,(c-1)*r+o-t),h=Math.max(0,(f-1)*s+i-n),p=Math.floor(d/2),g=d-p,m=Math.floor(h/2),v=h-m;u={top:p,bottom:g,left:m,right:v,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),f=Math.ceil((n-i+1)/s);else if(typeof e=="object"){const d=l==="channelsLast"?e[1][0]:e[2][0],h=l==="channelsLast"?e[1][1]:e[2][1],p=l==="channelsLast"?e[2][0]:e[3][0],g=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:h,left:p,right:g,type:d===0&&h===0&&p===0&&g===0?"VALID":"EXPLICIT"},c=Fk((t-o+d+h)/r+1,a),f=Fk((n-i+p+g)/s+1,a)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function YVe(e,t,n,r,s,o,i,a,l,u,c){let f,d,h,p;if(e==="valid"&&(e=0),typeof e=="number"){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};const m=GVe([t,n,r,1],[a,l,u],1,[s,o,i],e,c);d=m[0],h=m[1],p=m[2]}else if(e==="same"){d=Math.ceil(t/s),h=Math.ceil(n/o),p=Math.ceil(r/i);const g=(d-1)*s+a-t,m=(h-1)*o+l-n,v=(p-1)*i+u-r,y=Math.floor(g/2),w=g-y,b=Math.floor(m/2),C=m-b,S=Math.floor(v/2),$=v-S;f={top:b,bottom:C,left:S,right:$,front:y,back:w,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}function Fk(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function dm(e){const[t,n,r]=Rk(e);return t===1&&n===1&&r===1}function Jo(e,t){return dm(e)||dm(t)}function y1(e){return Rk(e).every(t=>t>0)}function Tp(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function ua(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")te(p1(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(s=>{te(p1(s),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}function XVe(e,t){const r={x:ne(e,"x","reshape","string_or_numeric")},s={shape:t};return ve.runKernel(wT,r,s)}const _e=be({reshape_:XVe});function ZVe(e,t,n,r,s){const o=ne(e,"x","avgPool","float32"),i=1;te(Jo(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let a=o,l=!1;o.rank===3&&(l=!0,a=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),ua("avgPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let f=ve.runKernel(F_,u,c);return f=At(f,o.dtype),l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const J4=be({avgPool_:ZVe});function JVe(e,t,n,r,s,o="NDHWC"){const i=ne(e,"x","avgPool3d","float32");let a=i,l=!1;i.rank===4&&(l=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),te(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),te(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),ua("avgPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o};let f=ve.runKernel(M_,u,c);return f=At(f,a.dtype),l?_e(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const _ye=be({avgPool3d_:JVe});function QVe(e,t=0){te(e.length>=1,()=>"Pass at least one tensor to concat");const n=Ok(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return Xg(n[0]);const r=n,s={axis:t};return ve.runKernel(V_,r,s)}const xo=be({concat_:QVe});function eWe(e,t,n=!1,r=!1){let s=ne(e,"a","matMul"),o=ne(t,"b","matMul");[s,o]=_s(s,o);const i={a:s,b:o},a={transposeA:n,transposeB:r};return ve.runKernel(P_,i,a)}const Kn=be({matMul_:eWe});function tWe(e){const n={x:ne(e,"x","sigmoid","float32")};return ve.runKernel(P2,n)}const jf=be({sigmoid_:tWe});function nWe(e,t,n){const r=ne(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},o={begin:t,size:n};return ve.runKernel(kT,s,o)}const hr=be({slice_:nWe});function rWe(e){const n={x:ne(e,"x","tanh","float32")};return ve.runKernel(U2,n)}const b1=be({tanh_:rWe});function sWe(e,t,n,r,s,o){const i=ne(e,"forgetBias","basicLSTMCell"),a=ne(t,"lstmKernel","basicLSTMCell"),l=ne(n,"lstmBias","basicLSTMCell"),u=ne(r,"data","basicLSTMCell"),c=ne(s,"c","basicLSTMCell"),f=ne(o,"h","basicLSTMCell"),d=xo([u,f],1),h=Kn(d,a),p=mt(h,l),g=p.shape[0],m=p.shape[1]/4,v=[g,m],y=hr(p,[0,0],v),w=hr(p,[0,m],v),b=hr(p,[0,m*2],v),C=hr(p,[0,m*3],v),S=mt(we(jf(y),b1(w)),we(c,jf(mt(i,b)))),$=we(b1(S),jf(C));return[S,$]}const oWe=be({basicLSTMCell_:sWe});function iWe(e,t,n){const r=ne(e,"x","batchToSpaceND"),s=t.reduce((a,l)=>a*l);te(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),te(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),te(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`);const o={x:r},i={blockShape:t,crops:n};return ve.runKernel(L_,o,i)}const Q4=be({batchToSpaceND_:iWe});function aWe(e){let t;return e.rank===0||e.rank===1?t=_e(e,[1,1,1,e.size]):e.rank===2?t=_e(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}function lWe(e,t,n,r,s,o){o==null&&(o=.001);const i=ne(e,"x","batchNorm"),a=ne(t,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;s!=null&&(u=ne(s,"scale","batchNorm"));let c;r!=null&&(c=ne(r,"offset","batchNorm")),te(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:aWe(i),scale:u,offset:c,mean:a,variance:l},h={varianceEpsilon:o},p=ve.runKernel(X_,d,h);return _e(p,i.shape)}const PT=be({batchNorm_:lWe});function uWe(e,t,n,r,s,o){const i=ne(e,"x","batchNorm"),a=ne(t,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;s!=null&&(u=ne(s,"scale","batchNorm"));let c;return r!=null&&(c=ne(r,"offset","batchNorm")),te(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),te(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),te(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Tye=be({batchNorm2d_:uWe});function cWe(e,t,n,r,s,o){const i=ne(e,"x","batchNorm"),a=ne(t,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;s!=null&&(u=ne(s,"scale","batchNorm"));let c;return r!=null&&(c=ne(r,"offset","batchNorm")),te(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),te(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),te(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Aye=be({batchNorm3d_:cWe});function fWe(e,t,n,r,s,o){const i=ne(e,"x","batchNorm"),a=ne(t,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;s!=null&&(u=ne(s,"scale","batchNorm"));let c;return r!=null&&(c=ne(r,"offset","batchNorm")),te(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),te(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),te(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&te(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&te(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),PT(i,a,l,c,u,o)}const Iye=be({batchNorm4d_:fWe});function dWe(e,t,n){const r=ne(e,"x","bincount"),s=ne(t,"weights","bincount");te(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),te(n>=0,()=>`size must be non-negative, but got ${n}.`),te(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const o={x:r,weights:s},i={size:n};return ve.runKernel(YM,o,i)}const Nye=be({bincount_:dWe});function hWe(e,t){const n=ne(e,"x","bitwiseAnd"),r=ne(t,"y","bitwiseAnd");if(!ir(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return ve.runKernel(B_,s)}const pWe=be({bitwiseAnd_:hWe});function gWe(e,t){const n=ne(e,"s0","broadcastArgs","int32"),r=ne(t,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return ve.runKernel(XM,s)}const mWe=be({broadcastArgs_:gWe});function vWe(e,t){let n=ne(e,"broadcastTo","x");const r=n.shape;if(Al(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=_e(n,u)}const s=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(s[u]===t[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Xg(n);const a={x:n},l={reps:o};return ve.runKernel(j2,a,l)}const aw=be({broadcastTo_:vWe});function yWe(e){const n={x:ne(e,"x","ceil","float32")};return ve.runKernel(o2,n)}const Dye=be({ceil_:yWe});function q2(e,t,n){Al(e),n=n||oy(t);const r={shape:e,value:t,dtype:n};return ve.runKernel(d4,{},r)}function bWe(e,t,n){const r=ne(e,"x","clipByValue");if(te(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return q2(r.shape,t,r.dtype);const s={x:r},o={clipValueMin:t,clipValueMax:n};return ve.runKernel(i2,s,o)}const vl=be({clipByValue_:bWe});function wWe(e){return xo(e,0)}const Oye=be({concat1d_:wWe});function xWe(e,t){return xo(e,t)}const Rye=be({concat2d_:xWe});function CWe(e,t){return xo(e,t)}const Fye=be({concat3d_:CWe});function SWe(e,t){return xo(e,t)}const Mye=be({concat4d_:SWe});function $We(e,t,n,r,s="NHWC",o=[1,1],i){const a=ne(e,"x","conv2d","float32"),l=ne(t,"filter","conv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),te(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),ua("conv2d",r,i);const f=s==="NHWC"?u.shape[3]:u.shape[1];te(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),te(Jo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),te(y1(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},p=ve.runKernel(W_,d,h);return c?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const hm=be({conv2d_:$We});function kWe(e,t,n,r,s="NWC",o=1,i){const a=ne(e,"x","conv1d"),l=ne(t,"filter","conv1d");let u=a,c=!1;a.rank===2&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1]])),te(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),te(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),ua("conv1d",r,i),te(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),te(Jo(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),te(y1(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv1D: Stride should be larger than 0."),te(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=_e(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=_e(u,[u.shape[0],1,u.shape[1],u.shape[2]]),m=hm(d,f,[1,n],r,"NHWC",[1,o],i);return c?_e(m,[m.shape[2],m.shape[3]]):_e(m,[m.shape[0],m.shape[2],m.shape[3]])}const jq=be({conv1d_:kWe});function EWe(e,t,n,r,s,o="NHWC",i){te(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let a=e,l=t,u=!1;t.rank===3&&(u=!0,l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]),a=[1,e[0],e[1],e[2]]),te(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),te(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),te(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?a[3]:a[1],f=o==="NHWC"?l.shape[3]:l.shape[1];te(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),te(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),ua("conv2dDerInput",s,i);const d={dy:l,filter:n},h={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,inputShape:a},p=ve.runKernel(U_,d,h);return u?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Hq=be({conv2DBackpropInput_:EWe});function _We(e,t,n,r,s,o){const i=ne(e,"x","conv2dTranspose"),a=ne(t,"filter","conv2dTranspose");return Hq(n,i,a,r,s,"NHWC",o)}const qq=be({conv2dTranspose_:_We});function TWe(e,t,n,r,s="NDHWC",o=[1,1,1]){const i=ne(e,"x","conv3d"),a=ne(t,"filter","conv3d");let l=i,u=!1;i.rank===4&&(u=!0,l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),te(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),te(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),te(Jo(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),te(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),te(y1(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),te(y1(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:a},f={strides:n,pad:r,dataFormat:s,dilations:o},d=ve.runKernel(j_,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Pye=be({conv3d_:TWe});function AWe(e,t,n,r,s){te(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,i=t,a=!1;t.rank===4&&(a=!0,i=_e(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=i.shape[4];te(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),te(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),te(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),te(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),te(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:i,filter:n},f={pad:s,strides:r,inputShape:o},d=ve.runKernel(e4,c,f);return a?_e(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Lye=be({conv3DBackpropInput_:AWe});function IWe(e,t,n,r,s){const o=ne(e,"x","conv3dTranspose"),i=ne(t,"filter","conv3dTranspose");return Lye(n,o,i,r,s)}const Bye=be({conv3dTranspose_:IWe});function NWe(e){const n={x:ne(e,"x","cos","float32")};return ve.runKernel(a2,n)}const eP=be({cos_:NWe});function DWe(e){const n={x:ne(e,"x","cosh","float32")};return ve.runKernel(l2,n)}const Gq=be({cosh_:DWe});function OWe(e,t=0,n=!1,r=!1){const o={x:ne(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return ve.runKernel(t4,o,i)}const TO=be({cumprod_:OWe});function RWe(e,t=0,n=!1,r=!1){const o={x:ne(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return ve.runKernel(H_,o,i)}const Kq=be({cumsum_:RWe});function FWe(e,t,n,r=!1){const s=ne(e,"x","denseBincount"),o=ne(t,"weights","denseBincount");te(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),te(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),te(n>=0,()=>`size must be non-negative, but got ${n}.`),te(o.size===s.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${o.shape}.`);const i={x:s,weights:o},a={size:n,binaryOutput:r};return ve.runKernel(r4,i,a)}const _V=be({denseBincount_:FWe});function MWe(e,t,n="NHWC"){const r=ne(e,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];te(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),te(s*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${t}  for depthToSpace with input shape
    ${r.shape}`),te(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${t} for depthToSpace with input shape
        ${r.shape}`),te(i%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:t,dataFormat:n};return ve.runKernel(s4,a,l)}const zye=be({depthToSpace_:MWe});function PWe(e,t,n,r,s="NHWC",o=[1,1],i){const a=ne(e,"x","depthwiseConv2d","float32"),l=ne(t,"filter","depthwiseConv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),te(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];te(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),ua("depthwiseConv2d",r,i);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},p=ve.runKernel(q_,d,h);return c?_e(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const LT=be({depthwiseConv2d_:PWe});function LWe(e){const n={x:ne(e,"x","diag")};return ve.runKernel(a4,n)}const BWe=be({diag_:LWe});function zWe(e,t,n,r,s=[1,1],o="NHWC"){const i=ne(e,"x","dilation2d"),a=ne(t,"filter","dilation2d");te(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),te(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),te(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=i,u=!1;i.rank===3&&(l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),te(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const c={x:l,filter:a},f={strides:n,pad:r,dilations:s},d=ve.runKernel(G_,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Vye=be({dilation2d_:zWe});function w1(e,t){const n=e.length,r=[];for(let s=0;s<n;s++){const o=n-1-s,i=e[o]||1;(t[t.length-1-s]||1)>1&&i===1&&r.unshift(o)}return r}function Zs(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],o=t.length-r-1,i=t[o];(s==null||s===1&&i>1)&&n.unshift(o)}return n}function Nn(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let o=e[e.length-s-1];o==null&&(o=1);let i=t[t.length-s-1];if(i==null&&(i=1),o===1)r[n-s-1]=i;else if(i===1)r[n-s-1]=o;else if(o!==i){const a=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(a)}else r[n-s-1]=o}return r}const VWe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:Nn,getBroadcastDims:w1,getReductionAxes:Zs},Symbol.toStringTag,{value:"Module"}));function WWe(e,t){let n=ne(e,"a","equal","string_or_numeric"),r=ne(t,"b","equal","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(K_,s)}const Pc=be({equal_:WWe});function UWe(e,t,n){const r=ne(t,"a","where"),s=ne(n,"b","where"),o=ne(e,"condition","where","bool"),i=Nn(Nn(o.shape,r.shape),s.shape),a=aw(o,i),l=aw(r,i),u=aw(s,i),c={condition:a,t:l,e:u};return ve.runKernel($T,c)}const mi=be({where_:UWe});function jWe(e){const n={x:ne(e,"x","zerosLike")};return ve.runKernel(OT,n)}const ur=be({zerosLike_:jWe});function HWe(e,t){let n=ne(e,"a","div"),r=ne(t,"b","div");[n,r]=_s(n,r);const s=an(n,r),o=ur(s),i=Pc(r,o);return mi(i,o,s)}const Wye=be({divNoNan_:HWe});function qWe(e,t){const n=ne(e,"t1","dot"),r=ne(t,"t2","dot");te((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(te(s===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${o}.`),n.rank===1&&r.rank===1){const i=_e(n,[1,-1]),a=_e(r,[-1,1]),l=Kn(i,a);return _e(l,[])}else if(n.rank===1&&r.rank===2){const i=_e(n,[1,-1]),a=_e(r,[r.shape[0],r.shape[1]]),l=Kn(i,a);return _e(l,[l.size])}else if(n.rank===2&&r.rank===1){const i=_e(r,[-1,1]),a=Kn(n,i);return _e(a,[a.size])}else{const i=_e(r,[r.shape[0],r.shape[1]]);return Kn(n,i)}}const Uye=be({dot_:qWe});function GWe(e,...t){const n=t.map((s,o)=>ne(s,`tensors${o}`,"einsum")),r={equation:e};return ve.runKernel(u4,n,r)}const Lb=be({einsum_:GWe});function KWe(e){const n={x:ne(e,"x","elu","float32")};return ve.runKernel(c2,n)}const BT=be({elu_:KWe});function YWe(e,t){const n=ne(e,"x","ensureShape","string_or_numeric");if(!D1e(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}const XWe=be({ensureShape_:YWe});function ZWe(e){let t=ne(e,"x","erf");te(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=At(t,"float32"));const n={x:t};return ve.runKernel(f2,n)}const Yq=be({erf_:ZWe});function Xq(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function jye(e,t,n){const r=e.length+t.length,s=[];let o=0,i=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(e[o++]):s.push(t[i++]);return s}function Ao(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)t.indexOf(o)===-1&&n.push(e[o]);const s=t.map(o=>e[o]);return[n,s]}function Us(e,t){const n=t.map(r=>1);return jye(e,n,t)}function Qo(e,t,n){te(Xq(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function As(e,t){if(Xq(e,t))return null;const n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function r0(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function Hs(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}function JWe(e,t=null,n=!1){const s={x:ne(e,"x","max")},o={reductionIndices:t,keepDims:n};return ve.runKernel(iT,s,o)}const Nu=be({max_:JWe});function QWe(e,t=null,n=!1){const s={x:ne(e,"x","min")},o={axis:t,keepDims:n};return ve.runKernel(cT,s,o)}const Mk=be({min_:QWe});function eUe(e,t){let n=ne(e,"base","pow"),r=ne(t,"exp","pow");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(_2,s)}const sp=be({pow_:eUe});function $n(e,t){if((go(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&go(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return t0(e,[],[],t)}function tUe(e){const n={x:ne(e,"x","sqrt","float32")};return ve.runKernel(B2,n)}const Go=be({sqrt_:tUe});function nUe(e){const t=ne(e,"x","square"),n={};return ve.runKernel("Square",{x:t},n)}const Kr=be({square_:nUe});function rUe(e,t=null,n=!1){let r=ne(e,"x","sum");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return ve.runKernel(ET,s,o)}const Zt=be({sum_:rUe});function sUe(e,t="euclidean",n=null,r=!1){e=ne(e,"x","norm");const s=Hye(e,t,n);let o=s.shape;if(r){const i=qn(n,e.shape);o=Us(s.shape,i)}return _e(s,o)}function Hye(e,t,n=null){if(e.rank===0)return eo(e);if(e.rank!==1&&n===null)return Hye(_e(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return Zt(eo(e),n);if(t===1/0)return Nu(eo(e),n);if(t===-1/0)return Mk(eo(e),n);if(t==="euclidean"||t===2)return Go(Zt(sp(eo(e),$n(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return Nu(Zt(eo(e),n[0]),n[1]-1);if(t===1/0)return Nu(Zt(eo(e),n[1]),n[0]);if(t===-1/0)return Mk(Zt(eo(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Go(Zt(Kr(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const zT=be({norm_:sUe});function oUe(e,t=null,n=!1){return zT(e,"euclidean",t,n)}const qye=be({euclideanNorm_:oUe});function iUe(e){const n={x:ne(e,"x","exp")};return ve.runKernel(d2,n)}const yl=be({exp_:iUe});function aUe(e,t=0){const n=ne(e,"x","expandDims","string_or_numeric");te(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:t};return ve.runKernel(Y_,r,s)}const zi=be({expandDims_:aUe});function lUe(e){const n={x:ne(e,"x","expm1")};return ve.runKernel(h2,n)}const Gye=be({expm1_:lUe});function uUe(e,t){const n=ne(e,"x","tile","string_or_numeric");te(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},s={reps:t};return ve.runKernel(j2,r,s)}const bu=be({tile_:uUe});function cUe(e,t,n,r="float32"){t==null&&(t=e);const s=Wn([e,t],r),o=e<=t?e:t;for(let a=0;a<o;++a)s.set(1,a,a);const i=_e(s.toTensor(),[e,t]);if(n==null)return i;if(n.length===1)return bu(zi(i,0),[n[0],1,1]);if(n.length===2)return bu(zi(zi(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return bu(zi(zi(zi(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Zq=be({eye_:cUe});function fUe(e){const n={x:ne(e,"x","floor","float32")};return ve.runKernel(p2,n)}const VT=be({floor_:fUe});function dUe(e,t,n=0,r=0){const s=ne(e,"x","gather"),o=ne(t,"indices","gather","int32"),i={x:s,indices:o},a={axis:n,batchDims:r};return ve.runKernel(Z_,i,a)}const WT=be({gather_:dUe});function hUe(e,t){let n=ne(e,"a","greater","string_or_numeric"),r=ne(t,"b","greater","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(J_,s)}const Nl=be({greater_:hUe});function pUe(e,t){let n=ne(e,"a","greaterEqual","string_or_numeric"),r=ne(t,"b","greaterEqual","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(m2,s)}const s0=be({greaterEqual_:pUe});function gUe(e){const n={input:ne(e,"input","imag")};return ve.runKernel(m4,n)}const tP=be({imag_:gUe});function mUe(e){const n={x:ne(e,"x","isFinite")};return ve.runKernel(y2,n)}const Kye=be({isFinite_:mUe});function vUe(e){const n={x:ne(e,"x","isInf")};return ve.runKernel(b2,n)}const Yye=be({isInf_:vUe});function yUe(e){const n={x:ne(e,"x","isNaN")};return ve.runKernel(w2,n)}const Xye=be({isNaN_:yUe});function bUe(e,t=.2){const r={x:ne(e,"x","leakyRelu")},s={alpha:t};return ve.runKernel(Q_,r,s)}const nP=be({leakyRelu_:bUe});function wUe(e,t){let n=ne(e,"a","less","string_or_numeric"),r=ne(t,"b","less","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(eT,s)}const Pk=be({less_:wUe});function xUe(e,t){let n=ne(e,"a","lessEqual","string_or_numeric"),r=ne(t,"b","lessEqual","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(tT,s)}const uy=be({lessEqual_:xUe});function CUe(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return ve.runKernel(v4,{},r)}function SUe(e,t=5,n=1,r=1,s=.5){const o=ne(e,"x","localResponseNormalization");te(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),te(p1(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let i=o,a=!1;o.rank===3&&(a=!0,i=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:s},c=ve.runKernel(oT,l,u);return a?_e(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const Zye=be({localResponseNormalization_:SUe});function $Ue(e){const n={x:ne(e,"x","log","float32")};return ve.runKernel(x2,n)}const eu=be({log_:$Ue});function kUe(e){const n={x:ne(e,"x","log1p")};return ve.runKernel(C2,n)}const rP=be({log1p_:kUe});function EUe(e){return te(um(e),()=>"The f passed in grad(f) must be a function"),(t,n)=>{const r=ne(t,"x","tf.grad","string_or_numeric"),s=n!=null?ne(n,"dy","tf.grad"):null;return ve.tidy(()=>{const{value:o,grads:i}=ve.gradients(()=>e(r),[r],s);return s!=null&&Zo(o.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),sP(i),i[0]})}}function _Ue(e){return te(um(e),()=>"The f passed in grads(f) must be a function"),(t,n)=>{te(Array.isArray(t),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=Ok(t,"args","tf.grads","string_or_numeric"),s=n!=null?ne(n,"dy","tf.grads"):null;return ve.tidy(()=>{const{value:o,grads:i}=ve.gradients(()=>e(...r),r,s);return s!=null&&Zo(o.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),sP(i),i})}}function TUe(e){return te(um(e),()=>"The f passed in valueAndGrad(f) must be a function"),(t,n)=>{te(t instanceof Mr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),te(n==null||n instanceof Mr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=ve.gradients(()=>e(t),[t],n);return sP(r),{grad:r[0],value:s}}}function AUe(e){return te(um(e),()=>"The f passed in valueAndGrads(f) must be a function"),(t,n)=>{te(Array.isArray(t)&&t.every(s=>s instanceof Mr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),te(n==null||n instanceof Mr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=ve.gradients(()=>e(...t),t,n);return n!=null&&Zo(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),sP(r.grads),r}}function Jye(e,t){te(um(e),()=>"The f passed in variableGrads(f) must be a function"),te(t==null||Array.isArray(t)&&t.every(u=>u instanceof Dk),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in ve.registeredVariables)t.push(ve.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,s=t.length;t=t.filter(u=>u.trainable),te(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const o=!0,{value:i,grads:a}=ve.gradients(e,t,null,o);te(a.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),te(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const l={};return t.forEach((u,c)=>{a[c]!=null&&(l[u.name]=a[c])}),r?.forEach(u=>l[u.name]=null),{value:i,grads:l}}function ld(e){return ve.customGrad(e)}function sP(e){if(e.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function IUe(e){const n={x:ne(e,"x","neg")};return ve.runKernel(dT,n)}const as=be({neg_:IUe});function NUe(e){const n={x:ne(e,"x","softplus")};return ve.runKernel(L2,n)}const G2=be({softplus_:NUe});function DUe(e){const t=ne(e,"x","logSigmoid");return ld(r=>({value:as(G2(as(r))),gradFunc:i=>we(i,jf(as(r)))}))(t)}const Qye=be({logSigmoid_:DUe});function OUe(e,t){let n=ne(e,"a","sub"),r=ne(t,"b","sub");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(V2,s)}const jt=be({sub_:OUe});function RUe(e,t=-1){const n=ne(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return ld((s,o)=>{const a=Nu(s,t,!0),l=jt(s,a),u=jt(At(l,"float32"),eu(Zt(yl(l),t,!0)));return o([u]),{value:u,gradFunc:(f,d)=>{const[h]=d,p=!0,g=yl(h);return jt(f,we(Zt(f,t,p),g))}}})(n)}const Jq=be({logSoftmax_:RUe});function FUe(e,t=null,n=!1){const r=ne(e,"x","logSumExp"),s=qn(t,r.shape),o=Nu(r,s,!0),i=jt(r,o),a=yl(i),l=Zt(a,s),u=eu(l),c=mt(_e(o,u.shape),u);if(n){const f=Us(c.shape,s);return _e(c,f)}return c}const oP=be({logSumExp_:FUe});function MUe(e,t){const n=ne(e,"a","logicalAnd","bool"),r=ne(t,"b","logicalAnd","bool");Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(nT,s)}const ud=be({logicalAnd_:MUe});function PUe(e){const n={x:ne(e,"x","logicalNot","bool")};return ve.runKernel(rT,n)}const iP=be({logicalNot_:PUe});function LUe(e,t){const n=ne(e,"a","logicalOr","bool"),r=ne(t,"b","logicalOr","bool");Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(sT,s)}const Qq=be({logicalOr_:LUe});function BUe(e,t){const n=ne(e,"a","logicalXor","bool"),r=ne(t,"b","logicalXor","bool");return Nn(n.shape,r.shape),ud(Qq(e,t),iP(ud(e,t)))}const ebe=be({logicalXor_:BUe});const HI=2147483648;function zUe(e,t,n="left"){const r=ne(e,"sortedSequence","searchSorted"),s=ne(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=s.shape[s.shape.length-1],a=_e(r,[-1,o]),l=_e(s,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(je(l.shape)>=HI)throw new Error(`values tensor size must less than ${HI}`);if(a.shape[1]>=HI)throw new Error(`trailing dim_size must less than ${HI} for int32 output type, was ${a.shape[1]}`);const u={sortedSequence:a,values:l},c={side:n};return ve.runKernel(F4,u,c)}const eG=be({searchSorted_:zUe});function VUe(e,t){return eG(e,t,"left")}function WUe(e,t,n,r,s){const o=ne(e,"x","maxPool"),i=1;let a=o,l=!1;o.rank===3&&(l=!0,a=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),te(Jo(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ua("maxPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s},f=ve.runKernel(aT,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const aP=be({maxPool_:WUe});function UUe(e,t=[1,1,1],n,r,s,o="NDHWC"){const i=ne(e,"x","maxPool3d");let a=i,l=!1;i.rank===4&&(l=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),te(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),te(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),ua("maxPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o},f=ve.runKernel(lT,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const tbe=be({maxPool3d_:UUe});function jUe(e,t,n,r,s=!1){const i={x:ne(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:s},l=ve.runKernel(x4,i,a);return{result:l[0],indexes:l[1]}}const HUe=be({maxPoolWithArgmax_:jUe});function qUe(e,t){let n=ne(e,"a","maximum"),r=ne(t,"b","maximum");[n,r]=_s(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(S2,s)}const Ap=be({maximum_:qUe});function GUe(e,t=null,n=!1){const s={x:ne(e,"x","mean")},o={axis:t,keepDims:n};return ve.runKernel(uT,s,o)}const Ns=be({mean_:GUe});function no(e,t="float32"){if(Al(e),t==="complex64"){const r=no(e,"float32"),s=no(e,"float32");return cm(r,s)}const n=qo(je(e),t);return ve.makeTensor(n,e,t)}function ol(e,t="float32"){if(Al(e),t==="complex64"){const r=ol(e,"float32"),s=no(e,"float32");return cm(r,s)}const n=UM(je(e),t);return ve.makeTensor(n,e,t)}function KUe(e,t,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(e===void 0)return[];let r=ne(e,"x","meshgrid",e instanceof Mr?e.dtype:"float32");if(t===void 0)return[r];let s=ne(t,"y","meshgrid",t instanceof Mr?t.dtype:"float32");const o=je(r.shape),i=je(s.shape);return n==="xy"?(r=_e(r,[1,-1]),s=_e(s,[-1,1]),[Kn(ol([i,1],r.dtype),r),Kn(s,ol([1,o],s.dtype))]):(r=_e(r,[-1,1]),s=_e(s,[1,-1]),[Kn(r,ol([1,i],r.dtype)),Kn(ol([o,1],s.dtype),s)])}function YUe(e,t){let n=ne(e,"a","minimum"),r=ne(t,"b","minimum");[n,r]=_s(n,r),n.dtype==="bool"&&(n=At(n,"int32"),r=At(r,"int32")),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel($2,s)}const x1=be({minimum_:YUe});function XUe(e,t,n){te(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=ne(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");te(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)te(t[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),te(t[a][0]>=0&&t[a][0]<=r.shape[a]-s&&t[a][1]>=0&&t[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const o={paddings:t,mode:n},i={x:r};return ve.runKernel(fT,i,o)}const nbe=be({mirrorPad_:XUe});function ZUe(e,t){let n=ne(e,"a","mod"),r=ne(t,"b","mod");[n,r]=_s(n,r);const s={a:n,b:r};return ve.runKernel(k2,s)}const rbe=be({mod_:ZUe});function JUe(e,t=null,n=!1){e=ne(e,"x","moments");const r=qn(t,e.shape),s=Ns(e,r,n);let o=s.shape;n||(o=Us(s.shape,r));const i=Kr(jt(At(e,"float32"),_e(s,o))),a=Ns(i,r,n);return{mean:s,variance:a}}const lP=be({moments_:JUe});function QUe(e,t,n,r){const s=ne(t,"data","multiRNNCell"),o=Ok(n,"c","multiRNNCell"),i=Ok(r,"h","multiRNNCell");let a=s;const l=[];for(let f=0;f<e.length;f++){const d=e[f](a,o[f],i[f]);l.push(d[0]),l.push(d[1]),a=d[1]}const u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}const eje=be({multiRNNCell_:QUe});function tje(e,t,n,r=!1){const s=ne(e,"logits","multinomial"),o=s.size,i=s.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const l={logits:i===1?_e(s,[1,-1]):s},u={numSamples:t,seed:n,normalized:r},c=ve.runKernel(C4,l,u);return i===1?_e(c,[c.size]):c}const nje=be({multinomial_:tje});function rje(e,t){let n=ne(e,"a","notEqual","string_or_numeric"),r=ne(t,"b","notEqual","string_or_numeric");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r};return ve.runKernel(hT,s)}const Rw=be({notEqual_:rje});function sje(e,t,n=1,r=0,s="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:ne(e,"indices","oneHot","int32")},a={dtype:s,depth:t,onValue:n,offValue:r};return ve.runKernel(gT,i,a)}const Lk=be({oneHot_:sje});function oje(e){const n={x:ne(e,"x","onesLike")};return ve.runKernel(pT,n)}const tu=be({onesLike_:oje});function ije(e,t){const n=ne(e,"v1","outerProduct"),r=ne(t,"v2","outerProduct");te(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=_e(n,[-1,1]),o=_e(r,[1,-1]);return Kn(s,o)}const aje=be({outerProduct_:ije});function lje(e,t,n=0){const r=ne(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},o={x:r};return ve.runKernel(vT,o,s)}const o0=be({pad_:lje});function uje(e,t,n=0){return te(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),o0(e,[t],n)}const cje=be({pad1d_:uje});function fje(e,t,n=0){return te(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const dje=be({pad2d_:fje});function hje(e,t,n=0){return te(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const pje=be({pad3d_:hje});function gje(e,t,n=0){return te(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),o0(e,t,n)}const mje=be({pad4d_:gje});function vje(e,t,n){const r=ne(e,"x","spaceToBatchND");te(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),te(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),te(r.shape.reduce((i,a,l)=>l>0&&l<=t.length?i&&(a+n[l-1][0]+n[l-1][1])%t[l-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const s={x:r},o={blockShape:t,paddings:n};return ve.runKernel(_T,s,o)}const uP=be({spaceToBatchND_:vje});function yje(e,t,n,r,s,o,i){s==null&&(s=[1,1]),o==null&&(o=1),r===0&&(r="valid");const a=ne(e,"x","maxPool");let l=a,u=!1;a.rank===3&&(u=!0,l=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),te(Jo(o,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${s}'`);const c=Ku(l.shape,t,o,s,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=wje([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const h=f[0]===1&&f[1]===1,[p,g]=bje([c.inHeight,c.inWidth],f,d),m=h?r:"valid",v=h?l:uP(l,f,p),w=(n==="avg"?()=>J4(v,t,o,m,i):()=>aP(v,t,o,m,i))(),b=h?w:Q4(w,f,g);return u?_e(b,[b.shape[1],b.shape[2],b.shape[3]]):b}function bje(e,t,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),o=e.concat(r,s),i=t.map((c,f)=>(c-o[f]%c)%c),a=s.map((c,f)=>c+i[f]),l=t.map((c,f)=>[r[f],a[f]]),u=t.map((c,f)=>[0,i[f]]);return[l,u]}function wje(e,t){const r=e.map((i,a)=>i+(i-1)*(t[a]-1)).map(i=>i-1),s=r.map(i=>Math.floor(i/2)),o=r.map((i,a)=>i-s[a]);return r.map((i,a)=>[s[a],o[a]])}const sbe=be({pool_:yje});function xje(e,t){const n=ne(e,"x","prelu"),r=ne(t,"alpha","prelu"),s={x:n,alpha:r};return ve.runKernel(yT,s)}const cP=be({prelu_:xje});function Cje(e,t=null,n=!1){let r=ne(e,"x","prod");r.dtype==="bool"&&(r=At(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return ve.runKernel(bT,s,o)}const obe=be({prod_:Cje});function Sje(e,t,n,r){const s=e.map((c,f)=>ne(c,`tensors${f}`,"raggedGather","int32")),o=ne(t,"paramsDenseValues","raggedGather"),i=ne(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:o,indices:i},l={outputRaggedRank:r},u=ve.runKernel(E4,a,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const $je=be({raggedGather_:Sje});function kje(e,t,n){const r=ne(e,"starts","raggedRange"),s=ne(t,"limits","raggedRange",r.dtype),o=ne(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:s,deltas:o},a=ve.runKernel(_4,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Eje=be({raggedRange_:kje});function _je(e,t,n,r,s){const o=ne(e,"shape","raggedTensorToTensor","int32"),i=ne(t,"values","raggedTensorToTensor"),a=ne(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map((f,d)=>ne(f,`tensors${d}`,"raggedTensorToTensor","int32")),u={shape:o,values:i,defaultValue:a,rowPartitionTensors:l},c={rowPartitionTypes:s};return ve.runKernel(T4,u,c)}const Tje=be({raggedTensorToTensor_:_je});function Aje(e,t,n){Al(e);const r=je(e);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)s[o]=t();return ve.makeTensor(s,e,n)}const Ije=be({rand_:Aje});var QD={exports:{}},Nje=QD.exports,Ise;function Dje(){return Ise||(Ise=1,(function(e){(function(t,n,r){function s(l){var u=this,c=a();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function i(l,u){var c=new s(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,c),d.state=function(){return o(c,{})}),d}function a(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=i:this.alea=i})(Nje,e)})(QD)),QD.exports}var e3={exports:{}},Oje=e3.exports,Nse;function Rje(){return Nse||(Nse=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor128=i})(Oje,e)})(e3)),e3.exports}var t3={exports:{}},Fje=t3.exports,Dse;function Mje(){return Dse||(Dse=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorwow=i})(Fje,e)})(t3)),t3.exports}var n3={exports:{}},Pje=n3.exports,Ose;function Lje(){return Ose||(Ose=1,(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorshift7=i})(Pje,e)})(n3)),n3.exports}var r3={exports:{}},Bje=r3.exports,Rse;function zje(){return Rse||(Rse=1,(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,g,m,v=[],y=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,y=Math.max(y,f.length)),p=0,g=-32;g<y;++g)f&&(h^=f.charCodeAt((g+32)%f.length)),g===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(m=m+1640531527|0,d=v[g&127]^=h+m,p=d==0?p+1:0);for(p>=128&&(v[(f&&f.length||0)&127]=-1),p=127,g=512;g>0;--g)h=v[p+34&127],d=v[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,v[p]=h^d;c.w=m,c.X=v,c.i=p}u(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor4096=i})(Bje,e)})(r3)),r3.exports}var s3={exports:{}},Vje=s3.exports,Fse;function Wje(){return Fse||(Fse=1,(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.tychei=i})(Vje,e)})(s3)),s3.exports}var o3={exports:{}};const Uje={},jje=Object.freeze(Object.defineProperty({__proto__:null,default:Uje},Symbol.toStringTag,{value:"Module"})),Hje=ly(jje);var qje=o3.exports,Mse;function Gje(){return Mse||(Mse=1,(function(e){(function(t,n,r){var s=256,o=6,i=52,a="random",l=r.pow(s,o),u=r.pow(2,i),c=u*2,f=s-1,d;function h(b,C,S){var $=[];C=C==!0?{entropy:!0}:C||{};var k=v(m(C.entropy?[b,w(n)]:b??y(),3),$),T=new p($),_=function(){for(var E=T.g(o),A=l,N=0;E<u;)E=(E+N)*s,A*=s,N=T.g(1);for(;E>=c;)E/=2,A/=2,N>>>=1;return(E+N)/A};return _.int32=function(){return T.g(4)|0},_.quick=function(){return T.g(4)/4294967296},_.double=_,v(w(T.S),n),(C.pass||S||function(E,A,N,F){return F&&(F.S&&g(F,T),E.state=function(){return g(T,{})}),N?(r[a]=E,A):E})(_,k,"global"in C?C.global:this==r,C.state)}function p(b){var C,S=b.length,$=this,k=0,T=$.i=$.j=0,_=$.S=[];for(S||(b=[S++]);k<s;)_[k]=k++;for(k=0;k<s;k++)_[k]=_[T=f&T+b[k%S]+(C=_[k])],_[T]=C;($.g=function(E){for(var A,N=0,F=$.i,R=$.j,P=$.S;E--;)A=P[F=f&F+1],N=N*s+P[f&(P[F]=P[R=f&R+A])+(P[R]=A)];return $.i=F,$.j=R,N})(s)}function g(b,C){return C.i=b.i,C.j=b.j,C.S=b.S.slice(),C}function m(b,C){var S=[],$=typeof b,k;if(C&&$=="object")for(k in b)try{S.push(m(b[k],C-1))}catch{}return S.length?S:$=="string"?b:b+"\0"}function v(b,C){for(var S=b+"",$,k=0;k<S.length;)C[f&k]=f&($^=C[f&k]*19)+S.charCodeAt(k++);return w(C)}function y(){try{var b;return d&&(b=d.randomBytes)?b=b(s):(b=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(b)),w(b)}catch{var C=t.navigator,S=C&&C.plugins;return[+new Date,t,S,t.screen,w(n)]}}function w(b){return String.fromCharCode.apply(0,b)}if(v(r.random(),n),e.exports){e.exports=h;try{d=Hje}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:qje,[],Math)})(o3)),o3.exports}var e8,Pse;function Kje(){if(Pse)return e8;Pse=1;var e=Dje(),t=Rje(),n=Mje(),r=Lje(),s=zje(),o=Wje(),i=Gje();return i.alea=e,i.xor128=t,i.xorwow=n,i.xorshift7=r,i.xor4096=s,i.tychei=o,e8=i,e8}var fP=Kje();const Yje=.001,ibe=.1;function Xje(e,t,n){return n==null&&(n=tG()),TV(e,t,(r,s)=>nG(r,s,n))}function tG(){return ve.backend.floatPrecision()===32?Yje:ibe}function TV(e,t,n){let r=!0;if((go(e)||go(t))&&(r=!1),go(e)&&go(t)&&(r=!0),r){const i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error(`Arrays are of different type. Actual: ${i}. Expected: ${a}`)}if(Array.isArray(e)&&Array.isArray(t)){const i=ad(e),a=ad(t);if(!ir(i,a))throw new Error(`Arrays have different shapes. Actual: [${i}]. Expected: [${a}]`)}const s=go(e)?e:id(e),o=go(t)?t:id(t);if(s.length!==o.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${o.length}.
Actual:   ${s}.
Expected: ${o}.`);for(let i=0;i<o.length;++i){const a=s[i],l=o[i];if(!n(a,l))throw new Error(`Arrays differ: actual[${i}] = ${a}, expected[${i}] = ${l}.
Actual:   ${s}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function Zje(e,t){e().then(()=>t.fail(),()=>t()),typeof expect<"u"&&expect().nothing()}function Jje(e,t){const n=typeof t=="string"||typeof t=="number"||typeof t=="boolean"?[t]:t;return Lf(e)||Lf(e[0])||Lf(t)||Lf(t[0])?TV(e,n,(r,s)=>r==s):TV(e,t,(r,s)=>nG(r,s,0))}function Qje(e,t,n){if(n==null&&(n=tG()),!nG(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`);typeof expect<"u"&&expect().nothing()}function nG(e,t,n){return!isFinite(e)&&!isFinite(t)?!0:!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function eHe(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function tHe(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function abe(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?abe(n):e[t]=Uf(n)}return e}function nHe(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise(n=>{t.addEventListener("loadeddata",r=>n(t)),t.load()})}async function rHe(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise(t=>{e.requestVideoFrameCallback(t)})}const sHe=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:ibe,createVideoElement:nHe,encodeStrings:abe,expectArrayBuffersEqual:tHe,expectArraysClose:Xje,expectArraysEqual:Jje,expectNumbersClose:Qje,expectPromiseToFail:Zje,expectValuesInRange:eHe,play:rHe,testEpsilon:tG},Symbol.toStringTag,{value:"Module"}));class rG{constructor(t,n,r,s,o){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=o||Math.random();this.random=fP.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let t,n,r=!1;for(;!r;){let s,o,i;do s=2*this.random()-1,o=2*this.random()-1,i=s*s+o*o;while(i>=1||i===0);const a=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class oHe{constructor(t,n,r,s){this.alpha=t,this.beta=1/n,this.dtype=r;const o=s||Math.random();this.randu=fP.alea(o.toString()),this.randn=new rG(0,1,r,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,n,r,s,o,i;for(;;){do s=this.randn.nextValue(),i=1+this.c*s;while(i<=0);if(i*=i*i,t=s*s,n=1-.331*t*t,r=.5*t+this.d*(1-i+Math.log(i)),o=this.randu(),o<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(t){return this.dtype==="float32"?t:Math.round(t)}}class iHe{constructor(t=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=fP.alea(s)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function aHe(e,t,n=1,r="float32",s){if(Al(e),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new oHe(t,n,r,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const lHe=be({randomGamma_:aHe});function uHe(e,t=0,n=1,r,s){if(Al(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new rG(t,n,r,!1,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const sG=be({randomNormal_:uHe});function cHe(e,t,n){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return sG(e,0,1,t,n)}const fHe=be({randomStandardNormal_:cHe});function dHe(e,t=0,n=1,r="float32",s){Al(e);const o=Wn(e,r),i=new iHe(t,n,null,s);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const cy=be({randomUniform_:dHe});function hHe(e,t,n,r){return cy(e,t,n,"int32",r)}const pHe=be({randomUniformInt_:hHe});function Fw(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return ve.runKernel(A4,{},s)}function gHe(e){const n={input:ne(e,"input","real")};return ve.runKernel(I4,n)}const Bk=be({real_:gHe});function mHe(e){const n={x:ne(e,"x","reciprocal")};return ve.runKernel(T2,n)}const lbe=be({reciprocal_:mHe});function vHe(e){const n={x:ne(e,"x","relu")};return ve.runKernel(A2,n)}const Dd=be({relu_:vHe});function yHe(e){const n={x:ne(e,"x","relu6")};return ve.runKernel(I2,n)}const oG=be({relu6_:yHe});function bHe(e,t){const r={x:ne(e,"x","reverse")},s={dims:t};return ve.runKernel(ST,r,s)}const Fu=be({reverse_:bHe});function wHe(e){const t=ne(e,"x","reverse");return te(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Fu(t,0)}const xHe=be({reverse1d_:wHe});function CHe(e,t){const n=ne(e,"x","reverse");return te(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Fu(n,t)}const SHe=be({reverse2d_:CHe});function $He(e,t){const n=ne(e,"x","reverse");return te(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Fu(n,t)}const kHe=be({reverse3d_:$He});function EHe(e,t){const n=ne(e,"x","reverse");return te(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Fu(n,t)}const _He=be({reverse4d_:EHe});function THe(e){const n={x:ne(e,"x","round")};return ve.runKernel(N2,n)}const iG=be({round_:THe});function AHe(e){const n={x:ne(e,"x","rsqrt","float32")};return ve.runKernel(D2,n)}const aG=be({rsqrt_:AHe});function IHe(e){const n={x:ne(e,"x","selu")};return ve.runKernel(O2,n)}const lG=be({selu_:IHe});function NHe(e,t,n,r,s,o=[1,1],i="NHWC"){const a=ne(e,"x","separableConv2d"),l=ne(t,"depthwiseFilter","separableConv2d"),u=ne(n,"pointwiseFilter","separableConv2d");let c=a,f=!1;if(a.rank===3&&(f=!0,c=_e(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");te(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),te(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),te(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),te(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),te(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],h=l.shape[3];te(u.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`);const p=LT(c,l,r,s,i,o),m=hm(p,u,1,"valid",i);return f?_e(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const uG=be({separableConv2d_:NHe});async function DHe(e,t){const n=ne(e,"x","setdiff1d"),r=ne(t,"y","setdiff1d");te(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),te(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),te(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),o=await r.data(),i=new Set(o);let a=0;for(let c=0;c<s.length;c++)i.has(s[c])||a++;const l=new Xs([a],n.dtype),u=new Xs([a],"int32");for(let c=0,f=0;c<s.length;c++)i.has(s[c])||(l.values[f]=s[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]}const OHe=DHe;function RHe(e){const n={x:ne(e,"x","sign")};return ve.runKernel(M2,n)}const ube=be({sign_:RHe});function FHe(e){const n={x:ne(e,"x","sin","float32")};return ve.runKernel(R2,n)}const cG=be({sin_:FHe});function MHe(e){const n={x:ne(e,"x","sinh")};return ve.runKernel(F2,n)}const fG=be({sinh_:MHe});function PHe(e,t,n){const r=ne(e,"x","slice1d");return te(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),hr(r,[t],[n])}const dP=be({slice1d_:PHe});function LHe(e,t,n){const r=ne(e,"x","slice2d");return te(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const dG=be({slice2d_:LHe});function BHe(e,t,n){const r=ne(e,"x","slice3d");return te(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const hP=be({slice3d_:BHe});function zHe(e,t,n){const r=ne(e,"x","slice4d");return te(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),hr(r,t,n)}const zk=be({slice4d_:zHe});function VHe(e,t=-1){const n=ne(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return ve.runKernel(AT,r,s)}const pP=be({softmax_:VHe});function WHe(e){te(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return ve.runKernel(f4,t)}const gP=be({fft_:WHe});function UHe(e){te(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return ve.runKernel(g4,t)}const Vk=be({ifft_:UHe});function jHe(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=_e(e,[n,t]);r=Vk(s)}else{const s=[n,2*(t-1)],o=_e(Bk(e),[n,t]),i=_e(tP(e),[n,t]),a=Fu(hr(o,[0,1],[n,t-2]),1),l=we(Fu(hr(i,[0,1],[n,t-2]),1),$n(-1)),u=xo([o,a],1),c=xo([i,l],1),f=_e(cm(u,c),[s[0],s[1]]);r=Vk(f)}if(r=Bk(r),e.rank===3&&e.shape[0]!==0){const s=r,o=e.shape[0];r=_e(r,[o,r.shape[0]/o,r.shape[1]]),s.dispose()}return r}const hG=be({irfft_:jHe});function HHe(e,t,n=0){const s={x:ne(e,"x","split")},o={numOrSizeSplits:t,axis:n};return ve.runKernel(TT,s,o)}const fl=be({split_:HHe});function qHe(e,t){te(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(t!=null&&t<n){const p=e.shape.map(m=>0),g=e.shape.map(m=>m);g[e.shape.length-1]=t,s=hr(e,p,g),n=t}else if(t!=null&&t>n){const p=e.shape.map(g=>g);p[e.shape.length-1]=t-n,s=xo([e,no(p)],e.shape.length-1),n=t}else s=e;const o=ur(s),i=_e(cm(s,o),[r,n]),a=gP(i),l=Math.floor(n/2)+1,u=Bk(a),c=tP(a),f=fl(u,[l,n-l],u.shape.length-1),d=fl(c,[l,n-l],c.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,_e(cm(f[0],d[0]),h)}const mP=be({rfft_:qHe});function GHe(e,t){let n=ne(e,"a","squaredDifference"),r=ne(t,"b","squaredDifference");[n,r]=_s(n,r),Nn(n.shape,r.shape);const s={a:n,b:r},o={};return ve.runKernel(z2,s,o)}const pG=be({squaredDifference_:GHe});function KHe(e,t){const n=ne(e,"x","squeeze","string_or_numeric");return _e(n,kp(n.shape,t).newShape)}const fy=be({squeeze_:KHe});function YHe(e,t=0){const n=Ok(e,"tensors","stack","string_or_numeric");te(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&te(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:t};return ve.runKernel(mT,r,s)}const cd=be({stack_:YHe});function XHe(e,t=0){const r={x:ne(e,"x","step")},s={alpha:t};return ve.runKernel(H2,r,s)}const K2=be({step_:XHe});function ZHe(e,t,n,r,s=0,o=0,i=0,a=0,l=0){const c={x:ne(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:r,beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};return ve.runKernel(W4,c,f)}const cbe=be({stridedSlice_:ZHe});function JHe(e){const n={x:ne(e,"x","tan","float32")};return ve.runKernel(W2,n)}const fbe=be({tan_:JHe});function qi(e,t){sy(e);const n=ad(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return t0(e,null,n,t)}function Zg(e,t,n){if(sy(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=ad(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return t0(e,t,r,n)}function dbe(e,t,n){if(sy(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=ad(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function QHe(e,t,n){if(sy(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=ad(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function eqe(e,t,n){if(sy(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=ad(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return t0(e,t,r,n)}function tqe(e,t,n){if(sy(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=ad(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,t0(e,t,r,n)}function gG(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(o+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(o+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(o+` update.rank != ${s+e.length-r}`);for(let i=0;i<s;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-s;++i)if(n.shape[i+s]!==e[i+r])throw new Error(o+` updates.shape[${i+s}] (${n.shape[i+s]}) != shape[${i+s}] (${e[i+s]})`)}function vP(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}gG(n,t,e)}function i0(e,t,n){const r=t.shape.length,s=r>1?t.shape[r-1]:1,o=n.length;let i=1;for(let f=s;f<o;++f)i*=n[f];const a=s<1?1:s,l=je(t.shape)/a,u=[...fn(n.slice(0,s)),1],c=je(n);return{sliceRank:s,numUpdates:l,sliceSize:i,strides:u,outputSize:c}}const nqe=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:i0,validateInput:vP,validateUpdateShape:gG},Symbol.toStringTag,{value:"Module"}));function rqe(e,t,n){const r=ne(e,"tensor","tensorScatterupdate"),s=ne(t,"indices","tensorScatterupdate","int32"),o=ne(n,"updates","tensorScatterupdate");if(vP(o,s,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const i={tensor:r,indices:s,updates:o},a={};return ve.runKernel(R4,i,a)}const sqe=be({tensorScatterUpdate_:rqe});function oqe(e,t=1,n=!0){const r=ne(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const o={x:r},i={k:t,sorted:n},[a,l]=ve.runKernel(q4,o,i);return{values:a,indices:l}}const hbe=be({topk_:oqe});function iqe(e,t=0,n=1,r,s){if(Al(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new rG(t,n,r,!0,s),i=Wn(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const mG=be({truncatedNormal_:iqe});function aqe(e,t=0){const n=ne(e,"x","unique","string_or_numeric");te(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:t},[o,i]=ve.runKernel(K4,r,s);return{values:o,indices:i}}const pbe=be({unique_:aqe});function lqe(e,t,n){const r=ne(e,"x","unsortedSegmentSum"),s=ne(t,"segmentIds","unsortedSegmentSum","int32");te(p1(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:s},i={numSegments:n};return ve.runKernel(DT,o,i)}const vG=be({unsortedSegmentSum_:lqe});function uqe(e,t=0){const n=ne(e,"x","unstack","string_or_numeric");te(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:t};return ve.runKernel(NT,r,s)}const pm=be({unstack_:uqe});function cqe(e,t){return eG(e,t,"right")}function gbe(e,t=!0,n,r){return ve.makeVariable(e,t,n,r)}function yP(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Wn(e,"int32"),s=Wn([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const i=r.indexToLoc(n[o]),a=o*e.length;s.values.set(i,a)}return s.toTensor()}async function fqe(e){const t=ne(e,"condition","whereAsync","bool"),n=await t.data(),r=yP(t.shape,n);return e!==t&&t.dispose(),r}const mbe=fqe;async function dqe(e,t,n){const r=ne(e,"tensor","boolMask"),s=ne(t,"mask","boolMask","bool"),o=n??0,i=s.rank,a=r.shape;te(i>0,()=>"mask cannot be scalar"),Zo(a.slice(o,o+i),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let g=o;g<o+i;g++)l*=a[g];const u=a.slice(0,o).concat([l],a.slice(o+i)),c=_e(r,u),f=_e(s,[-1]),d=await mbe(f),h=fy(d,[1]),p=WT(c,h,o);return e!==r&&r.dispose(),t!==s&&s.dispose(),h.dispose(),c.dispose(),f.dispose(),d.dispose(),p}const hqe=dqe;function pqe(e,t,n){const r=ne(e,"x","transpose");if(t==null&&(t=r.shape.map((i,a)=>a).reverse()),te(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(i=>{te(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const s={x:r},o={perm:t};return r.dtype==="complex64"?Be(()=>{let i=Bk(r),a=tP(r);return i=ve.runKernel(Hv,{x:i},o),a=ve.runKernel(Hv,{x:a},o),n&&(a=as(a)),cm(i,a)}):ve.runKernel(Hv,s,o)}const rr=be({transpose_:pqe});function gqe(e,t,n,r,s=!0){const o=ne(e,"v","movingAverage"),i=ne(t,"x","movingAverage"),a=ne(n,"decay","movingAverage");Q1e(o,i),te(ir(o.shape,i.shape),()=>"Shape mismatch in v and x");const l=$n(1),u=jt(l,a);let c=we(jt(i,o),u);if(s){te(r!=null,()=>"When using zeroDebias: true, step is required.");const f=ne(r,"step","movingAverage");c=an(c,jt(l,sp(a,f)))}return mt(o,c)}const mqe=be({movingAverage_:gqe});function vqe(e,t,n){Al(n);const r=ne(e,"indices","scatterND","int32"),s=ne(t,"updates","scatterND");vP(s,r,n);const o={indices:r,updates:s},i={shape:n};return ve.runKernel(O4,o,i)}const yqe=be({scatterND_:vqe});function bqe(e,t,n,r){if(e.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const s=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const i=t.size;if(!(t.rank===0||t.rank===1&&i===s))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${s}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function wqe(e,t,n,r=0){Al(n);const s=ne(e,"sparseIndices","sparseToDense","int32"),o=ne(t,"sparseValues","sparseToDense","string_or_numeric"),i=ne(r,"defaultValue","sparseToDense",o.dtype);bqe(s,o,n,i);const a={sparseIndices:s,sparseValues:o,defaultValue:i},l={outputShape:n};return ve.runKernel(z4,a,l)}const xqe=be({sparseToDense_:wqe});function Cqe(e,t){const n=ne(t,"indices","gatherND","int32"),s={params:ne(e,"x","gatherND","string_or_numeric"),indices:n};return ve.runKernel(p4,s)}const Sqe=be({gatherND_:Cqe});function $qe(e,t){if(t==null)return e.shape.slice();if(ir(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}function kqe(e,t,n,r){const s=ne(e,"x","dropout");if(te(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),te(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof Mr?s.clone():s;const o=$qe(s,n),i=1-t,a=an(VT(mt(cy(o,0,1,"float32",r),i)),i);return we(s,a)}const vbe=be({dropout_:kqe});function ybe(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function yG(e,t,n){const r=1-e%2,s=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+r-1);s[o]=t-n*Math.cos(i)}return qi(s,"float32")}async function Eqe(e,t,n=1){const r=ne(e,"predictions","inTopK"),s=ne(t,"targets","inTopK");te(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),te(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Zo(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];te(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const i=await r.data(),a=await s.data(),[l,u]=[i.length/o,o],c=Eo("bool",l);for(let f=0;f<l;f++){const d=f*u,h=i.subarray(d,d+u),p=[];for(let g=0;g<h.length;g++)p.push({value:h[g],index:g});p.sort((g,m)=>m.value-g.value),c[f]=0;for(let g=0;g<n;g++)if(p[g].index===a[f]){c[f]=1;break}}return e!==r&&r.dispose(),t!==s&&s.dispose(),qv(c,s.shape,"bool")}const _qe=Eqe;function Tqe(e,t,n,r,s,o="NHWC",i){let a=e;e.rank===3&&(a=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]])),te(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),te(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),te(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?a.shape[3]:a.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];te(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),te(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),ua("conv2dDerFilter",s,i);const f={x:a,dy:l},d={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,filterShape:n};return ve.runKernel(JM,f,d)}const bG=be({conv2DBackpropFilter_:Tqe});function bP(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return we(e,K2(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function wP(e,t){let n=t;const r=Zs(e.shape,t.shape);return r.length>0&&(n=Zt(n,r)),_e(n,e.shape)}function xP(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Dd(e);if(t==="elu")return BT(e);if(t==="relu6")return oG(e);if(t==="prelu")return cP(e,n);if(t==="leakyrelu")return nP(e,r);if(t==="sigmoid")return jf(e);throw new Error(`Unknown fused activation ${t}.`)}const CP=(e,t)=>!(e>0)||t==="linear";function Aqe({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",CP(ve.state.gradientDepth,l)===!1){te(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=hm(e,t,n,r,s,o,i);return a!=null&&(S=mt(S,a)),xP(S,l,u,c)}const f=ne(e,"x","conv2d","float32"),d=ne(t,"filter","conv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=_e(f,[1,f.shape[0],f.shape[1],f.shape[2]])),te(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),te(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),ua("fused conv2d",r,i);const g=s==="NHWC"?h.shape[3]:h.shape[1];te(d.shape[2]===g,()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${d.shape[2]}.`),te(Jo(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const m=To(h.shape,d.shape,n,o,r,i);let v;a!=null&&(v=ne(a,"bias","fused conv2d"),[v]=_s(v,f),s==="NHWC"?Nn(m.outShape,v.shape):(te(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),te(v.shape.length===0||v.shape[0]===m.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${m.outChannels})`)));let y;if(u!=null){const S=u.shape;if(te(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)te(S[0]===1||S[0]===m.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${m.outChannels}).`);else if(S.length===3)try{Nn(S,m.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${m.outShape}).`;throw Error(k)}y=ne(u,"prelu weights","fused conv2d")}const w=(S,$)=>{te(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[k,T,_,E]=$,A=bP(S,_,l);te(dm(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const N=Hq(T.shape,A,k,n,r),F=bG(T,A,k.shape,n,r),R=[N,F];if(E!=null){const P=wP(E,A);R.push(P)}return R},b={x:h,filter:d,bias:v,preluActivationWeights:y},C={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?ld(($,k,T)=>{let _=ve.runKernel(Tk,b,C);return T([k,$,_]),p&&(_=_e(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:w}})(h,d):ld(($,k,T,_)=>{let E=ve.runKernel(Tk,b,C);return _([k,$,E,T]),p&&(E=_e(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:w}})(h,d,v)}const bbe=be({fusedConv2d_:Aqe});function Iqe(e,t,n,r,s,o=[1,1],i){let a=e;e.rank===3&&(a=_e(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:a,dy:l},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,filterShape:n};return ve.runKernel(o4,u,c)}const wbe=be({depthwiseConv2dNativeBackpropFilter_:Iqe});function Nqe(e,t,n,r,s,o=[1,1],i){let a=t,l=!1;t.rank===3&&(l=!0,a=_e(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,inputShape:e},f=ve.runKernel(i4,u,c);return l?_e(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const xbe=be({depthwiseConv2dNativeBackpropInput_:Nqe});function Dqe({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(CP(ve.state.gradientDepth,l)===!1){let C=LT(e,t,n,r,s,o,i);return a!=null&&(C=mt(C,a)),xP(C,l,u,c)}const f=ne(e,"x","depthwiseConv2d","float32"),d=ne(t,"filter","depthwiseConv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=_e(f,[1,f.shape[0],f.shape[1],f.shape[2]])),te(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),te(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),te(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),o==null&&(o=[1,1]),te(Jo(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),ua("fused depthwiseConv2d",r,i);const g=To(h.shape,d.shape,n,o,r,i,!0);let m;a!=null&&(m=ne(a,"bias","fused conv2d"),[m]=_s(m,f),Nn(g.outShape,m.shape));let v;u!=null&&(v=ne(u,"prelu weights","fused depthwiseConv2d"));const y=(C,S)=>{te(dm(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[$,k,T,_]=S,E=bP(C,T,l),A=xbe(k.shape,E,$,n,r,o,i),N=wbe(k,E,$.shape,n,r,o,i);if(_!=null){const F=wP(m,E);return[A,N,F]}return[A,N]},w={x:h,filter:d,bias:m,preluActivationWeights:v},b={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?ld((S,$,k)=>{let T=ve.runKernel(Ak,w,b);return k([$,S,T]),p&&(T=_e(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:y}})(h,d):ld((S,$,k,T)=>{let _=ve.runKernel(Ak,w,b);return T([$,S,_,k]),p&&(_=_e(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:y}})(h,d,m)}const Oqe=be({fusedDepthwiseConv2d_:Dqe});function Rqe({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:s,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(CP(ve.state.gradientDepth,o)===!1){let E=Kn(e,t,n,r);return s!=null&&(E=mt(E,s)),xP(E,o,i,a)}let l=ne(e,"a","fused matMul"),u=ne(t,"b","fused matMul");[l,u]=_s(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),g=u.shape.slice(0,-2),m=je(p),v=je(g);te(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const w=Nn(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,h]),b=n?_e(l,[m,c,d]):_e(l,[m,d,c]),C=r?_e(u,[v,h,f]):_e(u,[v,f,h]);let S;s!=null&&(S=ne(s,"bias","fused matMul"),[S]=_s(S,l),Nn(w,S.shape));let $;i!=null&&($=ne(i,"prelu weights","fused matMul"));const k=(E,A)=>{const[N,F,R,P]=A,I=bP(_e(E,R.shape),R,o);let D,M;if(!n&&!r?(D=Kn(I,F,!1,!0),M=Kn(N,I,!0,!1)):!n&&r?(D=Kn(I,F,!1,!1),M=Kn(I,N,!0,!1)):n&&!r?(D=Kn(F,I,!1,!0),M=Kn(N,I,!1,!1)):(D=Kn(F,I,!0,!0),M=Kn(I,N,!0,!0)),s!=null){const z=wP(P,I);return[D,M,z]}else return[D,M]},T={a:b,b:C,bias:S,preluActivationWeights:$},_={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:a};return s==null?ld((A,N,F)=>{const R=ve.runKernel(_k,T,_);return F([A,N,R]),{value:_e(R,w),gradFunc:k}})(b,C):ld((A,N,F,R)=>{const P=ve.runKernel(_k,T,_);return R([A,N,P,F]),{value:_e(P,w),gradFunc:k}})(b,C,S)}const AV=be({fusedMatMul_:Rqe});const Fqe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:bbe,depthwiseConv2d:Oqe,matMul:AV},Symbol.toStringTag,{value:"Module"}));function Mqe(e){return yG(e,.54,.46)}const Pqe=be({hammingWindow_:Mqe});function Lqe(e){return yG(e,.5,.5)}const Cbe=be({hannWindow_:Lqe});function Bqe(e,t,n,r=!1,s=0){let o=0;const i=[];for(;o+t<=e.size;)i.push(hr(e,o,t)),o+=n;if(r)for(;o<e.size;){const a=o+t-e.size,l=xo([hr(e,o,t-a),q2([a],s)]);i.push(l),o+=n}return i.length===0?Zg([],[0,t]):_e(xo(i),[i.length,t])}const Sbe=be({frame_:Bqe});function zqe(e,t,n,r,s=Cbe){r==null&&(r=ybe(t));const o=Sbe(e,t,n),i=we(o,s(t));return mP(i,r)}const Vqe=be({stft_:zqe});function Wqe(e,t,n,r,s="bilinear",o=0){const i=ne(e,"image","cropAndResize"),a=ne(t,"boxes","cropAndResize","float32"),l=ne(n,"boxInd","cropAndResize","int32"),u=a.shape[0];te(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),te(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${a.shape}.`),te(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${a.shape}.`),te(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),te(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),te(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:i,boxes:a,boxInd:l},f={method:s,extrapolationValue:o,cropSize:r};return ve.runKernel(n4,c,f)}const Uqe=be({cropAndResize_:Wqe});function jqe(e){const t=ne(e,"image","flipLeftRight","float32");te(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return ve.runKernel(h4,n,{})}const Hqe=be({flipLeftRight_:jqe});function qqe(e){const t=ne(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];te(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),te(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,bu(t,s)}const Gqe=be({grayscaleToRGB_:qqe});function Kqe(e){const t=ne(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];te(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),te(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=t.dtype,o=At(t,"float32"),i=qi([.2989,.587,.114]);let a;switch(t.rank){case 2:a=Lb("ij,j->i",o,i);break;case 3:a=Lb("ijk,k->ij",o,i);break;case 4:a=Lb("ijkl,l->ijk",o,i);break;case 5:a=Lb("ijklm,m->ijkl",o,i);break;case 6:a=Lb("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return a=zi(a,-1),At(a,s)}const Yqe=be({rgbToGrayscale_:Kqe});function Xqe(e,t,n=0,r=.5){const s=ne(e,"image","rotateWithOffset","float32");te(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const o={image:s},i={radians:t,fillValue:n,center:r};return ve.runKernel(Y4,o,i)}const Zqe=be({rotateWithOffset_:Xqe});function Y2(e,t,n,r,s,o){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),o==null&&(o=0);const i=e.shape[0];return n=Math.min(n,i),te(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),te(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),te(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),te(t.rank===1,()=>"scores must be a 1D tensor"),te(t.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`),te(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o}}function Jqe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=ne(e,"boxes","nonMaxSuppression","float32"),i=ne(t,"scores","nonMaxSuppression","float32"),a=Y2(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ve.runKernel(S4,{boxes:o,scores:i},l)}const Qqe=be({nonMaxSuppression_:Jqe});function eGe(e,t,n){const r=tGe(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function tGe(e,t,n){return rGe(e,t,n||nGe)}function nGe(e,t){return e>t?1:e<t?-1:0}function rGe(e,t,n){let r=0,s=e.length,o=0,i=!1;for(;r<s;){o=r+(s-r>>>1);const a=n(t,e[o]);a>0?r=o+1:(s=o,i=!a)}return i?r:-r-1}function SP(e,t,n,r,s){return wG(e,t,n,r,s,0)}function $P(e,t,n,r,s,o){return wG(e,t,n,r,s,0,!1,o,!0)}function kP(e,t,n,r,s,o){return wG(e,t,n,r,s,o,!0)}function wG(e,t,n,r,s,o,i=!1,a=!1,l=!1){const u=[];for(let m=0;m<t.length;m++)t[m]>s&&u.push({score:t[m],boxIndex:m,suppressBeginIndex:0});u.sort(Lse);const c=o>0?-.5/o:0,f=[],d=[];for(;f.length<n&&u.length>0;){const m=u.pop(),{score:v,boxIndex:y,suppressBeginIndex:w}=m;if(v<s)break;let b=!1;for(let C=f.length-1;C>=w;--C){const S=sGe(e,y,f[C]);if(S>=r){b=!0;break}if(m.score=m.score*oGe(r,c,S),m.score<=s)break}m.suppressBeginIndex=f.length,b||(m.score===v?(f.push(y),d.push(m.score)):m.score>s&&eGe(u,m,Lse))}const h=f.length,p=n-h;a&&p>0&&(f.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const g={selectedIndices:f};return i&&(g.selectedScores=d),l&&(g.validOutputs=h),g}function sGe(e,t,n){const r=e.subarray(t*4,t*4+4),s=e.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-o)*(l-i),p=(f-u)*(d-c);if(h<=0||p<=0)return 0;const g=Math.max(o,u),m=Math.max(i,c),v=Math.min(a,f),y=Math.min(l,d),w=Math.max(v-g,0)*Math.max(y-m,0);return w/(h+p-w)}function oGe(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Lse(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}async function iGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=ne(e,"boxes","nonMaxSuppressionAsync"),i=ne(t,"scores","nonMaxSuppressionAsync"),a=Y2(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:f}=SP(u,c,n,r,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),qi(f,"int32")}const aGe=iGe;function lGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=ne(e,"boxes","nonMaxSuppression"),a=ne(t,"scores","nonMaxSuppression"),l=Y2(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:i,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o},f=ve.runKernel(k4,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const uGe=be({nonMaxSuppressionWithScore_:lGe});async function cGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=ne(e,"boxes","nonMaxSuppressionAsync"),a=ne(t,"scores","nonMaxSuppressionAsync"),l=Y2(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([i.data(),a.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=kP(c,f,n,r,s,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:qi(d,"int32"),selectedScores:qi(h)}}const fGe=cGe;function dGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=ne(e,"boxes","nonMaxSuppression"),a=ne(t,"scores","nonMaxSuppression"),l=Y2(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:i,scores:a},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:o},p=ve.runKernel($4,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const hGe=be({nonMaxSuppressionPadded_:dGe});async function pGe(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=ne(e,"boxes","nonMaxSuppressionAsync"),a=ne(t,"scores","nonMaxSuppressionAsync"),l=Y2(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([i.data(),a.data()]),{selectedIndices:p,validOutputs:g}=$P(d,h,u,c,f,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:qi(p,"int32"),validOutputs:$n(g,"int32")}}const gGe=pGe;function mGe(e,t,n=!1,r=!1){const s=ne(e,"images","resizeBilinear");te(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),te(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),te(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=_e(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=ve.runKernel(CT,a,l);return i?_e(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const $be=be({resizeBilinear_:mGe});function vGe(e,t,n=!1,r=!1){const s=ne(e,"images","resizeNearestNeighbor");te(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),te(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),te(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),te(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=_e(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=ve.runKernel(xT,a,l);return i?_e(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const kbe=be({resizeNearestNeighbor_:vGe});function yGe(e,t="binary",n=!1,r=.5){const s=ne(e,"image","threshold"),o=.2989,i=.587,a=.114,l=s.shape[0]*s.shape[1];let u=we(qi([r]),255),c,f,d,h;if(te(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),te(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),te(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),te(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),s.shape[2]===3){[c,f,d]=fl(s,[1,1,1],-1);const m=we(c,o),v=we(f,i),y=we(d,a);h=mt(mt(m,v),y)}else h=e;if(t==="otsu"){const m=Nye(At(iG(h),"int32"),qv([]),256);u=bGe(m,l)}const p=n?uy(h,u):Nl(h,u);return At(we(p,255),"int32")}function bGe(e,t){let n=qi([-1]),r=qi([0]),s=qi([0]),o,i,a,l,u,c;for(let f=0;f<e.size-1;f++){o=hr(e,0,f+1),i=hr(e,f+1),u=an(Zt(o),t),c=an(Zt(i),t);const d=Zt(we(o,Fw(0,o.size)));a=an(d,Zt(o));const h=q2(i.shape,o.size),p=mt(Fw(0,i.size),h),g=we(i,p);l=an(Zt(g),Zt(i));const m=jt(a,l),v=jt(a,l),y=we(u,c);s=we(we(y,m),v);const w=Nl(s,r);r=mi(w,s,r),n=mi(w,qi([f]),n)}return n}const wGe=be({threshold_:yGe});function xGe(e,t,n="nearest",r="constant",s=0,o){const i=ne(e,"image","transform","float32"),a=ne(t,"transforms","transform","float32");te(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),te(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),te(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:i,transforms:a},u={interpolation:n,fillMode:r,fillValue:s,outputShape:o};return ve.runKernel(G4,l,u)}const CGe=be({transform_:xGe});function SGe(e,t,n){const r=ne(e,"a","bandPart");te(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[o,i]=r.shape.slice(-2);let a,l;typeof t=="number"?(te(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),te(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),a=ne(t<0?o:t,"numLower","bandPart")):(te(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=mi(Pk(t,0),o,x1(t,o))),typeof n=="number"?(te(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),te(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),l=ne(n<0?i:n,"numUpper","bandPart")):(te(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=mi(Pk(n,0),i,x1(n,i)));const u=_e(Fw(0,o,1,"int32"),[-1,1]),c=Fw(0,i,1,"int32"),f=jt(u,c),d=ud(uy(f,a),s0(f,as(l))),h=no([o,i],r.dtype);return _e(cd(pm(_e(r,[-1,o,i])).map(p=>mi(d,p,h))),s)}const $Ge=be({bandPart_:SGe});function kGe(e){let t;if(Array.isArray(e)){t=!1,te(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=e[0].shape[0];for(let o=1;o<e.length;++o)te(e[o].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[o].shape[0]} vs. ${s})`)}else t=!0,e=fl(e,e.shape[0],0).map(s=>fy(s,[0]));te(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let s=0;s<e.length;++s)n.push(ve.tidy(()=>{let o=r[s];if(s>0)for(let i=0;i<s;++i){const a=we(Zt(we(n[i],o)),n[i]);o=jt(o,a)}return an(o,zT(o,"euclidean"))}));return t?cd(n,0):n}const EGe=be({gramSchmidt_:kGe});function _Ge(e,t=!1){if(te(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return Bse(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=pm(_e(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],o=[];r.forEach(l=>{const[u,c]=Bse(l,t);s.push(u),o.push(c)});const i=_e(cd(s,0),e.shape),a=_e(cd(o,0),e.shape);return[i,a]}}function Bse(e,t=!1){return ve.tidy(()=>{te(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let s=Zq(n),o=Xg(e);const i=Zg([[1]],[1,1]);let a=Xg(i);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=o,f=a,d=s;[a,o,s]=ve.tidy(()=>{const h=hr(o,[u,u],[n-u,1]),p=zT(h),g=hr(o,[u,u],[1,1]),m=mi(Nl(g,0),Zg([[-1]]),Zg([[1]])),v=jt(g,we(m,p)),y=an(h,v);y.shape[0]===1?a=Xg(i):a=xo([i,hr(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const w=as(an(Kn(m,v),p)),b=hr(o,[u,0],[n-u,r]),C=we(w,a),S=rr(a);if(u===0)o=jt(b,Kn(C,Kn(S,b)));else{const T=jt(b,Kn(C,Kn(S,b)));o=xo([hr(o,[0,0],[u,r]),T],0)}const $=rr(C),k=hr(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=jt(k,Kn(Kn(k,a),$));else{const T=jt(k,Kn(Kn(k,a),$));s=xo([hr(s,[0,0],[n,u]),T],1)}return[a,o,s]}),Yn([c,f,d])}return!t&&n>r&&(s=hr(s,[0,0],[n,r]),o=hr(o,[0,0],[r,r])),[s,o]})}const TGe=be({qr_:_Ge});var Wi;(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Wi||(Wi={}));function AGe(e,t,n=Wi.SUM_BY_NONZERO_WEIGHTS){const r=ne(e,"losses","computeWeightedLoss");let s=null;t!=null&&(s=ne(t,"weights","computeWeightedLoss"));const o=s==null?r:we(r,s);if(n===Wi.NONE)return o;if(n===Wi.SUM)return Zt(o);if(n===Wi.MEAN){if(s==null)return Ns(o);{const i=r.size/s.size,a=an(Zt(o),Zt(s));return i>1?an(a,$n(i)):a}}if(n===Wi.SUM_BY_NONZERO_WEIGHTS){if(s==null)return an(Zt(o),$n(r.size));{const i=we(s,ol(r.shape)),a=At(Zt(Rw(i,$n(0))),"float32");return an(Zt(o),a)}}throw Error(`Unknown reduction: ${n}`)}const Ip=be({computeWeightedLoss_:AGe});function IGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){const s=ne(e,"labels","absoluteDifference"),o=ne(t,"predictions","absoluteDifference");let i=null;n!=null&&(i=ne(n,"weights","absoluteDifference")),Zo(s.shape,o.shape,"Error in absoluteDifference: ");const a=eo(jt(s,o));return Ip(a,i,r)}const NGe=be({absoluteDifference_:IGe});function DGe(e,t,n,r,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=ne(e,"labels","cosineDistance"),i=ne(t,"predictions","cosineDistance");let a=null;r!=null&&(a=ne(r,"weights","cosineDistance")),Zo(o.shape,i.shape,"Error in cosineDistance: ");const l=$n(1),u=jt(l,Zt(we(o,i),n,!0));return Ip(u,a,s)}const OGe=be({cosineDistance_:DGe});function RGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){let s=ne(e,"labels","hingeLoss");const o=ne(t,"predictions","hingeLoss");let i=null;n!=null&&(i=ne(n,"weights","hingeLoss")),Zo(s.shape,o.shape,"Error in hingeLoss: ");const a=$n(1);s=jt(we($n(2),s),a);const l=Dd(jt(a,we(s,o)));return Ip(l,i,r)}const FGe=be({hingeLoss_:RGe});function MGe(e,t,n,r=1,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=ne(e,"labels","huberLoss"),i=ne(t,"predictions","huberLoss");let a=null;n!=null&&(a=ne(n,"weights","huberLoss")),Zo(o.shape,i.shape,"Error in huberLoss: ");const l=$n(r),u=eo(jt(i,o)),c=x1(u,l),f=jt(u,c),d=mt(we($n(.5),Kr(c)),we(l,f));return Ip(d,a,s)}const PGe=be({huberLoss_:MGe});function LGe(e,t,n,r=1e-7,s=Wi.SUM_BY_NONZERO_WEIGHTS){const o=ne(e,"labels","logLoss"),i=ne(t,"predictions","logLoss");let a=null;n!=null&&(a=ne(n,"weights","logLoss")),Zo(o.shape,i.shape,"Error in logLoss: ");const l=$n(1),u=$n(r),c=as(we(o,eu(mt(i,u)))),f=we(jt(l,o),eu(mt(jt(l,i),u))),d=jt(c,f);return Ip(d,a,s)}const BGe=be({logLoss_:LGe});function zGe(e,t,n,r=Wi.SUM_BY_NONZERO_WEIGHTS){const s=ne(e,"labels","meanSquaredError"),o=ne(t,"predictions","meanSquaredError");let i=null;n!=null&&(i=ne(n,"weights","meanSquaredError")),Zo(s.shape,o.shape,"Error in meanSquaredError: ");const a=pG(s,o);return Ip(a,i,r)}const VGe=be({meanSquaredError_:zGe});function WGe(e,t){const n=ne(e,"labels","sigmoidCrossEntropyWithLogits"),r=ne(t,"logits","sigmoidCrossEntropyWithLogits");Zo(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Dd(r),o=we(r,n),i=rP(yl(as(eo(r))));return mt(jt(s,o),i)}function UGe(e,t,n,r=0,s=Wi.SUM_BY_NONZERO_WEIGHTS){let o=ne(e,"multiClassLabels","sigmoidCrossEntropy");const i=ne(t,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=ne(n,"weights","sigmoidCrossEntropy")),Zo(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=$n(r),c=$n(1),f=$n(.5);o=mt(we(o,jt(c,u)),we(f,u))}const l=WGe(o,i);return Ip(l,a,s)}const jGe=be({sigmoidCrossEntropy_:UGe});function HGe(e,t,n=-1){if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return ld((s,o,i)=>{const l=oP(o,[n],!0),u=jt(At(o,"float32"),l);i([s,u]);const c=as(we(u,s));return{value:Zt(c,[n]),gradFunc:(h,p)=>{const[g,m]=p,v=Us(h.shape,[n]);return[we(_e(h,v),jt(At(g,"float32"),yl(m))),we(_e(h,v),jt(yl(m),At(g,"float32")))]}}})(e,t)}function qGe(e,t,n,r=0,s=Wi.SUM_BY_NONZERO_WEIGHTS){let o=ne(e,"onehotLabels","softmaxCrossEntropy");const i=ne(t,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=ne(n,"weights","softmaxCrossEntropy")),Zo(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const u=$n(r),c=$n(1),f=$n(o.shape[1]);o=mt(we(o,jt(c,u)),an(u,f))}const l=HGe(o,i);return Ip(l,a,s)}const GGe=be({softmaxCrossEntropy_:qGe});function KGe(e,t,n,r){const s=ne(e,"indices","sparseFillEmptyRows","int32"),o=ne(t,"values","sparseFillEmptyRows"),i=ne(n,"denseShape","sparseFillEmptyRows","int32"),a=ne(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:o,denseShape:i,defaultValue:a},u=ve.runKernel(M4,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const YGe=be({sparseFillEmptyRows_:KGe});function XGe(e,t,n){const r=ne(e,"inputIndices","sparseReshape","int32"),s=ne(t,"inputShape","sparseReshape","int32"),o=ne(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const i={inputIndices:r,inputShape:s,newShape:o},a=ve.runKernel(P4,i);return{outputIndices:a[0],outputShape:a[1]}}const ZGe=be({sparseReshape_:XGe});function JGe(e,t,n){const r=ne(e,"data","sparseSegmentMean"),s=ne(t,"indices","sparseSegmentMean","int32"),o=ne(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return ve.runKernel(L4,i)}const QGe=be({sparseSegmentMean_:JGe});function eKe(e,t,n){const r=ne(e,"data","sparseSegmentSum"),s=ne(t,"indices","sparseSegmentSum","int32"),o=ne(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return ve.runKernel(B4,i)}const tKe=be({sparseSegmentSum_:eKe});function nKe(e,t,n,r,s,o,i,a){const l=ne(e,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=ne(t,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:o,padWidth:i,preserveShortSequences:a},f={data:l,dataSplits:u},d=ve.runKernel(U4,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}const rKe=be({stringNGrams_:nKe});function sKe(e,t,n=!0){const r=ne(e,"input","stringSplit","string"),s=ne(t,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const o={skipEmpty:n},i={input:r,delimiter:s},a=ve.runKernel(j4,i,o);return{indices:a[0],values:a[1],shape:a[2]}}const oKe=be({stringSplit_:sKe});function iKe(e,t){const n=ne(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return ve.runKernel(H4,s,r)}const aKe=be({stringToHashBucketFast_:iKe});function lKe(e,t,n,r=!0){const s=ne(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return ve.runKernel(IT,{x:s},o)}const uKe=be({staticRegexReplace_:lKe});const cKe={fft:gP,ifft:Vk,rfft:mP,irfft:hG},fKe={hammingWindow:Pqe,hannWindow:Cbe,frame:Sbe,stft:Vqe},Bf={flipLeftRight:Hqe,grayscaleToRGB:Gqe,resizeNearestNeighbor:kbe,resizeBilinear:$be,rgbToGrayscale:Yqe,rotateWithOffset:Zqe,cropAndResize:Uqe,nonMaxSuppression:Qqe,nonMaxSuppressionAsync:aGe,nonMaxSuppressionWithScore:uGe,nonMaxSuppressionWithScoreAsync:fGe,nonMaxSuppressionPadded:hGe,nonMaxSuppressionPaddedAsync:gGe,threshold:wGe,transform:CGe},Ebe={bandPart:$Ge,gramSchmidt:EGe,qr:TGe},dKe={absoluteDifference:NGe,computeWeightedLoss:Ip,cosineDistance:OGe,hingeLoss:FGe,huberLoss:PGe,logLoss:BGe,meanSquaredError:VGe,sigmoidCrossEntropy:jGe,softmaxCrossEntropy:GGe},hKe={sparseFillEmptyRows:YGe,sparseReshape:ZGe,sparseSegmentMean:QGe,sparseSegmentSum:tKe},pKe={stringNGrams:rKe,stringSplit:oKe,stringToHashBucketFast:aKe,staticRegexReplace:uKe};const gKe=new Map,IV=new Map;class dy{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class Vl{constructor(){this.classNameMap={}}static getMap(){return Vl.instance==null&&(Vl.instance=new Vl),Vl.instance}static register(t){Vl.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function vt(e,t,n){te(e.className!=null,()=>"Class being registered does not have the static className property defined."),te(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),te(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,s=t+">"+r;return Vl.register(e),gKe.set(s,e),IV.set(e,s),e}function mKe(e){return IV.has(e)?IV.get(e):e.className}const vKe=Object.freeze(Object.defineProperty({__proto__:null,Serializable:dy,SerializationMap:Vl,getRegisteredName:mKe,registerClass:vt},Symbol.toStringTag,{value:"Module"}));class Np extends dy{minimize(t,n=!1,r){const{value:s,grads:o}=this.computeGradients(t,r);if(r!=null){const i=r.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(i)}else this.applyGradients(o);return Yn(o),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return Jye(t,n)}dispose(){this.iterations_!=null&&Yn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:$n(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(Np,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});class xG extends Np{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r],i=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Be(()=>ur(o).variable(i))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Be(()=>ur(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;Be(()=>{const c=mt(we(l,this.rho),we(Kr(a),1-this.rho)),f=we(an(Go(mt(u,this.epsilon)),Go(mt(l,this.epsilon))),a),d=mt(we(u,this.rho),we(Kr(f),1-this.rho));l.assign(c),u.assign(d);const h=mt(we(f,-this.learningRate),o);o.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Yn(this.accumulatedGrads.map(t=>t.variable)),Yn(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}class CG extends Np{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Be(()=>q2(o.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(t)?t[s].tensor:t[r];if(i==null)return;const a=this.accumulatedGrads[s].variable;Be(()=>{const l=mt(a,Kr(i));a.assign(l);const u=mt(we(an(i,Go(mt(l,ve.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Yn(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}class SG extends Np{static get className(){return"Adam"}constructor(t,n,r,s=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Be(()=>{this.accBeta1=$n(n).variable(),this.accBeta2=$n(r).variable()}),s==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Be(()=>{const r=jt(1,this.accBeta1),s=jt(1,this.accBeta2);n.forEach((o,i)=>{const a=ve.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Be(()=>ur(a).variable(l))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${o}/v`,variable:Be(()=>ur(a).variable(l))});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedSecondMoment[i].variable,d=mt(we(c,this.beta1),we(u,1-this.beta1)),h=mt(we(f,this.beta2),we(Kr(u),1-this.beta2)),p=an(d,r),g=an(h,s);c.assign(d),f.assign(h);const m=mt(we(an(p,mt(Go(g),this.epsilon)),-this.learningRate),a);a.assign(m)}),this.accBeta1.assign(we(this.accBeta1,this.beta1)),this.accBeta2.assign(we(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Yn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&Yn(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Be(()=>{this.accBeta1.assign(sp(this.beta1,this.iterations_+1)),this.accBeta2.assign(sp(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}class $G extends Np{static get className(){return"Adamax"}constructor(t,n,r,s=null,o=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Be(()=>{this.iteration=$n(0).variable(),this.accBeta1=$n(n).variable()}),s==null&&(this.epsilon=ve.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Be(()=>{const r=jt(1,this.accBeta1),s=an(-this.learningRate,mt(we(this.iteration,this.decay),1));n.forEach((o,i)=>{const a=ve.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:ur(a).variable(l)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${o}/v`,variable:ur(a).variable(l)});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedWeightedInfNorm[i].variable,d=mt(we(c,this.beta1),we(u,1-this.beta1)),h=we(f,this.beta2),p=eo(u),g=Ap(h,p);c.assign(d),f.assign(g);const m=mt(we(an(s,r),an(d,mt(g,this.epsilon))),a);a.assign(m)}),this.iteration.assign(mt(this.iteration,1)),this.accBeta1.assign(we(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Yn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&Yn(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}class EP extends Np{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=Array.isArray(t)?t[s].tensor:t[r];if(o==null)return;const i=ve.registeredVariables[r];Be(()=>{const a=mt(we(this.c,o),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=kc($n(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}class kG extends EP{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=$n(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Be(()=>ur(o).variable(!1))});const i=this.accumulations[s].variable,a=Array.isArray(t)?t[s].tensor:t[r];a!=null&&Be(()=>{let l;const u=mt(we(this.m,i),a);this.useNesterov?l=mt(we(this.c,mt(a,we(u,this.m))),o):l=mt(we(this.c,u),o),i.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Yn(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}class EG extends Np{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,s=null,o=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,s==null&&(this.epsilon=ve.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=ve.registeredVariables[r],i=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Be(()=>ur(o).variable(i))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Be(()=>ur(o).variable(i))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Be(()=>ur(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;Be(()=>{const c=mt(we(l,this.decay),we(Kr(a),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,d=mt(we(f,this.decay),we(a,1-this.decay)),h=an(we(a,this.learningRate),Go(jt(c,mt(Kr(d),this.epsilon)))),p=mt(we(u,this.momentum),h);l.assign(c),f.assign(d),u.assign(p);const g=jt(o,p);o.assign(g)}else{const f=mt(we(l,this.decay),we(Kr(a),1-this.decay)),d=mt(we(u,this.momentum),an(we(a,this.learningRate),Go(mt(f,this.epsilon))));l.assign(f),u.assign(d);const h=jt(o,d);o.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Yn(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Yn(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&Yn(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}const yKe=[xG,CG,SG,$G,kG,EG,EP];function bKe(){for(const e of yKe)vt(e)}const wKe="model",xKe=".json",CKe=".weights.bin";function zse(e){return new Promise(t=>setTimeout(t)).then(e)}class C1{constructor(t){if(!Pe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(C1.URL_SCHEME)&&(t=t.slice(C1.URL_SCHEME.length)),(t==null||t.length===0)&&(t=wKe),this.modelJsonFileName=t+xKe,this.weightDataFileName=t+CKe}async save(t){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Xc.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o=lye(t,s),i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await zse(()=>a.dispatchEvent(new MouseEvent("click"))),t.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await zse(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:FT(t)}}}}C1.URL_SCHEME="downloads://";class SKe{constructor(t){if(t==null||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}async load(){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{const o=JSON.parse(s.target.result),i=o.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){t({modelTopology:i});return}const l=zq(o,u=>this.loadWeights(u));t(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(t){const n=[],r=[];for(const i of t)n.push(...i.weights),r.push(...i.paths);const s=this.checkManifestAndWeightFiles(t),o=r.map(i=>this.loadWeightsFile(i,s[i]));return Promise.all(o).then(i=>[n,i])}loadWeightsFile(t,n){return new Promise((r,s)=>{const o=new FileReader;o.onload=i=>{const a=i.target.result;r(a)},o.onerror=i=>s(`Failed to weights data from file of path '${t}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(t){const n=[],r=this.weightsFiles.map(o=>Ase(o.name)),s={};for(const o of t)o.paths.forEach(i=>{const a=Ase(i);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[i]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const $Ke=e=>Pe().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(C1.URL_SCHEME)?kKe(e.slice(C1.URL_SCHEME.length)):null;Cs.registerSaveRouter($Ke);function kKe(e="model"){return new C1(e)}function EKe(e){return new SKe(e)}function Vse(e,t,n,r){i(e),n=n??0,r=r??1,a(n,r);let s=0;const o=l=>(l.then(u=>{const c=n+ ++s/e.length*(r-n);return t(c),u}),l);function i(l){te(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,u){te(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),te(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),te(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(o))}async function _be(e,t){t==null&&(t={});const n=t.fetchFunc==null?Pe().platform.fetch:t.fetchFunc,r=e.map(f=>n(f,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?await Promise.all(r):await Vse(r,t.onProgress,0,.5)).map(f=>f.arrayBuffer());return t.onProgress==null?await Promise.all(a):await Vse(a,t.onProgress,.5,1)}function _Ke(e,t){var n;const r=t.fetchFunc==null?Pe().platform.fetch:t.fetchFunc;let s=0,o;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async i=>{for(var a;s<e.length;){o||(o=(await r(e[s],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await o.read();if(l){s++,o=void 0,(a=t.onProgress)===null||a===void 0||a.call(t,s/e.length);continue}i.enqueue(u);return}i.close()}})}async function TKe(e,t="",n,r){return Tbe(i=>_be(i,{requestInit:r}))(e,t,n)}function Tbe(e){return async(t,n="",r)=>{const s=t.map(()=>!1),o={},i=r!=null?r.map(()=>!1):[],a=[];if(t.forEach((h,p)=>{let g=0;h.weights.forEach(m=>{const v="quantization"in m?m.quantization.dtype:m.dtype,y=g1[v]*je(m.shape),w=()=>{s[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:m,groupOffset:g,sizeBytes:y})};r!=null?r.forEach((b,C)=>{b===m.name&&(w(),i[C]=!0)}):w(),a.push(m.name),g+=y})}),!i.every(h=>h)){const h=r.filter((p,g)=>!i[g]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((h,p,g)=>(p&&h.push(g),h),[]),u=[];l.forEach(h=>{t[h].paths.forEach(p=>{const g=n+(n.endsWith("/")?"":"/")+p;u.push(g)})});const c=await e(u),f={};let d=0;return l.forEach(h=>{const p=t[h].paths.length,g=new Xc(c.slice(d,d+p));o[h].forEach(v=>{const y=g.slice(v.groupOffset,v.groupOffset+v.sizeBytes),w=oye(y,[v.manifestEntry]);for(const b in w)f[b]=w[b]}),d+=p}),f}}const AKe="application/octet-stream",IKe="application/json";class _G{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(te(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Pe().platform.fetch,te(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&te(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],s=lye(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:IKe}),"model.json"),t.weightData!=null){const i=Xc.join(t.weightData);n.body.append("model.weights.bin",new Blob([i],{type:AKe}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:FT(t),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return zq(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=CV(t.weightsManifest),s=()=>_Ke(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=NKe(n),o=this.weightPathPrefix||r,i=[],a=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(u)):i.push(o+u+s);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(t){const n=await this.getWeightUrls(t),r=CV(t),s=await _be(n,this.loadOptions);return[r,s]}}_G.URL_SCHEME_REGEX=/^https?:\/\//;function NKe(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}function NV(e){return e.match(_G.URL_SCHEME_REGEX)!=null}const Abe=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>NV(r)):n=NV(e),n)return TG(e,t)}return null};Cs.registerSaveRouter(Abe);Cs.registerLoadRouter(Abe);function TG(e,t){return new _G(e,t)}function DKe(e,t){return TG(e,t)}class t8{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class Ibe{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class OKe{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=n=>Promise.resolve(t.save(n)))}}function RKe(e,t,n,r){const s=arguments;return new OKe(Nbe(...s))}function Nbe(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new t8(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new t8({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new t8({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function FKe(e){return new Ibe(e)}function MKe(e){return new Ibe(e)}const PKe=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Xc,browserFiles:EKe,browserHTTPRequest:DKe,concatenateArrayBuffers:aye,copyModel:wVe,decodeWeights:oye,decodeWeightsStream:X7e,encodeWeights:xV,fromMemory:RKe,fromMemorySync:Nbe,getLoadHandlers:iVe,getModelArtifactsForJSON:zq,getModelArtifactsForJSONSync:uye,getModelArtifactsInfoForJSON:FT,getSaveHandlers:cye,getWeightSpecs:CV,http:TG,isHTTPScheme:NV,listModels:yVe,loadWeights:TKe,moveModel:xVe,registerLoadRouter:oVe,registerSaveRouter:sVe,removeModel:bVe,weightsLoaderFactory:Tbe,withSaveHandler:FKe,withSaveHandlerSync:MKe},Symbol.toStringTag,{value:"Module"}));function LKe(e,t,n){const r=ne(e,"labels","confusionMatrix"),s=ne(t,"predictions","confusionMatrix");te(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),te(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),te(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),te(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),te(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const o=Lk(At(r,"int32"),n),i=Lk(At(s,"int32"),n),a=rr(o),l=Kn(a,i);return At(l,"int32")}const BKe=be({confusionMatrix_:LKe});const zKe=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:BKe},Symbol.toStringTag,{value:"Module"}));let M0,Wse=!1;function Dbe(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)o=!0;else if(e.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&e instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);if(Nk(kO,ve.backendName)!=null){const p={pixels:e},g={numChannels:t};return ve.runKernel(kO,p,g)}const[u,c]=s?[e.videoWidth,e.videoHeight]:[e.width,e.height];let f;if(i)f=e.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)f=e.data;else if(o||s||a){if(M0==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")M0=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else M0=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});M0.canvas.width=u,M0.canvas.height=c,M0.drawImage(e,0,0,u,c),f=M0.getImageData(0,0,u,c).data}let d;if(t===4)d=new Int32Array(f);else{const p=u*c;d=new Int32Array(p*t);for(let g=0;g<p;g++)for(let m=0;m<t;++m)d[g*t+m]=f[g*4+m]}return dbe(d,[c,u,t],"int32")}function VKe(e){return e!=null&&e.data instanceof Uint8Array}function WKe(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function UKe(e){return e!=null&&e.width!==0&&e.height!==0}function jKe(e){return WKe()&&!(e instanceof ImageBitmap)&&UKe(e)&&!VKe(e)}async function HKe(e,t=3){let n=null;if(Pe().getBool("WRAP_TO_IMAGEBITMAP")&&jKe(e)){let r;try{r=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===e.width&&r.height===e.height?n=r:n=e}else n=e;return Dbe(n,t)}function Obe(e){if(e.rank!==2&&e.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=e.rank===2?1:e.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(e.dtype!=="float32"&&e.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}function qKe(e){const t=e?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}async function GKe(e,t){let n=ne(e,"img","toPixels");if(!(e instanceof Mr)){const u=n;n=At(u,"int32"),u.dispose()}Obe(n);const[r,s]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],i=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const c=[0,0,0,255];for(let d=0;d<o;d++){const h=i[u*o+d];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);o===1?(c[0]=h*a,c[1]=h*a,c[2]=h*a):c[d]=h*a}const f=u*4;l[f+0]=Math.round(c[0]),l[f+1]=Math.round(c[1]),l[f+2]=Math.round(c[2]),l[f+3]=Math.round(c[3])}if(t!=null){Wse||Nk(l4,ve.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),Wse=!0),t.width=s,t.height=r;const u=t.getContext("2d"),c=new ImageData(l,s,r);u.putImageData(c,0,0)}return n!==e&&n.dispose(),l}function KKe(e,t,n){let r=ne(e,"img","draw");if(!(e instanceof Mr)){const i=r;r=At(i,"int32"),i.dispose()}Obe(r),qKe(n?.imageOptions);const s={image:r},o={canvas:t,options:n};ve.runKernel(l4,s,o)}const YKe=be({fromPixels_:Dbe}),XKe=Object.freeze(Object.defineProperty({__proto__:null,draw:KKe,fromPixels:YKe,fromPixelsAsync:HKe,toPixels:GKe},Symbol.toStringTag,{value:"Module"}));function _P(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(je(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const s=t.shape,o=s[s.length-1];let i=1;for(let f=0;f<s.length-1;++f)i*=s[f];const a=e.shape,l=s.slice();l.pop();let u=1;for(let f=o;f<n;++f)u*=a[f],l.push(a[f]);const c=[...fn(e.shape).map(f=>f/u),1].slice(0,o);return[l,i,u,c]}const ZKe=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:_P},Symbol.toStringTag,{value:"Module"}));const DV=-2,JKe=-1;function AG(e,t,n){const r=e.shape.length;te(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),te(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)te(t[s]+n[s]<=e.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${t[s]+n[s]}) would overflow input.shape[${s}] (${e.shape[s]})`)}function QKe(e){const t=[];let n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function IG(e,t,n){const r=[];for(let s=0;s<e.length;s++)r[s]=Math.ceil((t[s]-e[s])/n[s]);return r}function Rbe(e,t,n,r){const s=[...e];for(let o=s.length;o<r.length;o++)s.push(1);for(let o=0;o<n;o++)o===0?s[t]=1:(s.splice(t,0,1),s.pop());return s}function Fbe(e,t,n){return n<=e?n:n-(t-1)}function Mbe(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function eYe(e,t,n,r,s,o,i,a,l){const u=e.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){const h=t[0],p=n+1;c=Pbe(i,h,p,r,e),f=Lbe(a,h,p,s,e),d=Rbe(o,h,p,e)}else for(let h=0;h<u;h++)c[h]=zbe(i,r,o,e,h,l),f[h]=Vbe(a,s,o,e,h,l),d[h]=Bbe(o,h,l);return{begin:c,end:f,strides:d}}function Pbe(e,t,n,r,s){const o=[...s],i=Mbe(n,t);for(let a=0;a<o.length;a++)if(i.indexOf(a)>-1)o[a]=0;else{const l=Fbe(t,n,a);let u=r[l];e&1<<l&&(u=0),o[a]=u}return o}function Lbe(e,t,n,r,s){const o=[...s],i=Mbe(n,t);for(let a=0;a<o.length;a++)if(i.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{const l=Fbe(t,n,a);let u=r[l];e&1<<l&&(u=Number.MAX_SAFE_INTEGER),o[a]=u}for(let a=0;a<o.length;a++){const l=s[a];o[a]<0&&(o[a]+=l),o[a]=lm(0,o[a],s[a])}return o}function Bbe(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function zbe(e,t,n,r,s,o){let i=t[s];const a=n[s]||1;(e&1<<s||o&1<<s||i==null)&&(a>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),i=lm(0,i,l-1),i}function Vbe(e,t,n,r,s,o){let i=t[s];const a=n[s]||1;(e&1<<s||o&1<<s||i==null)&&(a>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);const l=r[s];return i<0&&(i+=l),a>0?i=lm(0,i,l):i=lm(-1,i,l-1),i}function NG(e,t,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(t[s]>0||n[s]!==e[s])return!1;return!0}function DG(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function TP(e,t,n){let r;const s=e.shape.length;typeof t=="number"?r=[t,...new Array(s-1).fill(0)]:t.length<s?r=t.concat(new Array(s-t.length).fill(0)):r=t.slice(),r.forEach(i=>{te(i!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(s).fill(-1):typeof n=="number"?o=[n,...new Array(s-1).fill(-1)]:n.length<s?o=n.concat(new Array(s-n.length).fill(-1)):o=n,o=o.map((i,a)=>i>=0?i:(te(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${a}.`),e.shape[a]-r[a])),[r,o]}function OG(e,t,n,r,s,o,i,a,l){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,i!=null&&(i&i-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};for(let w=0;w<f.dims;w++)c&&(1<<w&a)!==0&&f.numAddAxisAfterEllipsis++,1<<w&i&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};tYe(f,d);let h=!0,p=!0,g=!0;const m=[],v=[];for(let w=0;w<e.length;++w){if(d.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);const b=!!(d.shrinkAxisMask&1<<w),C=e[w];if(C===-1){m.push(b?1:-1);continue}const S=[d.beginMask&1<<w,d.endMask&1<<w],$=[d.strides[w]>0?0:-1,d.strides[w]>0?C:C-1];if(b&&d.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&d.strides[w]===1;const k=!!(d.beginMask&1<<w&&d.endMask&1<<w);if(d.beginValid&&d.endValid){if(b){const A=d.begin[w]<0?C+d.begin[w]:d.begin[w];if(d.begin[w]=A,d.end[w]=d.begin[w]+1,A<0||A>=C)throw Error(`slice index ${d.begin[w]} of dimension ${w} out of bounds.`)}else d.begin[w]=Use(d.begin[w],0,d.strides[w],C,S,$),d.end[w]=Use(d.end[w],1,d.strides[w],C,S,$);const E=d.strides[w]===1&&d.begin[w]===0&&d.end[w]===C;h=h&&E,p=p&&(w===0&&d.strides[w]===1||E)}else h=h&&d.strides[w]===1&&k,p=p&&(w===0&&d.strides[w]===1||k);let T,_=!1;if(d.beginValid&&d.endValid?(T=d.end[w]-d.begin[w],_=!0):b?(T=1,_=!0):k&&C>=0&&(d.strides[w]<0?T=-C:T=C,_=!0),_){let E;T===0||T<0!=d.strides[w]<0?E=0:E=Math.trunc(T/d.strides[w])+(T%d.strides[w]!==0?1:0),m.push(E)}else m.push(-1)}for(let w=0;w<d.finalShapeGatherIndices.length;++w){const b=d.finalShapeGatherIndices[w];b>=0?v.push(m[b]):b===DV&&v.push(1)}return{finalShapeSparse:v.filter((w,b)=>d.finalShapeGatherIndices[b]!==DV),finalShape:v,isIdentity:h,sliceDim0:p,isSimpleSlice:g,begin:d.begin,end:d.end,strides:d.strides}}function tYe(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const s=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<s;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(DV),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(JKe),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function Use(e,t,n,r,s,o){if(s[t])return n>0?o[t]:o[t+1&1];{const i=e<0?r+e:e;return i<o[0]?o[0]:i>o[1]?o[1]:i}}const Wbe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:AG,computeFlatOffset:DG,computeOutShape:IG,getNormalizedAxes:eYe,isSliceContinous:NG,maskToAxes:QKe,parseSliceParams:TP,sliceInfo:OG,startForAxis:zbe,startIndicesWithElidedDims:Pbe,stopForAxis:Vbe,stopIndicesWithElidedDims:Lbe,stridesForAxis:Bbe,stridesWithElidedDims:Rbe},Symbol.toStringTag,{value:"Module"}));const nYe="4.22.0";class Ube{static sgd(t){return new EP(t)}static momentum(t,n,r=!1){return new kG(t,n,r)}static rmsprop(t,n=.9,r=0,s=null,o=!1){return new EG(t,n,r,s,o)}static adam(t=.001,n=.9,r=.999,s=null){return new SG(t,n,r,s)}static adadelta(t=.001,n=.95,r=null){return new xG(t,n,r)}static adamax(t=.002,n=.9,r=.999,s=null,o=0){return new $G(t,n,r,s,o)}static adagrad(t,n=.1){return new CG(t,n)}}const mg=Ube;const rYe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:e=>e();function RG(){return new Promise(e=>rYe(()=>e()))}function FG(e,t){const n=e[0].length;e.forEach((s,o)=>{te(s.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),te(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((s,o)=>{for(let i=0;i<n;i++)te(i===t||s[i]===r[i],()=>`Error in concat${n}D: Shape of tensors[${o}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`)})}function Hf(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var fc;(function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"})(fc||(fc={}));function jbe(e,t,n){let r=new Array;if(n==null&&t==null)return r;if(t==null)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(n==null)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const o=n[s],i=r[r.length-n.length+s],a=r[i];if(o>=0)if(a>=0){if(a!==o)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${s+e}] = ${o} but shape[${s+e}] = ${a}`)}else r[i]=o}return r}function Hbe(e){const t={FIRST_DIM_SIZE:fc.FIRST_DIM_SIZE,VALUE_ROWIDS:fc.VALUE_ROWIDS,ROW_LENGTHS:fc.ROW_LENGTHS,ROW_SPLITS:fc.ROW_SPLITS,ROW_LIMITS:fc.ROW_LIMITS,ROW_STARTS:fc.ROW_STARTS},n=[];for(const r of e)if(r in t)n.push(t[r]);else break;return n}function qbe(e){return e.length===0?0:e[0]===fc.FIRST_DIM_SIZE?e.length-1:e.length}function Gbe(e,t){if(e==null||t==null)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const o=e[s],i=t[s+1];if(o>=0&&i>=0&&o!==1&&o!==i)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${s-e.length}] = ${o} but ragged tensor input.flatValues.shape[${s-e.length}] = ${i}`)}}const MG=30;function AP(e){return e<=MG?e:CO(e,Math.floor(Math.sqrt(e)))}function PG(e,t,n){const r=n*(typeof e=="number"?e:e[0]),s=t*(typeof e=="number"?e:e[1]);return[r,s]}function UT(e,t,n,r=!0){let s=[];if(r)s=s.concat(t.slice(0)),s.push(e[0]/n),s=s.concat(e.slice(1));else{s=s.concat(e[0]);const o=t.length;for(let i=0;i<o;++i)s=s.concat([e[i+1]/t[i],t[i]]);s=s.concat(e.slice(o+1))}return s}function jT(e,t,n=!0){const r=[];if(n){r.push(t);for(let s=t+1;s<e;++s)s<=2*t?(r.push(s),r.push(s-(t+1))):r.push(s)}else{const s=[],o=[];for(let i=1;i<e;++i)i>=t*2+1||i%2===1?o.push(i):s.push(i);r.push(...s),r.push(0),r.push(...o)}return r}function HT(e,t,n,r=!0){const s=[];r?s.push(e[0]/n):s.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?s.push(t[o-1]*e[o]):s.push(e[o]/t[o-1]):s.push(e[o]);return s}function LG(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function BG(e,t,n){const r=e.slice(0,1);for(let s=0;s<n;++s)r.push(e[s+1]-t[s][0]-t[s][1]);return r}const IP=1.7580993408473768,NP=1.0507009873554805;const zG=.3275911,VG=.254829592,WG=-.284496736,UG=1.421413741,jG=-1.453152027,HG=1.061405429;function op(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Kbe(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Ybe(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=0;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function Xbe(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let s=2;s<e.length;s+=4)n[Math.floor(s/4)]=e[s],r[Math.floor(s/4)]=e[s+1];return{real:n,imag:r}}function qG(e,t){const n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function Zbe(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function Jbe(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let s=0;s<Math.ceil(e/2);s++){const o=(t?2:-2)*Math.PI*(s/e);n[s]=Math.cos(o),r[s]=Math.sin(o)}return{real:n,imag:r}}function Qbe(e,t,n){const r=(n?2:-2)*Math.PI*(e/t),s=Math.cos(r),o=Math.sin(r);return{real:s,imag:o}}const n8="->",sYe=/->/g,jse=",",Hse="...";function GG(e,t){e=e.replace(/\s/g,"");const n=(e.length-e.replace(sYe,"").length)/n8.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${n8}").`);const[r,s]=e.split(n8);te(r.indexOf(Hse)===-1,()=>`The ellipsis notation ("${Hse}") is not supported yet.`);const o=r.split(jse),i=o.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!o.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==jse&&a.push(h)}const l=new Array(o.length);for(let d=0;d<i;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error(`Found duplicate axes in input component ${o[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<o[d].length;++h)l[d].push(a.indexOf(o[d][h]))}const u=a.length,c=s.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:a,summedDims:f,idDims:l}}function KG(e,t){let n=new Array(e);n.fill(-1);for(let s=0;s<t.length;++s)n[t[s]]=s;const r=[];for(let s=0;s<e;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function YG(e,t,n){const r=new Array(e);for(let s=0;s<n.length;++s){const o=n[s].shape;for(let i=0;i<t[s].length;++i)r[t[s][i]]===void 0?r[t[s][i]]=o[i]:te(r[t[s][i]]===o[i],()=>`Expected dimension ${r[t[s][i]]} at axis ${i} of input shaped ${JSON.stringify(o)}, but got dimension ${o[i]}`)}}function XG(e,t){const n=e,r=[];let s=0;e.length===0&&n.push(-1),s=e.length+1;for(let i=0;i<s;++i)r.push([]);const o=[];for(let i=0;i<n.length;++i){const a=n[i],l=oYe(t,a);for(const u of l)o.indexOf(u)===-1&&(r[i].push(u),o.push(u))}return{path:n,steps:r}}function ZG(e){return e.every((t,n)=>t===n)}function oYe(e,t){const n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function JG(e,t,n=0){let r=[];if(typeof t=="number")te(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const s=t.reduce((i,a)=>(a===-1&&(i+=1),i),0);te(s<=1,()=>"There should be only one negative value in split array.");const o=t.indexOf(-1);if(o!==-1){const i=t.reduce((a,l)=>l>0?a+l:a);t[o]=e.shape[n]-i}te(e.shape[n]===t.reduce((i,a)=>i+a),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function ewe(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function twe(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function nwe(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function rwe(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function swe(e,t){return`size ${e} must be non-negative, not ${t}`}function owe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function iwe(e,t){const n=je(e),r=je(t);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function awe(e,t){const n=je(e),r=je(t);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}function OV(){return"segment ids must be >= 0"}function lwe(){return"segment ids are not increasing"}function uwe(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function cwe(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function fwe(e,t){let n=!1,r;for(e<=MG?(r=e,n=!0):r=CO(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=CO(e,r+1);return r}function dwe(e,t,n){const r=[],s=e.length;for(let o=0;o<s;o++)o!==t?r.push(e[o]):r.push(n);return r}function QG(e,t,n,r){const s=t.shape.length,o=e.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);const i=e.shape[n],a=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)a.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)a.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<s;f++)a.push(t.shape[f]);for(let f=n+1;f<o;f++)a.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:a}}const iYe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:QG,computeOutShape:dwe,segOpComputeOptimalWindowSize:fwe},Symbol.toStringTag,{value:"Module"}));function ip(e){try{return e.map(t=>rp(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function hwe(e){return e.map(t=>Uf(t))}const pwe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:VG,ERF_A2:WG,ERF_A3:UG,ERF_A4:jG,ERF_A5:HG,ERF_P:zG,PARALLELIZE_THRESHOLD:MG,get RowPartitionType(){return fc},SELU_SCALE:NP,SELU_SCALEALPHA:IP,applyActivation:xP,assertAndGetBroadcastShape:Nn,assertAxesAreInnerMostDims:Qo,assertParamsConsistent:FG,assignToTypedArray:Zbe,axesAreInnerMostDims:Xq,calculateShapes:i0,checkEinsumDimSizes:YG,checkPadOnDimRoundingMode:ua,combineLocations:jye,combineRaggedTensorToTensorShapes:jbe,complexWithEvenIndex:Ybe,complexWithOddIndex:Xbe,computeConv2DInfo:To,computeConv3DInfo:n0,computeDefaultPad:Uq,computeDilation2DInfo:MT,computeOptimalWindowSize:AP,computeOutAndReduceShapes:Ao,computeOutShape:Hf,computePool2DInfo:Ku,computePool3DInfo:_p,convertConv2DDataFormat:Tp,decodeEinsumEquation:GG,eitherStridesOrDilationsAreOne:Jo,expandShapeToKeepDim:Us,exponent:Qbe,exponents:Jbe,fromStringArrayToUint8:hwe,fromUint8ToStringArray:ip,getAxesPermutation:As,getBroadcastDims:w1,getComplexWithIndex:qG,getEinsumComputePath:XG,getEinsumPermutation:KG,getFusedBiasGradient:wP,getFusedDyActivation:bP,getImageCenter:PG,getInnerMostAxes:Hs,getPermuted:jT,getRaggedRank:qbe,getReductionAxes:Zs,getReshaped:UT,getReshapedPermuted:HT,getRowPartitionTypesHelper:Hbe,getSliceBeginCoords:LG,getSliceSize:BG,getSparseFillEmptyRowsIndicesDenseShapeMismatch:ewe,getSparseFillEmptyRowsNegativeIndexErrorMessage:twe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:nwe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:owe,getSparseReshapeInputOutputMismatchErrorMessage:awe,getSparseReshapeInputOutputMultipleErrorMessage:iwe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:rwe,getSparseReshapeNegativeOutputDimErrorMessage:swe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:cwe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:OV,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:lwe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:uwe,getUndoAxesPermutation:r0,isIdentityPermutation:ZG,log:n7e,mergeRealAndImagArrays:op,prepareAndValidate:_P,prepareSplitSize:JG,segment_util:iYe,shouldFuse:CP,slice_util:Wbe,splitRealAndImagArrays:Kbe,stridesOrDilationsArePositive:y1,tupleValuesAreOne:dm,upcastType:Da,validateDefaultValueShape:Gbe,validateInput:vP,validateUpdateShape:gG,warn:zl},Symbol.toStringTag,{value:"Module"}));const aYe=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:SP,nonMaxSuppressionV4Impl:$P,nonMaxSuppressionV5Impl:kP,whereImpl:yP},Symbol.toStringTag,{value:"Module"}));bKe();const lYe=Object.freeze(Object.defineProperty({__proto__:null,Abs:N_,Acos:Zx,Acosh:Jx,AdadeltaOptimizer:xG,AdagradOptimizer:CG,AdamOptimizer:SG,AdamaxOptimizer:$G,Add:ay,AddN:D_,All:HM,Any:qM,ArgMax:O_,ArgMin:R_,Asin:Qx,Asinh:e2,Atan:t2,Atan2:r2,Atanh:n2,AvgPool:F_,AvgPool3D:M_,AvgPool3DGrad:KM,AvgPoolGrad:GM,BatchMatMul:P_,BatchToSpaceND:L_,Bincount:YM,BitwiseAnd:B_,BroadcastArgs:XM,BroadcastTo:V1e,Cast:s2,Ceil:o2,ClipByValue:i2,Complex:ZM,ComplexAbs:z_,Concat:V_,Conv2D:W_,Conv2DBackpropFilter:JM,Conv2DBackpropInput:U_,Conv3D:j_,Conv3DBackpropFilterV2:QM,Conv3DBackpropInputV2:e4,Cos:a2,Cosh:l2,CropAndResize:n4,Cumprod:t4,Cumsum:H_,DataStorage:Eq,DenseBincount:r4,DepthToSpace:s4,DepthwiseConv2dNative:q_,DepthwiseConv2dNativeBackpropFilter:o4,DepthwiseConv2dNativeBackpropInput:i4,Diag:a4,Dilation2D:G_,Dilation2DBackpropFilter:$O,Dilation2DBackpropInput:SO,Draw:l4,get ENV(){return Nq},Einsum:u4,Elu:c2,EluGrad:c4,Environment:B1e,Equal:K_,Erf:f2,Exp:d2,ExpandDims:Y_,Expm1:h2,FFT:f4,Fill:d4,FlipLeftRight:h4,Floor:p2,FloorDiv:g2,FromPixels:kO,FusedBatchNorm:X_,FusedConv2D:Tk,FusedDepthwiseConv2D:Ak,GatherNd:p4,GatherV2:Z_,Greater:J_,GreaterEqual:m2,IFFT:g4,Identity:v2,Imag:m4,IsFinite:y2,IsInf:b2,IsNan:w2,KernelBackend:VM,LRN:oT,LRNGrad:y4,LeakyRelu:Q_,Less:eT,LessEqual:tT,LinSpace:v4,Log:x2,Log1p:C2,LogSoftmax:W1e,LogicalAnd:nT,LogicalNot:rT,LogicalOr:sT,LogicalXor:Z9e,LowerBound:J9e,MatrixBandPart:Q9e,Max:iT,MaxPool:aT,MaxPool3D:lT,MaxPool3DGrad:w4,MaxPoolGrad:b4,MaxPoolWithArgmax:x4,Maximum:S2,Mean:uT,Min:cT,Minimum:$2,MirrorPad:fT,Mod:k2,MomentumOptimizer:kG,Multinomial:C4,Multiply:E2,Neg:dT,NonMaxSuppressionV3:S4,NonMaxSuppressionV4:$4,NonMaxSuppressionV5:k4,NotEqual:hT,OP_SCOPE_SUFFIX:rye,OneHot:gT,OnesLike:pT,Optimizer:Np,OptimizerConstructors:Ube,Pack:mT,PadV2:vT,Pool:e7e,Pow:_2,Prelu:yT,Prod:bT,RMSPropOptimizer:EG,RaggedGather:E4,RaggedRange:_4,RaggedTensorToTensor:T4,Range:A4,get Rank(){return pV},Real:I4,RealDiv:u2,Reciprocal:T2,get Reduction(){return Wi},Relu:A2,Relu6:I2,Reshape:wT,ResizeBilinear:CT,ResizeBilinearGrad:D4,ResizeNearestNeighbor:xT,ResizeNearestNeighborGrad:N4,Reverse:ST,RotateWithOffset:Y4,Round:N2,Rsqrt:D2,SGDOptimizer:EP,ScatterNd:O4,SearchSorted:F4,Select:$T,Selu:O2,Sigmoid:P2,Sign:M2,Sin:R2,Sinh:F2,Slice:kT,Softmax:AT,Softplus:L2,SpaceToBatchND:_T,SparseFillEmptyRows:M4,SparseReshape:P4,SparseSegmentMean:L4,SparseSegmentSum:B4,SparseToDense:z4,SplitV:TT,Sqrt:B2,Square:V4,SquaredDifference:z2,StaticRegexReplace:IT,Step:H2,StridedSlice:W4,StringNGrams:U4,StringSplit:j4,StringToHashBucketFast:H4,Sub:V2,Sum:ET,Tan:W2,Tanh:U2,Tensor:Mr,TensorBuffer:Xs,TensorScatterUpdate:R4,Tile:j2,TopK:q4,Transform:G4,Transpose:Hv,Unique:K4,Unpack:NT,UnsortedSegmentSum:DT,UpperBound:t7e,Variable:Dk,ZerosLike:OT,_FusedMatMul:_k,abs:eo,acos:bye,acosh:wye,add:mt,addN:MVe,all:Wq,any:_O,argMax:Ow,argMin:xye,asin:Cye,asinh:Sye,atan:$ye,atan2:kye,atanh:Eye,avgPool:J4,avgPool3d:_ye,backend:Lq,backend_util:pwe,basicLSTMCell:oWe,batchNorm:PT,batchNorm2d:Tye,batchNorm3d:Aye,batchNorm4d:Iye,batchToSpaceND:Q4,bincount:Nye,bitwiseAnd:pWe,booleanMaskAsync:hqe,broadcastArgs:mWe,broadcastTo:aw,broadcast_util:VWe,browser:XKe,buffer:Wn,cast:At,ceil:Dye,clipByValue:vl,clone:Xg,complex:cm,concat:xo,concat1d:Oye,concat2d:Rye,concat3d:Fye,concat4d:Mye,conv1d:jq,conv2d:hm,conv2dTranspose:qq,conv3d:Pye,conv3dTranspose:Bye,copyRegisteredKernels:o7e,cos:eP,cosh:Gq,cosineWindow:yG,cumprod:TO,cumsum:Kq,customGrad:ld,denseBincount:_V,deprecationWarn:L7e,depthToSpace:zye,depthwiseConv2d:LT,device_util:D7e,diag:BWe,dilation2d:Vye,disableDeprecationWarnings:P7e,dispose:Yn,disposeVariables:B7e,div:an,divNoNan:Wye,dot:Uye,dropout:vbe,einsum:Lb,elu:BT,enableDebugMode:M7e,enableProdMode:F7e,enclosingPowerOfTwo:ybe,engine:lc,ensureShape:XWe,env:Pe,equal:Pc,erf:Yq,euclideanNorm:qye,exp:yl,expandDims:zi,expm1:Gye,eye:Zq,fft:gP,fill:q2,findBackend:H7e,findBackendFactory:q7e,floor:VT,floorDiv:Vq,fused:Fqe,gather:WT,gatherND:Sqe,gather_util:ZKe,getBackend:sye,getGradient:dV,getKernel:Nk,getKernelsForBackend:EO,grad:EUe,grads:_Ue,greater:Nl,greaterEqual:s0,ifft:Vk,imag:tP,image:Bf,inTopKAsync:_qe,io:PKe,irfft:hG,isFinite:Kye,isInf:Yye,isNaN:Xye,keep:kc,kernel_impls:aYe,leakyRelu:nP,less:Pk,lessEqual:uy,linalg:Ebe,linspace:CUe,localResponseNormalization:Zye,log:eu,log1p:rP,logSigmoid:Qye,logSoftmax:Jq,logSumExp:oP,logicalAnd:ud,logicalNot:iP,logicalOr:Qq,logicalXor:ebe,losses:dKe,lowerBound:VUe,matMul:Kn,math:zKe,max:Nu,maxPool:aP,maxPool3d:tbe,maxPoolWithArgmax:HUe,maximum:Ap,mean:Ns,memory:wV,meshgrid:KUe,min:Mk,minimum:x1,mirrorPad:nbe,mod:rbe,moments:lP,movingAverage:mqe,mul:we,multiRNNCell:eje,multinomial:nje,neg:as,nextFrame:RG,norm:zT,notEqual:Rw,oneHot:Lk,ones:ol,onesLike:tu,op:be,outerProduct:aje,pad:o0,pad1d:cje,pad2d:dje,pad3d:pje,pad4d:mje,pool:sbe,pow:sp,prelu:cP,print:yye,prod:obe,profile:z7e,raggedGather:$je,raggedRange:Eje,raggedTensorToTensor:Tje,rand:Ije,randomGamma:lHe,randomNormal:sG,randomStandardNormal:fHe,randomUniform:cy,randomUniformInt:pHe,range:Fw,ready:U7e,real:Bk,reciprocal:lbe,registerBackend:Pq,registerGradient:U1e,registerKernel:X4,relu:Dd,relu6:oG,removeBackend:j7e,reshape:_e,reverse:Fu,reverse1d:xHe,reverse2d:SHe,reverse3d:kHe,reverse4d:_He,rfft:mP,round:iG,rsqrt:aG,scalar:$n,scatterND:yqe,scatter_util:nqe,searchSorted:eG,selu:lG,separableConv2d:uG,serialization:vKe,setBackend:W7e,setPlatform:G7e,setdiff1dAsync:OHe,sigmoid:jf,sign:ube,signal:fKe,sin:cG,sinh:fG,slice:hr,slice1d:dP,slice2d:dG,slice3d:hP,slice4d:zk,slice_util:Wbe,softmax:pP,softplus:G2,spaceToBatchND:uP,sparse:hKe,sparseToDense:xqe,spectral:cKe,split:fl,sqrt:Go,square:Kr,squaredDifference:pG,squeeze:fy,stack:cd,step:K2,stridedSlice:cbe,string:pKe,sub:jt,sum:Zt,sumOutType:Z4,tan:fbe,tanh:b1,tensor:qv,tensor1d:qi,tensor2d:Zg,tensor3d:dbe,tensor4d:QHe,tensor5d:eqe,tensor6d:tqe,tensorScatterUpdate:sqe,tensor_util:_7e,test_util:sHe,tidy:Be,tile:bu,time:V7e,topk:hbe,train:mg,transpose:rr,truncatedNormal:mG,unique:pbe,unregisterGradient:s7e,unregisterKernel:r7e,unsortedSegmentSum:vG,unstack:pm,upcastType:Da,upperBound:cqe,util:p7e,valueAndGrad:TUe,valueAndGrads:AUe,variable:gbe,variableGrads:Jye,version_core:nYe,where:mi,whereAsync:mbe,zeros:no,zerosLike:ur},Symbol.toStringTag,{value:"Module"}));const gwe={kernelName:N_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,K2(At(n,"float32"),-1))}}};const uYe={kernelName:Zx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Kr(At(n,"float32")),s=Go(jt($n(1),r));return as(an(e,s))}}}};const cYe={kernelName:Jx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Go(jt(Kr(At(n,"float32")),1));return an(e,r)}}}};const fYe={kernelName:ay,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{let a=e;const l=Zs(n.shape,s);return l.length>0&&(a=Zt(a,l)),_e(a,n.shape)},b:()=>{let a=e;const l=Zs(r.shape,s);return l.length>0&&(a=Zt(a,l)),_e(a,r.shape)}}}};const dYe={kernelName:D_,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((r,s)=>{n[s]=()=>e.clone()}),n}};const hYe={kernelName:O_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ur(n)}}};const pYe={kernelName:R_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ur(n)}}};const gYe={kernelName:Qx,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,Go(jt($n(1),Kr(At(n,"float32")))))}}};const mYe={kernelName:e2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Go(mt($n(1),Kr(At(n,"float32"))));return an(e,r)}}}};const vYe={kernelName:r2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{const a=mt(Kr(n),Kr(r));let l=we(e,an(r,a));const u=Zs(n.shape,s);return u.length>0&&(l=Zt(l,u)),_e(l,n.shape)},b:()=>{const a=mt(Kr(n),Kr(r));let l=as(we(e,an(n,a)));const u=Zs(r.shape,s);return u.length>0&&(l=Zt(l,u)),_e(l,r.shape)}}}};const yYe={kernelName:t2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,mt(Kr(At(n,"float32")),1))}}};const bYe={kernelName:n2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,jt($n(1),Kr(At(n,"float32"))))}}};function wYe(e,t,n,r,s,o){const i=ne(e,"dy","avgPool3dGrad"),a=ne(t,"input","avgPool3dGrad");let l=i,u=a,c=!1;a.rank===4&&(c=!0,l=_e(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),u=_e(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),te(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),te(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),ua("avgPool3dGrad",s,o);const f={dy:l,input:u},d={filterSize:n,strides:r,pad:s,dimRoundingMode:o},h=ve.runKernel(KM,f,d);return c?_e(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const xYe=be({avgPool3dGrad_:wYe});const CYe={kernelName:M_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:o,pad:i,dimRoundingMode:a}=n;return{x:()=>xYe(e,r,s,o,i,a)}}};function SYe(e,t,n,r,s){const o=ne(e,"dy","avgPoolGrad"),i=ne(t,"input","avgPoolGrad");te(i.rank===o.rank,()=>`Rank of input (${i.rank}) does not match rank of dy (${o.rank})`);let a=i,l=o,u=!1;i.rank===3&&(u=!0,a=_e(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=_e(o,[1,o.shape[0],o.shape[1],o.shape[2]])),te(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),te(a.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${a.rank}.`);const c={dy:l,input:a},f={filterSize:n,strides:r,pad:s},d=ve.runKernel(GM,c,f);return u?_e(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const $Ye=be({avgPoolGrad_:SYe});const kYe={kernelName:F_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:s,strides:o,pad:i}=n;return{x:()=>$Ye(e,r,s,o,i)}}};const EYe={kernelName:P_,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,s]=t,{transposeA:o,transposeB:i}=n;return!o&&!i?{a:()=>Kn(e,s,!1,!0),b:()=>Kn(r,e,!0,!1)}:!o&&i?{a:()=>Kn(e,s,!1,!1),b:()=>Kn(e,r,!0,!1)}:o&&!i?{a:()=>Kn(s,e,!1,!0),b:()=>Kn(r,e,!1,!1)}:{a:()=>Kn(s,e,!0,!0),b:()=>Kn(e,r,!0,!0)}}};const _Ye={kernelName:L_,gradFunc:(e,t,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>uP(e,r,s)}}};const TYe={kernelName:V1e,gradFunc:(e,t,n)=>{const r=n,s=r.inputShape,o=r.shape,i=Array.from(o);for(let l=s.length-1;l>=0;l--)if(s[l]===o[l])i[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${o}].`);const a=[];for(let l=0;l<i.length;l++)i[l]>1&&a.push(l);return{x:()=>Zt(e,a,!0)}}};const AYe={kernelName:s2,gradFunc:e=>({x:()=>e.clone()})};const IYe={kernelName:o2,gradFunc:e=>({x:()=>ur(e)})};const NYe={kernelName:i2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:s,clipValueMax:o}=n;return{x:()=>mi(ud(s0(r,s),uy(r,o)),e,ur(e))}}};const DYe={kernelName:z_,inputsToSave:["x"],gradFunc:gwe.gradFunc};const OYe={kernelName:V_,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(l=>l.shape),{axis:s}=n,o=qn(s,t[0].shape)[0],i=r.map(l=>l[o]);return fl(e,i,o).map(l=>()=>l)}};const RYe={kernelName:W_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{dilations:o,strides:i,pad:a,dataFormat:l}=n;return te(dm(o),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`),{x:()=>Hq(r.shape,e,s,i,a,l),filter:()=>bG(r,e,s.shape,i,a,l)}}};const FYe={kernelName:U_,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,{strides:o,pad:i,dataFormat:a,dimRoundingMode:l}=n;return{dy:()=>hm(e,s,o,i,a,1,l),filter:()=>bG(e,r,s.shape,o,i,a,l)}}};function MYe(e,t,n,r,s){let o=e;e.rank===4&&(o=_e(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;i.rank===4&&(i=_e(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),te(o.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${o.shape}.`),te(i.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`),te(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),te(o.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${o.shape[4]}) must match input depth in filter (${n[3]}.`),te(i.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`);const a={x:o,dy:i},l={strides:r,pad:s,filterShape:n};return ve.runKernel(QM,a,l)}const PYe=be({conv3DBackpropFilter_:MYe});const LYe={kernelName:j_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:o}=n;te(dm(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[i,a]=t;return{x:()=>Lye(i.shape,e,a,s,o),filter:()=>PYe(i,e,a.shape,s,o)}}};const BYe={kernelName:a2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(as(cG(At(n,"float32"))),e)}}};const zYe={kernelName:l2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(fG(At(n,"float32")),e)}}};const VYe={kernelName:H_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s,exclusive:o,reverse:i}=n;return{x:()=>{const a=As([s],r.rank);let l=Kq(e,s,o,!i);return a!=null&&(l=rr(l,a)),l}}}};const WYe={kernelName:q_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:s,pad:o,dimRoundingMode:i}=n,a=r??[1,1];te(dm(a),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[l,u]=t;return te(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),te(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),te(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),te(Jo(s,a),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${a}'.`),ua("depthwiseConv2d",o,i),{x:()=>xbe(l.shape,e,u,s,o,a,i),filter:()=>wbe(l,e,u.shape,s,o,a,i)}}};const UYe={kernelName:G_,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,s]=t,o={x:r,filter:s,dy:e},i={x:r,filter:s,dy:e};return{x:()=>ve.runKernel(SO,o,n),filter:()=>ve.runKernel($O,i,n)}}};const jYe={kernelName:c2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>ve.runKernel(c4,r)}}};const HYe={kernelName:f2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=we(yl(as(Kr(n))),2/Math.sqrt(Math.PI));return{x:()=>we(e,r)}}};const qYe={kernelName:d2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,n)}}};const GYe={kernelName:Y_,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>_e(e,n.shape)}}};const KYe={kernelName:h2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,yl(n))}}};const YYe={kernelName:p2,gradFunc:e=>({x:()=>ur(e)})};const XYe={kernelName:g2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{const a=an(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Zt(a,l),n.shape):a},b:()=>{let a=we(e,At(n,"float32"));const l=Zs(r.shape,s);l.length>0&&(a=_e(Zt(a,l),r.shape));const u=Kr(r);return as(an(a,At(u,"float32")))}}}};const ZYe={kernelName:X_,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[s,o,i,a]=t,l=a??$n(1),u=Zs(o.shape,s.shape),c=[];if(o.rank===1){for(let b=0;b<s.shape.length-1;++b)c.push(s.shape[b]);c.push(1)}const f=jt(s,o),d=we(e,l),h=aG(mt(i,$n(r))),p=we(we(we(h,h),h),$n(-.5));return{x:()=>o.rank===1?_e(we(we(e,bu(_e(h,[1,1,1,o.shape[0]]),c)),l),s.shape):_e(we(we(e,h),l),s.shape),mean:()=>{let b=we(we(h,$n(-1)),d);return o.rank===1&&(b=Zt(b,u)),_e(b,o.shape)},variance:()=>{let b=we(we(p,f),d);return o.rank===1&&(b=Zt(b,u)),_e(b,o.shape)},scale:()=>{const b=we(f,h);let C=we(e,b);return o.rank===1&&(C=Zt(C,u)),_e(C,o.shape)},offset:()=>{let b=e;return o.rank===1&&(b=Zt(b,u)),_e(b,o.shape)}}}};const JYe={kernelName:Z_,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,s]=t,{axis:o,batchDims:i}=n,a=qn(o,r.shape)[0],l=(u,c,f)=>()=>{const d=u.shape,h=c.size,p=d.slice(0,a),g=p.length,m=d.slice(o,d.length).slice(1),v=m.length,y=qse(0,g),w=qse(g+1,g+1+v),b=Gse([p,[h],m]),C=_e(f,b),S=_e(c,[h]),$=Gse([[g],y,w]),k=rr(C,$);let T=vG(k,S,u.shape[a]);const _=r0($);return T=rr(T,_),T};if(i===1){const u=r.shape[0],c=r.split(u,0);return{x:()=>cd(c.map((h,p)=>l(h,s.slice(p,1),e.slice(p,1))())).reshape(r.shape),indices:()=>s}}else return{x:l(r,s,e),indices:()=>s}}};function qse(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function Gse(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const QYe={kernelName:m2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>ur(n),b:()=>ur(r)}}};const eXe={kernelName:v2,gradFunc:e=>({x:()=>At(e,"float32")})};const tXe={kernelName:y2,gradFunc:e=>({x:()=>ur(e)})};const nXe={kernelName:b2,gradFunc:e=>({x:()=>ur(e)})};const rXe={kernelName:w2,gradFunc:e=>({x:()=>ur(e)})};const sXe={kernelName:Q_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:s}=n,o=Nl(r,0);return{x:()=>mi(o,e,we(e,s))}}};const oXe={kernelName:C2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,mt(n,1))}}};const iXe={kernelName:x2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,At(n,"float32"))}}};const aXe={kernelName:W1e,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;return{logits:()=>{const i=yl(r);return jt(e,we(Zt(e,s,!0),i))}}}};function lXe(e,t,n,r=5,s=1,o=1,i=.5){const a={x:e,y:t,dy:n},l={depthRadius:r,bias:s,alpha:o,beta:i};return ve.runKernel(y4,a,l)}const uXe=be({localResponseNormalizationBackprop_:lXe});const cXe={kernelName:oT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{depthRadius:o,bias:i,alpha:a,beta:l}=n;return{x:()=>uXe(r,s,e,o,i,a,l)}}};function mwe(e,t,n,r){return t.rank<n.rank&&(t=_e(t,Us(t.shape,r))),e.rank<n.rank&&(e=_e(e,Us(e.shape,r))),{x:()=>we(e,At(Pc(n,t),e.dtype))}}const Kse={kernelName:iT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:s}=r,o=t[0],i=t[1],a=qn(s,o.shape),l=mwe(e,i,o,a);return{x:()=>l.x()}}};const fXe={kernelName:S2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>we(e,At(s0(n,r),"float32")),b:()=>we(e,At(Pk(n,r),"float32"))}}};function dXe(e,t,n,r,s,o,i){const a=ne(e,"dy","maxPool3dGrad"),l=ne(t,"input","maxPool3dGrad"),u=ne(n,"output","maxPool3dGrad");let c=a,f=l,d=u,h=!1;l.rank===4&&(h=!0,c=_e(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),f=_e(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=_e(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),te(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),te(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),te(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),ua("maxPool3dGrad",o,i);const p={dy:c,input:f,output:d},g={filterSize:r,strides:s,pad:o,dimRoundingMode:i},m=ve.runKernel(w4,p,g);return h?_e(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const hXe=be({maxPool3dGrad_:dXe});const pXe={kernelName:lT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=n;return{x:()=>hXe(e,r,s,o,i,a,l)}}};function gXe(e,t,n,r,s,o,i){const a=ne(e,"dy","maxPoolGrad"),l=ne(t,"input","maxPoolGrad"),u=ne(n,"output","maxPoolGrad");te(l.rank===a.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${a.rank})`),te(a.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${a.rank}.`),te(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),ua("maxPoolGrad",o,i);const c={dy:a,input:l,output:u},f={filterSize:r,strides:s,pad:o,dimRoundingMode:i};return ve.runKernel(b4,c,f)}const mXe=be({maxPoolGrad_:gXe});const vXe={kernelName:aT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,s]=t,{filterSize:o,strides:i,pad:a}=n;return{x:()=>mXe(e,r,s,o,i,a)}}};const yXe={kernelName:uT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n,o=qn(s,r.shape),a=Ao(r.shape,o)[1],l=je(a);return{x:()=>{const c=r.shape.slice();o.forEach(h=>{c[h]=1});const f=_e(e,c);return an(we(f,ol(r.shape,"float32")),l)}}}};const bXe={kernelName:cT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:s}=r,[o,i]=t,a=qn(s,o.shape),l=mwe(e,i,o,a);return{x:()=>l.x()}}};const wXe={kernelName:$2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>we(e,At(uy(n,r),"float32")),b:()=>we(e,At(Nl(n,r),"float32"))}}};const xXe={kernelName:fT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,o=s.map(i=>i[0]);return{x:()=>hr(e,o,r.shape)}}};const CXe={kernelName:k2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{const a=Zs(n.shape,s);return a.length>0?_e(Zt(e,a),n.shape):e},b:()=>{const a=we(e,as(VT(an(n,r)))),l=Zs(r.shape,s);return l.length>0?_e(Zt(a,l),r.shape):a}}}};const SXe={kernelName:E2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{const a=we(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Zt(a,l),n.shape):a},b:()=>{const a=we(e,At(n,"float32")),l=Zs(r.shape,s);return l.length>0?_e(Zt(a,l),r.shape):a}}}};const $Xe={kernelName:dT,gradFunc:e=>({x:()=>as(e)})};const kXe={kernelName:gT,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>no(n.shape,"float32")}}};const EXe={kernelName:pT,gradFunc:e=>({x:()=>ur(e)})};const _Xe={kernelName:mT,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return pm(e,r).map(o=>()=>o)}};const Yse={kernelName:vT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:s}=n,o=s.map(i=>i[0]);return{x:()=>hr(e,o,r.shape)}}};const TXe={kernelName:_2,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,s]=t,o=n,i=r,a=Nn(o.shape,i.shape);return{a:()=>{const c=At(i,"float32");let f=we(e,we(c,sp(o,jt(c,$n(1)))));const d=Zs(o.shape,a);return d.length>0&&(f=Zt(f,d)),_e(f,o.shape)},b:()=>{const c=Nl(o,0),f=mi(c,eu(o),ur(o));let d=we(e,we(s,f));const h=Zs(i.shape,a);return h.length>0&&(d=Zt(d,h)),_e(d,i.shape)}}}};const AXe={kernelName:yT,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,s=Nl(n,0);return{x:()=>mi(s,e,we(e,r)),alpha:()=>{let o=mi(s,ur(e),we(e,n));const i=Zs(r.shape,e.shape);return i.length>0&&(o=Zt(o,i)),_e(o,r.shape)}}}};function IXe(e,t,n){const r=e.shape.slice();r[n]=1;const s=_e(t,r),o=TO(e,n,!0,!1),i=TO(e,n,!0,!0),a=we(o,i);return we(s,a)}function NXe(e,t,n){const r=e.shape.length,s=r-n.length,o=As(n,r);let i=e;o!=null&&(i=rr(e,o));const a=i.shape.slice(),u=a.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);a.push(u);const c=i.reshape(a);let f=IXe(c,t,s);if(f=f.reshape(i.shape),o!=null){const d=r0(o);f=rr(f,d)}return f}const DXe={kernelName:bT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:s}=n;let o=[];return s==null?o=r.shape.map((i,a)=>a):typeof s=="number"?o=[s]:o=s,{x:()=>NXe(r,e,o)}}};const OXe={kernelName:u2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{const a=an(e,At(r,"float32")),l=Zs(n.shape,s);return l.length>0?_e(Zt(a,l),n.shape):a},b:()=>{let a=we(e,At(n,"float32"));const l=Zs(r.shape,s);l.length>0&&(a=_e(Zt(a,l),r.shape));const u=Kr(r);return as(an(a,At(u,"float32")))}}}};const RXe={kernelName:T2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,as(Kr(n)))}}};const FXe={kernelName:I2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=we(uy(n,6),K2(n));return{x:()=>we(e,At(r,"float32"))}}};const MXe={kernelName:A2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,At(K2(n),"float32"))}}};const PXe={kernelName:wT,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>_e(e,n.shape)}}};const LXe={kernelName:CT,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>ve.runKernel(D4,s,n)}}};const BXe={kernelName:xT,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,s={dy:e,images:r};return{images:()=>ve.runKernel(N4,s,n)}}};const zXe={kernelName:ST,gradFunc:(e,t,n)=>{const{dims:r}=n,s=qn(r,e.shape);return{x:()=>Fu(e,s)}}};const VXe={kernelName:N2,gradFunc:e=>({x:()=>ur(e)})};const WXe={kernelName:D2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>as(an(e,we(sp(n,1.5),2)))}}};const UXe={kernelName:$T,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>At(ur(n),"float32"),t:()=>we(e,At(n,e.dtype)),e:()=>we(e,At(iP(n),e.dtype))}}};const jXe={kernelName:O2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Nl(n,$n(0)),s=$n(IP),o=$n(NP),i=we(e,o),a=we(we(e,s),yl(At(n,"float32")));return mi(r,i,a)}}}};const HXe={kernelName:P2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,we(n,jt($n(1),n)))}}};const qXe={kernelName:M2,gradFunc:e=>({x:()=>ur(e)})};const GXe={kernelName:R2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(eP(At(n,"float32")),e)}}};const KXe={kernelName:F2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(Gq(At(n,"float32")),e)}}};const YXe={kernelName:kT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:s,size:o}=n,i=r.shape,[a,l]=TP(r,s,o),u=[];for(let c=0;c<e.rank;c++)u.push([a[c],i[c]-a[c]-l[c]]);return{x:()=>o0(e,u)}}};const XXe={kernelName:AT,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:s}=n,o=!0,i=we(e,r);return{logits:()=>jt(i,we(Zt(i,[s],o),r))}}};const ZXe={kernelName:L2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,jf(n))}}};const Xse={kernelName:_T,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>Q4(e,r,s)}}};const Zse={kernelName:TT,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>xo(e,r)}}};const JXe={kernelName:B2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,we(Go(At(n,"float32")),2))}}};const QXe={kernelName:V4,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(e,we(At(n,"float32"),2))}}};const eZe={kernelName:z2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=$n(2);return{a:()=>we(e,we(s,jt(n,r))),b:()=>we(e,we(s,jt(r,n)))}}};const tZe={kernelName:H2,gradFunc:e=>({x:()=>ur(e)})};const nZe={kernelName:V2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,s=Nn(n.shape,r.shape);return{a:()=>{let a=e;const l=Zs(n.shape,s);return l.length>0&&(a=Zt(a,l)),_e(a,n.shape)},b:()=>{let a=e;const l=Zs(r.shape,s);return l.length>0&&(a=Zt(a,l)),_e(as(a),r.shape)}}}};const rZe={kernelName:ET,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,s=r.shape.slice(),{axis:o}=n;qn(o,r.shape).forEach(u=>{s[u]=1});const a=_e(e,s),l=we(a,ol(r.shape,"float32"));return{x:()=>l}}};const sZe={kernelName:W2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>an(e,Kr(eP(n)))}}};const oZe={kernelName:U2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>we(jt($n(1),Kr(n)),e)}}};const iZe={kernelName:j2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:s}=n;return{x:()=>{let i=ur(r);if(r.rank===1)for(let a=0;a<s[0];++a)i=mt(i,hr(e,[a*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let a=0;a<s[0];++a)for(let l=0;l<s[1];++l)for(let u=0;u<s[2];++u)for(let c=0;c<s[3];++c)i=mt(i,hr(e,[a*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return i}}}};const aZe={kernelName:Hv,gradFunc:(e,t,n)=>{const r=n,{perm:s}=r,o=r0(s);return{x:()=>rr(e,o)}}};const lZe={kernelName:NT,gradFunc:(e,t,n)=>{const r=n,{axis:s}=r;return{value:()=>cd(e,s)}}};const uZe={kernelName:DT,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>cZe(e,n)}}};function cZe(e,t){const n=Ap(t,ur(t)),r=WT(e,n);let s=s0(t,$n(0,"int32"));const o=r.rank-s.rank;for(let a=0;a<o;++a)s=zi(s,a+1);s=ud(s,ol(r.shape,"bool"));const i=ur(r);return mi(s,r,i)}const fZe={kernelName:OT,gradFunc:e=>({x:()=>ur(e)})};const dZe=[gwe,uYe,cYe,fYe,dYe,hYe,pYe,gYe,mYe,vYe,yYe,bYe,CYe,kYe,EYe,_Ye,TYe,AYe,IYe,NYe,DYe,OYe,FYe,RYe,LYe,BYe,zYe,VYe,WYe,UYe,OXe,jYe,HYe,qYe,GYe,KYe,XYe,YYe,ZYe,JYe,QYe,eXe,tXe,nXe,rXe,sXe,oXe,iXe,aXe,cXe,Kse,Kse,fXe,pXe,vXe,yXe,bXe,wXe,xXe,CXe,SXe,$Xe,kXe,EXe,_Xe,Yse,Yse,TXe,AXe,DXe,RXe,FXe,MXe,PXe,LXe,BXe,zXe,VXe,WXe,UXe,jXe,HXe,qXe,GXe,KXe,YXe,XXe,ZXe,Xse,Xse,Zse,Zse,JXe,eZe,QXe,tZe,nZe,rZe,sZe,oZe,iZe,aZe,lZe,uZe,fZe];for(const e of dZe)U1e(e);qe().prototype.abs=function(){return this.throwIfDisposed(),eo(this)};qe().prototype.acos=function(){return this.throwIfDisposed(),bye(this)};qe().prototype.acosh=function(){return this.throwIfDisposed(),wye(this)};qe().prototype.add=function(e){return this.throwIfDisposed(),mt(this,e)};qe().prototype.all=function(e,t){return this.throwIfDisposed(),Wq(this,e,t)};qe().prototype.any=function(e,t){return this.throwIfDisposed(),_O(this,e,t)};qe().prototype.argMax=function(e){return this.throwIfDisposed(),Ow(this,e)};qe().prototype.argMin=function(e){return this.throwIfDisposed(),xye(this,e)};qe().prototype.asScalar=function(){return this.throwIfDisposed(),te(this.size===1,()=>"The array must have only 1 element."),_e(this,[])};qe().prototype.asType=function(e){return this.throwIfDisposed(),At(this,e)};qe().prototype.as1D=function(){return this.throwIfDisposed(),_e(this,[this.size])};qe().prototype.as2D=function(e,t){return this.throwIfDisposed(),_e(this,[e,t])};qe().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),_e(this,[e,t,n])};qe().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),_e(this,[e,t,n,r])};qe().prototype.as5D=function(e,t,n,r,s){return this.throwIfDisposed(),_e(this,[e,t,n,r,s])};qe().prototype.asin=function(){return this.throwIfDisposed(),Cye(this)};qe().prototype.asinh=function(){return this.throwIfDisposed(),Sye(this)};qe().prototype.atan=function(){return this.throwIfDisposed(),$ye(this)};qe().prototype.atan2=function(e){return this.throwIfDisposed(),kye(this,e)};qe().prototype.atanh=function(){return this.throwIfDisposed(),Eye(this)};qe().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),J4(this,e,t,n,r)};qe().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Q4(this,e,t)};qe().prototype.batchNorm=function(e,t,n,r,s){return this.throwIfDisposed(),PT(this,e,t,n,r,s)};qe().prototype.broadcastTo=function(e){return this.throwIfDisposed(),aw(this,e)};qe().prototype.cast=function(e){return this.throwIfDisposed(),At(this,e)};qe().prototype.ceil=function(){return this.throwIfDisposed(),Dye(this)};qe().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),vl(this,e,t)};qe().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Mr&&(e=[e]),xo([this,...e],t)};qe().prototype.conv1d=function(e,t,n,r,s,o){return this.throwIfDisposed(),jq(this,e,t,n,r,s,o)};qe().prototype.conv2dTranspose=function(e,t,n,r,s){return this.throwIfDisposed(),qq(this,e,t,n,r,s)};qe().prototype.conv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),hm(this,e,t,n,r,s,o)};qe().prototype.cos=function(){return this.throwIfDisposed(),eP(this)};qe().prototype.cosh=function(){return this.throwIfDisposed(),Gq(this)};qe().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),TO(this,e,t,n)};qe().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Kq(this,e,t,n)};qe().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),zye(this,e,t)};qe().prototype.depthwiseConv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),LT(this,e,t,n,r,s,o)};qe().prototype.dilation2d=function(e,t,n,r,s){return this.throwIfDisposed(),Vye(this,e,t,n,r,s)};qe().prototype.divNoNan=function(e){return this.throwIfDisposed(),Wye(this,e)};qe().prototype.div=function(e){return this.throwIfDisposed(),an(this,e)};qe().prototype.dot=function(e){return this.throwIfDisposed(),Uye(this,e)};qe().prototype.elu=function(){return this.throwIfDisposed(),BT(this)};qe().prototype.equal=function(e){return this.throwIfDisposed(),Pc(this,e)};qe().prototype.erf=function(){return this.throwIfDisposed(),Yq(this)};qe().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),qye(this,e,t)};qe().prototype.exp=function(){return this.throwIfDisposed(),yl(this)};qe().prototype.expandDims=function(e){return this.throwIfDisposed(),zi(this,e)};qe().prototype.expm1=function(){return this.throwIfDisposed(),Gye(this)};qe().prototype.fft=function(){return this.throwIfDisposed(),gP(this)};qe().prototype.flatten=function(){return this.throwIfDisposed(),_e(this,[this.size])};qe().prototype.floor=function(){return this.throwIfDisposed(),VT(this)};qe().prototype.floorDiv=function(e){return this.throwIfDisposed(),Vq(this,e)};qe().prototype.gather=function(e,t,n){return this.throwIfDisposed(),WT(this,e,t,n)};qe().prototype.greaterEqual=function(e){return this.throwIfDisposed(),s0(this,e)};qe().prototype.greater=function(e){return this.throwIfDisposed(),Nl(this,e)};qe().prototype.ifft=function(){return this.throwIfDisposed(),Vk(this)};qe().prototype.irfft=function(){return this.throwIfDisposed(),hG(this)};qe().prototype.isFinite=function(){return this.throwIfDisposed(),Kye(this)};qe().prototype.isInf=function(){return this.throwIfDisposed(),Yye(this)};qe().prototype.isNaN=function(){return this.throwIfDisposed(),Xye(this)};qe().prototype.leakyRelu=function(e){return this.throwIfDisposed(),nP(this,e)};qe().prototype.lessEqual=function(e){return this.throwIfDisposed(),uy(this,e)};qe().prototype.less=function(e){return this.throwIfDisposed(),Pk(this,e)};qe().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Zye(this,e,t,n,r)};qe().prototype.logSigmoid=function(){return this.throwIfDisposed(),Qye(this)};qe().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Jq(this,e)};qe().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),oP(this,e,t)};qe().prototype.log=function(){return this.throwIfDisposed(),eu(this)};qe().prototype.log1p=function(){return this.throwIfDisposed(),rP(this)};qe().prototype.logicalAnd=function(e){return this.throwIfDisposed(),ud(this,e)};qe().prototype.logicalNot=function(){return this.throwIfDisposed(),iP(this)};qe().prototype.logicalOr=function(e){return this.throwIfDisposed(),Qq(this,e)};qe().prototype.logicalXor=function(e){return this.throwIfDisposed(),ebe(this,e)};qe().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Kn(this,e,t,n)};qe().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),aP(this,e,t,n,r)};qe().prototype.max=function(e,t){return this.throwIfDisposed(),Nu(this,e,t)};qe().prototype.maximum=function(e){return this.throwIfDisposed(),Ap(this,e)};qe().prototype.mean=function(e,t){return this.throwIfDisposed(),Ns(this,e,t)};qe().prototype.min=function(e,t){return this.throwIfDisposed(),Mk(this,e,t)};qe().prototype.minimum=function(e){return this.throwIfDisposed(),x1(this,e)};qe().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),nbe(this,e,t)};qe().prototype.mod=function(e){return this.throwIfDisposed(),rbe(this,e)};qe().prototype.mul=function(e){return this.throwIfDisposed(),we(this,e)};qe().prototype.neg=function(){return this.throwIfDisposed(),as(this)};qe().prototype.norm=function(e,t,n){return this.throwIfDisposed(),zT(this,e,t,n)};qe().prototype.notEqual=function(e){return this.throwIfDisposed(),Rw(this,e)};qe().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Lk(this,e,t,n)};qe().prototype.onesLike=function(){return this.throwIfDisposed(),tu(this)};qe().prototype.pad=function(e,t){return this.throwIfDisposed(),o0(this,e,t)};qe().prototype.pool=function(e,t,n,r,s,o){return this.throwIfDisposed(),sbe(this,e,t,n,r,s,o)};qe().prototype.pow=function(e){return this.throwIfDisposed(),sp(this,e)};qe().prototype.prelu=function(e){return this.throwIfDisposed(),cP(this,e)};qe().prototype.prod=function(e,t){return this.throwIfDisposed(),obe(this,e,t)};qe().prototype.reciprocal=function(){return this.throwIfDisposed(),lbe(this)};qe().prototype.relu=function(){return this.throwIfDisposed(),Dd(this)};qe().prototype.relu6=function(){return this.throwIfDisposed(),oG(this)};qe().prototype.reshapeAs=function(e){return this.throwIfDisposed(),_e(this,e.shape)};qe().prototype.reshape=function(e){return this.throwIfDisposed(),_e(this,e)};qe().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),$be(this,e,t,n)};qe().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),kbe(this,e,t,n)};qe().prototype.reverse=function(e){return this.throwIfDisposed(),Fu(this,e)};qe().prototype.rfft=function(){return this.throwIfDisposed(),mP(this)};qe().prototype.round=function(){return this.throwIfDisposed(),iG(this)};qe().prototype.rsqrt=function(){return this.throwIfDisposed(),aG(this)};qe().prototype.selu=function(){return this.throwIfDisposed(),lG(this)};qe().prototype.separableConv2d=function(e,t,n,r,s,o){return this.throwIfDisposed(),uG(this,e,t,n,r,s,o)};qe().prototype.sigmoid=function(){return this.throwIfDisposed(),jf(this)};qe().prototype.sign=function(){return this.throwIfDisposed(),ube(this)};qe().prototype.sin=function(){return this.throwIfDisposed(),cG(this)};qe().prototype.sinh=function(){return this.throwIfDisposed(),fG(this)};qe().prototype.slice=function(e,t){return this.throwIfDisposed(),hr(this,e,t)};qe().prototype.softmax=function(e){return this.throwIfDisposed(),pP(this,e)};qe().prototype.softplus=function(){return this.throwIfDisposed(),G2(this)};qe().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),uP(this,e,t)};qe().prototype.split=function(e,t){return this.throwIfDisposed(),fl(this,e,t)};qe().prototype.sqrt=function(){return this.throwIfDisposed(),Go(this)};qe().prototype.square=function(){return this.throwIfDisposed(),Kr(this)};qe().prototype.squaredDifference=function(e){return this.throwIfDisposed(),pG(this,e)};qe().prototype.squeeze=function(e){return this.throwIfDisposed(),fy(this,e)};qe().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Mr?[this,e]:[this,...e];return cd(n,t)};qe().prototype.step=function(e){return this.throwIfDisposed(),K2(this,e)};qe().prototype.stridedSlice=function(e,t,n,r,s,o,i,a){return this.throwIfDisposed(),cbe(this,e,t,n,r,s,o,i,a)};qe().prototype.sub=function(e){return this.throwIfDisposed(),jt(this,e)};qe().prototype.sum=function(e,t){return this.throwIfDisposed(),Zt(this,e,t)};qe().prototype.tan=function(){return this.throwIfDisposed(),fbe(this)};qe().prototype.tanh=function(){return this.throwIfDisposed(),b1(this)};qe().prototype.tile=function(e){return this.throwIfDisposed(),bu(this,e)};qe().prototype.toBool=function(){return this.throwIfDisposed(),At(this,"bool")};qe().prototype.toFloat=function(){return this.throwIfDisposed(),At(this,"float32")};qe().prototype.toInt=function(){return this.throwIfDisposed(),At(this,"int32")};qe().prototype.topk=function(e,t){return this.throwIfDisposed(),hbe(this,e,t)};qe().prototype.transpose=function(e){return this.throwIfDisposed(),rr(this,e)};qe().prototype.unique=function(e){return this.throwIfDisposed(),pbe(this,e)};qe().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),vG(this,e,t)};qe().prototype.unstack=function(e){return this.throwIfDisposed(),pm(this,e)};qe().prototype.where=function(e,t){return this.throwIfDisposed(),mi(e,this,t)};qe().prototype.zerosLike=function(){return this.throwIfDisposed(),ur(this)};class Af extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Af.prototype)}}class wu extends Error{constructor(t){super(t),Object.setPrototypeOf(this,wu.prototype)}}class ke extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ke.prototype)}}class Vn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Vn.prototype)}}class eK extends Error{constructor(t){super(t),Object.setPrototypeOf(this,eK.prototype)}}class vwe{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let n;return this.cache.has(t)&&(n=this.cache.get(t),this.cache.delete(t),this.cache.set(t,n)),n}put(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let n=0;n<this.maxEntries-t;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=t}}function S1(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}else{const n=new Array(t);return n.fill(e),n}}function If(e,t){if(!e)throw new eK(t)}function Jse(e,t){let n=0;for(const r of e)r===t&&n++;return n}function xa(e){return e.length===1?e[0]:e}function Ar(e){return Array.isArray(e)?e:[e]}function gh(e){const n=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function dv(e){return e.length<=1||e.indexOf("_")===-1?e:e.replace(/[_]+(\w|$)/g,(t,n)=>n.toUpperCase())}let fu={};function tK(e){if(e==null)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function RV(e){if(!(e==null||typeof e!="object"))if(Array.isArray(e))e.forEach(t=>RV(t));else{const t=Object.keys(e);for(const n of t){const r=e[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?e[n]=r.value:RV(r))}}}function qT(e,t={},n={},r="object",s=!1){if(typeof e=="string"){const o=e;let i;if(o in n)i=n[o];else if(o in fu)i=fu[o];else if(i=t[o],i==null)throw new ke(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}else{const o=e;if(o.className==null||o.config==null)throw new ke(`${r}: Improper config format: ${JSON.stringify(o)}.
'className' and 'config' must set.`);const i=o.className;let a,l;if(i in n?[a,l]=n[i]:i in fu?[a,l]=fu.className:i in t&&([a,l]=t[i]),a==null)throw new ke(`Unknown ${r}: ${i}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const h of Object.keys(fu))u[h]=fu[h];for(const h of Object.keys(n))u[h]=n[h];const c=o.config;c.customObjects=u;const f=Object.assign({},fu);for(const h of Object.keys(n))fu[h]=n[h];RV(o.config);const d=l(a,o.config,n,s);return fu=Object.assign({},f),d}else{const u=Object.assign({},fu);for(const f of Object.keys(n))fu[f]=n[f];const c=new a(o.config);return fu=Object.assign({},u),c}}}function hZe(e,t){return e<t?-1:e>t?1:0}function qI(e,t){return-1*hZe(e,t)}function Jg(e){if(e==null)return e;const t=[];for(const n of e)t.indexOf(n)===-1&&t.push(n);return t}function pZe(e){if(e==null)throw new ke(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function hy(e,t,n){if(n!=null&&e.indexOf(n)<0)throw new ke(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function nK(e,t,n=0,r=1/0){return If(n>=0),If(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(s=>typeof s===t)}function yo(e,t){Array.isArray(e)?(te(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((n,r)=>yo(n,`element ${r+1} of ${t}`))):te(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${ywe(e)}.`)}function ywe(e){return e===null?"null":Array.isArray(e)?"["+e.map(t=>ywe(t)).join(",")+"]":typeof e=="string"?`"${e}"`:`${e}`}function gZe(e,t,n){let r=n!=null?n():Fi(),s;return(...i)=>{const a=n!=null?n():Fi();return a-r<t||(r=a,s=e(...i)),s}}function bwe(e){return e==="relu"?"relu":e==="linear"?"linear":e==="elu"?"elu":null}let mZe=0;function wwe(){return mZe++}const GI={};function DP(e=""){return e in GI||(GI[e]=0),GI[e]+=1,e+GI[e].toString()}const vZe=["channelsFirst","channelsLast"],yZe=["nearest","bilinear"],bZe=["valid","same","causal"],wZe=["max","avg"],xZe=["sum","mul","concat","ave"];const cb=new Map;function qs(e){hy(vZe,"DataFormat",e)}function CZe(e){hy(yZe,"InterpolationFormat",e)}function iu(e){hy(bZe,"PaddingMode",e)}function xwe(e){hy(wZe,"PoolMode",e)}const U$=[],Qse="/";function Gv(e,t){U$.push(e);try{const n=t();return U$.pop(),n}catch(n){throw U$.pop(),n}}function SZe(){return U$.length===0?"":U$.join(Qse)+Qse}function Cwe(e){if(!$we(e))throw new Error("Not a valid tensor name: '"+e+"'");return SZe()+e}function Swe(e){if(!$we(e))throw new Error("Not a valid tensor name: '"+e+"'");cb.has(e)||cb.set(e,0);const t=cb.get(e);if(cb.set(e,cb.get(e)+1),t>0){const n=`${e}_${t}`;return cb.set(n,1),n}else return e}const $Ze=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function $we(e){return!!e.match($Ze)}function kZe(e){return e===parseInt(e.toString(),10)}function Qg(e,t,n){t==null&&(t=0),n==null&&(n=e.length);let r=1;for(let s=t;s<n;++s)r*=e[s];return r}function Mw(e){if(e.length===0)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function gm(e){if(e.length===0)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Lc(e,t){if(t<e)throw new ke(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let r8;function ro(){return r8==null&&(r8=Lq().epsilon()),r8}function Bc(){return"channelsLast"}function qf(e,t){return At(e,t)}function GT(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),_e(e,n)}function EZe(e,t){return Be(()=>{if(e.shape.length!==2)throw new ke(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);const n=GT(e,1);return FV(n,[1,t,1])})}function _Ze(e){const t=[Qg(e.shape)];return _e(e,t)}function TZe(e){if(e.rank<=1)throw new ke(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],Qg(e.shape,1)];return _e(e,t)}function Kv(e,t,n){return Be(()=>{switch(e.rank){case 1:return dP(e,t,n);case 2:return dG(e,[t,0],[n,e.shape[1]]);case 3:return hP(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return zk(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return hr(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return hr(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ke(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function s8(e,t,n){return Be(()=>{switch(e.rank){case 1:return dP(e,t,n);case 2:return dG(e,[0,t],[e.shape[0],n]);case 3:return hP(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return zk(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ke(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function KI(e,t,n,r){return Be(()=>{switch(e.rank){case 1:return dP(e,t,n);case 2:switch(r){case 1:return Kv(e,t,n);case 2:return s8(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Kv(e,t,n);case 2:return hP(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return s8(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Kv(e,t,n);case 2:return zk(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return zk(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return s8(e,t,n);default:throw new ke(`The axis is not within the rank of the tensor ${r}`)}default:throw new ke(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function rK(e,t=-1){let n;return t<0&&(n=e[0].rank,n!==0?t=n:t=0),t===e[0].rank&&(t=-1),xo(e,t)}function eoe(e,t){switch(e.rank){case 1:return Oye([e,t]);case 2:return Rye([e,t],0);case 3:return Fye([e,t],0);case 4:return Mye([e,t],0);default:throw new ke(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function FV(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ke(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return bu(e,t)}function OP(e,t=0,n=1,r,s){return sG(e,t,n,r,s)}function Gf(e,t,n,r){if(e.rank<2||t.rank<2)throw new Vn(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){const s=e.shape.slice(-1)[0],o=t.shape.slice(-2)[0];if(s!==o)throw new Vn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(e.rank===2&&t.rank===2)return AV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?MV(e.rank,r,Bc()):null,activation:n});{const s=e.shape.slice(),o=s.pop();e=_e(e,[-1,o]);const i=t.shape.slice(),a=i.pop(),l=i.pop(),u=[...i,a],c=Array.from({length:t.rank},(p,g)=>g===0?t.rank-2:g<=t.rank-2?g-1:g);t=_e(rr(t,c),[l,-1]);const f=[...s,...u];return _e(AV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?MV(e.rank,r,Bc()):null,activation:n}),f)}}function kwe(e,t,n){return Be(()=>(Array.isArray(t)?t=qi(t,"int32"):t=At(t,"int32"),WT(e,t,n)))}function KT(e){return we(e,e)}function MV(e,t,n){const r=t.shape;if(t.rank!==1&&t.rank!==e)throw new ke(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(e===5){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1,1,1]):_e(t,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,1,1,r[0]]):_e(t,[1].concat(r))}else if(e===4){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1,1]):_e(t,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,1,r[0]]):_e(t,[1].concat(r))}else if(e===3){if(n==="channelsFirst")return r.length===1?_e(t,[1,r[0],1]):_e(t,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?_e(t,[1,1,r[0]]):_e(t,[1].concat(r))}else if(e<3)return t;throw new ke(`Unsupported input rank by biasAdd: ${t.rank}`)}function Zc(e,t,n){return Be(()=>(n==null&&(n=Bc()),qs(n),mt(e,MV(e.rank,t,n))))}function AZe(e,t=1){if(t!==1)throw new Vn(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return BT(e)}function IZe(e){return Be(()=>an(e,mt(eo(e),1)))}function Ewe(e,t,n,r){return Be(()=>vbe(e,t,n,r))}function NZe(e){return Be(()=>{const t=mt(.5,we(.2,e));return vl(t,0,1)})}function YT(e,t,n=!1){return n?e():t()}const DZe=["fanIn","fanOut","fanAvg"],OZe=["normal","uniform","truncatedNormal"];function RZe(e){hy(DZe,"FanMode",e)}function FZe(e){hy(OZe,"Distribution",e)}class Yu extends dy{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class _we extends Yu{apply(t,n){return no(t,n)}}_we.className="Zeros";vt(_we);class sK extends Yu{apply(t,n){return ol(t,n)}}sK.className="Ones";vt(sK);class Twe extends Yu{constructor(t){if(super(),typeof t!="object")throw new ke(`Expected argument of type ConstantConfig but got ${t}`);if(t.value===void 0)throw new ke(`config must have value set but got ${t}`);this.value=t.value}apply(t,n){return Be(()=>we($n(this.value),ol(t,n)))}getConfig(){return{value:this.value}}}Twe.className="Constant";vt(Twe);class Awe extends Yu{constructor(t){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=t.minval||this.DEFAULT_MINVAL,this.maxval=t.maxval||this.DEFAULT_MAXVAL,this.seed=t.seed}apply(t,n){return cy(t,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}Awe.className="RandomUniform";vt(Awe);class Iwe extends Yu{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`randomNormal does not support dType ${n}.`);return OP(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Iwe.className="RandomNormal";vt(Iwe);class Nwe extends Yu{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`truncatedNormal does not support dType ${n}.`);return mG(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Nwe.className="TruncatedNormal";vt(Nwe);let Dwe=class extends Yu{constructor(t){super(),this.gain=t.gain!=null?t.gain:1}apply(t,n){return Be(()=>{if(t.length!==2||t[0]!==t[1])throw new ke("Identity matrix initializer can only be used for 2D square matrices.");return we(this.gain,Zq(t[0]))})}getConfig(){return{gain:this.gain}}};Dwe.className="Identity";vt(Dwe);function MZe(e,t="channelsLast"){let n,r;if(qs(t),e.length===2)n=e[0],r=e[1];else if([3,4,5].indexOf(e.length)!==-1){if(t==="channelsFirst"){const s=Qg(e,2);n=e[1]*s,r=e[0]*s}else if(t==="channelsLast"){const s=Qg(e,0,e.length-2);n=e[e.length-2]*s,r=e[e.length-1]*s}}else{const s=Qg(e);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class bl extends Yu{constructor(t){if(super(),t.scale<0)throw new ke(`scale must be a positive float. Got: ${t.scale}`);this.scale=t.scale==null?1:t.scale,this.mode=t.mode==null?"fanIn":t.mode,RZe(this.mode),this.distribution=t.distribution==null?"normal":t.distribution,FZe(this.distribution),this.seed=t.seed}apply(t,n){const r=MZe(t),s=r[0],o=r[1];let i=this.scale;if(this.mode==="fanIn"?i/=Math.max(1,s):this.mode==="fanOut"?i/=Math.max(1,o):i/=Math.max(1,(s+o)/2),this.distribution==="normal"){const a=Math.sqrt(i);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Vn(`${this.getClassName()} does not support dType ${n}.`);return mG(t,0,a,n,this.seed)}else{const a=Math.sqrt(3*i);return cy(t,-a,a,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}bl.className="VarianceScaling";vt(bl);class oK extends bl{constructor(t){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return bl.className}}oK.className="GlorotUniform";vt(oK);class iK extends bl{constructor(t){super({scale:1,mode:"fanAvg",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return bl.className}}iK.className="GlorotNormal";vt(iK);class aK extends bl{constructor(t){super({scale:2,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return bl.className}}aK.className="HeNormal";vt(aK);class lK extends bl{constructor(t){super({scale:2,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return bl.className}}lK.className="HeUniform";vt(lK);class uK extends bl{constructor(t){super({scale:1,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return bl.className}}uK.className="LeCunNormal";vt(uK);class cK extends bl{constructor(t){super({scale:1,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return bl.className}}cK.className="LeCunUniform";vt(cK);class Owe extends Yu{constructor(t){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=t.gain==null?this.DEFAULT_GAIN:t.gain,this.seed=t.seed}apply(t,n){return Be(()=>{if(t.length<2)throw new Vn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=je(t.slice(0,-1)),s=t[t.length-1],o=r*s;o>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${o}) elements: Slowness may result.`);const i=[Math.max(s,r),Math.min(s,r)],a=OP(i,0,1,n,this.seed),l=Ebe.qr(a,!1);let u=l[0];const f=l[1].flatten().stridedSlice([0],[Math.min(s,r)*Math.min(s,r)],[Math.min(s,r)+1]);return u=we(u,f.sign()),r<s&&(u=u.transpose()),we($n(this.gain),u.reshape(t))})}getConfig(){return{gain:this.gain,seed:this.seed}}}Owe.className="Orthogonal";vt(Owe);const toe={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function noe(e,t={}){return qT(e,Vl.getMap().classNameMap,t,"initializer")}function $s(e){return tK(e)}function gs(e){if(typeof e=="string"){const t=e in toe?toe[e]:e;if(t==="GlorotNormal")return new iK;if(t==="GlorotUniform")return new oK;if(t==="HeNormal")return new aK;if(t==="HeUniform")return new lK;if(t==="LeCunNormal")return new uK;if(t==="LeCunUniform")return new cK;{const n={};return n.className=t,n.config={},noe(n)}}else return e instanceof Yu?e:noe(e)}function PV(e){return Array.isArray(e)&&Array.isArray(e[0])}function AO(e){return e.length===0?[]:Array.isArray(e[0])?e:[e]}function kn(e){let t;if(Array.isArray(e)){if(e.length!==1)throw new ke(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function vr(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(e.length===1)return e=e,e[0];throw new ke(`Expected exactly 1 Shape; got ${e.length}`)}else return e}function IO(e){let t=0;for(const n of e)n.shape.length===0?t+=1:t+=n.shape.reduce((r,s)=>r*s);return t}const roe="Variable";class PZe{constructor(t,n="float32",r=roe,s=!0,o=null){this.dtype=n??"float32",this.shape=t.shape,this.id=wwe(),r=r??roe,this.originalName=Cwe(r),this.name=Swe(this.originalName),this.trainable_=s,this.constraint=o,this.val=gbe(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),LZe(this.val,t),this.val.id!==t.id&&(this.val.assign(t),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function LZe(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function LV(e){return e.map(t=>t.read())}function fK(e){e.forEach(t=>{t[0].write(t[1])})}class so{constructor(t){this.dtype=t.dtype,this.shape=t.shape,t.shape!=null?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class fd{constructor(t,n,r,s,o,i,a){this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=o,this.outputTensorIndex=a,this.id=wwe(),i!=null&&(this.originalName=Cwe(i),this.name=Swe(this.originalName)),this.rank=n.length}}let BZe=0,RP=class{constructor(t,n){this.callArgs=n,this.id=BZe++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const r of t.inboundLayers)r?.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const n of this.inboundLayers)n!=null?t.push(n.name):t.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},zZe=0;class Xn extends dy{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=zZe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=t.name;if(!n){const r=this.getClassName();n=gh(r)+"_"+DP(r)}if(this.name=n,this.trainable_=t.trainable==null?!0:t.trainable,t.inputShape!=null||t.batchInputShape!=null){let r;if(t.batchInputShape!=null)r=t.batchInputShape;else if(t.inputShape!=null){let o=null;t.batchSize!=null&&(o=t.batchSize),r=[o].concat(t.inputShape)}this.batchInputShape=r;let s=t.dtype;s==null&&(s=t.inputDType),s==null&&(s="float32"),this.dtype=s}t.weights!=null?this.initialWeights=t.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,n){return t.name+"_ib-"+n.toString()}getNodeAtIndex(t,n){if(this.inboundNodes.length===0)throw new wu(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=t)throw new ke(`Asked to get ${n} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return xa(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return xa(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Af(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new Af(`Layer ${this.name} is not connected, no input to return.`);return xa(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new Af(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Af(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return xa(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(n=>n.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const n=Ar(t);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=Ar(this.inputSpec);if(n.length!==r.length)throw new ke(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${t}`);for(let s=0;s<n.length;s++){const o=n[s],i=r[s];if(i==null)continue;const a=o.rank;if(i.ndim!=null&&a!==i.ndim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${a}`);if(i.maxNDim!=null&&a>i.maxNDim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${a}`);if(i.minNDim!=null&&a<i.minNDim)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${a}.`);if(i.dtype!=null&&o.dtype!==i.dtype)throw new ke(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${o.dtype}.`);if(i.axes){const l=o.shape;for(const u in i.axes){const c=Number(u),f=i.axes[u],d=c>=0?l[c]:l[l.length+c];if(f!=null&&[f,null].indexOf(d)===-1)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${f} but got shape ${l}.`)}}if(i.shape!=null)for(let l=0;l<i.shape.length;++l){const u=i.shape[l],c=o.shape[l];if(u!=null&&c!=null&&u!==c)throw new ke(`Input ${s} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${o.shape}.`)}}}call(t,n){return t}invokeCallHook(t,n){this._callHook!=null&&this._callHook(t,n)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,n){n=n||{},this.assertNotDisposed();const r=Ar(t),s=UZe(t),o=jZe(t);if(s===o)throw new ke("Arguments to apply() must be all SymbolicTensors or all Tensors");return Gv(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const i=[];for(const a of Ar(t))i.push(a.shape);this.build(xa(i)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(t),o){let i=this.call(t,n);this.supportsMasking&&this.setMaskMetadata(t,i);const a=Ar(i),l=[];for(let u of a)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(i=xa(l),this.activityRegularizer!=null)throw new Vn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}else{const i=VZe(t),a=this.computeOutputShape(i);let l;const u=WZe(t);if(this.warnOnIncompatibleInputShape(Array.isArray(t)?i[0]:i),a!=null&&a.length>0&&Array.isArray(a[0])?l=a.map((c,f)=>new fd(u,c,this,Ar(t),n,this.name,f)):l=new fd(u,a,this,Ar(t),n,this.name),this.addInboundNode(t,l,null,null,i,a,n),this._refCount++,this.activityRegularizer!=null)throw new Vn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(t){if(this.batchInputShape!=null)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&t[s]!=null&&t[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new Af(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);t.indexOf(r)===-1&&t.push(r)}if(t.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new Af(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new wu(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return IO(this.weights)}build(t){this.built=!0}getWeights(t=!1){return LV(t?this.trainableWeights:this.weights)}setWeights(t){Be(()=>{const n=this.weights;if(n.length!==t.length)throw new ke(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${n.length} weights. Provided weights: ${t}...`);if(n.length===0)return;const r=[],s=LV(n);for(let o=0;o<s.length;++o){const i=s[o],a=n[o],l=t[o];if(!ir(i.shape,l.shape))throw new ke(`Layer weight shape ${i.shape} not compatible with provided weight shape ${l.shape}`);r.push([a,l])}fK(r)})}addWeight(t,n,r,s,o,i,a,l){if(this._addedWeightNames.indexOf(t)!==-1)throw new ke(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():gs("zeros"));const u=s.apply(n,r),c=new PZe(u,r,t,i,a);return u.dispose(),o!=null&&this.addLoss(()=>o.apply(c.read())),i==null&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){t==null||Array.isArray(t)&&t.length===0||(t=Ar(t),this._losses!==void 0&&this._losses!==null&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(t,n,r){if(!this.supportsMasking)return;const s=this.computeMask(t,r),o=Ar(n),i=Ar(s);if(o.length!==i.length)throw new Error(`${this.name} outputs ${o.length} tensors but ${o.length} masks for those tensors`);for(let a=0;a<o.length;a++)o[a].kerasMask=i[a]}addInboundNode(t,n,r,s,o,i,a=null){const l=Ar(t);n=Ar(n),r=Ar(r),s=Ar(s),o=AO(o),i=AO(i);const u=[],c=[],f=[];for(const d of l)u.push(d.sourceLayer),c.push(d.nodeIndex),f.push(d.tensorIndex);new RP({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:f,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:o,outputShapes:i},a);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const t={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(t.batchInputShape=this.batchInputShape),this.dtype!=null&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return--this._refCount===0&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}}function VZe(e){e=Ar(e);const t=[];for(const n of e)t.push(n.shape);return xa(t)}function WZe(e){return"float32"}function Rwe(e,t,n){if((t==null||n!=null&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),t.inboundNodes.length===0)return[e];{const r=t.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let o=0;o<r.inboundLayers.length;o++){const i=r.inputTensors[o],a=r.inboundLayers[o],l=r.nodeIndices[o],u=Rwe(i,a,l);for(const c of u)s.indexOf(c)===-1&&s.push(c)}return s}}}function UZe(e){let t=!0;for(const n of Ar(e))if(!(n instanceof fd)){t=!1;break}return t}function jZe(e){let t=!0;for(const n of Ar(e))if(n instanceof fd){t=!1;break}return t}class XT extends Xn{constructor(t){if(super({dtype:t.dtype,name:t.name!=null?t.name:DP("input").toString()}),t.batchSize==null&&(t.batchSize=null),t.sparse==null&&(t.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=t.sparse,t.inputShape!=null&&t.batchInputShape!=null)throw new ke("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=t.batchInputShape;if(n==null){if(t.inputShape==null)throw new ke("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[t.batchSize].concat(t.inputShape)}else if(t.batchSize!=null)throw new ke("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=t.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new fd(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new RP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(t,n){throw new ke(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}XT.className="InputLayer";vt(XT);function HZe(e){if(e.batchShape==null&&e.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(e.batchShape!=null&&e.shape!=null)throw new ke("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;e.shape!=null&&t==null&&(t=[null].concat(e.shape));let n=e.dtype;return n==null&&(n="float32"),new XT({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function qZe(e,t){if(e.dtype==null||e.dtype===t.dtype)return t;try{return At(t,e.dtype)}catch{throw new ke(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}class Ig{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof Ig)for(const n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(t==null)return;for(const n of t)this.add(n.key,n.value)}}add(t,n,r){if(this.id2Value[t.id]==null)this.id2Value[t.id]=qZe(t,n),this.name2Id[t.name]=t.id,r!=null&&(this.id2Mask[t.id]=r);else throw new ke(`Duplicate key: name=${t.name}, id=${t.id}`);return this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return this.id2Value[t.id]!=null}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof fd){if(this.id2Value[t.id]==null)throw new ke(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}else{const n=this.name2Id[t];if(n==null)throw new ke(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[n]}}getMask(t){if(t instanceof fd){if(this.id2Value[t.id]==null)throw new ke(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}else{const n=this.name2Id[t];if(n==null)throw new ke(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Yn(this.id2Mask)}}const NO=new vwe,DO=new vwe;function GZe(e){NO?.setMaxEntries(e),DO?.setMaxEntries(e)}function t$(e,t,n,r){const s=n==null?!1:n.training,o=Array.isArray(e),i=o?e:[e],a=i.map(p=>p.name),l=[],u=t.names();for(const p of a)u.indexOf(p)!==-1?l.push(t.getValue(p)):l.push(null);const c=a.join(",")+"|"+t.names().sort().join(",");let f=NO.get(c),d;if(f==null){const p=KZe(i,t);f=p.sorted,d=p.recipientCounts,NO.put(c,f),DO.put(c,d)}d={},s||Object.assign(d,DO.get(c));const h=new Ig(t);for(let p=0;p<f.length;++p){const g=f[p],m=g.sourceLayer;if(m instanceof XT)continue;const v=[],y=[],w=[];let b=!1;for(const T of g.inputs){const _=h.getValue(T),E=h.getMask(T);v.push(_),y.push(E),E!=null&&(b=!0),s||(d[T.name]--,d[T.name]===0&&!t.hasKey(T)&&a.indexOf(T.name)===-1&&!_.isDisposed&&T.sourceLayer.stateful!==!0&&w.push(_))}b&&(n=n||{},n.mask=y[0]);const C=Ar(m.apply(v,n));let S=null;m.supportsMasking&&(S=m.computeMask(v,y));const $=XZe(g),k=Array.isArray($)?$:[$];for(let T=0;T<k.length;++T){h.hasKey(k[T])||h.add(k[T],C[T],Array.isArray(S)?S[0]:S);const _=a.indexOf(k[T].name);_!==-1&&(l[_]=C[T])}s||Yn(w)}return h.disposeMasks(),o?l:l[0]}function KZe(e,t){te(e!=null&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(e.length===1){const s=soe(e[0],t);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const o of e){const{sorted:i,recipientMap:a}=soe(o,t);for(const l of i)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in a)r[l]==null&&(r[l]=new Set),a[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:YZe(r)}}function YZe(e){const t={};for(const n in e)t[n]=e[n].size;return t}function soe(e,t){const n=new Set,r=[],s={};for(const a of t.names())n.add(a);const o=[],i=[];for(o.push(e);o.length>0;){const a=o[o.length-1];if(n.has(a.name)){o.pop();continue}const l=i[i.length-1]===o.length-1;if(a.inputs.length===0||l)o.pop(),r.push(a),n.add(a.name),l&&i.pop();else{i.push(o.length-1);for(const u of a.inputs)s[u.name]==null&&(s[u.name]=new Set),s[u.name].add(a.name),!n.has(u.name)&&o.push(u)}}return{sorted:r,recipientMap:s}}function XZe(e){let t;if(e.sourceLayer.inboundNodes.length===1)t=e.sourceLayer.output;else{let n=null;for(let r=0;r<e.sourceLayer.inboundNodes.length;++r)for(const s of e.sourceLayer.inboundNodes[r].outputTensors)if(s.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}const ZZe=Pe();ZZe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,GZe);function dK(e,t){return Be(()=>Go(Zt(we(e,e),t,!0)))}class ZT extends dy{getConfig(){return{}}}class Fwe extends ZT{constructor(t){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Be(()=>{const n=dK(t,this.axis),r=vl(n,0,this.maxValue);return we(t,an(r,mt(ro(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Fwe.className="MaxNorm";vt(Fwe);class Mwe extends ZT{constructor(t){super(),this.defaultAxis=0,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Be(()=>an(t,mt(ro(),dK(t,this.axis))))}getConfig(){return{axis:this.axis}}}Mwe.className="UnitNorm";vt(Mwe);class Pwe extends ZT{apply(t){return Dd(t)}}Pwe.className="NonNeg";vt(Pwe);class Lwe extends ZT{constructor(t){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=t.minValue!=null?t.minValue:this.defaultMinValue,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.rate=t.rate!=null?t.rate:this.defaultRate,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Be(()=>{const n=dK(t,this.axis),r=mt(we(this.rate,vl(n,this.minValue,this.maxValue)),we(1-this.rate,n));return we(t,an(r,mt(ro(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Lwe.className="MinMaxNorm";vt(Lwe);const ooe={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function oo(e){return tK(e)}function ioe(e,t={}){return qT(e,Vl.getMap().classNameMap,t,"constraint")}function io(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in ooe?ooe[e]:e,config:{}};return ioe(n)}else return e instanceof ZT?e:ioe(e)}async function P0(e){if(e==null)return;const t=[],n=[],r=[];for(const s in e){const o=e[s];if(typeof o!="number"){const i=o;t.push(i.data()),n.push(s),r.push(i)}}if(t.length>0){const s=await Promise.all(t);for(let o=0;o<s.length;++o)e[n[o]]=s[o][0];Yn(r)}}function Bwe(e){if(e!=null)for(const t in e){const n=e[t];typeof n!="number"&&n.dispose()}}var aoe;(function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"})(aoe||(aoe={}));const JZe=125;class Wk{constructor(){this.validationData=null}setParams(t){this.params=t}async onEpochBegin(t,n){}async onEpochEnd(t,n){}async onBatchBegin(t,n){}async onBatchEnd(t,n){}async onTrainBegin(t){}async onTrainEnd(t){}setModel(t){}}class QZe{constructor(t,n=10){t==null&&(t=[]),this.callbacks=t,this.queueLength=n}append(t){this.callbacks.push(t)}setParams(t){for(const n of this.callbacks)n.setParams(t)}setModel(t){for(const n of this.callbacks)n.setModel(t)}async onEpochBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(t,n)}async onEpochEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(t,n)}async onBatchBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(t,n)}async onBatchEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(t,n)}async onTrainBegin(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainBegin(t)}async onTrainEnd(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainEnd(t)}}class eJe extends Wk{constructor(){super()}async onEpochBegin(t){this.seen=0,this.totals={}}async onBatchEnd(t,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const o=n[s];if(typeof o=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+o*r;else{let i;s in this.totals?i=this.totals[s]:this.totals[s]=0;const a=Be(()=>mt(this.totals[s],we(o,r)));this.totals[s]=a,i?.dispose()}}}async onEpochEnd(t,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Be(()=>{const s=we(an(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),kc(n[r])}))}}class tJe extends Wk{async onTrainBegin(t){this.epoch=[],this.history={}}async onEpochEnd(t,n){n==null&&(n={}),this.epoch.push(t);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const t=[],n=[],r=[];for(const o in this.history){const i=this.history[o];for(let a=0;a<i.length;++a)if(typeof i[a]!="number"){const l=i[a];t.push(l.data()),n.push(o),r.push(a)}}const s=await Promise.all(t);for(let o=0;o<s.length;++o)this.history[n[o]][r[o]].dispose(),this.history[n[o]][r[o]]=s[o][0]}}class nJe extends Wk{constructor(t,n){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||RG,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=JZe),this.yieldEvery==="never"&&t.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");xO(this.yieldEvery)&&(this.maybeWait=gZe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}async maybeWait(t,n,r){const s=[];this.yield!=null&&(await P0(r),s.push(this.yield(t,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(t,n){this.currentEpoch=t,this.epochBegin!=null&&(await P0(n),await this.epochBegin(t,n))}async onEpochEnd(t,n){const r=[];this.epochEnd!=null&&(await P0(n),r.push(this.epochEnd(t,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(t,n){this.batchBegin!=null&&(await P0(n),await this.batchBegin(t,n))}async onBatchEnd(t,n){const r=[];this.batchEnd!=null&&(await P0(n),r.push(this.batchEnd(t,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):xO(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),await Promise.all(r)}async onTrainBegin(t){this.trainBegin!=null&&(await P0(t),await this.trainBegin(t))}async onTrainEnd(t){this.trainEnd!=null&&(await P0(t),await this.trainEnd(t))}}function zwe(e,t){return e==null&&(e={}),e instanceof Wk?[e]:Array.isArray(e)&&e[0]instanceof Wk?e:Ar(e).map(r=>new nJe(r,t))}class mu{constructor(){}static registerCallbackConstructor(t,n){te(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),mu.checkForDuplicate(n),mu.constructors[t]==null&&(mu.constructors[t]=[]),mu.constructors[t].push(n)}static checkForDuplicate(t){for(const n in mu.constructors)mu.constructors[+n].forEach(s=>{if(s===t)throw new ke("Duplicate callback constructor.")})}static clear(){mu.constructors={}}static createCallbacks(t){const n=[];for(const r in mu.constructors){const s=+r;t>=s&&n.push(...mu.constructors[s])}return n.map(r=>new r)}}mu.constructors={};function Vwe(e,t,n,r,s,o,i,a,l){const u=new tJe,c=[new eJe,...mu.createCallbacks(t)];e!=null&&c.push(...e),c.push(u);const f=new QZe(c);return f.setParams({epochs:n,initialEpoch:r,samples:s,steps:o,batchSize:i,verbose:t,doValidation:a,metrics:l}),{callbackList:f,history:u}}function jh(e,t={},n=!1){return qT(e,Vl.getMap().classNameMap,t,"layer",n)}function OO(e,t){return Be(()=>{e.dtype!=="float32"&&(e=At(e,"float32"));const n=Zt(KT(e),t,!0),r=q2(n.shape,ro()),s=Go(Ap(n,r));return an(e,s)})}function FP(e,t){return Be(()=>Ns(KT(jt(t,e)),-1))}function hK(e,t){return Be(()=>Ns(eo(jt(t,e)),-1))}function pK(e,t){return Be(()=>{const n=jt(e,t),r=vl(eo(e),ro(),Number.MAX_VALUE),s=eo(an(n,r));return we(100,Ns(s,-1))})}function rJe(e,t){return Be(()=>{const n=vl(t,ro(),Number.MAX_VALUE),r=eu(mt(1,n)),s=vl(e,ro(),Number.MAX_VALUE),o=eu(mt(1,s));return Ns(KT(jt(r,o)),-1)})}function sJe(e,t){return Be(()=>{const n=Ap(0,jt(1,we(e,t)));return Ns(KT(n),-1)})}function oJe(e,t){return Be(()=>{const n=Ap(0,jt(1,we(e,t)));return Ns(n,-1)})}function iJe(e,t){return Be(()=>{const n=Zt(we(e,t),-1),r=Nu(we(jt(1,e),t),-1);return Ap(0,mt(1,jt(r,n)))})}function aJe(e,t){return Be(()=>{const n=Math.log(2),r=jt(t,e),s=jt(mt(r,G2(we(-2,r))),n);return Ns(s,-1)})}function Uk(e,t,n=!1){return Be(()=>{if(n)t=pP(t);else{const r=Zt(t,t.shape.length-1,!0);t=an(t,r)}return t=vl(t,ro(),1-ro()),as(Zt(we(At(e,"float32"),eu(t)),t.shape.length-1))})}function RO(e,t,n=!1){return Be(()=>{const r=At(VT(_Ze(e)),"int32");t=vl(t,ro(),1-ro());const s=t.shape,o=_e(Lk(r,s[s.length-1]),s);return Uk(o,t,n)})}function lJe(e,t){if(!ir(e.shape,t.shape))throw new ke(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return Be(()=>{const n=Dd(t),r=as(eo(t));return mt(jt(n,we(t,e)),rP(yl(r)))})}function MP(e,t){return Be(()=>{let n;return n=vl(t,ro(),1-ro()),n=eu(an(n,jt(1,n))),Ns(lJe(e,n),-1)})}function uJe(e,t){return Be(()=>{const n=vl(e,ro(),1),r=vl(t,ro(),1);return Zt(we(e,eu(an(n,r))),-1)})}function cJe(e,t){return Be(()=>{const n=eu(mt(ro(),t));return Ns(jt(t,we(e,n)),-1)})}function Wwe(e,t){return Be(()=>{const n=OO(e,-1),r=OO(t,-1),s=we(n,r);return as(Zt(s,-1))})}const FO={meanSquaredError:FP,meanAbsoluteError:hK,meanAbsolutePercentageError:pK,meanSquaredLogarithmicError:rJe,squaredHinge:sJe,hinge:oJe,categoricalHinge:iJe,logcosh:aJe,categoricalCrossentropy:Uk,sparseCategoricalCrossentropy:RO,binaryCrossentropy:MP,kullbackLeiblerDivergence:uJe,poisson:cJe,cosineProximity:Wwe};function o8(e){if(typeof e=="string"){if(e in FO)return FO[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ke(t)}else return e}function Uwe(e,t){return Be(()=>{const n=we(.5,tu(t)),r=qf(Nl(t,n),e.dtype);return Ns(Pc(e,r),-1)})}function jwe(e,t){return Be(()=>qf(Pc(Ow(e,-1),Ow(t,-1)),"float32"))}function fJe(e,t){return Be(()=>At(Zt(ud(Pc(e,1),Pc(t,1))),"float32"))}function dJe(e,t){return Be(()=>At(Zt(ud(Pc(e,0),Pc(t,1))),"float32"))}function hJe(e,t){return Be(()=>{const n=fJe(e,t),r=dJe(e,t),s=mt(n,r);return At(mi(Nl(s,0),an(n,s),0),"float32")})}function pJe(e,t){return MP(e,t)}function gJe(e,t){return e.rank===t.rank&&(e=fy(e,[e.rank-1])),t=Ow(t,-1),t.dtype!==e.dtype&&(t=At(t,e.dtype)),At(Pc(e,t),"float32")}const mJe=FP,vJe=FP,yJe=hK,bJe=hK,wJe=pK,xJe=pK,Hwe=Uk,CJe=Wwe,qwe=RO,MO={binaryAccuracy:Uwe,categoricalAccuracy:jwe,precision:hJe,categoricalCrossentropy:Hwe,sparseCategoricalCrossentropy:qwe,mse:mJe,MSE:vJe,mae:yJe,MAE:bJe,mape:wJe,MAPE:xJe,cosine:CJe};function SJe(e){if(typeof e=="string"&&e in MO)return MO[e];if(typeof e!="string"&&e!=null)return e;throw new ke(`Unknown metric ${e}`)}function YI(e){if(If(e!==null,`Unknown LossOrMetricFn ${e}`),typeof e=="string")return e;{let t;for(const n of Object.keys(FO))if(FO[n]===e){t=n;break}if(t!==void 0)return t;for(const n of Object.keys(MO))if(MO[n]===e){t=n;break}return t!==void 0?t:e.name}}function $Je(e){const t={Adagrad:()=>mg.adagrad(.01),Adadelta:()=>mg.adadelta(1,.95,ro()),Adam:()=>mg.adam(.001,.9,.999,ro()),Adamax:()=>mg.adamax(.002,.9,.999,ro(),0),RMSProp:()=>mg.rmsprop(.001,.9,0,ro()),SGD:()=>mg.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ke(`Unknown Optimizer ${e}`)}const loe=1*1024*1024;function uoe(e,t,n=!1){if(e==null||typeof e!="object"||Object.getPrototypeOf(e)!==Object.prototype||!BV(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(e);r.length>loe&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${loe}.`)}}function BV(e){if(e===null)return!0;if(typeof e=="object")if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t)if(typeof n!="string"||!BV(e[n]))return!1;return!0}else if(Array.isArray(e)){for(const t of e)if(!BV(t))return!1;return!0}else return!1;else{const t=typeof e;return t==="string"||t==="number"||t==="boolean"}}function kJe(e,t,n,r=console.log){const s=_Je(e),o=["Layer (type)","Input Shape","Output shape","Param #"];s?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(t*c)));let i;if(!s){o.push("Receives inputs"),i=[];for(const c in e.nodesByDepth)i.push(...e.nodesByDepth[c])}r("_".repeat(t)),PO(o,n,r),r("=".repeat(t));const a=e.layers;for(let c=0;c<a.length;++c)s?TJe(a[c],n,r):AJe(a[c],n,i,r),r((c===a.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=EJe(e),u=IO(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function EJe(e){let t;return e.collectedTrainableWeights!=null?t=IO(e.collectedTrainableWeights):t=IO(e.trainableWeights),t}function _Je(e){let t=!0;const n=[],r=[];for(const s in e.nodesByDepth)n.push(e.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){t=!1;break}r.push(...s)}if(t)for(const s of e.layers){let o=!1;for(const i of s.inboundNodes)if(r.indexOf(i)!==-1)if(o){t=!1;break}else o=!0;if(!t)break}return t}function PO(e,t,n=console.log){let r="";for(let s=0;s<e.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=e[s],r=r.slice(0,t[s]),r+=" ".repeat(t[s]-r.length);n(r)}function TJe(e,t,n){let r,s;try{s=e.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(e.outputShape)}catch{r="multiple"}const o=e.name,i=e.getClassName(),a=[`${o} (${i})`,s,r,e.countParams().toString()];PO(a,t,n)}function AJe(e,t,n,r){let s,o;try{o=e.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{o="multiple"}try{s=JSON.stringify(e.outputShape)}catch{s="multiple"}const i=[];for(const f of e.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let d=0;d<f.inboundLayers.length;++d){const h=f.inboundLayers[d].name,p=f.nodeIndices[d],g=f.tensorIndices[d];i.push(`${h}[${p}][${g}]`)}const a=e.name,l=e.getClassName(),u=i.length===0?"":i[0],c=[`${a} (${l})`,o,s,e.countParams().toString(),u];PO(c,t,r);for(let f=1;f<i.length;++f)PO(["","","","",i[f]],t,r)}function Gwe(e,t,n){return(e==="inboundNodes"||e==="outputLayers"||e==="inputLayers")&&t===0&&typeof n=="string"}function zV(e,t){if(e===null)return null;if(typeof e=="string")return dv(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const o=e[s];Gwe(t,s,o)?n.push(o):n.push(zV(o,t))}return n}else{const n={};for(const r of Object.keys(e)){const s=e[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const o=dv(r);n[o]=zV(s,o)}}return n}}function VV(e,t){if(e==null)return null;if(typeof e=="string")return gh(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let s=0;s<r;++s){const o=e[s];Gwe(t,s,o)?n.push(o):n.push(VV(o,t))}return n}else{const n={};for(const r of Object.keys(e)){const s=e[r],o=gh(r);(r==="name"||r==="className")&&typeof s=="string"?n[o]=s:n[o]=VV(s,r)}return n}}const Kwe="4.22.0";const IJe=e=>{const t=Object.keys(e);if(t.length===0)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};let NJe=class $f extends Xn{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=DP(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(t.inputs)?this.inputs=t.inputs.slice():this.inputs=[t.inputs],Array.isArray(t.outputs)?this.outputs=t.outputs.slice():this.outputs=[t.outputs],Jg(this.inputs).length!==this.inputs.length)throw new ke(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);Jg(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const w=y.sourceLayer,b=y.nodeIndex,C=y.tensorIndex;this.outputLayers.push(w),this.outputLayersNodeIndices.push(b),this.outputLayersTensorIndices.push(C)}for(const y of this.inputs){const w=y.sourceLayer,b=y.nodeIndex,C=y.tensorIndex;If(b===0,"input layer has >1 nodes"),If(C===0,"input layer has >1 tensors"),this.inputLayers.push(w),this.inputLayersNodeIndices.push(b),this.inputLayersTensorIndices.push(C)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const w=this.inputLayers[y];if(!(w instanceof XT))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${y} (0-based) originates from layer type ${w.getClassName()}.`);this.inputNames.push(w.name),this.feedInputShapes.push(w.batchInputShape),this.feedInputNames.push(w.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const n={},r={},s={},o={},i={},a=[],l=(y,w,b,C,S,$)=>{(C==null||S==null||$==null)&&(C=y.sourceLayer,S=y.nodeIndex,$=y.tensorIndex);const k=C.inboundNodes[S];if(b.indexOf(k)!==-1)throw new wu(`The tensor ${y.name} at layer "${C.name}" is part of a cycle.`);if(w.indexOf(k)!==-1)return;this.containerNodes.add($f.nodeKey(C,S)),C.id in i||(i[C.id]=Object.keys(i).length),b.indexOf(k)===-1&&b.push(k);const T=k.inboundLayers.length;for(let _=0;_<T;_++){const E=k.inputTensors[_],A=k.inboundLayers[_],N=k.nodeIndices[_],F=k.tensorIndices[_];l(E,w,b,A,N,F)}for(w.push(k);b.indexOf(k)>=0;)b.splice(b.indexOf(k),1);a.push(k)},u=[],c=[];for(const y of this.outputs)l(y,u,c);const f=a.slice().reverse();for(const y of f){r[y.id]=y,y.id in n||(n[y.id]=0);let w=n[y.id];const b=s[y.outboundLayer.id]==null?0:s[y.outboundLayer.id];w=Math.max(w,b),s[y.outboundLayer.id]=w,o[y.outboundLayer.id]=y.outboundLayer,n[y.id]=w;for(let C=0;C<y.inboundLayers.length;C++){const S=y.inboundLayers[C],$=y.nodeIndices[C],k=S.inboundNodes[$],T=n[k.id]==null?0:n[k.id];n[k.id]=Math.max(w+1,T),r[k.id]=k}}const d={};for(const y in n){const w=n[y];w in d||(d[w]=[]),d[w].push(r[y])}const h={};for(const y in s){const w=s[y];w in h||(h[w]=[]),h[w].push(o[y])}let p=Object.keys(h).map(y=>parseInt(y,10)).sort(qI);this.layers=[];for(const y of p){const w=h[y];w.sort((b,C)=>{const S=i[b.id],$=i[C.id];return S<$?-1:S>$?1:0});for(const b of w)b instanceof $f&&this.internalContainerRefs.push(b),this.layers.push(b)}this.layersByDepth=h,p=Object.keys(d).map(y=>parseInt(y,10)).sort(qI);const g=this.inputs.slice(),m=[];for(const y of p)for(const w of d[y]){const b=w.outboundLayer;if(b!=null){for(const C of w.inputTensors)if(g.indexOf(C)===-1)throw new wu(`Graph disconnected: cannot obtain value for tensor ${C} at layer "${b.name}". The following previous layers were accessed without issue: ${m}`);for(const C of w.outputTensors)g.push(C);m.push(b.name)}}this.nodesByDepth=d;const v=this.layers.map(y=>y.name);for(const y of v){const w=v.filter(b=>b===y).length;if(w!==1)throw new wu(`The name "${y}" is used ${w} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(v))}this.outboundNodes=[],this.inboundNodes=[],new RP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)t.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new ke("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const n of this.layers)t=t.concat(n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.layers)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,n=!0){const r={};let s=0;const o=IJe(t);o&&this.parseWeights(t);for(const a of this.layers)for(const[l,u]of a.weights.entries()){const c=o?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new ke(`Duplicate weight name: ${c}`);r[c]=u,s++}const i=[];for(const a in t){let l=a;if(r[a]==null){const u=a.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)i.push([r[l],t[a]]);else if(n)throw new ke(`Provided weight data has no target variable: ${a}`);delete r[l]}if(n){const a=[];for(const l in r)a.push(l);if(a.length>0)throw new ke(`${a.length} of ${s} weights are not set: ${a}`)}fK(i)}parseWeights(t){for(const n in Object.keys(t)){const r=n.split("/"),s=["vars","layer_checkpoint_dependencies"],o=r.map(i=>i.startsWith("_")?i.slice(1):i).filter(i=>!s.includes(i)).join("/");o!==n&&(t[o]=t[n],delete t[n])}}updatedConfig(){const t=this.getConfig(),n={};return n.className=this.getClassName(),n.config=t,n.kerasVersion=`tfjs-layers ${Kwe}`,n.backend="TensorFlow.js",n}toJSON(t,n=!0){const r=VV(this.updatedConfig());return n?JSON.stringify(r):r}call(t,n){return Be(()=>{t=Ar(t);const r=new Ig;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],t[s]);return t$(this.outputs,r,n)})}computeMask(t,n){return Be(()=>{t=Ar(t);let r;return n==null?r=S1(null,t.length):r=Ar(n),this.runInternalGraph(t,r)[1]})}computeOutputShape(t){const n=AO(t);if(n.length!==this.inputLayers.length)throw new ke(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let a=0;a<n.length;a++){const l=this.inputLayers[a],u=n[a],c=l.name+"_0_0";r[c]=u}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(qI);if(s.length>1)for(const a of s){const l=this.nodesByDepth[a];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(g=>g.id).indexOf(c.id)!==-1)continue;const f=[];for(let g=0;g<u.inboundLayers.length;g++){const m=u.inboundLayers[g],v=u.nodeIndices[g],y=u.tensorIndices[g],w=`${m.name}_${v}_${y}`,b=r[w];f.push(b)}const d=c.computeOutputShape(xa(f)),h=AO(d),p=c.inboundNodes.indexOf(u);for(let g=0;g<h.length;g++){const m=`${c.name}_${p}_${g}`;r[m]=h[g]}}}const o=[],i=[];for(let a=0;a<this.outputLayers.length;a++){const l=this.outputLayers[a],u=this.outputLayersNodeIndices[a],c=this.outputLayersTensorIndices[a],f=`${l.name}_${u}_${c}`;i.push(f)}for(let a=0;a<i.length;a++){const l=i[a];If(l in r),o.push(r[l])}return xa(o)}runInternalGraph(t,n){n==null&&(n=S1(null,t.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=t[l],f=n[l];r[u.id]=[c,f]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(qI);for(const l of s){const u=this.nodesByDepth[l];for(const c of u){const f=c.outboundLayer,d=c.inputTensors,h=c.outputTensors,p=new Array;for(const g of d)g.id in r&&p.push(r[g.id]);if(p.length===d.length){let g={},m,v,y,w;if(c.callArgs!=null&&(g=c.callArgs),p.length===1){const[b,C]=p[0];g.mask==null&&(g.mask=C),y=Ar(f.call(b,g)),w=Ar(f.computeMask(b,C)),m=[b],v=[C]}else m=p.map(b=>b[0]),v=p.map(b=>b[1]),g.mask==null&&(g.mask=v),y=Ar(f.call(m,g)),w=Ar(f.computeMask(m,v));if(f.activityRegularizer)throw new Vn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let b=0;b<h.length;++b){const C=h[b],S=y[b],$=w[b];r[C.id]=[S,$]}}}}const o=[],i=[],a=[];for(const l of this.outputs){If(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];a.push(u.shape),o.push(u),i.push(c)}return[o,i,a]}buildNodeConversionMap(t){const n={};let r;for(const s of this.layers){r=s instanceof $f?1:0;for(let o=0;o<s.inboundNodes.length;o++){const i=$f.nodeKey(s,o);this.containerNodes.has(i)&&(n[i]=r,r+=1)}}return n}getLayer(t,n){if(n!=null)return this.findLayer(n);if(t==null)throw new ke("Provide either a layer name or layer index");if(typeof t=="number")return this.findLayer(t);for(const r of this.layers)if(r.name===t)return r;throw new ke(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new ke(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return Be(()=>{const t=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=$f.nodeKey(n,r);this.containerNodes.has(s)&&t.push(...n.calculateLosses())}return t})}getConfig(){const t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const i of this.layers){const a=i.getClassName(),l=i.getConfig(),u=[];for(let f=0;f<i.inboundNodes.length;f++){const d=i.inboundNodes[f],h=$f.nodeKey(i,f);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const g=[];for(let m=0;m<d.inboundLayers.length;m++){const v=d.inboundLayers[m],y=d.nodeIndices[m],w=d.tensorIndices[m],b=$f.nodeKey(v,y);let C=n[b];C==null&&(C=0),g.push([v.name,C,w,p])}u.push(g)}}}const c={};c.name=i.name,c.className=a,c.config=l,c.inboundNodes=u,r.push(c)}t.layers=r;const s=[];for(let i=0;i<this.inputLayers.length;i++){const a=this.inputLayers[i],l=this.inputLayersNodeIndices[i],u=$f.nodeKey(a,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.inputLayersTensorIndices[i];s.push([a.name,c,f])}t.inputLayers=s;const o=[];for(let i=0;i<this.outputLayers.length;i++){const a=this.outputLayers[i],l=this.outputLayersNodeIndices[i],u=$f.nodeKey(a,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.outputLayersTensorIndices[i];o.push([a.name,c,f])}return t.outputLayers=o,t}static fromConfig(t,n,r={},s=!1){const o={},i={};function a(m,v){m.name in i?i[m.name].push(v):i[m.name]=[v]}function l(m,v){const y=[];let w;for(const b of v){const C=b[0],S=b[1],$=b[2];if(w=b[3]==null?{}:b[3],!(C in o)){a(m,v);return}const k=o[C];if(k.inboundNodes.length<=S){a(m,v);return}const T=k.inboundNodes[S];y.push(T.outputTensors[$])}y.length>0&&m.apply(xa(y),w)}function u(m){const v=m.name,y=jh(m,n.customObjects!=null?n.customObjects:{});y.setFastWeightInitDuringBuild(s),o[v]=y,m.inboundNodes.forEach(b=>{if(!(b instanceof Array))throw new ke(`Corrupted configuration, expected array for nodeData: ${b}`);a(y,b)})}const c=n.name,f=n.layers;for(const m of f)u(m);for(;!pZe(i);)for(const m of f){const v=o[m.name];if(v.name in i){const y=i[v.name];delete i[v.name];for(const w of y)l(v,w)}}const d=[],h=[],p=n.inputLayers;for(const m of p){const v=m[0],y=m[1],w=m[2];If(v in o);const C=o[v].inboundNodes[y].outputTensors;d.push(C[w])}const g=n.outputLayers;for(const m of g){const v=m[0],y=m[1],w=m[2];If(v in o);const C=o[v].inboundNodes[y].outputTensors;h.push(C[w])}return new t({inputs:d,outputs:h,name:c})}get stateful(){if(this._stateful)throw new ke("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){Be(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}};function DJe(e,t,n){const r=t.length;if(e==null||Array.isArray(e)&&e.length===0)return t.map(s=>null);if(r===1)return Array.isArray(e)&&e.length===1?e:typeof e=="object"&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}else if(typeof e=="object"&&Object.keys(e).length>0&&typeof e[Object.keys(e)[0]]=="object"){const s=[];return t.forEach(o=>{o in e?s.push(e[o]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Ywe(e,t){return DJe(e,t,"classWeight")}async function Xwe(e,t,n,r){if(n!=null){const s=Be(()=>{if(e.shape.length===1)return Xg(e);if(e.shape.length===2){if(e.shape[1]>1)return Ow(e,1);if(e.shape[1]===1)return _e(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),o=Array.from(await s.data());Yn(s);const i=[];return o.forEach(a=>{if(n[a]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);i.push(n[a])}),qi(i,"float32")}else return null}function OJe(e,t){return we(e,t)}const RJe=32;function Zwe(e,t){let n,r;const s=t;n=s.xs,r=s.ys,te(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const o=coe("input",e.inputNames,n),i=coe("output",e.outputNames,r),a=o[0].shape[0];te(o.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${o.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),te(i.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<o.length;l++)te(o[l].shape[0]===a,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${o[l].shape[0]}; expected  ${a} based on input ${e.inputNames[0]}.`);for(let l=0;l<i.length;l++)te(i[l].shape[0]===a,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${i[l].shape[0]}; expected  ${a} based on input ${e.inputNames[0]}.`);return{xs:o,ys:i}}function coe(e,t,n){if(n instanceof Mr)return[n];if(Array.isArray(n))return te(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const s of t){if(n[s]==null)throw new ke(`The feature data generated by the dataset lacks the required ${e} key '${s}'.`);r.push(n[s])}return r}}function FJe(e){if(e.length===3)throw new Vn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function MJe(e,t,n){const r=n.batchesPerEpoch!=null;if(te(e.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),te(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),te(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),te(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),te(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const s=n.validationData!=null;let o,i;if(s)if(foe(n.validationData))te(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const m=FJe(n.validationData);o=m.xs,i=m.ys}const a=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;s?u=l.slice().concat(l.map(m=>"val_"+m)):u=l.slice();const c=zwe(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=Vwe(c,f,n.epochs,null,null,PJe(t,n),null,s,u);d.setModel(e),e.history=h,await d.onTrainBegin(),e.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,g=await t.iterator();for(;p<n.epochs;){const m={};await d.onEpochBegin(p);let v=0,y=0;for(r||(g=await t.iterator());!r||v<n.batchesPerEpoch;){const w=await g.next();if(r&&w.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${v} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(w.value!=null){const{xs:b,ys:C}=Zwe(e,w.value),S={};S.batch=y,S.size=b[0].shape[0],await d.onBatchBegin(y,S);const $=[];if(n.classWeight!=null){const _=Ywe(n.classWeight,e.outputNames);for(let E=0;E<_.length;++E)$.push(await Xwe(C[E],null,_[E]))}const k=b.concat(C).concat($),T=a(k);Yn(k);for(let _=0;_<l.length;++_){const E=l[_],A=T[_];S[E]=A,kc(A)}await d.onBatchEnd(y,S),Bwe(S),y++,v++}if(r?v>=n.batchesPerEpoch:w.done){if(s){let b;foe(n.validationData)?b=Ar(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):b=Ar(e.evaluate(o,i,{batchSize:n.validationBatchSize==null?RJe:n.validationBatchSize,verbose:0}));for(let C=0;C<e.metricsNames.length;++C)m[`val_${e.metricsNames[C]}`]=b[C]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(p,m),p++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function PJe(e,t){let n=null;return t.batchesPerEpoch!=null?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function foe(e){return typeof e.iterator=="function"}function LJe(e){return typeof e.next=="function"}async function BJe(e,t,n){n=n||{};const r=n.batches!=null,s=e.testFunction;let o=[];if(n.verbose>0)throw new Vn("Verbose mode is not implemented yet.");te(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const i=LJe(t)?t:await t.iterator();let a=0,l=0;for(;!r||l<n.batches;){const u=await i.next();if(o=Be(()=>{if(u.value){const{xs:c,ys:f}=Zwe(e,u.value),d=c.concat(f),h=Be(()=>s(d));if(Yn(d),l===0)for(let g=0;g<h.length;++g)o.push($n(0));const p=d[0].shape[0];for(let g=0;g<h.length;++g){const m=h[g],v=o[g];o[g]=Be(()=>mt(o[g],we(p,m))),l>0&&Yn(v)}Yn(h),a+=p,++l}return o}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<o.length;++u){const c=o[u];o[u]=an(o[u],a),Yn(c)}return xa(o)}function i8(e){te(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function uS(e,t,n){return e==null?[null]:Array.isArray(e)?e.map(r=>Kv(r,t,n-t)):Kv(e,t,n-t)}function WV(e,t){return Be(()=>e==null?null:Array.isArray(e)?e.map(n=>WV(n,t)):kwe(e,t.dtype==="int32"?t:At(t,"int32")))}function a8(e,t){const n=[];let r=0,s=null;for(;r<e;)s=r+t,s>=e&&(s=e),n.push([r,s]),r=s;return n}function Jwe(e){const t=[];e instanceof Mr&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(r.rank===1)t.push(GT(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function nc(e,t){if(e==null)return;const n=[];if(t instanceof Mr)n.push(t.id);else if(Array.isArray(t))t.forEach(s=>n.push(s.id));else if(t!=null)for(const s in t){const o=t[s];n.push(o.id)}const r=[];if(e instanceof Mr)n.indexOf(e.id)===-1&&r.push(e);else if(Array.isArray(e))e.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(e!=null)for(const s in e){const o=e[s];n.indexOf(o.id)===-1&&r.push(o)}r.forEach(s=>{s.isDisposed||s.dispose()})}function zJe(e){return e instanceof Mr}function UV(e){return Array.isArray(e)}function doe(e){return!zJe(e)&&!UV(e)}function hoe(e,t,n,r=!0,s=""){if(t==null||t.length===0){if(e!=null){let i=!1;if(UV(e)&&e.length>0)i=!0;else if(doe(e)){for(const a in e)if(e.hasOwnProperty(a)){i=!0;break}}else i=!0;if(i)throw new ke(`Error when checking model ${s} expected no data, but got ${e}`)}return[]}if(e==null)return t.map(i=>null);let o;if(doe(e)){e=e,o=[];for(const i of t){if(e[i]==null)throw new ke(`No data provided for "${i}". Need data for each key in: ${t}`);o.push(e[i])}}else if(UV(e)){if(e=e,e.length!==t.length)throw new ke(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);o=e}else{if(e=e,t.length>1)throw new ke(`The model ${s} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);o=[e]}if(o=Jwe(o),n!=null)for(let i=0;i<t.length;++i){if(n[i]==null)continue;const a=o[i];if(a.shape.length!==n[i].length)throw new ke(`Error when checking ${s}: expected ${t[i]} to have ${n[i].length} dimension(s). but got array with shape ${a.shape}`);for(let l=0;l<n[i].length;++l){if(l===0&&!r)continue;const u=a.shape[l],c=n[i][l];if(c!=null&&c>=0&&u!==c)throw new ke(`${s} expected a batch of elements where each example has shape [${n[i].slice(1,n[i].length)}] (i.e.,tensor shape [*,${n[i].slice(1,n[i].length)}]) but the ${s} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return o}function VJe(e,t,n){const r=Jg(e.map(o=>o.shape[0]));r.sort();const s=Jg(t.map(o=>o.shape[0]));if(s.sort(),r.length>1)throw new ke(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(o=>o.shape))}`);if(s.length>1)throw new ke(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(o=>o.shape))}`);if(r.length>0&&s.length>0&&!ir(r,s))throw new ke(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function WJe(e,t,n){const r=[FP,MP,Uk];for(let s=0;s<e.length;++s){const o=e[s],i=t[s],a=n[s];if(i!=null){if(i===Uk&&o.shape[o.shape.length-1]===1)throw new ke(`You are passing a target array of shape ${o.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(i)!==-1){const l=o.shape.slice(1),u=a.slice(1);for(let c=0;c<l.length;++c){const f=l[c],d=u[c];if(d!=null&&f!==d)throw new ke(`A target Tensor with shape ${o.shape} was passed for an output of shape ${a}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function poe(e,t,n,r=!0,s=""){let o;if(Array.isArray(e)){if(e.length!==t.length)throw new ke(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);o=e}else{if(t.length>1)throw new ke(`The model expects ${t.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);o=[e]}if(n!=null)for(let i=0;i<t.length;++i){if(n[i]==null)continue;const a=o[i];if(a.shape.length!==n[i].length)throw new ke(`Error when checking ${s}: expected ${t[i]} to have ${n[i].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let l=0;l<n[i].length;++l){if(l===0&&!r)continue;const u=a.shape[l],c=n[i][l];if(c!=null&&c!==u)throw new ke(`Error when checking ${s}: expected ${t[i]} to have shape ${JSON.stringify(n[i])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}function UJe(e,t){if(e==null||Array.isArray(e)&&e.length===0)return t.map(r=>[]);let n;if(typeof e=="string"||typeof e=="function")n=[e];else if(Array.isArray(e)||typeof e=="object")n=e;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(n))return t.map(r=>n);{const r=[];for(const s of t){let o=n.hasOwnProperty(s)?n[s]:[];Array.isArray(o)||(o=[o]),r.push(o)}return r}}const jJe="layers-model";class lw extends NJe{constructor(t){super(t),this.isTraining=!1}summary(t,n,r=console.log){if(!this.built)throw new ke("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");kJe(this,t,n,r)}compile(t){if(t.loss==null&&(t.loss=[]),this.loss=t.loss,typeof t.optimizer=="string")this.optimizer_=$Je(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof Np))throw new ke("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(t.loss)&&typeof t.loss!="string"&&typeof t.loss!="function"){t.loss=t.loss;for(const i in t.loss)if(this.outputNames.indexOf(i)===-1)throw new ke(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(const i of this.outputNames)t.loss[i]==null&&console.warn(`Output "${i}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${i} during training`),n.push(o8(t.loss[i]))}else if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new ke(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${t.loss}.`);n=t.loss.map(a=>o8(a))}else{const i=o8(t.loss);this.outputs.forEach(a=>{n.push(i)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const a=this.internalOutputShapes[i],l=this.outputNames[i];this.feedOutputNames.push(l),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[i])}const r=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Gv("loss",()=>{for(let i=0;i<this.outputs.length;++i){if(r.indexOf(i)!==-1)continue;const a=this.lossFunctions[i];this.outputs.length>1&&(this.metricsTensors.push([a,i]),this.metricsNames.push(this.outputNames[i]+"_loss"))}});const s=UJe(t.metrics,this.outputNames),o=(i,a,l)=>{this.outputNames.length>1&&(a=this.outputNames[i]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([l,i])};Gv("metric",()=>{for(let i=0;i<this.outputs.length;++i){if(r.indexOf(i)!==-1)continue;const a=s[i];(u=>{let f,d,h;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const m=this.internalOutputShapes[i];m[m.length-1]===1||this.lossFunctions[i]===MP?["accuracy","acc"].indexOf(p)!==-1?d=Uwe:["crossentropy","ce"].indexOf(p)!==-1&&(d=pJe):this.lossFunctions[i]===RO?["accuracy","acc"].indexOf(p)!==-1?d=gJe:["crossentropy","ce"].indexOf(p)!==-1&&(d=qwe):["accuracy","acc"].indexOf(p)!==-1?d=jwe:["crossentropy","ce"].indexOf(p)!==-1&&(d=Hwe);let v;["accuracy","acc"].indexOf(p)!==-1?v="acc":["crossentropy","ce"].indexOf(p)!==-1&&(v="ce"),h=d,f=""+v}else h=SJe(p),f=""+YI(p);let g;Gv(f,()=>{g=h}),o(i,f,g)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(t,n,r={}){const s=r.batchSize==null?32:r.batchSize;i8(s);const i=this.standardizeUserDataXY(t,n,!0,s);try{const a=i[0].concat(i[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,a,s,r.verbose,r.steps);return xa(u)}finally{nc(i[0],t),nc(i[1],n)}}async evaluateDataset(t,n){return this.makeTestFunction(),BJe(this,t,n)}checkNumSamples(t,n,r,s="steps"){let o;if(r!=null){if(o=null,n!=null)throw new ke(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(t!=null)Array.isArray(t)?o=t[0].shape[0]:o=t.shape[0];else throw new ke(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return o}execute(t,n){if(Array.isArray(n)&&n.length===0)throw new ke("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],o=this.retrieveSymbolicTensors(s),i=new Ig;if(t instanceof Mr&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new ke(`The number of inputs provided (${t.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)i.add(this.inputs[l],t[l])}else for(const l of this.inputs){const u=t[l.name];if(u==null)throw new ke(`No value is provided for the model's input ${l.name}`);i.add(l,u)}const a=t$(o,i);return r?a:a[0]}retrieveSymbolicTensors(t){const n=S1(null,t.length);let r=t.length;for(const s of this.layers){const o=Array.isArray(s.output)?s.output:[s.output],i=o.map(a=>a.name);for(let a=0;a<t.length;++a){const l=i.indexOf(t[a]);if(l!==-1&&(n[a]=o[l],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((o,i)=>{o==null&&s.push(t[i])}),new ke(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(t,n=32,r=!1){return Be(()=>{const s=this.checkNumSamples(t);if(r)throw new Vn("Verbose predictLoop() is not implemented yet.");const o=a8(s,n),i=this.outputs.map(a=>[]);for(let a=0;a<o.length;++a)Be(()=>{const u=o[a][0],c=o[a][1],f=uS(t,u,c),d=[];if(Array.isArray(f))for(let p=0;p<f.length;++p)d.push({key:this.inputs[p],value:f[p]});else d.push({key:this.inputs[0],value:f});const h=new Ig(d);return t$(this.outputs,h)}).forEach((u,c)=>i[c].push(u));return xa(i.map(a=>xo(a,0)))})}predict(t,n={}){const r=Jwe(t);poe(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return i8(s),this.predictLoop(r,s)}finally{nc(r,t)}}predictOnBatch(t){poe(t,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,n)}standardizeUserDataXY(t,n,r=!0,s){if(this.optimizer_==null)throw new wu("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let i=0;i<this.feedOutputShapes.length;++i){const a=this.feedOutputShapes[i];this.feedLossFns[i]===RO?o.push(a.slice(0,a.length-1).concat([1])):o.push(a)}if(t=hoe(t,this.feedInputNames,this.feedInputShapes,!1,"input"),n=hoe(n,this.feedOutputNames,o,!1,"target"),VJe(t,n),WJe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&t[0].shape[0]%s!==0)throw new ke(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${t[0].shape[0]} sample(s).`);return[t,n]}async standardizeUserData(t,n,r,s,o=!0,i){const[a,l]=this.standardizeUserDataXY(t,n,o,i);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(s!=null){const c=Ywe(s,this.outputNames);u=[];for(let f=0;f<c.length;++f)u.push(await Xwe(l[f],null,c[f]))}return[a,l,u]}testLoop(t,n,r,s=0,o){return Be(()=>{const i=this.checkNumSamples(n,r,o,"steps"),a=[];if(s>0)throw new Vn("Verbose mode is not implemented yet.");if(o!=null)throw new Vn("steps mode in testLoop() is not implemented yet");{const l=a8(i,r),u=qi(Lc(0,i));for(let c=0;c<l.length;++c){const f=l[c][0],d=l[c][1],h=Kv(u,f,d-f),p=WV(n,h),g=t(p);if(c===0)for(let m=0;m<g.length;++m)a.push($n(0));for(let m=0;m<g.length;++m){const v=g[m];a[m]=mt(a[m],we(d-f,v))}}for(let c=0;c<a.length;++c)a[c]=an(a[c],i)}return a})}getDedupedMetricsNames(){const t=this.metricsNames,n=[];for(let r=0;r<t.length;++r){const s=t[r];let o=s;if(Jse(t,s)>1){const i=Jse(t.slice(0,r),s);o+=`_${i}`}n.push(o)}return n}makeTrainFunction(){return t=>{const n=[],r=t.slice(0,this.inputs.length),s=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=t.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),i=[],a=()=>{const f=[];for(let g=0;g<this.inputs.length;++g)f.push({key:this.inputs[g],value:r[g]});const d=new Ig(f),h=t$(this.outputs,d,{training:!0});let p;for(let g=0;g<this.lossFunctions.length;++g){const m=this.lossFunctions[g];let v=m(s[g],h[g]);o[g]!=null&&(v=OJe(v,o[g]));const y=Ns(v);n.push(y),g===0?p=v:p=mt(p,v)}for(let g=0;g<this.metricsTensors.length;++g){let m;if(this.outputs.length>1&&g<this.outputs.length)m=n[g];else{const v=this.metricsTensors[g][0],y=this.metricsTensors[g][1];m=Ns(v(s[y],h[y]))}kc(m),i.push(m)}return p=Ns(p),this.calculateLosses().forEach(g=>{p=mt(p,g)}),p},l=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(a,!0,l)].concat(i)}}makeTestFunction(){this.testFunction=t=>Be(()=>{const n=[];let r;const s=t.slice(0,this.inputs.length),o=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let u=0;u<this.inputs.length;++u)i.push({key:this.inputs[u],value:s[u]});const a=new Ig(i),l=t$(this.outputs,a);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],f=Ns(c(o[u],l[u]));u===0?r=f:r=mt(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],f=this.metricsTensors[u][1],d=Ns(c(o[f],l[f]));n.push(d)}return n})}async fit(t,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,o,i,a,l,u,c,f,d;try{const h=r.batchSize==null?32:r.batchSize;i8(h);const g=await this.standardizeUserData(t,n,r.sampleWeight,r.classWeight,!1,h);s=g[0],o=g[1],d=g[2];let m=!1,v;if(r.validationData!=null&&r.validationData.length>0){if(m=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new Vn("validationData including sample weights is not supported yet."):new ke(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const _=await this.standardizeUserData(l,u,null,null,!0,h);c=_[0],f=_[1],v=c.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){m=!0;const T=Math.floor(s[0].shape[0]*(1-r.validationSplit)),_=s[0].shape[0];c=uS(s,T,_),i=s,s=uS(s,0,T),f=uS(o,T,_),a=o,o=uS(o,0,T),v=c.concat(f)}else r.validationSteps!=null&&(m=!0);const y=s.concat(o).concat(d);this.checkTrainableWeightsConsistency();const w=this.makeTrainFunction(),b=this.getDedupedMetricsNames();let C,S;m?(this.makeTestFunction(),C=this.testFunction,S=b.slice().concat(b.map(T=>"val_"+T))):(C=null,v=[],S=b.slice());const $=zwe(r.callbacks,r.yieldEvery);return await this.fitLoop(w,y,b,h,r.epochs,r.verbose,$,C,v,r.shuffle,S,r.initialEpoch,null,null)}finally{this.isTraining=!1,nc(s,t),nc(o,n),nc(i,t),nc(a,n),nc(c,l),nc(f,u),d!=null&&Yn(d)}}async fitLoop(t,n,r,s,o,i,a,l,u,c,f,d,h,p){s==null&&(s=32),o==null&&(o=1),c==null&&(c=!0),d==null&&(d=0);let g=!1;if(l!=null&&u!=null&&(g=!0),p!=null&&(g=!0,h==null))throw new ke("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(n,s,h,"steps_per_epoch");let v;m!=null&&(v=Lc(0,m)),i==null&&(i=1);const{callbackList:y,history:w}=Vwe(a,i,o,d,m,h,s,g,f);y.setModel(this),this.history=w,await y.onTrainBegin(),this.stopTraining_=!1;for(let b=d;b<o;++b){await y.onEpochBegin(b);const C={};if(h!=null)throw new Vn("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Vn("batch shuffling is not implemneted yet");c&&_q(v);const S=qi(v),$=a8(m,s);for(let k=0;k<$.length;++k){const T={};if(await y.onBatchBegin(k,T),Be(()=>{const _=$[k][0],E=$[k][1],A=Kv(S,_,E-_);T.batch=k,T.size=E-_;const N=WV(n,A),F=t(N);for(let R=0;R<r.length;++R){const P=r[R],I=F[R];T[P]=I,kc(I)}if(k===$.length-1&&g){const R=this.testLoop(l,u,s);for(let P=0;P<r.length;++P){const I=r[P],D=R[P];kc(D),C["val_"+I]=D}}}),await y.onBatchEnd(k,T),Bwe(T),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(b,C),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(t,n){return MJe(this,t,n)}async trainOnBatch(t,n){const r=await this.standardizeUserData(t,n),s=r[0],o=r[1],a=this.makeTrainFunction()(s.concat(o)),l=[];for(const u of a){const c=await u.data();l.push(c[0])}return Yn(a),nc(r[0],t),nc(r[1],n),xa(l)}getNamedWeights(t){const n=[],r=t!=null&&t.trainableOnly,s=r?this.trainableWeights:this.weights,o=this.getWeights(r);for(let i=0;i<s.length;++i)r&&!s[i].trainable||n.push({name:s[i].originalName,tensor:o[i]});return n}set stopTraining(t){this.stopTraining_=t}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}dispose(){const t=super.dispose();if(t.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=wV().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-wV().numTensors}return t}getLossIdentifiers(){let t;if(typeof this.loss=="string")t=gh(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");t=this.loss.map(n=>gh(n))}else{const n=Object.keys(this.loss);t={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")t[s]=gh(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return t}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[gh(YI(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(t=>gh(YI(t)));{const t={};for(const n in this.metrics)t[n]=gh(YI(this.metrics[n]));return t}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(t){if(t.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(t.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(t.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=zV(t.optimizer_config),r=jh(n);let s;if(typeof t.loss=="string")s=dv(t.loss);else if(Array.isArray(t.loss))s=t.loss.map(i=>dv(i));else if(t.loss!=null){s={};for(const i in t.loss)s[i]=dv(t.loss[i])}let o;if(Array.isArray(t.metrics))o=t.metrics.map(i=>dv(i));else if(t.metrics!=null){o={};for(const i in t.metrics)o[i]=dv(t.metrics[i])}this.compile({loss:s,metrics:o,optimizer:r})}async save(t,n){if(typeof t=="string"){const u=cye(t);if(u.length===0)throw new ke(`Cannot find any save handlers for URL '${t}'`);if(u.length>1)throw new ke(`Found more than one (${u.length}) save handlers for URL '${t}'`);t=u[0]}if(t.save==null)throw new ke("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await xV(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:jJe,generatedBy:`TensorFlow.js tfjs-layers v${Kwe}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:f}=await xV(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=aye([r.data,c])}return this.userDefinedMetadata!=null&&(uoe(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=r.data,a.weightSpecs=r.specs,t.save(a)}setUserDefinedMetadata(t){uoe(t,this.name),this.userDefinedMetadata=t}getUserDefinedMetadata(){return this.userDefinedMetadata}}lw.className="Model";vt(lw);class Qwe extends lw{}Qwe.className="Functional";vt(Qwe);let gK=class jV extends lw{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=t.name!=null?t.name:DP("sequential_"),t.layers!=null)for(const n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new ke(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const n=t instanceof jV||t instanceof lw;let r;if(n){if(r=t,r.outputs.length!==1)throw new ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new ke("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(t.inboundNodes.length===0){if(t.batchInputShape==null)throw new ke("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=HZe({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(t.inboundNodes.length!==1)throw new ke(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(t.inboundNodes[0].outputTensors.length!==1)throw new ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=Rwe(this.outputs[0])}this.inboundNodes=[],new RP({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:S1(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=t.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return this.model==null&&this.build(),this.model.call(t,n)}build(t){if(vr(t),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new lw({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,r=console.log){this.built||this.build(),super.summary(t,n,r)}setWeights(t){this.model==null&&this.build(),this.model.setWeights(t)}evaluate(t,n,r={}){if(!this.built)throw new wu("The model needs to be compiled before being used.");return this.model.evaluate(t,n,r)}async evaluateDataset(t,n){if(!this.built)throw new wu("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return this.model==null&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return this.model==null&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,r={}){if(!this.built)throw new wu("The model needs to be compiled before being used.");return this.model.fit(t,n,r)}async fitDataset(t,n){if(!this.built)throw new wu("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,r={},s=!1){let o,i={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new ke("Legacy serialization format not supported yet.");o=n}else te(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=n.layers,delete n.layers,i=n;const a=new t(i);if(!(a instanceof jV))throw new Vn(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const l of o){const c=jh(l,void 0,s);s&&c.setFastWeightInitDuringBuild(!0),a.add(c)}return a}set stopTraining(t){if(this.model==null)throw new ke("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(this.model==null)throw new ke("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),t.push(r)}return{name:this.name,layers:t}}};gK.className="Sequential";vt(gK);function HJe(e){return new gK(e)}let wi=class extends dy{getConfig(){return{}}};class exe extends wi{apply(t,n=1){return AZe(t,n)}}exe.className="elu";vt(exe);class txe extends wi{apply(t){return lG(t)}}txe.className="selu";vt(txe);class nxe extends wi{apply(t){return Dd(t)}}nxe.className="relu";vt(nxe);class rxe extends wi{apply(t){return Be(()=>x1(6,Dd(t)))}}rxe.className="relu6";vt(rxe);let sxe=class extends wi{apply(t){return t}};sxe.className="linear";vt(sxe);class oxe extends wi{apply(t){return jf(t)}}oxe.className="sigmoid";vt(oxe);class ixe extends wi{apply(t){return NZe(t)}}ixe.className="hardSigmoid";vt(ixe);class axe extends wi{apply(t){return G2(t)}}axe.className="softplus";vt(axe);class lxe extends wi{apply(t){return IZe(t)}}lxe.className="softsign";vt(lxe);class uxe extends wi{apply(t){return b1(t)}}uxe.className="tanh";vt(uxe);let mK=class extends wi{apply(t,n=-1){return pP(t,n)}};mK.className="softmax";vt(mK);class cxe extends wi{apply(t,n=-1){return Jq(t,n)}}cxe.className="logSoftmax";vt(cxe);class fxe extends wi{apply(t){return Be(()=>Be(()=>{const n=Math.sqrt(2),r=we(.5,mt(1,Yq(an(t,n))));return we(t,r)}))}}fxe.className="gelu";vt(fxe);class dxe extends wi{apply(t){return Be(()=>we(.5,we(t,mt(1,b1(we(Go(an(2,Math.PI)),mt(t,we(.044715,sp(t,3)))))))))}}dxe.className="gelu_new";vt(dxe);class hxe extends wi{apply(t){return Be(()=>we(t,b1(G2(t))))}}hxe.className="mish";vt(hxe);class pxe extends wi{apply(t,n=1){return Be(()=>we(jf(we(t,n)),t))}}pxe.className="swish";vt(pxe);function mm(e){return e.getClassName()}function l8(e,t={}){return qT(e,Vl.getMap().classNameMap,t,"activation")}function vm(e){if(e==null){const t={};return t.className="linear",t.config={},l8(t)}if(typeof e=="string"){const t={};return t.className=e,t.config={},l8(t)}else return e instanceof wi?e:l8(e)}function qJe(e){if(e!=null&&typeof e!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}class gxe extends dy{}class mxe extends gxe{constructor(t){super(),qJe(t),this.l1=t==null||t.l1==null?.01:t.l1,this.l2=t==null||t.l2==null?.01:t.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(t){return Be(()=>{let n=no([1]);return this.hasL1&&(n=mt(n,Zt(we(this.l1,eo(t))))),this.hasL2&&(n=mt(n,Zt(we(this.l2,KT(t))))),_e(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,n){return new t({l1:n.l1,l2:n.l2})}}mxe.className="L1L2";vt(mxe);const goe={l1l2:"L1L2"};function Yr(e){return tK(e)}function moe(e,t={}){return qT(e,Vl.getMap().classNameMap,t,"regularizer")}function ms(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in goe?goe[e]:e,config:{}};return moe(n)}else return e instanceof gxe?e:moe(e)}class vxe extends Xn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null&&(this.maxValue=t.maxValue)}call(t,n){t=kn(t);let r=Dd(t);return this.maxValue!=null&&(r=vl(r,0,this.maxValue)),r}computeOutputShape(t){return t}getConfig(){const t={maxValue:this.maxValue},n=super.getConfig();return Object.assign(t,n),t}}vxe.className="ReLU";vt(vxe);class yxe extends Xn{constructor(t){super(t??{}),this.DEFAULT_ALPHA=.3,t==null&&(t={}),this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=kn(t);return nP(r,this.alpha)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}}yxe.className="LeakyReLU";vt(yxe);class bxe extends Xn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",t==null&&(t={}),this.supportsMasking=!0,this.alphaInitializer=gs(t.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=ms(t.alphaRegularizer),this.alphaConstraint=io(t.alphaConstraint),t.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(t.sharedAxes))this.sharedAxes=t.sharedAxes;else if(typeof t.sharedAxes=="number")this.sharedAxes=[t.sharedAxes];else throw new ke(`Expected sharedAxes to be a number or an array of numbers, but got ${t.sharedAxes}`)}build(t){t=vr(t);const n=t.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<t.length;++s)r[s]=t[s];this.inputSpec=[new so({ndim:t.length,axes:r})],this.built=!0}call(t,n){return t=kn(t),cP(t,this.alpha.read())}getConfig(){const t={alphaInitializer:$s(this.alphaInitializer),alphaRegularizer:Yr(this.alphaRegularizer),alphaConstraint:oo(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(t,n),t}}bxe.className="PReLU";vt(bxe);let wxe=class extends Xn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA=1,t==null&&(t={}),t.alpha!=null&&t.alpha!==this.DEFAULT_ALPHA)throw new Vn(`Non-default alpha value (${t.alpha}) is not supported by the ELU layer yet.`);this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=kn(t);return BT(r)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}};wxe.className="ELU";vt(wxe);class xxe extends Xn{constructor(t){super(t??{}),this.DEFAULT_THETA=1,t==null&&(t={}),this.theta=t.theta==null?this.DEFAULT_THETA:t.theta}call(t,n){const r=kn(t);return we(r,At(Nl(r,this.theta),"float32"))}computeOutputShape(t){return t}getConfig(){const t={theta:this.theta},n=super.getConfig();return Object.assign(t,n),t}}xxe.className="ThresholdedReLU";vt(xxe);class Cxe extends Xn{constructor(t){super(t??{}),this.DEFAULT_AXIS=1,t==null&&(t={}),this.softmax=new mK().apply,this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis}call(t,n){return Be(()=>{let r=kn(t);const s=n.mask;if(s!=null){const o=we(jt(ol(r.shape),At(s,r.dtype)),$n(-1e9));r=mt(r,o)}return this.axis instanceof Array?this.axis.length>1?yl(jt(r,oP(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(t){return t}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}Cxe.className="Softmax";vt(Cxe);function uw(e,t,n){if(typeof e=="number")return S1(e,t);if(e.length!==t)throw new ke(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const s=e[r];if(!kZe(s))throw new ke(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${s}`)}return e}function Ec(e,t,n,r,s=1){if(e==null)return e;const o=t+(t-1)*(s-1);let i;return n==="same"?i=e:i=e-o+1,Math.floor((i+r-1)/r)}function Nf(e,t,n,r){if(e==null)return null;if(r==="valid")e=e*t+gm([n-t,0]);else if(r==="same")e=e*t;else throw new ke(`Unsupport padding mode: ${r}.`);return e}function vK(e,t){return Be(()=>(qs(t),t==="channelsFirst"?rr(e,[0,2,3,1]):e))}function Sxe(e,t){return Be(()=>(qs(t),t==="channelsFirst"?rr(e,[0,2,3,4,1]):e))}function GJe(e,t,n,r=1,s="valid",o,i=1){return Be(()=>{if(o==null&&(o=Bc()),qs(o),e.shape.length!==3)throw new ke(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(t.shape.length!==3)throw new ke(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new ke(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(o==="channelsFirst"&&(e=rr(e,[0,2,1])),s==="causal")throw new Vn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=jq(e,t,r,s==="same"?"same":"valid","NWC",i);return n!=null&&(a=Zc(a,n)),a})}function voe(e,t,n,r=[1,1],s="valid",o,i,a=null){return Be(()=>{if(o==null&&(o=Bc()),qs(o),e.rank!==3&&e.rank!==4)throw new ke(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(t.rank!==3&&t.rank!==4)throw new ke(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=vK(e,o);if(s==="causal")throw new Vn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=bbe({x:l,filter:t,strides:r,pad:s==="same"?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:a}),o==="channelsFirst"&&(l=rr(l,[0,3,1,2])),l})}function KJe(e,t,n,r=[1,1,1],s="valid",o,i){return Be(()=>{if(o==null&&(o=Bc()),qs(o),e.rank!==4&&e.rank!==5)throw new ke(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(t.rank!==4&&t.rank!==5)throw new ke(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let a=Sxe(e,o);if(s==="causal")throw new Vn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=Pye(a,t,r,s==="same"?"same":"valid","NDHWC",i),n!=null&&(a=Zc(a,n)),o==="channelsFirst"&&(a=rr(a,[0,4,1,2,3])),a})}class PP extends Xn{constructor(t,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",PP.verifyArgs(n),this.rank=t,yo(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Vn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=uw(n.kernelSize,t,"kernelSize"),this.strides=uw(n.strides==null?1:n.strides,t,"strides"),this.padding=n.padding==null?"valid":n.padding,iu(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,qs(this.dataFormat),this.activation=vm(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=gs(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=io(n.biasConstraint),this.biasRegularizer=ms(n.biasRegularizer),this.activityRegularizer=ms(n.activityRegularizer),this.dilationRate=uw(n.dilationRate==null?1:n.dilationRate,t,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new ke(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new ke(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new ke(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(t){if(If("kernelSize"in t,"required key 'kernelSize' not in config"),typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,3))throw new ke(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:mm(this.activation),useBias:this.useBias,biasInitializer:$s(this.biasInitializer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),biasConstraint:oo(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}class X2 extends PP{constructor(t,n){super(t,n),this.kernel=null,X2.verifyArgs(n),this.filters=n.filters,yo(this.filters,"filters"),this.kernelInitializer=gs(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=io(n.kernelConstraint),this.kernelRegularizer=ms(n.kernelRegularizer)}build(t){t=vr(t);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke(`The channel dimension of the input should be defined. Found ${t[n]}`);const r=t[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(t,n){return Be(()=>{t=kn(t);let r;const s=this.bias==null?null:this.bias.read(),o=bwe(this.activation.getClassName());if(o!=null&&this.rank===2)r=voe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)r=GJe(t,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=voe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=KJe(t,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Vn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(t){t=vr(t);const n=[],r=this.dataFormat==="channelsLast"?t.slice(1,t.length-1):t.slice(2);for(let o=0;o<r.length;++o){const i=Ec(r[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);n.push(i)}let s=[t[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const t={filters:this.filters,kernelInitializer:$s(this.kernelInitializer),kernelRegularizer:Yr(this.kernelRegularizer),kernelConstraint:oo(this.kernelConstraint)},n=super.getConfig();return Object.assign(t,n),t}static verifyArgs(t){if(!("filters"in t)||typeof t.filters!="number"||t.filters<1)throw new ke(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}class JT extends X2{constructor(t){super(2,t),JT.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,2))throw new ke(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}}JT.className="Conv2D";vt(JT);class QT extends X2{constructor(t){super(3,t),QT.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!(Array.isArray(t.kernelSize)&&(t.kernelSize.length===1||t.kernelSize.length===3)))throw new ke(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}}QT.className="Conv3D";vt(QT);class $xe extends JT{constructor(t){if(super(t),this.inputSpec=[new so({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new ke(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=vr(t),t.length!==4)throw new ke("Input should have rank 4; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new so({ndim:4,axes:{[n]:r}})],this.built=!0}call(t,n){return Be(()=>{let r=kn(t);if(r.shape.length!==4)throw new ke(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,o=s[0];let i,a;this.dataFormat==="channelsFirst"?(i=2,a=3):(i=1,a=2);const l=s[i],u=s[a],c=this.kernelSize[0],f=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=Nf(l,d,c,this.padding),g=Nf(u,h,f,this.padding),m=[o,p,g,this.filters];this.dataFormat!=="channelsLast"&&(r=rr(r,[0,2,3,1]));let v=qq(r,this.kernel.read(),m,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(v=rr(v,[0,3,1,2])),this.bias!=null&&(v=Zc(v,this.bias.read(),this.dataFormat)),this.activation!=null&&(v=this.activation.apply(v)),v})}computeOutputShape(t){t=vr(t);const n=t.slice();let r,s,o;this.dataFormat==="channelsFirst"?(r=1,s=2,o=3):(r=3,s=1,o=2);const i=this.kernelSize[0],a=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[s]=Nf(n[s],l,i,this.padding),n[o]=Nf(n[o],u,a,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}$xe.className="Conv2DTranspose";vt($xe);class kxe extends QT{constructor(t){if(super(t),this.inputSpec=[new so({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new ke(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=vr(t),t.length!==5)throw new ke("Input should have rank 5; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new ke("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new so({ndim:5,axes:{[n]:r}})],this.built=!0}call(t,n){return Be(()=>{let r=kn(t);if(r.shape.length!==5)throw new ke(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,o=s[0];let i,a,l;this.dataFormat==="channelsFirst"?(l=2,i=3,a=4):(l=1,i=2,a=3);const u=s[l],c=s[i],f=s[a],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],g=this.strides[0],m=this.strides[1],v=this.strides[2],y=Nf(u,g,d,this.padding),w=Nf(c,m,h,this.padding),b=Nf(f,v,p,this.padding),C=[o,y,w,b,this.filters];this.dataFormat!=="channelsLast"&&(r=rr(r,[0,2,3,4,1]));let S=Bye(r,this.kernel.read(),C,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=rr(S,[0,4,1,2,3])),this.bias!==null&&(S=Zc(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(t){t=vr(t);const n=t.slice();let r,s,o,i;this.dataFormat==="channelsFirst"?(r=1,s=2,o=3,i=4):(r=4,s=1,o=2,i=3);const a=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],f=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[s]=Nf(n[s],c,a,this.padding),n[o]=Nf(n[o],f,l,this.padding),n[i]=Nf(n[i],d,u,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}kxe.className="Conv3DTranspose";vt(kxe);class Exe extends X2{constructor(t,n){if(super(t,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new ke("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new ke("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new ke(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=gs(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=ms(n.depthwiseRegularizer),this.depthwiseConstraint=io(n.depthwiseConstraint),this.pointwiseInitializer=gs(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=ms(n.pointwiseRegularizer),this.pointwiseConstraint=io(n.pointwiseConstraint)}build(t){if(t=vr(t),t.length<this.rank+2)throw new ke(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(t)}`);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null||t[n]<0)throw new ke(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(t[n])}`);const r=t[n],s=this.kernelSize.concat([r,this.depthMultiplier]),o=[];for(let a=0;a<this.rank;++a)o.push(1);o.push(r*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new so({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(t,n){return Be(()=>{t=kn(t);let r;if(this.rank===1)throw new Vn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(t=rr(t,[0,2,3,1])),r=uG(t,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Zc(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=rr(r,[0,3,1,2])),r})}getConfig(){const t=super.getConfig();return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=$s(this.depthwiseInitializer),t.pointwiseInitializer=$s(this.pointwiseInitializer),t.depthwiseRegularizer=Yr(this.depthwiseRegularizer),t.pointwiseRegularizer=Yr(this.pointwiseRegularizer),t.depthwiseConstraint=oo(this.depthwiseConstraint),t.pointwiseConstraint=oo(this.pointwiseConstraint),t}}Exe.className="SeparableConv";class _xe extends Exe{constructor(t){super(2,t)}}_xe.className="SeparableConv2D";vt(_xe);class LP extends X2{constructor(t){super(1,t),LP.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){const t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!nK(t.kernelSize,"number",1,1))throw new ke(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}}LP.className="Conv1D";vt(LP);class Txe extends Xn{constructor(t){super(t),typeof t.cropping=="number"?this.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:typeof t.cropping[0]=="number"?this.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:this.cropping=t.cropping,this.dataFormat=t.dataFormat===void 0?"channelsLast":t.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(t){return this.dataFormat==="channelsFirst"?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}call(t,n){return Be(()=>{if(t=kn(t),this.dataFormat==="channelsLast"){const r=KI(t,this.cropping[0][0],t.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return KI(r,this.cropping[1][0],t.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=KI(t,this.cropping[0][0],t.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return KI(r,this.cropping[1][0],t.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const t={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}Txe.className="Cropping2D";vt(Txe);class Axe extends Xn{constructor(t){super(t),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=t.size==null?this.DEFAULT_SIZE:t.size,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),this.interpolation=t.interpolation==null?"nearest":t.interpolation,CZe(this.interpolation)}computeOutputShape(t){if(this.dataFormat==="channelsFirst"){const n=t[2]==null?null:this.size[0]*t[2],r=t[3]==null?null:this.size[1]*t[3];return[t[0],t[1],n,r]}else{const n=t[1]==null?null:this.size[0]*t[1],r=t[2]==null?null:this.size[1]*t[2];return[t[0],n,r,t[3]]}}call(t,n){return Be(()=>{let r=kn(t);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=rr(r,[0,2,3,1]);const o=this.size[0]*s[2],i=this.size[1]*s[3],a=this.interpolation==="nearest"?Bf.resizeNearestNeighbor(r,[o,i]):Bf.resizeBilinear(r,[o,i]);return rr(a,[0,3,1,2])}else{const o=this.size[0]*s[1],i=this.size[1]*s[2];return this.interpolation==="nearest"?Bf.resizeNearestNeighbor(r,[o,i]):Bf.resizeBilinear(r,[o,i])}})}getConfig(){const t={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}}Axe.className="UpSampling2D";vt(Axe);function YJe(e,t,n=[1,1],r="valid",s,o){return Be(()=>{s==null&&(s=Bc()),qs(s);let i=vK(e,s);if(e.rank!==4)throw new ke(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(t.rank!==4)throw new ke(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=LT(i,t,n,r==="same"?"same":"valid","NHWC",o),s==="channelsFirst"&&(i=rr(i,[0,3,1,2])),i})}class Ixe extends PP{constructor(t){super(2,t),this.depthwiseKernel=null,this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=gs(t.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=io(t.depthwiseConstraint),this.depthwiseRegularizer=ms(t.depthwiseRegularizer)}build(t){if(t=vr(t),t.length<4)throw new ke(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(t)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(t[n]==null||t[n]<0)throw new ke(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${t[n]}).`);const r=t[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Be(()=>{t=kn(t);let r=YJe(t,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Zc(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(t){t=vr(t);const n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],s=this.dataFormat==="channelsFirst"?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,o=Ec(n,this.kernelSize[0],this.padding,this.strides[0]),i=Ec(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[t[0],s,o,i]:[t[0],o,i,s]}getConfig(){const t=super.getConfig();return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=$s(this.depthwiseInitializer),t.depthwiseRegularizer=Yr(this.depthwiseRegularizer),t.depthwiseConstraint=oo(this.depthwiseRegularizer),t}}Ixe.className="DepthwiseConv2D";vt(Ixe);function Nxe(e,t,n,r){if(Array.isArray(e)){if(t!=null||n!=null)throw new ke("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function s(o){return o==null||Array.isArray(o)?o:[o]}return t=s(t),n=s(n),{inputs:e,initialState:t,constants:n}}function Dxe(e,t,n,r=!1,s,o,i=!1,a=!1){return Be(()=>{const l=t.shape.length;if(l<3)throw new ke(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(Lc(2,l));t=rr(t,u),i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=At(At(s,"bool"),"float32"),s.rank===l-1&&(s=zi(s,-1)),s=rr(s,u)),r&&(t=Fu(t,0),s!=null&&(s=Fu(s,0)));const c=[];let f,d=n;const h=t.shape[0],p=pm(t);let g;s!=null&&(g=pm(s));for(let v=0;v<h;++v){const y=p[v],w=Be(()=>e(y,d));if(s==null)f=w[0],d=w[1];else{const b=Be(()=>{const C=g[v],S=jt(tu(C),C),$=mt(we(w[0],C),we(d[0],S)),k=d.map((T,_)=>mt(we(w[1][_],C),we(T,S)));return{output:$,newStates:k}});f=b.output,d=b.newStates}a&&c.push(f)}let m;return a&&(m=cd(c,1)),[f,m,d]})}class a0 extends Xn{constructor(t){super(t);let n;if(t.cell==null)throw new ke("cell property is missing for the constructor of RNN.");if(Array.isArray(t.cell)?n=new wK({cells:t.cell}):n=t.cell,n.stateSize==null)throw new ke("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=t.returnSequences==null?!1:t.returnSequences,this.returnState=t.returnState==null?!1:t.returnState,this.goBackwards=t.goBackwards==null?!1:t.goBackwards,this._stateful=t.stateful==null?!1:t.stateful,this.unroll=t.unroll==null?!1:t.unroll,this.supportsMasking=!0,this.inputSpec=[new so({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Lc(0,t).map(n=>null)}else return this.states_}setStates(t){this.states_=t}computeOutputShape(t){PV(t)&&(t=t[0]),t=t;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[t[0],t[1],r]:s=[t[0],r],this.returnState){const o=[];for(const i of n)o.push([t[0],i]);return[s].concat(o)}else return s}computeMask(t,n){return Be(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(o=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<t;++r)n.push(null);return n}else return this.states_}set states(t){this.states_=t}build(t){if(this.numConstants!=null)throw new Vn("Constants support is not implemented in RNN yet.");PV(t)&&(t=t[0]),t=t;const n=this.stateful?t[0]:null,r=t.slice(2);this.inputSpec[0]=new so({shape:[n,null,...r]});const s=[t[0]].concat(t.slice(2));this.cell.build(s);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!ir(this.stateSpec.map(i=>i.shape[i.shape.length-1]),o))throw new ke(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map(i=>new so({shape:[null,i]}));this.stateful&&this.resetStates()}resetStates(t,n=!1){Be(()=>{if(!this.stateful)throw new Af("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new ke("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>no([r,s])):this.states_=[no([r,this.cell.stateSize])];else if(t==null)Yn(this.states_),this.keptStates!=null&&(Yn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>no([r,s])):this.states_[0]=no([r,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new ke(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n===!0?this.keptStates.push(this.states_.slice()):Yn(this.states_);for(let s=0;s<this.states_.length;++s){const o=t[s],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[r,i];if(!ir(o.shape,a))throw new ke(`State ${s} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${o.shape}`);this.states_[s]=o}}this.states_=this.states_.map(s=>kc(s.clone()))})}apply(t,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=Nxe(t,r,s,this.numConstants);t=o.inputs,r=o.initialState,s=o.constants;let i=[],a=[];if(r!=null){n.initialState=r,i=i.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new so({shape:u.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,i=i.concat(s),this.numConstants=s.length),i[0]instanceof fd){const u=[t].concat(i),c=this.inputSpec.concat(a),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Be(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let o=n==null?null:n.initialState;t=kn(t),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(t));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==i)throw new ke(`RNN Layer has ${i} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},u=Dxe((p,g)=>{const m=this.cell.call([p].concat(g),a);return[m[0],m.slice(1)]},t,o,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],f=u[1],d=u[2];this.stateful&&this.resetStates(d,s);const h=this.returnSequences?f:c;return this.returnState?[h].concat(d):h})}getInitialState(t){return Be(()=>{let n=no(t.shape);return n=Zt(n,[1,2]),n=GT(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?FV(n,[1,r]):n):this.cell.stateSize>1?[FV(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){const t=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===a0.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),t),n)}static fromConfig(t,n,r={}){const s=n.cell,o=jh(s,r);return new t(Object.assign(n,{cell:o}))}}a0.className="RNN";vt(a0);class BP extends Xn{}class yK extends BP{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation==null?this.DEFAULT_ACTIVATION:t.activation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=vr(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Be(()=>{if(t=t,t.length!==2)throw new ke(`SimpleRNNCell expects 2 input Tensors, got ${t.length}.`);let r=t[1];t=t[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>tu(t),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>tu(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let o;const i=this.dropoutMask,a=this.recurrentDropoutMask;i!=null?o=Gf(we(t,i),this.kernel.read()):o=Gf(t,this.kernel.read()),this.bias!=null&&(o=Zc(o,this.bias.read())),a!=null&&(r=we(r,a));let l=mt(o,Gf(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},t),n)}}yK.className="SimpleRNNCell";vt(yK);class Oxe extends a0{constructor(t){t.cell=new yK(t),super(t)}call(t,n){return Be(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return new t(n)}}Oxe.className="SimpleRNN";vt(Oxe);class bK extends BP{constructor(t){if(super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.resetAfter)throw new ke("GRUCell does not support reset_after parameter set to true.");this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=vm(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=vr(t);const n=t[t.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Be(()=>{if(t=t,t.length!==2)throw new ke(`GRUCell expects 2 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training==null?!1:n.training;let s=t[1];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>tu(t),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>tu(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=this.recurrentDropoutMask;let a,l,u;0<this.dropout&&this.dropout<1&&(t=we(t,o[0]));let c=Gf(t,this.kernel.read());this.useBias&&(c=Zc(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=we(s,i[0]));const f=this.recurrentKernel.read(),[d,h]=fl(f,[2*this.units,this.units],f.rank-1),p=Gf(s,d),[g,m,v]=fl(c,3,c.rank-1),[y,w]=fl(p,2,p.rank-1);a=this.recurrentActivation.apply(mt(g,y)),l=this.recurrentActivation.apply(mt(m,w));const b=Gf(we(l,s),h);u=this.activation.apply(mt(v,b));const C=mt(we(a,s),we(mt(1,as(a)),u));return[C,C]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),recurrentActivation:mm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},t),n)}}bK.className="GRUCell";vt(bK);class Rxe extends a0{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new bK(t),super(t)}call(t,n){return Be(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}Rxe.className="GRU";vt(Rxe);class zP extends BP{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=vm(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=gs(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=t.unitForgetBias,this.kernelRegularizer=ms(t.kernelRegularizer),this.recurrentRegularizer=ms(t.recurrentRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.kernelConstraint=io(t.kernelConstraint),this.recurrentConstraint=io(t.recurrentConstraint),this.biasConstraint=io(t.biasConstraint),this.dropout=Mw([1,gm([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=Mw([1,gm([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){var n;t=vr(t);const r=t[t.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const o=this.biasInitializer,i=this.units;s=new(n=class extends Yu{apply(l,u){const c=o.apply([i]),f=new sK().apply([i]),d=o.apply([i*2]);return eoe(eoe(c,f),d)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(t,n){return Be(()=>{const r=n.training==null?!1:n.training;if(t=t,t.length!==3)throw new ke(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);let s=t[1];const o=t[2];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>tu(t),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>tu(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let l,u,c,f;0<this.dropout&&this.dropout<1&&(t=we(t,i[0]));let d=Gf(t,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=we(s,a[0])),d=mt(d,Gf(s,this.recurrentKernel.read())),this.useBias&&(d=Zc(d,this.bias.read()));const[h,p,g,m]=fl(d,4,d.rank-1);l=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(p),c=mt(we(u,o),we(l,this.activation.apply(g))),f=this.recurrentActivation.apply(m);const v=we(f,this.activation.apply(c));return[v,v,c]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:mm(this.activation),recurrentActivation:mm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),recurrentInitializer:$s(this.recurrentInitializer),biasInitializer:$s(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Yr(this.kernelRegularizer),recurrentRegularizer:Yr(this.recurrentRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),recurrentConstraint:oo(this.recurrentConstraint),biasConstraint:oo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},t),n)}}zP.className="LSTMCell";vt(zP);class Fxe extends a0{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new zP(t),super(t)}call(t,n){return Be(()=>{this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}Fxe.className="LSTM";vt(Fxe);class wK extends BP{constructor(t){super(t),this.cells=t.cells}get stateSize(){const t=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?t.push(...n.stateSize):t.push(n.stateSize);return t}call(t,n){return Be(()=>{t=t;let r=t.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(r.splice(0,a.stateSize.length)):s.push(r.splice(0,1));s.reverse();const o=[];let i;for(let a=0;a<this.cells.length;++a){const l=this.cells[a];r=s[a],a===0?i=[t[0]].concat(r):i=[i[0]].concat(r),i=l.call(i,n),o.push(i.slice(1))}r=[];for(const a of o.slice().reverse())r.push(...a);return[i[0]].concat(r)})}build(t){PV(t)&&(t=t[0]),t=t;let n;this.cells.forEach((r,s)=>{Gv(`RNNCell_${s}`,()=>{r.build(t),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,t=[t[0],n]})}),this.built=!0}getConfig(){const t=super.getConfig(),n=o=>({className:o.getClassName(),config:o.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},t),s)}static fromConfig(t,n,r={}){const s=[];for(const o of n.cells)s.push(jh(o,r));return new t({cells:s})}get trainableWeights(){if(!this.trainable)return[];const t=[];for(const n of this.cells)t.push(...n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.cells)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(t)}return t}getWeights(){const t=[];for(const n of this.cells)t.push(...n.weights);return LV(t)}setWeights(t){const n=[];for(const r of this.cells){const s=r.weights.length,o=t.splice(s);for(let i=0;i<r.weights.length;++i)n.push([r.weights[i],o[i]])}fK(n)}}wK.className="StackedRNNCells";vt(wK);function ym(e){const{ones:t,rate:n,training:r=!1,count:s=1,dropoutFunc:o}=e,i=()=>o!=null?o(t(),n):Ewe(t(),n),a=()=>YT(i,t,r);return!s||s<=1?kc(a().clone()):Array(s).fill(void 0).map(a).map(u=>kc(u.clone()))}var XJe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Mxe extends a0{constructor(t){if(t.unroll)throw new Vn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(t.cell))throw new Vn("It is not possible at the moment to stack convolutional cells.");super(t),this.inputSpec=[new so({ndim:5})]}call(t,n){return Be(()=>{if(this.cell.dropoutMask!=null&&(Yn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Yn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new ke("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(t,{mask:r,training:s,initialState:o})})}computeOutputShape(t){let n=this.computeSingleOutputShape(t);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([t[0],...n.slice(-3)])]),n}getInitialState(t){return Be(()=>{const{stateSize:n}=this.cell,r=t.shape,s=this.computeSingleOutputShape(r),o=[s[0],...s.slice(2)],i=no(o);return Array.isArray(n)?Array(n.length).fill(i):[i]})}resetStates(t,n=!1){Be(()=>{if(!this.stateful)throw new Af("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),o=[s[0],...s.slice(2)];if(r[0]==null)throw new ke("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>no(o)):this.states_=[no(o)];else if(t==null)Yn(this.states_),this.keptStates!=null&&(Yn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>no(o)):this.states_[0]=no(o);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new ke(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n?this.keptStates.push(this.states_.slice()):Yn(this.states_);for(let a=0;a<this.states_.length;++a){const l=t[a],u=o;if(!ir(l.shape,u))throw new ke(`State ${a} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[a]=l}}this.states_=this.states_.map(a=>kc(a.clone()))})}computeSingleOutputShape(t){const{dataFormat:n,filters:r,kernelSize:s,padding:o,strides:i,dilationRate:a}=this.cell,l=n==="channelsFirst",u=t[l?3:2],c=t[l?4:3],f=Ec(u,s[0],o,i[0],a[0]),d=Ec(c,s[1],o,i[1],a[1]);return[...t.slice(0,2),...l?[r,f,d]:[f,d,r]]}}Mxe.className="ConvRNN2D";class xK extends zP{constructor(t){const{filters:n,kernelSize:r,strides:s,padding:o,dataFormat:i,dilationRate:a}=t;super(Object.assign(Object.assign({},t),{units:n})),this.filters=n,yo(this.filters,"filters"),this.kernelSize=uw(r,2,"kernelSize"),this.kernelSize.forEach(l=>yo(l,"kernelSize")),this.strides=uw(s||1,2,"strides"),this.strides.forEach(l=>yo(l,"strides")),this.padding=o||"valid",iu(this.padding),this.dataFormat=i||"channelsLast",qs(this.dataFormat),this.dilationRate=uw(a||1,2,"dilationRate"),this.dilationRate.forEach(l=>yo(l,"dilationRate"))}build(t){var n;t=vr(t);const r=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[r]==null)throw new ke(`The channel dimension of the input should be defined. Found ${t[r]}`);const s=t[r],o=4,i=this.kernelSize.concat([s,this.filters*o]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Yu{apply(d,h){const p=u.apply([c]),g=ol([c]),m=u.apply([c*2]);return rK([p,g,m])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(t,n){return Be(()=>{if(t.length!==3)throw new ke(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training||!1,s=t[0],o=t[1],i=t[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ym({ones:()=>tu(s),rate:this.dropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(z,W,H)=>!W||!W[H]?z:we(W[H],z);let c=u(s,l,0),f=u(s,l,1),d=u(s,l,2),h=u(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ym({ones:()=>tu(o),rate:this.recurrentDropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let g=u(o,p,0),m=u(o,p,1),v=u(o,p,2),y=u(o,p,3);const w=3,[b,C,S,$]=fl(this.kernel.read(),a,w),[k,T,_,E]=this.useBias?fl(this.bias.read(),a):[null,null,null,null];c=this.inputConv(c,b,k,this.padding),f=this.inputConv(f,C,T,this.padding),d=this.inputConv(d,S,_,this.padding),h=this.inputConv(h,$,E,this.padding);const[A,N,F,R]=fl(this.recurrentKernel.read(),a,w);g=this.recurrentConv(g,A),m=this.recurrentConv(m,N),v=this.recurrentConv(v,F),y=this.recurrentConv(y,R);const P=this.recurrentActivation.apply(mt(c,g)),I=this.recurrentActivation.apply(mt(f,m)),D=mt(we(I,i),we(P,this.activation.apply(mt(d,v)))),M=we(this.recurrentActivation.apply(mt(h,y)),this.activation.apply(D));return[M,M,D]})}getConfig(){const t=super.getConfig(),{units:n}=t,r=XJe(t,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),s)}inputConv(t,n,r,s){const o=hm(t,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Zc(o,r,this.dataFormat):o}recurrentConv(t,n){return hm(t,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}xK.className="ConvLSTM2DCell";vt(xK);class Pxe extends Mxe{constructor(t){const n=new xK(t);super(Object.assign(Object.assign({},t),{cell:n}))}static fromConfig(t,n){return new t(n)}}Pxe.className="ConvLSTM2D";vt(Pxe);class VP extends Xn{constructor(t){super(t),this.rate=Math.max(Math.min(t.rate,1),0),this.noiseShape=t.noiseShape,this.seed=t.seed,this.supportsMasking=!0}getNoiseShape(t){if(this.noiseShape==null)return this.noiseShape;const n=t.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,o=this.getNoiseShape(r);return YT(()=>Ewe(r,this.rate,o,this.seed),()=>r,s)}return t})}getConfig(){const t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(t,n),t}dispose(){return super.dispose()}}VP.className="Dropout";vt(VP);class Lxe extends VP{constructor(t){super(t),this.inputSpec=[{ndim:3}]}getNoiseShape(t){const n=t.shape;return[n[0],1,n[2]]}}Lxe.className="SpatialDropout1D";vt(Lxe);class CK extends Xn{constructor(t){if(super(t),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.batchInputShape==null&&t.inputShape==null&&t.inputDim!=null){let n=null;t.batchSize!=null&&(n=t.batchSize),this.batchInputShape=[n,t.inputDim]}this.units=t.units,yo(this.units,"units"),this.activation=vm(t.activation),t.useBias!=null&&(this.useBias=t.useBias),this.kernelInitializer=gs(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=gs(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=io(t.kernelConstraint),this.biasConstraint=io(t.biasConstraint),this.kernelRegularizer=ms(t.kernelRegularizer),this.biasRegularizer=ms(t.biasRegularizer),this.activityRegularizer=ms(t.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(t){t=vr(t);const n=t[t.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(t){t=vr(t);const n=t.slice();return n[n.length-1]=this.units,n}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t),s=bwe(this.activation.getClassName());let o;return s!=null?o=Gf(r,this.kernel.read(),s,this.bias?this.bias.read():null):(o=Gf(r,this.kernel.read()),this.bias!=null&&(o=Zc(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){const t={units:this.units,activation:mm(this.activation),useBias:this.useBias,kernelInitializer:$s(this.kernelInitializer),biasInitializer:$s(this.biasInitializer),kernelRegularizer:Yr(this.kernelRegularizer),biasRegularizer:Yr(this.biasRegularizer),activityRegularizer:Yr(this.activityRegularizer),kernelConstraint:oo(this.kernelConstraint),biasConstraint:oo(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}CK.className="Dense";vt(CK);let Bxe=class extends Xn{constructor(t){t=t||{},super(t),this.inputSpec=[{minNDim:3}],this.dataFormat=t.dataFormat}computeOutputShape(t){t=vr(t);for(const n of t.slice(1))if(n==null)throw new ke(`The shape of the input to "Flatten" is not fully defined (got ${t.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[t[0],Qg(t,1)]}call(t,n){return Be(()=>{this.invokeCallHook(t,n);let r=kn(t);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let o=2;o<r.rank;++o)s.push(o);s.push(1),r=rr(r,s)}return TZe(r)})}getConfig(){const t={};this.dataFormat!=null&&(t.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(t,n),t}};Bxe.className="Flatten";vt(Bxe);class zxe extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.activation=vm(t.activation)}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t);return this.activation.apply(r)})}getConfig(){const t={activation:mm(this.activation)},n=super.getConfig();return Object.assign(t,n),t}}zxe.className="Activation";vt(zxe);class Vxe extends Xn{constructor(t){super(t),this.n=t.n,this.inputSpec=[{ndim:2}]}computeOutputShape(t){return[t[0],this.n,t[1]]}call(t,n){return Be(()=>(t=kn(t),EZe(t,this.n)))}getConfig(){const t={n:this.n},n=super.getConfig();return Object.assign(t,n),t}}Vxe.className="RepeatVector";vt(Vxe);class Wxe extends Xn{constructor(t){super(t),this.targetShape=t.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(t){return t<0||t==null}fixUnknownDimension(t,n){const r="Total size of new array must be unchanged.",s=n.slice();let o=1,i=null;for(let l=0;l<s.length;++l){const u=s[l];if(this.isUnknown(u))if(i===null)i=l;else throw new ke("Can only specifiy one unknown dimension.");else o*=u}const a=Qg(t);if(i!==null){if(o===0||a%o!==0)throw new ke(r);s[i]=a/o}else if(a!==o)throw new ke(r);return s}computeOutputShape(t){let n=!1;for(let r=0;r<t.length;++r)if(this.isUnknown(t[r])){n=!0;break}return n?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t),s=r.shape,o=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return _e(r,o)})}getConfig(){const t={targetShape:this.targetShape},n=super.getConfig();return Object.assign(t,n),t}}Wxe.className="Reshape";vt(Wxe);class Uxe extends Xn{constructor(t){if(super(t),t.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${t.dims} instead.`);const n=Lc(1,t.dims.length+1);if(!ir(t.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=t.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new so({ndim:this.dims.length+1})]}computeOutputShape(t){t=vr(t);const n=t.slice();return this.dims.forEach((r,s)=>{n[s+1]=t[r]}),n}call(t,n){return rr(kn(t),this.dimsIncludingBatch)}getConfig(){const t={dims:this.dims},n=super.getConfig();return Object.assign(t,n),t}}Uxe.className="Permute";vt(Uxe);class jxe extends Xn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null?this.maskValue=t.maskValue==null?0:t.maskValue:this.maskValue=0}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,t),n}computeMask(t,n){const r=kn(t);return _O(Rw(r,this.maskValue),-1)}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t),i=_O(Rw(r,this.maskValue),-1,!0);return we(r,At(i,r.dtype))})}}jxe.className="Masking";vt(jxe);class Hxe extends Xn{constructor(t){if(super(t),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",t.batchInputShape==null&&t.inputShape==null){let n=null;t.batchSize!=null&&(n=t.batchSize),t.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Ar(t.inputLength))}this.inputDim=t.inputDim,yo(this.inputDim,"inputDim"),this.outputDim=t.outputDim,yo(this.outputDim,"outputDim"),this.embeddingsInitializer=gs(t.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=ms(t.embeddingsRegularizer),this.activityRegularizer=ms(t.activityRegularizer),this.embeddingsConstraint=io(t.embeddingsConstraint),this.maskZero=t.maskZero,this.supportsMasking=t.maskZero,this.inputLength=t.inputLength}build(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(t){}computeMask(t,n){return Be(()=>this.maskZero?(t=kn(t),Rw(t,ur(t))):null)}computeOutputShape(t){if(t=vr(t),this.inputLength==null)return[...t,this.outputDim];const n=Ar(this.inputLength);if(n.length!==t.length-1)throw new ke(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);{let r=0;for(let s=0;s<n.length;++s){const o=n[s],i=t[s+1];if(o!=null&&i!=null&&o!==i)throw new ke(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);o==null&&(n[r]=i),r++}}return[t[0],...n,this.outputDim]}call(t,n){return Be(()=>{this.invokeCallHook(t,n);let r=kn(t);r.dtype!=="int32"&&(r=qf(r,"int32"));const s=kwe(this.embeddings.read(),_e(r,[r.size]));return _e(s,vr(this.computeOutputShape(r.shape)))})}getConfig(){const t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:$s(this.embeddingsInitializer),embeddingsRegularizer:Yr(this.embeddingsRegularizer),activityRegularizer:Yr(this.activityRegularizer),embeddingsConstraint:oo(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(t,n),t}}Hxe.className="Embedding";vt(Hxe);class py extends Xn{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new Vn}computeElementwiseOpOutputShape(t,n){if(t==null||n==null)return null;if(t.length<n.length)return this.computeElementwiseOpOutputShape(n,t);if(n.length===0)return t;const r=t.slice(0,t.length-n.length);for(let s=0;s<n.length;++s){const o=t[t.length-n.length+s],i=n[s];if(o==null||i==null||o<0||i<0)r.push(null);else if(o===1)r.push(i);else if(i===1)r.push(o);else{if(o!==i)throw new ke("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(n));r.push(o)}}return r}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[vr(t)]),t=t,t.length<2)throw new ke(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let n=[];for(const o of t)o!=null&&o[0]!==null&&n.push(o[0]);if(n=Jg(n),n.length>1)throw new ke(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let r=t[0]==null?null:t[0].slice(1);for(let o=1;o<t.length;++o){const i=t[o]==null?null:t[o].slice(1);r=this.computeElementwiseOpOutputShape(r,i)}const s=t.map(o=>o.length);t.indexOf(null)===-1&&Jg(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(t,n){return Be(()=>{if(t=t,this.reshapeRequired){const r=[],s=t.map(o=>o.rank);if(s.indexOf(null)===-1){const o=gm(s);for(let i of t){const a=i.rank;for(let l=0;l<o-a;++l)i=GT(i,1);r.push(i)}return this.mergeFunction(r)}else{let o=!1;for(const l of t){const u=l.rank;if(u==null){const c=l.shape,f=c[0],d=c.slice(1).concat([f]);let h=_e(l,[f].concat(Qg(c.slice(1))));h=rr(h,[1,0]),h=_e(h,d),r.push(h),o=!0}else if(u>1){const c=Lc(1,u).concat([0]);r.push(rr(l,c)),o=!0}else r.push(l)}let i=this.mergeFunction(r);const a=i.rank;if(o){if(a==null){const l=i.shape,u=l.length,c=l[u-1],f=[c].concat(l.slice(0,l.length-1));i=_e(rr(_e(i,[-1,c]),[1,0]),f)}else if(a>1){const l=[a-1].concat(Lc(0,a-1));i=rr(i,l)}}return i}}else return this.mergeFunction(t)})}computeOutputShape(t){t=t;let n;t[0]==null?n=null:n=t[0].slice(1);for(let s=1;s<t.length;++s){const o=t[s]==null?null:t[s].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let r=[];for(const s of t)s!=null&&s[0]!==null&&r.push(s[0]);return r=Jg(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(t,n){return Be(()=>{if(n==null)return null;if(!Array.isArray(n))throw new ke("`mask` should be an Array");if(!Array.isArray(t))throw new ke("`inputs` should be an Array");if(n.length!==t.length)throw new ke(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:zi(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=ud(r,n[s]);return r})}}class qxe extends py{constructor(t){super(t)}mergeFunction(t){return Be(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=mt(n,t[r]);return n})}}qxe.className="Add";vt(qxe);class Gxe extends py{constructor(t){super(t)}mergeFunction(t){return Be(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=we(n,t[r]);return n})}}Gxe.className="Multiply";vt(Gxe);class Kxe extends py{constructor(t){super(t)}mergeFunction(t){return Be(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=mt(n,t[r]);return we(1/t.length,n)})}}Kxe.className="Average";vt(Kxe);class Yxe extends py{constructor(t){super(t)}mergeFunction(t){return Be(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=Ap(n,t[r]);return n})}}Yxe.className="Maximum";vt(Yxe);class Xxe extends py{constructor(t){super(t)}mergeFunction(t){return Be(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=x1(n,t[r]);return n})}}Xxe.className="Minimum";vt(Xxe);class Zxe extends py{constructor(t){super(t),this.DEFAULT_AXIS=-1,t==null&&(t={}),this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){if(!(Array.isArray(t)&&Array.isArray(t[0]))||t.length===1)throw new ke("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;let n=!0;for(const s of t)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<t.length;++s){const o=t[s].slice();o.splice(this.axis,1);let i=!1;for(const a of r)if(ir(a,o)){i=!0;break}i||r.push(o)}if(r.length>1)throw new ke("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}mergeFunction(t){return Be(()=>rK(t,this.axis))}computeOutputShape(t){if(!(Array.isArray(t)&&Array.isArray(t[0])))throw new ke("A `Concatenate` layer should be called on a list of inputs.");const n=t,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const o of n.slice(1)){if(r[s]==null||o[s]==null){r[s]=null;break}r[s]+=o[s]}return r}computeMask(t,n){if(n==null)return null;if(!Array.isArray(n))throw new ke("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new ke("`inputs` should be an array for Concatenate");if(n.length!==t.length)throw new ke(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${t.length})`);return Be(()=>{let r=!0;if(n.forEach(i=>{if(i!=null){r=!1;return}}),r)return null;const s=[];for(let i=0;i<t.length;++i)n[i]==null?s.push(At(tu(t[i]),"bool")):n[i].rank<t[i].rank?s.push(zi(n[i],-1)):s.push(n[i]);const o=xo(s,this.axis);return Wq(o,-1,!1)})}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}Zxe.className="Concatenate";vt(Zxe);function cS(e,t){for(;e<0;)e+=t;return e}function ZJe(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Vn("batchDot is not implemented for tensors of 4D or higher rank yet");if(te(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),te(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),typeof n=="number"&&(n=[n,n]),e.dtype==="complex64"||t.dtype==="complex64")throw new Vn("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,s=t.shape.length;n==null&&(n=[r-1,s-2]);const o=n;return Be(()=>{let i;if(r>s){i=r-s;const l=[];for(let u=0;u<i;++u)l.push(1);t=_e(t,t.shape.concat(l))}else if(s>r){i=s-r;const l=[];for(let u=0;u<i;++u)l.push(1);e=_e(e,e.shape.concat(l))}else i=0;let a;if(e.shape.length===2&&t.shape.length===2)o[0]===o[1]?a=Zt(we(e,t),o[0]):a=Zt(we(rr(e,[1,0]),t),o[1]);else{const l=o[0]!==e.shape.length-1,u=o[1]===t.shape.length-1;a=Kn(e,t,l,u)}if(i>0){let l;r>s?l=r+s-3:l=r-1;const u=[];for(let c=l;c<l+i;++c)u.push(c);a=fy(a,u)}return a.shape.length===1&&(a=zi(a,1)),a})}class Jxe extends py{constructor(t){super(t),this.axes=t.axes,this.normalize=t.normalize==null?!1:t.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){te(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0],r=t[1];if(n.length>3||r.length>3)throw new Vn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new ke(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(t){if(t.length!==2)throw new ke(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${t.length} input(s).`);let n=t[0],r=t[1],s;return Array.isArray(this.axes)?s=this.axes.map((o,i)=>cS(o,t[i].shape.length)):s=[cS(this.axes,n.shape.length),cS(this.axes,r.shape.length)],this.normalize&&(n=OO(n,s[0]),r=OO(r,s[1])),ZJe(n,r,s)}interpretAxes(t,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[cS(this.axes,t.length),cS(this.axes,n.length)],r}computeOutputShape(t){te(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0].slice(),r=t[1].slice();if(n.length>3||r.length>3)throw new Vn("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const o=n.concat(r);return o.length===1&&o.push(1),o}computeMask(t,n){return null}getConfig(){const t={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(t,n),t}}Jxe.className="Dot";vt(Jxe);class Qxe extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.stddev=t.stddev}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,t),n}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t);return YT(()=>mt(OP(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}Qxe.className="GaussianNoise";vt(Qxe);class e2e extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Be(()=>{this.invokeCallHook(t,n);const r=kn(t);return this.rate>0&&this.rate<1?YT(()=>{const o=Math.sqrt(this.rate/(1-this.rate));return we(r,OP(r.shape,1,o))},()=>r,n.training||!1):r})}}e2e.className="GaussianDropout";vt(e2e);class t2e extends Xn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate,this.noiseShape=t.noiseShape}_getNoiseShape(t){return this.noiseShape||kn(t).shape}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Be(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(t);return YT(()=>{const o=kn(t),a=-1.6732632423543772*1.0507009873554805;let l=s0(cy(r),this.rate);l=qf(l,"float32");const u=((1-this.rate)*(1+this.rate*a**2))**-.5,c=-u*a*this.rate,f=mt(we(o,l),we(mt(l,-1),a));return mt(we(f,u),c)},()=>kn(t),n.training||!1)}return t})}}t2e.className="AlphaDropout";vt(t2e);function jk(e,t,n,r,s,o=.001){let i;if(e.rank===2)i=Tye(e,t,n,r,s,o);else if(e.rank===3)i=Aye(e,t,n,r,s,o);else if(e.rank===4)i=Iye(e,t,n,r,s,o);else throw new Vn(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return i}function JJe(e,t,n,r,s=.001){return Be(()=>{const o=lP(e,r),i=o.mean,a=o.variance;return[jk(e,i,a,n,t,s),i,a]})}function QJe(e,t,n,r,s=.001){return Be(()=>{const o=lP(e,r),i=o.mean,a=o.variance,l=[];for(const p of Lc(0,e.rank))r.indexOf(p)!==-1?l.push(1):l.push(e.shape[p]);const u=_e(i,l),c=_e(a,l),f=t==null?null:_e(t,l),d=n==null?null:_e(n,l);return[jk(e,u,c,d,f,s),i,a]})}function eQe(e,t,n,r,s=.001){return ir(r.slice().sort(),Lc(0,e.rank-1))?JJe(e,t,n,r,s):QJe(e,t,n,r,s)}class n2e extends Xn{constructor(t){t==null&&(t={}),super(t),this.supportsMasking=!0,this.axis=t.axis==null?-1:t.axis,this.momentum=t.momentum==null?.99:t.momentum,this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=gs(t.betaInitializer||"zeros"),this.gammaInitializer=gs(t.gammaInitializer||"ones"),this.movingMeanInitializer=gs(t.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=gs(t.movingVarianceInitializer||"ones"),this.betaConstraint=io(t.betaConstraint),this.gammaConstraint=io(t.gammaConstraint),this.betaRegularizer=ms(t.betaRegularizer),this.gammaRegularizer=ms(t.gammaRegularizer)}build(t){t=vr(t);const n=this.axis>=0?this.axis:this.axis+t.length,r=t[n];if(r==null)throw new ke(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(t)}.`);this.inputSpec=[new so({ndim:t.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(t,n){return Be(()=>{const r=n.training==null?!1:n.training,s=kn(t),o=s.shape,i=o.length,a=Lc(0,i),l=this.axis>=0?this.axis:this.axis+i;a.splice(l,1);const u=S1(1,i);u[l]=o[l];const c=a.slice();c.sort();const f=!ir(c,Lc(0,i).slice(0,i-1)),d=()=>{if(f){const y=_e(this.movingMean.read(),u),w=_e(this.movingVariance.read(),u),b=this.center?_e(this.beta.read(),u):null,C=this.scale?_e(this.gamma.read(),u):null;return jk(s,y,w,b,C,this.epsilon)}else return jk(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,g]=eQe(s,this.gamma.read(),this.beta.read(),a,this.epsilon),m=(y,w,b)=>{Be(()=>{const C=1-b,S=y.read(),$=we(jt(S,w),C);y.write(jt(S,$))})};return m(this.movingMean,p,this.momentum),m(this.movingVariance,g,this.momentum),h})}getConfig(){const t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$s(this.betaInitializer),gammaInitializer:$s(this.gammaInitializer),movingMeanInitializer:$s(this.movingMeanInitializer),movingVarianceInitializer:$s(this.movingVarianceInitializer),betaRegularizer:Yr(this.betaRegularizer),gammaRegularizer:Yr(this.gammaRegularizer),betaConstraint:oo(this.betaConstraint),gammaConstraint:oo(this.gammaConstraint)},n=super.getConfig();return Object.assign(t,n),t}}n2e.className="BatchNormalization";vt(n2e);class r2e extends Xn{constructor(t){if(t==null&&(t={}),super(t),this.axis=t.axis==null?-1:t.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=gs(t.betaInitializer||"zeros"),this.gammaInitializer=gs(t.gammaInitializer||"ones"),this.betaRegularizer=ms(t.betaRegularizer),this.gammaRegularizer=ms(t.gammaRegularizer),this.supportsMasking=!0}build(t){t=vr(t);const n=t.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=n);for(const o of this.axis)if(o<0||o>=n)throw new Error(`Invalid axis: ${o}`);if(this.axis.length!==Jg(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(o=>t[o]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(t,n){const r=kn(t),s=r.shape,o=s.length;return Be(()=>{let{mean:a,variance:l}=lP(r,this.axis,!0);const u=S1(1,o);for(const g of this.axis)u[g]=s[g];const c=g=>g!=null&&g.shape.length!==o?_e(g,u):g;let f=this.scale?c(this.gamma.read()):null,d=this.center?c(this.beta.read()):null;const h=[],p=[];for(let g=0;g<o;++g)this.axis.indexOf(g)!==-1?(h.push(s[g]),p.push(1)):(h.push(1),p.push(s[g]));return a=bu(a,h),l=bu(l,h),f!=null&&(f=bu(f,p)),d!=null&&(d=bu(d,p)),jk(r,a,l,d,f,this.epsilon)})}getConfig(){const t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$s(this.betaInitializer),gammaInitializer:$s(this.gammaInitializer),betaRegularizer:Yr(this.betaRegularizer),gammaRegularizer:Yr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(t,n),t}}r2e.className="LayerNormalization";vt(r2e);function tQe(e,t,n){return Be(()=>{if(e.rank!==4)throw new ke(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(t==null&&(t=[[1,1],[1,1]]),t.length!==2||t[0].length!==2||t[1].length!==2)throw new ke("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Bc()),n!=="channelsLast"&&n!=="channelsFirst")throw new ke(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],t[0],t[1]]:r=[[0,0],t[0],t[1],[0,0]],o0(e,r)})}class s2e extends Xn{constructor(t){if(t==null&&(t={}),super(t),this.dataFormat=t.dataFormat==null?Bc():t.dataFormat,t.padding==null)this.padding=[[1,1],[1,1]];else if(typeof t.padding=="number")this.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,t.padding.length!==2)throw new ke(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${t.padding.length} array.`);let n,r;if(typeof t.padding[0]=="number")n=[t.padding[0],t.padding[0]],r=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,t.padding[0].length!==2)throw new ke(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${t.padding[0].length} array.`);if(n=t.padding[0],t.padding[1].length!==2)throw new ke(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${t.padding[1].length} array.`);r=t.padding[1]}this.padding=[n,r]}this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){t=vr(t);let n,r;return this.dataFormat==="channelsFirst"?(t[2]!=null&&t[2]>=0?n=t[2]+this.padding[0][0]+this.padding[0][1]:n=null,t[3]!=null&&t[3]>=0?r=t[3]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],t[1],n,r]):(t[1]!=null&&t[1]>=0?n=t[1]+this.padding[0][0]+this.padding[0][1]:n=null,t[2]!=null&&t[2]>=0?r=t[2]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],n,r,t[3]])}call(t,n){return Be(()=>tQe(kn(t),this.padding,this.dataFormat))}getConfig(){const t={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}s2e.className="ZeroPadding2D";vt(s2e);function WP(e,t,n,r,s,o){return Be(()=>{qs(s),xwe(o),iu(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=Bc()),o==null&&(o="max"),e=vK(e,s);let i;const a=r==="same"?"same":"valid";return o==="max"?i=aP(e,t,n,a):i=J4(e,t,n,a),s==="channelsFirst"&&(i=rr(i,[0,3,1,2])),i})}function o2e(e,t,n,r,s,o){return Be(()=>{qs(s),xwe(o),iu(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=Bc()),o==null&&(o="max"),e=Sxe(e,s);let i;const a=r==="same"?"same":"valid";return o==="max"?i=tbe(e,t,n,a):i=_ye(e,t,n,a),s==="channelsFirst"&&(i=rr(i,[0,4,1,2,3])),i})}class i2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=2),super(t),typeof t.poolSize=="number")this.poolSize=[t.poolSize];else if(Array.isArray(t.poolSize)&&t.poolSize.length===1&&typeof t.poolSize[0]=="number")this.poolSize=t.poolSize;else throw new ke(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);if(yo(this.poolSize,"poolSize"),t.strides==null)this.strides=this.poolSize;else if(typeof t.strides=="number")this.strides=[t.strides];else if(Array.isArray(t.strides)&&t.strides.length===1&&typeof t.strides[0]=="number")this.strides=t.strides;else throw new ke(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,iu(this.padding),this.inputSpec=[new so({ndim:3})]}computeOutputShape(t){t=vr(t);const n=Ec(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],n,t[2]]}call(t,n){return Be(()=>{this.invokeCallHook(t,n),t=GT(kn(t),2);const r=this.poolingFunction(kn(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return fy(r,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(t,n),t}}class a2e extends i2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),WP(t,n,r,s,o,"max")}}a2e.className="MaxPooling1D";vt(a2e);class l2e extends i2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),WP(t,n,r,s,o,"avg")}}l2e.className="AveragePooling1D";vt(l2e);class u2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==2)throw new ke(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];yo(this.poolSize,"poolSize"),yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),iu(this.padding),this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){t=vr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2];return n=Ec(n,this.poolSize[0],this.padding,this.strides[0]),r=Ec(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r]:[t[0],n,r,t[3]]}call(t,n){return Be(()=>(this.invokeCallHook(t,n),this.poolingFunction(kn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class c2e extends u2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),WP(t,n,r,s,o,"max")}}c2e.className="MaxPooling2D";vt(c2e);class f2e extends u2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),WP(t,n,r,s,o,"avg")}}f2e.className="AveragePooling2D";vt(f2e);class d2e extends Xn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==3)throw new ke(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];yo(this.poolSize,"poolSize"),yo(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),iu(this.padding),this.inputSpec=[new so({ndim:5})]}computeOutputShape(t){t=vr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],s=this.dataFormat==="channelsFirst"?t[4]:t[3];return n=Ec(n,this.poolSize[0],this.padding,this.strides[0]),r=Ec(r,this.poolSize[1],this.padding,this.strides[1]),s=Ec(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r,s]:[t[0],n,r,s,t[4]]}call(t,n){return Be(()=>(this.invokeCallHook(t,n),this.poolingFunction(kn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class h2e extends d2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),o2e(t,n,r,s,o,"max")}}h2e.className="MaxPooling3D";vt(h2e);class p2e extends d2e{constructor(t){super(t)}poolingFunction(t,n,r,s,o){return qs(o),iu(s),o2e(t,n,r,s,o,"avg")}}p2e.className="AveragePooling3D";vt(p2e);class g2e extends Xn{constructor(t){super(t),this.inputSpec=[new so({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,n){throw new Vn}}class m2e extends g2e{constructor(t){super(t||{})}call(t,n){return Be(()=>{const r=kn(t);return Ns(r,1)})}}m2e.className="GlobalAveragePooling1D";vt(m2e);class v2e extends g2e{constructor(t){super(t||{})}call(t,n){return Be(()=>{const r=kn(t);return Nu(r,1)})}}v2e.className="GlobalMaxPooling1D";vt(v2e);class y2e extends Xn{constructor(t){super(t),this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,qs(this.dataFormat),this.inputSpec=[new so({ndim:4})]}computeOutputShape(t){return t=t,this.dataFormat==="channelsLast"?[t[0],t[3]]:[t[0],t[1]]}call(t,n){throw new Vn}getConfig(){const t={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class b2e extends y2e{call(t,n){return Be(()=>{const r=kn(t);return this.dataFormat==="channelsLast"?Ns(r,[1,2]):Ns(r,[2,3])})}}b2e.className="GlobalAveragePooling2D";vt(b2e);class w2e extends y2e{call(t,n){return Be(()=>{const r=kn(t);return this.dataFormat==="channelsLast"?Nu(r,[1,2]):Nu(r,[2,3])})}}w2e.className="GlobalMaxPooling2D";vt(w2e);class x2e extends Xn{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(t){this.layer!=null&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(t,n),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,n,r={}){const s=n.layer,o=jh(s,r);delete n.layer;const i={layer:o};return Object.assign(i,n),new t(i)}}class C2e extends x2e{constructor(t){super(t),this.supportsMasking=!0}build(t){if(t=vr(t),t.length<3)throw new ke(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(t)}`);this.inputSpec=[{shape:t}];const n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(t)}computeOutputShape(t){t=vr(t);const n=[t[0]].concat(t.slice(2)),r=this.layer.computeOutputShape(n),s=t[1];return[r[0],s].concat(r.slice(1))}call(t,n){return Be(()=>(t=kn(t),Dxe((i,a)=>[kn(this.layer.call(i,n)),[]],t,[],!1,null,null,!1,!0)[1]))}}C2e.className="TimeDistributed";vt(C2e);function nQe(e){hy(xZe,"BidirectionalMergeMode",e)}const rQe="concat";class S2e extends x2e{constructor(t){super(t);const n=t.layer.getConfig(),r={};r.className=t.layer.getClassName(),r.config=n,this.forwardLayer=jh(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=t.layer.getClassName(),s.config=n,this.backwardLayer=jh(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=t.mergeMode===void 0?rQe:t.mergeMode,nQe(this.mergeMode),t.weights)throw new Vn("weights support is not implemented for Bidirectional layer yet.");this._stateful=t.layer.stateful,this.returnSequences=t.layer.returnSequences,this.returnState=t.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=t.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(t){this._trainable=t,this.forwardLayer!=null&&(this.forwardLayer.trainable=t),this.backwardLayer!=null&&(this.backwardLayer.trainable=t)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(t){const n=t.length,r=Math.floor(n/2);this.forwardLayer.setWeights(t.slice(0,r)),this.backwardLayer.setWeights(t.slice(r))}computeOutputShape(t){let n=this.forwardLayer.computeOutputShape(t);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,o;return this.returnState&&(o=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(o).concat(o.slice()):[r].concat(o).concat(o.slice()):xa(s)}apply(t,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const o=Nxe(t,r,s,this.numConstants);if(t=o.inputs,r=o.initialState,s=o.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(r==null||r.length===0)&&s==null)return super.apply(t,n);const i=[],a=[];if(r!=null){const u=r.length;if(u%2>0)throw new ke("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,i.push(...r);const c=r.map(f=>new so({shape:f.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),a.push(...c)}if(s!=null)throw new Vn("Support for constants in Bidirectional layers is not implemented yet.");const l=i[0]instanceof fd;for(const u of i)if(u instanceof fd!==l)throw new ke("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[t].concat(i),c=this.inputSpec.concat(a),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Be(()=>{const r=n.initialState;let s,o;if(r==null)s=this.forwardLayer.call(t,n),o=this.backwardLayer.call(t,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);s=this.forwardLayer.call(t,Object.assign(n,{initialState:l})),o=this.backwardLayer.call(t,Object.assign(n,{initialState:u}))}let i;this.returnState&&(Array.isArray(s)&&(i=s.slice(1).concat(o.slice(1))),s=s[0],o=o[0]),this.returnSequences&&(o=Fu(o,1));let a;return this.mergeMode==="concat"?a=rK([s,o]):this.mergeMode==="sum"?a=mt(s,o):this.mergeMode==="ave"?a=we(.5,mt(s,o)):this.mergeMode==="mul"?a=we(s,o):this.mergeMode==null&&(a=[s,o]),this.returnState?this.mergeMode==null?a.concat(i):[a].concat(i):a})}resetStates(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(t){Gv(this.forwardLayer.name,()=>{this.forwardLayer.build(t)}),Gv(this.backwardLayer.name,()=>{this.backwardLayer.build(t)}),this.built=!0}computeMask(t,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const o=this.forwardLayer.states.map(i=>null);return Array.isArray(r)?r.concat(o).concat(o):[r].concat(o).concat(o)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(t),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(t)}getConfig(){const t={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(t,n),t}static fromConfig(t,n){const r=jh(n.layer);if(delete n.layer,n.numConstants!=null)throw new Vn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new t(s)}}S2e.className="Bidirectional";vt(S2e);class $2e extends Xn{constructor(t){super(t),this.scale=t.scale,t.offset?this.offset=t.offset:this.offset=0}getConfig(){const t={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Be(()=>(t=kn(t),t.dtype!=="float32"&&(t=qf(t,"float32")),mt(we(t,this.scale),this.offset)))}}$2e.className="Rescaling";vt($2e);const{resizeBilinear:sQe,cropAndResize:oQe}=Bf;class k2e extends Xn{constructor(t){super(t),this.height=t.height,this.width=t.width}centerCrop(t,n,r,s,o,i,a,l){return Be(()=>{let u,c=!1;const f=n/i,d=r/a,h=(s+n)/i,p=(o+r)/a,g=[f,d,h,p],m=[];t.rank===3?(c=!0,u=cd([t])):u=t;for(let C=0;C<u.shape[0];C++)m.push(g);const v=qv(m,[m.length,4]),y=Fw(0,m.length,1,"int32"),b=oQe(u,v,y,[s,o],"nearest");return qf(c?kn(pm(b)):b,l)})}upsize(t,n,r,s){return Be(()=>{const o=sQe(t,[n,r]);return qf(o,s)})}call(t,n){return Be(()=>{const r=kn(t),s=r.dtype,o=r.shape,i=o[o.length-3],a=o[o.length-2];let l=0;i!==this.height&&(l=Math.floor((i-this.height)/2));let u=0;return a!==this.width&&(u=Math.floor((a-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,i,a,s):this.upsize(t,this.height,this.width,s)})}getConfig(){const t={height:this.height,width:this.width},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=vr(t);const n=t.length-3,r=t.length-2;return t[n]=this.height,t[r]=this.width,t}}k2e.className="CenterCrop";vt(k2e);function iQe(e,t,n,r){let s=kn(e);if(s.dtype!=="int32"&&(s=qf(s,"int32")),t==="int")return s;const o=s.shape;if(s.rank===0&&(s=zi(s,-1)),t==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=zi(s,-1)),s.rank>2)throw new ke(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${o} which would result in output rank ${s.rank}.`);const i=["multiHot","oneHot"].includes(t),a=s;let l;if(typeof r<"u"&&t==="count"?l=_V(a,r,n,i):l=_V(a,[],n,i),t!=="tfIdf")return l;if(r)return we(l,r);throw new ke("When outputMode is 'tfIdf', weights must be provided.")}class E2e extends Xn{constructor(t){super(t),this.numTokens=t.numTokens,t.outputMode?this.outputMode=t.outputMode:this.outputMode="multiHot"}getConfig(){const t={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){return t=vr(t),t==null?[this.numTokens]:this.outputMode==="oneHot"&&t[t.length-1]!==1?(t.push(this.numTokens),t):(t[t.length-1]=this.numTokens,t)}call(t,n){return Be(()=>{t=kn(t),t.dtype!=="int32"&&(t=qf(t,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new ke(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=kn(n.countWeights)}const s=Nu(t),o=Mk(t),i=Nl(this.numTokens,s).bufferSync().get(0),a=s0(o,0).bufferSync().get(0);if(!(i&&a))throw new ke(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return iQe(t,this.outputMode,this.numTokens,r)})}}E2e.className="CategoryEncoding";vt(E2e);const aQe=["bilinear","nearest"],yoe=new Set(aQe);class _2e extends Xn{constructor(t){if(super(t),this.height=t.height,this.width=t.width,t.interpolation)if(yoe.has(t.interpolation))this.interpolation=t.interpolation;else throw new ke(`Invalid interpolation parameter: ${t.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!t.cropToAspectRatio}computeOutputShape(t){t=vr(t);const n=t[2];return[this.height,this.width,n]}getConfig(){const t={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Be(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return Bf.resizeBilinear(t,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Bf.resizeNearestNeighbor(t,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...yoe]} are supported`)})}}_2e.className="Resizing";vt(_2e);class T2e{constructor(t){this.seed=t}next(){if(this.seed!==void 0)return this.seed++}}T2e.className="RandomSeed";class A2e extends Xn{constructor(t){super(t),this.randomGenerator=new T2e(t.seed)}getConfig(){const t={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(t,n),t}}A2e.className="BaseRandomLayer";const lQe=["bilinear","nearest"],boe=new Set(lQe);class I2e extends A2e{constructor(t){super(t);const{factor:n,interpolation:r="bilinear"}=t;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new ke(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new ke(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new ke(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(boe.has(r))this.interpolation=r;else throw new ke(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const t={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=vr(t);const n=t[2];return[this.imgHeight,-1,n]}call(t,n){return Be(()=>{const r=kn(t);this.imgHeight=r.shape[r.shape.length-3];const s=r.shape[r.shape.length-2];this.widthFactor=cy([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let o=this.widthFactor.dataSync()[0]*s;o=Math.round(o);const i=[this.imgHeight,o];switch(this.interpolation){case"bilinear":return Bf.resizeBilinear(t,i);case"nearest":return Bf.resizeNearestNeighbor(t,i);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...boe]} are supported`)}})}}I2e.className="RandomWidth";vt(I2e);function u8(e){return new CK(e)}function uQe(e){return new VP(e)}const cQe=Pe();cQe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var woe;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(woe||(woe={}));var xoe;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(xoe||(xoe={}));var Coe;(function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"})(Coe||(Coe={}));function Jt(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&te(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}const fQe=yP;class UP extends VM{nextDataId(){return UP.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Eq(this,lc())}write(t,n,r){this.firstUse&&(this.firstUse=!1,Pe().get("IS_NODE")&&zl(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:t,dtype:r,refCount:1}),s}makeTensorInfo(t,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Lf(r[0])){const o=r.map(i=>Uf(i));s=this.write(o,t,n)}else s=this.write(r,t,n);return{dataId:s,shape:t,dtype:n}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){const n=this.data.get(t);n.refCount++}decRef(t){if(this.data.has(t)){const n=this.data.get(t);n.refCount--}}move(t,n,r,s,o){this.data.set(t,{values:n,dtype:s,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(t){return this.readSync(t)}readSync(t){const{dtype:n,complexTensorInfos:r}=this.data.get(t);if(n==="complex64"){const s=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return op(s,o)}return L1e(this.data.get(t).values,n)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(s=>rp(s));return Wn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Wn(t.shape,t.dtype,n)}makeOutput(t,n,r){return lc().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,t),this)}disposeData(t,n=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!n&&this.data.get(t).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(t);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}async time(t){const n=Fi();return t(),{kernelMs:Fi()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){Jt([t],"where");const n=this.readSync(t.dataId);return fQe(t.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}UP.nextDataId=0;function N2e(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const dQe=e=>{const{x:t}=e.inputs,n=e.backend;Jt(t,"abs");let r=new Float32Array(je(t.shape));const s=n.data.get(t.dataId).values;return r=N2e(s),n.makeOutput(r,t.shape,t.dtype)},hQe={kernelName:N_,backendName:"cpu",kernelFunc:dQe};function Gs(e){return(t,n,r,s,o)=>{const i=Nn(t,n),a=i.length,l=fn(i),u=je(i),c=Eo(o,u),f=t.length,d=n.length,h=fn(t),p=fn(n),g=w1(t,i),m=w1(n,i);if(g.length+m.length===0)for(let v=0;v<c.length;++v)c[v]=e(r[v%r.length],s[v%s.length]);else for(let v=0;v<c.length;++v){const y=iy(v,a,l),w=y.slice(-f);g.forEach($=>w[$]=0);const b=$c(w,f,h),C=y.slice(-d);m.forEach($=>C[$]=0);const S=$c(C,d,p);c[v]=e(r[b],s[S])}return[c,i]}}function el(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(a.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(s.shape,"float32",i)},a}const pQe={kernelName:ZM,backendName:"cpu",kernelFunc:el};function LO(e,t,n="float32"){if(n==="complex64"){const s=LO(e,t,"float32"),o=LO(e,t,"float32");return el({inputs:{real:s,imag:o},backend:e})}const r=qo(je(t),n);return e.makeTensorInfo(t,n,r)}function dd(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const gQe={kernelName:v2,backendName:"cpu",kernelFunc:dd};function $1(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const mQe={kernelName:I4,backendName:"cpu",kernelFunc:$1};function D2e(e,t,n,r){if(r==="int32"){const s=Int32Array.from(e);return[t,"int32",s]}if(r==="bool"){const s=e0([0],n),[o,i]=Gs((a,l)=>a!==l?1:0)(t,[],e,s,"bool");return[i,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function bm(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dtype:o}=r;if(o==="complex64"){if(s.dtype==="complex64")return dd({inputs:{x:s},backend:n});const c=LO(n,s.shape,s.dtype),f=bm({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),d=el({inputs:{real:f,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),d}if(s.dtype==="complex64"){const c=$1({inputs:{input:s},backend:n}),f=bm({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),f}if(!Aq(s.dtype,o)){const c=dd({inputs:{x:s},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:o}}const i=n.data.get(s.dataId).values,[a,l,u]=D2e(i,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,u)}const vQe={kernelName:s2,backendName:"cpu",kernelFunc:bm};function co(e,t,n,r){return n==null?({inputs:s,backend:o})=>{const{a:i,b:a}=s,l=o;Jt([i,a],e);const u=l.data.get(i.dataId).values,c=l.data.get(a.dataId).values,f=i.dtype==="string"?ip(u):u,d=i.dtype==="string"?ip(c):c,h=r||i.dtype,[p,g]=t(i.shape,a.shape,f,d,h);return l.makeTensorInfo(g,h,p)}:({inputs:s,backend:o})=>{const{a:i,b:a}=s,l=o;if(i.dtype==="complex64"||a.dtype==="complex64"){const u=bm({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),f=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,h=l.data.get(f.dataId).values,p=l.data.get(d.dataId).values,g=bm({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),m=l.data.get(g.dataId),v=m.complexTensorInfos.real,y=m.complexTensorInfos.imag,w=l.data.get(v.dataId).values,b=l.data.get(y.dataId).values,[C,S,$]=n(i.shape,a.shape,h,p,w,b),k=l.makeTensorInfo($,"float32",C),T=l.makeTensorInfo($,"float32",S),_=el({inputs:{real:k,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(g),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(T),_}else{const u=l.data.get(i.dataId).values,c=l.data.get(a.dataId).values,f=r||i.dtype,[d,h]=t(i.shape,a.shape,u,c,f);return l.makeTensorInfo(h,f,d)}}}function SK(e){return(t,n,r,s,o,i)=>{const a=Nn(t,n),l=je(a),u=a.length,c=fn(a),f=Eo("float32",l),d=Eo("float32",l),h=w1(t,a),p=w1(n,a),g=op(r,s),m=op(o,i),v=t.length,y=fn(t),w=n.length,b=fn(n);if(h.length+p.length===0)for(let C=0;C<f.length;C++){const S=C%g.length,$=C%m.length,k=e(g[S*2],g[S*2+1],m[$*2],m[$*2+1]);f[C]=k.real,d[C]=k.imag}else for(let C=0;C<f.length;C++){const S=iy(C,u,c),$=S.slice(-v);h.forEach(A=>$[A]=0);const k=$c($,v,y),T=S.slice(-w);p.forEach(A=>T[A]=0);const _=$c(T,w,b),E=e(g[k*2],g[k*2+1],m[_*2],m[_*2+1]);f[C]=E.real,d[C]=E.imag}return[f,d,a]}}const O2e=Gs(((e,t)=>e+t)),yQe=SK(((e,t,n,r)=>({real:e+n,imag:t+r}))),Pw=co(ay,O2e,yQe),bQe={kernelName:ay,backendName:"cpu",kernelFunc:Pw};function $K(e,t,n,r,s){const o=je(r),i=qo(s,n);for(let a=0;a<e.length;a++){const l=e[a];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(o>0?i[l]+=t[a]:i[l]+=1)}return i}function R2e(e,t,n,r=!1){const s=e.shape[0],o=e.shape[1],i=Wn([s,n],t.dtype);for(let a=0;a<s;a++)for(let l=0;l<o;l++){const u=e.get(a,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?i.set(1,a,u):t.size>0?i.set(i.get(a,u)+t.get(a,l),a,u):i.set(i.get(a,u)+1,a,u))}return i}const F2e=Gs(((e,t)=>e&t)),wQe=co(B_,F2e),xQe={kernelName:B_,backendName:"cpu",kernelFunc:wQe};function Od(e){return(t,n,r)=>{const s=Ds(n,t.length);for(let o=0;o<t.length;++o)s[o]=e(t[o],r);return s}}function Rr(e,t,n){const r=Od(t);return l0(e,r,n)}function l0(e,t,n){return({inputs:r,attrs:s,backend:o})=>{const{x:i}=r;Jt(i,e);const a=o,l=a.data.get(i.dataId).values;let u;if(i.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=ip(l)}else u=l;const c=n||i.dtype,f=t(u,c,s);return a.makeTensorInfo(i.shape,c,f)}}const M2e=Od(e=>Math.ceil(e)),CQe=l0(o2,M2e),SQe={kernelName:o2,backendName:"cpu",kernelFunc:CQe};function P2e(e,t,n,r){const s=Ds(n,je(t));if(r&&n!=="string"){let o=0;e.forEach(i=>{const a=je(i.shape);s.set(i.vals,o),o+=a})}else{let o=0;e.forEach(i=>{const a=n==="string"?ip(i.vals):i.vals;let l=0;for(let u=0;u<i.shape[0];++u){const c=u*t[1]+o;for(let f=0;f<i.shape[1];++f)s[c+f]=a[l++]}o+=i.shape[1]})}return s}const L2e=Gs((e,t)=>e===t?1:0),B2e=co(K_,L2e,null,"bool"),$Qe={kernelName:K_,backendName:"cpu",kernelFunc:B2e};const z2e=Od(e=>Math.exp(e)),V2e=l0(d2,z2e,"float32"),kQe={kernelName:d2,backendName:"cpu",kernelFunc:V2e};const W2e=Od(e=>Math.expm1(e)),EQe=l0(h2,W2e),_Qe={kernelName:h2,backendName:"cpu",kernelFunc:EQe};const U2e=Od(e=>Math.floor(e)),TQe=l0(p2,U2e),AQe={kernelName:p2,backendName:"cpu",kernelFunc:TQe};const j2e=Gs((e,t)=>Math.floor(e/t)),IQe=co(g2,j2e,null,"int32"),NQe={kernelName:g2,backendName:"cpu",kernelFunc:IQe};function H2e(e,t,n,r,s,o,i,a,l){const u=Wn([r,o],n);for(let c=0;c<r;c++){const f=[];let d=0;for(let h=0;h<s;h++){const p=e[c*s+h];d+=p*i[h],f.push(p)}if(d<0||d>=l/o)throw new Error(`Invalid indices: ${f} does not index into ${a}`);for(let h=0;h<o;h++)u.values[c*o+h]=t.get(...t.indexToLoc(d*o+h))}return u}function q2e(e,t,n){const r=Wn(n,e.dtype);for(let s=0;s<r.size;++s){const i=r.indexToLoc(s).slice(),a=i[0],l=i[2],u=t.locToIndex([a,l]);i[2]=t.values[u];const c=e.locToIndex(i);0<=c&&c<e.values.length&&(r.values[s]=e.values[c])}return r}const G2e=Gs((e,t)=>e>t?1:0),DQe=co(J_,G2e,null,"bool"),OQe={kernelName:J_,backendName:"cpu",kernelFunc:DQe};const K2e=Gs((e,t)=>e>=t?1:0),RQe=co(m2,K2e,null,"bool"),FQe={kernelName:m2,backendName:"cpu",kernelFunc:RQe};const Y2e=Gs((e,t)=>e<t?1:0),MQe=co(eT,Y2e,null,"bool"),PQe={kernelName:eT,backendName:"cpu",kernelFunc:MQe};const X2e=Gs((e,t)=>e<=t?1:0),LQe=co(tT,X2e,null,"bool"),BQe={kernelName:tT,backendName:"cpu",kernelFunc:LQe};function Z2e(e,t,n){const r=(t-e)/(n-1),s=qo(n,"float32");s[0]=e;for(let o=1;o<s.length;o++)s[o]=s[o-1]+r;return s}const J2e=Od(e=>Math.log(e)),zQe=l0(x2,J2e),VQe={kernelName:x2,backendName:"cpu",kernelFunc:zQe};function Q2e(e,t,n,r){const s=Eo(r,je(n));for(let o=0;o<s.length;++o){const i=o*t;let a=e[i];for(let l=0;l<t;++l){const u=e[i+l];(Number.isNaN(u)||u>a)&&(a=u)}s[o]=a}return s}const eCe=Gs(((e,t)=>Math.max(e,t))),WQe=co(S2,eCe),UQe={kernelName:S2,backendName:"cpu",kernelFunc:WQe};const tCe=Gs(((e,t)=>Math.min(e,t))),jQe=co($2,tCe),HQe={kernelName:$2,backendName:"cpu",kernelFunc:jQe};const kK=Gs(((e,t)=>e*t)),qQe=SK(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),jP=co(E2,kK,qQe),GQe={kernelName:E2,backendName:"cpu",kernelFunc:jP};function nCe(e,t,n){const r=Ep(-1,n);return kK([],t,r,e,n)}function KQe(e){const{inputs:t,backend:n}=e,{x:r}=t;Jt(r,"neg");const s=n.data.get(r.dataId).values,[o,i]=nCe(s,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,o)}const YQe={kernelName:dT,backendName:"cpu",kernelFunc:KQe};const rCe=Gs(((e,t)=>e!==t?1:0)),XQe=co(hT,rCe,null,"bool"),ZQe={kernelName:hT,backendName:"cpu",kernelFunc:XQe};function EK(e,t,n,r,s){const o=t.length,i=je(t),a=fn(t),l=fn(s),u=Eo(n,je(s));for(let c=0;c<i;++c){const f=iy(c,o,a),d=new Array(f.length);for(let p=0;p<d.length;p++)d[p]=f[r[p]];const h=$c(d,o,l);u[h]=e[c]}return u}function Ra(e){const{inputs:t,attrs:n,backend:r}=e,{x:s}=t,{perm:o}=n;Jt(s,"transpose");const i=s.shape.length,a=new Array(i);for(let f=0;f<a.length;f++)a[f]=s.shape[o[f]];const l=r.data.get(s.dataId).values,u=EK(l,s.shape,s.dtype,o,a);return{dataId:r.write(u,a,s.dtype),shape:a,dtype:s.dtype}}const JQe={kernelName:Hv,backendName:"cpu",kernelFunc:Ra};function sCe(e,t,n,r){const[s,o]=Ao(e,r),i=Da(t,"int32"),a=qo(je(s),i),l=je(o);for(let u=0;u<a.length;++u){const c=u*l;let f=1;for(let d=0;d<l;++d)f*=n[c+d];a[u]=f}return{outVals:a,outShape:s,outDtype:i}}function QQe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;Jt(s,"prod");const a=s.shape.length,l=qn(o,s.shape),u=As(l,a);let c=l,f=s;const d=[];u!=null&&(f=Ra({inputs:{x:s},backend:n,attrs:{perm:u}}),d.push(f),c=Hs(c.length,a));const h=n.data.get(f.dataId).values,{outVals:p,outShape:g,outDtype:m}=sCe(f.shape,f.dtype,h,c);let v=g;return i&&(v=Us(g,l)),d.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(v,m,p)}const eet={kernelName:bT,backendName:"cpu",kernelFunc:QQe};function tet(e,t,n){e.forEach((r,s)=>{if(r<0||r>=n){const o=iy(s,t.length,fn(t)).join(",");throw new Error(`indices[${o}] = ${r} is not in [0, ${n})`)}})}function net(e,t){for(let n=0;n<e.length;++n){const r=e[n],s=n===e.length-1?t:e[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let o=1;o<r.length;++o)if(r[o-1]>r[o])throw new Error("Ragged splits must be sorted in ascending order")}}function ret(e,t,n,r){const s=[];let o=0;const i=t.length-1+n.length,a=new Array(i).fill(null).map(()=>[0]);net(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const c=t[u+1];for(let f=1;f<l+1;++f)a[u].push(f*c)}for(let u=0;u<e.length;++u){let c=e[u],f=e[u]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+t.length-1;if(p>=0){const g=a[p],m=g[g.length-1]-h[c];for(let v=c;v<f;++v)a[p].push(h[v+1]+m)}c=h[c],f=h[f]}f!==c&&(s.push([c,f]),o+=f-c)}return{outSplits:a,valueSlices:s,numValues:o}}function set(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n].length,s=Ds("int32",r);t.push(s),e[n].forEach((o,i)=>s[i]=o)}return t}function Soe(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function oet(e,t,n,r,s,o){const i=Soe(t,2)[1],a=Soe(o,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let f=0;f<r;++f)s[l*a+f]=e[c*i+f];++l}}function iet(e,t,n,r,s){const o=t.slice();o[0]=s;const i=Ds(n,je(o)),a=e.length,l=a===0?0:a/t[0];return oet(e,t,r,l,i,o),[i,o]}function oCe(e,t,n,r,s,o,i,a){if(e.length===0)throw new Error("paramsNestedSplits must be non empty");if(t[0].length===0)throw new Error("Split tensors must not be scalars");const l=t[0][0]-1;if(tet(o,i,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:f,numValues:d}=ret(o,i,e,u),h=set(c),p=iet(n,r,s,f,d);return[h,p[0],p[1]]}const $oe=2147483647;function iCe(e,t,n,r,s,o,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const a=t.length===0,l=s.length===0,u=i.length===0,c=[];a||c.push(t[0]),l||c.push(s[0]),u||c.push(i[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const f=c.length===0?1:c[0],d=Ds("int32",f+1);d[0]=0;for(let m=0;m<f;++m){const v=a?e[0]:e[m],y=l?r[0]:r[m],w=u?o[0]:o[m];if(w===0)throw new Error("Requires delta != 0");let b;if(w>0&&y<v||w<0&&y>v)b=0;else if(b=Math.ceil(Math.abs((y-v)/w)),b>$oe)throw new Error(`Requires ((limit - start) / delta) <= ${$oe}`);d[m+1]=d[m]+b}const h=d[f],p=Ds(n,h);let g=0;for(let m=0;m<f;++m){const v=d[m+1]-d[m];let y=a?e[0]:e[m];const w=u?o[0]:o[m];for(let b=0;b<v;++b)p[g++]=y,y+=w}return[d,p]}var du=fc;class BO{constructor(t,n,r,s,o,i,a,l,u,c){this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=Hbe(c),this.raggedRank=qbe(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===du.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===du.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case du.VALUE_ROWIDS:return BO.getMaxWidthValueRowID(n);case du.ROW_SPLITS:return BO.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${du[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const n=t.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const o=t[s+1]-t[s];o>r&&(r=o)}return r}static getMaxWidthValueRowID(t){const n=t.length;if(n===0)return 0;let r=0,s=t[0],o=0;for(let i=1;i<n;++i){const a=t[i];a!==s&&(s=a,o=Math.max(i-r,o),r=i)}return Math.max(n-r,o)}tensorShapeFromTensor(t,n,r=!0){if(n.length===0){if(t[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Eoe(t,r)}calculateOutputSize(t){const n=this.valuesShape,r=this.defaultValueShape;Gbe(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=jbe(this.raggedRank,s,n);i[0]<0&&(i[0]=t);for(let a=1;a<=this.raggedRank;++a)i[a]<0&&(i[a]=this.getMaxWidth(a));return i}calculateFirstParentOutputIndex(t,n,r){const s=Math.min(t,r),o=[];let i=0;for(let a=0;a<s;++a,i+=n)o.push(i);for(let a=s;a<t;++a)o.push(-1);return te(o.length===t,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(t,n,r,s){const o=t.length,i=[];for(let a=0;a<o-1;++a){const l=t[a+1]-t[a];let u=Math.min(s,l),c=n[a];c===-1&&(u=0);for(let f=0;f<u;++f)i.push(c),c+=r;for(let f=0;f<l-u;++f)i.push(-1)}if(o>0&&i.length!==t[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(t,n,r,s){const o=t.length,i=[];if(o===0)return[];let a=0,l=t[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];i.push(u);for(let c=1;c<o;++c){const f=t[c];if(f===l)u>=0&&(++a,a<s?u+=r:u=-1);else{if(a=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}i.push(u)}if(i.length!==t.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(t,n,r,s){const o=this.getRowPartitionTensor(t),i=this.getRowPartitionTypeByDimension(t);switch(i){case du.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,r,s);case du.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,r,s);default:throw new Error(`Unsupported partition type: ${du[i]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case du.FIRST_DIM_SIZE:return t[0];case du.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case du.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${du[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*r[l+1];const o=Eoe(r,!1),i=Ds(this.valuesDType,je(o));if(s[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,s[u],r[u]);this.setOutput(this.raggedRank,l,i,o)}return[o,i]}setOutput(t,n,r,s){if(r.length===0)return;const o=this.values,i=r;let a=s.slice();a=a.slice(t+1);const l=je(a),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Be(()=>{const g=_e(c,p);c=aw(g,a).dataSync()})}let f=0,d=0,h=0;for(let p=0;p<=u;++p){let g=p<u?n[p]:-1;if(g===h){++h;continue}if(d<h){const m=o.subarray(f*l),v=i.subarray(d*l),y=(h-d)*l;koe(v,m,y)}if(p>=u){const m=r.length;g=Math.floor(m/l)}if(g>h)if(this.defaultValue.length===1)i.subarray(h*l,g*l).fill(this.defaultValue[0]),h=g;else for(;g>h;){const m=i.slice(h*l);koe(m,c,l),++h}g<0?(f=p+1,d=h):(f=p,d=h,h=d+1)}}}function koe(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Eoe(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function aCe(e,t,n,r,s,o,i,a,l,u){return new BO(e,t,n,r,s,o,i,a,l,u).compute()}function lCe(e,t,n,r){const s=e===t,o=e<t&&n<0,i=t<e&&n>1;if(s||o||i)return qo(0,r);const a=Math.abs(Math.ceil((t-e)/n)),l=qo(a,r);t<e&&n===1&&(n=-1),l[0]=e;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}const uCe=Od(e=>1/Math.sqrt(e)),aet=l0(D2,uCe),uet={kernelName:D2,backendName:"cpu",kernelFunc:aet};function Ev(e,t,n,r,s,o,i,a,l,u){const c=[r/s,s],f=e.values,d=t.values;if(r===0)return Wn(n,t.dtype);const h=l instanceof Xs?l:Wn(c,t.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<o;p++){const g=[];let m=0;for(let v=0;v<i;v++){const y=f[p*i+v];g.push(y),m+=y*a[v]}if(m<0||m>=r/s)throw new Error(`Invalid indices: ${g} does not index into ${n}`);for(let v=0;v<s;v++)u?h.values[m*s+v]+=d[p*s+v]:h.values[m*s+v]=t.rank===0?d[0]:d[p*s+v]}return h}const cet=Od(e=>1/(1+Math.exp(-e))),cCe=Rr(P2,e=>1/(1+Math.exp(-e))),fet={kernelName:P2,backendName:"cpu",kernelFunc:cCe};function fCe(e,t,n,r,s){const o=NG(r,t,n),i=je(n),a=fn(r);if(o){const f=DG(t,a);return s==="string"?e.slice(f,f+i):e.subarray(f,f+i)}const l=s==="string"?ip(e):e,u=Wn(r,s,l),c=Wn(n,s);for(let f=0;f<c.size;++f){const d=c.indexToLoc(f),h=d.map((p,g)=>p+t[g]);c.set(u.get(...h),...d)}return s==="string"?hwe(c.values):c.values}function k1(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,size:i}=r;Jt(s,"slice");const[a,l]=TP(s,o,i);AG(s,a,l);const u=n.data.get(s.dataId).values,c=fCe(u,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,c)}const det={kernelName:kT,backendName:"cpu",kernelFunc:k1};function dCe(e,t,n,r,s,o,i){const a=t[0],l=o[0],u=new Array(l),c=new Array(a),f=t[1];if(l===0){if(a!==0)throw new Error(ewe(a));const m=Ds(n,0),v=Ds(s,0);return[m,[0,f],v,u,c]}let d=!0,h=0;const p=new Array(l).fill(0);for(let m=0;m<a;++m){const v=e[m*f];if(v<0)throw new Error(twe(m,v));if(v>=l)throw new Error(nwe(m,v,l));++p[v],d=d&&v>=h,h=v}let g=!0;for(let m=0;m<l;++m){const v=p[m]===0;u[m]=v,g=g&&!v,p[m]=Math.max(p[m],1),m>0&&(p[m]+=p[m-1])}if(g&&d){const m=e,v=r;for(let y=0;y<a;++y)c[y]=y;return[m,[a,f],v,u,c]}else{const m=p[l-1],v=Ds(n,m*f),y=Ds(s,m),w=new Array(l).fill(0);for(let b=0;b<a;++b){const C=e[b*f],S=w[C],$=(C===0?0:p[C-1])+S;w[C]++;for(let k=0;k<f;++k)v[$*f+k]=e[b*f+k];y[$]=r[b],c[b]=$}for(let b=0;b<l;++b)if(w[b]===0){const S=b===0?0:p[b-1];v[S*f+0]=b;for(let $=1;$<f;++$)v[S*f+$]=0;y[S]=i}return[v,[m,f],y,u,c]}}function hCe(e,t,n,r,s){const o=je(r),i=t[0],a=s.length,l=[];let u=1,c=-1;for(let m=0;m<a;++m){const v=s[m];if(v===-1){if(c!==-1)throw new Error(rwe(c,m));c=m,l.push(1)}else{if(v<0)throw new Error(swe(m,v));u*=v,l.push(v)}}if(c!==-1){if(u<=0)throw new Error(owe());const m=Math.trunc(o/u);if(u*m!==o)throw new Error(iwe(r,l));l[c]=m}if(je(l)!==o)throw new Error(awe(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let m=d-2;m>=0;--m)h[m]=h[m+1]*r[m+1]}const p=[];if(a>0){p[a-1]=1;for(let m=a-2;m>=0;--m)p[m]=p[m+1]*l[m+1]}const g=Ds(n,i*a);for(let m=0;m<i;++m){let v=0;for(let y=0;y<d;++y)v+=e[m*d+y]*h[y];for(let y=0;y<a;++y)g[m*a+y]=Math.trunc(v/p[y]),v%=p[y]}return[g,[i,a],l]}function _K(e,t,n,r,s,o=!1,i=0){const a=r.length,l=[t[0],e.length/t[0]],u=l[1],f=a>0?s[a-1]+1:0;if(f<0)throw new Error(OV());const d=t.slice();d[0]=f;const h=d.reduce((w,b)=>w*b,1),p=Ds(n,h);if(a===0)return f>0&&p.fill(i),[p,d];if(f<=0)throw new Error(OV());let g=0,m=1,v=0,y=s[g];for(;;){let w=0;if(m<a){if(w=s[m],y===w){++m;continue}if(y>=w)throw new Error(lwe())}if(y<0||y>=f)throw new Error(uwe(y,f));y>v&&p.fill(i,v*u,y*u);for(let b=g;b<m;++b){const C=r[b];if(C<0||C>=l[0])throw new Error(cwe(b,r[b],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=e[C*u+S]}if(o)for(let b=0;b<u;b++)p[y*u+b]/=m-g;if(g=m,++m,v=y+1,y=w,m>a)break}return v<f&&p.fill(i,v*u,f*u),[p,d]}const het=Od(e=>Math.sqrt(e)),pet=Rr(B2,e=>Math.sqrt(e)),get={kernelName:B2,backendName:"cpu",kernelFunc:pet};const pCe=Gs(((e,t)=>{const n=e-t;return n*n})),met=co(z2,pCe),vet={kernelName:z2,backendName:"cpu",kernelFunc:met};const gCe=Od((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:s}=t;return e.replace(new RegExp(n,r?"g":""),s)}),yet=l0(IT,gCe),bet={kernelName:IT,backendName:"cpu",kernelFunc:yet};function mCe(e,t,n,r){const s=Wn(e,t.dtype);for(let o=0;o<s.size;o++){const i=s.indexToLoc(o),a=new Array(i.length);for(let l=0;l<a.length;l++)a[l]=i[l]*n[l]+r[l];s.set(t.get(...a),...i)}return s}class wet{constructor(t,n,r,s,o,i){this.separator=Uf(t),this.nGramWidths=n,this.leftPad=Uf(r),this.rightPad=Uf(s),this.padWidth=o,this.preserveShort=i}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,n){const r=this.getPadWidth(n);return Math.max(0,t+2*r-n+1)}createNGrams(t,n,r,s,o,i){for(let a=0;a<o;++a){const l=this.getPadWidth(i),u=Math.max(0,l-a),c=Math.max(0,l-(o-(a+1))),f=i-(u+c),d=n+(u>0?0:a-l);let h=0;h+=u*this.leftPad.length;for(let y=0;y<f;++y)h+=t[d+y].length;h+=c*this.rightPad.length;const p=u+c+f-1;h+=p*this.separator.length,r[s+a]=new Uint8Array(h);const g=r[s+a];let m=0;const v=y=>y.forEach(w=>g[m++]=w);for(let y=0;y<u;++y)v(this.leftPad),v(this.separator);for(let y=0;y<f-1;++y)v(t[d+y]),v(this.separator);if(f>0){v(t[d+f-1]);for(let y=0;y<c;++y)v(this.separator),v(this.rightPad)}else{for(let y=0;y<c-1;++y)v(this.rightPad),v(this.separator);v(this.rightPad)}}}compute(t,n){const r=t.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<s;++u){let c=n[u]>=l;if(c=c&&n[u]<=r,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const o=s-1,i=Ds("int32",s);if(r===0||s===0){const l=new Array(r);for(let u=0;u<=o;++u)i[u]=0;return[l,i]}i[0]=0;for(let l=1;l<=o;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(f=>{c+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&c===0&&(c=1),i[l]=i[l-1]+c}const a=new Array(i[o]);for(let l=0;l<o;++l){const u=n[l];let c=i[l];if(this.nGramWidths.forEach(f=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,f);this.createNGrams(t,u,a,c,h,f),c+=h}),this.preserveShort&&c===i[l]){const f=n[l+1]-n[l];if(f===0)continue;const d=f+2*this.padWidth;this.createNGrams(t,u,a,c,1,d)}}return[a,i]}}function vCe(e,t,n,r,s,o,i,a){return new wet(n,r,s,o,i,a).compute(e,t)}function xet(e,t,n,r){if(!e.length)return;if(t.length===0){for(let o=0;o<e.length;++o)r.push(e.subarray(o,o+1));return}if(t.length===1){const o=t[0];let i=e.indexOf(o);for(;i!==-1;){const a=e.subarray(0,i);(!n||a.length!==0)&&r.push(a),e=e.subarray(i+1),i=e.indexOf(o)}(!n||e.length!==0)&&r.push(e);return}let s=0;for(let o=0;o<e.length+1;o++)if(o===e.length||t.indexOf(e[o])!==-1){const i=e.subarray(s,o);(!n||i.length!==0)&&r.push(i),s=o+1}}function yCe(e,t,n){const r=e.length,s=[];let o=0,i=0;const a=new Array(r);for(let d=0;d<r;++d){const h=s.length;xet(e[d],t,n,s);const p=s.length-h;a[d]=p,o+=p,i=Math.max(i,p)}const l=Ds("int32",o*2),u=new Array(o),c=[r,i];let f=0;for(let d=0;d<r;++d)for(let h=0;h<a[d];++h)l[f*2]=d,l[f*2+1]=h,u[f]=s[f],++f;return[l,u,c]}function bCe(e,t){const n=Ds("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Y1e(e[r]).modulo(t).getLowBitsUnsigned();return n}const wCe=Gs(((e,t)=>e-t)),Cet=SK(((e,t,n,r)=>({real:e-n,imag:t-r}))),TK=co(V2,wCe,Cet),$et={kernelName:V2,backendName:"cpu",kernelFunc:TK};function xCe(e,t){const n=new Array(e.rank);for(let s=0;s<n.length;s++)n[s]=e.shape[s]*t[s];const r=Wn(n,e.dtype);for(let s=0;s<r.values.length;++s){const o=r.indexToLoc(s),i=new Array(e.rank);for(let l=0;l<i.length;l++)i[l]=o[l]%e.shape[l];const a=e.locToIndex(i);r.values[s]=e.values[a]}return r}const n$=(e,t)=>{const n=t.value-e.value;return n===0?e.index-t.index:n};function CCe(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,l=t-n+1,u=Math.log(a),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(a-c)/a)*Math.sign(l-a/2),d=Math.max(n,Math.floor(t-l*c/a+f)),h=Math.min(r,Math.floor(t+(a-l)*c/a+f));CCe(e,t,d,h)}const s=e[t];let o=n,i=r;for($h(e,n,t),n$(e[r],s)>0&&$h(e,n,r);o<i;){for($h(e,o,i),o++,i--;n$(e[o],s)<0;)o=o+1;for(;n$(e[i],s)>0;)i=i-1}n$(e[n],s)===0?$h(e,n,i):(i=i+1,$h(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}function SCe(e,t,n,r,s){const o=t[t.length-1],[i,a]=[e.length/o,o],l=Eo(n,i*r),u=Eo("int32",i*r);for(let f=0;f<i;f++){const d=f*a,h=e.subarray(d,d+a);let p=new Array(h.length);h.forEach((y,w)=>p[w]={value:y,index:w}),r<p.length&&(CCe(p,r),p=p.slice(0,r)),s&&p.sort(n$);const g=f*r,m=l.subarray(g,g+r),v=u.subarray(g,g+r);for(let y=0;y<r;y++)m[y]=p[y].value,v[y]=p[y].index}const c=t.slice();return c[c.length-1]=r,[Wn(c,n,l),Wn(c,"int32",u)]}function $Ce(e,t,n,r){const s=qn(t,n)[0],o=[1,n[0],1];for(let p=0;p<s;p++)o[0]*=n[p];o[1]=n[s];for(let p=s+1;p<n.length;p++)o[2]*=n[p];const i=new Map,a=new Int32Array(n[s]),l=new Xs(o,r,e),u=[],c=o[0]===1&&o[2]===1;for(let p=0;p<n[s];p++){let g;if(c)g=e[p].toString();else{const v=[];for(let y=0;y<o[0];y++)for(let w=0;w<o[2];w++)v.push(l.get(y,p,w));g=v.join(",")}const m=i.get(g);if(m!=null)a[p]=m;else{const v=i.size;i.set(g,v),a[p]=v,u.push(p)}}const f=o.slice();f[1]=i.size;const d=new Xs(f,r);u.forEach((p,g)=>{for(let m=0;m<o[0];m++)for(let v=0;v<o[2];v++)d.set(l.get(m,p,v),m,g,v)});const h=n.slice();return h[s]=f[1],{outputValues:d.values,outputShape:h,indices:a}}const ket=Object.freeze(Object.defineProperty({__proto__:null,addImpl:O2e,bincountImpl:$K,bincountReduceImpl:R2e,bitwiseAndImpl:F2e,castImpl:D2e,ceilImpl:M2e,concatImpl:P2e,equalImpl:L2e,expImpl:z2e,expm1Impl:W2e,floorDivImpl:j2e,floorImpl:U2e,gatherNdImpl:H2e,gatherV2Impl:q2e,greaterEqualImpl:K2e,greaterImpl:G2e,lessEqualImpl:X2e,lessImpl:Y2e,linSpaceImpl:Z2e,logImpl:J2e,maxImpl:Q2e,maximumImpl:eCe,minimumImpl:tCe,multiplyImpl:kK,negImpl:nCe,notEqualImpl:rCe,prodImpl:sCe,raggedGatherImpl:oCe,raggedRangeImpl:iCe,raggedTensorToTensorImpl:aCe,rangeImpl:lCe,rsqrtImpl:uCe,scatterImpl:Ev,sigmoidImpl:cet,simpleAbsImpl:N2e,sliceImpl:fCe,sparseFillEmptyRowsImpl:dCe,sparseReshapeImpl:hCe,sparseSegmentReductionImpl:_K,sqrtImpl:het,squaredDifferenceImpl:pCe,staticRegexReplaceImpl:gCe,stridedSliceImpl:mCe,stringNGramsImpl:vCe,stringSplitImpl:yCe,stringToHashBucketFastImpl:bCe,subImpl:wCe,tileImpl:xCe,topKImpl:SCe,transposeImpl:EK,uniqueImpl:$Ce},Symbol.toStringTag,{value:"Module"}));Pq("cpu",()=>new UP,1);const kCe=Rr(c2,e=>e>=0?e:Math.exp(e)-1),Eet={kernelName:c2,backendName:"cpu",kernelFunc:kCe};function ECe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:o}=r;Jt([s],"leakyRelu");const i=je(s.shape),a=n.data.get(s.dataId).values,l=Eo("float32",i);for(let u=0;u<a.length;u++)l[u]=a[u]<0?o*a[u]:a[u];return n.makeTensorInfo(s.shape,"float32",l)}const _et={kernelName:Q_,backendName:"cpu",kernelFunc:ECe};const Tet=Gs((e,t)=>e<0?t*e:e);function _Ce(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t;Jt([r,s],"prelu");const o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,[a,l]=Tet(r.shape,s.shape,o,i,"float32");return n.makeTensorInfo(l,"float32",a)}const Aet={kernelName:yT,backendName:"cpu",kernelFunc:_Ce};const TCe=Rr(A2,e=>Math.max(0,e)),Iet={kernelName:A2,backendName:"cpu",kernelFunc:TCe};const ACe=Rr(I2,e=>Math.min(Math.max(0,e),6)),Net={kernelName:I2,backendName:"cpu",kernelFunc:ACe};function zO(e,t,n,r,s){if(n==="linear")return dd({inputs:{x:t},backend:e});if(n==="relu")return TCe({inputs:{x:t},backend:e});if(n==="elu")return kCe({inputs:{x:t},backend:e});if(n==="relu6")return ACe({inputs:{x:t},backend:e});if(n==="prelu")return _Ce({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return ECe({inputs:{x:t},backend:e,attrs:{alpha:s}});if(n==="sigmoid")return cCe({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function rs(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:o}=r,i=je(s.shape),a=Tq(o,i),l=je(a);te(i===l,()=>`The new shape (${a}) has ${l} elements and the old shape (${s.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const u=n.data.get(s.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;c.shape=a,f.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const Det={kernelName:wT,backendName:"cpu",kernelFunc:rs};function ICe(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o}=t,{transposeA:i,transposeB:a}=r;Jt([s,o],"matMul");const l=s.shape.length,u=o.shape.length,c=i?s.shape[l-2]:s.shape[l-1],f=a?o.shape[u-1]:o.shape[u-2],d=i?s.shape[l-1]:s.shape[l-2],h=a?o.shape[u-2]:o.shape[u-1],p=s.shape.slice(0,-2),g=o.shape.slice(0,-2),m=je(p),v=je(g),w=Nn(s.shape.slice(0,-2),o.shape.slice(0,-2)).concat([d,h]);te(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${s.shape} and ${o.shape} and transposeA=${i} and transposeB=${a} must match.`);const b=i?[m,c,d]:[m,d,c],C=a?[v,h,f]:[v,f,h],S=rs({inputs:{x:s},backend:n,attrs:{shape:b}}),$=rs({inputs:{x:o},backend:n,attrs:{shape:C}}),k=i?S.shape[1]:S.shape[2],T=i?S.shape[2]:S.shape[1],_=a?$.shape[1]:$.shape[2],E=Math.max(m,v),A=n.data.get(S.dataId).values,N=n.data.get($.dataId).values,F=fn(S.shape),R=fn($.shape),[P,I,D]=i?[F[0],1,F[1]]:[F[0],F[1],1],[M,z,W]=a?[1,R[1],R[0]]:[R[1],1,R[0]],H=T*_,U=Wn([E,T,_],S.dtype),K=U.values,G=n.blockSize;for(let re=0;re<E;re++){const ue=re%m,ae=re%v;for(let X=0;X<T;X+=G){const J=Math.min(X+G,T);for(let q=0;q<_;q+=G){const L=Math.min(q+G,_);for(let Q=0;Q<k;Q+=G){const se=Math.min(Q+G,k);for(let de=X;de<J;de++)for(let he=q;he<L;he++){let ge=0;for(let $e=Q;$e<se;$e++){const He=A[ue*P+de*I+$e*D],Ie=N[$e*M+he*z+ae*W];ge+=He*Ie}K[re*H+(de*_+he)]+=ge}}}}}return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo($),n.makeTensorInfo(w,U.dtype,U.values)}const Oet={kernelName:P_,backendName:"cpu",kernelFunc:ICe};function Ret(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o,bias:i,preluActivationWeights:a}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;let d,h,p;const g=[];d=ICe({inputs:{a:s,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(h=Pw({inputs:{a:d,b:i},backend:n}),g.push(d),d=h),c&&(p=zO(n,d,c,a,f),g.push(d),d=p);for(const v of g)n.disposeIntermediateTensorInfo(v);return d}const Fet={kernelName:_k,backendName:"cpu",kernelFunc:Ret};const Met=Rr(Zx,e=>Math.acos(e)),Pet={kernelName:Zx,backendName:"cpu",kernelFunc:Met};const Let=Rr(Jx,e=>Math.acosh(e)),Bet={kernelName:Jx,backendName:"cpu",kernelFunc:Let};function zet(e){const{inputs:t,backend:n}=e,r=t;Jt(t,"addN");const s=r.map(a=>n.data.get(a.dataId).values),o=Wn(r[0].shape,r[0].dtype),i=o.values;for(let a=0;a<r.length;a++){const l=s[a];for(let u=0;u<i.length;u++)i[u]+=l[u]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const Vet={kernelName:D_,backendName:"cpu",kernelFunc:zet};function Wet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;Jt(s,"all");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Ra({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("all",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let w=g[y];for(let b=0;b<h;++b){const C=g[y+b];w=w&&C}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Uet={kernelName:HM,backendName:"cpu",kernelFunc:Wet};function jet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;Jt(s,"any");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Ra({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("any",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let w=g[y];for(let b=0;b<h;++b){const C=g[y+b];w=w||C}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Het={kernelName:qM,backendName:"cpu",kernelFunc:jet};function qet(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;Jt(s,"argMax");let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=Ra({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),i=[i[0]],Qo("argMax",i,l.shape.length);const[c,f]=Ao(l.shape,i),d=je(c),h=qo(d,"int32"),p=je(f),g=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const v=m*p;let y=g[v],w=0;for(let b=0;b<p;++b){const C=g[v+b];C>y&&(y=C,w=b)}h[m]=w}return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const Get={kernelName:O_,backendName:"cpu",kernelFunc:qet};function Ket(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;Jt(s,"argMin");let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=Ra({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),i=[i[0]],Qo("argMin",i,l.shape.length);const[c,f]=Ao(l.shape,i),d=je(c),h=qo(d,"int32"),p=je(f),g=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const v=m*p;let y=g[v],w=0;for(let b=0;b<p;++b){const C=g[v+b];C<y&&(y=C,w=b)}h[m]=w}return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const Yet={kernelName:R_,backendName:"cpu",kernelFunc:Ket};const Xet=Rr(Qx,e=>Math.asin(e)),Zet={kernelName:Qx,backendName:"cpu",kernelFunc:Xet};const Jet=Rr(e2,e=>Math.asinh(e)),Qet={kernelName:e2,backendName:"cpu",kernelFunc:Jet};const ett=Rr(t2,e=>Math.atan(e)),ttt={kernelName:t2,backendName:"cpu",kernelFunc:ett};const ntt=Gs((e,t)=>Math.atan2(e,t)),rtt=co(r2,ntt),stt={kernelName:r2,backendName:"cpu",kernelFunc:rtt};const ott=Rr(n2,e=>Math.atanh(e)),itt={kernelName:n2,backendName:"cpu",kernelFunc:ott};function AK(e,t,n,r,s,o){const i=s.strideHeight,a=s.strideWidth,l=s.dilationHeight,u=s.dilationWidth,c=s.effectiveFilterHeight,f=s.effectiveFilterWidth,d=s.padInfo.top,h=s.padInfo.left,p=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=Wn(s.outShape,n),m=g.values,v=s.outShape[1]*s.outShape[2]*s.outShape[3],y=s.outShape[2]*s.outShape[3],w=s.outShape[3];for(let b=0;b<s.batchSize;++b){const C=b*v,S=b*r[0];for(let $=0;$<s.inChannels;++$)for(let k=0;k<s.outHeight;++k){const T=k*i-d,_=Math.max(0,T),E=Math.min(s.inHeight,c+T),A=C+k*y;for(let N=0;N<s.outWidth;++N){const F=N*a-h,R=Math.max(0,F),P=Math.min(s.inWidth,f+F);let I=p,D=0,M=0;for(let W=_;W<E;W+=l){const H=S+W*r[1];for(let U=R;U<P;U+=u){const K=H+U*r[2],G=e[K+$];o==="max"&&G>I?I=G:o==="avg"&&(D+=G,M++)}if(isNaN(I))break}const z=A+N*w+$;m[z]=o==="avg"?D/M:I}}}return g}function NCe(e,t,n,r,s=!1,o=!1){const i=Wn(r.outShape,"int32"),a=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,g=Wn(t,n,e);for(let m=0;m<r.batchSize;++m)for(let v=0;v<r.inChannels;++v)for(let y=0;y<r.outHeight;++y){const w=y*a-h;let b=w;for(;b<0;)b+=u;const C=Math.min(r.inHeight,f+w);for(let S=0;S<r.outWidth;++S){const $=S*l-p;let k=$;for(;k<0;)k+=c;const T=Math.min(r.inWidth,d+$);let _=Number.NEGATIVE_INFINITY,E=-1;for(let A=b;A<C;A+=u){const N=A-w;for(let F=k;F<T;F+=c){const R=F-$,P=g.get(m,A,F,v);P>_&&(_=P,s?E=o?((m*r.inHeight+A)*r.inWidth+F)*r.inChannels+v:(A*r.inWidth+F)*r.inChannels+v:E=N*d+R)}}i.set(E,m,y,S,v)}}return i}function DCe(e,t,n,r,s,o){const i=s.strideDepth,a=s.strideHeight,l=s.strideWidth,u=s.dilationDepth,c=s.dilationHeight,f=s.dilationWidth,d=s.effectiveFilterDepth,h=s.effectiveFilterHeight,p=s.effectiveFilterWidth,g=s.padInfo.front,m=s.padInfo.top,v=s.padInfo.left,y=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=Wn(s.outShape,n),b=w.values,C=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],S=s.outShape[2]*s.outShape[3]*s.outShape[4],$=s.outShape[3]*s.outShape[4],k=s.outShape[4];for(let T=0;T<s.batchSize;++T){const _=T*C,E=T*r[0];for(let A=0;A<s.inChannels;++A)for(let N=0;N<s.outDepth;++N){const F=N*i-g;let R=F;for(;R<0;)R+=u;const P=Math.min(s.inDepth,d+F),I=_+N*S;for(let D=0;D<s.outHeight;++D){const M=D*a-m;let z=M;for(;z<0;)z+=c;const W=Math.min(s.inHeight,h+M),H=I+D*$;for(let U=0;U<s.outWidth;++U){const K=U*l-v;let G=K;for(;G<0;)G+=f;const re=Math.min(s.inWidth,p+K),ue=H+U*k;let ae=y,X=0,J=0;for(let L=R;L<P;L+=u){const Q=E+L*r[1];for(let se=z;se<W;se+=c){const de=Q+se*r[2];for(let he=G;he<re;he+=f){const ge=de+he*r[3],$e=e[ge+A];if(o==="max"&&$e>ae?ae=$e:o==="avg"&&(X+=$e,J++),isNaN(ae))break}if(isNaN(ae))break}if(isNaN(ae))break}const q=ue+A;b[q]=o==="avg"?X/Math.max(J,1):ae}}}}return w}function att(e,t){const n=Wn(t.outShape,"int32"),r=t.strideDepth,s=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,a=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left;for(let g=0;g<t.batchSize;++g)for(let m=0;m<t.inChannels;++m)for(let v=0;v<t.outDepth;++v){const y=v*r-d;let w=y;for(;w<0;)w+=i;const b=Math.min(t.inDepth,u+y);for(let C=0;C<t.outHeight;++C){const S=C*s-h;let $=S;for(;$<0;)$+=a;const k=Math.min(t.inHeight,c+S);for(let T=0;T<t.outWidth;++T){const _=T*o-p;let E=_;for(;E<0;)E+=l;const A=Math.min(t.inWidth,f+_);let N=Number.NEGATIVE_INFINITY,F=-1;for(let R=w;R<b;R+=i){const P=R-y;for(let I=$;I<k;I+=a){const D=I-S;for(let M=E;M<A;M+=l){const z=M-_,W=e.get(g,R,I,M,m);W>=N&&(N=W,F=P*c*f+D*c+z)}}}n.set(F,g,v,C,T,m)}}}return n}function ltt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;Jt(s,"avgPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Ku(s.shape,o,i,u,a,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))f=dd({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=fn(s.shape),p=AK(d,s.shape,s.dtype,h,c,"avg");f=n.makeTensorInfo(c.outShape,s.dtype,p.values)}return f}const utt={kernelName:F_,backendName:"cpu",kernelFunc:ltt};function ctt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r;Jt(s,"avgPool3d");const c=_p(s.shape,o,i,1,a,l,u),f=n.data.get(s.dataId).values,d=DCe(f,s.shape,s.dtype,fn(s.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const ftt={kernelName:M_,backendName:"cpu",kernelFunc:ctt};function dtt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,{filterSize:i,strides:a,pad:l,dimRoundingMode:u}=r;Jt([s,o],"avgPool3DGrad");const c=_p(o.shape,i,a,1,l,u),f=c.strideDepth,d=c.strideHeight,h=c.strideWidth,p=c.filterDepth,g=c.filterHeight,m=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,w=c.dilationWidth,b=c.effectiveFilterDepth,C=c.effectiveFilterHeight,S=c.effectiveFilterWidth,$=b-1-c.padInfo.front,k=S-1-c.padInfo.left,T=C-1-c.padInfo.top,_=Wn(o.shape,"float32"),E=1/(p*g*m),A=n.bufferSync(s);for(let N=0;N<c.batchSize;++N)for(let F=0;F<c.inChannels;++F)for(let R=0;R<c.inDepth;++R)for(let P=0;P<c.inHeight;++P)for(let I=0;I<c.inWidth;++I){const D=R-$,M=P-T,z=I-k;let W=0;for(let H=0;H<b;H+=v){const U=(D+H)/f;if(!(U<0||U>=c.outDepth||Math.floor(U)!==U))for(let K=0;K<C;K+=y){const G=(M+K)/d;if(!(G<0||G>=c.outHeight||Math.floor(G)!==G))for(let re=0;re<S;re+=w){const ue=(z+re)/h;if(ue<0||ue>=c.outWidth||Math.floor(ue)!==ue)continue;const ae=A.get(N,U,G,ue,F);W+=ae}}}_.set(W*E,N,R,P,I,F)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const htt={kernelName:KM,backendName:"cpu",kernelFunc:dtt};function ptt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o;Jt([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:u}=r,c=Ku(i.shape,a,l,1,u),f=c.strideHeight,d=c.strideWidth,h=c.filterHeight,p=c.filterWidth,g=c.dilationHeight,m=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,w=y-1-c.padInfo.left,b=v-1-c.padInfo.top,C=Wn(i.shape,"float32"),S=1/(h*p),$=n.data.get(s.dataId).values,k=Wn(s.shape,"float32",$);for(let T=0;T<c.batchSize;++T)for(let _=0;_<c.inChannels;++_)for(let E=0;E<c.inHeight;++E)for(let A=0;A<c.inWidth;++A){const N=E-b,F=A-w;let R=0;for(let P=0;P<v;P+=g){const I=(N+P)/f;if(!(I<0||I>=c.outHeight||Math.floor(I)!==I))for(let D=0;D<y;D+=m){const M=(F+D)/d;if(M<0||M>=c.outWidth||Math.floor(M)!==M)continue;const z=k.get(T,I,M,_);R+=z}}C.set(R*S,T,E,A,_)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const gtt={kernelName:GM,backendName:"cpu",kernelFunc:ptt};function mtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,scale:o,offset:i,mean:a,variance:l}=t;te(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(i==null||a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Jt([s,a,l,o,i],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const c=n.data.get(s.dataId).values,f=n.data.get(a.dataId).values,d=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),p=i?n.data.get(i.dataId).values:new Float32Array([0]),g=new Float32Array(c.length),m=p.length,v=h.length,y=d.length,w=f.length;let b=0,C=0,S=0,$=0;for(let k=0;k<c.length;++k)g[k]=p[b++]+(c[k]-f[C++])*h[S++]/Math.sqrt(d[$++]+u),b>=m&&(b=0),C>=w&&(C=0),S>=v&&(S=0),$>=y&&($=0);return n.makeTensorInfo(s.shape,s.dtype,g)}const vtt={kernelName:X_,backendName:"cpu",kernelFunc:mtt};function ytt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,crops:i}=r;Jt([s],"batchToSpaceND");const a=o.reduce((v,y)=>v*y),l=UT(s.shape,o,a),u=jT(l.length,o.length),c=HT(s.shape,o,a),f=LG(i,o.length),d=BG(c,i,o.length),h=rs({inputs:{x:s},backend:n,attrs:{shape:l}}),p=Ra({inputs:{x:h},backend:n,attrs:{perm:u}}),g=rs({inputs:{x:p},backend:n,attrs:{shape:c}}),m=k1({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),m}const btt={kernelName:L_,backendName:"cpu",kernelFunc:ytt};function wtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i}=r,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,u=$K(a,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}const xtt={kernelName:YM,backendName:"cpu",kernelFunc:wtt};function Ctt(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values,a=Nn(Array.from(o),Array.from(i));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const Stt={kernelName:XM,backendName:"cpu",kernelFunc:Ctt};const $tt=Rr(i2,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),ktt={kernelName:i2,backendName:"cpu",kernelFunc:$tt};const Ett=e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(je(t.shape)),s=n.data.get(t.dataId),o=s.complexTensorInfos.real,i=s.complexTensorInfos.imag,a=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values;for(let u=0;u<a.length;u++){const c=a[u],f=l[u];r[u]=Math.hypot(c,f)}return n.makeOutput(r,t.shape,"float32")},_tt={kernelName:z_,backendName:"cpu",kernelFunc:Ett};function Lw(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,o)}const Ttt={kernelName:m4,backendName:"cpu",kernelFunc:Lw};function Bw(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,o=qn(s,t[0].shape)[0],i=t.map(g=>g.shape);FG(i,o);let a=Hf(t.map(g=>g.shape),o);if(je(a)===0)return n.makeTensorInfo(a,t[0].dtype,[]);const l=t.filter(g=>je(g.shape)>0);if(l.length===1)return dd({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const g=l.map(b=>$1({inputs:{input:b},backend:n})),m=l.map(b=>Lw({inputs:{input:b},backend:n})),v=Bw({inputs:g,backend:n,attrs:{axis:o}}),y=Bw({inputs:m,backend:n,attrs:{axis:o}}),w=el({inputs:{real:v,imag:y},backend:n});return g.forEach(b=>n.disposeIntermediateTensorInfo(b)),m.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),w}const u=l.map(g=>{const v=[-1,je(g.shape.slice(o))];return rs({inputs:{x:g},backend:n,attrs:{shape:v}})}),c=u.map(g=>({vals:n.data.get(g.dataId).values,shape:g.shape}));a=Hf(u.map(g=>g.shape),1);const f=u[0].shape[0]===1,d=P2e(c,a,t[0].dtype,f),h=Hf(l.map(g=>g.shape),o),p=n.makeTensorInfo(h,t[0].dtype,d);return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),p}const Att={kernelName:V_,backendName:"cpu",kernelFunc:Bw};function OCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dataFormat:l,dilations:u,dimRoundingMode:c}=r;Jt([s,o],"conv2d");const f=Tp(l),d=To(s.shape,o.shape,i,u,a,c,!1,f),h=d.filterHeight,p=d.filterWidth,g=d.dilationHeight,m=d.dilationWidth,v=d.padInfo.left,y=d.padInfo.top,w=d.dataFormat==="channelsLast",b=new Xs(d.outShape,s.dtype),C=fn(s.shape),S=fn(o.shape),$=C[0],k=w?C[1]:C[2],T=w?C[2]:1,_=w?1:C[1],E=b.strides[0],A=w?b.strides[1]:b.strides[2],N=w?b.strides[2]:1,F=w?1:b.strides[1],R=n.data.get(s.dataId).values,P=n.data.get(o.dataId).values,I=b.values;for(let D=0;D<d.batchSize;++D){const M=D*$,z=D*E;for(let W=0;W<d.outHeight;++W){const H=z+W*A,U=W*d.strideHeight-y;for(let K=0;K<h;++K){const G=U+K*g;if(G<0||G>=d.inHeight)continue;const re=K*S[0],ue=M+G*k;for(let ae=0;ae<d.outWidth;++ae){const X=H+ae*N,J=ae*d.strideWidth-v;for(let q=0;q<p;++q){const L=J+q*m;if(L<0||L>=d.inWidth)continue;const Q=re+q*S[1],se=ue+L*T;let de=Q;for(let he=0;he<d.inChannels;++he){const ge=R[se+he*_];for(let $e=0;$e<d.outChannels;++$e)I[X+$e*F]+=ge*P[de+$e];de+=d.outChannels}}}}}}return n.makeTensorInfo(b.shape,b.dtype,I)}const Itt={kernelName:W_,backendName:"cpu",kernelFunc:OCe};function Ntt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;Jt([s,o],"conv2dBackpropFilter");const f=Tp(l),d=To(s.shape,c,i,1,a,u,!1,f),{strideHeight:h,strideWidth:p,filterHeight:g,filterWidth:m}=d,v=d.dataFormat==="channelsLast",y=new Xs(d.filterShape,"float32"),w=d.padInfo.left,b=d.padInfo.top,C=n.data.get(s.dataId).values,S=n.data.get(o.dataId).values,$=new Xs(s.shape,s.dtype,C),k=new Xs(o.shape,o.dtype,S);for(let T=0;T<g;++T){const _=Math.max(0,Math.ceil((b-T)/h)),E=Math.min(d.outHeight,(d.inHeight+b-T)/h);for(let A=0;A<m;++A){const N=Math.max(0,Math.ceil((w-A)/p)),F=Math.min(d.outWidth,(d.inWidth+w-A)/p);for(let R=0;R<d.inChannels;++R)for(let P=0;P<d.outChannels;++P){let I=0;for(let D=0;D<d.batchSize;++D)for(let M=_;M<E;++M){const z=T+M*h-b;for(let W=N;W<F;++W){const H=A+W*p-w;v?I+=$.get(D,z,H,R)*k.get(D,M,W,P):I+=$.get(D,R,z,H)*k.get(D,P,M,W)}}y.set(I,T,A,R,P)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Dtt={kernelName:JM,backendName:"cpu",kernelFunc:Ntt};function Ott(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{inputShape:i,strides:a,pad:l,dataFormat:u,dimRoundingMode:c}=r;Jt([s,o],"conv2dBackpropInput");const f=fn(o.shape),d=fn(s.shape);let h=Tp(u);const p=To(i,o.shape,a,1,l,c,!1,h),g=new Xs(p.inShape,"float32"),m=g.values,v=n.data.get(s.dataId).values,y=n.data.get(o.dataId).values,[w,b,C]=f,{batchSize:S,filterHeight:$,filterWidth:k,inChannels:T,inHeight:_,inWidth:E,outChannels:A,outHeight:N,outWidth:F,strideHeight:R,strideWidth:P}=p;h=p.dataFormat;const I=$-1-p.padInfo.top,D=k-1-p.padInfo.left,M=h==="channelsLast",z=g.strides[0],W=M?g.strides[1]:g.strides[2],H=M?g.strides[2]:1,U=M?1:g.strides[1],K=d[0],G=M?d[1]:d[2],re=M?d[2]:1,ue=M?1:d[1];for(let ae=0;ae<S;++ae)for(let X=0;X<T;++X)for(let J=0;J<_;++J){const q=J-I,L=Math.max(0,Math.ceil(q/R)),Q=Math.min(N,($+q)/R);for(let se=0;se<E;++se){const de=se-D,he=Math.max(0,Math.ceil(de/P)),ge=Math.min(F,(k+de)/P);let $e=0;for(let Ie=L;Ie<Q;++Ie){const Ce=Ie*R-q;for(let Re=he;Re<ge;++Re){const ze=Re*P-de,Ue=K*ae+G*Ie+re*Re,rt=w*($-1-Ce)+b*(k-1-ze)+C*X;for(let ht=0;ht<A;++ht){const ye=v[Ue+ue*ht],Ge=y[rt+ht];$e+=ye*Ge}}}const He=z*ae+W*J+H*se+U*X;m[He]=$e}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Rtt={kernelName:U_,backendName:"cpu",kernelFunc:Ott};function Ftt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r;Jt([s,o],"conv3d");const u=n0(s.shape,o.shape,i,l,a),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:g,padInfo:m}=u,v=m.front,y=m.left,w=m.top,b=new Xs(u.outShape,s.dtype),C=n.data.get(s.dataId).values,S=n.data.get(o.dataId).values,$=b.values,k=fn(s.shape),T=fn(o.shape);for(let _=0;_<u.batchSize;++_){const E=_*k[0],A=_*b.strides[0];for(let N=0;N<u.outDepth;++N){const F=A+N*b.strides[1],R=N*u.strideDepth-v;for(let P=0;P<c;++P){const I=R+P*h;if(I<0||I>=u.inDepth)continue;const D=P*T[0],M=E+I*k[1];for(let z=0;z<u.outHeight;++z){const W=F+z*b.strides[2],H=z*u.strideHeight-w;for(let U=0;U<f;++U){const K=H+U*p;if(K<0||K>=u.inHeight)continue;const G=D+U*T[1],re=M+K*k[2];for(let ue=0;ue<u.outWidth;++ue){const ae=W+ue*u.outChannels,X=ue*u.strideWidth-y;for(let J=0;J<d;++J){const q=X+J*g;if(q<0||q>=u.inWidth)continue;const L=G+J*T[2],Q=re+q*u.inChannels;let se=L;for(let de=0;de<u.inChannels;++de){const he=C[Q+de];for(let ge=0;ge<u.outChannels;++ge)$[ae+ge]+=he*S[se+ge];se+=u.outChannels}}}}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const Mtt={kernelName:j_,backendName:"cpu",kernelFunc:Ftt};function Ptt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,filterShape:l}=r;Jt([s,o],"conv3dBackpropFilterV2");const u=fn(s.shape),c=fn(o.shape),f=n0(s.shape,l,i,1,a),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,g=f.filterDepth,m=f.filterHeight,v=f.filterWidth,y=new Xs(f.filterShape,"float32"),w=y.values,[b,C,S,$]=y.strides,k=n.data.get(o.dataId).values,[T,_,E,A]=c,N=n.data.get(s.dataId).values,[F,R,P,I]=u,D=f.padInfo.front,M=f.padInfo.left,z=f.padInfo.top;for(let W=0;W<g;++W){const H=Math.max(0,Math.ceil((D-W)/d)),U=Math.min(f.outDepth,(f.inDepth+D-W)/d),K=W*b;for(let G=0;G<m;++G){const re=Math.max(0,Math.ceil((z-G)/h)),ue=Math.min(f.outHeight,(f.inHeight+z-G)/h),ae=G*C+K;for(let X=0;X<v;++X){const J=Math.max(0,Math.ceil((M-X)/p)),q=Math.min(f.outWidth,(f.inWidth+M-X)/p),L=X*S+ae;for(let Q=0;Q<f.inChannels;++Q){const se=Q*$+L;for(let de=0;de<f.outChannels;++de){let he=0;for(let ge=0;ge<f.batchSize;++ge){const $e=ge*F,He=ge*T;for(let Ie=H;Ie<U;++Ie){const Re=(W+Ie*d-D)*R+$e,ze=Ie*_+He;for(let Ue=re;Ue<ue;++Ue){const ht=(G+Ue*h-z)*P+Re,ye=Ue*E+ze;for(let Ge=J;Ge<q;++Ge){const cn=(X+Ge*p-M)*I+ht,lt=Ge*A+ye;he+=N[cn+Q]*k[lt+de]}}}}w[se+de]=he}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Ltt={kernelName:QM,backendName:"cpu",kernelFunc:Ptt};function Btt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{pad:i,strides:a,inputShape:l}=r;Jt([s],"conv3dBackpropInputV2");const u=fn(s.shape),c=fn(o.shape),f=n0(l,o.shape,a,1,i),d=new Xs(f.inShape,"float32"),h=d.values,[p,g,m,v]=d.strides,y=n.data.get(s.dataId).values,[w,b,C,S]=u,$=n.data.get(o.dataId).values,[k,T,_,E]=c,{batchSize:A,filterDepth:N,filterHeight:F,filterWidth:R,inChannels:P,inDepth:I,inHeight:D,inWidth:M,outChannels:z,outDepth:W,outHeight:H,outWidth:U,strideDepth:K,strideHeight:G,strideWidth:re}=f,ue=N-1-f.padInfo.front,ae=F-1-f.padInfo.top,X=R-1-f.padInfo.left;for(let J=0;J<A;++J)for(let q=0;q<P;++q)for(let L=0;L<I;++L){const Q=L-ue,se=Math.max(0,Math.ceil(Q/K)),de=Math.min(W,(N+Q)/K);for(let he=0;he<D;++he){const ge=he-ae,$e=Math.max(0,Math.ceil(ge/G)),He=Math.min(H,(F+ge)/G);for(let Ie=0;Ie<M;++Ie){const Ce=Ie-X,Re=Math.max(0,Math.ceil(Ce/re)),ze=Math.min(U,(R+Ce)/re);let Ue=0;for(let rt=se;rt<de;++rt){const ht=rt*K-Q;for(let ye=$e;ye<He;++ye){const Ge=ye*G-ge;for(let at=Re;at<ze;++at){const cn=at*re-Ce,lt=w*J+b*rt+C*ye+S*at,Ft=k*(N-1-ht)+T*(F-1-Ge)+_*(R-1-cn)+E*q;for(let Dt=0;Dt<z;++Dt){const qt=y[lt+Dt],Te=$[Ft+Dt];Ue+=qt*Te}}}}h[p*J+g*L+m*he+v*Ie+q]=Ue}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const ztt={kernelName:e4,backendName:"cpu",kernelFunc:Btt};const Vtt=Rr(a2,e=>Math.cos(e)),Wtt={kernelName:a2,backendName:"cpu",kernelFunc:Vtt};const Utt=Rr(l2,e=>Math.cosh(e)),jtt={kernelName:l2,backendName:"cpu",kernelFunc:Utt};function Htt(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:o,boxInd:i}=t,{cropSize:a,method:l,extrapolationValue:u}=r,[c,f,d,h]=s.shape,p=o.shape[0],[g,m]=a,v=Wn([p,g,m,h],"float32"),y=n.data.get(o.dataId).values,w=n.data.get(i.dataId).values,b=n.data.get(s.dataId).values,C=fn(s.shape),S=fn(v.shape);for(let $=0;$<p;$++){const k=$*4,T=y[k],_=y[k+1],E=y[k+2],A=y[k+3],N=w[$];if(N>=c)continue;const F=g>1?(E-T)*(f-1)/(g-1):0,R=m>1?(A-_)*(d-1)/(m-1):0;for(let P=0;P<g;P++){const I=g>1?T*(f-1)+P*F:.5*(T+E)*(f-1);if(I<0||I>f-1){for(let D=0;D<m;D++)for(let M=0;M<h;M++){const z=M+D*S[2]+P*S[1]+$*S[0];v.values[z]=u}continue}if(l==="bilinear"){const D=Math.floor(I),M=Math.ceil(I),z=I-D;for(let W=0;W<m;W++){const H=m>1?_*(d-1)+W*R:.5*(_+A)*(d-1);if(H<0||H>d-1){for(let re=0;re<h;re++){const ue=re+W*S[2]+P*S[1]+$*S[0];v.values[ue]=u}continue}const U=Math.floor(H),K=Math.ceil(H),G=H-U;for(let re=0;re<h;re++){let ue=re+U*C[2]+D*C[1]+N*C[0];const ae=b[ue];ue=re+K*C[2]+D*C[1]+N*C[0];const X=b[ue];ue=re+U*C[2]+M*C[1]+N*C[0];const J=b[ue];ue=re+K*C[2]+M*C[1]+N*C[0];const q=b[ue],L=ae+(X-ae)*G,Q=J+(q-J)*G;ue=re+W*S[2]+P*S[1]+$*S[0],v.values[ue]=L+(Q-L)*z}}}else for(let D=0;D<m;++D){const M=m>1?_*(d-1)+D*R:.5*(_+A)*(d-1);if(M<0||M>d-1){for(let H=0;H<h;H++){const U=H+D*S[2]+P*S[1]+$*S[0];v.values[U]=u}continue}const z=Math.round(M),W=Math.round(I);for(let H=0;H<h;H++){const U=H+z*C[2]+W*C[1]+N*C[0],K=H+D*S[2]+P*S[1]+$*S[0];v.values[K]=b[U]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const qtt={kernelName:n4,backendName:"cpu",kernelFunc:Htt};function Gtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;Jt(s,"cumprod");const l=As([o],s.shape.length);let u=s;l!=null&&(u=Ra({inputs:{x:s},backend:n,attrs:{perm:l}}));const c=Hs(1,s.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Da(u.dtype,"int32"),d=UM(je(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=a?(v,y)=>v+p-y-1:(v,y)=>v+y;for(let v=0;v<h.length;v+=p)for(let y=0;y<p;y++){const w=g(v,y);if(y===0)d[w]=i?1:h[w];else{const b=g(v,y-1);d[w]=i?h[b]*d[b]:h[w]*d[b]}}const m=n.makeTensorInfo(u.shape,f,d);if(l!=null){const v=r0(l),y=Ra({inputs:{x:m},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(u),y}return m}const Ktt={kernelName:t4,backendName:"cpu",kernelFunc:Gtt};function Ytt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;Jt(s,"cumsum");const l=As([o],s.shape.length);let u=s;l!=null&&(u=Ra({inputs:{x:s},backend:n,attrs:{perm:l}}));const c=Hs(1,s.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Da(u.dtype,"int32"),d=qo(je(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],g=a?(v,y)=>v+p-y-1:(v,y)=>v+y;for(let v=0;v<h.length;v+=p)for(let y=0;y<p;y++){const w=g(v,y);if(y===0)d[w]=i?0:h[w];else{const b=g(v,y-1);d[w]=i?h[b]+d[b]:h[w]+d[b]}}const m=n.makeTensorInfo(u.shape,f,d);if(l!=null){const v=r0(l),y=Ra({inputs:{x:m},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(u),y}return m}const Xtt={kernelName:H_,backendName:"cpu",kernelFunc:Ytt};function Ztt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i,binaryOutput:a}=r;if(s.shape.length===1){const l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=$K(l,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(o),c=R2e(l,u,i,a);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const Jtt={kernelName:r4,backendName:"cpu",kernelFunc:Ztt};function Qtt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:o,dataFormat:i}=r;te(i==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`);const a=s.shape[0],l=s.shape[1],u=s.shape[2],c=s.shape[3],f=l*o,d=u*o,h=c/(o*o),p=n.data.get(s.dataId).values,g=new Float32Array(a*f*d*h);let m=0;for(let v=0;v<a;++v)for(let y=0;y<f;++y){const w=Math.floor(y/o),b=y%o;for(let C=0;C<d;++C){const S=Math.floor(C/o),$=C%o,k=(b*o+$)*h;for(let T=0;T<h;++T){const E=T+k+c*(S+u*(w+l*v));g[m++]=p[E]}}}return n.makeTensorInfo([a,f,d,h],s.dtype,g)}const ent={kernelName:s4,backendName:"cpu",kernelFunc:Qtt};function RCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l,dimRoundingMode:u}=r;Jt([s,o],"depthwiseConv2DNative");const c=fn(s.shape),f=fn(o.shape);let d=l;d==null&&(d=[1,1]),te(Jo(i,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${d}'`);const h=To(s.shape,o.shape,i,d,a,u,!0),{filterHeight:p,filterWidth:g,dilationHeight:m,dilationWidth:v,padInfo:y}=h,w=y.left,b=y.top,C=h.outChannels/h.inChannels,S=new Xs(h.outShape,s.dtype),$=n.data.get(s.dataId).values,k=n.data.get(o.dataId).values,T=S.values;for(let _=0;_<h.batchSize;++_){const E=_*c[0],A=_*S.strides[0];for(let N=0;N<h.outHeight;++N){const F=A+N*S.strides[1],R=N*h.strideHeight-b;for(let P=0;P<p;++P){const I=R+P*m;if(I<0||I>=h.inHeight)continue;const D=P*f[0],M=E+I*c[1];for(let z=0;z<h.outWidth;++z){const W=F+z*S.strides[2],H=z*h.strideWidth-w;for(let U=0;U<g;++U){const K=H+U*v;if(K<0||K>=h.inWidth)continue;const G=D+U*f[1],re=M+K*h.inChannels;let ue=W,ae=G;for(let X=0;X<h.inChannels;++X){const J=$[re+X];for(let q=0;q<C;++q)T[ue+q]+=J*k[ae+q];ue+=C,ae+=C}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const tnt={kernelName:q_,backendName:"cpu",kernelFunc:RCe};function nnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,filterShape:c}=r;Jt([s,o],"depthwiseConv2dNativeBackpropFilter");const f=To(s.shape,c,i,a,l,u,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:g}=f,m=new Xs(f.filterShape,"float32"),v=f.padInfo.left,y=f.padInfo.top,w=f.outChannels/f.inChannels,b=n.data.get(s.dataId).values,C=new Xs(s.shape,s.dtype,b),S=n.data.get(o.dataId).values,$=new Xs(o.shape,o.dtype,S);for(let k=0;k<p;++k){const T=Math.max(0,Math.ceil((y-k)/d)),_=Math.min(f.outHeight,(f.inHeight+y-k)/d);for(let E=0;E<g;++E){const A=Math.max(0,Math.ceil((v-E)/h)),N=Math.min(f.outWidth,(f.inWidth+v-E)/h);for(let F=0;F<f.outChannels;++F){const R=Math.trunc(F/w),P=F%w;let I=0;for(let D=0;D<f.batchSize;++D)for(let M=T;M<_;++M){const z=k+M*d-y;for(let W=A;W<N;++W){const H=E+W*h-v;I+=C.get(D,z,H,R)*$.get(D,M,W,F)}}m.set(I,k,E,R,P)}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const rnt={kernelName:o4,backendName:"cpu",kernelFunc:nnt};function snt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,inputShape:c}=r;Jt([s,o],"depthwiseConv2DNativeBackpropInput");const f=fn(s.shape),d=fn(o.shape),h=To(c,o.shape,i,a,l,u,!0),p=new Xs(h.inShape,"float32"),g=p.values,[m,v,y]=p.strides,w=n.data.get(s.dataId).values,[b,C,S]=f,$=n.data.get(o.dataId).values,[k,T,_]=d,{batchSize:E,filterHeight:A,filterWidth:N,inChannels:F,inHeight:R,inWidth:P,outChannels:I,outHeight:D,outWidth:M,strideHeight:z,strideWidth:W}=h,H=A-1-h.padInfo.top,U=N-1-h.padInfo.left,K=I/F;for(let G=0;G<E;++G)for(let re=0;re<F;++re)for(let ue=0;ue<R;++ue){const ae=ue-H,X=Math.max(0,Math.ceil(ae/z)),J=Math.min(D,(A+ae)/z);for(let q=0;q<P;++q){const L=q-U,Q=Math.max(0,Math.ceil(L/W)),se=Math.min(M,(N+L)/W);let de=0;for(let he=X;he<J;++he){const ge=he*z-ae;for(let $e=Q;$e<se;++$e){const He=$e*W-L,Ie=b*G+C*he+S*$e,Ce=k*(A-1-ge)+T*(N-1-He)+_*re;for(let Re=0;Re<K;++Re){const ze=re*K+Re,Ue=w[Ie+ze],rt=$[Ce+Re];de+=Ue*rt}}}g[m*G+v*ue+y*q+re]=de}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const ont={kernelName:i4,backendName:"cpu",kernelFunc:snt};function int(e){const{inputs:t,backend:n}=e,{x:r}=t,s=je(r.shape),o=n.data.get(r.dataId).values,i=Wn([s,s],r.dtype),a=i.values;for(let u=0;u<o.length;u++)a[u*s+u]=o[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,i.dtype,i.values)}const ant={kernelName:a4,backendName:"cpu",kernelFunc:int};const lnt={kernelName:G_,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s}=e,{strides:o,pad:i,dilations:a}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,f=l.data.get(s.dataId).values,d=s.shape.length,{batchSize:h,inHeight:p,inWidth:g,inChannels:m,outHeight:v,outWidth:y,padInfo:w,strideHeight:b,strideWidth:C,filterHeight:S,filterWidth:$,dilationHeight:k,dilationWidth:T,outShape:_}=MT(r.shape,s.shape,o,i,"NHWC",a),E=je(_),A=_.length,N=Ds(r.dtype,E);for(let R=0;R<h;++R)for(let P=0;P<v;++P){const I=P*b-w.top;for(let D=0;D<y;++D){const M=D*C-w.left;for(let z=0;z<m;++z){let W=Number.MIN_SAFE_INTEGER;for(let U=0;U<S;++U){const K=I+U*k;if(K>=0&&K<p)for(let G=0;G<$;++G){const re=M+G*T;if(re>=0&&re<g){const ue=$c([R,K,re,z],c,fn(r.shape)),ae=$c([U,G,z],d,fn(s.shape)),X=u[ue]+f[ae];X>W&&(W=X)}}}const H=$c([R,P,D,z],A,fn(_));N[H]=W}}}return{dataId:l.write(e0(N,r.dtype),_,r.dtype),shape:_,dtype:r.dtype}}};const unt={kernelName:$O,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:a,dilations:l}=n,u=t,c=Iu(r.shape,u.data.get(r.dataId).values),f=Iu(s.shape,u.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:g,outHeight:m,outWidth:v,padInfo:y,strideHeight:w,strideWidth:b,filterHeight:C,filterWidth:S,dilationHeight:$,dilationWidth:k,outShape:T}=MT(r.shape,s.shape,i,a,"NHWC",l);te(o.rank===T.length,()=>`Error in ${$O}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const _=Iu(T,u.data.get(o.dataId).values),E=Iq(s.shape,s.dtype);for(let N=0;N<d;++N)for(let F=0;F<m;++F){const R=F*w-y.top;for(let P=0;P<v;++P){const I=P*b-y.left;for(let D=0;D<g;++D){let M=Number.MIN_SAFE_INTEGER,z=0,W=0;for(let H=0;H<C;++H){const U=R+H*$;if(U>=0&&U<h)for(let K=0;K<S;++K){const G=I+K*k;if(G>=0&&G<p){const re=c[N][U][G][D]+f[H][K][D];re>M&&(M=re,z=H,W=K)}}}E[z][W][D]+=_[N][F][P][D]}}}return{dataId:u.write(e0(E,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const cnt={kernelName:SO,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:s,dy:o}=e,{strides:i,pad:a,dilations:l}=n,u=t,c=Iu(r.shape,u.data.get(r.dataId).values),f=Iu(s.shape,u.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:g,outHeight:m,outWidth:v,padInfo:y,strideHeight:w,strideWidth:b,filterHeight:C,filterWidth:S,dilationHeight:$,dilationWidth:k,outShape:T}=MT(r.shape,s.shape,i,a,"NHWC",l);te(o.rank===T.length,()=>`Error in ${SO}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const _=Iu(T,u.data.get(o.dataId).values),E=Iq(r.shape,r.dtype);for(let N=0;N<d;++N)for(let F=0;F<m;++F){const R=F*w-y.top;for(let P=0;P<v;++P){const I=P*b-y.left;for(let D=0;D<g;++D){let M=Number.MIN_SAFE_INTEGER,z=R<0?0:R,W=I<0?0:I;for(let H=0;H<C;++H){const U=R+H*$;if(U>=0&&U<h)for(let K=0;K<S;++K){const G=I+K*k;if(G>=0&&G<p){const re=c[N][U][G][D]+f[H][K][D];re>M&&(M=re,z=U,W=G)}}}E[N][z][W][D]+=_[N][F][P][D]}}}return{dataId:u.write(e0(E,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function fnt(e){const{inputs:t,backend:n,attrs:r}=e,{image:s}=t,{canvas:o,options:i}=r,{contextOptions:a,imageOptions:l}=i||{},u=l?.alpha||1,c=a?.contextType||"2d";if(c!=="2d")throw new Error(`Context type ${a.contextType} is not supported by the CPU backend.`);const f=o.getContext(c,a?.contextAttributes||{});if(f==null)throw new Error(`Could not get the context with ${c} type.`);const[d,h]=s.shape.slice(0,2),p=s.shape.length===2?1:s.shape[2],g=n.data.get(s.dataId).values,m=s.dtype==="float32"?255:1,v=new Uint8ClampedArray(h*d*4);for(let w=0;w<d*h;++w){const b=[0,0,0,255*u];for(let S=0;S<p;S++){const $=g[w*p+S];if(s.dtype==="float32"){if($<0||$>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${$}.`)}else if(s.dtype==="int32"&&($<0||$>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${$}.`);p===1?(b[0]=$*m,b[1]=$*m,b[2]=$*m):b[S]=$*m}const C=w*4;v[C+0]=Math.round(b[0]),v[C+1]=Math.round(b[1]),v[C+2]=Math.round(b[2]),v[C+3]=Math.round(b[3])}o.width=h,o.height=d;const y=new ImageData(v,h,d);return f.putImageData(y,0,0),s}const dnt={kernelName:l4,backendName:"cpu",kernelFunc:fnt};function eA(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;Jt(s,"sum");let a;s.dtype==="bool"?a=bm({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=dd({inputs:{x:s},backend:n});const l=a.shape.length,u=qn(o,a.shape),c=As(u,l);let f=u,d=a;c!=null&&(d=Ra({inputs:{x:a},backend:n,attrs:{perm:c}}),f=Hs(f.length,l)),Qo("sum",f,d.shape.length);const[h,p]=Ao(d.shape,f),g=Da(d.dtype,"int32");let m=LO(n,h,g);const v=je(p),y=n.data.get(m.dataId).values,w=n.data.get(d.dataId).values;for(let b=0;b<y.length;++b){const C=b*v;let S=0;for(let $=0;$<v;++$)S+=w[C+$];y[b]=S}if(i){const b=Us(m.shape,u),C=m;m=rs({inputs:{x:m},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(C)}return n.disposeIntermediateTensorInfo(a),c!=null&&n.disposeIntermediateTensorInfo(d),m}const hnt={kernelName:ET,backendName:"cpu",kernelFunc:eA};function pnt(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,o=t,{allDims:i,summedDims:a,idDims:l}=GG(s,o.length);YG(i.length,l,o);const{path:u,steps:c}=XG(a,l),f=c.length;let d=null,h=i.length;const p=[];for(let g=0;g<f;++g){for(const m of c[g]){const{permutationIndices:v,expandDims:y}=KG(h,l[m]);let w;ZG(v)?w=o[m]:(w=Ra({inputs:{x:o[m]},backend:n,attrs:{perm:v}}),p.push(w));const b=w.shape.slice();for(let C=0;C<y.length;++C)b.splice(y[C],0,1);ir(w.shape,b)||(w=rs({inputs:{x:w},backend:n,attrs:{shape:b}}),p.push(w)),d===null?d=w:(d=jP({inputs:{a:w,b:d},backend:n}),p.push(d))}g<f-1&&(u[g]>=0&&(d=eA({inputs:{x:d},backend:n,attrs:{axis:u[g]-(i.length-h),keepDims:!1}}),p.push(d)),h--)}for(const g of p)g!==d&&n.disposeIntermediateTensorInfo(g);return d}const gnt={kernelName:u4,backendName:"cpu",kernelFunc:pnt};function mnt(e){const{inputs:t,backend:n}=e,{dy:r,y:s}=t;Jt([r,s],"eluGrad");const o=new Float32Array(je(s.shape)),i=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values;for(let l=0;l<i.length;++l){const u=i[l];u>=0?o[l]=a[l]:o[l]=a[l]*(u+1)}return n.makeTensorInfo(s.shape,"float32",o)}const vnt={kernelName:c4,backendName:"cpu",kernelFunc:mnt};const ynt=zG,bnt=VG,wnt=WG,xnt=UG,Cnt=jG,Snt=HG,$nt=Rr(f2,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+ynt*n);return t*(1-((((Snt*r+Cnt)*r+xnt)*r+wnt)*r+bnt)*r*Math.exp(-n*n))}),knt={kernelName:f2,backendName:"cpu",kernelFunc:$nt};function VO(e){const{inputs:t,backend:n,attrs:r}=e,{input:s}=t,{dim:o}=r,i=s.shape.length,a=s.shape.slice();let l=o;return o<0&&(te(-(i+1)<=o,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),l=i+o+1),a.splice(l,0,1),rs({inputs:{x:s},backend:n,attrs:{shape:a}})}const Ent={kernelName:Y_,backendName:"cpu",kernelFunc:VO};const _nt=Gs((e,t)=>e/t),IK=co(u2,_nt),HV={kernelName:u2,backendName:"cpu",kernelFunc:IK};function FCe(e,t,n){const r=e.shape,s=r[0],o=r[1],i=n.data.get(e.dataId),a=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[s,o],c=je(u),f=Eo("float32",c),d=Eo("float32",c);for(let m=0;m<s;m++){const v=k1({inputs:{x:a},backend:n,attrs:{begin:[m,0],size:[1,o]}}),y=k1({inputs:{x:l},backend:n,attrs:{begin:[m,0],size:[1,o]}}),w=el({inputs:{real:v,imag:y},backend:n}),{real:b,imag:C}=Tnt(w,t,n),S=op(b,C);for(let $=0;$<o;$++){const k=qG(S,$);f[m*o+$]=k.real,d[m*o+$]=k.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w)}const h=n.makeTensorInfo(u,"float32",f),p=n.makeTensorInfo(u,"float32",d),g=el({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),g}function Tnt(e,t,n){const r=je(e.shape),s=n.data.get(e.dataId),o=n.data.get(s.complexTensorInfos.real.dataId).values,i=n.data.get(s.complexTensorInfos.imag.dataId).values;if(Ant(r)){const a=qV(o,i,r,t,n),l=[e.shape[0],e.shape[1]];if(t){const u=n.makeTensorInfo(l,"float32",a.real),c=n.makeTensorInfo(l,"float32",a.imag),f=n.makeTensorInfo([],"float32",Ep(r,"float32")),d=dd({inputs:{x:f},backend:n}),h=HV.kernelFunc({inputs:{a:u,b:f},backend:n}),p=HV.kernelFunc({inputs:{a:c,b:d},backend:n}),g=n.data.get(h.dataId).values,m=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:g,imag:m}}return a}else{const a=op(o,i),l=Int(a,r,t);return Kbe(l)}}function Ant(e){return(e&e-1)===0}function qV(e,t,n,r,s){if(n===1)return{real:e,imag:t};const o=op(e,t),i=n/2,a=Ybe(o),l=a.real,u=a.imag,c=[l.length],f=s.makeTensorInfo(c,"float32",l),d=s.makeTensorInfo(c,"float32",u),h=el({inputs:{real:f,imag:d},backend:s}),p=Xbe(o),g=p.real,m=p.imag,v=[g.length],y=s.makeTensorInfo(v,"float32",g),w=s.makeTensorInfo(v,"float32",m),b=el({inputs:{real:y,imag:w},backend:s}),C=qV(l,u,i,r,s),S=C.real,$=C.imag,k=[S.length],T=s.makeTensorInfo(k,"float32",S),_=s.makeTensorInfo(k,"float32",$),E=el({inputs:{real:T,imag:_},backend:s}),A=qV(g,m,i,r,s),N=A.real,F=A.imag,R=[N.length],P=s.makeTensorInfo(R,"float32",N),I=s.makeTensorInfo(R,"float32",F),D=el({inputs:{real:P,imag:I},backend:s}),M=Jbe(n,r),z=[M.real.length],W=s.makeTensorInfo(z,"float32",M.real),H=s.makeTensorInfo(z,"float32",M.imag),U=el({inputs:{real:W,imag:H},backend:s}),K=jP({inputs:{a:U,b:D},backend:s}),G=Pw({inputs:{a:E,b:K},backend:s}),re=TK({inputs:{a:E,b:K},backend:s}),ue=$1({inputs:{input:G},backend:s}),ae=$1({inputs:{input:re},backend:s}),X=Lw({inputs:{input:G},backend:s}),J=Lw({inputs:{input:re},backend:s}),q=Bw({inputs:[ue,ae],backend:s,attrs:{axis:0}}),L=Bw({inputs:[X,J],backend:s,attrs:{axis:0}}),Q=s.data.get(q.dataId).values,se=s.data.get(L.dataId).values;return s.disposeIntermediateTensorInfo(f),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(w),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(_),s.disposeIntermediateTensorInfo(E),s.disposeIntermediateTensorInfo(P),s.disposeIntermediateTensorInfo(I),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(W),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(U),s.disposeIntermediateTensorInfo(K),s.disposeIntermediateTensorInfo(G),s.disposeIntermediateTensorInfo(re),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(X),s.disposeIntermediateTensorInfo(ae),s.disposeIntermediateTensorInfo(J),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(L),{real:Q,imag:se}}function Int(e,t,n){const r=new Float32Array(t*2);for(let s=0;s<t;s++){let o=0,i=0;for(let a=0;a<t;a++){const l=Qbe(s*a,t,n),u=qG(e,a);o+=u.real*l.real-u.imag*l.imag,i+=u.real*l.imag+u.imag*l.real}n&&(o/=t,i/=t),Zbe(r,o,i,s)}return r}function Nnt(e){const{inputs:t,backend:n}=e,{input:r}=t,s=je(r.shape),o=r.shape[r.shape.length-1],i=s/o,a=rs({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),l=FCe(a,!1,n),u=rs({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const Dnt={kernelName:f4,backendName:"cpu",kernelFunc:Nnt};function NK(e){const{backend:t,attrs:n}=e,{shape:r,value:s,dtype:o}=n,i=o||oy(s),a=Ds(i,je(r));return Rnt(a,s,i),t.makeTensorInfo(r,i,a)}const Ont={kernelName:d4,backendName:"cpu",kernelFunc:NK};function Rnt(e,t,n){e.fill(t)}const Fnt={kernelName:h4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,s=n,o=Eo(r.dtype,je(r.shape)),[i,a,l,u]=r.shape,c=s.data.get(r.dataId).values;for(let d=0;d<i;d++){const h=d*l*a*u;for(let p=0;p<a;p++){const g=p*(l*u);for(let m=0;m<l;m++){const v=m*u;for(let y=0;y<u;y++){const w=Math.round(l-m-1),b=h+g+v+y;let C=c[b];if(w>=0&&w<l){const S=w*u,$=h+g+S+y;C=c[$]}o[b]=C}}}}return{dataId:s.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function Mnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let g=OCe({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(i){const m=g;if(c==="NCHW"&&i.shape.length===1&&i.shape[0]!==1){const v=rs({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});g=Pw({inputs:{a:g,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else g=Pw({inputs:{a:g,b:i},backend:n});n.disposeIntermediateTensorInfo(m)}if(h){const m=g;if(c==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const v=rs({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});g=zO(n,g,h,v,p),n.disposeIntermediateTensorInfo(v)}else g=zO(n,g,h,a,p);n.disposeIntermediateTensorInfo(m)}return g}const Pnt={kernelName:Tk,backendName:"cpu",kernelFunc:Mnt};function Lnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let g=RCe({inputs:{x:s,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(i){const m=g;g=Pw({inputs:{a:g,b:i},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){const m=g;g=zO(n,g,h,a,p),n.disposeIntermediateTensorInfo(m)}return g}const Bnt={kernelName:Ak,backendName:"cpu",kernelFunc:Lnt};function znt(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,o=je(r.shape),i=s.shape,a=i[i.length-1],[l,u,c,f]=_P(r,s);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(s.dataId).values,h=n.bufferSync(r),p=H2e(d,h,r.dtype,u,a,c,f,r.shape,o);return n.makeTensorInfo(l,r.dtype,p.values)}const Vnt={kernelName:p4,backendName:"cpu",kernelFunc:znt};function Wnt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:o}=t,{axis:i,batchDims:a}=r;Jt([s,o],"gatherV2");const l=qn(i,s.shape)[0],u=n.data.get(o.dataId).values,c=s.shape[l];for(let b=0;b<u.length;++b){const C=u[b];te(C<=c-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${c-1}]`)}let f=a;a==null&&(f=0);const d=je(o.shape),h=QG(s,o,l,f),p=rs({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),g=rs({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),m=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],v=n.bufferSync(g),y=n.bufferSync(p),w=q2e(y,v,m);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(h.outputShape,w.dtype,w.values)}const Unt={kernelName:Z_,backendName:"cpu",kernelFunc:Wnt};function jnt(e){const{inputs:t,backend:n}=e,{input:r}=t,s=je(r.shape),o=r.shape[r.shape.length-1],i=s/o,a=rs({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),l=FCe(a,!0,n),u=rs({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const Hnt={kernelName:g4,backendName:"cpu",kernelFunc:jnt};const qnt=Rr(y2,e=>Number.isFinite(e)?1:0,"bool"),Gnt={kernelName:y2,backendName:"cpu",kernelFunc:qnt};const Knt=Rr(b2,e=>Math.abs(e)===1/0?1:0,"bool"),Ynt={kernelName:b2,backendName:"cpu",kernelFunc:Knt};const Xnt=Rr(w2,e=>Number.isNaN(e)?1:0,"bool"),Znt={kernelName:w2,backendName:"cpu",kernelFunc:Xnt};function Jnt(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:o}=n,i=Z2e(r,s,o);return t.makeTensorInfo([i.length],"float32",i)}const Qnt={kernelName:v4,backendName:"cpu",kernelFunc:Jnt};const ert=Rr(C2,e=>Math.log1p(e)),trt={kernelName:C2,backendName:"cpu",kernelFunc:ert};const nrt=Gs((e,t)=>e&&t),rrt=co(nT,nrt,null,"bool"),srt={kernelName:nT,backendName:"cpu",kernelFunc:rrt};const ort=Rr(rT,e=>e?0:1,"bool"),irt={kernelName:rT,backendName:"cpu",kernelFunc:ort};const art=Gs((e,t)=>e||t),lrt=co(sT,art,null,"bool"),urt={kernelName:sT,backendName:"cpu",kernelFunc:lrt};function crt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:o,bias:i,alpha:a,beta:l}=r;Jt(s,"LRN");const u=s.shape[3],c=u-1,f=n.data.get(s.dataId).values,d=je(s.shape),h=new Float32Array(d);function p(g){const m=g%u;let v=g-m+Math.max(0,m-o);const y=g-m+Math.min(m+o,c);let w=0;for(;v<=y;v++){const b=f[v];w+=b*b}return w}for(let g=0;g<d;g++){const m=p(g),v=f[g]*Math.pow(i+a*m,-l);h[g]=v}return n.makeTensorInfo(s.shape,s.dtype,h)}const frt={kernelName:oT,backendName:"cpu",kernelFunc:crt};function drt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,y:o,dy:i}=t,{depthRadius:a,bias:l,alpha:u,beta:c}=r;Jt(i,"LRNGrad");const f=je(i.shape),d=i.shape[3],h=n.data.get(i.dataId).values,p=n.data.get(s.dataId).values,g=n.data.get(o.dataId).values,m=new Float32Array(f),v=f;for(let y=0;y<v;y++){const w=y%d,b=y-w+Math.max(0,w-a),C=y-w+Math.min(d,w+a+1);let S=0;for(let $=b;$<C;$++)S+=Math.pow(p[$],2);S=u*S+l;for(let $=b;$<C;$++){let k=-2*u*c*p[$]*g[y]/S;y===$&&(k+=Math.pow(S,-c)),k*=h[y],m[$]+=k}}return n.makeTensorInfo(i.shape,s.dtype,m)}const hrt={kernelName:y4,backendName:"cpu",kernelFunc:drt};function MCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:o,keepDims:i}=r,a=n;let l=s.shape;const u=l.length,c=qn(o,l);let f=c;const d=As(f,u);let h=a.data.get(s.dataId).values;if(d!=null){const b=new Array(u);for(let C=0;C<b.length;C++)b[C]=l[d[C]];h=EK(h,l,s.dtype,d,b),f=Hs(f.length,u),l=b}Jt(s,"max"),Qo("max",f,u);const[p,g]=Ao(l,f),m=je(g),v=Q2e(h,m,p,s.dtype),y=a.write(v,p,s.dtype);let w=p;return i&&(w=Us(p,c)),{dataId:y,shape:w,dtype:s.dtype}}const prt={kernelName:iT,backendName:"cpu",kernelFunc:MCe};function grt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;Jt(s,"maxPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Ku(s.shape,o,i,u,a,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))f=dd({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=fn(s.shape),p=AK(d,s.shape,s.dtype,h,c,"max");f=n.makeTensorInfo(c.outShape,s.dtype,p.values)}return f}const mrt={kernelName:aT,backendName:"cpu",kernelFunc:grt};function vrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r;Jt(s,"maxPool3d");const c=_p(s.shape,o,i,1,a,l,u),f=n.data.get(s.dataId).values,d=DCe(f,s.shape,s.dtype,fn(s.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const yrt={kernelName:lT,backendName:"cpu",kernelFunc:vrt};function brt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,{filterSize:i,strides:a,pad:l,dimRoundingMode:u}=r;Jt([s,o],"maxPool3DGrad");const c=_p(o.shape,i,a,1,l,u),f=n.bufferSync(o),d=att(f,c),h=c.strideDepth,p=c.strideHeight,g=c.strideWidth,m=c.dilationDepth,v=c.dilationHeight,y=c.dilationWidth,w=c.effectiveFilterDepth,b=c.effectiveFilterHeight,C=c.effectiveFilterWidth,S=w-1-c.padInfo.front,$=C-1-c.padInfo.left,k=b-1-c.padInfo.top,T=Wn(o.shape,"float32"),_=n.bufferSync(s);for(let E=0;E<c.batchSize;++E)for(let A=0;A<c.inChannels;++A)for(let N=0;N<c.inDepth;++N)for(let F=0;F<c.inHeight;++F)for(let R=0;R<c.inWidth;++R){const P=N-S,I=F-k,D=R-$;let M=0;for(let z=0;z<w;z+=m){const W=(P+z)/h;if(!(W<0||W>=c.outDepth||Math.floor(W)!==W))for(let H=0;H<b;H+=v){const U=(I+H)/p;if(!(U<0||U>=c.outHeight||Math.floor(U)!==U))for(let K=0;K<C;K+=y){const G=(D+K)/g;if(G<0||G>=c.outWidth||Math.floor(G)!==G)continue;const re=w*b*C-1-d.get(E,W,U,G,A),ue=z*b*C+H*C+K,ae=re===ue?1:0;if(ae===0)continue;const X=_.get(E,W,U,G,A);M+=X*ae}}}T.set(M,E,N,F,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const wrt={kernelName:w4,backendName:"cpu",kernelFunc:brt};function xrt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o,output:i}=t,a=o;Jt([o,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Ku(a.shape,l,u,1,c,f),h=n.data.get(a.dataId).values,p=Wn(d.outShape,a.dtype,NCe(h,a.shape,a.dtype,d).values),g=d.strideHeight,m=d.strideWidth,v=d.dilationHeight,y=d.dilationWidth,w=d.effectiveFilterHeight,b=d.effectiveFilterWidth,C=b-1-d.padInfo.left,S=w-1-d.padInfo.top,$=Wn(a.shape,"float32"),k=n.data.get(s.dataId).values,T=Wn(s.shape,"float32",k);for(let _=0;_<d.batchSize;++_)for(let E=0;E<d.inChannels;++E)for(let A=0;A<d.inHeight;++A)for(let N=0;N<d.inWidth;++N){const F=A-S,R=N-C;let P=0;for(let I=0;I<w;I+=v){const D=(F+I)/g;if(!(D<0||D>=d.outHeight||Math.floor(D)!==D))for(let M=0;M<b;M+=y){const z=(R+M)/m;if(z<0||z>=d.outWidth||Math.floor(z)!==z)continue;const W=w*b-1-p.get(_,D,z,E),H=I*b+M,U=W===H?1:0;if(U===0)continue;const K=T.get(_,D,z,E);P+=K*U}}$.set(P,_,A,N,E)}return n.makeTensorInfo($.shape,$.dtype,$.values)}const Crt={kernelName:b4,backendName:"cpu",kernelFunc:xrt};function Srt(e,t,n,r,s){const o=fn(t),i=AK(e,t,n,o,s,"max"),a=NCe(e,t,n,s,!0,r);return[i.values,a.values]}const $rt={kernelName:x4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:s,strides:o,pad:i,includeBatchInIndex:a}=t,l=n;Jt(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=Ku(r.shape,s,o,[1,1],i),[f,d]=Srt(u,r.shape,r.dtype,a,c),h=l.write(f,c.outShape,r.dtype),p=l.write(d,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};function krt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=qn(o,s.shape),u=Ao(s.shape,a)[1],c=je(u),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([c]));f.push(d);const h=bm({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});f.push(h);const p=IK({inputs:{a:h,b:d},backend:n});f.push(p);const g=eA({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:i}});return f.forEach(m=>n.disposeIntermediateTensorInfo(m)),g}const Ert={kernelName:uT,backendName:"cpu",kernelFunc:krt};function _rt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;Jt(s,"min");const a=qn(o,s.shape);let l=a;const u=As(l,s.shape.length);let c=s;u!=null&&(c=Ra({inputs:{x:s},backend:n,attrs:{perm:u}}),l=Hs(l.length,s.shape.length)),Qo("min",l,c.shape.length);const[f,d]=Ao(c.shape,l),h=je(d),p=qo(je(f),c.dtype),g=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const y=v*h;let w=g[y];for(let b=0;b<h;++b){const C=g[y+b];(Number.isNaN(C)||C<w)&&(w=C)}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(f,c.dtype,p);if(i){const v=Us(f,a),y=rs({inputs:{x:m},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(m),y}return m}const Trt={kernelName:cT,backendName:"cpu",kernelFunc:_rt};function Art(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,mode:i}=r;Jt(s,"mirrorPad");const a=o.map((w,b)=>w[0]+s.shape[b]+w[1]),l=o.map(w=>w[0]),u=o.map((w,b)=>w[0]+s.shape[b]),c=i==="reflect"?0:1,f=n.data.get(s.dataId).values,d=s.shape.length,h=fn(s.shape),p=je(a),g=a.length,m=fn(a),v=Eo(s.dtype,p);for(let w=0;w<p;w++){let b=iy(w,g,m);for(let S=0;S<g;S++)b[S]<l[S]?b[S]=l[S]*2-b[S]-c:b[S]>=u[S]&&(b[S]=(u[S]-1)*2-b[S]+c);b=b.map((S,$)=>S-l[$]);const C=$c(b,d,h);v[w]=f[C]}return{dataId:n.write(v,a,s.dtype),shape:a,dtype:s.dtype}}const Irt={kernelName:fT,backendName:"cpu",kernelFunc:Art};const Nrt=Gs(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Drt=co(k2,Nrt),Ort={kernelName:k2,backendName:"cpu",kernelFunc:Drt};function PCe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:o}=r,i=s.shape.length;let a=o;if(a===-1&&(a=i-1),a!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${a}`);const l=qn([a],s.shape),u=MCe({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Us(u.shape,l),f=rs({inputs:{x:u},backend:n,attrs:{shape:c}}),d=TK({inputs:{a:s,b:f},backend:n}),h=V2e({inputs:{x:d},backend:n}),p=eA({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),g=rs({inputs:{x:p},backend:n,attrs:{shape:c}}),m=IK({inputs:{a:h,b:g},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),m}const Rrt={kernelName:AT,backendName:"cpu",kernelFunc:PCe};function Frt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:o,seed:i,normalized:a}=r;Jt(s,"multinomial");const l=a?s:PCe({inputs:{logits:s},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,o],h=qo(je(d),"int32");for(let p=0;p<u;++p){const g=p*c,m=new Float32Array(c-1);m[0]=f[g];for(let w=1;w<m.length;++w)m[w]=m[w-1]+f[g+w];const v=fP.alea(i.toString()),y=p*o;for(let w=0;w<o;++w){const b=v();h[y+w]=m.length;for(let C=0;C<m.length;C++)if(b<m[C]){h[y+w]=C;break}}}return a||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const Mrt={kernelName:C4,backendName:"cpu",kernelFunc:Frt};const Prt=SP;function Lrt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l}=r;Jt(s,"NonMaxSuppression");const u=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:f}=Prt(u,c,i,a,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Brt={kernelName:S4,backendName:"cpu",kernelFunc:Lrt};const zrt=$P;function Vrt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:u}=r;Jt(s,"NonMaxSuppressionPadded");const c=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,{selectedIndices:d,validOutputs:h}=zrt(c,f,i,a,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Wrt={kernelName:$4,backendName:"cpu",kernelFunc:Vrt};const Urt=kP;function jrt(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,softNmsSigma:u}=r;Jt(s,"NonMaxSuppressionWithScore");const c=n.data.get(s.dataId).values,f=n.data.get(o.dataId).values,d=i,h=a,p=l,g=u,{selectedIndices:m,selectedScores:v}=Urt(c,f,d,h,p,g);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Hrt={kernelName:k4,backendName:"cpu",kernelFunc:jrt};function qrt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:o,depth:i,onValue:a,offValue:l}=r;Jt(s,"oneHot");const u=je(s.shape),c=new Float32Array(u*i);c.fill(l);const f=n.data.get(s.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<i&&(c[d*i+f[d]]=a);return n.makeTensorInfo([...s.shape,i],o,c)}const Grt={kernelName:gT,backendName:"cpu",kernelFunc:qrt};function WO(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=$1({inputs:{input:r},backend:n}),o=WO({inputs:{x:s},backend:n}),i=Lw({inputs:{input:r},backend:n}),a=WO({inputs:{x:i},backend:n}),l=el({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return NK({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Krt={kernelName:OT,backendName:"cpu",kernelFunc:WO};function LCe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=$1({inputs:{input:r},backend:n}),o=LCe({inputs:{x:s},backend:n}),i=Lw({inputs:{input:r},backend:n}),a=WO({inputs:{x:i},backend:n}),l=el({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return NK({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Yrt={kernelName:pT,backendName:"cpu",kernelFunc:LCe};function BCe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(t.length===1)return VO({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const o=t[0].shape,i=t[0].dtype;t.forEach(c=>{Zo(o,c.shape,"All tensors passed to stack must have matching shapes"),te(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=t.map(c=>{const f=VO({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(f),f}),u=Bw({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Xrt={kernelName:mT,backendName:"cpu",kernelFunc:BCe};function Zrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,constantValue:i}=r;Jt(s,"pad");const a=o.map((y,w)=>y[0]+s.shape[w]+y[1]),l=o.map(y=>y[0]),u=n.data.get(s.dataId).values,c=je(s.shape),f=s.shape.length,d=fn(s.shape),h=je(a),p=a.length,g=fn(a),m=Eo(s.dtype,h);i!==0&&m.fill(i);for(let y=0;y<c;y++){const b=iy(y,f,d).map((S,$)=>S+l[$]),C=$c(b,p,g);m[C]=u[y]}return{dataId:n.write(m,a,s.dtype),shape:a,dtype:s.dtype}}const zCe={kernelName:vT,backendName:"cpu",kernelFunc:Zrt};const Jrt=Gs((e,t)=>Math.pow(e,t)),Qrt=co(_2,Jrt),est={kernelName:_2,backendName:"cpu",kernelFunc:Qrt};function tst(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:a}=r,l=s.map(v=>n.data.get(v.dataId).values),u=s.map(v=>v.shape),c=n.data.get(o.dataId).values,f=n.data.get(i.dataId).values,[d,h,p]=oCe(l,u,c,o.shape,o.dtype,f,i.shape),g=d.map(v=>n.makeTensorInfo([v.length],"int32",v)),m=n.makeTensorInfo(p,o.dtype,h);return g.concat([m])}const nst={kernelName:E4,backendName:"cpu",kernelFunc:tst};function rst(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=iCe(i,r.shape,r.dtype,a,s.shape,l,o.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const sst={kernelName:_4,backendName:"cpu",kernelFunc:rst};function ost(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:o,defaultValue:i,rowPartitionTensors:a}=t,{rowPartitionTypes:l}=r,u=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values,f=n.data.get(i.dataId).values,d=a.map(m=>n.data.get(m.dataId).values),h=a.map(m=>m.shape),[p,g]=aCe(u,s.shape,c,o.shape,o.dtype,f,i.shape,d,h,l);return n.makeTensorInfo(p,o.dtype,g)}const ist={kernelName:T4,backendName:"cpu",kernelFunc:ost};function ast(e){const{backend:t,attrs:n}=e,{start:r,stop:s,dtype:o,step:i}=n,a=lCe(r,s,i,o);return t.makeTensorInfo([a.length],o,a)}const lst={kernelName:A4,backendName:"cpu",kernelFunc:ast};const ust=Rr(T2,e=>1/e),cst={kernelName:T2,backendName:"cpu",kernelFunc:ust};function fst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r;Jt(s,"resizeBilinear");const l=fn(s.shape),[u,c]=a,[f,d,h,p]=s.shape,g=n.data.get(s.dataId).values,m=new Float32Array(je([f,u,c,p])),v=[o&&u>1?d-1:d,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c];let w=0;const b=v[0]/y[0],C=v[1]/y[1];for(let S=0;S<f;S++)for(let $=0;$<u;$++){let k;i?k=b*($+.5)-.5:k=b*$;const T=Math.max(0,Math.floor(k)),_=k-T,E=Math.min(d-1,Math.ceil(k)),A=S*l[0]+T*l[1],N=S*l[0]+E*l[1];for(let F=0;F<c;F++){let R;i?R=C*(F+.5)-.5:R=C*F;const P=Math.max(0,Math.floor(R)),I=R-P,D=Math.min(h-1,Math.ceil(R)),M=A+P*l[2],z=N+P*l[2],W=A+D*l[2],H=N+D*l[2];for(let U=0;U<p;U++){const K=g[M+U],G=g[z+U],re=g[W+U],ue=g[H+U],ae=K+(re-K)*I,X=G+(ue-G)*I,J=ae+(X-ae)*_;m[w++]=J}}}return n.makeTensorInfo([f,u,c,p],"float32",m)}const dst={kernelName:CT,backendName:"cpu",kernelFunc:fst};function hst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r;Jt([o,s],"resizeBilinearGrad");const a=fn(s.shape),[l,u,c,f]=s.shape,[,d,h]=o.shape,p=new Float32Array(l*u*c*f),g=[i&&d>1?u-1:u,i&&h>1?c-1:c],m=[i&&d>1?d-1:d,i&&h>1?h-1:h],v=g[0]/m[0],y=g[1]/m[1],w=n.data.get(o.dataId).values;let b=0;for(let C=0;C<l;C++){const S=C*a[0];for(let $=0;$<d;$++){const k=$*v,T=Math.floor(k),_=Math.min(Math.ceil(k),u-1),E=S+T*a[1],A=S+_*a[1],N=k-T,F=1-N;for(let R=0;R<h;R++){const P=R*y,I=Math.floor(P),D=Math.min(Math.ceil(P),c-1),M=P-I,z=1-M,W=E+I*a[2],H=E+D*a[2],U=A+I*a[2],K=A+D*a[2],G=F*z,re=F*M,ue=N*z,ae=N*M;for(let X=0;X<f;X++){const J=w[b++];p[W+X]+=J*G,p[H+X]+=J*re,p[U+X]+=J*ue,p[K+X]+=J*ae}}}}return n.makeTensorInfo([l,c,u,f],"float32",p)}const pst={kernelName:D4,backendName:"cpu",kernelFunc:hst};function gst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r;Jt(s,"resizeNearestNeighbor");const l=fn(s.shape),[u,c]=a,[f,d,h,p]=s.shape,g=n.data.get(s.dataId).values,m=new Float32Array(f*u*c*p),v=[o&&u>1?d-1:d,o&&c>1?h-1:h],y=[o&&u>1?u-1:u,o&&c>1?c-1:c],w=v[0]/y[0],b=v[1]/y[1];let C=0;for(let S=0;S<f;S++){const $=S*l[0];for(let k=0;k<u;k++){const T=i?w*(k+.5):w*k;let _=Math.min(d-1,o?Math.round(T):Math.floor(T));i&&(_=Math.max(0,_));const E=$+_*l[1];for(let A=0;A<c;A++){const N=i?b*(A+.5):b*A;let F=Math.min(h-1,o?Math.round(N):Math.floor(N));i&&(F=Math.max(0,F));const R=E+F*l[2];for(let P=0;P<p;P++){const I=g[R+P];m[C++]=I}}}}return n.makeTensorInfo([f,u,c,p],s.dtype,m)}const mst={kernelName:xT,backendName:"cpu",kernelFunc:gst};function vst(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r;Jt([o,s],"resizeNearestNeighborGrad");const a=fn(s.shape),l=fn(o.shape),[u,c,f,d]=s.shape,[,h,p]=o.shape,g=new Float32Array(u*c*f*d),m=n.data.get(o.dataId).values,v=[i&&h>1?c-1:c,i&&p>1?f-1:f],y=[i&&h>1?h-1:h,i&&p>1?p-1:p],w=v[0]/y[0],b=v[1]/y[1],C=1/w,S=1/b,$=Math.ceil(C)*2+2,k=Math.ceil(S)*2+2;for(let T=0;T<u;T++){const _=T*a[0];for(let E=0;E<c;E++){const A=_+E*a[1],N=Math.floor(E*C),F=Math.floor(N-$/2);for(let R=0;R<f;R++){const P=A+R*a[2],I=Math.floor(R*S),D=Math.floor(I-k/2);for(let M=0;M<d;M++){let z=0;for(let W=0;W<$;W++){const H=W+F;if(H<0||H>=h)continue;const U=_+H*l[1],K=H*w,G=Math.min(c-1,i?Math.round(K):Math.floor(K));if(E===G)for(let re=0;re<k;re++){const ue=re+D;if(ue<0||ue>=p)continue;const ae=U+ue*l[2],X=ue*b,J=Math.min(f-1,i?Math.round(X):Math.floor(X));R===J&&(z+=m[ae+M])}}g[P+M]=z}}}}return n.makeTensorInfo(s.shape,s.dtype,g)}const yst={kernelName:N4,backendName:"cpu",kernelFunc:vst};function bst(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:o}=r;Jt(s,"reverse");const i=s.shape.length,a=qn(o,s.shape);if(i===0)return dd({inputs:{x:s},backend:n});const l=new Xs(s.shape,s.dtype),u=n.bufferSync(s);for(let c=0;c<l.size;c++){const f=l.indexToLoc(c),d=f.slice();a.forEach(h=>d[h]=s.shape[h]-1-d[h]),l.set(u.get(...d),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const wst={kernelName:ST,backendName:"cpu",kernelFunc:bst};const xst={kernelName:Y4,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:s,fillValue:o,center:i}=t,a=n,l=Eo(r.dtype,je(r.shape)),[u,c,f,d]=r.shape,[h,p]=PG(i,c,f),g=255,m=Math.sin(s),v=Math.cos(s),y=a.data.get(r.dataId).values;for(let b=0;b<u;b++){const C=b*f*c*d;for(let S=0;S<c;S++){const $=S*(f*d);for(let k=0;k<f;k++){const T=k*d;for(let _=0;_<d;_++){const E=[u,S,k,_],A=E[2],N=E[1];let F=(A-h)*v-(N-p)*m,R=(A-h)*m+(N-p)*v;F=Math.round(F+h),R=Math.round(R+p);let P=o;if(typeof o!="number"&&(_===3?P=g:P=o[_]),F>=0&&F<f&&R>=0&&R<c){const D=R*(f*d),M=F*d,z=C+D+M+_;P=y[z]}const I=C+$+T+_;l[I]=P}}}}return{dataId:a.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const Cst=Rr(N2,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),Sst={kernelName:N2,backendName:"cpu",kernelFunc:Cst};function $st(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:o}=t,{shape:i}=r,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(o,s,i),d=!0,h=n.bufferSync(s),p=n.bufferSync(o),g=Ev(h,p,i,f,u,l,a,c,0,d);return n.makeTensorInfo(i,g.dtype,g.values)}const kst={kernelName:O4,backendName:"cpu",kernelFunc:$st};function Est(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<t?n=s+1:r=s;return r}function _st(e,t){let n=0,r=e.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),e[s]<=t?n=s+1:r=s;return r}function Tst(e,t,n,r,s,o){const i=Ds("int32",n*s);for(let a=0;a<n;++a){const l=e.slice(a*r,(a+1)*r),u=a*s;for(let c=0;c<s;++c)i[u+c]=o==="left"?Est(l,t[c+u]):_st(l,t[c+u])}return i}function Ast(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:o}=t,{side:i}=r,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,u=Tst(a,l,s.shape[0],s.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",u)}const Ist={kernelName:F4,backendName:"cpu",kernelFunc:Ast};function Nst(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:o}=t;Jt([r,s,o],"select");const i=r.shape.length,a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=Da(s.dtype,o.dtype),f=qo(je(s.shape),c);let d=0;const h=i===0||i>1||s.shape.length===1?1:je(s.shape.slice(1));for(let p=0;p<a.length;p++)for(let g=0;g<h;g++)a[p]===1?f[d++]=l[p]:f[d++]=u[p];return n.makeTensorInfo(s.shape,c,f)}const Dst={kernelName:$T,backendName:"cpu",kernelFunc:Nst};const Ost=IP,Rst=NP,Fst=Rr(O2,e=>e>=0?Rst*e:Ost*(Math.exp(e)-1)),Mst={kernelName:O2,backendName:"cpu",kernelFunc:Fst};const Pst=Rr(M2,e=>e<0?-1:e>0?1:0),Lst={kernelName:M2,backendName:"cpu",kernelFunc:Pst};const Bst=Rr(R2,e=>Math.sin(e)),zst={kernelName:R2,backendName:"cpu",kernelFunc:Bst};const Vst=Rr(F2,e=>Math.sinh(e)),Wst={kernelName:F2,backendName:"cpu",kernelFunc:Vst};const Ust=11920928955078125e-23,_oe=Math.log(Ust)+2,jst=Rr(L2,e=>{const t=e>-_oe,n=e<_oe,r=Math.exp(e);let s;return n?s=r:t?s=e:s=Math.log(1+r),s}),Hst={kernelName:L2,backendName:"cpu",kernelFunc:jst};function qst(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,paddings:i}=r;Jt([s],"spaceToBatchND");const a=je(o),l=[[0,0]];l.push(...i);for(let S=1+o.length;S<s.shape.length;++S)l.push([0,0]);const u=zCe.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),c=UT(u.shape,o,a,!1),f=jT(c.length,o.length,!1),d=HT(u.shape,o,a,!1),g=rs({inputs:{x:u},backend:n,attrs:{shape:c}}),y=Ra({inputs:{x:g},backend:n,attrs:{perm:f}}),C=rs({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),C}const Gst={kernelName:_T,backendName:"cpu",kernelFunc:qst};function Kst(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:o,defaultValue:i}=t;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const a=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values[0],[f,d,h,p,g]=dCe(a,r.shape,r.dtype,l,s.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(m=>Number(m)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const Yst={kernelName:M4,backendName:"cpu",kernelFunc:Kst};function Xst(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:o}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=Array.from(n.data.get(s.dataId).values),a=n.data.get(r.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,f]=hCe(a,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}const Zst={kernelName:P4,backendName:"cpu",kernelFunc:Xst};function Jst(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${o.shape}`);if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=_K(i,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const Qst={kernelName:L4,backendName:"cpu",kernelFunc:Jst};function eot(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${o.shape}`);if(s.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values,[u,c]=_K(i,r.shape,r.dtype,a,l);return n.makeTensorInfo(c,r.dtype,u)}const tot={kernelName:B4,backendName:"cpu",kernelFunc:eot};function not(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:o,defaultValue:i}=t,{outputShape:a}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=i0(o,s,a),h=!1,p=n.bufferSync(s);let g;switch(o.dtype){case"bool":{const m=n.bufferSync(o),v=!!n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"float32":{const m=n.bufferSync(o),v=n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"int32":{const m=n.bufferSync(o),v=n.data.get(i.dataId).values[0];g=Ev(p,m,a,d,c,u,l,f,v,h);break}case"string":{const m=n.bufferSync(o),v=rp(n.data.get(i.dataId).values[0]);g=Ev(p,m,a,d,c,u,l,f,v,h);break}default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(a,g.dtype,g.values)}const rot={kernelName:z4,backendName:"cpu",kernelFunc:not};function sot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:o,axis:i}=r,a=qn(i,s.shape)[0],l=JG(s,o,a),u=new Array(s.shape.length).fill(0),c=s.shape.slice();return l.map(f=>{const d=[...c];d[a]=f;const h=k1({inputs:{x:s},backend:n,attrs:{begin:u,size:d}});return u[a]+=f,h})}const oot={kernelName:TT,backendName:"cpu",kernelFunc:sot};const iot={kernelName:V4,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;Jt(n,"square");const s=r.data.get(n.dataId).values,o=new Float32Array(s.length);for(let a=0;a<s.length;++a){const l=s[a];o[a]=l*l}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};const aot=Rr(H2,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),lot={kernelName:H2,backendName:"cpu",kernelFunc:aot};function uot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,end:i,strides:a,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;Jt(s,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:g,sliceDim0:m,isSimpleSlice:v,begin:y,end:w,strides:b}=OG(s.shape,o,i,a,l,u,c,f,d);let C;if(g)C=rs({inputs:{x:s},backend:n,attrs:{shape:p}});else if(m||v){te(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const S=IG(y,w,b),$=k1({inputs:{x:s},backend:n,attrs:{begin:y,size:S}});C=rs({inputs:{x:$},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo($)}else{const S=n.bufferSync(s),$=mCe(h,S,b,y);C=n.makeTensorInfo(p,$.dtype,$.values)}return C}const cot={kernelName:W4,backendName:"cpu",kernelFunc:uot};function fot(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:o,leftPad:i,rightPad:a,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,h=n.data.get(f.dataId).values,[p,g]=vCe(d,h,s,o,i,a,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",g)]}const dot={kernelName:U4,backendName:"cpu",kernelFunc:fot};function hot(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:o,delimiter:i}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const a=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,f]=yCe(a,l,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const pot={kernelName:j4,backendName:"cpu",kernelFunc:hot};function got(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:o}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const i=n.data.get(o.dataId).values,a=bCe(i,s);return n.makeTensorInfo(o.shape,"int32",a)}const mot={kernelName:H4,backendName:"cpu",kernelFunc:got};const vot=Rr(W2,e=>Math.tan(e)),yot={kernelName:W2,backendName:"cpu",kernelFunc:vot};const bot=Rr(U2,e=>Math.tanh(e)),wot={kernelName:U2,backendName:"cpu",kernelFunc:bot};function xot(e){const{inputs:t,backend:n}=e,{tensor:r,indices:s,updates:o}=t,{sliceRank:i,numUpdates:a,sliceSize:l,strides:u,outputSize:c}=i0(o,s,r.shape),f=!1,d=n.bufferSync(s),h=n.bufferSync(o),p=n.bufferSync(r),g=Ev(d,h,r.shape,c,l,a,i,u,p,f);return n.makeTensorInfo(r.shape,g.dtype,g.values)}const Cot={kernelName:R4,backendName:"cpu",kernelFunc:xot};function Sot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:o}=r;Jt(s,"tile");const i=xCe(n.bufferSync(s),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const $ot={kernelName:j2,backendName:"cpu",kernelFunc:Sot};function kot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:o,sorted:i}=r;Jt(s,"topk");const a=n.data.get(s.dataId).values,[l,u]=SCe(a,s.shape,s.dtype,o,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const Eot={kernelName:q4,backendName:"cpu",kernelFunc:kot};function _ot(e){const{inputs:t,attrs:n,backend:r}=e,{image:s,transforms:o}=t,{interpolation:i,fillMode:a,fillValue:l,outputShape:u}=n,[c,f,d,h]=s.shape,[p,g]=u??[f,d],m=[c,p,g,h],v=fn(s.shape),y=v[0],w=v[1],b=v[2],C=fn(m),S=C[0],$=C[1],k=C[2],T=Eo(s.dtype,je(m));T.fill(l);const _=r.data.get(s.dataId).values,E=r.data.get(o.dataId).values;for(let N=0;N<c;++N){const F=o.shape[0]===1?E:E.subarray(N*8,N*8+8);for(let R=0;R<p;++R)for(let P=0;P<g;++P)for(let I=0;I<h;++I){let D;const M=F[6]*P+F[7]*R+1;if(M===0)continue;const z=(F[0]*P+F[1]*R+F[2])/M,W=(F[3]*P+F[4]*R+F[5])/M,H=Toe(z,d,a),U=Toe(W,f,a);switch(i){case"nearest":D=Oot(_,f,d,y,w,b,N,U,H,I,l);break;case"bilinear":D=Rot(_,f,d,y,w,b,N,U,H,I,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}const K=N*S+R*$+P*k+I;T[K]=D}return r.makeTensorInfo(m,s.dtype,T)}return{dataId:r.write(T,m,s.dtype),shape:s.shape,dtype:s.dtype}}const Tot={kernelName:G4,backendName:"cpu",kernelFunc:_ot};function Toe(e,t,n){switch(n){case"reflect":return Aot(e,t);case"wrap":return Iot(e,t);case"nearest":return Dot(e,t);default:return Not(e)}}function Aot(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{const r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return lm(0,n,t-1)}function Iot(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{const r=t-1;n-=t*Math.trunc(n/r)}return lm(0,n,t-1)}function Not(e,t){return e}function Dot(e,t){return lm(0,e,t-1)}function r$(e,t,n,r,s,o,i,a,l,u,c){const f=i*r+a*s+l*o+u;return 0<=a&&a<t&&0<=l&&l<n?e[f]:c}function Oot(e,t,n,r,s,o,i,a,l,u,c){const f=Math.round(a),d=Math.round(l);return r$(e,t,n,r,s,o,i,f,d,u,c)}function Rot(e,t,n,r,s,o,i,a,l,u,c){const f=Math.floor(a),d=Math.floor(l),h=f+1,p=d+1,g=(p-l)*r$(e,t,n,r,s,o,i,f,d,u,c)+(l-d)*r$(e,t,n,r,s,o,i,f,p,u,c),m=(p-l)*r$(e,t,n,r,s,o,i,h,d,u,c)+(l-d)*r$(e,t,n,r,s,o,i,h,p,u,c);return(h-a)*g+(a-f)*m}function Fot(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:o}=t;Jt(o,"unique");const i=r.data.get(o.dataId).values,{outputValues:a,outputShape:l,indices:u}=$Ce(i,s,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,a),r.makeTensorInfo([u.length],"int32",u)]}const Mot={kernelName:K4,backendName:"cpu",kernelFunc:Fot};function Pot(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:o}=r;o<0&&(o+=s.shape.length);const i=s.shape.length,a=s.shape[o],l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==o&&(l[u++]=s.shape[h]);const c=new Array(i).fill(0),f=s.shape.slice();f[o]=1;const d=new Array(a);for(let h=0;h<d.length;h++){c[o]=h;const p=k1({inputs:{x:s},backend:n,attrs:{begin:c,size:f}});d[h]=rs({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const Lot={kernelName:NT,backendName:"cpu",kernelFunc:Pot};function Bot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:o}=t,{numSegments:i}=r;Jt(s,"unsortedSegmentSum");const a=s.shape.length,l=o.shape.length,u=[],c=[],f=a-l;let d=o;for(let p=0;p<f;++p){const g=VO({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=g,c.push(g)}for(let p=0;p<i;++p){const g=Ep(p,"int32"),m=n.makeTensorInfo([],"int32",g),v=B2e({inputs:{a:m,b:d},backend:n}),y=bm({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),w=jP({inputs:{a:y,b:s},backend:n}),b=eA({inputs:{x:w},backend:n,attrs:{axis:0,keepDims:!1}});u.push(b),c.push(m),c.push(v),c.push(y),c.push(w),c.push(b)}const h=BCe({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const zot={kernelName:DT,backendName:"cpu",kernelFunc:Bot};const Vot=[Fet,hQe,Pet,Bet,bQe,Vet,Uet,Het,Get,Yet,Zet,Qet,ttt,stt,itt,utt,ftt,htt,gtt,Oet,vtt,btt,xtt,xQe,Stt,vQe,SQe,ktt,pQe,_tt,Att,Itt,Dtt,Rtt,Mtt,Ltt,ztt,Wtt,jtt,qtt,Ktt,Xtt,Jtt,ent,tnt,rnt,ont,ant,lnt,unt,cnt,dnt,gnt,Eet,vnt,$Qe,knt,kQe,Ent,_Qe,Dnt,Ont,Fnt,AQe,NQe,Pnt,Bnt,Vnt,Unt,OQe,FQe,gQe,Hnt,Ttt,Gnt,Ynt,Znt,_et,PQe,BQe,Qnt,VQe,trt,srt,irt,urt,frt,hrt,prt,UQe,mrt,yrt,wrt,Crt,$rt,Ert,Trt,HQe,Irt,Ort,Mrt,GQe,YQe,Brt,Wrt,Hrt,ZQe,Grt,Yrt,Xrt,zCe,est,Aet,eet,nst,sst,ist,lst,mQe,HV,cst,Iet,Net,Det,dst,pst,mst,yst,wst,xst,Sst,uet,kst,Ist,Dst,Mst,fet,Lst,zst,Wst,det,Rrt,Hst,Gst,Yst,Zst,Qst,tot,rot,oot,get,iot,vet,bet,lot,cot,dot,pot,mot,$et,hnt,yot,wot,Cot,$ot,Eot,Tot,JQe,Mot,Lot,zot,Krt];for(const e of Vot)X4(e);const hv={},XI={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Wot(e,t){hv[e]=t}function zc(e,t){if(!(e in hv)||t!=null){const r=jot(e,t);if(r!==null)hv[e]=r;else return console.log("Could not get context for WebGL version",e),null}const n=hv[e];return n==null||n.isContextLost()?(delete hv[e],zc(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),hv[e])}function Uot(e){if(!Pe().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function jot(e,t){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=t??Uot(e);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete hv[e]},!1),Pe().getBool("SOFTWARE_WEBGL_ENABLED")&&(XI.failIfMajorPerformanceCaveat=!1),e===1?n.getContext("webgl",XI)||n.getContext("experimental-webgl",XI):n.getContext("webgl2",XI)}var Hk;(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(Hk||(Hk={}));var Ul;(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(Ul||(Ul={}));var Mo;(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Mo||(Mo={}));function tA(e,t){return[t,e]}function Hot(e,t){return e*t}function ZI(e){const t=je(e),n=Math.ceil(t/4);return wO(n)}function Z2(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function qot(e,t){const[n,r]=Z2(e,t);return n*r*4}function DK(e,t){const n=e;let r,s,o,i,a,l,u,c,f,d;return Pe().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,o=n.RGBA16F,i=n.RGBA32F,a=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,s=e.RGBA,o=e.RGBA,i=n.RGBA,a=e.RGBA,u=4,c=4,f=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}function Vt(e,t){const n=t();return Pe().getBool("DEBUG")&&Got(e),n}function Got(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Zot(e,t))}const Kot=596e-10,Yot=65504;function Xot(e){return!!(Pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||Kot<Math.abs(e)&&Math.abs(e)<Yot)}function Zot(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function JI(e,t){return Dp(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function Jot(e,t){const n=Dp(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Vt(e,()=>e.shaderSource(n,t)),Vt(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Qot(e,t){const n=Dp(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Vt(e,()=>e.shaderSource(n,t)),Vt(e,()=>e.compileShader(n)),Pe().get("ENGINE_COMPILE_ONLY"))return n;if(e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw VCe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const eit=/ERROR: [0-9]+:([0-9]+):/g;function VCe(e,t){const n=eit.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}const r=+n[1],s=e.split(`
`),o=s.length.toString().length+2,i=s.map((f,d)=>jv((d+1).toString(),o)+f);let a=0;for(let f=0;f<i.length;f++)a=Math.max(i[f].length,a);const l=i.slice(0,r-1),u=i.slice(r-1,r),c=i.slice(r);console.log(l.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${jv(u[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function tit(e){return Dp(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function nit(e,t){if(Vt(e,()=>e.linkProgram(t)),!Pe().get("ENGINE_COMPILE_ONLY")&&e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function c8(e,t){if(Vt(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function rit(e,t){const n=Dp(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Vt(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function sit(e,t){const n=Dp(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Vt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),Vt(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function oit(e){return Dp(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function iit(e,t){const n=Pe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){const r=`[${e}x${t}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function ait(e){return Dp(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Aoe(e,t,n,r,s,o,i){const a=e.getAttribLocation(t,n);return a===-1?!1:(Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),Vt(e,()=>e.vertexAttribPointer(a,s,e.FLOAT,!1,o,i)),Vt(e,()=>e.enableVertexAttribArray(a)),!0)}function lit(e,t,n){hit(e,n),Vt(e,()=>e.activeTexture(e.TEXTURE0+n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function uit(e,t,n){return Dp(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function cit(e,t,n){return e.getUniformLocation(t,n)}function fit(e,t,n,r){Vt(e,()=>lit(e,t,r)),Vt(e,()=>e.uniform1i(n,r))}function f8(e,t,n){Vt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),Vt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function Ioe(e,t){Vt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),Vt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function QI(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+dit(e,t))}function dit(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function Dp(e,t,n){const r=Vt(e,()=>t());if(r==null)throw new Error(n);return r}function hit(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function zw(e,t=2){return je(e.slice(0,e.length-t))}function Vw(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function eN(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[zw(e),...Vw(e)]),t}function pit(e,t=!1){let n=Pe().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Pe().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Pe().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n=n*2,r=r*2,e=e.map((a,l)=>l>=e.length-2?WM(e[l]):e[l]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=kp(e).newShape);let s=je(e),o=null;e.length<=1&&s<=n?o=[1,s]:e.length===2&&e[0]<=n&&e[1]<=n?o=e:e.length===3&&e[0]*e[1]<=n&&e[2]<=n?o=[e[0]*e[1],e[2]]:e.length===3&&e[0]<=n&&e[1]*e[2]<=n?o=[e[0],e[1]*e[2]]:e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n?o=[e[0]*e[1]*e[2],e[3]]:e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(o=[e[0],e[1]*e[2]*e[3]]);const i=o!=null&&Math.max(...o)>r&&Math.min(...o)<=(t?2:1)&&Math.min(...o)>0;if(o==null||i)if(t){const a=zw(e);let l=2,u=2;e.length&&([l,u]=Vw(e)),s=a*(l/2)*(u/2),o=wO(s).map(c=>c*2)}else o=wO(s);return o}function tN(e){return e%2===0}function UO(e,t){if(e=e.slice(-2),t=t.slice(-2),ir(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r||tN(n)&&tN(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&tN(e[0])&&tN(t[0])}let d8,h8;function git(e){if(d8==null){const t=zc(e);d8=t.getParameter(t.MAX_TEXTURE_SIZE)}return d8}function mit(e){if(h8==null){const t=zc(e);h8=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,h8)}function vit(e){if(e===0)return 0;let t;const n=zc(e);return xu(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:xu(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function xu(e,t){return e.getExtension(t)!=null}function Noe(e){try{if(zc(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function yit(e){if(e===0)return!1;const t=zc(e);if(e===1){if(!xu(t,"OES_texture_float"))return!1}else if(!xu(t,"EXT_color_buffer_float"))return!1;return GV(t)}function bit(e){if(e===0)return!1;const t=zc(e);if(e===1){if(!xu(t,"OES_texture_float")||!xu(t,"WEBGL_color_buffer_float"))return!1}else{if(xu(t,"EXT_color_buffer_float"))return GV(t);const r="EXT_color_buffer_half_float";if(xu(t,r)){const s=t.getExtension(r);return wit(t,s)}return!1}return GV(t)}function GV(e){const t=DK(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(o),i}function wit(e,t){const n=DK(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}function xit(e){return e!==2?!1:zc(e).fenceSync!=null}function nA(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&te(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}const nn=Pe();nn.registerFlag("HAS_WEBGL",()=>nn.getNumber("WEBGL_VERSION")>0);nn.registerFlag("WEBGL_VERSION",()=>Noe(2)?2:Noe(1)?1:0);nn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);nn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>nn.get("WEBGL_VERSION")===2);nn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);nn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);nn.registerFlag("WEBGL_PACK",()=>nn.getBool("HAS_WEBGL"));nn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_CLIP",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_REDUCE",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_LAZILY_UNPACK",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_CONV_IM2COL",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>nn.getBool("WEBGL_PACK"));nn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>git(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>mit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=nn.getNumber("WEBGL_VERSION");return e===0?0:vit(e)});nn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>nn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Fq());nn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>yit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>nn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:nn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));nn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>bit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>xit(nn.getNumber("WEBGL_VERSION")));nn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>nn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);nn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});nn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Fq()?1:-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});nn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);nn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);nn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);nn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);nn.registerFlag("WEBGL_EXP_CONV",()=>!1);nn.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>nn.getBool("IS_TEST"));nn.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);nn.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);nn.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);nn.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function ca(){let e,t,n,r,s,o,i,a,l,u;return Pe().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",s="texture",o="outputColor",i="out vec4 outputColor;",a=Pe().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",s="texture2D",o="gl_FragColor",i="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:s,output:o,defineOutput:i,defineSpecialNaN:a,defineSpecialInf:l,defineRound:u}}function gy(e,t,n="index"){const r=fn(t);return r.map((s,o)=>{const i=`int ${e[o]} = ${n} / ${s}`,a=o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${s}`:`index -= ${e[o]} * ${s}`;return`${i}; ${a};`}).join("")}function HP(e,t,n="index"){const r=fn(t);return r.map((s,o)=>{const i=`int ${e[o]} = ${n} / outShapeStrides[${o}]`,a=o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`;return`${i}; ${a};`}).join("")}function Cit(e,t){const n=e.length,r=e.map(o=>`${t}[${o}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let o=n-3;o>=0;--o)s[o]=`(${s[o+1]} * ${r[o+1]})`;return s}function Sit(e,t,n="index"){const r=e.map((o,i)=>i),s=Cit(r,t);return s.map((o,i)=>{const a=`int ${e[i]} = ${n} / ${s[i]}`,l=i===s.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${s[i]}`:`index -= ${e[i]} * ${s[i]}`;return`${a}; ${l};`}).join("")}function OK(e){const t=fn(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function RK(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const WCe=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;const{getBroadcastDims:UCe}=pwe;function $it(e,t,n){const r=[];if(e.forEach(h=>{const p=je(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:g}=FK(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(g.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=r.join(`
`),o=e.map(h=>kit(h,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),i=t.texShape,a=ca(),l=Tit(a);let u,c,f=Nit(a);return t.isPacked?(u=Eit(t.logicalShape,i,n.enableShapeUniforms),c=Iit(a)):(u=_it(t.logicalShape,i,n.enableShapeUniforms),c=Ait(a)),n.packedInputs&&(f+=Fit),[f,l,c,s,u,o,n.userCode].join(`
`)}function J2(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Git(e,t);case 1:return Yit(e,t);case 2:return Zit(e,t);case 3:return Qit(e,t);case 4:return tat(e,t);case 5:return nat(e);case 6:return rat(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function jCe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return qit(e);case 1:return Kit(e,t);case 2:return Xit(e,t);case 3:return Jit(e,t);default:return eat(e,t)}}function kit(e,t,n=!1,r){let s="";n?s+=jCe(e,r):s+=J2(e,r);const o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(n?s+=sat(e,t):s+=oat(e,t)),s}function Eit(e,t,n){switch(e.length){case 0:return HCe();case 1:return Mit(e,t,n);case 2:return jit(e,t,n);case 3:return Lit(e,t,n);default:return zit(e,t,n)}}function _it(e,t,n){switch(e.length){case 0:return HCe();case 1:return Pit(e,t,n);case 2:return Hit(e,t,n);case 3:return Bit(e,t,n);case 4:return Vit(e,t,n);case 5:return Wit(e,t);case 6:return Uit(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function Tit(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function Ait(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function Iit(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function Nit(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Dit}
    ${Oit}
    ${Rit}
  `}const Dit=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Oit=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Rit=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Fit=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function HCe(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Mit(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Pit(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function Lit(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[2]/2),o=s*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function Bit(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${HP(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;const r=gy(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function zit(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],s=Math.ceil(e[e.length-1]/2),o=s*Math.ceil(e[e.length-2]/2);let i=o,a="",l="b, r, c";for(let u=2;u<e.length-1;u++)i*=e[e.length-u-1],a=`
      int b${u} = index / ${i};
      index -= b${u} * ${i};
    `+a,l=`b${u}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${e.length}(${l});
    }
  `}function Vit(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${HP(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;const r=gy(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function Wit(e,t){const n=gy(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Uit(e,t){const n=gy(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function jit(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(ir(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function Hit(e,t,n){return ir(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function my(e){return`offset${e}`}function qit(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=ca();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function Git(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,o]=e.shapeInfo.texShape;if(s===1&&o===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const i=my(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});
      return sampleTexture(${n}, uv);
    }
  `;const[a,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${l}, ${i});
      return sampleTexture(${n}, uv);
    }
  `}function Kit(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e.shapeInfo.texShape,o=ca();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${o.texture2D}(${n}, uv);
    }
  `;const i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${i[0]}, ${i[1]}, index);
      return ${o.texture2D}(${n}, uv);
    }
  `}function Yit(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Q2(e)}
      }
    `;const s=e.shapeInfo.texShape,o=s[0],i=s[1];if(i===1&&o===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=my(n);return i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${o}.0);
        return sampleTexture(${n}, uv);
      }
    `:o===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${i}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${o}, ${i}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function Xit(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],l=ca();if(o!=null&&ir(n,o))return t?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${i}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function Zit(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(o!=null&&ir(n,o)){if(t)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=o[0],h=o[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:i,keptDims:a}=kp(n),l=i;if(l.length<n.length){const d=eC(e,l),h=["row","col"];return`
      ${J2(d,t)}
      float ${s}(int row, int col) {
        return ${s}(${tC(h,a)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Q2(e)}
      }
    `;const u=o[0],c=o[1],f=my(r);return c===1?t?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function Jit(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=eC(e,d),g=["b","row","col"];return`
        ${jCe(p,t)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${tC(g,h)});
        }
      `}const a=ca();if(t)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${c}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function Qit(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],i=n[2],{newShape:a,keptDims:l}=kp(n),u=a;if(u.length<n.length){const g=eC(e,u),m=["row","col","depth"];return`
        ${J2(g,t)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${tC(m,l)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${o}, ${i}, 1)));
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.texShape,f=c[0],d=c[1],h=e.shapeInfo.flatOffset;if(d===o&&h==null)return t?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${i}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===i&&h==null)return t?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=my(r);return t?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o} + col * ${i} + depth + ${p};
        vec2 uv = uvFromFlat(${f}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function eat(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=ca();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const o=e.shapeInfo.logicalShape,i=o.length,a=e.shapeInfo.texShape,l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],u=l[0],c=l[1],f=Math.ceil(o[i-1]/2);let d=f*Math.ceil(o[i-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let g=2;g<i-1;g++)h=`int b${g}, `+h,d*=o[i-g-1],p=`b${g} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${s.texture2D}(${n}, uv);
    }
  `}function tat(e,t){const n=e.shapeInfo.logicalShape,r=e.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],i=n[2]*o,a=n[1]*i,{newShape:l,keptDims:u}=kp(n);if(l.length<n.length){const y=eC(e,l),w=["row","col","depth","depth2"];return`
      ${J2(y,t)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${tC(w,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${i}, ${o}, 1)));
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1],p=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,m=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&c==null)return t?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${p}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${i}, ${o}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===o&&c==null)return t?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const v=my(r);return t?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${g}
      ${m}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${v});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} +
          depth * ${o} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${v});
      return sampleTexture(${r}, uv);
    }
  `}function nat(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t[4],o=t[3]*s,i=t[2]*o,a=t[1]*i,{newShape:l,keptDims:u}=kp(t);if(l.length<t.length){const g=eC(e,l),m=["row","col","depth","depth2","depth3"];return`
      ${J2(g)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${tC(m,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${i}, ${o}, ${s})) +
          depth3;
        ${Q2(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];if(h===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${i}, ${o}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=my(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${i} + depth * ${o} +
          depth2 * ${s} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function rat(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:o}=kp(t);if(s.length<t.length){const m=eC(e,s),v=["row","col","depth","depth2","depth3","depth4"];return`
      ${J2(m)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${tC(v,o)});
      }
    `}const i=t[5],a=t[4]*i,l=t[3]*a,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${i}, 1)));
        ${Q2(e)}
      }
    `;const f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===c&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${a}, ${i})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===i&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const g=my(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${a} + depth3 * ${i} + depth4 + ${g};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Q2(e){const t=e.name,n=je(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function sat(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",o=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,a=UCe(e.shapeInfo.logicalShape,t.logicalShape),l=Wr(i),u=i-o;let c;const f=["x","y","z","w","u","v"];o===0?c="":i<2&&a.length>=1?c="coords = 0;":c=a.map(y=>`coords.${f[y+u]} = 0;`).join(`
`);let d="";i<2&&o>0?d="coords":d=e.shapeInfo.logicalShape.map((y,w)=>`coords.${f[w+u]}`).join(", ");let h="return outputValue;";const g=je(e.shapeInfo.logicalShape)===1,v=je(t.logicalShape)===1;if(o===1&&!g&&!v)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(g&&!v)i===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const y=o-2,w=o-1;a.indexOf(y)>-1&&a.indexOf(w)>-1?h="return vec4(outputValue.x);":a.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(w)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function oat(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,a=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&a===l&&e.shapeInfo.flatOffset==null&&ir(i,o))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Wr(l),c=UCe(e.shapeInfo.logicalShape,t.logicalShape),f=l-a;let d;const h=["x","y","z","w","u","v"];a===0?d="":l<2&&c.length>=1?d="coords = 0;":d=c.map(g=>`coords.${h[g+f]} = 0;`).join(`
`);let p="";return l<2&&a>0?p="coords":p=e.shapeInfo.logicalShape.map((g,m)=>`coords.${h[m+f]}`).join(", "),`
    float ${s}() {
      ${u} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function Wr(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function FK(e,t,n){const{newShape:r,keptDims:s}=kp(t),o=t.length,i=e&&o===3&&t[0]===1,a=i?t.slice(1):r,l=!e&&o>1&&!ir(t,n)&&r.length<o||i;return{useSqueezeShape:l,uniformShape:l?a:t,keptDims:s}}function eC(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function tC(e,t){return t.map(n=>e[n]).join(", ")}function iat(e,t,n,r){const s=n.map((c,f)=>{const d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:t.variableNames[f],shapeInfo:d}}),o=s.map(c=>c.shapeInfo),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=$it(s,i,t),l=Qot(e.gl,a),u=e.createProgram(l);return Pe().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:a,webGLProgram:u,inShapeInfos:o,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:a,webGLProgram:u,inShapeInfos:o,outShapeInfo:i},qCe(e,t,u)))}function qCe(e,t,n){const r=[],s=[];let o,i,a,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),Pe().getNumber("WEBGL_VERSION")===1&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const f of t.variableNames){const d={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(d.shape=e.getUniformLocation(n,`${f}Shape`,c),d.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(d)}if(t.enableShapeUniforms&&(o=e.getUniformLocation(n,"outShape",c),a=e.getUniformLocation(n,"outShapeStrides",c),i=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const f of t.customUniforms)s.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:s,infLoc:l,nanLoc:u,outShapeLocation:o,outShapeStridesLocation:a,outTexShapeLocation:i}}function Doe(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{const s=n.logicalShape,o=t[r],i=o.shape;if(!ir(s,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${i} must match`);if(n.isUniform&&o.isUniform)return;const a=n.texShape,l=o.isUniform?null:o.texData.texShape;if(!ir(a,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${l} must match`)})}function aat(e,t,n,r,s){t.program.enableShapeUniforms||(Doe(t.inShapeInfos,n),Doe([t.outShapeInfo],[r]));const o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,i[0],i[1]):e.setOutputMatrixTexture(o.texture,i[0],i[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),Pe().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:c,offset:f,shape:d,texShape:h}=t.variablesLocations[l];if(d){const{uniformShape:p}=FK(t.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:e.gl.uniform1iv(d,new Int32Array(p));break;case 2:e.gl.uniform2iv(d,new Int32Array(p));break;case 3:e.gl.uniform3iv(d,new Int32Array(p));break;case 4:e.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&e.gl.uniform2i(h,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(je(u.shape)<2)e.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),e.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,u.texData.slice.flatOffset),e.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const a=t.outShapeLocation;if(a)switch(r.shape.length){case 1:e.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(a,new Int32Array(r.shape));break}if(t.outShapeStridesLocation){const l=fn(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l));break}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&s)for(let l=0;l<t.program.customUniforms.length;++l){const u=t.program.customUniforms[l],c=t.customUniformLocations[l],f=s[l];if(u.type==="float")e.gl.uniform1fv(c,f);else if(u.type==="vec2")e.gl.uniform2fv(c,f);else if(u.type==="vec3")e.gl.uniform3fv(c,f);else if(u.type==="vec4")e.gl.uniform4fv(c,f);else if(u.type==="int")e.gl.uniform1iv(c,f);else if(u.type==="ivec2")e.gl.uniform2iv(c,f);else if(u.type==="ivec3")e.gl.uniform3iv(c,f);else if(u.type==="ivec4")e.gl.uniform4iv(c,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}e.executeProgram()}function lat(e,t,n){let r="";t.concat(n).forEach(i=>{const a=i.texData!=null&&i.texData.slice!=null&&i.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!i.isUniform){const l=i.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:f}=FK(e.packedInputs,i.shape,l);let d="",h="",p="";if(c.length===1&&e.packedInputs){const C=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${C[0]>1}_${C[1]>1}`}else if(c.length===2&&!e.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!e.packedInputs){const C=fn(c);p=`${C[0]===l[1]}_${C[C.length-1]===l[1]}`}const g=i.shape.length,m=c.length===2&&ir(i.shape,l),v=je(i.shape)===1,y=w1(i.shape,n.shape),w=!e.packedInputs&&g===n.shape.length&&ir(l,n.texData.texShape),b=e.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${g}_${w}_${u?f:""}_${c.length}_${v}_${y}_${m}_${d}_${h}_${p}_${b}_${a}`}else{const l=i.isUniform?"uniform":i.texData.texShape;r+=`${i.shape}_${l}_${a}`}});const s=e.userCode;let o=e.constructor.name;return o+="_"+r+"_"+s+`${Pe().getNumber("WEBGL_VERSION")}`,o}function xi(e){return Pe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class uat{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Hk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?HP(["r","c","d"],t):gy(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}class cat{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Hk.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?HP(["r","c","d"],t):gy(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}class fat{constructor(t){this.variableNames=["A"],this.outTexUsage=Ul.DOWNLOAD;const n=ca();this.outputShape=t,this.userCode=`
      ${WCe}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}class dat{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ul.DOWNLOAD;const n=ca();this.outputShape=t,this.userCode=`
      ${WCe}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}const hat={R:0,G:1,B:2,A:3};class Ooe{constructor(t,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)");let i="";for(let a=0;a<r.length;a++){const l=r[a];i+=`
          if(offset == ${a}) {
            result = values[${hat[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?RK():OK(t)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${i}
        }
        ${s.output} = vec4(${o}, 0., 0., 0.);
      }
    `}}class pat{constructor(t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ca();this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let s="",o="result";n&&(o="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let a=0;a<=1;a++){const l=i*2+a;s+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?RK():OK(t)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${o};
        }
    `}}function gat(e){const t=ca(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return Jot(e,n)}function mat(e){const t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return rit(e,t)}function vat(e){const t=new Uint16Array([0,1,2,2,1,3]);return sit(e,t)}function rA(e,t,n,r,s,o){iit(t,n);const i=oit(e),a=e.TEXTURE_2D;return Vt(e,()=>e.bindTexture(a,i)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_MIN_FILTER,e.NEAREST)),Vt(e,()=>e.texParameteri(a,e.TEXTURE_MAG_FILTER,e.NEAREST)),Pe().getNumber("WEBGL_VERSION")===1?Vt(e,()=>e.texImage2D(a,0,r,t,n,0,s,o,null)):Vt(e,()=>e.texStorage2D(a,1,r,t,n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:i,texShape:[n,t]}}function GCe(e){return e.internalFormatFloat}function yat(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,GCe(r),r.textureFormatFloat,e.FLOAT)}function KCe(e){return e.internalFormatHalfFloat}function bat(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,KCe(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function YCe(e){return e.downloadTextureFormat}function wat(e,t,n,r){const[s,o]=tA(t,n);return rA(e,s,o,YCe(r),e.RGBA,e.UNSIGNED_BYTE)}function XCe(e){return e.internalFormatPackedFloat}function xat(e,t,n,r){const[s,o]=Z2(t,n);return rA(e,s,o,XCe(r),e.RGBA,e.FLOAT)}function ZCe(e){return e.internalFormatPackedHalfFloat}function Cat(e,t,n,r){const[s,o]=Z2(t,n);return rA(e,s,o,ZCe(r),e.RGBA,r.textureTypeHalfFloat)}function Sat(e,t,n){return Vt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Aoe(e,t,"clipSpacePos",n,3,20,0)&&Aoe(e,t,"uv",n,2,20,12)}function $at(e,t,n,r,s,o){Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t));let i,a,l;s instanceof Uint8Array?(i=new Uint8Array(n*r*4),a=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*r*4),a=e.FLOAT,l=o.internalFormatPackedFloat),i.set(s),Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,a,i)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,a,i)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function kat(e,t,n){Vt(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):Pe().getNumber("WEBGL_VERSION")===2?Vt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):Vt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),Vt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Eat(e,t,n,r){const s=e.createBuffer();Vt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,s));const a=4*4*t*n;return Vt(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)),Vt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),Vt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),s}function _at(e,t,n){const r=e,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function Tat(e,t,n,r){const[s,o]=tA(t,n),i=4,a=new Uint8Array(Hot(t*n,i));return Vt(e,()=>e.readPixels(0,0,s,o,r.downloadTextureFormat,e.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function Aat(e,t,n,r,s,o,i,a){const l=e,u=new Float32Array(qot(o,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function Iat(e,t,n){const r=new Float32Array(t*n*4);return Vt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}class p8{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Pe().getNumber("WEBGL_VERSION");if(t!=null?(this.gl=t,Wot(n,t)):this.gl=zc(n),t=this.gl,Pe().getNumber("WEBGL_VERSION")===2){const o=t;this.createVertexArray=()=>Vt(o,()=>o.createVertexArray()),this.bindVertexArray=i=>Vt(o,()=>o.bindVertexArray(i)),this.deleteVertexArray=i=>Vt(o,()=>o.deleteVertexArray(i)),this.getVertexArray=()=>Vt(o,()=>o.getParameter(o.VERTEX_ARRAY_BINDING))}else if(t!=null){const o=t.getExtension("OES_vertex_array_object");if(o==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Vt(t,()=>o.createVertexArrayOES()),this.bindVertexArray=i=>Vt(t,()=>o.bindVertexArrayOES(i)),this.deleteVertexArray=i=>Vt(t,()=>o.deleteVertexArrayOES(i)),this.getVertexArray=()=>Vt(t,()=>t.getParameter(o.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Pe().getNumber("WEBGL_VERSION")===1){const o="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=JI(this.gl,o),xu(this.gl,i))this.textureHalfFloatExtension=JI(this.gl,i);else if(Pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),xu(this.gl,s))this.colorBufferHalfFloatExtension=JI(this.gl,s);else if(Pe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",xu(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(xu(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=mat(this.gl),this.indexBuffer=vat(this.gl),this.framebuffer=ait(this.gl),this.textureConfig=DK(this.gl,this.textureHalfFloatExtension)}get debug(){return Pe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;Vt(t,()=>t.finish()),Vt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Vt(t,()=>t.deleteFramebuffer(this.framebuffer)),Vt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),Vt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),Vt(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,n){return this.throwIfDisposed(),yat(this.gl,t,n,this.textureConfig)}createFloat16MatrixTexture(t,n){return this.throwIfDisposed(),bat(this.gl,t,n,this.textureConfig)}createUnsignedBytesMatrixTexture(t,n){return this.throwIfDisposed(),wat(this.gl,t,n,this.textureConfig)}uploadPixelDataToTexture(t,n){this.throwIfDisposed(),kat(this.gl,t,n)}uploadDenseMatrixToTexture(t,n,r,s){this.throwIfDisposed(),$at(this.gl,t,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(t,n){return this.throwIfDisposed(),Cat(this.gl,t,n,this.textureConfig)}createPackedMatrixTexture(t,n){return this.throwIfDisposed(),xat(this.gl,t,n,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(Ioe(this.gl,this.framebuffer),this.outputTexture=null),Vt(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Tat(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(t,n,r,s,o,i){return Aat(this.gl,t,n,r,s,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(t,n){return _at(this.gl,t,n)}createBufferFromTexture(t,n,r){this.bindTextureToFrameBuffer(t);const s=Eat(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,r;if(Pe().getBool("WEBGL_FENCE_API_ENABLED")){const s=t,o=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=()=>{const i=s.clientWaitSync(o,0,0);return i===s.ALREADY_SIGNALED||i===s.CONDITION_SATISFIED},n=o}else Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Iat(this.gl,n,r))}createProgram(t){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=gat(n));const r=tit(n);Vt(n,()=>n.attachShader(r,this.vertexShader)),Vt(n,()=>n.attachShader(r,t)),nit(n,r);const s=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&c8(n,s),s}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const n=this.gl;Vt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),Sat(n,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&(Vt(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&c8(this.gl,this.program),Vt(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,n,r=!0){return this.throwIfDisposed(),r?uit(this.gl,t,n):cit(this.gl,t,n)}getAttributeLocation(t,n){return this.throwIfDisposed(),Vt(this.gl,()=>this.gl.getAttribLocation(t,n))}getUniformLocationNoThrow(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)}setInputMatrixTexture(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),fit(this.gl,t,n,r)}setOutputMatrixTexture(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)}setOutputPackedMatrixTexture(t,n,r){this.throwIfDisposed();const[s,o]=Z2(n,r);this.setOutputMatrixTextureDriver(t,s,o)}setOutputMatrixWriteRegion(t,n,r,s){this.setOutputMatrixWriteRegionDriver(r,t,s,n)}setOutputPackedMatrixWriteRegion(t,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&c8(this.gl,this.program),QI(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Vt(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Vt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=JI(this.gl,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,o),o}const t=this.getQueryTimerExtensionWebGL1(),n=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n),n}endQuery(){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(t){return await fV(()=>this.disposed||this.isQueryAvailable(t,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(t,Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(t,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),o&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){const t=Nat(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,n){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Pe().platform&&(r=Pe().platform.setTimeoutCustom.bind(Pe().platform)),fV(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),f8(this.gl,t,this.framebuffer),this.debug&&QI(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(f8(this.gl,this.outputTexture,this.framebuffer),this.debug&&QI(this.gl)):Ioe(this.gl,this.framebuffer)}downloadMatrixDriver(t,n){this.bindTextureToFrameBuffer(t);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(t,n,r){this.throwIfDisposed();const s=this.gl;f8(s,t,this.framebuffer),this.debug&&QI(s),this.outputTexture=t,Vt(s,()=>s.viewport(0,0,n,r)),Vt(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(t,n,r,s){this.throwIfDisposed(),Vt(this.gl,()=>this.gl.scissor(t,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function Nat(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}const{addImpl:Dat,bincountImpl:JCe,bincountReduceImpl:Oat,bitwiseAndImpl:Rat,castImpl:Fat,ceilImpl:Mat,concatImpl:Pat,equalImpl:Lat,expImpl:Bat,expm1Impl:zat,floorImpl:Vat,gatherNdImpl:Wat,gatherV2Impl:Uat,greaterImpl:jat,greaterEqualImpl:Hat,lessImpl:qat,lessEqualImpl:Gat,linSpaceImpl:Kat,logImpl:Yat,maxImpl:Xat,maximumImpl:Zat,minimumImpl:Jat,multiplyImpl:Qat,negImpl:elt,notEqualImpl:tlt,prodImpl:nlt,raggedGatherImpl:rlt,raggedRangeImpl:slt,raggedTensorToTensorImpl:olt,rangeImpl:ilt,rsqrtImpl:alt,scatterImpl:llt,sigmoidImpl:ult,simpleAbsImpl:QCe,sliceImpl:clt,sparseFillEmptyRowsImpl:flt,sparseReshapeImpl:dlt,sparseSegmentReductionImpl:eSe,sqrtImpl:hlt,staticRegexReplaceImpl:plt,stridedSliceImpl:glt,stringNGramsImpl:mlt,stringSplitImpl:vlt,stringToHashBucketFastImpl:ylt,subImpl:blt,tileImpl:wlt,topKImpl:xlt,transposeImpl:MK,uniqueImpl:Clt}=ket;function tSe(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function Ui(e,t){return t===1?[e]:tSe(e,t)}function Slt(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}class $lt{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=xi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Ui("rc",this.rank),r=Wr(this.rank),s=this.getOutOfBoundsCondition(n),o=this.getSetup(n),i=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${o}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(t){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let o=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)o=`${t[t.length-1-i]},`+o;n.push(o)}return n}getOutOfBoundsCondition(t){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${t[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(t){if(this.rank===1)return"";const n=t.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(t){const n=this.getSourceCoordsArr(t);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}class nSe{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);let r="";for(let s=0;s<4;s++){let o="thisRC = rc;";s%2===1&&(o+="thisRC.z += 1;"),s>1&&(o+="thisRC.y += 1;"),r+=`
        ${o}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${klt(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?RK():OK(t)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};

        ${r}

        setOutput(result);
      }
    `}}function klt(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?Sit(["r","c","d"],"inputShape"):gy(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}class Elt{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,n,r){const s=Foe(n,r),o=Moe(t,s,r);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=Roe(t,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const l=this.freeTextures[o].pop();return this.usedTextures[o].push(l),l}let a;return s===Mo.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):s===Mo.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):s===Mo.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):s===Mo.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):s===Mo.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(t,n,r,s){if(this.freeTextures==null)return;const o=Foe(r,s),i=Moe(n,o,s);i in this.freeTextures||(this.freeTextures[i]=[]);const a=Roe(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=Pe().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(t),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const u=this.usedTextures[i],c=u&&u.indexOf(t);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${t})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const t in this.freeTextures)this.freeTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function _lt(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function Roe(e,t,n,r,s){const o=Tlt(t,r);let i;if(s){const[l,u]=Z2(e[0],e[1]);i=l*u}else{const[l,u]=tA(e[0],e[1]);i=l*u}const a=_lt(n,o);return i*a}function Tlt(e,t){switch(e){case Mo.PACKED_2X2_FLOAT32:return XCe(t);case Mo.PACKED_2X2_FLOAT16:return ZCe(t);case Mo.UNPACKED_FLOAT32:return GCe(t);case Mo.UNPACKED_FLOAT16:return KCe(t);case Mo.PACKED_4X1_UNSIGNED_BYTE:return YCe(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function Alt(e){return Pe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Mo.PACKED_2X2_FLOAT32:Mo.UNPACKED_FLOAT32:e?Mo.PACKED_2X2_FLOAT16:Mo.UNPACKED_FLOAT16}function Foe(e,t){if(e===Ul.UPLOAD)return Mo.PACKED_2X2_FLOAT32;if(e===Ul.RENDER||e==null)return Alt(t);if(e===Ul.DOWNLOAD||e===Ul.PIXELS)return Mo.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Moe(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class zf{constructor(t,n){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Xu="if (isnan(x)) return x;",Ilt="return x;",Poe="return abs(x);",Nlt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Dlt=Xu+`
  return (x < 0.0) ? 0.0 : x;
`,Olt=Xu+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,vg="return x;",Rlt="return 1.0 / (1.0 + exp(-1.0 * x));";const Flt="return x;",Mlt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Plt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Llt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Blt="return 1.0 / (1.0 + exp(-1.0 * x));";class Ng{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class zlt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);const n=t.length,r=Ui("rc",n),s=Wr(n),o=Slt(n,r),i=r.slice(-2),a=n<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${o});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}const Vlt=yP,Wlt=1e-7,Ult=1e-4,nN={};function jlt(e){return e in nN||(nN[e]={}),nN[e]}const Hlt=Pe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),qlt=600;function Glt(){return Pe().global.screen==null?1024:Pe().global.screen.height*Pe().global.screen.width*window.devicePixelRatio*qlt/1024/1024}class qP extends VM{nextDataId(){return qP.nextDataId++}constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Pe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(t!=null){if(t instanceof p8)n=t;else{const r=zc(Pe().getNumber("WEBGL_VERSION"),t);n=new p8(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=zc(Pe().getNumber("WEBGL_VERSION"));n=new p8(r),this.binaryCache=jlt(Pe().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Elt(this.gpgpu),this.numMBBeforeWarning=Glt(),this.texData=new Eq(this,lc())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(t,n,r,s,o,i){const a=this.makeTensorInfo(n,r),l=this.texData.get(a.dataId);l.isPacked=!1,l.texture={texture:t,texShape:[s,o]},l.texShape=[s,o];const u=eN(n),c=new Ooe(u,!1,i),f=this.runWebGLProgram(c,[a],r,[[s,o]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(a),f.dataId}write(t,n,r){if((Pe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Pe().getBool("DEBUG"))&&this.checkNumericalProblems(t),r==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:t,usage:Ul.UPLOAD,refCount:1}),s}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){const n=this.texData.get(t);n.refCount++}decRef(t){if(this.texData.has(t)){const n=this.texData.get(t);n.refCount--}}move(t,n,r,s,o){if(Pe().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:r,dtype:s,values:n,usage:Ul.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){const n=this.texData.get(t),{values:r,dtype:s,complexTensorInfos:o,slice:i,shape:a,isPacked:l}=n;if(i!=null){let d;l?d=new Ng(a,vg):d=new zf(a,vg);const h=this.runWebGLProgram(d,[{dataId:t,shape:a,dtype:s}],s),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(t);if(s==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=Fi());let f;if(s==="complex64"){const d=this.readSync(o.real.dataId),h=this.readSync(o.imag.dataId);f=op(d,h)}else f=this.getValuesFromTexture(t);return u&&(this.downloadWaitMs+=Fi()-c),this.convertAndCacheOnCPU(t,f)}async read(t){if(this.pendingRead.has(t)){const p=this.pendingRead.get(t);return new Promise(g=>p.push(g))}const n=this.texData.get(t),{values:r,shape:s,slice:o,dtype:i,complexTensorInfos:a,isPacked:l}=n;if(o!=null){let p;l?p=new Ng(s,vg):p=new zf(s,vg);const g=this.runWebGLProgram(p,[{dataId:t,shape:s,dtype:i}],i),m=this.read(g.dataId);return this.disposeIntermediateTensorInfo(g),m}if(r!=null)return this.convertAndCacheOnCPU(t);if(Pe().getBool("DEBUG")&&!Pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Pe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(i!=="complex64"&&Pe().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(t);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...ZI(s))}this.pendingRead.set(t,[]),i!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(i==="complex64"){const p=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),g=p[0],m=p[1];f=op(g,m)}else if(u==null)f=this.getValuesFromTexture(t);else{const p=je(s);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Vt(p,()=>p.deleteBuffer(u))}const d=this.convertAndCacheOnCPU(t,f),h=this.pendingRead.get(t);return this.pendingRead.delete(t),h.forEach(p=>p(d)),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&lc().removeDataId(t,this),this.pendingDeletes--),d}readToGPU(t,n={}){const r=this.texData.get(t),{values:s,shape:o,slice:i,dtype:a,isPacked:l,texture:u}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(i!=null){let h;l?h=new Ng(o,vg):h=new zf(o,vg);const p=this.runWebGLProgram(h,[{dataId:t,shape:o,dtype:a}],a),g=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),g}if(u==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(t,n.customTexShape),f=lc().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:f},d.texture)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(s=>rp(s));return Wn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Wn(t.shape,t.dtype,n)}checkNumericalProblems(t){if(t!=null)for(let n=0;n<t.length;n++){const r=t[n];if(!Xot(r))throw Pe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(t){const{shape:n,dtype:r,isPacked:s}=this.texData.get(t),o=je(n);if(Pe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(t),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...ZI(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(d),p}const i=Pe().getBool("WEBGL_PACK")&&s===!0,a=i?eN(n):n,l=i?new dat(a):new fat(a),u=this.runWebGLProgram(l,[{shape:a,dtype:r,dataId:t}],"float32"),c=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,t();const o=id(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),i=id(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(o);a.kernelMs=N1e(l),a.getExtraProfileInfo=()=>l.map((u,c)=>({name:i[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Fi(),endMs:null}}endTimer(t){return Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Fi(),t)}async getQueryTime(t){if(Pe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(t);const n=t;return n.endMs-n.startMs}disposeData(t,n=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(n?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!n&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);const{complexTensorInfos:r}=this.texData.get(t);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(t),!0}releaseGPUData(t){const{texture:n,dtype:r,texShape:s,usage:o,isPacked:i,slice:a}=this.texData.get(t),l=a&&a.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,o,i)));const c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture.texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,n=Hlt){return Pe().getBool("WEBGL_CPU_FORWARD")&&t.every(r=>this.texData.get(r.dataId).texture==null&&je(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(t){zl("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=t.dataSync();return Vlt(t.shape,n)}packedUnaryOp(t,n,r){const s=new Ng(t.shape,n),o=this.compileAndRun(s,[t],r);return lc().makeTensorFromTensorInfo(o)}abs(t){if(this.shouldExecuteOnCPU([t])&&t.dtype!=="complex64"){const s=QCe(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,s)}if(Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Poe,t.dtype);const n=new zf(t.shape,Poe),r=this.compileAndRun(n,[t]);return lc().makeTensorFromTensorInfo(r)}makeTensorInfo(t,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&Lf(r[0])){const o=r.map(i=>Uf(i));s=this.write(o,t,n)}else s=this.write(r,t,n);return this.texData.get(s).usage=null,{dataId:s,shape:t,dtype:n}}makeOutput(t,n,r){return lc().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,r),this)}unpackTensor(t){const n=new zlt(t.shape);return this.runWebGLProgram(n,[t],t.dtype)}packTensor(t){const n=new $lt(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)}packedReshape(t,n){const r=[zw(t.shape),...Vw(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},o=[zw(n),...Vw(n)],i=new nSe(o,r),a=!0,l=[r],u=this.runWebGLProgram(i,[s],t.dtype,l,a);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(t,n){const r=this.texData.get(t),{isPacked:s,shape:o,dtype:i}=r;if(n!=null){const d=je(o),h=n[0]*n[1]*4;te(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=eN(o);let l;s?l=new cat(a):l=new uat(a);const u=!0,c=[n??ZI(a)],f=this.runWebGLProgram(l,[{shape:a,dtype:i,dataId:t}],i,c,u,n);return{dtype:i,shape:o,dataId:f.dataId}}runWebGLProgram(t,n,r,s,o=!1,i){const a=this.makeTensorInfo(t.outputShape,r),l=this.texData.get(a.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===Hk.DENSE){const v=i??ZI(t.outputShape);l.texShape=v.map(y=>y*2)}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),je(a.shape)===0)return l.values=Eo(a.dtype,0),a;const u=[],c=n.map(v=>{if(v.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(v.dataId);if(y.texture==null){if(!t.packedInputs&&je(v.shape)<=Pe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:v.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=v.shape)}if(this.uploadToGPU(v.dataId),!!y.isPacked!=!!t.packedInputs)v=y.isPacked?this.unpackTensor(v):this.packTensor(v),u.push(v),y=this.texData.get(v.dataId);else if(y.isPacked&&!UO(y.shape,v.shape)){const w=v,b=v.shape;v.shape=y.shape,v=this.packedReshape(v,b),u.push(v),y=this.texData.get(v.dataId),w.shape=b}return{shape:v.shape,texData:y,isUniform:!1}});this.uploadToGPU(a.dataId);const f={shape:a.shape,texData:l,isUniform:!1},d=lat(t,c,f),h=this.getAndSaveBinary(d,()=>iat(this.gpgpu,t,c,f)),p=this.activeTimers!=null;let g;p&&(g=this.startTimer()),Pe().get("ENGINE_COMPILE_ONLY")||aat(this.gpgpu,h,c,f,s),u.forEach(v=>this.disposeIntermediateTensorInfo(v)),p&&(g=this.endTimer(g),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(g)}));const m=Pe().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const v=Fi();v-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=v)}if(!Pe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){const v=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),v}return a}compileAndRun(t,n,r,s,o=!1){return r=r||n[0].dtype,this.runWebGLProgram(t,n,r,s,o)}getAndSaveBinary(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Pe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Be(()=>{if(!Pe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const t=Pe().getBool("DEBUG");Pe().set("DEBUG",!1);const n=this.abs($n(1e-8)).dataSync()[0];if(Pe().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?Wlt:Ult}uploadToGPU(t){const n=this.texData.get(t),{shape:r,dtype:s,values:o,texture:i,usage:a,isPacked:l}=n;if(i!=null)return;const u=this.activeTimers!=null;let c;u&&(c=Fi());let f=n.texShape;if(f==null&&(f=pit(r,l),n.texShape=f),o!=null){const d=eN(r);let h,p=f[1],g=f[0];const m=o instanceof Uint8Array||o instanceof Uint8ClampedArray;(l||!m)&&([p,g]=Z2(f[0],f[1])),l?h=new pat(d,m):h=new Ooe(d,m);const v=m?[g,p]:f,y=this.makeTensorInfo(v,s),w=this.texData.get(y.dataId);m?w.usage=Ul.PIXELS:w.usage=Ul.UPLOAD,w.texShape=v,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),p,g,o);const b=[[g,p]],S=this.runWebGLProgram(h,[y],s,b,!0),$=this.texData.get(S.dataId);n.texShape=$.texShape,n.isPacked=$.isPacked,n.usage=$.usage,Pe().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=$.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(y),u&&(this.uploadWaitMs+=Fi()-c)}else{const d=this.acquireTexture(f,a,s,l);n.texture=d}}convertAndCacheOnCPU(t,n){const r=this.texData.get(t),{dtype:s}=r;return n!=null&&(r.values=Klt(n,s)),r.values}acquireTexture(t,n,r,s){if(this.numBytesInGPU+=this.computeBytes(t,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${o} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,n,s)}computeBytes(t,n){return t[0]*t[1]*Ek(n)}checkCompileCompletion(){for(const[,t]of Object.entries(this.binaryCache))this.checkCompletion_(t)}async checkCompileCompletionAsync(){const t=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))t.push(this.checkCompletionAsync_(n));return Promise.all(t)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(o){throw o}});t.push(r)}return Promise.all(t)}}async checkCompletionAsync_(t){return this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(t):(await RG(),this.checkCompletionAsync_(t))}checkCompletion_(t){if(this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(t.webGLProgram)),this.gpgpu.gl.getShaderParameter(t.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(VCe(t.source,this.gpgpu.gl.getShaderInfoLog(t.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const t of Object.values(this.binaryCache)){this.gpgpu.buildVao(t.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:s,nanLoc:o,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:l}=qCe(this.gpgpu,t.program,t.webGLProgram);t.variablesLocations=n,t.customUniformLocations=r,t.infLoc=s,t.nanLoc=o,t.outShapeLocation=i,t.outShapeStridesLocation=a,t.outTexShapeLocation=l}}createTensorFromGPUData(t,n,r){t.channels=t.channels||"RGBA";const{texture:s,height:o,width:i,channels:a}=t,l=lc().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(s,n,r,o,i,a);return lc().makeTensorFromDataId(u,n,r,l)}}qP.nextDataId=0;function Klt(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){const n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}Mq()&&Pq("webgl",()=>new qP,2);const PK=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class E1{constructor(t,n,r){this.variableNames=["A","B"],this.outputShape=Nn(n,r),this.enableShapeUniforms=xi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${t}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const vy=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class nC{constructor(t,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Nn(n,r);const o=this.outputShape.length;this.enableShapeUniforms=xi(o);let i="";if(s)if(o===0||je(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${Wr(o)} coords = getOutputCoords();
        `,o===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Ui("coords",o);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= outShape[${o} - 2];
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= outShape[${o} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= ${this.outputShape[o-2]};
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= ${this.outputShape[o-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${t}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}}function wl(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Ylt={kernelName:v2,backendName:"webgl",kernelFunc:wl};function u0(e){const{inputs:t,backend:n}=e,{real:r,imag:s}=t,o=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(o.dataId),a=wl({inputs:{x:r},backend:n}),l=wl({inputs:{x:s},backend:n});return i.complexTensorInfos={real:a,imag:l},o}const Xlt={kernelName:ZM,backendName:"webgl",kernelFunc:u0};const rSe="return (a < 0.) ? b * a : a;",sSe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function Zlt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{alpha:o}=r,i=n.makeTensorInfo([],"float32",Ep(o,"float32")),a=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(sSe,s.shape,i.shape):new E1(rSe,s.shape,i.shape),l=n.runWebGLProgram(a,[s,i],"float32");return n.disposeIntermediateTensorInfo(i),l}const Jlt={kernelName:Q_,backendName:"webgl",kernelFunc:Zlt};const oSe="return (a < 0.) ? b * a : a;",iSe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function Qlt(e){const{inputs:t,backend:n}=e,{x:r,alpha:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(iSe,r.shape,s.shape):new E1(oSe,r.shape,s.shape);return n.runWebGLProgram(o,[r,s],"float32")}const eut={kernelName:yT,backendName:"webgl",kernelFunc:Qlt};const rC="if (isnan(x)) return x;";function dr({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:o})=>{const{x:i}=s,a=o,l=r||i.dtype;if(a.shouldExecuteOnCPU([i])&&n!=null){const f=a.texData.get(i.dataId),d=n(f.values,l);return a.makeTensorInfo(i.shape,l,d)}const u=Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null;let c;return u?c=new Ng(i.shape,t):c=new zf(i.shape,e),a.runWebGLProgram(c,[i],l)}}function ei({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:o}){return({inputs:i,backend:a})=>{const{a:l,b:u}=i,c=a;if(r&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),g=c.texData.get(u.dataId),[m,v]=[[p.complexTensorInfos.real,g.complexTensorInfos.real],[p.complexTensorInfos.imag,g.complexTensorInfos.imag]].map(w=>{const[b,C]=w,S={dataId:b.dataId,dtype:b.dtype,shape:l.shape},$={dataId:C.dataId,dtype:C.dtype,shape:u.shape},k=new E1(e,l.shape,u.shape);return c.runWebGLProgram(k,[S,$],Da(b.dtype,C.dtype))}),y=u0({inputs:{real:m,imag:v},backend:c});return c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(v),y}const f=o||Da(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&s!=null){const p=c.texData.get(l.dataId).values,g=c.texData.get(u.dataId).values,m=l.dtype==="string"?ip(p):p,v=l.dtype==="string"?ip(g):g,[y,w]=s(l.shape,u.shape,m,v,f),b=c.makeTensorInfo(w,f),C=c.texData.get(b.dataId);return C.values=y,b}const d=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null;let h;return d?h=new nC(t,l.shape,u.shape,n):h=new E1(e,l.shape,u.shape),c.runWebGLProgram(h,[l,u],f)}}function qk(e,t=!1){if(e==="linear")return t?Flt:Ilt;if(e==="relu")return t?Plt:Dlt;if(e==="elu")return t?Mlt:Nlt;if(e==="relu6")return t?Llt:Olt;if(e==="prelu")return t?iSe:oSe;if(e==="leakyrelu")return t?sSe:rSe;if(e==="sigmoid")return t?Blt:Rlt;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class aSe{constructor(t,n,r,s=!1,o=!1,i=!1,a=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=xi(this.outputShape.length);const c=s?t[1]:t[2],f=Math.ceil(c/2),d=s?"i * 2, rc.y":"rc.y, i * 2",h=o?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",v="";a&&(l?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:u?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:m=`vec4 activation(vec4 x) {
          ${a}
        }`,v="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let w="rc.x",b="rc.x";t[0]<n[0]?w=`imod(rc.x, ${t[0]})`:n[0]<t[0]&&(b=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${m}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${w};
        int batchB = ${b};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${g[0]});
          result += (${p[1]} * ${g[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${v}

        setOutput(result);
      }
    `}}const Loe={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Boe{constructor(t,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Nn(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${t}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const zoe="return a * b;";function LK(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,o=Da(r.dtype,s.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),u=new Boe(Loe.REAL,r.shape,s.shape),c=new Boe(Loe.IMAG,r.shape,s.shape),f=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=u0({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,s])){const a=n.texData.get(r.dataId),l=n.texData.get(s.dataId),[u,c]=Qat(r.shape,s.shape,a.values,l.values,o),f=n.makeTensorInfo(c,o),d=n.texData.get(f.dataId);return d.values=u,f}let i;return Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?i=new nC(zoe,r.shape,s.shape):i=new E1(zoe,r.shape,s.shape),n.runWebGLProgram(i,[r,s],o)}const tut={kernelName:E2,backendName:"webgl",kernelFunc:LK};function nut(e,t,n){const r=[zw(e.shape),...Vw(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},o=[zw(t),...Vw(t)],i=new nSe(o,r),a=!0,l=[r],u=n.runWebGLProgram(i,[s],e.dtype,l,a);return{dataId:u.dataId,shape:t,dtype:u.dtype}}function Ot(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{shape:o}=r,i=n,a=je(s.shape),l=Tq(o,a),u=je(l);te(a===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const c=i.texData.get(s.dataId);return c.isPacked&&!UO(s.shape,l)&&!(c.texture!==null&&UO(c.shape,l))?nut(s,l,i):(i.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const rut={kernelName:wT,backendName:"webgl",kernelFunc:Ot};class Voe{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:o,outSize:i}=t;this.outputShape=[s,i];const a=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${p1(f)?f.toPrecision(2):f}, ones);`}let c="";o%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${a};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}class sut{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:o,outSize:i}=t;this.outputShape=[s,i];let a="0.0",l="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",l="min"):n==="max"&&(a="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,f=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";o%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}function out(e){const t=[];for(;t.length===0||t[t.length-1].outSize!==1;){const n=t.length?t[t.length-1].outSize:e[1],r=AP(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function yy(e,t,n,r){const s=out(e.shape);let o=e;for(let i=0;i<s.length;i++){const{inSize:a,windowSize:l,outSize:u}=s[i];let c,f;n==="mean"?c=i===0?new Voe({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u},a):new Voe({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u}):c=new sut({windowSize:l,inSize:a,batchSize:e.shape[0],outSize:u},n),f=o,o=r.runWebGLProgram(c,[o],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return o}class iut{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;const s=Wr(this.rank),o=aut(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${o}));
    }
    `}}function aut(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let s=0;s<e.length;s++)r[e[s]]=n[s];return r.join()}class lut{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(t.length);for(let c=0;c<r.length;c++)r[c]=t[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=Wr(this.rank),o=tSe("rc",this.rank),i=new Array(this.rank);for(let c=0;c<n.length;c++)i[n[c]]=o[c];const a=`vec2(${i.slice(-2).join()})`,l=`++${o[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${o[this.rank-1]};
      if(++${o[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}function GP(e,t,n){const r=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lut(e.shape,t):new iut(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function uut(e,t,n,r){const s=t,o=e.shape.length,i=qn(s,e.shape);let a=i;const l=As(a,o),u=l!=null;let c=e;u&&(c=GP(e,l,r),a=Hs(a.length,o)),Qo("sum",a,o);const[f,d]=Ao(c.shape,a);let h=f;n&&(h=Us(f,i));const p=je(d),m=je(e.shape)/p,v=Ot({inputs:{x:c},attrs:{shape:[m,p]},backend:r}),y=Z4(e.dtype),w=yy(v,y,"sum",r),b=Ot({inputs:{x:w},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(w),u&&r.disposeIntermediateTensorInfo(c),b}function KP(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r;return uut(s,o,i,n)}const cut={kernelName:ET,backendName:"webgl",kernelFunc:KP};function la(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{perm:o}=r,i=n,a=s.shape.length,l=new Array(a);for(let c=0;c<l.length;c++)l[c]=s.shape[o[c]];let u;if(i.shouldExecuteOnCPU([s])){const f=i.texData.get(s.dataId).values,d=MK(f,s.shape,s.dtype,o,l);u=i.makeTensorInfo(l,s.dtype);const h=i.texData.get(u.dataId);h.values=d}else u=GP(s,o,i);return u}const fut={kernelName:Hv,backendName:"webgl",kernelFunc:la};const lSe=1e3;function jO({a:e,b:t,transposeA:n,transposeB:r,backend:s,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,f=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],h=n?e.shape[u-1]:e.shape[u-2],p=r?t.shape[c-2]:t.shape[c-1],g=e.shape.slice(0,-2),m=t.shape.slice(0,-2),v=je(g),y=je(m),b=Nn(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([h,p]);te(f===d,()=>`Error in matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=n?[v,f,h]:[v,h,f],S=r?[y,p,d]:[y,d,p],$=Ot({inputs:{x:e},backend:s,attrs:{shape:C}}),k=Ot({inputs:{x:t},backend:s,attrs:{shape:S}}),T=[$,k],_=Math.max(v,y),E=n?$.shape[1]:$.shape[2],A=o!=null,N=i!=null,F=l==="leakyrelu",R=l!=null?qk(l,!0):null,P=A||N||F||R!=null;let I;if((h===1||p===1)&&E>lSe&&P===!1){let M=$,z=k;n&&(M=la({inputs:{x:$},backend:s,attrs:{perm:[0,2,1]}}),T.push(M)),r&&(z=la({inputs:{x:k},backend:s,attrs:{perm:[0,2,1]}}),T.push(z));const W=p!==1,H=p===1;let U=M;W&&(U=Ot({inputs:{x:M},backend:s,attrs:{shape:[_,E,1]}}),T.push(U));const K=p===1?2:1;let G=z;H&&(G=Ot({inputs:{x:z},backend:s,attrs:{shape:[_,1,E]}}),T.push(G));const re=LK({inputs:{a:U,b:G},backend:s});I=KP({inputs:{x:re},backend:s,attrs:{axis:K,keepDims:!0}}),T.push(re)}else{const M=Da(e.dtype,t.dtype),z=new aSe(C,S,[_,h,p],n,r,A,R,N,F),W=[$,k];if(o!=null&&W.push(o),N&&W.push(i),F){const H=s.makeTensorInfo([],"float32",Ep(a,"float32"));W.push(H),T.push(H)}I=s.runWebGLProgram(z,W,M)}const D=Ot({inputs:{x:I},backend:s,attrs:{shape:b}});T.push(I);for(const M of T)s.disposeIntermediateTensorInfo(M);return D}function dut(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o,bias:i,preluActivationWeights:a}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return jO({a:s,b:o,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:a,leakyreluAlpha:f,activation:c})}const hut={kernelName:_k,backendName:"webgl",kernelFunc:dut};const Woe="return abs(x);";function put(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const o=n.texData.get(r.dataId),i=QCe(o.values);return n.makeTensorInfo(r.shape,r.dtype,i)}let s;return Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ng(r.shape,Woe):s=new zf(r.shape,Woe),n.runWebGLProgram(s,[r],r.dtype)}const gut={kernelName:N_,backendName:"webgl",kernelFunc:put};const mut=Xu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,vut=dr({opSnippet:mut}),yut={kernelName:Zx,backendName:"webgl",kernelFunc:vut};const but=Xu+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,wut=dr({opSnippet:but}),xut={kernelName:Jx,backendName:"webgl",kernelFunc:wut};const Uoe="return a + b;",Cut=ei({opSnippet:Uoe,packedOpSnippet:Uoe,supportsComplex:!0,cpuKernelImpl:Dat}),Sut={kernelName:ay,backendName:"webgl",kernelFunc:Cut};class $ut{constructor(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((o,i)=>`T${i}`);const r=[];this.variableNames.forEach(o=>{r.push(`float v${o} = get${o}AtOutCoords();`)});const s=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}class kut{constructor(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((o,i)=>`T${i}`);const r=[];this.variableNames.forEach(o=>{r.push(`vec4 v${o} = get${o}AtOutCoords();`)});const s=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}function i3(e){const{inputs:t,backend:n}=e,r=t;if(r.length===1)return wl({inputs:{x:r[0]},backend:n});if(r.length>Pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=i3({inputs:r.slice(0,l),backend:n}),c=i3({inputs:r.slice(l),backend:n});return i3({inputs:[u,c],backend:n})}const s=r.map(l=>l.dtype).reduce((l,u)=>Da(l,u)),o=r.map(l=>l.shape),a=Pe().getBool("WEBGL_PACK")?new kut(r[0].shape,o):new $ut(r[0].shape,o);return n.runWebGLProgram(a,r,s)}const Eut={kernelName:D_,backendName:"webgl",kernelFunc:i3};function _ut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,a)),Qo("all",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"all",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const Tut={kernelName:HM,backendName:"webgl",kernelFunc:_ut};function Aut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,a)),Qo("any",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"any",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const Iut={kernelName:qM,backendName:"webgl",kernelFunc:Aut};class Nut{constructor(t,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:o,outSize:i}=t;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const a=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}class Dut{constructor(t,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,te(t.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const o=t[t.length-1],i=Math.ceil(o/n);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,l=a.length,u=Wr(l),c=Ui("coords",l);let f,d;if(i===1){d=l+1;const k=Wr(d);f=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else d=l,f=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],g=h.map(k=>"int "+k),m=Ui("sourceLocR",d-1).concat("inIdx.r"),v=Ui("sourceLocG",d-1).concat("inIdx.g"),y=Ui("sourceLocB",d-1).concat("inIdx.b"),w=Ui("sourceLocA",d-1).concat("inIdx.a"),b=r==="max"?"greaterThan":"lessThan",C=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${w.join()})));`,S=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${v.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${w.join()}) : 0.)`,$=s?"":`
      float getBestIndicesAChannel(${g.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${g.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${$}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${a[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${a[l-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${C}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function uSe(e,t,n,r=null){let s=t.shape[0],o=t.shape[1];r!=null&&(s=r.shape[0],o=r.shape[1]);const i=AP(o),a={windowSize:i,inSize:o,batchSize:s,outSize:Math.ceil(o/i)},l=new Nut(a,n,r==null),u=[t];r!=null&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const f=uSe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function cSe(e,t,n,r=null){const s=r!=null?r.shape:t.shape,o=s[s.length-1],i=AP(o),a=new Dut(s,i,n,r==null),l=r==null?[t]:[t,r],u=e.runWebGLProgram(a,l,"int32");if(u.shape.length===t.shape.length){const c=cSe(e,t,n,u);return e.disposeIntermediateTensorInfo(u),c}return u}function fSe(e,t,n,r){const s=[n];if(Qo("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,t.shape.length),!Pe().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const o=[],i=e.texData.get(t.dataId),a=i!==null&&i.isPacked;let l=t;a&&(l=e.unpackTensor(t),o.push(l));const[u,c]=Ao(l.shape,s),f=je(c),d=Ot({inputs:{x:l},backend:e,attrs:{shape:[-1,f]}});o.push(d);const h=uSe(e,d,r);o.push(h);const p=Ot({inputs:{x:h},backend:e,attrs:{shape:u}});return o.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}return cSe(e,t,r)}function Out(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=la({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),Qo("argMax",[i[0]],l.shape.length);const c=fSe(n,l,i[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Rut={kernelName:O_,backendName:"webgl",kernelFunc:Out};function Fut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o}=r;let i=qn(o,s.shape);const a=As(i,s.shape.length);let l=s;const u=[];a!=null&&(l=la({inputs:{x:s},backend:n,attrs:{perm:a}}),u.push(l),i=Hs(i.length,l.shape.length)),Qo("argMin",[i[0]],l.shape.length);const c=fSe(n,l,i[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Mut={kernelName:R_,backendName:"webgl",kernelFunc:Fut};const Put=Xu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Lut=dr({opSnippet:Put}),But={kernelName:Qx,backendName:"webgl",kernelFunc:Lut};const zut=Xu+"return log(x + sqrt(x * x + 1.0));",Vut=dr({opSnippet:zut}),Wut={kernelName:e2,backendName:"webgl",kernelFunc:Vut};const Uut=Xu+`
  return atan(x);
`,jut=dr({opSnippet:Uut}),Hut={kernelName:t2,backendName:"webgl",kernelFunc:jut};const qut=PK+`
  return atan(a, b);
`,Gut=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,Kut=ei({opSnippet:qut,packedOpSnippet:Gut}),Yut={kernelName:r2,backendName:"webgl",kernelFunc:Kut};const Xut=Xu+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Zut=dr({opSnippet:Xut}),Jut={kernelName:n2,backendName:"webgl",kernelFunc:Zut};class Gk{constructor(t,n,r,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const i=t.filterWidth,a=t.strideHeight,l=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;const g=n==="avg",m=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,v=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`;let y="0.0";if(g||(y="-1.0 / 1e-20"),r){this.userCode=`
        const ivec2 strides = ivec2(${a}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?o?m:v:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const w="max";let b=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(b="avgValue / max(count, 1.0)");const C=Math.floor(i/4)*4,S=i%4,$=`
      if (${g}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${w}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${C}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${$}
          }

          int xC = xCCorner + ${C};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${$}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${$}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${$}
          }
        }
        setOutput(${b});
      }
    `}}class BK{constructor(t,n,r,s=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const i=t.filterWidth,a=t.strideDepth,l=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,g=t.effectiveFilterWidth,m=t.padInfo.front,v=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;const w=n==="avg";let b="0.0";if(w||(b="-1.0 / 1e-20"),r){this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${l}, ${u});
        const ivec3 pads = ivec3(${m}, ${v}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${t.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${g};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?o?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${p} * ${g} +
                      wR * ${g} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / max(count, 1.0)");const $=Math.floor(i/4)*4,k=i%4,T=`
      if (${w}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${l}, ${u});
      const ivec3 pads = ivec3(${m}, ${v}, ${y});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${$}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${$};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${T}
            }
          }
        }
        setOutput(${S});
      }
    `}}function Qut(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;nA(s,"avgPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Ku(s.shape,o,i,u,a,l);if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))return wl({inputs:{x:s},backend:n});const f=new Gk(c,"avg",!1);return n.runWebGLProgram(f,[s],"float32")}const ect={kernelName:F_,backendName:"webgl",kernelFunc:Qut};function tct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],f=_p(s.shape,o,i,c,a,l,u),d=new BK(f,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const nct={kernelName:M_,backendName:"webgl",kernelFunc:tct};class rct{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=l-1-t.padInfo.top,f=u-1-t.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${f});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class sct{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,s=t.filterWidth,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,g=d-1-t.padInfo.top,m=h-1-t.padInfo.left,v=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${g}, ${m});
      const float avgMultiplier = float(${v});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${o}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function oct(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o,{filterSize:a,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=_p(i.shape,a,l,f,u,c),h=new sct(d);return n.runWebGLProgram(h,[s],i.dtype)}const ict={kernelName:KM,backendName:"webgl",kernelFunc:oct};function act(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o;nA([s,o],"avgPoolGrad");const{filterSize:a,strides:l,pad:u}=r,c=Ku(i.shape,a,l,1,u),f=new rct(c);return n.runWebGLProgram(f,[s],i.dtype)}const lct={kernelName:GM,backendName:"webgl",kernelFunc:act};function uct(e){const{inputs:t,backend:n,attrs:r}=e,{a:s,b:o}=t,{transposeA:i,transposeB:a}=r;return jO({a:s,b:o,transposeA:i,transposeB:a,backend:n})}const cct={kernelName:P_,backendName:"webgl",kernelFunc:uct};class fct{constructor(t,n,r,s,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Nn(t,n),Nn(t,r);let a="0.0";s!=null&&(Nn(t,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="1.0";o!=null&&(Nn(t,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}class dct{constructor(t,n,r,s,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Nn(t,n),Nn(t,r);let a="vec4(0.0)";s!=null&&(Nn(t,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let l="vec4(1.0)";o!=null&&(Nn(t,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}}const hct=({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:s,variance:o,offset:i,scale:a}=e;te(s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),te(i==null||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),te(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,s,o];let c=null;i!=null&&(c=i.shape,u.push(i));let f=null;a!=null&&(f=a.shape,u.push(a));const d=Pe().getBool("WEBGL_PACK_NORMALIZATION")?new dct(r.shape,s.shape,o.shape,c,f,l):new fct(r.shape,s.shape,o.shape,c,f,l);return t.runWebGLProgram(d,u,u[0].dtype)},pct={kernelName:X_,backendName:"webgl",kernelFunc:hct};class gct{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const n=Wr(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=mct(this.rank);let s;const o=t.map((i,a)=>`sourceLoc.${KV[a]} = start[${a}] + coords.${KV[a]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${o.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const KV=["x","y","z","w","u","v"];function mct(e){if(e===1)return"sourceLoc";if(e<=6)return KV.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}class vct{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Wr(this.rank),r=Ui("coords",this.rank),s=Ui("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,i=`getChannel(getSource(${s.join()}), ${o})`,a=`
      result.x = ${i};
      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${i};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${i};
        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${i};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${t.map((c,f)=>`start[${f}]`).join()});`:t.map((c,f)=>`${s[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${a}
        ${l}
        setOutput(result);
      }
    `}}function yct(e,t,n,r){const s=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),i=r.texData.get(o.dataId);Object.assign(i,s),i.refCount=1,i.shape=n,i.dtype=e.dtype;let a=DG(t,fn(e.shape));s.slice&&(a+=s.slice.flatOffset),i.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||e.dataId};const l=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,l+1),o}function sC(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,size:i}=r,[a,l]=TP(s,o,i);if(AG(s,a,l),je(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const f=n.texData.get(s.dataId),d=clt(f.values,a,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,d)}const{isPacked:u}=n.texData.get(s.dataId),c=NG(s.shape,a,l);if(u||!c){const f=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vct(l):new gct(l),d=[a];return n.runWebGLProgram(f,[s],s.dtype,d)}return n.uploadToGPU(s.dataId),yct(s,a,l,n)}const bct={kernelName:kT,backendName:"webgl",kernelFunc:sC};const wct=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,crops:i}=r;te(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((y,w)=>y*w),l=UT(s.shape,o,a),u=jT(l.length,o.length),c=HT(s.shape,o,a),f=LG(i,o.length),d=BG(c,i,o.length),h=[],p=Ot({inputs:{x:s},backend:n,attrs:{shape:l}}),g=la({inputs:{x:p},backend:n,attrs:{perm:u}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:c}}),v=sC({inputs:{x:m},backend:n,attrs:{begin:f,size:d}});return h.push(p),h.push(g),h.push(m),h.forEach(y=>n.disposeIntermediateTensorInfo(y)),v},xct={kernelName:L_,backendName:"webgl",kernelFunc:wct};function Cct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i}=r,a=n.readSync(s.dataId),l=n.readSync(o.dataId),u=JCe(a,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}const Sct={kernelName:YM,backendName:"webgl",kernelFunc:Cct};const $ct=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,kct=`
  return float(int(a.r) & int(b.r));
`;function Ect(e){const{inputs:t,backend:n}=e,{a:r,b:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=Pe().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,s])||i===1){const l=n.texData.get(r.dataId).values,u=n.texData.get(s.dataId).values,[c,f]=Rat(r.shape,s.shape,l,u,r.dtype),d=n.makeTensorInfo(f,r.dtype),h=n.texData.get(d.dataId);return h.values=c,d}let a;return o?a=new nC($ct,r.shape,s.shape,!1):a=new E1(kct,r.shape,s.shape),n.runWebGLProgram(a,[r,s],r.dtype)}const _ct={kernelName:B_,backendName:"webgl",kernelFunc:Ect};function Tct(e){const{inputs:t,backend:n}=e,{s0:r,s1:s}=t,o=n.readSync(r.dataId),i=n.readSync(s.dataId),a=Nn(Array.from(o),Array.from(i));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const Act={kernelName:XM,backendName:"webgl",kernelFunc:Tct};const Ict="return float(a != b);",dSe=ei({opSnippet:Ict,cpuKernelImpl:tlt,dtype:"bool"}),Nct={kernelName:hT,backendName:"webgl",kernelFunc:dSe};function sA(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.texData.get(r.dataId);return wl({inputs:{x:s.complexTensorInfos.real},backend:n})}const Dct={kernelName:I4,backendName:"webgl",kernelFunc:sA};const Oct="return float(int(x));";function Rct(e,t){const n=new zf(e.shape,Oct),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function YV(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dtype:o}=r;if(o==="complex64"){if(s.dtype==="complex64")return wl({inputs:{x:s},backend:n});const i=no(s.shape),a=YV({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=u0({inputs:{real:a,imag:i},backend:n});return i.dispose(),n.disposeIntermediateTensorInfo(a),l}if(s.dtype==="complex64"){const i=sA({inputs:{input:s},backend:n}),a=YV({inputs:{x:i},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(i),a}if(!Aq(s.dtype,o)){const i=wl({inputs:{x:s},backend:n});return{dataId:i.dataId,shape:i.shape,dtype:o}}if(n.shouldExecuteOnCPU([s])){const i=n.texData.get(s.dataId).values,[a,l,u]=Fat(i,s.shape,s.dtype,o);return n.makeTensorInfo(a,l,u)}if(o==="int32")return Rct(s,n);if(o==="bool"){const i=n.makeTensorInfo([],"bool",Eo("bool",1)),l=dSe({inputs:{a:s,b:i},backend:n});return n.disposeIntermediateTensorInfo(i),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${o}`)}const Fct={kernelName:s2,backendName:"webgl",kernelFunc:YV};const joe="return ceil(x);",Mct=dr({opSnippet:joe,packedOpSnippet:joe,cpuKernelImpl:Mat}),Pct={kernelName:o2,backendName:"webgl",kernelFunc:Mct};class Lct{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class Bct{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}function zct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{clipValueMin:o,clipValueMax:i}=r;let a;Pe().getBool("WEBGL_PACK_CLIP")?a=new Bct(s.shape):a=new Lct(s.shape);const l=[[o],[i]];return n.runWebGLProgram(a,[s],s.dtype,l)}const Vct={kernelName:i2,backendName:"webgl",kernelFunc:zct};class Wct{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function Hoe(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function Uct(e){const{inputs:t,backend:n}=e,{x:r}=t,s=n.texData.get(r.dataId),o=new Wct(r.shape),i=[Hoe(r,s.complexTensorInfos.real),Hoe(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}const jct={kernelName:z_,backendName:"webgl",kernelFunc:Uct};class Hct{constructor(t){this.outputShape=[],this.outputShape=Hf(t,1),this.variableNames=t.map((i,a)=>`T${a}`);const n=new Array(t.length-1);n[0]=t[0][1];for(let i=1;i<n.length;i++)n[i]=n[i-1]+t[i][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<n.length;i++){const a=n[i-1];r.push(`else if (yC < ${n[i]}) setOutput(getT${i}(yR, yC-${a}));`)}const s=n.length,o=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${o}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}class qct{constructor(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Hf(t,n);const r=this.outputShape,s=r.length,o=Wr(s),i=Ui("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=t.map((g,m)=>`T${m}`);const l=new Array(t.length-1);l[0]=t[0][n];for(let g=1;g<l.length;g++)l[g]=l[g-1]+t[g][n];const u=a[n],c=a.slice(-2),f=a.join();let d=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${f}), vec2(${c.join()}));
        }`;for(let g=1;g<l.length;g++){const m=l[g-1];d+=`
        if (${u} < ${l[g]}  && ${u} >= ${l[g-1]}) {
          return getChannel(
            getT${g}(${rN(a,u,m)}),
            vec2(${rN(c,u,m)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${rN(a,u,p)}),
          vec2(${rN(c,u,p)}));`,this.userCode=`
      float getValue(${a.map(g=>"int "+g)}) {
        ${d}
      }

      void main() {
        ${o} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[s-1]} = ${i[s-1]} + 1;
        if (${i[s-1]} < ${r[s-1]}) {
          result.g = getValue(${i});
        }

        ${i[s-2]} = ${i[s-2]} + 1;
        if (${i[s-2]} < ${r[s-2]}) {
          result.a = getValue(${i});
        }

        ${i[s-1]} = ${i[s-1]} - 1;
        if (${i[s-2]} < ${r[s-2]} &&
            ${i[s-1]} < ${r[s-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}}function rN(e,t,n){const r=e.indexOf(t);return e.map((o,i)=>i===r?`${o} - ${n}`:o).join()}function YP(e){const{inputs:t,backend:n}=e,{input:r}=t,s=n.texData.get(r.dataId);return wl({inputs:{x:s.complexTensorInfos.imag},backend:n})}const Gct={kernelName:m4,backendName:"webgl",kernelFunc:YP};function s$(e,t,n){const r=e[0].dtype;if(r==="complex64"){const h=e.map(y=>sA({inputs:{input:y},backend:n})),p=e.map(y=>YP({inputs:{input:y},backend:n})),g=s$(h,t,n),m=s$(p,t,n),v=u0({inputs:{real:g,imag:m},backend:n});return h.forEach(y=>n.disposeIntermediateTensorInfo(y)),p.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),v}let s=n.shouldExecuteOnCPU(e);if(r==="string"&&(s=!0),s){const h=e.map(b=>{const S=[-1,je(b.shape.slice(t))];return Ot({inputs:{x:b},backend:n,attrs:{shape:S}})}),p=h.map(b=>({vals:n.readSync(b.dataId),shape:b.shape})),g=Hf(h.map(b=>b.shape),1),m=h[0].shape[0]===1,v=Pat(p,g,r,m),y=Hf(e.map(b=>b.shape),t),w=n.makeTensorInfo(y,r,v);return h.forEach(b=>n.disposeIntermediateTensorInfo(b)),w}const o=e.filter(h=>je(h.shape)>0),i=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(o.length===1){const h=i?new zf(e[0].shape,vg):new Ng(e[0].shape,vg);return n.runWebGLProgram(h,e,r)}const a=Pe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>a){const h=[];for(let g=0;g<o.length;g+=a){const m=o.slice(g,g+a);h.push(s$(m,t,n))}const p=s$(h,t,n);for(const g of h)n.disposeIntermediateTensorInfo(g);return p}if(i){const h=new qct(o.map(p=>p.shape),t);return n.runWebGLProgram(h,o,r)}const{tensors2D:l,outShape:u}=Kct(o,t,n),c=new Hct(l.map(h=>h.shape)),f=n.runWebGLProgram(c,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=Ot({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function Kct(e,t,n){const r=Hf(e.map(o=>o.shape),t);return{tensors2D:e.map(o=>Ot({inputs:{x:o},attrs:{shape:[-1,je(o.shape.slice(t))]},backend:n})),outShape:r}}function hSe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r,o=qn(s,t[0].shape)[0],i=t.map(u=>u.shape);FG(i,o);const a=Hf(t.map(u=>u.shape),o);if(je(a)===0)return n.makeTensorInfo(a,t[0].dtype,[]);const l=t.filter(u=>je(u.shape)>0);return l.length===1?wl({inputs:{x:l[0]},backend:n}):s$(l,o,n)}const Yct={kernelName:V_,backendName:"webgl",kernelFunc:hSe};class pSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const i=t.padInfo.top,a=t.padInfo.left,l=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,g=t.inChannels%4,m=t.dataFormat==="channelsLast",v=m?1:2,y=m?2:3,w=m?3:1;let b="",C="";r&&(s?b=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?b=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:b=`
          float activation(float x) {
            ${r}
          }
        `,C="result = activation(result);");const S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${b}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${w}];

        ivec2 xRCCorner =
            ivec2(coords[${v}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${t.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${m}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${g===1}) {

              if (${m}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${g===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${m}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${g===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${m}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${C}
        setOutput(result);
      }
    `}}class Xct{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const n=t.padInfo.front,r=t.padInfo.top,s=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,g=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${o}, ${i}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${g===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${g===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${g===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class gSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.padInfo.left,a=t.strideWidth,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,f=c;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<c;m++)d+=`
           vec4 xTexelC${m*2};
           int xTexelC${m*2}Ready;
           vec4 xTexelC${m*2+1};
           int xTexelC${m*2+1}Ready;
           vec4 xC${m};`;d+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {
       `;for(let m=0;m<c;m++)d+=`
           xTexelC${m*2} = vec4(0.0);
           xTexelC${m*2}Ready = 0;
           xTexelC${m*2+1} = vec4(0.0);
           xTexelC${m*2+1}Ready = 0;
           xC${m} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let m=0;m<(f+1)/2;m++){const v=m*2;if(d+=`
           xC = xCCorner + ${v*l};
           `,a===1){if(v<c&&(i%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }
               `,l===1&&v>0?d+=`
                 xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                   } else {
                     xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xC${v} = xTexelC${v};
                 `,v+1<c)){const y=i%2===0?WM(l):l;l%2===0&&i%2===1||l%2!==0&&i%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                     xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${v+1}.zw = vec2(0.0);
                     }
                     xTexelC${v+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                     } else {
                      xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                     }
                     `:d+=`
                     xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                     `):y===1?d+=`
                     xC${v+1} = xTexelC${v};
                     `:d+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                       xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${v+1}.zw = vec2(0.0);
                       }
                       xTexelC${v+1}Ready = 1;
                     }

                     xC${v+1} = xTexelC${v+1};
                     `}}else v<c&&(i%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.0);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
               `,v+1<c&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(
                   xTexelC${v}.xy, xTexelC${v+1}.xy);
               `,v+1<c&&(d+=`
                   xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                 `)));v<c&&(d+=`
             wTexel = getW(r, ${v}, d1, d2);
             dotProd += xC${v}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${t.inChannels}) {
               dotProd += xC${v}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,v+1<c&&(d+=`
               wTexel = getW(r, ${v+1}, d1, d2);
               dotProd += xC${v+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${t.inChannels}) {
                 dotProd += xC${v+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:o?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${g}
         ${p}
         setOutput(result);
       }
     `}}class Zct{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=xi(this.outputShape.length);const{dataFormat:r}=n,s=ca(),o=r==="channelsLast",i=o?1:2,a=o?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${o}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${s.output} = result;
      }
    `}}function HO(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&n===1&&e[0]>1?[e[0],1]:null}function mSe({x:e,filter:t,convInfo:n,backend:r,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:a=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,f=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,g=!1;let m;const v=[];if(o!=null){const b=HO(o.shape,h);b!=null&&(o=Ot({inputs:{x:o},backend:r,attrs:{shape:b}}),v.push(o))}if(s!=null){const b=HO(s.shape,h);b!=null&&(s=Ot({inputs:{x:s},backend:r,attrs:{shape:b}}),v.push(s))}if(!((f===1||d===1)&&c>lSe)&&u.isPacked&&h&&u.texture!=null&&l[2]%2!==0&&ir(u.shape.slice(-3),l.slice(-3))){const b=l[0]*l[1]*(l[2]+1),C={dataId:e.dataId,shape:[1,b,n.inChannels],dtype:e.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,te(UO(u.shape,C.shape),()=>`packed reshape ${u.shape} to ${C.shape} isn't free`);const $=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});v.push($);const k=jO({a:C,b:$,backend:r,transposeA:p,transposeB:g,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:i}),T=r.texData.get(k.dataId);te(T.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,T.shape=n.outShape,m=wl({inputs:{x:k},backend:r}),m.shape=n.outShape,v.push(k)}else{const b=n.outHeight*n.outWidth,C=Ot({inputs:{x:e},backend:r,attrs:{shape:h?[n.batchSize,b,n.inChannels]:[n.batchSize,n.inChannels,b]}}),S=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),$=jO({a:h?C:S,b:h?S:C,transposeA:!h,transposeB:g,backend:r,bias:s,activation:a,preluActivationWeights:o,leakyreluAlpha:i});m=Ot({inputs:{x:$},backend:r,attrs:{shape:n.outShape}}),v.push(C),v.push(S),v.push($)}for(const b of v)r.disposeIntermediateTensorInfo(b);return m}function vSe({x:e,filter:t,convInfo:n,backend:r,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:a=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:f,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",g=l*u*c,m=d*f,v=[n.batchSize,g,m],y=!0,w=!1,b=[];if(o!=null){const D=HO(o.shape,p);D!=null&&(o=Ot({inputs:{x:o},backend:r,attrs:{shape:D}}),b.push(o))}if(s!=null){const D=HO(s.shape,p);D!=null&&(s=Ot({inputs:{x:s},backend:r,attrs:{shape:D}}),b.push(s))}const C=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,g,je(t.shape)/g]}});b.push(C);const S=new Zct(v,n),$=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(S,[e],"float32",$),T=Ot({inputs:{x:k},backend:r,attrs:{shape:v}});b.push(k),b.push(T);const _=s!=null,E=o!=null,A=a==="leakyrelu",N=a?qk(a,!0):null,F=new aSe(p?T.shape:C.shape,p?C.shape:T.shape,p?[n.batchSize,m,n.outChannels]:[n.batchSize,n.outChannels,m],y,w,_,N,E,A),R=p?[T,C]:[C,T];if(s&&R.push(s),E&&R.push(o),A){const D=r.makeTensorInfo([],"float32",Ep(i,"float32"));R.push(D),b.push(D)}const P=r.runWebGLProgram(F,R,"float32"),I=Ot({inputs:{x:P},backend:r,attrs:{shape:n.outShape}});b.push(P);for(const D of b)r.disposeIntermediateTensorInfo(D);return I}function Jct(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=Tp(l),d=To(s.shape,o.shape,i,u,a,c,!1,f);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=mSe({x:s,filter:o,convInfo:d,backend:n});else if(d.strideWidth<=2&&f==="channelsLast"&&Pe().getBool("WEBGL_EXP_CONV")){const g=new gSe(d),m=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(g,[s,o],"float32",m)}else if(Pe().getBool("WEBGL_CONV_IM2COL"))h=vSe({x:s,filter:o,convInfo:d,backend:n});else{const g=new pSe(d);h=n.runWebGLProgram(g,[s,o],"float32")}const p=Ot({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const Qct={kernelName:W_,backendName:"webgl",kernelFunc:Jct};class eft{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,s=t.padInfo.top,o=t.padInfo.left,i=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${o};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class tft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=t.dataFormat==="channelsLast",a=n-1-t.padInfo.top,l=r-1-t.padInfo.left,u=i?1:2,c=i?2:3,f=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class nft{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideDepth,r=t.strideHeight,s=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,a=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yF = 0; yF < ${t.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${o};

            if (xF < 0 || xF >= ${t.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${t.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${i};

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${t.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${a};

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class rft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,s=t.filterWidth,o=t.strideDepth,i=t.strideHeight,a=t.strideWidth,l=n-1-t.padInfo.front,u=r-1-t.padInfo.top,c=s-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${o}.0;

          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function sft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=Tp(l),d=To(s.shape,c,i,1,a,u,!1,f),h=new eft(d);return n.runWebGLProgram(h,[s,o],"float32")}const oft={kernelName:JM,backendName:"webgl",kernelFunc:sft};class ift{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=xi(this.outputShape.length);const n=t.filterHeight,r=t.filterWidth,s=n-1-t.padInfo.top,o=r-1-t.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}function aft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{inputShape:i,strides:a,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=Tp(u),d=To(i,o.shape,a,1,l,c,!1,f);if(Pe().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new ift(d);return n.runWebGLProgram(p,[s,o],"float32",h)}else{const h=new tft(d);return n.runWebGLProgram(h,[s,o],"float32")}}const lft={kernelName:U_,backendName:"webgl",kernelFunc:aft};function uft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r,u=n0(s.shape,o.shape,i,l,a),c=new Xct(u);return n.runWebGLProgram(c,[s,o],"float32")}const cft={kernelName:j_,backendName:"webgl",kernelFunc:uft};function fft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,pad:a,filterShape:l}=r,u=n0(s.shape,l,i,1,a),c=new nft(u);return n.runWebGLProgram(c,[s,o],"float32")}const dft={kernelName:QM,backendName:"webgl",kernelFunc:fft};function hft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{pad:i,strides:a,inputShape:l}=r,u=n0(l,o.shape,a,1,i),c=new rft(u);return n.runWebGLProgram(c,[s,o],"float32")}const pft={kernelName:e4,backendName:"webgl",kernelFunc:hft};const gft=rC+`
  return cos(x);
`,mft=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${vy}
  return result;
`,vft=dr({opSnippet:gft,packedOpSnippet:mft}),yft={kernelName:a2,backendName:"webgl",kernelFunc:vft};const bft=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,wft=dr({opSnippet:bft}),xft={kernelName:l2,backendName:"webgl",kernelFunc:wft};class Cft{constructor(t,n,r,s,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,l,u]=t,[c]=n,[f,d]=r;this.outputShape=[c,f,d,u];const h=s==="bilinear"?1:0,[p,g]=[`${a-1}.0`,`${l-1}.0`],[m,v,y]=f>1?[`${(a-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[w,b,C]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${g} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${g}`];this.userCode=`
      const float height_ratio = float(${m});
      const float width_ratio = float(${w});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${v};
        float width_scale = ${b};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${o}));
          return;
        }
        float in_x = ${C};
        if( in_x < 0.0 || in_x > ${g} ) {
          setOutput(float(${o}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}const Sft=e=>{const{inputs:t,backend:n,attrs:r}=e,{image:s,boxes:o,boxInd:i}=t,{cropSize:a,method:l,extrapolationValue:u}=r,c=new Cft(s.shape,o.shape,a,l,u);return n.runWebGLProgram(c,[s,o,i],"float32")},$ft={kernelName:n4,backendName:"webgl",kernelFunc:Sft};var Kk;(function(e){e.Prod="*",e.Sum="+"})(Kk||(Kk={}));class qoe{constructor(t,n,r,s){this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,i=this.op===Kk.Prod?"1.0":"0.0",a=r?i:`getX(${Goe(o,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=s?`end != ${l-1}`:"end != 0",c=s?"end + 1":"end - 1"):(u=s?`end + pow2 < ${l}`:"end >= pow2",c=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Wr(o)} coords = getOutputCoords();
        int end = ${Koe(o,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${Koe(o,"coords",this.op)} = idx;
          val ${this.op}= getX(${Goe(o,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function Goe(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Koe(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function ySe(e,t,n,r,s,o){const i=t.shape.length,a=As([r],i);let l=t;a!=null&&(l=la({inputs:{x:t},backend:n,attrs:{perm:a}}));const u=Hs(1,i)[0];if(u!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let f=wl({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const h=new qoe(e,l.shape,!1,o),p=[[d]],g=f;f=n.runWebGLProgram(h,[f],f.dtype,p),n.disposeIntermediateTensorInfo(g)}if(s){const d=new qoe(e,l.shape,s,o),h=f;f=n.runWebGLProgram(d,[f],f.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const d=r0(a),h=la({inputs:{x:f},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),h}return f}function kft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;return ySe(Kk.Prod,s,n,o,i,a)}const Eft={kernelName:t4,backendName:"webgl",kernelFunc:kft};function _ft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,exclusive:i,reverse:a}=r;return ySe(Kk.Sum,s,n,o,i,a)}const Tft={kernelName:H_,backendName:"webgl",kernelFunc:_ft};function Aft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,weights:o}=t,{size:i,binaryOutput:a}=r;if(s.shape.length===1){const l=n.readSync(s.dataId),u=n.readSync(o.dataId),c=JCe(l,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}else if(s.shape.length===2){const l=n.bufferSync(s),u=n.bufferSync(o),c=Oat(l,u,i,a);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const Ift={kernelName:r4,backendName:"webgl",kernelFunc:Aft};class Nft{constructor(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function Dft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockSize:o,dataFormat:i}=r,a=s.shape[0],l=i==="NHWC"?s.shape[1]:s.shape[2],u=i==="NHWC"?s.shape[2]:s.shape[3],c=i==="NHWC"?s.shape[3]:s.shape[1],f=l*o,d=u*o,h=c/(o*o),p=i==="NHWC"?[a,f,d,h]:[a,h,f,d],g=new Nft(p,o,i);return n.runWebGLProgram(g,[s],s.dtype)}const Oft={kernelName:s4,backendName:"webgl",kernelFunc:Dft};class bSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.filterHeight,a=t.filterWidth,l=t.outChannels/t.inChannels;let u="",c="";r&&(s?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${c}
        setOutput(result);
      }
    `}}class wSe{constructor(t,n=!1,r=null,s=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=xi(this.outputShape.length);const i=t.outChannels/t.inChannels,a=t.padInfo.left,l=t.strideWidth,u=t.dilationWidth,c=t.filterHeight,f=t.filterWidth,d=f;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<f;v++)h+=`
          vec4 xTexelC${v*2};
          int xTexelC${v*2}Ready;
          vec4 xTexelC${v*2+1};
          int xTexelC${v*2+1}Ready;
          vec4 xC${v};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let v=0;v<f;v++)h+=`
          xTexelC${v*2} = vec4(0.0);
          xTexelC${v*2}Ready = 0;
          xTexelC${v*2+1} = vec4(0.0);
          xTexelC${v*2+1}Ready = 0;
          xC${v} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let v=0;v<(d+1)/2;v++){const y=v*2;if(h+=`
          xC = xCCorner + ${y*u};
          `,l===1){if(y<f&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,u===1&&y>0?h+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<f)){const w=a%2===0?WM(u):u;u%2===0&&a%2===1||u%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${w};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,u>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:h+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):w===1?h+=`
                    xC${y+1} = xTexelC${y};
                    `:h+=`
                    xCOffset = xC + ${w};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<f&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<f&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<f&&(h+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<f&&(h+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<f&&(h+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",g="";r&&(s?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:o?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,g="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${m}
        ${g}
        setOutput(result);
      }
    `}}function Rft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),te(Jo(i,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`);const f=To(s.shape,o.shape,i,c,a,u,!0);let d;Pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?d=new wSe(f):d=new bSe(f);const h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[s,o],"float32",h)}const Fft={kernelName:q_,backendName:"webgl",kernelFunc:Rft};class Mft{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,s=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${o};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Pft{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,s=t.strideHeight,o=t.strideWidth,i=n-1-t.padInfo.top,a=r-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function Lft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,dy:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,filterShape:c}=r,f=To(s.shape,c,i,a,l,u,!0),d=new Mft(f);return n.runWebGLProgram(d,[s,o],"float32")}const Bft={kernelName:o4,backendName:"webgl",kernelFunc:Lft};function zft(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,filter:o}=t,{strides:i,dilations:a,pad:l,dimRoundingMode:u,inputShape:c}=r,f=To(c,o.shape,i,a,l,u,!0),d=new Pft(f);return n.runWebGLProgram(d,[s,o],"float32")}const Vft={kernelName:i4,backendName:"webgl",kernelFunc:zft};class Wft{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}function Uft(e){const{inputs:t,backend:n}=e,{x:r}=t,s=[...r.shape,...r.shape],o=je(r.shape),i=Ot({inputs:{x:r},backend:n,attrs:{shape:[o]}}),a=new Wft(o),l=n.runWebGLProgram(a,[i],i.dtype),u=Ot({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const jft={kernelName:a4,backendName:"webgl",kernelFunc:Uft};class Hft{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:o,strideWidth:i,filterHeight:a,filterWidth:l,dilationHeight:u,dilationWidth:c}=t,{top:f,left:d}=s;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${i});
      const ivec2 pads = ivec2(${f}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}function qft(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o}=t,{strides:i,pad:a,dilations:l}=r,u=MT(s.shape,o.shape,i,a,"NHWC",l);let c;const f=new Hft(u);c=n.runWebGLProgram(f,[s,o],"float32");const d=Ot({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}const Gft={kernelName:G_,backendName:"webgl",kernelFunc:qft};function Kft(e){const{inputs:t,backend:n,attrs:r}=e,{equation:s}=r,o=t,{allDims:i,summedDims:a,idDims:l}=GG(s,o.length);YG(i.length,l,o);const{path:u,steps:c}=XG(a,l),f=c.length;let d=null,h=i.length;const p=[];for(let g=0;g<f;++g){for(const m of c[g]){const{permutationIndices:v,expandDims:y}=KG(h,l[m]);let w;ZG(v)?w=o[m]:(w=la({inputs:{x:o[m]},backend:n,attrs:{perm:v}}),p.push(w));const b=w.shape.slice();for(let C=0;C<y.length;++C)b.splice(y[C],0,1);ir(w.shape,b)||(w=Ot({inputs:{x:w},backend:n,attrs:{shape:b}}),p.push(w)),d===null?d=w:(d=LK({inputs:{a:w,b:d},backend:n}),p.push(d))}g<f-1&&(u[g]>=0&&(d=KP({inputs:{x:d},backend:n,attrs:{axis:u[g]-(i.length-h),keepDims:!1}}),p.push(d)),h--)}for(const g of p)g!==d&&n.disposeIntermediateTensorInfo(g);return d}const Yft={kernelName:u4,backendName:"webgl",kernelFunc:Kft};const Xft="return (x >= 0.0) ? x : (exp(x) - 1.0);",Zft=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Jft=dr({opSnippet:Xft,packedOpSnippet:Zft}),Qft={kernelName:c2,backendName:"webgl",kernelFunc:Jft};const edt="return (b >= 0.0) ? a : a * (b + 1.0);",tdt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,ndt=e=>{const{inputs:t,backend:n}=e,{dy:r,y:s}=t,o=Pe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nC(tdt,r.shape,s.shape):new E1(edt,r.shape,s.shape);return n.runWebGLProgram(o,[r,s],r.dtype)},rdt={kernelName:c4,backendName:"webgl",kernelFunc:ndt};const sdt=`
  return vec4(equal(a, b));
`,odt="return float(a == b);",idt=ei({opSnippet:odt,packedOpSnippet:sdt,dtype:"bool",cpuKernelImpl:Lat}),adt={kernelName:K_,backendName:"webgl",kernelFunc:idt};const ldt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${zG};
  float a1 = ${VG};
  float a2 = ${WG};
  float a3 = ${UG};
  float a4 = ${jG};
  float a5 = ${HG};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,udt=dr({opSnippet:ldt}),cdt={kernelName:f2,backendName:"webgl",kernelFunc:udt};const fdt=rC+`
  return exp(x);
`,ddt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,xSe=dr({opSnippet:fdt,packedOpSnippet:ddt,cpuKernelImpl:Bat,dtype:"float32"}),hdt={kernelName:d2,backendName:"webgl",kernelFunc:xSe};function XV(e){const{inputs:t,attrs:n,backend:r}=e,{dim:s}=n,{input:o}=t,i=o.shape.length,a=o.shape.slice();let l=s;return s<0&&(te(-(i+1)<=s,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),l=i+s+1),a.splice(l,0,1),Ot({inputs:{x:o},backend:r,attrs:{shape:a}})}const pdt={kernelName:Y_,backendName:"webgl",kernelFunc:XV};const Yoe="return exp(x) - 1.0;",gdt=dr({opSnippet:Yoe,packedOpSnippet:Yoe,cpuKernelImpl:zat}),mdt={kernelName:h2,backendName:"webgl",kernelFunc:gdt};class Xoe{constructor(t,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const o=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=r?`${s}.0`:"1.0";let a;if(t==="real")a="return real * expR - imag * expI;";else if(t==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);this.userCode=`
      const float exponentMultiplier = ${o};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function CSe(e,t,n){const r=n.texData.get(e.dataId),s=je(e.shape),o=e.shape[e.shape.length-1],i=s/o,a=Ot({inputs:{x:e},backend:n,attrs:{shape:[i,o]}}),l=a.shape,u=new Xoe("real",l,t),c=new Xoe("imag",l,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=u0({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const g=Ot({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),g}function vdt(e){const{inputs:t,backend:n}=e,{input:r}=t;return CSe(r,!1,n)}const ydt={kernelName:f4,backendName:"webgl",kernelFunc:vdt};class bdt{constructor(t,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function oA(e){const{backend:t,attrs:n}=e,{shape:r,value:s}=n;let{dtype:o}=n;if(o=o||oy(s),o==="string"){const i=Ds(o,je(r));return i.fill(s),t.makeTensorInfo(r,o,i)}else{const i=new bdt(r,s),a=[[s]];return t.runWebGLProgram(i,[],o,a)}}const wdt={kernelName:d4,backendName:"webgl",kernelFunc:oA};class xdt{constructor(t){this.variableNames=["Image"],this.outputShape=[];const n=t[2];this.outputShape=t,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const Cdt={kernelName:h4,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,s=new xdt(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};const Zoe="return floor(x);",Sdt=dr({opSnippet:Zoe,packedOpSnippet:Zoe,cpuKernelImpl:Vat}),$dt={kernelName:p2,backendName:"webgl",kernelFunc:Sdt};const kdt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Edt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,_dt=ei({opSnippet:kdt,packedOpSnippet:Edt,dtype:"int32"}),Tdt={kernelName:g2,backendName:"webgl",kernelFunc:_dt};class Adt{constructor(t){this.variableNames=["A"];const n=ca(),[r,s]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class Idt{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ca(),[r,s]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}const Ndt={kernelName:kO,backendName:"webgl",kernelFunc:Ddt};let fb,g8=Pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Ddt(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:s}=t;const{numChannels:o}=r,i=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[l,u]=i?[s.videoWidth,s.videoHeight]:[s.width,s.height],c=[u,l],f=[u,l,o];if(a||i){const g=Pe().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(fb==null||g!==g8)&&(g8=g,fb=document.createElement("canvas").getContext("2d",{willReadFrequently:g8})),fb.canvas.width=l,fb.canvas.height=u,fb.drawImage(s,0,0,l,u),s=fb.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=Ul.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const h=Pe().getBool("WEBGL_PACK")?new Idt(f):new Adt(f),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}function Odt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,g=Tp(c),m=To(s.shape,o.shape,l,f,u,d,!1,g);let v;const y=[],w=i!=null,b=a!=null,C=h==="leakyrelu",S=()=>{const k=[s,o],T=(_,E)=>{if(E==="NCHW"&&_.shape.length===1&&_.shape[0]!==1){const A=Ot({inputs:{x:_},backend:n,attrs:{shape:[_.shape[0],1,1]}});return y.push(A),A}return _};if(w&&k.push(T(i,c)),b&&k.push(T(a,c)),C){const _=n.makeTensorInfo([],"float32",Ep(p,"float32"));k.push(_),y.push(_)}return k};if(m.filterHeight===1&&m.filterWidth===1&&m.dilationHeight===1&&m.dilationWidth===1&&m.strideHeight===1&&m.strideWidth===1&&(m.padInfo.type==="SAME"||m.padInfo.type==="VALID"))v=mSe({x:s,filter:o,convInfo:m,backend:n,bias:i,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else if(m.strideWidth<=2&&g==="channelsLast"&&Pe().getBool("WEBGL_EXP_CONV")){const k=h?qk(h,!0):null,T=new gSe(m,w,k,b,C),_=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],E=S();v=n.runWebGLProgram(T,E,"float32",_)}else if(Pe().getBool("WEBGL_CONV_IM2COL"))v=vSe({x:s,filter:o,convInfo:m,backend:n,bias:i,activation:h,preluActivationWeights:a,leakyreluAlpha:p});else{const k=h?qk(h,!1):null,T=new pSe(m,w,k,b,C),_=S();v=n.runWebGLProgram(T,_,"float32")}const $=Ot({inputs:{x:v},backend:n,attrs:{shape:m.outShape}});return y.push(v),y.forEach(k=>n.disposeIntermediateTensorInfo(k)),$}const Rdt={kernelName:Tk,backendName:"webgl",kernelFunc:Odt};function Fdt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,filter:o,bias:i,preluActivationWeights:a}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=r,p=[];let g=c;g==null&&(g=[1,1]),te(Jo(l,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${g}'`);const m=To(s.shape,o.shape,l,g,u,f,!0),v=Pe().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels===1,y=d?qk(d,v):null,w=[s,o],b=i!=null,C=a!=null,S=d==="leakyrelu";if(b&&w.push(i),C&&w.push(a),S){const _=n.makeTensorInfo([],"float32",Ep(h,"float32"));w.push(_),p.push(_)}let $;v?$=new wSe(m,b,y,C,S):$=new bSe(m,b,y,C,S);const k=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],T=n.runWebGLProgram($,w,"float32",k);return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),T}const Mdt={kernelName:Ak,backendName:"webgl",kernelFunc:Fdt};class Pdt{constructor(t,n,r,s){this.sliceDim=t,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const o=Wr(r.length);let i=`
    int index;`;for(let a=0;a<this.sliceDim;a++)i+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${o} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}function Ldt(e){const{inputs:t,backend:n}=e,{params:r,indices:s}=t,o=s.shape,i=o[o.length-1],a=je(r.shape),[l,u,c,f]=_P(r,s),d=Ot({inputs:{x:s},backend:n,attrs:{shape:[u,i]}}),h=Ot({inputs:{x:r},backend:n,attrs:{shape:[je(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const v=n.readSync(s.dataId),y=n.bufferSync(r),w=Wat(v,y,r.dtype,u,i,c,f,r.shape,a);return n.makeTensorInfo(l,r.dtype,w.values)}const p=new Pdt(i,f,[u,c],r.shape),g=n.runWebGLProgram(p,[h,d],h.dtype),m=Ot({inputs:{x:g},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),m}const Bdt={kernelName:p4,backendName:"webgl",kernelFunc:Ldt};class zdt{constructor(t,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Wr(this.rank),s=Vdt(t);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function Vdt(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<e.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}function SSe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,indices:o}=t,{axis:i,batchDims:a}=r,l=qn(i,s.shape)[0];if(Pe().get("DEBUG")){const y=n.readSync(o.dataId),w=s.shape[l];for(let b=0;b<y.length;++b){const C=y[b];te(C<=w-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${w-1}]`)}}const u=QG(s,o,l,a),c=je(o.shape),f=[],d=Ot({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Ot({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([s,o])||s.dtype==="string"){const y=n.bufferSync(h),w=n.bufferSync(d),b=Uat(w,y,p);return f.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.makeTensorInfo(u.outputShape,b.dtype,b.values)}const g=new zdt(d.shape,p),m=n.runWebGLProgram(g,[d,h],d.dtype);f.push(m);const v=Ot({inputs:{x:m},backend:n,attrs:{shape:u.outputShape}});return f.forEach(y=>n.disposeIntermediateTensorInfo(y)),v}const Wdt={kernelName:Z_,backendName:"webgl",kernelFunc:SSe};const Udt="return float(a > b);",jdt=`
  return vec4(greaterThan(a, b));
`,Hdt=ei({opSnippet:Udt,packedOpSnippet:jdt,cpuKernelImpl:jat,dtype:"bool"}),qdt={kernelName:J_,backendName:"webgl",kernelFunc:Hdt};const Gdt="return float(a >= b);",Kdt=`
  return vec4(greaterThanEqual(a, b));
`,Ydt=ei({opSnippet:Gdt,packedOpSnippet:Kdt,dtype:"bool",cpuKernelImpl:Hat}),Xdt={kernelName:m2,backendName:"webgl",kernelFunc:Ydt};function Zdt(e){const{inputs:t,backend:n}=e,{input:r}=t;return CSe(r,!0,n)}const Jdt={kernelName:g4,backendName:"webgl",kernelFunc:Zdt};const Qdt="return float(!isnan(x) && !isinf(x));",eht=dr({opSnippet:Qdt,dtype:"bool"}),tht={kernelName:y2,backendName:"webgl",kernelFunc:eht};const nht="return float(isinf(x));",rht=dr({opSnippet:nht,dtype:"bool"}),sht={kernelName:b2,backendName:"webgl",kernelFunc:rht};const oht="return float(isnan(x));",iht=dr({opSnippet:oht,dtype:"bool"}),aht={kernelName:w2,backendName:"webgl",kernelFunc:iht};const lht="return float(a < b);",uht=`
  return vec4(lessThan(a, b));
`,cht=ei({opSnippet:lht,packedOpSnippet:uht,cpuKernelImpl:qat,dtype:"bool"}),fht={kernelName:eT,backendName:"webgl",kernelFunc:cht};const dht="return float(a <= b);",hht=`
  return vec4(lessThanEqual(a, b));
`,pht=ei({opSnippet:dht,packedOpSnippet:hht,cpuKernelImpl:Gat,dtype:"bool"}),ght={kernelName:tT,backendName:"webgl",kernelFunc:pht};function mht(e){const{backend:t,attrs:n}=e,{start:r,stop:s,num:o}=n,i=Kat(r,s,o);return t.makeTensorInfo([i.length],"float32",i)}const vht={kernelName:v4,backendName:"webgl",kernelFunc:mht};const yht=rC+`
  return x < 0.0 ? 0./0. : log(x);
`,bht=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,wht=dr({opSnippet:yht,packedOpSnippet:bht,cpuKernelImpl:Yat}),xht={kernelName:x2,backendName:"webgl",kernelFunc:wht};const Cht=rC+`
  return log(1.0 + x);
`,Sht=dr({opSnippet:Cht}),$ht={kernelName:C2,backendName:"webgl",kernelFunc:Sht};const kht="return float(a >= 1.0 && b >= 1.0);",Eht=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,_ht=ei({opSnippet:kht,packedOpSnippet:Eht,dtype:"bool"}),Tht={kernelName:nT,backendName:"webgl",kernelFunc:_ht};const Aht="return float(!(x >= 1.0));",Iht=dr({opSnippet:Aht}),Nht={kernelName:rT,backendName:"webgl",kernelFunc:Iht};const Dht="return float(a >= 1.0 || b >= 1.0);",Oht=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,Rht=ei({opSnippet:Dht,packedOpSnippet:Oht,dtype:"bool"}),Fht={kernelName:sT,backendName:"webgl",kernelFunc:Rht};class Mht{constructor(t,n,r,s,o){this.variableNames=["x"],this.outputShape=[];const i=n,a=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${s}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}class Pht{constructor(t,n,r,s,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=n,a=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${s}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}const Lht=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{depthRadius:o,bias:i,alpha:a,beta:l}=r,u=Pe().getBool("WEBGL_PACK_NORMALIZATION")?new Pht(s.shape,o,i,a,l):new Mht(s.shape,o,i,a,l);return n.runWebGLProgram(u,[s],s.dtype)},Bht={kernelName:oT,backendName:"webgl",kernelFunc:Lht};class zht{constructor(t,n,r,s,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${o})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${o});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}const Vht=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s,y:o,dy:i}=t,{depthRadius:a,bias:l,alpha:u,beta:c}=r,f=new zht(s.shape,a,l,u,c);return n.runWebGLProgram(f,[s,o,i],s.dtype)},Wht={kernelName:y4,backendName:"webgl",kernelFunc:Vht};function Uht(e,t,n,r){const s=je(t),i=je(e.shape)/s,a=Ot({inputs:{x:e},attrs:{shape:[i,s]},backend:r}),l=yy(a,e.dtype,"max",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),u}function $Se(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reductionIndices:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a),f=c!=null,d=n.shouldExecuteOnCPU([s]);let h=s;if(f){if(d){const w=n.texData.get(h.dataId).values,b=new Array(a);for(let $=0;$<b.length;$++)b[$]=s.shape[c[$]];const C=MK(w,s.shape,s.dtype,c,b);h=n.makeTensorInfo(b,s.dtype);const S=n.texData.get(h.dataId);S.values=C}else h=GP(s,c,n);u=Hs(u.length,a)}Qo("max",u,a);const[p,g]=Ao(h.shape,u);let m=p;i&&(m=Us(p,l));let v;if(d){const w=n.texData.get(h.dataId).values,b=Xat(w,je(g),m,s.dtype);v=n.makeTensorInfo(m,s.dtype);const C=n.texData.get(v.dataId);C.values=b}else v=Uht(h,g,m,n);return f&&n.disposeIntermediateTensorInfo(h),v}const jht={kernelName:iT,backendName:"webgl",kernelFunc:$Se};const Hht=PK+`
  return max(a, b);
`,qht=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,Ght=ei({opSnippet:Hht,packedOpSnippet:qht,cpuKernelImpl:Zat}),Kht={kernelName:S2,backendName:"webgl",kernelFunc:Ght};function Yht(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;nA(s,"maxPool");const{filterSize:o,strides:i,pad:a,dimRoundingMode:l}=r,u=1;te(Jo(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Ku(s.shape,o,i,u,a,l);if(c.filterWidth===1&&c.filterHeight===1&&ir(c.inShape,c.outShape))return wl({inputs:{x:s},backend:n});const f=new Gk(c,"max",!1);return n.runWebGLProgram(f,[s],s.dtype)}const Xht={kernelName:aT,backendName:"webgl",kernelFunc:Yht};function Zht(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{filterSize:o,strides:i,pad:a,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],f=_p(s.shape,o,i,c,a,u,l),d=new BK(f,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const Jht={kernelName:lT,backendName:"webgl",kernelFunc:Zht};class Qht{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideHeight,r=t.strideWidth,s=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,a=o-1-t.padInfo.top,l=i-1-t.padInfo.left,u=o*i-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${o};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class ept{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideDepth,r=t.strideHeight,s=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,a=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=l-1-t.padInfo.front,d=u-1-t.padInfo.top,h=c-1-t.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${o}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function tpt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o}=t,i=o,{filterSize:a,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=_p(i.shape,a,l,f,u,c),h=new BK(d,"max",!0),p=n.runWebGLProgram(h,[i],i.dtype),g=new ept(d),m=n.runWebGLProgram(g,[s,p],i.dtype);return n.disposeIntermediateTensorInfo(p),m}const npt={kernelName:w4,backendName:"webgl",kernelFunc:tpt};function rpt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:s,input:o,output:i}=t,a=o;nA([o,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Ku(a.shape,l,u,1,c,f),h=!0,p=new Gk(d,"max",h),g=n.runWebGLProgram(p,[a],a.dtype),m=new Qht(d),v=n.runWebGLProgram(m,[s,g],a.dtype);return n.disposeIntermediateTensorInfo(g),v}const spt={kernelName:b4,backendName:"webgl",kernelFunc:rpt};function opt(e,t,n,r){let s=new Gk(n,"max",!1);const o=r.runWebGLProgram(s,[e],"float32");s=new Gk(n,"max",!0,!0,t);const i=r.runWebGLProgram(s,[e],"float32");return[o,i]}const ipt={kernelName:x4,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:s,strides:o,pad:i,includeBatchInIndex:a}=t,l=n;te(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];te(Jo(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Ku(r.shape,s,o,u,i),[f,d]=opt(r,a,c,l);return[f,d]}};function apt(e,t,n,r){const s=je(t),i=je(e.shape)/s,a=Ot({inputs:{x:e},attrs:{shape:[i,s]},backend:r}),l=yy(a,"float32","mean",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(l),u}const lpt={kernelName:uT,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:s,axis:o}=t,i=n,a=r.shape.length,l=qn(o,r.shape);let u=l;const c=As(u,a),f=c!=null,d=i.shouldExecuteOnCPU([r]),h=[];let p=r;if(f){if(d){const b=i.texData.get(p.dataId).values,C=new Array(a);for(let k=0;k<C.length;k++)C[k]=r.shape[c[k]];const S=MK(b,r.shape,r.dtype,c,C);p=i.makeTensorInfo(C,r.dtype);const $=i.texData.get(p.dataId);$.values=S}else p=GP(r,c,i);h.push(p),u=Hs(u.length,a)}Qo("sum",u,a);const[g,m]=Ao(p.shape,u);let v=g;s&&(v=Us(g,l));const y=apt(p,m,v,i);for(const w of h)i.disposeIntermediateTensorInfo(w);return y}};function upt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=qn(o,s.shape);let u=l;const c=As(u,a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),u=Hs(u.length,s.shape.length)),Qo("min",u,a);const[d,h]=Ao(f.shape,u),p=je(h),g=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),m=yy(g,g.dtype,"min",n);let v;if(i){const y=Us(d,l);v=Ot({inputs:{x:m},backend:n,attrs:{shape:y}})}else v=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(f),v}const cpt={kernelName:cT,backendName:"webgl",kernelFunc:upt};const fpt=PK+`
  return min(a, b);
`,dpt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vy+`
  return result;
`,hpt=ei({opSnippet:fpt,packedOpSnippet:dpt,cpuKernelImpl:Jat}),ppt={kernelName:$2,backendName:"webgl",kernelFunc:hpt};class gpt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=n.map((c,f)=>c[0]+t[f]+c[1]);const s=t.length,o=Wr(s),i=n.map(c=>c[0]).join(","),a=n.map((c,f)=>c[0]+t[f]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),u=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${i});
      ${o} end = ${o}(${a});

      void main() {
        ${o} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${o} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}class mpt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,g)=>p[0]+t[g]+p[1]);const s=t.length,o=Wr(s),i=n.map(p=>p[0]).join(","),a=n.map((p,g)=>p[0]+t[g]).join(","),l=Ui("rc",s),u=Ui("source",s),c=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(s===1){const p=`
        ${o} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const p=`
        ${o} source = rc;
        ${o} lt = ${o}(lessThan(source, start));
        ${o} gte = ${o}(greaterThanEqual(source, end));
        ${o} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[s-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${l[s-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${o} start = ${o}(${i});
      const ${o} end = ${o}(${a});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}const vpt=({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:s,mode:o}=n,i=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mpt(r.shape,s,o):new gpt(r.shape,s,o);return t.runWebGLProgram(i,[r],r.dtype)},ypt={kernelName:fT,backendName:"webgl",kernelFunc:vpt};const bpt=`if (b == 0.0) return NAN;
  return mod(a, b);`,wpt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+vy+`
  return result;
`,xpt=ei({opSnippet:bpt,packedOpSnippet:wpt}),Cpt={kernelName:k2,backendName:"webgl",kernelFunc:xpt};class Spt{constructor(t,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}const $pt=`
if (a == b) {
  return 1.0;
};
return a / b;`,kpt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,kSe=ei({opSnippet:$pt,packedOpSnippet:kpt,checkOutOfBounds:!0}),Ept={kernelName:u2,backendName:"webgl",kernelFunc:kSe};const Joe="return a - b;",ESe=ei({opSnippet:Joe,packedOpSnippet:Joe,supportsComplex:!0,cpuKernelImpl:blt}),_pt={kernelName:V2,backendName:"webgl",kernelFunc:ESe};function _Se(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{dim:o}=r,i=qn([o],s.shape),a=$Se({inputs:{x:s},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=Us(a.shape,i),u=Ot({inputs:{x:a},backend:n,attrs:{shape:l}}),c=ESe({inputs:{a:s,b:u},backend:n}),f=xSe({inputs:{x:c},backend:n}),d=KP({inputs:{x:f},backend:n,attrs:{axis:i,keepDims:!1}}),h=Ot({inputs:{x:d},backend:n,attrs:{shape:l}}),p=kSe({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const Tpt={kernelName:AT,backendName:"webgl",kernelFunc:_Se};function Apt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:s}=t,{numSamples:o,seed:i,normalized:a}=r,l=a?s:_Se({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new Spt(u,c,o),d=[[i]],h=n.runWebGLProgram(f,[l],"int32",d);return a||n.disposeIntermediateTensorInfo(l),h}const Ipt={kernelName:C4,backendName:"webgl",kernelFunc:Apt};const Npt=Xu+`
  return -x;
`,Dpt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Opt(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const o=n.texData.get(r.dataId),[i,a]=elt(o.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}let s;return Pe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ng(r.shape,Dpt):s=new zf(r.shape,Npt),n.runWebGLProgram(s,[r],r.dtype)}const Rpt={kernelName:dT,backendName:"webgl",kernelFunc:Opt};const Fpt=SP;function Mpt(e){zl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l}=r,u=n.readSync(s.dataId),c=n.readSync(o.dataId),{selectedIndices:f}=Fpt(u,c,i,a,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Ppt={kernelName:S4,backendName:"webgl",kernelFunc:Mpt};const Lpt=$P;function Bpt(e){zl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(s.dataId),f=n.readSync(o.dataId),{selectedIndices:d,validOutputs:h}=Lpt(c,f,i,a,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const zpt={kernelName:$4,backendName:"webgl",kernelFunc:Bpt};const Vpt=kP;function Wpt(e){zl("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:s,scores:o}=t,{maxOutputSize:i,iouThreshold:a,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(s.dataId),f=n.readSync(o.dataId),d=i,h=a,p=l,g=u,{selectedIndices:m,selectedScores:v}=Vpt(c,f,d,h,p,g);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Upt={kernelName:k4,backendName:"webgl",kernelFunc:Wpt};class jpt{constructor(t,n,r,s){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}const Hpt=e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:s}=t,{dtype:o,depth:i,onValue:a,offValue:l}=r,u=je(s.shape),c=new jpt(u,i,a,l),f=Ot({inputs:{x:s},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],o);n.disposeIntermediateTensorInfo(f);const h=[...s.shape,i],p=Ot({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},qpt={kernelName:gT,backendName:"webgl",kernelFunc:Hpt};function qO(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){const s=sA({inputs:{input:r},backend:n}),o=qO({inputs:{x:s},backend:n}),i=YP({inputs:{input:r},backend:n}),a=qO({inputs:{x:i},backend:n}),l=u0({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return oA({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const Gpt={kernelName:OT,backendName:"webgl",kernelFunc:qO};function TSe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=sA({inputs:{input:r},backend:n}),o=TSe({inputs:{x:s},backend:n}),i=YP({inputs:{input:r},backend:n}),a=qO({inputs:{x:i},backend:n}),l=u0({inputs:{real:o,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),l}else return oA({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const Kpt={kernelName:pT,backendName:"webgl",kernelFunc:TSe};function Ypt(e){const{inputs:t,backend:n,attrs:r}=e,{axis:s}=r;if(t.length===1)return XV({inputs:{input:t[0]},backend:n,attrs:{dim:s}});const o=t[0].shape,i=t[0].dtype;t.forEach(c=>{Zo(o,c.shape,"All tensors passed to stack must have matching shapes"),te(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],l=t.map(c=>{const f=XV({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(f),f}),u=hSe({inputs:l,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Xpt={kernelName:mT,backendName:"webgl",kernelFunc:Ypt};class Zpt{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+t[c]+u[1]);const s=t.length,o=Wr(s),i=n.map(u=>u[0]).join(","),a=n.map((u,c)=>u[0]+t[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${i};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${i});
      ${o} end = ${o}(${a});

      void main() {
        ${o} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${o} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}class Jpt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((g,m)=>g[0]+t[m]+g[1]);const s=t.length,o=Wr(s),i=n.map(g=>g[0]).join(","),a=n.map((g,m)=>g[0]+t[m]).join(","),l=Ui("rc",s),u=Ui("source",s),c=`${l[s-1]} < ${this.outputShape[s-1]}`,f=s===1?"source":`vec2(${u.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${c}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${c}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let g=0,m=s===1?2:4;g<m;g++)p+=`
        ${d[g]}
        if (${h}) {
          result[${g}] = float(value);
        } else {
          ${o} source = rc - start;
          result[${g}] = getChannel(getX(${u.join()}), ${f});
        }
      `;p+=s===1?"} ":"}}",this.userCode=`
      const ${o} start = ${o}(${i});
      const ${o} end = ${o}(${a});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}const ASe=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{paddings:o,constantValue:i}=r;if(je(s.shape)===0){const u=o.map((c,f)=>c[0]+s.shape[f]+c[1]);return oA({backend:n,attrs:{shape:u,value:i,dtype:s.dtype}})}const a=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Jpt(s.shape,o,i):new Zpt(s.shape,o,i),l=[[i]];return n.runWebGLProgram(a,[s],s.dtype,l)},Qpt={kernelName:vT,backendName:"webgl",kernelFunc:ASe};const egt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,tgt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+vy+`
  return result;
`,ngt=ei({opSnippet:egt,packedOpSnippet:tgt}),rgt={kernelName:_2,backendName:"webgl",kernelFunc:ngt};function sgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{axis:o,keepDims:i}=r,a=s.shape.length,l=[],u=qn(o,s.shape);let c=u;const f=As(c,a);let d=s;f!=null&&(d=la({inputs:{x:s},backend:n,attrs:{perm:f}}),c=Hs(c.length,a),l.push(d)),Qo("prod",c,a);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:g,outShape:m,outDtype:v}=nlt(d.shape,d.dtype,p,c);h=n.makeTensorInfo(m,v,g)}else{const[p,g]=Ao(d.shape,c),m=je(g),v=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),y=Z4(s.dtype),w=yy(v,y,"prod",n);h=Ot({inputs:{x:w},backend:n,attrs:{shape:p}}),l.push(v),l.push(w)}if(i){l.push(h);const p=Us(h.shape,u);h=Ot({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const ogt={kernelName:bT,backendName:"webgl",kernelFunc:sgt};function igt(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:s,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:a}=r,l=s.map(v=>n.readSync(v.dataId)),u=s.map(v=>v.shape),c=n.readSync(o.dataId),f=n.readSync(i.dataId),[d,h,p]=rlt(l,u,c,o.shape,o.dtype,f,i.shape,a),g=d.map(v=>n.makeTensorInfo([v.length],"int32",v)),m=n.makeTensorInfo(p,o.dtype,h);return g.concat([m])}const agt={kernelName:E4,backendName:"webgl",kernelFunc:igt};function lgt(e){const{inputs:t,backend:n}=e,{starts:r,limits:s,deltas:o}=t,i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=slt(i,r.shape,r.dtype,a,s.shape,l,o.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const ugt={kernelName:_4,backendName:"webgl",kernelFunc:lgt};function cgt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:s,values:o,defaultValue:i,rowPartitionTensors:a}=t,{rowPartitionTypes:l}=r,u=n.readSync(s.dataId),c=n.readSync(o.dataId),f=n.readSync(i.dataId),d=a.map(m=>n.readSync(m.dataId)),h=a.map(m=>m.shape),[p,g]=olt(u,s.shape,c,o.shape,o.dtype,f,i.shape,d,h,l);return n.makeTensorInfo(p,o.dtype,g)}const fgt={kernelName:T4,backendName:"webgl",kernelFunc:cgt};const ISe=e=>{const{backend:t,attrs:n}=e,{start:r,stop:s,step:o,dtype:i}=n,a=ilt(r,s,o,i);return t.makeTensorInfo([a.length],i,a)},dgt={kernelName:A4,backendName:"webgl",kernelFunc:ISe};const hgt="return 1.0 / x;",pgt=dr({opSnippet:hgt}),ggt={kernelName:T2,backendName:"webgl",kernelFunc:pgt};const mgt=Xu+`
  return (x < 0.0) ? 0.0 : x;
`,vgt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ygt=dr({opSnippet:mgt,packedOpSnippet:vgt}),bgt={kernelName:A2,backendName:"webgl",kernelFunc:ygt};const wgt=Xu+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,xgt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Cgt=dr({opSnippet:wgt,packedOpSnippet:xgt}),Sgt={kernelName:I2,backendName:"webgl",kernelFunc:Cgt};class $gt{constructor(t,n,r,s,o){this.variableNames=["A"],this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;o?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class kgt{constructor(t,n,r,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;o?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}function Egt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r,[l,u]=a,c=Pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new kgt(s.shape,l,u,o,i):new $gt(s.shape,l,u,o,i);return n.runWebGLProgram(c,[s],"float32")}const _gt={kernelName:CT,backendName:"webgl",kernelFunc:Egt};class Tgt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,i,a]=t,l=[r&&i>1?s-1:s,r&&a>1?o-1:o],u=[r&&i>1?i-1:i,r&&a>1?a-1:a],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,g=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function Agt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r,a=new Tgt(o.shape,s.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Igt={kernelName:D4,backendName:"webgl",kernelFunc:Agt};class Ngt{constructor(t,n,r,s,o){this.variableNames=["A"],this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;o?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class Dgt{constructor(t,n,r,s,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,l,u]=t;this.outputShape=[i,n,r,u];const c=[s&&n>1?a-1:a,s&&r>1?l-1:l],f=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;o?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}function Ogt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s}=t,{alignCorners:o,halfPixelCenters:i,size:a}=r,[l,u]=a,c=Pe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Dgt(s.shape,l,u,o,i):new Ngt(s.shape,l,u,o,i);return n.runWebGLProgram(c,[s],s.dtype)}const Rgt={kernelName:xT,backendName:"webgl",kernelFunc:Ogt};class Fgt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,o]=n,[,i,a]=t,l=[r&&i>1?s-1:s,r&&a>1?o-1:o],u=[r&&i>1?i-1:i,r&&a>1?a-1:a],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,g=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${o}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function Mgt(e){const{inputs:t,backend:n,attrs:r}=e,{images:s,dy:o}=t,{alignCorners:i}=r,a=new Fgt(o.shape,s.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Pgt={kernelName:N4,backendName:"webgl",kernelFunc:Mgt};class Lgt{constructor(t,n){this.variableNames=["x"];const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${t[0]} - coord - 1));
        }
      `;return}const s=a=>n.indexOf(a)!==-1&&t[a]!==1?`${t[a]} - coords[${a}] - 1`:`coords[${a}]`,o=t.map((a,l)=>s(l)).join(","),i=Wr(r);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}class Bgt{constructor(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;const s=Ui("rc",r),o=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,i=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,a=Wr(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${t[0]} - rc - 1),
            ${t[0]} - rc - 1);
          if(${o}){
              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),
                ${t[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${o}){
            result.g = ${u(s.slice())};
          }
          if(${i}) {
            result.b = ${c(s.slice())};
            if(${o}) {
              result.a = ${f(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function u(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function c(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function f(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const g=t.map((y,w)=>h(w,p)),m=g.join(","),v=g.slice(-2).join(",");return`getChannel(getX(${m}), vec2(${v}))`}function h(p,g){return n.indexOf(p)!==-1&&t[p]!==1?`${t[p]} - ${g[p]} - 1`:`${g[p]}`}}}function zgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{dims:o}=r,i=s.shape.length,a=qn(o,s.shape);if(i===0)return wl({inputs:{x:s},backend:n});const l=Pe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bgt(s.shape,a):new Lgt(s.shape,a);return n.runWebGLProgram(l,[s],s.dtype)}const Vgt={kernelName:ST,backendName:"webgl",kernelFunc:zgt};class Wgt{constructor(t,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=t[1],s=t[2];this.outputShape=t;let o="";typeof n=="number"?o=`float outputValue = ${n.toFixed(2)};`:o=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${o}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const Ugt={kernelName:Y4,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:s,fillValue:o,center:i}=t,a=n,l=new Wgt(r.shape,o),[u,c]=PG(i,r.shape[1],r.shape[2]),f=[[u,c,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(l,[r],r.dtype,f)}};const jgt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Hgt=dr({opSnippet:jgt}),qgt={kernelName:N2,backendName:"webgl",kernelFunc:Hgt};const Ggt="return inversesqrt(x);",Kgt=dr({opSnippet:Ggt,cpuKernelImpl:alt}),Ygt={kernelName:D2,backendName:"webgl",kernelFunc:Kgt};class zK{constructor(t,n,r,s,o,i,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const u=Wr(o.length),c=Wr(i.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let g="";l&&(g="coords[0], coords[1]");const m=`getDefaultValue(${g})`,v=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${o});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${t}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${v};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${m}, sum, float(found)));
        }
      `}}class Xgt{constructor(t,n,r,s,o,i,a=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const u=Wr(o.length),c=Wr(i.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";s===1?h="i":s===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let g="";l&&(g="coords[0], coords[1]");const m=`getDefaultValue(${g})`,v=n>1?"strides[j]":"strides",y=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${o});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${t}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${v};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${m}, sum, found));
        }
      `}}function Zgt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:s,updates:o}=t,{shape:i}=r,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(o,s,i),d=[f/u,u];if(f===0)return n.makeTensorInfo(i,s.dtype);const h=Ot({inputs:{x:s},backend:n,attrs:{shape:[l,a]}}),p=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0]));let m;Pe().getBool("WEBGL_PACK")?m=new Xgt(l,a,h.shape.length,p.shape.length,c,d):m=new zK(l,a,h.shape.length,p.shape.length,c,d);const v=n.runWebGLProgram(m,[p,h,g],p.dtype),y=Ot({inputs:{x:v},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),y}const Jgt={kernelName:O4,backendName:"webgl",kernelFunc:Zgt};class Qgt{constructor(t,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];const o="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=Pe().getNumber("WEBGL_VERSION")===2?o:i,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}function emt(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:s,values:o}=t,{side:i}=r,a=new Qgt(s.shape[0],s.shape[1],o.shape[1],i),l=[[s.shape[1]]];return n.runWebGLProgram(a,[s,o],"int32",l)}const tmt={kernelName:F4,backendName:"webgl",kernelFunc:emt};class nmt{constructor(t,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,o;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)o="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${a[c]}`),c<t&&l.push(`${a[c]}`);s=l.join(),o=u.join()}const i=Wr(r);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${o}));
        } else {
          setOutput(getB(${o}));
        }
      }
    `}}function rmt(e){const{inputs:t,backend:n}=e,{condition:r,t:s,e:o}=t,i=new nmt(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(i,[r,s,o],Da(s.dtype,o.dtype))}const smt={kernelName:$T,backendName:"webgl",kernelFunc:rmt};const omt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${IP};
  float scale = ${NP};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,imt=dr({opSnippet:omt}),amt={kernelName:O2,backendName:"webgl",kernelFunc:imt};const lmt=rC+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,umt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cmt=dr({opSnippet:lmt,packedOpSnippet:umt,cpuKernelImpl:ult}),fmt={kernelName:P2,backendName:"webgl",kernelFunc:cmt};const dmt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,hmt=dr({opSnippet:dmt}),pmt={kernelName:M2,backendName:"webgl",kernelFunc:hmt};const gmt=rC+`
  return sin(x);
`,mmt=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${vy}
  return result;
`,vmt=dr({opSnippet:gmt,packedOpSnippet:mmt}),ymt={kernelName:R2,backendName:"webgl",kernelFunc:vmt};const bmt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,wmt=dr({opSnippet:bmt}),xmt={kernelName:F2,backendName:"webgl",kernelFunc:wmt};const Cmt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,Smt=dr({opSnippet:Cmt}),$mt={kernelName:L2,backendName:"webgl",kernelFunc:Smt};const kmt=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{blockShape:o,paddings:i}=r;te(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=o.reduce((v,y)=>v*y),l=[[0,0]];l.push(...i);for(let v=1+o.length;v<s.shape.length;++v)l.push([0,0]);const u=[],c=ASe({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),f=UT(c.shape,o,a,!1),d=jT(f.length,o.length,!1),h=HT(c.shape,o,a,!1),p=Ot({inputs:{x:c},backend:n,attrs:{shape:f}}),g=la({inputs:{x:p},backend:n,attrs:{perm:d}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(g),u.forEach(v=>n.disposeIntermediateTensorInfo(v)),m},Emt={kernelName:_T,backendName:"webgl",kernelFunc:kmt};function _mt(e){const{inputs:t,backend:n}=e,{indices:r,values:s,denseShape:o,defaultValue:i}=t;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const a=n.readSync(r.dataId),l=n.readSync(s.dataId),u=n.readSync(o.dataId),c=n.readSync(i.dataId)[0],[f,d,h,p,g]=flt(a,r.shape,r.dtype,l,s.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(m=>Number(m)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const Tmt={kernelName:M4,backendName:"webgl",kernelFunc:_mt};function Amt(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:s,newShape:o}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=Array.from(n.readSync(s.dataId)),a=n.readSync(r.dataId),l=Array.from(n.readSync(o.dataId)),[u,c,f]=dlt(a,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}const Imt={kernelName:P4,backendName:"webgl",kernelFunc:Amt};function Nmt(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${o.shape}`);const i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=eSe(i,r.shape,r.dtype,a,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const Dmt={kernelName:L4,backendName:"webgl",kernelFunc:Nmt};function Omt(e){const{inputs:t,backend:n}=e,{data:r,indices:s,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${o.shape}`);const i=n.readSync(r.dataId),a=n.readSync(s.dataId),l=n.readSync(o.dataId),[u,c]=eSe(i,r.shape,r.dtype,a,l);return n.makeTensorInfo(c,r.dtype,u)}const Rmt={kernelName:B4,backendName:"webgl",kernelFunc:Omt};function Fmt(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:s,sparseValues:o,defaultValue:i}=t,{outputShape:a}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=i0(o,s,a),h=!1;if(o.dtype==="string"){const v=n.bufferSync(s),y=n.bufferSync(o),w=rp(n.readSync(i.dataId)[0]),b=llt(v,y,a,d,c,u,l,f,w,h);return n.makeTensorInfo(a,b.dtype,b.values)}const p=new zK(u,l,s.shape.length,o.shape.length,f,[d,1],h),g=n.runWebGLProgram(p,[o,s,i],o.dtype),m=Ot({inputs:{x:g},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(g),m}const Mmt={kernelName:z4,backendName:"webgl",kernelFunc:Fmt};function Pmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{numOrSizeSplits:o,axis:i}=r,a=qn(i,s.shape)[0],l=JG(s,o,a),u=s.shape.length,c=new Array(u).fill(0),f=s.shape.slice();return l.map(d=>{const h=[...f];h[a]=d;const p=sC({inputs:{x:s},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,p})}const Lmt={kernelName:TT,backendName:"webgl",kernelFunc:Pmt};const Qoe="return sqrt(x);",Bmt=dr({opSnippet:Qoe,packedOpSnippet:Qoe,cpuKernelImpl:hlt}),zmt={kernelName:B2,backendName:"webgl",kernelFunc:Bmt};const Vmt="return x * x;",Wmt=dr({opSnippet:Vmt}),Umt={kernelName:V4,backendName:"webgl",kernelFunc:Wmt};const eie="return (a - b) * (a - b);",jmt=ei({opSnippet:eie,packedOpSnippet:eie}),Hmt={kernelName:z2,backendName:"webgl",kernelFunc:jmt};function qmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t;if(s.dtype!=="string")throw new Error("Input must be of datatype string");const o=n.readSync(s.dataId),i=ip(o),a=plt(i,"string",r);return n.makeTensorInfo(s.shape,"string",a)}const Gmt={kernelName:IT,backendName:"webgl",kernelFunc:qmt};function Kmt({inputs:e,attrs:t,backend:n}){const{x:r}=e,s=Xu+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,o=new zf(r.shape,s);return n.runWebGLProgram(o,[r],r.dtype)}const Ymt={kernelName:H2,backendName:"webgl",kernelFunc:Kmt};class Xmt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,o=Wr(r.length),i=Wr(r.length);let a="";if(s===1)a="coords * strides + begin";else{let l=0;a=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${o} begin = ${o}(${t});
      ${o} strides = ${o}(${n});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}function Zmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{begin:o,end:i,strides:a,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:g,sliceDim0:m,isSimpleSlice:v,begin:y,end:w,strides:b}=OG(s.shape,o,i,a,l,u,c,f,d);let C;if(g)C=Ot({inputs:{x:s},backend:n,attrs:{shape:p}});else if(m||v){te(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const $=IG(y,w,b),k=sC({inputs:{x:s},backend:n,attrs:{begin:y,size:$}});C=Ot({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else if(n.shouldExecuteOnCPU([s])){const k=n.readSync(s.dataId),T=Wn(s.shape,s.dtype,k),_=glt(h,T,b,y);C=n.makeTensorInfo(p,s.dtype,_.values)}else{const k=new Xmt(y,b,h);C=n.runWebGLProgram(k,[s],s.dtype)}const S=Ot({inputs:{x:C},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(C),S}const Jmt={kernelName:W4,backendName:"webgl",kernelFunc:Zmt};function Qmt(e){const{inputs:t,backend:n,attrs:r}=e,{separator:s,nGramWidths:o,leftPad:i,rightPad:a,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),h=n.readSync(f.dataId),[p,g]=mlt(d,h,s,o,i,a,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",g)]}const e0t={kernelName:U4,backendName:"webgl",kernelFunc:Qmt};function t0t(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:s}=r,{input:o,delimiter:i}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const a=n.readSync(o.dataId),l=n.readSync(i.dataId)[0],[u,c,f]=vlt(a,l,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const n0t={kernelName:j4,backendName:"webgl",kernelFunc:t0t};function r0t(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:s}=r,{input:o}=t;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(o.dataId),a=ylt(i,s);return n.makeTensorInfo(o.shape,"int32",a)}const s0t={kernelName:H4,backendName:"webgl",kernelFunc:r0t};const o0t="return tan(x);",i0t=dr({opSnippet:o0t}),a0t={kernelName:W2,backendName:"webgl",kernelFunc:i0t};const l0t=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,u0t=dr({opSnippet:l0t}),c0t={kernelName:U2,backendName:"webgl",kernelFunc:u0t};function f0t(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:s,indices:o,updates:i}=t,{sliceRank:a,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=i0(i,o,s.shape),d=[f/u,u];if(f===0)return n.makeTensorInfo(s.shape,o.dtype);const h=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),p=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),g=Ot({inputs:{x:s},backend:n,attrs:{shape:d}}),m=new zK(l,a,h.shape.length,p.shape.length,c,d,!1,!0),v=n.runWebGLProgram(m,[p,h,g],g.dtype),y=Ot({inputs:{x:v},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),y}const d0t={kernelName:R4,backendName:"webgl",kernelFunc:f0t};class h0t{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;const s=Wr(this.rank),o=p0t(t);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${o}));
      }
    `}}function p0t(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<e.length;s++)r.push(`imod(${n[s]}, ${e[s]})`);return r.join()}function NSe(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{reps:o}=r;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),u=s.dtype==="string"?l.map(d=>rp(d)):l,c=Wn(s.shape,s.dtype,u),f=wlt(c,o);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const i=new h0t(s.shape,o);return n.runWebGLProgram(i,[s],s.dtype)}const g0t={kernelName:j2,backendName:"webgl",kernelFunc:NSe};class m0t{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class v0t{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function L0(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function tie(e){let t=1;for(;t<e;)t*=2;return t}function y0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:s}=t,{k:o,sorted:i}=r,a=Pe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Pe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=s.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([s])||c<a||o>l){const _=n.readSync(s.dataId),[E,A]=xlt(_,u,s.dtype,o,i);return[n.makeTensorInfo(E.shape,E.dtype,E.values),n.makeTensorInfo(A.shape,A.dtype,A.values)]}if(o===0)return u[u.length-1]=0,[n.makeTensorInfo(u,s.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[s,oA({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(s.dataId),d=f!==null&&f.isPacked,h=d?n.unpackTensor(s):s,g=je(u)/c,m=Ot({inputs:{x:h},attrs:{shape:[g,c]},backend:n});d&&L0(n,h);const v=tie(o),y=tie(c);let w=null;const b=()=>w===null?[m,m]:[m,w],C=(_,E,A)=>{const N=b(),F=new m0t(A),P=[[c],[w===null?1:0],[Number.NEGATIVE_INFINITY],[_],[E]],I=w;w=n.runWebGLProgram(F,N,"int32",P),L0(n,I)};for(let _=1;_<v;_*=2){const E=_*2;for(let A=_;A>=1;A/=2)C(E,A,[g,y])}for(let _=y;_>v;_/=2){const E=b(),A=new v0t([g,_/2]),F=[[c],[w===null?1:0],[v]],R=w;w=n.runWebGLProgram(A,E,"int32",F),L0(n,R);const P=v/2,I=P*2;for(let D=P;D>=1;D/=2)C(I,D,w.shape)}let S=w;w=sC({inputs:{x:w},backend:n,attrs:{begin:0,size:[g,o]}}),L0(n,S);let $=SSe({inputs:{x:m,indices:w},backend:n,attrs:{axis:1,batchDims:1}});L0(n,m);const k=u.slice(0,-1);k.push(o),S=w,w=Ot({inputs:{x:w},attrs:{shape:k},backend:n}),L0(n,S);const T=$;return $=Ot({inputs:{x:$},attrs:{shape:k},backend:n}),L0(n,T),[$,w]}const b0t={kernelName:q4,backendName:"webgl",kernelFunc:y0t};class w0t{constructor(t,n,r,s,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a=r==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${o});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${o});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${t}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}function x0t(e){const{inputs:t,backend:n,attrs:r}=e,{image:s,transforms:o}=t,{interpolation:i,fillMode:a,fillValue:l,outputShape:u}=r,[c,f,d,h]=s.shape,[p,g]=u??[f,d],m=[c,p,g,h],v=new w0t(f,d,i,a,l,m);return n.runWebGLProgram(v,[s,o],"float32")}const C0t={kernelName:G4,backendName:"webgl",kernelFunc:x0t};function S0t(e){const{inputs:t,attrs:n,backend:r}=e,{axis:s}=n,{x:o}=t;nA(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=r.readSync(o.dataId),{outputValues:a,outputShape:l,indices:u}=Clt(i,s,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,a),r.makeTensorInfo([u.length],"int32",u)]}const $0t={kernelName:K4,backendName:"webgl",kernelFunc:S0t};function k0t(e){const{inputs:t,backend:n,attrs:r}=e,{value:s}=t;let{axis:o}=r;o<0&&(o+=s.shape.length);const i=s,a=i.shape.length,l=s.shape[o],u=new Array(a-1);let c=0;for(let g=0;g<a;g++)g!==o&&(u[c++]=i.shape[g]);const f=[],d=new Array(a).fill(0),h=i.shape.slice();h[o]=1;const p=new Array(l);for(let g=0;g<p.length;g++){d[o]=g;const m=sC({inputs:{x:i},backend:n,attrs:{begin:d,size:h}}),v=Ot({inputs:{x:m},backend:n,attrs:{shape:u}});p[g]=v,f.push(m)}return f.forEach(g=>n.disposeIntermediateTensorInfo(g)),p}const E0t={kernelName:NT,backendName:"webgl",kernelFunc:k0t};class _0t{constructor(t,n){this.variableNames=["x","segmentIds"];const r=t.windowSize,s=t.batchSize,o=t.inSize,i=t.numSegments,a=i*Math.ceil(o/r);this.outputShape=[s,a];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,f=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";o%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `);let p="";o%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}function T0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:s,segmentIds:o}=t,{numSegments:i}=r,a=s.shape.length,l=[];let u=0;const c=As([u],a);let f=s;c!=null&&(f=la({inputs:{x:s},backend:n,attrs:{perm:c}}),l.push(f),u=Hs(1,a)[0]);const d=dwe(f.shape,u,i),h=je([f.shape[u]]),p=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(p);const g=Z4(s.dtype),m=(b,C,S,$,k)=>{const T=b.shape[0],_=b.shape[1],E=fwe(_,k),A={windowSize:E,inSize:_,batchSize:T,numSegments:k},N=new _0t(A,C),F=n.compileAndRun(N,[b,S],$);if(l.push(F),F.shape[1]===k)return F;const R=ISe({backend:n,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),P=NSe({inputs:{x:R},backend:n,attrs:{reps:[_/E]}});return l.push(R),l.push(P),m(F,C,P,$,k)},v=m(p,"unsortedSegmentSum",o,g,i),y=Ot({inputs:{x:v},backend:n,attrs:{shape:d}});let w=y;if(c!=null){l.push(y);const b=r0(c);w=la({inputs:{x:w},backend:n,attrs:{perm:b}})}return l.forEach(b=>n.disposeIntermediateTensorInfo(b)),w}const A0t={kernelName:DT,backendName:"webgl",kernelFunc:T0t};const I0t=[hut,gut,yut,xut,Sut,Eut,Tut,Iut,Rut,Mut,But,Wut,Hut,Yut,Jut,ect,nct,ict,lct,cct,pct,xct,Sct,_ct,Act,Fct,Pct,Vct,Xlt,jct,Yct,Qct,oft,lft,cft,dft,pft,yft,xft,$ft,Eft,Tft,Ift,Oft,Fft,Bft,Vft,jft,Gft,Yft,Qft,rdt,adt,cdt,hdt,pdt,mdt,ydt,wdt,Cdt,$dt,Tdt,Ndt,Rdt,Mdt,Bdt,Wdt,qdt,Xdt,Ylt,Jdt,Gct,tht,sht,aht,Jlt,fht,ght,vht,xht,$ht,Tht,Nht,Fht,Bht,Wht,jht,Kht,Xht,Jht,npt,spt,ipt,lpt,cpt,ppt,ypt,Cpt,Ipt,tut,Rpt,Ppt,zpt,Upt,Nct,qpt,Kpt,Xpt,Qpt,rgt,eut,ogt,agt,ugt,fgt,dgt,Dct,Ept,ggt,bgt,Sgt,rut,_gt,Igt,Rgt,Pgt,Vgt,Ugt,qgt,Ygt,Jgt,tmt,smt,amt,fmt,pmt,ymt,xmt,bct,Tpt,$mt,Emt,Tmt,Imt,Dmt,Rmt,Mmt,Lmt,zmt,Umt,Hmt,Gmt,Ymt,Jmt,e0t,n0t,s0t,_pt,cut,a0t,c0t,d0t,g0t,b0t,C0t,fut,$0t,E0t,A0t,Gpt];for(const e of I0t)X4(e);var m8={};const DSe=ly(lYe);var Xp={};var N0t=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),D0t=Object.prototype.hasOwnProperty;function ZV(e,t){return D0t.call(e,t)}function JV(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var s in e)ZV(e,s)&&r.push(s);return r}function jl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function QV(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function sv(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function OSe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function eW(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(eW(e[t]))return!0}else if(typeof e=="object"){for(var r=JV(e),s=r.length,o=0;o<s;o++)if(eW(e[r[o]]))return!0}}return!1}function nie(e,t){var n=[e];for(var r in t){var s=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof s<"u"&&n.push(r+": "+s)}return n.join(`
`)}var RSe=(function(e){N0t(t,e);function t(n,r,s,o,i){var a=this.constructor,l=e.call(this,nie(n,{name:r,index:s,operation:o,tree:i}))||this;return l.name=r,l.index=s,l.operation=o,l.tree=i,Object.setPrototypeOf(l,a.prototype),l.message=nie(n,{name:r,index:s,operation:o,tree:i}),l}return t})(Error),Ls=RSe,O0t=jl,jb={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=GO(n,this.path);r&&(r=jl(r));var s=Yv(n,{op:"remove",path:this.from}).removed;return Yv(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=GO(n,this.from);return Yv(n,{op:"add",path:this.path,value:jl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Yk(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},R0t={add:function(e,t,n){return QV(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:jb.move,copy:jb.copy,test:jb.test,_get:jb._get};function GO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Yv(e,n),n.value}function Yv(e,t,n,r,s,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):KO(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=GO(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=Yk(e,t.value),i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Ls("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}}else{r||(e=jl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=KO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=OSe(h)),s&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!QV(h))throw new Ls("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);QV(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new Ls("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var i=R0t[t.op].call(t,u,h,e);if(i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(c>=f){var i=jb[t.op].call(t,u,h,e);if(i.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new Ls("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function XP(e,t,n,r,s){if(r===void 0&&(r=!0),s===void 0&&(s=!0),n&&!Array.isArray(t))throw new Ls("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=jl(e));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++)o[i]=Yv(e,t[i],n,!0,s,i),e=o[i].newDocument;return o.newDocument=e,o}function F0t(e,t,n){var r=Yv(e,t);if(r.test===!1)throw new Ls("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function KO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ls("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(jb[e.op]){if(typeof e.path!="string")throw new Ls("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ls('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ls("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ls("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&eW(e.value))throw new Ls("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,o=r.split("/").length;if(s!==o+1&&s!==o)throw new Ls("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Ls("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},a=FSe([i],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ls("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ls("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function FSe(e,t,n){try{if(!Array.isArray(e))throw new Ls("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)XP(jl(t),jl(e),n||!0);else{n=n||KO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(s){if(s instanceof Ls)return s;throw s}}function Yk(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),s,o,i;if(n&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!Yk(e[s],t[s]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!t.hasOwnProperty(a[s]))return!1;for(s=o;s--!==0;)if(i=a[s],!Yk(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const M0t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ls,_areEquals:Yk,applyOperation:Yv,applyPatch:XP,applyReducer:F0t,deepClone:O0t,getValueByPointer:GO,validate:FSe,validator:KO},Symbol.toStringTag,{value:"Module"}));var VK=new WeakMap,P0t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),L0t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function B0t(e){return VK.get(e)}function z0t(e,t){return e.observers.get(t)}function V0t(e,t){e.observers.delete(t.callback)}function W0t(e,t){t.unobserve()}function U0t(e,t){var n=[],r,s=B0t(e);if(!s)s=new P0t(e),VK.set(e,s);else{var o=z0t(s,t);r=o&&o.observer}if(r)return r;if(r={},s.value=jl(e),t){r.callback=t,r.next=null;var i=function(){tW(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){tW(r),clearTimeout(r.next),V0t(s,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},s.observers.set(t,new L0t(t,r)),r}function tW(e,t){t===void 0&&(t=!1);var n=VK.get(e.object);WK(n.value,e.object,e.patches,"",t),e.patches.length&&XP(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function WK(e,t,n,r,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=JV(t),i=JV(e),a=!1,l=i.length-1;l>=0;l--){var u=i[l],c=e[u];if(ZV(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?WK(c,f,n,r+"/"+sv(u),s):c!==f&&(s&&n.push({op:"test",path:r+"/"+sv(u),value:jl(c)}),n.push({op:"replace",path:r+"/"+sv(u),value:jl(f)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:r+"/"+sv(u),value:jl(c)}),n.push({op:"remove",path:r+"/"+sv(u)}),a=!0):(s&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==i.length))for(var l=0;l<o.length;l++){var u=o[l];!ZV(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+sv(u),value:jl(t[u])})}}}function j0t(e,t,n){n===void 0&&(n=!1);var r=[];return WK(e,t,r,"",n),r}const H0t=Object.freeze(Object.defineProperty({__proto__:null,compare:j0t,generate:tW,observe:U0t,unobserve:W0t},Symbol.toStringTag,{value:"Module"}));Object.assign({},M0t,H0t,{JsonPatchError:RSe,deepClone:jl,escapePathComponent:sv,unescapePathComponent:OSe});var v8,rie;function q0t(){if(rie)return v8;rie=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return v8=function(n,r){var s,o,i;return r=r||{},s=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=s===""?1/0:r.maxLength===void 0?80:r.maxLength,i=r.replacer,(function a(l,u,c){var f,d,h,p,g,m,v,y,w,b,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,i),C===void 0)return C;if(v=o-u.length-c,C.length<=v&&(w=C.replace(e,function($,k){return k||$+" "}),w.length<=v))return w;if(i!=null&&(l=JSON.parse(C),i=void 0),typeof l=="object"&&l!==null){if(y=u+s,h=[],d=0,Array.isArray(l))for(b="[",f="]",v=l.length;d<v;d++)h.push(a(l[d],y,d===v-1?0:1)||"null");else for(b="{",f="}",m=Object.keys(l),v=m.length;d<v;d++)p=m[d],g=JSON.stringify(p)+": ",S=a(l[p],y,g.length+(d===v-1?0:1)),S!==void 0&&h.push(g+S);if(h.length>0)return[b,s+h.join(`,
`+y),f].join(`
`+u)}return C})(n,"",0)},v8}var G0t=q0t();const y8=Il(G0t);var sN={exports:{}},b8,sie;function ZP(){if(sie)return b8;sie=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,s=t-6;return b8={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},b8}var w8,oie;function JP(){if(oie)return w8;oie=1;var e={};return w8=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},w8}var iie;function iA(){return iie||(iie=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=ZP(),o=JP();t=e.exports={};const i=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[d,r]],p=m=>{for(const[v,y]of h)m=m.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return m},g=(m,v,y)=>{const w=p(v),b=f++;o(m,b,v),c[m]=b,l[b]=v,u[b]=w,i[b]=new RegExp(v,y?"g":void 0),a[b]=new RegExp(w,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(sN,sN.exports)),sN.exports}var x8,aie;function UK(){if(aie)return x8;aie=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return x8=r=>r?typeof r!="object"?e:r:t,x8}var C8,lie;function MSe(){if(lie)return C8;lie=1;const e=/^[0-9]+$/,t=(r,s)=>{if(typeof r=="number"&&typeof s=="number")return r===s?0:r<s?-1:1;const o=e.test(r),i=e.test(s);return o&&i&&(r=+r,s=+s),r===s?0:o&&!i?-1:i&&!o?1:r<s?-1:1};return C8={compareIdentifiers:t,rcompareIdentifiers:(r,s)=>t(s,r)},C8}var S8,uie;function Wa(){if(uie)return S8;uie=1;const e=JP(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=ZP(),{safeRe:r,t:s}=iA(),o=UK(),{compareIdentifiers:i}=MSe();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const f=u.trim().match(c.loose?r[s.LOOSE]:r[s.FULL]);if(!f)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const h=+d;if(h>=0&&h<n)return h}return d}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),this.major<u.major?-1:this.major>u.major?1:this.minor<u.minor?-1:this.minor>u.minor?1:this.patch<u.patch?-1:this.patch>u.patch?1:0}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const f=this.prerelease[c],d=u.prerelease[c];if(e("prerelease compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return i(f,d)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const f=this.build[c],d=u.build[c];if(e("build compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return i(f,d)}while(++c)}inc(u,c,f){if(u.startsWith("pre")){if(!c&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const d=`-${c}`.match(this.options.loose?r[s.PRERELEASELOOSE]:r[s.PRERELEASE]);if(!d||d[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,f),this.inc("pre",c,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,f),this.inc("pre",c,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[d];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(c){let h=[c,d];f===!1&&(h=[c]),i(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return S8=a,S8}var $8,cie;function oC(){if(cie)return $8;cie=1;const e=Wa();return $8=(n,r,s=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!s)return null;throw o}},$8}var k8,fie;function K0t(){if(fie)return k8;fie=1;const e=oC();return k8=(n,r)=>{const s=e(n,r);return s?s.version:null},k8}var E8,die;function Y0t(){if(die)return E8;die=1;const e=oC();return E8=(n,r)=>{const s=e(n.trim().replace(/^[=v]+/,""),r);return s?s.version:null},E8}var _8,hie;function X0t(){if(hie)return _8;hie=1;const e=Wa();return _8=(n,r,s,o,i)=>{typeof s=="string"&&(i=o,o=s,s=void 0);try{return new e(n instanceof e?n.version:n,s).inc(r,o,i).version}catch{return null}},_8}var T8,pie;function Z0t(){if(pie)return T8;pie=1;const e=oC();return T8=(n,r)=>{const s=e(n,null,!0),o=e(r,null,!0),i=s.compare(o);if(i===0)return null;const a=i>0,l=a?s:o,u=a?o:s,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const d=c?"pre":"";return s.major!==o.major?d+"major":s.minor!==o.minor?d+"minor":s.patch!==o.patch?d+"patch":"prerelease"},T8}var A8,gie;function J0t(){if(gie)return A8;gie=1;const e=Wa();return A8=(n,r)=>new e(n,r).major,A8}var I8,mie;function Q0t(){if(mie)return I8;mie=1;const e=Wa();return I8=(n,r)=>new e(n,r).minor,I8}var N8,vie;function evt(){if(vie)return N8;vie=1;const e=Wa();return N8=(n,r)=>new e(n,r).patch,N8}var D8,yie;function tvt(){if(yie)return D8;yie=1;const e=oC();return D8=(n,r)=>{const s=e(n,r);return s&&s.prerelease.length?s.prerelease:null},D8}var O8,bie;function Jc(){if(bie)return O8;bie=1;const e=Wa();return O8=(n,r,s)=>new e(n,s).compare(new e(r,s)),O8}var R8,wie;function nvt(){if(wie)return R8;wie=1;const e=Jc();return R8=(n,r,s)=>e(r,n,s),R8}var F8,xie;function rvt(){if(xie)return F8;xie=1;const e=Jc();return F8=(n,r)=>e(n,r,!0),F8}var M8,Cie;function jK(){if(Cie)return M8;Cie=1;const e=Wa();return M8=(n,r,s)=>{const o=new e(n,s),i=new e(r,s);return o.compare(i)||o.compareBuild(i)},M8}var P8,Sie;function svt(){if(Sie)return P8;Sie=1;const e=jK();return P8=(n,r)=>n.sort((s,o)=>e(s,o,r)),P8}var L8,$ie;function ovt(){if($ie)return L8;$ie=1;const e=jK();return L8=(n,r)=>n.sort((s,o)=>e(o,s,r)),L8}var B8,kie;function QP(){if(kie)return B8;kie=1;const e=Jc();return B8=(n,r,s)=>e(n,r,s)>0,B8}var z8,Eie;function HK(){if(Eie)return z8;Eie=1;const e=Jc();return z8=(n,r,s)=>e(n,r,s)<0,z8}var V8,_ie;function PSe(){if(_ie)return V8;_ie=1;const e=Jc();return V8=(n,r,s)=>e(n,r,s)===0,V8}var W8,Tie;function LSe(){if(Tie)return W8;Tie=1;const e=Jc();return W8=(n,r,s)=>e(n,r,s)!==0,W8}var U8,Aie;function qK(){if(Aie)return U8;Aie=1;const e=Jc();return U8=(n,r,s)=>e(n,r,s)>=0,U8}var j8,Iie;function GK(){if(Iie)return j8;Iie=1;const e=Jc();return j8=(n,r,s)=>e(n,r,s)<=0,j8}var H8,Nie;function BSe(){if(Nie)return H8;Nie=1;const e=PSe(),t=LSe(),n=QP(),r=qK(),s=HK(),o=GK();return H8=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return s(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},H8}var q8,Die;function ivt(){if(Die)return q8;Die=1;const e=Wa(),t=oC(),{safeRe:n,t:r}=iA();return q8=(o,i)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;i=i||{};let a=null;if(!i.rtl)a=o.match(i.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=i.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let p;for(;(p=h.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),h.lastIndex=p.index+p[1].length+p[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",f=i.includePrerelease&&a[5]?`-${a[5]}`:"",d=i.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${f}${d}`,i)},q8}var G8,Oie;function avt(){if(Oie)return G8;Oie=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return G8=e,G8}var K8,Rie;function Qc(){if(Rie)return K8;Rie=1;const e=/\s+/g;class t{constructor(R,P){if(P=s(P),R instanceof t)return R.loose===!!P.loose&&R.includePrerelease===!!P.includePrerelease?R:new t(R.raw,P);if(R instanceof o)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=P,this.loose=!!P.loose,this.includePrerelease=!!P.includePrerelease,this.raw=R.trim().replace(e," "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter(D=>!g(D[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&m(D[0])){this.set=[D];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const P=this.set[R];for(let I=0;I<P.length;I++)I>0&&(this.formatted+=" "),this.formatted+=P[I].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const I=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+R,D=r.get(I);if(D)return D;const M=this.options.loose,z=M?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];R=R.replace(z,A(this.options.includePrerelease)),i("hyphen replace",R),R=R.replace(l[u.COMPARATORTRIM],c),i("comparator trim",R),R=R.replace(l[u.TILDETRIM],f),i("tilde trim",R),R=R.replace(l[u.CARETTRIM],d),i("caret trim",R);let W=R.split(" ").map(G=>y(G,this.options)).join(" ").split(/\s+/).map(G=>E(G,this.options));M&&(W=W.filter(G=>(i("loose invalid filter",G,this.options),!!G.match(l[u.COMPARATORLOOSE])))),i("range list",W);const H=new Map,U=W.map(G=>new o(G,this.options));for(const G of U){if(g(G))return[G];H.set(G.value,G)}H.size>1&&H.has("")&&H.delete("");const K=[...H.values()];return r.set(I,K),K}intersects(R,P){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(I=>v(I,P)&&R.set.some(D=>v(D,P)&&I.every(M=>D.every(z=>M.intersects(z,P)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new a(R,this.options)}catch{return!1}for(let P=0;P<this.set.length;P++)if(N(this.set[P],R,this.options))return!0;return!1}}K8=t;const n=avt(),r=new n,s=UK(),o=eL(),i=JP(),a=Wa(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=iA(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=ZP(),g=F=>F.value==="<0.0.0-0",m=F=>F.value==="",v=(F,R)=>{let P=!0;const I=F.slice();let D=I.pop();for(;P&&I.length;)P=I.every(M=>D.intersects(M,R)),D=I.pop();return P},y=(F,R)=>(F=F.replace(l[u.BUILD],""),i("comp",F,R),F=S(F,R),i("caret",F),F=b(F,R),i("tildes",F),F=k(F,R),i("xrange",F),F=_(F,R),i("stars",F),F),w=F=>!F||F.toLowerCase()==="x"||F==="*",b=(F,R)=>F.trim().split(/\s+/).map(P=>C(P,R)).join(" "),C=(F,R)=>{const P=R.loose?l[u.TILDELOOSE]:l[u.TILDE];return F.replace(P,(I,D,M,z,W)=>{i("tilde",F,I,D,M,z,W);let H;return w(D)?H="":w(M)?H=`>=${D}.0.0 <${+D+1}.0.0-0`:w(z)?H=`>=${D}.${M}.0 <${D}.${+M+1}.0-0`:W?(i("replaceTilde pr",W),H=`>=${D}.${M}.${z}-${W} <${D}.${+M+1}.0-0`):H=`>=${D}.${M}.${z} <${D}.${+M+1}.0-0`,i("tilde return",H),H})},S=(F,R)=>F.trim().split(/\s+/).map(P=>$(P,R)).join(" "),$=(F,R)=>{i("caret",F,R);const P=R.loose?l[u.CARETLOOSE]:l[u.CARET],I=R.includePrerelease?"-0":"";return F.replace(P,(D,M,z,W,H)=>{i("caret",F,D,M,z,W,H);let U;return w(M)?U="":w(z)?U=`>=${M}.0.0${I} <${+M+1}.0.0-0`:w(W)?M==="0"?U=`>=${M}.${z}.0${I} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.0${I} <${+M+1}.0.0-0`:H?(i("replaceCaret pr",H),M==="0"?z==="0"?U=`>=${M}.${z}.${W}-${H} <${M}.${z}.${+W+1}-0`:U=`>=${M}.${z}.${W}-${H} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.${W}-${H} <${+M+1}.0.0-0`):(i("no pr"),M==="0"?z==="0"?U=`>=${M}.${z}.${W}${I} <${M}.${z}.${+W+1}-0`:U=`>=${M}.${z}.${W}${I} <${M}.${+z+1}.0-0`:U=`>=${M}.${z}.${W} <${+M+1}.0.0-0`),i("caret return",U),U})},k=(F,R)=>(i("replaceXRanges",F,R),F.split(/\s+/).map(P=>T(P,R)).join(" ")),T=(F,R)=>{F=F.trim();const P=R.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return F.replace(P,(I,D,M,z,W,H)=>{i("xRange",F,I,D,M,z,W,H);const U=w(M),K=U||w(z),G=K||w(W),re=G;return D==="="&&re&&(D=""),H=R.includePrerelease?"-0":"",U?D===">"||D==="<"?I="<0.0.0-0":I="*":D&&re?(K&&(z=0),W=0,D===">"?(D=">=",K?(M=+M+1,z=0,W=0):(z=+z+1,W=0)):D==="<="&&(D="<",K?M=+M+1:z=+z+1),D==="<"&&(H="-0"),I=`${D+M}.${z}.${W}${H}`):K?I=`>=${M}.0.0${H} <${+M+1}.0.0-0`:G&&(I=`>=${M}.${z}.0${H} <${M}.${+z+1}.0-0`),i("xRange return",I),I})},_=(F,R)=>(i("replaceStars",F,R),F.trim().replace(l[u.STAR],"")),E=(F,R)=>(i("replaceGTE0",F,R),F.trim().replace(l[R.includePrerelease?u.GTE0PRE:u.GTE0],"")),A=F=>(R,P,I,D,M,z,W,H,U,K,G,re)=>(w(I)?P="":w(D)?P=`>=${I}.0.0${F?"-0":""}`:w(M)?P=`>=${I}.${D}.0${F?"-0":""}`:z?P=`>=${P}`:P=`>=${P}${F?"-0":""}`,w(U)?H="":w(K)?H=`<${+U+1}.0.0-0`:w(G)?H=`<${U}.${+K+1}.0-0`:re?H=`<=${U}.${K}.${G}-${re}`:F?H=`<${U}.${K}.${+G+1}-0`:H=`<=${H}`,`${P} ${H}`.trim()),N=(F,R,P)=>{for(let I=0;I<F.length;I++)if(!F[I].test(R))return!1;if(R.prerelease.length&&!P.includePrerelease){for(let I=0;I<F.length;I++)if(i(F[I].semver),F[I].semver!==o.ANY&&F[I].semver.prerelease.length>0){const D=F[I].semver;if(D.major===R.major&&D.minor===R.minor&&D.patch===R.patch)return!0}return!1}return!0};return K8}var Y8,Fie;function eL(){if(Fie)return Y8;Fie=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),i("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(c){const f=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(i("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Y8=t;const n=UK(),{safeRe:r,t:s}=iA(),o=BSe(),i=JP(),a=Wa(),l=Qc();return Y8}var X8,Mie;function tL(){if(Mie)return X8;Mie=1;const e=Qc();return X8=(n,r,s)=>{try{r=new e(r,s)}catch{return!1}return r.test(n)},X8}var Z8,Pie;function lvt(){if(Pie)return Z8;Pie=1;const e=Qc();return Z8=(n,r)=>new e(n,r).set.map(s=>s.map(o=>o.value).join(" ").trim().split(" ")),Z8}var J8,Lie;function uvt(){if(Lie)return J8;Lie=1;const e=Wa(),t=Qc();return J8=(r,s,o)=>{let i=null,a=null,l=null;try{l=new t(s,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!i||a.compare(u)===-1)&&(i=u,a=new e(i,o))}),i},J8}var Q8,Bie;function cvt(){if(Bie)return Q8;Bie=1;const e=Wa(),t=Qc();return Q8=(r,s,o)=>{let i=null,a=null,l=null;try{l=new t(s,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!i||a.compare(u)===1)&&(i=u,a=new e(i,o))}),i},Q8}var ez,zie;function fvt(){if(zie)return ez;zie=1;const e=Wa(),t=Qc(),n=QP();return ez=(s,o)=>{s=new t(s,o);let i=new e("0.0.0");if(s.test(i)||(i=new e("0.0.0-0"),s.test(i)))return i;i=null;for(let a=0;a<s.set.length;++a){const l=s.set[a];let u=null;l.forEach(c=>{const f=new e(c.semver.version);switch(c.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!u||n(f,u))&&(u=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!i||n(i,u))&&(i=u)}return i&&s.test(i)?i:null},ez}var tz,Vie;function dvt(){if(Vie)return tz;Vie=1;const e=Qc();return tz=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},tz}var nz,Wie;function KK(){if(Wie)return nz;Wie=1;const e=Wa(),t=eL(),{ANY:n}=t,r=Qc(),s=tL(),o=QP(),i=HK(),a=GK(),l=qK();return nz=(c,f,d,h)=>{c=new e(c,h),f=new r(f,h);let p,g,m,v,y;switch(d){case">":p=o,g=a,m=i,v=">",y=">=";break;case"<":p=i,g=l,m=o,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(c,f,h))return!1;for(let w=0;w<f.set.length;++w){const b=f.set[w];let C=null,S=null;if(b.forEach($=>{$.semver===n&&($=new t(">=0.0.0")),C=C||$,S=S||$,p($.semver,C.semver,h)?C=$:m($.semver,S.semver,h)&&(S=$)}),C.operator===v||C.operator===y||(!S.operator||S.operator===v)&&g(c,S.semver))return!1;if(S.operator===y&&m(c,S.semver))return!1}return!0},nz}var rz,Uie;function hvt(){if(Uie)return rz;Uie=1;const e=KK();return rz=(n,r,s)=>e(n,r,">",s),rz}var sz,jie;function pvt(){if(jie)return sz;jie=1;const e=KK();return sz=(n,r,s)=>e(n,r,"<",s),sz}var oz,Hie;function gvt(){if(Hie)return oz;Hie=1;const e=Qc();return oz=(n,r,s)=>(n=new e(n,s),r=new e(r,s),n.intersects(r,s)),oz}var iz,qie;function mvt(){if(qie)return iz;qie=1;const e=tL(),t=Jc();return iz=(n,r,s)=>{const o=[];let i=null,a=null;const l=n.sort((d,h)=>t(d,h,s));for(const d of l)e(d,r,s)?(a=d,i||(i=d)):(a&&o.push([i,a]),a=null,i=null);i&&o.push([i,null]);const u=[];for(const[d,h]of o)d===h?u.push(d):!h&&d===l[0]?u.push("*"):h?d===l[0]?u.push(`<=${h}`):u.push(`${d} - ${h}`):u.push(`>=${d}`);const c=u.join(" || "),f=typeof r.raw=="string"?r.raw:String(r);return c.length<f.length?c:r},iz}var az,Gie;function vvt(){if(Gie)return az;Gie=1;const e=Qc(),t=eL(),{ANY:n}=t,r=tL(),s=Jc(),o=(f,d,h={})=>{if(f===d)return!0;f=new e(f,h),d=new e(d,h);let p=!1;e:for(const g of f.set){for(const m of d.set){const v=l(g,m,h);if(p=p||v!==null,v)continue e}if(p)return!1}return!0},i=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(f,d,h)=>{if(f===d)return!0;if(f.length===1&&f[0].semver===n){if(d.length===1&&d[0].semver===n)return!0;h.includePrerelease?f=i:f=a}if(d.length===1&&d[0].semver===n){if(h.includePrerelease)return!0;d=a}const p=new Set;let g,m;for(const k of f)k.operator===">"||k.operator===">="?g=u(g,k,h):k.operator==="<"||k.operator==="<="?m=c(m,k,h):p.add(k.semver);if(p.size>1)return null;let v;if(g&&m){if(v=s(g.semver,m.semver,h),v>0)return null;if(v===0&&(g.operator!==">="||m.operator!=="<="))return null}for(const k of p){if(g&&!r(k,String(g),h)||m&&!r(k,String(m),h))return null;for(const T of d)if(!r(k,String(T),h))return!1;return!0}let y,w,b,C,S=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1,$=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1;S&&S.prerelease.length===1&&m.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of d){if(C=C||k.operator===">"||k.operator===">=",b=b||k.operator==="<"||k.operator==="<=",g){if($&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===$.major&&k.semver.minor===$.minor&&k.semver.patch===$.patch&&($=!1),k.operator===">"||k.operator===">="){if(y=u(g,k,h),y===k&&y!==g)return!1}else if(g.operator===">="&&!r(g.semver,String(k),h))return!1}if(m){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(w=c(m,k,h),w===k&&w!==m)return!1}else if(m.operator==="<="&&!r(m.semver,String(k),h))return!1}if(!k.operator&&(m||g)&&v!==0)return!1}return!(g&&b&&!m&&v!==0||m&&C&&!g&&v!==0||$||S)},u=(f,d,h)=>{if(!f)return d;const p=s(f.semver,d.semver,h);return p>0?f:p<0||d.operator===">"&&f.operator===">="?d:f},c=(f,d,h)=>{if(!f)return d;const p=s(f.semver,d.semver,h);return p<0?f:p>0||d.operator==="<"&&f.operator==="<="?d:f};return az=o,az}var lz,Kie;function yvt(){if(Kie)return lz;Kie=1;const e=iA(),t=ZP(),n=Wa(),r=MSe(),s=oC(),o=K0t(),i=Y0t(),a=X0t(),l=Z0t(),u=J0t(),c=Q0t(),f=evt(),d=tvt(),h=Jc(),p=nvt(),g=rvt(),m=jK(),v=svt(),y=ovt(),w=QP(),b=HK(),C=PSe(),S=LSe(),$=qK(),k=GK(),T=BSe(),_=ivt(),E=eL(),A=Qc(),N=tL(),F=lvt(),R=uvt(),P=cvt(),I=fvt(),D=dvt(),M=KK(),z=hvt(),W=pvt(),H=gvt(),U=mvt(),K=vvt();return lz={parse:s,valid:o,clean:i,inc:a,diff:l,major:u,minor:c,patch:f,prerelease:d,compare:h,rcompare:p,compareLoose:g,compareBuild:m,sort:v,rsort:y,gt:w,lt:b,eq:C,neq:S,gte:$,lte:k,cmp:T,coerce:_,Comparator:E,Range:A,satisfies:N,toComparators:F,maxSatisfying:R,minSatisfying:P,minVersion:I,validRange:D,outside:M,gtr:z,ltr:W,intersects:H,simplifyRange:U,subset:K,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},lz}var zSe=yvt();function Zu(e,t,n){return e.fields=t||[],e.fname=n,e}function Ws(e){return e==null?null:e.fname}function Zi(e){return e==null?null:e.fields}function VSe(e){return e.length===1?bvt(e[0]):wvt(e)}const bvt=e=>function(t){return t[e]},wvt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function gt(e){throw Error(e)}function nL(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a),o+=e.substring(++a,++a),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||gt("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&gt("Access path missing closing bracket: "+e),r&&gt("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function wm(e,t,n){const r=nL(e);return e=r.length===1?r[0]:e,Zu((n&&n.get||VSe)(r),[e],t||e)}const xvt=wm("id"),Mu=Zu(e=>e,[],"identity"),$g=Zu(()=>0,[],"zero"),iC=Zu(()=>1,[],"one"),aC=Zu(()=>!0,[],"true"),ag=Zu(()=>!1,[],"false");function oN(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const WSe=0,USe=1,jSe=2,HSe=3,qSe=4;function Cvt(e,t){let n=e||WSe;return{level(r){return arguments.length?(n=+r,this):n},error(){return n>=USe&&oN(t||"error","ERROR",arguments),this},warn(){return n>=jSe&&oN(t||"warn","WARN",arguments),this},info(){return n>=HSe&&oN(t||"log","INFO",arguments),this},debug(){return n>=qSe&&oN(t||"log","DEBUG",arguments),this}}}var jn=Array.isArray;function tr(e){return e===Object(e)}const Yie=e=>e!=="__proto__";function rL(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=Svt(t.signals,n.signals);else{const s=r==="legend"?{layout:1}:r==="style"?!0:null;sL(t,r,n[r],s)}return t},{})}function sL(e,t,n,r){if(!Yie(t))return;let s,o;if(tr(n)&&!jn(n)){o=tr(e[t])?e[t]:e[t]={};for(s in n)r&&(r===!0||r[s])?sL(o,s,n[s]):Yie(s)&&(o[s]=n[s])}else e[t]=n}function Svt(e,t){if(e==null)return t;const n={},r=[];function s(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(s),e.forEach(s),r}function Xr(e){return e[e.length-1]}function xm(e){return e==null||e===""?null:+e}const GSe=e=>t=>e*Math.exp(t),KSe=e=>t=>Math.log(e*t),YSe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),XSe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,YO=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function oL(e,t,n,r){const s=n(e[0]),o=n(Xr(e)),i=(o-s)*t;return[r(s-i),r(o-i)]}function $vt(e,t){return oL(e,t,xm,Mu)}function kvt(e,t){var n=Math.sign(e[0]);return oL(e,t,KSe(n),GSe(n))}function Evt(e,t,n){return oL(e,t,YO(n),YO(1/n))}function _vt(e,t,n){return oL(e,t,YSe(n),XSe(n))}function iL(e,t,n,r,s){const o=r(e[0]),i=r(Xr(e)),a=t!=null?r(t):(o+i)/2;return[s(a+(o-a)*n),s(a+(i-a)*n)]}function ZSe(e,t,n){return iL(e,t,n,xm,Mu)}function JSe(e,t,n){const r=Math.sign(e[0]);return iL(e,t,n,KSe(r),GSe(r))}function nW(e,t,n,r){return iL(e,t,n,YO(r),YO(1/r))}function QSe(e,t,n,r){return iL(e,t,n,YSe(r),XSe(r))}function Tvt(e){return 1+~~(new Date(e).getMonth()/3)}function Avt(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Mn(e){return e!=null?jn(e)?e:[e]:[]}function Ivt(e,t,n){let r=e[0],s=e[1],o;return s<r&&(o=s,s=r,r=o),o=s-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Or(e){return typeof e=="function"}const Nvt="descending";function e$e(e,t,n){n=n||{},t=Mn(t)||[];const r=[],s=[],o={},i=n.comparator||Dvt;return Mn(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Nvt?-1:1),s.push(a=Or(a)?a:wm(a,null,n)),(Zi(a)||[]).forEach(u=>o[u]=1))}),s.length===0?null:Zu(i(s,r),Object.keys(o))}const aL=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Dvt=(e,t)=>e.length===1?Ovt(e[0],t[0]):Rvt(e,t,e.length),Ovt=(e,t)=>function(n,r){return aL(e(n),e(r))*t},Rvt=(e,t,n)=>(t.push(0),function(r,s){let o,i=0,a=-1;for(;i===0&&++a<n;)o=e[a],i=aL(o(r),o(s));return i*t[a]});function Pu(e){return Or(e)?e:()=>e}function t$e(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function sr(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Cm(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function n$e(e,t){const n=e.length;let r=-1,s,o,i,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){s=i=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(s>o&&(s=o,a=r),i<o&&(i=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){s=i=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(s>o&&(s=o,a=r),i<o&&(i=o,l=r))}return[a,l]}const Fvt=Object.prototype.hasOwnProperty;function Pn(e,t){return Fvt.call(e,t)}const iN={};function lC(e){let t={},n;function r(o){return Pn(t,o)&&t[o]!==iN}const s={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,i){return r(o)||(++s.size,t[o]===iN&&--s.empty),t[o]=i,this},delete(o){return r(o)&&(--s.size,++s.empty,t[o]=iN),this},clear(){s.size=s.empty=0,s.object=t={}},test(o){return arguments.length?(n=o,s):n},clean(){const o={};let i=0;for(const a in t){const l=t[a];l!==iN&&(!n||!n(l))&&(o[a]=l,++i)}s.size=i,s.empty=0,s.object=t=o}};return e&&Object.keys(e).forEach(o=>{s.set(o,e[o])}),s}function Mvt(e,t,n,r,s,o){if(!n&&n!==0)return o;const i=+n;let a=e[0],l=Xr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=i?r:c<=i?s:o}function Nt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),sr(r,n)}function Pvt(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function r$e(e){return typeof e=="boolean"}function lL(e){return Object.prototype.toString.call(e)==="[object Date]"}function s$e(e){return e&&Or(e[Symbol.iterator])}function _1(e){return typeof e=="number"}function Lvt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ys(e){return typeof e=="string"}function o$e(e,t,n){e&&(e=t?Mn(e).map(a=>a.replace(/\\(.)/g,"$1")):Mn(e));const r=e&&e.length,s=n&&n.get||VSe,o=a=>s(t?[a]:nL(a));let i;if(!r)i=function(){return""};else if(r===1){const a=o(e[0]);i=function(l){return""+a(l)}}else{const a=e.map(o);i=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Zu(i,e,"key")}function Bvt(e,t){const n=e[0],r=Xr(e),s=+t;return s?s===1?r:n+s*(r-n):n}const zvt=1e4;function i$e(e){e=+e||zvt;let t,n,r;const s=()=>{t={},n={},r=0},o=(i,a)=>(++r>e&&(n=t,t={},r=1),t[i]=a);return s(),{clear:s,has:i=>Pn(t,i)||Pn(n,i),get:i=>Pn(t,i)?t[i]:Pn(n,i)?o(i,n[i]):void 0,set:(i,a)=>Pn(t,i)?t[i]=a:o(i,a)}}function a$e(e,t,n,r){const s=t.length,o=n.length;if(!o)return t;if(!s)return n;const i=r||new t.constructor(s+o);let a=0,l=0,u=0;for(;a<s&&l<o;++u)i[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<s;++a,++u)i[u]=t[a];for(;l<o;++l,++u)i[u]=n[l];return i}function o$(e,t){let n="";for(;--t>=0;)n+=e;return n}function Vvt(e,t,n,r){const s=n||" ",o=e+"",i=t-o.length;return i<=0?o:r==="left"?o$(s,i)+o:r==="center"?o$(s,~~(i/2))+o+o$(s,Math.ceil(i/2)):o+o$(s,i)}function uL(e){return e&&Xr(e)-e[0]||0}function _n(e){return jn(e)?"["+e.map(_n)+"]":tr(e)||ys(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function l$e(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Wvt=e=>_1(e)||lL(e)?e:Date.parse(e);function u$e(e,t){return t=t||Wvt,e==null||e===""?null:t(e)}function c$e(e){return e==null||e===""?null:e+""}function ap(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Uvt(e,t,n,r){const s=r??"",o=e+"",i=o.length,a=Math.max(0,t-s.length);return i<=t?o:n==="left"?s+o.slice(i-a):n==="center"?o.slice(0,Math.ceil(a/2))+s+o.slice(i-~~(a/2)):o.slice(0,a)+s}function jvt(e,t,n){if(e)if(t){const r=e.length;for(let s=0;s<r;++s){const o=t(e[s]);o&&n(o,s,e)}}else e.forEach(n)}function uC(e,t,n){return e.fields=t||[],e.fname=n,e}function Hvt(e){return e.length===1?qvt(e[0]):Gvt(e)}const qvt=e=>function(t){return t[e]},Gvt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Ji(e){throw Error(e)}function Kvt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||Ji("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&Ji("Access path missing closing bracket: "+e),r&&Ji("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function f$e(e,t,n){const r=Kvt(e);return e=r.length===1?r[0]:e,uC(Hvt(r),[e],e)}const cL=f$e("id"),fL=uC(e=>e,[],"identity");uC(()=>0,[],"zero");uC(()=>1,[],"one");const rW=uC(()=>!0,[],"true");uC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));function Yvt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const Xvt=0,d$e=1,Zvt=2,Jvt=3,Qvt=4;function e1t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yvt,r=e||Xvt;return{level(s){return arguments.length?(r=+s,this):r},error(){return r>=d$e&&n("error","ERROR",arguments),this},warn(){return r>=Zvt&&n("warn","WARN",arguments),this},info(){return r>=Jvt&&n("log","INFO",arguments),this},debug(){return r>=Qvt&&n("log","DEBUG",arguments),this}}}var hd=Array.isArray;function YK(e){return e===Object(e)}function Xie(e){return e==null||e===""?null:+e}function XO(e){return e!=null?hd(e)?e:[e]:[]}function _c(e){return typeof e=="function"}function XK(e){return _c(e)?e:()=>e}function t1t(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function cC(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function ZK(e,t){return Object.hasOwn(e,t)}function h$e(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),cC(r,n)}function n1t(e){return Object.prototype.toString.call(e)==="[object Date]"}function r1t(e){return e&&_c(e[Symbol.iterator])}function s1t(e){return typeof e=="number"}function sW(e){return typeof e=="string"}function JK(e){return hd(e)?"["+e.map(JK)+"]":YK(e)||sW(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function o1t(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const i1t=e=>s1t(e)||n1t(e)?e:Date.parse(e);function a1t(e,t){return t=t||i1t,e==null||e===""?null:t(e)}function l1t(e){return e==null||e===""?null:e+""}function ov(e,t,n){if(e)if(t){const r=e.length;for(let s=0;s<r;++s){const o=t(e[s]);o&&n(o,s,e)}}else e.forEach(n)}var Zie={},uz={},cz=34,fS=10,fz=13;function p$e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function u1t(e,t){var n=p$e(e);return function(r,s){return t(n(r),s,e)}}function Jie(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var s in r)s in t||n.push(t[s]=s)}),n}function Ka(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function c1t(e){return e<0?"-"+Ka(-e,6):e>9999?"+"+Ka(e,6):Ka(e,4)}function f1t(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":c1t(e.getUTCFullYear())+"-"+Ka(e.getUTCMonth()+1,2)+"-"+Ka(e.getUTCDate(),2)+(s?"T"+Ka(t,2)+":"+Ka(n,2)+":"+Ka(r,2)+"."+Ka(s,3)+"Z":r?"T"+Ka(t,2)+":"+Ka(n,2)+":"+Ka(r,2)+"Z":n||t?"T"+Ka(t,2)+":"+Ka(n,2)+"Z":"")}function d1t(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=s(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?u1t(m,d):p$e(m)});return g.columns=p||[],g}function s(f,d){var h=[],p=f.length,g=0,m=0,v,y=p<=0,w=!1;f.charCodeAt(p-1)===fS&&--p,f.charCodeAt(p-1)===fz&&--p;function b(){if(y)return uz;if(w)return w=!1,Zie;var S,$=g,k;if(f.charCodeAt($)===cz){for(;g++<p&&f.charCodeAt(g)!==cz||f.charCodeAt(++g)===cz;);return(S=g)>=p?y=!0:(k=f.charCodeAt(g++))===fS?w=!0:k===fz&&(w=!0,f.charCodeAt(g)===fS&&++g),f.slice($+1,S-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(S=g++))===fS)w=!0;else if(k===fz)w=!0,f.charCodeAt(g)===fS&&++g;else if(k!==n)continue;return f.slice($,S)}return y=!0,f.slice($,p)}for(;(v=b())!==uz;){for(var C=[];v!==Zie&&v!==uz;)C.push(v),v=b();d&&(C=d(C,m++))==null||h.push(C)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function i(f,d){return d==null&&(d=Jie(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Jie(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?f1t(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:s,format:i,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function h1t(e){return e}function p1t(e){if(e==null)return h1t;var t,n,r=e.scale[0],s=e.scale[1],o=e.translate[0],i=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*s+i;u<c;)f[u]=a[u],++u;return f}}function g1t(e,t){for(var n,r=e.length,s=r-t;s<--r;)n=e[s],e[s++]=e[r],e[r]=n}function g$e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Qie(e,n)})}:Qie(e,t)}function Qie(e,t){var n=t.id,r=t.bbox,s=t.properties==null?{}:t.properties,o=m$e(e,t);return n==null&&r==null?{type:"Feature",properties:s,geometry:o}:r==null?{type:"Feature",id:n,properties:s,geometry:o}:{type:"Feature",id:n,bbox:r,properties:s,geometry:o}}function m$e(e,t){var n=p1t(e.transform),r=e.arcs;function s(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&g1t(f,p)}function o(c){return n(c)}function i(c){for(var f=[],d=0,h=c.length;d<h;++d)s(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=i(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=i(c.arcs);break;case"MultiLineString":d=c.arcs.map(i);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function m1t(e,t){var n={},r={},s={},o=[],i=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++i],t[i]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=s[f])if(delete s[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=s[g.end=p.end]=g}else r[h.start]=s[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=s[f]){delete s[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=s[m.end=h.end]=m}else r[h.start]=s[h.end]=h;else h=[u],r[h.start=f]=s[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(s,r),l(r,s),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function v$e(e){return m$e(e,v1t.apply(this,arguments))}function v1t(e,t,n){var r,s,o;if(arguments.length>1)r=y1t(e,t,n);else for(s=0,r=new Array(o=e.arcs.length);s<o;++s)r[s]=s;return{type:"MultiLineString",arcs:m1t(e,r)}}function y1t(e,t,n){var r=[],s=[],o;function i(f){var d=f<0?~f:f;(s[d]||(s[d]=[])).push({i:f,g:o})}function a(f){f.forEach(i)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),s.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}class ZO extends Map{constructor(t,n=w$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(oW(this,t))}has(t){return super.has(oW(this,t))}set(t,n){return super.set(y$e(this,t),n)}delete(t){return super.delete(b$e(this,t))}}class JO extends Set{constructor(t,n=w$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(oW(this,t))}add(t){return super.add(y$e(this,t))}delete(t){return super.delete(b$e(this,t))}}function oW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function y$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function b$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function w$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const b1t=Math.sqrt(50),w1t=Math.sqrt(10),x1t=Math.sqrt(2);function x$e(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=b1t?10:o>=w1t?5:o>=x1t?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?x$e(e,t,n*2):[a,l,u]}function eae(e,t,n){return t=+t,e=+e,n=+n,x$e(e,t,n)[2]}function C1t(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?eae(t,e,n):eae(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function S1t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function QO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ww(e){return e=QO(Math.abs(e)),e?e[1]:NaN}function $1t(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function k1t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var E1t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xk(e){if(!(t=E1t.exec(e)))throw new Error("invalid format: "+e);var t;return new QK({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xk.prototype=QK.prototype;function QK(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QK.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _1t(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var C$e;function T1t(e,t){var n=QO(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(C$e=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+QO(e,Math.max(0,t+o-1))[0]}function tae(e,t){var n=QO(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const nae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:S1t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tae(e*100,t),r:tae,s:T1t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rae(e){return e}var sae=Array.prototype.map,oae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S$e(e){var t=e.grouping===void 0||e.thousands===void 0?rae:$1t(sae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?rae:k1t(sae.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xk(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,w=f.precision,b=f.trim,C=f.type;C==="n"?(y=!0,C="g"):nae[C]||(w===void 0&&(w=12),b=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=nae[C],T=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(E){var A=S,N=$,F,R,P;if(C==="c")N=k(E)+N,E="";else{E=+E;var I=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),w),b&&(E=_1t(E)),I&&+E==0&&p!=="+"&&(I=!1),A=(I?p==="("?p:a:p==="-"||p==="("?"":p)+A,N=(C==="s"?oae[8+C$e/3]:"")+N+(I&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(P=E.charCodeAt(F),48>P||P>57){N=(P===46?s+E.slice(F+1):E.slice(F))+N,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var D=A.length+E.length+N.length,M=D<v?new Array(v-D+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-N.length:1/0),M=""),h){case"<":E=A+E+N+M;break;case"=":E=A+M+E+N;break;case"^":E=M.slice(0,D=M.length>>1)+A+E+N+M.slice(D);break;default:E=M+A+E+N;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=Xk(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ww(d)/3)))*3,g=Math.pow(10,-p),m=oae[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var aN,$$e,k$e;A1t({thousands:",",grouping:[3],currency:["$",""]});function A1t(e){return aN=S$e(e),$$e=aN.format,k$e=aN.formatPrefix,aN}function I1t(e){return Math.max(0,-Ww(Math.abs(e)))}function N1t(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ww(t)/3)))*3-Ww(Math.abs(e)))}function D1t(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ww(t)-Ww(e))+1}const dz=new Date,hz=new Date;function Io(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>Io(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(dz.setTime(+o),hz.setTime(+i),e(dz),e(hz),Math.floor(n(dz,hz))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const Zk=Io(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zk.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Io(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zk);Zk.range;const Jk=1e3,Sm=Jk*60,Qk=Sm*60,eE=Qk*24,E$e=eE*7,eY=Io(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jk)},(e,t)=>(t-e)/Jk,e=>e.getUTCSeconds());eY.range;const _$e=Io(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jk)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getMinutes());_$e.range;const T$e=Io(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getUTCMinutes());T$e.range;const A$e=Io(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jk-e.getMinutes()*Sm)},(e,t)=>{e.setTime(+e+t*Qk)},(e,t)=>(t-e)/Qk,e=>e.getHours());A$e.range;const I$e=Io(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qk)},(e,t)=>(t-e)/Qk,e=>e.getUTCHours());I$e.range;const cw=Io(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sm)/eE,e=>e.getDate()-1);cw.range;const fw=Io(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eE,e=>e.getUTCDate()-1);fw.range;const O1t=Io(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eE,e=>Math.floor(e/eE));O1t.range;function by(e){return Io(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Sm)/E$e)}const tY=by(0),eR=by(1),R1t=by(2),F1t=by(3),Uw=by(4),M1t=by(5),P1t=by(6);tY.range;eR.range;R1t.range;F1t.range;Uw.range;M1t.range;P1t.range;function wy(e){return Io(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/E$e)}const nY=wy(0),tR=wy(1),L1t=wy(2),B1t=wy(3),jw=wy(4),z1t=wy(5),V1t=wy(6);nY.range;tR.range;L1t.range;B1t.range;jw.range;z1t.range;V1t.range;const iW=Io(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iW.range;const aW=Io(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aW.range;const $m=Io(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$m.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Io(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$m.range;const km=Io(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());km.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Io(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});km.range;const tE="year",nE="quarter",rE="month",sE="week",oE="date",dL="day",rY="dayofyear",iE="hours",aE="minutes",lE="seconds",hL="milliseconds",W1t=[tE,nE,rE,sE,oE,dL,rY,iE,aE,lE,hL];W1t.reduce((e,t,n)=>(e[t]=1+n,e),{});const U1t={[tE]:$m,[nE]:iW.every(3),[rE]:iW,[sE]:tY,[oE]:cw,[dL]:cw,[rY]:cw,[iE]:A$e,[aE]:_$e,[lE]:eY,[hL]:Zk},j1t={[tE]:km,[nE]:aW.every(3),[rE]:aW,[sE]:nY,[oE]:fw,[dL]:fw,[rY]:fw,[iE]:I$e,[aE]:T$e,[lE]:eY,[hL]:Zk};function H1t(e){return U1t[e]}function q1t(e){return j1t[e]}function pz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function N$e(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=hS(s),c=pS(s),f=hS(o),d=pS(o),h=hS(i),p=pS(i),g=hS(a),m=pS(a),v=hS(l),y=pS(l),w={a:I,A:D,b:M,B:z,c:null,d:fae,e:fae,f:gyt,g:kyt,G:_yt,H:dyt,I:hyt,j:pyt,L:D$e,m:myt,M:vyt,p:W,q:H,Q:pae,s:gae,S:yyt,u:byt,U:wyt,V:xyt,w:Cyt,W:Syt,x:null,X:null,y:$yt,Y:Eyt,Z:Tyt,"%":hae},b={a:U,A:K,b:G,B:re,c:null,d:dae,e:dae,f:Dyt,g:Wyt,G:jyt,H:Ayt,I:Iyt,j:Nyt,L:R$e,m:Oyt,M:Ryt,p:ue,q:ae,Q:pae,s:gae,S:Fyt,u:Myt,U:Pyt,V:Lyt,w:Byt,W:zyt,x:null,X:null,y:Vyt,Y:Uyt,Z:Hyt,"%":hae},C={a:_,A:E,b:A,B:N,c:F,d:uae,e:uae,f:lyt,g:lae,G:aae,H:cae,I:cae,j:syt,L:ayt,m:ryt,M:oyt,p:T,q:nyt,Q:cyt,s:fyt,S:iyt,u:Z1t,U:J1t,V:Q1t,w:X1t,W:eyt,x:R,X:P,y:lae,Y:aae,Z:tyt,"%":uyt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b);function S(X,J){return function(q){var L=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(L.push(X.slice(se,Q)),(ge=iae[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),L.push(he),se=Q+1);return L.push(X.slice(se,Q)),L.join("")}}function $(X,J){return function(q){var L=dS(1900,void 0,1),Q=k(L,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(J&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(se=gz(dS(L.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?tR.ceil(se):tR(se),se=fw.offset(se,(L.V-1)*7),L.y=se.getUTCFullYear(),L.m=se.getUTCMonth(),L.d=se.getUTCDate()+(L.w+6)%7):(se=pz(dS(L.y,0,1)),de=se.getDay(),se=de>4||de===0?eR.ceil(se):eR(se),se=cw.offset(se,(L.V-1)*7),L.y=se.getFullYear(),L.m=se.getMonth(),L.d=se.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),de="Z"in L?gz(dS(L.y,0,1)).getUTCDay():pz(dS(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(de+5)%7:L.w+L.U*7-(de+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,gz(L)):pz(L)}}function k(X,J,q,L){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(L>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in iae?J.charAt(Q++):he],!ge||(L=ge(X,q,L))<0)return-1}else if(he!=q.charCodeAt(L++))return-1}return L}function T(X,J,q){var L=u.exec(J.slice(q));return L?(X.p=c.get(L[0].toLowerCase()),q+L[0].length):-1}function _(X,J,q){var L=h.exec(J.slice(q));return L?(X.w=p.get(L[0].toLowerCase()),q+L[0].length):-1}function E(X,J,q){var L=f.exec(J.slice(q));return L?(X.w=d.get(L[0].toLowerCase()),q+L[0].length):-1}function A(X,J,q){var L=v.exec(J.slice(q));return L?(X.m=y.get(L[0].toLowerCase()),q+L[0].length):-1}function N(X,J,q){var L=g.exec(J.slice(q));return L?(X.m=m.get(L[0].toLowerCase()),q+L[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function P(X,J,q){return k(X,r,J,q)}function I(X){return i[X.getDay()]}function D(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function K(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function re(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var iae={"-":"",_:" ",0:"0"},ti=/^\s*\d+/,G1t=/^%/,K1t=/[\\^$*+?|[\]().{}]/g;function Sr(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function Y1t(e){return e.replace(K1t,"\\$&")}function hS(e){return new RegExp("^(?:"+e.map(Y1t).join("|")+")","i")}function pS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function X1t(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Z1t(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function J1t(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Q1t(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function eyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aae(e,t,n){var r=ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tyt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nyt(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ryt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function syt(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cae(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function oyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iyt(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ayt(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lyt(e,t,n){var r=ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uyt(e,t,n){var r=G1t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cyt(e,t,n){var r=ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fyt(e,t,n){var r=ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fae(e,t){return Sr(e.getDate(),t,2)}function dyt(e,t){return Sr(e.getHours(),t,2)}function hyt(e,t){return Sr(e.getHours()%12||12,t,2)}function pyt(e,t){return Sr(1+cw.count($m(e),e),t,3)}function D$e(e,t){return Sr(e.getMilliseconds(),t,3)}function gyt(e,t){return D$e(e,t)+"000"}function myt(e,t){return Sr(e.getMonth()+1,t,2)}function vyt(e,t){return Sr(e.getMinutes(),t,2)}function yyt(e,t){return Sr(e.getSeconds(),t,2)}function byt(e){var t=e.getDay();return t===0?7:t}function wyt(e,t){return Sr(tY.count($m(e)-1,e),t,2)}function O$e(e){var t=e.getDay();return t>=4||t===0?Uw(e):Uw.ceil(e)}function xyt(e,t){return e=O$e(e),Sr(Uw.count($m(e),e)+($m(e).getDay()===4),t,2)}function Cyt(e){return e.getDay()}function Syt(e,t){return Sr(eR.count($m(e)-1,e),t,2)}function $yt(e,t){return Sr(e.getFullYear()%100,t,2)}function kyt(e,t){return e=O$e(e),Sr(e.getFullYear()%100,t,2)}function Eyt(e,t){return Sr(e.getFullYear()%1e4,t,4)}function _yt(e,t){var n=e.getDay();return e=n>=4||n===0?Uw(e):Uw.ceil(e),Sr(e.getFullYear()%1e4,t,4)}function Tyt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sr(t/60|0,"0",2)+Sr(t%60,"0",2)}function dae(e,t){return Sr(e.getUTCDate(),t,2)}function Ayt(e,t){return Sr(e.getUTCHours(),t,2)}function Iyt(e,t){return Sr(e.getUTCHours()%12||12,t,2)}function Nyt(e,t){return Sr(1+fw.count(km(e),e),t,3)}function R$e(e,t){return Sr(e.getUTCMilliseconds(),t,3)}function Dyt(e,t){return R$e(e,t)+"000"}function Oyt(e,t){return Sr(e.getUTCMonth()+1,t,2)}function Ryt(e,t){return Sr(e.getUTCMinutes(),t,2)}function Fyt(e,t){return Sr(e.getUTCSeconds(),t,2)}function Myt(e){var t=e.getUTCDay();return t===0?7:t}function Pyt(e,t){return Sr(nY.count(km(e)-1,e),t,2)}function F$e(e){var t=e.getUTCDay();return t>=4||t===0?jw(e):jw.ceil(e)}function Lyt(e,t){return e=F$e(e),Sr(jw.count(km(e),e)+(km(e).getUTCDay()===4),t,2)}function Byt(e){return e.getUTCDay()}function zyt(e,t){return Sr(tR.count(km(e)-1,e),t,2)}function Vyt(e,t){return Sr(e.getUTCFullYear()%100,t,2)}function Wyt(e,t){return e=F$e(e),Sr(e.getUTCFullYear()%100,t,2)}function Uyt(e,t){return Sr(e.getUTCFullYear()%1e4,t,4)}function jyt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jw(e):jw.ceil(e),Sr(e.getUTCFullYear()%1e4,t,4)}function Hyt(){return"+0000"}function hae(){return"%"}function pae(e){return+e}function gae(e){return Math.floor(+e/1e3)}var db,M$e,P$e,L$e,B$e;qyt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qyt(e){return db=N$e(e),M$e=db.format,P$e=db.parse,L$e=db.utcFormat,B$e=db.utcParse,db}function i$(e){const t={};return n=>t[n]||(t[n]=e(n))}function Gyt(e,t){return n=>{const r=e(n),s=r.indexOf(t);if(s<0)return r;let o=Kyt(r,s);const i=o<r.length?r.slice(o):"";for(;--o>s;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+i}}function Kyt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function z$e(e){const t=i$(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const s=Xk(r||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return Gyt(t(s),t(".1f")(1)[1])}else return t(s)},formatSpan(r,s,o,i){i=Xk(i??",f");const a=C1t(r,s,o),l=Math.max(Math.abs(r),Math.abs(s));let u;if(i.precision==null)switch(i.type){case"s":return isNaN(u=N1t(a,l))||(i.precision=u),n(i,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=D1t(a,l))||(i.precision=u-(i.type==="e"));break}case"f":case"%":{isNaN(u=I1t(a))||(i.precision=u-(i.type==="%")*2);break}}return t(i)}}}let lW;Yyt();function Yyt(){return lW=z$e({format:$$e,formatPrefix:k$e})}function Xyt(e){return z$e(S$e(e))}function mae(e){return arguments.length?lW=Xyt(e):lW}function vae(e,t,n){n=n||{},YK(n)||Ji(`Invalid time multi-format specifier: ${n}`);const r=t(lE),s=t(aE),o=t(iE),i=t(oE),a=t(sE),l=t(rE),u=t(nE),c=t(tE),f=e(n[hL]||".%L"),d=e(n[lE]||":%S"),h=e(n[aE]||"%I:%M"),p=e(n[iE]||"%I %p"),g=e(n[oE]||n[dL]||"%a %d"),m=e(n[sE]||"%b %d"),v=e(n[rE]||"%B"),y=e(n[nE]||"%B"),w=e(n[tE]||"%Y");return b=>(r(b)<b?f:s(b)<b?d:o(b)<b?h:i(b)<b?p:l(b)<b?a(b)<b?g:m:c(b)<b?u(b)<b?v:y:w)(b)}function V$e(e){const t=i$(e.format),n=i$(e.utcFormat);return{timeFormat:r=>sW(r)?t(r):vae(t,H1t,r),utcFormat:r=>sW(r)?n(r):vae(n,q1t,r),timeParse:i$(e.parse),utcParse:i$(e.utcParse)}}let uW;Zyt();function Zyt(){return uW=V$e({format:M$e,parse:P$e,utcFormat:L$e,utcParse:B$e})}function Jyt(e){return V$e(N$e(e))}function cW(e){return arguments.length?uW=Jyt(e):uW}const yae=(e,t)=>cC({},e,t);function Qyt(e,t){const n=arguments.length;return n&&n!==2&&Ji("defaultLocale expects either zero or two arguments."),n?yae(mae(e),cW(t)):yae(mae(),cW())}const ebt=/^(data:|([A-Za-z]+:)?\/\/)/,tbt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,nbt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,bae="file://";function rbt(e,t){return n=>({options:n||{},sanitize:obt,load:sbt,fileAccess:!1,file:ibt(),http:lbt(e)})}async function sbt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function obt(e,t){t=cC({},this.options,t);const n=this.fileAccess,r={href:null};let s,o,i;const a=tbt.test(e.replace(nbt,""));(e==null||typeof e!="string"||!a)&&Ji("Sanitize failure, invalid URI: "+JK(e));const l=ebt.test(e);return(i=t.baseURL)&&!l&&(!e.startsWith("/")&&!i.endsWith("/")&&(e="/"+e),e=i+e),o=(s=e.startsWith(bae))||t.mode==="file"||t.mode!=="http"&&!l&&n,s?e=e.slice(bae.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function ibt(e){return abt}async function abt(){Ji("No file system access.")}function lbt(e){return e?async function(t,n){const r=cC({},this.options.http,n),s=n&&n.response,o=await e(t,r);return o.ok?_c(o[s])?o[s]():o.text():Ji(o.status+""+o.statusText)}:ubt}async function ubt(){Ji("No HTTP fetch method available.")}const cbt=e=>e!=null&&e===e,fbt=e=>e==="true"||e==="false"||e===!0||e===!1,dbt=e=>!Number.isNaN(Date.parse(e)),W$e=e=>!Number.isNaN(+e)&&!(e instanceof Date),hbt=e=>W$e(e)&&Number.isInteger(+e),wae={boolean:o1t,integer:Xie,number:Xie,date:a1t,string:l1t,unknown:fL},lN=[fbt,hbt,W$e,dbt],pbt=["boolean","integer","number","date"];function gbt(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=lN.length,s=lN.map((o,i)=>i+1);for(let o=0,i=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(s[a]&&cbt(l)&&!lN[a](l)&&(s[a]=0,++i,i===lN.length))return"string";return pbt[s.reduce((o,i)=>o===0?i:o,0)-1]}function mbt(e,t){return t.reduce((n,r)=>(n[r]=gbt(e,r),n),{})}function xae(e){const t=function(n,r){const s={delimiter:e};return sY(n,r?cC(r,s):s)};return t.responseType="text",t}function sY(e,t){return t.header&&(e=t.header.map(JK).join(t.delimiter)+`
`+e),d1t(t.delimiter).parse(e+"")}sY.responseType="text";function vbt(e){return typeof Buffer=="function"&&_c(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function oY(e,t){const n=t&&t.property?f$e(t.property):fL;return YK(e)&&!vbt(e)?ybt(n(e),t):n(JSON.parse(e))}oY.responseType="json";function ybt(e,t){return!hd(e)&&r1t(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const bbt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function U$e(e,t){let n,r,s,o;return e=oY(e,t),t&&t.feature?(n=g$e,s=t.feature):t&&t.mesh?(n=v$e,s=t.mesh,o=bbt[t.filter]):Ji("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,o):Ji("Invalid TopoJSON object: "+s),r&&r.features||[r]}U$e.responseType="json";const mz={dsv:sY,csv:xae(","),tsv:xae("	"),json:oY,topojson:U$e};function j$e(e,t){return arguments.length>1?(mz[e]=t,this):ZK(mz,e)?mz[e]:null}function wbt(e){const t=j$e(e);return t&&t.responseType||"text"}function xbt(e,t,n,r){t=t||{};const s=j$e(t.type||"json");return s||Ji("Unknown data format type: "+t.type),e=s(e,t),t.parse&&Cbt(e,t.parse,n,r),ZK(e,"columns")&&delete e.columns,e}function Cbt(e,t,n,r){if(!e.length)return;const s=cW();n=n||s.timeParse,r=r||s.utcParse;let o=e.columns||Object.keys(e[0]),i,a,l,u,c,f;t==="auto"&&(t=mbt(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!wae[p])throw Error("Illegal format pattern: "+h+":"+p);return wae[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(i=e[l],u=0;u<f;++u)a=o[u],i[a]=d[u](i[a])}const Sbt=rbt(typeof fetch<"u"&&fetch);function pL(e){const t=e||fL,n=[],r={};return n.add=s=>{const o=t(s);return r[o]||(r[o]=1,n.push(s)),n},n.remove=s=>{const o=t(s);if(r[o]){r[o]=0;const i=n.indexOf(s);i>=0&&n.splice(i,1)}return n},n}async function a3(e,t){try{await t(e)}catch(n){e.error(n)}}const H$e=Symbol("vega_id");let $bt=1;function gL(e){return!!(e&&gn(e))}function gn(e){return e[H$e]}function q$e(e,t){return e[H$e]=t,e}function _r(e){const t=e===Object(e)?e:{data:e};return gn(t)?t:q$e(t,$bt++)}function iY(e){return mL(e,_r({}))}function mL(e,t){for(const n in e)t[n]=e[n];return t}function G$e(e,t){return q$e(t,gn(e))}function xy(e,t){return e?t?(n,r)=>e(n,r)||gn(t(n))-gn(t(r)):(n,r)=>e(n,r)||gn(n)-gn(r):null}function K$e(e){return e&&e.constructor===Cy}function Cy(){const e=[],t=[],n=[],r=[],s=[];let o=null,i=!1;return{constructor:Cy,insert(a){const l=XO(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=_c(a)?r:t,u=XO(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:XK(u)};return _c(a)?(c.filter=a,s.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return _c(a)?s.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return i=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[gn(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[gn(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(y=>{p(y)&&(u[gn(y)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=gn(g),u[m]?u[m]=1:a.add.push(_r(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[gn(g)]<0&&a.rem.push(g);function v(y,w,b){b?y[w]=b(y):a.encode=w,i||(c[gn(y)]=y)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[gn(g)],m>0&&(v(g,p,h.value),a.modifies(p));for(f=0,d=s.length;f<d;++f)h=s[f],p=h.filter,l.forEach(y=>{p(y)&&u[gn(y)]>0&&v(y,h.field,h.value)}),a.modifies(h.field);if(i)a.mod=t.length||r.length?l.filter(y=>u[gn(y)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const l3="_:mod:_";function vL(){Object.defineProperty(this,l3,{writable:!0,value:{}})}vL.prototype={set(e,t,n,r){const s=this,o=s[e],i=s[l3];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,i[t+":"+e]=-1,i[e]=-1):(o!==n||r)&&(s[e]=n,i[e]=hd(n)?1+n.length:-1),s},modified(e,t){const n=this[l3];if(arguments.length){if(hd(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[l3]={},this}};let kbt=0;const Ebt="pulse",_bt=new vL,Tbt=1,Abt=2;function ts(e,t,n,r){this.id=++kbt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Cae(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ts.prototype={targets(){return this._targets||(this._targets=pL(cL))},set(e){return this.value!==e?(this.value=e,1):0},skip:Cae(Tbt),modified:Cae(Abt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new vL,s=this._argops=this._argops||[],o=[];let i,a,l,u;const c=(f,d,h)=>{h instanceof ts?(h!==this&&(t&&h.targets().add(this),o.push(h)),s.push({op:h,name:f,index:d})):r.set(f,d,h)};for(i in e)if(a=e[i],i===Ebt)XO(a).forEach(f=>{f instanceof ts?f!==this&&(f.targets().add(this),o.push(f)):Ji("Pulse parameters must be operator instances.")}),this.source=a;else if(hd(a))for(r.set(i,-1,Array(l=a.length)),u=0;u<l;++u)c(i,u,a[u]);else c(i,-1,a);return this.marshall().clear(),n&&(s.initonly=!0),o},marshall(e){const t=this._argval||_bt,n=this._argops;let r,s,o,i;if(n){const a=n.length;for(s=0;s<a;++s)r=n[s],o=r.op,i=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,i);if(n.initonly){for(s=0;s<a;++s)r=n[s],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,s;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],s=r.op,s._targets&&s._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Ibt(e,t,n,r){let s=1,o;return e instanceof ts?o=e:e&&e.prototype instanceof ts?o=new e:_c(e)?o=new ts(null,e):(s=0,o=new ts(e,t)),this.rank(o),s&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function Nbt(e,t){const n=e.rank,r=t.length;for(let s=0;s<r;++s)if(n<t[s].rank){this.rerank(e);return}}let Dbt=0;function yL(e,t,n){this.id=++Dbt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function lg(e,t,n){return new yL(e,t,n)}yL.prototype={_filter:rW,_apply:fL,targets(){return this._targets||(this._targets=pL(cL))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let s=0;s<r;++s)n[s].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=lg(e);return this.targets().add(t),t},apply(e){const t=lg(null,e);return this.targets().add(t),t},merge(){const e=lg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=lg();return this.targets().add(lg(null,null,t1t(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(lg(null,null,()=>n=!0)),t.targets().add(lg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=rW,this._targets=null}};function Obt(e,t,n,r){const s=this,o=lg(n,r),i=function(u){u.dataflow=s;try{o.receive(u)}catch(c){s.error(c)}finally{s.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=XO(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,i);return o}function Rbt(e,t){const n=this.locale();return xbt(e,t,n.timeParse,n.utcParse)}function Fbt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Mbt(e,t){const n=this;let r=0,s;try{s=await n.loader().load(e,{context:"dataflow",response:wbt(t&&t.type)});try{s=n.parse(s,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:s,status:r}}async function Pbt(e,t,n){const r=this,s=r._pending||Lbt(r);s.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(rW).insert(o.data||[])),s.done(),o}function Lbt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Bbt={skip:!0};function zbt(e,t,n,r,s){return(e instanceof ts?Wbt:Vbt)(this,e,t,n,r,s),this}function Vbt(e,t,n,r,s,o){const i=cC({},o,Bbt);let a,l;_c(n)||(n=XK(n)),r===void 0?a=u=>e.touch(n(u)):_c(r)?(l=new ts(null,r,s,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;K$e(f)?e.pulse(c,f,o):e.update(c,f,i)}):a=u=>e.update(n(u),r,i),t.apply(a)}function Wbt(e,t,n,r,s,o){if(r===void 0)t.targets().add(n);else{const i=o||{},a=new ts(null,Ubt(n,r),s,!1);a.modified(i.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function Ubt(e,t){return t=_c(t)?t:XK(t),e?function(n,r){const s=t(n,r);return e.skip()||(e.skip(s!==this.value).value=s),s}:t}function jbt(e){e.rank=++this._rank}function Hbt(e){const t=[e];let n,r,s;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(s=r.length;--s>=0;)t.push(n=r[s]),n===e&&Ji("Cycle detected in dataflow graph.")}const nR={},_f=1,yg=2,hh=4,qbt=_f|yg,Sae=_f|hh,hb=_f|yg|hh,$ae=8,gS=16,kae=32,Eae=64;function em(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function vz(e,t){const n=[];return ov(e,t,r=>n.push(r)),n}function _ae(e,t){const n={};return e.visit(t,r=>{n[gn(r)]=1}),r=>n[gn(r)]?null:r}function uN(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}em.prototype={StopPropagation:nR,ADD:_f,REM:yg,MOD:hh,ADD_REM:qbt,ADD_MOD:Sae,ALL:hb,REFLOW:$ae,SOURCE:gS,NO_SOURCE:kae,NO_FIELDS:Eae,fork(e){return new em(this.dataflow).init(this,e)},clone(){const e=this.fork(hb);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(hb|gS)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new em(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Eae)&&(n.fields=e.fields),t&_f?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&yg?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&hh?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&kae?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||hb;return t&_f&&this.add.length||t&yg&&this.rem.length||t&hh&&this.mod.length},reflow(e){if(e)return this.fork(hb).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(hh,_ae(this,_f))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return hd(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?hd(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&_f&&(n.addF=uN(n.addF,t)),e&yg&&(n.remF=uN(n.remF,t)),e&hh&&(n.modF=uN(n.modF,t)),e&gS&&(n.srcF=uN(n.srcF,t)),n},materialize(e){e=e||hb;const t=this;return e&_f&&t.addF&&(t.add=vz(t.add,t.addF),t.addF=null),e&yg&&t.remF&&(t.rem=vz(t.rem,t.remF),t.remF=null),e&hh&&t.modF&&(t.mod=vz(t.mod,t.modF),t.modF=null),e&gS&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&gS)return ov(n.source,n.srcF,r),n;e&_f&&ov(n.add,n.addF,r),e&yg&&ov(n.rem,n.remF,r),e&hh&&ov(n.mod,n.modF,r);const s=n.source;if(e&$ae&&s){const o=n.add.length+n.mod.length;o===s.length||(o?ov(s,_ae(n,Sae),r):ov(s,n.srcF,r))}return n}};function aY(e,t,n,r){const s=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const i of n)if(i.stamp===t){if(i.fields){const a=s.fields||(s.fields={});for(const l in i.fields)a[l]=1}i.changed(s.ADD)&&(o|=s.ADD),i.changed(s.REM)&&(o|=s.REM),i.changed(s.MOD)&&(o|=s.MOD)}this.changes=o}h$e(aY,em,{fork(e){const t=new em(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?hd(e)?e.some(r=>n[r]):n[e]:0},filter(){Ji("MultiPulse does not support filtering.")},materialize(){Ji("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,s=r.length;let o=0;if(e&n.SOURCE)for(;o<s;++o)r[o].visit(e,t);else for(;o<s;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Gbt(e,t,n){const r=this,s=[];if(r._pulse)return Y$e(r);if(r._pending&&await r._pending,t&&await a3(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new em(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=pL(cL);let i=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(s.push(l.async),l=nR),l!==nR&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++i}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${i} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await a3(r,c[f].callback)}return n&&await a3(r,n),s.length&&Promise.all(s).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function Kbt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Ybt(e,t,n){return this._pulse?Y$e(this):(this.evaluate(e,t,n),this)}function Xbt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function Y$e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Zbt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Jbt(e,t){const n=e.source,r=this._clock;return n&&hd(n)?new aY(this,r,n.map(s=>s.pulse),t):this._input[e.id]||Qbt(this._pulse,n&&n.pulse)}function Qbt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==nR&&(e.source=t.source),e)}const lY={skip:!1,force:!1};function ewt(e,t){const n=t||lY;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function twt(e,t,n){const r=n||lY;return(e.set(t)||r.force)&&this.touch(e,r),this}function nwt(e,t,n){this.touch(e,n||lY);const r=new em(this,this._clock+(this._pulse?0:1)),s=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,s),this}function rwt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),X$e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,swt(t,0,e)):r=n,r}}}function X$e(e,t,n,r){let s,o;const i=e[n];for(;n>t;){if(o=n-1>>1,s=e[o],r(i,s)<0){e[n]=s,n=o;continue}break}return e[n]=i}function swt(e,t,n){const r=t,s=e.length,o=e[t];let i=(t<<1)+1,a;for(;i<s;)a=i+1,a<s&&n(e[i],e[a])>=0&&(i=a),e[t]=e[i],t=i,i=(t<<1)+1;return e[t]=o,X$e(e,r,t,n)}function dw(){this.logger(e1t()),this.logLevel(d$e),this._clock=0,this._rank=0,this._locale=Qyt();try{this._loader=Sbt()}catch{}this._touched=pL(cL),this._input={},this._pulse=null,this._heap=rwt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function mS(e){return function(){return this._log[e].apply(this,arguments)}}dw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:mS("error"),warn:mS("warn"),info:mS("info"),debug:mS("debug"),logLevel:mS("level"),cleanThreshold:1e4,add:Ibt,connect:Nbt,rank:jbt,rerank:Hbt,pulse:nwt,touch:ewt,update:twt,changeset:Cy,ingest:Fbt,parse:Rbt,preload:Pbt,request:Mbt,events:Obt,on:zbt,evaluate:Gbt,run:Ybt,runAsync:Kbt,runAfter:Xbt,_enqueue:Zbt,_getPulse:Jbt};function Ke(e,t){ts.call(this,e,null,t)}h$e(Ke,ts,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Hw={};function Z$e(e){const t=J$e(e);return t&&t.Definition||null}function J$e(e){return e=e&&e.toLowerCase(),ZK(Hw,e)?Hw[e]:null}function fC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aA(e){let t=e,n=e;e.length===1&&(t=(i,a)=>e(i)-a,n=owt(e));function r(i,a,l,u){for(l==null&&(l=0),u==null&&(u=i.length);l<u;){const c=l+u>>>1;n(i[c],a)<0?l=c+1:u=c}return l}function s(i,a,l,u){for(l==null&&(l=0),u==null&&(u=i.length);l<u;){const c=l+u>>>1;n(i[c],a)>0?u=c:l=c+1}return l}function o(i,a,l,u){l==null&&(l=0),u==null&&(u=i.length);const c=r(i,a,l,u-1);return c>l&&t(i[c-1],a)>-t(i[c],a)?c-1:c}return{left:r,center:o,right:s}}function owt(e){return(t,n)=>fC(e(t),n)}function Q$e(e){return e===null?NaN:+e}function*iwt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const eke=aA(fC),Em=eke.right,awt=eke.left;aA(Q$e).center;function lwt(e,t){let n=0,r,s=0,o=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(r=i-s,s+=r/++n,o+=r*(i-s));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(r=a-s,s+=r/++n,o+=r*(a-s))}if(n>1)return o/(n-1)}function uwt(e,t){const n=lwt(e,t);return n&&Math.sqrt(n)}class Aa{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let s=0;s<this._n&&s<32;s++){const o=n[s],i=t+o,a=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);a&&(n[r++]=a),t=i}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,s,o,i=0;if(n>0){for(i=t[--n];n>0&&(r=i,s=t[--n],i=r+s,o=s-(i-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(s=o*2,r=i+s,s==r-i&&(i=r))}return i}}function cwt(e,t){return Array.from(t,n=>e[n])}var fW=Math.sqrt(50),dW=Math.sqrt(10),hW=Math.sqrt(2);function pW(e,t,n){var r,s=-1,o,i,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(a=tke(e,t,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),u=Math.round(t/a);for(l*a<e&&++l,u*a>t&&--u,i=new Array(o=u-l+1);++s<o;)i[s]=(l+s)*a}else{a=-a;let l=Math.round(e*a),u=Math.round(t*a);for(l/a<e&&++l,u/a>t&&--u,i=new Array(o=u-l+1);++s<o;)i[s]=(l+s)/a}return r&&i.reverse(),i}function tke(e,t,n){var r=(t-e)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,s);return s>=0?(o>=fW?10:o>=dW?5:o>=hW?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=fW?10:o>=dW?5:o>=hW?2:1)}function _m(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/s;return o>=fW?s*=10:o>=dW?s*=5:o>=hW&&(s*=2),t<e?-s:s}function Xv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function gW(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function nke(e,t,n=0,r=e.length-1,s=fC){for(;r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));nke(e,t,h,p,s)}const o=e[t];let i=n,a=r;for(vS(e,n,t),s(e[r],o)>0&&vS(e,n,r);i<a;){for(vS(e,i,a),++i,--a;s(e[i],o)<0;)++i;for(;s(e[a],o)>0;)--a}s(e[n],o)===0?vS(e,n,a):(++a,vS(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function vS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mW(e,t,n){if(e=Float64Array.from(iwt(e,n)),!!(r=e.length)){if((t=+t)<=0||r<2)return gW(e);if(t>=1)return Xv(e);var r,s=(r-1)*t,o=Math.floor(s),i=Xv(nke(e,o).subarray(0,o+1)),a=gW(e.subarray(o+1));return i+(a-i)*(s-o)}}function rke(e,t,n=Q$e){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function fwt(e,t){let n=0,r=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++n,r+=s);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ske(e,t){return mW(e,.5,t)}function*dwt(e){for(const t of e)yield*t}function oke(e){return Array.from(dwt(e))}function Hl(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function ike(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function*ake(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function uY(e,t,n){const r=Float64Array.from(ake(e,n));return r.sort(fC),t.map(s=>rke(r,s))}function cY(e,t){return uY(e,[.25,.5,.75],t)}function fY(e,t){const n=e.length,r=uwt(e,t),s=cY(e,t),o=(s[2]-s[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(s[0])||1)*Math.pow(n,-.2)}function lke(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),s=e.divide||[5,2];let o=e.extent[0],i=e.extent[1],a,l,u,c,f,d;const h=e.span||i-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=s.length;f<d;++f)c=a/s[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,i=Math.ceil(i/a)*a),{start:o,stop:i===o?o+a:i,step:a}}var Vc=Math.random;function hwt(e){Vc=e}function uke(e,t,n,r){if(!e.length)return[void 0,void 0];const s=Float64Array.from(ake(e,r)),o=s.length,i=t;let a,l,u,c;for(u=0,c=Array(i);u<i;++u){for(a=0,l=0;l<o;++l)a+=s[~~(Vc()*o)];c[u]=a/o}return c.sort(fC),[mW(c,n/2),mW(c,1-n/2)]}function cke(e,t,n,r){r=r||(d=>d);const s=e.length,o=new Float64Array(s);let i=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<s;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;i<a;++i)o[i]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;i<a;++i)o[i]=u;return n?pwt(o,t+t/4):o}function pwt(e,t){const n=e.length;let r=0,s=1,o,i;for(;e[r]===e[s];)++s;for(;s<n;){for(o=s+1;e[s]===e[o];)++o;if(e[s]-e[s-1]<t){for(i=s+(r+o-s-s>>1);i<s;)e[i++]=e[s];for(;i>s;)e[i--]=e[r]}r=s,s=o}return e}function gwt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function mwt(e,t){t==null&&(t=e,e=0);let n,r,s;const o={min(i){return arguments.length?(n=i||0,s=r-n,o):n},max(i){return arguments.length?(r=i||0,s=r-n,o):r},sample(){return n+Math.floor(s*Vc())},pdf(i){return i===Math.floor(i)&&i>=n&&i<r?1/s:0},cdf(i){const a=Math.floor(i);return a<n?0:a>=r?1:(a-n+1)/s},icdf(i){return i>=0&&i<=1?n-1+Math.floor(i*s):NaN}};return o.min(e).max(t)}const fke=Math.sqrt(2*Math.PI),vwt=Math.SQRT2;let yS=NaN;function bL(e,t){e=e||0,t=t??1;let n=0,r=0,s,o;if(yS===yS)n=yS,yS=NaN;else{do n=Vc()*2-1,r=Vc()*2-1,s=n*n+r*r;while(s===0||s>1);o=Math.sqrt(-2*Math.log(s)/s),n*=o,yS=r*o}return e+n*t}function dY(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*fke)}function wL(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,s=Math.abs(r);let o;if(s>37)o=0;else{const i=Math.exp(-s*s/2);let a;s<7.07106781186547?(a=.0352624965998911*s+.700383064443688,a=a*s+6.37396220353165,a=a*s+33.912866078383,a=a*s+112.079291497871,a=a*s+221.213596169931,a=a*s+220.206867912376,o=i*a,a=.0883883476483184*s+1.75566716318264,a=a*s+16.064177579207,a=a*s+86.7807322029461,a=a*s+296.564248779674,a=a*s+637.333633378831,a=a*s+793.826512519948,a=a*s+440.413735824752,o=o/a):(a=s+.65,a=s+4/a,a=s+3/a,a=s+2/a,a=s+1/a,o=i/a/2.506628274631)}return r>0?1-o:o}function xL(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*vwt*ywt(2*e-1)}function ywt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function hY(e,t){let n,r;const s={mean(o){return arguments.length?(n=o||0,s):n},stdev(o){return arguments.length?(r=o??1,s):r},sample:()=>bL(n,r),pdf:o=>dY(o,n,r),cdf:o=>wL(o,n,r),icdf:o=>xL(o,n,r)};return s.mean(e).stdev(t)}function pY(e,t){const n=hY();let r=0;const s={data(o){return arguments.length?(e=o,r=o?o.length:0,s.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=fY(e)),s):t},sample(){return e[~~(Vc()*r)]+t*n.sample()},pdf(o){let i=0,a=0;for(;a<r;++a)i+=n.pdf((o-e[a])/t);return i/t/r},cdf(o){let i=0,a=0;for(;a<r;++a)i+=n.cdf((o-e[a])/t);return i/r},icdf(){throw Error("KDE icdf not supported.")}};return s.data(e)}function gY(e,t){return e=e||0,t=t??1,Math.exp(e+bL()*t)}function mY(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*fke*e)}function vY(e,t,n){return wL(Math.log(e),t,n)}function yY(e,t,n){return Math.exp(xL(e,t,n))}function dke(e,t){let n,r;const s={mean(o){return arguments.length?(n=o||0,s):n},stdev(o){return arguments.length?(r=o??1,s):r},sample:()=>gY(n,r),pdf:o=>mY(o,n,r),cdf:o=>vY(o,n,r),icdf:o=>yY(o,n,r)};return s.mean(e).stdev(t)}function hke(e,t){let n=0,r;function s(i){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=i[u]==null?1:+i[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(i){return arguments.length?(r=s(t=i||[]),o):t},distributions(i){return arguments.length?(i?(n=i.length,e=i):(n=0,e=[]),o.weights(t)):e},sample(){const i=Vc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(i<l){a=e[u];break}return a.sample()},pdf(i){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(i);return a},cdf(i){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(i);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function bY(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Vc()}function wY(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function xY(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function CY(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function pke(e,t){let n,r;const s={min(o){return arguments.length?(n=o||0,s):n},max(o){return arguments.length?(r=o??1,s):r},sample:()=>bY(n,r),pdf:o=>wY(o,n,r),cdf:o=>xY(o,n,r),icdf:o=>CY(o,n,r)};return t==null&&(t=e??1,e=0),s.min(e).max(t)}function lA(e,t,n,r){const s=r-e*e,o=Math.abs(s)<1e-24?0:(n-e*t)/s;return[t-o*e,o]}function CL(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const s=e.length,o=new Float64Array(s),i=new Float64Array(s);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),i[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<s;++a)o[a]-=l,i[a]-=u;return[o,i,l,u]}function uA(e,t,n,r){let s=-1,o,i;for(const a of e)o=t(a),i=n(a),o!=null&&(o=+o)>=o&&i!=null&&(i=+i)>=i&&r(o,i,++s)}function dC(e,t,n,r,s){let o=0,i=0;return uA(e,t,n,(a,l)=>{const u=l-s(a),c=l-r;o+=u*u,i+=c*c}),1-o/i}function SY(e,t,n){let r=0,s=0,o=0,i=0,a=0;uA(e,t,n,(c,f)=>{++a,r+=(c-r)/a,s+=(f-s)/a,o+=(c*f-o)/a,i+=(c*c-i)/a});const l=lA(r,s,o,i),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:dC(e,t,n,s,u)}}function gke(e,t,n){let r=0,s=0,o=0,i=0,a=0;uA(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,s+=(f-s)/a,o+=(c*f-o)/a,i+=(c*c-i)/a});const l=lA(r,s,o,i),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:dC(e,t,n,s,u)}}function mke(e,t,n){const[r,s,o,i]=CL(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;uA(e,t,n,(y,w)=>{d=r[f++],h=Math.log(w),p=d*w,a+=(w*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=lA(l/i,a/i,u/i,c/i),v=y=>Math.exp(g+m*(y-o));return{coef:[Math.exp(g-m*o),m],predict:v,rSquared:dC(e,t,n,i,v)}}function vke(e,t,n){let r=0,s=0,o=0,i=0,a=0,l=0;uA(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,s+=(p-s)/l,o+=(h*p-o)/l,i+=(h*h-i)/l,a+=(d-a)/l});const u=lA(r,s,o,i),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:dC(e,t,n,a,c)}}function $Y(e,t,n){const[r,s,o,i]=CL(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=s[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const v=c-l*l,y=l*v-u*u,w=(d*l-f*u)/y,b=(f*v-d*u)/y,C=-w*l,S=$=>($=$-o,w*$*$+b*$+C+i);return{coef:[C-b*o+w*o*o+i,b-2*w*o,w],predict:S,rSquared:dC(e,t,n,i,S)}}function yke(e,t,n,r){if(r===1)return SY(e,t,n);if(r===2)return $Y(e,t,n);const[s,o,i,a]=CL(e,t,n),l=s.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(s[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(s[p],d+h);m[h]=g}c.push(m)}c.push(u);const v=wwt(c),y=w=>{w-=i;let b=a+v[0]+v[1]*w+v[2]*w*w;for(d=3;d<f;++d)b+=v[d]*Math.pow(w,d);return b};return{coef:bwt(f,v,-i,a),predict:y,rSquared:dC(e,t,n,a,y)}}function bwt(e,t,n,r){const s=Array(e);let o,i,a,l;for(o=0;o<e;++o)s[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,s[o]+=a,i=1;i<=o;++i)l*=(o+1-i)/i,s[o-i]+=a*Math.pow(n,i)*l;return s[0]+=r,s}function wwt(e){const t=e.length-1,n=[];let r,s,o,i,a;for(r=0;r<t;++r){for(i=r,s=r+1;s<t;++s)Math.abs(e[r][s])>Math.abs(e[r][i])&&(i=s);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][i],e[o][i]=a;for(s=r+1;s<t;++s)for(o=t;o>=r;o--)e[o][s]-=e[o][r]*e[r][s]/e[r][r]}for(s=t-1;s>=0;--s){for(a=0,o=s+1;o<t;++o)a+=e[o][s]*n[o];n[s]=(e[t][s]-a)/e[s][s]}return n}const Tae=2,Aae=1e-12;function bke(e,t,n,r){const[s,o,i,a]=CL(e,t,n,!0),l=s.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Tae;){const p=[0,u-1];for(let m=0;m<l;++m){const v=s[m],y=p[0],w=p[1],b=v-s[y]>s[w]-v?y:w;let C=0,S=0,$=0,k=0,T=0;const _=1/Math.abs(s[b]-v||1);for(let N=y;N<=w;++N){const F=s[N],R=o[N],P=xwt(Math.abs(v-F)*_)*d[N],I=F*P;C+=P,S+=I,$+=R*P,k+=R*I,T+=F*I}const[E,A]=lA(S/C,$/C,k/C,T/C);c[m]=E+A*v,f[m]=Math.abs(o[m]-c[m]),Cwt(s,m+1,p)}if(h===Tae)break;const g=ske(f);if(Math.abs(g)<Aae)break;for(let m=0,v,y;m<l;++m)v=f[m]/(6*g),d[m]=v>=1?Aae:(y=1-v*v)*y}return Swt(s,c,i,a)}function xwt(e){return(e=1-e*e*e)*e*e}function Cwt(e,t,n){const r=e[t];let s=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>s&&e[o]-r<=r-e[s];)n[0]=++s,n[1]=o,++o}function Swt(e,t,n,r){const s=e.length,o=[];let i=0,a=0,l=[],u;for(;i<s;++i)u=e[i]+n,l[0]===u?l[1]+=(t[i]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[i]],o.push(l));return l[1]+=r,o}const $wt=.5*Math.PI/180;function SL(e,t,n,r){n=n||25,r=Math.max(n,r||200);const s=g=>[g,e(g)],o=t[0],i=t[1],a=i-o,l=a/r,u=[s(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(s(o+g/n*a));return u.push(s(i)),u}else{c.push(s(i));for(let g=n;--g>0;)c.push(s(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=kwt(f[1],c);for(;d;){const g=s((f[0]+d[0])/2);g[0]-f[0]>=l&&Ewt(f,g,d,h,p)>$wt?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function kwt(e,t){let n=e,r=e;const s=t.length;for(let o=0;o<s;++o){const i=t[o][1];i<n&&(n=i),i>r&&(r=i)}return 1/(r-n)}function Ewt(e,t,n,r,s){const o=Math.atan2(s*(n[1]-e[1]),r*(n[0]-e[0])),i=Math.atan2(s*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-i)}var yz=new Date,bz=new Date;function ni(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=function(o){return e(o=new Date(+o)),o},s.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},s.round=function(o){var i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},s.range=function(o,i,a){var l=[],u;if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=function(o){return ni(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,a){if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););})},n&&(s.count=function(o,i){return yz.setTime(+o),bz.setTime(+i),e(yz),e(bz),Math.floor(n(yz,bz))},s.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?function(i){return r(i)%o===0}:function(i){return s.count(0,i)%o===0}):s}),s}var qw=ni(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});qw.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):qw};qw.range;const Ih=1e3,Cu=Ih*60,Nh=Cu*60,T1=Nh*24,kY=T1*7,Iae=T1*30,wz=T1*365;var Dh=ni(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Ih)},function(e,t){return(t-e)/Ih},function(e){return e.getUTCSeconds()});Dh.range;var $L=ni(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ih)},function(e,t){e.setTime(+e+t*Cu)},function(e,t){return(t-e)/Cu},function(e){return e.getMinutes()});$L.range;var kL=ni(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ih-e.getMinutes()*Cu)},function(e,t){e.setTime(+e+t*Nh)},function(e,t){return(t-e)/Nh},function(e){return e.getHours()});kL.range;var Hh=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cu)/T1,e=>e.getDate()-1);Hh.range;function Sy(e){return ni(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cu)/kY})}var hC=Sy(0),rR=Sy(1),_wt=Sy(2),Twt=Sy(3),Gw=Sy(4),Awt=Sy(5),Iwt=Sy(6);hC.range;rR.range;_wt.range;Twt.range;Gw.range;Awt.range;Iwt.range;var uE=ni(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});uE.range;var pd=ni(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});pd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ni(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};pd.range;var EL=ni(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Cu)},function(e,t){return(t-e)/Cu},function(e){return e.getUTCMinutes()});EL.range;var _L=ni(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Nh)},function(e,t){return(t-e)/Nh},function(e){return e.getUTCHours()});_L.range;var qh=ni(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/T1},function(e){return e.getUTCDate()-1});qh.range;function $y(e){return ni(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/kY})}var pC=$y(0),sR=$y(1),Nwt=$y(2),Dwt=$y(3),Kw=$y(4),Owt=$y(5),Rwt=$y(6);pC.range;sR.range;Nwt.range;Dwt.range;Kw.range;Owt.range;Rwt.range;var cE=ni(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});cE.range;var gd=ni(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});gd.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ni(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};gd.range;function wke(e,t,n,r,s,o){const i=[[Dh,1,Ih],[Dh,5,5*Ih],[Dh,15,15*Ih],[Dh,30,30*Ih],[o,1,Cu],[o,5,5*Cu],[o,15,15*Cu],[o,30,30*Cu],[s,1,Nh],[s,3,3*Nh],[s,6,6*Nh],[s,12,12*Nh],[r,1,T1],[r,2,2*T1],[n,1,kY],[t,1,Iae],[t,3,3*Iae],[e,1,wz]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=aA(([,,m])=>m).right(i,d);if(h===i.length)return e.every(_m(u/wz,c/wz,f));if(h===0)return qw.every(Math.max(_m(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[Fwt,Mwt]=wke(gd,cE,pC,qh,_L,EL),[Pwt,Lwt]=wke(pd,uE,hC,Hh,kL,$L),vi="year",xl="quarter",Qi="month",bo="week",Cl="date",ji="day",md="dayofyear",nu="hours",ru="minutes",Lu="seconds",Wc="milliseconds",EY=[vi,xl,Qi,bo,Cl,ji,md,nu,ru,Lu,Wc],xz=EY.reduce((e,t,n)=>(e[t]=1+n,e),{});function _Y(e){const t=Mn(e).slice(),n={};return t.length||gt("Missing time unit."),t.forEach(s=>{Pn(xz,s)?n[s]=1:gt("Invalid time unit: ".concat(s,"."))}),(n[bo]||n[ji]?1:0)+(n[xl]||n[Qi]||n[Cl]?1:0)+(n[md]?1:0)>1&&gt("Incompatible time units: ".concat(e)),t.sort((s,o)=>xz[s]-xz[o]),t}const Bwt={[vi]:"%Y ",[xl]:"Q%q ",[Qi]:"%b ",[Cl]:"%d ",[bo]:"W%U ",[ji]:"%a ",[md]:"%j ",[nu]:"%H:00",[ru]:"00:%M",[Lu]:":%S",[Wc]:".%L",["".concat(vi,"-").concat(Qi)]:"%Y-%m ",["".concat(vi,"-").concat(Qi,"-").concat(Cl)]:"%Y-%m-%d ",["".concat(nu,"-").concat(ru)]:"%H:%M"};function xke(e,t){const n=sr({},Bwt,t),r=_Y(e),s=r.length;let o="",i=0,a,l;for(i=0;i<s;)for(a=r.length;a>i;--a)if(l=r.slice(i,a).join("-"),n[l]!=null){o+=n[l],i=a;break}return o.trim()}const pv=new Date;function TY(e){return pv.setFullYear(e),pv.setMonth(0),pv.setDate(1),pv.setHours(0,0,0,0),pv}function Cke(e){return $ke(new Date(e))}function Ske(e){return vW(new Date(e))}function $ke(e){return Hh.count(TY(e.getFullYear())-1,e)}function vW(e){return hC.count(TY(e.getFullYear())-1,e)}function yW(e){return TY(e).getDay()}function zwt(e,t,n,r,s,o,i){if(0<=e&&e<100){const a=new Date(-1,t,n,r,s,o,i);return a.setFullYear(e),a}return new Date(e,t,n,r,s,o,i)}function kke(e){return _ke(new Date(e))}function Eke(e){return bW(new Date(e))}function _ke(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return qh.count(t-1,e)}function bW(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return pC.count(t-1,e)}function wW(e){return pv.setTime(Date.UTC(e,0,1)),pv.getUTCDay()}function Vwt(e,t,n,r,s,o,i){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,s,o,i));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,s,o,i))}function Tke(e,t,n,r,s){const o=t||1,i=Xr(e),a=(v,y,w)=>(w=w||v,Wwt(n[w],r[w],v===i&&o,y)),l=new Date,u=ap(e),c=u[vi]?a(vi):Pu(2012),f=u[Qi]?a(Qi):u[xl]?a(xl):$g,d=u[bo]&&u[ji]?a(ji,1,bo+ji):u[bo]?a(bo,1):u[ji]?a(ji,1):u[Cl]?a(Cl,1):u[md]?a(md,1):iC,h=u[nu]?a(nu):$g,p=u[ru]?a(ru):$g,g=u[Lu]?a(Lu):$g,m=u[Wc]?a(Wc):$g;return function(v){l.setTime(+v);const y=c(l);return s(y,f(l),d(l,y),h(l),p(l),g(l),m(l))}}function Wwt(e,t,n,r){const s=n<=1?e:r?(o,i)=>r+n*Math.floor((e(o,i)-r)/n):(o,i)=>n*Math.floor(e(o,i)/n);return t?(o,i)=>t(s(o,i),i):s}function Yw(e,t,n){return t+e*7-(n+6)%7}const Uwt={[vi]:e=>e.getFullYear(),[xl]:e=>Math.floor(e.getMonth()/3),[Qi]:e=>e.getMonth(),[Cl]:e=>e.getDate(),[nu]:e=>e.getHours(),[ru]:e=>e.getMinutes(),[Lu]:e=>e.getSeconds(),[Wc]:e=>e.getMilliseconds(),[md]:e=>$ke(e),[bo]:e=>vW(e),[bo+ji]:(e,t)=>Yw(vW(e),e.getDay(),yW(t)),[ji]:(e,t)=>Yw(1,e.getDay(),yW(t))},jwt={[xl]:e=>3*e,[bo]:(e,t)=>Yw(e,0,yW(t))};function Ake(e,t){return Tke(e,t||1,Uwt,jwt,zwt)}const Hwt={[vi]:e=>e.getUTCFullYear(),[xl]:e=>Math.floor(e.getUTCMonth()/3),[Qi]:e=>e.getUTCMonth(),[Cl]:e=>e.getUTCDate(),[nu]:e=>e.getUTCHours(),[ru]:e=>e.getUTCMinutes(),[Lu]:e=>e.getUTCSeconds(),[Wc]:e=>e.getUTCMilliseconds(),[md]:e=>_ke(e),[bo]:e=>bW(e),[ji]:(e,t)=>Yw(1,e.getUTCDay(),wW(t)),[bo+ji]:(e,t)=>Yw(bW(e),e.getUTCDay(),wW(t))},qwt={[xl]:e=>3*e,[bo]:(e,t)=>Yw(e,0,wW(t))};function Ike(e,t){return Tke(e,t||1,Hwt,qwt,Vwt)}const Gwt={[vi]:pd,[xl]:uE.every(3),[Qi]:uE,[bo]:hC,[Cl]:Hh,[ji]:Hh,[md]:Hh,[nu]:kL,[ru]:$L,[Lu]:Dh,[Wc]:qw},Kwt={[vi]:gd,[xl]:cE.every(3),[Qi]:cE,[bo]:pC,[Cl]:qh,[ji]:qh,[md]:qh,[nu]:_L,[ru]:EL,[Lu]:Dh,[Wc]:qw};function gC(e){return Gwt[e]}function mC(e){return Kwt[e]}function Nke(e,t,n){return e?e.offset(t,n):void 0}function Dke(e,t,n){return Nke(gC(e),t,n)}function Oke(e,t,n){return Nke(mC(e),t,n)}function Rke(e,t,n,r){return e?e.range(t,n,r):void 0}function Fke(e,t,n,r){return Rke(gC(e),t,n,r)}function Mke(e,t,n,r){return Rke(mC(e),t,n,r)}const a$=1e3,l$=a$*60,u$=l$*60,TL=u$*24,Ywt=TL*7,Nae=TL*30,xW=TL*365,Pke=[vi,Qi,Cl,nu,ru,Lu,Wc],c$=Pke.slice(0,-1),f$=c$.slice(0,-1),d$=f$.slice(0,-1),Xwt=d$.slice(0,-1),Zwt=[vi,bo],Dae=[vi,Qi],Lke=[vi],bS=[[c$,1,a$],[c$,5,5*a$],[c$,15,15*a$],[c$,30,30*a$],[f$,1,l$],[f$,5,5*l$],[f$,15,15*l$],[f$,30,30*l$],[d$,1,u$],[d$,3,3*u$],[d$,6,6*u$],[d$,12,12*u$],[Xwt,1,TL],[Zwt,1,Ywt],[Dae,1,Nae],[Dae,3,3*Nae],[Lke,1,xW]];function Bke(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(uL(t))/n;let s=aA(a=>a[2]).right(bS,r),o,i;return s===bS.length?(o=Lke,i=_m(t[0]/xW,t[1]/xW,n)):s?(s=bS[r/bS[s-1][2]<bS[s][2]/r?s-1:s],o=s[0],i=s[1]):(o=Pke,i=Math.max(_m(t[0],t[1],n),1)),{units:o,step:i}}function Jwt(e){return t=>{const n=e.length;let r=1,s=String(e[0](t));for(;r<n;++r)s+="|"+e[r](t);return s}}function CW(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Jwt(e)}function zke(e,t,n){return n||e+(t?"_"+t:"")}const Cz=()=>{},Qwt={init:Cz,add:Cz,rem:Cz,idx:0},fE={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},cA=Object.keys(fE);function ext(e,t){return n=>sr({name:e,out:n||e},Qwt,t)}cA.forEach(e=>{fE[e]=ext(e,fE[e])});function Vke(e,t){return fE[e](t)}function Wke(e,t){return e.idx-t.idx}function txt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(s=>{t[s]||n(t[s]=fE[s]())})};return e.forEach(n),Object.values(t).sort(Wke)}function nxt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function rxt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function sxt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function oxt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Uke(e,t){const n=t||Mu,r=txt(e),s=e.slice().sort(Wke);function o(i){this._ops=r,this._out=s,this.cell=i,this.init()}return o.prototype.init=nxt,o.prototype.add=rxt,o.prototype.rem=sxt,o.prototype.set=oxt,o.prototype.get=n,o.fields=e.map(i=>i.out),o}function AY(e){this._key=e?wm(e):gn,this.reset()}const Ci=AY.prototype;Ci.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Ci.add=function(e){this._add.push(e)};Ci.rem=function(e){this._rem.push(e)};Ci.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,s=t.length,o=Array(r-s),i={};let a,l,u;for(a=0;a<s;++a)i[n(t[a])]=1;for(a=0,l=0;a<r;++a)i[n(u=e[a])]?i[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};Ci.distinct=function(e){const t=this.values(),n={};let r=t.length,s=0,o;for(;--r>=0;)o=e(t[r])+"",Pn(n,o)||(n[o]=1,++s);return s};Ci.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=n$e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Ci.argmin=function(e){return this.extent(e)[0]||{}};Ci.argmax=function(e){return this.extent(e)[1]||{}};Ci.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Ci.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Ci.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=cY(this.values(),e),this._get=e),this._q};Ci.q1=function(e){return this.quartile(e)[0]};Ci.q2=function(e){return this.quartile(e)[1]};Ci.q3=function(e){return this.quartile(e)[2]};Ci.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=uke(this.values(),1e3,.05,e),this._get=e),this._ci};Ci.ci0=function(e){return this.ci(e)[0]};Ci.ci1=function(e){return this.ci(e)[1]};function Tm(e){Ke.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Tm.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:cA},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Nt(Tm,Ke,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.modified();return n.stamp=r.stamp,n.value&&(s||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=s?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),s=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<s;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function i(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<s?i(h,l,u):t[h]||e.cell(h,l)}}i("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function s(m){const v=Mn(Zi(m)),y=v.length;let w=0,b;for(;w<y;++w)r[b=v[w]]||(r[b]=1,t.push(b))}this._dims=Mn(e.groupby),this._dnames=this._dims.map(m=>{const v=Ws(m);return s(m),n.push(v),v}),this.cellkey=e.key?e.key:CW(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],i=e.ops||["count"],a=e.as||[],l=o.length,u={};let c,f,d,h,p,g;for(l!==i.length&&gt("Unmatched number of fields and aggregate ops."),g=0;g<l;++g){if(c=o[g],f=i[g],c==null&&f!=="count"&&gt("Null aggregate field specified."),h=Ws(c),p=zke(f,h,a[g]),n.push(p),f==="count"){this._counts.push(p);continue}d=u[h],d||(s(c),d=u[h]=[],d.field=c,this._measures.push(d)),f!=="count"&&(this._countOnly=!1),d.push(Vke(f,p))}return this._measures=this._measures.map(m=>Uke(m,m.field)),{}},cellkey:CW(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,s=r.length;n.agg=Array(s);for(let o=0;o<s;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new AY),n},newtuple(e,t){const n=this._dnames,r=this._dims,s=r.length,o={};for(let i=0;i<s;++i)o[n[i]]=r[i](e);return t?G$e(t.tuple,o):_r(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let s=0,o=r.length;s<o;++s)r[s].add(r[s].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let s=0,o=r.length;s<o;++s)r[s].rem(r[s].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,s=n.length;r<s;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let s=0,o=r.length;s<o;++s)r[s].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,s=this._drop,o=e.add,i=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!s||l.num)&&i.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&s?i:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const ixt=1e-14;function IY(e){Ke.call(this,null,e)}IY.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Nt(IY,Ke,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),s=r.start,o=r.step,i=e.as||["bin0","bin1"],a=i[0],l=i[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Zi(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:s+o*(1+(f-s)/o)}:c=>c[a]=r(c)),t.modifies(n?i:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=lke(e),r=n.step;let s=n.start,o=s+Math.ceil((n.stop-s)/r)*r,i,a;(i=e.anchor)!=null&&(a=i-(s+r*Math.floor((i-s)/r)),s+=a,o+=a);const l=function(u){let c=xm(t(u));return c==null?null:c<s?-1/0:c>o?1/0:(c=Math.max(s,Math.min(c,o-r)),s+r*Math.floor(ixt+(c-s)/r))};return l.start=s,l.stop=n.stop,l.step=r,this.value=Zu(l,Zi(t),e.name||"bin_"+Ws(t))}});function jke(e,t,n){const r=e;let s=t||[],o=n||[],i={},a=0;return{add:l=>o.push(l),remove:l=>i[r(l)]=++a,size:()=>s.length,data:(l,u)=>(a&&(s=s.filter(c=>!i[r(c)]),i={},a=0),u&&l&&s.sort(l),o.length&&(s=l?a$e(l,s,o.sort(l)):s.concat(o),o=[]),s)}}function NY(e){Ke.call(this,[],e)}NY.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Nt(NY,Ke,{transform(e,t){const n=t.fork(t.ALL),r=jke(gn,this.value,n.materialize(n.ADD).add),s=e.sort,o=t.changed()||s&&(e.modified("sort")||t.modified(s.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(xy(s),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function Hke(e){ts.call(this,null,axt,e)}Nt(Hke,ts);function axt(e){return this.value&&!e.modified()?this.value:e$e(e.fields,e.orders)}function DY(e){Ke.call(this,null,e)}DY.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function lxt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Nt(DY,Ke,{transform(e,t){const n=f=>d=>{for(var h=lxt(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)i.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),s=this._counts,o=this._match,i=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>s[f]=1+(s[f]||0)),c=n(f=>s[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),s=t[0],o=t[1],i=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=_r({}),l[s]=a,l[o]=u,i.add.push(l)):u===0?(l&&i.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,i.mod.push(l));return i.modifies(t)}});function OY(e){Ke.call(this,null,e)}OY.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Nt(OY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],s=r[0],o=r[1],i=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return i?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=uxt(a,s,o,e.filter||aC)):n.mod=a,n.source=this.value,n.modifies(r)}});function uxt(e,t,n,r){for(var s=[],o={},i=e.length,a=0,l,u;a<i;++a)for(o[t]=u=e[a],l=0;l<i;++l)o[n]=e[l],r(o)&&(s.push(_r(o)),o={},o[t]=u);return s}const Oae={kde:pY,mixture:hke,normal:hY,lognormal:dke,uniform:pke},cxt="distributions",Rae="function",fxt="field";function qke(e,t){const n=e[Rae];Pn(Oae,n)||gt("Unknown distribution function: "+n);const r=Oae[n]();for(const s in e)s===fxt?r.data((e.from||t()).map(e[s])):s===cxt?r[s](e[s].map(o=>qke(o,t))):typeof r[s]===Rae&&r[s](e[s]);return r}function RY(e){Ke.call(this,null,e)}const Gke=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],dxt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Gke},{name:"weights",type:"number",array:!0}]};RY.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Gke.concat(dxt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(RY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=qke(e.distribution,hxt(t)),s=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let i=e.method||"pdf";i!=="pdf"&&i!=="cdf"&&gt("Invalid density method: "+i),!e.extent&&!r.data&&gt("Missing density extent parameter."),i=r[i];const a=e.as||["value","density"],l=e.extent||Cm(r.data()),u=SL(i,l,s,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],_r(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function hxt(e){return()=>e.materialize(e.SOURCE).source}function Kke(e,t){return e?e.map((n,r)=>t[r]||Ws(n)):null}function FY(e,t,n){const r=[],s=f=>f(l);let o,i,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},i=0,a=e.length;i<a;++i)l=e[i],u=t.map(s),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const Yke="bin";function MY(e){Ke.call(this,null,e)}MY.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Yke}]};const pxt=(e,t)=>uL(Cm(e,t))/30;Nt(MY,Ke,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=FY(t.source,e.groupby,Mu),s=e.smooth||!1,o=e.field,i=e.step||pxt(n,o),a=xy((p,g)=>o(p)-o(g)),l=e.as||Yke,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of cke(p,i,s,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:i},t.reflow(!0).modifies(l)}});function Xke(e){ts.call(this,null,gxt,e),this.modified(!0)}Nt(Xke,ts);function gxt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Zu(n=>t(n,e),Zi(t),Ws(t))}function PY(e){Ke.call(this,[void 0,void 0],e)}PY.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Nt(PY,Ke,{transform(e,t){const n=this.value,r=e.field,s=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],i=n[1];if((s||o==null)&&(o=1/0,i=-1/0),t.visit(s?t.SOURCE:t.ADD,a=>{const l=xm(r(a));l!=null&&(l<o&&(o=l),l>i&&(i=l))}),!Number.isFinite(o)||!Number.isFinite(i)){let a=Ws(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${i}]`),o=i=void 0}this.value=[o,i]}});function LY(e,t){ts.call(this,e),this.parent=t,this.count=0}Nt(LY,ts,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function AL(e){Ke.call(this,{},e),this._keys=lC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,s=t.active;r<s;++r)n(t[r],r,t)}}Nt(AL,Ke,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const s=this.value;let o=Pn(s,e)&&s[e],i,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,o=new LY(n.fork(n.NO_SOURCE),this),i.add(o).connect(t(i,e,a)),s[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let s=0;for(;s<r;++s)t[s]=e[s];for(;s<n&&t[s]!=null;++s)t[s]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,s=e.subflow,o=this._keys,i=e.modified("key"),a=l=>this.subflow(l,s,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=gn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(gn(l),u),a(u).add(l)}),i||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=gn(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(gn(l))).mod(l)}),i&&t.visit(t.REFLOW,l=>{const u=gn(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Zke(e){ts.call(this,null,mxt,e)}Nt(Zke,ts);function mxt(e){return this.value&&!e.modified()?this.value:jn(e.name)?Mn(e.name).map(t=>wm(t)):wm(e.name,e.as)}function BY(e){Ke.call(this,lC(),e)}BY.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Nt(BY,Ke,{transform(e,t){const n=t.dataflow,r=this.value,s=t.fork(),o=s.add,i=s.rem,a=s.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=gn(f);r.has(d)?r.delete(d):i.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(gn(f),1)});function c(f){const d=gn(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),i.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),s}});function zY(e){Ke.call(this,[],e)}zY.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Nt(zY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=Kke(r,e.as||[]),o=e.index||null,i=s.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=iY(a),f=0;f<i;++f)d[s[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(s)}});function VY(e){Ke.call(this,[],e)}VY.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Nt(VY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=r.map(Ws),o=e.as||["key","value"],i=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=iY(u),f[i]=s[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function WY(e){Ke.call(this,null,e)}WY.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Nt(WY,Ke,{transform(e,t){const n=e.expr,r=e.as,s=e.modified(),o=e.initonly?t.ADD:s?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return s&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,i=>i[r]=n(i,e))}});function Jke(e){Ke.call(this,[],e)}Nt(Jke,Ke,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let s=this.value,o=e.size-s.length,i,a,l;if(o>0){for(i=[];--o>=0;)i.push(l=_r(r(e))),s.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(i):i}else a=s.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,s=s.slice(-o);return n.source=this.value=s,n}});const cN={value:"value",median:ske,mean:fwt,min:gW,max:Xv},vxt=[];function UY(e){Ke.call(this,[],e)}UY.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function yxt(e){var t=e.method||cN.value,n;if(cN[t]==null)gt("Unrecognized imputation method: "+t);else return t===cN.value?(n=e.value!==void 0?e.value:0,()=>n):cN[t]}function bxt(e){const t=e.field;return n=>n?t(n):NaN}Nt(UY,Ke,{transform(e,t){var n=t.fork(t.ALL),r=yxt(e),s=bxt(e),o=Ws(e.field),i=Ws(e.key),a=(e.groupby||[]).map(Ws),l=wxt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,v,y,w,b,C;for(m=0,w=l.length;m<w;++m)for(d=l[m],p=d.values,h=NaN,y=0;y<f;++y)if(d[y]==null){for(g=l.domain[y],C={_impute:!0},v=0,b=p.length;v<b;++v)C[a[v]]=p[v];C[i]=g,C[o]=Number.isNaN(h)?h=r(d,s):h,u.push(_r(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function wxt(e,t,n,r){var s=v=>v(m),o=[],i=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(i.forEach((v,y)=>a[v]=y+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=i.push(p)),c=(u=t?t.map(s):vxt)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=i,o}function jY(e){Tm.call(this,e)}jY.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:cA},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Nt(jY,Tm,{transform(e,t){const n=this,r=e.modified();let s;return n.value&&(r||t.modified(n._inputs,!0))?(s=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(s=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{sr(o,s[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function HY(e){Ke.call(this,null,e)}HY.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(HY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=FY(r,e.groupby,e.field),o=(e.groupby||[]).map(Ws),i=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&gt("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Cm(r,e.field)),f=d=e.steps||d),s.forEach(h=>{const p=pY(h,i)[a],g=e.counts?h.length:1,m=c||Cm(h);SL(p,m,f,d).forEach(v=>{const y={};for(let w=0;w<o.length;++w)y[o[w]]=h.dims[w];y[l[0]]=v[0],y[l[1]]=v[1]*g,u.push(_r(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Qke(e){ts.call(this,null,xxt,e)}Nt(Qke,ts);function xxt(e){return this.value&&!e.modified()?this.value:o$e(e.fields,e.flat)}function eEe(e){Ke.call(this,[],e),this._pending=null}Nt(eEe,Ke,{transform(e,t){const n=t.dataflow;return this._pending?Sz(this,t,this._pending):Cxt(e)?t.StopPropagation:e.values?Sz(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(s=>(this._pending=Mn(s.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>Sz(this,t,Mn(r.data)))}});function Cxt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Sz(e,t,n){n.forEach(_r);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function qY(e){Ke.call(this,{},e)}qY.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Nt(qY,Ke,{transform(e,t){const n=e.fields,r=e.index,s=e.values,o=e.default==null?null:e.default,i=e.modified(),a=n.length;let l=i?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return s?(d=s.length,a>1&&!c&&gt('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&gt('The "as" parameter has too few output field names.'),c=c||s.map(Ws),f=function(p){for(var g=0,m=0,v,y;g<a;++g)if(y=r.get(n[g](p)),y==null)for(v=0;v<d;++v,++m)p[c[m]]=o;else for(v=0;v<d;++v,++m)p[c[m]]=s[v](y)}):(c||gt("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),i?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function tEe(e){ts.call(this,null,Sxt,e)}Nt(tEe,ts);function Sxt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,s=-1/0,o,i;for(o=0;o<n;++o)i=t[o],i[0]<r&&(r=i[0]),i[1]>s&&(s=i[1]);return[r,s]}function nEe(e){ts.call(this,null,$xt,e)}Nt(nEe,ts);function $xt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function rEe(e){Ke.call(this,null,e)}Nt(rEe,Ke,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function GY(e){Tm.call(this,e)}GY.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:cA,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Nt(GY,Tm,{_transform:Tm.prototype.transform,transform(e,t){return this._transform(kxt(e,t),t)}});function kxt(e,t){const n=e.field,r=e.value,s=(e.op==="count"?"__count__":e.op)||"sum",o=Zi(n).concat(Zi(r)),i=_xt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:i.map(()=>s),fields:i.map(a=>Ext(a,n,r,o)),as:i.map(a=>a+""),modified:e.modified.bind(e)}}function Ext(e,t,n,r){return Zu(s=>t(s)===e?n(s):NaN,r,e+"")}function _xt(e,t,n){const r={},s=[];return n.visit(n.SOURCE,o=>{const i=e(o);r[i]||(r[i]=1,s.push(i))}),s.sort(aL),t?s.slice(0,t):s}function sEe(e){AL.call(this,e)}Nt(sEe,AL,{transform(e,t){const n=e.subflow,r=e.field,s=o=>this.subflow(gn(o),n,t,o);return(e.modified("field")||r&&t.modified(Zi(r)))&&gt("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const i=s(o);r(o).forEach(a=>i.mod(a))}),t.visit(t.ADD,o=>{const i=s(o);r(o).forEach(a=>i.add(_r(a)))}),t.visit(t.REM,o=>{const i=s(o);r(o).forEach(a=>i.rem(a))})):(t.visit(t.MOD,o=>s(o).mod(o)),t.visit(t.ADD,o=>s(o).add(o)),t.visit(t.REM,o=>s(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function KY(e){Ke.call(this,null,e)}KY.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Nt(KY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,s=Kke(e.fields,e.as||[]),o=r?(a,l)=>Txt(a,l,r,s):mL;let i;return this.value?i=this.value:(t=t.addAll(),i=this.value={}),t.visit(t.REM,a=>{const l=gn(a);n.rem.push(i[l]),i[l]=null}),t.visit(t.ADD,a=>{const l=o(a,_r({}));i[gn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,i[gn(a)]))}),n}});function Txt(e,t,n,r){for(let s=0,o=n.length;s<o;++s)t[r[s]]=n[s](e);return t}function oEe(e){Ke.call(this,null,e)}Nt(oEe,Ke,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function YY(e){Ke.call(this,null,e)}YY.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Axt=1e-14;Nt(YY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const s=t.materialize(t.SOURCE).source,o=FY(s,e.groupby,e.field),i=(e.groupby||[]).map(Ws),a=[],l=e.step||.01,u=e.probs||Hl(l/2,1-Axt,l),c=u.length;return o.forEach(f=>{const d=uY(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<i.length;++g)p[i[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(_r(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function iEe(e){Ke.call(this,null,e)}Nt(iEe,Ke,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,s=>{const o=gn(s);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,s=>{const o=iY(s);r[gn(s)]=o,n.add.push(o)}),t.visit(t.MOD,s=>{const o=r[gn(s)];for(const i in s)o[i]=s[i],n.modifies(i);n.mod.push(o)})),n}});function XY(e){Ke.call(this,[],e),this.count=0}XY.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Nt(XY,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),s=e.size,o=this.value.reduce((c,f)=>(c[gn(f)]=1,c),{});let i=this.value,a=this.count,l=0;function u(c){let f,d;i.length<s?i.push(c):(d=~~((a+1)*Vc()),d<i.length&&d>=l&&(f=i[d],o[gn(f)]&&n.rem.push(f),i[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=gn(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),i=i.filter(c=>o[gn(c)]!==-1)),(t.rem.length||r)&&i.length<s&&t.source&&(l=a=i.length,t.visit(t.SOURCE,c=>{o[gn(c)]||u(c)}),l=-1),r&&i.length>s){const c=i.length-s;for(let f=0;f<c;++f)o[gn(i[f])]=-1,n.rem.push(i[f]);i=i.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[gn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=i.filter(c=>!o[gn(c)])),this.count=a,this.value=n.source=i,n}});function ZY(e){Ke.call(this,null,e)}ZY.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Nt(ZY,Ke,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Hl(e.start,e.stop,e.step||1).map(s=>{const o={};return o[r]=s,_r(o)}),n.add=t.add.concat(this.value),n}});function aEe(e){Ke.call(this,null,e),this.modified(!0)}Nt(aEe,Ke,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function JY(e){Ke.call(this,null,e)}const lEe=["unit0","unit1"];JY.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:EY,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:lEe}]};Nt(JY,Ke,{transform(e,t){const n=e.field,r=e.interval!==!1,s=e.timezone==="utc",o=this._floor(e,t),i=(s?mC:gC)(o.unit).offset,a=e.as||lEe,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Zi(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,v;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=v=o(g),r&&(p[u]=v=i(m,c)),m<f&&(f=m),v>d&&(d=v))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:s}=e.units?{units:e.units,step:e.step||1}:Bke({extent:e.extent||Cm(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=_Y(r),i=this.value||{},a=(n?Ike:Ake)(o,s);return a.unit=Xr(o),a.units=o,a.step=s,a.start=i.start,a.stop=i.stop,this.value=a}});function uEe(e){Ke.call(this,lC(),e)}Nt(uEe,Ke,{transform(e,t){const n=t.dataflow,r=e.field,s=this.value,o=a=>s.set(r(a),a);let i=!0;return e.modified("field")||t.modified(r.fields)?(s.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>s.delete(r(a))),t.visit(t.ADD,o)):i=!1,this.modified(i),s.empty>n.cleanThreshold&&n.runAfter(s.clean),t.fork()}});function cEe(e){Ke.call(this,null,e)}Nt(cEe,Ke,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(xy(e.sort)):t.source).map(e.field))}});function Ixt(e,t,n,r){const s=dE[e](t,n);return{init:s.init||$g,update:function(o,i){i[r]=s.next(o)}}}const dE={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=dE.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let s=t.index;if(e<s){for(;s+1<n.length&&!r(n[s],n[s+1]);)++s;e=s}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||gt("ntile num must be greater than zero.");const n=dE.cume_dist(),r=n.next;return{init:n.init,next:s=>Math.ceil(t*r(s))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,s=n.data;return r<s.length?e(s[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||gt("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const s=r.data;return r.index<=n?t:(n=Nxt(e,s,r.index))<0?(n=s.length,t=null):t=e(s[n])}}}};function Nxt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Dxt=Object.keys(dE);function fEe(e){const t=Mn(e.ops),n=Mn(e.fields),r=Mn(e.params),s=Mn(e.as),o=this.outputs=[],i=this.windows=[],a={},l={},u=[],c=[];let f=!0;function d(h){Mn(Zi(h)).forEach(p=>a[p]=1)}d(e.sort),t.forEach((h,p)=>{const g=n[p],m=Ws(g),v=zke(h,m,s[p]);if(d(g),o.push(v),Pn(dE,h))i.push(Ixt(h,n[p],r[p],v));else{if(g==null&&h!=="count"&&gt("Null aggregate field specified."),h==="count"){u.push(v);return}f=!1;let y=l[m];y||(y=l[m]=[],y.field=g,c.push(y)),y.push(Vke(h,v))}}),(u.length||c.length)&&(this.cell=Oxt(c,u,f)),this.inputs=Object.keys(a)}const dEe=fEe.prototype;dEe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};dEe.update=function(e,t){const n=this.cell,r=this.windows,s=e.data,o=r&&r.length;let i;if(n){for(i=e.p0;i<e.i0;++i)n.rem(s[i]);for(i=e.p1;i<e.i1;++i)n.add(s[i]);n.set(t)}for(i=0;i<o;++i)r[i].update(e,t)};function Oxt(e,t,n){e=e.map(l=>Uke(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var s=e.length,o=r.agg=Array(s),i=0;i<s;++i)o[i]=new e[i](r);if(r.store)var a=r.data=new AY;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<s;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<s;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<s;++l)o[l].init()},r}function QY(e){Ke.call(this,{},e),this._mlen=0,this._mods=[]}QY.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Dxt.concat(cA)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Nt(QY,Ke,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=xy(e.sort),s=CW(e.groupby),o=a=>this.group(s(a));let i=this.state;(!i||n)&&(i=this.state=new fEe(e)),n||t.modified(i.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Rxt(this._mods[a],i,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(i.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=jke(gn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Rxt(e,t,n,r){const s=r.sort,o=s&&!r.ignorePeers,i=r.frame||[null,0],a=e.data(n),l=a.length,u=o?aA(s):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:s||Pu(-1)};t.init();for(let f=0;f<l;++f)Fxt(c,i,f,l),o&&Mxt(c,u),t.update(c,a[f])}function Fxt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Mxt(e,t){const n=e.i0,r=e.i1-1,s=e.compare,o=e.data,i=o.length-1;n>0&&!s(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<i&&!s(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const Pxt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Tm,bin:IY,collect:NY,compare:Hke,countpattern:DY,cross:OY,density:RY,dotbin:MY,expression:Xke,extent:PY,facet:AL,field:Zke,filter:BY,flatten:zY,fold:VY,formula:WY,generate:Jke,impute:UY,joinaggregate:jY,kde:HY,key:Qke,load:eEe,lookup:qY,multiextent:tEe,multivalues:nEe,params:rEe,pivot:GY,prefacet:sEe,project:KY,proxy:oEe,quantile:YY,relay:iEe,sample:XY,sequence:ZY,sieve:aEe,subflow:LY,timeunit:JY,tupleindex:uEe,values:cEe,window:QY},Symbol.toStringTag,{value:"Module"}));function vC(e,t,n){return e.fields=t||[],e.fname=n,e}function Lxt(e){return e.length===1?Bxt(e[0]):zxt(e)}const Bxt=e=>function(t){return t[e]},zxt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function $z(e){throw Error(e)}function Vxt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||$z("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&$z("Access path missing closing bracket: "+e),r&&$z("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function Wxt(e,t,n){const r=Vxt(e);return e=r.length===1?r[0]:e,vC(Lxt(r),[e],e)}Wxt("id");vC(e=>e,[],"identity");vC(()=>0,[],"zero");vC(()=>1,[],"one");const hEe=vC(()=>!0,[],"true");vC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var ky=Array.isArray;function Uxt(e){return e===Object(e)}function u3(e){return e[e.length-1]}function jxt(e){return e==null||e===""?null:+e}function Hxt(e){return e!=null?ky(e)?e:[e]:[]}function pEe(e){return typeof e=="function"}function qxt(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function kg(e,t){return Object.hasOwn(e,t)}function Ey(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),qxt(r,n)}const Gxt=1e4;function Kxt(e){e=+e||Gxt;let t,n,r;const s=()=>{t={},n={},r=0},o=(i,a)=>(++r>e&&(n=t,t={},r=1),t[i]=a);return s(),{clear:s,has:i=>kg(t,i)||kg(n,i),get:i=>kg(t,i)?t[i]:kg(n,i)?o(i,n[i]):void 0,set:(i,a)=>kg(t,i)?t[i]=a:o(i,a)}}function gEe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Ir(e){return function(){return e}}const Fae=Math.abs,ki=Math.atan2,B0=Math.cos,Yxt=Math.max,kz=Math.min,yf=Math.sin,_v=Math.sqrt,Ti=1e-12,Xw=Math.PI,oR=Xw/2,mEe=2*Xw;function Xxt(e){return e>1?0:e<-1?Xw:Math.acos(e)}function Mae(e){return e>=1?oR:e<=-1?-oR:Math.asin(e)}const SW=Math.PI,$W=2*SW,iv=1e-6,Zxt=$W-iv;function vEe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jxt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vEe;const n=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}let eX=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vEe:Jxt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,o,i){this._append`C${+t},${+n},${+r},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(t,n,r,s,o){if(t=+t,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=r-t,u=s-n,c=i-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>iv)if(!(Math.abs(f*l-u*c)>iv)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-i,p=s-a,g=l*l+u*u,m=h*h+p*p,v=Math.sqrt(g),y=Math.sqrt(d),w=o*Math.tan((SW-Math.acos((g+d-m)/(2*v*y)))/2),b=w/y,C=w/v;Math.abs(b-1)>iv&&this._append`L${t+b*c},${n+b*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,s,o,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(s),l=r*Math.sin(s),u=t+a,c=n+l,f=1^i,d=i?s-o:o-s;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>iv||Math.abs(this._y1-c)>iv)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%$W+$W),d>Zxt?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>iv&&this._append`A${r},${r},0,${+(d>=SW)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}};function tX(){return new eX}tX.prototype=eX.prototype;function IL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eX(t)}function Qxt(e){return e.innerRadius}function e2t(e){return e.outerRadius}function t2t(e){return e.startAngle}function n2t(e){return e.endAngle}function r2t(e){return e&&e.padAngle}function s2t(e,t,n,r,s,o,i,a){var l=n-e,u=r-t,c=i-s,f=a-o,d=f*l-c*u;if(!(d*d<Ti))return d=(c*(t-o)-f*(e-s))/d,[e+d*l,t+d*u]}function fN(e,t,n,r,s,o,i){var a=e-n,l=t-r,u=(i?o:-o)/_v(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,v=(h+g)/2,y=p-d,w=g-h,b=y*y+w*w,C=s-o,S=d*g-p*h,$=(w<0?-1:1)*_v(Yxt(0,C*C*b-S*S)),k=(S*w-y*$)/b,T=(-S*y-w*$)/b,_=(S*w+y*$)/b,E=(-S*y+w*$)/b,A=k-m,N=T-v,F=_-m,R=E-v;return A*A+N*N>F*F+R*R&&(k=_,T=E),{cx:k,cy:T,x01:-c,y01:-f,x11:k*(s/C-1),y11:T*(s/C-1)}}function o2t(){var e=Qxt,t=e2t,n=Ir(0),r=null,s=t2t,o=n2t,i=r2t,a=null,l=IL(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=s.apply(this,arguments)-oR,g=o.apply(this,arguments)-oR,m=Fae(g-p),v=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>Ti))a.moveTo(0,0);else if(m>mEe-Ti)a.moveTo(h*B0(p),h*yf(p)),a.arc(0,0,h,p,g,!v),d>Ti&&(a.moveTo(d*B0(g),d*yf(g)),a.arc(0,0,d,g,p,v));else{var y=p,w=g,b=p,C=g,S=m,$=m,k=i.apply(this,arguments)/2,T=k>Ti&&(r?+r.apply(this,arguments):_v(d*d+h*h)),_=kz(Fae(h-d)/2,+n.apply(this,arguments)),E=_,A=_,N,F;if(T>Ti){var R=Mae(T/d*yf(k)),P=Mae(T/h*yf(k));(S-=R*2)>Ti?(R*=v?1:-1,b+=R,C-=R):(S=0,b=C=(p+g)/2),($-=P*2)>Ti?(P*=v?1:-1,y+=P,w-=P):($=0,y=w=(p+g)/2)}var I=h*B0(y),D=h*yf(y),M=d*B0(C),z=d*yf(C);if(_>Ti){var W=h*B0(w),H=h*yf(w),U=d*B0(b),K=d*yf(b),G;if(m<Xw)if(G=s2t(I,D,U,K,W,H,M,z)){var re=I-G[0],ue=D-G[1],ae=W-G[0],X=H-G[1],J=1/yf(Xxt((re*ae+ue*X)/(_v(re*re+ue*ue)*_v(ae*ae+X*X)))/2),q=_v(G[0]*G[0]+G[1]*G[1]);E=kz(_,(d-q)/(J-1)),A=kz(_,(h-q)/(J+1))}else E=A=0}$>Ti?A>Ti?(N=fN(U,K,I,D,h,A,v),F=fN(W,H,M,z,h,A,v),a.moveTo(N.cx+N.x01,N.cy+N.y01),A<_?a.arc(N.cx,N.cy,A,ki(N.y01,N.x01),ki(F.y01,F.x01),!v):(a.arc(N.cx,N.cy,A,ki(N.y01,N.x01),ki(N.y11,N.x11),!v),a.arc(0,0,h,ki(N.cy+N.y11,N.cx+N.x11),ki(F.cy+F.y11,F.cx+F.x11),!v),a.arc(F.cx,F.cy,A,ki(F.y11,F.x11),ki(F.y01,F.x01),!v))):(a.moveTo(I,D),a.arc(0,0,h,y,w,!v)):a.moveTo(I,D),!(d>Ti)||!(S>Ti)?a.lineTo(M,z):E>Ti?(N=fN(M,z,W,H,d,-E,v),F=fN(I,D,U,K,d,-E,v),a.lineTo(N.cx+N.x01,N.cy+N.y01),E<_?a.arc(N.cx,N.cy,E,ki(N.y01,N.x01),ki(F.y01,F.x01),!v):(a.arc(N.cx,N.cy,E,ki(N.y01,N.x01),ki(N.y11,N.x11),!v),a.arc(0,0,d,ki(N.cy+N.y11,N.cx+N.x11),ki(F.cy+F.y11,F.cx+F.x11),v),a.arc(F.cx,F.cy,E,ki(F.y11,F.x11),ki(F.y01,F.x01),!v))):a.arc(0,0,d,C,b,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Xw/2;return[B0(f)*c,yf(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ir(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ir(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ir(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ir(+c),u):r},u.startAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Ir(+c),u):s},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ir(+c),u):o},u.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ir(+c),u):i},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function yEe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bEe(e){this._context=e}bEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nX(e){return new bEe(e)}function wEe(e){return e[0]}function xEe(e){return e[1]}function CEe(e,t){var n=Ir(!0),r=null,s=nX,o=null,i=IL(a);e=typeof e=="function"?e:e===void 0?wEe:Ir(e),t=typeof t=="function"?t:t===void 0?xEe:Ir(t);function a(l){var u,c=(l=yEe(l)).length,f,d=!1,h;for(r==null&&(o=s(h=i())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ir(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ir(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ir(!!l),a):n},a.curve=function(l){return arguments.length?(s=l,r!=null&&(o=s(r)),a):s},a.context=function(l){return arguments.length?(l==null?r=o=null:o=s(r=l),a):r},a}function SEe(e,t,n){var r=null,s=Ir(!0),o=null,i=nX,a=null,l=IL(u);e=typeof e=="function"?e:e===void 0?wEe:Ir(+e),t=typeof t=="function"?t:Ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xEe:Ir(+n);function u(f){var d,h,p,g=(f=yEe(f)).length,m,v=!1,y,w=new Array(g),b=new Array(g);for(o==null&&(a=i(y=l())),d=0;d<=g;++d){if(!(d<g&&s(m=f[d],d,f))===v)if(v=!v)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(w[p],b[p]);a.lineEnd(),a.areaEnd()}v&&(w[d]=+e(m,d,f),b[d]=+t(m,d,f),a.point(r?+r(m,d,f):w[d],n?+n(m,d,f):b[d]))}if(y)return a=null,y+""||null}function c(){return CEe().defined(s).curve(i).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ir(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ir(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ir(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,o!=null&&(a=i(o)),u):i},u.context=function(f){return arguments.length?(f==null?o=a=null:a=i(o=f),u):o},u}const i2t={draw(e,t){const n=_v(t/Xw);e.moveTo(n,0),e.arc(0,0,n,0,mEe)}};function a2t(e,t){let n=null,r=IL(s);e=typeof e=="function"?e:Ir(e||i2t),t=typeof t=="function"?t:Ir(t===void 0?64:+t);function s(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ir(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ir(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Am(){}function iR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NL(e){this._context=e}NL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l2t(e){return new NL(e)}function $Ee(e){this._context=e}$Ee.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u2t(e){return new $Ee(e)}function kEe(e){this._context=e}kEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c2t(e){return new kEe(e)}function EEe(e,t){this._basis=new NL(e),this._beta=t}EEe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],s=t[0],o=e[n]-r,i=t[n]-s,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(s+l*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const f2t=(function e(t){function n(r){return t===1?new NL(r):new EEe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function aR(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function rX(e,t){this._context=e,this._k=(1-t)/6}rX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aR(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:aR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const d2t=(function e(t){function n(r){return new rX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function sX(e,t){this._context=e,this._k=(1-t)/6}sX.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:aR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const h2t=(function e(t){function n(r){return new sX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function oX(e,t){this._context=e,this._k=(1-t)/6}oX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const p2t=(function e(t){function n(r){return new oX(r,t)}return n.tension=function(r){return e(+r)},n})(0);function iX(e,t,n){var r=e._x1,s=e._y1,o=e._x2,i=e._y2;if(e._l01_a>Ti){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ti){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,i=(i*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,s,o,i,e._x2,e._y2)}function _Ee(e,t){this._context=e,this._alpha=t}_Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:iX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const g2t=(function e(t){function n(r){return t?new _Ee(r,t):new rX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function TEe(e,t){this._context=e,this._alpha=t}TEe.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:iX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m2t=(function e(t){function n(r){return t?new TEe(r,t):new sX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function AEe(e,t){this._context=e,this._alpha=t}AEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iX(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const v2t=(function e(t){function n(r){return t?new AEe(r,t):new oX(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function IEe(e){this._context=e}IEe.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function y2t(e){return new IEe(e)}function Pae(e){return e<0?-1:1}function Lae(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),i=(n-e._y1)/(s||r<0&&-0),a=(o*s+i*r)/(r+s);return(Pae(o)+Pae(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(a))||0}function Bae(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ez(e,t,n){var r=e._x0,s=e._y0,o=e._x1,i=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,s+a*t,o-a,i-a*n,o,i)}function lR(e){this._context=e}lR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ez(this,this._t0,Bae(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ez(this,Bae(this,n=Lae(this,e,t)),n);break;default:Ez(this,this._t0,n=Lae(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NEe(e){this._context=new DEe(e)}(NEe.prototype=Object.create(lR.prototype)).point=function(e,t){lR.prototype.point.call(this,t,e)};function DEe(e){this._context=e}DEe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function b2t(e){return new lR(e)}function w2t(e){return new NEe(e)}function OEe(e){this._context=e}OEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zae(e),s=zae(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zae(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),i=new Array(n);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function x2t(e){return new OEe(e)}function DL(e,t){this._context=e,this._t=t}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function C2t(e){return new DL(e,.5)}function S2t(e){return new DL(e,0)}function $2t(e){return new DL(e,1)}function c0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const k2t=()=>typeof Image<"u"?Image:null;function j$(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E2t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aX(e){let t,n,r;e.length!==2?(t=j$,n=(a,l)=>j$(e(a),l),r=(a,l)=>e(a)-l):(t=e===j$||e===E2t?e:_2t,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function _2t(){return 0}function REe(e){return e===null?NaN:+e}const T2t=aX(j$),A1=T2t.right;aX(REe).center;const A2t=Math.sqrt(50),I2t=Math.sqrt(10),N2t=Math.sqrt(2);function uR(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=A2t?10:o>=I2t?5:o>=N2t?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?uR(e,t,n*2):[a,l,u]}function kW(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,i]=r?uR(t,e,n):uR(e,t,n);if(!(o>=s))return[];const a=o-s+1,l=new Array(a);if(r)if(i<0)for(let u=0;u<a;++u)l[u]=(o-u)/-i;else for(let u=0;u<a;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<a;++u)l[u]=(s+u)/-i;else for(let u=0;u<a;++u)l[u]=(s+u)*i;return l}function EW(e,t,n){return t=+t,e=+e,n=+n,uR(e,t,n)[2]}function _W(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?EW(t,e,n):EW(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function D2t(e,t,n=REe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function O2t(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function R2t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zw(e){return e=cR(Math.abs(e)),e?e[1]:NaN}function F2t(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function M2t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var P2t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hE(e){if(!(t=P2t.exec(e)))throw new Error("invalid format: "+e);var t;return new lX({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hE.prototype=lX.prototype;function lX(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lX.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L2t(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var FEe;function B2t(e,t){var n=cR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(FEe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cR(e,Math.max(0,t+o-1))[0]}function Vae(e,t){var n=cR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Wae={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:R2t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vae(e*100,t),r:Vae,s:B2t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Uae(e){return e}var jae=Array.prototype.map,Hae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z2t(e){var t=e.grouping===void 0||e.thousands===void 0?Uae:F2t(jae.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Uae:M2t(jae.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=hE(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,w=f.precision,b=f.trim,C=f.type;C==="n"?(y=!0,C="g"):Wae[C]||(w===void 0&&(w=12),b=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=Wae[C],T=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(E){var A=S,N=$,F,R,P;if(C==="c")N=k(E)+N,E="";else{E=+E;var I=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),w),b&&(E=L2t(E)),I&&+E==0&&p!=="+"&&(I=!1),A=(I?p==="("?p:a:p==="-"||p==="("?"":p)+A,N=(C==="s"?Hae[8+FEe/3]:"")+N+(I&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(P=E.charCodeAt(F),48>P||P>57){N=(P===46?s+E.slice(F+1):E.slice(F))+N,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var D=A.length+E.length+N.length,M=D<v?new Array(v-D+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-N.length:1/0),M=""),h){case"<":E=A+E+N+M;break;case"=":E=A+M+E+N;break;case"^":E=M.slice(0,D=M.length>>1)+A+E+N+M.slice(D);break;default:E=M+A+E+N;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=hE(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Zw(d)/3)))*3,g=Math.pow(10,-p),m=Hae[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var dN,uX,MEe;V2t({thousands:",",grouping:[3],currency:["$",""]});function V2t(e){return dN=z2t(e),uX=dN.format,MEe=dN.formatPrefix,dN}function W2t(e){return Math.max(0,-Zw(Math.abs(e)))}function U2t(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zw(t)/3)))*3-Zw(Math.abs(e)))}function j2t(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zw(t)-Zw(e))+1}const _z=new Date,Tz=new Date;function No(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>No(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(_z.setTime(+o),Tz.setTime(+i),e(_z),e(Tz),Math.floor(n(_z,Tz))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const fR=No(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fR.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?No(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fR);fR.range;const Oh=1e3,Su=Oh*60,Rh=Su*60,lp=Rh*24,cX=lp*7,qae=lp*30,Az=lp*365,Tv=No(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oh)},(e,t)=>(t-e)/Oh,e=>e.getUTCSeconds());Tv.range;const fX=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oh)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getMinutes());fX.range;const dX=No(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getUTCMinutes());dX.range;const hX=No(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oh-e.getMinutes()*Su)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getHours());hX.range;const pX=No(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getUTCHours());pX.range;const fA=No(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Su)/lp,e=>e.getDate()-1);fA.range;const OL=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lp,e=>e.getUTCDate()-1);OL.range;const PEe=No(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lp,e=>Math.floor(e/lp));PEe.range;function _y(e){return No(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Su)/cX)}const RL=_y(0),dR=_y(1),H2t=_y(2),q2t=_y(3),Jw=_y(4),G2t=_y(5),K2t=_y(6);RL.range;dR.range;H2t.range;q2t.range;Jw.range;G2t.range;K2t.range;function Ty(e){return No(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/cX)}const FL=Ty(0),hR=Ty(1),Y2t=Ty(2),X2t=Ty(3),Qw=Ty(4),Z2t=Ty(5),J2t=Ty(6);FL.range;hR.range;Y2t.range;X2t.range;Qw.range;Z2t.range;J2t.range;const ML=No(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ML.range;const PL=No(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PL.range;const up=No(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());up.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});up.range;const cp=No(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:No(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});cp.range;function LEe(e,t,n,r,s,o){const i=[[Tv,1,Oh],[Tv,5,5*Oh],[Tv,15,15*Oh],[Tv,30,30*Oh],[o,1,Su],[o,5,5*Su],[o,15,15*Su],[o,30,30*Su],[s,1,Rh],[s,3,3*Rh],[s,6,6*Rh],[s,12,12*Rh],[r,1,lp],[r,2,2*lp],[n,1,cX],[t,1,qae],[t,3,3*qae],[e,1,Az]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=aX(([,,m])=>m).right(i,d);if(h===i.length)return e.every(_W(u/Az,c/Az,f));if(h===0)return fR.every(Math.max(_W(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[Q2t,eCt]=LEe(cp,PL,FL,PEe,pX,dX),[tCt,nCt]=LEe(up,ML,RL,fA,hX,fX),rCt="year",gX="quarter",sCt="month",oCt="week",iCt="date",aCt="day",lCt="dayofyear",uCt="hours",cCt="minutes",fCt="seconds",dCt="milliseconds",hCt=[rCt,gX,sCt,oCt,iCt,aCt,lCt,uCt,cCt,fCt,dCt];hCt.reduce((e,t,n)=>(e[t]=1+n,e),{});gX+"",ML.every(3);gX+"",PL.every(3);function Iz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pCt(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=xS(s),c=CS(s),f=xS(o),d=CS(o),h=xS(i),p=CS(i),g=xS(a),m=CS(a),v=xS(l),y=CS(l),w={a:I,A:D,b:M,B:z,c:null,d:Jae,e:Jae,f:PCt,g:GCt,G:YCt,H:RCt,I:FCt,j:MCt,L:BEe,m:LCt,M:BCt,p:W,q:H,Q:tle,s:nle,S:zCt,u:VCt,U:WCt,V:UCt,w:jCt,W:HCt,x:null,X:null,y:qCt,Y:KCt,Z:XCt,"%":ele},b={a:U,A:K,b:G,B:re,c:null,d:Qae,e:Qae,f:eSt,g:cSt,G:dSt,H:ZCt,I:JCt,j:QCt,L:VEe,m:tSt,M:nSt,p:ue,q:ae,Q:tle,s:nle,S:rSt,u:sSt,U:oSt,V:iSt,w:aSt,W:lSt,x:null,X:null,y:uSt,Y:fSt,Z:hSt,"%":ele},C={a:_,A:E,b:A,B:N,c:F,d:Xae,e:Xae,f:ICt,g:Yae,G:Kae,H:Zae,I:Zae,j:ECt,L:ACt,m:kCt,M:_Ct,p:T,q:$Ct,Q:DCt,s:OCt,S:TCt,u:bCt,U:wCt,V:xCt,w:yCt,W:CCt,x:R,X:P,y:Yae,Y:Kae,Z:SCt,"%":NCt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b);function S(X,J){return function(q){var L=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(L.push(X.slice(se,Q)),(ge=Gae[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),L.push(he),se=Q+1);return L.push(X.slice(se,Q)),L.join("")}}function $(X,J){return function(q){var L=wS(1900,void 0,1),Q=k(L,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(J&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(se=Nz(wS(L.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?hR.ceil(se):hR(se),se=OL.offset(se,(L.V-1)*7),L.y=se.getUTCFullYear(),L.m=se.getUTCMonth(),L.d=se.getUTCDate()+(L.w+6)%7):(se=Iz(wS(L.y,0,1)),de=se.getDay(),se=de>4||de===0?dR.ceil(se):dR(se),se=fA.offset(se,(L.V-1)*7),L.y=se.getFullYear(),L.m=se.getMonth(),L.d=se.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),de="Z"in L?Nz(wS(L.y,0,1)).getUTCDay():Iz(wS(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(de+5)%7:L.w+L.U*7-(de+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Nz(L)):Iz(L)}}function k(X,J,q,L){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(L>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in Gae?J.charAt(Q++):he],!ge||(L=ge(X,q,L))<0)return-1}else if(he!=q.charCodeAt(L++))return-1}return L}function T(X,J,q){var L=u.exec(J.slice(q));return L?(X.p=c.get(L[0].toLowerCase()),q+L[0].length):-1}function _(X,J,q){var L=h.exec(J.slice(q));return L?(X.w=p.get(L[0].toLowerCase()),q+L[0].length):-1}function E(X,J,q){var L=f.exec(J.slice(q));return L?(X.w=d.get(L[0].toLowerCase()),q+L[0].length):-1}function A(X,J,q){var L=v.exec(J.slice(q));return L?(X.m=y.get(L[0].toLowerCase()),q+L[0].length):-1}function N(X,J,q){var L=g.exec(J.slice(q));return L?(X.m=m.get(L[0].toLowerCase()),q+L[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function P(X,J,q){return k(X,r,J,q)}function I(X){return i[X.getDay()]}function D(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function K(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function re(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var Gae={"-":"",_:" ",0:"0"},ri=/^\s*\d+/,gCt=/^%/,mCt=/[\\^$*+?|[\]().{}]/g;function $r(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function vCt(e){return e.replace(mCt,"\\$&")}function xS(e){return new RegExp("^(?:"+e.map(vCt).join("|")+")","i")}function CS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yCt(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bCt(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Kae(e,t,n){var r=ri.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SCt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $Ct(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ECt(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zae(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _Ct(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function TCt(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ACt(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ICt(e,t,n){var r=ri.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NCt(e,t,n){var r=gCt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DCt(e,t,n){var r=ri.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OCt(e,t,n){var r=ri.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Jae(e,t){return $r(e.getDate(),t,2)}function RCt(e,t){return $r(e.getHours(),t,2)}function FCt(e,t){return $r(e.getHours()%12||12,t,2)}function MCt(e,t){return $r(1+fA.count(up(e),e),t,3)}function BEe(e,t){return $r(e.getMilliseconds(),t,3)}function PCt(e,t){return BEe(e,t)+"000"}function LCt(e,t){return $r(e.getMonth()+1,t,2)}function BCt(e,t){return $r(e.getMinutes(),t,2)}function zCt(e,t){return $r(e.getSeconds(),t,2)}function VCt(e){var t=e.getDay();return t===0?7:t}function WCt(e,t){return $r(RL.count(up(e)-1,e),t,2)}function zEe(e){var t=e.getDay();return t>=4||t===0?Jw(e):Jw.ceil(e)}function UCt(e,t){return e=zEe(e),$r(Jw.count(up(e),e)+(up(e).getDay()===4),t,2)}function jCt(e){return e.getDay()}function HCt(e,t){return $r(dR.count(up(e)-1,e),t,2)}function qCt(e,t){return $r(e.getFullYear()%100,t,2)}function GCt(e,t){return e=zEe(e),$r(e.getFullYear()%100,t,2)}function KCt(e,t){return $r(e.getFullYear()%1e4,t,4)}function YCt(e,t){var n=e.getDay();return e=n>=4||n===0?Jw(e):Jw.ceil(e),$r(e.getFullYear()%1e4,t,4)}function XCt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$r(t/60|0,"0",2)+$r(t%60,"0",2)}function Qae(e,t){return $r(e.getUTCDate(),t,2)}function ZCt(e,t){return $r(e.getUTCHours(),t,2)}function JCt(e,t){return $r(e.getUTCHours()%12||12,t,2)}function QCt(e,t){return $r(1+OL.count(cp(e),e),t,3)}function VEe(e,t){return $r(e.getUTCMilliseconds(),t,3)}function eSt(e,t){return VEe(e,t)+"000"}function tSt(e,t){return $r(e.getUTCMonth()+1,t,2)}function nSt(e,t){return $r(e.getUTCMinutes(),t,2)}function rSt(e,t){return $r(e.getUTCSeconds(),t,2)}function sSt(e){var t=e.getUTCDay();return t===0?7:t}function oSt(e,t){return $r(FL.count(cp(e)-1,e),t,2)}function WEe(e){var t=e.getUTCDay();return t>=4||t===0?Qw(e):Qw.ceil(e)}function iSt(e,t){return e=WEe(e),$r(Qw.count(cp(e),e)+(cp(e).getUTCDay()===4),t,2)}function aSt(e){return e.getUTCDay()}function lSt(e,t){return $r(hR.count(cp(e)-1,e),t,2)}function uSt(e,t){return $r(e.getUTCFullYear()%100,t,2)}function cSt(e,t){return e=WEe(e),$r(e.getUTCFullYear()%100,t,2)}function fSt(e,t){return $r(e.getUTCFullYear()%1e4,t,4)}function dSt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qw(e):Qw.ceil(e),$r(e.getUTCFullYear()%1e4,t,4)}function hSt(){return"+0000"}function ele(){return"%"}function tle(e){return+e}function nle(e){return Math.floor(+e/1e3)}var pb,UEe,jEe;pSt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pSt(e){return pb=pCt(e),UEe=pb.format,pb.parse,jEe=pb.utcFormat,pb.utcParse,pb}function Rd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function f0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rle=Symbol("implicit");function mX(){var e=new ZO,t=[],n=[],r=rle;function s(o){let i=e.get(o);if(i===void 0){if(r!==rle)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new ZO;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return mX(t,n).unknown(r)},Rd.apply(s,arguments),s}function yC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function d0(){}var I1=.7,ex=1/I1,hw="\\s*([+-]?\\d+)\\s*",pE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gSt=/^#([0-9a-f]{3,8})$/,mSt=new RegExp("^rgb\\("+[hw,hw,hw]+"\\)$"),vSt=new RegExp("^rgb\\("+[Kf,Kf,Kf]+"\\)$"),ySt=new RegExp("^rgba\\("+[hw,hw,hw,pE]+"\\)$"),bSt=new RegExp("^rgba\\("+[Kf,Kf,Kf,pE]+"\\)$"),wSt=new RegExp("^hsl\\("+[pE,Kf,Kf]+"\\)$"),xSt=new RegExp("^hsla\\("+[pE,Kf,Kf,pE]+"\\)$"),sle={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yC(d0,fp,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ole,formatHex:ole,formatHsl:CSt,formatRgb:ile,toString:ile});function ole(){return this.rgb().formatHex()}function CSt(){return HEe(this).formatHsl()}function ile(){return this.rgb().formatRgb()}function fp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gSt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ale(t):n===3?new fi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mSt.exec(e))?new fi(t[1],t[2],t[3],1):(t=vSt.exec(e))?new fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ySt.exec(e))?hN(t[1],t[2],t[3],t[4]):(t=bSt.exec(e))?hN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wSt.exec(e))?cle(t[1],t[2]/100,t[3]/100,1):(t=xSt.exec(e))?cle(t[1],t[2]/100,t[3]/100,t[4]):sle.hasOwnProperty(e)?ale(sle[e]):e==="transparent"?new fi(NaN,NaN,NaN,0):null}function ale(e){return new fi(e>>16&255,e>>8&255,e&255,1)}function hN(e,t,n,r){return r<=0&&(e=t=n=NaN),new fi(e,t,n,r)}function vX(e){return e instanceof d0||(e=fp(e)),e?(e=e.rgb(),new fi(e.r,e.g,e.b,e.opacity)):new fi}function Sl(e,t,n,r){return arguments.length===1?vX(e):new fi(e,t,n,r??1)}function fi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yC(fi,Sl,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new fi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lle,formatHex:lle,formatRgb:ule,toString:ule}));function lle(){return"#"+Dz(this.r)+Dz(this.g)+Dz(this.b)}function ule(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Dz(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function cle(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Of(e,t,n,r)}function HEe(e){if(e instanceof Of)return new Of(e.h,e.s,e.l,e.opacity);if(e instanceof d0||(e=fp(e)),!e)return new Of;if(e instanceof Of)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,l=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?o+s:2-o-s,i*=60):a=l>0&&l<1?0:i,new Of(i,a,l,e.opacity)}function Im(e,t,n,r){return arguments.length===1?HEe(e):new Of(e,t,n,r??1)}function Of(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yC(Of,Im,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new Of(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new Of(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new fi(Oz(e>=240?e-240:e+120,s,r),Oz(e,s,r),Oz(e<120?e+240:e-120,s,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Oz(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qEe=Math.PI/180,GEe=180/Math.PI,pR=18,KEe=.96422,YEe=1,XEe=.82521,ZEe=4/29,pw=6/29,JEe=3*pw*pw,SSt=pw*pw*pw;function QEe(e){if(e instanceof Yf)return new Yf(e.l,e.a,e.b,e.opacity);if(e instanceof Fh)return e_e(e);e instanceof fi||(e=vX(e));var t=Pz(e.r),n=Pz(e.g),r=Pz(e.b),s=Rz((.2225045*t+.7168786*n+.0606169*r)/YEe),o,i;return t===n&&n===r?o=i=s:(o=Rz((.4360747*t+.3850649*n+.1430804*r)/KEe),i=Rz((.0139322*t+.0971045*n+.7141733*r)/XEe)),new Yf(116*s-16,500*(o-s),200*(s-i),e.opacity)}function Nm(e,t,n,r){return arguments.length===1?QEe(e):new Yf(e,t,n,r??1)}function Yf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}yC(Yf,Nm,dA(d0,{brighter:function(e){return new Yf(this.l+pR*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Yf(this.l-pR*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=KEe*Fz(t),e=YEe*Fz(e),n=XEe*Fz(n),new fi(Mz(3.1338561*t-1.6168667*e-.4906146*n),Mz(-.9787684*t+1.9161415*e+.033454*n),Mz(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Rz(e){return e>SSt?Math.pow(e,1/3):e/JEe+ZEe}function Fz(e){return e>pw?e*e*e:JEe*(e-ZEe)}function Mz(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $St(e){if(e instanceof Fh)return new Fh(e.h,e.c,e.l,e.opacity);if(e instanceof Yf||(e=QEe(e)),e.a===0&&e.b===0)return new Fh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*GEe;return new Fh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Dm(e,t,n,r){return arguments.length===1?$St(e):new Fh(e,t,n,r??1)}function Fh(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function e_e(e){if(isNaN(e.h))return new Yf(e.l,0,0,e.opacity);var t=e.h*qEe;return new Yf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yC(Fh,Dm,dA(d0,{brighter:function(e){return new Fh(this.h,this.c,this.l+pR*(e??1),this.opacity)},darker:function(e){return new Fh(this.h,this.c,this.l-pR*(e??1),this.opacity)},rgb:function(){return e_e(this).rgb()}}));var t_e=-.14861,yX=1.78277,bX=-.29227,LL=-.90649,gE=1.97294,fle=gE*LL,dle=gE*yX,hle=yX*bX-LL*t_e;function kSt(e){if(e instanceof Zv)return new Zv(e.h,e.s,e.l,e.opacity);e instanceof fi||(e=vX(e));var t=e.r/255,n=e.g/255,r=e.b/255,s=(hle*r+fle*t-dle*n)/(hle+fle-dle),o=r-s,i=(gE*(n-s)-bX*o)/LL,a=Math.sqrt(i*i+o*o)/(gE*s*(1-s)),l=a?Math.atan2(i,o)*GEe-120:NaN;return new Zv(l<0?l+360:l,a,s,e.opacity)}function N1(e,t,n,r){return arguments.length===1?kSt(e):new Zv(e,t,n,r??1)}function Zv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yC(Zv,N1,dA(d0,{brighter:function(e){return e=e==null?ex:Math.pow(ex,e),new Zv(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?I1:Math.pow(I1,e),new Zv(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*qEe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),s=Math.sin(e);return new fi(255*(t+n*(t_e*r+yX*s)),255*(t+n*(bX*r+LL*s)),255*(t+n*(gE*r)),this.opacity)}}));function n_e(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function r_e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return n_e((n-r/t)*t,i,s,o,a)}}function s_e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return n_e((n-r/t)*t,s,o,i,a)}}const BL=e=>()=>e;function o_e(e,t){return function(n){return e+n*t}}function ESt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zL(e,t){var n=t-e;return n?o_e(e,n>180||n<-180?n-360*Math.round(n/360):n):BL(isNaN(e)?t:e)}function _St(e){return(e=+e)==1?Lo:function(t,n){return n-t?ESt(t,n,e):BL(isNaN(t)?n:t)}}function Lo(e,t){var n=t-e;return n?o_e(e,n):BL(isNaN(e)?t:e)}const TW=(function e(t){var n=_St(t);function r(s,o){var i=n((s=Sl(s)).r,(o=Sl(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=Lo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function i_e(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=Sl(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var TSt=i_e(r_e),ASt=i_e(s_e);function wX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function a_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ISt(e,t){return(a_e(t)?wX:l_e)(e,t)}function l_e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=Ay(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function u_e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function c_e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ay(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var AW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lz=new RegExp(AW.source,"g");function NSt(e){return function(){return e}}function DSt(e){return function(t){return e(t)+""}}function f_e(e,t){var n=AW.lastIndex=Lz.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=AW.exec(e))&&(s=Lz.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:dc(r,s)})),n=Lz.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?DSt(l[0].x):NSt(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ay(e,t){var n=typeof t,r;return t==null||n==="boolean"?BL(t):(n==="number"?dc:n==="string"?(r=fp(t))?(t=r,TW):f_e:t instanceof fp?TW:t instanceof Date?u_e:a_e(t)?wX:Array.isArray(t)?l_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?c_e:dc)(e,t)}function OSt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function RSt(e,t){var n=zL(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function VL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ple=180/Math.PI,IW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function d_e(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*ple,skewX:Math.atan(l)*ple,scaleX:i,scaleY:a}}var pN;function FSt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?IW:d_e(t.a,t.b,t.c,t.d,t.e,t.f)}function MSt(e){return e==null||(pN||(pN=document.createElementNS("http://www.w3.org/2000/svg","g")),pN.setAttribute("transform",e),!(e=pN.transform.baseVal.consolidate()))?IW:(e=e.matrix,d_e(e.a,e.b,e.c,e.d,e.e,e.f))}function h_e(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:dc(u,f)},{i:g-2,x:dc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:dc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:dc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:dc(u,f)},{i:g-2,x:dc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var PSt=h_e(FSt,"px, ","px)","deg)"),LSt=h_e(MSt,", ",")",")"),BSt=1e-12;function gle(e){return((e=Math.exp(e))+1/e)/2}function zSt(e){return((e=Math.exp(e))-1/e)/2}function VSt(e){return((e=Math.exp(2*e))-1)/(e+1)}const WSt=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<BSt)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),w=(d*d-u*u+r*g)/(2*u*n*y),b=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(b*b+1)-b);v=(S-C)/t,m=function($){var k=$*v,T=gle(C),_=u/(n*y)*(T*VSt(t*k+C)-zSt(C));return[a+_*h,l+_*p,u*T/gle(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function p_e(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=Lo(t.s,n.s),o=Lo(t.l,n.l),i=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const USt=p_e(zL);var jSt=p_e(Lo);function HSt(e,t){var n=Lo((e=Nm(e)).l,(t=Nm(t)).l),r=Lo(e.a,t.a),s=Lo(e.b,t.b),o=Lo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function g_e(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=Lo(t.c,n.c),o=Lo(t.l,n.l),i=Lo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const qSt=g_e(zL);var GSt=g_e(Lo);function m_e(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=Lo(s.s,o.s),l=Lo(s.l,o.l),u=Lo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const KSt=m_e(zL);var YSt=m_e(Lo);function xX(e,t){t===void 0&&(t=e,e=Ay);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function XSt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const ZSt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ay,interpolateArray:ISt,interpolateBasis:r_e,interpolateBasisClosed:s_e,interpolateCubehelix:KSt,interpolateCubehelixLong:YSt,interpolateDate:u_e,interpolateDiscrete:OSt,interpolateHcl:qSt,interpolateHclLong:GSt,interpolateHsl:USt,interpolateHslLong:jSt,interpolateHue:RSt,interpolateLab:HSt,interpolateNumber:dc,interpolateNumberArray:wX,interpolateObject:c_e,interpolateRgb:TW,interpolateRgbBasis:TSt,interpolateRgbBasisClosed:ASt,interpolateRound:VL,interpolateString:f_e,interpolateTransformCss:PSt,interpolateTransformSvg:LSt,interpolateZoom:WSt,piecewise:xX,quantize:XSt},Symbol.toStringTag,{value:"Module"}));function JSt(e){return function(){return e}}function NW(e){return+e}var mle=[0,1];function il(e){return e}function DW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:JSt(isNaN(t)?NaN:.5)}function QSt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function e$t(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=DW(s,r),o=n(i,o)):(r=DW(r,s),o=n(o,i)),function(a){return o(r(a))}}function t$t(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=DW(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=A1(e,a,1,r)-1;return o[l](s[l](a))}}function hA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function WL(){var e=mle,t=mle,n=Ay,r,s,o,i=il,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==il&&(i=QSt(e[0],e[d-1])),a=d>2?t$t:e$t,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),dc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,NW),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=VL,c()},f.clamp=function(d){return arguments.length?(i=d?!0:il,c()):i!==il},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function v_e(){return WL()(il,il)}function y_e(e,t,n,r){var s=_W(e,t,n),o;switch(r=hE(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=U2t(s,i))&&(r.precision=o),MEe(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=j2t(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=W2t(s))&&(r.precision=o-(r.type==="%")*2);break}}return uX(r)}function Iy(e){var t=e.domain;return e.ticks=function(n){var r=t();return kW(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return y_e(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=EW(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function b_e(){var e=v_e();return e.copy=function(){return hA(e,b_e())},Rd.apply(e,arguments),Iy(e)}function w_e(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,NW),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return w_e(e).unknown(t)},e=arguments.length?Array.from(e,NW):[0,1],Iy(n)}function x_e(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function vle(e){return Math.log(e)}function yle(e){return Math.exp(e)}function n$t(e){return-Math.log(-e)}function r$t(e){return-Math.exp(-e)}function s$t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o$t(e){return e===10?s$t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function i$t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ble(e){return(t,n)=>-e(-t,n)}function CX(e){const t=e(vle,yle),n=t.domain;let r=10,s,o;function i(){return s=i$t(r),o=o$t(r),n()[0]<0?(s=ble(s),o=ble(o),e(n$t,r$t)):e(vle,yle),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=s(u),h=s(c),p,g;const m=a==null?10:+a;let v=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<m&&(v=kW(u,c,m))}else v=kW(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hE(l)).precision==null&&(l.trim=!0),l=uX(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(x_e(n(),{floor:a=>o(Math.floor(s(a))),ceil:a=>o(Math.ceil(s(a)))})),t}function C_e(){const e=CX(WL()).domain([1,10]);return e.copy=()=>hA(e,C_e()).base(e.base()),Rd.apply(e,arguments),e}function wle(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xle(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SX(e){var t=1,n=e(wle(t),xle(t));return n.constant=function(r){return arguments.length?e(wle(t=+r),xle(t)):t},Iy(n)}function S_e(){var e=SX(WL());return e.copy=function(){return hA(e,S_e()).constant(e.constant())},Rd.apply(e,arguments)}function Cle(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a$t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l$t(e){return e<0?-e*e:e*e}function $X(e){var t=e(il,il),n=1;function r(){return n===1?e(il,il):n===.5?e(a$t,l$t):e(Cle(n),Cle(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Iy(t)}function kX(){var e=$X(WL());return e.copy=function(){return hA(e,kX()).exponent(e.exponent())},Rd.apply(e,arguments),e}function u$t(){return kX.apply(null,arguments).exponent(.5)}function $_e(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=D2t(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[A1(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(j$),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return $_e().domain(e).range(t).unknown(r)},Rd.apply(o,arguments)}function k_e(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[A1(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return k_e().domain([e,t]).range(s).unknown(o)},Rd.apply(Iy(i),arguments)}function E_e(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[A1(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return E_e().domain(e).range(t).unknown(n)},Rd.apply(s,arguments)}function c$t(e){return new Date(e)}function f$t(e){return e instanceof Date?+e:+new Date(+e)}function EX(e,t,n,r,s,o,i,a,l,u){var c=v_e(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),b=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?w:b)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,f$t)):d().map(c$t)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d(x_e($,S)):c},c.copy=function(){return hA(c,EX(e,t,n,r,s,o,i,a,l,u))},c}function d$t(){return Rd.apply(EX(tCt,nCt,up,ML,RL,fA,hX,fX,Tv,UEe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h$t(){return Rd.apply(EX(Q2t,eCt,cp,PL,FL,OL,pX,dX,Tv,jEe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UL(){var e=0,t=1,n,r,s,o,i=il,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(Ay),u.rangeRound=c(VL),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function h0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _X(){var e=Iy(UL()(il));return e.copy=function(){return h0(e,_X())},f0.apply(e,arguments)}function __e(){var e=CX(UL()).domain([1,10]);return e.copy=function(){return h0(e,__e()).base(e.base())},f0.apply(e,arguments)}function T_e(){var e=SX(UL());return e.copy=function(){return h0(e,T_e()).constant(e.constant())},f0.apply(e,arguments)}function TX(){var e=$X(UL());return e.copy=function(){return h0(e,TX()).exponent(e.exponent())},f0.apply(e,arguments)}function p$t(){return TX.apply(null,arguments).exponent(.5)}function jL(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=il,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,w;return arguments.length?([v,y,w]=m,u=xX(g,[v,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ay),h.rangeRound=p(VL),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function A_e(){var e=Iy(jL()(il));return e.copy=function(){return h0(e,A_e())},f0.apply(e,arguments)}function I_e(){var e=CX(jL()).domain([.1,1,10]);return e.copy=function(){return h0(e,I_e()).base(e.base())},f0.apply(e,arguments)}function N_e(){var e=SX(jL());return e.copy=function(){return h0(e,N_e()).constant(e.constant())},f0.apply(e,arguments)}function AX(){var e=$X(jL());return e.copy=function(){return h0(e,AX()).exponent(e.exponent())},f0.apply(e,arguments)}function g$t(){return AX.apply(null,arguments).exponent(.5)}function Fd(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const D_e=Fd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),O_e=Fd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),R_e=Fd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),F_e=Fd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),M_e=Fd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),P_e=Fd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),L_e=Fd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),B_e=Fd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),z_e=Fd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),V_e=Fd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function W_e(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function U_e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return W_e((n-r/t)*t,i,s,o,a)}}function j_e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return W_e((n-r/t)*t,s,o,i,a)}}const HL=e=>()=>e;function H_e(e,t){return function(n){return e+n*t}}function m$t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qL(e,t){var n=t-e;return n?H_e(e,n>180||n<-180?n-360*Math.round(n/360):n):HL(isNaN(e)?t:e)}function v$t(e){return(e=+e)==1?Bo:function(t,n){return n-t?m$t(t,n,e):HL(isNaN(t)?n:t)}}function Bo(e,t){var n=t-e;return n?H_e(e,n):HL(isNaN(e)?t:e)}const OW=(function e(t){var n=v$t(t);function r(s,o){var i=n((s=Sl(s)).r,(o=Sl(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=Bo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function q_e(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=Sl(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var y$t=q_e(U_e),b$t=q_e(j_e);function IX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function G_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w$t(e,t){return(G_e(t)?IX:K_e)(e,t)}function K_e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=p0(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function Y_e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function X_e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=p0(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var RW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bz=new RegExp(RW.source,"g");function x$t(e){return function(){return e}}function C$t(e){return function(t){return e(t)+""}}function Z_e(e,t){var n=RW.lastIndex=Bz.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=RW.exec(e))&&(s=Bz.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:hc(r,s)})),n=Bz.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?C$t(l[0].x):x$t(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function p0(e,t){var n=typeof t,r;return t==null||n==="boolean"?HL(t):(n==="number"?hc:n==="string"?(r=fp(t))?(t=r,OW):Z_e:t instanceof fp?OW:t instanceof Date?Y_e:G_e(t)?IX:Array.isArray(t)?K_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X_e:hc)(e,t)}function S$t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function $$t(e,t){var n=qL(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function pA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Sle=180/Math.PI,FW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function J_e(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Sle,skewX:Math.atan(l)*Sle,scaleX:i,scaleY:a}}var gN;function k$t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?FW:J_e(t.a,t.b,t.c,t.d,t.e,t.f)}function E$t(e){return e==null||(gN||(gN=document.createElementNS("http://www.w3.org/2000/svg","g")),gN.setAttribute("transform",e),!(e=gN.transform.baseVal.consolidate()))?FW:(e=e.matrix,J_e(e.a,e.b,e.c,e.d,e.e,e.f))}function Q_e(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:hc(u,f)},{i:g-2,x:hc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:hc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:hc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:hc(u,f)},{i:g-2,x:hc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var _$t=Q_e(k$t,"px, ","px)","deg)"),T$t=Q_e(E$t,", ",")",")"),A$t=1e-12;function $le(e){return((e=Math.exp(e))+1/e)/2}function I$t(e){return((e=Math.exp(e))-1/e)/2}function N$t(e){return((e=Math.exp(2*e))-1)/(e+1)}const D$t=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<A$t)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),w=(d*d-u*u+r*g)/(2*u*n*y),b=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(b*b+1)-b);v=(S-C)/t,m=function($){var k=$*v,T=$le(C),_=u/(n*y)*(T*N$t(t*k+C)-I$t(C));return[a+_*h,l+_*p,u*T/$le(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function eTe(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=Bo(t.s,n.s),o=Bo(t.l,n.l),i=Bo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const O$t=eTe(qL);var R$t=eTe(Bo);function F$t(e,t){var n=Bo((e=Nm(e)).l,(t=Nm(t)).l),r=Bo(e.a,t.a),s=Bo(e.b,t.b),o=Bo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function tTe(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=Bo(t.c,n.c),o=Bo(t.l,n.l),i=Bo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const M$t=tTe(qL);var P$t=tTe(Bo);function nTe(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=Bo(s.s,o.s),l=Bo(s.l,o.l),u=Bo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const L$t=nTe(qL);var B$t=nTe(Bo);function NX(e,t){t===void 0&&(t=e,e=p0);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function z$t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const V$t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:p0,interpolateArray:w$t,interpolateBasis:U_e,interpolateBasisClosed:j_e,interpolateCubehelix:L$t,interpolateCubehelixLong:B$t,interpolateDate:Y_e,interpolateDiscrete:S$t,interpolateHcl:M$t,interpolateHclLong:P$t,interpolateHsl:O$t,interpolateHslLong:R$t,interpolateHue:$$t,interpolateLab:F$t,interpolateNumber:hc,interpolateNumberArray:IX,interpolateObject:X_e,interpolateRgb:OW,interpolateRgbBasis:y$t,interpolateRgbBasisClosed:b$t,interpolateRound:pA,interpolateString:Z_e,interpolateTransformCss:_$t,interpolateTransformSvg:T$t,interpolateZoom:D$t,piecewise:NX,quantize:z$t},Symbol.toStringTag,{value:"Module"}));function W$t(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const U$t="identity",DX="linear",tx="log",OX="pow",RX="sqrt",FX="symlog",j$t="time",H$t="utc",bC="sequential",gA="diverging",kle="quantile",q$t="quantize",G$t="threshold",K$t="ordinal",Y$t="point",X$t="band",Z$t="bin-ordinal",si="continuous",GL="discrete",KL="discretizing",ef="interpolating",rTe="temporal";function J$t(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function Q$t(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function MX(){const e=mX().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=W$t(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=O2t(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,w;if(!(g!==g||m!==m)&&(m<g&&(w=g,g=m,m=w),!(m<h[0]||g>r[1-d])))return v=Math.max(0,A1(h,g)-1),y=g===m?v:A1(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(w=v,v=p-y,y=p-w),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return MX().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function sTe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return sTe(t())},e}function ekt(){return sTe(MX().paddingInner(1))}var tkt=Array.prototype.map;function nkt(e){return tkt.call(e,jxt)}const rkt=Array.prototype.slice;function oTe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(A1(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=nkt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=rkt.call(r),n):t.slice()},n.tickFormat=function(r,s){return y_e(e[0],u3(e),r??10,s)},n.copy=function(){return oTe().domain(n.domain()).range(n.range())},n}const MW=new Map,skt=Symbol("vega_scale");function okt(e){return e[skt]=!0,e}function ikt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?J$t(o):o.invertExtent?Q$t(o):void 0),o.type=e,okt(o)};return r.metadata=gEe(Hxt(n)),r}function us(e,t,n){return arguments.length>1?(MW.set(e,ikt(e,t,n)),this):akt(e)?MW.get(e):void 0}us(U$t,w_e);us(DX,b_e,si);us(tx,C_e,[si,tx]);us(OX,kX,si);us(RX,u$t,si);us(FX,S_e,si);us(j$t,d$t,[si,rTe]);us(H$t,h$t,[si,rTe]);us(bC,_X,[si,ef]);us(`${bC}-${DX}`,_X,[si,ef]);us(`${bC}-${tx}`,__e,[si,ef,tx]);us(`${bC}-${OX}`,TX,[si,ef]);us(`${bC}-${RX}`,p$t,[si,ef]);us(`${bC}-${FX}`,T_e,[si,ef]);us(`${gA}-${DX}`,A_e,[si,ef]);us(`${gA}-${tx}`,I_e,[si,ef,tx]);us(`${gA}-${OX}`,AX,[si,ef]);us(`${gA}-${RX}`,g$t,[si,ef]);us(`${gA}-${FX}`,N_e,[si,ef]);us(kle,$_e,[KL,kle]);us(q$t,k_e,KL);us(G$t,E_e,KL);us(Z$t,oTe,[GL,KL]);us(K$t,mX,GL);us(X$t,MX,GL);us(Y$t,ekt,GL);function akt(e){return MW.has(e)}function lkt(e,t,n){return xX(ukt("rgb",n),e)}function ukt(e,t){const n=ZSt[ckt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function ckt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const fkt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},dkt={accent:O_e,category10:D_e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:R_e,observable10:F_e,paired:M_e,pastel1:P_e,pastel2:L_e,set1:B_e,set2:z_e,set3:V_e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function iTe(e){if(ky(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function aTe(e,t){for(const n in e)hkt(n,t(e[n]))}const Ele={};aTe(dkt,iTe);aTe(fkt,e=>lkt(iTe(e)));function hkt(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ele[e]=t,this):Ele[e]}function pkt(e){return e&&e.gradient}const _le={basis:{curve:l2t},"basis-closed":{curve:u2t},"basis-open":{curve:c2t},bundle:{curve:f2t,tension:"beta",value:.85},cardinal:{curve:d2t,tension:"tension",value:0},"cardinal-open":{curve:p2t,tension:"tension",value:0},"cardinal-closed":{curve:h2t,tension:"tension",value:0},"catmull-rom":{curve:g2t,tension:"alpha",value:.5},"catmull-rom-closed":{curve:m2t,tension:"alpha",value:.5},"catmull-rom-open":{curve:v2t,tension:"alpha",value:.5},linear:{curve:nX},"linear-closed":{curve:y2t},monotone:{horizontal:w2t,vertical:b2t},natural:{curve:x2t},step:{curve:C2t},"step-after":{curve:$2t},"step-before":{curve:S2t}};function lTe(e,t,n){var r=kg(_le,e)&&_le[e],s=null;return r&&(s=r.curve||r[t||"vertical"],r.tension&&n!=null&&(s=s[r.tension](n))),s}const gkt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},mkt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,vkt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ykt=/^((\s+,?\s*)|(,\s*))/,bkt=/^[01]/;function uTe(e){const t=[];return(e.match(mkt)||[]).forEach(r=>{let s=r[0];const o=s.toLowerCase(),i=gkt[o],a=wkt(o,i,r.slice(1).trim()),l=a.length;if(l<i||l&&l%i!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([s,...a.slice(0,i)]),l!==i){o==="m"&&(s=s==="M"?"L":"l");for(let u=i;u<l;u+=i)t.push([s,...a.slice(u,u+i)])}}),t}function wkt(e,t,n){const r=[];for(let s=0;t&&s<n.length;)for(let o=0;o<t;++o){const i=e==="a"&&(o===3||o===4)?bkt:vkt,a=n.slice(s).match(i);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");s+=a[0].length,r.push(+a[0]);const l=n.slice(s).match(ykt);l!==null&&(s+=l[0].length)}return r}const Om=Math.PI/180,xkt=1e-14,gv=Math.PI/2,Rf=Math.PI*2,gb=Math.sqrt(3)/2;var zz={},Vz={},cTe=[].join;function Ckt(e,t,n,r,s,o,i,a,l){const u=cTe.call(arguments);if(zz[u])return zz[u];const c=i*Om,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,v=f/n,y=-f/r,w=d/r,b=m*a+v*l,C=y*a+w*l,S=m*e+v*t,$=y*e+w*t;let T=1/((S-b)*(S-b)+($-C)*($-C))-.25;T<0&&(T=0);let _=Math.sqrt(T);o==s&&(_=-_);const E=.5*(b+S)-_*($-C),A=.5*(C+$)+_*(S-b),N=Math.atan2(C-A,b-E);let R=Math.atan2($-A,S-E)-N;R<0&&o===1?R+=Rf:R>0&&o===0&&(R-=Rf);const P=Math.ceil(Math.abs(R/(gv+.001))),I=[];for(let D=0;D<P;++D){const M=N+D*R/P,z=N+(D+1)*R/P;I[D]=[E,A,M,z,n,r,f,d]}return zz[u]=I}function Skt(e){const t=cTe.call(e);if(Vz[t])return Vz[t];var n=e[0],r=e[1],s=e[2],o=e[3],i=e[4],a=e[5],l=e[6],u=e[7];const c=u*i,f=-l*a,d=l*i,h=u*a,p=Math.cos(s),g=Math.sin(s),m=Math.cos(o),v=Math.sin(o),y=.5*(o-s),w=Math.sin(y*.5),b=8/3*w*w/Math.sin(y),C=n+p-b*g,S=r+g+b*p,$=n+m,k=r+v,T=$+b*v,_=k-b*m;return Vz[t]=[c*C+f*S,d*C+h*S,c*T+f*_,d*T+h*_,c*$+f*k,d*$+h*k]}const hu=["l",0,0,0,0,0,0,0];function $kt(e,t,n){const r=hu[0]=e[0];if(r==="a"||r==="A")hu[1]=t*e[1],hu[2]=n*e[2],hu[3]=e[3],hu[4]=e[4],hu[5]=e[5],hu[6]=t*e[6],hu[7]=n*e[7];else if(r==="h"||r==="H")hu[1]=t*e[1];else if(r==="v"||r==="V")hu[1]=n*e[1];else for(var s=1,o=e.length;s<o;++s)hu[s]=(s%2==1?t:n)*e[s];return hu}function PW(e,t,n,r,s,o){var i,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,v=0;n==null&&(n=0),r==null&&(r=0),s==null&&(s=1),o==null&&(o=s),e.beginPath&&e.beginPath();for(var y=0,w=t.length;y<w;++y){switch(i=t[y],(s!==1||o!==1)&&(i=$kt(i,s,o)),i[0]){case"l":l+=i[1],u+=i[2],e.lineTo(l+n,u+r);break;case"L":l=i[1],u=i[2],e.lineTo(l+n,u+r);break;case"h":l+=i[1],e.lineTo(l+n,u+r);break;case"H":l=i[1],e.lineTo(l+n,u+r);break;case"v":u+=i[1],e.lineTo(l+n,u+r);break;case"V":u=i[1],e.lineTo(l+n,u+r);break;case"m":l+=i[1],u+=i[2],m=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=i[1],u=i[2],m=l,v=u,e.moveTo(l+n,u+r);break;case"c":d=l+i[5],h=u+i[6],c=l+i[3],f=u+i[4],e.bezierCurveTo(l+i[1]+n,u+i[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=i[5],u=i[6],c=i[3],f=i[4],e.bezierCurveTo(i[1]+n,i[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+i[3],h=u+i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+i[1]+n,u+i[2]+r,d+n,h+r),c=l+i[1],f=u+i[2],l=d,u=h;break;case"S":d=i[3],h=i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"q":d=l+i[3],h=u+i[4],c=l+i[1],f=u+i[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=i[3],h=i[4],e.quadraticCurveTo(i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"t":d=l+i[1],h=u+i[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+i[1],f=u+i[2];break;case"T":d=i[1],h=i[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":Tle(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+l+n,i[7]+u+r]),l+=i[6],u+=i[7];break;case"A":Tle(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+n,i[7]+r]),l=i[6],u=i[7];break;case"z":case"Z":l=m,u=v,e.closePath();break}a=i}}function Tle(e,t,n,r){const s=Ckt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<s.length;++o){const i=Skt(s[o]);e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}}const Ale=.5773502691896257,Ile={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Rf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,s=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(s,-o),e.lineTo(0,-n),e.lineTo(-s,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n,s=r-n*Ale,o=n/4;e.moveTo(0,-r-s),e.lineTo(-o,r-s),e.lineTo(o,r-s),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n,s=r-n*Ale;e.moveTo(0,-r-s),e.lineTo(-n,r-s),e.lineTo(n,r-s),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function kkt(e){return kg(Ile,e)?Ile[e]:Ekt(e)}var Wz={};function Ekt(e){if(!kg(Wz,e)){const t=uTe(e);Wz[e]={draw:function(n,r){PW(n,t,0,0,Math.sqrt(r)/2)}}}return Wz[e]}const Zp=.448084975506;function _kt(e){return e.x}function Tkt(e){return e.y}function Akt(e){return e.width}function Ikt(e){return e.height}function ih(e){return typeof e=="function"?e:()=>+e}function mN(e,t,n){return Math.max(t,Math.min(e,n))}function Nkt(){var e=_kt,t=Tkt,n=Akt,r=Ikt,s=ih(0),o=s,i=s,a=s,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),v=+r.call(this,c),y=Math.min(m,v)/2,w=mN(+s.call(this,c),0,y),b=mN(+o.call(this,c),0,y),C=mN(+i.call(this,c),0,y),S=mN(+a.call(this,c),0,y);if(l||(l=h=tX()),w<=0&&b<=0&&C<=0&&S<=0)l.rect(p,g,m,v);else{var $=p+m,k=g+v;l.moveTo(p+w,g),l.lineTo($-b,g),l.bezierCurveTo($-Zp*b,g,$,g+Zp*b,$,g+b),l.lineTo($,k-S),l.bezierCurveTo($,k-Zp*S,$-Zp*S,k,$-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+Zp*C,k,p,k-Zp*C,p,k-C),l.lineTo(p,g+w),l.bezierCurveTo(p,g+Zp*w,p+Zp*w,g,p+w,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=ih(c),u):e},u.y=function(c){return arguments.length?(t=ih(c),u):t},u.width=function(c){return arguments.length?(n=ih(c),u):n},u.height=function(c){return arguments.length?(r=ih(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(s=ih(c),o=f!=null?ih(f):s,a=d!=null?ih(d):s,i=h!=null?ih(h):o,u):s},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Dkt(){var e,t,n,r,s=null,o,i,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-i;if(g||m){var v=Math.hypot(g,m),y=(g/=v)*l,w=(m/=v)*l,b=Math.atan2(m,g);s.moveTo(i-y,a-w),s.lineTo(f-g*p,d-m*p),s.arc(f,d,p,b-Math.PI,b),s.lineTo(i+y,a+w),s.arc(i,a,l,b,b+Math.PI)}else s.arc(f,d,p,0,Rf);s.closePath()}else o=1;i=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(s==null&&(s=m=tX()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return s=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?s=null:s=f,c):s},c}function mA(e,t){return e??t}const vA=e=>e.x||0,yA=e=>e.y||0,Okt=e=>e.width||0,Rkt=e=>e.height||0,Fkt=e=>(e.x||0)+(e.width||0),Mkt=e=>(e.y||0)+(e.height||0),Pkt=e=>e.startAngle||0,Lkt=e=>e.endAngle||0,Bkt=e=>e.padAngle||0,zkt=e=>e.innerRadius||0,Vkt=e=>e.outerRadius||0,Wkt=e=>e.cornerRadius||0,Ukt=e=>mA(e.cornerRadiusTopLeft,e.cornerRadius)||0,jkt=e=>mA(e.cornerRadiusTopRight,e.cornerRadius)||0,Hkt=e=>mA(e.cornerRadiusBottomRight,e.cornerRadius)||0,qkt=e=>mA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Gkt=e=>mA(e.size,64),Kkt=e=>e.size||1,YL=e=>e.defined!==!1,Ykt=e=>kkt(e.shape||"circle"),Xkt=o2t().startAngle(Pkt).endAngle(Lkt).padAngle(Bkt).innerRadius(zkt).outerRadius(Vkt).cornerRadius(Wkt),Zkt=SEe().x(vA).y1(yA).y0(Mkt).defined(YL),Jkt=SEe().y(yA).x1(vA).x0(Fkt).defined(YL),Qkt=CEe().x(vA).y(yA).defined(YL),eEt=Nkt().x(vA).y(yA).width(Okt).height(Rkt).cornerRadius(Ukt,jkt,Hkt,qkt),tEt=a2t().type(Ykt).size(Gkt),nEt=Dkt().x(vA).y(yA).defined(YL).size(Kkt);function PX(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function rEt(e,t){return Xkt.context(e)(t)}function sEt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Jkt:Zkt).curve(lTe(r,n.orient,n.tension)).context(e)(t)}function oEt(e,t){const n=t[0],r=n.interpolate||"linear";return Qkt.curve(lTe(r,n.orient,n.tension)).context(e)(t)}function wC(e,t,n,r){return eEt.context(e)(t,n,r)}function iEt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function aEt(e,t){return tEt.context(e)(t)}function lEt(e,t){return nEt.context(e)(t)}var uEt=1;function cEt(e,t,n){var r=t.clip,s=e._defs,o=t.clip_id||(t.clip_id="clip"+uEt++),i=s.clipping[o]||(s.clipping[o]={id:o});return pEe(r)?i.path=r(null):PX(n)?i.path=wC(null,n,0,0):(i.width=n.width||0,i.height=n.height||0),"url(#"+o+")"}function vd(e){this.clear(),e&&this.union(e)}vd.prototype={clone(){return new vd(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:s,x2:o,y2:i}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*s+u,l*r+a*s+c,a*r-l*i+u,l*r+a*i+c,a*o-l*s+u,l*o+a*s+c,a*o-l*i+u,l*o+a*i+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function LX(e){this.mark=e,this.bounds=this.bounds||new vd}function fTe(e){LX.call(this,e),this.items=this.items||[]}Ey(fTe,LX);function g0(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?fEt(t,r):0))}return e}function fEt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const dEt=Rf-1e-8;let XL,c3,f3,Av,LW,d3,BW,zW;const Dg=(e,t)=>XL.add(e,t),h3=(e,t)=>Dg(c3=e,f3=t),Nle=e=>Dg(e,XL.y1),Dle=e=>Dg(XL.x1,e),mv=(e,t)=>LW*e+BW*t,vv=(e,t)=>d3*e+zW*t,Uz=(e,t)=>Dg(mv(e,t),vv(e,t)),jz=(e,t)=>h3(mv(e,t),vv(e,t));function ZL(e,t){return XL=e,t?(Av=t*Om,LW=zW=Math.cos(Av),d3=Math.sin(Av),BW=-d3):(LW=zW=1,Av=d3=BW=0),hEt}const hEt={beginPath(){},closePath(){},moveTo:jz,lineTo:jz,rect(e,t,n,r){Av?(Uz(e+n,t),Uz(e+n,t+r),Uz(e,t+r),jz(e,t)):(Dg(e+n,t+r),h3(e,t))},quadraticCurveTo(e,t,n,r){const s=mv(e,t),o=vv(e,t),i=mv(n,r),a=vv(n,r);Ole(c3,s,i,Nle),Ole(f3,o,a,Dle),h3(i,a)},bezierCurveTo(e,t,n,r,s,o){const i=mv(e,t),a=vv(e,t),l=mv(n,r),u=vv(n,r),c=mv(s,o),f=vv(s,o);Rle(c3,i,l,c,Nle),Rle(f3,a,u,f,Dle),h3(c,f)},arc(e,t,n,r,s,o){if(r+=Av,s+=Av,c3=n*Math.cos(s)+e,f3=n*Math.sin(s)+t,Math.abs(s-r)>dEt)Dg(e-n,t-n),Dg(e+n,t+n);else{const i=u=>Dg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(i(r),i(s),s!==r)if(r=r%Rf,r<0&&(r+=Rf),s=s%Rf,s<0&&(s+=Rf),s<r&&(o=!o,a=r,r=s,s=a),o)for(s-=Rf,a=r-r%gv,l=0;l<4&&a>s;++l,a-=gv)i(a);else for(a=r-r%gv+gv,l=0;l<4&&a<s;++l,a=a+gv)i(a)}}};function Ole(e,t,n,r){const s=(e-t)/(e+n-2*t);0<s&&s<1&&r(e+(t-e)*s)}function Rle(e,t,n,r,s){const o=r-e+3*t-3*n,i=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>xkt?(c=i*i+a*o,c>=0&&(c=Math.sqrt(c),l=(-i+c)/o,u=(-i-c)/o)):l=.5*a/i,0<l&&l<1&&s(Fle(l,e,t,n,r)),0<u&&u<1&&s(Fle(u,e,t,n,r))}function Fle(e,t,n,r,s){const o=1-e,i=o*o,a=e*e;return i*o*t+3*i*e*n+3*o*a*r+a*e*s}var tm=(tm=c0(1,1))?tm.getContext("2d"):null;const VW=new vd;function dTe(e){return function(t,n){if(!tm)return!0;e(tm,t),VW.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:s,x2:o,y2:i}=VW;for(let a=s;a<=i;++a)for(let l=r;l<=o;++l)if(tm.isPointInPath(l,a))return!0;return!1}}function hTe(e,t){return t.contains(e.x||0,e.y||0)}function pTe(e,t){const n=e.x||0,r=e.y||0,s=e.width||0,o=e.height||0;return t.intersects(VW.set(n,r,n+s,r+o))}function pEt(e,t){const n=e.x||0,r=e.y||0,s=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return h$(t,n,r,s,o)}function h$(e,t,n,r,s){const{x1:o,y1:i,x2:a,y2:l}=e,u=r-t,c=s-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(i-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function nx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function sc(e,t){return e??t}function Mle(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function gEt(e,t,n){const r=n.width(),s=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+sc(t.x1,.5)*r,n.y1+sc(t.y1,.5)*s,Math.max(r,s)*sc(t.r1,0),n.x1+sc(t.x2,.5)*r,n.y1+sc(t.y2,.5)*s,Math.max(r,s)*sc(t.r2,.5));else{const i=sc(t.x1,0),a=sc(t.y1,0),l=sc(t.x2,1),u=sc(t.y2,0);if(i===l||a===u||r===s)o=e.createLinearGradient(n.x1+i*r,n.y1+a*s,n.x1+l*r,n.y1+u*s);else{const c=c0(Math.ceil(r),Math.ceil(s)),f=c.getContext("2d");return f.scale(r,s),f.fillStyle=Mle(f.createLinearGradient(i,a,l,u),t.stops),f.fillRect(0,0,r,s),e.createPattern(c,"no-repeat")}}return Mle(o,t.stops)}function gTe(e,t,n){return pkt(n)?gEt(e,n,t.bounds):n}function gR(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=gTe(e,t,t.fill),!0):!1}var mEt=[];function rx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=gTe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||mEt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function vEt(e,t){return e.zindex-t.zindex||e.index-t.index}function mTe(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,s,o;for(s=0,o=t.length;s<o;++s)r=t[s],r.index=s,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(vEt)}function sx(e,t){var n=e.items,r,s;if(!n||!n.length)return;const o=mTe(e);if(o&&o.length){for(r=0,s=n.length;r<s;++r)n[r].zindex||t(n[r]);n=o}for(r=0,s=n.length;r<s;++r)t(n[r])}function WW(e,t){var n=e.items,r,s;if(!n||!n.length)return null;const o=mTe(e);for(o&&o.length&&(n=o),s=n.length;--s>=0;)if(r=t(n[s]))return r;if(n===o){for(n=e.items,s=n.length;--s>=0;)if(!n[s].zindex&&(r=t(n[s])))return r}return null}function BX(e){return function(t,n,r){sx(n,s=>{(!r||r.intersects(s.bounds))&&vTe(e,t,s,s)})}}function yEt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&vTe(e,t,n.items[0],n.items)}}function vTe(e,t,n,r){var s=n.opacity==null?1:n.opacity;s!==0&&(e(t,r)||(nx(t,n),n.fill&&gR(t,n,s)&&t.fill(),n.stroke&&rx(t,n,s)&&t.stroke()))}function JL(e){return e=e||hEe,function(t,n,r,s,o,i){return r*=t.pixelRatio,s*=t.pixelRatio,WW(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,i)||!l)&&e(t,a,r,s,o,i))return a})}}function bA(e,t){return function(n,r,s,o){var i=Array.isArray(r)?r[0]:r,a=t??i.fill,l=i.stroke&&n.isPointInStroke,u,c;return l&&(u=i.strokeWidth,c=i.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(s,o)||l&&n.isPointInStroke(s,o)}}function zX(e){return JL(bA(e))}function Jv(e,t){return"translate("+e+","+t+")"}function VX(e){return"rotate("+e+")"}function bEt(e,t){return"scale("+e+","+t+")"}function yTe(e){return Jv(e.x||0,e.y||0)}function wEt(e){return Jv(e.x||0,e.y||0)+(e.angle?" "+VX(e.angle):"")}function xEt(e){return Jv(e.x||0,e.y||0)+(e.angle?" "+VX(e.angle):"")+(e.scaleX||e.scaleY?" "+bEt(e.scaleX||1,e.scaleY||1):"")}function WX(e,t,n){function r(i,a){i("transform",wEt(a)),i("d",t(null,a))}function s(i,a){return t(ZL(i,a.angle),a),g0(i,a).translate(a.x||0,a.y||0)}function o(i,a){var l=a.x||0,u=a.y||0,c=a.angle||0;i.translate(l,u),c&&i.rotate(c*=Om),i.beginPath(),t(i,a),c&&i.rotate(-c),i.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:s,draw:BX(o),pick:zX(o),isect:n||dTe(o)}}var CEt=WX("arc",rEt);function SEt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",s=e.length,o=1/0,i,a;--s>=0;)e[s].defined!==!1&&(a=Math.abs(e[s][r]-n),a<o&&(o=a,i=e[s]));return i}function $Et(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,s,o,i;--r>=0;)if(e[r].defined!==!1&&(s=e[r].x-t[0],o=e[r].y-t[1],i=s*s+o*o,i<n))return e[r];return null}function kEt(e,t){for(var n=e.length,r,s,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],s=e[n].y-t[1],o=r*r+s*s,r=e[n].size||1,o<r*r))return e[n];return null}function UX(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function s(l,u){var c=u.items;return c.length===0?l:(t(ZL(l),c),g0(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const i=bA(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,i(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:s,draw:yEt(o),pick:a,isect:hTe,tip:n}}var EEt=UX("area",sEt,SEt);function _Et(e,t){e.beginPath(),PX(t)?wC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function bTe(e){const t=sc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function TEt(e,t){e("transform",yTe(t))}function wTe(e,t){const n=bTe(t);e("d",wC(null,t,n,n))}function AEt(e,t){e("class","background"),e("aria-hidden",!0),wTe(e,t)}function IEt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?wTe(e,t):e("d","")}function NEt(e,t,n){const r=t.clip?cEt(n,t,t):null;e("clip-path",r)}function DEt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let s=0;s<r;++s)e.union(n[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),g0(e,t),e.translate(t.x||0,t.y||0)}function mE(e,t,n,r){const s=bTe(t);e.beginPath(),wC(e,t,(n||0)+s,(r||0)+s)}const OEt=bA(mE),REt=bA(mE,!1),FEt=bA(mE,!0);function MEt(e,t,n,r){sx(t,s=>{const o=s.x||0,i=s.y||0,a=s.strokeForeground,l=s.opacity==null?1:s.opacity;(s.stroke||s.fill)&&l&&(mE(e,s,o,i),nx(e,s),s.fill&&gR(e,s,l)&&e.fill(),s.stroke&&!a&&rx(e,s,l)&&e.stroke()),e.save(),e.translate(o,i),s.clip&&_Et(e,s),n&&n.translate(-o,-i),sx(s,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,i),e.restore(),a&&s.stroke&&l&&(mE(e,s,o,i),nx(e,s),rx(e,s,l)&&e.stroke())})}function PEt(e,t,n,r,s,o){if(t.bounds&&!t.bounds.contains(s,o)||!t.items)return null;const i=n*e.pixelRatio,a=r*e.pixelRatio;return WW(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(s,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(s<c||s>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=s-c,f=o-f,g&&PX(l)&&!FEt(e,l,i,a))return e.restore(),null;const m=l.strokeForeground,v=t.interactive!==!1;return v&&m&&l.stroke&&REt(e,l,i,a)?(e.restore(),l):(u=WW(l,y=>LEt(y,c,f)?this.pick(y,n,r,c,f):null),!u&&v&&(l.fill||!m&&l.stroke)&&OEt(e,l,i,a)&&(u=l),e.restore(),u||null)})}function LEt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var BEt={type:"group",tag:"g",nested:!1,attr:TEt,bound:DEt,draw:MEt,pick:PEt,isect:pTe,content:NEt,background:AEt,foreground:IEt},zEt={"xmlns:xlink":"http://www.w3.org/1999/xlink"};function jX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function HX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function qX(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function QL(e,t){return e==="center"?t/2:e==="right"?t:0}function eB(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function VEt(e,t,n){const r=jX(t,n),s=HX(t,r),o=qX(t,r),i=(t.x||0)-QL(t.align,s),a=(t.y||0)-eB(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,zEt["xmlns:xlink"],"xlink:href"),e("transform",Jv(i,a)),e("width",s),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function WEt(e,t){const n=t.image,r=HX(t,n),s=qX(t,n),o=(t.x||0)-QL(t.align,r),i=(t.y||0)-eB(t.baseline,s);return e.set(o,i,o+r,i+s)}function UEt(e,t,n){sx(t,r=>{if(n&&!n.intersects(r.bounds))return;const s=jX(r,this);let o=HX(r,s),i=qX(r,s);if(o===0||i===0)return;let a=(r.x||0)-QL(r.align,o),l=(r.y||0)-eB(r.baseline,i),u,c,f,d;r.aspect!==!1&&(c=s.width/s.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(i-d)/2,i=d):(d=i*c,a+=(o-d)/2,o=d))),(s.complete||s.toDataURL)&&(nx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(s,a,l,o,i))})}var jEt={type:"image",tag:"image",nested:!1,attr:VEt,bound:WEt,draw:UEt,pick:JL(),isect:hEe,get:jX,xOffset:QL,yOffset:eB},HEt=UX("line",oEt,$Et);function qEt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",xEt(t)),e("d",t.path)}function p3(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,s=t.y||0,o=t.scaleX||1,i=t.scaleY||1,a=(t.angle||0)*Om,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=uTe(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,s),e.rotate(a),PW(e,l,0,0,o,i),e.rotate(-a),e.translate(-r,-s)):PW(e,l,r,s,o,i)}function GEt(e,t){return p3(ZL(e,t.angle),t)?e.set(0,0,0,0):g0(e,t,!0)}var KEt={type:"path",tag:"path",nested:!1,attr:qEt,bound:GEt,draw:BX(p3),pick:zX(p3),isect:dTe(p3)};function YEt(e,t){e("d",wC(null,t))}function XEt(e,t){var n,r;return g0(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Ple(e,t){e.beginPath(),wC(e,t)}var ZEt={type:"rect",tag:"path",nested:!1,attr:YEt,bound:XEt,draw:BX(Ple),pick:zX(Ple),isect:pTe};function JEt(e,t){e("transform",yTe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function QEt(e,t){var n,r;return g0(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function xTe(e,t,n){var r,s,o,i;return t.stroke&&rx(e,t,n)?(r=t.x||0,s=t.y||0,o=t.x2!=null?t.x2:r,i=t.y2!=null?t.y2:s,e.beginPath(),e.moveTo(r,s),e.lineTo(o,i),!0):!1}function e_t(e,t,n){sx(t,r=>{if(!(n&&!n.intersects(r.bounds))){var s=r.opacity==null?1:r.opacity;s&&xTe(e,r,s)&&(nx(e,r),e.stroke())}})}function t_t(e,t,n,r){return e.isPointInStroke?xTe(e,t,1)&&e.isPointInStroke(n,r):!1}var n_t={type:"rule",tag:"line",nested:!1,attr:JEt,bound:QEt,draw:e_t,pick:JL(t_t),isect:pEt},r_t=WX("shape",iEt),s_t=WX("symbol",aEt,hTe);const Lle=Kxt();var Qv={height:Ny,measureWidth:GX,estimateWidth:mR,width:mR,canvas:CTe};CTe(!0);function CTe(e){Qv.width=e&&tm?GX:mR}function mR(e,t){return STe(vR(e,t),Ny(e))}function STe(e,t){return~~(.8*e.length*t)}function GX(e,t){return Ny(e)<=0||!(t=vR(e,t))?0:$Te(t,YX(e))}function $Te(e,t){const n=`(${t}) ${e}`;let r=Lle.get(n);return r===void 0&&(tm.font=t,r=tm.measureText(e).width,Lle.set(n,r)),r}function Ny(e){return e.fontSize!=null?+e.fontSize||0:11}function vE(e){return e.lineHeight!=null?e.lineHeight:Ny(e)+2}function o_t(e){return ky(e)?e.length>1?e:e[0]:e}function KX(e){return o_t(e.lineBreak&&e.text&&!ky(e.text)?e.text.split(e.lineBreak):e.text)}function kTe(e){const t=KX(e);return(ky(t)?t.length-1:0)*vE(e)}function vR(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?a_t(e,n):n}function i_t(e){if(Qv.width===GX){const t=YX(e);return n=>$Te(n,t)}else if(Qv.width===mR){const t=Ny(e);return n=>STe(n,t)}else return t=>Qv.width(e,t)}function a_t(e,t){var n=+e.limit,r=i_t(e);if(r(t)<n)return t;var s=e.ellipsis||"",o=e.dir==="rtl",i=0,a=t.length,l;if(n-=r(s),o){for(;i<a;)l=i+a>>>1,r(t.slice(l))>n?i=l+1:a=l;return s+t.slice(i)}else{for(;i<a;)l=1+(i+a>>>1),r(t.slice(0,l))<n?i=l:a=l-1;return t.slice(0,i)+s}}function l_t(e,t){var n=e.font;return n||"sans-serif"}function YX(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ny(e)+"px "+l_t(e)}function XX(e){var t=e.baseline,n=Ny(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*vE(e):t==="line-bottom"?.29*n-.5*vE(e):0)}const u_t={left:"start",center:"middle",right:"end"},H$=new vd;function tB(e){var t=e.x||0,n=e.y||0,r=e.radius||0,s;return r&&(s=(e.theta||0)-gv,t+=r*Math.cos(s),n+=r*Math.sin(s)),H$.x1=t,H$.y1=n,H$}function c_t(e,t){var n=t.dx||0,r=(t.dy||0)+XX(t),s=tB(t),o=s.x1,i=s.y1,a=t.angle||0,l;e("text-anchor",u_t[t.align]||"start"),a?(l=Jv(o,i)+" "+VX(a),(n||r)&&(l+=" "+Jv(n,r))):l=Jv(o+n,i+r),e("transform",l)}function ZX(e,t,n){var r=Qv.height(t),s=t.align,o=tB(t),i=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+XX(t)-Math.round(.8*r),c=KX(t),f;if(ky(c)?(r+=vE(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Qv.width(t,h)),0)):f=Qv.width(t,c),s==="center"?l-=f/2:s==="right"&&(l-=f),e.set(l+=i,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Om,i,a);else if(n===2)return e.rotatedPoints(t.angle*Om,i,a);return e}function f_t(e,t,n){sx(t,r=>{var s=r.opacity==null?1:r.opacity,o,i,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||s===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=YX(r),e.textAlign=r.align||"left",o=tB(r),i=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(i,a),e.rotate(r.angle*Om),i=a=0),i+=r.dx||0,a+=(r.dy||0)+XX(r),c=KX(r),nx(e,r),ky(c))for(u=vE(r),l=0;l<c.length;++l)f=vR(r,c[l]),r.fill&&gR(e,r,s)&&e.fillText(f,i,a),r.stroke&&rx(e,r,s)&&e.strokeText(f,i,a),a+=u;else f=vR(r,c),r.fill&&gR(e,r,s)&&e.fillText(f,i,a),r.stroke&&rx(e,r,s)&&e.strokeText(f,i,a);r.angle&&e.restore()}})}function d_t(e,t,n,r,s,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var i=tB(t),a=i.x1,l=i.y1,u=ZX(H$,t,1),c=-t.angle*Om,f=Math.cos(c),d=Math.sin(c),h=f*s-d*o+(a-f*a+d*l),p=d*s+f*o+(l-d*a-f*l);return u.contains(h,p)}function h_t(e,t){const n=ZX(H$,e,2);return h$(t,n[0],n[1],n[2],n[3])||h$(t,n[0],n[1],n[4],n[5])||h$(t,n[4],n[5],n[6],n[7])||h$(t,n[2],n[3],n[6],n[7])}var p_t={type:"text",tag:"text",nested:!1,attr:c_t,bound:ZX,draw:f_t,pick:JL(d_t),isect:h_t},g_t=UX("trail",lEt,kEt),m_t={arc:CEt,area:EEt,group:BEt,image:jEt,line:HEt,path:KEt,rect:ZEt,rule:n_t,shape:r_t,symbol:s_t,text:p_t,trail:g_t};gEe(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]);const Hz=new vd;function v_t(e){const t=e.clip;if(pEe(t))t(ZL(Hz.clear()));else if(t)Hz.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Hz)}const ox="top",vc="left",bc="right",Rm="bottom",y_t="top-left",b_t="top-right",w_t="bottom-left",x_t="bottom-right",JX="start",UW="middle",ba="end",C_t="x",S_t="y",nB="group",QX="axis",eZ="title",$_t="frame",k_t="scope",tZ="legend",ETe="row-header",_Te="row-footer",TTe="row-title",ATe="column-header",ITe="column-footer",NTe="column-title",E_t="padding",__t="symbol",DTe="fit",OTe="fit-x",RTe="fit-y",T_t="pad",nZ="none",vN="all",jW="each",rZ="flush",Og="column",Rg="row";function FTe(e){Ke.call(this,null,e)}Ey(FTe,Ke,{transform(e,t){const n=t.dataflow,r=e.mark,s=r.marktype,o=m_t[s],i=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=yN(r,i),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(s===nB||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(yN(u,i))),r.role){case QX:case tZ:case eZ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(yN(u,i))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(yN(u,i))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return v_t(r),t.modifies("bounds")}});function yN(e,t,n){return t(e.bounds.clear(),e,n)}const Ble=":vega_identifier:";function sZ(e){Ke.call(this,0,e)}sZ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ey(sZ,Ke,{transform(e,t){const n=A_t(t.dataflow),r=e.as;let s=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++s),n.set(this.value=s),t}});function A_t(e){return e._signals[Ble]||(e._signals[Ble]=e.add(0))}function MTe(e){Ke.call(this,null,e)}Ey(MTe,Ke,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,I_t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===nB?fTe:LX;return t.visit(t.ADD,s=>r.call(s,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function I_t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function PTe(e){Ke.call(this,null,e)}const zle={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,s)=>!s||!LTe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},LTe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Vle=(e,t)=>{for(var n=1,r=e.length,s=e[0].bounds,o;n<r;s=o,++n)if(LTe(s,o=e[n].bounds,t))return!0},N_t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},D_t=(e,t,n)=>{var r=e.range(),s=new vd;return t===ox||t===Rm?s.set(r[0],-1/0,r[1],1/0):s.set(-1/0,r[0],1/0,r[1]),s.expand(n||1),o=>s.encloses(o.bounds)},Wle=e=>(e.forEach(t=>t.opacity=1),e),Ule=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ey(PTe,Ke,{transform(e,t){const n=zle[e.method]||zle.parity,r=e.separation||0;let s=t.materialize(t.SOURCE).source,o,i;if(!s||!s.length)return;if(!e.method)return e.modified("method")&&(Wle(s),t=Ule(t,e)),t;if(s=s.filter(N_t),!s.length)return;if(e.sort&&(s=s.slice().sort(e.sort)),o=Wle(s),t=Ule(t,e),o.length>=3&&Vle(o,r)){do o=n(o,r);while(o.length>=3&&Vle(o,r));o.length<3&&!u3(s).opacity&&(o.length>1&&(u3(o).opacity=0),u3(s).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(i=D_t(e.boundScale,e.boundOrient,+e.boundTolerance),s.forEach(l=>{i(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return s.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function BTe(e){Ke.call(this,null,e)}Ey(BTe,Ke,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ai=new vd;function Hb(e,t,n){return e[t]===n?0:(e[t]=n,1)}function O_t(e){var t=e.items[0].orient;return t===vc||t===bc}function R_t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function F_t(e,t,n,r){var s=t.items[0],o=s.datum,i=s.translate!=null?s.translate:.5,a=s.orient,l=R_t(o),u=s.range,c=s.offset,f=s.position,d=s.minExtent,h=s.maxExtent,p=o.title&&s.items[l[2]].items[0],g=s.titlePadding,m=s.bounds,v=p&&kTe(p),y=0,w=0,b,C;switch(Ai.clear().union(m),m.clear(),(b=l[0])>-1&&m.union(s.items[b].bounds),(b=l[1])>-1&&m.union(s.items[b].bounds),a){case ox:y=f||0,w=-c,C=Math.max(d,Math.min(h,-m.y1)),m.add(0,-C).add(u,0),p&&bN(e,p,C,g,v,0,-1,m);break;case vc:y=-c,w=f||0,C=Math.max(d,Math.min(h,-m.x1)),m.add(-C,0).add(0,u),p&&bN(e,p,C,g,v,1,-1,m);break;case bc:y=n+c,w=f||0,C=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(C,u),p&&bN(e,p,C,g,v,1,1,m);break;case Rm:y=f||0,w=r+c,C=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,C),p&&bN(e,p,C,g,0,0,1,m);break;default:y=s.x,w=s.y}return g0(m.translate(y,w),s),Hb(s,"x",y+i)|Hb(s,"y",w+i)&&(s.bounds=Ai,e.dirty(s),s.bounds=m,e.dirty(s)),s.mark.bounds.clear().union(m)}function bN(e,t,n,r,s,o,i,a){const l=t.bounds;if(t.auto){const u=i*(n+s+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const jle=(e,t)=>Math.floor(Math.min(e,t)),Hle=(e,t)=>Math.ceil(Math.max(e,t));function M_t(e){var t=e.items,n=t.length,r=0,s,o;const i={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(s=t[r],o=s.items,s.marktype===nB)switch(s.role){case QX:case tZ:case eZ:break;case ETe:i.rowheaders.push(...o);break;case _Te:i.rowfooters.push(...o);break;case ATe:i.colheaders.push(...o);break;case ITe:i.colfooters.push(...o);break;case TTe:i.rowtitle=o[0];break;case NTe:i.coltitle=o[0];break;default:i.marks.push(...o)}return i}function P_t(e){return new vd().set(0,0,e.width||0,e.height||0)}function L_t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function xs(e,t,n){const r=Uxt(e)?e[t]:e;return r??(n!==void 0?n:0)}function qle(e){return e<0?Math.ceil(-e):0}function zTe(e,t,n){var r=!n.nodirty,s=n.bounds===rZ?P_t:L_t,o=Ai.set(0,0,0,0),i=xs(n.align,Og),a=xs(n.align,Rg),l=xs(n.padding,Og),u=xs(n.padding,Rg),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),v=Array(f),y=0,w=Array(d),b=Array(d),C=Array(d),S,$,k,T,_,E,A,N,F,R,P;for($=0;$<c;++$)p[$]=0;for($=0;$<f;++$)v[$]=0;for($=0;$<d;++$)E=t[$],_=C[$]=s(E),E.x=E.x||0,w[$]=0,E.y=E.y||0,b[$]=0,k=$%c,T=~~($/c),g=Math.max(g,A=Math.ceil(_.x2)),y=Math.max(y,N=Math.ceil(_.y2)),p[k]=Math.max(p[k],A),v[T]=Math.max(v[T],N),h[$]=l+qle(_.x1),m[$]=u+qle(_.y1),r&&e.dirty(t[$]);for($=0;$<d;++$)$%c===0&&(h[$]=0),$<c&&(m[$]=0);if(i===jW)for(k=1;k<c;++k){for(P=0,$=k;$<d;$+=c)P<h[$]&&(P=h[$]);for($=k;$<d;$+=c)h[$]=P+p[k-1]}else if(i===vN){for(P=0,$=0;$<d;++$)$%c&&P<h[$]&&(P=h[$]);for($=0;$<d;++$)$%c&&(h[$]=P+g)}else for(i=!1,k=1;k<c;++k)for($=k;$<d;$+=c)h[$]+=p[k-1];if(a===jW)for(T=1;T<f;++T){for(P=0,$=T*c,S=$+c;$<S;++$)P<m[$]&&(P=m[$]);for($=T*c;$<S;++$)m[$]=P+v[T-1]}else if(a===vN){for(P=0,$=c;$<d;++$)P<m[$]&&(P=m[$]);for($=c;$<d;++$)m[$]=P+y}else for(a=!1,T=1;T<f;++T)for($=T*c,S=$+c;$<S;++$)m[$]+=v[T-1];for(F=0,$=0;$<d;++$)F=h[$]+($%c?F:0),w[$]+=F-t[$].x;for(k=0;k<c;++k)for(R=0,$=k;$<d;$+=c)R+=m[$],b[$]+=R-t[$].y;if(i&&xs(n.center,Og)&&f>1)for($=0;$<d;++$)_=i===vN?g:p[$%c],F=_-C[$].x2-t[$].x-w[$],F>0&&(w[$]+=F/2);if(a&&xs(n.center,Rg)&&c!==1)for($=0;$<d;++$)_=a===vN?y:v[~~($/c)],R=_-C[$].y2-t[$].y-b[$],R>0&&(b[$]+=R/2);for($=0;$<d;++$)o.union(C[$].translate(w[$],b[$]));switch(F=xs(n.anchor,C_t),R=xs(n.anchor,S_t),xs(n.anchor,Og)){case ba:F-=o.width();break;case UW:F-=o.width()/2}switch(xs(n.anchor,Rg)){case ba:R-=o.height();break;case UW:R-=o.height()/2}for(F=Math.round(F),R=Math.round(R),o.clear(),$=0;$<d;++$)t[$].mark.bounds.clear();for($=0;$<d;++$)E=t[$],E.x+=w[$]+=F,E.y+=b[$]+=R,o.union(E.mark.bounds.union(E.bounds.translate(w[$],b[$]))),r&&e.dirty(E);return o}function B_t(e,t,n){var r=M_t(t),s=r.marks,o=n.bounds===rZ?z_t:V_t,i=n.offset,a=n.columns||s.length,l=a<=0?1:Math.ceil(s.length/a),u=l*a,c,f,d,h,p,g,m;const v=zTe(e,s,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(g=xs(n.headerBand,Rg,null),c=wN(e,r.rowheaders,s,a,l,-xs(i,"rowHeader"),jle,0,o,"x1",0,a,1,g)),r.colheaders&&(g=xs(n.headerBand,Og,null),f=wN(e,r.colheaders,s,a,a,-xs(i,"columnHeader"),jle,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=xs(n.footerBand,Rg,null),d=wN(e,r.rowfooters,s,a,l,xs(i,"rowFooter"),Hle,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=xs(n.footerBand,Og,null),h=wN(e,r.colfooters,s,a,a,xs(i,"columnFooter"),Hle,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=xs(n.titleAnchor,Rg),m=xs(i,"rowTitle"),m=p===ba?d+m:c-m,g=xs(n.titleBand,Rg,.5),Gle(e,r.rowtitle,m,0,v,g)),r.coltitle&&(p=xs(n.titleAnchor,Og),m=xs(i,"columnTitle"),m=p===ba?h+m:f-m,g=xs(n.titleBand,Og,.5),Gle(e,r.coltitle,m,1,v,g))}function z_t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function V_t(e,t){return e.bounds[t]}function wN(e,t,n,r,s,o,i,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,v,y,w,b,C,S,$,k,T;if(!p)return g;for(v=c;v<p;v+=f)n[v]&&(g=i(g,l(n[v],u)));if(!t.length)return g;for(t.length>s&&(e.warn("Grid headers exceed limit: "+s),t=t.slice(0,s)),g+=o,y=0,b=t.length;y<b;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(v=c,y=0,b=t.length;y<b;++y,v+=f){for(S=t[y],C=S.mark.bounds,w=v;w>=0&&($=n[w])==null;w-=d);a?(k=h==null?$.x:Math.round($.bounds.x1+h*$.bounds.width()),T=g):(k=g,T=h==null?$.y:Math.round($.bounds.y1+h*$.bounds.height())),C.union(S.bounds.translate(k-(S.x||0),T-(S.y||0))),S.x=k,S.y=T,e.dirty(S),m=i(m,C[u])}return m}function Gle(e,t,n,r,s,o){if(t){e.dirty(t);var i=n,a=n;r?i=Math.round(s.x1+o*s.width()):a=Math.round(s.y1+o*s.height()),t.bounds.translate(i-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=i,t.y=a,e.dirty(t)}}function W_t(e,t){const n=e[t]||{};return(r,s)=>n[r]!=null?n[r]:e[r]!=null?e[r]:s}function U_t(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function j_t(e,t,n,r,s,o,i){const a=W_t(n,t),l=U_t(e,a("offset",0)),u=a("anchor",JX),c=u===ba?1:u===UW?.5:0,f={align:jW,bounds:a("bounds",rZ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case vc:f.anchor={x:Math.floor(r.x1)-l,column:ba,y:c*(i||r.height()+2*r.y1),row:u};break;case bc:f.anchor={x:Math.ceil(r.x2)+l,y:c*(i||r.height()+2*r.y1),row:u};break;case ox:f.anchor={y:Math.floor(s.y1)-l,row:ba,x:c*(o||s.width()+2*s.x1),column:u};break;case Rm:f.anchor={y:Math.ceil(s.y2)+l,x:c*(o||s.width()+2*s.x1),column:u};break;case y_t:f.anchor={x:l,y:l};break;case b_t:f.anchor={x:o-l,y:l,column:ba};break;case w_t:f.anchor={x:l,y:i-l,row:ba};break;case x_t:f.anchor={x:o-l,y:i-l,column:ba,row:ba};break}return f}function H_t(e,t){var n=t.items[0],r=n.datum,s=n.orient,o=n.bounds,i=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),G_t(e,n,n.items[0].items[0]),o=q_t(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===__t&&K_t(n.items[0].items[0].items[0].items),s!==nZ&&(n.x=i=0,n.y=a=0),n.width=l,n.height=u,g0(o.set(i,a,i+l,a+u),n),n.mark.bounds.clear().union(o),n}function q_t(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function G_t(e,t,n){var r=t.padding,s=r-n.x,o=r-n.y;if(!t.datum.title)(s||o)&&SS(e,n,s,o);else{var i=t.items[1].items[0],a=i.anchor,l=t.titlePadding||0,u=r-i.x,c=r-i.y;switch(i.orient){case vc:s+=Math.ceil(i.bounds.width())+l;break;case bc:case Rm:break;default:o+=i.bounds.height()+l}switch((s||o)&&SS(e,n,s,o),i.orient){case vc:c+=mb(t,n,i,a,1,1);break;case bc:u+=mb(t,n,i,ba,0,0)+l,c+=mb(t,n,i,a,1,1);break;case Rm:u+=mb(t,n,i,a,0,0),c+=mb(t,n,i,ba,-1,0,1)+l;break;default:u+=mb(t,n,i,a,0,0)}(u||c)&&SS(e,i,u,c),(u=Math.round(i.bounds.x1-r))<0&&(SS(e,n,-u,0),SS(e,i,-u,0))}}function mb(e,t,n,r,s,o,i){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!i?t.items[0]:t,c=u.bounds[s?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=s<=0?0:kTe(n);return Math.round(r===JX?f:r===ba?d-h:.5*(c-h))}function SS(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function K_t(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function Y_t(e,t,n,r,s){var o=t.items[0],i=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===vc||a===bc?r:n,p=0,g=0,m=0,v=0,y=0,w;if(i!==nB?a===vc?(p=s.y2,h=s.y1):a===bc?(p=s.y1,h=s.y2):(p=s.x1,h=s.x2):a===vc&&(p=r,h=0),w=l===JX?p:l===ba?h:(p+h)/2,d&&d.text){switch(a){case ox:case Rm:y=f.bounds.height()+c;break;case vc:v=f.bounds.width()+c;break;case bc:v=-f.bounds.width()-c;break}Ai.clear().union(d.bounds),Ai.translate(v-(d.x||0),y-(d.y||0)),Hb(d,"x",v)|Hb(d,"y",y)&&(e.dirty(d),d.bounds.clear().union(Ai),d.mark.bounds.clear().union(Ai),e.dirty(d)),Ai.clear().union(d.bounds)}else Ai.clear();switch(Ai.union(f.bounds),a){case ox:g=w,m=s.y1-Ai.height()-u;break;case vc:g=s.x1-Ai.width()-u,m=w;break;case bc:g=s.x2+Ai.width()+u,m=w;break;case Rm:g=w,m=s.y2+u;break;default:g=o.x,m=o.y}return Hb(o,"x",g)|Hb(o,"y",m)&&(Ai.translate(g,m),e.dirty(o),o.bounds.clear().union(Ai),t.bounds.clear().union(Ai),e.dirty(o)),o.bounds}function VTe(e){Ke.call(this,null,e)}Ey(VTe,Ke,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&B_t(n,r,e.layout),Z_t(n,r,e)}),X_t(e.mark.group)?t.reflow():t}});function X_t(e){return e&&e.mark.role!=="legend-entry"}function Z_t(e,t,n){var r=t.items,s=Math.max(0,t.width||0),o=Math.max(0,t.height||0),i=new vd().set(0,0,s,o),a=i.clone(),l=i.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case QX:h=O_t(f)?a:l,h.union(F_t(e,f,s,o));break;case eZ:c=f;break;case tZ:u.push(H_t(e,f));break;case $_t:case k_t:case ETe:case _Te:case TTe:case ATe:case ITe:case NTe:a.union(f.bounds),l.union(f.bounds);break;default:i.union(f.bounds)}if(u.length){const m={};u.forEach(v=>{d=v.orient||bc,d!==nZ&&(m[d]||(m[d]=[])).push(v)});for(const v in m){const y=m[v];zTe(e,y,j_t(y,v,n.legends,a,l,s,o))}u.forEach(v=>{const y=v.bounds;if(y.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=y,e.dirty(v)),n.autosize&&(n.autosize.type===DTe||n.autosize.type===OTe||n.autosize.type===RTe))switch(v.orient){case vc:case bc:i.add(y.x1,0).add(y.x2,0);break;case ox:case Rm:i.add(0,y.y1).add(0,y.y2)}else i.union(y)})}i.union(a).union(l),c&&i.union(Y_t(e,c,s,o,i)),t.clip&&i.set(0,0,t.width||0,t.height||0),J_t(e,t,i,n)}function J_t(e,t,n,r){const s=r.autosize||{},o=s.type;if(e._autosize<1||!o)return;let i=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(s.contains===E_t){const p=e.padding();i-=p.left+p.right,a-=p.top+p.bottom}o===nZ?(u=0,f=0,l=i,c=a):o===DTe?(l=Math.max(0,i-u-d),c=Math.max(0,a-f-h)):o===OTe?(l=Math.max(0,i-u-d),a=c+f+h):o===RTe?(i=l+u+d,c=Math.max(0,a-f-h)):o===T_t&&(i=l+u+d,a=c+f+h),e._resizeView(i,a,l,c,[u,f],s.resize)}const Q_t=Object.freeze(Object.defineProperty({__proto__:null,bound:FTe,identifier:sZ,mark:MTe,overlap:PTe,render:BTe,viewlayout:VTe},Symbol.toStringTag,{value:"Module"}));function Md(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function m0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const HW=Symbol("implicit");function oZ(){var e=new Map,t=[],n=[],r=HW;function s(o){var i=o+"",a=e.get(i);if(!a){if(r!==HW)return r;e.set(i,a=t.push(o))}return n[(a-1)%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of o){const a=i+"";e.has(a)||e.set(a,t.push(i))}return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return oZ(t,n).unknown(r)},Md.apply(s,arguments),s}function eTt(e){return function(){return e}}function qW(e){return+e}var Kle=[0,1];function al(e){return e}function GW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eTt(isNaN(t)?NaN:.5)}function tTt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nTt(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=GW(s,r),o=n(i,o)):(r=GW(r,s),o=n(o,i)),function(a){return o(r(a))}}function rTt(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=GW(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=Em(e,a,1,r)-1;return o[l](s[l](a))}}function wA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rB(){var e=Kle,t=Kle,n=p0,r,s,o,i=al,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==al&&(i=tTt(e[0],e[d-1])),a=d>2?rTt:nTt,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),hc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,qW),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=pA,c()},f.clamp=function(d){return arguments.length?(i=d?!0:al,c()):i!==al},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function WTe(){return rB()(al,al)}function yR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ix(e){return e=yR(Math.abs(e)),e?e[1]:NaN}function sTt(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function oTt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iTt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function D1(e){return new iZ(e)}D1.prototype=iZ.prototype;function iZ(e){if(!(t=iTt.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}iZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aTt(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(r>0){if(!+e[n])break e;r=0}break}return r>0?e.slice(0,r)+e.slice(s+1):e}var UTe;function lTt(e,t){var n=yR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(UTe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yR(e,Math.max(0,t+o-1))[0]}function Yle(e,t){var n=yR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const Xle={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Yle(e*100,t)},r:Yle,s:lTt,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Zle(e){return e}var Jle=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jTe(e){var t=e.grouping&&e.thousands?sTt(e.grouping,e.thousands):Zle,n=e.currency,r=e.decimal,s=e.numerals?oTt(e.numerals):Zle,o=e.percent||"%";function i(l){l=D1(l);var u=l.fill,c=l.align,f=l.sign,d=l.symbol,h=l.zero,p=l.width,g=l.comma,m=l.precision,v=l.trim,y=l.type;y==="n"?(g=!0,y="g"):Xle[y]||(m==null&&(m=12),v=!0,y="g"),(h||u==="0"&&c==="=")&&(h=!0,u="0",c="=");var w=d==="$"?n[0]:d==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b=d==="$"?n[1]:/[%p]/.test(y)?o:"",C=Xle[y],S=/[defgprs%]/.test(y);m=m==null?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function $(k){var T=w,_=b,E,A,N;if(y==="c")_=C(k)+_,k="";else{k=+k;var F=k<0;if(k=C(Math.abs(k),m),v&&(k=aTt(k)),F&&+k==0&&(F=!1),T=(F?f==="("?f:"-":f==="-"||f==="("?"":f)+T,_=(y==="s"?Jle[8+UTe/3]:"")+_+(F&&f==="("?")":""),S){for(E=-1,A=k.length;++E<A;)if(N=k.charCodeAt(E),48>N||N>57){_=(N===46?r+k.slice(E+1):k.slice(E))+_,k=k.slice(0,E);break}}}g&&!h&&(k=t(k,1/0));var R=T.length+k.length+_.length,P=R<p?new Array(p-R+1).join(u):"";switch(g&&h&&(k=t(P+k,P.length?p-_.length:1/0),P=""),c){case"<":k=T+k+_+P;break;case"=":k=T+P+k+_;break;case"^":k=P.slice(0,R=P.length>>1)+T+k+_+P.slice(R);break;default:k=P+T+k+_;break}return s(k)}return $.toString=function(){return l+""},$}function a(l,u){var c=i((l=D1(l),l.type="f",l)),f=Math.max(-8,Math.min(8,Math.floor(ix(u)/3)))*3,d=Math.pow(10,-f),h=Jle[8+f/3];return function(p){return c(d*p)+h}}return{format:i,formatPrefix:a}}var xN,xC,sB;HTe({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function HTe(e){return xN=jTe(e),xC=xN.format,sB=xN.formatPrefix,xN}function aZ(e){return Math.max(0,-ix(Math.abs(e)))}function lZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ix(t)/3)))*3-ix(Math.abs(e)))}function uZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ix(t)-ix(e))+1}const uTt=Object.freeze(Object.defineProperty({__proto__:null,get format(){return xC},formatDefaultLocale:HTe,formatLocale:jTe,get formatPrefix(){return sB},formatSpecifier:D1,precisionFixed:aZ,precisionPrefix:lZ,precisionRound:uZ},Symbol.toStringTag,{value:"Module"}));function qTe(e,t,n,r){var s=_m(e,t,n),o;switch(r=D1(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=lZ(s,i))&&(r.precision=o),sB(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aZ(s))&&(r.precision=o-(r.type==="%")*2);break}}return xC(r)}function Dy(e){var t=e.domain;return e.ticks=function(n){var r=t();return pW(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return qTe(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=tke(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function GTe(){var e=WTe();return e.copy=function(){return wA(e,GTe())},Md.apply(e,arguments),Dy(e)}function KTe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,qW),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return KTe(e).unknown(t)},e=arguments.length?Array.from(e,qW):[0,1],Dy(n)}function YTe(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function Qle(e){return Math.log(e)}function eue(e){return Math.exp(e)}function cTt(e){return-Math.log(-e)}function fTt(e){return-Math.exp(-e)}function dTt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hTt(e){return e===10?dTt:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function pTt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function tue(e){return function(t){return-e(-t)}}function cZ(e){var t=e(Qle,eue),n=t.domain,r=10,s,o;function i(){return s=pTt(r),o=hTt(r),n()[0]<0?(s=tue(s),o=tue(o),e(cTt,fTt)):e(Qle,eue),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=function(a){var l=n(),u=l[0],c=l[l.length-1],f;(f=c<u)&&(d=u,u=c,c=d);var d=s(u),h=s(c),p,g,m,v=a==null?10:+a,y=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(g=1,p=o(d);g<r;++g)if(m=p*g,!(m<u)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(g=r-1,p=o(d);g>=1;--g)if(m=p*g,!(m<u)){if(m>c)break;y.push(m)}y.length*2<v&&(y=pW(u,c,v))}else y=pW(d,h,Math.min(h-d,v)).map(o);return f?y.reverse():y},t.tickFormat=function(a,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=xC(l)),a===1/0)return l;a==null&&(a=10);var u=Math.max(1,r*a/t.ticks().length);return function(c){var f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=function(){return n(YTe(n(),{floor:function(a){return o(Math.floor(s(a)))},ceil:function(a){return o(Math.ceil(s(a)))}}))},t}function XTe(){var e=cZ(rB()).domain([1,10]);return e.copy=function(){return wA(e,XTe()).base(e.base())},Md.apply(e,arguments),e}function nue(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rue(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fZ(e){var t=1,n=e(nue(t),rue(t));return n.constant=function(r){return arguments.length?e(nue(t=+r),rue(t)):t},Dy(n)}function ZTe(){var e=fZ(rB());return e.copy=function(){return wA(e,ZTe()).constant(e.constant())},Md.apply(e,arguments)}function sue(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gTt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mTt(e){return e<0?-e*e:e*e}function dZ(e){var t=e(al,al),n=1;function r(){return n===1?e(al,al):n===.5?e(gTt,mTt):e(sue(n),sue(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Dy(t)}function hZ(){var e=dZ(rB());return e.copy=function(){return wA(e,hZ()).exponent(e.exponent())},Md.apply(e,arguments),e}function vTt(){return hZ.apply(null,arguments).exponent(.5)}function JTe(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=rke(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[Em(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fC),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JTe().domain(e).range(t).unknown(r)},Md.apply(o,arguments)}function QTe(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[Em(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return QTe().domain([e,t]).range(s).unknown(o)},Md.apply(Dy(i),arguments)}function eAe(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[Em(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return eAe().domain(e).range(t).unknown(n)},Md.apply(s,arguments)}function qz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $S(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tAe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,i=e.shortDays,a=e.months,l=e.shortMonths,u=kS(s),c=ES(s),f=kS(o),d=ES(o),h=kS(i),p=ES(i),g=kS(a),m=ES(a),v=kS(l),y=ES(l),w={a:I,A:D,b:M,B:z,c:null,d:cue,e:cue,f:zTt,g:XTt,G:JTt,H:PTt,I:LTt,j:BTt,L:nAe,m:VTt,M:WTt,p:W,q:H,Q:hue,s:pue,S:UTt,u:jTt,U:HTt,V:qTt,w:GTt,W:KTt,x:null,X:null,y:YTt,Y:ZTt,Z:QTt,"%":due},b={a:U,A:K,b:G,B:re,c:null,d:fue,e:fue,f:rAt,g:hAt,G:gAt,H:eAt,I:tAt,j:nAt,L:sAe,m:sAt,M:oAt,p:ue,q:ae,Q:hue,s:pue,S:iAt,u:aAt,U:lAt,V:uAt,w:cAt,W:fAt,x:null,X:null,y:dAt,Y:pAt,Z:mAt,"%":due},C={a:_,A:E,b:A,B:N,c:F,d:lue,e:lue,f:OTt,g:aue,G:iue,H:uue,I:uue,j:ATt,L:DTt,m:TTt,M:ITt,p:T,q:_Tt,Q:FTt,s:MTt,S:NTt,u:CTt,U:STt,V:$Tt,w:xTt,W:kTt,x:R,X:P,y:aue,Y:iue,Z:ETt,"%":RTt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b);function S(X,J){return function(q){var L=[],Q=-1,se=0,de=X.length,he,ge,$e;for(q instanceof Date||(q=new Date(+q));++Q<de;)X.charCodeAt(Q)===37&&(L.push(X.slice(se,Q)),(ge=oue[he=X.charAt(++Q)])!=null?he=X.charAt(++Q):ge=he==="e"?" ":"0",($e=J[he])&&(he=$e(q,ge)),L.push(he),se=Q+1);return L.push(X.slice(se,Q)),L.join("")}}function $(X,J){return function(q){var L=$S(1900,void 0,1),Q=k(L,X,q+="",0),se,de;if(Q!=q.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(J&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(se=Gz($S(L.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?sR.ceil(se):sR(se),se=qh.offset(se,(L.V-1)*7),L.y=se.getUTCFullYear(),L.m=se.getUTCMonth(),L.d=se.getUTCDate()+(L.w+6)%7):(se=qz($S(L.y,0,1)),de=se.getDay(),se=de>4||de===0?rR.ceil(se):rR(se),se=Hh.offset(se,(L.V-1)*7),L.y=se.getFullYear(),L.m=se.getMonth(),L.d=se.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),de="Z"in L?Gz($S(L.y,0,1)).getUTCDay():qz($S(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(de+5)%7:L.w+L.U*7-(de+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Gz(L)):qz(L)}}function k(X,J,q,L){for(var Q=0,se=J.length,de=q.length,he,ge;Q<se;){if(L>=de)return-1;if(he=J.charCodeAt(Q++),he===37){if(he=J.charAt(Q++),ge=C[he in oue?J.charAt(Q++):he],!ge||(L=ge(X,q,L))<0)return-1}else if(he!=q.charCodeAt(L++))return-1}return L}function T(X,J,q){var L=u.exec(J.slice(q));return L?(X.p=c.get(L[0].toLowerCase()),q+L[0].length):-1}function _(X,J,q){var L=h.exec(J.slice(q));return L?(X.w=p.get(L[0].toLowerCase()),q+L[0].length):-1}function E(X,J,q){var L=f.exec(J.slice(q));return L?(X.w=d.get(L[0].toLowerCase()),q+L[0].length):-1}function A(X,J,q){var L=v.exec(J.slice(q));return L?(X.m=y.get(L[0].toLowerCase()),q+L[0].length):-1}function N(X,J,q){var L=g.exec(J.slice(q));return L?(X.m=m.get(L[0].toLowerCase()),q+L[0].length):-1}function F(X,J,q){return k(X,t,J,q)}function R(X,J,q){return k(X,n,J,q)}function P(X,J,q){return k(X,r,J,q)}function I(X){return i[X.getDay()]}function D(X){return o[X.getDay()]}function M(X){return l[X.getMonth()]}function z(X){return a[X.getMonth()]}function W(X){return s[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function U(X){return i[X.getUTCDay()]}function K(X){return o[X.getUTCDay()]}function G(X){return l[X.getUTCMonth()]}function re(X){return a[X.getUTCMonth()]}function ue(X){return s[+(X.getUTCHours()>=12)]}function ae(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var J=S(X+="",w);return J.toString=function(){return X},J},parse:function(X){var J=$(X+="",!1);return J.toString=function(){return X},J},utcFormat:function(X){var J=S(X+="",b);return J.toString=function(){return X},J},utcParse:function(X){var J=$(X+="",!0);return J.toString=function(){return X},J}}}var oue={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,yTt=/^%/,bTt=/[\\^$*+?|[\]().{}]/g;function kr(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function wTt(e){return e.replace(bTt,"\\$&")}function kS(e){return new RegExp("^(?:"+e.map(wTt).join("|")+")","i")}function ES(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function xTt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function CTt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function STt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $Tt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iue(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ETt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _Tt(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function TTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ATt(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uue(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ITt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function NTt(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function DTt(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OTt(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RTt(e,t,n){var r=yTt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function FTt(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MTt(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cue(e,t){return kr(e.getDate(),t,2)}function PTt(e,t){return kr(e.getHours(),t,2)}function LTt(e,t){return kr(e.getHours()%12||12,t,2)}function BTt(e,t){return kr(1+Hh.count(pd(e),e),t,3)}function nAe(e,t){return kr(e.getMilliseconds(),t,3)}function zTt(e,t){return nAe(e,t)+"000"}function VTt(e,t){return kr(e.getMonth()+1,t,2)}function WTt(e,t){return kr(e.getMinutes(),t,2)}function UTt(e,t){return kr(e.getSeconds(),t,2)}function jTt(e){var t=e.getDay();return t===0?7:t}function HTt(e,t){return kr(hC.count(pd(e)-1,e),t,2)}function rAe(e){var t=e.getDay();return t>=4||t===0?Gw(e):Gw.ceil(e)}function qTt(e,t){return e=rAe(e),kr(Gw.count(pd(e),e)+(pd(e).getDay()===4),t,2)}function GTt(e){return e.getDay()}function KTt(e,t){return kr(rR.count(pd(e)-1,e),t,2)}function YTt(e,t){return kr(e.getFullYear()%100,t,2)}function XTt(e,t){return e=rAe(e),kr(e.getFullYear()%100,t,2)}function ZTt(e,t){return kr(e.getFullYear()%1e4,t,4)}function JTt(e,t){var n=e.getDay();return e=n>=4||n===0?Gw(e):Gw.ceil(e),kr(e.getFullYear()%1e4,t,4)}function QTt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kr(t/60|0,"0",2)+kr(t%60,"0",2)}function fue(e,t){return kr(e.getUTCDate(),t,2)}function eAt(e,t){return kr(e.getUTCHours(),t,2)}function tAt(e,t){return kr(e.getUTCHours()%12||12,t,2)}function nAt(e,t){return kr(1+qh.count(gd(e),e),t,3)}function sAe(e,t){return kr(e.getUTCMilliseconds(),t,3)}function rAt(e,t){return sAe(e,t)+"000"}function sAt(e,t){return kr(e.getUTCMonth()+1,t,2)}function oAt(e,t){return kr(e.getUTCMinutes(),t,2)}function iAt(e,t){return kr(e.getUTCSeconds(),t,2)}function aAt(e){var t=e.getUTCDay();return t===0?7:t}function lAt(e,t){return kr(pC.count(gd(e)-1,e),t,2)}function oAe(e){var t=e.getUTCDay();return t>=4||t===0?Kw(e):Kw.ceil(e)}function uAt(e,t){return e=oAe(e),kr(Kw.count(gd(e),e)+(gd(e).getUTCDay()===4),t,2)}function cAt(e){return e.getUTCDay()}function fAt(e,t){return kr(sR.count(gd(e)-1,e),t,2)}function dAt(e,t){return kr(e.getUTCFullYear()%100,t,2)}function hAt(e,t){return e=oAe(e),kr(e.getUTCFullYear()%100,t,2)}function pAt(e,t){return kr(e.getUTCFullYear()%1e4,t,4)}function gAt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kw(e):Kw.ceil(e),kr(e.getUTCFullYear()%1e4,t,4)}function mAt(){return"+0000"}function due(){return"%"}function hue(e){return+e}function pue(e){return Math.floor(+e/1e3)}var vb,oB,iAe,iB,aAe;vAt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vAt(e){return vb=tAe(e),oB=vb.format,iAe=vb.parse,iB=vb.utcFormat,aAe=vb.utcParse,vb}function yAt(e){return new Date(e)}function bAt(e){return e instanceof Date?+e:+new Date(+e)}function pZ(e,t,n,r,s,o,i,a,l,u){var c=WTe(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),b=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?w:b)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,bAt)):d().map(yAt)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d(YTe($,S)):c},c.copy=function(){return wA(c,pZ(e,t,n,r,s,o,i,a,l,u))},c}function wAt(){return Md.apply(pZ(Pwt,Lwt,pd,uE,hC,Hh,kL,$L,Dh,oB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xAt(){return Md.apply(pZ(Fwt,Mwt,gd,cE,pC,qh,_L,EL,Dh,iB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aB(){var e=0,t=1,n,r,s,o,i=al,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(p0),u.rangeRound=c(pA),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function v0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gZ(){var e=Dy(aB()(al));return e.copy=function(){return v0(e,gZ())},m0.apply(e,arguments)}function lAe(){var e=cZ(aB()).domain([1,10]);return e.copy=function(){return v0(e,lAe()).base(e.base())},m0.apply(e,arguments)}function uAe(){var e=fZ(aB());return e.copy=function(){return v0(e,uAe()).constant(e.constant())},m0.apply(e,arguments)}function mZ(){var e=dZ(aB());return e.copy=function(){return v0(e,mZ()).exponent(e.exponent())},m0.apply(e,arguments)}function CAt(){return mZ.apply(null,arguments).exponent(.5)}function lB(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=al,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,w;return arguments.length?([v,y,w]=m,u=NX(g,[v,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(p0),h.rangeRound=p(pA),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function cAe(){var e=Dy(lB()(al));return e.copy=function(){return v0(e,cAe())},m0.apply(e,arguments)}function fAe(){var e=cZ(lB()).domain([.1,1,10]);return e.copy=function(){return v0(e,fAe()).base(e.base())},m0.apply(e,arguments)}function dAe(){var e=fZ(lB());return e.copy=function(){return v0(e,dAe()).constant(e.constant())},m0.apply(e,arguments)}function vZ(){var e=dZ(lB());return e.copy=function(){return v0(e,vZ()).exponent(e.exponent())},m0.apply(e,arguments)}function SAt(){return vZ.apply(null,arguments).exponent(.5)}function yZ(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const $At="identity",ax="linear",dp="log",xA="pow",CA="sqrt",uB="symlog",O1="time",R1="utc",Xf="sequential",CC="diverging",lx="quantile",cB="quantize",fB="threshold",bZ="ordinal",KW="point",hAe="band",wZ="bin-ordinal",Do="continuous",SA="discrete",$A="discretizing",Ju="interpolating",xZ="temporal";function kAt(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function EAt(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function CZ(){const e=oZ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=yZ(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=Hl(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,w;if(!(g!==g||m!==m)&&(m<g&&(w=g,g=m,m=w),!(m<h[0]||g>r[1-d])))return v=Math.max(0,Em(h,g)-1),y=g===m?v:Em(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(w=v,v=p-y,y=p-w),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return CZ().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function pAe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return pAe(t())},e}function _At(){return pAe(CZ().paddingInner(1))}var TAt=Array.prototype.map;function AAt(e){return TAt.call(e,xm)}const IAt=Array.prototype.slice;function gAe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Em(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=AAt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=IAt.call(r),n):t.slice()},n.tickFormat=function(r,s){return qTe(e[0],Xr(e),r??10,s)},n.copy=function(){return gAe().domain(n.domain()).range(n.range())},n}const bR={};function NAt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?kAt(o):o.invertExtent?EAt(o):void 0),o.type=e,o};return r.metadata=ap(Mn(n)),r}function Tr(e,t,n){return arguments.length>1?(bR[e]=NAt(e,t,n),this):mAe(e)?bR[e]:void 0}Tr($At,KTe);Tr(ax,GTe,Do);Tr(dp,XTe,[Do,dp]);Tr(xA,hZ,Do);Tr(CA,vTt,Do);Tr(uB,ZTe,Do);Tr(O1,wAt,[Do,xZ]);Tr(R1,xAt,[Do,xZ]);Tr(Xf,gZ,[Do,Ju]);Tr("".concat(Xf,"-").concat(ax),gZ,[Do,Ju]);Tr("".concat(Xf,"-").concat(dp),lAe,[Do,Ju,dp]);Tr("".concat(Xf,"-").concat(xA),mZ,[Do,Ju]);Tr("".concat(Xf,"-").concat(CA),CAt,[Do,Ju]);Tr("".concat(Xf,"-").concat(uB),uAe,[Do,Ju]);Tr("".concat(CC,"-").concat(ax),cAe,[Do,Ju]);Tr("".concat(CC,"-").concat(dp),fAe,[Do,Ju,dp]);Tr("".concat(CC,"-").concat(xA),vZ,[Do,Ju]);Tr("".concat(CC,"-").concat(CA),SAt,[Do,Ju]);Tr("".concat(CC,"-").concat(uB),dAe,[Do,Ju]);Tr(lx,JTe,[$A,lx]);Tr(cB,QTe,$A);Tr(fB,eAe,$A);Tr(wZ,gAe,[SA,$A]);Tr(bZ,oZ,SA);Tr(hAe,CZ,SA);Tr(KW,_At,SA);function mAe(e){return Pn(bR,e)}function Oy(e,t){const n=bR[e];return n&&n.metadata[t]}function SZ(e){return Oy(e,Do)}function ux(e){return Oy(e,SA)}function YW(e){return Oy(e,$A)}function vAe(e){return Oy(e,dp)}function DAt(e){return Oy(e,xZ)}function yAe(e){return Oy(e,Ju)}function bAe(e){return Oy(e,lx)}const OAt=["clamp","base","constant","exponent"];function wAe(e,t){const n=t[0],r=Xr(t)-n;return function(s){return e(n+s*r)}}function dB(e,t,n){return NX($Z(t||"rgb",n),e)}function xAe(e,t){const n=new Array(t),r=t+1;for(let s=0;s<t;)n[s]=e(++s/r);return n}function CAe(e,t,n){const r=n-t;let s,o,i;return!r||!Number.isFinite(r)?Pu(.5):(s=(o=e.type).indexOf("-"),o=s<0?o:o.slice(s+1),i=Tr(o)().domain([t,n]).range([0,1]),OAt.forEach(a=>e[a]?i[a](e[a]()):0),i)}function $Z(e,t){const n=V$t[RAt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function RAt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const FAt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},MAt={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function SAe(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function $Ae(e,t){for(const n in e)kZ(n,t(e[n]))}const gue={};$Ae(MAt,SAe);$Ae(FAt,e=>dB(SAe(e)));function kZ(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(gue[e]=t,this):gue[e]}const g3="symbol",PAt="discrete",LAt="gradient",BAt=e=>jn(e)?e.map(t=>String(t)):String(e),zAt=(e,t)=>e[1]-t[1],VAt=(e,t)=>t[1]-e[1];function EZ(e,t,n){let r;return _1(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(uL(e.domain())/n||1)))),tr(t)&&(r=t.step,t=t.interval),ys(t)&&(t=e.type===O1?gC(t):e.type==R1?mC(t):gt("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function kAe(e,t,n){let r=e.range(),s=r[0],o=Xr(r),i=zAt;if(s>o&&(r=o,o=s,s=r,i=VAt),s=Math.floor(s),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>s<=a[1]&&a[1]<=o).sort(i).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Xr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function _Z(e,t){return e.bins?kAe(e,e.bins):e.ticks?e.ticks(t):e.domain()}function EAe(e,t,n,r,s,o){const i=t.type;let a=BAt;if(i===O1||s===O1)a=e.timeFormat(r);else if(i===R1||s===R1)a=e.utcFormat(r);else if(vAe(i)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=_Ae(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function _Ae(e,t,n){const r=_Z(e,t),s=e.base(),o=Math.log(s),i=Math.max(1,s*t/r.length),a=l=>{let u=l/Math.pow(s,Math.round(Math.log(l)/o));return u*s<s-.5&&(u*=s),u<=i};return n?r.filter(a):a}const XW={[lx]:"quantiles",[cB]:"thresholds",[fB]:"domain"},TAe={[lx]:"quantiles",[cB]:"domain"};function AAe(e,t){return e.bins?jAt(e.bins):e.type===dp?_Ae(e,t,!0):XW[e.type]?UAt(e[XW[e.type]]()):_Z(e,t)}function WAt(e,t,n){const r=t[TAe[t.type]](),s=r.length;let o=s>1?r[1]-r[0]:r[0],i;for(i=1;i<s;++i)o=Math.min(o,r[i]-r[i-1]);return e.formatSpan(0,o,30,n)}function UAt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function jAt(e){const t=e.slice(0,-1);return t.max=Xr(e),t}const HAt=e=>XW[e.type]||e.bins;function IAe(e,t,n,r,s,o,i){const a=TAe[t.type]&&o!==O1&&o!==R1?WAt(e,t,s):EAe(e,t,n,s,o,i);return r===g3&&HAt(t)?qAt(a):r===PAt?GAt(a):KAt(a)}const qAt=e=>(t,n,r)=>{const s=mue(r[n+1],mue(r.max,1/0)),o=vue(t,e),i=vue(s,e);return o&&i?o+"  "+i:i?"< "+i:" "+o},mue=(e,t)=>e??t,GAt=e=>(t,n)=>n?e(t):null,KAt=e=>t=>e(t),vue=(e,t)=>Number.isFinite(e)?t(e):null;function YAt(e){const t=e.domain(),n=t.length-1;let r=+t[0],s=+Xr(t),o=s-r;if(e.type===fB){const i=n?o/n:.1;r-=i,s+=i,o=s-r}return i=>(i-r)/o}function XAt(e,t,n,r){const s=r||t.type;return ys(n)&&DAt(s)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&s===O1?e.timeFormat("%A, %d %B %Y, %X"):!n&&s===R1?e.utcFormat("%A, %d %B %Y, %X UTC"):IAe(e,t,5,null,n,r,!0)}function NAe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),s=XAt(e,t,n.format,n.formatType);if(YW(t.type)){const o=AAe(t).slice(1).map(s),i=o.length;return"".concat(i," boundar").concat(i===1?"y":"ies",": ").concat(o.join(", "))}else if(ux(t.type)){const o=t.domain(),i=o.length,a=i>r?o.slice(0,r-2).map(s).join(", ")+", ending with "+o.slice(-1).map(s):o.map(s).join(", ");return"".concat(i," value").concat(i===1?"":"s",": ").concat(a)}else{const o=t.domain();return"values from ".concat(s(o[0])," to ").concat(s(Xr(o)))}}function DAe(e){Ke.call(this,null,e)}Nt(DAe,Ke,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.scale,i=e.count==null?e.values?e.values.length:10:e.count,a=EZ(o,i,e.minstep),l=e.format||EAe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?kAe(o,e.values,a):_Z(o,a);return s&&(r.rem=s),s=u.map((c,f)=>_r({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&s.length&&s.push(_r({index:-1,extra:{value:s[0].value},label:""})),r.source=s,r.add=s,this.value=s,r}});function OAe(e){Ke.call(this,null,e)}function ZAt(){return _r({})}function JAt(e){const t=lC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Nt(OAe,Ke,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||ZAt,o=e.key||gn,i=this.value;return jn(r.encode)&&(r.encode=null),i&&(e.modified("key")||t.modified(o))&&gt("DataJoin does not support modified key function or fields."),i||(t=t.addAll(),this.value=i=JAt(o)),t.visit(t.ADD,a=>{const l=o(a);let u=i.get(l);u?u.exit?(i.empty--,r.add.push(u)):r.mod.push(u):(u=s(a),i.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=i.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=i.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++i.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&i.empty>n.cleanThreshold)&&n.runAfter(i.clean),r}});function RAe(e){Ke.call(this,null,e)}Nt(RAe,Ke,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,s=e.encoders,o=t.encode;if(jn(o))if(n.changed()||o.every(f=>s[f]))o=o[0],n.encode=null;else return t.StopPropagation;var i=o==="enter",a=s.update||ag,l=s.enter||ag,u=s.exit||ag,c=(o&&!i?s[o]:a)||ag;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==ag&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==ag&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),i||c!==ag){const f=t.MOD|(e.modified()?t.REFLOW:0);i?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function FAe(e){Ke.call(this,[],e)}Nt(FAe,Ke,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,o=e.type||g3,i=e.scale,a=+e.limit,l=EZ(i,e.count==null?5:e.count,e.minstep),u=!!e.values||o===g3,c=e.format||IAe(n,i,l,o,e.formatSpecifier,e.formatType,u),f=e.values||AAe(i,l),d,h,p,g,m;return s&&(r.rem=s),o===g3?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=f.slice(0,a-1),m=!0):s=f,Or(p=e.size)?(!e.values&&i(s[0])===0&&(s=s.slice(1)),g=s.reduce((v,y)=>Math.max(v,p(y,e)),0)):p=Pu(g=p||8),s=s.map((v,y)=>_r({index:y,label:c(v,y,s),value:v,offset:g,size:p(v,e)})),m&&(m=f[s.length],s.push(_r({index:s.length,label:"".concat(f.length-s.length," entries"),value:m,offset:g,size:p(m,e)})))):o===LAt?(d=i.domain(),h=CAe(i,d[0],Xr(d)),f.length<3&&!e.values&&d[0]!==Xr(d)&&(f=[d[0],Xr(d)]),s=f.map((v,y)=>_r({index:y,label:c(v,y,f),value:v,perc:h(v)}))):(p=f.length-1,h=YAt(i),s=f.map((v,y)=>_r({index:y,label:c(v,y,f),value:v,perc:y?h(v):0,perc2:y===p?1:h(f[y+1])}))),r.source=s,r.add=s,this.value=s,r}});const QAt=e=>e.source.x,eIt=e=>e.source.y,tIt=e=>e.target.x,nIt=e=>e.target.y;function TZ(e){Ke.call(this,{},e)}TZ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Nt(TZ,Ke,{transform(e,t){var n=e.sourceX||QAt,r=e.sourceY||eIt,s=e.targetX||tIt,o=e.targetY||nIt,i=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=yue.get(l+"-"+a)||yue.get(l);return u||gt("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[i]=u(n(c),r(c),s(c),o(c))}),t.reflow(e.modified()).modifies(i)}});const MAe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,rIt=(e,t,n,r)=>MAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),PAe=(e,t,n,r)=>{var s=n-e,o=r-t,i=Math.sqrt(s*s+o*o)/2,a=180*Math.atan2(o,s)/Math.PI;return"M"+e+","+t+"A"+i+","+i+" "+a+" 0 1 "+n+","+r},sIt=(e,t,n,r)=>PAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),LAe=(e,t,n,r)=>{const s=n-e,o=r-t,i=.2*(s+o),a=.2*(o-s);return"M"+e+","+t+"C"+(e+i)+","+(t+a)+" "+(n+a)+","+(r-i)+" "+n+","+r},oIt=(e,t,n,r)=>LAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),iIt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,aIt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,lIt=(e,t,n,r)=>{const s=Math.cos(e),o=Math.sin(e),i=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*s+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*i+","+t*a+"L"+r*i+","+r*a},uIt=(e,t,n,r)=>{const s=(e+n)/2;return"M"+e+","+t+"C"+s+","+t+" "+s+","+r+" "+n+","+r},cIt=(e,t,n,r)=>{const s=(t+r)/2;return"M"+e+","+t+"C"+e+","+s+" "+n+","+s+" "+n+","+r},fIt=(e,t,n,r)=>{const s=Math.cos(e),o=Math.sin(e),i=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*s+","+t*o+"C"+l*s+","+l*o+" "+l*i+","+l*a+" "+r*i+","+r*a},yue=lC({line:MAe,"line-radial":rIt,arc:PAe,"arc-radial":sIt,curve:LAe,"curve-radial":oIt,"orthogonal-horizontal":iIt,"orthogonal-vertical":aIt,"orthogonal-radial":lIt,"diagonal-horizontal":uIt,"diagonal-vertical":cIt,"diagonal-radial":fIt});function AZ(e){Ke.call(this,null,e)}AZ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Nt(AZ,Ke,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],s=n[1],o=e.field||iC,i=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=i,d=(a-i)/ike(u),h=Hl(c),p,g,m;for(e.sort&&h.sort((v,y)=>u[v]-u[y]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[s]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const dIt=5;function hIt(e){const t=e.type;return!e.bins&&(t===ax||t===xA||t===CA)}function BAe(e){return SZ(e)&&e!==Xf}const pIt=ap(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function zAe(e){Ke.call(this,null,e),this.modified(!0)}Nt(zAe,Ke,{transform(e,t){var n=t.dataflow,r=this.value,s=gIt(e);(!r||s!==r.type)&&(this.value=r=Tr(s)());for(s in e)if(!pIt[s]){if(s==="padding"&&BAe(r.type))continue;Or(r[s])?r[s](e[s]):n.warn("Unsupported scale property: "+s)}return xIt(r,e,wIt(r,e,vIt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function gIt(e){var t=e.type,n="",r;return t===Xf?Xf+"-"+ax:(mIt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Xf+"-":r===3?CC+"-":""),(n+t||ax).toLowerCase())}function mIt(e){const t=e.type;return SZ(t)&&t!==O1&&t!==R1&&(e.scheme||e.range&&e.range.length&&e.range.every(ys))}function vIt(e,t,n){const r=yIt(e,t.domainRaw,n);if(r>-1)return r;var s=t.domain,o=e.type,i=t.zero||t.zero===void 0&&hIt(e),a,l;if(!s)return 0;if(BAe(o)&&t.padding&&s[0]!==Xr(s)&&(s=bIt(o,s,t.range,t.padding,t.exponent,t.constant)),(i||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(s=s.slice()).length-1||1,i&&(s[0]>0&&(s[0]=0),s[a]<0&&(s[a]=0)),t.domainMin!=null&&(s[0]=t.domainMin),t.domainMax!=null&&(s[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>s[a]?a+1:l<s[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),s.splice(u,0,l)}return e.domain(VAe(o,s,n)),o===bZ&&e.unknown(t.domainImplicit?HW:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&EZ(e,t.nice)||null),s.length}function yIt(e,t,n){return t?(e.domain(VAe(e.type,t,n)),t.length):-1}function bIt(e,t,n,r,s,o){var i=Math.abs(Xr(n)-n[0]),a=i/(i-2*r),l=e===dp?JSe(t,null,a):e===CA?nW(t,null,a,.5):e===xA?nW(t,null,a,s||1):e===uB?QSe(t,null,a,o||1):ZSe(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function VAe(e,t,n){if(vAe(e)){var r=Math.abs(t.reduce((s,o)=>s+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+_n(t))}return t}function wIt(e,t,n){let r=t.bins;if(r&&!jn(r)){const s=e.domain(),o=s[0],i=Xr(s),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?i:r.stop;a||gt("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>i&&(u=a*Math.floor(i/a)),r=Hl(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===wZ&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function xIt(e,t,n){var r=e.type,s=t.round||!1,o=t.range;if(t.rangeStep!=null)o=CIt(r,t,n);else if(t.scheme&&(o=SIt(r,t,n),Or(o))){if(e.interpolator)return e.interpolator(o);gt("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&yAe(r))return e.interpolator(dB(ZW(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate($Z(t.interpolate,t.interpolateGamma)):Or(e.round)?e.round(s):Or(e.rangeRound)&&e.interpolate(s?pA:p0),o&&e.range(ZW(o,t.reverse))}function CIt(e,t,n){e!==hAe&&e!==KW&&gt("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,s=e===KW?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*yZ(n,s,r)]}function SIt(e,t,n){var r=t.schemeExtent,s,o;return jn(t.scheme)?o=dB(t.scheme,t.interpolate,t.interpolateGamma):(s=t.scheme.toLowerCase(),o=kZ(s),o||gt("Unrecognized scheme name: ".concat(t.scheme))),n=e===fB?n+1:e===wZ?n-1:e===lx||e===cB?+t.schemeCount||dIt:n,yAe(e)?bue(o,r,t.reverse):Or(o)?xAe(bue(o,r),n):e===bZ?o:o.slice(0,n)}function bue(e,t,n){return Or(e)&&(t||n)?wAe(e,ZW(t||[0,1],n)):e}function ZW(e,t){return t?e.slice().reverse():e}function WAe(e){Ke.call(this,null,e)}Nt(WAe,Ke,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(xy(e.sort)),this.modified(n),t}});const wue="zero",UAe="center",jAe="normalize",HAe=["y0","y1"];function IZ(e){Ke.call(this,null,e)}IZ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:wue,values:[wue,UAe,jAe]},{name:"as",type:"string",array:!0,length:2,default:HAe}]};Nt(IZ,Ke,{transform(e,t){var n=e.as||HAe,r=n[0],s=n[1],o=xy(e.sort),i=e.field||iC,a=e.offset===UAe?$It:e.offset===jAe?kIt:EIt,l,u,c,f;for(l=_It(t.source,e.groupby,o,i),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,i,r,s);return t.reflow(e.modified()).modifies(n)}});function $It(e,t,n,r,s){for(var o=(t-e.sum)/2,i=e.length,a=0,l;a<i;++a)l=e[a],l[r]=o,l[s]=o+=Math.abs(n(l))}function kIt(e,t,n,r,s){for(var o=1/e.sum,i=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=i,c[s]=i=o*(u+=Math.abs(n(c)))}function EIt(e,t,n,r,s){for(var o=0,i=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=i,c[s]=i+=u):(c[r]=o,c[s]=o+=u)}function _It(e,t,n,r){var s=[],o=g=>g(c),i,a,l,u,c,f,d,h,p;if(t==null)s.push(e.slice());else for(i={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=i[f],d||(i[f]=d=[],s.push(d)),d.push(c);for(f=0,p=0,u=s.length;f<u;++f){for(d=s[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return s.max=p,s}const TIt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:DAe,datajoin:OAe,encode:RAe,legendentries:FAe,linkpath:TZ,pie:AZ,scale:zAe,sortitems:WAe,stack:IZ},Symbol.toStringTag,{value:"Module"}));var bn=1e-6,wR=1e-12,Zn=Math.PI,zs=Zn/2,xR=Zn/4,Fa=Zn*2,Ks=180/Zn,Jn=Zn/180,mr=Math.abs,SC=Math.atan,Bu=Math.atan2,xn=Math.cos,CN=Math.ceil,qAe=Math.exp,JW=Math.hypot,CR=Math.log,Kz=Math.pow,vn=Math.sin,$u=Math.sign||function(e){return e>0?1:e<0?-1:0},Ma=Math.sqrt,NZ=Math.tan;function GAe(e){return e>1?0:e<-1?Zn:Math.acos(e)}function $l(e){return e>1?zs:e<-1?-zs:Math.asin(e)}function di(){}function SR(e,t){e&&Cue.hasOwnProperty(e.type)&&Cue[e.type](e,t)}var xue={Feature:function(e,t){SR(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,s=n.length;++r<s;)SR(n[r].geometry,t)}},Cue={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){QW(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)QW(n[r],t,0)},Polygon:function(e,t){Sue(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,s=n.length;++r<s;)Sue(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,s=n.length;++r<s;)SR(n[r],t)}};function QW(e,t,n){var r=-1,s=e.length-n,o;for(t.lineStart();++r<s;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Sue(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)QW(e[n],t,1);t.polygonEnd()}function Eh(e,t){e&&xue.hasOwnProperty(e.type)?xue[e.type](e,t):SR(e,t)}var $R=new Aa,kR=new Aa,KAe,YAe,eU,tU,nU,yd={point:di,lineStart:di,lineEnd:di,polygonStart:function(){$R=new Aa,yd.lineStart=AIt,yd.lineEnd=IIt},polygonEnd:function(){var e=+$R;kR.add(e<0?Fa+e:e),this.lineStart=this.lineEnd=this.point=di},sphere:function(){kR.add(Fa)}};function AIt(){yd.point=NIt}function IIt(){XAe(KAe,YAe)}function NIt(e,t){yd.point=XAe,KAe=e,YAe=t,e*=Jn,t*=Jn,eU=e,tU=xn(t=t/2+xR),nU=vn(t)}function XAe(e,t){e*=Jn,t*=Jn,t=t/2+xR;var n=e-eU,r=n>=0?1:-1,s=r*n,o=xn(t),i=vn(t),a=nU*i,l=tU*o+a*xn(s),u=a*r*vn(s);$R.add(Bu(u,l)),eU=e,tU=o,nU=i}function DIt(e){return kR=new Aa,Eh(e,yd),kR*2}function ER(e){return[Bu(e[1],e[0]),$l(e[2])]}function F1(e){var t=e[0],n=e[1],r=xn(n);return[r*xn(t),r*vn(t),vn(n)]}function SN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Yz(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $N(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _R(e){var t=Ma(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Is,Qa,Ps,Bl,av,ZAe,JAe,gw,q$,bg,hp,mh={point:rU,lineStart:$ue,lineEnd:kue,polygonStart:function(){mh.point=eIe,mh.lineStart=OIt,mh.lineEnd=RIt,q$=new Aa,yd.polygonStart()},polygonEnd:function(){yd.polygonEnd(),mh.point=rU,mh.lineStart=$ue,mh.lineEnd=kue,$R<0?(Is=-(Ps=180),Qa=-(Bl=90)):q$>bn?Bl=90:q$<-bn&&(Qa=-90),hp[0]=Is,hp[1]=Ps},sphere:function(){Is=-(Ps=180),Qa=-(Bl=90)}};function rU(e,t){bg.push(hp=[Is=e,Ps=e]),t<Qa&&(Qa=t),t>Bl&&(Bl=t)}function QAe(e,t){var n=F1([e*Jn,t*Jn]);if(gw){var r=cx(gw,n),s=[r[1],-r[0],0],o=cx(s,r);_R(o),o=ER(o);var i=e-av,a=i>0?1:-1,l=o[0]*Ks*a,u,c=mr(i)>180;c^(a*av<l&&l<a*e)?(u=o[1]*Ks,u>Bl&&(Bl=u)):(l=(l+360)%360-180,c^(a*av<l&&l<a*e)?(u=-o[1]*Ks,u<Qa&&(Qa=u)):(t<Qa&&(Qa=t),t>Bl&&(Bl=t))),c?e<av?Pl(Is,e)>Pl(Is,Ps)&&(Ps=e):Pl(e,Ps)>Pl(Is,Ps)&&(Is=e):Ps>=Is?(e<Is&&(Is=e),e>Ps&&(Ps=e)):e>av?Pl(Is,e)>Pl(Is,Ps)&&(Ps=e):Pl(e,Ps)>Pl(Is,Ps)&&(Is=e)}else bg.push(hp=[Is=e,Ps=e]);t<Qa&&(Qa=t),t>Bl&&(Bl=t),gw=n,av=e}function $ue(){mh.point=QAe}function kue(){hp[0]=Is,hp[1]=Ps,mh.point=rU,gw=null}function eIe(e,t){if(gw){var n=e-av;q$.add(mr(n)>180?n+(n>0?360:-360):n)}else ZAe=e,JAe=t;yd.point(e,t),QAe(e,t)}function OIt(){yd.lineStart()}function RIt(){eIe(ZAe,JAe),yd.lineEnd(),mr(q$)>bn&&(Is=-(Ps=180)),hp[0]=Is,hp[1]=Ps,gw=null}function Pl(e,t){return(t-=e)<0?t+360:t}function FIt(e,t){return e[0]-t[0]}function Eue(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function MIt(e){var t,n,r,s,o,i,a;if(Bl=Ps=-(Is=Qa=1/0),bg=[],Eh(e,mh),n=bg.length){for(bg.sort(FIt),t=1,r=bg[0],o=[r];t<n;++t)s=bg[t],Eue(r,s[0])||Eue(r,s[1])?(Pl(r[0],s[1])>Pl(r[0],r[1])&&(r[1]=s[1]),Pl(s[0],r[1])>Pl(r[0],r[1])&&(r[0]=s[0])):o.push(r=s);for(i=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=s,++t)s=o[t],(a=Pl(r[1],s[0]))>i&&(i=a,Is=s[0],Ps=r[1])}return bg=hp=null,Is===1/0||Qa===1/0?[[NaN,NaN],[NaN,NaN]]:[[Is,Qa],[Ps,Bl]]}var p$,TR,AR,IR,NR,DR,OR,RR,sU,oU,iU,tIe,nIe,Ca,Sa,$a,wc={sphere:di,point:DZ,lineStart:_ue,lineEnd:Tue,polygonStart:function(){wc.lineStart=BIt,wc.lineEnd=zIt},polygonEnd:function(){wc.lineStart=_ue,wc.lineEnd=Tue}};function DZ(e,t){e*=Jn,t*=Jn;var n=xn(t);kA(n*xn(e),n*vn(e),vn(t))}function kA(e,t,n){++p$,AR+=(e-AR)/p$,IR+=(t-IR)/p$,NR+=(n-NR)/p$}function _ue(){wc.point=PIt}function PIt(e,t){e*=Jn,t*=Jn;var n=xn(t);Ca=n*xn(e),Sa=n*vn(e),$a=vn(t),wc.point=LIt,kA(Ca,Sa,$a)}function LIt(e,t){e*=Jn,t*=Jn;var n=xn(t),r=n*xn(e),s=n*vn(e),o=vn(t),i=Bu(Ma((i=Sa*o-$a*s)*i+(i=$a*r-Ca*o)*i+(i=Ca*s-Sa*r)*i),Ca*r+Sa*s+$a*o);TR+=i,DR+=i*(Ca+(Ca=r)),OR+=i*(Sa+(Sa=s)),RR+=i*($a+($a=o)),kA(Ca,Sa,$a)}function Tue(){wc.point=DZ}function BIt(){wc.point=VIt}function zIt(){rIe(tIe,nIe),wc.point=DZ}function VIt(e,t){tIe=e,nIe=t,e*=Jn,t*=Jn,wc.point=rIe;var n=xn(t);Ca=n*xn(e),Sa=n*vn(e),$a=vn(t),kA(Ca,Sa,$a)}function rIe(e,t){e*=Jn,t*=Jn;var n=xn(t),r=n*xn(e),s=n*vn(e),o=vn(t),i=Sa*o-$a*s,a=$a*r-Ca*o,l=Ca*s-Sa*r,u=JW(i,a,l),c=$l(u),f=u&&-c/u;sU.add(f*i),oU.add(f*a),iU.add(f*l),TR+=c,DR+=c*(Ca+(Ca=r)),OR+=c*(Sa+(Sa=s)),RR+=c*($a+($a=o)),kA(Ca,Sa,$a)}function WIt(e){p$=TR=AR=IR=NR=DR=OR=RR=0,sU=new Aa,oU=new Aa,iU=new Aa,Eh(e,wc);var t=+sU,n=+oU,r=+iU,s=JW(t,n,r);return s<wR&&(t=DR,n=OR,r=RR,TR<bn&&(t=AR,n=IR,r=NR),s=JW(t,n,r),s<wR)?[NaN,NaN]:[Bu(n,t)*Ks,$l(r/s)*Ks]}function aU(e,t){function n(r,s){return r=e(r,s),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,s){return r=t.invert(r,s),r&&e.invert(r[0],r[1])}),n}function lU(e,t){return[mr(e)>Zn?e+Math.round(-e/Fa)*Fa:e,t]}lU.invert=lU;function sIe(e,t,n){return(e%=Fa)?t||n?aU(Iue(e),Nue(t,n)):Iue(e):t||n?Nue(t,n):lU}function Aue(e){return function(t,n){return t+=e,[t>Zn?t-Fa:t<-Zn?t+Fa:t,n]}}function Iue(e){var t=Aue(e);return t.invert=Aue(-e),t}function Nue(e,t){var n=xn(e),r=vn(e),s=xn(t),o=vn(t);function i(a,l){var u=xn(l),c=xn(a)*u,f=vn(a)*u,d=vn(l),h=d*n+c*r;return[Bu(f*s-h*o,c*n-d*r),$l(h*s+f*o)]}return i.invert=function(a,l){var u=xn(l),c=xn(a)*u,f=vn(a)*u,d=vn(l),h=d*s-f*o;return[Bu(f*s+d*o,c*n+h*r),$l(h*n-c*r)]},i}function UIt(e){e=sIe(e[0]*Jn,e[1]*Jn,e.length>2?e[2]*Jn:0);function t(n){return n=e(n[0]*Jn,n[1]*Jn),n[0]*=Ks,n[1]*=Ks,n}return t.invert=function(n){return n=e.invert(n[0]*Jn,n[1]*Jn),n[0]*=Ks,n[1]*=Ks,n},t}function jIt(e,t,n,r,s,o){if(n){var i=xn(t),a=vn(t),l=r*n;s==null?(s=t+r*Fa,o=t-l/2):(s=Due(i,s),o=Due(i,o),(r>0?s<o:s>o)&&(s+=r*Fa));for(var u,c=s;r>0?c>o:c<o;c-=l)u=ER([i,-a*xn(c),-a*vn(c)]),e.point(u[0],u[1])}}function Due(e,t){t=F1(t),t[0]-=e,_R(t);var n=GAe(-t[1]);return((-t[2]<0?-n:n)+Fa-bn)%Fa}function oIe(){var e=[],t;return{point:function(n,r,s){t.push([n,r,s])},lineStart:function(){e.push(t=[])},lineEnd:di,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function m3(e,t){return mr(e[0]-t[0])<bn&&mr(e[1]-t[1])<bn}function kN(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function iIe(e,t,n,r,s){var o=[],i=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],y;if(m3(m,v)){if(!m[2]&&!v[2]){for(s.lineStart(),a=0;a<g;++a)s.point((m=p[a])[0],m[1]);s.lineEnd();return}v[0]+=2*bn}o.push(y=new kN(m,p,null,!0)),i.push(y.o=new kN(m,null,y,!1)),o.push(y=new kN(v,p,null,!1)),i.push(y.o=new kN(v,null,y,!0))}}),!!o.length){for(i.sort(t),Oue(o),Oue(i),a=0,l=i.length;a<l;++a)i[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)s.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)s.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,s);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);s.lineEnd()}}}function Oue(e){if(t=e.length){for(var t,n=0,r=e[0],s;++n<t;)r.n=s=e[n],s.p=r,r=s;r.n=s=e[0],s.p=r}}function Xz(e){return mr(e[0])<=Zn?e[0]:$u(e[0])*((mr(e[0])+Zn)%Fa-Zn)}function HIt(e,t){var n=Xz(t),r=t[1],s=vn(r),o=[vn(n),-xn(n),0],i=0,a=0,l=new Aa;s===1?r=zs+bn:s===-1&&(r=-zs-bn);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=Xz(h),g=h[1]/2+xR,m=vn(g),v=xn(g),y=0;y<d;++y,p=b,m=S,v=$,h=w){var w=f[y],b=Xz(w),C=w[1]/2+xR,S=vn(C),$=xn(C),k=b-p,T=k>=0?1:-1,_=T*k,E=_>Zn,A=m*S;if(l.add(Bu(A*T*vn(_),v*$+A*xn(_))),i+=E?k+T*Fa:k,E^p>=n^b>=n){var N=cx(F1(h),F1(w));_R(N);var F=cx(o,N);_R(F);var R=(E^k>=0?-1:1)*$l(F[2]);(r>R||r===R&&(N[0]||N[1]))&&(a+=E^k>=0?1:-1)}}return(i<-bn||i<bn&&l<-wR)^a&1}function aIe(e,t,n,r){return function(s){var o=t(s),i=oIe(),a=t(i),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=w,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=oke(c);var b=HIt(u,r);c.length?(l||(s.polygonStart(),l=!0),iIe(c,GIt,b,n,s)):b&&(l||(s.polygonStart(),l=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),l&&(s.polygonEnd(),l=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(b,C){e(b,C)&&s.point(b,C)}function p(b,C){o.point(b,C)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function v(b,C){f.push([b,C]),a.point(b,C)}function y(){a.lineStart(),f=[]}function w(){v(f[0][0],f[0][1]),a.lineEnd();var b=a.clean(),C=i.result(),S,$=C.length,k,T,_;if(f.pop(),u.push(f),f=null,!!$){if(b&1){if(T=C[0],(k=T.length-1)>0){for(l||(s.polygonStart(),l=!0),s.lineStart(),S=0;S<k;++S)s.point((_=T[S])[0],_[1]);s.lineEnd()}return}$>1&&b&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(qIt))}}return d}}function qIt(e){return e.length>1}function GIt(e,t){return((e=e.x)[0]<0?e[1]-zs-bn:zs-e[1])-((t=t.x)[0]<0?t[1]-zs-bn:zs-t[1])}const Rue=aIe(function(){return!0},KIt,XIt,[-Zn,-zs]);function KIt(e){var t=NaN,n=NaN,r=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(o,i){var a=o>0?Zn:-Zn,l=mr(o-t);mr(l-Zn)<bn?(e.point(t,n=(n+i)/2>0?zs:-zs),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),s=0):r!==a&&l>=Zn&&(mr(t-r)<bn&&(t-=r*bn),mr(o-a)<bn&&(o-=a*bn),n=YIt(t,n,o,i),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),s=0),e.point(t=o,n=i),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-s}}}function YIt(e,t,n,r){var s,o,i=vn(e-n);return mr(i)>bn?SC((vn(t)*(o=xn(r))*vn(n)-vn(r)*(s=xn(t))*vn(e))/(s*o*i)):(t+r)/2}function XIt(e,t,n,r){var s;if(e==null)s=n*zs,r.point(-Zn,s),r.point(0,s),r.point(Zn,s),r.point(Zn,0),r.point(Zn,-s),r.point(0,-s),r.point(-Zn,-s),r.point(-Zn,0),r.point(-Zn,s);else if(mr(e[0]-t[0])>bn){var o=e[0]<t[0]?Zn:-Zn;s=n*o/2,r.point(-o,s),r.point(0,s),r.point(o,s)}else r.point(t[0],t[1])}function ZIt(e){var t=xn(e),n=6*Jn,r=t>0,s=mr(t)>bn;function o(c,f,d,h){jIt(h,e,n,d,c,f)}function i(c,f){return xn(c)*xn(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,v){var y=[m,v],w,b=i(m,v),C=r?b?0:u(m,v):b?u(m+(m<0?Zn:-Zn),v):0;if(!f&&(p=h=b)&&c.lineStart(),b!==h&&(w=l(f,y),(!w||m3(f,w)||m3(y,w))&&(y[2]=1)),b!==h)g=0,b?(c.lineStart(),w=l(y,f),c.point(w[0],w[1])):(w=l(f,y),c.point(w[0],w[1],2),c.lineEnd()),f=w;else if(s&&f&&r^b){var S;!(C&d)&&(S=l(y,f,!0))&&(g=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}b&&(!f||!m3(f,y))&&c.point(y[0],y[1]),f=y,h=b,d=C},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=F1(c),p=F1(f),g=[1,0,0],m=cx(h,p),v=SN(m,m),y=m[0],w=v-y*y;if(!w)return!d&&c;var b=t*v/w,C=-t*y/w,S=cx(g,m),$=$N(g,b),k=$N(m,C);Yz($,k);var T=S,_=SN($,T),E=SN(T,T),A=_*_-E*(SN($,$)-1);if(!(A<0)){var N=Ma(A),F=$N(T,(-_-N)/E);if(Yz(F,$),F=ER(F),!d)return F;var R=c[0],P=f[0],I=c[1],D=f[1],M;P<R&&(M=R,R=P,P=M);var z=P-R,W=mr(z-Zn)<bn,H=W||z<bn;if(!W&&D<I&&(M=I,I=D,D=M),H?W?I+D>0^F[1]<(mr(F[0]-R)<bn?I:D):I<=F[1]&&F[1]<=D:z>Zn^(R<=F[0]&&F[0]<=P)){var U=$N(T,(-_+N)/E);return Yz(U,$),[F,ER(U)]}}}function u(c,f){var d=r?e:Zn-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return aIe(i,a,o,r?[0,-e]:[-Zn,e-Zn])}function JIt(e,t,n,r,s,o){var i=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-i,h=u-a,p;if(p=n-i,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=s-i,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=i+c*d,e[1]=a+c*h),f<1&&(t[0]=i+f*d,t[1]=a+f*h),!0}}}}}var g$=1e9,EN=-g$;function lIe(e,t,n,r){function s(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=i(u,f))!==(p=i(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function i(u,c){return mr(u[0]-e)<bn?c>0?0:3:mr(u[0]-n)<bn?c>0?2:1:mr(u[1]-t)<bn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=i(u,1),d=i(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=oIe(),d,h,p,g,m,v,y,w,b,C,S,$={point:k,lineStart:A,lineEnd:N,polygonStart:_,polygonEnd:E};function k(R,P){s(R,P)&&c.point(R,P)}function T(){for(var R=0,P=0,I=h.length;P<I;++P)for(var D=h[P],M=1,z=D.length,W=D[0],H,U,K=W[0],G=W[1];M<z;++M)H=K,U=G,W=D[M],K=W[0],G=W[1],U<=r?G>r&&(K-H)*(r-U)>(G-U)*(e-H)&&++R:G<=r&&(K-H)*(r-U)<(G-U)*(e-H)&&--R;return R}function _(){c=f,d=[],h=[],S=!0}function E(){var R=T(),P=S&&R,I=(d=oke(d)).length;(P||I)&&(u.polygonStart(),P&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),I&&iIe(d,a,R,o,u),u.polygonEnd()),c=u,d=h=p=null}function A(){$.point=F,h&&h.push(p=[]),C=!0,b=!1,y=w=NaN}function N(){d&&(F(g,m),v&&b&&f.rejoin(),d.push(f.result())),$.point=k,b&&c.lineEnd()}function F(R,P){var I=s(R,P);if(h&&p.push([R,P]),C)g=R,m=P,v=I,C=!1,I&&(c.lineStart(),c.point(R,P));else if(I&&b)c.point(R,P);else{var D=[y=Math.max(EN,Math.min(g$,y)),w=Math.max(EN,Math.min(g$,w))],M=[R=Math.max(EN,Math.min(g$,R)),P=Math.max(EN,Math.min(g$,P))];JIt(D,M,e,t,n,r)?(b||(c.lineStart(),c.point(D[0],D[1])),c.point(M[0],M[1]),I||c.lineEnd(),S=!1):I&&(c.lineStart(),c.point(R,P),S=!1)}y=R,w=P,b=I}return $}}function Fue(e,t,n){var r=Hl(e,t-bn,n).concat(t);return function(s){return r.map(function(o){return[s,o]})}}function Mue(e,t,n){var r=Hl(e,t-bn,n).concat(t);return function(s){return r.map(function(o){return[o,s]})}}function QIt(){var e,t,n,r,s,o,i,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Hl(CN(r/c)*c,n,c).map(p).concat(Hl(CN(a/f)*f,i,f).map(g)).concat(Hl(CN(t/l)*l,e,l).filter(function(w){return mr(w%c)>bn}).map(d)).concat(Hl(CN(o/u)*u,s,u).filter(function(w){return mr(w%f)>bn}).map(h))}return v.lines=function(){return y().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(i).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],i=+w[1][1],r>n&&(w=r,r=n,n=w),a>i&&(w=a,a=i,i=w),v.precision(m)):[[r,a],[n,i]]},v.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],s=+w[1][1],t>e&&(w=t,t=e,e=w),o>s&&(w=o,o=s,s=w),v.precision(m)):[[t,o],[e,s]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(c=+w[0],f=+w[1],v):[c,f]},v.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],v):[l,u]},v.precision=function(w){return arguments.length?(m=+w,d=Fue(o,s,90),h=Mue(t,e,m),p=Fue(a,i,90),g=Mue(r,n,m),v):m},v.extentMajor([[-180,-90+bn],[180,90-bn]]).extentMinor([[-180,-80-bn],[180,80+bn]])}const yE=e=>e;var Zz=new Aa,uU=new Aa,uIe,cIe,cU,fU,_h={point:di,lineStart:di,lineEnd:di,polygonStart:function(){_h.lineStart=eNt,_h.lineEnd=nNt},polygonEnd:function(){_h.lineStart=_h.lineEnd=_h.point=di,Zz.add(mr(uU)),uU=new Aa},result:function(){var e=Zz/2;return Zz=new Aa,e}};function eNt(){_h.point=tNt}function tNt(e,t){_h.point=fIe,uIe=cU=e,cIe=fU=t}function fIe(e,t){uU.add(fU*e-cU*t),cU=e,fU=t}function nNt(){fIe(uIe,cIe)}var fx=1/0,FR=fx,bE=-fx,MR=bE,PR={point:rNt,lineStart:di,lineEnd:di,polygonStart:di,polygonEnd:di,result:function(){var e=[[fx,FR],[bE,MR]];return bE=MR=-(FR=fx=1/0),e}};function rNt(e,t){e<fx&&(fx=e),e>bE&&(bE=e),t<FR&&(FR=t),t>MR&&(MR=t)}var dU=0,hU=0,m$=0,LR=0,BR=0,qb=0,pU=0,gU=0,v$=0,dIe,hIe,Ff,Mf,yu={point:M1,lineStart:Pue,lineEnd:Lue,polygonStart:function(){yu.lineStart=iNt,yu.lineEnd=aNt},polygonEnd:function(){yu.point=M1,yu.lineStart=Pue,yu.lineEnd=Lue},result:function(){var e=v$?[pU/v$,gU/v$]:qb?[LR/qb,BR/qb]:m$?[dU/m$,hU/m$]:[NaN,NaN];return dU=hU=m$=LR=BR=qb=pU=gU=v$=0,e}};function M1(e,t){dU+=e,hU+=t,++m$}function Pue(){yu.point=sNt}function sNt(e,t){yu.point=oNt,M1(Ff=e,Mf=t)}function oNt(e,t){var n=e-Ff,r=t-Mf,s=Ma(n*n+r*r);LR+=s*(Ff+e)/2,BR+=s*(Mf+t)/2,qb+=s,M1(Ff=e,Mf=t)}function Lue(){yu.point=M1}function iNt(){yu.point=lNt}function aNt(){pIe(dIe,hIe)}function lNt(e,t){yu.point=pIe,M1(dIe=Ff=e,hIe=Mf=t)}function pIe(e,t){var n=e-Ff,r=t-Mf,s=Ma(n*n+r*r);LR+=s*(Ff+e)/2,BR+=s*(Mf+t)/2,qb+=s,s=Mf*e-Ff*t,pU+=s*(Ff+e),gU+=s*(Mf+t),v$+=s*3,M1(Ff=e,Mf=t)}function gIe(e){this._context=e}gIe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Fa);break}}},result:di};var mU=new Aa,Jz,mIe,vIe,y$,b$,wE={point:di,lineStart:function(){wE.point=uNt},lineEnd:function(){Jz&&yIe(mIe,vIe),wE.point=di},polygonStart:function(){Jz=!0},polygonEnd:function(){Jz=null},result:function(){var e=+mU;return mU=new Aa,e}};function uNt(e,t){wE.point=yIe,mIe=y$=e,vIe=b$=t}function yIe(e,t){y$-=e,b$-=t,mU.add(Ma(y$*y$+b$*b$)),y$=e,b$=t}function bIe(){this._string=[]}bIe.prototype={_radius:4.5,_circle:Bue(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Bue(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Bue(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function wIe(e,t){var n=4.5,r,s;function o(i){return i&&(typeof n=="function"&&s.pointRadius(+n.apply(this,arguments)),Eh(i,r(s))),s.result()}return o.area=function(i){return Eh(i,r(_h)),_h.result()},o.measure=function(i){return Eh(i,r(wE)),wE.result()},o.bounds=function(i){return Eh(i,r(PR)),PR.result()},o.centroid=function(i){return Eh(i,r(yu)),yu.result()},o.projection=function(i){return arguments.length?(r=i==null?(e=null,yE):(e=i).stream,o):e},o.context=function(i){return arguments.length?(s=i==null?(t=null,new bIe):new gIe(t=i),typeof n!="function"&&s.pointRadius(n),o):t},o.pointRadius=function(i){return arguments.length?(n=typeof i=="function"?i:(s.pointRadius(+i),+i),o):n},o.projection(e).context(t)}function hB(e){return function(t){var n=new vU;for(var r in e)n[r]=e[r];return n.stream=t,n}}function vU(){}vU.prototype={constructor:vU,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function OZ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Eh(n,e.stream(PR)),t(PR.result()),r!=null&&e.clipExtent(r),e}function pB(e,t,n){return OZ(e,function(r){var s=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(s/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(s-i*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-i*(r[1][1]+r[0][1]))/2;e.scale(150*i).translate([a,l])},n)}function RZ(e,t,n){return pB(e,[[0,0],t],n)}function FZ(e,t,n){return OZ(e,function(r){var s=+t,o=s/(r[1][0]-r[0][0]),i=(s-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([i,a])},n)}function MZ(e,t,n){return OZ(e,function(r){var s=+t,o=s/(r[1][1]-r[0][1]),i=-o*r[0][0],a=(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([i,a])},n)}var zue=16,cNt=xn(30*Jn);function Vue(e,t){return+t?dNt(e,t):fNt(e)}function fNt(e){return hB({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function dNt(e,t){function n(r,s,o,i,a,l,u,c,f,d,h,p,g,m){var v=u-r,y=c-s,w=v*v+y*y;if(w>4*t&&g--){var b=i+d,C=a+h,S=l+p,$=Ma(b*b+C*C+S*S),k=$l(S/=$),T=mr(mr(S)-1)<bn||mr(o-f)<bn?(o+f)/2:Bu(C,b),_=e(T,k),E=_[0],A=_[1],N=E-r,F=A-s,R=y*N-v*F;(R*R/w>t||mr((v*N+y*F)/w-.5)>.3||i*d+a*h+l*p<cNt)&&(n(r,s,o,i,a,l,E,A,T,b/=$,C/=$,S,g,m),m.point(E,A),n(E,A,T,b,C,S,u,c,f,d,h,p,g,m))}}return function(r){var s,o,i,a,l,u,c,f,d,h,p,g,m={point:v,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=C},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function v(k,T){k=e(k,T),r.point(k[0],k[1])}function y(){f=NaN,m.point=w,r.lineStart()}function w(k,T){var _=F1([k,T]),E=e(k,T);n(f,d,c,h,p,g,f=E[0],d=E[1],c=k,h=_[0],p=_[1],g=_[2],zue,r),r.point(f,d)}function b(){m.point=v,r.lineEnd()}function C(){y(),m.point=S,m.lineEnd=$}function S(k,T){w(s=k,T),o=f,i=d,a=h,l=p,u=g,m.point=w}function $(){n(f,d,c,h,p,g,o,i,s,a,l,u,zue,r),m.lineEnd=b,b()}return m}}var hNt=hB({point:function(e,t){this.stream.point(e*Jn,t*Jn)}});function pNt(e){return hB({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function gNt(e,t,n,r,s){function o(i,a){return i*=r,a*=s,[t+e*i,n-e*a]}return o.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*s]},o}function Wue(e,t,n,r,s,o){if(!o)return gNt(e,t,n,r,s);var i=xn(o),a=vn(o),l=i*e,u=a*e,c=i/e,f=a/e,d=(a*n-i*t)/e,h=(a*t+i*n)/e;function p(g,m){return g*=r,m*=s,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),s*(h-f*g-c*m)]},p}function Pd(e){return xIe(function(){return e})()}function xIe(e){var t,n=150,r=480,s=250,o=0,i=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=Rue,m=null,v,y,w,b=yE,C=.5,S,$,k,T,_;function E(R){return k(R[0]*Jn,R[1]*Jn)}function A(R){return R=k.invert(R[0],R[1]),R&&[R[0]*Ks,R[1]*Ks]}E.stream=function(R){return T&&_===R?T:T=hNt(pNt(c)(g(S(b(_=R)))))},E.preclip=function(R){return arguments.length?(g=R,p=void 0,F()):g},E.postclip=function(R){return arguments.length?(b=R,m=v=y=w=null,F()):b},E.clipAngle=function(R){return arguments.length?(g=+R?ZIt(p=R*Jn):(p=null,Rue),F()):p*Ks},E.clipExtent=function(R){return arguments.length?(b=R==null?(m=v=y=w=null,yE):lIe(m=+R[0][0],v=+R[0][1],y=+R[1][0],w=+R[1][1]),F()):m==null?null:[[m,v],[y,w]]},E.scale=function(R){return arguments.length?(n=+R,N()):n},E.translate=function(R){return arguments.length?(r=+R[0],s=+R[1],N()):[r,s]},E.center=function(R){return arguments.length?(o=R[0]%360*Jn,i=R[1]%360*Jn,N()):[o*Ks,i*Ks]},E.rotate=function(R){return arguments.length?(a=R[0]%360*Jn,l=R[1]%360*Jn,u=R.length>2?R[2]%360*Jn:0,N()):[a*Ks,l*Ks,u*Ks]},E.angle=function(R){return arguments.length?(f=R%360*Jn,N()):f*Ks},E.reflectX=function(R){return arguments.length?(d=R?-1:1,N()):d<0},E.reflectY=function(R){return arguments.length?(h=R?-1:1,N()):h<0},E.precision=function(R){return arguments.length?(S=Vue($,C=R*R),F()):Ma(C)},E.fitExtent=function(R,P){return pB(E,R,P)},E.fitSize=function(R,P){return RZ(E,R,P)},E.fitWidth=function(R,P){return FZ(E,R,P)},E.fitHeight=function(R,P){return MZ(E,R,P)};function N(){var R=Wue(n,0,0,d,h,f).apply(null,t(o,i)),P=Wue(n,r-R[0],s-R[1],d,h,f);return c=sIe(a,l,u),$=aU(t,P),k=aU(c,$),S=Vue($,C),F()}function F(){return T=_=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&A,N()}}function PZ(e){var t=0,n=Zn/3,r=xIe(e),s=r(t,n);return s.parallels=function(o){return arguments.length?r(t=o[0]*Jn,n=o[1]*Jn):[t*Ks,n*Ks]},s}function mNt(e){var t=xn(e);function n(r,s){return[r*t,vn(s)/t]}return n.invert=function(r,s){return[r/t,$l(s*t)]},n}function vNt(e,t){var n=vn(e),r=(n+vn(t))/2;if(mr(r)<bn)return mNt(e);var s=1+n*(2*r-n),o=Ma(s)/r;function i(a,l){var u=Ma(s-2*r*vn(l))/r;return[u*vn(a*=r),o-u*xn(a)]}return i.invert=function(a,l){var u=o-l,c=Bu(a,mr(u))*$u(u);return u*r<0&&(c-=Zn*$u(a)*$u(u)),[c/r,$l((s-(a*a+u*u)*r*r)/(2*r))]},i}function zR(){return PZ(vNt).scale(155.424).center([0,33.6442])}function CIe(){return zR().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yNt(e){var t=e.length;return{point:function(n,r){for(var s=-1;++s<t;)e[s].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function bNt(){var e,t,n=CIe(),r,s=zR().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,i=zR().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?s:m>=.166&&m<.234&&g>=-.214&&g<-.115?i:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=yNt([n.stream(t=d),s.stream(d),i.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),s.precision(d),i.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),s.scale(d*.35),i.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=s.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+bn,g+.12*h+bn],[p-.214*h-bn,g+.234*h-bn]]).stream(u),a=i.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+bn,g+.166*h+bn],[p-.115*h-bn,g+.234*h-bn]]).stream(u),f()},c.fitExtent=function(d,h){return pB(c,d,h)},c.fitSize=function(d,h){return RZ(c,d,h)},c.fitWidth=function(d,h){return FZ(c,d,h)},c.fitHeight=function(d,h){return MZ(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function SIe(e){return function(t,n){var r=xn(t),s=xn(n),o=e(r*s);return o===1/0?[2,0]:[o*s*vn(t),o*vn(n)]}}function EA(e){return function(t,n){var r=Ma(t*t+n*n),s=e(r),o=vn(s),i=xn(s);return[Bu(t*o,r*i),$l(r&&n*o/r)]}}var $Ie=SIe(function(e){return Ma(2/(1+e))});$Ie.invert=EA(function(e){return 2*$l(e/2)});function wNt(){return Pd($Ie).scale(124.75).clipAngle(180-.001)}var kIe=SIe(function(e){return(e=GAe(e))&&e/vn(e)});kIe.invert=EA(function(e){return e});function xNt(){return Pd(kIe).scale(79.4188).clipAngle(180-.001)}function gB(e,t){return[e,CR(NZ((zs+t)/2))]}gB.invert=function(e,t){return[e,2*SC(qAe(t))-zs]};function CNt(){return EIe(gB).scale(961/Fa)}function EIe(e){var t=Pd(e),n=t.center,r=t.scale,s=t.translate,o=t.clipExtent,i=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(s(f),c()):s()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?i=a=l=u=null:(i=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):i==null?null:[[i,a],[l,u]]};function c(){var f=Zn*r(),d=t(UIt(t.rotate()).invert([0,0]));return o(i==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===gB?[[Math.max(d[0]-f,i),a],[Math.min(d[0]+f,l),u]]:[[i,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function _N(e){return NZ((zs+e)/2)}function SNt(e,t){var n=xn(e),r=e===t?vn(e):CR(n/xn(t))/CR(_N(t)/_N(e)),s=n*Kz(_N(e),r)/r;if(!r)return gB;function o(i,a){s>0?a<-zs+bn&&(a=-zs+bn):a>zs-bn&&(a=zs-bn);var l=s/Kz(_N(a),r);return[l*vn(r*i),s-l*xn(r*i)]}return o.invert=function(i,a){var l=s-a,u=$u(r)*Ma(i*i+l*l),c=Bu(i,mr(l))*$u(l);return l*r<0&&(c-=Zn*$u(i)*$u(l)),[c/r,2*SC(Kz(s/u,1/r))-zs]},o}function $Nt(){return PZ(SNt).scale(109.5).parallels([30,30])}function VR(e,t){return[e,t]}VR.invert=VR;function kNt(){return Pd(VR).scale(152.63)}function ENt(e,t){var n=xn(e),r=e===t?vn(e):(n-xn(t))/(t-e),s=n/r+e;if(mr(r)<bn)return VR;function o(i,a){var l=s-a,u=r*i;return[l*vn(u),s-l*xn(u)]}return o.invert=function(i,a){var l=s-a,u=Bu(i,mr(l))*$u(l);return l*r<0&&(u-=Zn*$u(i)*$u(l)),[u/r,s-$u(r)*Ma(i*i+l*l)]},o}function _Nt(){return PZ(ENt).scale(131.154).center([0,13.9389])}var G$=1.340264,K$=-.081106,Y$=893e-6,X$=.003796,WR=Ma(3)/2,TNt=12;function _Ie(e,t){var n=$l(WR*vn(t)),r=n*n,s=r*r*r;return[e*xn(n)/(WR*(G$+3*K$*r+s*(7*Y$+9*X$*r))),n*(G$+K$*r+s*(Y$+X$*r))]}_Ie.invert=function(e,t){for(var n=t,r=n*n,s=r*r*r,o=0,i,a,l;o<TNt&&(a=n*(G$+K$*r+s*(Y$+X$*r))-t,l=G$+3*K$*r+s*(7*Y$+9*X$*r),n-=i=a/l,r=n*n,s=r*r*r,!(mr(i)<wR));++o);return[WR*e*(G$+3*K$*r+s*(7*Y$+9*X$*r))/xn(n),$l(vn(n)/WR)]};function ANt(){return Pd(_Ie).scale(177.158)}function TIe(e,t){var n=xn(t),r=xn(e)*n;return[n*vn(e)/r,vn(t)/r]}TIe.invert=EA(SC);function INt(){return Pd(TIe).scale(144.049).clipAngle(60)}function NNt(){var e=1,t=0,n=0,r=1,s=1,o=0,i,a,l=null,u,c,f,d=1,h=1,p=hB({point:function(b,C){var S=w([b,C]);this.stream.point(S[0],S[1])}}),g=yE,m,v;function y(){return d=e*r,h=e*s,m=v=null,w}function w(b){var C=b[0]*d,S=b[1]*h;if(o){var $=S*i-C*a;C=C*i+S*a,S=$}return[C+t,S+n]}return w.invert=function(b){var C=b[0]-t,S=b[1]-n;if(o){var $=S*i+C*a;C=C*i-S*a,S=$}return[C/d,S/h]},w.stream=function(b){return m&&v===b?m:m=p(g(v=b))},w.postclip=function(b){return arguments.length?(g=b,l=u=c=f=null,y()):g},w.clipExtent=function(b){return arguments.length?(g=b==null?(l=u=c=f=null,yE):lIe(l=+b[0][0],u=+b[0][1],c=+b[1][0],f=+b[1][1]),y()):l==null?null:[[l,u],[c,f]]},w.scale=function(b){return arguments.length?(e=+b,y()):e},w.translate=function(b){return arguments.length?(t=+b[0],n=+b[1],y()):[t,n]},w.angle=function(b){return arguments.length?(o=b%360*Jn,a=vn(o),i=xn(o),y()):o*Ks},w.reflectX=function(b){return arguments.length?(r=b?-1:1,y()):r<0},w.reflectY=function(b){return arguments.length?(s=b?-1:1,y()):s<0},w.fitExtent=function(b,C){return pB(w,b,C)},w.fitSize=function(b,C){return RZ(w,b,C)},w.fitWidth=function(b,C){return FZ(w,b,C)},w.fitHeight=function(b,C){return MZ(w,b,C)},w}function AIe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}AIe.invert=function(e,t){var n=t,r=25,s;do{var o=n*n,i=o*o;n-=s=(n*(1.007226+o*(.015085+i*(-.044475+.028874*o-.005916*i)))-t)/(1.007226+o*(.015085*3+i*(-.044475*7+.028874*9*o-.005916*11*i)))}while(mr(s)>bn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function DNt(){return Pd(AIe).scale(175.295)}function IIe(e,t){return[xn(t)*vn(e),vn(t)]}IIe.invert=EA($l);function ONt(){return Pd(IIe).scale(249.5).clipAngle(90+bn)}function NIe(e,t){var n=xn(t),r=1+xn(e)*n;return[n*vn(e)/r,vn(t)/r]}NIe.invert=EA(function(e){return 2*SC(e)});function RNt(){return Pd(NIe).scale(250).clipAngle(142)}function DIe(e,t){return[CR(NZ((zs+t)/2)),-e]}DIe.invert=function(e,t){return[-t,2*SC(qAe(e))-zs]};function FNt(){var e=EIe(DIe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var MNt=Math.abs,yU=Math.cos,UR=Math.sin,PNt=1e-6,OIe=Math.PI,bU=OIe/2,Uue=LNt(2);function jue(e){return e>1?bU:e<-1?-bU:Math.asin(e)}function LNt(e){return e>0?Math.sqrt(e):0}function BNt(e,t){var n=e*UR(t),r=30,s;do t-=s=(t+UR(t)-n)/(1+yU(t));while(MNt(s)>PNt&&--r>0);return t/2}function zNt(e,t,n){function r(s,o){return[e*s*yU(o=BNt(n,o)),t*UR(o)]}return r.invert=function(s,o){return o=jue(o/t),[s/(e*yU(o)),jue((2*o+UR(2*o))/n)]},r}var VNt=zNt(Uue/bU,Uue,OIe);function WNt(){return Pd(VNt).scale(169.529)}const UNt=wIe(),wU=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function jNt(e,t){return function n(){const r=t();return r.type=e,r.path=wIe().projection(r),r.copy=r.copy||function(){const s=n();return wU.forEach(o=>{r[o]&&s[o](r[o]())}),s.path.pointRadius(r.path.pointRadius()),s},r}}function LZ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(jR[e]=jNt(e,t),this):jR[e]||null}function RIe(e){return e&&e.path||UNt}const jR={albers:CIe,albersusa:bNt,azimuthalequalarea:wNt,azimuthalequidistant:xNt,conicconformal:$Nt,conicequalarea:zR,conicequidistant:_Nt,equalEarth:ANt,equirectangular:kNt,gnomonic:INt,identity:NNt,mercator:CNt,mollweide:WNt,naturalEarth1:DNt,orthographic:ONt,stereographic:RNt,transversemercator:FNt};for(const e in jR)LZ(e,jR[e]);function HNt(){}const ah=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function FIe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>s(l,c))}function s(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),qNt(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(GNt((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=new Array,d=new Array,h,p,g,m,v,y;for(h=p=-1,m=l[0]>=u,ah[m<<1].forEach(w);++h<e-1;)g=m,m=l[h+1]>=u,ah[g|m<<1].forEach(w);for(ah[m<<0].forEach(w);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,v=l[p*e]>=u,ah[m<<1|v<<2].forEach(w);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,y=v,v=l[p*e+h+1]>=u,ah[g|m<<1|v<<2|y<<3].forEach(w);ah[m|v<<3].forEach(w)}for(h=-1,v=l[p*e]>=u,ah[v<<2].forEach(w);++h<e-1;)y=v,v=l[p*e+h+1]>=u,ah[v<<2|y<<3].forEach(w);ah[v<<3].forEach(w);function w(b){var C=[b[0][0]+h,b[0][1]+p],S=[b[1][0]+h,b[1][1]+p],$=i(C),k=i(S),T,_;(T=d[$])?(_=f[k])?(delete d[T.end],delete f[_.start],T===_?(T.ring.push(S),c(T.ring)):f[T.start]=d[_.end]={start:T.start,end:_.end,ring:T.ring.concat(_.ring)}):(delete d[T.end],T.ring.push(S),d[T.end=k]=T):(T=f[k])?(_=d[$])?(delete f[T.start],delete d[_.end],T===_?(T.ring.push(S),c(T.ring)):f[_.start]=d[T.end]={start:_.start,end:T.end,ring:_.ring.concat(T.ring)}):(delete f[T.start],T.ring.unshift(C),f[T.start=$]=T):f[$]=d[k]={start:$,end:k,ring:[C,S]}}}function i(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,v=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(v-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(v-m)-.5)})}return r.contour=s,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||gt("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:HNt,r):n===a},r}function qNt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function GNt(e,t){for(var n=-1,r=t.length,s;++n<r;)if(s=KNt(e,t[n]))return s;return 0}function KNt(e,t){for(var n=t[0],r=t[1],s=-1,o=0,i=e.length,a=i-1;o<i;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(YNt(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(s=-s)}return s}function YNt(e,t,n){var r;return XNt(e,t,n)&&ZNt(e[r=+(e[0]===t[0])],n[r],t[r])}function XNt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function ZNt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function MIe(e,t,n){return function(r){var s=Cm(r),o=n?Math.min(s[0],0):s[0],i=s[1],a=i-o,l=t?_m(o,i,e):a/(e+1);return Hl(o+l,i,l)}}function BZ(e){Ke.call(this,null,e)}BZ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Nt(BZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,s=e.field||Mu,o=FIe().smooth(e.smooth!==!1),i=e.thresholds||JNt(r,s,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=s(u),f=o.size([c.width,c.height])(c.values,jn(i)?i:i(c.values));QNt(f,c,u,e),f.forEach(d=>{l.push(mL(u,_r(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function JNt(e,t,n){const r=MIe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(s=>Xv(t(s).values)))}function QNt(e,t,n,r){let s=r.scale||t.scale,o=r.translate||t.translate;if(Or(s)&&(s=s(n,r)),Or(o)&&(o=o(n,r)),(s===1||s==null)&&!o)return;const i=(_1(s)?s:s[0])||1,a=(_1(s)?s:s[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(PIe(t,i,a,l,u))}function PIe(e,t,n,r,s){const o=e.x1||0,i=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-i)*n+s}return function(f){return f.coordinates.forEach(l),f}}function Hue(e,t,n){const r=e>=0?e:fY(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Qz(e){return Or(e)?e:Pu(+e)}function LIe(){var e=l=>l[0],t=l=>l[1],n=iC,r=[-1,-1],s=960,o=500,i=2;function a(l,u){const c=Hue(r[0],l,e)>>i,f=Hue(r[1],l,t)>>i,d=c?c+2:0,h=f?f+2:0,p=2*d+(s>>i),g=2*h+(o>>i),m=new Float32Array(p*g),v=new Float32Array(p*g);let y=m;l.forEach(b=>{const C=d+(+e(b)>>i),S=h+(+t(b)>>i);C>=0&&C<p&&S>=0&&S<g&&(m[C+S*p]+=+n(b))}),c>0&&f>0?(yb(p,g,m,v,c),bb(p,g,v,m,f),yb(p,g,m,v,c),bb(p,g,v,m,f),yb(p,g,m,v,c),bb(p,g,v,m,f)):c>0?(yb(p,g,m,v,c),yb(p,g,v,m,c),yb(p,g,m,v,c),y=v):f>0&&(bb(p,g,m,v,f),bb(p,g,v,m,f),bb(p,g,m,v,f),y=v);const w=u?Math.pow(2,-2*i):1/ike(y);for(let b=0,C=p*g;b<C;++b)y[b]*=w;return{values:y,scale:1<<i,width:p,height:g,x1:d,y1:h,x2:d+(s>>i),y2:h+(o>>i)}}return a.x=function(l){return arguments.length?(e=Qz(l),a):e},a.y=function(l){return arguments.length?(t=Qz(l),a):t},a.weight=function(l){return arguments.length?(n=Qz(l),a):n},a.size=function(l){if(!arguments.length)return[s,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||gt("invalid size"),s=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||gt("invalid cell size"),i=Math.floor(Math.log(l)/Math.LN2),a):1<<i},a.bandwidth=function(l){return arguments.length?(l=Mn(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&gt("invalid bandwidth"),r=l,a):r},a}function yb(e,t,n,r,s){const o=(s<<1)+1;for(let i=0;i<t;++i)for(let a=0,l=0;a<e+s;++a)a<e&&(l+=n[a+i*e]),a>=s&&(a>=o&&(l-=n[a-o+i*e]),r[a-s+i*e]=l/Math.min(a+1,e-1+o-a,o))}function bb(e,t,n,r,s){const o=(s<<1)+1;for(let i=0;i<e;++i)for(let a=0,l=0;a<t+s;++a)a<t&&(l+=n[i+a*e]),a>=s&&(a>=o&&(l-=n[i+(a-o)*e]),r[i+(a-s)*e]=l/Math.min(a+1,t-1+o-a,o))}function zZ(e){Ke.call(this,null,e)}zZ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const eDt=["x","y","weight","size","cellSize","bandwidth"];function BIe(e,t){return eDt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Nt(zZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,s=tDt(r,e.groupby),o=(e.groupby||[]).map(Ws),i=BIe(LIe(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=s.map(c=>_r(u({[a]:i(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function tDt(e,t){var n=[],r=c=>c(a),s,o,i,a,l,u;if(t==null)n.push(e);else for(s={},o=0,i=e.length;o<i;++o)a=e[o],l=t.map(r),u=s[l],u||(s[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function VZ(e){Ke.call(this,null,e)}VZ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Nt(VZ,Ke,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=FIe().smooth(e.smooth!==!1),s=e.values,o=e.thresholds||MIe(e.count||10,e.nice,!!s),i=e.size,a,l;return s||(s=t.materialize(t.SOURCE).source,a=BIe(LIe(),e)(s,!0),l=PIe(a,a.scale||1,a.scale||1,0,0),i=[a.width,a.height],s=a.values),o=jn(o)?o:o(s),s=r.size(i)(s,o),l&&s.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(s||[]).map(_r),n}});const xU="Feature",WZ="FeatureCollection",nDt="MultiPoint";function UZ(e){Ke.call(this,null,e)}UZ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Nt(UZ,Ke,{transform(e,t){var n=this._features,r=this._points,s=e.fields,o=s&&s[0],i=s&&s[1],a=e.geojson||!s&&Mu,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Zi(a))||o&&t.modified(Zi(o))||i&&t.modified(Zi(i)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&i&&(t.visit(l,c=>{var f=o(c),d=i(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:xU,geometry:{type:nDt,coordinates:r}})),this.value={type:WZ,features:n}}});function jZ(e){Ke.call(this,null,e)}jZ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Nt(jZ,Ke,{transform(e,t){var n=t.fork(t.ALL),r=this.value,s=e.field||Mu,o=e.as||"path",i=n.SOURCE;!r||e.modified()?(this.value=r=RIe(e.projection),n.materialize().reflow()):i=s===Mu||t.modified(s.fields)?n.ADD_MOD:n.ADD;const a=rDt(r,e.pointRadius);return n.visit(i,l=>l[o]=r(s(l))),r.pointRadius(a),n.modifies(o)}});function rDt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function HZ(e){Ke.call(this,null,e)}HZ.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Nt(HZ,Ke,{transform(e,t){var n=e.projection,r=e.fields[0],s=e.fields[1],o=e.as||["x","y"],i=o[0],a=o[1],l;function u(c){const f=n([r(c),s(c)]);f?(c[i]=f[0],c[a]=f[1]):(c[i]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(s.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function qZ(e){Ke.call(this,null,e)}qZ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Nt(qZ,Ke,{transform(e,t){var n=t.fork(t.ALL),r=this.value,s=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=sDt(RIe(e.projection),e.field||wm("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,i=>i[s]=r),n.modifies(s)}});function sDt(e,t,n){const r=n==null?s=>e(t(s)):s=>{var o=e.pointRadius(),i=e.pointRadius(n)(t(s));return e.pointRadius(o),i};return r.context=s=>(e.context(s),r),r}function GZ(e){Ke.call(this,[],e),this.generator=QIt()}GZ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Nt(GZ,Ke,{transform(e,t){var n=this.value,r=this.generator,s;if(!n.length||e.modified())for(const o in e)Or(r[o])&&r[o](e[o]);return s=r(),n.length?t.mod.push(G$e(n[0],s)):t.add.push(_r(s)),n[0]=s,t}});function KZ(e){Ke.call(this,null,e)}KZ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Nt(KZ,Ke,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",s=e.field||Mu,o=iDt(e.opacity,e),i=oDt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Xv(n.map(u=>Xv(s(u).values))):0};return n.forEach(u=>{const c=s(u),f=sr({},u,l);r||(f.$max=Xv(c.values||[])),u[a]=aDt(c,f,i.dep?i:Pu(i(f)),o.dep?o:Pu(o(f)))}),t.reflow(!0).modifies(a)}});function oDt(e,t){let n;return Or(e)?(n=r=>Sl(e(r,t)),n.dep=zIe(e)):n=Pu(Sl(e||"#888")),n}function iDt(e,t){let n;return Or(e)?(n=r=>e(r,t),n.dep=zIe(e)):e?n=Pu(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function zIe(e){if(!Or(e))return!1;const t=ap(Zi(e));return t.$x||t.$y||t.$value||t.$max}function aDt(e,t,n,r){const s=e.width,o=e.height,i=e.x1||0,a=e.y1||0,l=e.x2||s,u=e.y2||o,c=e.values,f=c?m=>c[m]:$g,d=c0(l-i,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-i,u-a),g=p.data;for(let m=a,v=0;m<u;++m){t.$y=m-a;for(let y=i,w=m*s;y<l;++y,v+=4){t.$x=y-i,t.$value=f(y+w);const b=n(t);g[v+0]=b.r,g[v+1]=b.g,g[v+2]=b.b,g[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function VIe(e){Ke.call(this,null,e),this.modified(!0)}Nt(VIe,Ke,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=uDt(e.type),wU.forEach(r=>{e[r]!=null&&que(n,r,e[r])})):wU.forEach(r=>{e.modified(r)&&que(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&lDt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function lDt(e,t){const n=cDt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function uDt(e){const t=LZ((e||"mercator").toLowerCase());return t||gt("Unrecognized projection type: "+e),t()}function que(e,t,n){Or(e[t])&&e[t](n)}function cDt(e){return e=Mn(e),e.length===1?e[0]:{type:WZ,features:e.reduce((t,n)=>t.concat(fDt(n)),[])}}function fDt(e){return e.type===WZ?e.features:Mn(e).filter(t=>t!=null).map(t=>t.type===xU?t:{type:xU,geometry:t})}const dDt=Object.freeze(Object.defineProperty({__proto__:null,contour:VZ,geojson:UZ,geopath:jZ,geopoint:HZ,geoshape:qZ,graticule:GZ,heatmap:KZ,isocontour:BZ,kde2d:zZ,projection:VIe},Symbol.toStringTag,{value:"Module"}));function hDt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function s(){var o,i=n.length,a,l=0,u=0;for(o=0;o<i;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/i-e)*r,u=(u/i-t)*r,o=0;o<i;++o)a=n[o],a.x-=l,a.y-=u}return s.initialize=function(o){n=o},s.x=function(o){return arguments.length?(e=+o,s):e},s.y=function(o){return arguments.length?(t=+o,s):t},s.strength=function(o){return arguments.length?(r=+o,s):r},s}function pDt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return WIe(this.cover(t,n),t,n,e)}function WIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var s,o=e._root,i={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,v,y;if(!o)return e._root=i,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,s=o,!(o=o[v=m<<1|g]))return s[v]=i,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return i.next=o,s?s[v]=i:e._root=i,e;do s=s?s[v]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((v=m<<1|g)===(y=(p>=d)<<1|h>=f));return s[y]=o,s[v]=i,e}function gDt(e){var t,n,r=e.length,s,o,i=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(s=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(i[n]=s,a[n]=o,s<l&&(l=s),s>c&&(c=s),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)WIe(this,i[n],a[n],e[n]);return this}function mDt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,s=this._x1,o=this._y1;if(isNaN(n))s=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var i=s-n||1,a=this._root,l,u;n>e||e>=s||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,i*=2,u){case 0:s=n+i,o=r+i;break;case 1:n=s-i,o=r+i;break;case 2:s=n+i,r=o-i;break;case 3:n=s-i,r=o-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=s,this._y1=o,this}function vDt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function yDt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ea(e,t,n,r,s){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=s}function bDt(e,t,n){var r,s=this._x0,o=this._y0,i,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Ea(h,s,o,c,f)),n==null?n=1/0:(s=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(i=p.x0)>c||(a=p.y0)>f||(l=p.x1)<s||(u=p.y1)<o))if(h.length){var m=(i+l)/2,v=(a+u)/2;d.push(new Ea(h[3],m,v,l,u),new Ea(h[2],i,v,m,u),new Ea(h[1],m,a,l,v),new Ea(h[0],i,a,m,v)),(g=(t>=v)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var y=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),b=y*y+w*w;if(b<n){var C=Math.sqrt(n=b);s=e-C,o=t-C,c=e+C,f=t+C,r=h.data}}return r}function wDt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,s,o,i=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(i+l)/2))?i=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,v=m)}for(;n.data!==e;)if(s=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,s?(o?s.next=o:delete s.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function xDt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function CDt(){return this._root}function SDt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function $Dt(e){var t=[],n,r=this._root,s,o,i,a,l;for(r&&t.push(new Ea(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,i=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(i+l)/2;(s=r[3])&&t.push(new Ea(s,u,c,a,l)),(s=r[2])&&t.push(new Ea(s,o,c,u,l)),(s=r[1])&&t.push(new Ea(s,u,i,a,c)),(s=r[0])&&t.push(new Ea(s,o,i,u,c))}return this}function kDt(e){var t=[],n=[],r;for(this._root&&t.push(new Ea(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var s=r.node;if(s.length){var o,i=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(i+l)/2,f=(a+u)/2;(o=s[0])&&t.push(new Ea(o,i,a,c,f)),(o=s[1])&&t.push(new Ea(o,c,a,l,f)),(o=s[2])&&t.push(new Ea(o,i,f,c,u)),(o=s[3])&&t.push(new Ea(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function EDt(e){return e[0]}function _Dt(e){return arguments.length?(this._x=e,this):this._x}function TDt(e){return e[1]}function ADt(e){return arguments.length?(this._y=e,this):this._y}function YZ(e,t,n){var r=new XZ(t??EDt,n??TDt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function XZ(e,t,n,r,s,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=s,this._y1=o,this._root=void 0}function Gue(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ua=YZ.prototype=XZ.prototype;Ua.copy=function(){var e=new XZ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Gue(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var s=0;s<4;++s)(r=t.source[s])&&(r.length?n.push({source:r,target:t.target[s]=new Array(4)}):t.target[s]=Gue(r));return e};Ua.add=pDt;Ua.addAll=gDt;Ua.cover=mDt;Ua.data=vDt;Ua.extent=yDt;Ua.find=bDt;Ua.remove=wDt;Ua.removeAll=xDt;Ua.root=CDt;Ua.size=SDt;Ua.visit=$Dt;Ua.visitAfter=kDt;Ua.x=_Dt;Ua.y=ADt;function Ta(e){return function(){return e}}function Fg(e){return(e()-.5)*1e-6}function IDt(e){return e.x+e.vx}function NDt(e){return e.y+e.vy}function DDt(e){var t,n,r,s=1,o=1;typeof e!="function"&&(e=Ta(e==null?1:+e));function i(){for(var u,c=t.length,f,d,h,p,g,m,v=0;v<o;++v)for(f=YZ(t,IDt,NDt).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(y);function y(w,b,C,S,$){var k=w.data,T=w.r,_=g+T;if(k){if(k.index>d.index){var E=h-k.x-k.vx,A=p-k.y-k.vy,N=E*E+A*A;N<_*_&&(E===0&&(E=Fg(r),N+=E*E),A===0&&(A=Fg(r),N+=A*A),N=(_-(N=Math.sqrt(N)))/N*s,d.vx+=(E*=N)*(_=(T*=T)/(m+T)),d.vy+=(A*=N)*_,k.vx-=E*(_=1-_),k.vy-=A*_)}return}return b>h+_||S<h-_||C>p+_||$<p-_}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return i.initialize=function(u,c){t=u,r=c,l()},i.iterations=function(u){return arguments.length?(o=+u,i):o},i.strength=function(u){return arguments.length?(s=+u,i):s},i.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Ta(+u),l(),i):e},i}function ODt(e){return e.index}function Kue(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function RDt(e){var t=ODt,n=f,r,s=Ta(30),o,i,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var v=0,y=e.length;v<c;++v)for(var w=0,b,C,S,$,k,T,_;w<y;++w)b=e[w],C=b.source,S=b.target,$=S.x+S.vx-C.x-C.vx||Fg(u),k=S.y+S.vy-C.y-C.vy||Fg(u),T=Math.sqrt($*$+k*k),T=(T-o[w])/T*m*r[w],$*=T,k*=T,S.vx-=$*(_=l[w]),S.vy-=k*_,C.vx+=$*(_=1-_),C.vy+=k*_}function h(){if(i){var m,v=i.length,y=e.length,w=new Map(i.map((C,S)=>[t(C,S,i),C])),b;for(m=0,a=new Array(v);m<y;++m)b=e[m],b.index=m,typeof b.source!="object"&&(b.source=Kue(w,b.source)),typeof b.target!="object"&&(b.target=Kue(w,b.target)),a[b.source.index]=(a[b.source.index]||0)+1,a[b.target.index]=(a[b.target.index]||0)+1;for(m=0,l=new Array(y);m<y;++m)b=e[m],l[m]=a[b.source.index]/(a[b.source.index]+a[b.target.index]);r=new Array(y),p(),o=new Array(y),g()}}function p(){if(i)for(var m=0,v=e.length;m<v;++m)r[m]=+n(e[m],m,e)}function g(){if(i)for(var m=0,v=e.length;m<v;++m)o[m]=+s(e[m],m,e)}return d.initialize=function(m,v){i=m,u=v,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Ta(+m),p(),d):n},d.distance=function(m){return arguments.length?(s=typeof m=="function"?m:Ta(+m),g(),d):s},d}var FDt={value:()=>{}};function UIe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new v3(n)}function v3(e){this._=e}function MDt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}v3.prototype=UIe.prototype={constructor:v3,on:function(e,t){var n=this._,r=MDt(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=PDt(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=Yue(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Yue(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new v3(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function PDt(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Yue(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=FDt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dx=0,w$=0,_S=0,jIe=1e3,HR,x$,qR=0,P1=0,mB=0,xE=typeof performance=="object"&&performance.now?performance:Date,HIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ZZ(){return P1||(HIe(LDt),P1=xE.now()+mB)}function LDt(){P1=0}function GR(){this._call=this._time=this._next=null}GR.prototype=qIe.prototype={constructor:GR,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ZZ():+n)+(t==null?0:+t),!this._next&&x$!==this&&(x$?x$._next=this:HR=this,x$=this),this._call=e,this._time=n,CU()},stop:function(){this._call&&(this._call=null,this._time=1/0,CU())}};function qIe(e,t,n){var r=new GR;return r.restart(e,t,n),r}function BDt(){ZZ(),++dx;for(var e=HR,t;e;)(t=P1-e._time)>=0&&e._call.call(null,t),e=e._next;--dx}function Xue(){P1=(qR=xE.now())+mB,dx=w$=0;try{BDt()}finally{dx=0,VDt(),P1=0}}function zDt(){var e=xE.now(),t=e-qR;t>jIe&&(mB-=t,qR=e)}function VDt(){for(var e,t=HR,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:HR=n);x$=e,CU(r)}function CU(e){if(!dx){w$&&(w$=clearTimeout(w$));var t=e-P1;t>24?(e<1/0&&(w$=setTimeout(Xue,e-xE.now()-mB)),_S&&(_S=clearInterval(_S))):(_S||(qR=xE.now(),_S=setInterval(zDt,jIe)),dx=1,HIe(Xue))}}function WDt(e,t,n){var r=new GR,s=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,i,a){i=+i,a=a==null?ZZ():+a,r._restart(function l(u){u+=s,r._restart(l,s+=i,a),o(u)},i,a)},r.restart(e,t,n),r)}const UDt=1664525,jDt=1013904223,Zue=4294967296;function HDt(){let e=1;return()=>(e=(UDt*e+jDt)%Zue)/Zue}function qDt(e){return e.x}function GDt(e){return e.y}var KDt=10,YDt=Math.PI*(3-Math.sqrt(5));function XDt(e){var t,n=1,r=.001,s=1-Math.pow(r,1/300),o=0,i=.6,a=new Map,l=qIe(f),u=UIe("tick","end"),c=HDt();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,v=e.length,y;g===void 0&&(g=1);for(var w=0;w<g;++w)for(n+=(o-n)*s,a.forEach(function(b){b(n)}),m=0;m<v;++m)y=e[m],y.fx==null?y.x+=y.vx*=i:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=i:(y.y=y.fy,y.vy=0);return t}function h(){for(var g=0,m=e.length,v;g<m;++g){if(v=e[g],v.index=g,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=KDt*Math.sqrt(.5+g),w=g*YDt;v.x=y*Math.cos(w),v.y=y*Math.sin(w)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(s=+g,t):+s},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(i=1-g,t):1-i},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,v){var y=0,w=e.length,b,C,S,$,k;for(v==null?v=1/0:v*=v,y=0;y<w;++y)$=e[y],b=g-$.x,C=m-$.y,S=b*b+C*C,S<v&&(k=$,v=S);return k},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function ZDt(){var e,t,n,r,s=Ta(-30),o,i=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=YZ(e,qDt,GDt).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+s(g,h,e)}}function f(h){var p=0,g,m,v=0,y,w,b;if(h.length){for(y=w=b=0;b<4;++b)(g=h[b])&&(m=Math.abs(g.value))&&(p+=g.value,v+=m,y+=m*g.x,w+=m*g.y);h.x=y/v,h.y=w/v}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var v=h.x-t.x,y=h.y-t.y,w=m-p,b=v*v+y*y;if(w*w/l<b)return b<a&&(v===0&&(v=Fg(n),b+=v*v),y===0&&(y=Fg(n),b+=y*y),b<i&&(b=Math.sqrt(i*b)),t.vx+=v*h.value*r/b,t.vy+=y*h.value*r/b),!0;if(h.length||b>=a)return;(h.data!==t||h.next)&&(v===0&&(v=Fg(n),b+=v*v),y===0&&(y=Fg(n),b+=y*y),b<i&&(b=Math.sqrt(i*b)));do h.data!==t&&(w=o[h.data.index]*r/b,t.vx+=v*w,t.vy+=y*w);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(s=typeof h=="function"?h:Ta(+h),c(),u):s},u.distanceMin=function(h){return arguments.length?(i=h*h,u):Math.sqrt(i)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function JDt(e){var t=Ta(.1),n,r,s;typeof e!="function"&&(e=Ta(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(s[l]-c.x)*r[l]*a}function i(){if(n){var a,l=n.length;for(r=new Array(l),s=new Array(l),a=0;a<l;++a)r[a]=isNaN(s[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,i()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ta(+a),i(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ta(+a),i(),o):e},o}function QDt(e){var t=Ta(.1),n,r,s;typeof e!="function"&&(e=Ta(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(s[l]-c.y)*r[l]*a}function i(){if(n){var a,l=n.length;for(r=new Array(l),s=new Array(l),a=0;a<l;++a)r[a]=isNaN(s[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,i()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ta(+a),i(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Ta(+a),i(),o):e},o}const Jue={center:hDt,collide:DDt,nbody:ZDt,link:RDt,x:JDt,y:QDt},C$="forces",SU=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],e3t=["static","iterations"],GIe=["x","y","vx","vy"];function JZ(e){Ke.call(this,null,e)}JZ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:GIe}]};Nt(JZ,Ke,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),s=e.modified(SU),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(s||t.changed(t.MOD))&&KIe(n,e,0,t)):(this.value=n=n3t(t.source,e),n.on("tick",t3t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),s||r||e.modified(e3t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==C$||c.op._argval.force!=="link")){for(var r=c.op._argops,s=0,o=r.length,i;s<o;++s)if(r[s].name==="links"&&(i=r[s].op.source)){n.pulse(i,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(GIe)}});function t3t(e,t){return()=>e.touch(t).run()}function n3t(e,t){const n=XDt(e),r=n.stop,s=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,s()),n.stop=()=>(o=!0,r()),KIe(n,t,!0).on("end",()=>o=!0)}function KIe(e,t,n,r){var s=Mn(t.forces),o,i,a,l;for(o=0,i=SU.length;o<i;++o)a=SU[o],a!==C$&&t.modified(a)&&e[a](t[a]);for(o=0,i=s.length;o<i;++o)l=C$+o,a=n||t.modified(C$,o)?s3t(s[o]):r&&r3t(s[o],r)?e.force(l):null,a&&e.force(l,a);for(i=e.numForces||0;o<i;++o)e.force(C$+o,null);return e.numForces=s.length,e}function r3t(e,t){var n,r;for(n in e)if(Or(r=e[n])&&t.modified(Zi(r)))return 1;return 0}function s3t(e){var t,n;Pn(Jue,e.force)||gt("Unrecognized force: "+e.force),t=Jue[e.force]();for(n in e)Or(t[n])&&o3t(t[n],e[n],e);return t}function o3t(e,t,n){e(Or(t)?r=>t(r,n):t)}const i3t=Object.freeze(Object.defineProperty({__proto__:null,force:JZ},Symbol.toStringTag,{value:"Module"}));function a3t(e,t){return e.parent===t.parent?1:2}function l3t(e){return e.reduce(u3t,0)/e.length}function u3t(e,t){return e+t.x}function c3t(e){return 1+e.reduce(f3t,0)}function f3t(e,t){return Math.max(e,t.y)}function d3t(e){for(var t;t=e.children;)e=t[0];return e}function h3t(e){for(var t;t=e.children;)e=t[t.length-1];return e}function p3t(){var e=a3t,t=1,n=1,r=!1;function s(o){var i,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=l3t(h),d.y=c3t(h)):(d.x=i?a+=e(d,i):0,d.y=0,i=d)});var l=d3t(o),u=h3t(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return s.separation=function(o){return arguments.length?(e=o,s):e},s.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],s):r?null:[t,n]},s.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],s):r?[t,n]:null},s}function g3t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function m3t(){return this.eachAfter(g3t)}function v3t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function y3t(e,t){for(var n=this,r=[n],s,o,i=-1;n=r.pop();)if(e.call(t,n,++i,this),s=n.children)for(o=s.length-1;o>=0;--o)r.push(s[o]);return this}function b3t(e,t){for(var n=this,r=[n],s=[],o,i,a,l=-1;n=r.pop();)if(s.push(n),o=n.children)for(i=0,a=o.length;i<a;++i)r.push(o[i]);for(;n=s.pop();)e.call(t,n,++l,this);return this}function w3t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function x3t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,s=r&&r.length;--s>=0;)n+=r[s].value;t.value=n})}function C3t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function S3t(e){for(var t=this,n=$3t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;e!==n;)r.splice(s,0,e),e=e.parent;return r}function $3t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),s=null;for(e=n.pop(),t=r.pop();e===t;)s=e,e=n.pop(),t=r.pop();return s}function k3t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function E3t(){return Array.from(this)}function _3t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function T3t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*A3t(){var e=this,t,n=[e],r,s,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(s=0,o=r.length;s<o;++s)n.push(r[s]);while(n.length)}function QZ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=D3t)):t===void 0&&(t=N3t);for(var n=new hx(e),r,s=[n],o,i,a,l;r=s.pop();)if((i=t(r.data))&&(l=(i=Array.from(i)).length))for(r.children=i,a=l-1;a>=0;--a)s.push(o=i[a]=new hx(i[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(YIe)}function I3t(){return QZ(this).eachBefore(O3t)}function N3t(e){return e.children}function D3t(e){return Array.isArray(e)?e[1]:null}function O3t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function YIe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function hx(e){this.data=e,this.depth=this.height=0,this.parent=null}hx.prototype=QZ.prototype={constructor:hx,count:m3t,each:v3t,eachAfter:b3t,eachBefore:y3t,find:w3t,sum:x3t,sort:C3t,path:S3t,ancestors:k3t,descendants:E3t,leaves:_3t,links:T3t,copy:I3t,[Symbol.iterator]:A3t};function R3t(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F3t(e){for(var t=e.length,n,r;t;)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e}function M3t(e){for(var t=0,n=(e=F3t(Array.from(e))).length,r=[],s,o;t<n;)s=e[t],o&&XIe(o,s)?++t:(o=L3t(r=P3t(r,s)),t=0);return o}function P3t(e,t){var n,r;if(e9(t,e))return[t];for(n=0;n<e.length;++n)if(TN(t,e[n])&&e9(S$(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(TN(S$(e[n],e[r]),t)&&TN(S$(e[n],t),e[r])&&TN(S$(e[r],t),e[n])&&e9(ZIe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function TN(e,t){var n=e.r-t.r,r=t.x-e.x,s=t.y-e.y;return n<0||n*n<r*r+s*s}function XIe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,s=t.y-e.y;return n>0&&n*n>r*r+s*s}function e9(e,t){for(var n=0;n<t.length;++n)if(!XIe(e,t[n]))return!1;return!0}function L3t(e){switch(e.length){case 1:return B3t(e[0]);case 2:return S$(e[0],e[1]);case 3:return ZIe(e[0],e[1],e[2])}}function B3t(e){return{x:e.x,y:e.y,r:e.r}}function S$(e,t){var n=e.x,r=e.y,s=e.r,o=t.x,i=t.y,a=t.r,l=o-n,u=i-r,c=a-s,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+i+u/f*c)/2,r:(f+s+a)/2}}function ZIe(e,t,n){var r=e.x,s=e.y,o=e.r,i=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-i,h=r-u,p=s-a,g=s-c,m=l-o,v=f-o,y=r*r+s*s-o*o,w=y-i*i-a*a+l*l,b=y-u*u-c*c+f*f,C=h*p-d*g,S=(p*b-g*w)/(C*2)-r,$=(g*m-p*v)/C,k=(h*w-d*b)/(C*2)-s,T=(d*v-h*m)/C,_=$*$+T*T-1,E=2*(o+S*$+k*T),A=S*S+k*k-o*o,N=-(_?(E+Math.sqrt(E*E-4*_*A))/(2*_):A/E);return{x:r+S+$*N,y:s+k+T*N,r:N}}function Que(e,t,n){var r=e.x-t.x,s,o,i=e.y-t.y,a,l,u=r*r+i*i;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(s=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-s*s)),n.x=e.x-s*r-a*i,n.y=e.y-s*i+a*r):(s=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-s*s)),n.x=t.x+s*r-a*i,n.y=t.y+s*i+a*r)):(n.x=t.x+n.r,n.y=t.y)}function ece(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,s=t.y-e.y;return n>0&&n*n>r*r+s*s}function tce(e){var t=e._,n=e.next._,r=t.r+n.r,s=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return s*s+o*o}function AN(e){this._=e,this.next=null,this.previous=null}function z3t(e){if(!(s=(e=R3t(e)).length))return 0;var t,n,r,s,o,i,a,l,u,c,f;if(t=e[0],t.x=0,t.y=0,!(s>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(s>2))return t.r+n.r;Que(n,t,r=e[2]),t=new AN(t),n=new AN(n),r=new AN(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(a=3;a<s;++a){Que(t._,n._,r=e[a]),r=new AN(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(ece(l._,r._)){n=l,t.next=n,n.previous=t,--a;continue e}c+=l._.r,l=l.next}else{if(ece(u._,r._)){t=u,t.next=n,n.previous=t,--a;continue e}f+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=tce(t);(r=r.next)!==n;)(i=tce(r))<o&&(t=r,o=i);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=M3t(t),a=0;a<s;++a)t=e[a],t.x-=r.x,t.y-=r.y;return r.r}function V3t(e){return e==null?null:KR(e)}function KR(e){if(typeof e!="function")throw new Error;return e}function yv(){return 0}function Bb(e){return function(){return e}}function W3t(e){return Math.sqrt(e.value)}function U3t(){var e=null,t=1,n=1,r=yv;function s(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(nce(e)).eachAfter(t9(r,.5)).eachBefore(rce(1)):o.eachBefore(nce(W3t)).eachAfter(t9(yv,1)).eachAfter(t9(r,o.r/Math.min(t,n))).eachBefore(rce(Math.min(t,n)/(2*o.r))),o}return s.radius=function(o){return arguments.length?(e=V3t(o),s):e},s.size=function(o){return arguments.length?(t=+o[0],n=+o[1],s):[t,n]},s.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Bb(+o),s):r},s}function nce(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function t9(e,t){return function(n){if(r=n.children){var r,s,o=r.length,i=e(n)*t||0,a;if(i)for(s=0;s<o;++s)r[s].r+=i;if(a=z3t(r),i)for(s=0;s<o;++s)r[s].r-=i;n.r=a+i}}}function rce(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function JIe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function _A(e,t,n,r,s){for(var o=e.children,i,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)i=o[a],i.y0=n,i.y1=s,i.x0=t,i.x1=t+=i.value*u}function j3t(){var e=1,t=1,n=0,r=!1;function s(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(o(t,a)),r&&i.eachBefore(JIe),i}function o(i,a){return function(l){l.children&&_A(l,l.x0,i*(l.depth+1)/a,l.x1,i*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return s.round=function(i){return arguments.length?(r=!!i,s):r},s.size=function(i){return arguments.length?(e=+i[0],t=+i[1],s):[e,t]},s.padding=function(i){return arguments.length?(n=+i,s):n},s}var H3t={depth:-1},sce={};function q3t(e){return e.id}function G3t(e){return e.parentId}function oce(){var e=q3t,t=G3t;function n(r){var s=Array.from(r),o=s.length,i,a,l,u,c,f,d,h=new Map;for(a=0;a<o;++a)i=s[a],c=s[a]=new hx(i),(f=e(i,a,r))!=null&&(f+="")&&(d=c.id=f,h.set(d,h.has(d)?sce:c)),(f=t(i,a,r))!=null&&(f+="")&&(c.parent=f);for(a=0;a<o;++a)if(c=s[a],f=c.parent){if(u=h.get(f),!u)throw new Error("missing: "+f);if(u===sce)throw new Error("ambiguous: "+f);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=H3t,l.eachBefore(function(p){p.depth=p.parent.depth+1,--o}).eachBefore(YIe),l.parent=null,o>0)throw new Error("cycle");return l}return n.id=function(r){return arguments.length?(e=KR(r),n):e},n.parentId=function(r){return arguments.length?(t=KR(r),n):t},n}function K3t(e,t){return e.parent===t.parent?1:2}function n9(e){var t=e.children;return t?t[0]:e.t}function r9(e){var t=e.children;return t?t[t.length-1]:e.t}function Y3t(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function X3t(e){for(var t=0,n=0,r=e.children,s=r.length,o;--s>=0;)o=r[s],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function Z3t(e,t,n){return e.a.parent===t.parent?e.a:n}function y3(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}y3.prototype=Object.create(hx.prototype);function J3t(e){for(var t=new y3(e,0),n,r=[t],s,o,i,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),i=a-1;i>=0;--i)r.push(s=n.children[i]=new y3(o[i],i)),s.parent=n;return(t.parent=new y3(null,0)).children=[t],t}function Q3t(){var e=K3t,t=1,n=1,r=null;function s(u){var c=J3t(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(i),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(y){y.x<f.x&&(f=y),y.x>d.x&&(d=y),y.depth>h.depth&&(h=y)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),v=n/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+g)*m,y.y=y.depth*v})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){X3t(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function i(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,v=h.m,y=p.m,w=g.m,b;p=r9(p),d=n9(d),p&&d;)g=n9(g),h=r9(h),h.a=u,b=p.z+y-d.z-m+e(p._,d._),b>0&&(Y3t(Z3t(p,u,f),u,b),m+=b,v+=b),y+=p.m,m+=d.m,w+=g.m,v+=h.m;p&&!r9(h)&&(h.t=p,h.m+=y-v),d&&!n9(g)&&(g.t=d,g.m+=m-w,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return s.separation=function(u){return arguments.length?(e=u,s):e},s.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],s):r?null:[t,n]},s.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],s):r?[t,n]:null},s}function vB(e,t,n,r,s){for(var o=e.children,i,a=-1,l=o.length,u=e.value&&(s-n)/e.value;++a<l;)i=o[a],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*u}var QIe=(1+Math.sqrt(5))/2;function eNe(e,t,n,r,s,o){for(var i=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,v,y,w,b,C,S;c<d;){h=s-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(v=y=m,C=Math.max(p/h,h/p)/(g*e),S=m*m*C,b=Math.max(y/S,S/v);f<d;++f){if(m+=u=a[f].value,u<v&&(v=u),u>y&&(y=u),S=m*m*C,w=Math.max(y/S,S/v),w>b){m-=u;break}b=w}i.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?_A(l,n,r,s,g?r+=p*m/g:o):vB(l,n,r,g?n+=h*m/g:s,o),g-=m,c=f}return i}const tNe=(function e(t){function n(r,s,o,i,a){eNe(t,r,s,o,i,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(QIe);function eOt(){var e=tNe,t=!1,n=1,r=1,s=[0],o=yv,i=yv,a=yv,l=yv,u=yv;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),s=[0],t&&d.eachBefore(JIe),d}function f(d){var h=s[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,v=d.y1-h;m<p&&(p=m=(p+m)/2),v<g&&(g=v=(g+v)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=v,d.children&&(h=s[d.depth+1]=o(d)/2,p+=u(d)-h,g+=i(d)-h,m-=a(d)-h,v-=l(d)-h,m<p&&(p=m=(p+m)/2),v<g&&(g=v=(g+v)/2),e(d,p,g,m,v))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=KR(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Bb(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(i=typeof d=="function"?d:Bb(+d),c):i},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:Bb(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Bb(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Bb(+d),c):u},c}function tOt(e,t,n,r,s){var o=e.children,i,a=o.length,l,u=new Array(a+1);for(u[0]=l=i=0;i<a;++i)u[i+1]=l+=o[i].value;c(0,a,e.value,t,n,r,s);function c(f,d,h,p,g,m,v){if(f>=d-1){var y=o[f];y.x0=p,y.y0=g,y.x1=m,y.y1=v;return}for(var w=u[f],b=h/2+w,C=f+1,S=d-1;C<S;){var $=C+S>>>1;u[$]<b?C=$+1:S=$}b-u[C-1]<u[C]-b&&f+1<C&&--C;var k=u[C]-w,T=h-k;if(m-p>v-g){var _=h?(p*T+m*k)/h:m;c(f,C,k,p,g,_,v),c(C,d,T,_,g,m,v)}else{var E=h?(g*T+v*k)/h:v;c(f,C,k,p,g,m,E),c(C,d,T,p,E,m,v)}}}function nOt(e,t,n,r,s){(e.depth&1?vB:_A)(e,t,n,r,s)}const rOt=(function e(t){function n(r,s,o,i,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?_A(u,s,o,i,g?o+=(a-o)*u.value/g:a):vB(u,s,o,g?s+=(i-s)*u.value/g:i,a),g-=u.value}else r._squarify=l=eNe(t,r,s,o,i,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(QIe);function $U(e,t,n){const r={};return e.each(s=>{const o=s.data;n(o)&&(r[t(o)]=s)}),e.lookup=r,e}function eJ(e){Ke.call(this,null,e)}eJ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const sOt=e=>e.values;Nt(eJ,Ke,{transform(e,t){t.source||gt("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),s=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(i=>{i.children&&gL(i.data)&&s.rem.push(i.data)}),this.value=o=QZ({values:Mn(e.keys).reduce((i,a)=>(i.key(a),i),oOt()).entries(s.source)},sOt),n&&o.each(i=>{i.children&&(i=_r(i.data),s.add.push(i),s.source.push(i))}),$U(o,gn,gn)),s.source.root=o,s}});function oOt(){const e=[],t={entries:s=>r(n(s,0),0),key:s=>(e.push(s),t)};function n(s,o){if(o>=e.length)return s;const i=s.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<i;)f=a(d=s[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(s,o){if(++o>e.length)return s;const i=[];for(const a in s)i.push({key:a,values:r(s[a],o)});return i}return t}function Op(e){Ke.call(this,null,e)}const iOt=(e,t)=>e.parent===t.parent?1:2;Nt(Op,Ke,{transform(e,t){(!t.source||!t.source.root)&&gt(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,s=t.source.root,o=e.as||r;e.field?s.sum(e.field):s.count(),e.sort&&s.sort(xy(e.sort,i=>i.data)),aOt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?iOt:iC);try{this.value=n(s)}catch(i){gt(i)}return s.each(i=>lOt(i,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function aOt(e,t,n){for(let r,s=0,o=t.length;s<o;++s)r=t[s],r in n&&e[r](n[r])}function lOt(e,t,n){const r=e.data,s=t.length-1;for(let o=0;o<s;++o)r[n[o]]=e[t[o]];r[n[s]]=e.children?e.children.length:0}const kU=["x","y","r","depth","children"];function tJ(e){Op.call(this,e)}tJ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:kU.length,default:kU}]};Nt(tJ,Op,{layout:U3t,params:["radius","size","padding"],fields:kU});const EU=["x0","y0","x1","y1","depth","children"];function nJ(e){Op.call(this,e)}nJ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:EU.length,default:EU}]};Nt(nJ,Op,{layout:j3t,params:["size","round","padding"],fields:EU});function rJ(e){Ke.call(this,null,e)}rJ.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Nt(rJ,Ke,{transform(e,t){t.source||gt("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),s=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s.source=s.source.slice(),o&&(n=s.source.length?$U(oce().id(e.key).parentId(e.parentKey)(s.source),e.key,aC):$U(oce()([{}]),e.key,e.key)),s.source.root=this.value=n,s}});const ice={tidy:Q3t,cluster:p3t},_U=["x","y","depth","children"];function sJ(e){Op.call(this,e)}sJ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:_U.length,default:_U}]};Nt(sJ,Op,{layout(e){const t=e||"tidy";if(Pn(ice,t))return ice[t]();gt("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:_U});function oJ(e){Ke.call(this,[],e)}oJ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Nt(oJ,Ke,{transform(e,t){const n=this.value,r=t.source&&t.source.root,s=t.fork(t.NO_SOURCE),o={};return r||gt("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(s.rem=n,t.visit(t.SOURCE,i=>o[gn(i)]=1),r.each(i=>{const a=i.data,l=i.parent&&i.parent.data;l&&o[gn(a)]&&o[gn(l)]&&s.add.push(_r({source:l,target:a}))}),this.value=s.add):t.changed(t.MOD)&&(t.visit(t.MOD,i=>o[gn(i)]=1),n.forEach(i=>{(o[gn(i.source)]||o[gn(i.target)])&&s.mod.push(i)})),s}});const ace={binary:tOt,dice:_A,slice:vB,slicedice:nOt,squarify:tNe,resquarify:rOt},TU=["x0","y0","x1","y1","depth","children"];function iJ(e){Op.call(this,e)}iJ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:TU.length,default:TU}]};Nt(iJ,Op,{layout(){const e=eOt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Pn(ace,t)?e.tile(ace[t]):gt("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:TU});const uOt=Object.freeze(Object.defineProperty({__proto__:null,nest:eJ,pack:tJ,partition:nJ,stratify:rJ,tree:sJ,treelinks:oJ,treemap:iJ},Symbol.toStringTag,{value:"Module"})),AU=Math.PI,IU=2*AU,lv=1e-6,cOt=IU-lv;function NU(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ry(){return new NU}NU.prototype=Ry.prototype={constructor:NU,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,s,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+s)+","+(this._y1=+o)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var o=this._x1,i=this._y1,a=n-e,l=r-t,u=o-e,c=i-t,f=u*u+c*c;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>lv)if(!(Math.abs(c*a-l*u)>lv)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=n-o,h=r-i,p=a*a+l*l,g=d*d+h*h,m=Math.sqrt(p),v=Math.sqrt(f),y=s*Math.tan((AU-Math.acos((p+f-g)/(2*m*v)))/2),w=y/v,b=y/m;Math.abs(w-1)>lv&&(this._+="L"+(e+w*u)+","+(t+w*c)),this._+="A"+s+","+s+",0,0,"+ +(c*d>u*h)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,n,r,s,o){e=+e,t=+t,n=+n,o=!!o;var i=n*Math.cos(r),a=n*Math.sin(r),l=e+i,u=t+a,c=1^o,f=o?r-s:s-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>lv||Math.abs(this._y1-u)>lv)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%IU+IU),f>cOt?this._+="A"+n+","+n+",0,1,"+c+","+(e-i)+","+(t-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>lv&&(this._+="A"+n+","+n+",0,"+ +(f>=AU)+","+c+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Nr(e){return function(){return e}}var lce=Math.abs,Ei=Math.atan2,z0=Math.cos,fOt=Math.max,s9=Math.min,bf=Math.sin,Gb=Math.sqrt,Ii=1e-12,px=Math.PI,YR=px/2,nNe=2*px;function dOt(e){return e>1?0:e<-1?px:Math.acos(e)}function uce(e){return e>=1?YR:e<=-1?-YR:Math.asin(e)}function hOt(e){return e.innerRadius}function pOt(e){return e.outerRadius}function gOt(e){return e.startAngle}function mOt(e){return e.endAngle}function vOt(e){return e&&e.padAngle}function yOt(e,t,n,r,s,o,i,a){var l=n-e,u=r-t,c=i-s,f=a-o,d=f*l-c*u;if(!(d*d<Ii))return d=(c*(t-o)-f*(e-s))/d,[e+d*l,t+d*u]}function IN(e,t,n,r,s,o,i){var a=e-n,l=t-r,u=(i?o:-o)/Gb(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,v=(h+g)/2,y=p-d,w=g-h,b=y*y+w*w,C=s-o,S=d*g-p*h,$=(w<0?-1:1)*Gb(fOt(0,C*C*b-S*S)),k=(S*w-y*$)/b,T=(-S*y-w*$)/b,_=(S*w+y*$)/b,E=(-S*y+w*$)/b,A=k-m,N=T-v,F=_-m,R=E-v;return A*A+N*N>F*F+R*R&&(k=_,T=E),{cx:k,cy:T,x01:-c,y01:-f,x11:k*(s/C-1),y11:T*(s/C-1)}}function bOt(){var e=hOt,t=pOt,n=Nr(0),r=null,s=gOt,o=mOt,i=vOt,a=null;function l(){var u,c,f=+e.apply(this,arguments),d=+t.apply(this,arguments),h=s.apply(this,arguments)-YR,p=o.apply(this,arguments)-YR,g=lce(p-h),m=p>h;if(a||(a=u=Ry()),d<f&&(c=d,d=f,f=c),!(d>Ii))a.moveTo(0,0);else if(g>nNe-Ii)a.moveTo(d*z0(h),d*bf(h)),a.arc(0,0,d,h,p,!m),f>Ii&&(a.moveTo(f*z0(p),f*bf(p)),a.arc(0,0,f,p,h,m));else{var v=h,y=p,w=h,b=p,C=g,S=g,$=i.apply(this,arguments)/2,k=$>Ii&&(r?+r.apply(this,arguments):Gb(f*f+d*d)),T=s9(lce(d-f)/2,+n.apply(this,arguments)),_=T,E=T,A,N;if(k>Ii){var F=uce(k/f*bf($)),R=uce(k/d*bf($));(C-=F*2)>Ii?(F*=m?1:-1,w+=F,b-=F):(C=0,w=b=(h+p)/2),(S-=R*2)>Ii?(R*=m?1:-1,v+=R,y-=R):(S=0,v=y=(h+p)/2)}var P=d*z0(v),I=d*bf(v),D=f*z0(b),M=f*bf(b);if(T>Ii){var z=d*z0(y),W=d*bf(y),H=f*z0(w),U=f*bf(w),K;if(g<px&&(K=yOt(P,I,H,U,z,W,D,M))){var G=P-K[0],re=I-K[1],ue=z-K[0],ae=W-K[1],X=1/bf(dOt((G*ue+re*ae)/(Gb(G*G+re*re)*Gb(ue*ue+ae*ae)))/2),J=Gb(K[0]*K[0]+K[1]*K[1]);_=s9(T,(f-J)/(X-1)),E=s9(T,(d-J)/(X+1))}}S>Ii?E>Ii?(A=IN(H,U,P,I,d,E,m),N=IN(z,W,D,M,d,E,m),a.moveTo(A.cx+A.x01,A.cy+A.y01),E<T?a.arc(A.cx,A.cy,E,Ei(A.y01,A.x01),Ei(N.y01,N.x01),!m):(a.arc(A.cx,A.cy,E,Ei(A.y01,A.x01),Ei(A.y11,A.x11),!m),a.arc(0,0,d,Ei(A.cy+A.y11,A.cx+A.x11),Ei(N.cy+N.y11,N.cx+N.x11),!m),a.arc(N.cx,N.cy,E,Ei(N.y11,N.x11),Ei(N.y01,N.x01),!m))):(a.moveTo(P,I),a.arc(0,0,d,v,y,!m)):a.moveTo(P,I),!(f>Ii)||!(C>Ii)?a.lineTo(D,M):_>Ii?(A=IN(D,M,z,W,f,-_,m),N=IN(P,I,H,U,f,-_,m),a.lineTo(A.cx+A.x01,A.cy+A.y01),_<T?a.arc(A.cx,A.cy,_,Ei(A.y01,A.x01),Ei(N.y01,N.x01),!m):(a.arc(A.cx,A.cy,_,Ei(A.y01,A.x01),Ei(A.y11,A.x11),!m),a.arc(0,0,f,Ei(A.cy+A.y11,A.cx+A.x11),Ei(N.cy+N.y11,N.cx+N.x11),m),a.arc(N.cx,N.cy,_,Ei(N.y11,N.x11),Ei(N.y01,N.x01),!m))):a.arc(0,0,f,b,w,m)}if(a.closePath(),u)return a=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-px/2;return[z0(c)*u,bf(c)*u]},l.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Nr(+u),l):e},l.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Nr(+u),l):t},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Nr(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Nr(+u),l):r},l.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Nr(+u),l):s},l.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Nr(+u),l):o},l.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Nr(+u),l):i},l.context=function(u){return arguments.length?(a=u??null,l):a},l}function rNe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sNe(e){this._context=e}sNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function aJ(e){return new sNe(e)}function oNe(e){return e[0]}function iNe(e){return e[1]}function aNe(e,t){var n=Nr(!0),r=null,s=aJ,o=null;e=typeof e=="function"?e:e===void 0?oNe:Nr(e),t=typeof t=="function"?t:t===void 0?iNe:Nr(t);function i(a){var l,u=(a=rNe(a)).length,c,f=!1,d;for(r==null&&(o=s(d=Ry())),l=0;l<=u;++l)!(l<u&&n(c=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,l,a),+t(c,l,a));if(d)return o=null,d+""||null}return i.x=function(a){return arguments.length?(e=typeof a=="function"?a:Nr(+a),i):e},i.y=function(a){return arguments.length?(t=typeof a=="function"?a:Nr(+a),i):t},i.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Nr(!!a),i):n},i.curve=function(a){return arguments.length?(s=a,r!=null&&(o=s(r)),i):s},i.context=function(a){return arguments.length?(a==null?r=o=null:o=s(r=a),i):r},i}function lNe(e,t,n){var r=null,s=Nr(!0),o=null,i=aJ,a=null;e=typeof e=="function"?e:e===void 0?oNe:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?iNe:Nr(+n);function l(c){var f,d,h,p=(c=rNe(c)).length,g,m=!1,v,y=new Array(p),w=new Array(p);for(o==null&&(a=i(v=Ry())),f=0;f<=p;++f){if(!(f<p&&s(g=c[f],f,c))===m)if(m=!m)d=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=f-1;h>=d;--h)a.point(y[h],w[h]);a.lineEnd(),a.areaEnd()}m&&(y[f]=+e(g,f,c),w[f]=+t(g,f,c),a.point(r?+r(g,f,c):y[f],n?+n(g,f,c):w[f]))}if(v)return a=null,v+""||null}function u(){return aNe().defined(s).curve(i).context(o)}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),r=null,l):e},l.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Nr(+c),l):r},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),n=null,l):t},l.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Nr(+c),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Nr(!!c),l):s},l.curve=function(c){return arguments.length?(i=c,o!=null&&(a=i(o)),l):i},l.context=function(c){return arguments.length?(c==null?o=a=null:a=i(o=c),l):o},l}const wOt={draw:function(e,t){var n=Math.sqrt(t/px);e.moveTo(n,0),e.arc(0,0,n,0,nNe)}};function xOt(e,t){var n=null;e=typeof e=="function"?e:Nr(e||wOt),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function r(){var s;if(n||(n=s=Ry()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),r):t},r.context=function(s){return arguments.length?(n=s??null,r):n},r}function Fm(){}function XR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function yB(e){this._context=e}yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function COt(e){return new yB(e)}function uNe(e){this._context=e}uNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:XR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SOt(e){return new uNe(e)}function cNe(e){this._context=e}cNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:XR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $Ot(e){return new cNe(e)}function fNe(e,t){this._basis=new yB(e),this._beta=t}fNe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],s=t[0],o=e[n]-r,i=t[n]-s,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(s+l*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const kOt=(function e(t){function n(r){return t===1?new yB(r):new fNe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function ZR(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function lJ(e,t){this._context=e,this._k=(1-t)/6}lJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ZR(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ZR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const EOt=(function e(t){function n(r){return new lJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function uJ(e,t){this._context=e,this._k=(1-t)/6}uJ.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ZR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _Ot=(function e(t){function n(r){return new uJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function cJ(e,t){this._context=e,this._k=(1-t)/6}cJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ZR(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const TOt=(function e(t){function n(r){return new cJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function fJ(e,t,n){var r=e._x1,s=e._y1,o=e._x2,i=e._y2;if(e._l01_a>Ii){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ii){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,i=(i*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,s,o,i,e._x2,e._y2)}function dNe(e,t){this._context=e,this._alpha=t}dNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AOt=(function e(t){function n(r){return t?new dNe(r,t):new lJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function hNe(e,t){this._context=e,this._alpha=t}hNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IOt=(function e(t){function n(r){return t?new hNe(r,t):new uJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function pNe(e,t){this._context=e,this._alpha=t}pNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NOt=(function e(t){function n(r){return t?new pNe(r,t):new cJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function gNe(e){this._context=e}gNe.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function DOt(e){return new gNe(e)}function cce(e){return e<0?-1:1}function fce(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),i=(n-e._y1)/(s||r<0&&-0),a=(o*s+i*r)/(r+s);return(cce(o)+cce(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(a))||0}function dce(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o9(e,t,n){var r=e._x0,s=e._y0,o=e._x1,i=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,s+a*t,o-a,i-a*n,o,i)}function JR(e){this._context=e}JR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o9(this,this._t0,dce(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o9(this,dce(this,n=fce(this,e,t)),n);break;default:o9(this,this._t0,n=fce(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mNe(e){this._context=new vNe(e)}(mNe.prototype=Object.create(JR.prototype)).point=function(e,t){JR.prototype.point.call(this,t,e)};function vNe(e){this._context=e}vNe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function OOt(e){return new JR(e)}function ROt(e){return new mNe(e)}function yNe(e){this._context=e}yNe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hce(e),s=hce(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hce(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),i=new Array(n);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function FOt(e){return new yNe(e)}function bB(e,t){this._context=e,this._t=t}bB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function MOt(e){return new bB(e,.5)}function POt(e){return new bB(e,0)}function LOt(e){return new bB(e,1)}var pce={},i9={},a9=34,TS=10,l9=13;function bNe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function BOt(e,t){var n=bNe(e);return function(r,s){return t(n(r),s,e)}}function gce(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var s in r)s in t||n.push(t[s]=s)}),n}function Ya(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function zOt(e){return e<0?"-"+Ya(-e,6):e>9999?"+"+Ya(e,6):Ya(e,4)}function VOt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":zOt(e.getUTCFullYear())+"-"+Ya(e.getUTCMonth()+1,2)+"-"+Ya(e.getUTCDate(),2)+(s?"T"+Ya(t,2)+":"+Ya(n,2)+":"+Ya(r,2)+"."+Ya(s,3)+"Z":r?"T"+Ya(t,2)+":"+Ya(n,2)+":"+Ya(r,2)+"Z":n||t?"T"+Ya(t,2)+":"+Ya(n,2)+"Z":"")}function WOt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=s(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?BOt(m,d):bNe(m)});return g.columns=p||[],g}function s(f,d){var h=[],p=f.length,g=0,m=0,v,y=p<=0,w=!1;f.charCodeAt(p-1)===TS&&--p,f.charCodeAt(p-1)===l9&&--p;function b(){if(y)return i9;if(w)return w=!1,pce;var S,$=g,k;if(f.charCodeAt($)===a9){for(;g++<p&&f.charCodeAt(g)!==a9||f.charCodeAt(++g)===a9;);return(S=g)>=p?y=!0:(k=f.charCodeAt(g++))===TS?w=!0:k===l9&&(w=!0,f.charCodeAt(g)===TS&&++g),f.slice($+1,S-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(S=g++))===TS)w=!0;else if(k===l9)w=!0,f.charCodeAt(g)===TS&&++g;else if(k!==n)continue;return f.slice($,S)}return y=!0,f.slice($,p)}for(;(v=b())!==i9;){for(var C=[];v!==pce&&v!==i9;)C.push(v),v=b();d&&(C=d(C,m++))==null||h.push(C)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function i(f,d){return d==null&&(d=gce(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=gce(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?VOt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:s,format:i,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function UOt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function QR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gx(e){return e=QR(Math.abs(e)),e?e[1]:NaN}function jOt(e,t){return function(n,r){for(var s=n.length,o=[],i=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[i=(i+1)%e.length];return o.reverse().join(t)}}function HOt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qOt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function CE(e){if(!(t=qOt.exec(e)))throw new Error("invalid format: "+e);var t;return new dJ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}CE.prototype=dJ.prototype;function dJ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dJ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GOt(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var wNe;function KOt(e,t){var n=QR(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(wNe=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+QR(e,Math.max(0,t+o-1))[0]}function mce(e,t){var n=QR(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const vce={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UOt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mce(e*100,t),r:mce,s:KOt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yce(e){return e}var bce=Array.prototype.map,wce=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xNe(e){var t=e.grouping===void 0||e.thousands===void 0?yce:jOt(bce.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?yce:HOt(bce.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=CE(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,y=f.comma,w=f.precision,b=f.trim,C=f.type;C==="n"?(y=!0,C="g"):vce[C]||(w===void 0&&(w=12),b=!0,C="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=g==="$"?r:/[%p]/.test(C)?i:"",k=vce[C],T=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(E){var A=S,N=$,F,R,P;if(C==="c")N=k(E)+N,E="";else{E=+E;var I=E<0||1/E<0;if(E=isNaN(E)?l:k(Math.abs(E),w),b&&(E=GOt(E)),I&&+E==0&&p!=="+"&&(I=!1),A=(I?p==="("?p:a:p==="-"||p==="("?"":p)+A,N=(C==="s"?wce[8+wNe/3]:"")+N+(I&&p==="("?")":""),T){for(F=-1,R=E.length;++F<R;)if(P=E.charCodeAt(F),48>P||P>57){N=(P===46?s+E.slice(F+1):E.slice(F))+N,E=E.slice(0,F);break}}}y&&!m&&(E=t(E,1/0));var D=A.length+E.length+N.length,M=D<v?new Array(v-D+1).join(d):"";switch(y&&m&&(E=t(M+E,M.length?v-N.length:1/0),M=""),h){case"<":E=A+E+N+M;break;case"=":E=A+M+E+N;break;case"^":E=M.slice(0,D=M.length>>1)+A+E+N+M.slice(D);break;default:E=M+A+E+N;break}return o(E)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=CE(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(gx(d)/3)))*3,g=Math.pow(10,-p),m=wce[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var NN,CNe,SNe;YOt({thousands:",",grouping:[3],currency:["$",""]});function YOt(e){return NN=xNe(e),CNe=NN.format,SNe=NN.formatPrefix,NN}function XOt(e){return Math.max(0,-gx(Math.abs(e)))}function ZOt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gx(t)/3)))*3-gx(Math.abs(e)))}function JOt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gx(t)-gx(e))+1}function $$(e){const t={};return n=>t[n]||(t[n]=e(n))}function QOt(e,t){return n=>{const r=e(n),s=r.indexOf(t);if(s<0)return r;let o=eRt(r,s);const i=o<r.length?r.slice(o):"";for(;--o>s;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+i}}function eRt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function $Ne(e){const t=$$(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const s=CE(r||",");if(s.precision==null){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return QOt(t(s),t(".1f")(1)[1])}else return t(s)},formatSpan(r,s,o,i){i=CE(i??",f");const a=_m(r,s,o),l=Math.max(Math.abs(r),Math.abs(s));let u;if(i.precision==null)switch(i.type){case"s":return isNaN(u=ZOt(a,l))||(i.precision=u),n(i,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=JOt(a,l))||(i.precision=u-(i.type==="e"));break}case"f":case"%":{isNaN(u=XOt(a))||(i.precision=u-(i.type==="%")*2);break}}return t(i)}}}let DU;kNe();function kNe(){return DU=$Ne({format:CNe,formatPrefix:SNe})}function ENe(e){return $Ne(xNe(e))}function eF(e){return arguments.length?DU=ENe(e):DU}function xce(e,t,n){n=n||{},tr(n)||gt("Invalid time multi-format specifier: ".concat(n));const r=t(Lu),s=t(ru),o=t(nu),i=t(Cl),a=t(bo),l=t(Qi),u=t(xl),c=t(vi),f=e(n[Wc]||".%L"),d=e(n[Lu]||":%S"),h=e(n[ru]||"%I:%M"),p=e(n[nu]||"%I %p"),g=e(n[Cl]||n[ji]||"%a %d"),m=e(n[bo]||"%b %d"),v=e(n[Qi]||"%B"),y=e(n[xl]||"%B"),w=e(n[vi]||"%Y");return b=>(r(b)<b?f:s(b)<b?d:o(b)<b?h:i(b)<b?p:l(b)<b?a(b)<b?g:m:c(b)<b?u(b)<b?v:y:w)(b)}function _Ne(e){const t=$$(e.format),n=$$(e.utcFormat);return{timeFormat:r=>ys(r)?t(r):xce(t,gC,r),utcFormat:r=>ys(r)?n(r):xce(n,mC,r),timeParse:$$(e.parse),utcParse:$$(e.utcParse)}}let OU;TNe();function TNe(){return OU=_Ne({format:oB,parse:iAe,utcFormat:iB,utcParse:aAe})}function ANe(e){return _Ne(tAe(e))}function SE(e){return arguments.length?OU=ANe(e):OU}const RU=(e,t)=>sr({},e,t);function INe(e,t){const n=e?ENe(e):eF(),r=t?ANe(t):SE();return RU(n,r)}function NNe(e,t){const n=arguments.length;return n&&n!==2&&gt("defaultLocale expects either zero or two arguments."),n?RU(eF(e),SE(t)):RU(eF(),SE())}function tRt(){return kNe(),TNe(),NNe()}const nRt=/^(data:|([A-Za-z]+:)?\/\/)/,rRt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,sRt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Cce="file://";function oRt(e,t){return n=>({options:n||{},sanitize:aRt,load:iRt,fileAccess:!1,file:lRt(t),http:cRt(e)})}async function iRt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function aRt(e,t){t=sr({},this.options,t);const n=this.fileAccess,r={href:null};let s,o,i;const a=rRt.test(e.replace(sRt,""));(e==null||typeof e!="string"||!a)&&gt("Sanitize failure, invalid URI: "+_n(e));const l=nRt.test(e);return(i=t.baseURL)&&!l&&(!e.startsWith("/")&&!i.endsWith("/")&&(e="/"+e),e=i+e),o=(s=e.startsWith(Cce))||t.mode==="file"||t.mode!=="http"&&!l&&n,s?e=e.slice(Cce.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function lRt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(s,o)=>{s?r(s):n(o)})}):uRt}async function uRt(){gt("No file system access.")}function cRt(e){return e?async function(t,n){const r=sr({},this.options.http,n),s=n&&n.response,o=await e(t,r);return o.ok?Or(o[s])?o[s]():o.text():gt(o.status+""+o.statusText)}:fRt}async function fRt(){gt("No HTTP fetch method available.")}const dRt=e=>e!=null&&e===e,hRt=e=>e==="true"||e==="false"||e===!0||e===!1,pRt=e=>!Number.isNaN(Date.parse(e)),DNe=e=>!Number.isNaN(+e)&&!(e instanceof Date),gRt=e=>DNe(e)&&Number.isInteger(+e),FU={boolean:l$e,integer:xm,number:xm,date:u$e,string:c$e,unknown:Mu},DN=[hRt,gRt,DNe,pRt],mRt=["boolean","integer","number","date"];function ONe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=DN.length,s=DN.map((o,i)=>i+1);for(let o=0,i=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(s[a]&&dRt(l)&&!DN[a](l)&&(s[a]=0,++i,i===DN.length))return"string";return mRt[s.reduce((o,i)=>o===0?i:o,0)-1]}function RNe(e,t){return t.reduce((n,r)=>(n[r]=ONe(e,r),n),{})}function Sce(e){const t=function(n,r){const s={delimiter:e};return hJ(n,r?sr(r,s):s)};return t.responseType="text",t}function hJ(e,t){return t.header&&(e=t.header.map(_n).join(t.delimiter)+`
`+e),WOt(t.delimiter).parse(e+"")}hJ.responseType="text";function vRt(e){return typeof Buffer=="function"&&Or(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function pJ(e,t){const n=t&&t.property?wm(t.property):Mu;return tr(e)&&!vRt(e)?yRt(n(e),t):n(JSON.parse(e))}pJ.responseType="json";function yRt(e,t){return!jn(e)&&s$e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const bRt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function FNe(e,t){let n,r,s,o;return e=pJ(e,t),t&&t.feature?(n=g$e,s=t.feature):t&&t.mesh?(n=v$e,s=t.mesh,o=bRt[t.filter]):gt("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,o):gt("Invalid TopoJSON object: "+s),r&&r.features||[r]}FNe.responseType="json";const b3={dsv:hJ,csv:Sce(","),tsv:Sce("	"),json:pJ,topojson:FNe};function gJ(e,t){return arguments.length>1?(b3[e]=t,this):Pn(b3,e)?b3[e]:null}function wRt(e){const t=gJ(e);return t&&t.responseType||"text"}function xRt(e,t,n,r){t=t||{};const s=gJ(t.type||"json");return s||gt("Unknown data format type: "+t.type),e=s(e,t),t.parse&&CRt(e,t.parse,n,r),Pn(e,"columns")&&delete e.columns,e}function CRt(e,t,n,r){if(!e.length)return;const s=SE();n=n||s.timeParse,r=r||s.utcParse;let o=e.columns||Object.keys(e[0]),i,a,l,u,c,f;t==="auto"&&(t=RNe(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!FU[p])throw Error("Illegal format pattern: "+h+":"+p);return FU[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(i=e[l],u=0;u<f;++u)a=o[u],i[a]=d[u](i[a])}const mJ=oRt(typeof fetch<"u"&&fetch,null);let MNe=0;function SRt(){MNe=0}const tF="p_";function vJ(e){return e&&e.gradient}function PNe(e,t,n){const r=e.gradient;let s=e.id,o=r==="radial"?tF:"";return s||(s=e.id="gradient_"+MNe++,r==="radial"?(e.x1=wf(e.x1,.5),e.y1=wf(e.y1,.5),e.r1=wf(e.r1,0),e.x2=wf(e.x2,.5),e.y2=wf(e.y2,.5),e.r2=wf(e.r2,.5),o=tF):(e.x1=wf(e.x1,0),e.y1=wf(e.y1,0),e.x2=wf(e.x2,1),e.y2=wf(e.y2,0))),t[s]=e,"url("+(n||"")+"#"+o+s+")"}function wf(e,t){return e??t}function LNe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(s,o){return n.push({offset:s,color:o}),r}}}const $ce={basis:{curve:COt},"basis-closed":{curve:SOt},"basis-open":{curve:$Ot},bundle:{curve:kOt,tension:"beta",value:.85},cardinal:{curve:EOt,tension:"tension",value:0},"cardinal-open":{curve:TOt,tension:"tension",value:0},"cardinal-closed":{curve:_Ot,tension:"tension",value:0},"catmull-rom":{curve:AOt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:IOt,tension:"alpha",value:.5},"catmull-rom-open":{curve:NOt,tension:"alpha",value:.5},linear:{curve:aJ},"linear-closed":{curve:DOt},monotone:{horizontal:ROt,vertical:OOt},natural:{curve:FOt},step:{curve:MOt},"step-after":{curve:LOt},"step-before":{curve:POt}};function yJ(e,t,n){var r=Pn($ce,e)&&$ce[e],s=null;return r&&(s=r.curve||r[t||"vertical"],r.tension&&n!=null&&(s=s[r.tension](n))),s}const $Rt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},AS=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function mx(e){const t=[];let n,r,s,o,i,a,l,u,c,f;const d=e.slice().replace(AS[0],"###$1").split(AS[1]).slice(1);for(l=0,c=d.length;l<c;++l){for(n=d[l],r=n.slice(1).trim().replace(AS[2],"$1###$2").replace(AS[3],"$1###$2").split(AS[4]),i=n.charAt(0),s=[i],u=0,f=r.length;u<f;++u)(o=+r[u])===o&&s.push(o);if(a=$Rt[i.toLowerCase()],s.length-1>a){const h=s.length;for(u=1,t.push([i].concat(s.slice(u,u+=a))),i=i==="M"?"L":i==="m"?"l":i;u<h;u+=a)t.push([i].concat(s.slice(u,u+a)))}else t.push(s)}return t}const Mm=Math.PI/180,kRt=1e-14,bv=Math.PI/2,Pf=Math.PI*2,wb=Math.sqrt(3)/2;var u9={},c9={},BNe=[].join;function ERt(e,t,n,r,s,o,i,a,l){const u=BNe.call(arguments);if(u9[u])return u9[u];const c=i*Mm,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,v=f/n,y=-f/r,w=d/r,b=m*a+v*l,C=y*a+w*l,S=m*e+v*t,$=y*e+w*t;let T=1/((S-b)*(S-b)+($-C)*($-C))-.25;T<0&&(T=0);let _=Math.sqrt(T);o==s&&(_=-_);const E=.5*(b+S)-_*($-C),A=.5*(C+$)+_*(S-b),N=Math.atan2(C-A,b-E);let R=Math.atan2($-A,S-E)-N;R<0&&o===1?R+=Pf:R>0&&o===0&&(R-=Pf);const P=Math.ceil(Math.abs(R/(bv+.001))),I=[];for(let D=0;D<P;++D){const M=N+D*R/P,z=N+(D+1)*R/P;I[D]=[E,A,M,z,n,r,f,d]}return u9[u]=I}function _Rt(e){const t=BNe.call(e);if(c9[t])return c9[t];var n=e[0],r=e[1],s=e[2],o=e[3],i=e[4],a=e[5],l=e[6],u=e[7];const c=u*i,f=-l*a,d=l*i,h=u*a,p=Math.cos(s),g=Math.sin(s),m=Math.cos(o),v=Math.sin(o),y=.5*(o-s),w=Math.sin(y*.5),b=8/3*w*w/Math.sin(y),C=n+p-b*g,S=r+g+b*p,$=n+m,k=r+v,T=$+b*v,_=k-b*m;return c9[t]=[c*C+f*S,d*C+h*S,c*T+f*_,d*T+h*_,c*$+f*k,d*$+h*k]}const pu=["l",0,0,0,0,0,0,0];function TRt(e,t,n){const r=pu[0]=e[0];if(r==="a"||r==="A")pu[1]=t*e[1],pu[2]=n*e[2],pu[3]=e[3],pu[4]=e[4],pu[5]=e[5],pu[6]=t*e[6],pu[7]=n*e[7];else if(r==="h"||r==="H")pu[1]=t*e[1];else if(r==="v"||r==="V")pu[1]=n*e[1];else for(var s=1,o=e.length;s<o;++s)pu[s]=(s%2==1?t:n)*e[s];return pu}function $E(e,t,n,r,s,o){var i,a=null,l=0,u=0,c=0,f=0,d,h,p,g;n==null&&(n=0),r==null&&(r=0),s==null&&(s=1),o==null&&(o=s),e.beginPath&&e.beginPath();for(var m=0,v=t.length;m<v;++m){switch(i=t[m],(s!==1||o!==1)&&(i=TRt(i,s,o)),i[0]){case"l":l+=i[1],u+=i[2],e.lineTo(l+n,u+r);break;case"L":l=i[1],u=i[2],e.lineTo(l+n,u+r);break;case"h":l+=i[1],e.lineTo(l+n,u+r);break;case"H":l=i[1],e.lineTo(l+n,u+r);break;case"v":u+=i[1],e.lineTo(l+n,u+r);break;case"V":u=i[1],e.lineTo(l+n,u+r);break;case"m":l+=i[1],u+=i[2],e.moveTo(l+n,u+r);break;case"M":l=i[1],u=i[2],e.moveTo(l+n,u+r);break;case"c":d=l+i[5],h=u+i[6],c=l+i[3],f=u+i[4],e.bezierCurveTo(l+i[1]+n,u+i[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=i[5],u=i[6],c=i[3],f=i[4],e.bezierCurveTo(i[1]+n,i[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+i[3],h=u+i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+i[1]+n,u+i[2]+r,d+n,h+r),c=l+i[1],f=u+i[2],l=d,u=h;break;case"S":d=i[3],h=i[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"q":d=l+i[3],h=u+i[4],c=l+i[1],f=u+i[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=i[3],h=i[4],e.quadraticCurveTo(i[1]+n,i[2]+r,d+n,h+r),l=d,u=h,c=i[1],f=i[2];break;case"t":d=l+i[1],h=u+i[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+i[1],f=u+i[2];break;case"T":d=i[1],h=i[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":kce(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+l+n,i[7]+u+r]),l+=i[6],u+=i[7];break;case"A":kce(e,l+n,u+r,[i[1],i[2],i[3],i[4],i[5],i[6]+n,i[7]+r]),l=i[6],u=i[7];break;case"z":case"Z":e.closePath();break}a=i}}function kce(e,t,n,r){const s=ERt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<s.length;++o){const i=_Rt(s[o]);e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}}const Ece=.5773502691896257,_ce={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Pf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,s=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(s,-o),e.lineTo(0,-n),e.lineTo(-s,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n,s=r-n*Ece,o=n/4;e.moveTo(0,-r-s),e.lineTo(-o,r-s),e.lineTo(o,r-s),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n,s=r-n*Ece;e.moveTo(0,-r-s),e.lineTo(-n,r-s),e.lineTo(n,r-s),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=wb*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function zNe(e){return Pn(_ce,e)?_ce[e]:ARt(e)}var f9={};function ARt(e){if(!Pn(f9,e)){const t=mx(e);f9[e]={draw:function(n,r){$E(n,t,0,0,Math.sqrt(r)/2)}}}return f9[e]}const Jp=.448084975506;function IRt(e){return e.x}function NRt(e){return e.y}function DRt(e){return e.width}function ORt(e){return e.height}function lh(e){return typeof e=="function"?e:()=>+e}function ON(e,t,n){return Math.max(t,Math.min(e,n))}function VNe(){var e=IRt,t=NRt,n=DRt,r=ORt,s=lh(0),o=s,i=s,a=s,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),v=+r.call(this,c),y=Math.min(m,v)/2,w=ON(+s.call(this,c),0,y),b=ON(+o.call(this,c),0,y),C=ON(+i.call(this,c),0,y),S=ON(+a.call(this,c),0,y);if(l||(l=h=Ry()),w<=0&&b<=0&&C<=0&&S<=0)l.rect(p,g,m,v);else{var $=p+m,k=g+v;l.moveTo(p+w,g),l.lineTo($-b,g),l.bezierCurveTo($-Jp*b,g,$,g+Jp*b,$,g+b),l.lineTo($,k-S),l.bezierCurveTo($,k-Jp*S,$-Jp*S,k,$-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+Jp*C,k,p,k-Jp*C,p,k-C),l.lineTo(p,g+w),l.bezierCurveTo(p,g+Jp*w,p+Jp*w,g,p+w,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=lh(c),u):e},u.y=function(c){return arguments.length?(t=lh(c),u):t},u.width=function(c){return arguments.length?(n=lh(c),u):n},u.height=function(c){return arguments.length?(r=lh(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(s=lh(c),o=f!=null?lh(f):s,a=d!=null?lh(d):s,i=h!=null?lh(h):o,u):s},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function WNe(){var e,t,n,r,s=null,o,i,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-i;if(g||m){var v=Math.sqrt(g*g+m*m),y=(g/=v)*l,w=(m/=v)*l,b=Math.atan2(m,g);s.moveTo(i-y,a-w),s.lineTo(f-g*p,d-m*p),s.arc(f,d,p,b-Math.PI,b),s.lineTo(i+y,a+w),s.arc(i,a,l,b,b+Math.PI)}else s.arc(f,d,p,0,Pf);s.closePath()}else o=1;i=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(s==null&&(s=m=Ry()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return s=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?s=null:s=f,c):s},c}function TA(e,t){return e??t}const AA=e=>e.x||0,IA=e=>e.y||0,RRt=e=>e.width||0,FRt=e=>e.height||0,MRt=e=>(e.x||0)+(e.width||0),PRt=e=>(e.y||0)+(e.height||0),LRt=e=>e.startAngle||0,BRt=e=>e.endAngle||0,zRt=e=>e.padAngle||0,VRt=e=>e.innerRadius||0,WRt=e=>e.outerRadius||0,URt=e=>e.cornerRadius||0,jRt=e=>TA(e.cornerRadiusTopLeft,e.cornerRadius)||0,HRt=e=>TA(e.cornerRadiusTopRight,e.cornerRadius)||0,qRt=e=>TA(e.cornerRadiusBottomRight,e.cornerRadius)||0,GRt=e=>TA(e.cornerRadiusBottomLeft,e.cornerRadius)||0,KRt=e=>TA(e.size,64),YRt=e=>e.size||1,wB=e=>e.defined!==!1,XRt=e=>zNe(e.shape||"circle"),ZRt=bOt().startAngle(LRt).endAngle(BRt).padAngle(zRt).innerRadius(VRt).outerRadius(WRt).cornerRadius(URt),JRt=lNe().x(AA).y1(IA).y0(PRt).defined(wB),QRt=lNe().y(IA).x1(AA).x0(MRt).defined(wB),eFt=aNe().x(AA).y(IA).defined(wB),tFt=VNe().x(AA).y(IA).width(RRt).height(FRt).cornerRadius(jRt,HRt,qRt,GRt),nFt=xOt().type(XRt).size(KRt),rFt=WNe().x(AA).y(IA).defined(wB).size(YRt);function bJ(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function sFt(e,t){return ZRt.context(e)(t)}function oFt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?QRt:JRt).curve(yJ(r,n.orient,n.tension)).context(e)(t)}function iFt(e,t){const n=t[0],r=n.interpolate||"linear";return eFt.curve(yJ(r,n.orient,n.tension)).context(e)(t)}function $C(e,t,n,r){return tFt.context(e)(t,n,r)}function aFt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function lFt(e,t){return nFt.context(e)(t)}function uFt(e,t){return rFt.context(e)(t)}var UNe=1;function jNe(){UNe=1}function wJ(e,t,n){var r=t.clip,s=e._defs,o=t.clip_id||(t.clip_id="clip"+UNe++),i=s.clipping[o]||(s.clipping[o]={id:o});return Or(r)?i.path=r(null):bJ(n)?i.path=$C(null,n,0,0):(i.width=n.width||0,i.height=n.height||0),"url(#"+o+")"}function Pa(e){this.clear(),e&&this.union(e)}Pa.prototype={clone(){return new Pa(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:s,x2:o,y2:i}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*s+u,l*r+a*s+c,a*r-l*i+u,l*r+a*i+c,a*o-l*s+u,l*o+a*s+c,a*o-l*i+u,l*o+a*i+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function xJ(e){this.mark=e,this.bounds=this.bounds||new Pa}function CJ(e){xJ.call(this,e),this.items=this.items||[]}Nt(CJ,xJ);function SJ(e){this._pending=0,this._loader=e||mJ()}function Tce(e){e._pending+=1}function IS(e){e._pending-=1}SJ.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return Tce(t),t._loader.sanitize(e,{context:"href"}).then(n=>(IS(t),n)).catch(()=>(IS(t),null))},loadImage(e){const t=this,n=k2t();return Tce(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const s=r.href;if(!s||!n)throw{url:s};const o=new n,i=Pn(r,"crossOrigin")?r.crossOrigin:"anonymous";return i!=null&&(o.crossOrigin=i),o.onload=()=>IS(t),o.onerror=()=>IS(t),o.src=s,o}).catch(r=>(IS(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function Fy(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?cFt(t,r):0))}return e}function cFt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const fFt=Pf-1e-8;let xB,w3,x3,Iv,MU,C3,PU,LU;const Mg=(e,t)=>xB.add(e,t),S3=(e,t)=>Mg(w3=e,x3=t),Ace=e=>Mg(e,xB.y1),Ice=e=>Mg(xB.x1,e),wv=(e,t)=>MU*e+PU*t,xv=(e,t)=>C3*e+LU*t,d9=(e,t)=>Mg(wv(e,t),xv(e,t)),h9=(e,t)=>S3(wv(e,t),xv(e,t));function NA(e,t){return xB=e,t?(Iv=t*Mm,MU=LU=Math.cos(Iv),C3=Math.sin(Iv),PU=-C3):(MU=LU=1,Iv=C3=PU=0),dFt}const dFt={beginPath(){},closePath(){},moveTo:h9,lineTo:h9,rect(e,t,n,r){Iv?(d9(e+n,t),d9(e+n,t+r),d9(e,t+r),h9(e,t)):(Mg(e+n,t+r),S3(e,t))},quadraticCurveTo(e,t,n,r){const s=wv(e,t),o=xv(e,t),i=wv(n,r),a=xv(n,r);Nce(w3,s,i,Ace),Nce(x3,o,a,Ice),S3(i,a)},bezierCurveTo(e,t,n,r,s,o){const i=wv(e,t),a=xv(e,t),l=wv(n,r),u=xv(n,r),c=wv(s,o),f=xv(s,o);Dce(w3,i,l,c,Ace),Dce(x3,a,u,f,Ice),S3(c,f)},arc(e,t,n,r,s,o){if(r+=Iv,s+=Iv,w3=n*Math.cos(s)+e,x3=n*Math.sin(s)+t,Math.abs(s-r)>fFt)Mg(e-n,t-n),Mg(e+n,t+n);else{const i=u=>Mg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(i(r),i(s),s!==r)if(r=r%Pf,r<0&&(r+=Pf),s=s%Pf,s<0&&(s+=Pf),s<r&&(o=!o,a=r,r=s,s=a),o)for(s-=Pf,a=r-r%bv,l=0;l<4&&a>s;++l,a-=bv)i(a);else for(a=r-r%bv+bv,l=0;l<4&&a<s;++l,a=a+bv)i(a)}}};function Nce(e,t,n,r){const s=(e-t)/(e+n-2*t);0<s&&s<1&&r(e+(t-e)*s)}function Dce(e,t,n,r,s){const o=r-e+3*t-3*n,i=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>kRt?(c=i*i+a*o,c>=0&&(c=Math.sqrt(c),l=(-i+c)/o,u=(-i-c)/o)):l=.5*a/i,0<l&&l<1&&s(Oce(l,e,t,n,r)),0<u&&u<1&&s(Oce(u,e,t,n,r))}function Oce(e,t,n,r,s){const o=1-e,i=o*o,a=e*e;return i*o*t+3*i*e*n+3*o*a*r+a*e*s}var nm=(nm=c0(1,1))?nm.getContext("2d"):null;const BU=new Pa;function $J(e){return function(t,n){if(!nm)return!0;e(nm,t),BU.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:s,x2:o,y2:i}=BU;for(let a=s;a<=i;++a)for(let l=r;l<=o;++l)if(nm.isPointInPath(l,a))return!0;return!1}}function kJ(e,t){return t.contains(e.x||0,e.y||0)}function HNe(e,t){const n=e.x||0,r=e.y||0,s=e.width||0,o=e.height||0;return t.intersects(BU.set(n,r,n+s,r+o))}function qNe(e,t){const n=e.x||0,r=e.y||0,s=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Kb(t,n,r,s,o)}function Kb(e,t,n,r,s){const{x1:o,y1:i,x2:a,y2:l}=e,u=r-t,c=s-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(i-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function vx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function oc(e,t){return e??t}function Rce(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function hFt(e,t,n){const r=n.width(),s=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+oc(t.x1,.5)*r,n.y1+oc(t.y1,.5)*s,Math.max(r,s)*oc(t.r1,0),n.x1+oc(t.x2,.5)*r,n.y1+oc(t.y2,.5)*s,Math.max(r,s)*oc(t.r2,.5));else{const i=oc(t.x1,0),a=oc(t.y1,0),l=oc(t.x2,1),u=oc(t.y2,0);if(i===l||a===u||r===s)o=e.createLinearGradient(n.x1+i*r,n.y1+a*s,n.x1+l*r,n.y1+u*s);else{const c=c0(Math.ceil(r),Math.ceil(s)),f=c.getContext("2d");return f.scale(r,s),f.fillStyle=Rce(f.createLinearGradient(i,a,l,u),t.stops),f.fillRect(0,0,r,s),e.createPattern(c,"no-repeat")}}return Rce(o,t.stops)}function GNe(e,t,n){return vJ(n)?hFt(e,n,t.bounds):n}function nF(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=GNe(e,t,t.fill),!0):!1}var pFt=[];function yx(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=GNe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||pFt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function gFt(e,t){return e.zindex-t.zindex||e.index-t.index}function EJ(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,s,o;for(s=0,o=t.length;s<o;++s)r=t[s],r.index=s,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(gFt)}function Uc(e,t){var n=e.items,r,s;if(!n||!n.length)return;const o=EJ(e);if(o&&o.length){for(r=0,s=n.length;r<s;++r)n[r].zindex||t(n[r]);n=o}for(r=0,s=n.length;r<s;++r)t(n[r])}function rF(e,t){var n=e.items,r,s;if(!n||!n.length)return null;const o=EJ(e);for(o&&o.length&&(n=o),s=n.length;--s>=0;)if(r=t(n[s]))return r;if(n===o){for(n=e.items,s=n.length;--s>=0;)if(!n[s].zindex&&(r=t(n[s])))return r}return null}function _J(e){return function(t,n,r){Uc(n,s=>{(!r||r.intersects(s.bounds))&&KNe(e,t,s,s)})}}function mFt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&KNe(e,t,n.items[0],n.items)}}function KNe(e,t,n,r){var s=n.opacity==null?1:n.opacity;s!==0&&(e(t,r)||(vx(t,n),n.fill&&nF(t,n,s)&&t.fill(),n.stroke&&yx(t,n,s)&&t.stroke()))}function CB(e){return e=e||aC,function(t,n,r,s,o,i){return r*=t.pixelRatio,s*=t.pixelRatio,rF(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,i)||!l)&&e(t,a,r,s,o,i))return a})}}function DA(e,t){return function(n,r,s,o){var i=Array.isArray(r)?r[0]:r,a=t??i.fill,l=i.stroke&&n.isPointInStroke,u,c;return l&&(u=i.strokeWidth,c=i.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(s,o)||l&&n.isPointInStroke(s,o)}}function TJ(e){return CB(DA(e))}function e1(e,t){return"translate("+e+","+t+")"}function AJ(e){return"rotate("+e+")"}function vFt(e,t){return"scale("+e+","+t+")"}function YNe(e){return e1(e.x||0,e.y||0)}function yFt(e){return e1(e.x||0,e.y||0)+(e.angle?" "+AJ(e.angle):"")}function bFt(e){return e1(e.x||0,e.y||0)+(e.angle?" "+AJ(e.angle):"")+(e.scaleX||e.scaleY?" "+vFt(e.scaleX||1,e.scaleY||1):"")}function IJ(e,t,n){function r(i,a){i("transform",yFt(a)),i("d",t(null,a))}function s(i,a){return t(NA(i,a.angle),a),Fy(i,a).translate(a.x||0,a.y||0)}function o(i,a){var l=a.x||0,u=a.y||0,c=a.angle||0;i.translate(l,u),c&&i.rotate(c*=Mm),i.beginPath(),t(i,a),c&&i.rotate(-c),i.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:s,draw:_J(o),pick:TJ(o),isect:n||$J(o)}}var wFt=IJ("arc",sFt);function xFt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",s=e.length,o=1/0,i,a;--s>=0;)e[s].defined!==!1&&(a=Math.abs(e[s][r]-n),a<o&&(o=a,i=e[s]));return i}function CFt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,s,o,i;--r>=0;)if(e[r].defined!==!1&&(s=e[r].x-t[0],o=e[r].y-t[1],i=s*s+o*o,i<n))return e[r];return null}function SFt(e,t){for(var n=e.length,r,s,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],s=e[n].y-t[1],o=r*r+s*s,r=e[n].size||1,o<r*r))return e[n];return null}function NJ(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function s(l,u){var c=u.items;return c.length===0?l:(t(NA(l),c),Fy(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const i=DA(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,i(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:s,draw:mFt(o),pick:a,isect:kJ,tip:n}}var $Ft=NJ("area",oFt,xFt);function kFt(e,t){var n=t.clip;e.save(),Or(n)?(e.beginPath(),n(e),e.clip()):XNe(e,t.group)}function XNe(e,t){e.beginPath(),bJ(t)?$C(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function ZNe(e){const t=oc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function EFt(e,t){e("transform",YNe(t))}function JNe(e,t){const n=ZNe(t);e("d",$C(null,t,n,n))}function _Ft(e,t){e("class","background"),e("aria-hidden",!0),JNe(e,t)}function TFt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?JNe(e,t):e("d","")}function AFt(e,t,n){const r=t.clip?wJ(n,t,t):null;e("clip-path",r)}function IFt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let s=0;s<r;++s)e.union(n[s].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Fy(e,t),e.translate(t.x||0,t.y||0)}function kE(e,t,n,r){const s=ZNe(t);e.beginPath(),$C(e,t,(n||0)+s,(r||0)+s)}const NFt=DA(kE),DFt=DA(kE,!1),OFt=DA(kE,!0);function RFt(e,t,n){Uc(t,r=>{const s=r.x||0,o=r.y||0,i=r.strokeForeground,a=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&a&&(kE(e,r,s,o),vx(e,r),r.fill&&nF(e,r,a)&&e.fill(),r.stroke&&!i&&yx(e,r,a)&&e.stroke()),e.save(),e.translate(s,o),r.clip&&XNe(e,r),n&&n.translate(-s,-o),Uc(r,l=>{this.draw(e,l,n)}),n&&n.translate(s,o),e.restore(),i&&r.stroke&&a&&(kE(e,r,s,o),vx(e,r),yx(e,r,a)&&e.stroke())})}function FFt(e,t,n,r,s,o){if(t.bounds&&!t.bounds.contains(s,o)||!t.items)return null;const i=n*e.pixelRatio,a=r*e.pixelRatio;return rF(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(s,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(s<c||s>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=s-c,f=o-f,g&&bJ(l)&&!OFt(e,l,i,a))return e.restore(),null;const m=l.strokeForeground,v=t.interactive!==!1;return v&&m&&l.stroke&&DFt(e,l,i,a)?(e.restore(),l):(u=rF(l,y=>MFt(y,c,f)?this.pick(y,n,r,c,f):null),!u&&v&&(l.fill||!m&&l.stroke)&&NFt(e,l,i,a)&&(u=l),e.restore(),u||null)})}function MFt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var PFt={type:"group",tag:"g",nested:!1,attr:EFt,bound:IFt,draw:RFt,pick:FFt,isect:HNe,content:AFt,background:_Ft,foreground:TFt},EE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function DJ(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function OJ(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function RJ(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function SB(e,t){return e==="center"?t/2:e==="right"?t:0}function $B(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function LFt(e,t,n){const r=DJ(t,n),s=OJ(t,r),o=RJ(t,r),i=(t.x||0)-SB(t.align,s),a=(t.y||0)-$B(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,EE["xmlns:xlink"],"xlink:href"),e("transform",e1(i,a)),e("width",s),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function BFt(e,t){const n=t.image,r=OJ(t,n),s=RJ(t,n),o=(t.x||0)-SB(t.align,r),i=(t.y||0)-$B(t.baseline,s);return e.set(o,i,o+r,i+s)}function zFt(e,t,n){Uc(t,r=>{if(n&&!n.intersects(r.bounds))return;const s=DJ(r,this);let o=OJ(r,s),i=RJ(r,s);if(o===0||i===0)return;let a=(r.x||0)-SB(r.align,o),l=(r.y||0)-$B(r.baseline,i),u,c,f,d;r.aspect!==!1&&(c=s.width/s.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(i-d)/2,i=d):(d=i*c,a+=(o-d)/2,o=d))),(s.complete||s.toDataURL)&&(vx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(s,a,l,o,i))})}var VFt={type:"image",tag:"image",nested:!1,attr:LFt,bound:BFt,draw:zFt,pick:CB(),isect:aC,get:DJ,xOffset:SB,yOffset:$B},WFt=NJ("line",iFt,CFt);function UFt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",bFt(t)),e("d",t.path)}function $3(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,s=t.y||0,o=t.scaleX||1,i=t.scaleY||1,a=(t.angle||0)*Mm,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=mx(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,s),e.rotate(a),$E(e,l,0,0,o,i),e.rotate(-a),e.translate(-r,-s)):$E(e,l,r,s,o,i)}function jFt(e,t){return $3(NA(e,t.angle),t)?e.set(0,0,0,0):Fy(e,t,!0)}var HFt={type:"path",tag:"path",nested:!1,attr:UFt,bound:jFt,draw:_J($3),pick:TJ($3),isect:$J($3)};function qFt(e,t){e("d",$C(null,t))}function GFt(e,t){var n,r;return Fy(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Fce(e,t){e.beginPath(),$C(e,t)}var KFt={type:"rect",tag:"path",nested:!1,attr:qFt,bound:GFt,draw:_J(Fce),pick:TJ(Fce),isect:HNe};function YFt(e,t){e("transform",YNe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function XFt(e,t){var n,r;return Fy(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function QNe(e,t,n){var r,s,o,i;return t.stroke&&yx(e,t,n)?(r=t.x||0,s=t.y||0,o=t.x2!=null?t.x2:r,i=t.y2!=null?t.y2:s,e.beginPath(),e.moveTo(r,s),e.lineTo(o,i),!0):!1}function ZFt(e,t,n){Uc(t,r=>{if(!(n&&!n.intersects(r.bounds))){var s=r.opacity==null?1:r.opacity;s&&QNe(e,r,s)&&(vx(e,r),e.stroke())}})}function JFt(e,t,n,r){return e.isPointInStroke?QNe(e,t,1)&&e.isPointInStroke(n,r):!1}var QFt={type:"rule",tag:"line",nested:!1,attr:YFt,bound:XFt,draw:ZFt,pick:CB(JFt),isect:qNe},eMt=IJ("shape",aFt),tMt=IJ("symbol",lFt,kJ);const Mce=i$e();var Zf={height:Ld,measureWidth:FJ,estimateWidth:zU,width:zU,canvas:eDe};eDe(!0);function eDe(e){Zf.width=e&&nm?FJ:zU}function zU(e,t){return tDe(Lm(e,t),Ld(e))}function tDe(e,t){return~~(.8*e.length*t)}function FJ(e,t){return Ld(e)<=0||!(t=Lm(e,t))?0:nDe(t,kB(e))}function nDe(e,t){const n=`(${t}) ${e}`;let r=Mce.get(n);return r===void 0&&(nm.font=t,r=nm.measureText(e).width,Mce.set(n,r)),r}function Ld(e){return e.fontSize!=null?+e.fontSize||0:11}function Pm(e){return e.lineHeight!=null?e.lineHeight:Ld(e)+2}function nMt(e){return jn(e)?e.length>1?e:e[0]:e}function OA(e){return nMt(e.lineBreak&&e.text&&!jn(e.text)?e.text.split(e.lineBreak):e.text)}function rMt(e){const t=OA(e);return(jn(t)?t.length-1:0)*Pm(e)}function Lm(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?oMt(e,n):n}function sMt(e){if(Zf.width===FJ){const t=kB(e);return n=>nDe(n,t)}else{const t=Ld(e);return n=>tDe(n,t)}}function oMt(e,t){var n=+e.limit,r=sMt(e);if(r(t)<n)return t;var s=e.ellipsis||"",o=e.dir==="rtl",i=0,a=t.length,l;if(n-=r(s),o){for(;i<a;)l=i+a>>>1,r(t.slice(l))>n?i=l+1:a=l;return s+t.slice(i)}else{for(;i<a;)l=1+(i+a>>>1),r(t.slice(0,l))<n?i=l:a=l-1;return t.slice(0,i)+s}}function RA(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function kB(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ld(e)+"px "+RA(e,t)}function MJ(e){var t=e.baseline,n=Ld(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Pm(e):t==="line-bottom"?.29*n-.5*Pm(e):0)}const iMt={left:"start",center:"middle",right:"end"},Z$=new Pa;function EB(e){var t=e.x||0,n=e.y||0,r=e.radius||0,s;return r&&(s=(e.theta||0)-bv,t+=r*Math.cos(s),n+=r*Math.sin(s)),Z$.x1=t,Z$.y1=n,Z$}function aMt(e,t){var n=t.dx||0,r=(t.dy||0)+MJ(t),s=EB(t),o=s.x1,i=s.y1,a=t.angle||0,l;e("text-anchor",iMt[t.align]||"start"),a?(l=e1(o,i)+" "+AJ(a),(n||r)&&(l+=" "+e1(n,r))):l=e1(o+n,i+r),e("transform",l)}function PJ(e,t,n){var r=Zf.height(t),s=t.align,o=EB(t),i=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+MJ(t)-Math.round(.8*r),c=OA(t),f;if(jn(c)?(r+=Pm(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Zf.width(t,h)),0)):f=Zf.width(t,c),s==="center"?l-=f/2:s==="right"&&(l-=f),e.set(l+=i,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Mm,i,a);else if(n===2)return e.rotatedPoints(t.angle*Mm,i,a);return e}function lMt(e,t,n){Uc(t,r=>{var s=r.opacity==null?1:r.opacity,o,i,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||s===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=kB(r),e.textAlign=r.align||"left",o=EB(r),i=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(i,a),e.rotate(r.angle*Mm),i=a=0),i+=r.dx||0,a+=(r.dy||0)+MJ(r),c=OA(r),vx(e,r),jn(c))for(u=Pm(r),l=0;l<c.length;++l)f=Lm(r,c[l]),r.fill&&nF(e,r,s)&&e.fillText(f,i,a),r.stroke&&yx(e,r,s)&&e.strokeText(f,i,a),a+=u;else f=Lm(r,c),r.fill&&nF(e,r,s)&&e.fillText(f,i,a),r.stroke&&yx(e,r,s)&&e.strokeText(f,i,a);r.angle&&e.restore()}})}function uMt(e,t,n,r,s,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var i=EB(t),a=i.x1,l=i.y1,u=PJ(Z$,t,1),c=-t.angle*Mm,f=Math.cos(c),d=Math.sin(c),h=f*s-d*o+(a-f*a+d*l),p=d*s+f*o+(l-d*a-f*l);return u.contains(h,p)}function cMt(e,t){const n=PJ(Z$,e,2);return Kb(t,n[0],n[1],n[2],n[3])||Kb(t,n[0],n[1],n[4],n[5])||Kb(t,n[4],n[5],n[6],n[7])||Kb(t,n[2],n[3],n[6],n[7])}var fMt={type:"text",tag:"text",nested:!1,attr:aMt,bound:PJ,draw:lMt,pick:CB(uMt),isect:cMt},dMt=NJ("trail",uFt,SFt),zu={arc:wFt,area:$Ft,group:PFt,image:VFt,line:WFt,path:HFt,rect:KFt,rule:QFt,shape:eMt,symbol:tMt,text:fMt,trail:dMt};function VU(e,t,n){var r=zu[e.mark.marktype],s=t||r.bound;return r.nested&&(e=e.mark),s(e.bounds||(e.bounds=new Pa),e,n)}var Pce={mark:null};function rDe(e,t,n){var r=zu[e.marktype],s=r.bound,o=e.items,i=o&&o.length,a,l,u,c;if(r.nested)return i?u=o[0]:(Pce.mark=e,u=Pce),c=VU(u,s,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Pa,i)for(a=0,l=o.length;a<l;++a)t.union(VU(o[a],s,n));return e.bounds=t}const hMt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function sDe(e,t){return JSON.stringify(e,hMt,t)}function oDe(e){const t=typeof e=="string"?JSON.parse(e):e;return iDe(t)}function iDe(e){var t=e.marktype,n=e.items,r,s,o;if(n)for(s=0,o=n.length;s<o;++s)r=t?"mark":"group",n[s][r]=e,n[s].zindex&&(n[s][r].zdirty=!0),(t||r)==="group"&&iDe(n[s]);return t&&rDe(e),e}function LJ(e){arguments.length?this.root=oDe(e):(this.root=aDe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new CJ(this.root)])}LJ.prototype={toJSON(e){return sDe(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=aDe(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function aDe(e,t){const n={bounds:new Pa,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Pg(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function BJ(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,s=n.length;r<s;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function tl(e,t,n,r){var s=e.childNodes[t],o;return(!s||s.tagName.toLowerCase()!==n.toLowerCase())&&(o=s||null,s=Pg(e.ownerDocument,n,r),e.insertBefore(s,o)),s}function yc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function lDe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function _B(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function pMt(e,t,n,r){var s=e&&e.mark,o,i;if(s&&(o=zu[s.marktype]).tip){for(i=_B(t,n),i[0]-=r[0],i[1]-=r[1];e=e.mark.group;)i[0]-=e.x||0,i[1]-=e.y||0;e=o.tip(s.items,i)}return e}function Bm(e,t){this._active=null,this._handlers={},this._loader=e||mJ(),this._tooltip=t||gMt}function gMt(e,t,n,r){e.element().setAttribute("title",r||"")}Bm.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const s=new MouseEvent(e.type,e),o=Pg(null,"a");for(const i in r)o.setAttribute(i,r[i]);o.dispatchEvent(s)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=pMt(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,s=e.bounds,o=s.width(),i=s.height();let a=s.x1+r[0]+n.left,l=s.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:i,left:a,top:l,right:a+o,bottom:l+i}}};function Bd(e){this._el=null,this._bgcolor=null,this._loader=new SJ(e)}Bd.prototype={initialize(e,t,n,r,s){return this._el=e,this.resize(t,n,r,s)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const s=n._call;n._ready=n._loader.ready().then(o=>{o&&s(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const mMt="keydown",vMt="keypress",yMt="keyup",uDe="dragenter",k3="dragleave",cDe="dragover",WU="mousedown",bMt="mouseup",sF="mousemove",J$="mouseout",fDe="mouseover",oF="click",wMt="dblclick",xMt="wheel",dDe="mousewheel",iF="touchstart",aF="touchmove",lF="touchend",CMt=[mMt,vMt,yMt,uDe,k3,cDe,WU,bMt,sF,J$,fDe,oF,wMt,xMt,dDe,iF,aF,lF],UU=sF,_E=J$,jU=oF;function FA(e,t){Bm.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const SMt=e=>e===iF||e===aF||e===lF?[iF,aF,lF]:[e];function Lce(e,t){SMt(t).forEach(n=>$Mt(e,n))}function $Mt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function Bce(e,t,n){return function(r){const s=this._active,o=this.pickEvent(r);o===s?this.fire(e,r):((!s||!s.exit)&&this.fire(n,r),this._active=o,this.fire(t,r),this.fire(e,r))}}function zce(e){return function(t){this.fire(e,t),this._active=null}}Nt(FA,Bm,{initialize(e,t,n){return this._canvas=e&&BJ(e,"canvas"),[oF,WU,sF,J$,k3].forEach(r=>Lce(this,r)),Bm.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:CMt,DOMMouseScroll(e){this.fire(dDe,e)},mousemove:Bce(sF,fDe,J$),dragover:Bce(cDe,uDe,k3),mouseout:zce(J$),dragleave:zce(k3),mousedown(e){this._down=this._active,this.fire(WU,e)},click(e){this._down===this._active&&(this.fire(oF,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(iF,e,!0)},touchmove(e){this.fire(aF,e,!0)},touchend(e){this.fire(lF,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,s=this._handlers[e];if(t.vegaType=e,e===jU&&r&&r.href?this.handleHref(t,r,r.href):(e===UU||e===_E)&&this.handleTooltip(t,r,e!==_E),s)for(let o=0,i=s.length;o<i;++o)s[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Lce(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],s=this._handlerIndex(r,e,t);return s>=0&&r.splice(s,1),this},pickEvent(e){const t=_B(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,s){const o=this.context();return zu[e.marktype].pick.call(this,o,e,t,n,r,s)}});function kMt(){return typeof window<"u"&&window.devicePixelRatio||1}var EMt=kMt();function _Mt(e,t,n,r,s,o){const i=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=i?EMt:s;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return i&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function uF(e){Bd.call(this,e),this._options={},this._redraw=!1,this._dirty=new Pa,this._tempb=new Pa}const Vce=Bd.prototype,TMt=(e,t,n)=>new Pa().set(0,0,t,n).translate(-e[0],-e[1]);function AMt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}Nt(uF,Bd,{initialize(e,t,n,r,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:c0(1,1,this._options.type),e&&this._canvas&&(yc(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Vce.initialize.call(this,e,t,n,r,s)},resize(e,t,n,r){if(Vce.resize.call(this,e,t,n,r),this._canvas)_Mt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||gt("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,s=this._height,o=this._dirty,i=TMt(n,r,s);t.save();const a=this._redraw||o.empty()?(this._redraw=!1,i.expand(1)):AMt(t,i.intersect(o),n);return this.clear(-n[0],-n[1],r,s),this.draw(t,e,a),t.restore(),o.clear(),this},draw(e,t,n){const r=zu[t.marktype];t.clip&&kFt(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function zJ(e,t){Bm.call(this,e,t);const n=this;n._hrefHandler=HU(n,(r,s)=>{s&&s.href&&n.handleHref(r,s,s.href)}),n._tooltipHandler=HU(n,(r,s)=>{n.handleTooltip(r,s,r.type!==_E)})}const HU=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};Nt(zJ,Bm,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(jU,this._hrefHandler),r.removeEventListener(UU,this._tooltipHandler),r.removeEventListener(_E,this._tooltipHandler)),this._svg=r=e&&BJ(e,"svg"),r&&(r.addEventListener(jU,this._hrefHandler),r.addEventListener(UU,this._tooltipHandler),r.addEventListener(_E,this._tooltipHandler)),Bm.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:HU(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],s=this._handlerIndex(r,e,t);return s>=0&&(this._svg&&this._svg.removeEventListener(n,r[s].listener),r.splice(s,1)),this}});const hDe="aria-hidden",VJ="aria-label",WJ="role",UJ="aria-roledescription",pDe="graphics-object",jJ="graphics-symbol",gDe=(e,t,n)=>({[WJ]:e,[UJ]:t,[VJ]:n||void 0}),IMt=ap(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Wce={axis:{desc:"axis",caption:OMt},legend:{desc:"legend",caption:RMt},"title-text":{desc:"title",caption:e=>`Title text '${jce(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${jce(e)}'`}},Uce={ariaRole:WJ,ariaRoleDescription:UJ,description:VJ};function mDe(e,t){const n=t.aria===!1;if(e(hDe,n||void 0),n||t.description==null)for(const r in Uce)e(Uce[r],void 0);else{const r=t.mark.marktype;e(VJ,t.description),e(WJ,t.ariaRole||(r==="group"?pDe:jJ)),e(UJ,t.ariaRoleDescription||`${r} mark`)}}function vDe(e){return e.aria===!1?{[hDe]:!0}:IMt[e.role]?null:Wce[e.role]?DMt(e,Wce[e.role]):NMt(e)}function NMt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return gDe(n?pDe:jJ,`${t} mark container`,e.description)}function DMt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return gDe(t.role||jJ,t.desc,n.description||r(n))}catch{return null}}function jce(e){return Mn(e.text).join(" ")}function OMt(e){const t=e.datum,n=e.orient,r=t.title?yDe(e):null,s=e.context,o=s.scales[t.scale].value,i=s.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${ux(a)?"discrete":a} scale with ${NAe(i,o,e)}`}function RMt(e){const t=e.datum,n=t.title?yDe(e):null,r=`${t.type||""} legend`.trim(),s=t.scales,o=Object.keys(s),i=e.context,a=i.scales[s[o[0]]].value,l=i.dataflow.locale();return MMt(r)+(n?` titled '${n}'`:"")+` for ${FMt(o)} with ${NAe(l,a,e)}`}function yDe(e){try{return Mn(Xr(e.items).items[0].text).join(" ")}catch{return null}}function FMt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Xr(e)}function MMt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const bDe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),PMt=e=>bDe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function HJ(){let e="",t="",n="";const r=[],s=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,s()),r.push(l)},i=(l,u)=>(u!=null&&(t+=` ${l}="${PMt(u)}"`),a),a={open(l,...u){o(l),t="<"+l;for(const c of u)for(const f in c)i(f,c[f]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,s(),a},attr:i,text:l=>(n+=bDe(l),a),toString:()=>e};return a}const wDe=e=>xDe(HJ(),e)+"";function xDe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let s=0;s<r;++s)e.attr(n[s].name,n[s].value)}if(t.hasChildNodes()){const n=t.childNodes,r=n.length;for(let s=0;s<r;s++){const o=n[s];o.nodeType===3?e.text(o.nodeValue):xDe(e,o)}}return e.close()}const cF={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},CDe={fill:"none","stroke-miterlimit":10},NS=0,Hce="http://www.w3.org/2000/xmlns/",mo=EE.xmlns;function qJ(e){Bd.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const p9=Bd.prototype;Nt(qJ,Bd,{initialize(e,t,n,r,s){return this._defs={},this._clearDefs(),e&&(this._svg=tl(e,0,"svg",mo),this._svg.setAttributeNS(Hce,"xmlns",mo),this._svg.setAttributeNS(Hce,"xmlns:xlink",EE["xmlns:xlink"]),this._svg.setAttribute("version",EE.version),this._svg.setAttribute("class","marks"),yc(e,1),this._root=tl(this._svg,NS,"g",mo),Lg(this._root,CDe),yc(this._svg,NS+1)),this.background(this._bgcolor),p9.initialize.call(this,e,t,n,r,s)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),p9.background.apply(this,arguments)},resize(e,t,n,r){return p9.resize.call(this,e,t,n,r),this._svg&&(Lg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=tl(e,NS,"rect",mo),Lg(n,{width:this._width,height:this._height,fill:t}));const r=wDe(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),yc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,s,o,i,a,l;for(i=0,a=e.length;i<a;++i)if(n=e[i],r=n.mark,r.marktype!==s&&(s=r.marktype,o=zu[s]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,qce(n,t),r.items.forEach(u=>{u.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,qce(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,s=zu[t.marktype],o=t.interactive===!1?"none":null,i=s.tag==="g";let a=null,l=0;const u=Gce(t,e,n,"g",r);u.setAttribute("class",lDe(t));const c=vDe(t);for(const d in c)ya(u,d,c[d]);i||ya(u,"pointer-events",o),ya(u,"clip-path",t.clip?wJ(this,t,t.group):null);const f=d=>{const h=this.isDirty(d),p=Gce(d,u,a,s.tag,r);h&&(this._update(s,p,d),i&&zMt(this,p,d)),a=p,++l};return s.nested?t.items.length&&f(t.items[0]):Uc(t,f),yc(u,l),u},_update(e,t,n){Mh=t,Ri=t.__values__,mDe(Q$,n),e.attr(Q$,n,this);const r=WMt[e.type];r&&r.call(this,e,t,n),Mh&&this.style(Mh,n)},style(e,t){if(t!=null)for(const n in cF){let r=n==="font"?RA(t):t[n];if(r===Ri[n])continue;const s=cF[n];r==null?e.removeAttribute(s):(vJ(r)&&(r=PNe(r,this._defs.gradient,SDe())),e.setAttribute(s,r+"")),Ri[n]=r}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const s in t.gradient)n||(t.el=n=tl(e,NS+1,"defs",mo)),r=LMt(n,t.gradient[s],r);for(const s in t.clipping)n||(t.el=n=tl(e,NS+1,"defs",mo)),r=BMt(n,t.clipping[s],r);n&&(r===0?(e.removeChild(n),t.el=null):yc(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function qce(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function LMt(e,t,n){let r,s,o;if(t.gradient==="radial"){let i=tl(e,n++,"pattern",mo);Lg(i,{id:tF+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),i=tl(i,0,"rect",mo),Lg(i,{width:1,height:1,fill:`url(${SDe()}#${t.id})`}),e=tl(e,n++,"radialGradient",mo),Lg(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=tl(e,n++,"linearGradient",mo),Lg(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,s=t.stops.length;r<s;++r)o=tl(e,r,"stop",mo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return yc(e,r),n}function BMt(e,t,n){let r;return e=tl(e,n,"clipPath",mo),e.setAttribute("id",t.id),t.path?(r=tl(e,0,"path",mo),r.setAttribute("d",t.path)):(r=tl(e,0,"rect",mo),Lg(r,{x:0,y:0,width:t.width,height:t.height})),yc(e,1),n+1}function zMt(e,t,n){t=t.lastChild.previousSibling;let r,s=0;Uc(n,o=>{r=e.mark(t,o,r),++s}),yc(t,1+s)}function Gce(e,t,n,r,s){let o=e._svg,i;if(!o&&(i=t.ownerDocument,o=Pg(i,r,mo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Pg(i,"path",mo);o.appendChild(a),a.__data__=e;const l=Pg(i,"g",mo);o.appendChild(l),l.__data__=e;const u=Pg(i,"path",mo);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==s||VMt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function VMt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Mh=null,Ri=null;const WMt={group(e,t,n){const r=Mh=t.childNodes[2];Ri=r.__values__,e.foreground(Q$,n,this),Ri=t.__values__,Mh=t.childNodes[1],e.content(Q$,n,this);const s=Mh=t.childNodes[0];e.background(Q$,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Ri.events&&(ya(r,"pointer-events",o),ya(s,"pointer-events",o),Ri.events=o),n.strokeForeground&&n.stroke){const i=n.fill;ya(r,"display",null),this.style(s,n),ya(s,"stroke",null),i&&(n.fill=null),Ri=r.__values__,this.style(r,n),i&&(n.fill=i),Mh=null}else ya(r,"display","none")},image(e,t,n){n.smooth===!1?(g9(t,"image-rendering","optimizeSpeed"),g9(t,"image-rendering","pixelated")):g9(t,"image-rendering",null)},text(e,t,n){const r=OA(n);let s,o,i,a;jn(r)?(o=r.map(l=>Lm(n,l)),s=o.join(`
`),s!==Ri.text&&(yc(t,0),i=t.ownerDocument,a=Pm(n),o.forEach((l,u)=>{const c=Pg(i,"tspan",mo);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Ri.text=s)):(o=Lm(n,r),o!==Ri.text&&(t.textContent=o,Ri.text=o)),ya(t,"font-family",RA(n)),ya(t,"font-size",Ld(n)+"px"),ya(t,"font-style",n.fontStyle),ya(t,"font-variant",n.fontVariant),ya(t,"font-weight",n.fontWeight)}};function Q$(e,t,n){t!==Ri[e]&&(n?UMt(Mh,e,t,n):ya(Mh,e,t),Ri[e]=t)}function g9(e,t,n){n!==Ri[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ri[t]=n)}function Lg(e,t){for(const n in t)ya(e,n,t[n])}function ya(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function UMt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function SDe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function GJ(e){Bd.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Nt(GJ,Bd,{svg(){return this._text},_render(e){const t=HJ();t.open("svg",sr({},EE,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",CDe,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=zu[t.marktype],r=n.tag,s=[mDe,n.attr];e.open("g",{class:lDe(t),"clip-path":t.clip?wJ(this,t,t.group):null},vDe(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=i=>{const a=this.href(i);if(a&&e.open("a",a),e.open(r,this.attr(t,i,s,r!=="g"?r:null)),r==="text"){const l=OA(i);if(jn(l)){const u={x:0,dy:Pm(i)};for(let c=0;c<l.length;++c)e.open("tspan",c?u:null).text(Lm(i,l[c])).close()}else e.text(Lm(i,l))}else if(r==="g"){const l=i.strokeForeground,u=i.fill,c=i.stroke;l&&c&&(i.stroke=null),e.open("path",this.attr(t,i,n.background,"bgrect")).close(),e.open("g",this.attr(t,i,n.content)),Uc(i,f=>this.mark(e,f)),e.close(),l&&c?(u&&(i.fill=null),i.stroke=c,e.open("path",this.attr(t,i,n.foreground,"bgrect")).close(),u&&(i.fill=u)):e.open("path",this.attr(t,i,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):Uc(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const s={},o=(i,a,l,u)=>{s[u||i]=a};return Array.isArray(n)?n.forEach(i=>i(o,t,this)):n(o,t,this),r&&jMt(s,t,e,r,this._defs),s},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const s in t){const o=t[s],i=o.stops;o.gradient==="radial"?(e.open("pattern",{id:tF+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),e.close(),e.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<i.length;++a)e.open("stop",{offset:i[a].offset,"stop-color":i[a].color}).close();e.close()}for(const s in n){const o=n[s];e.open("clipPath",{id:s}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function jMt(e,t,n,r,s){if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),r==="text"&&(e["font-family"]=RA(t),e["font-size"]=Ld(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in cF){let i=t[o];const a=cF[o];i==="transparent"&&(a==="fill"||a==="stroke")||i!=null&&(vJ(i)&&(i=PNe(i,s.gradient,"")),e[a]=i)}return e}const $De="canvas",kDe="png",EDe="svg",_De="none",Bg={Canvas:$De,PNG:kDe,SVG:EDe,None:_De},bx={};bx[$De]=bx[kDe]={renderer:uF,headless:uF,handler:FA};bx[EDe]={renderer:qJ,headless:GJ,handler:zJ};bx[_De]={};function TB(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(bx[e]=t,this):bx[e]}function TDe(e,t,n){const r=[],s=new Pa().union(t),o=e.marktype;return o?ADe(e,s,n,r):o==="group"?IDe(e,s,n,r):gt("Intersect scene must be mark node or group item.")}function ADe(e,t,n,r){if(HMt(e,t,n)){const s=e.items,o=e.marktype,i=s.length;let a=0;if(o==="group")for(;a<i;++a)IDe(s[a],t,n,r);else for(const l=zu[o].isect;a<i;++a){const u=s[a];NDe(u,t,l)&&r.push(u)}}return r}function HMt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function IDe(e,t,n,r){n&&n(e.mark)&&NDe(e,t,zu.group.isect)&&r.push(e);const s=e.items,o=s&&s.length;if(o){const i=e.x||0,a=e.y||0;t.translate(-i,-a);for(let l=0;l<o;++l)ADe(s[l],t,n,r);t.translate(i,a)}return r}function NDe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const m9=new Pa;function qMt(e){const t=e.clip;if(Or(t))t(NA(m9.clear()));else if(t)m9.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(m9)}const GMt=1e-9;function KJ(e,t,n){return e===t?!0:n==="path"?DDe(e,t):e instanceof Date&&t instanceof Date?+e==+t:_1(e)&&_1(t)?Math.abs(e-t)<=GMt:!e||!t||!tr(e)&&!tr(t)?e==t:KMt(e,t)}function DDe(e,t){return KJ(mx(e),mx(t))}function KMt(e,t){var n=Object.keys(e),r=Object.keys(t),s,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(s=n[o],!KJ(e[s],t[s],s))return!1;return typeof e==typeof t}function YMt(){jNe(),SRt()}const XMt=4278190080,ZMt=268435456,JMt=.0625;function QMt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function e4t(e,t,n,r){const s=e.width,o=e.height,i=n||r,a=c0(s,o).getContext("2d");t.forEach(m=>ODe(a,m,i));const l=new Uint32Array(a.getImageData(0,0,s,o).data.buffer),u=e.bitmap(),c=i&&e.bitmap();let f,d,h,p,g;for(d=0;d<o;++d)for(f=0;f<s;++f)g=l[d*s+f]&XMt,g&&(h=e(f),p=e(d),r||u.set(h,p),i&&g^ZMt&&c.set(h,p));return[u,c]}function ODe(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(s=>{s.items.forEach(o=>ODe(e,o.items,n))}):zu[r].draw(e,{items:n?t.map(t4t):t})}function t4t(e){const t=mL(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=JMt,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}const uh=5,pa=31,TE=32,wg=new Uint32Array(TE+1),pc=new Uint32Array(TE+1);pc[0]=0;wg[0]=~pc[0];for(let e=1;e<=TE;++e)pc[e]=pc[e-1]<<1|1,wg[e]=~pc[e];function n4t(e,t){const n=new Uint32Array(~~((e*t+TE)/TE));function r(o,i){n[o]|=i}function s(o,i){n[o]&=i}return{array:n,get:(o,i)=>{const a=i*e+o;return n[a>>>uh]&1<<(a&pa)},set:(o,i)=>{const a=i*e+o;r(a>>>uh,1<<(a&pa))},clear:(o,i)=>{const a=i*e+o;s(a>>>uh,~(1<<(a&pa)))},getRange:(o,i,a,l)=>{let u=l,c,f,d,h;for(;u>=i;--u)if(c=u*e+o,f=u*e+a,d=c>>>uh,h=f>>>uh,d===h){if(n[d]&wg[c&pa]&pc[(f&pa)+1])return!0}else{if(n[d]&wg[c&pa]||n[h]&pc[(f&pa)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,i,a,l)=>{let u,c,f,d,h;for(;i<=l;++i)if(u=i*e+o,c=i*e+a,f=u>>>uh,d=c>>>uh,f===d)r(f,wg[u&pa]&pc[(c&pa)+1]);else for(r(f,wg[u&pa]),r(d,pc[(c&pa)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,i,a,l)=>{let u,c,f,d,h;for(;i<=l;++i)if(u=i*e+o,c=i*e+a,f=u>>>uh,d=c>>>uh,f===d)s(f,pc[u&pa]|wg[(c&pa)+1]);else for(s(f,pc[u&pa]),s(d,wg[(c&pa)+1]),h=f+1;h<d;++h)s(h,0)},outOfBounds:(o,i,a,l)=>o<0||i<0||l>=t||a>=e}}function r4t(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),s=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),i=a=>~~((a+n)/r);return i.invert=a=>a*r-n,i.bitmap=()=>n4t(s,o),i.ratio=r,i.padding=n,i.width=e,i.height=t,i}function s4t(e,t,n,r){const s=e.width,o=e.height;return function(i){const a=i.datum.datum.items[r].items,l=a.length,u=i.datum.fontSize,c=Zf.width(i.datum,i.datum.text);let f=0,d,h,p,g,m,v,y;for(let w=0;w<l;++w)d=a[w].x,p=a[w].y,h=a[w].x2===void 0?d:a[w].x2,g=a[w].y2===void 0?p:a[w].y2,m=(d+h)/2,v=(p+g)/2,y=Math.abs(h-d+g-p),y>=f&&(f=y,i.x=m,i.y=v);return m=c/2,v=u/2,d=i.x-m,h=i.x+m,p=i.y-v,g=i.y+v,i.align="center",d<0&&h<=s?i.align="left":0<=d&&s<h&&(i.align="right"),i.baseline="middle",p<0&&g<=o?i.baseline="top":0<=p&&o<g&&(i.baseline="bottom"),!0}}function fF(e,t,n,r,s,o){let i=n/2;return e-i<0||e+i>s||t-(i=r/2)<0||t+i>o}function zg(e,t,n,r,s,o,i,a){const l=s*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return i.outOfBounds(u,f,c,d)||i.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function o4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,v=o,y;if(!fF(p,g,d,h,s,o)&&!zg(e,p,g,h,d,m,i,a)&&!zg(e,p,g,h,d,h,i,null)){for(;v-m>=1;)y=(m+v)/2,zg(e,p,g,h,d,y,i,a)?v=y:m=y;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Zf.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,v=0,y,w,b,C,S,$,k,T,_,E,A,N,F,R,P,I,D;for(let M=0;M<f;++M){for(y=c[M].x,b=c[M].y,w=c[M].x2===void 0?y:c[M].x2,C=c[M].y2===void 0?b:c[M].y2,y>w&&(D=y,y=w,w=D),b>C&&(D=b,b=C,C=D),_=e(y),A=e(w),E=~~((_+A)/2),N=e(b),R=e(C),F=~~((N+R)/2),k=E;k>=_;--k)for(T=F;T>=N;--T)I=l(k,T,p,h,d),I&&([u.x,u.y,p,g]=I);for(k=E;k<=A;++k)for(T=F;T<=R;++T)I=l(k,T,p,h,d),I&&([u.x,u.y,p,g]=I);!g&&!n&&(P=Math.abs(w-y+C-b),S=(y+w)/2,$=(b+C)/2,P>=v&&!fF(S,$,h,d,s,o)&&!zg(e,S,$,d,h,d,i,null)&&(v=P,u.x=S,u.y=$,m=!0))}return g||m?(S=h/2,$=d/2,i.setRange(e(u.x-S),e(u.y-$),e(u.x+S),e(u.y+$)),u.align="center",u.baseline="middle",!0):!1}}const i4t=[-1,-1,1,1],a4t=[-1,1,-1,1];function l4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Zf.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,v=!1,y=0,w,b,C,S,$,k,T,_,E,A,N,F;for(let R=0;R<f;++R){for(w=c[R].x,C=c[R].y,b=c[R].x2===void 0?w:c[R].x2,S=c[R].y2===void 0?C:c[R].y2,p.push([e((w+b)/2),e((C+S)/2)]);p.length;)if([T,_]=p.pop(),!(i.get(T,_)||a.get(T,_)||l.get(T,_))){l.set(T,_);for(let P=0;P<4;++P)$=T+i4t[P],k=_+a4t[P],l.outOfBounds($,k,$,k)||p.push([$,k]);if($=e.invert(T),k=e.invert(_),E=g,A=o,!fF($,k,h,d,s,o)&&!zg(e,$,k,d,h,E,i,a)&&!zg(e,$,k,d,h,d,i,null)){for(;A-E>=1;)N=(E+A)/2,zg(e,$,k,d,h,N,i,a)?A=N:E=N;E>g&&(u.x=$,u.y=k,g=E,m=!0)}}!m&&!n&&(F=Math.abs(b-w+S-C),$=(w+b)/2,k=(C+S)/2,F>=y&&!fF($,k,h,d,s,o)&&!zg(e,$,k,d,h,d,i,null)&&(y=F,u.x=$,u.y=k,v=!0))}return m||v?($=h/2,k=d/2,i.setRange(e(u.x-$),e(u.y-k),e(u.x+$),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const u4t=["right","center","left"],c4t=["bottom","middle","top"];function f4t(e,t,n,r){const s=e.width,o=e.height,i=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>s||c[3]>o)return!1;let d=0,h,p,g,m,v,y,w,b,C,S,$,k,T,_,E;for(let A=0;A<l;++A){if(h=(n[A]&3)-1,p=(n[A]>>>2&3)-1,g=h===0&&p===0||r[A]<0,m=h&&p?Math.SQRT1_2:1,v=r[A]<0?-1:1,y=c[1+h]+r[A]*h*m,$=c[4+p]+v*f*p/2+r[A]*p*m,b=$-f/2,C=$+f/2,k=e(y),_=e(b),E=e(C),!d)if(Kce(k,k,_,E,i,a,y,y,b,C,c,g))d=Zf.width(u.datum,u.datum.text);else continue;if(S=y+v*d*h/2,y=S-d/2,w=S+d/2,k=e(y),T=e(w),Kce(k,T,_,E,i,a,y,w,b,C,c,g))return u.x=h?h*v<0?w:y:S,u.y=p?p*v<0?C:b:$,u.align=u4t[h*v+1],u.baseline=c4t[p*v+1],i.setRange(k,_,T,E),!0}return!1}}function Kce(e,t,n,r,s,o,i,a,l,u,c,f){return!(s.outOfBounds(e,n,t,r)||(f&&o?o.getRange(e,n,t,r)||!d4t(i,l,a,u,c):s.getRange(e,n,t,r)))}function d4t(e,t,n,r,s){return s[0]<=e&&n<=s[2]&&s[3]<=t&&r<=s[5]}const v9=0,y9=4,b9=8,w9=0,x9=1,C9=2,h4t={"top-left":v9+w9,top:v9+x9,"top-right":v9+C9,left:y9+w9,middle:y9+x9,right:y9+C9,"bottom-left":b9+w9,bottom:b9+x9,"bottom-right":b9+C9},p4t={naive:s4t,"reduced-search":o4t,floodfill:l4t};function g4t(e,t,n,r,s,o,i,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,s.length),d=m4t(r,f),h=v4t(s,f),p=y4t(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",v=b4t(p,g,a,l),y=r4t(t[0],t[1],u),w=m&&c==="naive",b=e.map($=>({datum:$,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v($)}));let C;if(!w){n&&b.sort((k,T)=>n(k.datum,T.datum));let $=!1;for(let k=0;k<h.length&&!$;++k)$=h[k]===5||d[k]<0;p&&(i||m)&&(o=[e.map(k=>k.datum)].concat(o)),C=o.length?e4t(y,o,$,m):QMt(y,i&&b)}const S=m?p4t[c](y,C,i,l):f4t(y,C,h,d);return b.forEach($=>$.opacity=+S($)),b}function m4t(e,t){const n=new Float64Array(t),r=e.length;for(let s=0;s<r;++s)n[s]=e[s]||0;for(let s=r;s<t;++s)n[s]=n[r-1];return n}function v4t(e,t){const n=new Int8Array(t),r=e.length;for(let s=0;s<r;++s)n[s]|=h4t[e[s]];for(let s=r;s<t;++s)n[s]=n[r-1];return n}function y4t(e){return e&&e.mark&&e.mark.marktype}function b4t(e,t,n,r){const s=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>s(o.datum):t==="line"?o=>{const i=o.datum.items[r].items;return s(i.length?i[n==="start"?0:i.length-1]:{x:NaN,y:NaN})}:o=>{const i=o.datum.bounds;return[i.x1,(i.x1+i.x2)/2,i.x2,i.y1,(i.y1+i.y2)/2,i.y2]}:s}const qU=["x","y","opacity","align","baseline"],RDe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function YJ(e){Ke.call(this,null,e)}YJ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:RDe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:qU.length,default:qU}]};Nt(YJ,Ke,{transform(e,t){function n(o){const i=e[o];return Or(i)&&t.modified(i.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&gt("Size parameter should be specified as a [width, height] array.");const s=e.as||qU;return g4t(t.materialize(t.SOURCE).source,e.size,e.sort,Mn(e.offset||1),Mn(e.anchor||RDe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach(o=>{const i=o.datum;i[s[0]]=o.x,i[s[1]]=o.y,i[s[2]]=o.opacity,i[s[3]]=o.align,i[s[4]]=o.baseline}),t.reflow(r).modifies(s)}});const w4t=Object.freeze(Object.defineProperty({__proto__:null,label:YJ},Symbol.toStringTag,{value:"Module"}));function FDe(e,t){var n=[],r=function(c){return c(a)},s,o,i,a,l,u;if(t==null)n.push(e);else for(s={},o=0,i=e.length;o<i;++o)a=e[o],l=t.map(r),u=s[l],u||(s[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function XJ(e){Ke.call(this,null,e)}XJ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Nt(XJ,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=FDe(r,e.groupby),o=(e.groupby||[]).map(Ws),i=o.length,a=e.as||[Ws(e.x),Ws(e.y)],l=[];s.forEach(u=>{bke(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<i;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(_r(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const GU={linear:SY,log:gke,exp:mke,pow:vke,quad:$Y,poly:yke},x4t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function ZJ(e){Ke.call(this,null,e)}ZJ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(GU)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Nt(ZJ,Ke,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,s=FDe(r,e.groupby),o=(e.groupby||[]).map(Ws),i=e.method||"linear",a=e.order||3,l=x4t(i,a),u=e.as||[Ws(e.x),Ws(e.y)],c=GU[i],f=[];let d=e.extent;Pn(GU,i)||gt("Invalid regression method: "+i),d!=null&&i==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),s.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(_r({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||Cm(h,e.x),v=y=>{const w={};for(let b=0;b<o.length;++b)w[o[b]]=h.dims[b];w[u[0]]=y[0],w[u[1]]=y[1],f.push(_r(w))};i==="linear"?m.forEach(y=>v([y,g.predict(y)])):SL(g.predict,m,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const C4t=Object.freeze(Object.defineProperty({__proto__:null,loess:XJ,regression:ZJ},Symbol.toStringTag,{value:"Module"})),Yce=Math.pow(2,-52),RN=new Uint32Array(512);class dF{static from(t,n=_4t,r=T4t){const s=t.length,o=new Float64Array(s*2);for(let i=0;i<s;i++){const a=t[i];o[2*i]=n(a),o[2*i+1]=r(a)}return new dF(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:s,_hullHash:o}=this,i=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let _=0;_<i;_++){const E=t[2*_],A=t[2*_+1];E<a&&(a=E),A<l&&(l=A),E>u&&(u=E),A>c&&(c=A),this._ids[_]=_}const f=(a+u)/2,d=(l+c)/2;let h=1/0,p,g,m;for(let _=0;_<i;_++){const E=S9(f,d,t[2*_],t[2*_+1]);E<h&&(p=_,h=E)}const v=t[2*p],y=t[2*p+1];h=1/0;for(let _=0;_<i;_++){if(_===p)continue;const E=S9(v,y,t[2*_],t[2*_+1]);E<h&&E>0&&(g=_,h=E)}let w=t[2*g],b=t[2*g+1],C=1/0;for(let _=0;_<i;_++){if(_===p||_===g)continue;const E=k4t(v,y,w,b,t[2*_],t[2*_+1]);E<C&&(m=_,C=E)}let S=t[2*m],$=t[2*m+1];if(C===1/0){for(let A=0;A<i;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];Yb(this._ids,this._dists,0,i-1);const _=new Uint32Array(i);let E=0;for(let A=0,N=-1/0;A<i;A++){const F=this._ids[A];this._dists[F]>N&&(_[E++]=F,N=this._dists[F])}this.hull=_.subarray(0,E),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(FN(v,y,w,b,S,$)){const _=g,E=w,A=b;g=m,w=S,b=$,m=_,S=E,$=A}const k=E4t(v,y,w,b,S,$);this._cx=k.x,this._cy=k.y;for(let _=0;_<i;_++)this._dists[_]=S9(t[2*_],t[2*_+1],k.x,k.y);Yb(this._ids,this._dists,0,i-1),this._hullStart=p;let T=3;r[p]=n[m]=g,r[g]=n[p]=m,r[m]=n[g]=p,s[p]=0,s[g]=1,s[m]=2,o.fill(-1),o[this._hashKey(v,y)]=p,o[this._hashKey(w,b)]=g,o[this._hashKey(S,$)]=m,this.trianglesLen=0,this._addTriangle(p,g,m,-1,-1,-1);for(let _=0,E,A;_<this._ids.length;_++){const N=this._ids[_],F=t[2*N],R=t[2*N+1];if(_>0&&Math.abs(F-E)<=Yce&&Math.abs(R-A)<=Yce||(E=F,A=R,N===p||N===g||N===m))continue;let P=0;for(let W=0,H=this._hashKey(F,R);W<this._hashSize&&(P=o[(H+W)%this._hashSize],!(P!==-1&&P!==r[P]));W++);P=n[P];let I=P,D;for(;D=r[I],!FN(F,R,t[2*I],t[2*I+1],t[2*D],t[2*D+1]);)if(I=D,I===P){I=-1;break}if(I===-1)continue;let M=this._addTriangle(I,N,r[I],-1,-1,s[I]);s[N]=this._legalize(M+2),s[I]=M,T++;let z=r[I];for(;D=r[z],FN(F,R,t[2*z],t[2*z+1],t[2*D],t[2*D+1]);)M=this._addTriangle(z,N,D,s[N],-1,s[z]),s[N]=this._legalize(M+2),r[z]=z,T--,z=D;if(I===P)for(;D=n[I],FN(F,R,t[2*D],t[2*D+1],t[2*I],t[2*I+1]);)M=this._addTriangle(D,N,I,-1,s[I],s[D]),this._legalize(M+2),s[D]=M,r[I]=I,T--,I=D;this._hullStart=n[N]=I,r[I]=n[z]=N,r[N]=z,o[this._hashKey(F,R)]=N,o[this._hashKey(t[2*I],t[2*I+1])]=I}this.hull=new Uint32Array(T);for(let _=0,E=this._hullStart;_<T;_++)this.hull[_]=E,E=r[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(S4t(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:s}=this;let o=0,i=0;for(;;){const a=r[t],l=t-t%3;if(i=l+(t+2)%3,a===-1){if(o===0)break;t=RN[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[i],h=n[t],p=n[c],g=n[f];if($4t(s[2*d],s[2*d+1],s[2*h],s[2*h+1],s[2*p],s[2*p+1],s[2*g],s[2*g+1])){n[t]=g,n[a]=d;const v=r[f];if(v===-1){let w=this._hullStart;do{if(this._hullTri[w]===f){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,v),this._link(a,r[i]),this._link(i,f);const y=u+(a+1)%3;o<RN.length&&(RN[o++]=y)}else{if(o===0)break;t=RN[--o]}}return i}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,s,o,i){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,s),this._link(a+1,o),this._link(a+2,i),this.trianglesLen+=3,a}}function S4t(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function S9(e,t,n,r){const s=e-n,o=t-r;return s*s+o*o}function $9(e,t,n,r,s,o){const i=(r-t)*(s-e),a=(n-e)*(o-t);return Math.abs(i-a)>=33306690738754716e-32*Math.abs(i+a)?i-a:0}function FN(e,t,n,r,s,o){return($9(s,o,e,t,n,r)||$9(e,t,n,r,s,o)||$9(n,r,s,o,e,t))<0}function $4t(e,t,n,r,s,o,i,a){const l=e-i,u=t-a,c=n-i,f=r-a,d=s-i,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function k4t(e,t,n,r,s,o){const i=n-e,a=r-t,l=s-e,u=o-t,c=i*i+a*a,f=l*l+u*u,d=.5/(i*u-a*l),h=(u*c-a*f)*d,p=(i*f-l*c)*d;return h*h+p*p}function E4t(e,t,n,r,s,o){const i=n-e,a=r-t,l=s-e,u=o-t,c=i*i+a*a,f=l*l+u*u,d=.5/(i*u-a*l),h=e+(u*c-a*f)*d,p=t+(i*f-l*c)*d;return{x:h,y:p}}function Yb(e,t,n,r){if(r-n<=20)for(let s=n+1;s<=r;s++){const o=e[s],i=t[o];let a=s-1;for(;a>=n&&t[e[a]]>i;)e[a+1]=e[a--];e[a+1]=o}else{const s=n+r>>1;let o=n+1,i=r;DS(e,s,o),t[e[n]]>t[e[r]]&&DS(e,n,r),t[e[o]]>t[e[r]]&&DS(e,o,r),t[e[n]]>t[e[o]]&&DS(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do i--;while(t[e[i]]>l);if(i<o)break;DS(e,o,i)}e[n+1]=e[i],e[i]=a,r-o+1>=i-n?(Yb(e,t,o,r),Yb(e,t,n,i-1)):(Yb(e,t,n,i-1),Yb(e,t,o,r))}}function DS(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _4t(e){return e[0]}function T4t(e){return e[1]}const Xce=1e-6;class Nv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const s=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${o}`:(Math.abs(this._x1-s)>Xce||Math.abs(this._y1-o)>Xce)&&(this._+="L"+s+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=s},${this._y1=o}`)}rect(t,n,r,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+s}h${-r}Z`}value(){return this._||null}}class KU{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let A4t=class{constructor(t,[n,r,s,o]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:s}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let h=0,p=0,g=r.length,m,v;h<g;h+=3,p+=2){const y=r[h]*2,w=r[h+1]*2,b=r[h+2]*2,C=t[y],S=t[y+1],$=t[w],k=t[w+1],T=t[b],_=t[b+1],E=$-C,A=k-S,N=T-C,F=_-S,R=E*E+A*A,P=N*N+F*F,I=(E*F-A*N)*2;if(!I)m=(C+T)/2-1e8*F,v=(S+_)/2+1e8*N;else if(Math.abs(I)<1e-8)m=(C+T)/2,v=(S+_)/2;else{const D=1/I;m=C+(F*R-A*P)*D,v=S+(E*P-N*R)*D}o[p]=m,o[p+1]=v}let i=n[n.length-1],a,l=i*4,u,c=t[2*i],f,d=t[2*i+1];s.fill(0);for(let h=0;h<n.length;++h)i=n[h],a=l,u=c,f=d,l=i*4,c=t[2*i],d=t[2*i+1],s[a+2]=s[l]=f-d,s[a+3]=s[l+1]=c-u}render(t){const n=t==null?t=new Nv:void 0,{delaunay:{halfedges:r,inedges:s,hull:o},circumcenters:i,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=i[h],m=i[h+1],v=i[p],y=i[p+1];this._renderSegment(g,m,v,y,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(s[u]/3)*2,d=i[f],h=i[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Nv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Nv:void 0,s=this._clip(t);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let o=s.length;for(;s[0]===s[o-2]&&s[1]===s[o-1]&&o>1;)o-=2;for(let i=2;i<o;i+=2)(s[i]!==s[i-2]||s[i+1]!==s[i-1])&&n.lineTo(s[i],s[i+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(t){const n=new KU;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,s,o){let i;const a=this._regioncode(t,n),l=this._regioncode(r,s);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,s)):(i=this._clipSegment(t,n,r,s,a,l))&&(o.moveTo(i[0],i[1]),o.lineTo(i[2],i[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const s=this._clip(r);if(s){e:for(let o=0,i=n.length;o<i;o+=2)for(let a=0,l=s.length;a<l;a+=2)if(n[o]==s[a]&&n[o+1]==s[a+1]&&n[(o+2)%i]==s[(a+l-2)%l]&&n[(o+3)%i]==s[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:s,triangles:o}}=this,i=r[t];if(i===-1)return null;const a=[];let l=i;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=s[l]}while(l!==i&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,s=t*4;return r[s]||r[s+1]?this._clipInfinite(t,n,r[s],r[s+1],r[s+2],r[s+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let s=null,o,i,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d;for(let h=0;h<r;h+=2)if(o=a,i=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,s?s.push(a,l):s=[a,l];else{let p,g,m,v,y;if(u===0){if((p=this._clipSegment(o,i,a,l,u,c))===null)continue;[g,m,v,y]=p}else{if((p=this._clipSegment(a,l,o,i,c,u))===null)continue;[v,y,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(g,m):s=[g,m]}f=d,d=this._edgecode(v,y),f&&d&&this._edge(t,f,d,s,s.length),s?s.push(v,y):s=[v,y]}if(s)f=d,d=this._edgecode(s[0],s[1]),f&&d&&this._edge(t,f,d,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,r,s,o,i){for(;;){if(o===0&&i===0)return[t,n,r,s];if(o&i)return null;let a,l,u=o||i;u&8?(a=t+(r-t)*(this.ymax-n)/(s-n),l=this.ymax):u&4?(a=t+(r-t)*(this.ymin-n)/(s-n),l=this.ymin):u&2?(l=n+(s-n)*(this.xmax-t)/(r-t),a=this.xmax):(l=n+(s-n)*(this.xmin-t)/(r-t),a=this.xmin),o?(t=a,n=l,o=this._regioncode(t,n)):(r=a,s=l,i=this._regioncode(r,s))}}_clipInfinite(t,n,r,s,o,i){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,s))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,i))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,s,o){for(;n!==r;){let i,a;switch(n){case 5:n=4;continue;case 4:n=6,i=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,i=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,i=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,i=this.xmin,a=this.ymin;break}(s[o]!==i||s[o+1]!==a)&&this.contains(t,i,a)&&(s.splice(o,0,i,a),o+=2)}if(s.length>4)for(let i=0;i<s.length;i+=2){const a=(i+2)%s.length,l=(i+4)%s.length;(s[i]===s[a]&&s[a]===s[l]||s[i+1]===s[a+1]&&s[a+1]===s[l+1])&&(s.splice(a,2),i-=2)}return o}_project(t,n,r,s){let o=1/0,i,a,l;if(s<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/s)<o&&(l=this.ymin,a=t+(o=i)*r)}else if(s>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/s)<o&&(l=this.ymax,a=t+(o=i)*r)}if(r>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=i)*s)}else if(r<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=i)*s)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const I4t=2*Math.PI,xb=Math.pow;function N4t(e){return e[0]}function D4t(e){return e[1]}function O4t(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const s=2*t[r],o=2*t[r+1],i=2*t[r+2];if((n[i]-n[s])*(n[o+1]-n[s+1])-(n[o]-n[s])*(n[i+1]-n[s+1])>1e-10)return!1}return!0}function R4t(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class JJ{static from(t,n=N4t,r=D4t,s){return new JJ("length"in t?F4t(t,n,r,s):Float64Array.from(M4t(t,n,r,s)))}constructor(t){this._delaunator=new dF(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&O4t(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=R4t(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new dF(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,i=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||i[c]===-1)&&(i[c]=l)}for(let l=0,u=s.length;l<u;++l)a[s[l]]=l;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],this.triangles[1]=s[1],this.triangles[2]=s[1],i[s[0]]=1,s.length===2&&(i[s[1]]=0))}voronoi(t){return new A4t(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:s,halfedges:o,triangles:i,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=i[u],u=u%3===2?u-2:u+1,i[u]!==t)return;if(u=o[u],u===-1){const f=r[(s[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const s=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==s;)r=o;return o}_step(t,n,r){const{inedges:s,hull:o,_hullIndex:i,halfedges:a,triangles:l,points:u}=this;if(s[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=xb(n-u[t*2],2)+xb(r-u[t*2+1],2);const d=s[t];let h=d;do{let p=l[h];const g=xb(n-u[p*2],2)+xb(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(i[t]+1)%o.length],h!==p&&xb(n-u[h*2],2)+xb(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Nv:void 0,{points:r,halfedges:s,triangles:o}=this;for(let i=0,a=s.length;i<a;++i){const l=s[i];if(l<i)continue;const u=o[i]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new Nv:void 0,{points:s}=this;for(let o=0,i=s.length;o<i;o+=2){const a=s[o],l=s[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,I4t)}return r&&r.value()}renderHull(t){const n=t==null?t=new Nv:void 0,{hull:r,points:s}=this,o=r[0]*2,i=r.length;t.moveTo(s[o],s[o+1]);for(let a=1;a<i;++a){const l=2*r[a];t.lineTo(s[l],s[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new KU;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Nv:void 0,{points:s,triangles:o}=this,i=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(s[i],s[i+1]),n.lineTo(s[a],s[a+1]),n.lineTo(s[l],s[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new KU;return this.renderTriangle(t,n),n.value()}}function F4t(e,t,n,r){const s=e.length,o=new Float64Array(s*2);for(let i=0;i<s;++i){const a=e[i];o[i*2]=t.call(r,a,i,e),o[i*2+1]=n.call(r,a,i,e)}return o}function*M4t(e,t,n,r){let s=0;for(const o of e)yield t.call(r,o,s,e),yield n.call(r,o,s,e),++s}function QJ(e){Ke.call(this,null,e)}QJ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const P4t=[-1e5,-1e5,1e5,1e5];Nt(QJ,Ke,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let s=e.size;s=s?[0,0,s[0],s[1]]:(s=e.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:P4t;const o=this.value=JJ.from(r,e.x,e.y).voronoi(s);for(let i=0,a=r.length;i<a;++i){const l=o.cellPolygon(i);r[i][n]=l?L4t(l):null}return t.reflow(e.modified()).modifies(n)}});function L4t(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const B4t=Object.freeze(Object.defineProperty({__proto__:null,voronoi:QJ},Symbol.toStringTag,{value:"Module"}));function kC(e,t,n){return e.fields=t||[],e.fname=n,e}function z4t(e){return e.length===1?V4t(e[0]):W4t(e)}const V4t=e=>function(t){return t[e]},W4t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function E3(e){throw Error(e)}function U4t(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||E3("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&E3("Access path missing closing bracket: "+e),r&&E3("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function j4t(e,t,n){const r=U4t(e);return e=r.length===1?r[0]:e,kC(z4t(r),[e],e)}j4t("id");kC(e=>e,[],"identity");kC(()=>0,[],"zero");kC(()=>1,[],"one");kC(()=>!0,[],"true");kC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var MDe=Array.isArray;function H4t(e){return e[e.length-1]}function q4t(e){return e==null||e===""?null:+e}function G4t(e){return e!=null?MDe(e)?e:[e]:[]}function YU(e){return typeof e=="function"}function K4t(e){return YU(e)?e:()=>e}function Y4t(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function X4t(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function Z4t(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Y4t(r,n)}function J4t(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function ek(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Q4t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eQ(e){let t,n,r;e.length!==2?(t=ek,n=(a,l)=>ek(e(a),l),r=(a,l)=>e(a)-l):(t=e===ek||e===Q4t?e:ePt,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function ePt(){return 0}function PDe(e){return e===null?NaN:+e}const tPt=eQ(ek),L1=tPt.right;eQ(PDe).center;const nPt=Math.sqrt(50),rPt=Math.sqrt(10),sPt=Math.sqrt(2);function hF(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),i=o>=nPt?10:o>=rPt?5:o>=sPt?2:1;let a,l,u;return s<0?(u=Math.pow(10,-s)/i,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?hF(e,t,n*2):[a,l,u]}function XU(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,i]=r?hF(t,e,n):hF(e,t,n);if(!(o>=s))return[];const a=o-s+1,l=new Array(a);if(r)if(i<0)for(let u=0;u<a;++u)l[u]=(o-u)/-i;else for(let u=0;u<a;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<a;++u)l[u]=(s+u)/-i;else for(let u=0;u<a;++u)l[u]=(s+u)*i;return l}function ZU(e,t,n){return t=+t,e=+e,n=+n,hF(e,t,n)[2]}function JU(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?ZU(t,e,n):ZU(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function oPt(e,t,n=PDe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),i=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return i+(a-i)*(s-o)}}function iPt(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function zd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function y0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zce=Symbol("implicit");function tQ(){var e=new ZO,t=[],n=[],r=Zce;function s(o){let i=e.get(o);if(i===void 0){if(r!==Zce)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new ZO;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return tQ(t,n).unknown(r)},zd.apply(s,arguments),s}function LDe(e,t,n,r,s){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*s)/6}function BDe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[r],o=e[r+1],i=r>0?e[r-1]:2*s-o,a=r<t-1?e[r+2]:2*o-s;return LDe((n-r/t)*t,i,s,o,a)}}function zDe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),s=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],a=e[(r+2)%t];return LDe((n-r/t)*t,s,o,i,a)}}const AB=e=>()=>e;function VDe(e,t){return function(n){return e+n*t}}function aPt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function IB(e,t){var n=t-e;return n?VDe(e,n>180||n<-180?n-360*Math.round(n/360):n):AB(isNaN(e)?t:e)}function lPt(e){return(e=+e)==1?zo:function(t,n){return n-t?aPt(t,n,e):AB(isNaN(t)?n:t)}}function zo(e,t){var n=t-e;return n?VDe(e,n):AB(isNaN(e)?t:e)}const QU=(function e(t){var n=lPt(t);function r(s,o){var i=n((s=Sl(s)).r,(o=Sl(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),u=zo(s.opacity,o.opacity);return function(c){return s.r=i(c),s.g=a(c),s.b=l(c),s.opacity=u(c),s+""}}return r.gamma=e,r})(1);function WDe(e){return function(t){var n=t.length,r=new Array(n),s=new Array(n),o=new Array(n),i,a;for(i=0;i<n;++i)a=Sl(t[i]),r[i]=a.r||0,s[i]=a.g||0,o[i]=a.b||0;return r=e(r),s=e(s),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=s(l),a.b=o(l),a+""}}}var uPt=WDe(BDe),cPt=WDe(zDe);function nQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function UDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fPt(e,t){return(UDe(t)?nQ:jDe)(e,t)}function jDe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)s[i]=My(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(a){for(i=0;i<r;++i)o[i]=s[i](a);return o}}function HDe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qDe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=My(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var ej=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k9=new RegExp(ej.source,"g");function dPt(e){return function(){return e}}function hPt(e){return function(t){return e(t)+""}}function GDe(e,t){var n=ej.lastIndex=k9.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=ej.exec(e))&&(s=k9.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:gc(r,s)})),n=k9.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?hPt(l[0].x):dPt(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function My(e,t){var n=typeof t,r;return t==null||n==="boolean"?AB(t):(n==="number"?gc:n==="string"?(r=fp(t))?(t=r,QU):GDe:t instanceof fp?QU:t instanceof Date?HDe:UDe(t)?nQ:Array.isArray(t)?jDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qDe:gc)(e,t)}function pPt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function gPt(e,t){var n=IB(+e,+t);return function(r){var s=n(r);return s-360*Math.floor(s/360)}}function NB(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Jce=180/Math.PI,tj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KDe(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Jce,skewX:Math.atan(l)*Jce,scaleX:i,scaleY:a}}var MN;function mPt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tj:KDe(t.a,t.b,t.c,t.d,t.e,t.f)}function vPt(e){return e==null||(MN||(MN=document.createElementNS("http://www.w3.org/2000/svg","g")),MN.setAttribute("transform",e),!(e=MN.transform.baseVal.consolidate()))?tj:(e=e.matrix,KDe(e.a,e.b,e.c,e.d,e.e,e.f))}function YDe(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:gc(u,f)},{i:g-2,x:gc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function i(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:gc(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:gc(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(s(h)+"scale(",null,",",null,")");p.push({i:g-4,x:gc(u,f)},{i:g-2,x:gc(c,d)})}else(f!==1||d!==1)&&h.push(s(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),i(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var yPt=YDe(mPt,"px, ","px)","deg)"),bPt=YDe(vPt,", ",")",")"),wPt=1e-12;function Qce(e){return((e=Math.exp(e))+1/e)/2}function xPt(e){return((e=Math.exp(e))-1/e)/2}function CPt(e){return((e=Math.exp(2*e))-1)/(e+1)}const SPt=(function e(t,n,r){function s(o,i){var a=o[0],l=o[1],u=o[2],c=i[0],f=i[1],d=i[2],h=c-a,p=f-l,g=h*h+p*p,m,v;if(g<wPt)v=Math.log(d/u)/t,m=function($){return[a+$*h,l+$*p,u*Math.exp(t*$*v)]};else{var y=Math.sqrt(g),w=(d*d-u*u+r*g)/(2*u*n*y),b=(d*d-u*u-r*g)/(2*d*n*y),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(b*b+1)-b);v=(S-C)/t,m=function($){var k=$*v,T=Qce(C),_=u/(n*y)*(T*CPt(t*k+C)-xPt(C));return[a+_*h,l+_*p,u*T/Qce(t*k+C)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s})(Math.SQRT2,2,4);function XDe(e){return function(t,n){var r=e((t=Im(t)).h,(n=Im(n)).h),s=zo(t.s,n.s),o=zo(t.l,n.l),i=zo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const $Pt=XDe(IB);var kPt=XDe(zo);function EPt(e,t){var n=zo((e=Nm(e)).l,(t=Nm(t)).l),r=zo(e.a,t.a),s=zo(e.b,t.b),o=zo(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=o(i),e+""}}function ZDe(e){return function(t,n){var r=e((t=Dm(t)).h,(n=Dm(n)).h),s=zo(t.c,n.c),o=zo(t.l,n.l),i=zo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=s(a),t.l=o(a),t.opacity=i(a),t+""}}}const _Pt=ZDe(IB);var TPt=ZDe(zo);function JDe(e){return(function t(n){n=+n;function r(s,o){var i=e((s=N1(s)).h,(o=N1(o)).h),a=zo(s.s,o.s),l=zo(s.l,o.l),u=zo(s.opacity,o.opacity);return function(c){return s.h=i(c),s.s=a(c),s.l=l(Math.pow(c,n)),s.opacity=u(c),s+""}}return r.gamma=t,r})(1)}const APt=JDe(IB);var IPt=JDe(zo);function rQ(e,t){t===void 0&&(t=e,e=My);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(i){var a=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[a](i-a)}}function NPt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const DPt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:My,interpolateArray:fPt,interpolateBasis:BDe,interpolateBasisClosed:zDe,interpolateCubehelix:APt,interpolateCubehelixLong:IPt,interpolateDate:HDe,interpolateDiscrete:pPt,interpolateHcl:_Pt,interpolateHclLong:TPt,interpolateHsl:$Pt,interpolateHslLong:kPt,interpolateHue:gPt,interpolateLab:EPt,interpolateNumber:gc,interpolateNumberArray:nQ,interpolateObject:qDe,interpolateRgb:QU,interpolateRgbBasis:uPt,interpolateRgbBasisClosed:cPt,interpolateRound:NB,interpolateString:GDe,interpolateTransformCss:yPt,interpolateTransformSvg:bPt,interpolateZoom:SPt,piecewise:rQ,quantize:NPt},Symbol.toStringTag,{value:"Module"}));function OPt(e){return function(){return e}}function nj(e){return+e}var efe=[0,1];function ll(e){return e}function rj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:OPt(isNaN(t)?NaN:.5)}function RPt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function FPt(e,t,n){var r=e[0],s=e[1],o=t[0],i=t[1];return s<r?(r=rj(s,r),o=n(i,o)):(r=rj(r,s),o=n(o,i)),function(a){return o(r(a))}}function MPt(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=rj(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(a){var l=L1(e,a,1,r)-1;return o[l](s[l](a))}}function MA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function DB(){var e=efe,t=efe,n=My,r,s,o,i=ll,a,l,u;function c(){var d=Math.min(e.length,t.length);return i!==ll&&(i=RPt(e[0],e[d-1])),a=d>2?MPt:FPt,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(i(d)))}return f.invert=function(d){return i(s((u||(u=a(t,e.map(r),gc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,nj),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=NB,c()},f.clamp=function(d){return arguments.length?(i=d?!0:ll,c()):i!==ll},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,s=h,c()}}function QDe(){return DB()(ll,ll)}function e3e(e,t,n,r){var s=JU(e,t,n),o;switch(r=D1(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=lZ(s,i))&&(r.precision=o),sB(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aZ(s))&&(r.precision=o-(r.type==="%")*2);break}}return xC(r)}function Py(e){var t=e.domain;return e.ticks=function(n){var r=t();return XU(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return e3e(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,i=r[s],a=r[o],l,u,c=10;for(a<i&&(u=i,i=a,a=u,u=s,s=o,o=u);c-- >0;){if(u=ZU(i,a,n),u===l)return r[s]=i,r[o]=a,t(r);if(u>0)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else if(u<0)i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function t3e(){var e=QDe();return e.copy=function(){return MA(e,t3e())},zd.apply(e,arguments),Py(e)}function n3e(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,nj),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return n3e(e).unknown(t)},e=arguments.length?Array.from(e,nj):[0,1],Py(n)}function r3e(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],i;return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}function tfe(e){return Math.log(e)}function nfe(e){return Math.exp(e)}function PPt(e){return-Math.log(-e)}function LPt(e){return-Math.exp(-e)}function BPt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zPt(e){return e===10?BPt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VPt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rfe(e){return(t,n)=>-e(-t,n)}function sQ(e){const t=e(tfe,nfe),n=t.domain;let r=10,s,o;function i(){return s=VPt(r),o=zPt(r),n()[0]<0?(s=rfe(s),o=rfe(o),e(PPt,LPt)):e(tfe,nfe),t}return t.base=function(a){return arguments.length?(r=+a,i()):r},t.domain=function(a){return arguments.length?(n(a),i()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=s(u),h=s(c),p,g;const m=a==null?10:+a;let v=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<m&&(v=XU(u,c,m))}else v=XU(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=D1(l)).precision==null&&(l.trim=!0),l=xC(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(s(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(r3e(n(),{floor:a=>o(Math.floor(s(a))),ceil:a=>o(Math.ceil(s(a)))})),t}function s3e(){const e=sQ(DB()).domain([1,10]);return e.copy=()=>MA(e,s3e()).base(e.base()),zd.apply(e,arguments),e}function sfe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ofe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oQ(e){var t=1,n=e(sfe(t),ofe(t));return n.constant=function(r){return arguments.length?e(sfe(t=+r),ofe(t)):t},Py(n)}function o3e(){var e=oQ(DB());return e.copy=function(){return MA(e,o3e()).constant(e.constant())},zd.apply(e,arguments)}function ife(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WPt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UPt(e){return e<0?-e*e:e*e}function iQ(e){var t=e(ll,ll),n=1;function r(){return n===1?e(ll,ll):n===.5?e(WPt,UPt):e(ife(n),ife(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Py(t)}function aQ(){var e=iQ(DB());return e.copy=function(){return MA(e,aQ()).exponent(e.exponent())},zd.apply(e,arguments),e}function jPt(){return aQ.apply(null,arguments).exponent(.5)}function i3e(){var e=[],t=[],n=[],r;function s(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=oPt(e,i/a);return o}function o(i){return i==null||isNaN(i=+i)?r:t[L1(n,i)]}return o.invertExtent=function(i){var a=t.indexOf(i);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let a of i)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ek),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return i3e().domain(e).range(t).unknown(r)},zd.apply(o,arguments)}function a3e(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[L1(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},i.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,a()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return r.slice()},i.copy=function(){return a3e().domain([e,t]).range(s).unknown(o)},zd.apply(Py(i),arguments)}function l3e(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[L1(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return l3e().domain(e).range(t).unknown(n)},zd.apply(s,arguments)}const E9=new Date,_9=new Date;function Oo(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),a=s.ceil(o);return o-i<a-o?i:a},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,a)=>{const l=[];if(o=s.ceil(o),a=a==null?1:Math.floor(a),!(o<i)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<i);return l},s.filter=o=>Oo(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,a)=>{if(i>=i)if(a<0)for(;++a<=0;)for(;t(i,-1),!o(i););else for(;--a>=0;)for(;t(i,1),!o(i););}),n&&(s.count=(o,i)=>(E9.setTime(+o),_9.setTime(+i),e(E9),e(_9),Math.floor(n(E9,_9))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?i=>r(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const pF=Oo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pF.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Oo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pF);pF.range;const Ph=1e3,ku=Ph*60,Lh=ku*60,pp=Lh*24,lQ=pp*7,afe=pp*30,T9=pp*365,Dv=Oo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ph)},(e,t)=>(t-e)/Ph,e=>e.getUTCSeconds());Dv.range;const uQ=Oo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ph)},(e,t)=>{e.setTime(+e+t*ku)},(e,t)=>(t-e)/ku,e=>e.getMinutes());uQ.range;const cQ=Oo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ku)},(e,t)=>(t-e)/ku,e=>e.getUTCMinutes());cQ.range;const fQ=Oo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ph-e.getMinutes()*ku)},(e,t)=>{e.setTime(+e+t*Lh)},(e,t)=>(t-e)/Lh,e=>e.getHours());fQ.range;const dQ=Oo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Lh)},(e,t)=>(t-e)/Lh,e=>e.getUTCHours());dQ.range;const hQ=Oo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ku)/pp,e=>e.getDate()-1);hQ.range;const u3e=Oo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pp,e=>e.getUTCDate()-1);u3e.range;const c3e=Oo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pp,e=>Math.floor(e/pp));c3e.range;function Ly(e){return Oo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ku)/lQ)}const pQ=Ly(0),HPt=Ly(1),qPt=Ly(2),GPt=Ly(3),KPt=Ly(4),YPt=Ly(5),XPt=Ly(6);pQ.range;HPt.range;qPt.range;GPt.range;KPt.range;YPt.range;XPt.range;function By(e){return Oo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lQ)}const gQ=By(0),ZPt=By(1),JPt=By(2),QPt=By(3),eLt=By(4),tLt=By(5),nLt=By(6);gQ.range;ZPt.range;JPt.range;QPt.range;eLt.range;tLt.range;nLt.range;const OB=Oo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());OB.range;const RB=Oo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RB.range;const FB=Oo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());FB.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});FB.range;const MB=Oo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());MB.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Oo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});MB.range;function f3e(e,t,n,r,s,o){const i=[[Dv,1,Ph],[Dv,5,5*Ph],[Dv,15,15*Ph],[Dv,30,30*Ph],[o,1,ku],[o,5,5*ku],[o,15,15*ku],[o,30,30*ku],[s,1,Lh],[s,3,3*Lh],[s,6,6*Lh],[s,12,12*Lh],[r,1,pp],[r,2,2*pp],[n,1,lQ],[t,1,afe],[t,3,3*afe],[e,1,T9]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=eQ(([,,m])=>m).right(i,d);if(h===i.length)return e.every(JU(u/T9,c/T9,f));if(h===0)return pF.every(Math.max(JU(u,c,f),1));const[p,g]=i[d/i[h-1][2]<i[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[rLt,sLt]=f3e(MB,RB,gQ,c3e,dQ,cQ),[oLt,iLt]=f3e(FB,OB,pQ,hQ,fQ,uQ);function aLt(e){return new Date(e)}function lLt(e){return e instanceof Date?+e:+new Date(+e)}function mQ(e,t,n,r,s,o,i,a,l,u){var c=QDe(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),b=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:i(S)<S?g:o(S)<S?m:r(S)<S?s(S)<S?v:y:n(S)<S?w:b)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,lLt)):d().map(aLt)},c.ticks=function(S){var $=d();return e($[0],$[$.length-1],S??10)},c.tickFormat=function(S,$){return $==null?C:u($)},c.nice=function(S){var $=d();return(!S||typeof S.range!="function")&&(S=t($[0],$[$.length-1],S??10)),S?d(r3e($,S)):c},c.copy=function(){return MA(c,mQ(e,t,n,r,s,o,i,a,l,u))},c}function uLt(){return zd.apply(mQ(oLt,iLt,FB,OB,pQ,hQ,fQ,uQ,Dv,oB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cLt(){return zd.apply(mQ(rLt,sLt,MB,RB,gQ,u3e,dQ,cQ,Dv,iB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PB(){var e=0,t=1,n,r,s,o,i=ll,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-n)*s,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(i=f,u):i};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,i=f(h,p),u):[i(0),i(1)]}}return u.range=c(My),u.rangeRound=c(NB),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function b0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vQ(){var e=Py(PB()(ll));return e.copy=function(){return b0(e,vQ())},y0.apply(e,arguments)}function d3e(){var e=sQ(PB()).domain([1,10]);return e.copy=function(){return b0(e,d3e()).base(e.base())},y0.apply(e,arguments)}function h3e(){var e=oQ(PB());return e.copy=function(){return b0(e,h3e()).constant(e.constant())},y0.apply(e,arguments)}function yQ(){var e=iQ(PB());return e.copy=function(){return b0(e,yQ()).exponent(e.exponent())},y0.apply(e,arguments)}function fLt(){return yQ.apply(null,arguments).exponent(.5)}function LB(){var e=0,t=.5,n=1,r=1,s,o,i,a,l,u=ll,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,s=c(e=+e),o=c(t=+t),i=c(n=+n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,y,w;return arguments.length?([v,y,w]=m,u=rQ(g,[v,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(My),h.rangeRound=p(NB),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,s=g(e),o=g(t),i=g(n),a=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),r=o<s?-1:1,h}}function p3e(){var e=Py(LB()(ll));return e.copy=function(){return b0(e,p3e())},y0.apply(e,arguments)}function g3e(){var e=sQ(LB()).domain([.1,1,10]);return e.copy=function(){return b0(e,g3e()).base(e.base())},y0.apply(e,arguments)}function m3e(){var e=oQ(LB());return e.copy=function(){return b0(e,m3e()).constant(e.constant())},y0.apply(e,arguments)}function bQ(){var e=iQ(LB());return e.copy=function(){return b0(e,bQ()).exponent(e.exponent())},y0.apply(e,arguments)}function dLt(){return bQ.apply(null,arguments).exponent(.5)}const hLt="year",wQ="quarter",pLt="month",gLt="week",mLt="date",vLt="day",yLt="dayofyear",bLt="hours",wLt="minutes",xLt="seconds",CLt="milliseconds",SLt=[hLt,wQ,pLt,gLt,mLt,vLt,yLt,bLt,wLt,xLt,CLt];SLt.reduce((e,t,n)=>(e[t]=1+n,e),{});wQ+"",OB.every(3);wQ+"",RB.every(3);function $Lt(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const kLt="identity",xQ="linear",wx="log",CQ="pow",SQ="sqrt",$Q="symlog",ELt="time",_Lt="utc",EC="sequential",PA="diverging",lfe="quantile",TLt="quantize",ALt="threshold",ILt="ordinal",NLt="point",DLt="band",OLt="bin-ordinal",ii="continuous",BB="discrete",zB="discretizing",tf="interpolating",v3e="temporal";function RLt(e){return function(t){let n=t[0],r=t[1],s;return r<n&&(s=n,n=r,r=s),[e.invert(n),e.invert(r)]}}function FLt(e){return function(t){const n=e.range();let r=t[0],s=t[1],o=-1,i,a,l,u;for(s<r&&(a=r,r=s,s=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=s&&(o<0&&(o=l),i=l);if(!(o<0))return r=e.invertExtent(n[o]),s=e.invertExtent(n[i]),[r[0]===void 0?r[1]:r[0],s[1]===void 0?s[0]:s[1]]}}function kQ(){const e=tQ().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],s,o,i=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=$Lt(f,a,l);let g=r[d-0];s=(h-g)/(p||1),i&&(s=Math.floor(s)),g+=(h-g-s*(f-a))*u,o=s*(1-a),i&&(g=Math.round(g),o=Math.round(o));const m=iPt(f).map(v=>g+s*v);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],i=!0,c()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(i=!!f,c()):i},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],v,y,w;if(!(g!==g||m!==m)&&(m<g&&(w=g,g=m,m=w),!(m<h[0]||g>r[1-d])))return v=Math.max(0,L1(h,g)-1),y=g===m?v:L1(h,m)-1,g-h[v]>o+1e-10&&++v,d&&(w=v,v=p-y,y=p-w),v>y?void 0:t().slice(v,y+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return kQ().domain(t()).range(r).round(i).paddingInner(a).paddingOuter(l).align(u)},c()}function y3e(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return y3e(t())},e}function MLt(){return y3e(kQ().paddingInner(1))}var PLt=Array.prototype.map;function LLt(e){return PLt.call(e,q4t)}const BLt=Array.prototype.slice;function b3e(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(L1(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=LLt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=BLt.call(r),n):t.slice()},n.tickFormat=function(r,s){return e3e(e[0],H4t(e),r??10,s)},n.copy=function(){return b3e().domain(n.domain()).range(n.range())},n}const sj=new Map,zLt=Symbol("vega_scale");function VLt(e){return e[zLt]=!0,e}function WLt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?RLt(o):o.invertExtent?FLt(o):void 0),o.type=e,VLt(o)};return r.metadata=J4t(G4t(n)),r}function ss(e,t,n){return arguments.length>1?(sj.set(e,WLt(e,t,n)),this):ULt(e)?sj.get(e):void 0}ss(kLt,n3e);ss(xQ,t3e,ii);ss(wx,s3e,[ii,wx]);ss(CQ,aQ,ii);ss(SQ,jPt,ii);ss($Q,o3e,ii);ss(ELt,uLt,[ii,v3e]);ss(_Lt,cLt,[ii,v3e]);ss(EC,vQ,[ii,tf]);ss(`${EC}-${xQ}`,vQ,[ii,tf]);ss(`${EC}-${wx}`,d3e,[ii,tf,wx]);ss(`${EC}-${CQ}`,yQ,[ii,tf]);ss(`${EC}-${SQ}`,fLt,[ii,tf]);ss(`${EC}-${$Q}`,h3e,[ii,tf]);ss(`${PA}-${xQ}`,p3e,[ii,tf]);ss(`${PA}-${wx}`,g3e,[ii,tf,wx]);ss(`${PA}-${CQ}`,bQ,[ii,tf]);ss(`${PA}-${SQ}`,dLt,[ii,tf]);ss(`${PA}-${$Q}`,m3e,[ii,tf]);ss(lfe,i3e,[zB,lfe]);ss(TLt,a3e,zB);ss(ALt,l3e,zB);ss(OLt,b3e,[BB,zB]);ss(ILt,tQ,BB);ss(DLt,kQ,BB);ss(NLt,MLt,BB);function ULt(e){return sj.has(e)}function jLt(e,t,n){return rQ(HLt("rgb",n),e)}function HLt(e,t){const n=DPt[qLt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function qLt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const GLt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},KLt={accent:O_e,category10:D_e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:R_e,observable10:F_e,paired:M_e,pastel1:P_e,pastel2:L_e,set1:B_e,set2:z_e,set3:V_e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function w3e(e){if(MDe(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function x3e(e,t){for(const n in e)YLt(n,t(e[n]))}const ufe={};x3e(KLt,w3e);x3e(GLt,e=>jLt(w3e(e)));function YLt(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ufe[e]=t,this):ufe[e]}var XLt=Math.random,A9=Math.PI/180,k$=64,_3=2048;function ZLt(){var e=[256,256],t,n,r,s,o,i,a,l=C3e,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(c0()),g=rBt((e[0]>>5)*e[1]),m=null,v=u.length,y=-1,w=[],b=u.map(S=>({text:t(S),font:n(S),style:s(S),weight:o(S),rotate:i(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,$)=>$.size-S.size);++y<v;){var C=b[y];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,JLt(p,C,b,y),C.hasText&&h(g,C,m)&&(w.push(C),m?eBt(m,C):m=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return w};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(k$<<5)/g,p.height=_3/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var v=g.x,y=g.y,w=Math.hypot(e[0],e[1]),b=l(e),C=c()<.5?1:-1,S=-C,$,k,T;($=b(S+=C))&&(k=~~$[0],T=~~$[1],!(Math.min(Math.abs(k),Math.abs(T))>=w));)if(g.x=v+k,g.y=y+T,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!QLt(g,p,e[0]))&&(!m||tBt(g,m))){for(var _=g.sprite,E=g.width>>5,A=e[0]>>5,N=g.x-(E<<4),F=N&127,R=32-F,P=g.y1-g.y0,I=(g.y+g.y0)*A+(N>>5),D,M=0;M<P;M++){D=0;for(var z=0;z<=E;z++)p[I+z]|=D<<R|(z<E?(D=_[M*E+z])>>>F:0);I+=A}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=V0(p),f):n},f.fontStyle=function(p){return arguments.length?(s=V0(p),f):s},f.fontWeight=function(p){return arguments.length?(o=V0(p),f):o},f.rotate=function(p){return arguments.length?(i=V0(p),f):i},f.text=function(p){return arguments.length?(t=V0(p),f):t},f.spiral=function(p){return arguments.length?(l=sBt[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=V0(p),f):r},f.padding=function(p){return arguments.length?(a=V0(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function JLt(e,t,n,r){if(!t.sprite){var s=e.context,o=e.ratio;s.clearRect(0,0,(k$<<5)/o,_3/o);var i=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=s.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*A9),m=Math.cos(t.rotate*A9),v=c*m,y=c*g,w=d*m,b=d*g;c=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,d=~~Math.max(Math.abs(y+w),Math.abs(y-w))}else c=c+31>>5<<5;if(d>l&&(l=d),i+c>=k$<<5&&(i=0,a+=l,l=0),a+d>=_3)break;s.translate((i+(c>>1))/o,(a+(d>>1))/o),t.rotate&&s.rotate(t.rotate*A9),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=c,t.height=d,t.xoff=i,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,i+=c}for(var C=s.getImageData(0,0,(k$<<5)/o,_3/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)S[h]=0;if(i=t.xoff,i==null)return;a=t.yoff;var $=0,k=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var T=f*p+(h>>5),_=C[(a+p)*(k$<<5)+(i+h)<<2]?1<<31-h%32:0;S[T]|=_,$|=_}$?k=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*f)}}}function QLt(e,t,n){n>>=5;for(var r=e.sprite,s=e.width>>5,o=e.x-(s<<4),i=o&127,a=32-i,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=s;d++)if((c<<a|(d<s?(c=r[f*s+d])>>>i:0))&t[u+d])return!0;u+=n}return!1}function eBt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function tBt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function C3e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function nBt(e){var t=4,n=t*e[0]/e[1],r=0,s=0;return function(o){var i=o<0?-1:1;switch(Math.sqrt(1+4*i*o)-i&3){case 0:r+=n;break;case 1:s+=t;break;case 2:r-=n;break;default:s-=t;break}return[r,s]}}function rBt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function V0(e){return typeof e=="function"?e:function(){return e}}var sBt={archimedean:C3e,rectangular:nBt};const S3e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],oBt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function EQ(e){Ke.call(this,ZLt(),e)}EQ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:S3e}]};Z4t(EQ,Ke,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&E3("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return YU(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||oBt.some(n)))return;const s=t.materialize(t.SOURCE).source,o=this.value,i=e.as||S3e;let a=e.fontSize||14,l;if(YU(a)?l=e.fontSizeRange:a=K4t(a),l){const p=a,g=ss("sqrt")().domain(X4t(s,p)).range(l);a=m=>g(p(m))}s.forEach(p=>{p[i[0]]=NaN,p[i[1]]=NaN,p[i[3]]=0});const u=o.words(s).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(XLt).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[i[0]]=g.x+f,m[i[1]]=g.y+d,m[i[2]]=g.font,m[i[3]]=g.size,m[i[4]]=g.style,m[i[5]]=g.weight,m[i[6]]=g.rotate;return t.reflow(r).modifies(i)}});const iBt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:EQ},Symbol.toStringTag,{value:"Module"})),aBt=e=>new Uint8Array(e),lBt=e=>new Uint16Array(e),tk=e=>new Uint32Array(e);function uBt(){let e=8,t=[],n=tk(0),r=PN(0,e),s=PN(0,e);return{data:()=>t,seen:()=>n=cBt(n,t.length),add(o){for(let i=0,a=t.length,l=o.length,u;i<l;++i)u=o[i],u._index=a++,t.push(u)},remove(o,i){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!i[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],i[f]?u[f]=-1:(u[f]=d,r[d]=r[f],s[d]=s[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>s,reset:o=>s[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,i){r[o]|=i},clear(o,i){r[o]&=~i},resize(o,i){const a=r.length;(o>a||i>e)&&(e=Math.max(i,e),r=PN(o,e,r),s=PN(o,e))}}}function cBt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function PN(e,t,n){const r=(t<257?aBt:t<65537?lBt:tk)(e);return n&&r.set(n),r}function cfe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(s,o){const i=this,a=i.bisect(i.range,s.value),l=s.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return i}}}function ffe(){let e=tk(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=tk(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=fBt(h,d),c)p=t,g=e,t=Array(c+f),e=tk(c+f),dBt(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function s(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function i(a,l){let u;return l?u=l.length:(l=t,u=n),[awt(l,a[0],0,u),Em(l,a[1],0,u)]}return{insert:r,remove:s,bisect:i,reindex:o,index:()=>e,size:()=>n}}function fBt(e,t){return e.sort.call(t,(n,r)=>{const s=e[n],o=e[r];return s<o?-1:s>o?1:0}),cwt(e,t)}function dBt(e,t,n,r,s,o,i,a,l){let u=0,c=0,f;for(f=0;u<r&&c<i;++f)t[u]<s[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=s[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<i;++c,++f)a[f]=s[c],l[f]=o[c]+e}function _Q(e){Ke.call(this,uBt(),e),this._indices=null,this._dims=null}_Q.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Nt(_Q,Ke,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,s=this._indices={},o=this._dims=[],i=r.length;let a=0,l,u;for(;a<i;++a)l=n[a].fname,u=s[l]||(s[l]=ffe()),o.push(cfe(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,s=e.query,o=this._indices,i=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=s.length,p={};let g,m,v,y,w,b,C,S,$;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(b={},y=t.mod,C=0,S=y.length;C<S;++C)b[y[C]._index]=1;for(C=0;C<h;++C)$=r[C],(!i[C]||e.modified("fields",C)||t.modified($.fields))&&(v=$.fname,(g=p[v])||(o[v]=m=ffe(),p[v]=g=m.insert($,t.source,0)),i[C]=cfe(m,C,s[C]).onAdd(g,l));for(C=0,S=a.data().length;C<S;++C)w[C]||(u[C]!==l[C]?f.push(C):b[C]&&l[C]!==c&&d.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let s=0;return t.rem.length&&(this.remove(e,t,n),s|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(s|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),s|=(1<<r)-1),t.mod.length&&(this.modify(t,n),s|=(1<<r)-1),this.value.mask=s,n},insert(e,t,n){const r=t.add,s=this.value,o=this._dims,i=this._indices,a=e.fields,l={},u=n.add,c=s.size()+r.length,f=o.length;let d=s.size(),h,p,g;s.resize(c,f),s.add(r);const m=s.curr(),v=s.prev(),y=s.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=i[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)v[d]=y,m[d]!==y&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,s=r.curr(),o=r.all(),i=e.mod;let a,l,u;for(a=0,l=i.length;a<l;++a)u=i[a]._index,s[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,s=this.value,o=s.curr(),i=s.prev(),a=s.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,i[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,s=this.value;e.runAfter(()=>{const o=s.remove(t,n);for(const i in r)r[i].reindex(o)})},update(e,t,n){const r=this._dims,s=e.query,o=t.stamp,i=r.length;let a=0,l,u;for(n.filters=0,u=0;u<i;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],s[l],n.add,n.rem);else for(u=0,a=0;u<i;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],s[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const s=this.value,o=s.seen(),i=s.curr(),a=s.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,v,y;if(f<h)for(m=f,v=Math.min(h,d);m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;else if(f>h)for(m=h,v=Math.min(f,p);m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;if(d>p)for(m=Math.max(f,p),v=d;m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;else if(d<p)for(m=Math.max(h,d),v=p;m<v;++m)y=l[m],o[y]!==n&&(a[y]=i[y],o[y]=n,r.push(y)),i[y]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const s=this.value,o=s.curr(),i=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=i[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=i[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=i[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=i[p],o[m]^=h,r.push(m);e.range=t.slice()}});function TQ(e){Ke.call(this,null,e)}TQ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Nt(TQ,Ke,{transform(e,t){const n=~(e.ignore||0),r=e.filter,s=r.mask;if((s&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),i=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:i[c];return o.filter(o.MOD,u),s&s-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?i[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?i[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===s?i[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const hBt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:_Q,resolvefilter:TQ},Symbol.toStringTag,{value:"Module"}));function _C(e,t,n){return e.fields=t||[],e.fname=n,e}function pBt(e){return e.length===1?gBt(e[0]):mBt(e)}const gBt=e=>function(t){return t[e]},mBt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function li(e){throw Error(e)}function vBt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||li("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&li("Access path missing closing bracket: "+e),r&&li("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function $3e(e,t,n){const r=vBt(e);return e=r.length===1?r[0]:e,_C(pBt(r),[e],e)}$3e("id");const AQ=_C(e=>e,[],"identity");_C(()=>0,[],"zero");_C(()=>1,[],"one");const k3e=_C(()=>!0,[],"true");_C(()=>!1,[],"false");const yBt=new Set(Object.getOwnPropertyNames(Object.prototype));var gp=Array.isArray;function gF(e){return e===Object(e)}function zm(e){return e[e.length-1]}function IQ(e){return e==null||e===""?null:+e}const E3e=e=>t=>e*Math.exp(t),_3e=e=>t=>Math.log(e*t),T3e=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),A3e=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,mF=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function VB(e,t,n,r){const s=n(e[0]),o=n(zm(e)),i=(o-s)*t;return[r(s-i),r(o-i)]}function bBt(e,t){return VB(e,t,IQ,AQ)}function wBt(e,t){var n=Math.sign(e[0]);return VB(e,t,_3e(n),E3e(n))}function xBt(e,t,n){return VB(e,t,mF(n),mF(1/n))}function CBt(e,t,n){return VB(e,t,T3e(n),A3e(n))}function WB(e,t,n,r,s){const o=r(e[0]),i=r(zm(e)),a=t!=null?r(t):(o+i)/2;return[s(a+(o-a)*n),s(a+(i-a)*n)]}function SBt(e,t,n){return WB(e,t,n,IQ,AQ)}function $Bt(e,t,n){const r=Math.sign(e[0]);return WB(e,t,n,_3e(r),E3e(r))}function kBt(e,t,n,r){return WB(e,t,n,mF(r),mF(1/r))}function EBt(e,t,n,r){return WB(e,t,n,T3e(r),A3e(r))}function _Bt(e){return 1+~~(new Date(e).getMonth()/3)}function TBt(e){return 1+~~(new Date(e).getUTCMonth()/3)}function dfe(e){return e!=null?gp(e)?e:[e]:[]}function ABt(e,t,n){let r=e[0],s=e[1],o;return s<r&&(o=s,s=r,r=o),o=s-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function vF(e){return typeof e=="function"}function NQ(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function IBt(e,t){let n=0,r,s,o,i;if(e&&(r=e.length))if(t==null){for(s=e[n];n<r&&(s==null||s!==s);s=e[++n]);for(o=i=s;n<r;++n)s=e[n],s!=null&&(s<o&&(o=s),s>i&&(i=s))}else{for(s=t(e[n]);n<r&&(s==null||s!==s);s=t(e[++n]));for(o=i=s;n<r;++n)s=t(e[n]),s!=null&&(s<o&&(o=s),s>i&&(i=s))}return[o,i]}function Vg(e,t){return Object.hasOwn(e,t)}function NBt(e,t,n,r,s,o){if(!n&&n!==0)return o;const i=+n;let a=e[0],l=zm(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=i?r:c<=i?s:o}function DBt(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function OBt(e){return typeof e=="boolean"}function I3e(e){return Object.prototype.toString.call(e)==="[object Date]"}function N3e(e){return typeof e=="number"}function RBt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function TC(e){return typeof e=="string"}function FBt(e,t){const n=e[0],r=zm(e),s=+t;return s?s===1?r:n+s*(r-n):n}function LN(e,t){let n="";for(;--t>=0;)n+=e;return n}function MBt(e,t,n,r){const s=n||" ",o=e+"",i=t-o.length;return i<=0?o:r==="left"?LN(s,i)+o:r==="center"?LN(s,~~(i/2))+o+LN(s,Math.ceil(i/2)):o+LN(s,i)}function PBt(e){return e&&zm(e)-e[0]||0}function AE(e){return gp(e)?"["+e.map(AE)+"]":gF(e)||TC(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function LBt(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const BBt=e=>N3e(e)||I3e(e)?e:Date.parse(e);function zBt(e,t){return t=t||BBt,e==null||e===""?null:t(e)}function VBt(e){return e==null||e===""?null:e+""}function hfe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function WBt(e,t,n,r){const s=r??"",o=e+"",i=o.length,a=Math.max(0,t-s.length);return i<=t?o:n==="left"?s+o.slice(i-a):n==="center"?o.slice(0,Math.ceil(a/2))+s+o.slice(i-~~(a/2)):o.slice(0,a)+s}const UBt="RawCode",xx="Literal",jBt="Property",HBt="Identifier",qBt="ArrayExpression",GBt="BinaryExpression",D3e="CallExpression",KBt="ConditionalExpression",YBt="LogicalExpression",XBt="MemberExpression",ZBt="ObjectExpression",JBt="UnaryExpression";function nf(e){this.type=e}nf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=QBt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function QBt(e){switch(e.type){case qBt:return e.elements;case GBt:case YBt:return[e.left,e.right];case D3e:return[e.callee].concat(e.arguments);case KBt:return[e.test,e.consequent,e.alternate];case XBt:return[e.object,e.property];case ZBt:return e.properties;case jBt:return[e.key,e.value];case JBt:return[e.argument];case HBt:case xx:case UBt:default:return[]}}var Vd,rn,Je,ea,Pr,UB=1,LA=2,B1=3,w0=4,jB=5,zy=6,Xa=7,BA=8,e6t=9;Vd={};Vd[UB]="Boolean";Vd[LA]="<end>";Vd[B1]="Identifier";Vd[w0]="Keyword";Vd[jB]="Null";Vd[zy]="Numeric";Vd[Xa]="Punctuator";Vd[BA]="String";Vd[e6t]="RegularExpression";var t6t="ArrayExpression",n6t="BinaryExpression",r6t="CallExpression",s6t="ConditionalExpression",O3e="Identifier",o6t="Literal",i6t="LogicalExpression",a6t="MemberExpression",l6t="ObjectExpression",u6t="Property",c6t="UnaryExpression",Vo="Unexpected token %0",f6t="Unexpected number",d6t="Unexpected string",h6t="Unexpected identifier",p6t="Unexpected reserved word",g6t="Unexpected end of input",oj="Invalid regular expression",I9="Invalid regular expression: missing /",R3e="Octal literals are not allowed in strict mode.",m6t="Duplicate data property in object literal not allowed in strict mode",hi="ILLEGAL",IE="Disabled.",v6t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),y6t=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function HB(e,t){if(!e)throw new Error("ASSERT: "+t)}function vh(e){return e>=48&&e<=57}function DQ(e){return"0123456789abcdefABCDEF".includes(e)}function nk(e){return"01234567".includes(e)}function b6t(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function NE(e){return e===10||e===13||e===8232||e===8233}function zA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&v6t.test(String.fromCharCode(e))}function yF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&y6t.test(String.fromCharCode(e))}const w6t={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function F3e(){for(;Je<ea;){const e=rn.charCodeAt(Je);if(b6t(e)||NE(e))++Je;else break}}function ij(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)Je<ea&&DQ(rn[Je])?(r=rn[Je++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):wr({},Vo,hi);return String.fromCharCode(s)}function x6t(){var e,t,n,r;for(e=rn[Je],t=0,e==="}"&&wr({},Vo,hi);Je<ea&&(e=rn[Je++],!!DQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wr({},Vo,hi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function M3e(){var e,t;for(e=rn.charCodeAt(Je++),t=String.fromCharCode(e),e===92&&(rn.charCodeAt(Je)!==117&&wr({},Vo,hi),++Je,e=ij("u"),(!e||e==="\\"||!zA(e.charCodeAt(0)))&&wr({},Vo,hi),t=e);Je<ea&&(e=rn.charCodeAt(Je),!!yF(e));)++Je,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),rn.charCodeAt(Je)!==117&&wr({},Vo,hi),++Je,e=ij("u"),(!e||e==="\\"||!yF(e.charCodeAt(0)))&&wr({},Vo,hi),t+=e);return t}function C6t(){var e,t;for(e=Je++;Je<ea;){if(t=rn.charCodeAt(Je),t===92)return Je=e,M3e();if(yF(t))++Je;else break}return rn.slice(e,Je)}function S6t(){var e,t,n;return e=Je,t=rn.charCodeAt(Je)===92?M3e():C6t(),t.length===1?n=B1:w6t.hasOwnProperty(t)?n=w0:t==="null"?n=jB:t==="true"||t==="false"?n=UB:n=B1,{type:n,value:t,start:e,end:Je}}function N9(){var e=Je,t=rn.charCodeAt(Je),n,r=rn[Je],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Je,{type:Xa,value:String.fromCharCode(t),start:e,end:Je};default:if(n=rn.charCodeAt(Je+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Je+=2,{type:Xa,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Je};case 33:case 61:return Je+=2,rn.charCodeAt(Je)===61&&++Je,{type:Xa,value:rn.slice(e,Je),start:e,end:Je}}}if(i=rn.substr(Je,4),i===">>>=")return Je+=4,{type:Xa,value:i,start:e,end:Je};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Je+=3,{type:Xa,value:o,start:e,end:Je};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".includes(r)||s==="=>")return Je+=2,{type:Xa,value:s,start:e,end:Je};if(s==="//"&&wr({},Vo,hi),"<>=!+-*%&|^/".includes(r))return++Je,{type:Xa,value:r,start:e,end:Je};wr({},Vo,hi)}function $6t(e){let t="";for(;Je<ea&&DQ(rn[Je]);)t+=rn[Je++];return t.length===0&&wr({},Vo,hi),zA(rn.charCodeAt(Je))&&wr({},Vo,hi),{type:zy,value:parseInt("0x"+t,16),start:e,end:Je}}function k6t(e){let t="0"+rn[Je++];for(;Je<ea&&nk(rn[Je]);)t+=rn[Je++];return(zA(rn.charCodeAt(Je))||vh(rn.charCodeAt(Je)))&&wr({},Vo,hi),{type:zy,value:parseInt(t,8),octal:!0,start:e,end:Je}}function pfe(){var e,t,n;if(n=rn[Je],HB(vh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Je,e="",n!=="."){if(e=rn[Je++],n=rn[Je],e==="0"){if(n==="x"||n==="X")return++Je,$6t(t);if(nk(n))return k6t(t);n&&vh(n.charCodeAt(0))&&wr({},Vo,hi)}for(;vh(rn.charCodeAt(Je));)e+=rn[Je++];n=rn[Je]}if(n==="."){for(e+=rn[Je++];vh(rn.charCodeAt(Je));)e+=rn[Je++];n=rn[Je]}if(n==="e"||n==="E")if(e+=rn[Je++],n=rn[Je],(n==="+"||n==="-")&&(e+=rn[Je++]),vh(rn.charCodeAt(Je)))for(;vh(rn.charCodeAt(Je));)e+=rn[Je++];else wr({},Vo,hi);return zA(rn.charCodeAt(Je))&&wr({},Vo,hi),{type:zy,value:parseFloat(e),start:t,end:Je}}function E6t(){var e="",t,n,r,s,o=!1;for(t=rn[Je],HB(t==="'"||t==='"',"String literal must starts with a quote"),n=Je,++Je;Je<ea;)if(r=rn[Je++],r===t){t="";break}else if(r==="\\")if(r=rn[Je++],!r||!NE(r.charCodeAt(0)))switch(r){case"u":case"x":rn[Je]==="{"?(++Je,e+=x6t()):e+=ij(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:nk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),Je<ea&&nk(rn[Je])&&(o=!0,s=s*8+"01234567".indexOf(rn[Je++]),"0123".includes(r)&&Je<ea&&nk(rn[Je])&&(s=s*8+"01234567".indexOf(rn[Je++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&rn[Je]===`
`&&++Je;else{if(NE(r.charCodeAt(0)))break;e+=r}return t!==""&&wr({},Vo,hi),{type:BA,value:e,octal:o,start:n,end:Je}}function _6t(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,s)=>{if(parseInt(s,16)<=1114111)return"x";wr({},oj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wr({},oj)}try{return new RegExp(e,t)}catch{return null}}function T6t(){var e,t,n,r,s;for(e=rn[Je],HB(e==="/","Regular expression literal must start with a slash"),t=rn[Je++],n=!1,r=!1;Je<ea;)if(e=rn[Je++],t+=e,e==="\\")e=rn[Je++],NE(e.charCodeAt(0))&&wr({},I9),t+=e;else if(NE(e.charCodeAt(0)))wr({},I9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wr({},I9),s=t.substr(1,t.length-2),{value:s,literal:t}}function A6t(){var e,t,n;for(t="",n="";Je<ea&&(e=rn[Je],!!yF(e.charCodeAt(0)));)++Je,e==="\\"&&Je<ea?wr({},Vo,hi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wr({},oj,n),{value:n,literal:t}}function I6t(){var e,t,n,r;return Pr=null,F3e(),e=Je,t=T6t(),n=A6t(),r=_6t(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Je}}function N6t(e){return e.type===B1||e.type===w0||e.type===UB||e.type===jB}function P3e(){if(F3e(),Je>=ea)return{type:LA,start:Je,end:Je};const e=rn.charCodeAt(Je);return zA(e)?S6t():e===40||e===41||e===59?N9():e===39||e===34?E6t():e===46?vh(rn.charCodeAt(Je+1))?pfe():N9():vh(e)?pfe():N9()}function nl(){const e=Pr;return Je=e.end,Pr=P3e(),Je=e.end,e}function L3e(){const e=Je;Pr=P3e(),Je=e}function D6t(e){const t=new nf(t6t);return t.elements=e,t}function gfe(e,t,n){const r=new nf(e==="||"||e==="&&"?i6t:n6t);return r.operator=e,r.left=t,r.right=n,r}function O6t(e,t){const n=new nf(r6t);return n.callee=e,n.arguments=t,n}function R6t(e,t,n){const r=new nf(s6t);return r.test=e,r.consequent=t,r.alternate=n,r}function OQ(e){const t=new nf(O3e);return t.name=e,t}function E$(e){const t=new nf(o6t);return t.value=e.value,t.raw=rn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function mfe(e,t,n){const r=new nf(a6t);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function F6t(e){const t=new nf(l6t);return t.properties=e,t}function vfe(e,t,n){const r=new nf(u6t);return r.key=t,r.value=n,r.kind=e,r}function M6t(e,t){const n=new nf(c6t);return n.operator=e,n.argument=t,n.prefix=!0,n}function wr(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,i)=>(HB(i<r.length,"Message reference must be in range"),r[i]));throw n=new Error(s),n.index=Je,n.description=s,n}function qB(e){e.type===LA&&wr(e,g6t),e.type===zy&&wr(e,f6t),e.type===BA&&wr(e,d6t),e.type===B1&&wr(e,h6t),e.type===w0&&wr(e,p6t),wr(e,Vo,e.value)}function ta(e){const t=nl();(t.type!==Xa||t.value!==e)&&qB(t)}function fs(e){return Pr.type===Xa&&Pr.value===e}function D9(e){return Pr.type===w0&&Pr.value===e}function P6t(){const e=[];for(Je=Pr.start,ta("[");!fs("]");)fs(",")?(nl(),e.push(null)):(e.push(z1()),fs("]")||ta(","));return nl(),D6t(e)}function yfe(){Je=Pr.start;const e=nl();return e.type===BA||e.type===zy?(e.octal&&wr(e,R3e),E$(e)):OQ(e.value)}function L6t(){var e,t,n,r;if(Je=Pr.start,e=Pr,e.type===B1)return n=yfe(),ta(":"),r=z1(),vfe("init",n,r);if(e.type===LA||e.type===Xa)qB(e);else return t=yfe(),ta(":"),r=z1(),vfe("init",t,r)}function B6t(){var e=[],t,n,r,s={},o=String;for(Je=Pr.start,ta("{");!fs("}");)t=L6t(),t.key.type===O3e?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?wr({},m6t):s[r]=!0,e.push(t),fs("}")||ta(",");return ta("}"),F6t(e)}function z6t(){ta("(");const e=RQ();return ta(")"),e}const V6t={if:1};function W6t(){var e,t,n;if(fs("("))return z6t();if(fs("["))return P6t();if(fs("{"))return B6t();if(e=Pr.type,Je=Pr.start,e===B1||V6t[Pr.value])n=OQ(nl().value);else if(e===BA||e===zy)Pr.octal&&wr(Pr,R3e),n=E$(nl());else{if(e===w0)throw new Error(IE);e===UB?(t=nl(),t.value=t.value==="true",n=E$(t)):e===jB?(t=nl(),t.value=null,n=E$(t)):fs("/")||fs("/=")?(n=E$(I6t()),L3e()):qB(nl())}return n}function U6t(){const e=[];if(ta("("),!fs(")"))for(;Je<ea&&(e.push(z1()),!fs(")"));)ta(",");return ta(")"),e}function j6t(){Je=Pr.start;const e=nl();return N6t(e)||qB(e),OQ(e.value)}function H6t(){return ta("."),j6t()}function q6t(){ta("[");const e=RQ();return ta("]"),e}function G6t(){var e,t,n;for(e=W6t();;)if(fs("."))n=H6t(),e=mfe(".",e,n);else if(fs("("))t=U6t(),e=O6t(e,t);else if(fs("["))n=q6t(),e=mfe("[",e,n);else break;return e}function bfe(){const e=G6t();if(Pr.type===Xa&&(fs("++")||fs("--")))throw new Error(IE);return e}function T3(){var e,t;if(Pr.type!==Xa&&Pr.type!==w0)t=bfe();else{if(fs("++")||fs("--"))throw new Error(IE);if(fs("+")||fs("-")||fs("~")||fs("!"))e=nl(),t=T3(),t=M6t(e.value,t);else{if(D9("delete")||D9("void")||D9("typeof"))throw new Error(IE);t=bfe()}}return t}function wfe(e){let t=0;if(e.type!==Xa&&e.type!==w0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function K6t(){var e,t,n,r,s,o,i,a,l,u;if(e=Pr,l=T3(),r=Pr,s=wfe(r),s===0)return l;for(r.prec=s,nl(),t=[e,Pr],i=T3(),o=[l,r,i];(s=wfe(Pr))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=gfe(a,l,i),o.push(n);r=nl(),r.prec=s,o.push(r),t.push(Pr),n=T3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=gfe(o[u-1].value,o[u-2],n),u-=2;return n}function z1(){var e,t,n;return e=K6t(),fs("?")&&(nl(),t=z1(),ta(":"),n=z1(),e=R6t(e,t,n)),e}function RQ(){const e=z1();if(fs(","))throw new Error(IE);return e}function Y6t(e){rn=e,Je=0,ea=rn.length,Pr=null,L3e();const t=RQ();if(Pr.type!==LA)throw new Error("Unexpect token after expression.");return t}var B3e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function z3e(e){function t(i,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+i+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(i,a,l){return u=>t(i,u,a,l)}const r="new Date",s="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(i){i.length<3&&li("Missing arguments to clamp function."),i.length>3&&li("Too many arguments to clamp function.");const a=i.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(i){i.length<3&&li("Missing arguments to if function."),i.length>3&&li("Too many arguments to if function.");const a=i.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function X6t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function Z6t(e){e=e||{};const t=e.allowed?hfe(e.allowed):{},n=e.forbidden?hfe(e.forbidden):{},r=e.constants||B3e,s=(e.functions||z3e)(f),o=e.globalvar,i=e.fieldvar,a=vF(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(TC(p))return p;const g=d[p.type];return g==null&&li("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Vg(n,g)?li("Illegal identifier: "+g):Vg(r,g)?r[g]:Vg(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const v=f(p.property);return m===i&&(u[X6t(v)]=1),g&&(c-=1),m+(g?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&li("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,v=Vg(s,g)&&s[g];return v||li("Unrecognized function: "+g),vF(v)?v(m):v+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>{for(const g of p.properties){const m=g.key.name;yBt.has(m)&&li("Illegal property: "+m)}return"{"+p.properties.map(f).join(",")+"}"},Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=s,h.constants=r,h}function O9(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J6t(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q6t(e){let t,n,r;e.length!==2?(t=O9,n=(a,l)=>O9(e(a),l),r=(a,l)=>e(a)-l):(t=e===O9||e===J6t?e:e5t,n=e,r=e);function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function i(a,l,u=0,c=a.length){const f=s(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:s,center:i,right:o}}function e5t(){return 0}function t5t(e,...t){e=new JO(e),t=t.map(n5t);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function n5t(e){return e instanceof JO?e:new JO(e)}function r5t(...e){const t=new JO;for(const n of e)for(const r of n)t.add(r);return t}function AC(e,t,n){return e.fields=t||[],e.fname=n,e}function s5t(e){return e.length===1?o5t(e[0]):i5t(e)}const o5t=e=>function(t){return t[e]},i5t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function mw(e){throw Error(e)}function a5t(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||mw("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&mw("Access path missing closing bracket: "+e),r&&mw("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function FQ(e,t,n){const r=a5t(e);return e=r.length===1?r[0]:e,AC(s5t(r),[e],e)}FQ("id");AC(e=>e,[],"identity");AC(()=>0,[],"zero");AC(()=>1,[],"one");AC(()=>!0,[],"true");AC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var bF=Array.isArray;function l5t(e){return e===Object(e)}function u5t(e){return e[e.length-1]}function Ov(e){return e==null||e===""?null:+e}function xfe(e){return e!=null?bF(e)?e:[e]:[]}function c5t(e){for(let t,n,r=1,s=arguments.length;r<s;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Cfe(e,t){return Object.hasOwn(e,t)}function BN(e,t,n,r){let s=t[0],o=t[t.length-1],i;return s>o&&(i=s,s=o,o=i),n=n===void 0||n,r=r===void 0||r,(n?s<=e:s<e)&&(r?e<=o:e<o)}function R9(e){return Object.prototype.toString.call(e)==="[object Date]"}const f5t="Literal";var Wd,d5t=1,h5t=2,p5t=3,g5t=4,m5t=5,v5t=6,y5t=7,b5t=8,w5t=9;Wd={};Wd[d5t]="Boolean";Wd[h5t]="<end>";Wd[p5t]="Identifier";Wd[g5t]="Keyword";Wd[m5t]="Null";Wd[v5t]="Numeric";Wd[y5t]="Punctuator";Wd[b5t]="String";Wd[w5t]="RegularExpression";const Sfe=Symbol("vega_selection_getter");function V3e(e){return(!e.getter||!e.getter[Sfe])&&(e.getter=FQ(e.field),e.getter[Sfe]=!0),e.getter}const MQ="intersect",$fe="union",x5t="vlMulti",C5t="vlPoint",kfe="or",S5t="and",Df="_vgsid_",DE=FQ(Df),$5t="E",k5t="R",E5t="R-E",_5t="R-LE",T5t="R-RE",A5t="E-LT",I5t="E-LTE",N5t="E-GT",D5t="E-GTE",O5t="E-VALID",R5t="E-ONE",wF="index:unit";function Efe(e,t){for(var n=t.fields,r=t.values,s=n.length,o=0,i,a;o<s;++o)if(a=n[o],i=V3e(a)(e),R9(i)&&(i=Ov(i)),R9(r[o])&&(r[o]=Ov(r[o])),bF(r[o])&&R9(r[o][0])&&(r[o]=r[o].map(Ov)),a.type===$5t){if(bF(r[o])?!r[o].includes(i):i!==r[o])return!1}else if(a.type===k5t){if(!BN(i,r[o]))return!1}else if(a.type===T5t){if(!BN(i,r[o],!0,!1))return!1}else if(a.type===E5t){if(!BN(i,r[o],!1,!1))return!1}else if(a.type===_5t){if(!BN(i,r[o],!1,!0))return!1}else if(a.type===A5t){if(i>=r[o])return!1}else if(a.type===I5t){if(i>r[o])return!1}else if(a.type===N5t){if(i<=r[o])return!1}else if(a.type===D5t){if(i<r[o])return!1}else if(a.type===O5t){if(i===null||isNaN(i))return!1}else if(a.type===R5t&&r[o].indexOf(i)===-1)return!1;return!0}function F5t(e,t,n){for(var r=this.context.data[e],s=r?r.values.value:[],o=r?r[wF]&&r[wF].value:void 0,i=n===MQ,a=s.length,l=0,u,c,f,d,h;l<a;++l)if(u=s[l],o&&i){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=Efe(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=Efe(t,u),i^h)return h;return a&&i}const W3e=Q6t(DE),M5t=W3e.left,P5t=W3e.right;function L5t(e,t,n){const r=this.context.data[e],s=r?r.values.value:[],o=r?r[wF]&&r[wF].value:void 0,i=n===MQ,a=DE(t),l=M5t(s,a);if(l===s.length||DE(s[l])!==a)return!1;if(o&&i){if(o.size===1)return!0;if(P5t(s,a)-l<o.size)return!1}return!0}function B5t(e,t){return bF(e)||mw("First argument to selectionTuples must be an array."),l5t(t)||mw("Second argument to selectionTuples must be an object."),e.map(n=>c5t(t.fields?{values:t.fields.map(r=>V3e(r)(n.datum))}:{[Df]:DE(n.datum)},t))}function z5t(e,t,n,r){for(var s=this.context.data[e],o=s?s.values.value:[],i={},a={},l={},u,c,f,d,h,p,g,m,v,y,w=o.length,b=0,C,S;b<w;++b)if(u=o[b],d=u.unit,c=u.fields,f=u.values,c&&f){for(C=0,S=c.length;C<S;++C)h=c[C],g=i[h.field]||(i[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=v=h.type.charAt(0),y=F9[`${v}_union`],g[d]=y(m,xfe(f[C]));n&&(m=a[d]||(a[d]=[]),m.push(xfe(f).reduce(($,k,T)=>($[c[T].field]=k,$),{})))}else h=Df,p=DE(u),g=i[h]||(i[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[Df]:p}));if(t=t||$fe,i[Df]?i[Df]=F9[`${Df}_${t}`](...Object.values(i[Df])):Object.keys(i).forEach($=>{i[$]=Object.keys(i[$]).map(k=>i[$][k]).reduce((k,T)=>k===void 0?T:F9[`${l[$]}_${t}`](k,T))}),o=Object.keys(a),n&&o.length){const $=r?C5t:x5t;i[$]=t===$fe?{[kfe]:o.reduce((k,T)=>(k.push(...a[T]),k),[])}:{[S5t]:o.map(k=>({[kfe]:a[k]}))}}return i}var F9={[`${Df}_union`]:r5t,[`${Df}_intersect`]:t5t,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Ov(t[0]),r=Ov(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ov(t[0]),r=Ov(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const V5t=":",W5t="@";function PQ(e,t,n,r){t[0].type!==f5t&&mw("First argument to selection functions must be a string literal.");const s=t[0].value,o=t.length>=2&&u5t(t).value,i="unit",a=W5t+i,l=V5t+s;o===MQ&&!Cfe(r,a)&&(r[a]=n.getData(s).indataRef(n,i)),Cfe(r,l)||(r[l]=n.getData(s).tuplesRef())}function U3e(e){const t=this.context.data[e];return t?t.values.value:[]}function U5t(e,t,n){const r=this.context.data[e]["index:"+t],s=r?r.value.get(n):void 0;return s&&s.count}function j5t(e,t){const n=this.context.dataflow,r=this.context.data[e],s=r.input;return n.pulse(s,n.changeset().remove(k3e).insert(t)),1}function H5t(e,t,n){if(e){const r=this.context.dataflow,s=e.mark.source;r.pulse(s,r.changeset().encode(e,t))}return n!==void 0?n:e}const VA=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},q5t=VA("format"),j3e=VA("timeFormat"),G5t=VA("utcFormat"),K5t=VA("timeParse"),Y5t=VA("utcParse"),zN=new Date(2e3,0,1);function GB(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(zN.setYear(2e3),zN.setMonth(e),zN.setDate(t),j3e.call(this,zN,n))}function X5t(e){return GB.call(this,e,1,"%B")}function Z5t(e){return GB.call(this,e,1,"%b")}function J5t(e){return GB.call(this,0,2+e,"%A")}function Q5t(e){return GB.call(this,0,2+e,"%a")}const e8t=":",t8t="@",aj="%",H3e="$";function LQ(e,t,n,r){t[0].type!==xx&&li("First argument to data functions must be a string literal.");const s=t[0].value,o=e8t+s;if(!Vg(o,r))try{r[o]=n.getData(s).tuplesRef()}catch{}}function n8t(e,t,n,r){t[0].type!==xx&&li("First argument to indata must be a string literal."),t[1].type!==xx&&li("Second argument to indata must be a string literal.");const s=t[0].value,o=t[1].value,i=t8t+o;Vg(i,r)||(r[i]=n.getData(s).indataRef(n,o))}function dl(e,t,n,r){if(t[0].type===xx)_fe(n,r,t[0].value);else for(e in n.scales)_fe(n,r,e)}function _fe(e,t,n){const r=aj+n;if(!Vg(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Rp(e,t){let n;return vF(e)?e:TC(e)?(n=t.scales[e])&&n.value:void 0}function r8t(e,t,n){t.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,n._bandwidth=dl,n._range=dl,n._scale=dl;const r=s=>"_["+(s.type===xx?AE(aj+s.value):AE(aj)+"+"+e(s))+"]";return{_bandwidth:s=>`this.__bandwidth(${r(s[0])})`,_range:s=>`${r(s[0])}.range()`,_scale:s=>`${r(s[0])}(${e(s[1])})`}}function BQ(e,t){return function(n,r,s){if(n){const o=Rp(n,(s||this).context);return o&&o.path[e](r)}else return t(r)}}const s8t=BQ("area",DIt),o8t=BQ("bounds",MIt),i8t=BQ("centroid",WIt);function a8t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function zQ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function l8t(){return zQ(this.context.dataflow,"warn",arguments)}function u8t(){return zQ(this.context.dataflow,"info",arguments)}function c8t(){return zQ(this.context.dataflow,"debug",arguments)}function M9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function lj(e){const t=Sl(e),n=M9(t.r),r=M9(t.g),s=M9(t.b);return .2126*n+.7152*r+.0722*s}function f8t(e,t){const n=lj(e),r=lj(t),s=Math.max(n,r),o=Math.min(n,r);return(s+.05)/(o+.05)}function d8t(){const e=[].slice.call(arguments);return e.unshift({}),NQ(...e)}function q3e(e,t){return e===t||e!==e&&t!==t?!0:gp(e)?gp(t)&&e.length===t.length?h8t(e,t):!1:gF(e)&&gF(t)?G3e(e,t):!1}function h8t(e,t){for(let n=0,r=e.length;n<r;++n)if(!q3e(e[n],t[n]))return!1;return!0}function G3e(e,t){for(const n in e)if(!q3e(e[n],t[n]))return!1;return!0}function Tfe(e){return t=>G3e(e,t)}function p8t(e,t,n,r,s,o){const i=this.context.dataflow,a=this.context.data[e],l=a.input,u=i.stamp();let c=a.changes,f,d;if(i._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=i.changeset(),c.stamp=u,i.runAfter(()=>{a.modified=!0,i.pulse(l,c).run()},!0,1)),n&&(f=n===!0?k3e:gp(n)||gL(n)?n:Tfe(n),c.remove(f)),t&&c.insert(t),r&&(f=Tfe(r),l.value.some(f)?c.remove(f):c.insert(r)),s)for(d in o)c.modify(s,d,o[d]);return 1}function g8t(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function m8t(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Afe={};function v8t(e,t){const n=Afe[t]||(Afe[t]=$3e(t));return gp(e)?e.map(n):n(e)}function VQ(e){return gp(e)||ArrayBuffer.isView(e)?e:null}function WQ(e){return VQ(e)||(TC(e)?e:null)}function y8t(e,...t){return VQ(e).join(...t)}function b8t(e,...t){return WQ(e).indexOf(...t)}function w8t(e,...t){return WQ(e).lastIndexOf(...t)}function x8t(e,...t){return WQ(e).slice(...t)}function C8t(e,t,n){return vF(n)&&li("Function argument passed to replace."),String(e).replace(t,n)}function S8t(e){return VQ(e).slice().reverse()}function $8t(e,t,n){return yZ(e||0,t||0,n||0)}function k8t(e,t){const n=Rp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function E8t(e,t){const n=Rp(e,(t||this).context);return n?n.copy():void 0}function _8t(e,t){const n=Rp(e,(t||this).context);return n?n.domain():[]}function T8t(e,t,n){const r=Rp(e,(n||this).context);return r?gp(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function A8t(e,t){const n=Rp(e,(t||this).context);return n&&n.range?n.range():[]}function I8t(e,t,n){const r=Rp(e,(n||this).context);return r?r(t):void 0}function N8t(e,t,n,r,s){e=Rp(e,(s||this).context);const o=LNe(t,n);let i=e.domain(),a=i[0],l=zm(i),u=AQ;return l-a?u=CAe(e,a,l):e=(e.interpolator?Tr("sequential")().interpolator(e.interpolator()):Tr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(i=e.ticks(+r||15),a!==i[0]&&i.unshift(a),l!==zm(i)&&i.push(l)),i.forEach(c=>o.stop(u(c),e(c))),o}function D8t(e,t,n){const r=Rp(e,(n||this).context);return function(s){return r?r.path.context(s)(t):""}}function O8t(e){let t=null;return function(n){return n?$E(n,t=t||mx(e)):e}}const K3e=e=>e.data;function Y3e(e,t){const n=U3e.call(t,e);return n.root&&n.root.lookup||{}}function R8t(e,t,n){const r=Y3e(e,this),s=r[t],o=r[n];return s&&o?s.path(o).map(K3e):void 0}function F8t(e,t){const n=Y3e(e,this)[t];return n?n.ancestors().map(K3e):void 0}const X3e=()=>typeof window<"u"&&window||null;function M8t(){const e=X3e();return e?e.screen:{}}function P8t(){const e=X3e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function L8t(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function B8t(e,t,n){if(!e)return[];const[r,s]=e,o=new Pa().set(r[0],r[1],s[0],s[1]),i=n||this.context.dataflow.scenegraph().root;return TDe(i,o,z8t(t))}function z8t(e){let t=null;if(e){const n=dfe(e.marktype),r=dfe(e.markname);t=s=>(!n.length||n.some(o=>s.marktype===o))&&(!r.length||r.some(o=>s.name===o))}return t}const OE={random(){return Vc()},cumulativeNormal:wL,cumulativeLogNormal:vY,cumulativeUniform:xY,densityNormal:dY,densityLogNormal:mY,densityUniform:wY,quantileNormal:xL,quantileLogNormal:yY,quantileUniform:CY,sampleNormal:bL,sampleLogNormal:gY,sampleUniform:bY,isArray:gp,isBoolean:OBt,isDate:I3e,isDefined(e){return e!==void 0},isNumber:N3e,isObject:gF,isRegExp:RBt,isString:TC,isTuple:gL,isValid(e){return e!=null&&e===e},toBoolean:LBt,toDate:zBt,toNumber:IQ,toString:VBt,indexof:b8t,join:y8t,lastindexof:w8t,replace:C8t,reverse:S8t,slice:x8t,flush:NBt,lerp:FBt,merge:d8t,pad:MBt,peek:zm,pluck:v8t,span:PBt,inrange:DBt,truncate:WBt,rgb:Sl,lab:Nm,hcl:Dm,hsl:Im,luminance:lj,contrast:f8t,sequence:Hl,format:q5t,utcFormat:G5t,utcParse:Y5t,utcOffset:Oke,utcSequence:Mke,timeFormat:j3e,timeParse:K5t,timeOffset:Dke,timeSequence:Fke,timeUnitSpecifier:xke,monthFormat:X5t,monthAbbrevFormat:Z5t,dayFormat:J5t,dayAbbrevFormat:Q5t,quarter:_Bt,utcquarter:TBt,week:Ske,utcweek:Eke,dayofyear:Cke,utcdayofyear:kke,warn:l8t,info:u8t,debug:c8t,extent:IBt,inScope:a8t,intersect:B8t,clampRange:ABt,pinchDistance:g8t,pinchAngle:m8t,screen:M8t,containerSize:L8t,windowSize:P8t,bandspace:$8t,setdata:j5t,pathShape:O8t,panLinear:bBt,panLog:wBt,panPow:xBt,panSymlog:CBt,zoomLinear:SBt,zoomLog:$Bt,zoomPow:kBt,zoomSymlog:EBt,encode:H5t,modify:p8t},V8t=["view","item","group","xy","x","y"],W8t="event.vega.",Z3e="this.",UQ={},J3e={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${AE(H3e+e)}]`,functions:U8t,constants:B3e,visitors:UQ},uj=Z6t(J3e);function U8t(e){const t=z3e(e);V8t.forEach(n=>t[n]=W8t+n);for(const n in OE)t[n]=Z3e+n;return NQ(t,r8t(e,OE,UQ)),t}function fo(e,t,n){return arguments.length===1?OE[e]:(OE[e]=t,n&&(UQ[e]=n),uj&&(uj.functions[e]=Z3e+e),this)}fo("bandwidth",k8t,dl);fo("copy",E8t,dl);fo("domain",_8t,dl);fo("range",A8t,dl);fo("invert",T8t,dl);fo("scale",I8t,dl);fo("gradient",N8t,dl);fo("geoArea",s8t,dl);fo("geoBounds",o8t,dl);fo("geoCentroid",i8t,dl);fo("geoShape",D8t,dl);fo("indata",U5t,n8t);fo("data",U3e,LQ);fo("treePath",R8t,LQ);fo("treeAncestors",F8t,LQ);fo("vlSelectionTest",F5t,PQ);fo("vlSelectionIdTest",L5t,PQ);fo("vlSelectionResolve",z5t,PQ);fo("vlSelectionTuples",B5t);function bd(e,t){const n={};let r;try{e=TC(e)?e:AE(e)+"",r=Y6t(e)}catch{li("Expression parse error: "+e)}r.visit(o=>{if(o.type!==D3e)return;const i=o.callee.name,a=J3e.visitors[i];a&&a(i,o.arguments,t,n)});const s=uj(r);return s.globals.forEach(o=>{const i=H3e+o;!Vg(n,i)&&t.getSignal(o)&&(n[i]=t.signalRef(o))}),{$expr:NQ({code:s.code},t.options.ast?{ast:r}:null),$fields:s.fields,$params:n}}function Ud(e,t,n){return e.fields=t||[],e.fname=n,e}function j8t(e){return e==null?null:e.fields}function Q3e(e){return e.length===1?H8t(e[0]):q8t(e)}const H8t=e=>function(t){return t[e]},q8t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function t1(e){throw Error(e)}function eOe(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||t1("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&t1("Access path missing closing bracket: "+e),r&&t1("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function jQ(e,t,n){const r=eOe(e);return e=r.length===1?r[0]:e,Ud((n&&n.get||Q3e)(r),[e],t||e)}jQ("id");Ud(e=>e,[],"identity");Ud(()=>0,[],"zero");Ud(()=>1,[],"one");const G8t=Ud(()=>!0,[],"true");Ud(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));var HQ=Array.isArray;function qQ(e){return e===Object(e)}function RE(e){return e!=null?HQ(e)?e:[e]:[]}function K8t(e){return typeof e=="function"}const Y8t="descending";function X8t(e,t,n){n=n||{},t=RE(t)||[];const r=[],s=[],o={},i=n.comparator||Z8t;return RE(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Y8t?-1:1),s.push(a=K8t(a)?a:jQ(a,null,n)),(j8t(a)||[]).forEach(u=>o[u]=1))}),s.length===0?null:Ud(i(s,r),Object.keys(o))}const tOe=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Z8t=(e,t)=>e.length===1?J8t(e[0],t[0]):Q8t(e,t,e.length),J8t=(e,t)=>function(n,r){return tOe(e(n),e(r))*t},Q8t=(e,t,n)=>(t.push(0),function(r,s){let o,i=0,a=-1;for(;i===0&&++a<n;)o=e[a],i=tOe(o(r),o(s));return i*t[a]});function ezt(e,t){return Object.hasOwn(e,t)}function tzt(e){return typeof e=="string"}function nzt(e,t,n){e&&(e=t?RE(e).map(a=>a.replace(/\\(.)/g,"$1")):RE(e));const r=e&&e.length,s=n&&n.get||Q3e,o=a=>s(t?[a]:eOe(a));let i;if(!r)i=function(){return""};else if(r===1){const a=o(e[0]);i=function(l){return""+a(l)}}else{const a=e.map(o);i=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Ud(i,e,"key")}function cj(e){return HQ(e)?"["+e.map(cj)+"]":qQ(e)||tzt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function nOe(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function rzt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const szt=nOe(["rule"]),Ife=nOe(["group","image","rect"]);function ozt(e,t){let n="";return szt[t]||(e.x2&&(e.x?(Ife[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Ife[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function GQ(e){return(e+"").toLowerCase()}function izt(e){return GQ(e)==="operator"}function azt(e){return GQ(e)==="collect"}function OS(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function lzt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var uzt={operator:(e,t)=>OS(e,["_"],t.code),parameter:(e,t)=>OS(e,["datum","_"],t.code),event:(e,t)=>OS(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return OS(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const o in r){const i="o["+cj(o)+"]";s+=`$=${r[o].code};if(${i}!==$)${i}=$,m=1;`}return s+=ozt(r,n),s+="return m;",OS(e,["item","_"],s)},codegen:{get(e){const t=`[${e.map(cj).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,i)=>{const a=t[i];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+i]=o,l=`this.f${i}(a)`,u=`this.f${i}(b)`),lzt(l,u,-a,a)},s=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?s.bind(n):s}}};function czt(e){const t=this;izt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function fzt(e){const t=this;if(e.params){const n=t.get(e.id);n||t1("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function dzt(e,t){t=t||{};const n=this;for(const r in e){const s=e[r];t[r]=HQ(s)?s.map(o=>Nfe(o,n,t)):Nfe(s,n,t)}return t}function Nfe(e,t,n){if(!e||!qQ(e))return e;for(let r=0,s=Dfe.length,o;r<s;++r)if(o=Dfe[r],ezt(e,o.key))return o.parse(e,t,n);return e}var Dfe=[{key:"$ref",parse:hzt},{key:"$key",parse:gzt},{key:"$expr",parse:pzt},{key:"$field",parse:mzt},{key:"$encode",parse:yzt},{key:"$compare",parse:vzt},{key:"$context",parse:bzt},{key:"$subflow",parse:wzt},{key:"$tupleid",parse:xzt}];function hzt(e,t){return t.get(e.$ref)||t1("Operator not defined: "+e.$ref)}function pzt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Ud(t.parameterExpression(e.$expr),e.$fields))}function gzt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=nzt(e.$key,e.$flat,t.expr.codegen))}function mzt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=jQ(e.$field,e.$name,t.expr.codegen))}function vzt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=RE(e.$compare).map(s=>s&&s.$tupleid?gn:s);return t.fn[n]||(t.fn[n]=X8t(r,e.$order,t.expr.codegen))}function yzt(e,t){const n=e.$encode,r={};for(const s in n){const o=n[s];r[s]=Ud(t.encodeExpression(o.$expr),o.$fields),r[s].output=o.$output}return r}function bzt(e,t){return t}function wzt(e,t){const n=e.$subflow;return function(r,s,o){const i=t.fork().parse(n),a=i.get(n.operators[0].id),l=i.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(i),a}}function xzt(){return gn}function Czt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,s;e.source?r=t.events(e.source,e.type,n):e.merge&&(s=e.merge.map(o=>t.get(o)),r=s[0].merge.apply(s[0],s.slice(1))),e.between&&(s=e.between.map(o=>t.get(o)),r=r.between(s[0],s[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&t1("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Szt(e){var t=this,n=qQ(n=e.source)?n.$ref:n,r=t.get(n),s=null,o=e.update,i=void 0;r||t1("Source not defined: "+e.source),s=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(i=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,s,o,i)}const $zt={skip:!0};function kzt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const i=t.signals[o];e.signals(o,i)&&(r[o]=i.value)})}if(e.data){var s=n.data={};Object.keys(t.data).forEach(o=>{const i=t.data[o];e.data(o,i)&&(s[o]=i.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function Ezt(e){var t=this,n=t.dataflow,r=e.data,s=e.signals;Object.keys(s||{}).forEach(o=>{n.update(t.signals[o],s[o],$zt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(G8t).insert(r[o]))}),(e.subcontext||[]).forEach((o,i)=>{const a=t.subcontext[i];a&&a.setState(o)})}function rOe(e,t,n,r){return new sOe(e,t,n,r)}function sOe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||uzt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Ofe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}sOe.prototype=Ofe.prototype={fork(){const e=new Ofe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,s=e.value;if(n.set(e.id,t),azt(e.type)&&s&&(s.$ingest?r.ingest(t,s.$ingest,s.$format):s.$request?r.preload(t,s.$request,s.$format):r.pulse(t,r.changeset().insert(s))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const i=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>i[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[GQ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,s){this.dataflow.on(t,n,r,s,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:rzt,parseOperator:czt,parseOperatorParameters:fzt,parseParameters:dzt,parseStream:Czt,parseUpdate:Szt,getState:kzt,setState:Ezt};function _zt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),oOe(t,e.description()))}function oOe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function Tzt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const P9="default";function Azt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:P9,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const s=t.value,o=s?ys(s)?s:s.user:P9,i=r.item&&r.item.cursor||null;return s&&o===s.user&&i==s.item?s:{user:o,item:i}}),e.add(null,function(n){let r=n.cursor,s=this.value;return ys(r)||(s=r.item,r=r.user),fj(e,r&&r!==P9?r:s||r),s},{cursor:t})}function fj(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function xF(e,t){var n=e._runtime.data;return Pn(n,t)||gt("Unrecognized data set: "+t),n[t]}function Izt(e,t){return arguments.length<2?xF(this,e).values.value:KB.call(this,e,Cy().remove(aC).insert(t))}function KB(e,t){K$e(t)||gt("Second argument to changes must be a changeset.");const n=xF(this,e);return n.modified=!0,this.pulse(n.input,t)}function Nzt(e,t){return KB.call(this,e,Cy().insert(t))}function Dzt(e,t){return KB.call(this,e,Cy().remove(t))}function iOe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function aOe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function YB(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Ozt(e){var t=YB(e),n=iOe(e),r=aOe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(s=>{try{s(n,r)}catch(o){e.error(o)}})}function Rzt(e,t,n){var r=e._renderer,s=r&&r.canvas(),o,i,a;return s&&(a=YB(e),i=t.changedTouches?t.changedTouches[0]:t,o=_B(i,s),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=Fzt(e,n,o),t}function Fzt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function s(i){var a=r,l;if(i){for(l=t;l;l=l.mark.group)if(l.mark.name===i){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(i){if(!i)return n;ys(i)&&(i=s(i));const a=n.slice();for(;i;)a[0]-=i.x||0,a[1]-=i.y||0,i=i.mark&&i.mark.group;return a}return{view:Pu(e),item:Pu(t||{}),group:s,xy:o,x:i=>o(i)[0],y:i=>o(i)[1]}}const Rfe="view",Mzt="timer",Pzt="window",Lzt={trap:!1};function Bzt(e){const t=sr({defaults:{}},e),n=(r,s)=>{s.forEach(o=>{jn(r[o])&&(r[o]=ap(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function lOe(e,t,n,r){e._eventListeners.push({type:n,sources:Mn(t),handler:r})}function zzt(e,t){var n=e._eventConfig.defaults,r=n.prevent,s=n.allow;return r===!1||s===!0?!1:r===!0||s===!1?!0:r?r[t]:s?!s[t]:e.preventDefault()}function VN(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||tr(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function Vzt(e,t,n){var r=this,s=new yL(n),o=function(u,c){r.runAsync(null,()=>{e===Rfe&&zzt(r,t)&&u.preventDefault(),s.receive(Rzt(r,u,c))})},i;if(e===Mzt)VN(r,"timer",t)&&r.timer(o,t);else if(e===Rfe)VN(r,"view",t)&&r.addEventListener(t,o,Lzt);else if(e===Pzt?VN(r,"window",t)&&typeof window<"u"&&(i=[window]):typeof document<"u"&&VN(r,"selector",t)&&(i=document.querySelectorAll(e)),!i)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=i.length;a<l;++a)i[a].addEventListener(t,o);lOe(r,i,t,o)}return s}function Ffe(e){return e.item}function Mfe(e){return e.item.mark.source}function Pfe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Wzt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",Ffe),Mfe,Pfe(e)),this.on(this.events("view","mouseout",Ffe),Mfe,Pfe(t)),this}function Uzt(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,s,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function Zl(e,t,n){const r=document.createElement(e);for(const s in t)r.setAttribute(s,t[s]);return n!=null&&(r.textContent=n),r}const jzt="vega-bind",Hzt="vega-bind-name",qzt="vega-bind-radio";function Gzt(e,t,n){if(!t)return;const r=n.param;let s=n.state;return s||(s=n.state={elements:null,active:!1,set:null,update:i=>{i!=e.signal(r.signal)&&e.runAsync(null,()=>{s.source=!0,e.signal(r.signal,i)})}},r.debounce&&(s.update=t$e(r.debounce,s.update))),(r.input==null&&r.element?Kzt:Xzt)(s,t,r,e),s.active||(e.on(e._signals[r.signal],null,()=>{s.source?s.source=!1:s.set(e.signal(r.signal))}),s.active=!0),s}function Kzt(e,t,n,r){const s=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(s,o),lOe(r,t,s,o),e.set=i=>{t.value=i,t.dispatchEvent(Yzt(s))}}function Yzt(e){return typeof Event<"u"?new Event(e):{type:e}}function Xzt(e,t,n,r){const s=r.signal(n.signal),o=Zl("div",{class:jzt}),i=n.input==="radio"?o:o.appendChild(Zl("label"));i.appendChild(Zl("span",{class:Hzt},n.name||n.signal)),t.appendChild(o);let a=Zzt;switch(n.input){case"checkbox":a=Jzt;break;case"select":a=Qzt;break;case"radio":a=e9t;break;case"range":a=t9t;break}a(e,i,n,s)}function Zzt(e,t,n,r){const s=Zl("input");for(const o in n)o!=="signal"&&o!=="element"&&s.setAttribute(o==="input"?"type":o,n[o]);s.setAttribute("name",n.signal),s.value=r,t.appendChild(s),s.addEventListener("input",()=>e.update(s.value)),e.elements=[s],e.set=o=>s.value=o}function Jzt(e,t,n,r){const s={type:"checkbox",name:n.signal};r&&(s.checked=!0);const o=Zl("input",s);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=i=>o.checked=!!i||null}function Qzt(e,t,n,r){const s=Zl("select",{name:n.signal}),o=n.labels||[];n.options.forEach((i,a)=>{const l={value:i};CF(i,r)&&(l.selected=!0),s.appendChild(Zl("option",l,(o[a]||i)+""))}),t.appendChild(s),s.addEventListener("change",()=>{e.update(n.options[s.selectedIndex])}),e.elements=[s],e.set=i=>{for(let a=0,l=n.options.length;a<l;++a)if(CF(n.options[a],i)){s.selectedIndex=a;return}}}function e9t(e,t,n,r){const s=Zl("span",{class:qzt}),o=n.labels||[];t.appendChild(s),e.elements=n.options.map((i,a)=>{const l={type:"radio",name:n.signal,value:i};CF(i,r)&&(l.checked=!0);const u=Zl("input",l);u.addEventListener("change",()=>e.update(i));const c=Zl("label",{},(o[a]||i)+"");return c.prepend(u),s.appendChild(c),u}),e.set=i=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)CF(a[u].value,i)&&(a[u].checked=!0)}}function t9t(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const s=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,s,+r)||0,i=n.step||_m(o,s,100),a=Zl("input",{type:"range",name:n.signal,min:o,max:s,step:i});a.value=r;const l=Zl("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function CF(e,t){return e===t||e+""==t+""}function uOe(e,t,n,r,s,o){return t=t||new r(e.loader()),t.initialize(n,iOe(e),aOe(e),YB(e),s,o).background(e.background())}function KQ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function n9t(e,t,n,r){const s=new r(e.loader(),KQ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,YB(e),e);return t&&t.handlers().forEach(o=>{s.on(o.type,o.handler)}),s}function r9t(e,t){const n=this,r=n._renderType,s=n._eventConfig.bind,o=TB(r);e=n._el=e?L9(n,e,!0):null,_zt(n),o||n.error("Unrecognized renderer type: "+r);const i=o.handler||FA,a=e?o.renderer:o.headless;return n._renderer=a?uOe(n,n._renderer,e,a):null,n._handler=n9t(n,n._handler,e,i),n._redraw=!0,e&&s!=="none"&&(t=t?n._elBind=L9(n,t,!0):e.appendChild(Zl("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&s!=="container"&&(l.element=L9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{Gzt(n,l.element||t,l)})),n}function L9(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.innerHTML=""}catch(r){t=null,e.error(r)}return t}const RS=e=>+e||0,s9t=e=>({top:e,bottom:e,left:e,right:e});function Lfe(e){return tr(e)?{top:RS(e.top),bottom:RS(e.bottom),left:RS(e.left),right:RS(e.right)}:s9t(RS(e))}async function YQ(e,t,n,r){const s=TB(t),o=s&&s.headless;return o||gt("Unrecognized renderer type: "+t),await e.runAsync(),uOe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function o9t(e,t){e!==Bg.Canvas&&e!==Bg.SVG&&e!==Bg.PNG&&gt("Unrecognized image type: "+e);const n=await YQ(this,e,t);return e===Bg.SVG?i9t(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function i9t(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function a9t(e,t){return(await YQ(this,Bg.Canvas,e,t)).canvas()}async function l9t(e){return(await YQ(this,Bg.SVG,e)).svg()}function u9t(e,t,n){return rOe(e,Hw,OE,n).parse(t)}function c9t(e){var t=this._runtime.scales;return Pn(t,e)||gt("Unrecognized scale or projection: "+e),t[e].value}var cOe="width",fOe="height",XQ="padding",Bfe={skip:!0};function dOe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===XQ?r.left+r.right:0)}function hOe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===XQ?r.top+r.bottom:0)}function f9t(e){var t=e._signals,n=t[cOe],r=t[fOe],s=t[XQ];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=dOe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=hOe(e,a.size),o()},{size:r});const i=e.add(null,o,{pad:s});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,i.rank=s.rank+1}function d9t(e,t,n,r,s,o){this.runAfter(i=>{let a=0;i._autosize=0,i.width()!==n&&(a=1,i.signal(cOe,n,Bfe),i._resizeWidth.skip(!0)),i.height()!==r&&(a=1,i.signal(fOe,r,Bfe),i._resizeHeight.skip(!0)),i._viewWidth!==e&&(i._resize=1,i._viewWidth=e),i._viewHeight!==t&&(i._resize=1,i._viewHeight=t),(i._origin[0]!==s[0]||i._origin[1]!==s[1])&&(i._resize=1,i._origin=s),a&&i.run("enter"),o&&i.runAfter(l=>l.resize())},!1,1)}function h9t(e){return this._runtime.getState(e||{data:p9t,signals:g9t,recurse:!0})}function p9t(e,t){return t.modified&&jn(t.input.value)&&e.indexOf("_:vega:_")}function g9t(e,t){return!(e==="parent"||t instanceof Hw.proxy)}function m9t(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function v9t(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(WDt(n,t))}function y9t(e,t,n,r){const s=e.element();s&&s.setAttribute("title",b9t(r))}function b9t(e){return e==null?"":jn(e)?pOe(e):tr(e)&&!lL(e)?w9t(e):e+""}function w9t(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(jn(n)?pOe(n):gOe(n))}).join(`
`)}function pOe(e){return"["+e.map(gOe).join(", ")+"]"}function gOe(e){return jn(e)?"[]":tr(e)&&!lL(e)?"{}":e}function mOe(e,t){const n=this;if(t=t||{},dw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=sr({},e.locale,t.locale);n.locale(INe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Bg.Canvas,n._scenegraph=new LJ;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||y9t,n._redraw=!0,n._handler=new FA().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Bzt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const s=u9t(n,e,t.expr);n._runtime=s,n._signals=s.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:sr({},o)})),s.root&&s.root.set(r),r.source=s.data.root.input,n.pulse(s.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=dOe(n,n._width),n._viewHeight=hOe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,f9t(n),Tzt(n),Azt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function WN(e,t){return Pn(e._signals,t)?e._signals[t]:gt("Unrecognized signal name: "+_n(t))}function vOe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function zfe(e,t,n,r){let s=vOe(n,r);return s||(s=KQ(e,()=>r(t,n.value)),s.handler=r,e.on(n,null,s)),e}function Vfe(e,t,n){const r=vOe(t,n);return r&&t._targets.remove(r),e}Nt(mOe,dw,{async evaluate(e,t,n){if(await dw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Ozt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&a3(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&oOe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=WN(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Lfe(e)):Lfe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(TB(e)||gt("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(dw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(WN(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:d9t,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=KQ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,s,o;--r>=0;)if(o=n[r].type,s=n[r].handler,e===o&&(t===s||t===s.raw)){this._handler.off(o,s);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return zfe(this,e,WN(this,e),t)},removeSignalListener(e,t){return Vfe(this,WN(this,e),t)},addDataListener(e,t){return zfe(this,e,xF(this,e).values,t)},removeDataListener(e,t){return Vfe(this,xF(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=fj(this,null);this._globalCursor=!!e,t&&fj(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:v9t,events:Vzt,finalize:Uzt,hover:Wzt,data:Izt,change:KB,insert:Nzt,remove:Dzt,scale:c9t,initialize:r9t,toImageURL:o9t,toCanvas:a9t,toSVG:l9t,getState:h9t,setState:m9t});const SF="[",$F="]",yOe="{",bOe="}",x9t=":",wOe=",",C9t="@",S9t=">",$9t=/[[\]{}]/,k9t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let xOe,COe;function E9t(e,t,n){return xOe=t,COe=k9t,SOe(e.trim()).map(dj)}function _9t(e){return COe[e]}function rk(e,t,n,r,s){const o=e.length;let i=0,a;for(;t<o;++t){if(a=e[t],!i&&a===n)return t;s&&s.indexOf(a)>=0?--i:r&&r.indexOf(a)>=0&&++i}return t}function SOe(e){const t=[],n=e.length;let r=0,s=0;for(;s<n;)s=rk(e,s,wOe,SF+yOe,$F+bOe),t.push(e.substring(r,s).trim()),r=++s;if(t.length===0)throw"Empty event selector: "+e;return t}function dj(e){return e[0]==="["?T9t(e):A9t(e)}function T9t(e){const t=e.length;let n=1,r;if(n=rk(e,n,$F,SF,$F),n===t)throw"Empty between selector: "+e;if(r=SOe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==S9t)throw"Expected '>' after between selector: "+e;r=r.map(dj);const s=dj(e.slice(1).trim());return s.between?{between:r,stream:s}:(s.between=r,s)}function A9t(e){const t={source:xOe},n=[];let r=[0,0],s=0,o=0,i=e.length,a=0,l,u;if(e[i-1]===bOe){if(a=e.lastIndexOf(yOe),a>=0){try{r=I9t(e.substring(a+1,i-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),i=e.length}else throw"Unmatched right brace: "+e;a=0}if(!i)throw e;if(e[0]===C9t&&(s=++a),l=rk(e,a,x9t),l<i&&(n.push(e.substring(o,l).trim()),o=a=++l),a=rk(e,a,SF),a===i)n.push(e.substring(o,i).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===i)throw"Unmatched left bracket: "+e;for(;a<i;){if(a=rk(e,a,$F),a===i)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<i-1&&e[++a]!==SF)throw"Expected left bracket: "+e;o=++a}if(!(i=n.length)||$9t.test(n[i-1]))throw"Invalid event selector: "+e;return i>1?(t.type=n[1],s?t.markname=n[0].slice(1):_9t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function I9t(e){const t=e.split(wOe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function N9t(e){return tr(e)?e:{type:e||"pad"}}const FS=e=>+e||0,D9t=e=>({top:e,bottom:e,left:e,right:e});function O9t(e){return tr(e)?e.signal?e:{top:FS(e.top),bottom:FS(e.bottom),left:FS(e.left),right:FS(e.right)}:D9t(FS(e))}const Wo=e=>tr(e)&&!jn(e)?sr({},e):{value:e};function Wfe(e,t,n,r){return n!=null?(tr(n)&&!jn(n)||jn(n)&&n.length&&tr(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function bi(e,t,n){for(const r in t)Wfe(e,r,t[r]);for(const r in n)Wfe(e,r,n[r],"update")}function IC(e,t,n){for(const r in t)n&&Pn(n,r)||(e[r]=sr(e[r]||{},t[r]));return e}function zb(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const ZQ="mark",JQ="frame",QQ="scope",R9t="axis",F9t="axis-domain",M9t="axis-grid",P9t="axis-label",L9t="axis-tick",B9t="axis-title",z9t="legend",V9t="legend-band",W9t="legend-entry",U9t="legend-gradient",$Oe="legend-label",j9t="legend-symbol",H9t="legend-title",q9t="title",G9t="title-text",K9t="title-subtitle";function Y9t(e,t,n,r,s){const o={},i={};let a,l,u,c;l="lineBreak",t==="text"&&s[l]!=null&&!zb(l,e)&&B9(o,l,s[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===JQ?s.group:n===ZQ?sr({},s.mark,s[t]):null;for(l in c)u=zb(l,e)||(l==="fill"||l==="stroke")&&(zb("fill",e)||zb("stroke",e)),u||B9(o,l,c[l]);Mn(r).forEach(f=>{const d=s.style&&s.style[f];for(const h in d)zb(h,e)||B9(o,h,d[h])}),e=sr({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:i[l]=c;return e.enter=sr(i,e.enter),a&&(e.update=sr(a,e.update)),e}function B9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const kOe=e=>ys(e)?_n(e):e.signal?`(${e.signal})`:EOe(e);function XB(e){if(e.gradient!=null)return Z9t(e);let t=e.signal?`(${e.signal})`:e.color?X9t(e.color):e.field!=null?EOe(e.field):e.value!==void 0?_n(e.value):void 0;return e.scale!=null&&(t=J9t(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${A3(e.exponent)})`),e.mult!=null&&(t+=`*${A3(e.mult)}`),e.offset!=null&&(t+=`+${A3(e.offset)}`),e.round&&(t=`round(${t})`),t}const UN=(e,t,n,r)=>`(${e}(${[t,n,r].map(XB).join(",")})+'')`;function X9t(e){return e.c?UN("hcl",e.h,e.c,e.l):e.h||e.s?UN("hsl",e.h,e.s,e.l):e.l||e.a?UN("lab",e.l,e.a,e.b):e.r||e.g||e.b?UN("rgb",e.r,e.g,e.b):null}function Z9t(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:_n(n));for(;t.length&&Xr(t)==null;)t.pop();return t.unshift(kOe(e.gradient)),`gradient(${t.join(",")})`}function A3(e){return tr(e)?"("+XB(e)+")":e}function EOe(e){return _Oe(tr(e)?e:{datum:e})}function _Oe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):gt("Invalid field reference: "+_n(e));return e.signal||(r=ys(r)?nL(r).map(_n).join("]["):_Oe(r)),t+"["+r+"]"}function J9t(e,t){const n=kOe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+A3(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function Q9t(e){let t="";return e.forEach(n=>{const r=XB(n);t+=n.test?`(${n.test})?${r}:`:r}),Xr(t)===":"&&(t+="null"),t}function TOe(e,t,n,r,s,o){const i={};o=o||{},o.encoders={$encode:i},e=Y9t(e,t,n,r,s.config);for(const a in e)i[a]=e7t(e[a],t,o,s);return o}function e7t(e,t,n,r){const s={},o={};for(const i in e)e[i]!=null&&(s[i]=n7t(t7t(e[i]),r,n,o));return{$expr:{marktype:t,channels:s},$fields:Object.keys(o),$output:Object.keys(e)}}function t7t(e){return jn(e)?Q9t(e):XB(e)}function n7t(e,t,n,r){const s=bd(e,t);return s.$fields.forEach(o=>r[o]=1),sr(n,s.$params),s.$expr}const r7t="outer",s7t=["value","update","init","react","bind"];function Ufe(e,t){gt(e+' for "outer" push: '+_n(t))}function AOe(e,t){const n=e.name;if(e.push===r7t)t.signals[n]||Ufe("No prior signal definition",n),s7t.forEach(r=>{e[r]!==void 0&&Ufe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function hj(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function ZB(e,t,n,r){return new hj(e,t,n,r)}function kF(e,t){return ZB("operator",e,t)}function pn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function FE(e,t){return t?{$field:e,$name:t}:{$field:e}}const pj=FE("key");function jfe(e,t){return{$compare:e,$order:t}}function o7t(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const i7t="ascending",a7t="descending";function l7t(e){return tr(e)?(e.order===a7t?"-":"+")+JB(e.op,e.field):""}function JB(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const eee="scope",gj="view";function Co(e){return e&&e.signal}function u7t(e){return e&&e.expr}function I3(e){if(Co(e))return!0;if(tr(e)){for(const t in e)if(I3(e[t]))return!0}return!1}function uc(e,t){return e??t}function n1(e){return e&&e.signal||e}const Hfe="timer";function ME(e,t){return(e.merge?f7t:e.stream?d7t:e.type?h7t:gt("Invalid stream specification: "+_n(e)))(e,t)}function c7t(e){return e===eee?gj:e||gj}function f7t(e,t){const n=e.merge.map(s=>ME(s,t)),r=tee({merge:n},e,t);return t.addStream(r).id}function d7t(e,t){const n=ME(e.stream,t),r=tee({stream:n},e,t);return t.addStream(r).id}function h7t(e,t){let n;e.type===Hfe?(n=t.event(Hfe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(c7t(e.source),e.type);const r=tee({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function tee(e,t,n){let r=t.between;return r&&(r.length!==2&&gt('Stream "between" parameter must have 2 entries: '+_n(t)),e.between=[ME(r[0],n),ME(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(p7t(t.marktype,t.markname,t.markrole)),t.source===eee&&r.push("inScope(event.item)"),r.length&&(e.filter=bd("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function p7t(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const g7t={code:"_.$value",ast:{type:"Identifier",value:"value"}};function m7t(e,t,n){const r=e.encode,s={target:n};let o=e.events,i=e.update,a=[];o||gt("Signal update missing events specification."),ys(o)&&(o=E9t(o,t.isSubscope()?eee:gj)),o=Mn(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[y7t(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(i&&gt("Signal encode and update are mutually exclusive."),i="encode(item(),"+_n(r)+")"),s.update=ys(i)?bd(i,t):i.expr!=null?bd(i.expr,t):i.value!=null?i.value:i.signal!=null?{$expr:g7t,$params:{$value:t.signalRef(i.signal)}}:gt("Invalid signal update specification."),e.force&&(s.options={force:!0}),a.forEach(l=>t.addUpdate(sr(v7t(l,t),s)))}function v7t(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):ME(e,t)}}function y7t(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function b7t(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?gt("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=bd(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(s=>m7t(s,t,n.id))}const Zr=e=>(t,n,r)=>ZB(e,n,t||void 0,r),IOe=Zr("aggregate"),w7t=Zr("axisticks"),NOe=Zr("bound"),rf=Zr("collect"),qfe=Zr("compare"),x7t=Zr("datajoin"),DOe=Zr("encode"),C7t=Zr("expression"),S7t=Zr("facet"),$7t=Zr("field"),k7t=Zr("key"),E7t=Zr("legendentries"),_7t=Zr("load"),T7t=Zr("mark"),A7t=Zr("multiextent"),I7t=Zr("multivalues"),N7t=Zr("overlap"),D7t=Zr("params"),OOe=Zr("prefacet"),O7t=Zr("projection"),R7t=Zr("proxy"),F7t=Zr("relay"),ROe=Zr("render"),M7t=Zr("scale"),Vy=Zr("sieve"),P7t=Zr("sortitems"),FOe=Zr("viewlayout"),L7t=Zr("values");let B7t=0;const MOe={min:"min",max:"max",count:"sum"};function z7t(e,t){const n=e.type||"linear";mAe(n)||gt("Unrecognized scale type: "+_n(n)),t.addScale(e.name,{type:n,domain:void 0})}function V7t(e,t){const n=t.getScale(e.name).params;let r;n.domain=POe(e.domain,e,t),e.range!=null&&(n.range=BOe(e,t,n)),e.interpolate!=null&&Z7t(e.interpolate,n),e.nice!=null&&(n.nice=X7t(e.nice)),e.bins!=null&&(n.bins=Y7t(e.bins,t));for(r in e)Pn(n,r)||r==="name"||(n[r]=Eu(e[r],t))}function Eu(e,t){return tr(e)?e.signal?t.signalRef(e.signal):gt("Unsupported object: "+_n(e)):e}function N3(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Eu(n,t))}function QB(e){gt("Can not find data set: "+_n(e))}function POe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&gt("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(jn(e)?W7t:e.fields?j7t:U7t)(e,t,n)}function W7t(e,t,n){return e.map(r=>Eu(r,n))}function U7t(e,t,n){const r=n.getData(e.data);return r||QB(e.data),ux(t.type)?r.valuesRef(n,e.field,LOe(e.sort,!1)):bAe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function j7t(e,t,n){const r=e.data,s=e.fields.reduce((o,i)=>(i=ys(i)?{data:r,field:i}:jn(i)||i.signal?H7t(i,n):i,o.push(i),o),[]);return(ux(t.type)?q7t:bAe(t.type)?G7t:K7t)(e,n,s)}function H7t(e,t){const n="_:vega:_"+B7t++,r=rf({});if(jn(e))r.value={$ingest:e};else if(e.signal){const s="setdata("+_n(n)+","+e.signal+")";r.params.input=t.signalRef(s)}return t.addDataPipeline(n,[r,Vy({})]),{data:n,field:"data"}}function q7t(e,t,n){const r=LOe(e.sort,!0);let s,o;const i=n.map(u=>{const c=t.getData(u.data);return c||QB(u.data),c.countsRef(t,u.field,r)}),a={groupby:pj,pulse:i};r&&(s=r.op||"count",o=r.field?JB(s,r.field):"count",a.ops=[MOe[s]],a.fields=[t.fieldRef(o)],a.as=[o]),s=t.add(IOe(a));const l=t.add(rf({pulse:pn(s)}));return o=t.add(L7t({field:pj,sort:t.sortRef(r),pulse:pn(l)})),pn(o)}function LOe(e,t){return e&&(!e.field&&!e.op?tr(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?gt("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!MOe[e.op]&&gt("Multiple domain scales can not be sorted using "+e.op)),e}function G7t(e,t,n){const r=n.map(s=>{const o=t.getData(s.data);return o||QB(s.data),o.domainRef(t,s.field)});return pn(t.add(I7t({values:r})))}function K7t(e,t,n){const r=n.map(s=>{const o=t.getData(s.data);return o||QB(s.data),o.extentRef(t,s.field)});return pn(t.add(A7t({extents:r})))}function Y7t(e,t){return e.signal||jn(e)?N3(e,t):t.objectProperty(e)}function X7t(e){return tr(e)?{interval:Eu(e.interval),step:Eu(e.step)}:Eu(e)}function Z7t(e,t){t.interpolate=Eu(e.type||e),e.gamma!=null&&(t.interpolateGamma=Eu(e.gamma))}function BOe(e,t,n){const r=t.config.range;let s=e.range;if(s.signal)return t.signalRef(s.signal);if(ys(s)){if(r&&Pn(r,s))return e=sr({},e,{range:r[s]}),BOe(e,t,n);s==="width"?s=[0,{signal:"width"}]:s==="height"?s=ux(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:gt("Unrecognized scale range value: "+_n(s))}else if(s.scheme){n.scheme=jn(s.scheme)?N3(s.scheme,t):Eu(s.scheme,t),s.extent&&(n.schemeExtent=N3(s.extent,t)),s.count&&(n.schemeCount=Eu(s.count,t));return}else if(s.step){n.rangeStep=Eu(s.step,t);return}else{if(ux(e.type)&&!jn(s))return POe(s,e,t);jn(s)||gt("Unsupported range type: "+_n(s))}return s.map(o=>(jn(o)?N3:Eu)(o,t))}function J7t(e,t){const n=t.config.projection||{},r={};for(const s in e)s!=="name"&&(r[s]=mj(e[s],s,t));for(const s in n)r[s]==null&&(r[s]=mj(n[s],s,t));t.addProjection(e.name,r)}function mj(e,t,n){return jn(e)?e.map(r=>mj(r,t,n)):tr(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:gt("Unsupported parameter object: "+_n(e)):e}const sf="top",NC="left",DC="right",Vm="bottom",zOe="center",Q7t="vertical",eVt="start",tVt="middle",nVt="end",vj="index",nee="label",rVt="offset",Cx="perc",sVt="perc2",Du="value",WA="guide-label",ree="guide-title",oVt="group-title",iVt="group-subtitle",Gfe="symbol",D3="gradient",yj="discrete",bj="size",aVt="shape",lVt="fill",uVt="stroke",cVt="strokeWidth",fVt="strokeDash",dVt="opacity",see=[bj,aVt,lVt,uVt,cVt,fVt,dVt],UA={name:1,style:1,interactive:1},pr={value:0},Ou={value:1},e6="group",VOe="rect",oee="rule",hVt="symbol",Wy="text";function PE(e){return e.type=e6,e.interactive=e.interactive||!1,e}function Dl(e,t){const n=(r,s)=>uc(e[r],uc(t[r],s));return n.isVertical=r=>Q7t===uc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>uc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>uc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>uc(e.columns,uc(t.columns,+n.isVertical(!0))),n}function WOe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function pVt(e,t,n){const r=t.config.style[n];return r&&r[e]}function t6(e,t,n){return`item.anchor === '${eVt}' ? ${e} : item.anchor === '${nVt}' ? ${t} : ${n}`}const iee=t6(_n(NC),_n(DC),_n(zOe));function gVt(e){const t=e("tickBand");let n=e("tickOffset"),r,s;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},s={signal:`(${t.signal}) === 'extent'`},tr(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,s=!0,n=0):(r=.5,s=!1):(r=e("bandPosition"),s=e("tickExtra")),{extra:s,band:r,offset:n}}function UOe(e,t){return t?e?tr(e)?Object.assign({},e,{offset:UOe(e.offset,t)}):{value:e,offset:t}:t:e}function su(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=IC(e.encode,t,UA)):e.interactive=!1,e}function mVt(e,t,n,r){const s=Dl(e,n),o=s.isVertical(),i=s.gradientThickness(),a=s.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=i,d=a):(u=[0,0],c=[1,0],f=a,d=i);const h={enter:l={opacity:pr,x:pr,y:pr,width:Wo(f),height:Wo(d)},update:sr({},l,{opacity:Ou,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:pr}};return bi(h,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),su({type:VOe,role:U9t,encode:h},r)}function vVt(e,t,n,r,s){const o=Dl(e,n),i=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";i?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:pr,fill:{scale:t,field:Du}};p[u]={signal:h+"datum."+Cx,mult:l},p[c]=pr,p[f]={signal:h+"datum."+sVt,mult:l},p[d]=Wo(a);const g={enter:p,update:sr({},p,{opacity:Ou}),exit:{opacity:pr}};return bi(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),su({type:VOe,role:V9t,key:Du,from:s,encode:g},r)}const yVt=`datum.${Cx}<=0?"${NC}":datum.${Cx}>=1?"${DC}":"${zOe}"`,bVt=`datum.${Cx}<=0?"${Vm}":datum.${Cx}>=1?"${sf}":"${tVt}"`;function Kfe(e,t,n,r){const s=Dl(e,t),o=s.isVertical(),i=Wo(s.gradientThickness()),a=s.gradientLength();let l=s("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:pr},update:c={opacity:Ou,text:{field:nee}},exit:{opacity:pr}};return bi(p,{fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:uc(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:bVt},f="y",d="x",h="1-"):(u.align=c.align={signal:yVt},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Cx,mult:a},u[d]=c[d]=i,i.offset=uc(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:s("labelSeparation"),method:l,order:"datum."+vj}:void 0,su({type:Wy,role:$Oe,style:WA,key:Du,from:r,encode:p,overlap:l},n)}function wVt(e,t,n,r,s){const o=Dl(e,t),i=n.entries,a=!!(i&&i.interactive),l=i?i.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${s}) ? datum.${rVt} : datum.${bj}`,h=u?Wo(u):{field:bj},p=`datum.${vj}`,g=`max(1, ${s})`;let m,v,y,w,b;h.mult=.5,m={enter:v={opacity:pr,x:{signal:d,mult:.5,offset:c},y:h},update:y={opacity:Ou,x:v.x,y:v.y},exit:{opacity:pr}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),bi(m,{fill:o("symbolFillColor",C),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),see.forEach(_=>{e[_]&&(y[_]=v[_]={scale:e[_],field:Du})});const $=su({type:hVt,role:j9t,key:Du,from:f,clip:u?!0:void 0,encode:m},n.symbols),k=Wo(c);k.offset=o("labelOffset"),m={enter:v={opacity:pr,x:{signal:d,offset:k},y:h},update:y={opacity:Ou,text:{field:nee},x:v.x,y:v.y},exit:{opacity:pr}},bi(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const T=su({type:Wy,role:$Oe,style:WA,key:Du,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:pr,height:u?Wo(u):pr,opacity:pr},exit:{opacity:pr},update:y={opacity:Ou,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(w=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${w}`,y.column.signal=`floor(${p} / ${w})`,b={field:["row",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,b={field:p}),y.column.signal=`(${s})?${y.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:vj}},PE({role:QQ,from:r,encode:IC(m,i,UA),marks:[$,T],name:l,interactive:a,sort:b})}function xVt(e,t){const n=Dl(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const aee='item.orient === "left"',lee='item.orient === "right"',n6=`(${aee} || ${lee})`,CVt=`datum.vgrad && ${n6}`,SVt=t6('"top"','"bottom"','"middle"'),$Vt=t6('"right"','"left"','"center"'),kVt=`datum.vgrad && ${lee} ? (${$Vt}) : (${n6} && !(datum.vgrad && ${aee})) ? "left" : ${iee}`,EVt=`item._anchor || (${n6} ? "middle" : "start")`,_Vt=`${CVt} ? (${aee} ? -90 : 90) : 0`,TVt=`${n6} ? (datum.vgrad ? (${lee} ? "bottom" : "top") : ${SVt}) : "top"`;function AVt(e,t,n,r){const s=Dl(e,t),o={enter:{opacity:pr},update:{opacity:Ou,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pr}};return bi(o,{orient:s("titleOrient"),_anchor:s("titleAnchor"),anchor:{signal:EVt},angle:{signal:_Vt},align:{signal:kVt},baseline:{signal:TVt},text:e.title,fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),baseline:s("titleBaseline")}),su({type:Wy,role:H9t,style:ree,from:r,encode:o},n)}function IVt(e,t){let n;return tr(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Yfe(e.path)+")":e.sphere&&(n="geoShape("+Yfe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Yfe(e){return tr(e)&&e.signal?e.signal:_n(e)}function jOe(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===e6?QQ:t||ZQ}function NVt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||jOe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function DVt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function uee(e,t){const n=Z$e(e.type);n||gt("Unrecognized transform type: "+_n(e.type));const r=ZB(n.type.toLowerCase(),null,HOe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function HOe(e,t,n){const r={},s=e.params.length;for(let o=0;o<s;++o){const i=e.params[o];r[i.name]=OVt(i,t,n)}return r}function OVt(e,t,n){const r=e.type,s=t[e.name];if(r==="index")return RVt(e,t,n);if(s===void 0){e.required&&gt("Missing required "+_n(t.type)+" parameter: "+_n(e.name));return}else{if(r==="param")return FVt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Co(s)?s.map(o=>Xfe(e,o,n)):Xfe(e,s,n)}function Xfe(e,t,n){const r=e.type;if(Co(t))return Jfe(r)?gt("Expression references can not be signals."):z9(r)?n.fieldRef(t):Qfe(r)?n.compareRef(t):n.signalRef(t.signal);{const s=e.expr||z9(r);return s&&MVt(t)?n.exprRef(t.expr,t.as):s&&PVt(t)?FE(t.field,t.as):Jfe(r)?bd(t,n):LVt(r)?pn(n.getData(t).values):z9(r)?FE(t):Qfe(r)?n.compareRef(t):t}}function RVt(e,t,n){return ys(t.from)||gt('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function FVt(e,t,n){const r=t[e.name];return e.array?(jn(r)||gt("Expected an array of sub-parameters. Instead: "+_n(r)),r.map(s=>Zfe(e,s,n))):Zfe(e,r,n)}function Zfe(e,t,n){const r=e.params.length;let s;for(let i=0;i<r;++i){s=e.params[i];for(const a in s.key)if(s.key[a]!==t[a]){s=null;break}if(s)break}s||gt("Unsupported parameter: "+_n(t));const o=sr(HOe(s,t,n),s.key);return pn(n.add(D7t(o)))}const MVt=e=>e&&e.expr,PVt=e=>e&&e.field,LVt=e=>e==="data",Jfe=e=>e==="expr",z9=e=>e==="field",Qfe=e=>e==="compare";function BVt(e,t,n){let r,s,o,i,a;return e?(r=e.facet)&&(t||gt("Only group marks can be faceted."),r.field!=null?i=a=O3(r,n):(e.data?a=pn(n.getData(e.data).aggregate):(o=uee(sr({type:"aggregate",groupby:Mn(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=O3(r,n),i=a=pn(n.add(o))),s=n.keyRef(r.groupby,!0))):i=pn(n.add(rf(null,[{}]))),i||(i=O3(e,n)),{key:s,pulse:i,parent:a}}function O3(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:pn(t.getData(e.data).output)}function V1(e,t,n,r,s){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=s,this.index={}}V1.fromEntries=function(e,t){const n=t.length,r=t[n-1],s=t[n-2];let o=t[0],i=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=pn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(i=t[a]);return new V1(e,o,s,r,i)};function qOe(e){return ys(e)?e:null}function ede(e,t,n){const r=JB(n.op,n.field);let s;if(t.ops){for(let o=0,i=t.as.length;o<i;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((s=n.op.signal)?e.signalRef(s):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function MS(e,t,n,r,s,o,i){const a=t[n]||(t[n]={}),l=l7t(o);let u=qOe(s),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:pj,pulse:t.countsRef(e,s,o)}:{field:e.fieldRef(s),pulse:pn(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(ZB(r,void 0,d)),i&&(t.index[s]=f),c=pn(f),u!=null&&(a[u]=c)}return c}V1.prototype={countsRef(e,t,n){const r=this,s=r.counts||(r.counts={}),o=qOe(t);let i,a,l;return o!=null&&(e=r.scope,i=s[o]),i?n&&n.field&&ede(e,i.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:pn(r.output)},n&&n.field&&ede(e,l,n),a=e.add(IOe(l)),i=e.add(rf({pulse:pn(a)})),i={agg:a,ref:pn(i)},o!=null&&(s[o]=i)),i.ref},tuplesRef(){return pn(this.values)},extentRef(e,t){return MS(e,this,"extent","extent",t,!1)},domainRef(e,t){return MS(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return MS(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return MS(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return MS(e,this,"indata","tupleindex",t,!0,!0)}};function zVt(e,t,n){const r=e.from.facet,s=r.name,o=O3(r,t);let i;r.name||gt("Facet must have a name: "+_n(r)),r.data||gt("Facet must reference a data set: "+_n(r)),r.field?i=t.add(OOe({field:t.fieldRef(r.field),pulse:o})):r.groupby?i=t.add(S7t({key:t.keyRef(r.groupby),group:pn(t.proxy(n.parent)),pulse:o})):gt("Facet must specify groupby or field: "+_n(r));const a=t.fork(),l=a.add(rf()),u=a.add(Vy({pulse:pn(l)}));a.addData(s,new V1(a,l,l,u)),a.addSignal("parent",null),i.params.subflow={$subflow:a.parse(e).toRuntime()}}function VVt(e,t,n){const r=t.add(OOe({pulse:n.pulse})),s=t.fork();s.add(Vy()),s.addSignal("parent",null),r.params.subflow={$subflow:s.parse(e).toRuntime()}}function GOe(e,t,n){const r=e.remove,s=e.insert,o=e.toggle,i=e.modify,a=e.values,l=t.add(kF()),u="if("+e.trigger+',modify("'+n+'",'+[s,r,o,i,a].map(f=>f??"null").join(",")+"),0)",c=bd(u,t);l.update=c.$expr,l.params=c.$params}function r6(e,t){const n=jOe(e),r=e.type===e6,s=e.from&&e.from.facet,o=e.overlap;let i=e.layout||n===QQ||n===JQ,a,l,u,c,f,d,h;const p=n===ZQ||i||s,g=BVt(e.from,r,t);l=t.add(x7t({key:g.key||(e.key?FE(e.key):void 0),pulse:g.pulse,clean:!r}));const m=pn(l);l=u=t.add(rf({pulse:m})),l=t.add(T7t({markdef:NVt(e),interactive:DVt(e.interactive,t),clip:IVt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:pn(l)}));const v=pn(l);l=c=t.add(DOe(TOe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const $=uee(S,t),k=$.metadata;(k.generates||k.changes)&&gt("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),$.params.pulse=pn(l),t.add(l=$)}),e.sort&&(l=t.add(P7t({sort:t.compareRef(e.sort),pulse:pn(l)})));const y=pn(l);(s||i)&&(i=t.add(FOe({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),d=pn(i));const w=t.add(NOe({mark:v,pulse:d||y}));h=pn(w),r&&(p&&(a=t.operators,a.pop(),i&&a.pop()),t.pushState(y,d||h,m),s?zVt(e,t,g):p?VVt(e,t,g):t.parse(e),t.popState(),p&&(i&&a.push(i),a.push(w))),o&&(h=WVt(o,h,t));const b=t.add(ROe({pulse:h})),C=t.add(Vy({pulse:pn(b)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new V1(t,u,b,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&gt("Marks only support modify triggers."),GOe(S,t,f)}))}function WVt(e,t,n){const r=e.method,s=e.bound,o=e.separation,i={separation:Co(o)?n.signalRef(o.signal):o,method:Co(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(i.sort=n.compareRef({field:e.order})),s){const a=s.tolerance;i.boundTolerance=Co(a)?n.signalRef(a.signal):+a,i.boundScale=n.scaleRef(s.scale),i.boundOrient=s.orient}return pn(n.add(N7t(i)))}function UVt(e,t){const n=t.config.legend,r=e.encode||{},s=Dl(e,n),o=r.legend||{},i=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;see.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||gt("Missing valid scale for legend.");const p=jVt(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&s.isVertical()},m=pn(t.add(rf(null,[g]))),v={enter:{x:{value:0},y:{value:0}}},y=pn(t.add(E7t(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===D3?(h=[mVt(e,c,n,r.gradient),Kfe(e,n,r.labels,y)],d.count=d.count||t.signalRef(`max(2,2*floor((${n1(s.gradientLength())})/100))`)):p===yj?h=[vVt(e,c,n,r.gradient,y),Kfe(e,n,r.labels,y)]:(f=xVt(e,n),h=[wVt(e,n,r,y,n1(f.columns))],d.size=GVt(e,t,h[0].marks)),h=[PE({role:W9t,from:m,encode:v,marks:h,layout:f,interactive:a})],g.title&&h.push(AVt(e,n,r.title,m)),r6(PE({role:z9t,from:m,encode:IC(qVt(s,e,n),o,UA),marks:h,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:i,interactive:a,style:l}),t)}function jVt(e,t){let n=e.type||Gfe;return!e.type&&HVt(e)===1&&(e.fill||e.stroke)&&(n=SZ(t)?D3:YW(t)?yj:Gfe),n!==D3?n:YW(t)?yj:D3}function HVt(e){return see.reduce((t,n)=>t+(e[n]?1:0),0)}function qVt(e,t,n){const r={enter:{},update:{}};return bi(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function GVt(e,t,n){const r=n1(tde("size",e,n)),s=n1(tde("strokeWidth",e,n)),o=n1(KVt(n[1].encode,t,WA));return bd(`max(ceil(sqrt(${r})+${s}),${o})`,t)}function tde(e,t,n){return t[e]?`scale("${t[e]}",datum)`:WOe(e,n[0].encode)}function KVt(e,t,n){return WOe("fontSize",e)||pVt("fontSize",t,n)}const YVt=`item.orient==="${NC}"?-90:item.orient==="${DC}"?90:0`;function XVt(e,t){e=ys(e)?{text:e}:e;const n=Dl(e,t.config.title),r=e.encode||{},s=r.group||{},o=s.name||void 0,i=s.interactive,a=s.style,l=[],u={},c=pn(t.add(rf(null,[u])));return l.push(QVt(e,n,ZVt(e),c)),e.subtitle&&l.push(eWt(e,n,r.subtitle,c)),r6(PE({role:q9t,from:c,encode:JVt(n,s),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:i,style:a}),t)}function ZVt(e){const t=e.encode;return t&&t.title||sr({name:e.name,interactive:e.interactive,style:e.style},t)}function JVt(e,t){const n={enter:{},update:{}};return bi(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:iee},angle:{signal:YVt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),IC(n,t,UA)}function QVt(e,t,n,r){const s={value:0},o=e.text,i={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return bi(i,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),su({type:Wy,role:G9t,style:oVt,from:r,encode:i},n)}function eWt(e,t,n,r){const s={value:0},o=e.subtitle,i={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return bi(i,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),su({type:Wy,role:K9t,style:iVt,from:r,encode:i},n)}function tWt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(uee(r,t))}),e.on&&e.on.forEach(r=>{GOe(r,t,e.name)}),t.addDataPipeline(e.name,nWt(e,t,n))}function nWt(e,t,n){const r=[];let s=null,o=!1,i=!1,a,l,u,c,f;for(e.values?Co(e.values)||I3(e.format)?(r.push(nde(t,e)),r.push(s=W0())):r.push(s=W0({$ingest:e.values,$format:e.format})):e.url?I3(e.url)||I3(e.format)?(r.push(nde(t,e)),r.push(s=W0())):r.push(s=W0({$request:e.url,$format:e.format})):e.source&&(s=a=Mn(e.source).map(d=>pn(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!s&&!f.source&&r.push(s=W0()),r.push(c),f.generates&&(i=!0),f.modifies&&!i&&(o=!0),f.source?s=c:f.changes&&(s=null);return a&&(u=a.length-1,r[0]=F7t({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,W0())),s||r.push(W0()),r.push(Vy({})),r}function W0(e){const t=rf({},e);return t.metadata={source:!0},t}function nde(e,t){return _7t({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const KOe=e=>e===Vm||e===sf,s6=(e,t,n)=>Co(e)?iWt(e.signal,t,n):e===NC||e===sf?t:n,Uo=(e,t,n)=>Co(e)?sWt(e.signal,t,n):KOe(e)?t:n,Tc=(e,t,n)=>Co(e)?oWt(e.signal,t,n):KOe(e)?n:t,YOe=(e,t,n)=>Co(e)?aWt(e.signal,t,n):e===sf?{value:t}:{value:n},rWt=(e,t,n)=>Co(e)?lWt(e.signal,t,n):e===DC?{value:t}:{value:n},sWt=(e,t,n)=>XOe(`${e} === '${sf}' || ${e} === '${Vm}'`,t,n),oWt=(e,t,n)=>XOe(`${e} !== '${sf}' && ${e} !== '${Vm}'`,t,n),iWt=(e,t,n)=>cee(`${e} === '${NC}' || ${e} === '${sf}'`,t,n),aWt=(e,t,n)=>cee(`${e} === '${sf}'`,t,n),lWt=(e,t,n)=>cee(`${e} === '${DC}'`,t,n),XOe=(e,t,n)=>(t=t!=null?Wo(t):t,n=n!=null?Wo(n):n,rde(t)&&rde(n)?(t=t?t.signal||_n(t.value):null,n=n?n.signal||_n(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[sr({test:e},t)].concat(n||[])),rde=e=>e==null||Object.keys(e).length===1,cee=(e,t,n)=>({signal:`${e} ? (${Xb(t)}) : (${Xb(n)})`}),uWt=(e,t,n,r,s)=>({signal:(r!=null?`${e} === '${NC}' ? (${Xb(r)}) : `:"")+(n!=null?`${e} === '${Vm}' ? (${Xb(n)}) : `:"")+(s!=null?`${e} === '${DC}' ? (${Xb(s)}) : `:"")+(t!=null?`${e} === '${sf}' ? (${Xb(t)}) : `:"")+"(null)"}),Xb=e=>Co(e)?e.signal:e==null?null:_n(e),cWt=(e,t)=>t===0?0:Co(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},vw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Cb(e,t,n,r){let s;if(t&&Pn(t,e))return t[e];if(Pn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":s="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":s=e[5].toLowerCase()+e.slice(6)}return r[ree][s]}else if(e.startsWith("label")){switch(e){case"labelColor":s="fill";break;case"labelFont":case"labelFontSize":s=e[5].toLowerCase()+e.slice(6)}return r[WA][s]}return null}function sde(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function fWt(e,t){var n=t.config,r=n.style,s=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,i=e.orient,a,l,u;if(Co(i)){const f=sde([n.axisX,n.axisY]),d=sde([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=Uo(i,Cb(u,n.axisX,s,r),Cb(u,n.axisY,s,r));l={};for(u of d)l[u]=uWt(i.signal,Cb(u,n.axisTop,s,r),Cb(u,n.axisBottom,s,r),Cb(u,n.axisLeft,s,r),Cb(u,n.axisRight,s,r))}else a=i===sf||i===Vm?n.axisX:n.axisY,l=n["axis"+i[0].toUpperCase()+i.slice(1)];return a||l||o?sr({},s,a,l,o):s}function dWt(e,t,n,r){const s=Dl(e,t),o=e.orient;let i,a;const l={enter:i={opacity:pr},update:a={opacity:Ou},exit:{opacity:pr}};bi(l,{stroke:s("domainColor"),strokeCap:s("domainCap"),strokeDash:s("domainDash"),strokeDashOffset:s("domainDashOffset"),strokeWidth:s("domainWidth"),strokeOpacity:s("domainOpacity")});const u=ode(e,0),c=ode(e,1);return i.x=a.x=Uo(o,u,pr),i.x2=a.x2=Uo(o,c),i.y=a.y=Tc(o,u,pr),i.y2=a.y2=Tc(o,c),su({type:oee,role:F9t,from:r,encode:l},n)}function ode(e,t){return{scale:e.scale,range:t}}function hWt(e,t,n,r,s){const o=Dl(e,t),i=e.orient,a=e.gridScale,l=s6(i,1,-1),u=pWt(e.offset,l);let c,f,d;const h={enter:c={opacity:pr},update:d={opacity:Ou},exit:f={opacity:pr}};bi(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Du,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")},g=Uo(i,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:sr(g,{mult:l,offset:u});return c.x=d.x=Uo(i,p,m),c.y=d.y=Tc(i,p,m),c.x2=d.x2=Tc(i,v),c.y2=d.y2=Uo(i,v),f.x=Uo(i,p),f.y=Tc(i,p),su({type:oee,role:M9t,key:Du,from:r,encode:h},n)}function pWt(e,t){if(t!==1)if(!tr(e))e=Co(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=sr({},e);for(;n.mult!=null;)if(tr(n.mult))n=n.mult=sr({},n.mult);else return n.mult=Co(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function gWt(e,t,n,r,s,o){const i=Dl(e,t),a=e.orient,l=s6(a,-1,1);let u,c,f;const d={enter:u={opacity:pr},update:f={opacity:Ou},exit:c={opacity:pr}};bi(d,{stroke:i("tickColor"),strokeCap:i("tickCap"),strokeDash:i("tickDash"),strokeDashOffset:i("tickDashOffset"),strokeOpacity:i("tickOpacity"),strokeWidth:i("tickWidth")});const h=Wo(s);h.mult=l;const p={scale:e.scale,field:Du,band:o.band,extra:o.extra,offset:o.offset,round:i("tickRound")};return f.y=u.y=Uo(a,pr,p),f.y2=u.y2=Uo(a,h),c.x=Uo(a,p),f.x=u.x=Tc(a,pr,p),f.x2=u.x2=Tc(a,h),c.y=Tc(a,p),su({type:oee,role:L9t,key:Du,from:r,encode:d},n)}function V9(e,t,n,r,s){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+s+")"}}function mWt(e,t,n,r,s,o){const i=Dl(e,t),a=e.orient,l=e.scale,u=s6(a,-1,1),c=n1(i("labelFlush")),f=n1(i("labelFlushOffset")),d=i("labelAlign"),h=i("labelBaseline");let p=c===0||!!c,g;const m=Wo(s);m.mult=u,m.offset=Wo(i("labelPadding")||0),m.offset.mult=u;const v={scale:l,field:Du,band:.5,offset:UOe(o.offset,i("labelOffset"))},y=Uo(a,p?V9(l,c,'"left"','"right"','"center"'):{value:"center"},rWt(a,"left","right")),w=Uo(a,YOe(a,"bottom","top"),p?V9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),b=V9(l,c,`-(${f})`,f,0);p=p&&f;const C={opacity:pr,x:Uo(a,v,m),y:Tc(a,v,m)},S={enter:C,update:g={opacity:Ou,text:{field:nee},x:C.x,y:C.y,align:y,baseline:w},exit:{opacity:pr,x:C.x,y:C.y}};bi(S,{dx:!d&&p?Uo(a,b):null,dy:!h&&p?Tc(a,b):null}),bi(S,{angle:i("labelAngle"),fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontWeight:i("labelFontWeight"),fontStyle:i("labelFontStyle"),limit:i("labelLimit"),lineHeight:i("labelLineHeight")},{align:d,baseline:h});const $=i("labelBound");let k=i("labelOverlap");return k=k||$?{separation:i("labelSeparation"),method:k,order:"datum.index",bound:$?{scale:l,orient:a,tolerance:$}:null}:void 0,g.align!==y&&(g.align=vw(g.align,y)),g.baseline!==w&&(g.baseline=vw(g.baseline,w)),su({type:Wy,role:P9t,style:WA,key:Du,from:r,encode:S,overlap:k},n)}function vWt(e,t,n,r){const s=Dl(e,t),o=e.orient,i=s6(o,-1,1);let a,l;const u={enter:a={opacity:pr,anchor:Wo(s("titleAnchor",null)),align:{signal:iee}},update:l=sr({},a,{opacity:Ou,text:Wo(e.title)}),exit:{opacity:pr}},c={signal:`lerp(range("${e.scale}"), ${t6(0,1,.5)})`};return l.x=Uo(o,c),l.y=Tc(o,c),a.angle=Uo(o,pr,cWt(i,90)),a.baseline=Uo(o,YOe(o,Vm,sf),{value:Vm}),l.angle=a.angle,l.baseline=a.baseline,bi(u,{fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit"),lineHeight:s("titleLineHeight")},{align:s("titleAlign"),angle:s("titleAngle"),baseline:s("titleBaseline")}),yWt(s,o,u,n),u.update.align=vw(u.update.align,a.align),u.update.angle=vw(u.update.angle,a.angle),u.update.baseline=vw(u.update.baseline,a.baseline),su({type:Wy,role:B9t,style:ree,from:r,encode:u},n)}function yWt(e,t,n,r){const s=(a,l)=>a!=null?(n.update[l]=vw(Wo(a),n.update[l]),!1):!zb(l,r),o=s(e("titleX"),"x"),i=s(e("titleY"),"y");n.enter.auto=i===o?Wo(i):Uo(t,Wo(i),Wo(o))}function bWt(e,t){const n=fWt(e,t),r=e.encode||{},s=r.axis||{},o=s.name||void 0,i=s.interactive,a=s.style,l=Dl(e,n),u=gVt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=pn(t.add(rf({},[c]))),d=pn(t.add(w7t({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(hWt(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(gWt(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(mWt(e,n,r.labels,d,p,u))),c.domain&&h.push(dWt(e,n,r.domain,f)),c.title&&h.push(vWt(e,n,r.title,f)),r6(PE({role:R9t,from:f,encode:IC(wWt(l,e),s,UA),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:i,style:a}),t)}function wWt(e,t){const n={enter:{},update:{}};return bi(n,{orient:e("orient"),offset:e("offset")||0,position:uc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function ZOe(e,t,n){const r=Mn(e.signals),s=Mn(e.scales);return n||r.forEach(o=>AOe(o,t)),Mn(e.projections).forEach(o=>J7t(o,t)),s.forEach(o=>z7t(o,t)),Mn(e.data).forEach(o=>tWt(o,t)),s.forEach(o=>V7t(o,t)),(n||r).forEach(o=>b7t(o,t)),Mn(e.axes).forEach(o=>bWt(o,t)),Mn(e.marks).forEach(o=>r6(o,t)),Mn(e.legends).forEach(o=>UVt(o,t)),e.title&&XVt(e.title,t),t.parseLambdas(),t}const xWt=e=>IC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function CWt(e,t){const n=t.config,r=pn(t.root=t.add(kF())),s=SWt(e,n);s.forEach(u=>AOe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(rf()),i=t.add(DOe(TOe(xWt(e.encode),e6,JQ,e.style,t,{pulse:pn(o)}))),a=t.add(FOe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:pn(i)}));t.operators.pop(),t.pushState(pn(i),pn(a),null),ZOe(e,t,s),t.operators.push(a);let l=t.add(NOe({mark:r,pulse:pn(a)}));return l=t.add(ROe({pulse:pn(l)})),l=t.add(Vy({pulse:pn(l)})),t.addData("root",new V1(t,o,o,l)),t}function PS(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function SWt(e,t){const n=i=>uc(e[i],t[i]),r=[PS("background",n("background")),PS("autosize",N9t(n("autosize"))),PS("padding",O9t(n("padding"))),PS("width",n("width")||0),PS("height",n("height")||0)],s=r.reduce((i,a)=>(i[a.name]=a,i),{}),o={};return Mn(e.signals).forEach(i=>{Pn(s,i.name)?i=sr(s[i.name],i):r.push(i),o[i.name]=i}),Mn(t.signals).forEach(i=>{!Pn(o,i.name)&&!Pn(s,i.name)&&r.push(i)}),r}function JOe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ide(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}JOe.prototype=ide.prototype={parse(e){return ZOe(e,this)},fork(){return new ide(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof hj?pn(e):e;return this.add(R7t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,s,o){let i,a;r&&(i=r.data||(r.data={}),a=i[s]||(i[s]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(pn(this.add(Vy({pulse:e})))),this._parent.push(t),this._lookup.push(n?pn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Xr(this._parent)},encode(){return Xr(this._encode)},lookup(){return Xr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ys(e))return FE(e,t);e.signal||gt("Unsupported field reference: "+_n(e));const n=e.signal;let r=this.field[n];if(!r){const s={name:this.signalRef(n)};t&&(s.as=t),this.field[n]=r=pn(this.add($7t(s)))}return r},compareRef(e){let t=!1;const n=o=>Co(o)?(t=!0,this.signalRef(o.signal)):u7t(o)?(t=!0,this.exprRef(o.expr)):o,r=Mn(e.field).map(n),s=Mn(e.order).map(n);return t?pn(this.add(qfe({fields:r,orders:s}))):jfe(r,s)},keyRef(e,t){let n=!1;const r=o=>Co(o)?(n=!0,pn(s[o.signal])):o,s=this.signals;return e=Mn(e).map(r),n?pn(this.add(k7t({fields:e,flat:t}))):o7t(e,t)},sortRef(e){if(!e)return e;const t=JB(e.op,e.field),n=e.order||i7t;return n.signal?pn(this.add(qfe({fields:t,orders:this.signalRef(n.signal)}))):jfe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Pn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&gt("Duplicate signal name: "+_n(e));const n=t instanceof hj?t:this.add(kF(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||gt("Unrecognized signal name: "+_n(e)),this.signals[e]},signalRef(e){return this.signals[e]?pn(this.signals[e]):(Pn(this.lambdas,e)||(this.lambdas[e]=this.add(kF(null))),pn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],s=bd(r,this),o=this.lambdas[r];o.params=s.$params,o.update=s.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!tr(e)?e:this.signalRef(e.signal||fee(e))},exprRef(e,t){const n={expr:bd(e,this)};return t&&(n.expr.$name=t),pn(this.add(C7t(n)))},addBinding(e,t){this.bindings||gt("Nested signals do not support binding: "+_n(e)),this.bindings.push(sr({signal:e},t))},addScaleProj(e,t){Pn(this.scales,e)&&gt("Duplicate scale or projection name: "+_n(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,M7t(t))},addProjection(e,t){this.addScaleProj(e,O7t(t))},getScale(e){return this.scales[e]||gt("Unrecognized scale name: "+_n(e)),this.scales[e]},scaleRef(e){return pn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Pn(this.data,e)&&gt("Duplicate data set name: "+_n(e)),this.data[e]=t},getData(e){return this.data[e]||gt("Undefined data set name: "+_n(e)),this.data[e]},addDataPipeline(e,t){return Pn(this.data,e)&&gt("Duplicate data set name: "+_n(e)),this.addData(e,V1.fromEntries(this,t))}};function fee(e){return(jn(e)?$Wt:kWt)(e)}function $Wt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const s=e[r];n+=(r>0?",":"")+(tr(s)?s.signal||fee(s):_n(s))}return n+"]"}function kWt(e){let t="{",n=0,r,s;for(r in e)s=e[r],t+=(++n>1?",":"")+_n(r)+":"+(tr(s)?s.signal||fee(s):_n(s));return t+"}"}function EWt(){const e="sans-serif",r="#4c78a8",s="#000",o="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:s},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:s,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:s,font:e,fontSize:10},"guide-title":{fill:s,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:s,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:s,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function _Wt(e,t,n){return tr(e)||gt("Input Vega specification must be an object."),t=rL(EWt(),t,e.config),CWt(e,new JOe(t,n)).toRuntime()}const TWt="RawCode",AWt="Literal",IWt="Property",NWt="Identifier",DWt="ArrayExpression",OWt="BinaryExpression",RWt="CallExpression",FWt="ConditionalExpression",MWt="LogicalExpression",PWt="MemberExpression",LWt="ObjectExpression",BWt="UnaryExpression";function of(e){this.type=e}of.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=zWt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function zWt(e){switch(e.type){case DWt:return e.elements;case OWt:case MWt:return[e.left,e.right];case RWt:return[e.callee].concat(e.arguments);case FWt:return[e.test,e.consequent,e.alternate];case PWt:return[e.object,e.property];case LWt:return e.properties;case IWt:return[e.key,e.value];case BWt:return[e.argument];case NWt:case AWt:case TWt:default:return[]}}var jd,sn,Qe,na,Lr,o6=1,jA=2,W1=3,x0=4,i6=5,Uy=6,Za=7,HA=8,VWt=9;jd={};jd[o6]="Boolean";jd[jA]="<end>";jd[W1]="Identifier";jd[x0]="Keyword";jd[i6]="Null";jd[Uy]="Numeric";jd[Za]="Punctuator";jd[HA]="String";jd[VWt]="RegularExpression";var WWt="ArrayExpression",UWt="BinaryExpression",jWt="CallExpression",HWt="ConditionalExpression",QOe="Identifier",qWt="Literal",GWt="LogicalExpression",KWt="MemberExpression",YWt="ObjectExpression",XWt="Property",ZWt="UnaryExpression",jo="Unexpected token %0",JWt="Unexpected number",QWt="Unexpected string",eUt="Unexpected identifier",tUt="Unexpected reserved word",nUt="Unexpected end of input",wj="Invalid regular expression",W9="Invalid regular expression: missing /",eRe="Octal literals are not allowed in strict mode.",rUt="Duplicate data property in object literal not allowed in strict mode",pi="ILLEGAL",LE="Disabled.",sUt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),oUt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function a6(e,t){if(!e)throw new Error("ASSERT: "+t)}function yh(e){return e>=48&&e<=57}function dee(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function sk(e){return"01234567".indexOf(e)>=0}function iUt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function BE(e){return e===10||e===13||e===8232||e===8233}function qA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&sUt.test(String.fromCharCode(e))}function EF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&oUt.test(String.fromCharCode(e))}const aUt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function tRe(){for(;Qe<na;){const e=sn.charCodeAt(Qe);if(iUt(e)||BE(e))++Qe;else break}}function xj(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)Qe<na&&dee(sn[Qe])?(r=sn[Qe++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):xr({},jo,pi);return String.fromCharCode(s)}function lUt(){var e,t,n,r;for(e=sn[Qe],t=0,e==="}"&&xr({},jo,pi);Qe<na&&(e=sn[Qe++],!!dee(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&xr({},jo,pi),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function nRe(){var e,t;for(e=sn.charCodeAt(Qe++),t=String.fromCharCode(e),e===92&&(sn.charCodeAt(Qe)!==117&&xr({},jo,pi),++Qe,e=xj("u"),(!e||e==="\\"||!qA(e.charCodeAt(0)))&&xr({},jo,pi),t=e);Qe<na&&(e=sn.charCodeAt(Qe),!!EF(e));)++Qe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),sn.charCodeAt(Qe)!==117&&xr({},jo,pi),++Qe,e=xj("u"),(!e||e==="\\"||!EF(e.charCodeAt(0)))&&xr({},jo,pi),t+=e);return t}function uUt(){var e,t;for(e=Qe++;Qe<na;){if(t=sn.charCodeAt(Qe),t===92)return Qe=e,nRe();if(EF(t))++Qe;else break}return sn.slice(e,Qe)}function cUt(){var e,t,n;return e=Qe,t=sn.charCodeAt(Qe)===92?nRe():uUt(),t.length===1?n=W1:aUt.hasOwnProperty(t)?n=x0:t==="null"?n=i6:t==="true"||t==="false"?n=o6:n=W1,{type:n,value:t,start:e,end:Qe}}function U9(){var e=Qe,t=sn.charCodeAt(Qe),n,r=sn[Qe],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Qe,{type:Za,value:String.fromCharCode(t),start:e,end:Qe};default:if(n=sn.charCodeAt(Qe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Qe+=2,{type:Za,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Qe};case 33:case 61:return Qe+=2,sn.charCodeAt(Qe)===61&&++Qe,{type:Za,value:sn.slice(e,Qe),start:e,end:Qe}}}if(i=sn.substr(Qe,4),i===">>>=")return Qe+=4,{type:Za,value:i,start:e,end:Qe};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Qe+=3,{type:Za,value:o,start:e,end:Qe};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".indexOf(r)>=0||s==="=>")return Qe+=2,{type:Za,value:s,start:e,end:Qe};if(s==="//"&&xr({},jo,pi),"<>=!+-*%&|^/".indexOf(r)>=0)return++Qe,{type:Za,value:r,start:e,end:Qe};xr({},jo,pi)}function fUt(e){let t="";for(;Qe<na&&dee(sn[Qe]);)t+=sn[Qe++];return t.length===0&&xr({},jo,pi),qA(sn.charCodeAt(Qe))&&xr({},jo,pi),{type:Uy,value:parseInt("0x"+t,16),start:e,end:Qe}}function dUt(e){let t="0"+sn[Qe++];for(;Qe<na&&sk(sn[Qe]);)t+=sn[Qe++];return(qA(sn.charCodeAt(Qe))||yh(sn.charCodeAt(Qe)))&&xr({},jo,pi),{type:Uy,value:parseInt(t,8),octal:!0,start:e,end:Qe}}function ade(){var e,t,n;if(n=sn[Qe],a6(yh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Qe,e="",n!=="."){if(e=sn[Qe++],n=sn[Qe],e==="0"){if(n==="x"||n==="X")return++Qe,fUt(t);if(sk(n))return dUt(t);n&&yh(n.charCodeAt(0))&&xr({},jo,pi)}for(;yh(sn.charCodeAt(Qe));)e+=sn[Qe++];n=sn[Qe]}if(n==="."){for(e+=sn[Qe++];yh(sn.charCodeAt(Qe));)e+=sn[Qe++];n=sn[Qe]}if(n==="e"||n==="E")if(e+=sn[Qe++],n=sn[Qe],(n==="+"||n==="-")&&(e+=sn[Qe++]),yh(sn.charCodeAt(Qe)))for(;yh(sn.charCodeAt(Qe));)e+=sn[Qe++];else xr({},jo,pi);return qA(sn.charCodeAt(Qe))&&xr({},jo,pi),{type:Uy,value:parseFloat(e),start:t,end:Qe}}function hUt(){var e="",t,n,r,s,o=!1;for(t=sn[Qe],a6(t==="'"||t==='"',"String literal must starts with a quote"),n=Qe,++Qe;Qe<na;)if(r=sn[Qe++],r===t){t="";break}else if(r==="\\")if(r=sn[Qe++],!r||!BE(r.charCodeAt(0)))switch(r){case"u":case"x":sn[Qe]==="{"?(++Qe,e+=lUt()):e+=xj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:sk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),Qe<na&&sk(sn[Qe])&&(o=!0,s=s*8+"01234567".indexOf(sn[Qe++]),"0123".indexOf(r)>=0&&Qe<na&&sk(sn[Qe])&&(s=s*8+"01234567".indexOf(sn[Qe++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&sn[Qe]===`
`&&++Qe;else{if(BE(r.charCodeAt(0)))break;e+=r}return t!==""&&xr({},jo,pi),{type:HA,value:e,octal:o,start:n,end:Qe}}function pUt(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,s)=>{if(parseInt(s,16)<=1114111)return"x";xr({},wj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{xr({},wj)}try{return new RegExp(e,t)}catch{return null}}function gUt(){var e,t,n,r,s;for(e=sn[Qe],a6(e==="/","Regular expression literal must start with a slash"),t=sn[Qe++],n=!1,r=!1;Qe<na;)if(e=sn[Qe++],t+=e,e==="\\")e=sn[Qe++],BE(e.charCodeAt(0))&&xr({},W9),t+=e;else if(BE(e.charCodeAt(0)))xr({},W9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||xr({},W9),s=t.substr(1,t.length-2),{value:s,literal:t}}function mUt(){var e,t,n;for(t="",n="";Qe<na&&(e=sn[Qe],!!EF(e.charCodeAt(0)));)++Qe,e==="\\"&&Qe<na?xr({},jo,pi):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&xr({},wj,n),{value:n,literal:t}}function vUt(){var e,t,n,r;return Lr=null,tRe(),e=Qe,t=gUt(),n=mUt(),r=pUt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Qe}}function yUt(e){return e.type===W1||e.type===x0||e.type===o6||e.type===i6}function rRe(){if(tRe(),Qe>=na)return{type:jA,start:Qe,end:Qe};const e=sn.charCodeAt(Qe);return qA(e)?cUt():e===40||e===41||e===59?U9():e===39||e===34?hUt():e===46?yh(sn.charCodeAt(Qe+1))?ade():U9():yh(e)?ade():U9()}function rl(){const e=Lr;return Qe=e.end,Lr=rRe(),Qe=e.end,e}function sRe(){const e=Qe;Lr=rRe(),Qe=e}function bUt(e){const t=new of(WWt);return t.elements=e,t}function lde(e,t,n){const r=new of(e==="||"||e==="&&"?GWt:UWt);return r.operator=e,r.left=t,r.right=n,r}function wUt(e,t){const n=new of(jWt);return n.callee=e,n.arguments=t,n}function xUt(e,t,n){const r=new of(HWt);return r.test=e,r.consequent=t,r.alternate=n,r}function hee(e){const t=new of(QOe);return t.name=e,t}function _$(e){const t=new of(qWt);return t.value=e.value,t.raw=sn.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ude(e,t,n){const r=new of(KWt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function CUt(e){const t=new of(YWt);return t.properties=e,t}function cde(e,t,n){const r=new of(XWt);return r.key=t,r.value=n,r.kind=e,r}function SUt(e,t){const n=new of(ZWt);return n.operator=e,n.argument=t,n.prefix=!0,n}function xr(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,(o,i)=>(a6(i<r.length,"Message reference must be in range"),r[i]));throw n=new Error(s),n.index=Qe,n.description=s,n}function l6(e){e.type===jA&&xr(e,nUt),e.type===Uy&&xr(e,JWt),e.type===HA&&xr(e,QWt),e.type===W1&&xr(e,eUt),e.type===x0&&xr(e,tUt),xr(e,jo,e.value)}function ra(e){const t=rl();(t.type!==Za||t.value!==e)&&l6(t)}function ds(e){return Lr.type===Za&&Lr.value===e}function j9(e){return Lr.type===x0&&Lr.value===e}function $Ut(){const e=[];for(Qe=Lr.start,ra("[");!ds("]");)ds(",")?(rl(),e.push(null)):(e.push(U1()),ds("]")||ra(","));return rl(),bUt(e)}function fde(){Qe=Lr.start;const e=rl();return e.type===HA||e.type===Uy?(e.octal&&xr(e,eRe),_$(e)):hee(e.value)}function kUt(){var e,t,n,r;if(Qe=Lr.start,e=Lr,e.type===W1)return n=fde(),ra(":"),r=U1(),cde("init",n,r);if(e.type===jA||e.type===Za)l6(e);else return t=fde(),ra(":"),r=U1(),cde("init",t,r)}function EUt(){var e=[],t,n,r,s={},o=String;for(Qe=Lr.start,ra("{");!ds("}");)t=kUt(),t.key.type===QOe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?xr({},rUt):s[r]=!0,e.push(t),ds("}")||ra(",");return ra("}"),CUt(e)}function _Ut(){ra("(");const e=pee();return ra(")"),e}const TUt={if:1};function AUt(){var e,t,n;if(ds("("))return _Ut();if(ds("["))return $Ut();if(ds("{"))return EUt();if(e=Lr.type,Qe=Lr.start,e===W1||TUt[Lr.value])n=hee(rl().value);else if(e===HA||e===Uy)Lr.octal&&xr(Lr,eRe),n=_$(rl());else{if(e===x0)throw new Error(LE);e===o6?(t=rl(),t.value=t.value==="true",n=_$(t)):e===i6?(t=rl(),t.value=null,n=_$(t)):ds("/")||ds("/=")?(n=_$(vUt()),sRe()):l6(rl())}return n}function IUt(){const e=[];if(ra("("),!ds(")"))for(;Qe<na&&(e.push(U1()),!ds(")"));)ra(",");return ra(")"),e}function NUt(){Qe=Lr.start;const e=rl();return yUt(e)||l6(e),hee(e.value)}function DUt(){return ra("."),NUt()}function OUt(){ra("[");const e=pee();return ra("]"),e}function RUt(){var e,t,n;for(e=AUt();;)if(ds("."))n=DUt(),e=ude(".",e,n);else if(ds("("))t=IUt(),e=wUt(e,t);else if(ds("["))n=OUt(),e=ude("[",e,n);else break;return e}function dde(){const e=RUt();if(Lr.type===Za&&(ds("++")||ds("--")))throw new Error(LE);return e}function R3(){var e,t;if(Lr.type!==Za&&Lr.type!==x0)t=dde();else{if(ds("++")||ds("--"))throw new Error(LE);if(ds("+")||ds("-")||ds("~")||ds("!"))e=rl(),t=R3(),t=SUt(e.value,t);else{if(j9("delete")||j9("void")||j9("typeof"))throw new Error(LE);t=dde()}}return t}function hde(e){let t=0;if(e.type!==Za&&e.type!==x0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function FUt(){var e,t,n,r,s,o,i,a,l,u;if(e=Lr,l=R3(),r=Lr,s=hde(r),s===0)return l;for(r.prec=s,rl(),t=[e,Lr],i=R3(),o=[l,r,i];(s=hde(Lr))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=lde(a,l,i),o.push(n);r=rl(),r.prec=s,o.push(r),t.push(Lr),n=R3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=lde(o[u-1].value,o[u-2],n),u-=2;return n}function U1(){var e,t,n;return e=FUt(),ds("?")&&(rl(),t=U1(),ra(":"),n=U1(),e=xUt(e,t,n)),e}function pee(){const e=U1();if(ds(","))throw new Error(LE);return e}function MUt(e){sn=e,Qe=0,na=sn.length,Lr=null,sRe();const t=pee();if(Lr.type!==jA)throw new Error("Unexpect token after expression.");return t}var PUt={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function LUt(e){function t(i,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+i+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(i,a,l){return u=>t(i,u,a,l)}const r="new Date",s="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(i){i.length<3&&gt("Missing arguments to clamp function."),i.length>3&&gt("Too many arguments to clamp function.");const a=i.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",s,0),lower:n("toLowerCase",s,0),substring:n("substring",s),split:n("split",s),trim:n("trim",s,0),regexp:o,test:n("test",o),if:function(i){i.length<3&&gt("Missing arguments to if function."),i.length>3&&gt("Too many arguments to if function.");const a=i.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function BUt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function zUt(e){e=e||{};const t=e.allowed?ap(e.allowed):{},n=e.forbidden?ap(e.forbidden):{},r=e.constants||PUt,s=(e.functions||LUt)(f),o=e.globalvar,i=e.fieldvar,a=Or(o)?o:p=>"".concat(o,'["').concat(p,'"]');let l={},u={},c=0;function f(p){if(ys(p))return p;const g=d[p.type];return g==null&&gt("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Pn(n,g)?gt("Illegal identifier: "+g):Pn(r,g)?r[g]:Pn(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const v=f(p.property);return m===i&&(u[BUt(v)]=1),g&&(c-=1),m+(g?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&gt("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,v=Pn(s,g)&&s[g];return v||gt("Unrecognized function: "+g),Or(v)?v(m):v+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=s,h.constants=r,h}const VUt="view",_F="[",TF="]",oRe="{",iRe="}",WUt=":",aRe=",",UUt="@",jUt=">",HUt=/[[\]{}]/,qUt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let lRe,uRe;function jy(e,t,n){return lRe=t||VUt,uRe=n||qUt,cRe(e.trim()).map(Cj)}function GUt(e){return uRe[e]}function ok(e,t,n,r,s){const o=e.length;let i=0,a;for(;t<o;++t){if(a=e[t],!i&&a===n)return t;s&&s.indexOf(a)>=0?--i:r&&r.indexOf(a)>=0&&++i}return t}function cRe(e){const t=[],n=e.length;let r=0,s=0;for(;s<n;)s=ok(e,s,aRe,_F+oRe,TF+iRe),t.push(e.substring(r,s).trim()),r=++s;if(t.length===0)throw"Empty event selector: "+e;return t}function Cj(e){return e[0]==="["?KUt(e):YUt(e)}function KUt(e){const t=e.length;let n=1,r;if(n=ok(e,n,TF,_F,TF),n===t)throw"Empty between selector: "+e;if(r=cRe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==jUt)throw"Expected '>' after between selector: "+e;r=r.map(Cj);const s=Cj(e.slice(1).trim());return s.between?{between:r,stream:s}:(s.between=r,s)}function YUt(e){const t={source:lRe},n=[];let r=[0,0],s=0,o=0,i=e.length,a=0,l,u;if(e[i-1]===iRe){if(a=e.lastIndexOf(oRe),a>=0){try{r=XUt(e.substring(a+1,i-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),i=e.length}else throw"Unmatched right brace: "+e;a=0}if(!i)throw e;if(e[0]===UUt&&(s=++a),l=ok(e,a,WUt),l<i&&(n.push(e.substring(o,l).trim()),o=a=++l),a=ok(e,a,_F),a===i)n.push(e.substring(o,i).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===i)throw"Unmatched left bracket: "+e;for(;a<i;){if(a=ok(e,a,TF),a===i)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<i-1&&e[++a]!==_F)throw"Expected left bracket: "+e;o=++a}if(!(i=n.length)||HUt.test(n[i-1]))throw"Invalid event selector: "+e;return i>1?(t.type=n[1],s?t.markname=n[0].slice(1):GUt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function XUt(e){const t=e.split(aRe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}var ZUt="5.20.0",JUt={version:ZUt};sr(Hw,Pxt,Q_t,TIt,dDt,i3t,w4t,uOt,C4t,B4t,iBt,hBt);const QUt=JUt.version,ejt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Pa,CanvasHandler:FA,CanvasRenderer:uF,DATE:Cl,DAY:ji,DAYOFYEAR:md,Dataflow:dw,Debug:qSe,Error:USe,EventStream:yL,Gradient:LNe,GroupItem:CJ,HOURS:nu,Handler:Bm,Info:HSe,Item:xJ,MILLISECONDS:Wc,MINUTES:ru,MONTH:Qi,Marks:zu,MultiPulse:aY,None:WSe,Operator:ts,Parameters:vL,Pulse:em,QUARTER:xl,RenderType:Bg,Renderer:Bd,ResourceLoader:SJ,SECONDS:Lu,SVGHandler:zJ,SVGRenderer:qJ,SVGStringRenderer:GJ,Scenegraph:LJ,TIME_UNITS:EY,Transform:Ke,View:mOe,WEEK:bo,Warn:jSe,YEAR:vi,accessor:Zu,accessorFields:Zi,accessorName:Ws,array:Mn,ascending:aL,bandwidthNRD:fY,bin:lke,bootstrapCI:uke,boundClip:qMt,boundContext:NA,boundItem:VU,boundMark:rDe,boundStroke:Fy,changeset:Cy,clampRange:Ivt,codegenExpression:zUt,compare:e$e,constant:Pu,cumulativeLogNormal:vY,cumulativeNormal:wL,cumulativeUniform:xY,dayofyear:Cke,debounce:t$e,defaultLocale:NNe,definition:Z$e,densityLogNormal:mY,densityNormal:dY,densityUniform:wY,domChild:tl,domClear:yc,domCreate:Pg,domFind:BJ,dotbin:cke,error:gt,expressionFunction:fo,extend:sr,extent:Cm,extentIndex:n$e,falsy:ag,fastmap:lC,field:wm,flush:Mvt,font:kB,fontFamily:RA,fontSize:Ld,format:b3,formatLocale:eF,formats:gJ,hasOwnProperty:Pn,id:xvt,identity:Mu,inferType:ONe,inferTypes:RNe,ingest:_r,inherits:Nt,inrange:Pvt,interpolate:$Z,interpolateColors:dB,interpolateRange:wAe,intersect:TDe,intersectBoxLine:Kb,intersectPath:$J,intersectPoint:kJ,intersectRule:qNe,isArray:jn,isBoolean:r$e,isDate:lL,isFunction:Or,isIterable:s$e,isNumber:_1,isObject:tr,isRegExp:Lvt,isString:ys,isTuple:gL,key:o$e,lerp:Bvt,lineHeight:Pm,loader:mJ,locale:INe,logger:Cvt,lruCache:i$e,markup:HJ,merge:a$e,mergeConfig:rL,multiLineOffset:rMt,one:iC,pad:Vvt,panLinear:$vt,panLog:kvt,panPow:Evt,panSymlog:_vt,parse:_Wt,parseExpression:MUt,parseSelector:jy,pathCurves:yJ,pathEqual:DDe,pathParse:mx,pathRectangle:VNe,pathRender:$E,pathSymbols:zNe,pathTrail:WNe,peek:Xr,point:_B,projection:LZ,quantileLogNormal:yY,quantileNormal:xL,quantileUniform:CY,quantiles:uY,quantizeInterpolator:xAe,quarter:Tvt,quartiles:cY,get random(){return Vc},randomInteger:mwt,randomKDE:pY,randomLCG:gwt,randomLogNormal:dke,randomMixture:hke,randomNormal:hY,randomUniform:pke,read:xRt,regressionExp:mke,regressionLinear:SY,regressionLoess:bke,regressionLog:gke,regressionPoly:yke,regressionPow:vke,regressionQuad:$Y,renderModule:TB,repeat:o$,resetDefaultLocale:tRt,resetSVGClipId:jNe,resetSVGDefIds:YMt,responseType:wRt,runtimeContext:rOe,sampleCurve:SL,sampleLogNormal:gY,sampleNormal:bL,sampleUniform:bY,scale:Tr,sceneEqual:KJ,sceneFromJSON:oDe,scenePickVisit:rF,sceneToJSON:sDe,sceneVisit:Uc,sceneZOrder:EJ,scheme:kZ,serializeXML:wDe,setRandom:hwt,span:uL,splitAccessPath:nL,stringValue:_n,textMetrics:Zf,timeBin:Bke,timeFloor:Ake,timeFormatLocale:SE,timeInterval:gC,timeOffset:Dke,timeSequence:Fke,timeUnitSpecifier:xke,timeUnits:_Y,toBoolean:l$e,toDate:u$e,toNumber:xm,toSet:ap,toString:c$e,transform:J$e,transforms:Hw,truncate:Uvt,truthy:aC,tupleid:gn,typeParsers:FU,utcFloor:Ike,utcInterval:mC,utcOffset:Oke,utcSequence:Mke,utcdayofyear:kke,utcquarter:Avt,utcweek:Eke,version:QUt,visitArray:jvt,week:Ske,writeConfig:sL,zero:$g,zoomLinear:ZSe,zoomLog:JSe,zoomPow:nW,zoomSymlog:QSe},Symbol.toStringTag,{value:"Module"})),tjt="4.13.1",njt={version:tjt};function OC(e,t,n){return e.fields=t||[],e.fname=n,e}function rjt(e){return e.length===1?sjt(e[0]):ojt(e)}const sjt=e=>function(t){return t[e]},ojt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function H9(e){throw Error(e)}function Hy(e){var t=[],n=null,r=0,s=e.length,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<s;++a)if(l=e[a],l==="\\")o+=e.substring(i,a),o+=e.substring(++a,++a),i=a;else if(l===n)u(),n=null,r=-1;else{if(n)continue;i===r&&l==='"'||i===r&&l==="'"?(i=a+1,n=l):l==="."&&!r?a>i?u():i=a+1:l==="["?(a>i&&u(),r=i=a+1):l==="]"&&(r||H9("Access path missing open bracket: "+e),r>0&&u(),r=0,i=a+1)}return r&&H9("Access path missing closing bracket: "+e),n&&H9("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function ijt(e,t,n){const r=Hy(e);return e=r.length===1?r[0]:e,OC(rjt(r),[e],e)}var GA=[];ijt("id");var ajt=OC(function(e){return e},GA,"identity");OC(function(){return 0},GA,"zero");OC(function(){return 1},GA,"one");OC(function(){return!0},GA,"true");OC(function(){return!1},GA,"false");function jN(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var ljt=1,fRe=2,ujt=3,cjt=4;function fjt(e,t){var n=e;return{level:function(r){return arguments.length?(n=+r,this):n},error:function(){return n>=ljt&&jN("error","ERROR",arguments),this},warn:function(){return n>=fRe&&jN("warn","WARN",arguments),this},info:function(){return n>=ujt&&jN("log","INFO",arguments),this},debug:function(){return n>=cjt&&jN("log","DEBUG",arguments),this}}}const wn=Array.isArray;function Ko(e){return e===Object(e)}const pde=e=>e!=="__proto__";function dRe(...e){return e.reduce((t,n)=>{for(var r in n)if(r==="signals")t.signals=djt(t.signals,n.signals);else{var s=r==="legend"?{layout:1}:r==="style"?!0:null;gee(t,r,n[r],s)}return t},{})}function gee(e,t,n,r){if(pde(t)){var s,o;if(Ko(n)&&!wn(n)){o=Ko(e[t])?e[t]:e[t]={};for(s in n)r&&(r===!0||r[s])?gee(o,s,n[s]):pde(s)&&(o[s]=n[s])}else e[t]=n}}function djt(e,t){if(e==null)return t;const n={},r=[];function s(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(s),e.forEach(s),r}function Js(e){return e!=null?wn(e)?e:[e]:[]}function hjt(e){return typeof e=="function"}const pjt=Object.prototype.hasOwnProperty;function Rv(e,t){return pjt.call(e,t)}function KA(e){return typeof e=="boolean"}function lo(e){return typeof e=="number"}function Qn(e){return typeof e=="string"}function gr(e){return wn(e)?"["+e.map(gr)+"]":Ko(e)||Qn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function qy(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var q9={exports:{}},gde;function gjt(){return gde||(gde=1,(function(e){var t=(function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var s;try{s=Set}catch{s=function(){}}var o;try{o=Promise}catch{o=function(){}}function i(d,h,p,g,m){typeof h=="object"&&(p=h.depth,g=h.prototype,m=h.includeNonEnumerable,h=h.circular);var v=[],y=[],w=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof p>"u"&&(p=1/0);function b(C,S){if(C===null)return null;if(S===0)return C;var $,k;if(typeof C!="object")return C;if(n(C,r))$=new r;else if(n(C,s))$=new s;else if(n(C,o))$=new o(function(I,D){C.then(function(M){I(b(M,S-1))},function(M){D(b(M,S-1))})});else if(i.__isArray(C))$=[];else if(i.__isRegExp(C))$=new RegExp(C.source,f(C)),C.lastIndex&&($.lastIndex=C.lastIndex);else if(i.__isDate(C))$=new Date(C.getTime());else{if(w&&Buffer.isBuffer(C))return Buffer.allocUnsafe?$=Buffer.allocUnsafe(C.length):$=new Buffer(C.length),C.copy($),$;n(C,Error)?$=Object.create(C):typeof g>"u"?(k=Object.getPrototypeOf(C),$=Object.create(k)):($=Object.create(g),k=g)}if(h){var T=v.indexOf(C);if(T!=-1)return y[T];v.push(C),y.push($)}n(C,r)&&C.forEach(function(I,D){var M=b(D,S-1),z=b(I,S-1);$.set(M,z)}),n(C,s)&&C.forEach(function(I){var D=b(I,S-1);$.add(D)});for(var _ in C){var E;k&&(E=Object.getOwnPropertyDescriptor(k,_)),!(E&&E.set==null)&&($[_]=b(C[_],S-1))}if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(C),_=0;_<A.length;_++){var N=A[_],F=Object.getOwnPropertyDescriptor(C,N);F&&!F.enumerable&&!m||($[N]=b(C[N],S-1),F.enumerable||Object.defineProperty($,N,{enumerable:!1}))}if(m)for(var R=Object.getOwnPropertyNames(C),_=0;_<R.length;_++){var P=R[_],F=Object.getOwnPropertyDescriptor(C,P);F&&F.enumerable||($[P]=b(C[P],S-1),Object.defineProperty($,P,{enumerable:!1}))}return $}return b(d,p)}i.clonePrototype=function(h){if(h===null)return null;var p=function(){};return p.prototype=h,new p};function a(d){return Object.prototype.toString.call(d)}i.__objToStr=a;function l(d){return typeof d=="object"&&a(d)==="[object Date]"}i.__isDate=l;function u(d){return typeof d=="object"&&a(d)==="[object Array]"}i.__isArray=u;function c(d){return typeof d=="object"&&a(d)==="[object RegExp]"}i.__isRegExp=c;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return i.__getRegExpFlags=f,i})();e.exports&&(e.exports=t)})(q9)),q9.exports}var mjt=gjt();const vjt=Il(mjt);var G9,mde;function yjt(){return mde||(mde=1,G9=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),G9}var bjt=yjt();const wjt=Il(bjt);var K9,vde;function xjt(){return vde||(vde=1,K9=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&(function(o){return function(i){return function(a,l){var u={key:a,value:i[a]},c={key:l,value:i[l]};return o(u,c)}}})(t.cmp),s=[];return(function o(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i!==void 0){if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);var a,l;if(Array.isArray(i)){for(l="[",a=0;a<i.length;a++)a&&(l+=","),l+=o(i[a])||"null";return l+"]"}if(i===null)return"null";if(s.indexOf(i)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=s.push(i)-1,c=Object.keys(i).sort(r&&r(i));for(l="",a=0;a<c.length;a++){var f=c[a],d=o(i[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return s.splice(u,1),"{"+l+"}"}})(e)}),K9}var Cjt=xjt();const zE=Il(Cjt);function mee(e){return!!e.or}function vee(e){return!!e.and}function yee(e){return!!e.not}function F3(e,t){if(yee(e))F3(e.not,t);else if(vee(e))for(const n of e.and)F3(n,t);else if(mee(e))for(const n of e.or)F3(n,t);else t(e)}function M3(e,t){return yee(e)?{not:M3(e.not,t)}:vee(e)?{and:e.and.map(n=>M3(n,t))}:mee(e)?{or:e.or.map(n=>M3(n,t))}:t(e)}const YA=wjt,er=vjt;function VE(e,t){const n={};for(const r of t)Rv(e,r)&&(n[r]=e[r]);return n}function Gh(e,t){const n=Object.assign({},e);for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>zE(e)).join(",")})`};const Ss=zE;function br(e){if(lo(e))return e;const t=Qn(e)?e:zE(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return n}function yde(e){return e===!1||e===null}function Cn(e,t){return e.indexOf(t)>-1}function WE(e,t){let n=0;for(const[r,s]of e.entries())if(t(s,r,n++))return!0;return!1}function hRe(e,t){let n=0;for(const[r,s]of e.entries())if(!t(s,r,n++))return!1;return!0}function Sjt(e,...t){for(const n of t)$jt(e,n??{});return e}function $jt(e,t){for(const n of kt(t))gee(e,n,t[n],!0)}function Wg(e,t){const n=[],r={};let s;for(const o of e)s=t(o),!(s in r)&&(r[s]=1,n.push(o));return n}function kjt(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function pRe(e,t){for(const n of e)if(t.has(n))return!0;return!1}function bde(e){const t=new Set;for(const n of e){const s=Hy(n).map((i,a)=>a===0?i:`[${i}]`),o=s.map((i,a)=>s.slice(0,a+1).join(""));for(const i of o)t.add(i)}return t}function gRe(e,t){return e===void 0||t===void 0?!0:pRe(bde(e),bde(t))}function ns(e){return kt(e).length===0}const kt=Object.keys,rm=Object.values;function mRe(e){const t=[];for(const n in e)Rv(e,n)&&t.push({key:n,value:e[n]});return t}function AF(e){return e===!0||e===!1}function ks(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function ik(e,t){return yee(e)?"!("+ik(e.not,t)+")":vee(e)?"("+e.and.map(n=>ik(n,t)).join(") && (")+")":mee(e)?"("+e.or.map(n=>ik(n,t)).join(") || (")+")":t(e)}function Sj(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Sj(e[n],t)&&delete e[n],ns(e)}function u6(e){return e.charAt(0).toUpperCase()+e.substr(1)}function vRe(e,t="datum"){const n=Hy(e),r=[];for(let s=1;s<=n.length;s++){const o=`[${n.slice(0,s).map(gr).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function Ejt(e,t="datum"){return`${t}[${gr(Hy(e).join("."))}]`}function _jt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Wm(e){return`${Hy(e).map(_jt).join("\\.")}`}function Sx(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function yRe(e){return`${Hy(e).join(".")}`}function UE(e){return e?Hy(e).length:0}function uo(...e){for(const t of e)if(t!==void 0)return t}let Tjt=42;function Ajt(e){const t=++Tjt;return e?String(e)+t:t}function Ijt(e){return Njt(e)?e:`__${e}`}function Njt(e){return e.indexOf("__")===0}function IF(e){if(e!==void 0)return(e%360+360)%360}function bee(e){return lo(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const wde={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function wee(e){return e&&e.condition}const bRe=["domain","grid","labels","ticks","title"],Djt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},wRe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Ojt=Object.assign(Object.assign({},wRe),{style:1,labelExpr:1,encoding:1});function xde(e){return!!Ojt[e]}const ja={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},xRe=ja.arc,c6=ja.area,f6=ja.bar,Rjt=ja.image,d6=ja.line,h6=ja.point,Fjt=ja.rect,NF=ja.rule,CRe=ja.text,xee=ja.tick,Mjt=ja.trail,Cee=ja.circle,See=ja.square,SRe=ja.geoshape;function Gy(e){return Cn(["line","area","trail"],e)}function Cde(e){return Cn(["rect","bar","image","arc"],e)}const $Re=kt(ja);function wd(e){return e.type}qy($Re);const Pjt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Ljt=["fill","fillOpacity"],Bjt=[...Pjt,...Ljt],zjt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1},Sde=kt(zjt),Vjt={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},Wjt={color:"#4c78a8",invalid:"filter",timeUnitBand:1},Ujt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},kRe=5,jjt={binSpacing:1,continuousBandSize:kRe,timeUnitBandPosition:.5},Hjt={binSpacing:0,continuousBandSize:kRe,timeUnitBandPosition:.5},qjt={thickness:1};function Gjt(e){return wd(e)?e.type:e}function Fp(e){return"mark"in e}class p6{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Fp(t)?Gjt(t.mark)===this.name:!1}}const Kjt={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Yjt={count:1,min:1,max:1};function Um(e){return!!e&&!!e.argmin}function Ky(e){return!!e&&!!e.argmax}function $ee(e){return Qn(e)&&!!Kjt[e]}const Xjt=["count","valid","missing","distinct"];function ERe(e){return Qn(e)&&Cn(Xjt,e)}function Zjt(e){return Qn(e)&&Cn(["min","max"],e)}const Jjt=["count","sum","distinct","valid","missing"],Qjt=["mean","average","median","q1","q3","min","max"],eHt=qy(Qjt),Kh="row",Yh="column",g6="facet",Rs="x",So="y",af="x2",Hd="y2",qd="radius",Mp="radius2",lf="theta",Pp="theta2",Gd="latitude",Kd="longitude",uf="latitude2",Vu="longitude2",kl="color",Yd="fill",Xd="stroke",El="shape",Lp="size",Yy="angle",Bp="opacity",C0="fillOpacity",S0="strokeOpacity",$0="strokeWidth",k0="strokeDash",XA="text",ZA="order",JA="detail",m6="key",j1="tooltip",v6="href",y6="url",b6="description",tHt={x:1,y:1,x2:1,y2:1},_Re={theta:1,theta2:1,radius:1,radius2:1};function TRe(e){return e in _Re}const kee={longitude:1,longitude2:1,latitude:1,latitude2:1};function nHt(e){switch(e){case Gd:return"y";case uf:return"y2";case Kd:return"x";case Vu:return"x2"}}function rHt(e){return e in kee}const sHt=kt(kee),Eee=Object.assign(Object.assign(Object.assign(Object.assign({},tHt),_Re),kee),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function yw(e){return e===kl||e===Yd||e===Xd}const ARe={row:1,column:1,facet:1},_u=kt(ARe),w6=Object.assign(Object.assign({},Eee),ARe),IRe=kt(w6),{order:w3n,detail:x3n,tooltip:C3n}=w6,NRe=mn(w6,["order","detail","tooltip"]),{row:S3n,column:$3n,facet:k3n}=NRe,oHt=mn(NRe,["row","column","facet"]);function iHt(e){return!!oHt[e]}function DRe(e){return!!w6[e]}const aHt=[af,Hd,uf,Vu,Pp,Mp];function ORe(e){return Xy(e)!==e}function Xy(e){switch(e){case af:return Rs;case Hd:return So;case uf:return Gd;case Vu:return Kd;case Pp:return lf;case Mp:return qd}return e}function jm(e){if(TRe(e))switch(e){case lf:return"startAngle";case Pp:return"endAngle";case qd:return"outerRadius";case Mp:return"innerRadius"}return e}function Zd(e){switch(e){case Rs:return af;case So:return Hd;case Gd:return uf;case Kd:return Vu;case lf:return Pp;case qd:return Mp}}function Jd(e){switch(e){case Rs:case af:return"width";case So:case Hd:return"height"}}function lHt(e){switch(e){case Rs:return"xOffset";case So:return"yOffset";case af:return"x2Offset";case Hd:return"y2Offset";case lf:return"thetaOffset";case qd:return"radiusOffset";case Pp:return"theta2Offset";case Mp:return"radius2Offset"}}const{x:E3n,y:_3n,x2:T3n,y2:A3n,latitude:I3n,longitude:N3n,latitude2:D3n,longitude2:O3n,theta:R3n,theta2:F3n,radius:M3n,radius2:P3n}=Eee,x6=mn(Eee,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),uHt=kt(x6),E0={x:1,y:1},Wu=kt(E0);function xd(e){return e in E0}const _ee={theta:1,radius:1},cHt=kt(_ee);function C6(e){return e==="width"?Rs:So}const{text:L3n,tooltip:B3n,href:z3n,url:V3n,description:W3n,detail:U3n,key:j3n,order:H3n}=x6,RRe=mn(x6,["text","tooltip","href","url","description","detail","key","order"]),fHt=kt(RRe);function dHt(e){return!!x6[e]}function hHt(e){switch(e){case kl:case Yd:case Xd:case Lp:case El:case Bp:case $0:case k0:return!0;case C0:case S0:case Yy:return!1}}const FRe=Object.assign(Object.assign(Object.assign({},E0),_ee),RRe),S6=kt(FRe);function _0(e){return!!FRe[e]}function pHt(e,t){return mHt(e)[t]}const Tee={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:q3n}=Tee,gHt=mn(Tee,["geoshape"]);function mHt(e){switch(e){case kl:case Yd:case Xd:case b6:case JA:case m6:case j1:case v6:case ZA:case Bp:case C0:case S0:case $0:case g6:case Kh:case Yh:return Tee;case Rs:case So:case Gd:case Kd:return gHt;case af:case Hd:case uf:case Vu:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Lp:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case k0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case El:return{point:"always",geoshape:"always"};case XA:return{text:"always"};case Yy:return{point:"always",square:"always",text:"always"};case y6:return{image:"always"};case lf:return{text:"always",arc:"always"};case qd:return{text:"always",arc:"always"};case Pp:case Mp:return{arc:"always"}}}function P3(e){switch(e){case Rs:case So:case lf:case qd:case Lp:case Yy:case $0:case Bp:case C0:case S0:case af:case Hd:case Pp:case Mp:return;case g6:case Kh:case Yh:case El:case k0:case XA:case j1:case v6:case y6:case b6:return"discrete";case kl:case Yd:case Xd:return"flexible";case Gd:case Kd:case uf:case Vu:case JA:case m6:case ZA:return}}function MRe(e){return KA(e)&&(e=I6(e,void 0)),"bin"+kt(e).map(t=>$6(e[t])?ks(`_${t}_${Object.entries(e[t])}`):ks(`_${t}_${e[t]}`)).join("")}function ls(e){return e===!0||QA(e)&&!e.binned}function ka(e){return e==="binned"||QA(e)&&e.binned===!0}function QA(e){return Ko(e)}function $6(e){return e?.selection}function $de(e){switch(e){case Kh:case Yh:case Lp:case kl:case Yd:case Xd:case $0:case Bp:case C0:case S0:case El:return 6;case k0:return 4;default:return 10}}function Aee(e){return`Invalid specification ${JSON.stringify(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const vHt='Autosize "fit" only works for single views and layered views.';function kde(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Ede(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function _de(e){return e?`Dropping "fit-${e}" because spec has discrete ${Jd(e)}.`:'Dropping "fit" because spec has discrete size.'}function Tde(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function yHt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function bHt(e){return`The "nearest" transform is not supported for ${e} marks.`}function PRe(e){return`Selection not supported for ${e} yet.`}function wHt(e){return`Cannot find a selection named "${e}".`}const xHt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",CHt="Legend bindings are only supported for selections over an individual field or encoding channel.";function SHt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}function $Ht(e){return`Unknown repeated value "${e}".`}function Ade(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const kHt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function EHt(e){return`Unrecognized parse "${e}".`}function Ide(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function _Ht(e){return`Ignoring an invalid transform: ${Ss(e)}.`}const THt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Nde(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function AHt(e){return`Layer's shared ${e.join(",")} channel ${e.length===1?"is":"are"} overriden.`}function IHt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Ss(t)} is overridden by a child projection ${Ss(n)}.`}const NHt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function DHt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Ss(n)}}.`}function LRe(e){return`Invalid field type "${e}".`}function OHt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function RHt(e){return`Invalid aggregation operator "${e}".`}function FHt(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function BRe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function $j(e,t){return`Dropping ${Ss(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const MHt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function k6(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function PHt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function LHt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function BHt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Y9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function zHt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function VHt(e,t){return`Specified orient "${e}" overridden with "${t}".`}const WHt=`Scale's "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.`;function UHt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function jHt(e){return`Using unaggregated domain with raw field has no effect (${Ss(e)}).`}function HHt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function qHt(e){return`Unaggregated domain is currently unsupported for log scale (${Ss(e)}).`}function GHt(e){return`Cannot apply size to non-oriented mark "${e}".`}function KHt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function YHt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function zRe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function VRe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function XHt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ss(n)} and ${Ss(r)}). Using ${Ss(n)}.`}function ZHt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ss(n)} and ${Ss(r)}). Using the union of the two domains.`}function JHt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function QHt(e){return`Dropping sort property ${Ss(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Dde="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",eqt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",tqt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",nqt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function rqt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function sqt(e){return`Cannot stack non-linear scale (${e}).`}function oqt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function DF(e,t){return`Invalid ${e}: ${Ss(t)}.`}function iqt(e){return`Dropping day from datetime ${Ss(e)} as day cannot be combined with other units.`}function aqt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function lqt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function uqt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function cqt(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`}function Ode(e){return`1D error band does not support ${e}.`}function WRe(e){return`Channel ${e} is required for "binned" bin.`}function fqt(e){return`Domain for ${e} is required for threshold scale.`}const URe=fjt(fRe);let $x=URe;function dqt(e){return $x=e,$x}function hqt(){return $x=URe,$x}function Ct(...e){$x.warn(...e)}function pqt(...e){$x.debug(...e)}function RC(e){if(e&&Ko(e)){for(const t of Nee)if(t in e)return!0}return!1}const jRe=["january","february","march","april","may","june","july","august","september","october","november","december"],gqt=jRe.map(e=>e.substr(0,3)),HRe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],mqt=HRe.map(e=>e.substr(0,3));function vqt(e){if(bee(e)&&(e=+e),lo(e))return e>4&&Ct(DF("quarter",e)),e-1;throw new Error(DF("quarter",e))}function yqt(e){if(bee(e)&&(e=+e),lo(e))return e-1;{const t=e.toLowerCase(),n=jRe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),s=gqt.indexOf(r);if(s!==-1)return s;throw new Error(DF("month",e))}}function bqt(e){if(bee(e)&&(e=+e),lo(e))return e%7;{const t=e.toLowerCase(),n=HRe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),s=mqt.indexOf(r);if(s!==-1)return s;throw new Error(DF("day",e))}}function Iee(e,t){const n=[];if(t&&e.day!==void 0&&kt(e).length>1&&(Ct(iqt(e)),e=er(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?yqt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?vqt(e.quarter):e.quarter;n.push(lo(r)?r*3:r+"*3")}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?bqt(e.day):e.day;n.push(lo(r)?r+1:r+"+1")}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const s=e[r];n.push(typeof s>"u"?0:s)}return n}function jE(e){const n=Iee(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function wqt(e){const n=Iee(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function xqt(e){const t=Iee(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const qRe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Nee=kt(qRe);function Cqt(e){return!!qRe[e]}function Dee(e){return e.startsWith("utc")}function Sqt(e){return e.substr(3)}const $qt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Oee(e){const t=[];for(const n of Nee)GRe(e,n)&&t.push(n);return t}function GRe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function kqt(e,t,{end:n}={end:!1}){const r=vRe(t),s=Dee(e)?"utc":"";function o(l){return l==="quarter"?`(${s}quarter(${r})-1)`:`${s}${l}(${r})`}let i;const a={};for(const l of Nee)GRe(e,l)&&(a[l]=o(l),i=l);return n&&(a[i]+="+1"),wqt(a)}function KRe(e){if(!e)return;const t=Oee(e);return`timeUnitSpecifier(${zE(t)}, ${zE($qt)})`}function Eqt(e,t,n){if(!e)return;const r=KRe(e);return`${n||Dee(e)?"utc":"time"}Format(${t}, ${r})`}function La(e){if(!e)return;let t;return Qn(e)?t={unit:e}:Ko(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Dee(t.unit)&&(t.utc=!0,t.unit=Sqt(t.unit)),t}function _qt(e){const t=La(e),{utc:n}=t,r=mn(t,["utc"]);return r.unit?(n?"utc":"")+kt(r).map(s=>ks(`${s==="unit"?"":`_${s}_`}${r[s]}`)).join(""):(n?"utc":"")+"timeunit"+kt(r).map(s=>ks(`_${s}_${r[s]}`)).join("")}function An(e){return e&&!!e.signal}function T0(e){return!!e.step}function Tqt(e){return wn(e)?!1:"fields"in e&&!("data"in e)}function Aqt(e){return wn(e)?!1:"fields"in e&&"data"in e}function Ug(e){return wn(e)?!1:"field"in e&&"data"in e}const Iqt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1},Nqt=kt(Iqt),Dqt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},X9=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Oqt(e){return e?.selection}function Ree(e){return e&&!!e.field&&e.equal!==void 0}function YRe(e){return e&&!!e.field&&e.lt!==void 0}function XRe(e){return e&&!!e.field&&e.lte!==void 0}function ZRe(e){return e&&!!e.field&&e.gt!==void 0}function JRe(e){return e&&!!e.field&&e.gte!==void 0}function Fee(e){if(e&&e.field){if(wn(e.range)&&e.range.length===2)return!0;if(An(e.range))return!0}return!1}function Mee(e){return e&&!!e.field&&(wn(e.oneOf)||wn(e.in))}function Rqt(e){return e&&!!e.field&&e.valid!==void 0}function QRe(e){return Mee(e)||Ree(e)||Fee(e)||YRe(e)||ZRe(e)||XRe(e)||JRe(e)}function kf(e,t){return Zee(e,{timeUnit:t,wrapTime:!0})}function Fqt(e,t){return e.map(n=>kf(n,t))}function eFe(e,t=!0){var n;const{field:r}=e,s=(n=La(e.timeUnit))===null||n===void 0?void 0:n.unit,o=s?"time("+kqt(s,r)+")":It(e,{expr:"datum"});if(Ree(e))return o+"==="+kf(e.equal,s);if(YRe(e)){const i=e.lt;return`${o}<${kf(i,s)}`}else if(ZRe(e)){const i=e.gt;return`${o}>${kf(i,s)}`}else if(XRe(e)){const i=e.lte;return`${o}<=${kf(i,s)}`}else if(JRe(e)){const i=e.gte;return`${o}>=${kf(i,s)}`}else{if(Mee(e))return`indexof([${Fqt(e.oneOf,s).join(",")}], ${o}) !== -1`;if(Rqt(e))return Pee(o,e.valid);if(Fee(e)){const{range:i}=e,a=An(i)?{signal:`${i.signal}[0]`}:i[0],l=An(i)?{signal:`${i.signal}[1]`}:i[1];if(a!==null&&l!==null&&t)return"inrange("+o+", ["+kf(a,s)+", "+kf(l,s)+"])";const u=[];return a!==null&&u.push(`${o} >= ${kf(a,s)}`),l!==null&&u.push(`${o} <= ${kf(l,s)}`),u.length>0?u.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${JSON.stringify(e)}`)}function Pee(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Mqt(e){var t;return QRe(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:(t=La(e.timeUnit))===null||t===void 0?void 0:t.unit}):e}const FC={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},H1=FC.quantitative,Lee=FC.ordinal,kx=FC.temporal,Bee=FC.nominal,MC=FC.geojson,Pqt=kt(FC);function Lqt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case H1:return"quantitative";case"t":case kx:return"temporal";case"o":case Lee:return"ordinal";case"n":case Bee:return"nominal";case MC:return"geojson"}}const Qs={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",POINT:"point",BAND:"band"},kj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Bqt=kt(kj);function zqt(e,t){const n=kj[e],r=kj[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const Vqt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Rde(e){return Vqt[e]}const tFe=["linear","log","pow","sqrt","symlog","time","utc"],Wqt=qy(tFe),Uqt=["linear","log","pow","sqrt","symlog"],jqt=qy(Uqt);function Hqt(e){return e in jqt}const qqt=["quantile","quantize","threshold"],Gqt=qy(qqt),Kqt=tFe.concat(["quantile","quantize","threshold","sequential","identity"]),Yqt=qy(Kqt),Xqt=["ordinal","bin-ordinal","point","band"],Zqt=qy(Xqt);function _l(e){return e in Zqt}function Uu(e){return e in Yqt}function xc(e){return e in Wqt}function OF(e){return e in Gqt}const Jqt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function Qqt(e){return!Qn(e)&&!!e.name}function nFe(e){return e?.selection}function eGt(e){return e&&e.unionWith}const rFe={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:G3n,domain:K3n,range:Y3n,scheme:X3n}=rFe,tGt=mn(rFe,["type","domain","range","scheme"]),nGt=kt(tGt);rGt();function sFe(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!Cn(["point","band","identity"],e);case"bins":return!Cn(["point","band","identity","ordinal"],e);case"round":return xc(e)||e==="band"||e==="point";case"padding":return xc(e)||Cn(["point","band"],e);case"paddingOuter":case"align":return Cn(["point","band"],e);case"paddingInner":return e==="band";case"domainMid":case"clamp":return xc(e);case"nice":return xc(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Uu(e)&&!Cn(["log","time","utc","threshold","quantile"],e)}}function oFe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return yw(e)?void 0:UHt(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function iFe(e,t){return Cn([Lee,Bee],t)?e===void 0||_l(e):t===kx?Cn([Qs.TIME,Qs.UTC,void 0],e):t===H1?Cn([Qs.LOG,Qs.POW,Qs.SQRT,Qs.SYMLOG,Qs.QUANTILE,Qs.QUANTIZE,Qs.THRESHOLD,Qs.LINEAR,void 0],e):!0}function aFe(e,t){if(!_0(e))return!1;switch(e){case Rs:case So:case lf:case qd:return xc(t)||Cn(["band","point"],t);case Lp:case $0:case Bp:case C0:case S0:case Yy:return xc(t)||OF(t)||Cn(["band","point","ordinal"],t);case kl:case Yd:case Xd:return t!=="band";case k0:return t==="ordinal"||OF(t);case El:return t==="ordinal"}}function rGt(){var e;const t={};for(const n of IRe)for(const r of Pqt)for(const s of Bqt){const o=sGt(n,r);aFe(n,s)&&iFe(s,r)&&(t[o]=(e=t[o])!==null&&e!==void 0?e:[],t[o].push(s))}return t}function sGt(e,t){return e+"_"+t}function zee(e){const{channel:t,channelDef:n,markDef:r,scale:s,config:o}=e,i=uFe(e);return Bt(n)&&!ERe(n.aggregate)&&s&&xc(s.get("type"))&&s.get("zero")===!1?lFe({fieldDef:n,channel:t,markDef:r,ref:i,config:o}):i}function lFe({fieldDef:e,channel:t,markDef:n,ref:r,config:s}){return Gy(n.type)||Dr("invalid",n,s)===null?r:[oGt(e,t),r]}function oGt(e,t){const n=Vee(e,!0),s=Xy(t)==="y"?{field:{group:"height"}}:{value:0};return Object.assign({test:n},s)}function Vee(e,t=!0){return Pee(Qn(e)?e:It(e,{expr:"datum"}),!t)}function iGt(e){const{datum:t}=e;return RC(t)?jE(t):`${JSON.stringify(t)}`}function r1(e,t,n,r){const s={};if(t&&(s.scale=t),A0(e)){const{datum:o}=e;RC(o)?s.signal=jE(o):An(o)?s.signal=o.signal:s.value=o}else s.field=It(e,n);if(r){const{offset:o,band:i}=r;o&&(s.offset=o),i&&(s.band=i)}return s}function RF({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:s,band:o=.5}){const i=0<o&&o<1?"datum":void 0,a=It(t,{expr:i,suffix:s}),l=n!==void 0?It(n,{expr:i}):It(t,{suffix:"end",expr:i}),u={};if(o===0||o===1){u.scale=e;const c=o===0?a:l;u.field=c}else{const c=`${o} * ${a} + ${1-o} * ${l}`;u.signal=`scale("${e}", ${c})`}return r&&(u.offset=r),u}function uFe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:s,scaleName:o,scale:i,stack:a,offset:l,defaultRef:u,band:c}){var f;if(t){if(On(t)){if(ou(t)){c=c??tI({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:a,config:s,isMidPoint:!0});const{bin:h,timeUnit:p,type:g}=t;if(ls(h)||c&&p&&g===kx)return a&&a.impute?r1(t,o,{binSuffix:"mid"},{offset:l}):c?RF({scaleName:o,fieldOrDatumDef:t,band:c,offset:l}):r1(t,o,nI(t,e)?{binSuffix:"range"}:{},{offset:l});if(ka(h)){if(Bt(n))return RF({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,band:c,offset:l});Ct(WRe(e===Rs?af:Hd))}}const d=i?.get("type");return r1(t,o,_l(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?(f=c??t.band)!==null&&f!==void 0?f:.5:void 0})}else if(mp(t)){const d=t.value,h=l?{offset:l}:{};return Object.assign(Object.assign({},ak(e,d)),h)}}return hjt(u)&&(u=u()),u&&Object.assign(Object.assign({},u),l?{offset:l}:{})}function ak(e,t){return Cn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Cn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Ys(t)}function q1(e){return e&&e!=="number"&&e!=="time"}function cFe(e,t,n){return`${e}(${t}${n?`, ${JSON.stringify(n)}`:""})`}const aGt="  ";function Wee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:s,config:o}){var i,a;if(q1(n))return Uee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const l=fFe(e,r,s);if(N6(e)){const u=uGt(l,Bt(e)?(i=La(e.timeUnit))===null||i===void 0?void 0:i.unit:void 0,t,o.timeFormat,Kee(e)&&((a=e.scale)===null||a===void 0?void 0:a.type)===Qs.UTC);return u?{signal:u}:void 0}if(t=pFe(xg(e),t,o),Bt(e)&&ls(e.bin)){const u=It(e,{expr:r,binSuffix:"end"});return{signal:E6(l,u,t,n,o)}}else return t||xg(e)==="quantitative"?{signal:`${gFe(l,t)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function fFe(e,t,n){return Bt(e)?n?`${It(e,{expr:t,suffix:"end"})}-${It(e,{expr:t,suffix:"start"})}`:It(e,{expr:t}):iGt(e)}function Uee({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:s,config:o,field:i}){if(i=i??fFe(e,r,s),Bt(e)&&ls(e.bin)){const a=It(e,{expr:r,binSuffix:"end"});return{signal:E6(i,a,t,n,o)}}return{signal:cFe(n,i,t)}}function dFe(e,t,n,r,s,o){var i;if(!q1(r)){if(N6(e)){const a=Bt(e)?(i=La(e.timeUnit))===null||i===void 0?void 0:i.unit:void 0;return lGt(n,a,s,o)}return pFe(t,n,s)}}function hFe(e,t,n){if(e&&(An(e)||e==="number"||e==="time"))return e;if(N6(t)&&n!=="time"&&n!=="utc")return"time"}function pFe(e,t,n){if(Qn(t))return t;if(e===H1)return n.numberFormat}function lGt(e,t,n,r){return e||(t?{signal:KRe(t)}:r?void 0:n.timeFormat)}function gFe(e,t){return`format(${e}, "${t||""}")`}function Fde(e,t,n,r){var s;return q1(n)?cFe(n,e,t):gFe(e,(s=Qn(t)?t:void 0)!==null&&s!==void 0?s:r.numberFormat)}function E6(e,t,n,r,s){const o=Fde(e,n,r,s),i=Fde(t,n,r,s);return`${Pee(e,!1)} ? "null" : ${o} + "${aGt}" + ${i}`}function uGt(e,t,n,r,s){return!t||n?(n=Qn(n)?n:r,`${s?"utc":"time"}Format(${e}, '${n}')`):Eqt(t,e,s)}const _6="min",cGt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Mde(e){return e in cGt}function mFe(e){return!!e&&!!e.encoding}function Jf(e){return!!e&&(e.op==="count"||!!e.field)}function vFe(e){return!!e&&wn(e)}function eI(e){return"row"in e||"column"in e}function jee(e){return!!e&&"header"in e}function T6(e){return"facet"in e}function fGt(e){return e.selection}function dGt(e){return e&&!Qn(e)&&"repeat"in e}function Pde(e){const{field:t,timeUnit:n,bin:r,aggregate:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),s?{aggregate:s}:{}),{field:t})}function yFe(e){return ou(e)&&"sort"in e}function tI({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:s,config:o,isMidPoint:i}){if(On(t)&&t.band!==void 0)return t.band;if(Bt(t)){const{timeUnit:a,bin:l}=t;if(a&&!n)return i?G1("timeUnitBandPosition",r,o):Cde(r.type)?G1("timeUnitBand",r,o):0;if(ls(l))return Cde(r.type)&&!i?1:.5}if(s?.fieldChannel===e&&i)return .5}function Hee(e,t,n,r,s,o){return ls(t.bin)||t.timeUnit&&ou(t)&&t.type==="temporal"?!!tI({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:s,config:o}):!1}function qee(e){return!!e&&"condition"in e}function A6(e){const t=e&&e.condition;return!!t&&!wn(t)&&Bt(t)}function Gee(e){const t=e&&e.condition;return!!t&&!wn(t)&&On(t)}function hGt(e){const t=e&&e.condition;return!!t&&(wn(t)||mp(t))}function Bt(e){return!!e&&(!!e.field||e.aggregate==="count")}function xg(e){return e&&e.type}function A0(e){return!!e&&"datum"in e}function Vf(e){return ou(e)&&CFe(e)||Ej(e)}function Ej(e){return A0(e)&&lo(e.datum)}function On(e){return Bt(e)||A0(e)}function ou(e){return!!e&&("field"in e&&"type"in e||e.aggregate==="count")}function mp(e){return e&&"value"in e&&"value"in e}function Kee(e){return!!e&&("scale"in e||"sort"in e)}function Yee(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function bFe(e){return!!e&&"legend"in e}function wFe(e){return!!e&&("format"in e||"formatType"in e)}function pGt(e){return"op"in e}function It(e,t={}){var n,r,s;let o=e.field;const i=t.prefix;let a=t.suffix,l="";if(gGt(e))o=Ijt("count");else{let u;if(!t.nofn)if(pGt(e))u=e.op;else{const{bin:c,aggregate:f,timeUnit:d}=e;ls(c)?(u=MRe(c),a=((n=t.binSuffix)!==null&&n!==void 0?n:"")+((r=t.suffix)!==null&&r!==void 0?r:"")):f?Ky(f)?(l=`["${o}"]`,o=`argmax_${f.argmax}`):Um(f)?(l=`["${o}"]`,o=`argmin_${f.argmin}`):u=String(f):d&&(u=_qt(d),a=(!Cn(["range","mid"],t.binSuffix)&&t.binSuffix||"")+((s=t.suffix)!==null&&s!==void 0?s:""))}u&&(o=o?`${u}_${o}`:u)}return a&&(o=`${o}_${a}`),i&&(o=`${i}_${o}`),t.forAs?yRe(o):t.expr?Ejt(o,t.expr)+l:Wm(o)+l}function xFe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Bt(e)&&!!e.bin;case"temporal":return!1}throw new Error(LRe(e.type))}function CFe(e){return!xFe(e)}function gGt(e){return e.aggregate==="count"}function mGt(e,t){var n;const{field:r,bin:s,timeUnit:o,aggregate:i}=e;if(i==="count")return t.countTitle;if(ls(s))return`${r} (binned)`;if(o){const a=(n=La(o))===null||n===void 0?void 0:n.unit;if(a)return`${r} (${Oee(a).join("-")})`}else if(i)return Ky(i)?`${r} for max ${i.argmax}`:Um(i)?`${r} for min ${i.argmin}`:`${u6(i)} of ${r}`;return r}function vGt(e){const{aggregate:t,bin:n,timeUnit:r,field:s}=e;if(Ky(t))return`${s} for argmax(${t.argmax})`;if(Um(t))return`${s} for argmin(${t.argmin})`;const o=La(r),i=t||o?.unit||o?.maxbins&&"timeunit"||ls(n)&&"bin";return i?i.toUpperCase()+"("+s+")":s}const SFe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return vGt(e);default:return mGt(e,t)}};let $Fe=SFe;function kFe(e){$Fe=e}function yGt(){kFe(SFe)}function s1(e,t,{allowDisabling:n,includeDefault:r=!0}){var s,o;const a=((s=Xee(e))!==null&&s!==void 0?s:{}).title;if(!Bt(e))return a;const l=e,u=r?EFe(l,t):void 0;return n?uo(a,l.title,u):(o=a??l.title)!==null&&o!==void 0?o:u}function Xee(e){if(Yee(e)&&e.axis)return e.axis;if(bFe(e)&&e.legend)return e.legend;if(jee(e)&&e.header)return e.header}function EFe(e,t){return $Fe(e,t)}function FF(e){var t;if(wFe(e)){const{format:n,formatType:r}=e;return{format:n,formatType:r}}else{const n=(t=Xee(e))!==null&&t!==void 0?t:{},{format:r,formatType:s}=n;return{format:r,formatType:s}}}function bGt(e,t){if(e.timeUnit)return"temporal";if(ls(e.bin))return"quantitative";switch(P3(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function Cd(e){if(Bt(e))return e;if(A6(e))return e.condition}function wo(e){if(On(e))return e;if(Gee(e))return e.condition}function _j(e,t,n){if(Qn(e)||lo(e)||KA(e)){const r=Qn(e)?"string":lo(e)?"number":"boolean";return Ct(DHt(t,r,e)),{value:e}}return On(e)?MF(e,t,n):Gee(e)?Object.assign(Object.assign({},e),{condition:MF(e.condition,t,n)}):e}function MF(e,t,n){if(wFe(e)){const{format:r,formatType:s}=e,o=mn(e,["format","formatType"]);if(q1(s)&&!n.customFormatTypes)return Ct(Nde(t)),MF(o,t,n)}else{const r=Yee(e)?"axis":bFe(e)?"legend":jee(e)?"header":null;if(r&&e[r]){const s=e[r],{format:o,formatType:i}=s,a=mn(s,["format","formatType"]);if(q1(i)&&!n.customFormatTypes)return Ct(Nde(t)),MF(Object.assign(Object.assign({},e),{[r]:a}),t,n)}}return Bt(e)?_Fe(e,t):wGt(e)}function wGt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=lo(n)?"quantitative":Qn(n)?"nominal":RC(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}function _Fe(e,t){const{aggregate:n,timeUnit:r,bin:s,field:o}=e,i=Object.assign({},e);if(n&&!$ee(n)&&!Ky(n)&&!Um(n)&&(Ct(RHt(n)),delete i.aggregate),r&&(i.timeUnit=La(r)),o&&(i.field=`${o}`),ls(s)&&(i.bin=I6(s,t)),ka(s)&&!xd(t)&&Ct(`Channel ${t} should not be used with "binned" bin.`),ou(i)){const{type:a}=i,l=Lqt(a);a!==l&&(i.type=l),a!=="quantitative"&&ERe(n)&&(Ct(OHt(a,n)),i.type="quantitative")}else if(!ORe(t)){const a=bGt(i,t);Ct(FHt(t,a)),i.type=a}if(ou(i)){const{compatible:a,warning:l}=xGt(i,t);a||Ct(l)}if(yFe(i)&&Qn(i.sort)){const{sort:a}=i;if(Mde(a))return Object.assign(Object.assign({},i),{sort:{encoding:a}});const l=a.substr(1);if(a.charAt(0)==="-"&&Mde(l))return Object.assign(Object.assign({},i),{sort:{encoding:l,order:"descending"}})}if(jee(i)){const{header:a}=i,{orient:l}=a,u=mn(a,["orient"]);if(l)return Object.assign(Object.assign({},i),{header:Object.assign(Object.assign({},u),{labelOrient:a.labelOrient||l,titleOrient:a.titleOrient||l})})}return i}function I6(e,t){return KA(e)?{maxbins:$de(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign(Object.assign({},e),{maxbins:$de(t)}):e}const U0={compatible:!0};function xGt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Kh:case Yh:case g6:return CFe(e)?{compatible:!1,warning:LHt(t)}:U0;case Rs:case So:case kl:case Yd:case Xd:case XA:case JA:case m6:case j1:case v6:case y6:case Yy:case lf:case qd:case b6:return U0;case Kd:case Vu:case Gd:case uf:return n!==H1?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:U0;case Bp:case C0:case S0:case $0:case Lp:case Pp:case Mp:case af:case Hd:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:U0;case k0:return Cn(["ordinal","nominal"],e.type)?U0:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case El:return Cn(["ordinal","nominal","geojson"],e.type)?U0:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case ZA:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:U0}}function N6(e){const{formatType:t}=FF(e);return t==="time"||!t&&CGt(e)}function CGt(e){return e&&(e.type==="temporal"||Bt(e)&&!!e.timeUnit)}function Zee(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:s}){var o;const i=t&&((o=La(t))===null||o===void 0?void 0:o.unit);let a=i||n==="temporal",l;return An(e)?l=e.signal:RC(e)?(a=!0,l=jE(e)):(Qn(e)||lo(e))&&a&&(l=`datetime(${JSON.stringify(e)})`,Cqt(i)&&(lo(e)&&e<1e4||Qn(e)&&isNaN(Date.parse(e)))&&(l=jE({[i]:e}))),l?r&&a?`time(${l})`:l:s?void 0:JSON.stringify(e)}function TFe(e,t){const{type:n}=e;return t.map(r=>{const s=Zee(r,{timeUnit:Bt(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function nI(e,t){return ls(e.bin)?_0(t)&&Cn(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function AFe(e){const{anchor:t,frame:n,offset:r,orient:s,color:o,subtitleColor:i,subtitleFont:a,subtitleFontSize:l,subtitleFontStyle:u,subtitleFontWeight:c,subtitleLineHeight:f,subtitlePadding:d}=e,h=mn(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),o?{fill:o}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),s?{orient:s}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i?{subtitleColor:i}:{}),a?{subtitleFont:a}:{}),l?{subtitleFontSize:l}:{}),u?{subtitleFontStyle:u}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{}),v=VE(p,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:p,subtitleMarkConfig:v,nonMark:g,subtitle:m}}function Cg(e){return Qn(e)||wn(e)&&Qn(e[0])}function Ys(e){return An(e)?e:e!==void 0?{value:e}:void 0}function Lde(e){return An(e)?e.signal:gr(e.value)}function HE(e){return An(e)?e.signal:e==null?null:gr(e)}function SGt(e,t,n){for(const r of n){const s=G1(r,t.markDef,t.config);s!==void 0&&(e[r]=Ys(s))}return e}function IFe(e){var t;return[].concat(e.type,(t=e.style)!==null&&t!==void 0?t:[])}function Dr(e,t,n,r={}){const{vgChannel:s,ignoreVgConfig:o}=r;return s&&t[s]!==void 0?t[s]:t[e]!==void 0?t[e]:o&&(!s||s===e)?void 0:G1(e,t,n,r)}function G1(e,t,n,{vgChannel:r}={}){return uo(r?PF(e,t,n.style):void 0,PF(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function PF(e,t,n){return NFe(e,IFe(t),n)}function NFe(e,t,n){t=Js(t);let r;for(const s of t){const o=n[s];o&&o[e]!==void 0&&(r=o[e])}return r}function DFe(e,t){return Js(e).reduce((n,r)=>{var s;return n.field.push(It(r,t)),n.order.push((s=r.sort)!==null&&s!==void 0?s:"ascending"),n},{field:[],order:[]})}function OFe(e,t){const n=[...e];return t.forEach(r=>{for(const s of n)if(YA(s,r))return;n.push(r)}),n}function RFe(e,t){return YA(e,t)||!t?e:e?[...Js(e),...Js(t)].join(", "):t}function FFe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Cg(n)||An(n))&&(Cg(r)||An(r)))return{explicit:e.explicit,value:RFe(n,r)};if(Cg(n)||An(n))return{explicit:e.explicit,value:n};if(Cg(r)||An(r))return{explicit:e.explicit,value:r};if(!Cg(n)&&!An(n)&&!Cg(r)&&!An(r))return{explicit:e.explicit,value:OFe(n,r)};throw new Error("It should never reach here")}function o1(e,t){const n=e&&e[t];return n?wn(n)?WE(n,r=>!!r.field):Bt(n)||A6(n):!1}function Jee(e){return WE(IRe,t=>{if(o1(e,t)){const n=e[t];if(wn(n))return WE(n,r=>!!r.aggregate);{const r=Cd(n);return r&&!!r.aggregate}}return!1})}function Qee(e,t){const n=[],r=[],s=[],o=[],i={};return ete(e,(a,l)=>{if(Bt(a)){const{field:u,aggregate:c,bin:f,timeUnit:d}=a,h=mn(a,["field","aggregate","bin","timeUnit"]);if(c||d||f){const p=Xee(a),g=p&&p.title;let m=It(a,{forAs:!0});const v=Object.assign(Object.assign(Object.assign({},g?[]:{title:s1(a,t,{allowDisabling:!0})}),h),{field:m});if(c){let y;if(Ky(c)?(y="argmax",m=It({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${m}.${u}`):Um(c)?(y="argmin",m=It({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const w={op:y,as:m};u&&(w.field=u),o.push(w)}}else if(n.push(m),ou(a)&&ls(f)){if(r.push({bin:f,field:u,as:m}),n.push(It(a,{binSuffix:"end"})),nI(a,l)&&n.push(It(a,{binSuffix:"range"})),xd(l)){const y={field:m+"_end"};i[l+"2"]=y}v.bin="binned",ORe(l)||(v.type=H1)}else if(d){s.push({timeUnit:d,field:u,as:m});const y=ou(a)&&a.type!==kx&&"time";y&&(l===XA||l===j1?v.formatType=y:dHt(l)?v.legend=Object.assign({formatType:y},v.legend):xd(l)&&(v.axis=Object.assign({formatType:y},v.axis)))}i[l]=v}else n.push(u),i[l]=e[l]}else i[l]=e[l]}),{bins:r,timeUnits:s,aggregate:o,groupby:n,encoding:i}}function $Gt(e,t,n){const r=pHt(t,n);if(r){if(r==="binned"){const s=e[t===af?Rs:So];return!!(Bt(s)&&Bt(e[t])&&ka(s.bin))}}else return!1;return!0}function kGt(e,t,n){const r=t.type;return kt(e).reduce((s,o)=>{if(!DRe(o))return Ct(PHt(o)),s;const i=e[o];if(o==="angle"&&r==="arc"&&!e.theta&&(Ct(NHt),o=lf),!$Gt(e,o,r))return Ct(k6(o,r)),s;if(o===Lp&&r==="line"){const a=Cd(e[o]);if(a?.aggregate)return Ct(MHt),s}if(o===kl&&(t.filled?"fill"in e:"stroke"in e))return Ct(BRe("encoding",{fill:"fill"in e,stroke:"stroke"in e})),s;if(o===JA||o===ZA&&!wn(i)&&!mp(i)||o===j1&&wn(i))i&&(s[o]=Js(i).reduce((a,l)=>(Bt(l)?a.push(_Fe(l,o)):Ct($j(l,o)),a),[]));else{if(o===j1&&i===null)s[o]=null;else if(!Bt(i)&&!A0(i)&&!mp(i)&&!qee(i)&&!An(i))return Ct($j(i,o)),s;s[o]=_j(i,o,n)}return s},{})}function EGt(e){const t=[];for(const n of kt(e))if(o1(e,n)){const r=e[n],s=Js(r);for(const o of s)Bt(o)?t.push(o):A6(o)&&t.push(o.condition)}return t}function ete(e,t,n){if(e)for(const r of kt(e)){const s=e[r];if(wn(s))for(const o of s)t.call(n,o,r);else t.call(n,s,r)}}function MFe(e,t,n,r){return e?kt(e).reduce((s,o)=>{const i=e[o];return wn(i)?i.reduce((a,l)=>t.call(r,a,l,o),s):t.call(r,s,i,o)},n):n}function PFe(e,t){return kt(t).reduce((n,r)=>{switch(r){case Rs:case So:case v6:case b6:case y6:case af:case Hd:case lf:case Pp:case qd:case Mp:case Gd:case Kd:case uf:case Vu:case XA:case El:case Yy:case j1:return n;case ZA:if(e==="line"||e==="trail")return n;case JA:case m6:{const s=t[r];if(wn(s)||Bt(s))for(const o of Js(s))o.aggregate||n.push(It(o,{}));return n}case Lp:if(e==="trail")return n;case kl:case Yd:case Xd:case Bp:case C0:case S0:case k0:case $0:{const s=Cd(t[r]);return s&&!s.aggregate&&n.push(It(s,{})),n}}},[])}function _Gt(e){const{tooltip:t}=e,n=mn(e,["tooltip"]);if(!t)return{filteredEncoding:e};let r,s;if(wn(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(s||(s=[]),s.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:s=t;return wn(s)&&s.length===1&&(s=s[0]),{customTooltipWithoutAggregatedField:s,filteredEncoding:n}}function Tj(e,t,n,r=!0){return"tooltip"in n?{tooltip:n.tooltip}:{tooltip:[...e.map(({fieldPrefix:o,titlePrefix:i})=>{const a=r?` of ${t.field}`:"";return{field:o+t.field,type:t.type,title:An(i)?{signal:i+`"${escape(a)}"`}:i+a}}),...EGt(n)]}}function LFe(e){const{axis:t,title:n,field:r}=e;return t&&t.title!==void 0?void 0:uo(n,r)}function tte(e,t,n,r,s){const{scale:o,axis:i}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,aria:f,extraEncoding:d={}})=>{const h=LFe(n);return BFe(e,a,s,f,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:u+"_"+n.field,type:n.type},h!==void 0?{title:h}:{}),o!==void 0?{scale:o}:{}),i!==void 0?{axis:i}:{})},Qn(c)?{[t+"2"]:{field:c+"_"+n.field}}:{}),r),d)})}}function BFe(e,t,n,r,s){const{clip:o,color:i,opacity:a}=e,l=e.type;return e[t]||e[t]===void 0&&n[t]?[Object.assign(Object.assign({},s),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),o?{clip:o}:{}),i?{color:i}:{}),a?{opacity:a}:{}),wd(s.mark)?s.mark:{type:s.mark}),{style:`${l}-${t}`}),KA(e[t])?{}:e[t]),r===!1?{aria:r}:{})})]:[]}function zFe(e,t,n){const{encoding:r}=e,s=t==="vertical"?"y":"x",o=r[s],i=r[s+"2"],a=r[s+"Error"],l=r[s+"Error2"];return{continuousAxisChannelDef:HN(o,n),continuousAxisChannelDef2:HN(i,n),continuousAxisChannelDefError:HN(a,n),continuousAxisChannelDefError2:HN(l,n),continuousAxis:s}}function HN(e,t){if(e&&e.aggregate){const{aggregate:n}=e,r=mn(e,["aggregate"]);return n!==t&&Ct(uqt(n,t)),r}else return e}function VFe(e,t){const{mark:n,encoding:r}=e,{x:s,y:o}=r;if(Vf(s)){if(Vf(o)){const i=Bt(s)&&s.aggregate,a=Bt(o)&&o.aggregate;if(!i&&a===t)return"vertical";if(!a&&i===t)return"horizontal";if(i===t&&a===t)throw new Error("Both x and y cannot have aggregate");return wd(n)&&n.orient?n.orient:"vertical"}return"horizontal"}else{if(Vf(o))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}}const LF="boxplot",TGt=["box","median","outliers","rule","ticks"],AGt=new p6(LF,UFe);function WFe(e){return lo(e)?"tukey":e}function UFe(e,{config:t}){var n,r;const{mark:s,encoding:o,selection:i,projection:a}=e,l=mn(e,["mark","encoding","selection","projection"]),u=wd(s)?s:{type:s};i&&Ct(PRe("boxplot"));const c=(n=u.extent)!==null&&n!==void 0?n:t.boxplot.extent,f=Dr("size",u,t),d=WFe(c),{transform:h,continuousAxisChannelDef:p,continuousAxis:g,groupby:m,aggregate:v,encodingWithoutContinuousAxis:y,ticksOrient:w,boxOrient:b,customTooltipWithoutAggregatedField:C}=IGt(e,c,t),{color:S,size:$}=y,k=mn(y,["color","size"]),T=M=>tte(u,g,p,M,t.boxplot),_=T(k),E=T(y),A=T(Object.assign(Object.assign({},k),$?{size:$}:{})),N=Tj([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],p,y),F={type:"tick",color:"black",opacity:1,orient:w,invalid:null},R=d==="min-max"?N:Tj([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,y),P=[..._({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:R}),..._({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:R}),..._({partName:"ticks",mark:F,positionPrefix:"lower_whisker",aria:!1,extraEncoding:R}),..._({partName:"ticks",mark:F,positionPrefix:"upper_whisker",aria:!1,extraEncoding:R})],I=[...d!=="tukey"?P:[],...E({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:b,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:N}),...A({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Ko(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),f?{size:f}:{}),{orient:w,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:N})];let D;if(d!=="min-max"){const M=`datum["lower_box_${p.field}"]`,z=`datum["upper_box_${p.field}"]`,W=`(${z} - ${M})`,H=`${M} - ${c} * ${W}`,U=`${z} + ${c} * ${W}`,K=`datum["${p.field}"]`,G={joinaggregate:jFe(p.field),groupby:m};let re;d==="tukey"&&(re={transform:[{filter:`(${H} <= ${K}) && (${K} <= ${U})`},{aggregate:[{op:"min",field:p.field,as:"lower_whisker_"+p.field},{op:"max",field:p.field,as:"upper_whisker_"+p.field},{op:"min",field:"lower_box_"+p.field,as:"lower_box_"+p.field},{op:"max",field:"upper_box_"+p.field,as:"upper_box_"+p.field},...v],groupby:m}],layer:P});const{tooltip:ue}=k,ae=mn(k,["tooltip"]),{scale:X,axis:J}=p,q=LFe(p),L=BFe(u,"outliers",t.boxplot,!0,{transform:[{filter:`(${K} < ${H}) || (${K} > ${U})`}],mark:"point",encoding:Object.assign(Object.assign({[g]:Object.assign(Object.assign(Object.assign({field:p.field,type:p.type},q!==void 0?{title:q}:{}),X!==void 0?{scale:X}:{}),J!==void 0?{axis:J}:{})},ae),C?{tooltip:C}:{})})[0];L&&re?D={transform:[G],layer:[L,re]}:L?(D=L,D.transform.unshift(G)):re&&(D=re,D.transform.unshift(G))}return D?Object.assign(Object.assign({},l),{layer:[D,{transform:h,layer:I}]}):Object.assign(Object.assign({},l),{transform:((r=l.transform)!==null&&r!==void 0?r:[]).concat(h),layer:I})}function jFe(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}function IGt(e,t,n){const r=VFe(e,LF),{continuousAxisChannelDef:s,continuousAxis:o}=zFe(e,r,LF),i=s.field,a=WFe(t),l=[...jFe(i),{op:"median",field:i,as:"mid_box_"+i},{op:"min",field:i,as:(a==="min-max"?"lower_whisker_":"min_")+i},{op:"max",field:i,as:(a==="min-max"?"upper_whisker_":"max_")+i}],u=a==="min-max"||a==="tukey"?[]:[{calculate:`datum["upper_box_${i}"] - datum["lower_box_${i}"]`,as:"iqr_"+i},{calculate:`min(datum["upper_box_${i}"] + datum["iqr_${i}"] * ${t}, datum["max_${i}"])`,as:"upper_whisker_"+i},{calculate:`max(datum["lower_box_${i}"] - datum["iqr_${i}"] * ${t}, datum["min_${i}"])`,as:"lower_whisker_"+i}],c=e.encoding,f=o;c[f];const d=mn(c,[typeof f=="symbol"?f:f+""]),{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=_Gt(d),{bins:g,timeUnits:m,aggregate:v,groupby:y,encoding:w}=Qee(p,n),b=r==="vertical"?"horizontal":"vertical",C=r;return{transform:[...g,...m,{aggregate:[...v,...l],groupby:y},...u],groupby:y,aggregate:v,continuousAxisChannelDef:s,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:b,boxOrient:C,customTooltipWithoutAggregatedField:h}}const nte="errorbar",NGt=["ticks","rule"],DGt=new p6(nte,HFe);function HFe(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:s,encodingWithoutContinuousAxis:o,ticksOrient:i,markDef:a,outerSpec:l,tooltipEncoding:u}=qFe(e,nte,t),c=tte(a,s,r,o,t.errorbar),f={type:"tick",orient:i},d=[...c({partName:"ticks",mark:f,positionPrefix:"lower",aria:!1,extraEncoding:u}),...c({partName:"ticks",mark:f,positionPrefix:"upper",aria:!1,extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),d.length>1?{layer:d}:Object.assign({},d[0]))}function OGt(e,t){const{encoding:n}=e;if(RGt(n))return{orient:VFe(e,t),inputType:"raw"};const r=FGt(n),s=MGt(n),o=n.x,i=n.y;if(r){if(s)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(On(a)&&On(l))throw new Error(`${t} cannot have both x2 and y2`);if(On(a)){if(Vf(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(On(l)){if(Vf(i))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(On(l)&&!On(a))throw new Error(`${t} cannot have xError2 without xError`);if(On(c)&&!On(u))throw new Error(`${t} cannot have yError2 without yError`);if(On(a)&&On(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(On(a)){if(Vf(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(On(u)){if(Vf(i))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function RGt(e){return(On(e.x)||On(e.y))&&!On(e.x2)&&!On(e.y2)&&!On(e.xError)&&!On(e.xError2)&&!On(e.yError)&&!On(e.yError2)}function FGt(e){return On(e.x2)||On(e.y2)}function MGt(e){return On(e.xError)||On(e.xError2)||On(e.yError)||On(e.yError2)}function qFe(e,t,n){var r;const{mark:s,encoding:o,selection:i,projection:a}=e,l=mn(e,["mark","encoding","selection","projection"]),u=wd(s)?s:{type:s};i&&Ct(PRe(t));const{orient:c,inputType:f}=OGt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:h,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=zFe(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:w,tooltipTitleWithFieldName:b}=PGt(u,d,h,p,g,f,t,n),C=o,S=m;C[S];const $=m==="x"?"x2":"y2";C[$];const k=m==="x"?"xError":"yError";C[k];const T=m==="x"?"xError2":"yError2";C[T];const _=mn(C,[typeof S=="symbol"?S:S+"",typeof $=="symbol"?$:$+"",typeof k=="symbol"?k:k+"",typeof T=="symbol"?T:T+""]),{bins:E,timeUnits:A,aggregate:N,groupby:F,encoding:R}=Qee(_,n),P=[...N,...v],I=f!=="raw"?[]:F,D=Tj(w,d,R,b);return{transform:[...(r=l.transform)!==null&&r!==void 0?r:[],...E,...A,...P.length===0?[]:[{aggregate:P,groupby:I}],...y],groupby:I,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:R,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:D}}function PGt(e,t,n,r,s,o,i,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Ct(lqt(h,p,i)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:"extent_"+c},{op:h,field:c,as:"center_"+c}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:"upper_"+c},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:"lower_"+c}],f=[{fieldPrefix:"center_",titlePrefix:u6(h)},{fieldPrefix:"upper_",titlePrefix:Bde(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:Bde(h,p,"-")}],d=!0;else{e.center&&e.extent&&Ct(cqt(e.extent,i));let g,m,v;p==="ci"?(g="mean",m="ci0",v="ci1"):(g="median",m="q1",v="q3"),l=[{op:m,field:c,as:"lower_"+c},{op:v,field:c,as:"upper_"+c},{op:g,field:c,as:"center_"+c}],f=[{fieldPrefix:"upper_",titlePrefix:s1({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:s1({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:s1({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ct(aqt(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:"upper_"+c},{calculate:`datum["${c}"]`,as:"lower_"+c}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:"upper_"+c}],s?u.push({calculate:`datum["${c}"] + datum["${s.field}"]`,as:"lower_"+c}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:"lower_"+c}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Sx(Sx(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function Bde(e,t,n){return u6(e)+" "+n+" "+t}const rte="errorband",LGt=["band","borders"],BGt=new p6(rte,GFe);function GFe(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:s,encodingWithoutContinuousAxis:o,markDef:i,outerSpec:a,tooltipEncoding:l}=qFe(e,rte,t),u=i,c=tte(u,s,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p=Object.assign(Object.assign({},u.interpolate?{interpolate:u.interpolate}:{}),u.tension&&u.interpolate?{tension:u.tension}:{});return f?(d=Object.assign(Object.assign(Object.assign({},d),p),{ariaRoleDescription:"errorband"}),h=Object.assign(Object.assign({},h),p)):u.interpolate?Ct(Ode("interpolate")):u.tension&&Ct(Ode("tension")),Object.assign(Object.assign({},a),{transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",aria:!1,extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",aria:!1,extraEncoding:l})]})}const KFe={};function ste(e,t,n){const r=new p6(e,t);KFe[e]={normalizer:r,parts:n}}function zGt(){return kt(KFe)}ste(LF,UFe,TGt);ste(nte,HFe,NGt);ste(rte,GFe,LGt);const VGt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],YFe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],WGt={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},UGt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},jGt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ex="_vgsid_",HGt={single:{on:"click",fields:[Ex],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[Ex],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function ote(e){return!!e&&(e==="legend"||!!e.legend)}function Z9(e){return ote(e)&&Ko(e)}function qGt(e){return D6(e)||ate(e)||ite(e)}function ite(e){return"concat"in e}function D6(e){return"vconcat"in e}function ate(e){return"hconcat"in e}function Sd(e){return Ko(e)&&e.step!==void 0}function zde(e){return e.view||e.width||e.height}const Vde=20,GGt={align:1,bounds:1,center:1,columns:1,spacing:1},KGt=kt(GGt);function YGt(e,t,n){var r,s;const o=n[t],i={},{spacing:a,columns:l}=o;a!==void 0&&(i.spacing=a),l!==void 0&&(T6(e)&&!eI(e.facet)||ite(e))&&(i.columns=l),D6(e)&&(i.columns=1);for(const u of KGt)if(e[u]!==void 0)if(u==="spacing"){const c=e[u];i[u]=lo(c)?c:{row:(r=c.row)!==null&&r!==void 0?r:a,column:(s=c.column)!==null&&s!==void 0?s:a}}else i[u]=e[u];return i}function Aj(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"continuousWidth":"continuousHeight"]}function BF(e,t){const n=qE(e,t);return Sd(n)?n.step:lte}function qE(e,t){var n;const r=(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"discreteWidth":"discreteHeight"];return uo(r,{step:e.step})}const lte=20,XGt={continuousWidth:200,continuousHeight:200,step:lte},ZGt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:XGt,mark:Wjt,arc:{},area:{},bar:jjt,circle:{},geoshape:{},image:{},line:{},point:{},rect:Hjt,rule:{color:"black"},square:{},text:{color:"black"},tick:qjt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Jqt,projection:{},legend:UGt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:HGt,style:{},title:{},facet:{spacing:Vde},concat:{spacing:Vde}},ch=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Wde={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Ude={blue:ch[0],orange:ch[1],red:ch[2],teal:ch[3],green:ch[4],yellow:ch[5],purple:ch[6],pink:ch[7],brown:ch[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function JGt(e={}){return{signals:[{name:"color",value:Ko(e)?Object.assign(Object.assign({},Ude),e):Ude}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function QGt(e){return{signals:[{name:"fontSize",value:Ko(e)?Object.assign(Object.assign({},Wde),e):Wde}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function eKt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function XFe(e={}){const{color:t,font:n,fontSize:r}=e,s=mn(e,["color","font","fontSize"]);return dRe({},ZGt,n?eKt(n):{},t?JGt(t):{},r?QGt(r):{},s||{})}const tKt=["view",...$Re],nKt=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],rKt=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},Vjt);function sKt(e){e=er(e);for(const t of nKt)delete e[t];if(e.axis)for(const t in e.axis)wee(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of VGt)delete e.legend[t];if(e.mark){for(const t of Sde)delete e.mark[t];e.mark.tooltip&&Ko(e.mark.tooltip)&&delete e.mark.tooltip}for(const t of tKt){for(const r of Sde)delete e[t][r];const n=rKt[t];if(n)for(const r of n)delete e[t][r];iKt(e,t)}for(const t of zGt())delete e[t];oKt(e);for(const t in e)Ko(e[t])&&ns(e[t])&&delete e[t];return ns(e)?void 0:e}function oKt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=AFe(e.title);ns(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),ns(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),ns(r)?delete e.title:e.title=r}function iKt(e,t,n,r){const s=e[t];t==="view"&&(n="cell");const o=Object.assign(Object.assign({},s),e.style[n??t]);ns(o)||(e.style[n??t]=o),delete e[t]}function O6(e){return"layer"in e}function aKt(e){return"repeat"in e}function lKt(e){return!wn(e.repeat)&&e.repeat.layer}class ZFe{map(t,n){return T6(t)?this.mapFacet(t,n):aKt(t)?this.mapRepeat(t,n):ate(t)?this.mapHConcat(t,n):D6(t)?this.mapVConcat(t,n):ite(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(O6(t))return this.mapLayer(t,n);if(Fp(t))return this.mapUnit(t,n);throw new Error(Aee(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(r=>this.map(r,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(r=>this.map(r,n))})}mapConcat(t,n){const{concat:r}=t,s=mn(t,["concat"]);return Object.assign(Object.assign({},s),{concat:r.map(o=>this.map(o,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const uKt={zero:1,center:1,normalize:1};function cKt(e){return e in uKt}const fKt=new Set([xRe,f6,c6,NF,h6,Cee,See,d6,CRe,xee]),dKt=new Set([f6,c6,xRe]);function jde(e,t){var n,r;const s=t==="x"?"y":"radius",o=e[t],i=e[s];if(Bt(o)&&Bt(i))if(xg(o)==="quantitative"&&xg(i)==="quantitative"){if(o.stack)return t;if(i.stack)return s;const a=Bt(o)&&!!o.aggregate,l=Bt(i)&&!!i.aggregate;if(a!==l)return a?t:s;{const u=(n=o.scale)===null||n===void 0?void 0:n.type,c=(r=i.scale)===null||r===void 0?void 0:r.type;if(u&&u!=="linear")return s;if(c&&c!=="linear")return t}}else{if(xg(o)==="quantitative")return t;if(xg(i)==="quantitative")return s}else{if(xg(o)==="quantitative")return t;if(xg(i)==="quantitative")return s}}function hKt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function JFe(e,t,n={}){const r=wd(e)?e.type:e;if(!fKt.has(r))return null;const s=jde(t,"x")||jde(t,"theta");if(!s)return null;const o=t[s],i=Bt(o)?It(o,{}):void 0;let a=hKt(s),l=t[a],u=Bt(l)?It(l,{}):void 0;u===i&&(u=void 0,l=void 0,a=void 0);const c=uHt.reduce((d,h)=>{if(h!=="tooltip"&&o1(t,h)){const p=t[h];for(const g of Js(p)){const m=Cd(g);if(m.aggregate)continue;const v=It(m,{});(!v||v!==u)&&d.push({channel:h,fieldDef:m})}}return d},[]);let f;if(o.stack!==void 0?KA(o.stack)?f=o.stack?"zero":null:f=o.stack:c.length>0&&dKt.has(r)&&(f="zero"),!f||!cKt(f)||Jee(t)&&c.length===0)return null;if(o.scale&&o.scale.type&&o.scale.type!==Qs.LINEAR){if(n.disallowNonLinearStack)return null;Ct(sqt(o.scale.type))}return On(t[Zd(s)])?(o.stack!==void 0&&Ct(rqt(s)),null):(Bt(o)&&o.aggregate&&!Cn(Jjt,o.aggregate)&&Ct(oqt(o.aggregate)),{groupbyChannel:l?a:void 0,groupbyField:u,fieldChannel:s,impute:o.impute===null?!1:Gy(r),stackBy:c,offset:f})}function pKt(e){const{point:t,line:n}=e,r=mn(e,["point","line"]);return kt(r).length>1?r:r.type}function gKt(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:Gh(e[t],["point","line"])}));return e}function J9(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ko(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ko(t.point)?t.point:{}:void 0}function Hde(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class mKt{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Fp(t)){const{mark:r,encoding:s}=t,o=wd(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!J9(o,n[o.type],s);case"area":return!!J9(o,n[o.type],s)||!!Hde(o,n[o.type])}}return!1}run(t,n,r){const{config:s}=n,{selection:o,projection:i,encoding:a,mark:l}=t,u=mn(t,["selection","projection","encoding","mark"]),c=wd(l)?l:{type:l},f=J9(c,s[c.type],a),d=c.type==="area"&&Hde(c,s[c.type]),h=[Object.assign(Object.assign({},o?{selection:o}:{}),{mark:pKt(Object.assign(Object.assign({},c.type==="area"&&c.opacity===void 0&&c.fillOpacity===void 0?{opacity:.7}:{}),c)),encoding:Gh(a,["shape"])})],p=JFe(c,a);let g=a;if(p){const{fieldChannel:m,offset:v}=p;g=Object.assign(Object.assign({},a),{[m]:Object.assign(Object.assign({},a[m]),v?{stack:v}:{})})}return d&&h.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"line"},VE(c,["clip","interpolate","tension","tooltip"])),d),encoding:g})),f&&h.push(Object.assign(Object.assign({},i?{projection:i}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},VE(c,["clip","tooltip"])),f),encoding:g})),r(Object.assign(Object.assign({},u),{layer:h}),Object.assign(Object.assign({},n),{config:gKt(s)}))}}class vKt{constructor(){this.name="RangeStep"}hasMatchingType(t){var n;if(Fp(t)&&t.encoding)for(const r of Wu){const s=t.encoding[r];if(s&&On(s)&&!((n=s?.scale)===null||n===void 0)&&n.rangeStep)return!0}return!1}run(t){var n;const r={};let s=Object.assign({},t.encoding);for(const o of Wu){const i=Jd(o),a=s[o];if(a&&On(a)&&!((n=a?.scale)===null||n===void 0)&&n.rangeStep){const{scale:l}=a,u=mn(a,["scale"]),c=l,{rangeStep:f}=c,d=mn(c,["rangeStep"]);r[i]={step:l.rangeStep},Ct(WHt),s=Object.assign(Object.assign({},s),{[o]:Object.assign(Object.assign({},u),ns(d)?{}:{scale:d})})}}return Object.assign(Object.assign(Object.assign({},r),t),{encoding:s})}}function yKt(e,t){return t?eI(e)?eMe(e,t):QFe(e,t):e}function Q9(e,t){return t?eMe(e,t):e}function Ij(e,t,n){const r=t[e];if(dGt(r)){if(r.repeat in n)return Object.assign(Object.assign({},t),{[e]:n[r.repeat]});Ct($Ht(r.repeat));return}return t}function QFe(e,t){if(e=Ij("field",e,t),e!==void 0){if(e===null)return null;if(yFe(e)&&Jf(e.sort)){const n=Ij("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function qde(e,t){if(Bt(e))return QFe(e,t);{const n=Ij("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Gde(e,t){if(On(e)){const n=qde(e,t);if(n)return n;if(qee(e))return{condition:e.condition}}else{if(Gee(e)){const n=qde(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});{const{condition:r}=e;return mn(e,["condition"])}}return e}}function eMe(e,t){const n={};for(const r in e)if(Rv(e,r)){const s=e[r];if(wn(s))n[r]=s.map(o=>Gde(o,t)).filter(o=>o);else{const o=Gde(s,t);o!==void 0&&(n[r]=o)}}return n}class bKt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Fp(t)){const{encoding:n,mark:r}=t;if(r==="line")for(const s of aHt){const o=Xy(s),i=n[o];if(n[s]&&(Bt(i)&&!ka(i.bin)||A0(i)))return!0}}return!1}run(t,n,r){const{encoding:s}=t;return Ct(zHt(!!s.x2,!!s.y2)),r(Object.assign(Object.assign({},t),{mark:"rule"}),n)}}class wKt extends ZFe{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[AGt,DGt,BGt,new mKt,new bKt,new vKt]}map(t,n){if(Fp(t)){const r=o1(t.encoding,Kh),s=o1(t.encoding,Yh),o=o1(t.encoding,g6);if(r||s||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:s}=n,o=Object.assign(Object.assign({},t),{encoding:Q9(t.encoding,n.repeater)});if(r||s)return this.mapUnitWithParentEncodingOrProjection(o,n);const i=this.mapLayerOrUnit.bind(this);for(const a of this.nonFacetUnitNormalizers)if(a.hasMatchingType(o,n.config))return a.run(o,n,i);return o}mapRepeat(t,n){return lKt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:s}=t,o=mn(t,["repeat","spec"]),{row:i,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return i||a?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},i?{row:i}:{}),a?{column:a}:{}),spec:{repeat:{layer:l},spec:s}}),n):Object.assign(Object.assign({},o),{layer:l.map(f=>{const d=Object.assign(Object.assign({},u),{layer:f}),h=(s.name||"")+c+`child__layer_${ks(f)}`,p=this.mapLayerOrUnit(s,Object.assign(Object.assign({},n),{repeater:d,repeaterPrefix:h}));return p.name=h,p})})}mapNonLayerRepeat(t,n){var r;const{repeat:s,spec:o,data:i}=t,a=mn(t,["repeat","spec","data"]);!wn(s)&&t.columns&&(t=Gh(t,["columns"]),Ct(Ade("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=n,f=!wn(s)&&s.row||[u?u.row:null],d=!wn(s)&&s.column||[u?u.column:null],h=wn(s)&&s||[u?u.repeat:null];for(const g of h)for(const m of f)for(const v of d){const y={repeat:g,row:m,column:v,layer:u.layer},w=(o.name||"")+c+"child__"+(wn(s)?`${ks(g)}`:(s.row?`row_${ks(m)}`:"")+(s.column?`column_${ks(v)}`:"")),b=this.map(o,Object.assign(Object.assign({},n),{repeater:y,repeaterPrefix:w}));b.name=w,l.push(Gh(b,["data"]))}const p=wn(s)?t.columns:s.column?s.column.length:1;return Object.assign(Object.assign({data:(r=o.data)!==null&&r!==void 0?r:i,align:"all"},a),{columns:p,concat:l})}mapFacet(t,n){const{facet:r}=t;return eI(r)&&t.columns&&(t=Gh(t,["columns"]),Ct(Ade("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:s}=t,{parentEncoding:o,parentProjection:i,config:a}=n,l=Yde({parentProjection:i,projection:s}),u=Kde({parentEncoding:o,encoding:Q9(r,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),l?{projection:l}:{}),u?{encoding:u}:{}),{config:a})}mapFacetedUnit(t,n){const r=t.encoding,{row:s,column:o,facet:i}=r,a=mn(r,["row","column","facet"]),{mark:l,width:u,projection:c,height:f,view:d,selection:h,encoding:p}=t,g=mn(t,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:m,layout:v}=this.getFacetMappingAndLayout({row:s,column:o,facet:i},n),y=Q9(a,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},g),v),{facet:m,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),f?{height:f}:{}),d?{view:d}:{}),c?{projection:c}:{}),{mark:l,encoding:y}),h?{selection:h}:{})}),n)}getFacetMappingAndLayout(t,n){var r;const{row:s,column:o,facet:i}=t;if(s||o){i&&Ct(BHt([...s?[Kh]:[],...o?[Yh]:[]]));const a={},l={};for(const u of[Kh,Yh]){const c=t[u];if(c){const{align:f,center:d,spacing:h,columns:p}=c,g=mn(c,["align","center","spacing","columns"]);a[u]=g;for(const m of["align","center","spacing"])c[m]!==void 0&&(l[m]=(r=l[m])!==null&&r!==void 0?r:{},l[m][u]=c[m])}}return{facetMapping:a,layout:l}}else{const{align:a,center:l,spacing:u,columns:c}=i,f=mn(i,["align","center","spacing","columns"]);return{facetMapping:yKt(f,n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},a?{align:a}:{}),l?{center:l}:{}),u?{spacing:u}:{}),c?{columns:c}:{})}}}mapLayer(t,n){var{parentEncoding:r,parentProjection:s}=n,o=mn(n,["parentEncoding","parentProjection"]);const{encoding:i,projection:a}=t,l=mn(t,["encoding","projection"]),u=Object.assign(Object.assign({},o),{parentEncoding:Kde({parentEncoding:r,encoding:i}),parentProjection:Yde({parentProjection:s,projection:a})});return super.mapLayer(l,u)}}function Kde(e){const{parentEncoding:t,encoding:n}=e;if(t&&n){const s=kt(t).reduce((o,i)=>(n[i]&&o.push(i),o),[]);s.length>0&&Ct(AHt(s))}const r=Object.assign(Object.assign({},t??{}),n??{});return ns(r)?void 0:r}function Yde(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ct(IHt({parentProjection:t,projection:n})),n??t}function tMe(e,t){t===void 0&&(t=XFe(e.config));const n=CKt(e,t),{width:r,height:s}=e,o=SKt(n,{width:r,height:s,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const xKt=new wKt;function CKt(e,t={}){return xKt.map(e,{config:t})}function Xde(e){return Qn(e)?{type:e}:e??{}}function SKt(e,t,n){let{width:r,height:s}=t;const o=Fp(e)||O6(e),i={};o?r=="container"&&s=="container"?(i.type="fit",i.contains="padding"):r=="container"?(i.type="fit-x",i.contains="padding"):s=="container"&&(i.type="fit-y",i.contains="padding"):(r=="container"&&(Ct(kde("width")),r=void 0),s=="container"&&(Ct(kde("height")),s=void 0));const a=Object.assign(Object.assign(Object.assign({type:"pad"},i),n?Xde(n.autosize):{}),Xde(e.autosize));if(a.type==="fit"&&!o&&(Ct(vHt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ct(Ede("width")),s=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ct(Ede("height")),!YA(a,{type:"pad"}))return a}function $Kt(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function kKt(e){return e?`fit-${C6(e)}`:"fit"}const EKt=["background","padding"];function Zde(e){return EKt.reduce((t,n)=>(e&&e[n]!==void 0&&(t[n]=e[n]),t),{})}class zp{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new zp(er(this.explicit),er(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return uo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,n){n.value!==void 0&&this.set(t,n.value,n.explicit)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,n){n.explicit[t]!==void 0?this.set(t,n.explicit[t],!0):n.implicit[t]!==void 0&&this.set(t,n.implicit[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of kt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Fv(e){return{explicit:!0,value:e}}function Ml(e){return{explicit:!1,value:e}}function nMe(e){return(t,n,r,s)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:R6(t,n,r,s)}}function R6(e,t,n,r){return e.explicit&&t.explicit&&Ct(XHt(n,r,e.value,t.value)),e}function Hm(e,t,n,r,s=R6){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:YA(e.value,t.value)?e:s(e,t,n,r)}class _Kt extends zp{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function GE(e){return"url"in e}function zF(e){return"values"in e}function rMe(e){return"name"in e&&!GE(e)&&!zF(e)&&!i1(e)}function i1(e){return e&&(sMe(e)||oMe(e)||ute(e))}function sMe(e){return"sequence"in e}function oMe(e){return"sphere"in e}function ute(e){return"graticule"in e}const Pi="main",VF="raw";function iMe(e){return"filter"in e}function TKt(e){return e?.stop!==void 0}function AKt(e){return"lookup"in e}function IKt(e){return"data"in e}function NKt(e){return"selection"in e}function DKt(e){return"pivot"in e}function OKt(e){return"density"in e}function RKt(e){return"quantile"in e}function FKt(e){return"regression"in e}function MKt(e){return"loess"in e}function PKt(e){return"sample"in e}function LKt(e){return"window"in e}function BKt(e){return"joinaggregate"in e}function zKt(e){return"flatten"in e}function VKt(e){return"calculate"in e}function WKt(e){return"bin"in e}function UKt(e){return"impute"in e}function jKt(e){return"timeUnit"in e}function HKt(e){return"aggregate"in e}function qKt(e){return"stack"in e}function GKt(e){return"fold"in e}function KKt(e){return e.map(t=>iMe(t)?{filter:M3(t.filter,Mqt)}:t)}function rI(e,t,n,r){const s=qee(t)&&t.condition,o=r(t);if(s){const a=Js(s).map(l=>{const u=r(l),c=fGt(l)?DMe(e,l.selection):HF(e,l.test);return Object.assign({test:c},u)});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function cte(e,t="text"){const n=e.encoding[t];return rI(e,n,t,r=>F6(r,e.config))}function F6(e,t,n="datum"){if(e){if(mp(e))return Ys(e.value);if(On(e)){const{format:r,formatType:s}=FF(e);return Wee({fieldOrDatumDef:e,format:r,formatType:s,expr:n,config:t})}}}function aMe(e,t={}){const{encoding:n,markDef:r,config:s,stack:o}=e,i=n.tooltip;if(wn(i))return{tooltip:Jde({tooltip:i},o,s,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return rI(e,i,"tooltip",l=>{const u=F6(l,s,a);if(u)return u;if(l===null)return;let c=Dr("tooltip",r,s);if(c===!0&&(c={content:"encoding"}),Qn(c))return{value:c};if(Ko(c))return c.content==="encoding"?Jde(n,o,s,t):{signal:a}})}}function lMe(e,t,n,{reactiveGeom:r}={}){const s={},o=r?"datum.datum":"datum",i=[];function a(u,c){const f=Xy(c),d=ou(u)?u:Object.assign(Object.assign({},u),{type:e[f].type}),h=Js(s1(d,n,{allowDisabling:!1})).join(", ");let p;if(xd(c)){const g=c==="x"?"x2":"y2",m=Cd(e[g]);if(ka(d.bin)&&m){const v=It(d,{expr:o}),y=It(m,{expr:o}),{format:w,formatType:b}=FF(d);p=E6(v,y,w,b,n),s[g]=!0}else if(t&&t.fieldChannel===c&&t.offset==="normalize"){const{format:v,formatType:y}=FF(d);p=Wee({fieldOrDatumDef:d,format:v,formatType:y,expr:o,config:n,normalizeStack:!0}).signal}}p=p??F6(d,n,o).signal,i.push({channel:c,key:h,value:p})}ete(e,(u,c)=>{Bt(u)?a(u,c):A6(u)&&a(u.condition,c)});const l={};for(const{channel:u,key:c,value:f}of i)!s[u]&&!l[c]&&(l[gr(c)]=f);return l}function Jde(e,t,n,{reactiveGeom:r}={}){const s=lMe(e,t,n,{reactiveGeom:r}),o=mRe(s).map(({key:i,value:a})=>`${i}: ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function YKt(e){const{markDef:t,config:n}=e,r=Dr("aria",t,n);return r===!1?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),XKt(e)),ZKt(e))}function XKt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const s=Dr("ariaRoleDescription",n,r);return s!=null?{ariaRoleDescription:{value:s}}:t in Dqt?{}:{ariaRoleDescription:{value:t}}}function ZKt(e){const{encoding:t,markDef:n,config:r,stack:s}=e,o=t.description;if(o)return rI(e,o,"description",l=>F6(l,e.config));const i=Dr("description",n,r);if(i!=null)return{description:Ys(i)};if(r.aria===!1)return{};const a=lMe(t,s,r);if(!ns(a))return{description:{signal:mRe(a).map(({key:l,value:u})=>`${l} + ": " + (${u})`).join(' + "; " + ')}}}function Po(e,t,n={}){const{markDef:r,encoding:s,config:o}=t,{vgChannel:i}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l=l??Dr(e,r,o,{vgChannel:i,ignoreVgConfig:!0}),l!==void 0&&(a=Ys(l)));const u=s[e];return rI(t,u,i??e,c=>uFe({channel:e,channelDef:c,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function uMe(e,t={filled:void 0}){var n,r,s,o;const{markDef:i,encoding:a,config:l}=e,{type:u}=i,c=(n=t.filled)!==null&&n!==void 0?n:Dr("filled",i,l),f=Cn(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,d=(s=(r=Dr(c===!0?"color":void 0,i,l,{vgChannel:"fill"}))!==null&&r!==void 0?r:l.mark[c===!0&&"color"])!==null&&s!==void 0?s:f,h=(o=Dr(c===!1?"color":void 0,i,l,{vgChannel:"stroke"}))!==null&&o!==void 0?o:l.mark[c===!1&&"color"],p=c?"fill":"stroke",g=Object.assign(Object.assign({},d?{fill:Ys(d)}:{}),h?{stroke:Ys(h)}:{});return i.color&&(c?i.fill:i.stroke)&&Ct(BRe("property",{fill:"fill"in i,stroke:"stroke"in i})),Object.assign(Object.assign(Object.assign(Object.assign({},g),Po("color",e,{vgChannel:p,defaultValue:c?d:h})),Po("fill",e,{defaultValue:a.fill?d:void 0})),Po("stroke",e,{defaultValue:a.stroke?h:void 0}))}function KE(e,t){const n=lHt(e),r=t[n];if(r)return r}function Gi(e,t,{defaultPos:n,vgChannel:r,isMidPoint:s}){const{encoding:o,markDef:i,config:a,stack:l}=t,u=o[e],c=o[Zd(e)],f=t.scaleName(e),d=t.getScaleComponent(e),h=KE(e,i),p=fte({model:t,defaultPos:n,channel:e,scaleName:f,scale:d}),g=!u&&xd(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:JKt({channel:e,channelDef:u,channel2Def:c,markDef:i,config:a,isMidPoint:s,scaleName:f,scale:d,stack:l,offset:h,defaultRef:p});return g?{[r||e]:g}:void 0}function JKt(e){const{channel:t,channelDef:n,isMidPoint:r,scaleName:s,stack:o,offset:i,markDef:a,config:l}=e;if(On(n)&&o&&t===o.fieldChannel){if(Bt(n)){const u=tI({channel:t,fieldDef:n,isMidPoint:r,markDef:a,stack:o,config:l});if(u!==void 0)return RF({scaleName:s,fieldOrDatumDef:n,startSuffix:"start",band:u,offset:i})}return r1(n,s,{suffix:"end"},{offset:i})}return zee(e)}function fte({model:e,defaultPos:t,channel:n,scaleName:r,scale:s}){const{markDef:o,config:i}=e;return()=>{const a=Xy(n),l=jm(n),u=Dr(n,o,i,{vgChannel:l});if(u!==void 0)return ak(n,u);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=s.get("type");if(!Cn([Qs.LOG,Qs.TIME,Qs.UTC],c)){if(s.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const c=e[Jd(n)];return Object.assign(Object.assign({},c),{mult:.5})}}}}const QKt={left:"x",center:"xc",right:"x2"},eYt={top:"y",middle:"yc",bottom:"y2"};function cMe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return jm(e);const o=Dr(e==="x"?"align":"baseline",t,n);return e==="x"?QKt[o||(r==="top"?"left":"center")]:eYt[o||r]}function WF(e,t,{defaultPos:n,defaultPos2:r,range:s}){return s?fMe(e,t,{defaultPos:n,defaultPos2:r}):Gi(e,t,{defaultPos:n})}function fMe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:s,config:o}=t,i=Zd(e),a=Jd(e),l=tYt(t,r,i),u=l[a]?cMe(e,s,o):jm(e);return Object.assign(Object.assign({},Gi(e,t,{defaultPos:n,vgChannel:u})),l)}function tYt(e,t,n){const{encoding:r,mark:s,markDef:o,stack:i,config:a}=e,l=Xy(n),u=Jd(n),c=jm(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),p=n in r||n in o?KE(n,e.markDef):KE(l,e.markDef);if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude))return{[c]:{field:e.getName(n)}};const g=nYt({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:i,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:qN(n,o)||qN(n,{[n]:PF(n,o,a.style),[u]:PF(u,o,a.style)})||qN(n,a[s])||qN(n,a.mark)||{[c]:fte({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function nYt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:s,scaleName:o,scale:i,stack:a,offset:l,defaultRef:u}){return On(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?r1(t,o,{suffix:"start"},{offset:l}):zee({channel:e,channelDef:n,scaleName:o,scale:i,stack:a,markDef:r,config:s,offset:l,defaultRef:u})}function qN(e,t){const n=Jd(e),r=jm(e);if(t[r]!==void 0)return{[r]:ak(e,t[r])};if(t[e]!==void 0)return{[r]:ak(e,t[e])};if(t[n])return{[n]:ak(e,t[n])}}function qm(e,t,n){var r,s,o,i;const{config:a,encoding:l,markDef:u,stack:c}=e,f=Zd(t),d=Jd(t),h=l[t],p=l[f],g=e.getScaleComponent(t),m=g?g.get("type"):void 0,v=e.scaleName(t),y=u.orient,w=(s=(r=l[d])!==null&&r!==void 0?r:l.size)!==null&&s!==void 0?s:Dr("size",u,a,{vgChannel:d}),b=n==="bar"&&(t==="x"?y==="vertical":y==="horizontal");if(Bt(h)&&(ls(h.bin)||ka(h.bin)||h.timeUnit&&!p)&&!w&&!_l(m)){const C=tI({channel:t,fieldDef:h,stack:c,markDef:u,config:a}),S=(o=e.component.axes[t])===null||o===void 0?void 0:o[0],$=(i=S?.get("translate"))!==null&&i!==void 0?i:.5;return oYt({fieldDef:h,fieldDef2:p,channel:t,markDef:u,scaleName:v,band:C,axisTranslate:$,spacing:xd(t)?Dr("binSpacing",u,a):void 0,reverse:g.get("reverse"),config:a})}else return(On(h)&&_l(m)||b)&&!p?sYt(n,h,t,e):fMe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function rYt(e,t,n,r,s,o){if(r){const l=r.get("type");if(l==="point"||l==="band"){if(s[e].discreteBandSize!==void 0)return{value:s[e].discreteBandSize};if(l===Qs.POINT){const u=r.get("range");return T0(u)&&lo(u.step)?{value:u.step-2}:{value:lte-2}}else return{scale:n,band:o}}else return{value:s[e].continuousBandSize}}const i=BF(s.view,t),a=uo(s[e].discreteBandSize,i-2);return a!==void 0?{value:a}:void 0}function sYt(e,t,n,r){var s;const{markDef:o,encoding:i,config:a,stack:l}=r,u=o.orient,c=r.scaleName(n),f=r.getScaleComponent(n),d=Jd(n),h=Zd(n),p=u==="horizontal"&&n==="y"||u==="vertical"&&n==="x",g=Dr(p?"size":d,o,a,{vgChannel:d});let m;(i.size||g!==void 0)&&(p?m=Po("size",r,{vgChannel:d,defaultValue:g}):Ct(GHt(o.type)));const v=(s=On(t)?tI({channel:n,fieldDef:t,markDef:o,stack:l,config:a}):void 0)!==null&&s!==void 0?s:1;m=m||{[d]:rYt(e,d,c,f,a,v)};const y=f?.get("type")!=="band"||!("band"in m[d]),w=cMe(n,o,a,y?"middle":"top"),b=KE(n,o),C=zee({channel:n,channelDef:t,markDef:o,config:a,scaleName:c,scale:f,stack:l,offset:b,defaultRef:fte({model:r,defaultPos:"mid",channel:n,scaleName:c,scale:f}),band:y?.5:(1-v)/2});if(d)return Object.assign({[w]:C},m);{const S=jm(h),$=m[d],k=b?Object.assign(Object.assign({},$),{offset:b}):$;return{[w]:C,[S]:wn(C)?[C[0],Object.assign(Object.assign({},C[1]),{offset:k})]:Object.assign(Object.assign({},C),{offset:k})}}}function LS(e,t,n,r,s){if(TRe(e))return 0;const o=e==="x"||e==="y2"?-t/2:t/2;if(An(n)){const i=HE(s);return{signal:`${n.signal} ? ${r-o}${i?"-"+i:""} : ${r+o}${i?"+"+i:""}`}}else{if(An(s)){const i=r+(n?-o:o);return{signal:`${i||""}${n?" - ":i?" + ":""}${s.signal}`}}return s=s||0,r+(n?-s-o:+s+o)}}function oYt({fieldDef:e,fieldDef2:t,channel:n,band:r,scaleName:s,markDef:o,spacing:i=0,axisTranslate:a,reverse:l,config:u}){const c=Zd(n),f=jm(n),d=jm(c),h=KE(n,o);if(ls(e.bin)||e.timeUnit)return{[d]:Qde({channel:n,fieldDef:e,scaleName:s,markDef:o,band:(1-r)/2,offset:LS(c,i,l,a,h),config:u}),[f]:Qde({channel:n,fieldDef:e,scaleName:s,markDef:o,band:1-(1-r)/2,offset:LS(n,i,l,a,h),config:u})};if(ka(e.bin)){const p=r1(e,s,{},{offset:LS(c,i,l,a,h)});if(Bt(t))return{[d]:p,[f]:r1(t,s,{},{offset:LS(n,i,l,a,h)})};if(QA(e.bin)&&e.bin.step)return{[d]:p,[f]:{signal:`scale("${s}", ${It(e,{expr:"datum"})} + ${e.bin.step})`,offset:LS(n,i,l,a,h)}}}Ct(WRe(c))}function Qde({channel:e,fieldDef:t,scaleName:n,markDef:r,band:s,offset:o,config:i}){const a=RF({scaleName:n,fieldOrDatumDef:t,band:s,offset:o});return lFe({fieldDef:t,channel:e,markDef:r,ref:a,config:i})}const iYt=new Set(["aria"]);function Qu(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?uMe(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aYt(e.markDef,t)),ehe(e,"fill",n)),ehe(e,"stroke",r)),Po("opacity",e)),Po("fillOpacity",e)),Po("strokeOpacity",e)),Po("strokeWidth",e)),Po("strokeDash",e)),aMe(e)),cte(e,"href")),YKt(e))}function ehe(e,t,n){const{config:r,mark:s,markDef:o}=e;if(Dr("invalid",o,r)==="hide"&&n&&!Gy(s)){const a=lYt(e,{invalid:!0,channels:S6});if(a)return{[t]:[{test:a,value:null},...Js(n)]}}return n?{[t]:n}:{}}function aYt(e,t){return Nqt.reduce((n,r)=>(!iYt.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Ys(e[r])),n),{})}function lYt(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,i)=>{const a=e.getScaleComponent(i);if(a){const l=a.get("type"),u=e.vgField(i,{expr:"datum"});u&&Uu(l)&&(o[u]=!0)}return o},{}),s=kt(r);if(s.length>0){const o=t?"||":"&&";return s.map(i=>Vee(i,t)).join(` ${o} `)}}function dte(e){const{config:t,markDef:n}=e;if(Dr("invalid",n,t)){const s=uYt(e,{channels:Wu});if(s)return{defined:{signal:s}}}return{}}function uYt(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,i)=>{const a=e.getScaleComponent(i);if(a){const l=a.get("type"),u=e.vgField(i,{expr:"datum"});u&&Uu(l)&&(o[u]=!0)}return o},{}),s=kt(r);if(s.length>0){const o=t?"||":"&&";return s.map(i=>Vee(i,t)).join(` ${o} `)}}function the(e,t){if(t!==void 0)return{[e]:Ys(t)}}const e7="voronoi",dMe={has:e=>e.type!=="interval"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(e7)},marks:(e,t,n)=>{const{x:r,y:s}=t.project.hasChannel,o=e.mark;if(Gy(o))return Ct(bHt(o)),n;const i={name:e.getName(e7),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},aMe(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!s?"datum.datum.x || 0":"0"},y:{expr:s||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{var f;const d=(f=u.name)!==null&&f!==void 0?f:"";d===e.component.mark[0].name?a=c:d.indexOf(e7)>=0&&(l=!0)}),l||n.splice(a+1,0,i),n}};class Jr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.indexOf(t)>-1){console.warn("Attempt to add the same child twice.");return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const r of this._children)r.parent=t;this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}class Ia extends Jr{constructor(t,n,r,s){super(t,n),this.type=r,this.refCounts=s,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName="clone_"+this.debugName,t._source=this._source,t._name="clone_"+this._name,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Ajt()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}class Qf extends Jr{constructor(t,n){super(t),this.formula=n}clone(){return new Qf(null,er(this.formula))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((s,o,i)=>{const{field:a,timeUnit:l}=o,u=Bs(n)?n.encoding[Zd(i)]:void 0,c=Bs(n)&&Hee(i,o,u,n.stack,n.markDef,n.config);if(l){const f=It(o,{forAs:!0});s[br({as:f,field:a,timeUnit:l})]=Object.assign({as:f,field:a,timeUnit:l},c?{band:!0}:{})}return s},{});return ns(r)?null:new Qf(t,r)}static makeFromTransform(t,n){const r=Object.assign({},n),{timeUnit:s}=r,o=mn(r,["timeUnit"]),i=La(s),a=Object.assign(Object.assign({},o),{timeUnit:i});return new Qf(t,{[br(a)]:a})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)(!this.formula[n]||t.formula[n].band)&&(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}producedFields(){return new Set(rm(this.formula).map(t=>t.as))}dependentFields(){return new Set(rm(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${br(this.formula)}`}assemble(){const t=[];for(const n of rm(this.formula)){const{field:r,as:s,timeUnit:o}=n,i=La(o),{unit:a,utc:l}=i,u=mn(i,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:Wm(r),type:"timeunit"},a?{units:Oee(a)}:{}),l?{timezone:"utc"}:{}),u),{as:[s,`${s}_end`]}))}return t}}const sI="_tuple_fields";class cYt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={}}}const fYt={has:()=>!0,parse:(e,t,n)=>{var r,s,o;const i=t.name,a=(r=t.project)!==null&&r!==void 0?r:t.project=new cYt,l={},u={},c=new Set,f=(d,h)=>{const p=h==="visual"?d.channel:d.field;let g=ks(`${i}_${p}`);for(let m=1;c.has(g);m++)g=ks(`${i}_${p}_${m}`);return c.add(g),{[h]:g}};if(!n.fields&&!n.encodings){const d=e.config.selection[n.type];if(n.init)for(const h of Js(n.init))for(const p of kt(h))iHt(p)?(n.encodings||(n.encodings=[])).push(p):n.type==="interval"?(Ct('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(p);else n.encodings=d.encodings,n.fields=d.fields}for(const d of(s=n.fields)!==null&&s!==void 0?s:[]){const h={type:"E",field:d};h.signals=Object.assign({},f(h,"data")),a.items.push(h),a.hasField[d]=h}for(const d of(o=n.encodings)!==null&&o!==void 0?o:[]){const h=e.fieldDef(d);if(h){let p=h.field;if(h.aggregate){Ct(yHt(d,h.aggregate));continue}else if(!p){Ct(Tde(d));continue}if(h.timeUnit){p=e.vgField(d);const g={timeUnit:h.timeUnit,as:p,field:h.field};u[br(g)]=g}if(!l[p]){let g="E";if(t.type==="interval"){const v=e.getScaleComponent(d).get("type");Uu(v)&&(g="R")}else h.bin&&(g="R-RE");const m={field:p,channel:d,type:g};m.signals=Object.assign(Object.assign({},f(m,"data")),f(m,"visual")),a.items.push(l[p]=m),a.hasField[p]=a.hasChannel[d]=l[p]}}else Ct(Tde(d))}if(n.init){const d=h=>a.items.map(p=>h[p.channel]!==void 0?h[p.channel]:h[p.field]);if(n.type==="interval")t.init=d(n.init);else{const h=Js(n.init);t.init=h.map(d)}}ns(u)||(a.timeUnit=new Qf(null,u))},signals:(e,t,n)=>{const r=t.name+sI;return n.filter(o=>o.name===r).length>0?n:n.concat({name:r,value:t.project.items.map(o=>{const{signals:i,hasLegend:a}=o,l=mn(o,["signals","hasLegend"]);return l.field=Wm(l.field),l})})}},hMe={has:e=>e.type==="single"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!ote(e.bind),parse:(e,t,n,r)=>{r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:(e,t,n)=>{const r=t.name,s=t.project,o=t.bind,i=t.init&&t.init[0],a=dMe.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.items.forEach((l,u)=>{var c,f;const d=ks(`${r}_${l.field}`);n.filter(p=>p.name===d).length||n.unshift(Object.assign(Object.assign({name:d},i?{init:_x(i[u])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${gr(l.field)}] : null`}]:[],bind:(f=(c=o[l.field])!==null&&c!==void 0?c:o[l.channel])!==null&&f!==void 0?f:o}))}),n},signals:(e,t,n)=>{const r=t.name,s=t.project,o=n.filter(u=>u.name===r+$d)[0],i=r+sI,a=s.items.map(u=>ks(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${i}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},UF="_toggle",pMe={has:e=>e.type==="multi"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+UF,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+$d,r=t.name+UF;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Xh(e)}}, `)+`${r} ? ${n} : null`}},dYt={has:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t,n)=>{n.clear&&(t.clear=Qn(n.clear)?jy(n.clear,"scope"):n.clear)},topLevelSignals:(e,t,n)=>{if(hMe.has(t))for(const r of t.project.items){const s=n.findIndex(o=>o.name===ks(`${t.name}_${r.field}`));s!==-1&&n[s].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(s,o){s!==-1&&n[s].on&&n[s].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const s of t.project.items){const o=n.findIndex(i=>i.name===s.signals.visual);if(r(o,"[0, 0]"),o===-1){const i=n.findIndex(a=>a.name===s.signals.data);r(i,"null")}}else{let s=n.findIndex(o=>o.name===t.name+$d);r(s,"null"),pMe.has(t)&&(s=n.findIndex(o=>o.name===t.name+UF),r(s,"false"))}return n}},Gm={has:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const s=r.channel;if(!_0(s))continue;const o=e.getScaleComponent(s),i=o?o.get("type"):void 0;if(!o||!Uu(i)){Ct(xHt);continue}const a={selection:t.name,field:r.field};o.set("selectionExtent",a,!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(i=>n.filter(a=>a.name===i.signals.data).length===0);if(!e.parent||Dj(e)||r.length===0)return n;const s=n.filter(i=>i.name===t.name)[0];let o=s.update;if(o.indexOf(SMe)>=0)s.update=`{${r.map(i=>`${gr(i.field)}: ${i.signals.data}`).join(", ")}}`;else{for(const i of r){const a=`${gr(i.field)}: ${i.signals.data}`;o.indexOf(a)<0&&(o=`${o.substring(0,o.length-1)}, ${a}}`)}s.update=o}return n.concat(r.map(i=>({name:i.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!Dj(e))for(const r of t.scales){const s=n.filter(o=>o.name===r.signals.data)[0];s.push="outer",delete s.value,delete s.update}return n}};function Nj(e,t){return`domain(${gr(e.scaleName(t))})`}function Dj(e){var t;return e.parent&&VC(e.parent)&&((t=!e.parent.parent)!==null&&t!==void 0?t:Dj(e.parent.parent))}const gMe={has:e=>{const t=e.resolve==="global"&&e.bind&&ote(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ex;return t&&!n&&Ct(CHt),t&&n},parse:(e,t,n,r)=>{var s;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Js((s=l.filter)!==null&&s!==void 0?s:[]),l.filter.indexOf(a)<0&&l.filter.push(a)}const o=Z9(t.bind)?t.bind.legend:"click",i=Qn(o)?jy(o,"view"):Js(o);t.bind={legend:{merge:i}}},topLevelSignals:(e,t,n)=>{const r=t.name,s=Z9(t.bind)&&t.bind.legend,o=i=>a=>{const l=er(a);return l.markname=i,l};for(const i of t.project.items){if(!i.hasLegend)continue;const a=`${ks(i.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=s.merge.map(o(`${a}_symbols`)).concat(s.merge.map(o(`${a}_labels`))).concat(s.merge.map(o(`${a}_entries`)));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,s=t.project,o=n.find(d=>d.name===r+$d),i=r+sI,a=s.items.filter(d=>d.hasLegend).map(d=>ks(`${r}_${ks(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${i}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+UF),f=Z9(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:f})):c.on[0].events=f),n}};function hYt(e,t,n){var r;const s=(r=e.fieldDef(t))===null||r===void 0?void 0:r.field;Zy(e,o=>{var i,a;const l=(i=o.project.hasField[s])!==null&&i!==void 0?i:o.project.hasChannel[t];if(l&&gMe.has(o)){const u=(a=n.get("selections"))!==null&&a!==void 0?a:[];u.push(o.name),n.set("selections",u,!1),l.hasLegend=!0}})}const mMe="_translate_anchor",vMe="_translate_delta",pYt={has:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,s=Gm.has(t),o=r+mMe,{x:i,y:a}=t.project.hasChannel;let l=jy(t.translate,"scope");return s||(l=l.map(u=>(u.between[0].markname=r+lk,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(i!==void 0?", extent_x: "+(s?Nj(e,Rs):`slice(${i.signals.visual})`):"")+(a!==void 0?", extent_y: "+(s?Nj(e,So):`slice(${a.signals.visual})`):"")+"}"}]},{name:r+vMe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),i!==void 0&&nhe(e,t,i,"width",n),a!==void 0&&nhe(e,t,a,"height",n),n}};function nhe(e,t,n,r,s){var o;const i=t.name,a=i+mMe,l=i+vMe,u=n.channel,c=Gm.has(t),f=s.filter(b=>b.name===n.signals[c?"data":"visual"])[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),p=h.get("type"),g=c&&u===Rs?"-":"",m=`${a}.extent_${u}`,v=`${g}${l}.${u} / `+(c?`${d}`:`span(${m})`),w=`${c?p==="log"?"panLog":p==="pow"?"panPow":"panLinear":"panLinear"}(${m}, ${v}`+(c&&p==="pow"?`, ${(o=h.get("exponent"))!==null&&o!==void 0?o:1}`:"")+")";f.on.push({events:{signal:l},update:c?w:`clampRange(${w}, 0, ${d})`})}const yMe="_zoom_anchor",bMe="_zoom_delta",gYt={has:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,s=Gm.has(t),o=r+bMe,{x:i,y:a}=t.project.hasChannel,l=gr(e.scaleName(Rs)),u=gr(e.scaleName(So));let c=jy(t.zoom,"scope");return s||(c=c.map(f=>(f.markname=r+lk,f))),n.push({name:r+yMe,on:[{events:c,update:s?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>!!f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),i!==void 0&&rhe(e,t,i,"width",n),a!==void 0&&rhe(e,t,a,"height",n),n}};function rhe(e,t,n,r,s){var o;const i=t.name,a=n.channel,l=Gm.has(t),u=s.filter(y=>y.name===n.signals[l?"data":"visual"])[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(a),d=f.get("type"),h=l?Nj(e,a):u.name,p=i+bMe,g=`${i}${yMe}.${a}`,v=`${l?d==="log"?"zoomLog":d==="pow"?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${g}, ${p}`+(l&&d==="pow"?`, ${(o=f.get("exponent"))!==null&&o!==void 0?o:1}`:"")+")";u.on.push({events:{signal:p},update:l?v:`clampRange(${v}, 0, ${c})`})}const mYt=[fYt,pMe,Gm,gMe,pYt,gYt,hMe,dMe,dYt];function M6(e,t){for(const n of mYt)n.has(e)&&t(n)}function _x(e,t=!0,n=ajt){if(wn(e)){const r=e.map(s=>_x(s,t,n));return t?`[${r.join(", ")}]`:r}else if(RC(e))return n(t?jE(e):xqt(e));return t?n(JSON.stringify(e)):e}function vYt(e,t){return Zy(e,(n,r)=>{const s=n.name;let o=r.modifyExpr(e,n);t.push(...r.signals(e,n)),M6(n,i=>{i.signals&&(t=i.signals(e,n,t)),i.modifyExpr&&(o=i.modifyExpr(e,n,o))}),t.push({name:s+_Yt,on:[{events:{signal:n.name+$d},update:`modify(${gr(n.name+K1)}, ${o})`}]})}),hte(t)}function yYt(e,t){if(e.component.selection&&kt(e.component.selection).length){const n=gr(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:jy("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return hte(t)}function bYt(e,t){let n=!1;return Zy(e,(r,s)=>{const o=r.name,i=gr(o+K1);if(t.filter(l=>l.name===o).length===0){const l=r.resolve==="global"?"union":r.resolve,u=r.type==="multi"?", true)":")";t.push({name:r.name,update:`${SMe}(${i}, ${gr(l)}${u}`})}n=!0,s.topLevelSignals&&(t=s.topLevelSignals(e,r,t)),M6(r,l=>{l.topLevelSignals&&(t=l.topLevelSignals(e,r,t))})}),n&&t.filter(s=>s.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),hte(t)}function wYt(e,t){const n=[...t];return Zy(e,r=>{const s={name:r.name+K1};if(r.init){const i=r.project.items.map(l=>{const{signals:u}=l;return mn(l,["signals"])}),a=r.init.map(l=>_x(l,!1));s.values=r.type==="interval"?[{unit:Xh(e,{escape:!1}),fields:i,values:a}]:a.map(l=>({unit:Xh(e,{escape:!1}),fields:i,values:l}))}n.filter(i=>i.name===r.name+K1).length||n.push(s)}),n}function wMe(e,t){return Zy(e,(n,r)=>{t=r.marks?r.marks(e,n,t):t,M6(n,s=>{s.marks&&(t=s.marks(e,n,t))})}),t}function xYt(e,t){for(const n of e.children)Bs(n)&&(t=wMe(n,t));return t}function CYt(e,t){const n=t.selection,r=e.getSelectionComponent(n,ks(n));return{signal:OMe(r,t)}}function hte(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const lk="_brush",Oj="_scale_trigger",SYt={signals:(e,t)=>{const n=t.name,r=n+sI,s=Gm.has(t),o=[],i=[],a=[];if(t.translate&&!s){const c=`!event.item || event.item.mark.name !== ${gr(n+lk)}`;xMe(t,(f,d)=>{var h;const p=Js((h=d.between[0].filter)!==null&&h!==void 0?h:d.between[0].filter=[]);return p.indexOf(c)<0&&p.push(c),f})}t.project.items.forEach((c,f)=>{const d=c.channel;if(d!==Rs&&d!==So){Ct("Interval selections only support x and y encoding channels.");return}const h=t.init?t.init[f]:null,p=$Yt(e,t,c,h),g=c.signals.data,m=c.signals.visual,v=gr(e.scaleName(d)),y=e.getScaleComponent(d).get("type"),w=Uu(y)?"+":"";o.push(...p),i.push(g),a.push({scaleName:e.scaleName(d),expr:`(!isArray(${g}) || (${w}invert(${v}, ${m})[0] === ${w}${g}[0] && ${w}invert(${v}, ${m})[1] === ${w}${g}[1]))`})}),s||o.push({name:n+Oj,value:{},on:[{events:a.map(c=>({scale:c.scaleName})),update:a.map(c=>c.expr).join(" && ")+` ? ${n+Oj} : {}`}]});const l=t.init,u=`unit: ${Xh(e)}, fields: ${r}, values`;return o.concat(Object.assign(Object.assign({name:n+$d},l?{init:`{${u}: ${_x(l)}}`}:{}),{on:[{events:[{signal:i.join(" || ")}],update:i.join(" && ")+` ? {${u}: [${i}]} : null`}]}))},modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"true":`{unit: ${Xh(e)}}`),marks:(e,t,n)=>{const r=t.name,{x:s,y:o}=t.project.hasChannel,i=s&&s.signals.visual,a=o&&o.signals.visual,l=`data(${gr(t.name+K1)})`;if(Gm.has(t))return n;const u={x:s!==void 0?{signal:`${i}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:s!==void 0?{signal:`${i}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of kt(u))u[m]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${Xh(e)}`},u[m]),{value:0}];const c=t.mark,{fill:f,fillOpacity:d,cursor:h}=c,p=mn(c,["fill","fillOpacity","cursor"]),g=kt(p).reduce((m,v)=>(m[v]=[{test:[s!==void 0&&`${i}[0] !== ${i}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:p[v]},{value:null}],m),{});return[{name:r+lk+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:f},fillOpacity:{value:d}},update:u}},...n,{name:r+lk,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},h?{cursor:{value:h}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},u),g)}}]}};function $Yt(e,t,n,r){const s=n.channel,o=n.signals.visual,i=n.signals.data,a=Gm.has(t),l=gr(e.scaleName(s)),u=e.getScaleComponent(s),c=u?u.get("type"):void 0,f=g=>`scale(${l}, ${g})`,d=e.getSizeSignalRef(s===Rs?"width":"height").signal,h=`${s}(unit)`,p=xMe(t,(g,m)=>[...g,{events:m.between[0],update:`[${h}, ${h}]`},{events:m,update:`[${o}[0], clamp(${h}, 0, ${d})]`}]);return p.push({events:{signal:t.name+Oj},update:Uu(c)?`[${f(`${i}[0]`)}, ${f(`${i}[1]`)}]`:"[0, 0]"}),a?[{name:i,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:_x(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:i},r?{init:_x(r)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}function xMe(e,t){return e.events.reduce((n,r)=>r.between?t(n,r):(Ct(`${r} is not an ordered event stream for interval selections.`),n),[])}function CMe(e,t){const n=t.name,r=n+sI,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",i=s.items.map(u=>{const c=e.fieldDef(u.channel);return c&&c.bin?`[${o}[${gr(e.vgField(u.channel,{}))}], ${o}[${gr(e.vgField(u.channel,{binSuffix:"end"}))}]]`:`${o}[${gr(u.field)}]`}).join(", "),a=`unit: ${Xh(e)}, fields: ${r}, values`,l=t.events;return[{name:n+$d,on:l?[{events:l,update:`datum && item().mark.marktype !== 'group' ? {${a}: [${i}]} : null`,force:!0}]:[]}]}const kYt={signals:CMe,modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"null":`{unit: ${Xh(e)}}`)},EYt={signals:CMe,modifyExpr:(e,t)=>t.name+$d+", "+(t.resolve==="global"?"true":`{unit: ${Xh(e)}}`)},K1="_store",$d="_tuple",_Yt="_modify",SMe="vlSelectionResolve",TYt={single:EYt,multi:kYt,interval:SYt};function Zy(e,t){const n=e.component.selection;if(n){for(const r of rm(n))if(t(r,TYt[r.type])===!0)break}}function AYt(e){let t=e.parent;for(;t&&!Ic(t);)t=t.parent;return t}function Xh(e,{escape:t}={escape:!0}){let n=t?gr(e.name):e.name;const r=AYt(e);if(r){const{facet:s}=r;for(const o of _u)s[o]&&(n+=` + '__facet_${o}_' + (facet[${gr(r.vgField(o))}])`)}return n}function pte(e){let t=!1;return Zy(e,n=>{t=t||n.project.items.some(r=>r.field===Ex)}),t}const IYt="RawCode",NYt="Literal",DYt="Property",OYt="Identifier",RYt="ArrayExpression",FYt="BinaryExpression",MYt="CallExpression",PYt="ConditionalExpression",LYt="LogicalExpression",BYt="MemberExpression",zYt="ObjectExpression",VYt="UnaryExpression";function cf(e){this.type=e}cf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=WYt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function WYt(e){switch(e.type){case RYt:return e.elements;case FYt:case LYt:return[e.left,e.right];case MYt:return[e.callee].concat(e.arguments);case PYt:return[e.test,e.consequent,e.alternate];case BYt:return[e.object,e.property];case zYt:return e.properties;case DYt:return[e.key,e.value];case VYt:return[e.argument];case OYt:case NYt:case IYt:default:return[]}}var Qd,on,et,sa,Br,P6=1,oI=2,Y1=3,I0=4,L6=5,Jy=6,Ja=7,iI=8,UYt=9;Qd={};Qd[P6]="Boolean";Qd[oI]="<end>";Qd[Y1]="Identifier";Qd[I0]="Keyword";Qd[L6]="Null";Qd[Jy]="Numeric";Qd[Ja]="Punctuator";Qd[iI]="String";Qd[UYt]="RegularExpression";var jYt="ArrayExpression",HYt="BinaryExpression",qYt="CallExpression",GYt="ConditionalExpression",$Me="Identifier",KYt="Literal",YYt="LogicalExpression",XYt="MemberExpression",ZYt="ObjectExpression",JYt="Property",QYt="UnaryExpression",gi="Unexpected token %0",eXt="Unexpected number",tXt="Unexpected string",nXt="Unexpected identifier",rXt="Unexpected reserved word",sXt="Unexpected end of input",Rj="Invalid regular expression",t7="Invalid regular expression: missing /",kMe="Octal literals are not allowed in strict mode.",oXt="Duplicate data property in object literal not allowed in strict mode",Ki="ILLEGAL",YE="Disabled.",iXt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),aXt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function B6(e,t){if(!e)throw new Error("ASSERT: "+t)}function bh(e){return e>=48&&e<=57}function gte(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function uk(e){return"01234567".indexOf(e)>=0}function lXt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function XE(e){return e===10||e===13||e===8232||e===8233}function aI(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&iXt.test(String.fromCharCode(e))}function jF(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&aXt.test(String.fromCharCode(e))}var uXt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function EMe(){for(var e;et<sa&&(e=on.charCodeAt(et),lXt(e)||XE(e));)++et}function Fj(e){var t,n,r,s=0;for(n=e==="u"?4:2,t=0;t<n;++t)et<sa&&gte(on[et])?(r=on[et++],s=s*16+"0123456789abcdef".indexOf(r.toLowerCase())):Er({},gi,Ki);return String.fromCharCode(s)}function cXt(){var e,t,n,r;for(e=on[et],t=0,e==="}"&&Er({},gi,Ki);et<sa&&(e=on[et++],!!gte(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Er({},gi,Ki),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function _Me(){var e,t;for(e=on.charCodeAt(et++),t=String.fromCharCode(e),e===92&&(on.charCodeAt(et)!==117&&Er({},gi,Ki),++et,e=Fj("u"),(!e||e==="\\"||!aI(e.charCodeAt(0)))&&Er({},gi,Ki),t=e);et<sa&&(e=on.charCodeAt(et),!!jF(e));)++et,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),on.charCodeAt(et)!==117&&Er({},gi,Ki),++et,e=Fj("u"),(!e||e==="\\"||!jF(e.charCodeAt(0)))&&Er({},gi,Ki),t+=e);return t}function fXt(){var e,t;for(e=et++;et<sa;){if(t=on.charCodeAt(et),t===92)return et=e,_Me();if(jF(t))++et;else break}return on.slice(e,et)}function dXt(){var e,t,n;return e=et,t=on.charCodeAt(et)===92?_Me():fXt(),t.length===1?n=Y1:uXt.hasOwnProperty(t)?n=I0:t==="null"?n=L6:t==="true"||t==="false"?n=P6:n=Y1,{type:n,value:t,start:e,end:et}}function n7(){var e=et,t=on.charCodeAt(et),n,r=on[et],s,o,i;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++et,{type:Ja,value:String.fromCharCode(t),start:e,end:et};default:if(n=on.charCodeAt(et+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return et+=2,{type:Ja,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:et};case 33:case 61:return et+=2,on.charCodeAt(et)===61&&++et,{type:Ja,value:on.slice(e,et),start:e,end:et}}}if(i=on.substr(et,4),i===">>>=")return et+=4,{type:Ja,value:i,start:e,end:et};if(o=i.substr(0,3),o===">>>"||o==="<<="||o===">>=")return et+=3,{type:Ja,value:o,start:e,end:et};if(s=o.substr(0,2),r===s[1]&&"+-<>&|".indexOf(r)>=0||s==="=>")return et+=2,{type:Ja,value:s,start:e,end:et};if("<>=!+-*%&|^/".indexOf(r)>=0)return++et,{type:Ja,value:r,start:e,end:et};Er({},gi,Ki)}function hXt(e){for(var t="";et<sa&&gte(on[et]);)t+=on[et++];return t.length===0&&Er({},gi,Ki),aI(on.charCodeAt(et))&&Er({},gi,Ki),{type:Jy,value:parseInt("0x"+t,16),start:e,end:et}}function pXt(e){for(var t="0"+on[et++];et<sa&&uk(on[et]);)t+=on[et++];return(aI(on.charCodeAt(et))||bh(on.charCodeAt(et)))&&Er({},gi,Ki),{type:Jy,value:parseInt(t,8),octal:!0,start:e,end:et}}function she(){var e,t,n;if(n=on[et],B6(bh(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=et,e="",n!=="."){if(e=on[et++],n=on[et],e==="0"){if(n==="x"||n==="X")return++et,hXt(t);if(uk(n))return pXt(t);n&&bh(n.charCodeAt(0))&&Er({},gi,Ki)}for(;bh(on.charCodeAt(et));)e+=on[et++];n=on[et]}if(n==="."){for(e+=on[et++];bh(on.charCodeAt(et));)e+=on[et++];n=on[et]}if(n==="e"||n==="E")if(e+=on[et++],n=on[et],(n==="+"||n==="-")&&(e+=on[et++]),bh(on.charCodeAt(et)))for(;bh(on.charCodeAt(et));)e+=on[et++];else Er({},gi,Ki);return aI(on.charCodeAt(et))&&Er({},gi,Ki),{type:Jy,value:parseFloat(e),start:t,end:et}}function gXt(){var e="",t,n,r,s,o=!1;for(t=on[et],B6(t==="'"||t==='"',"String literal must starts with a quote"),n=et,++et;et<sa;)if(r=on[et++],r===t){t="";break}else if(r==="\\")if(r=on[et++],!r||!XE(r.charCodeAt(0)))switch(r){case"u":case"x":on[et]==="{"?(++et,e+=cXt()):e+=Fj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:uk(r)?(s="01234567".indexOf(r),s!==0&&(o=!0),et<sa&&uk(on[et])&&(o=!0,s=s*8+"01234567".indexOf(on[et++]),"0123".indexOf(r)>=0&&et<sa&&uk(on[et])&&(s=s*8+"01234567".indexOf(on[et++]))),e+=String.fromCharCode(s)):e+=r;break}else r==="\r"&&on[et]===`
`&&++et;else{if(XE(r.charCodeAt(0)))break;e+=r}return t!==""&&Er({},gi,Ki),{type:iI,value:e,octal:o,start:n,end:et}}function mXt(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(r,s){if(parseInt(s,16)<=1114111)return"x";Er({},Rj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Er({},Rj)}try{return new RegExp(e,t)}catch{return null}}function vXt(){var e,t,n,r,s;for(e=on[et],B6(e==="/","Regular expression literal must start with a slash"),t=on[et++],n=!1,r=!1;et<sa;)if(e=on[et++],t+=e,e==="\\")e=on[et++],XE(e.charCodeAt(0))&&Er({},t7),t+=e;else if(XE(e.charCodeAt(0)))Er({},t7);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Er({},t7),s=t.substr(1,t.length-2),{value:s,literal:t}}function yXt(){var e,t,n;for(t="",n="";et<sa&&(e=on[et],!!jF(e.charCodeAt(0)));)++et,e==="\\"&&et<sa?Er({},gi,Ki):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Er({},Rj,n),{value:n,literal:t}}function bXt(){var e,t,n,r;return Br=null,EMe(),e=et,t=vXt(),n=yXt(),r=mXt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:et}}function wXt(e){return e.type===Y1||e.type===I0||e.type===P6||e.type===L6}function TMe(){var e;return EMe(),et>=sa?{type:oI,start:et,end:et}:(e=on.charCodeAt(et),aI(e)?dXt():e===40||e===41||e===59?n7():e===39||e===34?gXt():e===46?bh(on.charCodeAt(et+1))?she():n7():bh(e)?she():n7())}function sl(){var e;return e=Br,et=e.end,Br=TMe(),et=e.end,e}function AMe(){var e;e=et,Br=TMe(),et=e}function xXt(e){var t=new cf(jYt);return t.elements=e,t}function ohe(e,t,n){var r=new cf(e==="||"||e==="&&"?YYt:HYt);return r.operator=e,r.left=t,r.right=n,r}function CXt(e,t){var n=new cf(qYt);return n.callee=e,n.arguments=t,n}function SXt(e,t,n){var r=new cf(GYt);return r.test=e,r.consequent=t,r.alternate=n,r}function mte(e){var t=new cf($Me);return t.name=e,t}function T$(e){var t=new cf(KYt);return t.value=e.value,t.raw=on.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ihe(e,t,n){var r=new cf(XYt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function $Xt(e){var t=new cf(ZYt);return t.properties=e,t}function ahe(e,t,n){var r=new cf(JYt);return r.key=t,r.value=n,r.kind=e,r}function kXt(e,t){var n=new cf(QYt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Er(e,t){var n,r=Array.prototype.slice.call(arguments,2),s=t.replace(/%(\d)/g,function(o,i){return B6(i<r.length,"Message reference must be in range"),r[i]});throw n=new Error(s),n.index=et,n.description=s,n}function z6(e){e.type===oI&&Er(e,sXt),e.type===Jy&&Er(e,eXt),e.type===iI&&Er(e,tXt),e.type===Y1&&Er(e,nXt),e.type===I0&&Er(e,rXt),Er(e,gi,e.value)}function oa(e){var t=sl();(t.type!==Ja||t.value!==e)&&z6(t)}function hs(e){return Br.type===Ja&&Br.value===e}function r7(e){return Br.type===I0&&Br.value===e}function EXt(){var e=[];for(et=Br.start,oa("[");!hs("]");)hs(",")?(sl(),e.push(null)):(e.push(X1()),hs("]")||oa(","));return sl(),xXt(e)}function lhe(){var e;return et=Br.start,e=sl(),e.type===iI||e.type===Jy?(e.octal&&Er(e,kMe),T$(e)):mte(e.value)}function _Xt(){var e,t,n,r;if(et=Br.start,e=Br,e.type===Y1)return n=lhe(),oa(":"),r=X1(),ahe("init",n,r);if(e.type===oI||e.type===Ja)z6(e);else return t=lhe(),oa(":"),r=X1(),ahe("init",t,r)}function TXt(){var e=[],t,n,r,s={},o=String;for(et=Br.start,oa("{");!hs("}");)t=_Xt(),t.key.type===$Me?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(s,r)?Er({},oXt):s[r]=!0,e.push(t),hs("}")||oa(",");return oa("}"),$Xt(e)}function AXt(){var e;return oa("("),e=vte(),oa(")"),e}var IXt={if:1};function NXt(){var e,t,n;if(hs("("))return AXt();if(hs("["))return EXt();if(hs("{"))return TXt();if(e=Br.type,et=Br.start,e===Y1||IXt[Br.value])n=mte(sl().value);else if(e===iI||e===Jy)Br.octal&&Er(Br,kMe),n=T$(sl());else{if(e===I0)throw new Error(YE);e===P6?(t=sl(),t.value=t.value==="true",n=T$(t)):e===L6?(t=sl(),t.value=null,n=T$(t)):hs("/")||hs("/=")?(n=T$(bXt()),AMe()):z6(sl())}return n}function DXt(){var e=[];if(oa("("),!hs(")"))for(;et<sa&&(e.push(X1()),!hs(")"));)oa(",");return oa(")"),e}function OXt(){var e;return et=Br.start,e=sl(),wXt(e)||z6(e),mte(e.value)}function RXt(){return oa("."),OXt()}function FXt(){var e;return oa("["),e=vte(),oa("]"),e}function MXt(){var e,t,n;for(e=NXt();;)if(hs("."))n=RXt(),e=ihe(".",e,n);else if(hs("("))t=DXt(),e=CXt(e,t);else if(hs("["))n=FXt(),e=ihe("[",e,n);else break;return e}function uhe(){var e=MXt();if(Br.type===Ja&&(hs("++")||hs("--")))throw new Error(YE);return e}function L3(){var e,t;if(Br.type!==Ja&&Br.type!==I0)t=uhe();else{if(hs("++")||hs("--"))throw new Error(YE);if(hs("+")||hs("-")||hs("~")||hs("!"))e=sl(),t=L3(),t=kXt(e.value,t);else{if(r7("delete")||r7("void")||r7("typeof"))throw new Error(YE);t=uhe()}}return t}function che(e){var t=0;if(e.type!==Ja&&e.type!==I0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function PXt(){var e,t,n,r,s,o,i,a,l,u;if(e=Br,l=L3(),r=Br,s=che(r),s===0)return l;for(r.prec=s,sl(),t=[e,Br],i=L3(),o=[l,r,i];(s=che(Br))>0;){for(;o.length>2&&s<=o[o.length-2].prec;)i=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=ohe(a,l,i),o.push(n);r=sl(),r.prec=s,o.push(r),t.push(Br),n=L3(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=ohe(o[u-1].value,o[u-2],n),u-=2;return n}function X1(){var e,t,n;return e=PXt(),hs("?")&&(sl(),t=X1(),oa(":"),n=X1(),e=SXt(e,t,n)),e}function vte(){var e=X1();if(hs(","))throw new Error(YE);return e}function LXt(e){on=e,et=0,sa=on.length,Br=null,AMe();var t=vte();if(Br.type!==oI)throw new Error("Unexpect token after expression.");return t}function PC(e,t,n){return e.fields=t||[],e.fname=n,e}function BXt(e){return e.length===1?zXt(e[0]):VXt(e)}const zXt=e=>function(t){return t[e]},VXt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function s7(e){throw Error(e)}function WXt(e){const t=[],n=e.length;let r=null,s=0,o="",i,a,l;e=e+"";function u(){t.push(o+e.substring(i,a)),o="",i=a+1}for(i=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(i,a++),i=a;else if(l===r)u(),r=null,s=-1;else{if(r)continue;i===s&&l==='"'||i===s&&l==="'"?(i=a+1,r=l):l==="."&&!s?a>i?u():i=a+1:l==="["?(a>i&&u(),s=i=a+1):l==="]"&&(s||s7("Access path missing open bracket: "+e),s>0&&u(),s=0,i=a+1)}return s&&s7("Access path missing closing bracket: "+e),r&&s7("Access path missing closing quote: "+e),a>i&&(a++,u()),t}function UXt(e,t,n){const r=WXt(e);return e=r.length===1?r[0]:e,PC(BXt(r),[e],e)}UXt("id");PC(e=>e,[],"identity");PC(()=>0,[],"zero");PC(()=>1,[],"one");PC(()=>!0,[],"true");PC(()=>!1,[],"false");new Set(Object.getOwnPropertyNames(Object.prototype));function Mj(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...Mj(e.object)),t.push(...Mj(e.property))),t)}function IMe(e){return e.object.type==="MemberExpression"?IMe(e.object):e.object.name==="datum"}function NMe(e){const t=LXt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&IMe(r)&&n.add(Mj(r).slice(1).join("."))}),n}class LC extends Jr{constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=HF(this.model,this.filter,this),this._dependentFields=NMe(this.expr)}clone(){return new LC(null,this.model,er(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function jXt(e,t){var n;const r={},s=e.config.selection;for(const o of kt(t??{})){const i=er(t[o]),a=s[i.type],{fields:l,encodings:u}=a,c=mn(a,["fields","encodings"]);for(const h in c)h==="encodings"&&i.fields||h==="fields"&&i.encodings||(h==="mark"&&(i[h]=Object.assign(Object.assign({},c[h]),i[h])),(i[h]===void 0||i[h]===!0)&&(i[h]=(n=c[h])!==null&&n!==void 0?n:i[h]));const f=ks(o),d=r[f]=Object.assign(Object.assign({},i),{name:f,events:Qn(i.on)?jy(i.on,"scope"):er(i.on)});M6(d,h=>{h.has(d)&&h.parse&&h.parse(e,d,i,t[o])})}return r}function DMe(e,t,n,r="datum"){const s=[];function o(a){const l=ks(a),u=e.getSelectionComponent(l,a),c=gr(l+K1);if(u.project.timeUnit){const f=n??e.component.data.raw,d=u.project.timeUnit.clone();f.parent?d.insertAsParentOf(f):f.parent=d}return u.empty!=="none"&&s.push(c),`vlSelectionTest(${c}, ${r}`+(u.resolve==="global"?")":`, ${gr(u.resolve)})`)}const i=ik(t,o);return(s.length?"!("+s.map(a=>`length(data(${a}))`).join(" || ")+") || ":"")+`(${i})`}function OMe(e,t){const n=t.encoding;let r=t.field;if(!n&&!r)r=e.project.items[0].field,e.project.items.length>1&&Ct(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${gr(r)}.`);else if(n&&!r){const s=e.project.items.filter(o=>o.channel===n);!s.length||s.length>1?(r=e.project.items[0].field,Ct((s.length?"Multiple ":"No ")+`matching ${gr(n)} encoding found for selection ${gr(t.selection)}. Using "field": ${gr(r)}.`)):r=s[0].field}return`${e.name}[${gr(r)}]`}function HXt(e,t){Zy(e,n=>{const r=n.name,s=e.getName(`lookup_${r}`);e.component.data.outputNodes[s]=n.materialized=new Ia(new LC(t,e,{selection:r}),s,"lookup",e.component.data.outputNodeRefCounts)})}function HF(e,t,n){return ik(t,r=>Qn(r)?r:Oqt(r)?DMe(e,r.selection,n):eFe(r))}function qXt(e,t){if(e)return wn(e)&&!Cg(e)?e.map(n=>EFe(n,t)).join(", "):e}function o7(e,t,n,r){var s,o,i;e.encode=(s=e.encode)!==null&&s!==void 0?s:{},e.encode[t]=(o=e.encode[t])!==null&&o!==void 0?o:{},e.encode[t].update=(i=e.encode[t].update)!==null&&i!==void 0?i:{},e.encode[t].update[n]=r}function A$(e,t,n,r={header:!1}){var s,o;const i=e.combine(),{disable:a,orient:l,scale:u,labelExpr:c,title:f,zindex:d}=i,h=mn(i,["disable","orient","scale","labelExpr","title","zindex"]);if(!a){for(const p in h){const g=Djt[p],m=h[p];if(g&&g!==t&&g!=="both")delete h[p];else if(wee(m)){const{condition:v}=m,y=mn(m,["condition"]),w=Js(v),b=wde[p];if(b){const{vgProp:C,part:S}=b,$=[...w.map(k=>{const{test:T}=k,_=mn(k,["test"]);return Object.assign({test:HF(null,T)},_)}),y];o7(h,S,C,$),delete h[p]}else if(b===null){const C={signal:w.map(S=>{const{test:$}=S,k=mn(S,["test"]);return`${HF(null,$)} ? ${Lde(k)} : `}).join("")+Lde(y)};h[p]=C}}else if(An(m)){const v=wde[p];if(v){const{vgProp:y,part:w}=v;o7(h,w,y,m),delete h[p]}}}if(t==="grid"){if(!h.grid)return;if(h.encode){const{grid:p}=h.encode;h.encode=Object.assign({},p?{grid:p}:{}),ns(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:u,orient:l},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:uo(d,0)})}else{if(!r.header&&e.mainExtracted)return;if(c!==void 0){let g=c;!((o=(s=h.encode)===null||s===void 0?void 0:s.labels)===null||o===void 0)&&o.update&&An(h.encode.labels.update.text)&&(g=Sx(c,"datum.label",h.encode.labels.update.text.signal)),o7(h,"labels","text",{signal:g})}if(h.labelAlign===null&&delete h.labelAlign,h.encode){for(const g of bRe)e.hasAxisPart(g)||delete h.encode[g];ns(h.encode)&&delete h.encode}const p=qXt(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},p?{title:p}:{}),h),n.aria===!1?{aria:!1}:{}),{zindex:uo(d,0)})}}}function RMe(e){const{axes:t}=e.component,n=[];for(const r of Wu)if(t[r]){for(const s of t[r])if(!s.get("disable")&&!s.get("gridScale")){const o=r==="x"?"height":"width",i=e.getSizeSignalRef(o).signal;o!==i&&n.push({name:o,update:i})}}return n}function GXt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(s=>A$(s,"grid",t)),...r.map(s=>A$(s,"grid",t)),...n.map(s=>A$(s,"main",t)),...r.map(s=>A$(s,"main",t))].filter(s=>s)}const FMe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},MMe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},KXt=kt(FMe),YXt=kt(MMe);function fhe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(s=>{if(s==="axisOrient"){const o=n==="x"?"bottom":"left",i=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...kt(i),...kt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${HE(i[c])} : ${HE(a[c])}`};return u}return t[s]})])}function XXt(e,t,n,r){const s=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Hqt(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",i=An(n)?"axisOrient":"axis"+u6(n),a=[...s,...s.map(u=>o+u.substr(4))],l=["axis",i,o];return{vlOnlyAxisConfig:fhe(a,r,e,n),vgAxisConfig:fhe(l,r,e,n),axisConfigStyle:ZXt([...l,...a],r)}}function ZXt(e,t){var n;const r=[{}];for(const s of e){let o=(n=t[s])===null||n===void 0?void 0:n.style;if(o){o=Js(o);for(const i of o)r.push(t.style[i])}}return Object.assign.apply(null,r)}function Pj(e,t,n,r={}){var s;const o=NFe(e,n,t.style);if(o!==void 0)return{configFrom:"style",configValue:o};for(const i of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((s=r[i])===null||s===void 0?void 0:s[e])!==void 0)return{configFrom:i,configValue:r[i][e]};return{}}const dhe={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:s}=n;return dFe(e,e.type,r,s,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return hFe(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return Bt(e)&&ka(e.bin)?!1:(r=t.grid)!==null&&r!==void 0?r:JXt(n,e)},gridScale:({model:e,channel:t})=>QXt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||LMe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||PMe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return(r=e.labelFlush)!==null&&r!==void 0?r:tZt(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return(r=e.labelOverlap)!==null&&r!==void 0?r:nZt(t.type,n)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:s})=>{var o;const i=e==="x"?"width":e==="y"?"height":void 0,a=i?t.getSizeSignalRef(i):void 0;return(o=n.tickCount)!==null&&o!==void 0?o:sZt({fieldOrDatumDef:r,scaleType:s,size:a,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=BMe(t,n);if(r!==void 0)return r;const s=t.typedFieldDef(n),o=n==="x"?"x2":"y2",i=t.fieldDef(o);return OFe(s?[Pde(s)]:[],Bt(i)?[Pde(i)]:[])},values:({axis:e,fieldOrDatumDef:t})=>oZt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return(r=e.zindex)!==null&&r!==void 0?r:iZt(n,t)}};function JXt(e,t){return!_l(e)&&Bt(t)&&!ls(t?.bin)}function QXt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function eZt(e,t,n,r,s){const o=t?.labelAngle;if(o!==void 0)return An(o)?o:IF(o);{const{configValue:i}=Pj("labelAngle",e.config,t?.style,s);return i!==void 0?IF(i):n===Rs&&Cn([Bee,Lee],r.type)?270:void 0}}function Lj(e){return`(((${e.signal} % 360) + 360) % 360)`}function PMe(e,t,n,r){if(e!==void 0)if(n==="x"){if(An(e)){const s=Lj(e),o=An(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${s} && ${s} < 135) || (225 < ${s} && ${s} < 315) ? "middle" :(${s} <= 45 || 315 <= ${s}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(An(t)){const s=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${s} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(An(e)){const s=Lj(e),o=An(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${s} <= 45 || 315 <= ${s} || (135 <= ${s} && ${s} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${s} && ${s} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(An(t)){const s=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${s} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function LMe(e,t,n){if(e===void 0)return;const r=n==="x",s=r?0:90,o=r?"bottom":"left";if(An(e)){const i=Lj(e),a=An(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${s?"("+i+" + 90)":i} % 180 === 0) ? ${r?null:'"center"'} :(${s} < ${i} && ${i} < ${180+s}) === ${a} ? "left" : "right"`}}if((e+s)%180===0)return r?null:"center";if(An(t)){const i=s<e&&e<180+s?"===":"!==";return{signal:`${`${t.signal} ${i} "${o}"`} ? "left" : "right"`}}return(s<e&&e<180+s)==(t===o)?"left":"right"}function tZt(e,t){if(t==="x"&&Cn(["quantitative","temporal"],e))return!0}function nZt(e,t){if(e!=="nominal")return t==="log"?"greedy":!0}function rZt(e){return e==="x"?"bottom":"left"}function sZt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var s;if(!r&&!_l(t)&&t!=="log"){if(Bt(e)){if(ls(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Cn(["month","hours","day","quarter"],(s=La(e.timeUnit))===null||s===void 0?void 0:s.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function BMe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),s=e.fieldDef(n),o=r?r.title:void 0,i=s?s.title:void 0;if(o&&i)return RFe(o,i);if(o)return o;if(i)return i;if(o!==void 0)return o;if(i!==void 0)return i}function oZt(e,t){const n=e.values;if(wn(n))return TFe(t,n);if(An(n))return n}function iZt(e,t){return e==="rect"&&xFe(t)?1:0}class Tx extends Jr{constructor(t,n){super(t),this.transform=n,this._dependentFields=NMe(this.transform.calculate)}clone(){return new Tx(null,er(this.transform))}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,s)=>{if(Kee(r)&&vFe(r.sort)){const{field:o,timeUnit:i}=r,a=r.sort,l=a.map((u,c)=>`${eFe({field:o,timeUnit:i,equal:u})} ? ${c} : `).join("")+a.length;t=new Tx(t,{calculate:l,as:Ax(r,s,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${br(this.transform)}`}}function Ax(e,t,n){return It(e,Object.assign({prefix:t,suffix:"sort_index"},n??{}))}function V6(e,t){return Cn(["top","bottom"],t)?"column":Cn(["left","right"],t)||e==="row"?"row":"column"}function Ix(e,t,n,r){const s=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return uo((t?.header||{})[e],s[e],n.header[e])}function W6(e,t,n,r){const s={};for(const o of e){const i=Ix(o,t,n,r);i!==void 0&&(s[o]=i)}return s}const yte=["row","column"],bte=["header","footer"];function aZt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,s=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:i,titleOrient:a}=W6(["titleAnchor","titleAngle","titleOrient"],s,r,t),l=V6(t,a),u=IF(i);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),VMe(u,l)),zMe(l,u,o)),WMe(r,s,t,KXt,FMe))}}function zMe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=LMe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function VMe(e,t){const n=PMe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function lZt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const s of bte)if(n[s])for(const o of n[s]){const i=cZt(e,t,s,n,o);i!=null&&r.push(i)}return r}function uZt(e,t){var n;const{sort:r}=e;return Jf(r)?{field:It(r,{expr:"datum"}),order:(n=r.order)!==null&&n!==void 0?n:"ascending"}:wn(r)?{field:Ax(e,t,{expr:"datum"}),order:"ascending"}:{field:It(e,{expr:"datum"}),order:r??"ascending"}}function Bj(e,t,n){const{format:r,formatType:s,labelAngle:o,labelAnchor:i,labelOrient:a,labelExpr:l}=W6(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),u=Wee({fieldOrDatumDef:e,format:r,formatType:s,expr:"parent",config:n}).signal,c=V6(t,a);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?Sx(Sx(l,"datum.label",u),"datum.value",It(e,{expr:"parent"})):u}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),VMe(o,c)),zMe(c,o,i)),WMe(n,e,t,YXt,MMe))}function cZt(e,t,n,r,s){if(s){let o=null;const{facetFieldDef:i}=r,a=e.config?e.config:void 0;if(i&&s.labels){const{labelOrient:f}=W6(["labelOrient"],i,a,t);(t==="row"&&!Cn(["top","bottom"],f)||t==="column"&&!Cn(["left","right"],f))&&(o=Bj(i,t,a))}const l=Ic(e)&&!eI(e.facet),u=s.axes,c=u?.length>0;if(o||c){const f=t==="row"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:uZt(i,t)}:{}),c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),o?{title:o}:{}),s.sizeSignal?{encode:{update:{[f]:s.sizeSignal}}}:{}),c?{axes:u}:{})}}return null}const fZt={column:{start:0,end:1},row:{start:1,end:0}};function dZt(e,t){return fZt[t][e]}function hZt(e,t){const n={};for(const r of _u){const s=e[r];if(s?.facetFieldDef){const{titleAnchor:o,titleOrient:i}=W6(["titleAnchor","titleOrient"],s.facetFieldDef,t,r),a=V6(r,i),l=dZt(o,a);l!==void 0&&(n[a]=l)}}return ns(n)?void 0:n}function WMe(e,t,n,r,s){const o={};for(const i of r){if(!s[i])continue;const a=Ix(i,t,e,n);a!==void 0&&(o[s[i]]=a)}return o}function wte(e){return[...GN(e,"width"),...GN(e,"height"),...GN(e,"childWidth"),...GN(e,"childHeight")]}function GN(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const s=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const i=o.get("type"),a=o.get("range");if(_l(i)&&T0(a)){const l=e.scaleName(n);return Ic(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[hhe(l,a)]:[hhe(l,a),{name:s,update:UMe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=s.endsWith("width"),i=o?"containerSize()[0]":"containerSize()[1]",a=Aj(e.config.view,o?"width":"height"),l=`isFinite(${i}) ? ${i} : ${a}`;return[{name:s,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:s,value:r}]}function hhe(e,t){return{name:e+"_step",value:t.step}}function UMe(e,t,n){const r=t.get("type"),s=t.get("padding"),o=uo(t.get("paddingOuter"),s);let i=t.get("paddingInner");return i=r==="band"?i!==void 0?i:s:1,`bandspace(${n}, ${i}, ${o}) * ${e}_step`}function jMe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function HMe(e,t){return kt(e).reduce((n,r)=>{const s=e[r];return Object.assign(Object.assign({},n),rI(t,s,r,o=>An(o)?o:{value:o.value}))},{})}function pZt(e,t){if(VC(t)||Ic(t))return"shared";if(kte(t))return xd(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function xte(e,t){const n=e.scale[t],r=xd(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ct(JHt(t)),"independent"):e[r][t]||"shared"}const gZt=Object.assign(Object.assign({},jGt),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),qMe=kt(gZt);class mZt extends zp{}const phe={symbols:vZt,gradient:yZt,labels:bZt,entries:wZt};function vZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:s,legendType:o}){var i,a,l,u,c;if(o!=="symbol")return;const{markDef:f,encoding:d,config:h,mark:p}=n,g=f.filled&&p!=="trail";let m=Object.assign(Object.assign({},SGt({},n,Bjt)),uMe(n,{filled:g}));const v=(i=GMe(d.opacity))!==null&&i!==void 0?i:f.opacity;if(m.fill){if(r==="fill"||g&&r===kl)delete m.fill;else if(m.fill.field)s.get("symbolFillColor")?delete m.fill:(m.fill=Ys((a=h.legend.symbolBaseFillColor)!==null&&a!==void 0?a:"black"),m.fillOpacity=Ys(v??1));else if(wn(m.fill)){const y=(c=(u=zj((l=d.fill)!==null&&l!==void 0?l:d.color))!==null&&u!==void 0?u:f.fill)!==null&&c!==void 0?c:g&&f.color;y&&(m.fill=Ys(y))}}if(m.stroke){if(r==="stroke"||!g&&r===kl)delete m.stroke;else if(m.stroke.field)delete m.stroke;else if(wn(m.stroke)){const y=uo(zj(d.stroke||d.color),f.stroke,g?f.color:void 0);y&&(m.stroke={value:y})}}if(r!==Bp){const y=Bt(t)&&YMe(n,s,t);y?m.opacity=[Object.assign({test:y},Ys(v??1)),Ys(h.legend.unselectedOpacity)]:v&&(m.opacity=Ys(v))}return m=Object.assign(Object.assign({},m),e),ns(m)?void 0:m}function yZt(e,{model:t,legendType:n}){if(n!=="gradient")return;let r={};const s=GMe(t.encoding.opacity)||t.markDef.opacity;return s&&(r.opacity=Ys(s)),r=Object.assign(Object.assign({},r),e),ns(r)?void 0:r}function bZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:s}){const o=n.legend(r)||{},i=n.config,a=Bt(t)?YMe(n,s,t):void 0,l=a?[{test:a,value:1},{value:i.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o,f=q1(c)?Uee({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:i}):void 0,d=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),f?{text:f}:{}),e);return ns(d)?void 0:d}function wZt(e,{legendCmpt:t}){const n=t.get("selections");return n?.length?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}function GMe(e){return KMe(e,(t,n)=>Math.max(t,n.value))}function zj(e){return KMe(e,(t,n)=>uo(t,n.value))}function KMe(e,t){if(hGt(e))return Js(e.condition).reduce(t,e.value);if(mp(e))return e.value}function YMe(e,t,n){const r=t.get("selections");if(!r?.length)return;const s=gr(n.field);return r.map(o=>`(!length(data(${gr(ks(o)+K1)})) || (${o}[${s}] && indexof(${o}[${s}], datum.value) >= 0))`).join(" || ")}const ghe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:s}=t;return dFe(e,e.type,r,s,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return hFe(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:s}=e;return(n=(t=r.gradientLength)!==null&&t!==void 0?t:s.gradientLength)!==null&&n!==void 0?n:_Zt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,s;return(s=(r=e.labelOverlap)!==null&&r!==void 0?r:t.labelOverlap)!==null&&s!==void 0?s:TZt(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var s;return(s=e.symbolType)!==null&&s!==void 0?s:CZt(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>s1(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(yw(n)&&xc(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>xZt(t,e)};function xZt(e,t){const n=e.values;if(wn(n))return TFe(t,n);if(An(n))return n}function CZt(e,t,n,r){var s;if(t!=="shape"){const o=(s=zj(n))!==null&&s!==void 0?s:r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function SZt(e){const{legend:t}=e;return uo(t.type,$Zt(e))}function $Zt({channel:e,timeUnit:t,scaleType:n}){if(yw(e)){if(Cn(["quarter","month","day"],t))return"symbol";if(xc(n))return"gradient"}return"symbol"}function kZt({legendConfig:e,legendType:t,orient:n,legend:r}){var s,o;return(o=(s=r.direction)!==null&&s!==void 0?s:e[t?"gradientDirection":"symbolDirection"])!==null&&o!==void 0?o:EZt(n,t)}function EZt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function _Zt({legendConfig:e,model:t,direction:n,orient:r,scaleType:s}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:i,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(xc(s))return n==="horizontal"?r==="top"||r==="bottom"?mhe(t,"width",i,o):i:mhe(t,"height",l,a)}function mhe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function TZt(e){if(Cn(["quantile","threshold","log"],e))return"greedy"}function XMe(e){const t=Bs(e)?AZt(e):OZt(e);return e.component.legends=t,t}function AZt(e){const{encoding:t}=e,n={};for(const r of[kl,...YFe]){const s=wo(t[r]);!s||!e.getScaleComponent(r)||r===El&&Bt(s)&&s.type===MC||(n[r]=DZt(e,r))}return n}function IZt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function NZt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function DZt(e,t){var n,r,s;let o=e.legend(t);const{markDef:i,encoding:a,config:l}=e,u=l.legend,c=new mZt({},IZt(e,t));hYt(e,t,c);const f=o!==void 0?!o:u.disable;if(c.set("disable",f,o!==void 0),f)return c;o=o||{};const d=e.getScaleComponent(t).get("type"),h=wo(a[t]),p=Bt(h)?(n=La(h.timeUnit))===null||n===void 0?void 0:n.unit:void 0,g=o.orient||l.legend.orient||"right",m=SZt({legend:o,channel:t,timeUnit:p,scaleType:d}),v=kZt({legend:o,legendType:m,orient:g,legendConfig:u}),y={legend:o,channel:t,model:e,markDef:i,encoding:a,fieldOrDatumDef:h,legendConfig:u,config:l,scaleType:d,orient:g,legendType:m,direction:v};for(const $ of qMe){const k=$ in ghe?ghe[$](y):o[$];if(k!==void 0){const T=NZt(k,$,o,e.fieldDef(t));(T||l.legend[$]===void 0)&&c.set($,k,T)}}const w=(r=o?.encoding)!==null&&r!==void 0?r:{},b=c.get("selections"),C={},S={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:c,legendType:m};for(const $ of["labels","legend","title","symbols","gradient","entries"]){const k=HMe((s=w[$])!==null&&s!==void 0?s:{},e),T=$ in phe?phe[$](k,S):k;T!==void 0&&!ns(T)&&(C[$]=Object.assign(Object.assign(Object.assign({},b?.length&&Bt(h)?{name:`${ks(h.field)}_legend_${$}`}:{}),b?.length?{interactive:!!b}:{}),{update:T}))}return ns(C)||c.set("encode",C,!!o?.encoding),c}function OZt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){XMe(r);for(const s of kt(r.component.legends))n.legend[s]=xte(e.component.resolve,s),n.legend[s]==="shared"&&(t[s]=ZMe(t[s],r.component.legends[s]),t[s]||(n.legend[s]="independent",delete t[s]))}for(const r of kt(t))for(const s of e.children)s.component.legends[r]&&n.legend[r]==="shared"&&delete s.component.legends[r];return t}function ZMe(e,t){var n,r,s,o;if(!e)return t.clone();const i=e.getWithExplicit("orient"),a=t.getWithExplicit("orient");if(i.explicit&&a.explicit&&i.value!==a.value)return;let l=!1;for(const u of qMe){const c=Hm(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return RZt(f,d);case"title":return FFe(f,d);case"type":return l=!0,Ml("symbol")}return R6(f,d,u,"legend")});e.setWithExplicit(u,c)}return l&&(!((r=(n=e.implicit)===null||n===void 0?void 0:n.encode)===null||r===void 0)&&r.gradient&&Sj(e.implicit,["encode","gradient"]),!((o=(s=e.explicit)===null||s===void 0?void 0:s.encode)===null||o===void 0)&&o.gradient&&Sj(e.explicit,["encode","gradient"])),e}function RZt(e,t){return t.value==="circle"?t:e}function vhe(e,t,n,r){var s,o,i;e.encode=(s=e.encode)!==null&&s!==void 0?s:{},e.encode[t]=(o=e.encode[t])!==null&&o!==void 0?o:{},e.encode[t].update=(i=e.encode[t].update)!==null&&i!==void 0?i:{},e.encode[t].update[n]=r}function JMe(e){const t=e.component.legends,n={};for(const s of kt(t)){const o=e.getScaleComponent(s),i=Ss(o.get("domains"));if(n[i])for(const a of n[i])ZMe(a,t[s])||n[i].push(t[s]);else n[i]=[t[s].clone()]}return rm(n).flat().map(s=>FZt(s,e.config)).filter(s=>s!==void 0)}function FZt(e,t){var n,r,s;const o=e.combine(),{disable:i,labelExpr:a,selections:l}=o,u=mn(o,["disable","labelExpr","selections"]);if(!i){if(t.aria===!1&&u.aria==null&&(u.aria=!1),!((n=u.encode)===null||n===void 0)&&n.symbols){const c=u.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!u.stroke&&(c.stroke={value:"transparent"});for(const f of YFe)u[f]&&delete c[f]}if(u.title||delete u.title,a!==void 0){let c=a;!((s=(r=u.encode)===null||r===void 0?void 0:r.labels)===null||s===void 0)&&s.update&&An(u.encode.labels.update.text)&&(c=Sx(a,"datum.label",u.encode.labels.update.text.signal)),vhe(u,"labels","text",{signal:c})}for(const c in u){const f=u[c];if(An(f)){const d=WGt[c];if(d){const{vgProp:h,part:p}=d;vhe(u,p,h,f),delete u[c]}}}return u}}function MZt(e){return VC(e)||kte(e)?PZt(e):QMe(e)}function PZt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),QMe(e))}function QMe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const s={signal:`[${t.size.map(i=>i.signal).join(", ")}]`},o=t.data.reduce((i,a)=>{const l=An(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Cn(i,l)||i.push(l),i},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:s,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}else return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const LZt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class e4e extends zp{constructor(t,n,r,s){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=r,this.data=s,this.merged=!1}get isFit(){return!!this.data}}function t4e(e){e.component.projection=Bs(e)?BZt(e):WZt(e)}function BZt(e){var t;if(e.hasProjection){const n=e.specifiedProjection,r=!(n&&(n.scale!=null||n.translate!=null)),s=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?zZt(e):void 0;return new e4e(e.projectionName(!0),Object.assign(Object.assign({},(t=e.config.projection)!==null&&t!==void 0?t:{}),n??{}),s,o)}}function zZt(e){const t=[],{encoding:n}=e;for(const r of[[Kd,Gd],[Vu,uf]])(wo(n[r[0]])||wo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(El)&&e.typedFieldDef(El).type===MC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Pi)),t}function VZt(e,t){const n=hRe(LZt,s=>!!(!Rv(e.explicit,s)&&!Rv(t.explicit,s)||Rv(e.explicit,s)&&Rv(t.explicit,s)&&Ss(e.get(s))===Ss(t.get(s))));if(Ss(e.size)===Ss(t.size)){if(n)return e;if(Ss(e.explicit)===Ss({}))return t;if(Ss(t.explicit)===Ss({}))return e}return null}function WZt(e){if(e.children.length===0)return;let t;for(const r of e.children)t4e(r);const n=hRe(e.children,r=>{const s=r.component.projection;if(s)if(t){const o=VZt(t,s);return o&&(t=o),!!o}else return t=s,!0;else return!0});if(t&&n){const r=e.projectionName(!0),s=new e4e(r,t.specifiedProjection,t.size,er(t.data));for(const o of e.children){const i=o.component.projection;i&&(i.isFit&&s.data.push(...o.component.projection.data),o.renameProjection(i.get("name"),r),i.merged=!0)}return s}}function UZt(e,t,n,r){var s,o;if(nI(t,n)){const i=Bs(e)?(o=(s=e.axis(n))!==null&&s!==void 0?s:e.legend(n))!==null&&o!==void 0?o:{}:{},a=It(t,{expr:"datum"}),l=It(t,{expr:"datum",binSuffix:"end"});return{formulaAs:It(t,{binSuffix:"range",forAs:!0}),formula:E6(a,l,i.format,i.formatType,r)}}return{}}function n4e(e,t){return`${MRe(e)}_${t}`}function jZt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Cte(e,t,n){var r;const s=(r=I6(n,void 0))!==null&&r!==void 0?r:{},o=n4e(s,t);return e.getName(`${o}_bins`)}function HZt(e){return"as"in e}function yhe(e,t,n){let r,s;HZt(e)?r=Qn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[It(e,{forAs:!0}),It(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},I6(t,void 0)),i=n4e(o,e.field),{signal:a,extentSignal:l}=jZt(n,i);if($6(o.extent)){const c=o.extent,f=c.selection;s=OMe(n.getSelectionComponent(ks(f),f),c),delete o.extent}const u=Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},a?{signal:a}:{}),l?{extentSignal:l}:{}),s?{span:s}:{});return{key:i,binComponent:u}}class ed extends Jr{constructor(t,n){super(t),this.bins=n}clone(){return new ed(null,er(this.bins))}static makeFromEncoding(t,n){const r=n.reduceFieldDef((s,o,i)=>{if(ou(o)&&ls(o.bin)){const{key:a,binComponent:l}=yhe(o,o.bin,n);s[a]=Object.assign(Object.assign(Object.assign({},l),s[a]),UZt(n,o,i,n.config))}return s},{});return ns(r)?null:new ed(t,r)}static makeFromTransform(t,n,r){const{key:s,binComponent:o}=yhe(n,n.bin,r);return new ed(t,{[s]:o})}merge(t,n){for(const r of kt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Wg([...this.bins[r].as,...t.bins[r].as],br)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(rm(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(rm(this.bins).map(t=>t.field))}hash(){return`Bin ${br(this.bins)}`}assemble(){return rm(this.bins).flatMap(t=>{const n=[],[r,...s]=t.as,o=t.bin,{extent:i}=o,a=mn(o,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:Wm(t.field),as:r,signal:t.signal},$6(i)?{extent:null}:{extent:i}),t.span?{span:{signal:`span(${t.span})`}}:{}),a);!i&&t.extentSignal&&(n.push({type:"extent",field:Wm(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),n.push(l);for(const u of s)for(let c=0;c<2;c++)n.push({type:"formula",expr:It({field:r[c]},{expr:"datum"}),as:u[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}class Nx extends Jr{constructor(t){super(null),t=t??{name:"source"};let n;if(i1(t)||(n=t.format?Object.assign({},Gh(t.format,["parse"])):{}),zF(t))this._data={values:t.values};else if(GE(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Cn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else oMe(t)?this._data={values:[{type:"Sphere"}]}:(rMe(t)||i1(t))&&(this._data={});this._generator=i1(t),t.name&&(this._name=t.name),n&&!ns(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}function Vj(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return console.error("Dataflow graph is inconsistent.",t,n),!1;if(!Vj(t.children))return!1}return!0}class lI extends Jr{constructor(t,n){super(t),this.params=n}clone(){return new lI(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${br(this.params)}`}assemble(){return Object.assign({type:"graticule"},this.params===!0?{}:this.params)}}class uI extends Jr{constructor(t,n){super(t),this.params=n}clone(){return new uI(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([(t=this.params.as)!==null&&t!==void 0?t:"data"])}hash(){return`Hash ${br(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}function U6(e){return e instanceof Nx||e instanceof lI||e instanceof uI}class r4e{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class Vp extends r4e{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:t,mutatedFlag:n}){t&&this.setContinue(),n&&this.setMutated()}reset(){}optimizeNextFromLeaves(t){if(U6(t))return!1;const n=t.parent,{continueFlag:r}=this.run(t);return r&&this.optimizeNextFromLeaves(n),this.mutatedFlag}}class Ste extends r4e{}function qZt(e,t,n,r){const s=Bs(r)?r.encoding[Zd(t)]:void 0;if(ou(n)&&Bs(r)&&Hee(t,n,s,r.stack,r.markDef,r.config))e.add(It(n,{})),e.add(It(n,{suffix:"end"})),n.bin&&nI(n,t)&&e.add(It(n,{binSuffix:"range"}));else if(rHt(t)){const o=nHt(t);e.add(r.getName(o))}else e.add(It(n));return e}function GZt(e,t){var n;for(const r of kt(t)){const s=t[r];for(const o of kt(s))r in e?e[r][o]=new Set([...(n=e[r][o])!==null&&n!==void 0?n:[],...s[o]]):e[r]={[o]:s[o]}}}class Ac extends Jr{constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}clone(){return new Ac(null,new Set(this.dimensions),er(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(i=>{i.aggregate&&(r=!0)});const s={},o=new Set;return!r||(n.forEachFieldDef((i,a)=>{var l,u,c,f;const{aggregate:d,field:h}=i;if(d)if(d==="count")s["*"]=(l=s["*"])!==null&&l!==void 0?l:{},s["*"].count=new Set([It(i,{forAs:!0})]);else{if(Um(d)||Ky(d)){const p=Um(d)?"argmin":"argmax",g=d[p];s[g]=(u=s[g])!==null&&u!==void 0?u:{},s[g][p]=new Set([It({op:p,field:g},{forAs:!0})])}else s[h]=(c=s[h])!==null&&c!==void 0?c:{},s[h][d]=new Set([It(i,{forAs:!0})]);_0(a)&&n.scaleDomain(a)==="unaggregated"&&(s[h]=(f=s[h])!==null&&f!==void 0?f:{},s[h].min=new Set([It({field:h,aggregate:"min"},{forAs:!0})]),s[h].max=new Set([It({field:h,aggregate:"max"},{forAs:!0})]))}else qZt(o,a,i,n)}),o.size+kt(s).length===0)?null:new Ac(t,o,s)}static makeFromTransform(t,n){var r,s,o;const i=new Set,a={};for(const l of n.aggregate){const{op:u,field:c,as:f}=l;u&&(u==="count"?(a["*"]=(r=a["*"])!==null&&r!==void 0?r:{},a["*"].count=new Set([f||It(l,{forAs:!0})])):(a[c]=(s=a[c])!==null&&s!==void 0?s:{},a[c][u]=new Set([f||It(l,{forAs:!0})])))}for(const l of(o=n.groupby)!==null&&o!==void 0?o:[])i.add(l);return i.size+kt(a).length===0?null:new Ac(t,i,a)}merge(t){return kjt(this.dimensions,t.dimensions)?(GZt(this.measures,t.measures),!0):(pqt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...kt(this.measures)])}producedFields(){const t=new Set;for(const n of kt(this.measures))for(const r of kt(this.measures[n])){const s=this.measures[n][r];s.size===0?t.add(`${r}_${n}`):s.forEach(t.add,t)}return t}hash(){return`Aggregate ${br({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of kt(this.measures))for(const i of kt(this.measures[o]))for(const a of this.measures[o][i])r.push(a),t.push(i),n.push(o==="*"?null:Wm(o));return{type:"aggregate",groupby:[...this.dimensions].map(Wm),ops:t,fields:n,as:r}}}class BC extends Jr{constructor(t,n,r,s){super(t),this.model=n,this.name=r,this.data=s;for(const o of _u){const i=n.facet[o];if(i){const{bin:a,sort:l}=i;this[o]=Object.assign({name:n.getName(`${o}_domain`),fields:[It(i),...ls(a)?[It(i,{binSuffix:"end"})]:[]]},Jf(l)?{sortField:l}:wn(l)?{sortIndexField:Ax(i,o)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of _u)this[n]&&(t+=` ${n.charAt(0)}:${br(this[n])}`);return t}get fields(){var t;const n=[];for(const r of _u)!((t=this[r])===null||t===void 0)&&t.fields&&n.push(...this[r].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of _u)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Wu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const s=r.get("type"),o=r.get("range");if(_l(s)&&T0(o)){const i=j6(this.childModel,n),a=$te(i);a?t[n]=a:Ct(`Unknown field for ${n}. Cannot calculate view size.`)}}}return t}assembleRowColumnHeaderData(t,n,r){const s={row:"y",column:"x"}[t],o=[],i=[],a=[];r&&r[s]&&(n?(o.push(`distinct_${r[s]}`),i.push("max")):(o.push(r[s]),i.push("distinct")),a.push(`distinct_${r[s]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=_6,field:f}=l;o.push(f),i.push(c),a.push(It(l,{forAs:!0}))}else u&&(o.push(u),i.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},o.length?{fields:o,ops:i,as:a}:{})]}}assembleFacetHeaderData(t){var n,r;const{columns:s}=this.model.layout,{layoutHeaders:o}=this.model.component,i=[],a={};for(const c of yte){for(const f of bte){const d=(n=o[c]&&o[c][f])!==null&&n!==void 0?n:[];for(const h of d)if(((r=h.axes)===null||r===void 0?void 0:r.length)>0){a[c]=!0;break}}if(a[c]){const f=`length(data("${this.facet.name}"))`,d=c==="row"?s?{signal:`ceil(${f} / ${s})`}:1:s?{signal:`min(${f}, ${s})`}:{signal:f};i.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:d}]})}}const{row:l,column:u}=a;return(l||u)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){var t,n;const r=[];let s=null;const o=this.getChildIndependentFieldsWithStep(),{column:i,row:a,facet:l}=this;if(i&&a&&(o.x||o.y)){s=`cross_${this.column.name}_${this.row.name}`;const u=[].concat((t=o.x)!==null&&t!==void 0?t:[],(n=o.y)!==null&&n!==void 0?n:[]),c=u.map(()=>"distinct");r.push({name:s,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:c}]})}for(const u of[Yh,Kh])this[u]&&r.push(this.assembleRowColumnHeaderData(u,s,o));if(l){const u=this.assembleFacetHeaderData(o);u&&r.push(...u)}return r}}function bhe(e){return e[0]==="'"&&e[e.length-1]==="'"||e[0]==='"'&&e[e.length-1]==='"'?e.slice(1,-1):e}function KZt(e,t){const n=vRe(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.indexOf("date:")===0){const r=bhe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.indexOf("utc:")===0){const r=bhe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ct(EHt(t)),null}function YZt(e){const t={};return F3(e.filter,n=>{var r;if(QRe(n)){let s=null;Ree(n)?s=n.equal:Fee(n)?s=n.range[0]:Mee(n)&&(s=((r=n.oneOf)!==null&&r!==void 0?r:n.in)[0]),s&&(RC(s)?t[n.field]="date":lo(s)?t[n.field]="number":Qn(s)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function XZt(e){const t={};function n(r){N6(r)?t[r.field]="date":r.type==="quantitative"&&Zjt(r.aggregate)?t[r.field]="number":UE(r.field)>1?r.field in t||(t[r.field]="flatten"):Kee(r)&&Jf(r.sort)&&UE(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Bs(e)||Ic(e))&&e.forEachFieldDef((r,s)=>{if(ou(r))n(r);else{const o=Xy(s),i=e.fieldDef(o);n(Object.assign(Object.assign({},r),{type:i.type}))}}),Bs(e)){const{mark:r,markDef:s,encoding:o}=e;if(Gy(r)&&!e.encoding.order){const i=s.orient==="horizontal"?"y":"x",a=o[i];Bt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function ZZt(e){const t={};if(Bs(e)&&e.component.selection)for(const n of kt(e.component.selection)){const r=e.component.selection[n];for(const s of r.project.items)!s.channel&&UE(s.field)>1&&(t[s.field]="flatten")}return t}class Yi extends Jr{constructor(t,n){super(t),this._parse=n}clone(){return new Yi(null,er(this._parse))}hash(){return`Parse ${br(this._parse)}`}static makeExplicit(t,n,r){let s={};const o=n.data;return!i1(o)&&o&&o.format&&o.format.parse&&(s=o.format.parse),this.makeWithAncestors(t,s,{},r)}static makeWithAncestors(t,n,r,s){for(const a of kt(r)){const l=s.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ct(Ide(a,r[a],l.value)))}for(const a of kt(n)){const l=s.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ct(Ide(a,n[a],l)))}const o=new zp(n,r);s.copyAll(o);const i={};for(const a of kt(o.combine())){const l=o.get(a);l!==null&&(i[a]=l)}return kt(i).length===0||s.parseNothing?null:new Yi(t,i)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of kt(this._parse)){const r=this._parse[n];UE(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(kt(this._parse))}dependentFields(){return new Set(kt(this._parse))}assembleTransforms(t=!1){return kt(this._parse).filter(n=>t?UE(n)>1:!0).map(n=>{const r=KZt(n,this._parse[n]);return r?{type:"formula",expr:r,as:yRe(n)}:null}).filter(n=>n!==null)}}class Km extends Jr{clone(){return new Km(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ex])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ex}}}class Qy extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new Qy(null,er(this.transform))}addDimensions(t){this.transform.groupby=Wg(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:It(t)}hash(){return`JoinAggregateTransform ${br(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const s=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},s!==void 0?{groupby:s}:{})}}function JZt(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,s=It(r);return s&&t.push(s),t},[])}function QZt(e){return wn(e)&&e.every(t=>Qn(t))&&e.length>1}class Zh extends Jr{constructor(t,n){super(t),this._stack=n}clone(){return new Zh(null,er(this._stack))}static makeFromTransform(t,n){const{stack:r,groupby:s,as:o,offset:i="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(uo(f.order,"ascending"));const u={field:a,order:l};let c;return QZt(o)?c=o:Qn(o)?c=[o,o+"_end"]:c=[n.stack+"_start",n.stack+"_end"],new Zh(t,{stackField:r,groupby:s,offset:i,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:s}=n;if(!r)return null;const{groupbyChannel:o,fieldChannel:i,offset:a,impute:l}=r;let u;if(o){const h=s[o];u=Cd(h)}const c=JZt(n),f=n.encoding.order;let d;return wn(f)||Bt(f)?d=DFe(f):d=c.reduce((h,p)=>(h.field.push(p),h.order.push(i==="y"?"descending":"ascending"),h),{field:[],order:[]}),new Zh(t,{dimensionFieldDef:u,stackField:n.vgField(i),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(i,{suffix:"start",forAs:!0}),n.vgField(i,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${br(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:t,impute:n,groupby:r}=this._stack;return t?t.bin?n?[It(t,{binSuffix:"mid"})]:[It(t,{}),It(t,{binSuffix:"end"})]:[It(t)]:r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDef:r,stackField:s,stackby:o,sort:i,offset:a,impute:l,as:u}=this._stack;if(l&&r){const{band:c=.5,bin:f}=r;f&&t.push({type:"formula",expr:`${c}*`+It(r,{expr:"datum"})+`+${1-c}*`+It(r,{expr:"datum",binSuffix:"end"}),as:It(r,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:s,groupby:[...o,...n],key:It(r,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:s,sort:i,as:u,offset:a}),t}}class zC extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new zC(null,er(this.transform))}addDimensions(t){this.transform.groupby=Wg(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const r=new Set;return((t=this.transform.groupby)!==null&&t!==void 0?t:[]).forEach(r.add,r),((n=this.transform.sort)!==null&&n!==void 0?n:[]).forEach(s=>r.add(s.field)),this.transform.window.map(s=>s.field).filter(s=>s!==void 0).forEach(r.add,r),r}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:It(t)}hash(){return`WindowTransform ${br(this.transform)}`}assemble(){var t;const n=[],r=[],s=[],o=[];for(const d of this.transform.window)r.push(d.op),s.push(this.getDefaultName(d)),o.push(d.param===void 0?null:d.param),n.push(d.field===void 0?null:d.field);const i=this.transform.frame,a=this.transform.groupby;if(i&&i[0]===null&&i[1]===null&&r.every(d=>$ee(d)))return Object.assign({type:"joinaggregate",as:s,ops:r,fields:n},a!==void 0?{groupby:a}:{});const l=[],u=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)l.push(d.field),u.push((t=d.order)!==null&&t!==void 0?t:"ascending");const c={field:l,order:u},f=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:s,ops:r,fields:n,sort:c},f!==void 0?{ignorePeers:f}:{}),a!==void 0?{groupby:a}:{}),i!==void 0?{frame:i}:{})}}class eJt extends Vp{run(t){const n=t.parent;if(t instanceof Yi){if(U6(n))return this.flags;if(n.numChildren()>1)return this.setContinue(),this.flags;if(n instanceof Yi)this.setMutated(),n.merge(t);else{if(gRe(n.producedFields(),t.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),t.swapWithParent()}}return this.setContinue(),this.flags}}class tJt extends Ste{mergeNodes(t,n){const r=n.shift();for(const s of n)t.removeChild(s),s.parent=r,s.remove()}run(t){const n=t.children.map(s=>s.hash()),r={};for(let s=0;s<n.length;s++)r[n[s]]===void 0?r[n[s]]=[t.children[s]]:r[n[s]].push(t.children[s]);for(const s of kt(r))r[s].length>1&&(this.setMutated(),this.mergeNodes(t,r[s]));for(const s of t.children)this.run(s);return this.mutatedFlag}}class nJt extends Vp{run(t){return t instanceof Ia||t.numChildren()>0||t instanceof BC?this.flags:(this.setMutated(),t.remove(),this.flags)}}class rJt extends Vp{constructor(){super(...arguments),this.fields=new Set,this.prev=null}run(t){if(this.setContinue(),t instanceof Qf){const n=t.producedFields();pRe(n,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([...this.fields,...n]),this.prev=t}return this.flags}reset(){this.fields.clear()}}class sJt extends Vp{run(t){this.setContinue();const r=t.parent.children.filter(o=>o instanceof Qf),s=r.pop();for(const o of r)this.setMutated(),s.merge(o);return this.flags}}function oJt(e){function t(n){if(!(n instanceof BC)){const r=n.clone();if(r instanceof Ia){const s=Uj+r.getSource();r.setSource(s),e.model.component.data.outputNodes[s]=r}else(r instanceof Ac||r instanceof Zh||r instanceof zC||r instanceof Qy)&&r.addDimensions(e.fields);for(const s of n.children.flatMap(t))s.parent=r;return[r]}return n.children.flatMap(t)}return t}function Wj(e){if(e instanceof BC)if(e.numChildren()===1&&!(e.children[0]instanceof Ia)){const t=e.children[0];(t instanceof Ac||t instanceof Zh||t instanceof zC||t instanceof Qy)&&t.addDimensions(e.fields),t.swapWithParent(),Wj(e)}else{const t=e.model.component.data.main;s4e(t);const n=oJt(e),r=e.children.map(n).flat();for(const s of r)s.parent=t}else e.children.map(Wj)}function s4e(e){if(e instanceof Ia&&e.type===Pi&&e.numChildren()===1){const t=e.children[0];t instanceof BC||(t.swapWithParent(),s4e(e))}}class iJt extends Ste{constructor(){super()}run(t){t instanceof Ia&&!t.isRequired()&&(this.setMutated(),t.remove());for(const n of t.children)this.run(n);return this.mutatedFlag}}class aJt extends Ste{constructor(t){super(),this.requiresSelectionId=t&&pte(t)}run(t){t instanceof Km&&(this.requiresSelectionId&&(U6(t.parent)||t.parent instanceof Ac||t.parent instanceof Yi)||(this.setMutated(),t.remove()));for(const n of t.children)this.run(n);return this.mutatedFlag}}class lJt extends Vp{run(t){const n=t.parent,r=[...n.children],s=n.children.filter(o=>o instanceof Yi);if(n.numChildren()>1&&s.length>=1){const o={},i=new Set;for(const a of s){const l=a.parse;for(const u of kt(l))u in o?o[u]!==l[u]&&i.add(u):o[u]=l[u]}for(const a of i)delete o[a];if(!ns(o)){this.setMutated();const a=new Yi(n,o);for(const l of r){if(l instanceof Yi)for(const u of kt(o))delete l.parse[u];n.removeChild(l),l.parent=a,l instanceof Yi&&kt(l.parse).length===0&&l.remove()}}}return this.setContinue(),this.flags}}class uJt extends Vp{run(t){const n=t.parent,r=n.children.filter(o=>o instanceof Ac),s={};for(const o of r){const i=br(o.groupBy);i in s||(s[i]=[]),s[i].push(o)}for(const o of kt(s)){const i=s[o];if(i.length>1){const a=i.pop();for(const l of i)a.merge(l)&&(n.removeChild(l),l.parent=a,l.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class cJt extends Vp{constructor(t){super(),this.model=t}run(t){const n=t.parent,r=!(U6(n)||n instanceof LC||n instanceof Yi||n instanceof Km),s=[],o=[];for(const i of n.children)i instanceof ed&&(r&&!gRe(n.producedFields(),i.dependentFields())?s.push(i):o.push(i));if(s.length>0){const i=s.pop();for(const a of s)i.merge(a,this.model.renameSignal.bind(this.model));this.setMutated(),n instanceof ed?n.merge(i,this.model.renameSignal.bind(this.model)):i.swapWithParent()}if(o.length>1){const i=o.pop();for(const a of o)i.merge(a,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class fJt extends Vp{run(t){const n=t.parent,r=[...n.children];if(!WE(r,a=>a instanceof Ia)||n.numChildren()<=1)return this.setContinue(),this.flags;const o=[];let i;for(const a of r)if(a instanceof Ia){let l=a;for(;l.numChildren()===1;){const u=l.children[0];if(u instanceof Ia)l=u;else break}o.push(...l.children),i?(n.removeChild(a),a.parent=i.parent,i.parent.removeChild(i),i.parent=l,this.setMutated()):i=l}else o.push(a);if(o.length){this.setMutated();for(const a of o)a.parent.removeChild(a),a.parent=i}return this.setContinue(),this.flags}}const Uj="scale_",KN=5;function Qp(e){const t=[];function n(r){if(r.numChildren()===0)t.push(r);else for(const s of r.children)n(s)}for(const r of e)n(r);return t}function dJt(e){return e}function rc(e,t){return t.map(r=>{if(e instanceof Vp){const s=e.optimizeNextFromLeaves(r);return e.reset(),s}else return e.run(r)}).some(dJt)}function whe(e,t){let n=e.sources;const r=new Set;return r.add(rc(new iJt,n)),r.add(rc(new aJt(t),n)),n=n.filter(s=>s.numChildren()>0),r.add(rc(new nJt,Qp(n))),n=n.filter(s=>s.numChildren()>0),r.add(rc(new eJt,Qp(n))),r.add(rc(new cJt(t),Qp(n))),r.add(rc(new rJt,Qp(n))),r.add(rc(new lJt,Qp(n))),r.add(rc(new uJt,Qp(n))),r.add(rc(new sJt,Qp(n))),r.add(rc(new tJt,n)),r.add(rc(new fJt,Qp(n))),e.sources=n,r.has(!0)}function hJt(e,t){Vj(e.sources);let n=0,r=0;for(let s=0;s<KN&&whe(e,t);s++)n++;e.sources.map(Wj);for(let s=0;s<KN&&whe(e,t);s++)r++;Vj(e.sources),Math.max(n,r)===KN&&Ct(`Maximum optimization runs(${KN}) reached.`)}class Jl{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Jl(()=>t(n))}}function o4e(e){Bs(e)?pJt(e):gJt(e)}function pJt(e){const t=e.component.scales;for(const n of kt(t)){const r=vJt(e,n);if(t[n].setWithExplicit("domains",r),bJt(e,n),e.component.data.isFaceted){let o=e;for(;!Ic(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)Ug(a)&&(a.data=Uj+a.data.replace(Uj,""))}}}function gJt(e){for(const n of e.children)o4e(n);const t=e.component.scales;for(const n of kt(t)){let r,s=null;for(const o of e.children){const i=o.component.scales[n];if(i){r===void 0?r=i.getWithExplicit("domains"):r=Hm(r,i.getWithExplicit("domains"),"domains","scale",jj);const a=i.get("selectionExtent");s&&a&&s.selection!==a.selection&&Ct("The same selection must be used to override scale domains in a layered view."),s=a}}t[n].setWithExplicit("domains",r),s&&t[n].set("selectionExtent",s,!0)}}function mJt(e,t,n,r){if(e==="unaggregated"){const{valid:s,reason:o}=xhe(t,n);if(!s){Ct(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:s}=xhe(t,n);if(s)return"unaggregated"}return e}function vJt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,s=mJt(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return s!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:s})),t==="x"&&wo(r.x2)?wo(r.x)?Hm(ug(n,s,e,"x"),ug(n,s,e,"x2"),"domain","scale",jj):ug(n,s,e,"x2"):t==="y"&&wo(r.y2)?wo(r.y)?Hm(ug(n,s,e,"y"),ug(n,s,e,"y2"),"domain","scale",jj):ug(n,s,e,"y2"):ug(n,s,e,t)}function yJt(e,t,n){return e.map(r=>({signal:`{data: ${Zee(r,{timeUnit:n,type:t})}}`}))}function i7(e,t,n){var r;const s=(r=La(n))===null||r===void 0?void 0:r.unit;return t==="temporal"||s?yJt(e,t,s):[e]}function ug(e,t,n,r){const{encoding:s}=n,o=wo(s[r]),{type:i}=o,a=o.timeUnit;if(eGt(t)){const f=ug(e,void 0,n,r),d=i7(t.unionWith,i,a);return Fv([...f.value,...d])}else{if(An(t))return Fv([t]);if(t&&t!=="unaggregated"&&!nFe(t))return Fv(i7(t,i,a))}const l=n.stack;if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Ml([[0,1]]);const f=n.requestDataName(Pi);return Ml([{data:f,field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}])}const u=_0(r)&&Bt(o)?wJt(n,r,e):void 0;if(A0(o)){const f=i7([o.datum],i,a);return Ml(f)}const c=o;if(t==="unaggregated"){const f=n.requestDataName(Pi),{field:d}=o;return Ml([{data:f,field:It({field:d,aggregate:"min"})},{data:f,field:It({field:d,aggregate:"max"})}])}else if(ls(c.bin)){if(_l(e))return Ml(e==="bin-ordinal"?[]:[{data:AF(u)?n.requestDataName(Pi):n.requestDataName(VF),field:n.vgField(r,nI(c,r)?{binSuffix:"range"}:{}),sort:u===!0||!Ko(u)?{field:n.vgField(r,{}),op:"min"}:u}]);{const{bin:f}=c;if(ls(f)){const d=Cte(n,c.field,f);return Ml([new Jl(()=>{const h=n.getSignalName(d);return`[${h}.start, ${h}.stop]`})])}else return Ml([{data:n.requestDataName(Pi),field:n.vgField(r,{})}])}}else if(c.timeUnit&&Cn(["time","utc"],e)&&Hee(r,c,Bs(n)?n.encoding[Zd(r)]:void 0,n.stack,n.markDef,n.config)){const f=n.requestDataName(Pi);return Ml([{data:f,field:n.vgField(r)},{data:f,field:n.vgField(r,{suffix:"end"})}])}else return Ml(u?[{data:AF(u)?n.requestDataName(Pi):n.requestDataName(VF),field:n.vgField(r),sort:u}]:[{data:n.requestDataName(Pi),field:n.vgField(r)}])}function a7(e,t){const{op:n,field:r,order:s}=e;return Object.assign(Object.assign({op:n??(t?"sum":_6)},r?{field:Wm(r)}:{}),s?{order:s}:{})}function bJt(e,t){var n;const r=e.component.scales[t],s=e.specifiedScales[t].domain,o=(n=e.fieldDef(t))===null||n===void 0?void 0:n.bin,i=nFe(s)&&s,a=QA(o)&&$6(o.extent)&&o.extent;(i||a)&&r.set("selectionExtent",i??a,!0)}function wJt(e,t,n){if(!_l(n))return;const r=e.fieldDef(t),s=r.sort;if(vFe(s))return{op:"min",field:Ax(r,t),order:"ascending"};const{stack:o}=e,i=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map(a=>a.fieldDef.field)]:void 0;if(Jf(s)){const a=o&&!Cn(i,s.field);return a7(s,a)}else if(mFe(s)){const{encoding:a,order:l}=s,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!Cn(i,f);if(Um(c)||Ky(c))return a7({field:It(u),order:l},d);if($ee(c)||!c)return a7({op:c,field:f,order:l},d)}else{if(s==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Cn(["ascending",void 0],s))return!0}}function xhe(e,t){const{aggregate:n,type:r}=e;return n?Qn(n)&&!eHt[n]?{valid:!1,reason:HHt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:qHt(e)}:{valid:!0}:{valid:!1,reason:jHt(e)}}function jj(e,t,n,r){return e.explicit&&t.explicit&&Ct(ZHt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function xJt(e){const t=Wg(e.map(i=>{if(Ug(i)){const{sort:a}=i;return mn(i,["sort"])}return i}),br),n=Wg(e.map(i=>{if(Ug(i)){const a=i.sort;return a!==void 0&&!AF(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(i=>i!==void 0),br);if(t.length===0)return;if(t.length===1){const i=e[0];if(Ug(i)&&n.length>0){let a=n[0];if(n.length>1)Ct(Dde),a=!0;else if(Ko(a)&&"field"in a){const l=a.field;i.field===l&&(a=a.order?{order:a.order}:!0)}return Object.assign(Object.assign({},i),{sort:a})}return i}const r=Wg(n.map(i=>AF(i)||!("op"in i)||i.op in Yjt?i:(Ct(QHt(i)),!0)),br);let s;r.length===1?s=r[0]:r.length>1&&(Ct(Dde),s=!0);const o=Wg(e.map(i=>Ug(i)?i.data:null),i=>i);return o.length===1&&o[0]!==null?Object.assign({data:o[0],fields:t.map(a=>a.field)},s?{sort:s}:{}):Object.assign({fields:t},s?{sort:s}:{})}function $te(e){if(Ug(e)&&Qn(e.field))return e.field;if(Tqt(e)){let t;for(const n of e.fields)if(Ug(n)&&Qn(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ct(eqt),t}return Ct(tqt),t}else if(Aqt(e)){Ct(nqt);const t=e.fields[0];return Qn(t)?t:void 0}}function j6(e,t){const r=e.component.scales[t].get("domains").map(s=>(Ug(s)&&(s.data=e.lookupDataSource(s.data)),s));return xJt(r)}function i4e(e){return VC(e)||kte(e)?e.children.reduce((t,n)=>t.concat(i4e(n)),Che(e)):Che(e)}function Che(e){return kt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const s=r.combine(),{name:o,type:i,selectionExtent:a,domains:l,range:u,reverse:c}=s,f=mn(s,["name","type","selectionExtent","domains","range","reverse"]),d=CJt(s.range,o,n);let h;a&&(h=CYt(e,a));const p=j6(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:i},p?{domain:p}:{}),h?{domainRaw:h}:{}),{range:d}),c!==void 0?{reverse:c}:{}),f)),t},[])}function CJt(e,t,n){return xd(n)&&T0(e)?{step:{signal:t+"_step"}}:e}class a4e extends zp{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:WE(this.get("domains"),t=>wn(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const SJt=["range","scheme"];function l4e(e){return e==="x"?"width":e==="y"?"height":void 0}function $Jt(e){const t=e.component.scales;for(const n of S6){const r=t[n];if(!r)continue;const s=kJt(n,e);r.setWithExplicit("range",s)}}function She(e,t){const n=e.fieldDef(t);if(n&&n.bin&&ls(n.bin)){const r=Cte(e,n.field,n.bin),s=l4e(t),o=e.getName(s);return new Jl(()=>{const i=e.getSignalName(r),a=`(${i}.stop - ${i}.start) / ${i}.step`;return`${e.getSignalName(o)} / (${a})`})}}function kJt(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const i of SJt)if(n[i]!==void 0){const a=sFe(o,i),l=oFe(e,i);if(!a)Ct(zRe(o,i,e));else if(l)Ct(l);else switch(i){case"range":return wn(n.range)&&xd(e)?Fv(n.range.map(u=>{if(u==="width"||u==="height"){const c=t.getName(u),f=t.getSignalName.bind(t);return Jl.fromName(f,c)}return u})):Fv(n.range);case"scheme":return Fv(EJt(n[i]))}}if(e===Rs||e===So){const i=e===Rs?"width":"height",a=r[i];if(Sd(a)){if(_l(o))return Fv({step:a.step});Ct(VRe(i))}}return Ml(_Jt(e,t))}function EJt(e){return Qqt(e)?Object.assign({scheme:e.name},Gh(e,["name"])):{scheme:e}}function _Jt(e,t){const{size:n,config:r,mark:s,encoding:o}=t,i=t.getSignalName.bind(t),{type:a}=wo(o[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Rs:case So:{if(Cn(["point","band"],u)){if(e===Rs&&!n.width){const p=qE(r.view,"width");if(Sd(p))return p}else if(e===So&&!n.height){const p=qE(r.view,"height");if(Sd(p))return p}}const d=l4e(e),h=t.getName(d);return e===So&&Uu(u)?[Jl.fromName(i,h),0]:[0,Jl.fromName(i,h)]}case Lp:{const d=t.component.scales[e].get("zero"),h=u4e(s,d,r),p=IJt(s,n,t,r);return OF(u)?AJt(h,p,TJt(u,r,c,e)):[h,p]}case lf:return[0,Math.PI*2];case Yy:return[0,360];case qd:return[0,new Jl(()=>{const d=t.getSignalName("width"),h=t.getSignalName("height");return`min(${d},${h})/2`})];case $0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case k0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case El:return"symbol";case kl:case Yd:case Xd:return u==="ordinal"?a==="nominal"?"category":"ordinal":f!==void 0?"diverging":s==="rect"||s==="geoshape"?"heatmap":"ramp";case Bp:case C0:case S0:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}function TJt(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&wn(n)?n.length+1:(Ct(fqt(r)),3)}}function AJt(e,t,n){const r=()=>{const s=HE(t),o=HE(e),i=`(${s} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${s} + ${i}, ${i})`};return An(t)?new Jl(r):{signal:r()}}function u4e(e,t,n){if(t)return An(t)?{signal:`${t.signal} ? 0 : ${u4e(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(k6("size",e))}const $he=.95;function IJt(e,t,n,r){const s={x:She(n,"x"),y:She(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=khe(t,s,r.view);return lo(o)?o-1:new Jl(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=khe(t,s,r.view);return lo(o)?Math.pow($he*o,2):new Jl(()=>`pow(${$he} * ${o.signal}, 2)`)}}throw new Error(k6("size",e))}function khe(e,t,n){const r=Sd(e.width)?e.width.step:BF(n,"width"),s=Sd(e.height)?e.height.step:BF(n,"height");return t.x||t.y?new Jl(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:s].join(", ")})`):Math.min(r,s)}function c4e(e,t){Bs(e)?NJt(e,t):d4e(e,t)}function NJt(e,t){const n=e.component.scales,{config:r,encoding:s,markDef:o,specifiedScales:i}=e;for(const a of kt(n)){const l=i[a],u=n[a],c=e.getScaleComponent(a),f=wo(s[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=sFe(h,t),v=oFe(a,t);if(d!==void 0&&(m?v&&Ct(v):Ct(zRe(h,t,a))),m&&v===void 0)if(d!==void 0)u.copyKeyFromObject(t,l);else{const y=t in Ehe?Ehe[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,markDef:o,config:r}):r.scale[t];y!==void 0&&u.set(t,y,!1)}}}const Ehe={bins:({model:e,fieldOrDatumDef:t})=>Bt(t)?DJt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>OJt(e,t.type),nice:({scaleType:e,channel:t,fieldOrDatumDef:n})=>RJt(e,t,n),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:s})=>FJt(e,t,s.scale,n,r,s.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,config:r})=>MJt(e,t,n.type,r.scale),paddingOuter:({scalePadding:e,channel:t,scaleType:n,markDef:r,scalePaddingInner:s,config:o})=>PJt(e,t,n,r.type,s,o.scale),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const s=Bt(e)?e.sort:void 0;return LJt(t,s,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:s})=>BJt(e,t,n,r,s)};function f4e(e){Bs(e)?$Jt(e):d4e(e,"range")}function d4e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?f4e(r):c4e(r,t);for(const r of kt(n)){let s;for(const o of e.children){const i=o.component.scales[r];if(i){const a=i.getWithExplicit(t);s=Hm(s,a,t,"scale",nMe((l,u)=>t==="range"&&l.step&&u.step?l.step-u.step:0))}}n[r].setWithExplicit(t,s)}}function DJt(e,t){const n=t.bin;if(ls(n)){const r=Cte(e,t.field,n);return new Jl(()=>e.getSignalName(r))}else if(ka(n)&&QA(n)&&n.step!==void 0)return{step:n.step}}function OJt(e,t){if(Cn([kl,Yd,Xd],e)&&t!=="nominal")return"hcl"}function RJt(e,t,n){var r;if(!(!((r=Cd(n))===null||r===void 0)&&r.bin||Cn([Qs.TIME,Qs.UTC],e)))return t in E0?!0:void 0}function FJt(e,t,n,r,s,o){if(e in E0){if(xc(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:i,orient:a}=s;if(i==="bar"&&!(Bt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Qs.POINT)return n.pointPadding}}function MJt(e,t,n,r){if(e===void 0&&t in E0){const{bandPaddingInner:s,barBandPaddingInner:o,rectBandPaddingInner:i}=r;return uo(s,n==="bar"?o:i)}}function PJt(e,t,n,r,s,o){if(e===void 0&&t in E0&&n===Qs.BAND){const{bandPaddingOuter:i}=o;return uo(i,An(s)?{signal:`${s.signal}/2`}:s/2)}}function LJt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Uu(e)&&t==="descending"?An(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Uu(e)&&t==="descending")return!0}function BJt(e,t,n,r,s){if(!!n&&n!=="unaggregated"&&Uu(s)){if(wn(n)){const i=n[0],a=n[n.length-1];if(i<=0&&a>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!OF(s))return!0;if(!(Bt(t)&&t.bin)&&Cn([...Wu,...cHt],e)){const{orient:i,type:a}=r;return!(Cn(["bar","area","line","trail"],a)&&(i==="horizontal"&&e==="y"||i==="vertical"&&e==="x"))}return!1}function zJt(e,t,n,r){const s=VJt(t,n,r),{type:o}=e;return _0(t)?o!==void 0?aFe(t,o)?Bt(n)&&!iFe(o,n.type)?(Ct(YHt(o,s)),s):o:(Ct(KHt(t,o,s)),s):s:null}function VJt(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(yw(e)||P3(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ct(Y9(e,"ordinal")),"ordinal";if(e in E0){if(Cn(["rect","bar","image","rule"],n))return"band"}else if(n==="arc"&&e in _ee)return"band";return t.band!==void 0||Yee(t)&&(!((r=t.axis)===null||r===void 0)&&r.tickBand)?"band":"point";case"temporal":return yw(e)?"time":P3(e)==="discrete"?(Ct(Y9(e,"temporal")),"ordinal"):Bt(t)&&t.timeUnit&&La(t.timeUnit).utc?"utc":"time";case"quantitative":return yw(e)?Bt(t)&&ls(t.bin)?"bin-ordinal":"linear":P3(e)==="discrete"?(Ct(Y9(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(LRe(t.type))}function WJt(e,{ignoreRange:t}={}){h4e(e),o4e(e);for(const n of nGt)c4e(e,n);t||f4e(e)}function h4e(e){Bs(e)?e.component.scales=UJt(e):e.component.scales=HJt(e)}function UJt(e){const{encoding:t,mark:n}=e;return S6.reduce((r,s)=>{const o=wo(t[s]);if(o&&n===SRe&&s===El&&o.type===MC)return r;let i=o&&o.scale;if(o&&i!==null&&i!==!1){i=i??{};const a=zJt(i,s,o,n);r[s]=new a4e(e.scaleName(s+"",!0),{value:a,explicit:i.type===a})}return r},{})}const jJt=nMe((e,t)=>Rde(e)-Rde(t));function HJt(e){var t;const n=e.component.scales={},r={},s=e.component.resolve;for(const o of e.children){h4e(o);for(const i of kt(o.component.scales))if(s.scale[i]=(t=s.scale[i])!==null&&t!==void 0?t:pZt(i,e),s.scale[i]==="shared"){const a=r[i],l=o.component.scales[i].getWithExplicit("type");a?zqt(a.value,l.value)?r[i]=Hm(a,l,"type","scale",jJt):(s.scale[i]="independent",delete r[i]):r[i]=l}}for(const o of kt(r)){const i=e.scaleName(o,!0),a=r[o];n[o]=new a4e(i,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),i),u.merged=!0)}}return n}class l7{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Bs(e){return e?.type==="unit"}function Ic(e){return e?.type==="facet"}function kte(e){return e?.type==="concat"}function VC(e){return e?.type==="layer"}class Ete{constructor(t,n,r,s,o,i,a){var l,u;this.type=n,this.parent=r,this.config=o,this.view=a,this.children=[],this.correctDataNames=c=>(c.from&&c.from.data&&(c.from.data=this.lookupDataSource(c.from.data)),c.from&&c.from.facet&&c.from.facet.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c),this.parent=r,this.config=o,this.name=(l=t.name)!==null&&l!==void 0?l:s,this.title=Cg(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new l7,this.projectionNameMap=r?r.projectionNameMap:new l7,this.signalNameMap=r?r.signalNameMap:new l7,this.data=t.data,this.description=t.description,this.transforms=KKt((u=t.transform)!==null&&u!==void 0?u:[]),this.layout=n==="layer"||n==="unit"?{}:YGt(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:T6(t)||r&&r.component.data.isFaceted&&t.data===void 0},layoutSize:new zp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},i?er(i):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){WJt(this)}parseProjection(){t4e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){XMe(this)}assembleGroupStyle(){var t,n;if(this.type==="unit"||this.type==="layer")return(n=(t=this.view)===null||t===void 0?void 0:t.style)!==null&&n!==void 0?n:"cell"}assembleEncodeFromView(t){const{style:n}=t,r=mn(t,["style"]),s={};for(const o of kt(r)){const i=r[o];i!==void 0&&(s[o]=Ys(i))}return s}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Ys(this.description)),this.type==="unit"||this.type==="layer")?Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},n??{}):ns(n)?void 0:n}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,r=mn(t,["spacing"]),{component:s,config:o}=this,i=hZt(s.layoutHeaders,o);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),r),i?{titleBand:i}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of _u)t[r].title&&n.push(aZt(this,r));for(const r of yte)n=n.concat(lZt(this,r));return n}assembleAxes(){return GXt(this.component.axes,this.config)}assembleLegends(){return JMe(this)}assembleProjections(){return MZt(this)}assembleTitle(){var t,n,r;const s=(t=this.title)!==null&&t!==void 0?t:{},{encoding:o}=s,i=mn(s,["encoding"]),a=Object.assign(Object.assign(Object.assign({},AFe(this.config.title).nonMark),i),o?{encode:{update:o}}:{});if(a.text)return Cn(["unit","layer"],this.type)?Cn(["middle",void 0],a.anchor)&&(a.frame=(n=a.frame)!==null&&n!==void 0?n:"group"):a.anchor=(r=a.anchor)!==null&&r!==void 0?r:"start",ns(a)?void 0:a}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const s=!this.parent||Ic(this.parent)?i4e(this):[];s.length>0&&(n.scales=s);const o=this.assembleAxes();o.length>0&&(n.axes=o);const i=this.assembleLegends();return i.length>0&&(n.legends=i),n}getName(t){return ks((this.name?this.name+"_":"")+t)}requestDataName(t){var n;const r=this.getName(t),s=this.component.data.outputNodeRefCounts;return s[r]=((n=s[r])!==null&&n!==void 0?n:0)+1,r}getSizeSignalRef(t){if(Ic(this.parent)){const n=jMe(t),r=C6(n),s=this.component.scales[r];if(s&&!s.merged){const o=s.get("type"),i=s.get("range");if(_l(o)&&T0(i)){const a=s.get("name"),l=j6(this,r),u=$te(l);if(u){const c=It({aggregate:"distinct",field:u},{expr:"datum"});return{signal:UMe(a,s,c)}}else return Ct(`Unknown field for ${r}. Cannot calculate view size.`),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(DRe(t)&&_0(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(wHt(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)===null||t===void 0?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)===null||n===void 0?void 0:n.some(r=>r.hasOrientSignalRef()))}}class p4e extends Ete{vgField(t,n={}){const r=this.fieldDef(t);if(r)return It(r,n)}reduceFieldDef(t,n){return MFe(this.getMapping(),(r,s,o)=>{const i=Cd(s);return i?t(r,i,o):r},n)}forEachFieldDef(t,n){ete(this.getMapping(),(r,s)=>{const o=Cd(r);o&&t(o,s)},n)}}class H6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"value",(o=i[1])!==null&&o!==void 0?o:"density"]}clone(){return new H6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${br(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,r=mn(t,["density"]);return Object.assign({type:"kde",field:n},r)}}class ZE extends Jr{constructor(t,n){super(t),this.filter=n}clone(){return new ZE(null,Object.assign({},this.filter))}static make(t,n){const{config:r,mark:s,markDef:o}=n;if(Dr("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((l,u,c)=>{const f=_0(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");Uu(d)&&u.aggregate!=="count"&&!Gy(s)&&(l[u.field]=u)}return l},{});return kt(a).length?new ZE(t,a):null}dependentFields(){return new Set(kt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${br(this.filter)}`}assemble(){const t=kt(this.filter).reduce((n,r)=>{const s=this.filter[r],o=It(s,{expr:"datum"});return s!==null&&(s.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):s.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class q6 extends Jr{constructor(t,n){super(t),this.transform=n,this.transform=er(n);const{flatten:r,as:s=[]}=this.transform;this.transform.as=r.map((o,i)=>{var a;return(a=s[i])!==null&&a!==void 0?a:o})}clone(){return new q6(this.parent,er(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${br(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class G6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"key",(o=i[1])!==null&&o!==void 0?o:"value"]}clone(){return new G6(null,er(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${br(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class bw extends Jr{constructor(t,n,r,s){super(t),this.fields=n,this.geojson=r,this.signal=s}clone(){return new bw(null,er(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const s of[[Kd,Gd],[Vu,uf]]){const o=s.map(i=>{const a=wo(n.encoding[i]);return Bt(a)?a.field:A0(a)?{expr:`${a.datum}`}:mp(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new bw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(El)){const s=n.typedFieldDef(El);s.type===MC&&(t=new bw(t,null,s.field,n.getName(`geojson_${r++}`)))}return t}dependentFields(){var t;const n=((t=this.fields)!==null&&t!==void 0?t:[]).filter(Qn);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${br(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class JE extends Jr{constructor(t,n,r,s){super(t),this.projection=n,this.fields=r,this.as=s}clone(){return new JE(null,this.projection,er(this.fields),er(this.as))}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Kd,Gd],[Vu,uf]]){const s=r.map(i=>{const a=wo(n.encoding[i]);return Bt(a)?a.field:A0(a)?{expr:`${a.datum}`}:mp(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Vu?"2":"";(s[0]||s[1])&&(t=new JE(t,n.projectionName(),s,[n.getName("x"+o),n.getName("y"+o)]))}return t}dependentFields(){return new Set(this.fields.filter(Qn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${br(this.fields)} ${br(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class a1 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new a1(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:s}=t;return{signal:`sequence(${[n,r,...s?[s]:[]].join(",")})`}}static makeFromTransform(t,n){return new a1(t,n)}static makeFromEncoding(t,n){const r=n.encoding,s=r.x,o=r.y;if(Bt(s)&&Bt(o)){const i=s.impute?s:o.impute?o:void 0;if(i===void 0)return;const a=s.impute?o:o.impute?s:void 0,{method:l,value:u,frame:c,keyvals:f}=i.impute,d=PFe(n.mark,r);return new a1(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:i.field,key:a.field},l?{method:l}:{}),u!==void 0?{value:u}:{}),c?{frame:c}:{}),f!==void 0?{keyvals:f}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${br(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:s,groupby:o,value:i,frame:a=[null,null]}=this.transform,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:TKt(r)?this.processSequence(r):r}:{}),{method:"value"}),o?{groupby:o}:{}),{value:!s||s==="value"?i:null});if(s&&s!=="value"){const u=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[s],fields:[t],frame:a,ignorePeers:!1},o?{groupby:o}:{}),c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class K6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:n.on,(o=i[1])!==null&&o!==void 0?o:n.loess]}clone(){return new K6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${br(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:r}=t,s=mn(t,["loess","on"]);return Object.assign({type:"loess",x:r,y:n},s)}}class QE extends Jr{constructor(t,n,r){super(t),this.transform=n,this.secondary=r}clone(){return new QE(null,er(this.transform),this.secondary)}static make(t,n,r,s){const o=n.component.data.sources,{from:i}=r;let a=null;if(IKt(i)){let l=v4e(i.data,o);l||(l=new Nx(i.data),o.push(l));const u=n.getName(`lookup_${s}`);a=new Ia(l,u,"lookup",n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(NKt(i)){const l=i.selection;if(r=Object.assign({as:l},r),a=n.getSelectionComponent(ks(l),l).materialized,!a)throw new Error(SHt(l))}return new QE(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Js(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${br({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Js(this.transform.as)}:{});else{let n=this.transform.as;Qn(n)||(Ct(THt),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}class Y6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:"prob",(o=i[1])!==null&&o!==void 0?o:"value"]}clone(){return new Y6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${br(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,r=mn(t,["quantile"]);return Object.assign({type:"quantile",field:n},r)}}class X6 extends Jr{constructor(t,n){var r,s,o;super(t),this.transform=n,this.transform=er(n);const i=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(s=i[0])!==null&&s!==void 0?s:n.on,(o=i[1])!==null&&o!==void 0?o:n.regression]}clone(){return new X6(null,er(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${br(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:r}=t,s=mn(t,["regression","on"]);return Object.assign({type:"regression",x:r,y:n},s)}}class Z6 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new Z6(null,er(this.transform))}addDimensions(t){var n;this.transform.groupby=Wg(((n=this.transform.groupby)!==null&&n!==void 0?n:[]).concat(t),r=>r)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}hash(){return`PivotTransform ${br(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:s,op:o}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},s!==void 0?{limit:s}:{}),o!==void 0?{op:o}:{}),r!==void 0?{groupby:r}:{})}}class J6 extends Jr{constructor(t,n){super(t),this.transform=n}clone(){return new J6(null,er(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${br(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function g4e(e){let t=0;function n(r,s){var o;if(r instanceof Nx&&!r.isGenerator&&!GE(r.data)&&(e.push(s),s={name:null,source:s.name,transform:[]}),r instanceof Yi&&(r.parent instanceof Nx&&!s.source?(s.format=Object.assign(Object.assign({},(o=s.format)!==null&&o!==void 0?o:{}),{parse:r.assembleFormatParse()}),s.transform.push(...r.assembleTransforms(!0))):s.transform.push(...r.assembleTransforms())),r instanceof BC){s.name||(s.name=`data_${t++}`),!s.source||s.transform.length>0?(e.push(s),r.data=s.name):r.data=s.source;for(const i of r.assemble())e.push(i);return}switch((r instanceof lI||r instanceof uI||r instanceof ZE||r instanceof LC||r instanceof Tx||r instanceof JE||r instanceof bw||r instanceof Ac||r instanceof QE||r instanceof zC||r instanceof Qy||r instanceof G6||r instanceof q6||r instanceof H6||r instanceof K6||r instanceof Y6||r instanceof X6||r instanceof Km||r instanceof J6||r instanceof Z6)&&s.transform.push(r.assemble()),(r instanceof ed||r instanceof Qf||r instanceof a1||r instanceof Zh)&&s.transform.push(...r.assemble()),r instanceof Ia&&(s.source&&s.transform.length===0?r.setSource(s.source):r.parent instanceof Ia?r.setSource(s.name):(s.name||(s.name=`data_${t++}`),r.setSource(s.name),r.numChildren()===1&&(e.push(s),s={name:null,source:s.name,transform:[]}))),r.numChildren()){case 0:r instanceof Ia&&(!s.source||s.transform.length>0)&&e.push(s);break;case 1:n(r.children[0],s);break;default:{s.name||(s.name=`data_${t++}`);let i=s.name;!s.source||s.transform.length>0?e.push(s):i=s.source;for(const a of r.children)n(a,{name:null,source:i,transform:[]});break}}}return n}function qJt(e){const t=[],n=g4e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function GJt(e,t){var n,r;const s=[],o=g4e(s);let i=0;for(const l of e.sources){l.hasName()||(l.dataName=`source_${i++}`);const u=l.assemble();o(l,u)}for(const l of s)l.transform.length===0&&delete l.transform;let a=0;for(const[l,u]of s.entries())((n=u.transform)!==null&&n!==void 0?n:[]).length===0&&!u.source&&s.splice(a++,0,s.splice(l,1)[0]);for(const l of s)for(const u of(r=l.transform)!==null&&r!==void 0?r:[])u.type==="lookup"&&(u.from=e.outputNodes[u.from].getSource());for(const l of s)l.name in t&&(l.values=t[l.name]);return s}function KJt(e){return e==="top"||e==="left"||An(e)?"header":"footer"}function YJt(e){for(const t of _u)XJt(e,t);_he(e,"x"),_he(e,"y")}function XJt(e,t){var n;const{facet:r,config:s,child:o,component:i}=e;if(e.channelHasField(t)){const a=r[t],l=Ix("title",null,s,t);let u=s1(a,s,{allowDisabling:!0,includeDefault:l===void 0||!!l});o.component.layoutHeaders[t].title&&(u=wn(u)?u.join(", "):u,u+=" / "+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);const c=Ix("labelOrient",a,s,t),f=(n=a.header)!==null&&n!==void 0?n:{},d=uo(f.labels,s.header.labels,!0),h=Cn(["bottom","right"],c)?"footer":"header";i.layoutHeaders[t]={title:u,facetFieldDef:a,[h]:t==="facet"?[]:[m4e(e,t,d)]}}}function m4e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function _he(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:s,resolve:o}=e.component;if(o.axis[t]=xte(o,t),o.axis[t]==="shared"){const i=t==="x"?"column":"row",a=s[i];for(const l of r.component.axes[t]){const u=KJt(l.get("orient"));a[u]=(n=a[u])!==null&&n!==void 0?n:[m4e(e,i,!1)];const c=A$(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function ZJt(e){_te(e),qF(e,"width"),qF(e,"height")}function JJt(e){_te(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";qF(e,t),qF(e,n)}function _te(e){for(const t of e.children)t.parseLayoutSize()}function qF(e,t){const n=jMe(t),r=C6(n),s=e.component.resolve,o=e.component.layoutSize;let i;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=s.scale[r];if(u==="independent"&&l.value==="step"){i=void 0;break}if(i){if(u==="independent"&&i.value!==l.value){i=void 0;break}i=Hm(i,l,n,"")}else i=l}if(i){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,i)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function QJt(e){const{size:t,component:n}=e;for(const r of Wu){const s=Jd(r);if(t[s]){const o=t[s];n.layoutSize.set(s,Sd(o)?"step":o,!0)}else{const o=eQt(e,s);n.layoutSize.set(s,o,!1)}}}function eQt(e,t){const n=t==="width"?"x":"y",r=e.config,s=e.getScaleComponent(n);if(s){const o=s.get("type"),i=s.get("range");if(_l(o)){const a=qE(r.view,t);return T0(i)||Sd(a)?"step":a}else return Aj(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return Aj(r.view,t);{const o=qE(r.view,t);return Sd(o)?o.step:o}}}function Hj(e,t,n){return It(t,Object.assign({suffix:`by_${It(e)}`},n??{}))}class ck extends p4e{constructor(t,n,r,s){super(t,"facet",n,r,s,t.resolve),this.child=Nte(t.spec,this,this.getName("child"),void 0,s),this.children=[this.child],this.facet=this.initFacet(t.facet,s)}initFacet(t,n){return eI(t)?MFe(t,(r,s,o)=>Cn([Kh,Yh],o)?s.field===void 0?(Ct($j(s,o)),r):(r[o]=_j(s,o,n),r):(Ct(k6(o,"facet")),r),{}):{facet:_j(t,"facet",n)}}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Q6(this),this.child.parseData()}parseLayoutSize(){_te(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),YJt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,r;const s={};for(const o of _u)for(const i of bte){const a=this.component.layoutHeaders[o],l=a[i],{facetFieldDef:u}=a;if(u){const c=Ix("titleOrient",u,this.config,o);if(Cn(["right","bottom"],c)){const f=V6(o,c);s.titleAnchor=(t=s.titleAnchor)!==null&&t!==void 0?t:{},s.titleAnchor[f]="end"}}if(l?.[0]){const c=o==="row"?"height":"width",f=i==="header"?"headerBand":"footerBand";o!=="facet"&&!this.child.component.layoutSize.get(c)&&(s[f]=(n=s[f])!==null&&n!==void 0?n:{},s[f][o]=.5),a.title&&(s.offset=(r=s.offset)!==null&&r!==void 0?r:{},s.offset[o==="row"?"rowTitle":"columnTitle"]=10)}}return s}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let s="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(s="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:s})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ck))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(t){return this.parent&&this.parent instanceof ck?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:It(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ck){if(this.child.channelHasField("column")){const s=It(this.child.facet.column);t.push(s),n.push("distinct"),r.push(`distinct_${s}`)}}else for(const s of Wu){const o=this.child.component.scales[s];if(o&&!o.merged){const i=o.get("type"),a=o.get("range");if(_l(i)&&T0(a)){const l=j6(this.child,s),u=$te(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Ct(`Unknown field for ${s}. Cannot calculate view size.`)}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:s}=this.facet,{fields:o,ops:i,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of _u){const f=this.facet[c];if(f){l.push(It(f));const{bin:d,sort:h}=f;if(ls(d)&&l.push(It(f,{binSuffix:"end"})),Jf(h)){const{field:p,op:g=_6}=h,m=Hj(f,h);r&&s?(o.push(m),i.push("max"),a.push(m)):(o.push(p),i.push(g),a.push(m))}else if(wn(h)){const p=Ax(f,c);o.push(p),i.push("max"),a.push(p)}}}const u=!!r&&!!s;return Object.assign({name:t,data:n,groupby:l},u||o.length>0?{aggregate:Object.assign(Object.assign({},u?{cross:u}:{}),o.length?{fields:o,ops:i,as:a}:{})}:{})}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Jf(r.sort)?[Hj(r,r.sort,{expr:"datum"})]:wn(r.sort)?[Ax(r,t,{expr:"datum"})]:[It(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:s}=r;return[(Jf(s)?s.order:!wn(s)&&s)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return Bj(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const s of yte)if(t[s]){const o=Ix("labelOrient",t[s],n,s);if(Cn(r[s],o))return Bj(t[s],s,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=qJt(n),s=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),i=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},o?{title:o}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:_u.map(l=>this.facetSortFields(l)).flat(),order:_u.map(l=>this.facetSortOrder(l)).flat()}}),r.length>0?{data:r}:{}),s?{encode:{update:s}}:{}),t.assembleGroup(yYt(this,[])))]}getMapping(){return this.facet}}function tQt(e,t){const{row:n,column:r}=t;if(n&&r){let s=null;for(const o of[n,r])if(Jf(o.sort)){const{field:i,op:a=_6}=o.sort;e=s=new Qy(e,{joinaggregate:[{op:a,field:i,as:Hj(o,o.sort,{forAs:!0})}],groupby:[It(o)]})}return s}return null}function v4e(e,t){var n,r,s,o,i,a,l,u,c,f;for(const d of t){const h=d.data;if(!(e.name&&d.hasName()&&e.name!==d.dataName)&&!(!((n=e.format)===null||n===void 0)&&n.mesh&&(!((r=h.format)===null||r===void 0)&&r.feature))&&!((!((s=e.format)===null||s===void 0)&&s.feature||!((o=h.format)===null||o===void 0)&&o.feature)&&((i=e.format)===null||i===void 0?void 0:i.feature)!==((a=h.format)===null||a===void 0?void 0:a.feature))&&!((!((l=e.format)===null||l===void 0)&&l.mesh||!((u=h.format)===null||u===void 0)&&u.mesh)&&((c=e.format)===null||c===void 0?void 0:c.mesh)!==((f=h.format)===null||f===void 0?void 0:f.mesh))){if(zF(e)&&zF(h)){if(YA(e.values,h.values))return d}else if(GE(e)&&GE(h)){if(e.url===h.url)return d}else if(rMe(e)&&e.name===d.dataName)return d}}return null}function nQt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Nx({values:[]});return t.push(r),r}const n=v4e(e.data,t);if(n)return i1(e.data)||(n.data.format=Sjt({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Nx(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function rQt(e,t,n){var r,s;let o=0;for(const i of t.transforms){let a,l;if(VKt(i))l=e=new Tx(e,i),a="derived";else if(iMe(i)){const u=YZt(i);l=e=(r=Yi.makeWithAncestors(e,{},u,n))!==null&&r!==void 0?r:e,e=new LC(e,t,i.filter)}else if(WKt(i))l=e=ed.makeFromTransform(e,i,t),a="number";else if(jKt(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new Yi(e,{[i.field]:a}),n.set(i.field,a,!1)),l=e=Qf.makeFromTransform(e,i);else if(HKt(i))l=e=Ac.makeFromTransform(e,i),a="number",pte(t)&&(e=new Km(e));else if(AKt(i))l=e=QE.make(e,t,i,o++),a="derived";else if(LKt(i))l=e=new zC(e,i),a="number";else if(BKt(i))l=e=new Qy(e,i),a="number";else if(qKt(i))l=e=Zh.makeFromTransform(e,i),a="derived";else if(GKt(i))l=e=new G6(e,i),a="derived";else if(zKt(i))l=e=new q6(e,i),a="derived";else if(DKt(i))l=e=new Z6(e,i),a="derived";else if(PKt(i))e=new J6(e,i);else if(UKt(i))l=e=a1.makeFromTransform(e,i),a="derived";else if(OKt(i))l=e=new H6(e,i),a="derived";else if(RKt(i))l=e=new Y6(e,i),a="derived";else if(FKt(i))l=e=new X6(e,i),a="derived";else if(MKt(i))l=e=new K6(e,i),a="derived";else{Ct(_Ht(i));continue}if(l&&a!==void 0)for(const u of(s=l.producedFields())!==null&&s!==void 0?s:[])n.set(u,a,!1)}return e}function Q6(e){var t,n,r,s,o,i,a,l,u,c;let f=nQt(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:h}=e.component.data,p=e.parent?e.parent.component.data.ancestorParse.clone():new _Kt,g=e.data;i1(g)?(sMe(g)?f=new uI(f,g.sequence):ute(g)&&(f=new lI(f,g.graticule)),p.parseNothing=!0):((t=g?.format)===null||t===void 0?void 0:t.parse)===null&&(p.parseNothing=!0),f=(n=Yi.makeExplicit(f,e,p))!==null&&n!==void 0?n:f,f=new Km(f);const m=e.parent&&VC(e.parent);(Bs(e)||Ic(e))&&m&&(f=(r=ed.makeFromEncoding(f,e))!==null&&r!==void 0?r:f),e.transforms.length>0&&(f=rQt(f,e,p));const v=ZZt(e),y=XZt(e);f=(s=Yi.makeWithAncestors(f,{},Object.assign(Object.assign({},v),y),p))!==null&&s!==void 0?s:f,Bs(e)&&(f=bw.parseAll(f,e),f=JE.parseAll(f,e)),(Bs(e)||Ic(e))&&(m||(f=(o=ed.makeFromEncoding(f,e))!==null&&o!==void 0?o:f),f=(i=Qf.makeFromEncoding(f,e))!==null&&i!==void 0?i:f,f=Tx.parseAllForSortIndex(f,e));const w=e.getName(VF),b=new Ia(f,w,VF,h);if(d[w]=b,f=b,Bs(e)){const k=Ac.makeFromEncoding(f,e);k&&(f=k,pte(e)&&(f=new Km(f))),f=(a=a1.makeFromEncoding(f,e))!==null&&a!==void 0?a:f,f=(l=Zh.makeFromEncoding(f,e))!==null&&l!==void 0?l:f}Bs(e)&&(f=(u=ZE.make(f,e))!==null&&u!==void 0?u:f);const C=e.getName(Pi),S=new Ia(f,C,Pi,h);d[C]=S,f=S,Bs(e)&&HXt(e,S);let $=null;if(Ic(e)){const k=e.getName("facet");f=(c=tQt(f,e.facet))!==null&&c!==void 0?c:f,$=new BC(f,e,k,S.getSource()),d[k]=$}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:h,raw:b,main:S,facetRoot:$,ancestorParse:p})}class sQt extends Ete{constructor(t,n,r,s){var o,i,a,l;super(t,"concat",n,r,s,t.resolve),(((i=(o=t.resolve)===null||o===void 0?void 0:o.axis)===null||i===void 0?void 0:i.x)==="shared"||((l=(a=t.resolve)===null||a===void 0?void 0:a.axis)===null||l===void 0?void 0:l.y)==="shared")&&Ct(kHt),this.children=this.getChildren(t).map((u,c)=>Nte(u,this,this.getName("concat_"+c),void 0,s))}parseData(){this.component.data=Q6(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of kt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return D6(t)?t.vconcat:ate(t)?t.hconcat:t.concat}parseLayoutSize(){JJt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=wte(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),s=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),r?{style:r}:{}),s?{encode:{update:s}}:{}),t.assembleGroup())})}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}}function oQt(e){return e===!1||e===null}const iQt=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},wRe),{labelExpr:1,encode:1}),y4e=kt(iQt);class Tte extends zp{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new Tte(er(this.explicit),er(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!oQt(this.get(t))}hasOrientSignalRef(){return An(this.explicit.orient)}}function aQt(e,t,n){var r;const{encoding:s,config:o}=e,i=(r=wo(s[t]))!==null&&r!==void 0?r:wo(s[Zd(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;return q1(u)?Object.assign({text:Uee({fieldOrDatumDef:i,field:"datum.value",format:l,formatType:u,config:o})},n):n}function lQt(e){return Wu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[gQt(n,e)]),t),{})}const uQt={bottom:"top",top:"bottom",left:"right",right:"left"};function cQt(e){var t;const{axes:n,resolve:r}=e.component,s={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const i of kt(o.component.axes))r.axis[i]=xte(e.component.resolve,i),r.axis[i]==="shared"&&(n[i]=fQt(n[i],o.component.axes[i]),n[i]||(r.axis[i]="independent",delete n[i]))}for(const o of Wu){for(const i of e.children)if(i.component.axes[o]){if(r.axis[o]==="independent"){n[o]=((t=n[o])!==null&&t!==void 0?t:[]).concat(i.component.axes[o]);for(const a of i.component.axes[o]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!An(l)){if(s[l]>0&&!u){const c=uQt[l];s[l]>s[c]&&a.set("orient",c,!1)}s[l]++}}}delete i.component.axes[o]}if(r.axis[o]==="independent"&&n[o]&&n[o].length>1)for(const i of n[o])i.get("grid")&&!i.explicit.grid&&(i.implicit.grid=!1)}}function fQt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const s=e[r],o=t[r];if(!!s!=!!o)return;if(s&&o){const i=s.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(i.explicit&&a.explicit&&i.value!==a.value)return;e[r]=dQt(s,o)}}}else return t.map(n=>n.clone());return e}function dQt(e,t){for(const n of y4e){const r=Hm(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(s,o)=>{switch(n){case"title":return FFe(s,o);case"gridScale":return{explicit:s.explicit,value:uo(s.value,o.value)}}return R6(s,o,n,"axis")});e.setWithExplicit(n,r)}return e}function hQt(e,t,n,r,s){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(An(n.labelAngle)?n.labelAngle:IF(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===BMe(r,s))return!0}return e===n[t]}const pQt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function gQt(e,t){var n,r,s;let o=t.axis(e);const i=new Tte,a=wo(t.encoding[e]),{mark:l,config:u}=t,c=o?.orient||((n=u[e==="x"?"axisX":"axisY"])===null||n===void 0?void 0:n.orient)||((r=u.axis)===null||r===void 0?void 0:r.orient)||rZt(e),f=t.getScaleComponent(e).get("type"),d=XXt(e,f,c,t.config),h=o!==void 0?!o:Pj("disable",u,o?.style,d).configValue;if(i.set("disable",h,o!==void 0),h)return i;o=o||{};const p=eZt(t,o,e,a,d),g={fieldOrDatumDef:a,axis:o,channel:e,model:t,scaleType:f,orient:c,labelAngle:p,mark:l,config:u};for(const y of y4e){const w=y in dhe?dhe[y](g):xde(y)?o[y]:void 0,b=w!==void 0,C=hQt(w,y,o,t,e);if(b&&C)i.set(y,w,C);else{const{configValue:S=void 0,configFrom:$=void 0}=xde(y)&&y!=="values"?Pj(y,t.config,o.style,d):{},k=S!==void 0;b&&!k?i.set(y,w,C):($!=="vgAxisConfig"||pQt.has(y)&&k||wee(S)||An(S))&&i.set(y,S,!1)}}const m=(s=o.encoding)!==null&&s!==void 0?s:{},v=bRe.reduce((y,w)=>{var b;if(!i.hasAxisPart(w))return y;const C=HMe((b=m[w])!==null&&b!==void 0?b:{},t),S=w==="labels"?aQt(t,e,C):C;return S!==void 0&&!ns(S)&&(y[w]={update:S}),y},{});return ns(v)||i.set("encode",v,!!o.encoding||o.labelAngle!==void 0),i}function mQt({encoding:e,size:t}){for(const n of Wu){const r=Jd(n);Sd(t[r])&&Vf(e[n])&&(delete t[r],Ct(VRe(r)))}return t}function vQt(e,t,n,{graticule:r}){const s=wd(e)?Object.assign({},e):{type:e},o=Dr("orient",s,n);if(s.orient=xQt(s.type,t,o),o!==void 0&&o!==s.orient&&Ct(VHt(s.orient,o)),s.type==="bar"&&s.orient){const u=Dr("cornerRadiusEnd",s,n);if(u!==void 0){const c=s.orient==="horizontal"&&t.x2||s.orient==="vertical"&&t.y2?["cornerRadius"]:Ujt[s.orient];for(const f of c)s[f]=u;s.cornerRadiusEnd!==void 0&&delete s.cornerRadiusEnd}}return Dr("opacity",s,n)===void 0&&(s.opacity=bQt(s.type,t)),s.filled===void 0&&(s.filled=r?!1:wQt(s,n)),Dr("cursor",s,n)===void 0&&(s.cursor=yQt(s,t,n)),s}function yQt(e,t,n){return t.href||e.href||Dr("href",e,n)?"pointer":e.cursor}function bQt(e,t){if(Cn([h6,xee,Cee,See],e)&&!Jee(t))return .7}function wQt(e,t){const n=G1("filled",e,t),r=e.type;return uo(n,r!==h6&&r!==d6&&r!==NF)}function xQt(e,t,n){switch(e){case h6:case Cee:case See:case CRe:case Fjt:case Rjt:return}const{x:r,y:s,x2:o,y2:i}=t;switch(e){case f6:if(Bt(r)&&(ka(r.bin)||Bt(s)&&s.aggregate&&!r.aggregate))return"vertical";if(Bt(s)&&(ka(s.bin)||Bt(r)&&r.aggregate&&!s.aggregate))return"horizontal";if(i||o){if(n)return n;if(!o&&(Bt(r)&&r.type===H1&&!ls(r.bin)||Ej(r)))return"horizontal";if(!i&&(Bt(s)&&s.type===H1&&!ls(s.bin)||Ej(s)))return"vertical"}case NF:if(o&&!(Bt(r)&&ka(r.bin))&&i&&!(Bt(s)&&ka(s.bin)))return;case c6:if(i)return Bt(s)&&ka(s.bin)?"horizontal":"vertical";if(o)return Bt(r)&&ka(r.bin)?"vertical":"horizontal";if(e===NF){if(r&&!s)return"vertical";if(s&&!r)return"horizontal"}case d6:case xee:{const a=Vf(r),l=Vf(s);if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l){const u=r,c=s,f=u.type===kx,d=c.type===kx;return f&&!d?e!=="tick"?"vertical":"horizontal":!f&&d?e!=="tick"?"horizontal":"vertical":!u.aggregate&&c.aggregate?e!=="tick"?"vertical":"horizontal":u.aggregate&&!c.aggregate?e!=="tick"?"horizontal":"vertical":n||"vertical"}else return n||void 0}}return"vertical"}const CQt={vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),qm(e,"radius","arc")),qm(e,"theta","arc"))},SQt={vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),WF("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),WF("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),dte(e))},$Qt={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","bar")),qm(e,"y","bar"))},kQt={vgMark:"shape",encodeEntry:e=>Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&Bt(n)&&n.type===MC?{field:It(n,{expr:"datum"})}:{})]}},EQt={vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","image")),qm(e,"y","image")),cte(e,"url"))},_Qt={vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e,{vgChannel:"strokeWidth"})),dte(e))},TQt={vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e)),dte(e))};function Ate(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),Po("size",e)),Po("angle",e)),AQt(e,n,t))}function AQt(e,t,n){return n?{shape:{value:n}}:Po("shape",e)}const IQt={vgMark:"symbol",encodeEntry:e=>Ate(e)},NQt={vgMark:"symbol",encodeEntry:e=>Ate(e,"circle")},DQt={vgMark:"symbol",encodeEntry:e=>Ate(e,"square")},OQt={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),qm(e,"x","rect")),qm(e,"y","rect"))},RQt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),WF("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"})),WF("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"})),Po("size",e,{vgChannel:"strokeWidth"}))}},FQt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Gi("x",e,{defaultPos:"mid"})),Gi("y",e,{defaultPos:"mid"})),cte(e)),Po("size",e,{vgChannel:"fontSize"})),Po("angle",e)),the("align",MQt(e.markDef,n,t))),the("baseline",PQt(e.markDef,n,t))),Gi("radius",e,{defaultPos:null,isMidPoint:!0})),Gi("theta",e,{defaultPos:null,isMidPoint:!0}))}};function MQt(e,t,n){if(Dr("align",e,n)===void 0)return"center"}function PQt(e,t,n){if(Dr("baseline",e,n)===void 0)return"middle"}const LQt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,s=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Gi("x",e,{defaultPos:"mid",vgChannel:"xc"})),Gi("y",e,{defaultPos:"mid",vgChannel:"yc"})),Po("size",e,{defaultValue:BQt(e),vgChannel:s})),{[o]:Ys(Dr("thickness",n,t))})}};function BQt(e){var t;const{config:n,markDef:r}=e,{orient:s}=r,o=s==="horizontal"?"width":"height",i=e.getScaleComponent(s==="horizontal"?"x":"y"),a=(t=Dr("size",r,n,{vgChannel:o}))!==null&&t!==void 0?t:n.tick.bandSize;if(a!==void 0)return a;{const l=i?i.get("range"):void 0;return l&&T0(l)&&lo(l.step)?l.step*3/4:BF(n.view,o)*3/4}}const YN={arc:CQt,area:SQt,bar:$Qt,circle:NQt,geoshape:kQt,image:EQt,line:_Qt,point:IQt,rect:OQt,rule:RQt,square:DQt,text:FQt,tick:LQt,trail:TQt};function zQt(e){return Cn([d6,c6,Mjt],e.mark)?VQt(e):Cn([f6],e.mark)?WQt(e):GF(e)}const The="faceted_path_";function VQt(e){const t=PFe(e.mark,e.encoding),n=GF(e,{fromPrefix:t.length>0?The:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:The+e.requestDataName(Pi),data:e.requestDataName(Pi),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}const Ahe="stack_group_";function WQt(e){const t=X9.some(n=>Dr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t){const[n]=GF(e,{fromPrefix:Ahe}),r=e.scaleName(e.stack.fieldChannel),s=(f={})=>e.vgField(e.stack.fieldChannel,f),o=(f,d)=>{const h=[s({prefix:"min",suffix:"start",expr:d}),s({prefix:"max",suffix:"start",expr:d}),s({prefix:"min",suffix:"end",expr:d}),s({prefix:"max",suffix:"end",expr:d})];return`${f}(${h.map(p=>`scale('${r}',${p})`).join(",")})`};let i,a;e.stack.fieldChannel==="x"?(i=Object.assign(Object.assign({},VE(n.encode.update,["y","yc","y2","height",...X9])),{x:{signal:o("min","datum")},x2:{signal:o("max","datum")},clip:{value:!0}}),a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},Gh(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(i=Object.assign(Object.assign({},VE(n.encode.update,["x","xc","x2","width"])),{y:{signal:o("min","datum")},y2:{signal:o("max","datum")},clip:{value:!0}}),a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},Gh(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const f of X9){const d=G1(f,e.markDef,e.config);n.encode.update[f]?(i[f]=n.encode.update[f],delete n.encode.update[f]):d&&(i[f]=Ys(d)),d&&(n.encode.update[f]={value:0})}const l=e.fieldDef(e.stack.groupbyChannel),u=It(l)?[It(l)]:[];return(l?.bin||l?.timeUnit)&&u.push(It(l,{binSuffix:"end"})),i=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((f,d)=>{if(n.encode.update[d])return Object.assign(Object.assign({},f),{[d]:n.encode.update[d]});{const h=G1(d,e.markDef,e.config);return h!==void 0?Object.assign(Object.assign({},f),{[d]:Ys(h)}):f}},i),i.stroke&&(i.strokeForeground={value:!0},i.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Pi),name:Ahe+e.requestDataName(Pi),groupby:u,aggregate:{fields:[s({suffix:"start"}),s({suffix:"start"}),s({suffix:"end"}),s({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:i},marks:[{type:"group",encode:{update:a},marks:[n]}]}]}else return GF(e)}function UQt(e){const{encoding:t,stack:n,mark:r,markDef:s,config:o}=e,i=t.order;if(!(!wn(i)&&mp(i)&&yde(i.value)||!i&&yde(Dr("order",s,o)))){if((wn(i)||Bt(i))&&!n)return DFe(i,{expr:"datum"});if(Gy(r)){const a=s.orient==="horizontal"?"y":"x",l=t[a];if(Bt(l)){const u=l.sort;if(wn(u))return{field:It(l,{prefix:a,suffix:"sort_index",expr:"datum"})};if(Jf(u))return{field:It({aggregate:Jee(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if(mFe(u)){const c=e.fieldDef(u.encoding);return{field:It(c,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:It(l,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}return}}}function GF(e,t={fromPrefix:""}){const{mark:n,markDef:r,config:s}=e,o=uo(r.clip,jQt(e),HQt(e)),i=IFe(r),a=e.encoding.key,l=UQt(e),u=qQt(e),c=Dr("aria",r,s),f=YN[n].postEncodingTransform?YN[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:YN[n].vgMark},o?{clip:!0}:{}),i?{style:i}:{}),a?{key:a.field}:{}),l?{sort:l}:{}),u||{}),c===!1?{aria:c}:{}),{from:{data:t.fromPrefix+e.requestDataName(Pi)},encode:{update:YN[n].encodeEntry(e)}}),f?{transform:f}:{})]}function jQt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t&&t.get("selectionExtent")||n&&n.get("selectionExtent")?!0:void 0}function HQt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function qQt(e){if(!e.component.selection)return null;const t=kt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=kt(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}class b4e extends p4e{constructor(t,n,r,s={},o){var i,a;super(t,"unit",n,r,o,void 0,zde(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const l=wd(t.mark)?t.mark.type:t.mark;this.markDef=vQt(t.mark,(i=t.encoding)!==null&&i!==void 0?i:{},o,{graticule:t.data&&ute(t.data)});const u=this.encoding=kGt((a=t.encoding)!==null&&a!==void 0?a:{},this.markDef,o);this.size=mQt({encoding:u,size:zde(t)?Object.assign(Object.assign(Object.assign({},s),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):s}),this.stack=JFe(l,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegend(u),this.specifiedProjection=t.projection,this.selection=t.selection}get hasProjection(){const{encoding:t}=this,n=this.mark===SRe,r=t&&sHt.some(s=>On(t[s]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return S6.reduce((r,s)=>{var o;const i=wo(n[s]);return i&&(r[s]=(o=i.scale)!==null&&o!==void 0?o:{}),r},{})}initAxes(t){return Wu.reduce((n,r)=>{const s=t[r];if(On(s)||r===Rs&&On(t.x2)||r===So&&On(t.y2)){const o=On(s)?s.axis:void 0;n[r]=o&&Object.assign({},o)}return n},{})}initLegend(t){return fHt.reduce((n,r)=>{const s=wo(t[r]);if(s&&hHt(r)){const o=s.legend;n[r]=o&&Object.assign({},o)}return n},{})}parseData(){this.component.data=Q6(this)}parseLayoutSize(){QJt(this)}parseSelections(){this.component.selection=jXt(this,this.selection)}parseMarkGroup(){this.component.mark=zQt(this)}parseAxesAndHeaders(){this.component.axes=lQt(this)}assembleSelectionTopLevelSignals(t){return bYt(this,t)}assembleSignals(){return[...RMe(this),...vYt(this,[])]}assembleSelectionData(t){return wYt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return wte(this)}assembleMarks(){var t;let n=(t=this.component.mark)!==null&&t!==void 0?t:[];return(!this.parent||!VC(this.parent))&&(n=wMe(this,n)),n.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return o1(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Cd(n)}typedFieldDef(t){const n=this.fieldDef(t);return ou(n)?n:null}}class Ite extends Ete{constructor(t,n,r,s,o){super(t,"layer",n,r,o,t.resolve,t.view);const i=Object.assign(Object.assign(Object.assign({},s),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((a,l)=>{if(O6(a))return new Ite(a,this,this.getName("layer_"+l),i,o);if(Fp(a))return new b4e(a,this,this.getName("layer_"+l),i,o);throw new Error(Aee(a))})}parseData(){this.component.data=Q6(this);for(const t of this.children)t.parseData()}parseLayoutSize(){ZJt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of kt(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){cQt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),RMe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),wte(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return xYt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),JMe(this))}}function Nte(e,t,n,r,s){if(T6(e))return new ck(e,t,n,s);if(O6(e))return new Ite(e,t,n,r,s);if(Fp(e))return new b4e(e,t,n,r,s);if(qGt(e))return new sQt(e,t,n,s);throw new Error(Aee(e))}function GQt(e,t={}){t.logger&&dqt(t.logger),t.fieldTitle&&kFe(t.fieldTitle);try{const n=XFe(dRe(t.config,e.config)),r=tMe(e,n),s=Nte(r,null,"",void 0,n);return s.parse(),hJt(s.component.data,s),{spec:YQt(s,KQt(e,r.autosize,n,s),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&hqt(),t.fieldTitle&&yGt()}}function KQt(e,t,n,r){const s=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Qn(t)&&(t={type:t}),s&&o&&$Kt(t.type)){if(s==="step"&&o==="step")Ct(_de()),t.type="pad";else if(s==="step"||o==="step"){const i=s==="step"?"width":"height";Ct(_de(C6(i)));const a=i==="width"?"height":"width";t.type=kKt(a)}}return Object.assign(Object.assign(Object.assign({},kt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),Zde(n)),Zde(e))}function YQt(e,t,n={},r){const s=e.config?sKt(e.config):void 0,o=[].concat(e.assembleSelectionData([]),GJt(e.component.data,n)),i=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();return c=c.filter(f=>(f.name==="width"||f.name==="height")&&f.value!==void 0?(t[f.name]=+f.value,!1):!0),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),a?{title:a}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),i.length>0?{projections:i}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([])])),s?{config:s}:{}),r?{usermeta:r}:{})}class XQt extends ZFe{mapUnit(t,{config:n}){if(t.encoding){const{encoding:r,transform:s}=t,{bins:o,timeUnits:i,aggregate:a,groupby:l,encoding:u}=Qee(r,n),c=[...s||[],...o,...i,...a.length===0?[]:[{aggregate:a,groupby:l}]];return Object.assign(Object.assign(Object.assign({},t),c.length>0?{transform:c}:{}),{encoding:u})}else return t}}const ZQt=new XQt;function JQt(e,t){return ZQt.map(e,{config:t})}const QQt=njt.version,een=Object.freeze(Object.defineProperty({__proto__:null,compile:GQt,extractTransforms:JQt,normalize:tMe,version:QQt},Symbol.toStringTag,{value:"Module"}));function w4e(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var ten="2.15.0",nen={version:ten};const Sb="#fff",Ihe="#888",ren={background:"#333",view:{stroke:Ihe},title:{color:Sb,subtitleColor:Sb},style:{"guide-label":{fill:Sb},"guide-title":{fill:Sb}},axis:{domainColor:Sb,gridColor:Ihe,tickColor:Sb}},j0="#4572a7",sen={background:"#fff",arc:{fill:j0},area:{fill:j0},line:{stroke:j0,strokeWidth:2},path:{stroke:j0},rect:{fill:j0},shape:{stroke:j0},symbol:{fill:j0,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},H0="#30a2da",u7="#cbcbcb",oen="#999",ien="#333",Nhe="#f0f0f0",Dhe="#333",aen={arc:{fill:H0},area:{fill:H0},axis:{domainColor:u7,grid:!0,gridColor:u7,gridWidth:1,labelColor:oen,labelFontSize:10,titleColor:ien,tickColor:u7,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Nhe,group:{fill:Nhe},legend:{labelColor:Dhe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Dhe,titleFontSize:14,titlePadding:10},line:{stroke:H0,strokeWidth:2},path:{stroke:H0,strokeWidth:.5},rect:{fill:H0},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:H0},bar:{binSpacing:2,fill:H0,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},q0="#000",len={group:{fill:"#e5e5e5"},arc:{fill:q0},area:{fill:q0},line:{stroke:q0},path:{stroke:q0},rect:{fill:q0},shape:{stroke:q0},symbol:{fill:q0,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},uen=22,cen="normal",Ohe="Benton Gothic, sans-serif",Rhe=11.5,fen="normal",G0="#82c6df",c7="Benton Gothic Bold, sans-serif",Fhe="normal",Mhe=13,BS={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},den={background:"#ffffff",title:{anchor:"start",color:"#000000",font:c7,fontSize:uen,fontWeight:cen},arc:{fill:G0},area:{fill:G0},line:{stroke:G0,strokeWidth:2},path:{stroke:G0},rect:{fill:G0},shape:{stroke:G0},symbol:{fill:G0,size:30},axis:{labelFont:Ohe,labelFontSize:Rhe,labelFontWeight:fen,titleFont:c7,titleFontSize:Mhe,titleFontWeight:Fhe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Ohe,labelFontSize:Rhe,symbolType:"square",titleFont:c7,titleFontSize:Mhe,titleFontWeight:Fhe},range:{category:BS["category-6"],diverging:BS["fireandice-6"],heatmap:BS["fire-7"],ordinal:BS["fire-7"],ramp:BS["fire-7"]}},K0="#ab5787",XN="#979797",hen={background:"#f9f9f9",arc:{fill:K0},area:{fill:K0},line:{stroke:K0},path:{stroke:K0},rect:{fill:K0},shape:{stroke:K0},symbol:{fill:K0,size:30},axis:{domainColor:XN,domainWidth:.5,gridWidth:.2,labelColor:XN,tickColor:XN,tickWidth:.2,titleColor:XN},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Y0="#3e5c69",pen={background:"#fff",arc:{fill:Y0},area:{fill:Y0},line:{stroke:Y0},path:{stroke:Y0},rect:{fill:Y0},shape:{stroke:Y0},symbol:{fill:Y0},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},gu="#1696d2",Phe="#000000",gen="#FFFFFF",ZN="Lato",f7="Lato",men="Lato",ven="#DEDDDD",yen=18,zS={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},ben={background:gen,title:{anchor:"start",fontSize:yen,font:ZN},axisX:{domain:!0,domainColor:Phe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:f7,labelAngle:0,tickColor:Phe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:ZN},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:ven,gridWidth:1,labelFontSize:12,labelFont:f7,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:ZN,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:f7,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:ZN,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:zS["six-groups-cat-1"],diverging:zS["diverging-colors"],heatmap:zS["diverging-colors"],ordinal:zS["six-groups-seq"],ramp:zS["shades-blue"]},area:{fill:gu},rect:{fill:gu},line:{color:gu,stroke:gu,strokeWidth:5},trail:{color:gu,stroke:gu,strokeWidth:0,size:1},path:{stroke:gu,strokeWidth:.5},point:{filled:!0},text:{font:men,color:gu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:gu,stroke:null}},arc:{fill:gu},shape:{stroke:gu},symbol:{fill:gu,size:30}},X0="#3366CC",Lhe="#ccc",JN="Arial, sans-serif",wen={arc:{fill:X0},area:{fill:X0},path:{stroke:X0},rect:{fill:X0},shape:{stroke:X0},symbol:{stroke:X0},circle:{fill:X0},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:JN,fontSize:12},"guide-title":{font:JN,fontSize:12},"group-title":{font:JN,fontSize:12}},title:{font:JN,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Lhe,tickColor:Lhe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Dte=e=>e*(1/3+1),Bhe=Dte(9),zhe=Dte(10),Vhe=Dte(12),VS="Segoe UI",Whe="wf_standard-font, helvetica, arial, sans-serif",Uhe="#252423",WS="#605E5C",jhe="transparent",xen="#C8C6C4",ic="#118DFF",Cen="#12239E",Sen="#E66C37",$en="#6B007B",ken="#E044A7",Een="#744EC2",_en="#D9B300",Ten="#D64550",x4e=ic,C4e="#DEEFFF",Hhe=[C4e,x4e],Aen=[C4e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",x4e],Ien={view:{stroke:jhe},background:jhe,font:VS,header:{titleFont:Whe,titleFontSize:Vhe,titleColor:Uhe,labelFont:VS,labelFontSize:zhe,labelColor:WS},axis:{ticks:!1,grid:!1,domain:!1,labelColor:WS,labelFontSize:Bhe,titleFont:Whe,titleColor:Uhe,titleFontSize:Vhe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:xen,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:ic},line:{stroke:ic,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:VS,fontSize:Bhe,fill:WS},arc:{fill:ic},area:{fill:ic,line:!0,opacity:.6},path:{stroke:ic},rect:{fill:ic},point:{fill:ic,filled:!0,size:75},shape:{stroke:ic},symbol:{fill:ic,strokeWidth:1.5,size:50},legend:{titleFont:VS,titleFontWeight:"bold",titleColor:WS,labelFont:VS,labelFontSize:zhe,labelColor:WS,symbolType:"circle",symbolSize:75},range:{category:[ic,Cen,Sen,$en,ken,Een,_en,Ten],diverging:Hhe,heatmap:Hhe,ordinal:Aen}},d7='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Nen='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',h7=400,QN={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Den=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Oen=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function e5({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=QN.gridBg[e],s=QN.textPrimary[e],o=QN.textSecondary[e],i=n==="dark"?Den:Oen,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:s,anchor:"start",dy:-15,fontSize:16,font:d7,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:Nen,labelFontWeight:h7,titleColor:s,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:QN.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:d7,fill:o,fontWeight:h7},"guide-title":{font:d7,fill:o,fontWeight:h7}},range:{category:i,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Ren=e5({theme:"white",background:"#ffffff"}),Fen=e5({theme:"g10",background:"#f4f4f4"}),Men=e5({theme:"g90",background:"#262626"}),Pen=e5({theme:"g100",background:"#161616"}),Len=nen.version,Ben=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Fen,carbong100:Pen,carbong90:Men,carbonwhite:Ren,dark:ren,excel:sen,fivethirtyeight:aen,ggplot2:len,googlecharts:wen,latimes:den,powerbi:Ien,quartz:hen,urbaninstitute:ben,version:Len,vox:pen},Symbol.toStringTag,{value:"Module"}));var zen=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element img {
    max-width: 200px;
    max-height: 200px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`;const S4e="vg-tooltip-element",Ven={offsetX:10,offsetY:10,id:S4e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Wen,maxDepth:2};function Wen(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Uen(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return zen.toString().replace(S4e,e)}function jen(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Hen(e,t,n){if(jn(e))return`[${e.map(r=>t(ys(r)?r:qhe(r,n))).join(", ")}]`;if(tr(e)){let r="";const s=e,{title:o,image:i}=s,a=jen(s,["title","image"]);o&&(r+=`<h2>${t(o)}</h2>`),i&&(r+=`<img src="${t(i)}">`);const l=Object.keys(a);if(l.length>0){r+="<table>";for(const u of l){let c=a[u];c!==void 0&&(tr(c)&&(c=qhe(c,n)),r+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function qen(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const s=t.indexOf(this)+1;return t.length=s,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function qhe(e,t){return JSON.stringify(e,qen(t))}function Gen(e,t,n,r){let s=e.clientX+n;s+t.width>window.innerWidth&&(s=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:s,y:o}}class Ken{constructor(t){this.options=Object.assign(Object.assign({},Ven),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Uen(n);const s=document.head;s.childNodes.length>0?s.insertBefore(r,s.childNodes[0]):s.appendChild(r)}}tooltipHandler(t,n,r,s){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(document.fullscreenElement!=null?document.fullscreenElement:document.body).appendChild(this.el),s==null||s===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=Hen(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:a}=Gen(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${i}px`)}}function KF(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(f){i(f)}}function l(c){try{u(r.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):s(c.value).then(a,l)}u((r=r.apply(e,[])).next())})}function Yen(e,t,n){const r=e.open(t),s=250,{origin:o}=new URL(t);let i=40;function a(u){u.source===r&&(i=0,e.removeEventListener("message",a,!1))}e.addEventListener("message",a,!1);function l(){i<=0||(r.postMessage(n,o),setTimeout(l,s),i-=1)}setTimeout(l,s)}var Xen=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }
  .vega-embed .chart-wrapper {
    width: 100%;
    height: 100%; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function $4e(e,...t){for(const n of t)Zen(e,n);return e}function Zen(e,t){for(const n of Object.keys(t))sL(e,n,t[n],!0)}var p7;const wh=ejt;let Dx=een;const eD=typeof window<"u"?window:void 0;Dx===void 0&&(!((p7=eD?.vl)===null||p7===void 0)&&p7.compile)&&(Dx=eD.vl);const k4e={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Jen={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},I$={vega:"Vega","vega-lite":"Vega-Lite"},YF={vega:wh.version,"vega-lite":Dx?Dx.version:"not available"},Qen={vega:e=>e,"vega-lite":(e,t)=>Dx.compile(e,{config:t}).spec},etn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,ttn="chart-wrapper";function ntn(e){return typeof e=="function"}function Ghe(e,t,n,r){const s=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,i=window.open("");i.document.write(s+e+o),i.document.title=`${I$[r]} JSON Source`}function E4e(e,t){var n;if(e.$schema){const r=w4e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${I$[r.library]}, but mode argument sets ${(n=I$[t])!==null&&n!==void 0?n:t}.`);const s=r.library;return zSe.satisfies(YF[s],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${I$[s]} ${r.version}, but the current version of ${I$[s]} is v${YF[s]}.`),s}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function rtn(e){return!!(e&&"load"in e)}function Khe(e){return rtn(e)?e:wh.loader(e)}function Yhe(e){var t;return(t=e.usermeta&&e.usermeta.embedOptions)!==null&&t!==void 0?t:{}}function stn(e,t,n={}){var r,s,o;return KF(this,void 0,void 0,function*(){let i,a;ys(t)?(a=Khe(n.loader),i=JSON.parse(yield a.load(t))):i=t;const l=Yhe(i).loader;(!a||l)&&(a=Khe((r=n.loader)!==null&&r!==void 0?r:l));const u=yield Xhe(Yhe(i),a),c=yield Xhe(n,a),f=Object.assign(Object.assign({},$4e(c,u)),{config:rL((s=c.config)!==null&&s!==void 0?s:{},(o=u.config)!==null&&o!==void 0?o:{})});return yield itn(e,i,f,a)})}function Xhe(e,t){var n;return KF(this,void 0,void 0,function*(){const r=ys(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},s=ys(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),s?{patch:s}:{}),r?{config:r}:{})})}function otn(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function itn(e,t,n={},r){var s,o,i,a,l,u;return KF(this,void 0,void 0,function*(){const c=n.theme?rL(Ben[n.theme],(s=n.config)!==null&&s!==void 0?s:{}):n.config,f=r$e(n.actions)?n.actions:$4e({},k4e,(o=n.actions)!==null&&o!==void 0?o:{}),d=Object.assign(Object.assign({},Jen),n.i18n),h=(i=n.renderer)!==null&&i!==void 0?i:"canvas",p=(a=n.logLevel)!==null&&a!==void 0?a:wh.Warn,g=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization",m=typeof e=="string"?document.querySelector(e):e;if(!m)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const E="vega-embed-style",{root:A,rootContainer:N}=otn(m);if(!A.getElementById(E)){const F=document.createElement("style");F.id=E,F.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?Xen.toString():n.defaultStyle,N.appendChild(F)}}const v=E4e(t,n.mode);let y=Qen[v](t,c);if(v==="vega-lite"&&y.$schema){const E=w4e(y.$schema);zSe.satisfies(YF.vega,`^${E.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${E.version}, but current version is v${YF.vega}.`)}m.classList.add("vega-embed"),f&&m.classList.add("has-actions"),m.innerHTML="";let w=m;if(f){const E=document.createElement("div");E.classList.add(ttn),m.appendChild(E),w=E}const b=n.patch;b&&(b instanceof Function?y=b(y):y=XP(y,b,!0,!1).newDocument),n.formatLocale&&wh.formatLocale(n.formatLocale),n.timeFormatLocale&&wh.timeFormatLocale(n.timeFormatLocale);const{ast:C}=n,S=wh.parse(y,v==="vega-lite"?{}:c,{ast:C}),$=new(n.viewClass||wh.View)(S,Object.assign({loader:r,logLevel:p,renderer:h},C?{expr:wh.expressionInterpreter}:{}));if(n.tooltip!==!1){let E;ntn(n.tooltip)?E=n.tooltip:E=new Ken(n.tooltip===!0?{}:n.tooltip).call,$.tooltip(E)}let{hover:k}=n;if(k===void 0&&(k=v==="vega"),k){const{hoverSet:E,updateSet:A}=typeof k=="boolean"?{}:k;$.hover(E,A)}n&&(n.width!=null&&$.width(n.width),n.height!=null&&$.height(n.height),n.padding!=null&&$.padding(n.padding)),yield $.initialize(w,n.bind).runAsync();let T;if(f!==!1){let E=m;if(n.defaultStyle!==!1){const N=document.createElement("details");N.title=d.CLICK_TO_VIEW_ACTIONS,m.append(N),E=N;const F=document.createElement("summary");F.innerHTML=etn,N.append(F),T=R=>{N.contains(R.target)||N.removeAttribute("open")},document.addEventListener("click",T)}const A=document.createElement("div");if(E.append(A),A.classList.add("vega-actions"),f===!0||f.export!==!1){for(const N of["svg","png"])if(f===!0||f.export===!0||f.export[N]){const F=d[`${N.toUpperCase()}_ACTION`],R=document.createElement("a");R.text=F,R.href="#",R.target="_blank",R.download=`${g}.${N}`,R.addEventListener("mousedown",function(P){return KF(this,void 0,void 0,function*(){P.preventDefault();const I=yield $.toImageURL(N,n.scaleFactor);this.href=I})}),A.append(R)}}if(f===!0||f.source!==!1){const N=document.createElement("a");N.text=d.SOURCE_ACTION,N.href="#",N.addEventListener("click",function(F){var R,P;Ghe(y8(t),(R=n.sourceHeader)!==null&&R!==void 0?R:"",(P=n.sourceFooter)!==null&&P!==void 0?P:"",v),F.preventDefault()}),A.append(N)}if(v==="vega-lite"&&(f===!0||f.compiled!==!1)){const N=document.createElement("a");N.text=d.COMPILED_ACTION,N.href="#",N.addEventListener("click",function(F){var R,P;Ghe(y8(y),(R=n.sourceHeader)!==null&&R!==void 0?R:"",(P=n.sourceFooter)!==null&&P!==void 0?P:"","vega"),F.preventDefault()}),A.append(N)}if(f===!0||f.editor!==!1){const N=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",F=document.createElement("a");F.text=d.EDITOR_ACTION,F.href="#",F.addEventListener("click",function(R){Yen(window,N,{config:c,mode:v,renderer:h,spec:y8(t)}),R.preventDefault()}),A.append(F)}}function _(){T&&document.removeEventListener("click",T),$.finalize()}return{view:$,spec:t,vgSpec:y,finalize:_}})}const atn=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ACTIONS:k4e,default:stn,guessMode:E4e,vega:wh,get vegaLite(){return Dx}},Symbol.toStringTag,{value:"Module"})),WC=ly(atn);var $b={},Tt={};var g7,Zhe;function Ote(){if(Zhe)return g7;Zhe=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function s(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var i={},a=0;a<10;a++)i["_"+String.fromCharCode(a)]=a;var l=Object.getOwnPropertyNames(i).map(function(c){return i[c]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(c){u[c]=c}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return g7=s()?Object.assign:function(o,i){for(var a,l=r(o),u,c=1;c<arguments.length;c++){a=Object(arguments[c]);for(var f in a)t.call(a,f)&&(l[f]=a[f]);if(e){u=e(a);for(var d=0;d<u.length;d++)n.call(a,u[d])&&(l[u[d]]=a[u[d]])}}return l},g7}var tD={},Jhe;function ltn(){if(Jhe)return tD;Jhe=1,Object.defineProperty(tD,"__esModule",{value:!0}),tD.StyleSheet=u;var e=Ote(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function r(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function s(c){return c[c.length-1]}function o(c){if(c.sheet)return c.sheet;for(var f=0;f<document.styleSheets.length;f++)if(document.styleSheets[f].ownerNode===c)return document.styleSheets[f]}var i=typeof window<"u",a=(function(){if(i){var c=document.createElement("div");return c.innerHTML="\x3C!--[if lt IE 10]><i></i><![endif]-->",c.getElementsByTagName("i").length===1}})();function l(){var c=document.createElement("style");return c.type="text/css",c.setAttribute("data-glamor",""),c.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(c),c}function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=c.speedy,d=f===void 0?!0:f,h=c.maxLength,p=h===void 0?i&&a?4e3:65e3:h;this.isSpeedy=d,this.sheet=void 0,this.tags=[],this.maxLength=p,this.ctr=0}return(0,t.default)(u.prototype,{getSheet:function(){return o(s(this.tags))},inject:function(){var f=this;if(this.injected)throw new Error("already injected stylesheet!");i?this.tags[0]=l():this.sheet={cssRules:[],insertRule:function(h){f.sheet.cssRules.push({cssText:h})}},this.injected=!0},speedy:function(f){if(this.ctr!==0)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+f+") earlier in your app, or call flush() before speedy("+f+")");this.isSpeedy=!!f},_insert:function(f){try{var d=this.getSheet();d.insertRule(f,f.indexOf("@import")!==-1?0:d.cssRules.length)}catch{}},insert:function(f){if(i)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(f);else if(f.indexOf("@import")!==-1){var d=s(this.tags);d.insertBefore(document.createTextNode(f),d.firstChild)}else s(this.tags).appendChild(document.createTextNode(f));else this.sheet.insertRule(f,f.indexOf("@import")!==-1?0:this.sheet.cssRules.length);return this.ctr++,i&&this.ctr%this.maxLength===0&&this.tags.push(l()),this.ctr-1},delete:function(f){return this.replace(f,"")},flush:function(){i?(this.tags.forEach(function(f){return f.parentNode.removeChild(f)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!i)return this.sheet.cssRules;var f=[];return this.tags.forEach(function(d){return f.splice.apply(f,[f.length,0].concat(r(Array.from(o(d).cssRules))))}),f}}),tD}var kb={},m7,Qhe;function utn(){if(Qhe)return m7;Qhe=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,s){return s.toUpperCase()})}return m7=t,m7}var v7,epe;function ctn(){if(epe)return v7;epe=1;var e=utn(),t=/^-ms-/;function n(r){return e(r.replace(t,"ms-"))}return v7=n,v7}var nD={},rD={},tpe;function ftn(){if(tpe)return rD;tpe=1,Object.defineProperty(rD,"__esModule",{value:!0});var e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function t(o,i){return o+i.charAt(0).toUpperCase()+i.substring(1)}var n=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(o){n.forEach(function(i){e[t(i,o)]=e[o]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:e,shorthandPropertyExpansions:r};return rD.default=s,rD}var y7,npe;function dtn(){if(npe)return y7;npe=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},y7=t,y7}var b7,rpe;function _4e(){if(rpe)return b7;rpe=1;var e=dtn(),t=e;return b7=t,b7}var spe;function htn(){if(spe)return nD;spe=1,Object.defineProperty(nD,"__esModule",{value:!0});var e=ftn(),t=r(e),n=_4e();r(n);function r(i){return i&&i.__esModule?i:{default:i}}var s=t.default.isUnitlessNumber;function o(i,a,l){var u=a==null||typeof a=="boolean"||a==="";if(u)return"";var c=isNaN(a);return c||a===0||s.hasOwnProperty(i)&&s[i]?""+a:(typeof a=="string"&&(a=a.trim()),a+"px")}return nD.default=o,nD}var w7,ope;function ptn(){if(ope)return w7;ope=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return w7=t,w7}var x7,ipe;function gtn(){if(ipe)return x7;ipe=1;var e=ptn(),t=/^ms-/;function n(r){return e(r).replace(t,"-ms-")}return x7=n,x7}var C7,ape;function mtn(){if(ape)return C7;ape=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return C7=e,C7}var lpe;function T4e(){if(lpe)return kb;lpe=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.processStyleName=void 0,kb.createMarkupForStyles=c;var e=ctn();l(e);var t=htn(),n=l(t),r=gtn(),s=l(r),o=mtn(),i=l(o),a=_4e();l(a);function l(f){return f&&f.__esModule?f:{default:f}}var u=kb.processStyleName=(0,i.default)(s.default);function c(f,d){var h="";for(var p in f){var g=p.indexOf("--")===0;if(f.hasOwnProperty(p)&&p!=="label"){var m=f[p];m!=null&&(g?h+=p+":"+m+";":(h+=u(p)+":",h+=(0,n.default)(p,m,d)+";"))}}return h||null}return kb}var sD={},upe;function vtn(){if(upe)return sD;upe=1,Object.defineProperty(sD,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};sD.default=s;function t(o){return o==null||o===!1||(typeof o>"u"?"undefined":e(o))==="object"&&Object.keys(o).length===0}function n(o){if(t(o))return null;if((typeof o>"u"?"undefined":e(o))!=="object")return o;for(var i={},a=Object.keys(o),l=!1,u=0;u<a.length;u++){var c=o[a[u]],f=s(c);(f===null||f!==c)&&(l=!0),f!==null&&(i[a[u]]=f)}return Object.keys(i).length===0?null:l?i:o}function r(o){var i=!1,a=[];return o.forEach(function(l){var u=s(l);(u===null||u!==l)&&(i=!0),u!==null&&a.push(u)}),a.length==0?null:i?a:o}function s(o){return Array.isArray(o)?r(o):n(o)}return sD}var Z0={},oD={},iD={exports:{}},cpe;function ytn(){return cpe||(cpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],s=["ms"],o=["Webkit","Moz"],i=["Webkit","ms"],a=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:a,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:a,breakBefore:a,breakInside:a,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:i,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:i,scrollSnapPointsX:i,scrollSnapPointsY:i,scrollSnapDestination:i,scrollSnapCoordinate:i,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:a,flowInto:i,flowFrom:i,regionFragment:i,textAlignLast:r,tabSize:r,wrapFlow:s,wrapThrough:s,wrapMargin:s,gridTemplateColumns:s,gridTemplateRows:s,gridTemplateAreas:s,gridTemplate:s,gridAutoColumns:s,gridAutoRows:s,gridAutoFlow:s,grid:s,gridRowStart:s,gridColumnStart:s,gridRowEnd:s,gridRow:s,gridColumn:s,gridColumnEnd:s,gridColumnGap:s,gridRowGap:s,gridArea:s,gridGap:s,textSizeAdjust:i,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default})(iD,iD.exports)),iD.exports}var aD={exports:{}},lD={exports:{}},fpe;function A4e(){return fpe||(fpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return r.charAt(0).toUpperCase()+r.slice(1)}e.exports=t.default})(lD,lD.exports)),lD.exports}var dpe;function btn(){return dpe||(dpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=A4e(),r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i,a,l){if(i.hasOwnProperty(a))for(var u=i[a],c=0,f=u.length;c<f;++c)l[u[c]+(0,r.default)(a)]=l[a]}e.exports=t.default})(aD,aD.exports)),aD.exports}var uD={exports:{}},hpe;function wtn(){return hpe||(hpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s,o,i,a){for(var l=0,u=r.length;l<u;++l){var c=r[l](s,o,i,a);if(c)return c}}e.exports=t.default})(uD,uD.exports)),uD.exports}var cD={exports:{}},ppe;function xtn(){return ppe||(ppe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function s(o,i){if(o==="cursor"&&r.hasOwnProperty(i))return n.map(function(a){return a+i})}e.exports=t.default})(cD,cD.exports)),cD.exports}var fD={exports:{}},dD={exports:{}},gpe;function cI(){return gpe||(gpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=/-webkit-|-moz-|-ms-/;function r(s){return typeof s=="string"&&n.test(s)}e.exports=t.default})(dD,dD.exports)),dD.exports}var mpe;function Ctn(){return mpe||(mpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("cross-fade(")>-1)return o.map(function(u){return l.replace(/cross-fade\(/g,u+"cross-fade(")})}e.exports=t.default})(fD,fD.exports)),fD.exports}var hD={exports:{}},vpe;function Stn(){return vpe||(vpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("filter(")>-1)return o.map(function(u){return l.replace(/filter\(/g,u+"filter(")})}e.exports=t.default})(hD,hD.exports)),hD.exports}var pD={exports:{}},ype;function $tn(){return ype||(ype=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function r(s,o){if(s==="display"&&n.hasOwnProperty(o))return n[o]}e.exports=t.default})(pD,pD.exports)),pD.exports}var gD={exports:{}},bpe;function ktn(){return bpe||(bpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};function s(o,i,a){o==="flexDirection"&&typeof i=="string"&&(i.indexOf("column")>-1?a.WebkitBoxOrient="vertical":a.WebkitBoxOrient="horizontal",i.indexOf("reverse")>-1?a.WebkitBoxDirection="reverse":a.WebkitBoxDirection="normal"),r.hasOwnProperty(o)&&(a[r[o]]=n[i]||i)}e.exports=t.default})(gD,gD.exports)),gD.exports}var mD={exports:{}},wpe;function Etn(){return wpe||(wpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=cI(),r=s(n);function s(l){return l&&l.__esModule?l:{default:l}}var o=["-webkit-","-moz-",""],i=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;function a(l,u){if(typeof u=="string"&&!(0,r.default)(u)&&i.test(u))return o.map(function(c){return c+u})}e.exports=t.default})(mD,mD.exports)),mD.exports}var vD={exports:{}},xpe;function _tn(){return xpe||(xpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=cI(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}var o=["-webkit-",""];function i(a,l){if(typeof l=="string"&&!(0,r.default)(l)&&l.indexOf("image-set(")>-1)return o.map(function(u){return l.replace(/image-set\(/g,u+"image-set(")})}e.exports=t.default})(vD,vD.exports)),vD.exports}var yD={exports:{}},Cpe;function Ttn(){return Cpe||(Cpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,s){if(r==="position"&&s==="sticky")return["-webkit-sticky","sticky"]}e.exports=t.default})(yD,yD.exports)),yD.exports}var bD={exports:{}},Spe;function Atn(){return Spe||(Spe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function o(i,a){if(r.hasOwnProperty(i)&&s.hasOwnProperty(a))return n.map(function(l){return l+a})}e.exports=t.default})(bD,bD.exports)),bD.exports}var wD={exports:{}},xD={exports:{}},Itn=/[A-Z]/g,Ntn=/^ms-/,S7={};function Dtn(e){return"-"+e.toLowerCase()}function Otn(e){if(S7.hasOwnProperty(e))return S7[e];var t=e.replace(Itn,Dtn);return S7[e]=Ntn.test(t)?"-"+t:t}const Rtn=Object.freeze(Object.defineProperty({__proto__:null,default:Otn},Symbol.toStringTag,{value:"Module"})),Ftn=ly(Rtn);var $pe;function Mtn(){return $pe||($pe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=Ftn,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}function o(i){return(0,r.default)(i)}e.exports=t.default})(xD,xD.exports)),xD.exports}var kpe;function Ptn(){return kpe||(kpe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=Mtn(),r=l(n),s=cI(),o=l(s),i=A4e(),a=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function f(h,p){if((0,o.default)(h))return h;for(var g=h.split(/,(?![^()]*(?:\([^()]*\))?\))/g),m=0,v=g.length;m<v;++m){var y=g[m],w=[y];for(var b in p){var C=(0,r.default)(b);if(y.indexOf(C)>-1&&C!=="order")for(var S=p[b],$=0,k=S.length;$<k;++$)w.unshift(y.replace(C,c[S[$]]+C))}g[m]=w.join(",")}return g.join(",")}function d(h,p,g,m){if(typeof p=="string"&&u.hasOwnProperty(h)){var v=f(p,m),y=v.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(b){return!/-moz-|-ms-/.test(b)}).join(",");if(h.indexOf("Webkit")>-1)return y;var w=v.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(b){return!/-webkit-|-ms-/.test(b)}).join(",");return h.indexOf("Moz")>-1?w:(g["Webkit"+(0,a.default)(h)]=y,g["Moz"+(0,a.default)(h)]=w,v)}}e.exports=t.default})(wD,wD.exports)),wD.exports}var Epe;function Ltn(){if(Epe)return oD;Epe=1,Object.defineProperty(oD,"__esModule",{value:!0}),oD.default=N;var e=ytn(),t=_(e),n=btn(),r=_(n),s=wtn(),o=_(s),i=xtn(),a=_(i),l=Ctn(),u=_(l),c=Stn(),f=_(c),d=$tn(),h=_(d),p=ktn(),g=_(p),m=Etn(),v=_(m),y=_tn(),w=_(y),b=Ttn(),C=_(b),S=Atn(),$=_(S),k=Ptn(),T=_(k);function _(F){return F&&F.__esModule?F:{default:F}}var E=[u.default,a.default,f.default,g.default,v.default,w.default,C.default,$.default,T.default,h.default],A=t.default.prefixMap;function N(F){for(var R in F){var P=F[R],I=(0,o.default)(E,R,P,F,A);I&&(F[R]=I),(0,r.default)(A,R,F)}return F}return oD}var _pe;function Btn(){if(_pe)return Z0;_pe=1,Object.defineProperty(Z0,"__esModule",{value:!0});var e=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(d[g]=p[g])}return d};Z0.PluginSet=a,Z0.fallbacks=l,Z0.contentWrap=c,Z0.prefixes=f;var t=Ote(),n=i(t),r=T4e(),s=Ltn(),o=i(s);function i(d){return d&&d.__esModule?d:{default:d}}function a(d){this.fns=d||[]}(0,n.default)(a.prototype,{add:function(){for(var h=this,p=arguments.length,g=Array(p),m=0;m<p;m++)g[m]=arguments[m];g.forEach(function(v){h.fns.indexOf(v)>=0||(h.fns=[v].concat(h.fns))})},remove:function(h){this.fns=this.fns.filter(function(p){return p!==h})},clear:function(){this.fns=[]},transform:function(h){return this.fns.reduce(function(p,g){return g(p)},h)}});function l(d){var h=Object.keys(d.style).map(function(m){return Array.isArray(d.style[m])}).indexOf(!0)>=0;if(h){var p=d.style,g=Object.keys(p).reduce(function(m,v){return m[v]=Array.isArray(p[v])?p[v].join("; "+(0,r.processStyleName)(v)+": "):p[v],m},{});return(0,n.default)({},d,{style:g})}return d}var u=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"];function c(d){if(d.style.content){var h=d.style.content;return u.indexOf(h)>=0||/^(attr|calc|counters?|url)\(/.test(h)||h.charAt(0)===h.charAt(h.length-1)&&(h.charAt(0)==='"'||h.charAt(0)==="'")?d:e({},d,{style:e({},d.style,{content:'"'+h+'"'})})}return d}function f(d){return(0,n.default)({},d,{style:(0,o.default)(e({},d.style))})}return Z0}var CD={},Tpe;function ztn(){if(Tpe)return CD;Tpe=1,Object.defineProperty(CD,"__esModule",{value:!0}),CD.default=e;function e(s,o){for(var i=1540483477,a=24,l=o^s.length,u=s.length,c=0;u>=4;){var f=t(s,c);f=r(f,i),f^=f>>>a,f=r(f,i),l=r(l,i),l^=f,c+=4,u-=4}switch(u){case 3:l^=n(s,c),l^=s.charCodeAt(c+2)<<16,l=r(l,i);break;case 2:l^=n(s,c),l=r(l,i);break;case 1:l^=s.charCodeAt(c),l=r(l,i);break}return l^=l>>>13,l=r(l,i),l^=l>>>15,l>>>0}function t(s,o){return s.charCodeAt(o++)+(s.charCodeAt(o++)<<8)+(s.charCodeAt(o++)<<16)+(s.charCodeAt(o)<<24)}function n(s,o){return s.charCodeAt(o++)+(s.charCodeAt(o++)<<8)}function r(s,o){s=s|0,o=o|0;var i=s&65535,a=s>>>16,l=i*o+((a*o&65535)<<16)|0;return l}return CD}var Ape;function fI(){if(Ape)return Tt;Ape=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.compose=Tt.merge=Tt.$=Tt.style=Tt.presets=Tt.keyframes=Tt.fontFace=Tt.insertGlobal=Tt.insertRule=Tt.plugins=Tt.styleSheet=void 0,Tt.speedy=d,Tt.simulations=w,Tt.simulate=b,Tt.cssLabels=S,Tt.isLikeRule=T,Tt.idFor=_,Tt.css=$e,Tt.rehydrate=Ce,Tt.flush=Re,Tt.select=Ue,Tt.parent=rt,Tt.media=ht,Tt.pseudo=ye,Tt.active=Ge,Tt.any=at,Tt.checked=cn,Tt.disabled=lt,Tt.empty=Ft,Tt.enabled=Dt,Tt._default=qt,Tt.first=Te,Tt.firstChild=Xe,Tt.firstOfType=Se,Tt.fullscreen=ct,Tt.focus=Yt,Tt.hover=Gn,Tt.indeterminate=Ne,Tt.inRange=nt,Tt.invalid=wt,Tt.lastChild=Fr,Tt.lastOfType=da,Tt.left=bs,Tt.link=Ze,Tt.onlyChild=yt,Tt.onlyOfType=Gt,Tt.optional=ai,Tt.outOfRange=lu,Tt.readOnly=Ol,Tt.readWrite=ib,Tt.required=rh,Tt.right=ab,Tt.root=ec,Tt.scope=QC,Tt.target=eS,Tt.valid=tS,Tt.visited=nS,Tt.dir=rS,Tt.lang=sh,Tt.not=Le,Tt.nthChild=St,Tt.nthLastChild=dn,Tt.nthLastOfType=yr,Tt.nthOfType=Hr,Tt.after=Fo,Tt.before=ho,Tt.firstLetter=uu,Tt.firstLine=tc,Tt.selection=Gp,Tt.backdrop=lb,Tt.placeholder=We,Tt.cssFor=_t,Tt.attribsFor=Kt;var e=Ote(),t=u(e),n=ltn(),r=T4e(),s=vtn(),o=u(s),i=Btn(),a=ztn(),l=u(a);function u(le){return le&&le.__esModule?le:{default:le}}function c(le,Ee,ut){return Ee in le?Object.defineProperty(le,Ee,{value:ut,enumerable:!0,configurable:!0,writable:!0}):le[Ee]=ut,le}var f=Tt.styleSheet=new n.StyleSheet;f.inject();function d(le){return f.speedy(le)}var h=Tt.plugins=f.plugins=new i.PluginSet([i.prefixes,i.contentWrap,i.fallbacks]);h.media=new i.PluginSet,h.fontFace=new i.PluginSet,h.keyframes=new i.PluginSet([i.prefixes,i.fallbacks]);var p=!1,g=typeof window<"u",m=p,v=!1,y=!1;function w(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;m=!!le}function b(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];return Ee=(0,o.default)(Ee),Ee?m?Ee.reduce(function($t,hn){return $t["data-simulate-"+$(hn)]="",$t},{}):(v||(console.warn("can't simulate without once calling simulations(true)"),v=!0),y||(console.warn("don't use simulation outside dev"),y=!0),{}):{}}var C=p;function S(le){C=!!le}function $(le){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return le.toLowerCase().replace(/[^a-z0-9]/g,Ee)}function k(le){var Ee=JSON.stringify(le),ut=(0,l.default)(Ee).toString(36);return le.label&&le.label.length>0,ut}function T(le){var Ee=Object.keys(le).filter(function(ut){return ut!=="toString"});return Ee.length!==1?!1:!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(Ee[0])}function _(le){var Ee=Object.keys(le).filter(function(hn){return hn!=="toString"});if(Ee.length!==1)throw new Error("not a rule");var ut=/data\-css\-([a-zA-Z0-9\-_]+)/,$t=ut.exec(Ee[0]);if(!$t)throw new Error("not a rule");return $t[1]}var E=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function A(le){if(le.indexOf(",")===-1)return[le];for(var Ee=[],ut=[],$t=0,hn;hn=E.exec(le);)switch(hn[0]){case"(":$t++;break;case")":$t--;break;case",":if($t)break;Ee.push(hn.index)}for(hn=Ee.length;hn--;)ut.unshift(le.slice(Ee[hn]+1)),le=le.slice(0,Ee[hn]);return ut.unshift(le),ut}function N(le,Ee){if(!le)return Ee.replace(/\&/g,"");if(!Ee)return".css-"+le+",[data-css-"+le+"]";var ut=A(Ee).map(function($t){return $t.indexOf("&")>=0?[$t.replace(/\&/mg,".css-"+le),$t.replace(/\&/mg,"[data-css-"+le+"]")].join(","):".css-"+le+$t+",[data-css-"+le+"]"+$t}).join(",");return m&&/^\&\:/.exec(Ee)&&!/\s/.exec(Ee)&&(ut+=",.css-"+le+"[data-simulate-"+$(Ee)+"],[data-css-"+le+"][data-simulate-"+$(Ee)+"]"),ut}function F(le){var Ee=le.selector,ut=le.style,$t=h.transform({selector:Ee,style:ut});return $t.selector+"{"+(0,r.createMarkupForStyles)($t.style)+"}"}function R(le){var Ee=void 0,ut=void 0,$t=void 0,hn=void 0;return Object.keys(le).forEach(function(ar){ar.indexOf("&")>=0?(ut=ut||{},ut[ar]=le[ar]):ar.indexOf("@media")===0?($t=$t||{},$t[ar]=R(le[ar])):ar.indexOf("@supports")===0?(hn=hn||{},hn[ar]=R(le[ar])):ar==="label"?le.label.length>0&&(Ee=Ee||{},Ee.label=C?le.label.join("."):""):(Ee=Ee||{},Ee[ar]=le[ar])}),{plain:Ee,selects:ut,medias:$t,supports:hn}}function P(le,Ee){var ut=[],$t=Ee.plain,hn=Ee.selects,ar=Ee.medias,Si=Ee.supports;return $t&&ut.push(F({style:$t,selector:N(le)})),hn&&Object.keys(hn).forEach(function(ws){return ut.push(F({style:hn[ws],selector:N(le,ws)}))}),ar&&Object.keys(ar).forEach(function(ws){return ut.push(ws+"{"+P(le,ar[ws]).join("")+"}")}),Si&&Object.keys(Si).forEach(function(ws){return ut.push(ws+"{"+P(le,Si[ws]).join("")+"}")}),ut}var I=f.inserted={};function D(le){if(!I[le.id]){I[le.id]=!0;var Ee=R(le.style),ut=P(le.id,Ee);I[le.id]=g?!0:ut,ut.forEach(function($t){return f.insert($t)})}}var M=f.registered={};function z(le){M[le.id]||(M[le.id]=le)}function W(le){if(T(le)){var Ee=M[_(le)];if(Ee==null)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return Ee}return le}var H={};function U(le){if(z(le),D(le),H[le.id])return H[le.id];var Ee=c({},"data-css-"+le.id,C&&le.label||"");return Object.defineProperty(Ee,"toString",{enumerable:!1,value:function(){return"css-"+le.id}}),H[le.id]=Ee,Ee}function K(le){for(var Ee=[":",".","[",">"," "],ut=!1,$t=le.charAt(0),hn=0;hn<Ee.length;hn++)if($t===Ee[hn]){ut=!0;break}return ut||le.indexOf("&")>=0}function G(le,Ee){var ut=A(le).map(function(hn){return hn.indexOf("&")>=0?hn:"&"+hn}),$t=A(Ee).map(function(hn){return hn.indexOf("&")>=0?hn:"&"+hn});return $t.reduce(function(hn,ar){return hn.concat(ut.map(function(Si){return ar.replace(/\&/g,Si)}))},[]).join(",")}function re(le,Ee){return le?"@media "+le.substring(6)+" and "+Ee.substring(6):Ee}function ue(le){return le.indexOf("@media")===0}function ae(le){return le.indexOf("@supports")===0}function X(le,Ee){return le?"@supports "+le.substring(9)+" and "+Ee.substring(9):Ee}function J(le){for(var Ee=[],ut=0;ut<le.length;ut++)Array.isArray(le[ut])?Ee=Ee.concat(J(le[ut])):Ee=Ee.concat(le[ut]);return Ee}var q={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]};function L(le,Ee){var ut=Ee.selector,$t=ut===void 0?"":ut,hn=Ee.mq,ar=hn===void 0?"":hn,Si=Ee.supp,ws=Si===void 0?"":Si,sS=Ee.src,Kp=sS===void 0?{}:sS;Array.isArray(Kp)||(Kp=[Kp]),Kp=J(Kp),Kp.forEach(function(ha){if(T(ha)){var Rre=W(ha);if(Rre.type!=="css")throw new Error("cannot merge this rule");ha=Rre.style}ha=(0,o.default)(ha),ha&&ha.composes&&L(le,{selector:$t,mq:ar,supp:ws,src:ha.composes}),Object.keys(ha||{}).forEach(function($i){if(K($i))q[$i]&&q[$i].forEach(function(g8e){return L(le,{selector:G($t,g8e),mq:ar,supp:ws,src:ha[$i]})}),L(le,{selector:G($t,$i),mq:ar,supp:ws,src:ha[$i]});else if(ue($i))L(le,{selector:$t,mq:re(ar,$i),supp:ws,src:ha[$i]});else if(ae($i))L(le,{selector:$t,mq:ar,supp:X(ws,$i),src:ha[$i]});else if($i!=="composes"){var Rl=le;ws&&(Rl[ws]=Rl[ws]||{},Rl=Rl[ws]),ar&&(Rl[ar]=Rl[ar]||{},Rl=Rl[ar]),$t&&(Rl[$t]=Rl[$t]||{},Rl=Rl[$t]),$i==="label"?C&&(le.label=le.label.concat(ha.label)):Rl[$i]=ha[$i]}})})}function Q(le){var Ee={label:[]};L(Ee,{src:le});var ut={id:k(Ee),style:Ee,label:C?Ee.label.join("."):"",type:"css"};return U(ut)}var se={};Object.defineProperty(se,"toString",{enumerable:!1,value:function(){return"css-nil"}});var de=typeof WeakMap<"u"?[se,new WeakMap,new WeakMap,new WeakMap]:[se];function he(le){return function(Ee){if(de[Ee.length]){for(var ut=de[Ee.length],$t=0;$t<Ee.length-1;)ut.has(Ee[$t])||ut.set(Ee[$t],new WeakMap),ut=ut.get(Ee[$t]),$t++;if(ut.has(Ee[Ee.length-1])){var hn=ut.get(Ee[$t]);if(M[hn.toString().substring(4)])return hn}}var ar=le(Ee);if(de[Ee.length]){for(var Si=0,ws=de[Ee.length];Si<Ee.length-1;)ws=ws.get(Ee[Si]),Si++;try{ws.set(Ee[Si],ar)}catch{}}return ar}}var ge=typeof WeakMap<"u"?he(Q):Q;function $e(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];if(Ee[0]&&Ee[0].length&&Ee[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return Ee=(0,o.default)(Ee),Ee?ge(Ee):se}$e.insert=function(le){var Ee={id:k(le),css:le,type:"raw"};z(Ee),I[Ee.id]||(f.insert(Ee.css),I[Ee.id]=g?!0:[Ee.css])},Tt.insertRule=$e.insert,$e.global=function(le,Ee){if(Ee=(0,o.default)(Ee),Ee)return $e.insert(F({selector:le,style:Ee}))},Tt.insertGlobal=$e.global;function He(le){if(!I[le.id]){var Ee=Object.keys(le.keyframes).map(function($t){var hn=h.keyframes.transform({id:le.id,name:$t,style:le.keyframes[$t]});return hn.name+"{"+(0,r.createMarkupForStyles)(hn.style)+"}"}).join(""),ut=["-webkit-","-moz-","-o-",""].map(function($t){return"@"+$t+"keyframes "+(le.name+"_"+le.id)+"{"+Ee+"}"});ut.forEach(function($t){return f.insert($t)}),I[le.id]=g?!0:ut}}$e.keyframes=function(le,Ee){Ee||(Ee=le,le="animation"),Ee=(0,o.default)(Ee)||{};var ut={id:k({name:le,kfs:Ee}),type:"keyframes",name:le,keyframes:Ee};return z(ut),He(ut),le+"_"+ut.id},$e.fontFace=function(le){le=(0,o.default)(le);var Ee={id:k(le),type:"font-face",font:le};return z(Ee),Ie(Ee),le.fontFamily},Tt.fontFace=$e.fontFace,Tt.keyframes=$e.keyframes;function Ie(le){if(!I[le.id]){var Ee="@font-face{"+(0,r.createMarkupForStyles)(le.font)+"}";f.insert(Ee),I[le.id]=g?!0:[Ee]}}function Ce(le){(0,t.default)(I,le.reduce(function(Ee,ut){return Ee[ut]=!0,Ee},{}))}function Re(){I=f.inserted={},M=f.registered={},H={},f.flush(),f.inject()}Tt.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var ze=Tt.style=$e;function Ue(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return le?$e(c({},le,ut)):ze(ut)}Tt.$=Ue;function rt(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},le+" &",ut))}Tt.merge=$e,Tt.compose=$e;function ht(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},"@media "+le,ut))}function ye(le){for(var Ee=arguments.length,ut=Array(Ee>1?Ee-1:0),$t=1;$t<Ee;$t++)ut[$t-1]=arguments[$t];return $e(c({},le,ut))}function Ge(le){return ye(":active",le)}function at(le){return ye(":any",le)}function cn(le){return ye(":checked",le)}function lt(le){return ye(":disabled",le)}function Ft(le){return ye(":empty",le)}function Dt(le){return ye(":enabled",le)}function qt(le){return ye(":default",le)}function Te(le){return ye(":first",le)}function Xe(le){return ye(":first-child",le)}function Se(le){return ye(":first-of-type",le)}function ct(le){return ye(":fullscreen",le)}function Yt(le){return ye(":focus",le)}function Gn(le){return ye(":hover",le)}function Ne(le){return ye(":indeterminate",le)}function nt(le){return ye(":in-range",le)}function wt(le){return ye(":invalid",le)}function Fr(le){return ye(":last-child",le)}function da(le){return ye(":last-of-type",le)}function bs(le){return ye(":left",le)}function Ze(le){return ye(":link",le)}function yt(le){return ye(":only-child",le)}function Gt(le){return ye(":only-of-type",le)}function ai(le){return ye(":optional",le)}function lu(le){return ye(":out-of-range",le)}function Ol(le){return ye(":read-only",le)}function ib(le){return ye(":read-write",le)}function rh(le){return ye(":required",le)}function ab(le){return ye(":right",le)}function ec(le){return ye(":root",le)}function QC(le){return ye(":scope",le)}function eS(le){return ye(":target",le)}function tS(le){return ye(":valid",le)}function nS(le){return ye(":visited",le)}function rS(le,Ee){return ye(":dir("+le+")",Ee)}function sh(le,Ee){return ye(":lang("+le+")",Ee)}function Le(le,Ee){var ut=le.split(",").map(function($t){return $t.trim()}).map(function($t){return":not("+$t+")"});return ut.length===1?ye(":not("+le+")",Ee):Ue(ut.join(""),Ee)}function St(le,Ee){return ye(":nth-child("+le+")",Ee)}function dn(le,Ee){return ye(":nth-last-child("+le+")",Ee)}function yr(le,Ee){return ye(":nth-last-of-type("+le+")",Ee)}function Hr(le,Ee){return ye(":nth-of-type("+le+")",Ee)}function Fo(le){return ye("::after",le)}function ho(le){return ye("::before",le)}function uu(le){return ye("::first-letter",le)}function tc(le){return ye("::first-line",le)}function Gp(le){return ye("::selection",le)}function lb(le){return ye("::backdrop",le)}function We(le){return $e({"::placeholder":le})}function _t(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];return Ee=(0,o.default)(Ee),Ee?Ee.map(function($t){var hn={label:[]};return L(hn,{src:$t}),P(k(hn),R(hn)).join("")}).join(""):""}function Kt(){for(var le=arguments.length,Ee=Array(le),ut=0;ut<le;ut++)Ee[ut]=arguments[ut];Ee=(0,o.default)(Ee);var $t=Ee?Ee.map(function(hn){_(hn);var ar=Object.keys(hn)[0],Si=hn[ar];return ar+'="'+(Si||"")+'"'}).join(" "):"";return $t}return Tt}var eg={},US={},Ipe;function I4e(){if(Ipe)return US;Ipe=1,Object.defineProperty(US,"__esModule",{value:!0});function e(n){return n.name!=null}US.isSurfaceInfo=e;function t(n){return n.drawArea instanceof HTMLElement}return US.isSurface=t,US}var jS={},SD={};function Vtn(){}var Tl={},Eb=[],Npe=[];function e_(e,t){var n=Npe,r,s,o,i;for(i=arguments.length;i-- >2;)Eb.push(arguments[i]);for(t&&t.children!=null&&(Eb.length||Eb.push(t.children),delete t.children);Eb.length;)if((s=Eb.pop())&&s.pop!==void 0)for(i=s.length;i--;)Eb.push(s[i]);else typeof s=="boolean"&&(s=null),(o=typeof e!="function")&&(s==null?s="":typeof s=="number"?s=String(s):typeof s!="string"&&(o=!1)),o&&r?n[n.length-1]+=s:n===Npe?n=[s]:n.push(s),r=o;var a=new Vtn;return a.nodeName=e,a.children=n,a.attributes=t??void 0,a.key=t?.key,Tl.vnode!==void 0&&Tl.vnode(a),a}function sm(e,t){for(var n in t)e[n]=t[n];return e}var Wtn=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function N4e(e,t){return e_(e.nodeName,sm(sm({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var Utn=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,qj=[];function D4e(e){!e._dirty&&(e._dirty=!0)&&qj.push(e)==1&&(Tl.debounceRendering||Wtn)(Rte)}function Rte(){var e,t=qj;for(qj=[];e=t.pop();)e._dirty&&t5(e)}function jtn(e,t,n){return typeof t=="string"||typeof t=="number"?e.splitText!==void 0:typeof t.nodeName=="string"?!e._componentConstructor&&O4e(e,t.nodeName):n||e._componentConstructor===t.nodeName}function O4e(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function R4e(e){var t=sm({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n!==void 0)for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}function Htn(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function Fte(e){var t=e.parentNode;t&&t.removeChild(e)}function Dpe(e,t,n,r,s){if(t==="className"&&(t="class"),t!=="key")if(t==="ref")n&&n(null),r&&r(e);else if(t==="class"&&!s)e.className=r||"";else if(t==="style"){if((!r||typeof r=="string"||typeof n=="string")&&(e.style.cssText=r||""),r&&typeof r=="object"){if(typeof n!="string")for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]=typeof r[o]=="number"&&Utn.test(o)===!1?r[o]+"px":r[o]}}else if(t==="dangerouslySetInnerHTML")r&&(e.innerHTML=r.__html||"");else if(t[0]=="o"&&t[1]=="n"){var i=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Ope,i):e.removeEventListener(t,Ope,i),(e._listeners||(e._listeners={}))[t]=r}else if(t!=="list"&&t!=="type"&&!s&&t in e)qtn(e,t,r??""),(r==null||r===!1)&&e.removeAttribute(t);else{var a=s&&t!==(t=t.replace(/^xlink:?/,""));r==null||r===!1?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):typeof r!="function"&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}}function qtn(e,t,n){try{e[t]=n}catch{}}function Ope(e){return this._listeners[e.type](Tl.event&&Tl.event(e)||e)}var F4e=[],Gj=0,Eg=!1,XF=!1;function M4e(){for(var e;e=F4e.pop();)Tl.afterMount&&Tl.afterMount(e),e.componentDidMount&&e.componentDidMount()}function P4e(e,t,n,r,s,o){Gj++||(Eg=s!=null&&s.ownerSVGElement!==void 0,XF=e!=null&&!("__preactattr_"in e));var i=L4e(e,t,n,r,o);return s&&i.parentNode!==s&&s.appendChild(i),--Gj||(XF=!1,o||M4e()),i}function L4e(e,t,n,r,s){var o=e,i=Eg;if((t==null||typeof t=="boolean")&&(t=""),typeof t=="string"||typeof t=="number")return e&&e.splitText!==void 0&&e.parentNode&&(!e._component||s)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),Z1(e,!0))),o.__preactattr_=!0,o;var a=t.nodeName;if(typeof a=="function")return Ztn(e,t,n,r);if(Eg=a==="svg"?!0:a==="foreignObject"?!1:Eg,a=String(a),(!e||!O4e(e,a))&&(o=Htn(a,Eg),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),Z1(e,!0)}var l=o.firstChild,u=o.__preactattr_,c=t.children;if(u==null){u=o.__preactattr_={};for(var f=o.attributes,d=f.length;d--;)u[f[d].name]=f[d].value}return!XF&&c&&c.length===1&&typeof c[0]=="string"&&l!=null&&l.splitText!==void 0&&l.nextSibling==null?l.nodeValue!=c[0]&&(l.nodeValue=c[0]):(c&&c.length||l!=null)&&Gtn(o,c,n,r,XF||u.dangerouslySetInnerHTML!=null),Ktn(o,t.attributes,u),Eg=i,o}function Gtn(e,t,n,r,s){var o=e.childNodes,i=[],a={},l=0,u=0,c=o.length,f=0,d=t?t.length:0,h,p,g,m,v;if(c!==0)for(var y=0;y<c;y++){var w=o[y],b=w.__preactattr_,C=d&&b?w._component?w._component.__key:b.key:null;C!=null?(l++,a[C]=w):(b||(w.splitText!==void 0?!s||w.nodeValue.trim():s))&&(i[f++]=w)}if(d!==0)for(var y=0;y<d;y++){m=t[y],v=null;var C=m.key;if(C!=null)l&&a[C]!==void 0&&(v=a[C],a[C]=void 0,l--);else if(!v&&u<f){for(h=u;h<f;h++)if(i[h]!==void 0&&jtn(p=i[h],m,s)){v=p,i[h]=void 0,h===f-1&&f--,h===u&&u++;break}}v=L4e(v,m,n,r),g=o[y],v&&v!==e&&v!==g&&(g==null?e.appendChild(v):v===g.nextSibling?Fte(g):e.insertBefore(v,g))}if(l)for(var y in a)a[y]!==void 0&&Z1(a[y],!1);for(;u<=f;)(v=i[f--])!==void 0&&Z1(v,!1)}function Z1(e,t){var n=e._component;n?n5(n):(e.__preactattr_!=null&&e.__preactattr_.ref&&e.__preactattr_.ref(null),(t===!1||e.__preactattr_==null)&&Fte(e),B4e(e))}function B4e(e){for(e=e.lastChild;e;){var t=e.previousSibling;Z1(e,!0),e=t}}function Ktn(e,t,n){var r;for(r in n)!(t&&t[r]!=null)&&n[r]!=null&&Dpe(e,r,n[r],n[r]=void 0,Eg);for(r in t)r!=="children"&&r!=="innerHTML"&&(!(r in n)||t[r]!==(r==="value"||r==="checked"?e[r]:n[r]))&&Dpe(e,r,n[r],n[r]=t[r],Eg)}var Kj={};function Ytn(e){var t=e.constructor.name;(Kj[t]||(Kj[t]=[])).push(e)}function z4e(e,t,n){var r=Kj[e.name],s;if(e.prototype&&e.prototype.render?(s=new e(t,n),t_.call(s,t,n)):(s=new t_(t,n),s.constructor=e,s.render=Xtn),r){for(var o=r.length;o--;)if(r[o].constructor===e){s.nextBase=r[o].nextBase,r.splice(o,1);break}}return s}function Xtn(e,t,n){return this.constructor(e,n)}function ZF(e,t,n,r,s){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||s?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,n!==0&&(n===1||Tl.syncComponentUpdates!==!1||!e.base?t5(e,1,s):D4e(e)),e.__ref&&e.__ref(e))}function t5(e,t,n,r){if(!e._disable){var s=e.props,o=e.state,i=e.context,a=e.prevProps||s,l=e.prevState||o,u=e.prevContext||i,c=e.base,f=e.nextBase,d=c||f,h=e._component,p=!1,g,m,v;if(c&&(e.props=a,e.state=l,e.context=u,t!==2&&e.shouldComponentUpdate&&e.shouldComponentUpdate(s,o,i)===!1?p=!0:e.componentWillUpdate&&e.componentWillUpdate(s,o,i),e.props=s,e.state=o,e.context=i),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!p){g=e.render(s,o,i),e.getChildContext&&(i=sm(sm({},i),e.getChildContext()));var y=g&&g.nodeName,w,b;if(typeof y=="function"){var C=R4e(g);m=h,m&&m.constructor===y&&C.key==m.__key?ZF(m,C,1,i,!1):(w=m,e._component=m=z4e(y,C,i),m.nextBase=m.nextBase||f,m._parentComponent=e,ZF(m,C,0,i,!1),t5(m,1,n,!0)),b=m.base}else v=d,w=h,w&&(v=e._component=null),(d||t===1)&&(v&&(v._component=null),b=P4e(v,g,i,n||!c,d&&d.parentNode,!0));if(d&&b!==d&&m!==h){var S=d.parentNode;S&&b!==S&&(S.replaceChild(b,d),w||(d._component=null,Z1(d,!1)))}if(w&&n5(w),e.base=b,b&&!r){for(var $=e,k=e;k=k._parentComponent;)($=k).base=b;b._component=$,b._componentConstructor=$.constructor}}if(!c||n?F4e.unshift(e):p||(e.componentDidUpdate&&e.componentDidUpdate(a,l,u),Tl.afterUpdate&&Tl.afterUpdate(e)),e._renderCallbacks!=null)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);!Gj&&!r&&M4e()}}function Ztn(e,t,n,r){for(var s=e&&e._component,o=s,i=e,a=s&&e._componentConstructor===t.nodeName,l=a,u=R4e(t);s&&!l&&(s=s._parentComponent);)l=s.constructor===t.nodeName;return s&&l&&(!r||s._component)?(ZF(s,u,3,n,r),e=s.base):(o&&!a&&(n5(o),e=i=null),s=z4e(t.nodeName,u,n),e&&!s.nextBase&&(s.nextBase=e,i=null),ZF(s,u,1,n,r),e=s.base,i&&e!==i&&(i._component=null,Z1(i,!1))),e}function n5(e){Tl.beforeUnmount&&Tl.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?n5(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,Fte(t),Ytn(e),B4e(t)),e.__ref&&e.__ref(null)}function t_(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}sm(t_.prototype,{setState:function(t,n){var r=this.state;this.prevState||(this.prevState=sm({},r)),sm(r,typeof t=="function"?t(r,this.props):t),n&&(this._renderCallbacks=this._renderCallbacks||[]).push(n),D4e(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),t5(this,2)},render:function(){}});function V4e(e,t,n){return P4e(n,e,{},!1,t,!1)}var Jtn={h:e_,createElement:e_,cloneElement:N4e,Component:t_,render:V4e,rerender:Rte,options:Tl};const Qtn=Object.freeze(Object.defineProperty({__proto__:null,Component:t_,cloneElement:N4e,createElement:e_,default:Jtn,h:e_,options:Tl,render:V4e,rerender:Rte},Symbol.toStringTag,{value:"Module"})),Mte=ly(Qtn);var $D={},Rpe;function enn(){if(Rpe)return $D;Rpe=1;Object.defineProperty($D,"__esModule",{value:!0});const e=Mte,t=fI();class n extends e.Component{componentDidMount(){const{name:s,tab:o}=this.props;this.props.registerSurface(s,o,this)}componentDidUpdate(){return!1}render(){const{name:s,visible:o,styles:i}=this.props,a=Object.assign({},n.defaultStyles,i),{width:l,height:u}=a;let{maxHeight:c,maxWidth:f}=a;c=u===n.defaultStyles.height?c:u,f=l===n.defaultStyles.width?f:l;const d=t.css({display:o?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:u,width:l,maxHeight:c,maxWidth:f,overflow:"auto"}),h=t.css({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px",fontWeight:"600",textAlign:"center"}),p=t.css({boxSizing:"border-box"});return e.h("div",{className:`${d} tf-surface`,ref:g=>this.container=g,"data-visible":o},e.h("div",{className:`${h} tf-label`,ref:g=>this.label=g},s),e.h("div",{className:`${p} tf-draw-area`,ref:g=>this.drawArea=g}))}}return n.defaultStyles={maxWidth:"550px",maxHeight:"580px",height:"auto",width:"auto"},$D.SurfaceComponent=n,$D}var kD={},Fpe;function tnn(){if(Fpe)return kD;Fpe=1;Object.defineProperty(kD,"__esModule",{value:!0});const e=Mte,t=fI();class n extends e.Component{render(){const{tabNames:o,activeTab:i,handleClick:a}=this.props,l=o.length>0?o.map(c=>e.h(r,{key:c,id:c,handleClick:a,isActive:c===i},c)):null,u=t.css({overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"#eee",paddingBottom:"1rem",marginTop:"1rem"});return e.h("div",{className:`${u} visor-tabs`},l)}}kD.Tabs=n;class r extends e.Component{render(){const{children:o,isActive:i,handleClick:a,id:l}=this.props,u=t.css({borderBottomColor:i?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"},display:"inline-block",marginRight:"1rem",padding:".5rem",fontSize:"1rem",fontWeight:"bold"});return e.h("a",{className:`${u} tf-tab`,"data-isactive":i,onClick:()=>a(l)},o)}}return kD}var Mpe;function nnn(){if(Mpe)return SD;Mpe=1;Object.defineProperty(SD,"__esModule",{value:!0});const e=Mte,t=fI(),n=enn(),r=tnn();class s extends e.Component{static render(a,l,u){return e.render(e.h(s,Object.assign({},u)),a,l)}constructor(a){super(a),this.surfaces=new Map;const l=a.startOpen==null?!0:a.startOpen;this.state={isOpen:l,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(a,l){const u=this.surfaceId(a,l);let c;if(this.surfaces.has(u))c=this.surfaces.get(u);else throw Error(`Surface not found with id: ${u}`);return{container:c.container,label:c.label,drawArea:c.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(a,l){return a+l}setTabs(a){const l=a.map(f=>f.tab),u=this.state.tabs;let c;for(const f of l)u.has(f)||(u.add(f),c=f);c!=null&&this.setState({tabs:u,activeTab:c})}getTabs(){return this.state.tabs}registerSurface(a,l,u){const c=this.surfaceId(a,l);this.surfaces.set(c,u)}keyHandler(a){a.keyCode===192&&(a.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(a){this.setState({activeTab:a})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(a){this.setTabs(a.surfaceList)}render(){const{isOpen:a,isFullscreen:l,activeTab:u}=this.state,{surfaceList:c}=this.props,f=Array.from(this.getTabs().values()),p=l?"90vw":"550px",g=t.css({width:p,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px",zIndex:1e3}),m=t.css({right:"0"}),v=t.css({right:`calc(-${p} - 10px)`}),y=a?m:v,w=t.css({});return e.h("div",{className:`${g} ${y} visor`,"data-isopen":a,"data-isfullscreen":l},e.h(o,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:l}),e.h(r.Tabs,{tabNames:f,activeTab:u,handleClick:this.setActiveTab.bind(this)}),e.h("div",{className:`${w} visor-surfaces`},c.map(b=>e.h(n.SurfaceComponent,{key:b.name+b.tab,name:b.name,tab:b.tab,styles:b.styles,registerSurface:this.registerSurface.bind(this),visible:u===b.tab}))))}}SD.VisorComponent=s;function o(i){const{isFullScreen:a,fullScreenHandler:l,closeHandler:u}=i,c=t.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),f=t.css({fontSize:".875rem",borderRadius:".25rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:".5rem",paddingBottom:".5rem",textDecoration:"none",transition:"color .15s ease-in",color:"#111"}),d=t.css({marginLeft:"auto"});return e.h("div",{className:`${c} visor-controls`},e.h("button",{className:`${f}`,onClick:l},a?"Minimize":"Maximize"),e.h("button",{className:`${f} ${d}`,onClick:u},"Hide"))}return SD}var Ppe;function W4e(){if(Ppe)return jS;Ppe=1;Object.defineProperty(jS,"__esModule",{value:!0});const e=nnn();let t;const n="Visor",r="tfjs-visor-container";function s(){if(typeof document>"u")throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(r)&&t!=null)return t;let i=document.getElementById(r);i==null&&(i=document.createElement("div"),i.id=r,document.body.appendChild(i));let a;function l(f,d){let h=null;return a=e.VisorComponent.render(f,a,{ref:p=>h=p,surfaceList:Array.from(d.values())}),h}const u=new Map,c=l(i,u);return t=new o(c,i,u,l),t}jS.visor=s;class o{constructor(a,l,u,c){this.visorComponent=a,this.el=l,this.surfaceList=u,this.renderVisor=c}surface(a){const{name:l}=a,u=a.tab==null?n:a.tab;if(l==null||!(typeof l=="string"||l instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const c=Object.assign({},a,{tab:u}),f=`${l}-${u}`;return this.surfaceList.has(f)||this.surfaceList.set(f,c),this.renderVisor(this.el,this.surfaceList),this.visorComponent.getSurface(l,u)}isFullscreen(){return this.visorComponent.isFullscreen()}isOpen(){return this.visorComponent.isOpen()}close(){return this.visorComponent.close()}open(){return this.visorComponent.open()}toggle(){return this.visorComponent.toggle()}toggleFullScreen(){return this.visorComponent.toggleFullScreen()}bindKeys(){return this.visorComponent.bindKeys()}unbindKeys(){return this.visorComponent.unbindKeys()}setActiveTab(a){if(!this.visorComponent.state.tabs.has(a))throw new Error(`Tab '${a}' does not exist`);this.visorComponent.setState({activeTab:a})}}return jS.Visor=o,jS}var Lpe;function ff(){if(Lpe)return eg;Lpe=1;var e=eg&&eg.__awaiter||function(i,a,l,u){return new(l||(l=Promise))(function(c,f){function d(g){try{p(u.next(g))}catch(m){f(m)}}function h(g){try{p(u.throw(g))}catch(m){f(m)}}function p(g){g.done?c(g.value):new l(function(m){m(g.value)}).then(d,h)}p((u=u.apply(i,a||[])).next())})};Object.defineProperty(eg,"__esModule",{value:!0});const t=I4e(),n=W4e();function r(i){if(i instanceof HTMLElement)return i;if(t.isSurface(i))return i.drawArea;if(t.isSurfaceInfo(i))return n.visor().surface({name:i.name,tab:i.tab,styles:i.styles}).drawArea;throw new Error("Not a drawable")}eg.getDrawArea=r;function s(i,a){const l=Object.getOwnPropertyNames(i),u=Object.getOwnPropertyNames(a);if(l.length!==u.length)return!1;for(let c=0;c<l.length;c++){const f=l[c];if(i[f]!==a[f])return!1}return!0}eg.shallowEquals=s;function o(){return e(this,void 0,void 0,function*(){yield new Promise(i=>requestAnimationFrame(i))})}return eg.nextFrame=o,eg}var Bpe;function N0(){if(Bpe)return $b;Bpe=1;Object.defineProperty($b,"__esModule",{value:!0});const e=fI(),t=ff(),n={prepend:!1};function r(i,a,l={}){const u=t.getDrawArea(i),c=e.css({"& canvas":{display:"block"},marginTop:".5rem",marginBottom:".5rem"}),f=e.css({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px",fontWeight:"600",textAlign:"left"}),d=Object.assign({},n,l);let h=u.querySelector(`div[data-name=${a}]`);if(!h){if(h=document.createElement("div"),h.setAttribute("class",`${c}`),h.dataset.name=a,d.title){const p=document.createElement("div");p.setAttribute("class",`subsurface-title ${f}`),p.innerText=d.title,h.appendChild(p)}d.prepend?u.insertBefore(h,u.firstChild):u.appendChild(h)}return h}$b.subSurface=r;function s(i){let l=0,u=i;for(;u&&u.clientWidth===0;)u=u.parentElement,l=50;return u.clientWidth-l}$b.getDefaultWidth=s;function o(i){return i.clientHeight===0?200:i.clientHeight}return $b.getDefaultHeight=o,$b}var zpe;function rnn(){if(zpe)return Xp;zpe=1;var e=Xp&&Xp.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=Xp&&Xp.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Xp,"__esModule",{value:!0});const n=t(WC),r=N0(),s=ff();function o(l,u,c={}){return e(this,void 0,void 0,function*(){const f=s.getDrawArea(l),d=u,h=Object.assign({},i,c);if(a.has(f)){const k=a.get(f);if(s.shallowEquals(h,k.lastOptions)){yield s.nextFrame();const T=k.view,_=T.changeset().remove(()=>!0).insert(d);yield T.change("values",_).runAsync();return}}const{xLabel:p,yLabel:g,xType:m,yType:v}=h;let y=null;p!=null&&(y={title:p});let w=null;g!=null&&(w={title:g});const b={actions:!1,mode:"vega-lite",defaultStyle:!1};let C;h.color!=null?Array.isArray(h.color)?C={field:"index",type:"nominal",scale:{range:h.color}}:C={value:h.color}:C={value:"#4C78A0"};const S={width:h.width||r.getDefaultWidth(f),height:h.height||r.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:h.fontSize,titleFontSize:h.fontSize},text:{fontSize:h.fontSize},legend:{labelFontSize:h.fontSize,titleFontSize:h.fontSize}},data:{values:d,name:"values"},mark:{type:"bar",tooltip:!0},encoding:{x:{field:"index",type:m,axis:y},y:{field:"value",type:v,axis:w},color:C}};yield s.nextFrame();const $=yield n.default(f,S,b);a.set(f,{view:$.view,lastOptions:h})})}Xp.barchart=o;const i={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},a=new Map;return Xp}var tg={},Vpe;function snn(){if(Vpe)return tg;Vpe=1;var e=tg&&tg.__awaiter||function(a,l,u,c){return new(u||(u=Promise))(function(f,d){function h(m){try{g(c.next(m))}catch(v){d(v)}}function p(m){try{g(c.throw(m))}catch(v){d(v)}}function g(m){m.done?f(m.value):new u(function(v){v(m.value)}).then(h,p)}g((c=c.apply(a,l||[])).next())})},t=tg&&tg.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=ff();function o(a,l,u={}){return e(this,void 0,void 0,function*(){const c=Object.assign({},i,u),f=s.getDrawArea(a),d=[],h=l.values,p=l.tickLabels||[],g=p.length===0;let m=!0;for(let b=0;b<h.length;b++){const C=g?`Class ${b}`:p[b];g&&p.push(C);for(let S=0;S<h[b].length;S++){const $=g?`Class ${S}`:p[S],k=h[b][S];b===S&&!c.shadeDiagonal?d.push({label:C,prediction:$,count:k,noFill:!0}):(d.push({label:C,prediction:$,count:k,scaleCount:k}),k!==0&&(m=!1))}}if(!c.shadeDiagonal&&m)for(const b of d)b.noFill===!0&&(b.noFill=!1,b.scaleCount=b.count);const v={actions:!1,mode:"vega-lite",defaultStyle:!1},y={width:c.width||r.getDefaultWidth(f),height:c.height||r.getDefaultHeight(f),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:c.fontSize,titleFontSize:c.fontSize},text:{fontSize:c.fontSize},legend:{labelFontSize:c.fontSize,titleFontSize:c.fontSize}},data:{values:d},encoding:{x:{field:"prediction",type:"ordinal",title:c.xLabel||"prediction",scale:{domain:p}},y:{field:"label",type:"ordinal",title:c.yLabel||"label",scale:{domain:p}}},layer:[{transform:[{filter:"datum.noFill != true"}],mark:{type:"rect"},encoding:{color:{field:"scaleCount",type:"quantitative",scale:{range:c.colorMap}},tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}]};c.shadeDiagonal===!1&&y.layer.push({transform:[{filter:"datum.noFill == true"}],mark:{type:"rect",fill:"white"},encoding:{tooltip:[{field:"label",type:"nominal"},{field:"prediction",type:"nominal"},{field:"count",type:"quantitative"}]}}),c.showTextOverlay&&y.layer.push({mark:{type:"text",baseline:"middle"},encoding:{text:{field:"count",type:"nominal"}}});const w=typeof c.colorMap=="string"?{scheme:c.colorMap}:c.colorMap;y.layer[0].encoding.color.scale.range=w,yield n.default(f,y,v)})}tg.confusionMatrix=o;const i={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12,showTextOverlay:!0,height:400,colorMap:["#f7fbff","#4292c6"]};return tg}var xf={},J0={},Wpe;function r5(){if(Wpe)return J0;Wpe=1,Object.defineProperty(J0,"__esModule",{value:!0});function e(r,s){if(!r)throw new Error(typeof s=="string"?s:s())}J0.assert=e;function t(r,s,o=""){e(n(r,s),o+` Shapes ${r} and ${s} must match`)}J0.assertShapesMatch=t;function n(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o]!==s[o])return!1;return!0}return J0.arraysEqual=n,J0.DECIMAL_PLACES_TO_CHECK=4,J0}var Upe;function onn(){if(Upe)return xf;Upe=1;var e=xf&&xf.__awaiter||function(d,h,p,g){return new(p||(p=Promise))(function(m,v){function y(C){try{b(g.next(C))}catch(S){v(S)}}function w(C){try{b(g.throw(C))}catch(S){v(S)}}function b(C){C.done?m(C.value):new p(function(S){S(C.value)}).then(y,w)}b((g=g.apply(d,h||[])).next())})},t=xf&&xf.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var p in d)Object.hasOwnProperty.call(d,p)&&(h[p]=d[p]);return h.default=d,h},n=xf&&xf.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(xf,"__esModule",{value:!0});const r=t(DSe),s=n(WC),o=N0(),i=r5(),a=ff();function l(d,h,p={}){return e(this,void 0,void 0,function*(){const g=Object.assign({},f,p),m=a.getDrawArea(d);let v=h.values;g.rowMajor&&(v=yield u(h.values));const{xTickLabels:y,yTickLabels:w}=h;y!=null&&c(v,y,0),w!=null&&c(v,w,1);const b="@tfidx@",C=[];if(v instanceof r.Tensor){i.assert(v.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const E=yield v.data(),[A,N]=v.shape;for(let F=0;F<A;F++){const R=y?`${y[F]}${b}${F}`:F;for(let P=0;P<N;P++){const I=w?`${w[P]}${b}${P}`:P,D=F*N+P,M=E[D];C.push({x:R,y:I,value:M})}}}else{const E=v;for(let A=0;A<E.length;A++){const N=y?`${y[A]}${b}${A}`:A;for(let F=0;F<E[A].length;F++){const R=w?`${w[F]}${b}${F}`:F,P=E[A][F];C.push({x:N,y:R,value:P})}}}const S={actions:!1,mode:"vega-lite",defaultStyle:!1},$={width:g.width||o.getDefaultWidth(m),height:g.height||o.getDefaultHeight(m),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},scale:{bandPaddingInner:0,bandPaddingOuter:0}},data:{values:C},mark:{type:"rect",tooltip:!0},encoding:{x:{field:"x",type:g.xType,title:g.xLabel,sort:!1},y:{field:"y",type:g.yType,title:g.yLabel,sort:!1},fill:{field:"value",type:"quantitative"}}},k=`${b}\\d+$`,T=new RegExp(k);y&&($.encoding.x.axis={labelExpr:`replace(datum.value, regexp(/${k}/), '')`}),w&&($.encoding.y.axis={labelExpr:`replace(datum.value, regexp(/${k}/), '')`}),(y||w)&&(S.tooltip={sanitize:E=>String(E).replace(T,"")});let _;switch(g.colorMap){case"blues":_=["#f7fbff","#4292c6"];break;case"greyscale":_=["#000000","#ffffff"];break;default:_="viridis";break}if(_!=="viridis"){const E=$.encoding.fill;E.scale={range:_}}if(g.domain){const E=$.encoding.fill;E.scale!=null?E.scale=Object.assign({},E.scale,{domain:g.domain}):E.scale={domain:g.domain}}yield s.default(m,$,S)})}xf.heatmap=l;function u(d){return e(this,void 0,void 0,function*(){let h,p;d instanceof r.Tensor?(h=d.shape,p=d.transpose()):(h=[d.length,d[0].length],p=r.tidy(()=>r.tensor2d(d).transpose())),i.assert(p.rank===2,"Input to renderHeatmap must be a 2d array or Tensor2d");const g=yield p.array();p.dispose();const m=[g.length,g[0].length];return i.assert(h[0]===m[1]&&h[1]===m[0],`Unexpected transposed shape. Original ${h} : Transposed ${m}`),g})}function c(d,h,p){const g=d instanceof r.Tensor?d.shape:[d.length,d[0].length];p===0?i.assert(g[0]===h.length,`Length of xTickLabels (${h.length}) must match number of rows (${g[0]})`):p===1&&i.assert(g[1]===h.length,`Length of yTickLabels (${h.length}) must match number of columns (${g[1]})`)}const f={xLabel:null,yLabel:null,xType:"ordinal",yType:"ordinal",colorMap:"viridis",fontSize:12,domain:null,rowMajor:!1};return xf}var ng={};const U4e=ly(uTt);var Cf={},jpe;function s5(){if(jpe)return Cf;jpe=1;var e=Cf&&Cf.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})};Object.defineProperty(Cf,"__esModule",{value:!0});const t=DSe,n=r5();function r(l){if(!Array.isArray(l))throw new Error("input must be an array");if(l.length===0)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const u=l.length;let c=-1/0,f=1/0,d=0,h=0,p=0;for(let m=0;m<u;m++){const v=l[m];v>c&&(c=v),v<f&&(f=v),v===0&&(d+=1),isNaN(v)?h+=1:isFinite(v)||(p+=1)}const g={numVals:u,numZeros:d,numNans:h,max:c,min:f,numInfs:p};return g.max===-1/0&&(g.max=NaN),g.min===1/0&&(g.min=NaN),g}Cf.arrayStats=r;function s(l){return e(this,void 0,void 0,function*(){const[u,c,f]=t.tidy(()=>{const d=t.scalar(0,l.dtype),h=l.min(),p=l.max(),g=l.equal(d).sum();return[h,p,g]});return Promise.all([l.data(),u.data(),c.data(),f.data()]).then(([d,h,p,g])=>{const m=d.length;let v=0,y=0;for(let S=0;S<m;S++){const $=d[S];isNaN($)?v+=1:isFinite($)||(y+=1)}let w=h[0],b=p[0];return v===m&&(w=NaN,b=NaN),{numVals:m,numZeros:g[0],numNans:v,min:w,max:b,numInfs:y}})})}Cf.tensorStats=s;function o(l,u,c,f){return e(this,void 0,void 0,function*(){n.assert(l.rank===1,"labels must be a 1D tensor"),n.assert(u.rank===1,"predictions must be a 1D tensor"),n.assert(l.size===u.size,"labels and predictions must be the same length"),f!=null&&n.assert(f.size===u.size,"labels and predictions must be the same length");const d=l.cast("int32"),h=u.cast("int32");c==null&&(c=t.tidy(()=>t.maximum(d.max(),h.max()).cast("int32").dataSync()[0]+1));let p=Promise.resolve(null);return f!=null&&(p=f.data()),Promise.all([d.data(),h.data(),p]).then(([g,m,v])=>{const y=Array(c).fill(0);for(let w=0;w<c;w++)y[w]=Array(c).fill(0);for(let w=0;w<g.length;w++){const b=g[w],C=m[w];v!=null?y[b][C]+=v[w]:y[b][C]+=1}return y})})}Cf.confusionMatrix=o;function i(l,u){return e(this,void 0,void 0,function*(){n.assertShapesMatch(l.shape,u.shape,"Error computing accuracy.");const c=l.equal(u),f=c.mean(),d=(yield f.data())[0];return t.dispose([c,f]),d})}Cf.accuracy=i;function a(l,u,c){return e(this,void 0,void 0,function*(){return n.assert(l.rank===1,"labels must be a 1D tensor"),n.assert(u.rank===1,"predictions must be a 1D tensor"),n.assert(l.size===u.size,"labels and predictions must be the same length"),c==null&&(c=t.tidy(()=>t.maximum(l.max(),u.max()).dataSync()[0]+1)),Promise.all([l.data(),u.data()]).then(([f,d])=>{const h=Array(c).fill(0),p=Array(c).fill(0);for(let m=0;m<f.length;m++){const v=f[m],y=d[m];h[v]+=1,v===y&&(p[v]+=1)}const g=[];for(let m=0;m<h.length;m++)g.push({count:h[m],accuracy:h[m]===0?0:p[m]/h[m]});return g})})}return Cf.perClassAccuracy=a,Cf}var ED={},Yj="http://www.w3.org/1999/xhtml";const Xj={svg:"http://www.w3.org/2000/svg",xhtml:Yj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pte(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xj.hasOwnProperty(t)?{space:Xj[t],local:e}:e}function inn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Yj&&t.documentElement.namespaceURI===Yj?t.createElement(e):t.createElementNS(n,e)}}function ann(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function o5(e){var t=Pte(e);return(t.local?ann:inn)(t)}function lnn(){}function Lte(e){return e==null?lnn:function(){return this.querySelector(e)}}function unn(e){typeof e!="function"&&(e=Lte(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),l,u,c=0;c<i;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ba(r,this._parents)}function cnn(){return[]}function j4e(e){return e==null?cnn:function(){return this.querySelectorAll(e)}}function fnn(e){typeof e!="function"&&(e=j4e(e));for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(r.push(e.call(l,l.__data__,u,i)),s.push(l));return new Ba(r,s)}var H4e=function(e){return function(){return this.matches(e)}};if(typeof document<"u"){var HS=document.documentElement;if(!HS.matches){var dnn=HS.webkitMatchesSelector||HS.msMatchesSelector||HS.mozMatchesSelector||HS.oMatchesSelector;H4e=function(e){return function(){return dnn.call(this,e)}}}}const q4e=H4e;function hnn(e){typeof e!="function"&&(e=q4e(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,u=0;u<i;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Ba(r,this._parents)}function G4e(e){return new Array(e.length)}function pnn(){return new Ba(this._enter||this._groups.map(G4e),this._parents)}function JF(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}JF.prototype={constructor:JF,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gnn(e){return function(){return e}}var Hpe="$";function mnn(e,t,n,r,s,o){for(var i=0,a,l=t.length,u=o.length;i<u;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new JF(e,o[i]);for(;i<l;++i)(a=t[i])&&(s[i]=a)}function vnn(e,t,n,r,s,o,i){var a,l,u={},c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=Hpe+i.call(l,l.__data__,a,t),h in u?s[a]=l:u[h]=l);for(a=0;a<f;++a)h=Hpe+i.call(e,o[a],a,o),(l=u[h])?(r[a]=l,l.__data__=o[a],u[h]=null):n[a]=new JF(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u[d[a]]===l&&(s[a]=l)}function ynn(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(S){h[++u]=S}),h;var n=t?vnn:mnn,r=this._parents,s=this._groups;typeof e!="function"&&(e=gnn(e));for(var o=s.length,i=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=s[u],d=f.length,h=e.call(c,c&&c.__data__,u,r),p=h.length,g=a[u]=new Array(p),m=i[u]=new Array(p),v=l[u]=new Array(d);n(c,f,g,m,v,h,t);for(var y=0,w=0,b,C;y<p;++y)if(b=g[y]){for(y>=w&&(w=y+1);!(C=m[w])&&++w<p;);b._next=C||null}}return i=new Ba(i,r),i._enter=a,i._exit=l,i}function bnn(){return new Ba(this._exit||this._groups.map(G4e),this._parents)}function wnn(e){for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=i[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)i[a]=t[a];return new Ba(i,this._parents)}function xnn(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this}function Cnn(e){e||(e=Snn);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,l=s[o]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Ba(s,this._parents).order()}function Snn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $nn(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function knn(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function Enn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function _nn(){var e=0;return this.each(function(){++e}),e}function Tnn(){return!this.node()}function Ann(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function Inn(e){return function(){this.removeAttribute(e)}}function Nnn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dnn(e,t){return function(){this.setAttribute(e,t)}}function Onn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Rnn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Fnn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Mnn(e,t){var n=Pte(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Nnn:Inn:typeof t=="function"?n.local?Fnn:Rnn:n.local?Onn:Dnn)(n,t))}function Bte(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pnn(e){return function(){this.style.removeProperty(e)}}function Lnn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bnn(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function znn(e,t,n){return arguments.length>1?this.each((t==null?Pnn:typeof t=="function"?Bnn:Lnn)(e,t,n??"")):K4e(this.node(),e)}function K4e(e,t){return e.style.getPropertyValue(t)||Bte(e).getComputedStyle(e,null).getPropertyValue(t)}function Vnn(e){return function(){delete this[e]}}function Wnn(e,t){return function(){this[e]=t}}function Unn(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jnn(e,t){return arguments.length>1?this.each((t==null?Vnn:typeof t=="function"?Unn:Wnn)(e,t)):this.node()[e]}function Y4e(e){return e.trim().split(/^|\s+/)}function zte(e){return e.classList||new X4e(e)}function X4e(e){this._node=e,this._names=Y4e(e.getAttribute("class")||"")}X4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Z4e(e,t){for(var n=zte(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function J4e(e,t){for(var n=zte(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Hnn(e){return function(){Z4e(this,e)}}function qnn(e){return function(){J4e(this,e)}}function Gnn(e,t){return function(){(t.apply(this,arguments)?Z4e:J4e)(this,e)}}function Knn(e,t){var n=Y4e(e+"");if(arguments.length<2){for(var r=zte(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Gnn:t?Hnn:qnn)(n,t))}function Ynn(){this.textContent=""}function Xnn(e){return function(){this.textContent=e}}function Znn(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Jnn(e){return arguments.length?this.each(e==null?Ynn:(typeof e=="function"?Znn:Xnn)(e)):this.node().textContent}function Qnn(){this.innerHTML=""}function ern(e){return function(){this.innerHTML=e}}function trn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nrn(e){return arguments.length?this.each(e==null?Qnn:(typeof e=="function"?trn:ern)(e)):this.node().innerHTML}function rrn(){this.nextSibling&&this.parentNode.appendChild(this)}function srn(){return this.each(rrn)}function orn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function irn(){return this.each(orn)}function arn(e){var t=typeof e=="function"?e:o5(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lrn(){return null}function urn(e,t){var n=typeof e=="function"?e:o5(e),r=t==null?lrn:typeof t=="function"?t:Lte(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function crn(){var e=this.parentNode;e&&e.removeChild(this)}function frn(){return this.each(crn)}function drn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function hrn(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function prn(e){return this.select(e?hrn:drn)}function grn(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Q4e={},Bh=null;if(typeof document<"u"){var mrn=document.documentElement;"onmouseenter"in mrn||(Q4e={mouseenter:"mouseover",mouseleave:"mouseout"})}function vrn(e,t,n){return e=ePe(e,t,n),function(r){var s=r.relatedTarget;(!s||s!==this&&!(s.compareDocumentPosition(this)&8))&&e.call(this,r)}}function ePe(e,t,n){return function(r){var s=Bh;Bh=r;try{e.call(this,this.__data__,t,n)}finally{Bh=s}}}function yrn(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function brn(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++r]=o;++r?t.length=r:delete this.__on}}}function wrn(e,t,n){var r=Q4e.hasOwnProperty(e.type)?vrn:ePe;return function(s,o,i){var a=this.__on,l,u=r(t,o,i);if(a){for(var c=0,f=a.length;c<f;++c)if((l=a[c]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),l.value=t;return}}this.addEventListener(e.type,u,n),l={type:e.type,name:e.name,value:t,listener:u,capture:n},a?a.push(l):this.__on=[l]}}function xrn(e,t,n){var r=yrn(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(s=0,c=a[l];s<o;++s)if((i=r[s]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?wrn:brn,n==null&&(n=!1),s=0;s<o;++s)this.each(a(r[s],t,n));return this}function Crn(e,t,n,r){var s=Bh;e.sourceEvent=Bh,Bh=e;try{return t.apply(n,r)}finally{Bh=s}}function tPe(e,t,n){var r=Bte(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Srn(e,t){return function(){return tPe(this,e,t)}}function $rn(e,t){return function(){return tPe(this,e,t.apply(this,arguments))}}function krn(e,t){return this.each((typeof t=="function"?$rn:Srn)(e,t))}var Vte=[null];function Ba(e,t){this._groups=e,this._parents=t}function nPe(){return new Ba([[document.documentElement]],Vte)}Ba.prototype=nPe.prototype={constructor:Ba,select:unn,selectAll:fnn,filter:hnn,data:ynn,enter:pnn,exit:bnn,merge:wnn,order:xnn,sort:Cnn,call:$nn,nodes:knn,node:Enn,size:_nn,empty:Tnn,each:Ann,attr:Mnn,style:znn,property:jnn,classed:Knn,text:Jnn,html:nrn,raise:srn,lower:irn,append:arn,insert:urn,remove:frn,clone:prn,datum:grn,on:xrn,dispatch:krn};function rPe(e){return typeof e=="string"?new Ba([[document.querySelector(e)]],[document.documentElement]):new Ba([[e]],Vte)}function Ern(e){return rPe(o5(e).call(document.documentElement))}var _rn=0;function sPe(){return new Zj}function Zj(){this._="@"+(++_rn).toString(36)}Zj.prototype=sPe.prototype={constructor:Zj,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Wte(){for(var e=Bh,t;t=e.sourceEvent;)e=t;return e}function i5(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Trn(e){var t=Wte();return t.changedTouches&&(t=t.changedTouches[0]),i5(e,t)}function Arn(e){return typeof e=="string"?new Ba([document.querySelectorAll(e)],[document.documentElement]):new Ba([e??[]],Vte)}function Irn(e,t,n){arguments.length<3&&(n=t,t=Wte().changedTouches);for(var r=0,s=t?t.length:0,o;r<s;++r)if((o=t[r]).identifier===n)return i5(e,o);return null}function Nrn(e,t){t==null&&(t=Wte().touches);for(var n=0,r=t?t.length:0,s=new Array(r);n<r;++n)s[n]=i5(e,t[n]);return s}const Drn=Object.freeze(Object.defineProperty({__proto__:null,clientPoint:i5,create:Ern,creator:o5,customEvent:Crn,get event(){return Bh},local:sPe,matcher:q4e,mouse:Trn,namespace:Pte,namespaces:Xj,select:rPe,selectAll:Arn,selection:nPe,selector:Lte,selectorAll:j4e,style:K4e,touch:Irn,touches:Nrn,window:Bte},Symbol.toStringTag,{value:"Module"})),Orn=ly(Drn);var qpe;function a5(){if(qpe)return ED;qpe=1;Object.defineProperty(ED,"__esModule",{value:!0});const e=U4e,t=Orn,n=fI(),r=ff();function s(i,a,l={}){if(a&&a.headers==null)throw new Error('Data to render must have a "headers" property');if(a&&a.values==null)throw new Error('Data to render must have a "values" property');const u=r.getDrawArea(i),c=Object.assign({},o,l);let f=t.select(u).select("table.tf-table");const d=n.css({fontSize:c.fontSize||".875rem",width:"100%",maxWidth:"64rem",marginRight:"auto",marginLeft:"auto"});if(f.size()===0&&(f=t.select(u).append("table"),f.attr("class",` ${d} tf-table`),f.append("thead").append("tr"),f.append("tbody")),f.size()!==1)throw new Error("Error inserting table");const h=n.css({fontWeight:"600",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )",textAlign:"left",paddingBottom:"1rem",paddingRight:"1rem",backgroundColor:"#fff"}),p=f.select("thead").select("tr").selectAll("th").data(a.headers),g=p.enter().append("th").attr("class",`${h}`);p.merge(g).html(S=>S),p.exit().remove();const m=e.format(",.4~f"),v=f.select("tbody").selectAll("tr").data(a.values),y=v.enter().append("tr"),w=n.css({padding:"0.25rem",borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"rgba( 0, 0, 0, .2 )"}),b=v.merge(y).selectAll("td").data(S=>S),C=b.enter().append("td").attr("class",`${w}`);b.merge(C).html(S=>typeof S=="number"?m(S):S),b.exit().remove(),v.exit().remove()}ED.table=s;const o={fontSize:14};return ED}var Gpe;function Ute(){if(Gpe)return ng;Gpe=1;var e=ng&&ng.__awaiter||function(f,d,h,p){return new(h||(h=Promise))(function(g,m){function v(b){try{w(p.next(b))}catch(C){m(C)}}function y(b){try{w(p.throw(b))}catch(C){m(C)}}function w(b){b.done?g(b.value):new h(function(C){C(b.value)}).then(v,y)}w((p=p.apply(f,d||[])).next())})},t=ng&&ng.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ng,"__esModule",{value:!0});const n=U4e,r=t(WC),s=N0(),o=s5(),i=a5(),a={maxBins:12,fontSize:11};function l(f,d,h={}){return e(this,void 0,void 0,function*(){const p=c(d),g=Object.assign({},a,h),m={actions:!1,mode:"vega-lite",defaultStyle:!1},v=s.subSurface(f,"histogram");if(h.stats!==!1){const b=s.subSurface(f,"stats",{prepend:!0});let C;h.stats?C=h.stats:C=o.arrayStats(p.map(S=>S.value)),u(C,b,{fontSize:g.fontSize})}if(p.length===0)return;const y=[];for(let b=0;b<p.length;b++){const C=p[b].value;C!=null&&isFinite(C)&&y.push(p[b])}const w={width:g.width||s.getDefaultWidth(v),height:g.height||s.getDefaultHeight(v),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:y},mark:{type:"bar",tooltip:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},encoding:{x:{bin:{maxbins:g.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:g.color||"#001B44"}}};return r.default(v,w,m)})}ng.histogram=l;function u(f,d,h){const p=n.format(",.4~f"),g=n.format(".4~p"),m=[],v=[];if(f.numVals!=null&&(m.push("Num Vals"),v.push(p(f.numVals))),f.min!=null&&(m.push("Min"),v.push(p(f.min))),f.max!=null&&(m.push("Max"),v.push(p(f.max))),f.numZeros!=null){m.push("# Zeros");let y="";f.numVals&&(y=f.numZeros>0?`(${g(f.numZeros/f.numVals)})`:""),v.push(`${p(f.numZeros)} ${y}`)}if(f.numNans!=null){m.push("# NaNs");let y="";f.numVals&&(y=f.numNans>0?`(${g(f.numNans/f.numVals)})`:""),v.push(`${p(f.numNans)} ${y}`)}if(f.numInfs!=null){m.push("# Infinity");let y="";f.numVals&&(y=f.numInfs>0?`(${g(f.numInfs/f.numVals)})`:""),v.push(`${p(f.numInfs)} ${y}`)}i.table(d,{headers:m,values:[v]},h)}function c(f){if(f.length==null)throw new Error("input data must be an array");if(f.length===0)return[];if(typeof f[0]=="object"){if(f[0].value==null)throw new Error("input data must have a value field");return f}else{const d=Array(f.length);for(let h=0;h<f.length;h++)d[h]={value:f[h]};return d}}return ng}var rg={},Kpe;function oPe(){if(Kpe)return rg;Kpe=1;var e=rg&&rg.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=rg&&rg.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(rg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=r5(),o=ff();function i(l,u,c={}){return e(this,void 0,void 0,function*(){const f=Array.isArray(u.values[0])?u.values:[u.values],d=f[0].length,h=u.series?u.series:f.map(($,k)=>`Series ${k+1}`);s.assert(h.length===f.length,"Must have an equal number of series labels as there are data series"),c.seriesColors!=null&&s.assert(c.seriesColors.length===f.length,"Must have an equal number of series colors as there are data series");const p=[];for(let $=0;$<d;$++){const k={x:$};h.forEach((T,_)=>{const E=f[_][$].y;k[T]=E,k[`${T}-name`]=T}),p.push(k)}const g=Object.assign({},a,c),m=()=>{if(g.zoomToFit)return{zero:!1};if(g.yAxisDomain!=null)return{domain:g.yAxisDomain}},v={x:{field:"x",type:g.xType,title:g.xLabel},tooltip:[{field:"x",type:"quantitative"},...h.map($=>({field:$,type:"quantitative"}))]},y=h.map($=>({data:void 0,mark:{type:"line",clip:!0},encoding:{y:{field:$,type:g.yType,title:g.yLabel,scale:m()},color:{field:`${$}-name`,type:"nominal",legend:{values:h,title:null},scale:{range:g.seriesColors}}}})),w={mark:"rule",selection:{hover:{type:"single",on:"mouseover",nearest:!0,clear:"mouseout"}},encoding:{color:{value:"grey",condition:{selection:{not:"hover"},value:"transparent"}}}},b=o.getDrawArea(l),C={width:g.width||r.getDefaultWidth(b),height:g.height||r.getDefaultHeight(b),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:p},encoding:v,layer:[...y,w]},S={actions:!1,mode:"vega-lite",defaultStyle:!1};return yield n.default(b,C,S),Promise.resolve()})}rg.linechart=i;const a={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};return rg}var sg={},Ype;function Rrn(){if(Ype)return sg;Ype=1;var e=sg&&sg.__awaiter||function(l,u,c,f){return new(c||(c=Promise))(function(d,h){function p(v){try{m(f.next(v))}catch(y){h(y)}}function g(v){try{m(f.throw(v))}catch(y){h(y)}}function m(v){v.done?d(v.value):new c(function(y){y(v.value)}).then(p,g)}m((f=f.apply(l,u||[])).next())})},t=sg&&sg.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(sg,"__esModule",{value:!0});const n=t(WC),r=N0(),s=r5(),o=ff();function i(l,u,c={}){return e(this,void 0,void 0,function*(){let f=u.values;const d=u.series==null?[]:u.series;f=Array.isArray(f[0])?f:[f];const h=[];f.forEach((b,C)=>{const S=d[C]!=null?d[C]:`Series ${C+1}`,$=b.map(k=>Object.assign({},k,{series:S}));h.push(...$)}),c.seriesColors!=null&&s.assert(c.seriesColors.length===f.length,"Must have an equal number of series colors as there are data series");const p=o.getDrawArea(l),g=Object.assign({},a,c),m={actions:!1,mode:"vega-lite",defaultStyle:!1},v=()=>{if(g.zoomToFit)return{zero:!1};if(g.xAxisDomain!=null)return{domain:g.xAxisDomain}},y=()=>{if(g.zoomToFit)return{zero:!1};if(g.yAxisDomain!=null)return{domain:g.yAxisDomain}},w={width:g.width||r.getDefaultWidth(p),height:g.height||r.getDefaultHeight(p),padding:0,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:g.fontSize,titleFontSize:g.fontSize},text:{fontSize:g.fontSize},legend:{labelFontSize:g.fontSize,titleFontSize:g.fontSize}},data:{values:h},mark:{type:"point",clip:!0,tooltip:{content:"data"}},encoding:{x:{field:"x",type:g.xType,title:g.xLabel,scale:v()},y:{field:"y",type:g.yType,title:g.yLabel,scale:y()},color:{field:"series",type:"nominal",scale:{range:g.seriesColors}},shape:{field:"series",type:"nominal"}}};return yield n.default(p,w,m),Promise.resolve()})}sg.scatterplot=i;const a={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11};return sg}var Q0={},Xpe;function Frn(){if(Xpe)return Q0;Xpe=1;var e=Q0&&Q0.__awaiter||function(u,c,f,d){return new(f||(f=Promise))(function(h,p){function g(y){try{v(d.next(y))}catch(w){p(w)}}function m(y){try{v(d.throw(y))}catch(w){p(w)}}function v(y){y.done?h(y.value):new f(function(w){w(y.value)}).then(g,m)}v((d=d.apply(u,c||[])).next())})};Object.defineProperty(Q0,"__esModule",{value:!0});const t=oPe(),n=ff(),r=N0();function s(u,c,f,d={}){return e(this,void 0,void 0,function*(){const h=n.getDrawArea(u),p={};for(const y of f)if(/val_/.test(y)){const w=y.replace("val_","");o(p,w);const b=i(c,y,f.indexOf(y));p[w].series.push(y),p[w].values.push(b)}else{const w=i(c,y,f.indexOf(y));o(p,y),p[y].series.push(y),p[y].values.push(w)}const g=Object.keys(p),m=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},d),v=[];for(const y of g){const w=r.subSurface(h,y),b=p[y].series,C=p[y].values;b.every($=>!!$.match("acc"))&&(m.zoomToFitAccuracy?m.zoomToFit=!0:(m.yAxisDomain=[0,1],delete m.zoomToFit));const S=t.linechart(w,{values:C,series:b},m);v.push(S)}yield Promise.all(v)})}Q0.history=s;function o(u,c){u[c]==null&&(u[c]={series:[],values:[]})}function i(u,c,f){if(Array.isArray(u)){const d=Array.isArray(u[0])?u[f]:u,h=[];for(let p=0;p<d.length;p++){const g=d[p];h.push({x:p,y:g[c]})}return h}else return u.history[c].map((d,h)=>({x:h,y:d}))}function a(u,c,f={}){const d={},h=f.callbacks||["onEpochEnd","onBatchEnd"],p=n.getDrawArea(u),g=Object.assign({},f);delete g.callbacks;function m(y){return(w,b)=>e(this,void 0,void 0,function*(){/batch/i.test(y)?g.xLabel="Batch":/epoch/i.test(y)&&(g.xLabel="Epoch");const C=[],S=[];for(const k of c)if(b[k]!=null){S.push(k);const T=l(d,y,k);T.push({[k]:b[k]}),C.push(T)}const $=r.subSurface(p,y,{title:y});s($,C,S,g),yield n.nextFrame()})}const v={};return h.forEach(y=>{v[y]=m(y)}),v}Q0.fitCallbacks=a;function l(u,c,f){return u[c]==null&&(u[c]={}),u[c][f]==null&&(u[c][f]=[]),u[c][f]}return Q0}var ev={},Zpe;function Mrn(){if(Zpe)return ev;Zpe=1;var e=ev&&ev.__awaiter||function(h,p,g,m){return new(g||(g=Promise))(function(v,y){function w(S){try{C(m.next(S))}catch($){y($)}}function b(S){try{C(m.throw(S))}catch($){y($)}}function C(S){S.done?v(S.value):new g(function($){$(S.value)}).then(w,b)}C((m=m.apply(h,p||[])).next())})};Object.defineProperty(ev,"__esModule",{value:!0});const t=Ute(),n=ff(),r=a5(),s=N0(),o=s5();function i(h,p){return e(this,void 0,void 0,function*(){const g=n.getDrawArea(h),m=l(p),v=["Layer Name","Output Shape","# Of Params","Trainable"],y=m.layers.map(w=>[w.name,w.outputShape,w.parameters,w.trainable]);r.table(g,{headers:v,values:y})})}ev.modelSummary=i;function a(h,p){return e(this,void 0,void 0,function*(){const g=n.getDrawArea(h),m=yield c(p),v=["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],y=s.subSurface(g,"layer-weights-info"),w=m.map($=>[$.name,$.shape,$.stats.min,$.stats.max,$.weight.size,$.stats.numZeros,$.stats.numNans,$.stats.numInfs]);r.table(y,{headers:v,values:w});const b=s.subSurface(g,"select-layer"),C=s.subSurface(g,"param-distribution"),S=$=>e(this,void 0,void 0,function*(){const T=yield m.filter(_=>_.name===$)[0].weight.data();t.histogram(C,T,{height:150,width:460,stats:!1})});d(m.map($=>$.name),b,S)})}ev.layer=a;function l(h){return{layers:h.layers.map(u)}}function u(h){let p;return Array.isArray(h.outputShape[0])?p=`[${h.outputShape.map(m=>f(m)).join(", ")}]`:p=f(h.outputShape),{name:h.name,trainable:h.trainable,parameters:h.countParams(),outputShape:p}}function c(h){return e(this,void 0,void 0,function*(){const p=h.getWeights(),g=h.weights,m=p.map(o.tensorStats),v=yield Promise.all(m),y=p.map(w=>w.shape);return p.map((w,b)=>({name:g[b].name,stats:v[b],shape:f(y[b]),weight:w}))})}function f(h){const p=h.slice();return p.length===0?"Scalar":(p[0]===null&&(p[0]="batch"),`[${p.join(",")}]`)}function d(h,p,g){const y=`<div><button>Show Values Distribution for:</button>${`
    <select>
      ${h.map(C=>`<option value=${C}>${C}</option>`)}
    </select>
  `}</div>`;p.innerHTML=y;const w=p.querySelector("button"),b=p.querySelector("select");w.addEventListener("click",()=>{g(b.selectedOptions[0].label)})}return ev}var _b={},Jpe;function Prn(){if(Jpe)return _b;Jpe=1;var e=_b&&_b.__awaiter||function(s,o,i,a){return new(i||(i=Promise))(function(l,u){function c(h){try{d(a.next(h))}catch(p){u(p)}}function f(h){try{d(a.throw(h))}catch(p){u(p)}}function d(h){h.done?l(h.value):new i(function(p){p(h.value)}).then(c,f)}d((a=a.apply(s,o||[])).next())})};Object.defineProperty(_b,"__esModule",{value:!0});const t=ff(),n=a5();function r(s,o,i){return e(this,void 0,void 0,function*(){const a=t.getDrawArea(s),l=["Class","Accuracy","# Samples"],u=[];for(let c=0;c<o.length;c++){const f=i?i[c]:c.toString(),d=o[c];u.push([f,d.accuracy,d.count])}return n.table(a,{headers:l,values:u})})}return _b.perClassAccuracy=r,_b}var Tb={},Qpe;function Lrn(){if(Qpe)return Tb;Qpe=1;var e=Tb&&Tb.__awaiter||function(o,i,a,l){return new(a||(a=Promise))(function(u,c){function f(p){try{h(l.next(p))}catch(g){c(g)}}function d(p){try{h(l.throw(p))}catch(g){c(g)}}function h(p){p.done?u(p.value):new a(function(g){g(p.value)}).then(f,d)}h((l=l.apply(o,i||[])).next())})};Object.defineProperty(Tb,"__esModule",{value:!0});const t=Ute(),n=ff(),r=s5();function s(o,i){return e(this,void 0,void 0,function*(){const a=n.getDrawArea(o),l=yield r.tensorStats(i),u=yield i.data();t.histogram(a,u,{height:150,stats:l})})}return Tb.valuesDistribution=s,Tb}var _D={},ege;function Brn(){if(ege)return _D;ege=1;Object.defineProperty(_D,"__esModule",{value:!0});const e="1.5.1";return _D.version=e,_D}var tge;function zrn(){return tge||(tge=1,(function(e){function t(w){for(var b in w)e.hasOwnProperty(b)||(e[b]=w[b])}Object.defineProperty(e,"__esModule",{value:!0});const n=rnn(),r=snn(),s=onn(),o=Ute(),i=oPe(),a=Rrn(),l=a5(),u=Frn(),c=Mrn(),f=Prn(),d=Lrn(),h=s5(),p=Brn();e.version_vis=p.version;const g={barchart:n.barchart,table:l.table,histogram:o.histogram,linechart:i.linechart,scatterplot:a.scatterplot,confusionMatrix:r.confusionMatrix,heatmap:s.heatmap};e.render=g;const m={accuracy:h.accuracy,perClassAccuracy:h.perClassAccuracy,confusionMatrix:h.confusionMatrix};e.metrics=m;const v={history:u.history,fitCallbacks:u.fitCallbacks,perClassAccuracy:f.perClassAccuracy,valuesDistribution:d.valuesDistribution,layer:c.layer,modelSummary:c.modelSummary};e.show=v;var y=W4e();e.visor=y.visor,t(I4e())})(m8)),m8}var Vrn=zrn();const Wrn="2.13.0",nge=Symbol("INSTALLED_KEY"),iPe=Symbol(),fk="el",Urn="is-",tv=(e,t,n,r,s)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},aPe=Symbol("namespaceContextKey"),jte=e=>{const t=e||(Ut()?tt(aPe,j(fk)):j(fk));return O(()=>x(t)||fk)},Ae=(e,t)=>{const n=jte(t);return{namespace:n,b:(g="")=>tv(n.value,e,g,"",""),e:g=>g?tv(n.value,e,"",g,""):"",m:g=>g?tv(n.value,e,"","",g):"",be:(g,m)=>g&&m?tv(n.value,e,g,m,""):"",em:(g,m)=>g&&m?tv(n.value,e,"",g,m):"",bm:(g,m)=>g&&m?tv(n.value,e,g,"",m):"",bem:(g,m,v)=>g&&m&&v?tv(n.value,e,g,m,v):"",is:(g,...m)=>{const v=m.length>=1?m[0]:!0;return g&&v?`${Urn}${g}`:""},cssVar:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${v}`]=g[v]);return m},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${e}-${v}`]=g[v]);return m},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}};var lPe=typeof global=="object"&&global&&global.Object===Object&&global,jrn=typeof self=="object"&&self&&self.Object===Object&&self,df=lPe||jrn||Function("return this")(),ju=df.Symbol,uPe=Object.prototype,Hrn=uPe.hasOwnProperty,qrn=uPe.toString,qS=ju?ju.toStringTag:void 0;function Grn(e){var t=Hrn.call(e,qS),n=e[qS];try{e[qS]=void 0;var r=!0}catch{}var s=qrn.call(e);return r&&(t?e[qS]=n:delete e[qS]),s}var Krn=Object.prototype,Yrn=Krn.toString;function Xrn(e){return Yrn.call(e)}var Zrn="[object Null]",Jrn="[object Undefined]",rge=ju?ju.toStringTag:void 0;function eb(e){return e==null?e===void 0?Jrn:Zrn:rge&&rge in Object(e)?Grn(e):Xrn(e)}function kd(e){return e!=null&&typeof e=="object"}var Qrn="[object Symbol]";function l5(e){return typeof e=="symbol"||kd(e)&&eb(e)==Qrn}function Hte(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var za=Array.isArray,sge=ju?ju.prototype:void 0,oge=sge?sge.toString:void 0;function cPe(e){if(typeof e=="string")return e;if(za(e))return Hte(e,cPe)+"";if(l5(e))return oge?oge.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var esn=/\s/;function tsn(e){for(var t=e.length;t--&&esn.test(e.charAt(t)););return t}var nsn=/^\s+/;function rsn(e){return e&&e.slice(0,tsn(e)+1).replace(nsn,"")}function Va(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ige=NaN,ssn=/^[-+]0x[0-9a-f]+$/i,osn=/^0b[01]+$/i,isn=/^0o[0-7]+$/i,asn=parseInt;function dk(e){if(typeof e=="number")return e;if(l5(e))return ige;if(Va(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Va(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rsn(e);var n=osn.test(e);return n||isn.test(e)?asn(e.slice(2),n?2:8):ssn.test(e)?ige:+e}function qte(e){return e}var lsn="[object AsyncFunction]",usn="[object Function]",csn="[object GeneratorFunction]",fsn="[object Proxy]";function Gte(e){if(!Va(e))return!1;var t=eb(e);return t==usn||t==csn||t==lsn||t==fsn}var $7=df["__core-js_shared__"],age=(function(){var e=/[^.]+$/.exec($7&&$7.keys&&$7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function dsn(e){return!!age&&age in e}var hsn=Function.prototype,psn=hsn.toString;function tb(e){if(e!=null){try{return psn.call(e)}catch{}try{return e+""}catch{}}return""}var gsn=/[\\^$.*+?()[\]{}|]/g,msn=/^\[object .+?Constructor\]$/,vsn=Function.prototype,ysn=Object.prototype,bsn=vsn.toString,wsn=ysn.hasOwnProperty,xsn=RegExp("^"+bsn.call(wsn).replace(gsn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Csn(e){if(!Va(e)||dsn(e))return!1;var t=Gte(e)?xsn:msn;return t.test(tb(e))}function Ssn(e,t){return e?.[t]}function nb(e,t){var n=Ssn(e,t);return Csn(n)?n:void 0}var Jj=nb(df,"WeakMap"),lge=Object.create,$sn=(function(){function e(){}return function(t){if(!Va(t))return{};if(lge)return lge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function ksn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Esn(){}function fPe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _sn=800,Tsn=16,Asn=Date.now;function Isn(e){var t=0,n=0;return function(){var r=Asn(),s=Tsn-(r-n);if(n=r,s>0){if(++t>=_sn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Nsn(e){return function(){return e}}var QF=(function(){try{var e=nb(Object,"defineProperty");return e({},"",{}),e}catch{}})(),Dsn=QF?function(e,t){return QF(e,"toString",{configurable:!0,enumerable:!1,value:Nsn(t),writable:!0})}:qte,dPe=Isn(Dsn);function Osn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function hPe(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}function Rsn(e){return e!==e}function Fsn(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function Msn(e,t,n){return t===t?Fsn(e,t,n):hPe(e,Rsn,n)}function Psn(e,t){var n=e==null?0:e.length;return!!n&&Msn(e,t,0)>-1}var Lsn=9007199254740991,Bsn=/^(?:0|[1-9]\d*)$/;function u5(e,t){var n=typeof e;return t=t??Lsn,!!t&&(n=="number"||n!="symbol"&&Bsn.test(e))&&e>-1&&e%1==0&&e<t}function Kte(e,t,n){t=="__proto__"&&QF?QF(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function dI(e,t){return e===t||e!==e&&t!==t}var zsn=Object.prototype,Vsn=zsn.hasOwnProperty;function Yte(e,t,n){var r=e[t];(!(Vsn.call(e,t)&&dI(r,n))||n===void 0&&!(t in e))&&Kte(e,t,n)}function UC(e,t,n,r){var s=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),s?Kte(n,a,l):Yte(n,a,l)}return n}var uge=Math.max;function pPe(e,t,n){return t=uge(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=uge(r.length-t,0),i=Array(o);++s<o;)i[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(i),ksn(e,this,a)}}function gPe(e,t){return dPe(pPe(e,t,qte),e+"")}var Wsn=9007199254740991;function Xte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wsn}function jC(e){return e!=null&&Xte(e.length)&&!Gte(e)}function Usn(e,t,n){if(!Va(n))return!1;var r=typeof t;return(r=="number"?jC(n)&&u5(t,n.length):r=="string"&&t in n)?dI(n[t],e):!1}function jsn(e){return gPe(function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):void 0,i&&Usn(n[0],n[1],i)&&(o=s<3?void 0:o,s=1),t=Object(t);++r<s;){var a=n[r];a&&e(t,a,r,o)}return t})}var Hsn=Object.prototype;function Zte(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Hsn;return e===n}function qsn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Gsn="[object Arguments]";function cge(e){return kd(e)&&eb(e)==Gsn}var mPe=Object.prototype,Ksn=mPe.hasOwnProperty,Ysn=mPe.propertyIsEnumerable,n_=cge((function(){return arguments})())?cge:function(e){return kd(e)&&Ksn.call(e,"callee")&&!Ysn.call(e,"callee")};function Xsn(){return!1}var vPe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,fge=vPe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,Zsn=fge&&fge.exports===vPe,dge=Zsn?df.Buffer:void 0,Jsn=dge?dge.isBuffer:void 0,r_=Jsn||Xsn,Qsn="[object Arguments]",eon="[object Array]",ton="[object Boolean]",non="[object Date]",ron="[object Error]",son="[object Function]",oon="[object Map]",ion="[object Number]",aon="[object Object]",lon="[object RegExp]",uon="[object Set]",con="[object String]",fon="[object WeakMap]",don="[object ArrayBuffer]",hon="[object DataView]",pon="[object Float32Array]",gon="[object Float64Array]",mon="[object Int8Array]",von="[object Int16Array]",yon="[object Int32Array]",bon="[object Uint8Array]",won="[object Uint8ClampedArray]",xon="[object Uint16Array]",Con="[object Uint32Array]",cs={};cs[pon]=cs[gon]=cs[mon]=cs[von]=cs[yon]=cs[bon]=cs[won]=cs[xon]=cs[Con]=!0;cs[Qsn]=cs[eon]=cs[don]=cs[ton]=cs[hon]=cs[non]=cs[ron]=cs[son]=cs[oon]=cs[ion]=cs[aon]=cs[lon]=cs[uon]=cs[con]=cs[fon]=!1;function Son(e){return kd(e)&&Xte(e.length)&&!!cs[eb(e)]}function Jte(e){return function(t){return e(t)}}var yPe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,hk=yPe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,$on=hk&&hk.exports===yPe,k7=$on&&lPe.process,Ox=(function(){try{var e=hk&&hk.require&&hk.require("util").types;return e||k7&&k7.binding&&k7.binding("util")}catch{}})(),hge=Ox&&Ox.isTypedArray,Qte=hge?Jte(hge):Son,kon=Object.prototype,Eon=kon.hasOwnProperty;function bPe(e,t){var n=za(e),r=!n&&n_(e),s=!n&&!r&&r_(e),o=!n&&!r&&!s&&Qte(e),i=n||r||s||o,a=i?qsn(e.length,String):[],l=a.length;for(var u in e)(t||Eon.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||u5(u,l)))&&a.push(u);return a}function wPe(e,t){return function(n){return e(t(n))}}var _on=wPe(Object.keys,Object),Ton=Object.prototype,Aon=Ton.hasOwnProperty;function Ion(e){if(!Zte(e))return _on(e);var t=[];for(var n in Object(e))Aon.call(e,n)&&n!="constructor"&&t.push(n);return t}function hI(e){return jC(e)?bPe(e):Ion(e)}function Non(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Don=Object.prototype,Oon=Don.hasOwnProperty;function Ron(e){if(!Va(e))return Non(e);var t=Zte(e),n=[];for(var r in e)r=="constructor"&&(t||!Oon.call(e,r))||n.push(r);return n}function pI(e){return jC(e)?bPe(e,!0):Ron(e)}var Fon=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mon=/^\w*$/;function ene(e,t){if(za(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||l5(e)?!0:Mon.test(e)||!Fon.test(e)||t!=null&&e in Object(t)}var s_=nb(Object,"create");function Pon(){this.__data__=s_?s_(null):{},this.size=0}function Lon(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Bon="__lodash_hash_undefined__",zon=Object.prototype,Von=zon.hasOwnProperty;function Won(e){var t=this.__data__;if(s_){var n=t[e];return n===Bon?void 0:n}return Von.call(t,e)?t[e]:void 0}var Uon=Object.prototype,jon=Uon.hasOwnProperty;function Hon(e){var t=this.__data__;return s_?t[e]!==void 0:jon.call(t,e)}var qon="__lodash_hash_undefined__";function Gon(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=s_&&t===void 0?qon:t,this}function J1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}J1.prototype.clear=Pon;J1.prototype.delete=Lon;J1.prototype.get=Won;J1.prototype.has=Hon;J1.prototype.set=Gon;function Kon(){this.__data__=[],this.size=0}function c5(e,t){for(var n=e.length;n--;)if(dI(e[n][0],t))return n;return-1}var Yon=Array.prototype,Xon=Yon.splice;function Zon(e){var t=this.__data__,n=c5(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Xon.call(t,n,1),--this.size,!0}function Jon(e){var t=this.__data__,n=c5(t,e);return n<0?void 0:t[n][1]}function Qon(e){return c5(this.__data__,e)>-1}function ein(e,t){var n=this.__data__,r=c5(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wp.prototype.clear=Kon;Wp.prototype.delete=Zon;Wp.prototype.get=Jon;Wp.prototype.has=Qon;Wp.prototype.set=ein;var o_=nb(df,"Map");function tin(){this.size=0,this.__data__={hash:new J1,map:new(o_||Wp),string:new J1}}function nin(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function f5(e,t){var n=e.__data__;return nin(t)?n[typeof t=="string"?"string":"hash"]:n.map}function rin(e){var t=f5(this,e).delete(e);return this.size-=t?1:0,t}function sin(e){return f5(this,e).get(e)}function oin(e){return f5(this,e).has(e)}function iin(e,t){var n=f5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Up(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Up.prototype.clear=tin;Up.prototype.delete=rin;Up.prototype.get=sin;Up.prototype.has=oin;Up.prototype.set=iin;var ain="Expected a function";function d5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ain);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=e.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(d5.Cache||Up),n}d5.Cache=Up;var lin=500;function uin(e){var t=d5(e,function(r){return n.size===lin&&n.clear(),r}),n=t.cache;return t}var cin=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fin=/\\(\\)?/g,din=uin(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cin,function(n,r,s,o){t.push(s?o.replace(fin,"$1"):r||n)}),t});function hin(e){return e==null?"":cPe(e)}function HC(e,t){return za(e)?e:ene(e,t)?[e]:din(hin(e))}function qC(e){if(typeof e=="string"||l5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function h5(e,t){t=HC(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qC(t[n++])];return n&&n==r?e:void 0}function Es(e,t,n){var r=e==null?void 0:h5(e,t);return r===void 0?n:r}function tne(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var pge=ju?ju.isConcatSpreadable:void 0;function pin(e){return za(e)||n_(e)||!!(pge&&e&&e[pge])}function gI(e,t,n,r,s){var o=-1,i=e.length;for(n||(n=pin),s||(s=[]);++o<i;){var a=e[o];t>0&&n(a)?t>1?gI(a,t-1,n,r,s):tne(s,a):r||(s[s.length]=a)}return s}function xPe(e){var t=e==null?0:e.length;return t?gI(e,1):[]}function CPe(e){return dPe(pPe(e,void 0,xPe),e+"")}var nne=wPe(Object.getPrototypeOf,Object),gin="[object Object]",min=Function.prototype,vin=Object.prototype,SPe=min.toString,yin=vin.hasOwnProperty,bin=SPe.call(Object);function $Pe(e){if(!kd(e)||eb(e)!=gin)return!1;var t=nne(e);if(t===null)return!0;var n=yin.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&SPe.call(n)==bin}function win(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}function vo(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]}function xin(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function p5(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=dk(n),n=n===n?n:0),t!==void 0&&(t=dk(t),t=t===t?t:0),xin(dk(e),t,n)}function Cin(){this.__data__=new Wp,this.size=0}function Sin(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function $in(e){return this.__data__.get(e)}function kin(e){return this.__data__.has(e)}var Ein=200;function _in(e,t){var n=this.__data__;if(n instanceof Wp){var r=n.__data__;if(!o_||r.length<Ein-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Up(r)}return n.set(e,t),this.size=n.size,this}function Nc(e){var t=this.__data__=new Wp(e);this.size=t.size}Nc.prototype.clear=Cin;Nc.prototype.delete=Sin;Nc.prototype.get=$in;Nc.prototype.has=kin;Nc.prototype.set=_in;function Tin(e,t){return e&&UC(t,hI(t),e)}function Ain(e,t){return e&&UC(t,pI(t),e)}var kPe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,gge=kPe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,Iin=gge&&gge.exports===kPe,mge=Iin?df.Buffer:void 0,vge=mge?mge.allocUnsafe:void 0;function EPe(e,t){if(t)return e.slice();var n=e.length,r=vge?vge(n):new e.constructor(n);return e.copy(r),r}function Nin(e,t){for(var n=-1,r=e==null?0:e.length,s=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[s++]=i)}return o}function _Pe(){return[]}var Din=Object.prototype,Oin=Din.propertyIsEnumerable,yge=Object.getOwnPropertySymbols,rne=yge?function(e){return e==null?[]:(e=Object(e),Nin(yge(e),function(t){return Oin.call(e,t)}))}:_Pe;function Rin(e,t){return UC(e,rne(e),t)}var Fin=Object.getOwnPropertySymbols,TPe=Fin?function(e){for(var t=[];e;)tne(t,rne(e)),e=nne(e);return t}:_Pe;function Min(e,t){return UC(e,TPe(e),t)}function APe(e,t,n){var r=t(e);return za(e)?r:tne(r,n(e))}function Qj(e){return APe(e,hI,rne)}function IPe(e){return APe(e,pI,TPe)}var eH=nb(df,"DataView"),tH=nb(df,"Promise"),ww=nb(df,"Set"),bge="[object Map]",Pin="[object Object]",wge="[object Promise]",xge="[object Set]",Cge="[object WeakMap]",Sge="[object DataView]",Lin=tb(eH),Bin=tb(o_),zin=tb(tH),Vin=tb(ww),Win=tb(Jj),mc=eb;(eH&&mc(new eH(new ArrayBuffer(1)))!=Sge||o_&&mc(new o_)!=bge||tH&&mc(tH.resolve())!=wge||ww&&mc(new ww)!=xge||Jj&&mc(new Jj)!=Cge)&&(mc=function(e){var t=eb(e),n=t==Pin?e.constructor:void 0,r=n?tb(n):"";if(r)switch(r){case Lin:return Sge;case Bin:return bge;case zin:return wge;case Vin:return xge;case Win:return Cge}return t});var Uin=Object.prototype,jin=Uin.hasOwnProperty;function Hin(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&jin.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var eM=df.Uint8Array;function sne(e){var t=new e.constructor(e.byteLength);return new eM(t).set(new eM(e)),t}function qin(e,t){var n=t?sne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Gin=/\w*$/;function Kin(e){var t=new e.constructor(e.source,Gin.exec(e));return t.lastIndex=e.lastIndex,t}var $ge=ju?ju.prototype:void 0,kge=$ge?$ge.valueOf:void 0;function Yin(e){return kge?Object(kge.call(e)):{}}function NPe(e,t){var n=t?sne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Xin="[object Boolean]",Zin="[object Date]",Jin="[object Map]",Qin="[object Number]",ean="[object RegExp]",tan="[object Set]",nan="[object String]",ran="[object Symbol]",san="[object ArrayBuffer]",oan="[object DataView]",ian="[object Float32Array]",aan="[object Float64Array]",lan="[object Int8Array]",uan="[object Int16Array]",can="[object Int32Array]",fan="[object Uint8Array]",dan="[object Uint8ClampedArray]",han="[object Uint16Array]",pan="[object Uint32Array]";function gan(e,t,n){var r=e.constructor;switch(t){case san:return sne(e);case Xin:case Zin:return new r(+e);case oan:return qin(e,n);case ian:case aan:case lan:case uan:case can:case fan:case dan:case han:case pan:return NPe(e,n);case Jin:return new r;case Qin:case nan:return new r(e);case ean:return Kin(e);case tan:return new r;case ran:return Yin(e)}}function DPe(e){return typeof e.constructor=="function"&&!Zte(e)?$sn(nne(e)):{}}var man="[object Map]";function van(e){return kd(e)&&mc(e)==man}var Ege=Ox&&Ox.isMap,yan=Ege?Jte(Ege):van,ban="[object Set]";function wan(e){return kd(e)&&mc(e)==ban}var _ge=Ox&&Ox.isSet,xan=_ge?Jte(_ge):wan,Can=1,San=2,$an=4,OPe="[object Arguments]",kan="[object Array]",Ean="[object Boolean]",_an="[object Date]",Tan="[object Error]",RPe="[object Function]",Aan="[object GeneratorFunction]",Ian="[object Map]",Nan="[object Number]",FPe="[object Object]",Dan="[object RegExp]",Oan="[object Set]",Ran="[object String]",Fan="[object Symbol]",Man="[object WeakMap]",Pan="[object ArrayBuffer]",Lan="[object DataView]",Ban="[object Float32Array]",zan="[object Float64Array]",Van="[object Int8Array]",Wan="[object Int16Array]",Uan="[object Int32Array]",jan="[object Uint8Array]",Han="[object Uint8ClampedArray]",qan="[object Uint16Array]",Gan="[object Uint32Array]",os={};os[OPe]=os[kan]=os[Pan]=os[Lan]=os[Ean]=os[_an]=os[Ban]=os[zan]=os[Van]=os[Wan]=os[Uan]=os[Ian]=os[Nan]=os[FPe]=os[Dan]=os[Oan]=os[Ran]=os[Fan]=os[jan]=os[Han]=os[qan]=os[Gan]=!0;os[Tan]=os[RPe]=os[Man]=!1;function xw(e,t,n,r,s,o){var i,a=t&Can,l=t&San,u=t&$an;if(n&&(i=s?n(e,r,s,o):n(e)),i!==void 0)return i;if(!Va(e))return e;var c=za(e);if(c){if(i=Hin(e),!a)return fPe(e,i)}else{var f=mc(e),d=f==RPe||f==Aan;if(r_(e))return EPe(e,a);if(f==FPe||f==OPe||d&&!s){if(i=l||d?{}:DPe(e),!a)return l?Min(e,Ain(i,e)):Rin(e,Tin(i,e))}else{if(!os[f])return s?e:{};i=gan(e,f,a)}}o||(o=new Nc);var h=o.get(e);if(h)return h;o.set(e,i),xan(e)?e.forEach(function(m){i.add(xw(m,t,n,m,e,o))}):yan(e)&&e.forEach(function(m,v){i.set(v,xw(m,t,n,v,e,o))});var p=u?l?IPe:Qj:l?pI:hI,g=c?void 0:p(e);return Osn(g||e,function(m,v){g&&(v=m,m=e[v]),Yte(i,v,xw(m,t,n,v,e,o))}),i}var Kan=4;function Tge(e){return xw(e,Kan)}var Yan=1,Xan=4;function tM(e){return xw(e,Yan|Xan)}var Zan="__lodash_hash_undefined__";function Jan(e){return this.__data__.set(e,Zan),this}function Qan(e){return this.__data__.has(e)}function i_(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Up;++t<n;)this.add(e[t])}i_.prototype.add=i_.prototype.push=Jan;i_.prototype.has=Qan;function eln(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function MPe(e,t){return e.has(t)}var tln=1,nln=2;function PPe(e,t,n,r,s,o){var i=n&tln,a=e.length,l=t.length;if(a!=l&&!(i&&l>a))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&nln?new i_:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],g=t[f];if(r)var m=i?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!eln(t,function(v,y){if(!MPe(h,y)&&(p===v||s(p,v,n,r,o)))return h.push(y)})){d=!1;break}}else if(!(p===g||s(p,g,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function rln(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function one(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sln=1,oln=2,iln="[object Boolean]",aln="[object Date]",lln="[object Error]",uln="[object Map]",cln="[object Number]",fln="[object RegExp]",dln="[object Set]",hln="[object String]",pln="[object Symbol]",gln="[object ArrayBuffer]",mln="[object DataView]",Age=ju?ju.prototype:void 0,E7=Age?Age.valueOf:void 0;function vln(e,t,n,r,s,o,i){switch(n){case mln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gln:return!(e.byteLength!=t.byteLength||!o(new eM(e),new eM(t)));case iln:case aln:case cln:return dI(+e,+t);case lln:return e.name==t.name&&e.message==t.message;case fln:case hln:return e==t+"";case uln:var a=rln;case dln:var l=r&sln;if(a||(a=one),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;r|=oln,i.set(e,t);var c=PPe(a(e),a(t),r,s,o,i);return i.delete(e),c;case pln:if(E7)return E7.call(e)==E7.call(t)}return!1}var yln=1,bln=Object.prototype,wln=bln.hasOwnProperty;function xln(e,t,n,r,s,o){var i=n&yln,a=Qj(e),l=a.length,u=Qj(t),c=u.length;if(l!=c&&!i)return!1;for(var f=l;f--;){var d=a[f];if(!(i?d in t:wln.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=i;++f<l;){d=a[f];var v=e[d],y=t[d];if(r)var w=i?r(y,v,d,t,e,o):r(v,y,d,e,t,o);if(!(w===void 0?v===y||s(v,y,n,r,o):w)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var b=e.constructor,C=t.constructor;b!=C&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(e),o.delete(t),g}var Cln=1,Ige="[object Arguments]",Nge="[object Array]",TD="[object Object]",Sln=Object.prototype,Dge=Sln.hasOwnProperty;function $ln(e,t,n,r,s,o){var i=za(e),a=za(t),l=i?Nge:mc(e),u=a?Nge:mc(t);l=l==Ige?TD:l,u=u==Ige?TD:u;var c=l==TD,f=u==TD,d=l==u;if(d&&r_(e)){if(!r_(t))return!1;i=!0,c=!1}if(d&&!c)return o||(o=new Nc),i||Qte(e)?PPe(e,t,n,r,s,o):vln(e,t,l,n,r,s,o);if(!(n&Cln)){var h=c&&Dge.call(e,"__wrapped__"),p=f&&Dge.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new Nc),s(g,m,n,r,o)}}return d?(o||(o=new Nc),xln(e,t,n,r,s,o)):!1}function g5(e,t,n,r,s){return e===t?!0:e==null||t==null||!kd(e)&&!kd(t)?e!==e&&t!==t:$ln(e,t,n,r,g5,s)}var kln=1,Eln=2;function _ln(e,t,n,r){var s=n.length,o=s;if(e==null)return!o;for(e=Object(e);s--;){var i=n[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<o;){i=n[s];var a=i[0],l=e[a],u=i[1];if(i[2]){if(l===void 0&&!(a in e))return!1}else{var c=new Nc,f;if(!(f===void 0?g5(u,l,kln|Eln,r,c):f))return!1}}return!0}function LPe(e){return e===e&&!Va(e)}function Tln(e){for(var t=hI(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,LPe(s)]}return t}function BPe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Aln(e){var t=Tln(e);return t.length==1&&t[0][2]?BPe(t[0][0],t[0][1]):function(n){return n===e||_ln(n,e,t)}}function Iln(e,t){return e!=null&&t in Object(e)}function Nln(e,t,n){t=HC(t,e);for(var r=-1,s=t.length,o=!1;++r<s;){var i=qC(t[r]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++r!=s?o:(s=e==null?0:e.length,!!s&&Xte(s)&&u5(i,s)&&(za(e)||n_(e)))}function zPe(e,t){return e!=null&&Nln(e,t,Iln)}var Dln=1,Oln=2;function Rln(e,t){return ene(e)&&LPe(t)?BPe(qC(e),t):function(n){var r=Es(n,e);return r===void 0&&r===t?zPe(n,e):g5(t,r,Dln|Oln)}}function Fln(e){return function(t){return t?.[e]}}function Mln(e){return function(t){return h5(t,e)}}function Pln(e){return ene(e)?Fln(qC(e)):Mln(e)}function VPe(e){return typeof e=="function"?e:e==null?qte:typeof e=="object"?za(e)?Rln(e[0],e[1]):Aln(e):Pln(e)}function Lln(e){return function(t,n,r){for(var s=-1,o=Object(t),i=r(t),a=i.length;a--;){var l=i[++s];if(n(o[l],l,o)===!1)break}return t}}var WPe=Lln();function Bln(e,t){return e&&WPe(e,t,hI)}function zln(e,t){return function(n,r){if(n==null)return n;if(!jC(n))return e(n,r);for(var s=n.length,o=-1,i=Object(n);++o<s&&r(i[o],o,i)!==!1;);return n}}var Vln=zln(Bln),_7=function(){return df.Date.now()},Wln="Expected a function",Uln=Math.max,jln=Math.min;function Ed(e,t,n){var r,s,o,i,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Wln);t=dk(t)||0,Va(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Uln(dk(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(S){var $=r,k=s;return r=s=void 0,u=S,i=e.apply(k,$),i}function p(S){return u=S,a=setTimeout(v,t),c?h(S):i}function g(S){var $=S-l,k=S-u,T=t-$;return f?jln(T,o-k):T}function m(S){var $=S-l,k=S-u;return l===void 0||$>=t||$<0||f&&k>=o}function v(){var S=_7();if(m(S))return y(S);a=setTimeout(v,g(S))}function y(S){return a=void 0,d&&r?h(S):(r=s=void 0,i)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function b(){return a===void 0?i:y(_7())}function C(){var S=_7(),$=m(S);if(r=arguments,s=this,l=S,$){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(v,t),h(l)}return a===void 0&&(a=setTimeout(v,t)),i}return C.cancel=w,C.flush=b,C}function nH(e,t,n){(n!==void 0&&!dI(e[t],n)||n===void 0&&!(t in e))&&Kte(e,t,n)}function UPe(e){return kd(e)&&jC(e)}function rH(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Hln(e){return UC(e,pI(e))}function qln(e,t,n,r,s,o,i){var a=rH(e,n),l=rH(t,n),u=i.get(l);if(u){nH(e,n,u);return}var c=o?o(a,l,n+"",e,t,i):void 0,f=c===void 0;if(f){var d=za(l),h=!d&&r_(l),p=!d&&!h&&Qte(l);c=l,d||h||p?za(a)?c=a:UPe(a)?c=fPe(a):h?(f=!1,c=EPe(l,!0)):p?(f=!1,c=NPe(l,!0)):c=[]:$Pe(l)||n_(l)?(c=a,n_(a)?c=Hln(a):(!Va(a)||Gte(a))&&(c=DPe(l))):f=!1}f&&(i.set(l,c),s(c,l,r,o,i),i.delete(l)),nH(e,n,c)}function jPe(e,t,n,r,s){e!==t&&WPe(t,function(o,i){if(s||(s=new Nc),Va(o))qln(e,t,i,n,jPe,r,s);else{var a=r?r(rH(e,i),o,i+"",e,t,s):void 0;a===void 0&&(a=o),nH(e,i,a)}},pI)}function Gln(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function HPe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return hPe(e,VPe(t),s,!0)}function Kln(e,t){var n=-1,r=jC(e)?Array(e.length):[];return Vln(e,function(s,o,i){r[++n]=t(s,o,i)}),r}function Yln(e,t){var n=za(e)?Hte:Kln;return n(e,VPe(t))}function qPe(e,t){return gI(Yln(e,t),1)}var Xln=1/0;function Zln(e){var t=e==null?0:e.length;return t?gI(e,Xln):[]}function a_(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function Jln(e,t){return t.length<2?e:h5(e,win(t,0,-1))}function Gr(e,t){return g5(e,t)}function vs(e){return e==null}function mI(e){return e===null}function Qln(e){return e===void 0}var GPe=jsn(function(e,t,n){jPe(e,t,n)}),eun=Object.prototype,tun=eun.hasOwnProperty;function nun(e,t){t=HC(t,e);var n=-1,r=t.length;if(!r)return!0;for(var s=e==null||typeof e!="object"&&typeof e!="function";++n<r;){var o=t[n];if(typeof o=="string"){if(o==="__proto__"&&!tun.call(e,"__proto__"))return!1;if(o==="constructor"&&n+1<r&&typeof t[n+1]=="string"&&t[n+1]==="prototype"){if(s&&n===0)continue;return!1}}}var i=Jln(e,t);return i==null||delete i[qC(Gln(t))]}function run(e){return $Pe(e)?void 0:e}var sun=1,oun=2,iun=4,vI=CPe(function(e,t){var n={};if(e==null)return n;var r=!1;t=Hte(t,function(o){return o=HC(o,e),r||(r=o.length>1),o}),UC(e,IPe(e),n),r&&(n=xw(n,sun|oun|iun,run));for(var s=t.length;s--;)nun(n,t[s]);return n});function KPe(e,t,n,r){if(!Va(e))return e;t=HC(t,e);for(var s=-1,o=t.length,i=o-1,a=e;a!=null&&++s<o;){var l=qC(t[s]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=i){var c=a[l];u=void 0,u===void 0&&(u=Va(c)?c:u5(t[s+1])?[]:{})}Yte(a,l,u),a=a[l]}return e}function aun(e,t,n){for(var r=-1,s=t.length,o={};++r<s;){var i=t[r],a=h5(e,i);n(a,i)&&KPe(o,HC(i,e),a)}return o}function lun(e,t){return aun(e,t,function(n,r){return zPe(e,r)})}var vp=CPe(function(e,t){return e==null?{}:lun(e,t)});function uun(e,t,n){return e==null?e:KPe(e,t,n)}var cun="Expected a function";function jg(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(cun);return Va(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ed(e,t,{leading:r,maxWait:t,trailing:s})}var fun=1/0,dun=ww&&1/one(new ww([,-0]))[1]==fun?function(e){return new ww(e)}:Esn,hun=200;function pun(e,t,n){var r=-1,s=Psn,o=e.length,i=!0,a=[],l=a;if(o>=hun){var u=dun(e);if(u)return one(u);i=!1,s=MPe,l=new i_}else l=a;e:for(;++r<o;){var c=e[r],f=c;if(c=c!==0?c:0,i&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;a.push(c)}else s(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var T7=gPe(function(e){return pun(gI(e,1,UPe,!0))});const yn=e=>e===void 0,Ln=e=>typeof e=="boolean",pt=e=>typeof e=="number",_a=e=>!e&&e!==0||De(e)&&e.length===0||Pt(e)&&!Object.keys(e).length,ul=e=>typeof Element>"u"?!1:e instanceof Element,cl=e=>vs(e),gun=e=>ot(e)?!Number.isNaN(Number(e)):!1,yI=e=>e===window;function YPe(e,t){var n;const r=cr();return gl(()=>{r.value=e()},{...t,flush:(n=void 0)!=null?n:"sync"}),d1(r)}function rb(e){return cve()?(fve(e),!0):!1}function ql(e){return typeof e=="function"?e():x(e)}function mun(e){if(!fr(e))return In(e);const t=new Proxy({},{get(n,r,s){return x(Reflect.get(e.value,r,s))},set(n,r,s){return fr(e.value[r])&&!fr(s)?e.value[r].value=s:e.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return In(t)}function vun(e){return mun(O(e))}const Tn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const yun=e=>typeof e<"u",XPe=e=>e!=null,bun=Object.prototype.toString,wun=e=>bun.call(e)==="[object Object]",ZPe=(e,t,n)=>Math.min(n,Math.max(t,e)),Dc=()=>{},nM=xun();function xun(){var e,t;return Tn&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function JPe(e,t){function n(...r){return new Promise((s,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(o)})}return n}function Cun(e,t={}){let n,r,s=Dc;const o=a=>{clearTimeout(a),s(),s=Dc};return a=>{const l=ql(e),u=ql(t.maxWait);return n&&o(n),l<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((c,f)=>{s=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(a())},u)),n=setTimeout(()=>{r&&o(r),r=null,c(a())},l)})}}function Sun(...e){let t=0,n,r=!0,s=Dc,o,i,a,l,u;!fr(e[0])&&typeof e[0]=="object"?{delay:i,trailing:a=!0,leading:l=!0,rejectOnCancel:u=!1}=e[0]:[i,a=!0,l=!0,u=!1]=e;const c=()=>{n&&(clearTimeout(n),n=void 0,s(),s=Dc)};return d=>{const h=ql(i),p=Date.now()-t,g=()=>o=d();return c(),h<=0?(t=Date.now(),g()):(p>h&&(l||!r)?(t=Date.now(),g()):a&&(o=new Promise((m,v)=>{s=u?v:m,n=setTimeout(()=>{t=Date.now(),r=!0,m(g()),c()},Math.max(0,h-p))})),!l&&!n&&(n=setTimeout(()=>r=!0,h)),r=!1,o)}}function $un(e){return Ut()}function bI(e,t=200,n={}){return JPe(Cun(t,n),e)}function kun(e,t=200,n={}){const r=j(e.value),s=bI(()=>{r.value=e.value},t,n);return xe(e,()=>s()),r}function QPe(e,t=200,n=!1,r=!0,s=!1){return JPe(Sun(t,n,r,s),e)}function ine(e,t=!0,n){$un()?Ht(e,n):t?e():Ye(e)}function Rx(e,t,n={}){const{immediate:r=!0}=n,s=j(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function a(){s.value=!1,i()}function l(...u){i(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,e(...u)},ql(t))}return r&&(s.value=!0,Tn&&l()),rb(a),{isPending:d1(s),start:l,stop:a}}function Vs(e){var t;const n=ql(e);return(t=n?.$el)!=null?t:n}const hf=Tn?window:void 0,Eun=Tn?window.document:void 0;function Fn(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=hf):[t,n,r,s]=e,!t)return Dc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],i=()=>{o.forEach(c=>c()),o.length=0},a=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=xe(()=>[Vs(t),ql(s)],([c,f])=>{if(i(),!c)return;const d=wun(f)?{...f}:f;o.push(...n.flatMap(h=>r.map(p=>a(c,h,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return rb(u),u}let Oge=!1;function ane(e,t,n={}){const{window:r=hf,ignore:s=[],capture:o=!0,detectIframe:i=!1}=n;if(!r)return Dc;nM&&!Oge&&(Oge=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Dc)),r.document.documentElement.addEventListener("click",Dc));let a=!0;const l=d=>s.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Vs(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Fn(r,"click",d=>{const h=Vs(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}t(d)}},{passive:!0,capture:o}),Fn(r,"pointerdown",d=>{const h=Vs(e);a=!l(d)&&!!(h&&!d.composedPath().includes(h))},{passive:!0}),i&&Fn(r,"blur",d=>{setTimeout(()=>{var h;const p=Vs(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!p?.contains(r.document.activeElement)&&t(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function _un(){const e=j(!1),t=Ut();return t&&Ht(()=>{e.value=!0},t),e}function m5(e){const t=_un();return O(()=>(t.value,!!e()))}function wI(e,t,n={}){const{window:r=hf,...s}=n;let o;const i=m5(()=>r&&"MutationObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=O(()=>{const d=ql(e),h=(Array.isArray(d)?d:[d]).map(Vs).filter(XPe);return new Set(h)}),u=xe(()=>l.value,d=>{a(),i.value&&d.size&&(o=new MutationObserver(t),d.forEach(h=>o.observe(h,s)))},{immediate:!0,flush:"post"}),c=()=>o?.takeRecords(),f=()=>{a(),u()};return rb(f),{isSupported:i,stop:f,takeRecords:c}}function Tun(e={}){var t;const{window:n=hf,deep:r=!0,triggerOnRemoval:s=!1}=e,o=(t=e.document)!=null?t:n?.document,i=()=>{var u;let c=o?.activeElement;if(r)for(;c?.shadowRoot;)c=(u=c?.shadowRoot)==null?void 0:u.activeElement;return c},a=j(),l=()=>{a.value=i()};return n&&(Fn(n,"blur",u=>{u.relatedTarget===null&&l()},!0),Fn(n,"focus",l,!0)),s&&wI(o,u=>{u.filter(c=>c.removedNodes.length).map(c=>Array.from(c.removedNodes)).flat().forEach(c=>{c===a.value&&l()})},{childList:!0,subtree:!0}),l(),a}function Aun(e,t={}){const{window:n=hf}=t,r=m5(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const o=j(!1),i=u=>{o.value=u.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},l=gl(()=>{r.value&&(a(),s=n.matchMedia(ql(e)),"addEventListener"in s?s.addEventListener("change",i):s.addListener(i),o.value=s.matches)});return rb(()=>{l(),a(),s=void 0}),o}function Iun(e){return JSON.parse(JSON.stringify(e))}function Nun(e,t,n={}){const{window:r=hf,initialValue:s="",observe:o=!1}=n,i=j(s),a=O(()=>{var u;return Vs(t)||((u=r?.document)==null?void 0:u.documentElement)});function l(){var u;const c=ql(e),f=ql(a);if(f&&r){const d=(u=r.getComputedStyle(f).getPropertyValue(c))==null?void 0:u.trim();i.value=d||s}}return o&&wI(a,l,{attributeFilter:["style","class"],window:r}),xe([a,()=>ql(e)],l,{immediate:!0}),xe(i,u=>{var c;(c=a.value)!=null&&c.style&&a.value.style.setProperty(ql(e),u)}),i}function Dun(e={}){const{document:t=Eun}=e;if(!t)return j("visible");const n=j(t.visibilityState);return Fn(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}function Cr(e,t,n={}){const{window:r=hf,...s}=n;let o;const i=m5(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=O(()=>Array.isArray(e)?e.map(f=>Vs(f)):[Vs(e)]),u=xe(l,f=>{if(a(),i.value&&r){o=new ResizeObserver(t);for(const d of f)d&&o.observe(d,s)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return rb(c),{isSupported:i,stop:c}}function Rge(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:o=!0}=t,i=j(0),a=j(0),l=j(0),u=j(0),c=j(0),f=j(0),d=j(0),h=j(0);function p(){const g=Vs(e);if(!g){n&&(i.value=0,a.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const m=g.getBoundingClientRect();i.value=m.height,a.value=m.bottom,l.value=m.left,u.value=m.right,c.value=m.top,f.value=m.width,d.value=m.x,h.value=m.y}return Cr(e,p),xe(()=>Vs(e),g=>!g&&p()),wI(e,p,{attributeFilter:["style","class"]}),s&&Fn("scroll",p,{capture:!0,passive:!0}),r&&Fn("resize",p,{passive:!0}),ine(()=>{o&&p()}),{height:i,bottom:a,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}function sH(e,t={width:0,height:0},n={}){const{window:r=hf,box:s="content-box"}=n,o=O(()=>{var f,d;return(d=(f=Vs(e))==null?void 0:f.namespaceURI)==null?void 0:d.includes("svg")}),i=j(t.width),a=j(t.height),{stop:l}=Cr(e,([f])=>{const d=s==="border-box"?f.borderBoxSize:s==="content-box"?f.contentBoxSize:f.devicePixelContentBoxSize;if(r&&o.value){const h=Vs(e);if(h){const p=h.getBoundingClientRect();i.value=p.width,a.value=p.height}}else if(d){const h=Array.isArray(d)?d:[d];i.value=h.reduce((p,{inlineSize:g})=>p+g,0),a.value=h.reduce((p,{blockSize:g})=>p+g,0)}else i.value=f.contentRect.width,a.value=f.contentRect.height},n);ine(()=>{const f=Vs(e);f&&(i.value="offsetWidth"in f?f.offsetWidth:t.width,a.value="offsetHeight"in f?f.offsetHeight:t.height)});const u=xe(()=>Vs(e),f=>{i.value=f?t.width:0,a.value=f?t.height:0});function c(){l(),u()}return{width:i,height:a,stop:c}}function Oun(e,t,n={}){const{root:r,rootMargin:s="0px",threshold:o=.1,window:i=hf,immediate:a=!0}=n,l=m5(()=>i&&"IntersectionObserver"in i),u=O(()=>{const p=ql(e);return(Array.isArray(p)?p:[p]).map(Vs).filter(XPe)});let c=Dc;const f=j(a),d=l.value?xe(()=>[u.value,Vs(r),f.value],([p,g])=>{if(c(),!f.value||!p.length)return;const m=new IntersectionObserver(t,{root:Vs(g),rootMargin:s,threshold:o});p.forEach(v=>v&&m.observe(v)),c=()=>{m.disconnect(),c=Dc}},{immediate:a,flush:"post"}):Dc,h=()=>{c(),d(),f.value=!1};return rb(h),{isSupported:l,isActive:f,pause(){c(),f.value=!1},resume(){f.value=!0},stop:h}}function eLe(e,t,n,r={}){var s,o,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:d}=r,h=Ut(),p=n||h?.emit||((s=h?.$emit)==null?void 0:s.bind(h))||((i=(o=h?.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(h?.proxy));let g=u;t||(t="modelValue"),g=g||`update:${t.toString()}`;const m=w=>a?typeof a=="function"?a(w):Iun(w):w,v=()=>yun(e[t])?m(e[t]):f,y=w=>{d?d(w)&&p(g,w):p(g,w)};if(l){const w=v(),b=j(w);let C=!1;return xe(()=>e[t],S=>{C||(C=!0,b.value=m(S),Ye(()=>C=!1))}),xe(b,S=>{!C&&(S!==e[t]||c)&&y(S)},{deep:c}),b}else return O({get(){return v()},set(w){y(w)}})}function Run(e={}){const{window:t=hf}=e;if(!t)return j(!1);const n=j(t.document.hasFocus());return Fn(t,"blur",()=>{n.value=!1}),Fn(t,"focus",()=>{n.value=!0}),n}function lne(e={}){const{window:t=hf,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:o=!0}=e,i=j(n),a=j(r),l=()=>{t&&(o?(i.value=t.innerWidth,a.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight))};if(l(),ine(l),Fn("resize",l,{passive:!0}),s){const u=Aun("(orientation: portrait)");xe(u,()=>l())}return{width:i,height:a}}class Fun extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ts(e,t){throw new Fun(`[${e}] ${t}`)}const Fge={current:0},Mge=j(0),tLe=2e3,Pge=Symbol("elZIndexContextKey"),nLe=Symbol("zIndexContextKey"),xI=e=>{const t=Ut()?tt(Pge,Fge):Fge,n=e||(Ut()?tt(nLe,void 0):void 0),r=O(()=>{const i=x(n);return pt(i)?i:tLe}),s=O(()=>r.value+Mge.value),o=()=>(t.current++,Mge.value=t.current,s.value);return!Tn&&tt(Pge),{initialZIndex:r,currentZIndex:s,nextZIndex:o}};var Mun={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum",selectAllLabel:"Select all rows",selectRowLabel:"Select this row",expandRowLabel:"Expand this row",collapseRowLabel:"Collapse this row",sortLabel:"Sort by {column}",filterLabel:"Filter by {column}"},tag:{close:"Close this tag"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Pun=e=>(t,n)=>Lun(t,n,x(e)),Lun=(e,t,n)=>Es(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var o;return`${(o=t?.[s])!=null?o:`{${s}}`}`}),Bun=e=>{const t=O(()=>x(e).name),n=fr(e)?e:j(e);return{lang:t,locale:n,t:Pun(e)}},rLe=Symbol("localeContextKey"),un=e=>{const t=e||tt(rLe,j());return Bun(O(()=>t.value||Mun))},sLe="__epPropKey",oe=e=>e,zun=e=>Pt(e)&&!!e[sLe],pf=(e,t)=>{if(!Pt(e)||zun(e))return e;const{values:n,required:r,default:s,type:o,validator:i}=e,l={type:o,required:!!r,validator:n||i?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),En(e,"default")&&f.push(s),c||(c=f.includes(u))),i&&(c||(c=i(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");s9e(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[sLe]:!0};return En(e,"default")&&(l.default=s),l},Me=e=>a_(Object.entries(e).map(([t,n])=>[t,pf(n,t)])),eh=["","default","small","large"],js=pf({type:String,values:eh,required:!1}),oLe=Symbol("size"),iLe=()=>{const e=tt(oLe,{});return O(()=>x(e.size)||"")},aLe=Symbol("emptyValuesContextKey"),Vun=["",void 0,null],Wun=void 0,sb=Me({emptyValues:Array,valueOnClear:{type:oe([String,Number,Boolean,Function]),default:void 0,validator:e=>(e=ft(e)?e():e,De(e)?e.every(t=>!t):!e)}}),CI=(e,t)=>{const n=Ut()?tt(aLe,j({})):j({}),r=O(()=>e.emptyValues||n.value.emptyValues||Vun),s=O(()=>ft(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:ft(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:Wun),o=i=>{let a=!0;return De(i)?a=r.value.some(l=>Gr(i,l)):a=r.value.includes(i),a};return o(s.value),{emptyValues:r,valueOnClear:s,isEmptyValue:o}},l_=e=>Object.keys(e),lLe=e=>Object.entries(e),pk=(e,t,n)=>({get value(){return Es(e,t,n)},set value(r){uun(e,t,r)}}),rM=j();function GC(e,t=void 0){const n=Ut()?tt(iPe,rM):rM;return e?O(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function v5(e,t){const n=GC(),r=Ae(e,O(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||fk})),s=un(O(()=>{var a;return(a=n.value)==null?void 0:a.locale})),o=xI(O(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||tLe})),i=O(()=>{var a;return x(t)||((a=n.value)==null?void 0:a.size)||""});return une(O(()=>x(n)||{})),{ns:r,locale:s,zIndex:o,size:i}}const une=(e,t,n=!1)=>{var r;const s=!!Ut(),o=s?GC():void 0,i=(r=t?.provide)!=null?r:s?ln:void 0;if(!i)return;const a=O(()=>{const l=x(e);return o?.value?Uun(o.value,l):l});return i(iPe,a),i(rLe,O(()=>a.value.locale)),i(aPe,O(()=>a.value.namespace)),i(nLe,O(()=>a.value.zIndex)),i(oLe,{size:O(()=>a.value.size||"")}),i(aLe,O(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(n||!rM.value)&&(rM.value=a.value),a},Uun=(e,t)=>{const n=[...new Set([...l_(e),...l_(t)])],r={};for(const s of n)r[s]=t[s]!==void 0?t[s]:e[s];return r},jun=(e=[])=>({version:Wrn,install:(n,r)=>{n[nge]||(n[nge]=!0,e.forEach(s=>n.use(s)),r&&une(r,n,!0))}}),SI=Me({to:{type:oe([String,Object]),required:!0},disabled:Boolean});var Ve=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};const Hun=me({__name:"teleport",props:SI,setup(e){return(t,n)=>t.disabled?ce(t.$slots,"default",{key:0}):(B(),pe(fze,{key:1,to:t.to},[ce(t.$slots,"default")],8,["to"]))}});var qun=Ve(Hun,[["__file","/home/runner/work/element-plus/element-plus/packages/components/teleport/src/teleport.vue"]]);const Rt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},uLe=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Gun=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ur=e=>(e.install=Rn,e),KC=Rt(qun),Et="update:modelValue",en="change",Os="input",Kun=Me({zIndex:{type:oe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"},teleported:Boolean,appendTo:{type:SI.to.type,default:"body"}}),Yun={scroll:({scrollTop:e,fixed:t})=>pt(e)&&Ln(t),[en]:e=>Ln(e)};function Xun(e,t,n,r){const s=n-t;return e/=r/2,e<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}const _d=e=>Tn?window.requestAnimationFrame(e):setTimeout(e,16),yp=e=>Tn?window.cancelAnimationFrame(e):clearTimeout(e),cLe=(e="")=>e.split(" ").filter(t=>!!t.trim()),td=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Tu=(e,t)=>{!e||!t.trim()||e.classList.add(...cLe(t))},ia=(e,t)=>{!e||!t.trim()||e.classList.remove(...cLe(t))},Th=(e,t)=>{var n;if(!Tn||!e||!t)return"";let r=Na(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch{return e.style[r]}},fLe=(e,t,n)=>{if(!(!e||!t))if(Pt(t))lLe(t).forEach(([r,s])=>fLe(e,r,s));else{const r=Na(t);e.style[r]=n}};function Vr(e,t="px"){if(!e&&e!==0)return"";if(pt(e)||gun(e))return`${e}${t}`;if(ot(e))return e}const Zun=(e,t)=>{if(!Tn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Th(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},cne=(e,t)=>{if(!Tn)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Zun(n,t))return n;n=n.parentNode}return n};let AD;const dLe=e=>{var t;if(!Tn)return 0;if(AD!==void 0)return AD;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const o=s.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),AD=r-o,AD};function fne(e,t){if(!Tn)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const s=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=s+t.offsetHeight,i=e.scrollTop,a=i+e.clientHeight;s<i?e.scrollTop=s:o>a&&(e.scrollTop=o-e.clientHeight)}function Jun(e,t,n,r,s){const o=Date.now();let i;const a=()=>{const u=Date.now()-o,c=Xun(u>r?r:u,t,n,r);yI(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?i=_d(a):ft(s)&&s()};return a(),()=>{i&&yp(i)}}const Lge=(e,t)=>yI(t)?e.ownerDocument.documentElement:t,Bge=e=>yI(e)?window.scrollY:e.scrollTop,zge="ElAffix",Qun=me({name:zge,__name:"affix",props:Kun,emits:Yun,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("affix"),i=cr(),a=cr(),l=cr(),{height:u}=lne(),{height:c,width:f,top:d,bottom:h,left:p,update:g}=Rge(a,{windowScroll:!1}),m=Rge(i),v=j(!1),y=j(0),w=j(0),b=O(()=>!r.teleported||!v.value),C=O(()=>({height:v.value?`${c.value}px`:"",width:v.value?`${f.value}px`:""})),S=O(()=>{if(!v.value)return{};const _=Vr(r.offset);return{height:`${c.value}px`,width:`${f.value}px`,top:r.position==="top"?_:"",bottom:r.position==="bottom"?_:"",left:r.teleported?`${p.value}px`:"",transform:w.value?`translateY(${w.value}px)`:"",zIndex:r.zIndex}}),$=()=>{if(!l.value)return;y.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0;const{position:_,target:E,offset:A}=r,N=A+c.value;if(_==="top")if(E){const F=m.bottom.value-N;v.value=A>d.value&&m.bottom.value>0,w.value=F<0?F:0}else v.value=A>d.value;else if(E){const F=u.value-m.top.value-N;v.value=u.value-A<h.value&&u.value>m.top.value,w.value=F<0?-F:0}else v.value=u.value-A<h.value},k=async()=>{if(!v.value){g();return}v.value=!1,await Ye(),g(),v.value=!0},T=async()=>{g(),await Ye(),s("scroll",{scrollTop:y.value,fixed:v.value})};return xe(v,_=>s(en,_)),Ht(()=>{var _;r.target?(i.value=(_=document.querySelector(r.target))!=null?_:void 0,i.value||Ts(zge,`Target does not exist: ${r.target}`)):i.value=document.documentElement,l.value=cne(a.value,!0),g()}),Fn(l,"scroll",T),gl($),t({update:$,updateRoot:k}),(_,E)=>(B(),Y("div",{ref_key:"root",ref:a,class:V(x(o).b()),style:dt(C.value)},[ee(x(KC),{disabled:b.value,to:_.appendTo},{default:ie(()=>[Z("div",{class:V({[x(o).m("fixed")]:v.value}),style:dt(S.value)},[ce(_.$slots,"default")],6)]),_:3},8,["disabled","to"])],6))}});var ecn=Ve(Qun,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const tcn=Rt(ecn),ncn=Me({size:{type:oe([Number,String])},color:{type:String}}),rcn=me({name:"ElIcon",inheritAttrs:!1,__name:"icon",props:ncn,setup(e){const t=e,n=Ae("icon"),r=O(()=>{const{size:s,color:o}=t,i=Vr(s);return!i&&!o?{}:{fontSize:i,"--color":o}});return(s,o)=>(B(),Y("i",Wt({class:x(n).b(),style:r.value},s.$attrs),[ce(s.$slots,"default")],16))}});var scn=Ve(rcn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const st=Rt(scn);var ocn=me({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),th=ocn,icn=me({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),bp=icn,acn=me({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),aa=acn,lcn=me({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),y5=lcn,ucn=me({name:"Back",__name:"back",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),ccn=ucn,fcn=me({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),dcn=fcn,hcn=me({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),hLe=hcn,pcn=me({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),gcn=pcn,mcn=me({name:"Check",__name:"check",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),$I=mcn,vcn=me({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),ycn=vcn,bcn=me({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),dne=bcn,wcn=me({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),hne=wcn,xcn=me({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),jp=xcn,Ccn=me({name:"Clock",__name:"clock",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),pLe=Ccn,Scn=me({name:"Close",__name:"close",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Hu=Scn,$cn=me({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),Ym=$cn,kcn=me({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),Xm=kcn,Ecn=me({name:"Delete",__name:"delete",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),_cn=Ecn,Tcn=me({name:"Document",__name:"document",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Acn=Tcn,Icn=me({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Ncn=Icn,Dcn=me({name:"Hide",__name:"hide",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),Ocn=Dcn,Rcn=me({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),u_=Rcn,Fcn=me({name:"Loading",__name:"loading",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),Td=Fcn,Mcn=me({name:"Minus",__name:"minus",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),Pcn=Mcn,Lcn=me({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),Vge=Lcn,Bcn=me({name:"More",__name:"more",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),zcn=Bcn,Vcn=me({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Wcn=Vcn,Ucn=me({name:"Plus",__name:"plus",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),gLe=Ucn,jcn=me({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784"})]))}}),Hcn=jcn,qcn=me({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Gcn=qcn,Kcn=me({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),Ycn=Kcn,Xcn=me({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),Zcn=Xcn,Jcn=me({name:"Search",__name:"search",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),Qcn=Jcn,efn=me({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),tfn=efn,nfn=me({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),rfn=nfn,sfn=me({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),ID=sfn,ofn=me({name:"Star",__name:"star",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),ifn=ofn,afn=me({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),mLe=afn,lfn=me({name:"View",__name:"view",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),ufn=lfn,cfn=me({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),b5=cfn,ffn=me({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),vLe=ffn,dfn=me({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),hfn=dfn;const zn=oe([String,Object,Function]),yLe={Close:Hu},pne={Close:Hu,SuccessFilled:mLe,InfoFilled:u_,WarningFilled:b5,CircleCloseFilled:hne},Zm={primary:u_,success:mLe,warning:b5,error:hne,info:u_},w5={validating:Td,success:dne,error:jp},pfn=["light","dark"],gfn=Me({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:l_(Zm),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:pfn,default:"light"},showAfter:Number,hideAfter:Number,autoClose:Number}),mfn={close:e=>e instanceof MouseEvent},vfn=me({name:"ElAlert",__name:"alert",props:gfn,emits:mfn,setup(e,{emit:t}){const{Close:n}=pne,r=e,s=t,o=Ms(),i=Ae("alert"),a=j(!0),l=O(()=>Zm[r.type]),u=O(()=>!!(r.description||o.default)),c=f=>{a.value=!1,s("close",f)};return r.showAfter||r.hideAfter||r.autoClose,(f,d)=>(B(),pe(Ho,{name:x(i).b("fade"),persisted:""},{default:ie(()=>[Lt(Z("div",{class:V([x(i).b(),x(i).m(f.type),x(i).is("center",f.center),x(i).is(f.effect)]),role:"alert"},[f.showIcon&&(f.$slots.icon||l.value)?(B(),pe(x(st),{key:0,class:V([x(i).e("icon"),x(i).is("big",u.value)])},{default:ie(()=>[ce(f.$slots,"icon",{},()=>[(B(),pe(zt(l.value)))])]),_:3},8,["class"])):fe("v-if",!0),Z("div",{class:V(x(i).e("content"))},[f.title||f.$slots.title?(B(),Y("span",{key:0,class:V([x(i).e("title"),{"with-description":u.value}])},[ce(f.$slots,"title",{},()=>[tn(Fe(f.title),1)])],2)):fe("v-if",!0),u.value?(B(),Y("p",{key:1,class:V(x(i).e("description"))},[ce(f.$slots,"default",{},()=>[tn(Fe(f.description),1)])],2)):fe("v-if",!0),f.closable?(B(),Y(it,{key:2},[f.closeText?(B(),Y("div",{key:0,class:V([x(i).e("close-btn"),x(i).is("customed")]),onClick:c},Fe(f.closeText),3)):(B(),pe(x(st),{key:1,class:V(x(i).e("close-btn")),onClick:c},{default:ie(()=>[ee(x(n))]),_:1},8,["class"]))],64)):fe("v-if",!0)],2)],2),[[Sn,a.value]])]),_:3},8,["name"]))}});var yfn=Ve(vfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const bfn=Rt(yfn),gne=()=>Tn&&/firefox/i.test(window.navigator.userAgent),bLe=()=>Tn&&/android/i.test(window.navigator.userAgent);let qa;const wfn={height:"0",visibility:"hidden",overflow:gne()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xfn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Wge=e=>{const t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function Cfn(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:xfn.map(i=>[i,t.getPropertyValue(i)]),paddingSize:r,borderSize:s,boxSizing:n}}function Uge(e,t=1,n){var r,s;qa||(qa=document.createElement("textarea"),((r=e.parentNode)!=null?r:document.body).appendChild(qa));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:l}=Cfn(e);l.forEach(([d,h])=>qa?.style.setProperty(d,h)),Object.entries(wfn).forEach(([d,h])=>qa?.style.setProperty(d,h,"important")),qa.value=e.value||e.placeholder||"";let u=qa.scrollHeight;const c={};a==="border-box"?u=u+i:a==="content-box"&&(u=u-o),qa.value="";const f=qa.scrollHeight-o;if(pt(t)){let d=f*t;a==="border-box"&&(d=d+o+i),u=Math.max(d,u),c.minHeight=`${d}px`}if(pt(n)){let d=f*n;a==="border-box"&&(d=d+o+i),u=Math.min(d,u)}return c.height=`${u}px`,(s=qa.parentNode)==null||s.removeChild(qa),qa=void 0,c}const zr=e=>e,Sfn=Me({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),fa=e=>vp(Sfn,e),kI=Me({id:{type:String,default:void 0},size:js,disabled:{type:Boolean,default:void 0},modelValue:{type:oe([String,Number,Object]),default:""},modelModifiers:{type:oe(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:oe(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:oe([Boolean,Object]),default:!1},autocomplete:{type:oe(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:zn,default:jp},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:zn},prefixIcon:{type:zn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:oe([Object,Array,String]),default:()=>zr({})},autofocus:Boolean,rows:{type:Number,default:2},...fa(["ariaLabel"]),inputmode:{type:oe(String),default:void 0},name:String}),$fn={[Et]:e=>ot(e),input:e=>ot(e),change:(e,t)=>ot(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},kfn=["class","style"],Efn=/^on[A-Z]/,x5=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=O(()=>(n?.value||[]).concat(kfn)),s=Ut();return O(s?()=>{var o;return a_(Object.entries((o=s.proxy)==null?void 0:o.$attrs).filter(([i])=>!r.value.includes(i)&&!(t&&Efn.test(i))))}:()=>({}))},jge={prefix:Math.floor(Math.random()*1e4),current:0},_fn=Symbol("elIdInjection"),mne=()=>Ut()?tt(_fn,jge):jge,Yo=e=>{const t=mne(),n=jte();return YPe(()=>x(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},ob=Symbol("formContextKey"),Ad=Symbol("formItemContextKey"),Ro=()=>{const e=tt(ob,void 0),t=tt(Ad,void 0);return{form:e,formItem:t}},au=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=j(!1)),r||(r=j(!1));const s=Ut(),o=()=>{let u=s?.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},i=j();let a;const l=O(()=>{var u;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return Ht(()=>{a=xe([Bn(e,"id"),n],([u,c])=>{const f=u??(c?void 0:Yo().value);f!==i.value&&(t?.removeInputId&&!o()&&(i.value&&t.removeInputId(i.value),!r?.value&&!c&&f&&t.addInputId(f)),i.value=f)},{immediate:!0})}),Yx(()=>{a&&a(),t?.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:l,inputId:i}},wLe=e=>{const t=Ut();return O(()=>{var n,r;return(r=(n=t?.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},Fs=(e,t={})=>{const n=j(void 0),r=t.prop?n:wLe("size"),s=t.global?n:iLe(),o=t.form?{size:void 0}:tt(ob,void 0),i=t.formItem?{size:void 0}:tt(Ad,void 0);return O(()=>r.value||x(e)||i?.size||o?.size||s.value||"")},jr=e=>{const t=wLe("disabled"),n=tt(ob,void 0);return O(()=>{var r,s,o;return(o=(s=(r=t.value)!=null?r:x(e))!=null?s:n?.disabled)!=null?o:!1})},Tfn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Hge=e=>typeof Element>"u"?!1:e instanceof Element,Afn=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,qge=e=>Array.from(e.querySelectorAll(Tfn)).filter(t=>c_(t)&&Afn(t)),c_=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},B3=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(t,...n),e.dispatchEvent(s),e},xLe=e=>!e.getAttribute("aria-owns"),CLe=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const s=r.querySelectorAll(n),o=Array.prototype.indexOf.call(s,e);return s[o+t]||null},EI=(e,t)=>{if(!e||!e.focus)return;let n=!1;Hge(e)&&!c_(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),n=!0),e.focus(t),Hge(e)&&n&&e.removeAttribute("tabindex")},z3=e=>{e&&(EI(e),!xLe(e)&&e.click())};function Hp(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:s,afterBlur:o}={}){const i=Ut(),{emit:a}=i,l=cr(),u=j(!1),c=h=>{const p=ft(n)?n(h):!1;x(t)||u.value||p||(u.value=!0,a("focus",h),r?.())},f=h=>{var p;const g=ft(s)?s(h):!1;x(t)||h.relatedTarget&&((p=l.value)!=null&&p.contains(h.relatedTarget))||g||(u.value=!1,a("blur",h),o?.())},d=h=>{var p,g;x(t)||c_(h.target)||(p=l.value)!=null&&p.contains(document.activeElement)&&l.value!==document.activeElement||(g=e.value)==null||g.focus()};return xe([l,()=>x(t)],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),Fn(l,"focus",c,!0),Fn(l,"blur",f,!0),Fn(l,"click",d,!0),{isFocused:u,wrapperRef:l,handleFocus:c,handleBlur:f}}const Ifn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function _I({afterComposition:e,emit:t}){const n=j(!1),r=a=>{t?.("compositionstart",a),n.value=!0},s=a=>{var l;t?.("compositionupdate",a);const u=(l=a.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!Ifn(c)},o=a=>{t?.("compositionend",a),n.value&&(n.value=!1,Ye(()=>e(a)))};return{isComposing:n,handleComposition:a=>{a.type==="compositionend"?o(a):s(a)},handleCompositionStart:r,handleCompositionUpdate:s,handleCompositionEnd:o}}function Nfn(e){let t;function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:o,value:i}=e.value;if(s==null||o==null)return;const a=i.slice(0,Math.max(0,s)),l=i.slice(Math.max(0,o));t={selectionStart:s,selectionEnd:o,value:i,beforeTxt:a,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:s}=e.value,{beforeTxt:o,afterTxt:i,selectionStart:a}=t;if(o==null||i==null||a==null)return;let l=s.length;if(s.endsWith(i))l=s.length-i.length;else if(s.startsWith(o))l=o.length;else{const u=o[a-1],c=s.indexOf(u,a-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const Dfn=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],Ofn=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],Rfn="ElInput",Ffn=me({name:Rfn,inheritAttrs:!1,__name:"input",props:kI,emits:$fn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=$p(),i=x5(),a=Ms(),l=O(()=>[r.type==="textarea"?m.b():g.b(),g.m(h.value),g.is("disabled",p.value),g.is("exceed",U.value),{[g.b("group")]:a.prepend||a.append,[g.m("prefix")]:a.prefix||r.prefixIcon,[g.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:M.value&&z.value,[g.b("hidden")]:r.type==="hidden"},o.class]),u=O(()=>[g.e("wrapper"),g.is("focus",T.value)]),{form:c,formItem:f}=Ro(),{inputId:d}=au(r,{formItemContext:f}),h=Fs(),p=jr(),g=Ae("input"),m=Ae("textarea"),v=cr(),y=cr(),w=j(!1),b=j(!1),C=j(),S=cr(r.inputStyle),$=O(()=>v.value||y.value),{wrapperRef:k,isFocused:T,handleFocus:_,handleBlur:E}=Hp($,{disabled:p,afterBlur(){var ye;r.validateEvent&&((ye=f?.validate)==null||ye.call(f,"blur").catch(Ge=>void 0))}}),A=O(()=>{var ye;return(ye=c?.statusIcon)!=null?ye:!1}),N=O(()=>f?.validateState||""),F=O(()=>N.value&&w5[N.value]),R=O(()=>b.value?ufn:Ocn),P=O(()=>[o.style]),I=O(()=>[r.inputStyle,S.value,{resize:r.resize}]),D=O(()=>vs(r.modelValue)?"":String(r.modelValue)),M=O(()=>r.clearable&&!p.value&&!r.readonly&&!!D.value&&(T.value||w.value)),z=O(()=>r.showPassword&&!p.value&&!!D.value),W=O(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!p.value&&!r.readonly&&!r.showPassword),H=O(()=>D.value.length),U=O(()=>!!W.value&&H.value>Number(r.maxlength)),K=O(()=>!!a.suffix||!!r.suffixIcon||M.value||r.showPassword||W.value||!!N.value&&A.value),G=O(()=>!!Object.keys(r.modelModifiers).length),[re,ue]=Nfn(v);Cr(y,ye=>{if(J(),!W.value||r.resize!=="both"&&r.resize!=="horizontal")return;const Ge=ye[0],{width:at}=Ge.contentRect;C.value={right:`calc(100% - ${at+22-10}px)`}});const ae=()=>{const{type:ye,autosize:Ge}=r;if(!(!Tn||ye!=="textarea"||!y.value))if(Ge){const at=Pt(Ge)?Ge.minRows:void 0,cn=Pt(Ge)?Ge.maxRows:void 0,lt=Uge(y.value,at,cn);S.value={overflowY:"hidden",...lt},Ye(()=>{y.value.offsetHeight,S.value=lt})}else S.value={minHeight:Uge(y.value).minHeight}},J=(ye=>{let Ge=!1;return()=>{var at;if(Ge||!r.autosize)return;((at=y.value)==null?void 0:at.offsetParent)===null||(setTimeout(ye),Ge=!0)}})(ae),q=()=>{const ye=$.value,Ge=r.formatter?r.formatter(D.value):D.value;!ye||ye.value===Ge||r.type==="file"||(ye.value=Ge)},L=ye=>{const{trim:Ge,number:at}=r.modelModifiers;return Ge&&(ye=ye.trim()),at&&(ye=`${Wge(ye)}`),r.formatter&&r.parser&&(ye=r.parser(ye)),ye},Q=async ye=>{if(de.value)return;const{lazy:Ge}=r.modelModifiers;let{value:at}=ye.target;if(Ge){s(Os,at);return}if(at=L(at),String(at)===D.value){r.formatter&&q();return}re(),s(Et,at),s(Os,at),await Ye(),(r.formatter&&r.parser||!G.value)&&q(),ue()},se=async ye=>{let{value:Ge}=ye.target;Ge=L(Ge),r.modelModifiers.lazy&&s(Et,Ge),s(en,Ge,ye),await Ye(),q()},{isComposing:de,handleCompositionStart:he,handleCompositionUpdate:ge,handleCompositionEnd:$e}=_I({emit:s,afterComposition:Q}),He=()=>{b.value=!b.value},Ie=()=>{var ye;return(ye=$.value)==null?void 0:ye.focus()},Ce=()=>{var ye;return(ye=$.value)==null?void 0:ye.blur()},Re=ye=>{w.value=!1,s("mouseleave",ye)},ze=ye=>{w.value=!0,s("mouseenter",ye)},Ue=ye=>{s("keydown",ye)},rt=()=>{var ye;(ye=$.value)==null||ye.select()},ht=()=>{s(Et,""),s(en,""),s("clear"),s(Os,"")};return xe(()=>r.modelValue,()=>{var ye;Ye(()=>ae()),r.validateEvent&&((ye=f?.validate)==null||ye.call(f,"change").catch(Ge=>void 0))}),xe(D,ye=>{if(!$.value)return;const{trim:Ge,number:at}=r.modelModifiers,cn=$.value.value,lt=(at||r.type==="number")&&!/^0\d/.test(cn)?`${Wge(cn)}`:cn;lt!==ye&&(document.activeElement===$.value&&$.value.type!=="range"&&Ge&&lt.trim()===ye||q())}),xe(()=>r.type,async()=>{await Ye(),q(),ae()}),Ht(()=>{!r.formatter&&r.parser,q(),Ye(ae)}),t({input:v,textarea:y,ref:$,textareaStyle:I,autosize:Bn(r,"autosize"),isComposing:de,focus:Ie,blur:Ce,select:rt,clear:ht,resizeTextarea:ae}),(ye,Ge)=>(B(),Y("div",{class:V([l.value,{[x(g).bm("group","append")]:ye.$slots.append,[x(g).bm("group","prepend")]:ye.$slots.prepend}]),style:dt(P.value),onMouseenter:ze,onMouseleave:Re},[fe(" input "),ye.type!=="textarea"?(B(),Y(it,{key:0},[fe(" prepend slot "),ye.$slots.prepend?(B(),Y("div",{key:0,class:V(x(g).be("group","prepend"))},[ce(ye.$slots,"prepend")],2)):fe("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:k,class:V(u.value)},[fe(" prefix slot "),ye.$slots.prefix||ye.prefixIcon?(B(),Y("span",{key:0,class:V(x(g).e("prefix"))},[Z("span",{class:V(x(g).e("prefix-inner"))},[ce(ye.$slots,"prefix"),ye.prefixIcon?(B(),pe(x(st),{key:0,class:V(x(g).e("icon"))},{default:ie(()=>[(B(),pe(zt(ye.prefixIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)):fe("v-if",!0),Z("input",Wt({id:x(d),ref_key:"input",ref:v,class:x(g).e("inner")},x(i),{name:ye.name,minlength:ye.minlength,maxlength:ye.maxlength,type:ye.showPassword?b.value?"text":"password":ye.type,disabled:x(p),readonly:ye.readonly,autocomplete:ye.autocomplete,tabindex:ye.tabindex,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,style:ye.inputStyle,form:ye.form,autofocus:ye.autofocus,role:ye.containerRole,inputmode:ye.inputmode,onCompositionstart:Ge[0]||(Ge[0]=(...at)=>x(he)&&x(he)(...at)),onCompositionupdate:Ge[1]||(Ge[1]=(...at)=>x(ge)&&x(ge)(...at)),onCompositionend:Ge[2]||(Ge[2]=(...at)=>x($e)&&x($e)(...at)),onInput:Q,onChange:se,onKeydown:Ue}),null,16,Dfn),fe(" suffix slot "),K.value?(B(),Y("span",{key:1,class:V(x(g).e("suffix"))},[Z("span",{class:V(x(g).e("suffix-inner"))},[!M.value||!z.value||!W.value?(B(),Y(it,{key:0},[ce(ye.$slots,"suffix"),ye.suffixIcon?(B(),pe(x(st),{key:0,class:V(x(g).e("icon"))},{default:ie(()=>[(B(),pe(zt(ye.suffixIcon)))]),_:1},8,["class"])):fe("v-if",!0)],64)):fe("v-if",!0),M.value?(B(),pe(x(st),{key:1,class:V([x(g).e("icon"),x(g).e("clear")]),onMousedown:xt(x(Rn),["prevent"]),onClick:ht},{default:ie(()=>[(B(),pe(zt(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0),z.value?(B(),pe(x(st),{key:2,class:V([x(g).e("icon"),x(g).e("password")]),onClick:He,onMousedown:xt(x(Rn),["prevent"]),onMouseup:xt(x(Rn),["prevent"])},{default:ie(()=>[(B(),pe(zt(R.value)))]),_:1},8,["class","onMousedown","onMouseup"])):fe("v-if",!0),W.value?(B(),Y("span",{key:3,class:V([x(g).e("count"),x(g).is("outside",ye.wordLimitPosition==="outside")])},[Z("span",{class:V(x(g).e("count-inner"))},Fe(H.value)+" / "+Fe(ye.maxlength),3)],2)):fe("v-if",!0),N.value&&F.value&&A.value?(B(),pe(x(st),{key:4,class:V([x(g).e("icon"),x(g).e("validateIcon"),x(g).is("loading",N.value==="validating")])},{default:ie(()=>[(B(),pe(zt(F.value)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)):fe("v-if",!0)],2),fe(" append slot "),ye.$slots.append?(B(),Y("div",{key:1,class:V(x(g).be("group","append"))},[ce(ye.$slots,"append")],2)):fe("v-if",!0)],64)):(B(),Y(it,{key:1},[fe(" textarea "),Z("textarea",Wt({id:x(d),ref_key:"textarea",ref:y,class:[x(m).e("inner"),x(g).is("focus",x(T))]},x(i),{name:ye.name,minlength:ye.minlength,maxlength:ye.maxlength,tabindex:ye.tabindex,disabled:x(p),readonly:ye.readonly,autocomplete:ye.autocomplete,style:I.value,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,form:ye.form,autofocus:ye.autofocus,rows:ye.rows,role:ye.containerRole,onCompositionstart:Ge[3]||(Ge[3]=(...at)=>x(he)&&x(he)(...at)),onCompositionupdate:Ge[4]||(Ge[4]=(...at)=>x(ge)&&x(ge)(...at)),onCompositionend:Ge[5]||(Ge[5]=(...at)=>x($e)&&x($e)(...at)),onInput:Q,onFocus:Ge[6]||(Ge[6]=(...at)=>x(_)&&x(_)(...at)),onBlur:Ge[7]||(Ge[7]=(...at)=>x(E)&&x(E)(...at)),onChange:se,onKeydown:Ue}),null,16,Ofn),W.value?(B(),Y("span",{key:0,style:dt(C.value),class:V([x(g).e("count"),x(g).is("outside",ye.wordLimitPosition==="outside")])},Fe(H.value)+" / "+Fe(ye.maxlength),7)):fe("v-if",!0)],64))],38))}});var Mfn=Ve(Ffn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Xi=Rt(Mfn),Ab=4,SLe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Pfn=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),vne=Symbol("scrollbarContextKey"),Lfn=Me({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Bfn="Thumb",zfn=me({__name:"thumb",props:Lfn,setup(e){const t=e,n=tt(vne),r=Ae("scrollbar");n||Ts(Bfn,"can not inject scrollbar context");const s=j(),o=j(),i=j({}),a=j(!1);let l=!1,u=!1,c=0,f=0,d=Tn?document.onselectstart:null;const h=O(()=>SLe[t.vertical?"vertical":"horizontal"]),p=O(()=>Pfn({size:t.size,move:t.move,bar:h.value})),g=O(()=>s.value[h.value.offset]**2/n.wrapElement[h.value.scrollSize]/t.ratio/o.value[h.value.offset]),m=k=>{var T;if(k.stopPropagation(),k.ctrlKey||[1,2].includes(k.button))return;(T=window.getSelection())==null||T.removeAllRanges(),y(k);const _=k.currentTarget;_&&(i.value[h.value.axis]=_[h.value.offset]-(k[h.value.client]-_.getBoundingClientRect()[h.value.direction]))},v=k=>{if(!o.value||!s.value||!n.wrapElement)return;const T=Math.abs(k.target.getBoundingClientRect()[h.value.direction]-k[h.value.client]),_=o.value[h.value.offset]/2,E=(T-_)*100*g.value/s.value[h.value.offset];n.wrapElement[h.value.scroll]=E*n.wrapElement[h.value.scrollSize]/100},y=k=>{k.stopImmediatePropagation(),l=!0,c=n.wrapElement.scrollHeight,f=n.wrapElement.scrollWidth,document.addEventListener("mousemove",w),document.addEventListener("mouseup",b),d=document.onselectstart,document.onselectstart=()=>!1},w=k=>{if(!s.value||!o.value||l===!1)return;const T=i.value[h.value.axis];if(!T)return;const _=(s.value.getBoundingClientRect()[h.value.direction]-k[h.value.client])*-1,E=o.value[h.value.offset]-T,A=(_-E)*100*g.value/s.value[h.value.offset];h.value.scroll==="scrollLeft"?n.wrapElement[h.value.scroll]=A*f/100:n.wrapElement[h.value.scroll]=A*c/100},b=()=>{l=!1,i.value[h.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",b),$(),u&&(a.value=!1)},C=()=>{u=!1,a.value=!!t.size},S=()=>{u=!0,a.value=l};Dn(()=>{$(),document.removeEventListener("mouseup",b)});const $=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return Fn(Bn(n,"scrollbarElement"),"mousemove",C),Fn(Bn(n,"scrollbarElement"),"mouseleave",S),(k,T)=>(B(),pe(Ho,{name:x(r).b("fade"),persisted:""},{default:ie(()=>[Lt(Z("div",{ref_key:"instance",ref:s,class:V([x(r).e("bar"),x(r).is(h.value.key)]),onMousedown:v,onClick:T[0]||(T[0]=xt(()=>{},["stop"]))},[Z("div",{ref_key:"thumb",ref:o,class:V(x(r).e("thumb")),style:dt(p.value),onMousedown:m},null,38)],34),[[Sn,k.always||a.value]])]),_:1},8,["name"]))}});var Gge=Ve(zfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Vfn=Me({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Wfn=me({__name:"bar",props:Vfn,setup(e,{expose:t}){const n=e,r=tt(vne),s=j(0),o=j(0),i=j(""),a=j(""),l=j(1),u=j(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-Ab,p=d.offsetWidth-Ab;o.value=d.scrollTop*100/h*l.value,s.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r?.wrapElement;if(!d)return;const h=d.offsetHeight-Ab,p=d.offsetWidth-Ab,g=h**2/d.scrollHeight,m=p**2/d.scrollWidth,v=Math.max(g,n.minSize),y=Math.max(m,n.minSize);l.value=g/(h-g)/(v/(h-v)),u.value=m/(p-m)/(y/(p-y)),a.value=v+Ab<h?`${v}px`:"",i.value=y+Ab<p?`${y}px`:""}}),(d,h)=>(B(),Y(it,null,[ee(Gge,{move:s.value,ratio:u.value,size:i.value,always:d.always},null,8,["move","ratio","size","always"]),ee(Gge,{move:o.value,ratio:l.value,size:a.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var Ufn=Ve(Wfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const jfn=Me({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:oe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...fa(["ariaLabel","ariaOrientation"])}),$Le={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(pt)},Hfn=["tabindex"],qfn="ElScrollbar",Gfn=me({name:qfn,__name:"scrollbar",props:jfn,emits:$Le,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("scrollbar");let i,a,l,u=0,c=0,f="";const d={bottom:!1,top:!1,right:!1,left:!1},h=j(),p=j(),g=j(),m=j(),v=O(()=>{const A={},N=Vr(r.height),F=Vr(r.maxHeight);return N&&(A.height=N),F&&(A.maxHeight=F),[r.wrapStyle,A]}),y=O(()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}]),w=O(()=>[o.e("view"),r.viewClass]),b=A=>{var N;return(N=d[A])!=null?N:!1},C={top:"bottom",bottom:"top",left:"right",right:"left"},S=A=>{const N=C[f];if(!N)return;const F=A[f],R=A[N];F&&!d[f]&&(d[f]=!0),!R&&d[N]&&(d[N]=!1)},$=()=>{var A;if(p.value){(A=m.value)==null||A.handleScroll(p.value);const N=u,F=c;u=p.value.scrollTop,c=p.value.scrollLeft;const R={bottom:u+p.value.clientHeight>=p.value.scrollHeight-r.distance,top:u<=r.distance&&N!==0,right:c+p.value.clientWidth>=p.value.scrollWidth-r.distance&&F!==c,left:c<=r.distance&&F!==0};if(s("scroll",{scrollTop:u,scrollLeft:c}),N!==u&&(f=u>N?"bottom":"top"),F!==c&&(f=c>F?"right":"left"),r.distance>0){if(b(f))return;S(R)}R[f]&&s("end-reached",f)}};function k(A,N){Pt(A)?p.value.scrollTo(A):pt(A)&&pt(N)&&p.value.scrollTo(A,N)}const T=A=>{pt(A)&&(p.value.scrollTop=A)},_=A=>{pt(A)&&(p.value.scrollLeft=A)},E=()=>{var A;(A=m.value)==null||A.update(),d[f]=!1};return xe(()=>r.noresize,A=>{A?(i?.(),a?.(),l?.()):({stop:i}=Cr(g,E),{stop:a}=Cr(p,E),l=Fn("resize",E))},{immediate:!0}),xe(()=>[r.maxHeight,r.height],()=>{r.native||Ye(()=>{var A;E(),p.value&&((A=m.value)==null||A.handleScroll(p.value))})}),ln(vne,In({scrollbarElement:h,wrapElement:p})),FM(()=>{p.value&&(p.value.scrollTop=u,p.value.scrollLeft=c)}),Ht(()=>{r.native||Ye(()=>{E()})}),Yc(()=>E()),t({wrapRef:p,update:E,scrollTo:k,setScrollTop:T,setScrollLeft:_,handleScroll:$}),(A,N)=>(B(),Y("div",{ref_key:"scrollbarRef",ref:h,class:V(x(o).b())},[Z("div",{ref_key:"wrapRef",ref:p,class:V(y.value),style:dt(v.value),tabindex:A.tabindex,onScroll:$},[(B(),pe(zt(A.tag),{id:A.id,ref_key:"resizeRef",ref:g,class:V(w.value),style:dt(A.viewStyle),role:A.role,"aria-label":A.ariaLabel,"aria-orientation":A.ariaOrientation},{default:ie(()=>[ce(A.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,Hfn),A.native?fe("v-if",!0):(B(),pe(Ufn,{key:0,ref_key:"barRef",ref:m,always:A.always,"min-size":A.minSize},null,8,["always","min-size"]))],2))}});var Kfn=Ve(Gfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const jc=Rt(Kfn),yne=Symbol("popper"),kLe=Symbol("popperContent"),ELe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],_Le=Me({role:{type:String,values:ELe,default:"tooltip"}}),Yfn=me({name:"ElPopper",inheritAttrs:!1,__name:"popper",props:_Le,setup(e,{expose:t}){const n=e,r=j(),s=j(),o=j(),i=j(),a=O(()=>n.role),l={triggerRef:r,popperInstanceRef:s,contentRef:o,referenceRef:i,role:a};return t(l),ln(yne,l),(u,c)=>ce(u.$slots,"default")}});var Xfn=Ve(Yfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Zfn=me({name:"ElPopperArrow",inheritAttrs:!1,__name:"arrow",setup(e,{expose:t}){const n=Ae("popper"),{arrowRef:r,arrowStyle:s}=tt(kLe,void 0);return Dn(()=>{r.value=void 0}),t({arrowRef:r}),(o,i)=>(B(),Y("span",{ref_key:"arrowRef",ref:r,class:V(x(n).e("arrow")),style:dt(x(s)),"data-popper-arrow":""},null,6))}});var Jfn=Ve(Zfn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const TLe=Me({virtualRef:{type:oe(Object)},virtualTriggering:Boolean,onMouseenter:{type:oe(Function)},onMouseleave:{type:oe(Function)},onClick:{type:oe(Function)},onKeydown:{type:oe(Function)},onFocus:{type:oe(Function)},onBlur:{type:oe(Function)},onContextmenu:{type:oe(Function)},id:String,open:Boolean}),ALe=Symbol("elForwardRef"),Qfn=e=>{ln(ALe,{setForwardRef:n=>{e.value=n}})},edn=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),tdn="ElOnlyChild",ILe=me({name:tdn,setup(e,{slots:t,attrs:n}){var r;const s=tt(ALe),o=edn((r=s?.setForwardRef)!=null?r:Rn);return()=>{var i;const a=(i=t.default)==null?void 0:i.call(t,n);if(!a)return null;const[l,u]=NLe(a);return l?Lt(np(l,n),[[o]]):null}}});function NLe(e){if(!e)return[null,0];const t=e,n=t.filter(r=>r.type!==ps).length;for(const r of t){if(Pt(r))switch(r.type){case ps:continue;case Xx:case"svg":return[Kge(r),n];case it:return NLe(r.children);default:return[r,n]}return[Kge(r),n]}return[null,0]}function Kge(e){const t=Ae("only-child");return ee("span",{class:t.e("content")},[e])}const ndn=me({name:"ElPopperTrigger",inheritAttrs:!1,__name:"trigger",props:TLe,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=tt(yne,void 0);Qfn(s);const o=O(()=>a.value?n.id:void 0),i=O(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=O(()=>{if(r&&r.value!=="tooltip")return r.value}),l=O(()=>a.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Ht(()=>{xe(()=>n.virtualRef,f=>{f&&(s.value=Vs(f))},{immediate:!0}),xe(s,(f,d)=>{u?.(),u=void 0,ul(d)&&c.forEach(h=>{const p=n[h];p&&d.removeEventListener(h.slice(2).toLowerCase(),p,["onFocus","onBlur"].includes(h))}),ul(f)&&(c.forEach(h=>{const p=n[h];p&&f.addEventListener(h.slice(2).toLowerCase(),p,["onFocus","onBlur"].includes(h))}),c_(f)&&(u=xe([o,i,a,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{vs(h[g])?f.removeAttribute(p):f.setAttribute(p,h[g])})},{immediate:!0}))),ul(d)&&c_(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),Dn(()=>{if(u?.(),u=void 0,s.value&&ul(s.value)){const f=s.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h,["onFocus","onBlur"].includes(d))}),s.value=void 0}}),t({triggerRef:s}),(f,d)=>f.virtualTriggering?fe("v-if",!0):(B(),pe(x(ILe),Wt({key:0},f.$attrs,{"aria-controls":o.value,"aria-describedby":i.value,"aria-expanded":l.value,"aria-haspopup":a.value}),{default:ie(()=>[ce(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var rdn=Ve(ndn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const A7="focus-trap.focus-after-trapped",I7="focus-trap.focus-after-released",sdn="focus-trap.focusout-prevented",Yge={cancelable:!0,bubbles:!1},odn={cancelable:!0,bubbles:!1},Xge="focusAfterTrapped",Zge="focusAfterReleased",DLe=Symbol("elFocusTrap"),bne=j(),C5=j(0),wne=j(0);let ND=0;const OLe=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},Jge=(e,t)=>{for(const n of e)if(!idn(n,t))return n},idn=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},adn=e=>{const t=OLe(e),n=Jge(t,e),r=Jge(t.reverse(),e);return[n,r]},ldn=e=>e instanceof HTMLInputElement&&"select"in e,cg=(e,t)=>{if(e){const n=document.activeElement;EI(e,{preventScroll:!0}),wne.value=window.performance.now(),e!==n&&ldn(e)&&t&&e.select()}};function Qge(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const udn=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=Qge(e,r),e.unshift(r)},remove:r=>{var s,o;e=Qge(e,r),(o=(s=e[0])==null?void 0:s.resume)==null||o.call(s)}}},cdn=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(cg(r,t),document.activeElement!==n)return},eme=udn(),fdn=()=>C5.value>wne.value,DD=()=>{bne.value="pointer",C5.value=window.performance.now()},tme=()=>{bne.value="keyboard",C5.value=window.performance.now()},ddn=()=>(Ht(()=>{ND===0&&(document.addEventListener("mousedown",DD),document.addEventListener("touchstart",DD),document.addEventListener("keydown",tme)),ND++}),Dn(()=>{ND--,ND<=0&&(document.removeEventListener("mousedown",DD),document.removeEventListener("touchstart",DD),document.removeEventListener("keydown",tme))}),{focusReason:bne,lastUserFocusTimestamp:C5,lastAutomatedFocusTimestamp:wne}),OD=e=>new CustomEvent(sdn,{...odn,detail:e}),Oe={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},to=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const o=e?.(s);if(n===!1||!o)return t?.(s)},nme=e=>t=>t.pointerType==="mouse"?e(t):void 0,Hn=e=>{if(e.code&&e.code!=="Unidentified")return e.code;const t=RLe(e);return t?Object.values(Oe).includes(t)?t:t===" "?Oe.space:"":""},RLe=e=>{let t=e.key&&e.key!=="Unidentified"?e.key:"";if(!t&&e.type==="keyup"&&bLe()){const n=e.target;t=n.value.charAt(n.selectionStart-1)}return t};let Vb=[];const rme=e=>{Hn(e)===Oe.esc&&Vb.forEach(n=>n(e))},hdn=e=>{Ht(()=>{Vb.length===0&&document.addEventListener("keydown",rme),Tn&&Vb.push(e)}),Dn(()=>{Vb=Vb.filter(t=>t!==e),Vb.length===0&&Tn&&document.removeEventListener("keydown",rme)})},pdn=me({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Xge,Zge,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=j();let r,s;const{focusReason:o}=ddn();hdn(p=>{e.trapped&&!i.paused&&t("release-requested",p)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!e.loop&&!e.trapped||i.paused)return;const{altKey:g,ctrlKey:m,metaKey:v,currentTarget:y,shiftKey:w}=p,{loop:b}=e,S=Hn(p)===Oe.tab&&!g&&!m&&!v,$=document.activeElement;if(S&&$){const k=y,[T,_]=adn(k);if(T&&_){if(!w&&$===_){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),b&&cg(T,!0))}else if(w&&[T,k].includes($)){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),b&&cg(_,!0))}}else if($===k){const A=OD({focusReason:o.value});t("focusout-prevented",A),A.defaultPrevented||p.preventDefault()}}};ln(DLe,{focusTrapRef:n,onKeydown:a}),xe(()=>e.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),xe([n],([p],[g])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),g&&(g.removeEventListener("keydown",a),g.removeEventListener("focusin",c),g.removeEventListener("focusout",f))});const l=p=>{t(Xge,p)},u=p=>t(Zge,p),c=p=>{const g=x(n);if(!g)return;const m=p.target,v=p.relatedTarget,y=m&&g.contains(m);e.trapped||v&&g.contains(v)||(r=v),y&&t("focusin",p),!i.paused&&e.trapped&&(y?s=m:cg(s,!0))},f=p=>{const g=x(n);if(!(i.paused||!g))if(e.trapped){const m=p.relatedTarget;!vs(m)&&!g.contains(m)&&setTimeout(()=>{if(!i.paused&&e.trapped){const v=OD({focusReason:o.value});t("focusout-prevented",v),v.defaultPrevented||cg(s,!0)}},0)}else{const m=p.target;m&&g.contains(m)||t("focusout",p)}};async function d(){await Ye();const p=x(n);if(p){eme.push(i);const g=p.contains(document.activeElement)?r:document.activeElement;if(r=g,!p.contains(g)){const v=new Event(A7,Yge);p.addEventListener(A7,l),p.dispatchEvent(v),v.defaultPrevented||Ye(()=>{let y=e.focusStartEl;ot(y)||(cg(y),document.activeElement!==y&&(y="first")),y==="first"&&cdn(OLe(p),!0),(document.activeElement===g||y==="container")&&cg(p)})}}}function h(){const p=x(n);if(p){p.removeEventListener(A7,l);const g=new CustomEvent(I7,{...Yge,detail:{focusReason:o.value}});p.addEventListener(I7,u),p.dispatchEvent(g),!g.defaultPrevented&&(o.value=="keyboard"||!fdn()||p.contains(document.activeElement))&&cg(r??document.body),p.removeEventListener(I7,u),eme.remove(i),r=null,s=null}}return Ht(()=>{e.trapped&&d(),xe(()=>e.trapped,p=>{p?d():h()})}),Dn(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",a),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0),r=null,s=null}),{onKeydown:a}}});function gdn(e,t,n,r,s,o){return ce(e.$slots,"default",{handleKeydown:e.onKeydown})}var YC=Ve(pdn,[["render",gdn],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]),hl="top",qu="bottom",Gu="right",pl="left",xne="auto",TI=[hl,qu,Gu,pl],Fx="start",f_="end",mdn="clippingParents",FLe="viewport",GS="popper",vdn="reference",sme=TI.reduce(function(e,t){return e.concat([t+"-"+Fx,t+"-"+f_])},[]),qp=[].concat(TI,[xne]).reduce(function(e,t){return e.concat([t,t+"-"+Fx,t+"-"+f_])},[]),ydn="beforeRead",bdn="read",wdn="afterRead",xdn="beforeMain",Cdn="main",Sdn="afterMain",$dn="beforeWrite",kdn="write",Edn="afterWrite",_dn=[ydn,bdn,wdn,xdn,Cdn,Sdn,$dn,kdn,Edn];function Id(e){return e?(e.nodeName||"").toLowerCase():null}function gf(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mx(e){var t=gf(e).Element;return e instanceof t||e instanceof Element}function Ru(e){var t=gf(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Cne(e){if(typeof ShadowRoot>"u")return!1;var t=gf(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Tdn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},o=t.elements[n];!Ru(o)||!Id(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function Adn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],o=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=i.reduce(function(l,u){return l[u]="",l},{});!Ru(s)||!Id(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var MLe={name:"applyStyles",enabled:!0,phase:"write",fn:Tdn,effect:Adn,requires:["computeStyles"]};function nd(e){return e.split("-")[0]}var l1=Math.max,sM=Math.min,Px=Math.round;function Lx(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Ru(e)&&t){var o=e.offsetHeight,i=e.offsetWidth;i>0&&(r=Px(n.width)/i||1),o>0&&(s=Px(n.height)/o||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Sne(e){var t=Lx(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function PLe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Cne(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wp(e){return gf(e).getComputedStyle(e)}function Idn(e){return["table","td","th"].indexOf(Id(e))>=0}function D0(e){return((Mx(e)?e.ownerDocument:e.document)||window.document).documentElement}function S5(e){return Id(e)==="html"?e:e.assignedSlot||e.parentNode||(Cne(e)?e.host:null)||D0(e)}function ome(e){return!Ru(e)||wp(e).position==="fixed"?null:e.offsetParent}function Ndn(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Ru(e)){var r=wp(e);if(r.position==="fixed")return null}var s=S5(e);for(Cne(s)&&(s=s.host);Ru(s)&&["html","body"].indexOf(Id(s))<0;){var o=wp(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function AI(e){for(var t=gf(e),n=ome(e);n&&Idn(n)&&wp(n).position==="static";)n=ome(n);return n&&(Id(n)==="html"||Id(n)==="body"&&wp(n).position==="static")?t:n||Ndn(e)||t}function $ne(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gk(e,t,n){return l1(e,sM(t,n))}function Ddn(e,t,n){var r=gk(e,t,n);return r>n?n:r}function LLe(){return{top:0,right:0,bottom:0,left:0}}function BLe(e){return Object.assign({},LLe(),e)}function zLe(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Odn=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,BLe(typeof e!="number"?e:zLe(e,TI))};function Rdn(e){var t,n=e.state,r=e.name,s=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=nd(n.placement),l=$ne(a),u=[pl,Gu].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!i)){var f=Odn(s.padding,n),d=Sne(o),h=l==="y"?hl:pl,p=l==="y"?qu:Gu,g=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],m=i[l]-n.rects.reference[l],v=AI(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=g/2-m/2,b=f[h],C=y-d[c]-f[p],S=y/2-d[c]/2+w,$=gk(b,S,C),k=l;n.modifiersData[r]=(t={},t[k]=$,t.centerOffset=$-S,t)}}function Fdn(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!PLe(t.elements.popper,s)||(t.elements.arrow=s))}var Mdn={name:"arrow",enabled:!0,phase:"main",fn:Rdn,effect:Fdn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bx(e){return e.split("-")[1]}var Pdn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ldn(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:Px(t*s)/s||0,y:Px(n*s)/s||0}}function ime(e){var t,n=e.popper,r=e.popperRect,s=e.placement,o=e.variation,i=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=i.x,h=d===void 0?0:d,p=i.y,g=p===void 0?0:p,m=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),w=pl,b=hl,C=window;if(u){var S=AI(n),$="clientHeight",k="clientWidth";if(S===gf(n)&&(S=D0(n),wp(S).position!=="static"&&a==="absolute"&&($="scrollHeight",k="scrollWidth")),S=S,s===hl||(s===pl||s===Gu)&&o===f_){b=qu;var T=f&&S===C&&C.visualViewport?C.visualViewport.height:S[$];g-=T-r.height,g*=l?1:-1}if(s===pl||(s===hl||s===qu)&&o===f_){w=Gu;var _=f&&S===C&&C.visualViewport?C.visualViewport.width:S[k];h-=_-r.width,h*=l?1:-1}}var E=Object.assign({position:a},u&&Pdn),A=c===!0?Ldn({x:h,y:g}):{x:h,y:g};if(h=A.x,g=A.y,l){var N;return Object.assign({},E,(N={},N[b]=y?"0":"",N[w]=v?"0":"",N.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",N))}return Object.assign({},E,(t={},t[b]=y?g+"px":"",t[w]=v?h+"px":"",t.transform="",t))}function Bdn(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:nd(t.placement),variation:Bx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ime(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ime(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var VLe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bdn,data:{}},RD={passive:!0};function zdn(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,l=gf(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,RD)}),a&&l.addEventListener("resize",n.update,RD),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,RD)}),a&&l.removeEventListener("resize",n.update,RD)}}var WLe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zdn,data:{}},Vdn={left:"right",right:"left",bottom:"top",top:"bottom"};function V3(e){return e.replace(/left|right|bottom|top/g,function(t){return Vdn[t]})}var Wdn={start:"end",end:"start"};function ame(e){return e.replace(/start|end/g,function(t){return Wdn[t]})}function kne(e){var t=gf(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ene(e){return Lx(D0(e)).left+kne(e).scrollLeft}function Udn(e){var t=gf(e),n=D0(e),r=t.visualViewport,s=n.clientWidth,o=n.clientHeight,i=0,a=0;return r&&(s=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,a=r.offsetTop)),{width:s,height:o,x:i+Ene(e),y:a}}function jdn(e){var t,n=D0(e),r=kne(e),s=(t=e.ownerDocument)==null?void 0:t.body,o=l1(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=l1(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Ene(e),l=-r.scrollTop;return wp(s||n).direction==="rtl"&&(a+=l1(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}function _ne(e){var t=wp(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function ULe(e){return["html","body","#document"].indexOf(Id(e))>=0?e.ownerDocument.body:Ru(e)&&_ne(e)?e:ULe(S5(e))}function mk(e,t){var n;t===void 0&&(t=[]);var r=ULe(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),o=gf(r),i=s?[o].concat(o.visualViewport||[],_ne(r)?r:[]):r,a=t.concat(i);return s?a:a.concat(mk(S5(i)))}function oH(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hdn(e){var t=Lx(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function lme(e,t){return t===FLe?oH(Udn(e)):Mx(t)?Hdn(t):oH(jdn(D0(e)))}function qdn(e){var t=mk(S5(e)),n=["absolute","fixed"].indexOf(wp(e).position)>=0,r=n&&Ru(e)?AI(e):e;return Mx(r)?t.filter(function(s){return Mx(s)&&PLe(s,r)&&Id(s)!=="body"}):[]}function Gdn(e,t,n){var r=t==="clippingParents"?qdn(e):[].concat(t),s=[].concat(r,[n]),o=s[0],i=s.reduce(function(a,l){var u=lme(e,l);return a.top=l1(u.top,a.top),a.right=sM(u.right,a.right),a.bottom=sM(u.bottom,a.bottom),a.left=l1(u.left,a.left),a},lme(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function jLe(e){var t=e.reference,n=e.element,r=e.placement,s=r?nd(r):null,o=r?Bx(r):null,i=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(s){case hl:l={x:i,y:t.y-n.height};break;case qu:l={x:i,y:t.y+t.height};break;case Gu:l={x:t.x+t.width,y:a};break;case pl:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=s?$ne(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Fx:l[u]=l[u]-(t[c]/2-n[c]/2);break;case f_:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function d_(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,o=n.boundary,i=o===void 0?mdn:o,a=n.rootBoundary,l=a===void 0?FLe:a,u=n.elementContext,c=u===void 0?GS:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,g=BLe(typeof p!="number"?p:zLe(p,TI)),m=c===GS?vdn:GS,v=e.rects.popper,y=e.elements[d?m:c],w=Gdn(Mx(y)?y:y.contextElement||D0(e.elements.popper),i,l),b=Lx(e.elements.reference),C=jLe({reference:b,element:v,placement:s}),S=oH(Object.assign({},v,C)),$=c===GS?S:b,k={top:w.top-$.top+g.top,bottom:$.bottom-w.bottom+g.bottom,left:w.left-$.left+g.left,right:$.right-w.right+g.right},T=e.modifiersData.offset;if(c===GS&&T){var _=T[s];Object.keys(k).forEach(function(E){var A=[Gu,qu].indexOf(E)>=0?1:-1,N=[hl,qu].indexOf(E)>=0?"y":"x";k[E]+=_[N]*A})}return k}function Kdn(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?qp:l,c=Bx(r),f=c?a?sme:sme.filter(function(p){return Bx(p)===c}):TI,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=d_(e,{placement:g,boundary:s,rootBoundary:o,padding:i})[nd(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function Ydn(e){if(nd(e)===xne)return[];var t=V3(e);return[ame(e),t,ame(t)]}function Xdn(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,m=t.options.placement,v=nd(m),y=v===m,w=l||(y||!p?[V3(m)]:Ydn(m)),b=[m].concat(w).reduce(function(K,G){return K.concat(nd(G)===xne?Kdn(t,{placement:G,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:g}):G)},[]),C=t.rects.reference,S=t.rects.popper,$=new Map,k=!0,T=b[0],_=0;_<b.length;_++){var E=b[_],A=nd(E),N=Bx(E)===Fx,F=[hl,qu].indexOf(A)>=0,R=F?"width":"height",P=d_(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),I=F?N?Gu:pl:N?qu:hl;C[R]>S[R]&&(I=V3(I));var D=V3(I),M=[];if(o&&M.push(P[A]<=0),a&&M.push(P[I]<=0,P[D]<=0),M.every(function(K){return K})){T=E,k=!1;break}$.set(E,M)}if(k)for(var z=p?3:1,W=function(K){var G=b.find(function(re){var ue=$.get(re);if(ue)return ue.slice(0,K).every(function(ae){return ae})});if(G)return T=G,"break"},H=z;H>0;H--){var U=W(H);if(U==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var Zdn={name:"flip",enabled:!0,phase:"main",fn:Xdn,requiresIfExists:["offset"],data:{_skip:!1}};function ume(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cme(e){return[hl,Gu,qu,pl].some(function(t){return e[t]>=0})}function Jdn(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,i=d_(t,{elementContext:"reference"}),a=d_(t,{altBoundary:!0}),l=ume(i,r),u=ume(a,s,o),c=cme(l),f=cme(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var Qdn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jdn};function ehn(e,t,n){var r=nd(e),s=[pl,hl].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[pl,Gu].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function thn(e){var t=e.state,n=e.options,r=e.name,s=n.offset,o=s===void 0?[0,0]:s,i=qp.reduce(function(c,f){return c[f]=ehn(f,t.rects,o),c},{}),a=i[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}var nhn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:thn};function rhn(e){var t=e.state,n=e.name;t.modifiersData[n]=jLe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var HLe={name:"popperOffsets",enabled:!0,phase:"read",fn:rhn,data:{}};function shn(e){return e==="x"?"y":"x"}function ohn(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,o=s===void 0?!0:s,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,g=p===void 0?0:p,m=d_(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),v=nd(t.placement),y=Bx(t.placement),w=!y,b=$ne(v),C=shn(b),S=t.modifiersData.popperOffsets,$=t.rects.reference,k=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,_=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(S){if(o){var N,F=b==="y"?hl:pl,R=b==="y"?qu:Gu,P=b==="y"?"height":"width",I=S[b],D=I+m[F],M=I-m[R],z=h?-k[P]/2:0,W=y===Fx?$[P]:k[P],H=y===Fx?-k[P]:-$[P],U=t.elements.arrow,K=h&&U?Sne(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:LLe(),re=G[F],ue=G[R],ae=gk(0,$[P],K[P]),X=w?$[P]/2-z-ae-re-_.mainAxis:W-ae-re-_.mainAxis,J=w?-$[P]/2+z+ae+ue+_.mainAxis:H+ae+ue+_.mainAxis,q=t.elements.arrow&&AI(t.elements.arrow),L=q?b==="y"?q.clientTop||0:q.clientLeft||0:0,Q=(N=E?.[b])!=null?N:0,se=I+X-Q-L,de=I+J-Q,he=gk(h?sM(D,se):D,I,h?l1(M,de):M);S[b]=he,A[b]=he-I}if(a){var ge,$e=b==="x"?hl:pl,He=b==="x"?qu:Gu,Ie=S[C],Ce=C==="y"?"height":"width",Re=Ie+m[$e],ze=Ie-m[He],Ue=[hl,pl].indexOf(v)!==-1,rt=(ge=E?.[C])!=null?ge:0,ht=Ue?Re:Ie-$[Ce]-k[Ce]-rt+_.altAxis,ye=Ue?Ie+$[Ce]+k[Ce]-rt-_.altAxis:ze,Ge=h&&Ue?Ddn(ht,Ie,ye):gk(h?ht:Re,Ie,h?ye:ze);S[C]=Ge,A[C]=Ge-Ie}t.modifiersData[r]=A}}var ihn={name:"preventOverflow",enabled:!0,phase:"main",fn:ohn,requiresIfExists:["offset"]};function ahn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function lhn(e){return e===gf(e)||!Ru(e)?kne(e):ahn(e)}function uhn(e){var t=e.getBoundingClientRect(),n=Px(t.width)/e.offsetWidth||1,r=Px(t.height)/e.offsetHeight||1;return n!==1||r!==1}function chn(e,t,n){n===void 0&&(n=!1);var r=Ru(t),s=Ru(t)&&uhn(t),o=D0(t),i=Lx(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Id(t)!=="body"||_ne(o))&&(a=lhn(t)),Ru(t)?(l=Lx(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Ene(o))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function fhn(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function s(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&s(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||s(o)}),r}function dhn(e){var t=fhn(e);return _dn.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function hhn(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function phn(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var fme={placement:"bottom",modifiers:[],strategy:"absolute"};function dme(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Tne(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,o=s===void 0?fme:s;return function(i,a,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},fme,o),modifiersData:{},elements:{reference:i,popper:a},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(g){var m=typeof g=="function"?g(u.options):g;p(),u.options=Object.assign({},o,u.options,m),u.scrollParents={reference:Mx(i)?mk(i):i.contextElement?mk(i.contextElement):[],popper:mk(a)};var v=dhn(phn([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var g=u.elements,m=g.reference,v=g.popper;if(dme(m,v)){u.rects={reference:chn(m,AI(v),u.options.strategy==="fixed"),popper:Sne(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var w=u.orderedModifiers[y],b=w.fn,C=w.options,S=C===void 0?{}:C,$=w.name;typeof b=="function"&&(u=b({state:u,options:S,name:$,instance:d})||u)}}}},update:hhn(function(){return new Promise(function(g){d.forceUpdate(),g(u)})}),destroy:function(){p(),f=!0}};if(!dme(i,a))return d;d.setOptions(l).then(function(g){!f&&l.onFirstUpdate&&l.onFirstUpdate(g)});function h(){u.orderedModifiers.forEach(function(g){var m=g.name,v=g.options,y=v===void 0?{}:v,w=g.effect;if(typeof w=="function"){var b=w({state:u,name:m,instance:d,options:y}),C=function(){};c.push(b||C)}})}function p(){c.forEach(function(g){return g()}),c=[]}return d}}Tne();var ghn=[WLe,HLe,VLe,MLe];Tne({defaultModifiers:ghn});var mhn=[WLe,HLe,VLe,MLe,nhn,Zdn,ihn,Mdn,Qdn],vhn=Tne({defaultModifiers:mhn});const qLe=Me({arrowOffset:{type:Number,default:5}}),yhn=["fixed","absolute"],bhn=Me({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:oe(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:qp,default:"bottom"},popperOptions:{type:oe(Object),default:()=>({})},strategy:{type:String,values:yhn,default:"absolute"}}),GLe=Me({...bhn,...qLe,id:String,style:{type:oe([String,Array,Object])},className:{type:oe([String,Array,Object])},effect:{type:oe(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:oe([String,Array,Object])},popperStyle:{type:oe([String,Array,Object])},referenceEl:{type:oe(Object)},triggerTargetEl:{type:oe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...fa(["ariaLabel"]),loop:Boolean}),whn={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},xhn=(e,t)=>{const n=j(!1),r=j(),s=()=>{t("focus")},o=u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},i=u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},a=u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},l=()=>{n.value=!1,t("close")};return Dn(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:i,onFocusoutPrevented:a,onReleaseRequested:l}},Chn=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,o={placement:n,strategy:r,...s,modifiers:[...$hn(e),...t]};return khn(o,s?.modifiers),o},Shn=e=>{if(Tn)return Vs(e)};function $hn(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function khn(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Ehn=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=_hn(l);Object.assign(i.value,u)},requires:["computeStyles"]},s=O(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=x(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),o=cr(),i=j({styles:{popper:{position:x(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return xe(s,l=>{const u=x(o);u&&u.setOptions(l)},{deep:!0}),xe([e,t],([l,u])=>{a(),!(!l||!u)&&(o.value=vhn(l,u,x(s)))}),Dn(()=>{a()}),{state:O(()=>{var l;return{...((l=x(o))==null?void 0:l.state)||{}}}),styles:O(()=>x(i).styles),attributes:O(()=>x(i).attributes),update:()=>{var l;return(l=x(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=x(o))==null?void 0:l.forceUpdate()},instanceRef:O(()=>x(o))}};function _hn(e){const t=Object.keys(e.elements),n=a_(t.map(s=>[s,e.styles[s]||{}])),r=a_(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}const Thn=0,Ahn=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=tt(yne,void 0),o=j(),i=O(()=>e.arrowOffset),a=O(()=>({name:"eventListeners",enabled:!!e.visible})),l=O(()=>{var v;const y=x(o),w=(v=x(i))!=null?v:Thn;return{name:"arrow",enabled:!Qln(y),options:{element:y,padding:w}}}),u=O(()=>({onFirstUpdate:()=>{p()},...Chn(e,[x(l),x(a)])})),c=O(()=>Shn(e.referenceEl)||x(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:g,instanceRef:m}=Ehn(c,n,u);return xe(m,v=>t.value=v,{flush:"sync"}),Ht(()=>{xe(()=>{var v,y;return(y=(v=x(c))==null?void 0:v.getBoundingClientRect)==null?void 0:y.call(v)},()=>{p()})}),Dn(()=>{t.value=void 0}),{attributes:f,arrowRef:o,contentRef:n,instanceRef:m,state:d,styles:h,role:s,forceUpdate:g,update:p}},Ihn=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=xI(),o=Ae("popper"),i=O(()=>x(t).popper),a=j(pt(e.zIndex)?e.zIndex:s()),l=O(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),u=O(()=>[{zIndex:x(a)},x(n).popper,e.popperStyle||{}]),c=O(()=>r.value==="dialog"?"false":void 0),f=O(()=>x(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:i,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=pt(e.zIndex)?e.zIndex:s()}}},Nhn=me({name:"ElPopperContent",__name:"content",props:GLe,emits:whn,setup(e,{expose:t,emit:n}){const r=n,s=e,{focusStartRef:o,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:f}=xhn(s,r),{attributes:d,arrowRef:h,contentRef:p,styles:g,instanceRef:m,role:v,update:y}=Ahn(s),{ariaModal:w,arrowStyle:b,contentAttrs:C,contentClass:S,contentStyle:$,updateZIndex:k}=Ihn(s,{styles:g,attributes:d,role:v}),T=tt(Ad,void 0);ln(kLe,{arrowStyle:b,arrowRef:h}),T&&ln(Ad,{...T,addInputId:Rn,removeInputId:Rn});let _;const E=(N=!0)=>{y(),N&&k()},A=()=>{E(!1),s.visible&&s.focusOnShow?i.value=!0:s.visible===!1&&(i.value=!1)};return Ht(()=>{xe(()=>s.triggerTargetEl,(N,F)=>{_?.(),_=void 0;const R=x(N||p.value),P=x(F||p.value);ul(R)&&(_=xe([v,()=>s.ariaLabel,w,()=>s.id],I=>{["role","aria-label","aria-modal","id"].forEach((D,M)=>{vs(I[M])?R.removeAttribute(D):R.setAttribute(D,I[M])})},{immediate:!0})),P!==R&&ul(P)&&["role","aria-label","aria-modal","id"].forEach(I=>{P.removeAttribute(I)})},{immediate:!0}),xe(()=>s.visible,A,{immediate:!0})}),Dn(()=>{_?.(),_=void 0,p.value=void 0}),t({popperContentRef:p,popperInstanceRef:m,updatePopper:E,contentStyle:$}),(N,F)=>(B(),Y("div",Wt({ref_key:"contentRef",ref:p},x(C),{style:x($),class:x(S),tabindex:"-1",onMouseenter:F[0]||(F[0]=R=>N.$emit("mouseenter",R)),onMouseleave:F[1]||(F[1]=R=>N.$emit("mouseleave",R))}),[ee(x(YC),{loop:N.loop,trapped:x(i),"trap-on-focus-in":!0,"focus-trap-el":x(p),"focus-start-el":x(o),onFocusAfterTrapped:x(l),onFocusAfterReleased:x(a),onFocusin:x(u),onFocusoutPrevented:x(c),onReleaseRequested:x(f)},{default:ie(()=>[ce(N.$slots,"default")]),_:3},8,["loop","trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Dhn=Ve(Nhn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const KLe=Rt(Xfn),Ane=Symbol("elTooltip");function hme(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return rb(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Ohn=Me({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Rhn=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:o}=hme(),{registerTimeout:i,cancelTimeout:a}=hme();return{onOpen:(c,f=x(e))=>{o(()=>{r(c);const d=x(n);pt(d)&&d>0&&i(()=>{s(c)},d)},f)},onClose:(c,f=x(t))=>{a(),o(()=>{s(c)},f)}}},Un=Me({...Ohn,...GLe,appendTo:{type:SI.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:oe(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...fa(["ariaLabel"])}),rd=Me({...TLe,disabled:Boolean,trigger:{type:oe([String,Array]),default:"hover"},triggerKeys:{type:oe(Array),default:()=>[Oe.enter,Oe.numpadEnter,Oe.space]},focusOnTarget:Boolean}),Fhn=pf({type:oe(Boolean),default:null}),Mhn=pf({type:oe(Function)}),Phn=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:Fhn,[n]:Mhn};return{useModelToggle:({indicator:i,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=Ut(),{emit:h}=d,p=d.props,g=O(()=>ft(p[n])),m=O(()=>p[e]===null),v=$=>{i.value!==!0&&(i.value=!0,a&&(a.value=$),ft(c)&&c($))},y=$=>{i.value!==!1&&(i.value=!1,a&&(a.value=$),ft(f)&&f($))},w=$=>{if(p.disabled===!0||ft(u)&&!u())return;const k=g.value&&Tn;k&&h(t,!0),(m.value||!k)&&v($)},b=$=>{if(p.disabled===!0||!Tn)return;const k=g.value&&Tn;k&&h(t,!1),(m.value||!k)&&y($)},C=$=>{Ln($)&&(p.disabled&&$?g.value&&h(t,!1):i.value!==$&&($?v():y()))},S=()=>{i.value?b():w()};return xe(()=>p[e],C),l&&d.appContext.config.globalProperties.$route!==void 0&&xe(()=>({...d.proxy.$route}),()=>{l.value&&i.value&&b()}),Ht(()=>{C(p[e])}),{hide:b,show:w,toggle:S,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}},{useModelToggleProps:Lhn,useModelToggleEmits:Bhn,useModelToggle:zhn}=Phn("visible"),Vhn=Me({..._Le,...Lhn,...Un,...rd,...qLe,showArrow:{type:Boolean,default:!0}}),Whn=[...Bhn,"before-show","before-hide","show","hide","open","close"],iH=(e,t)=>De(e)?e.includes(t):e===t,Ib=(e,t,n)=>r=>{iH(x(e),t)&&n(r)},Uhn=me({name:"ElTooltipTrigger",__name:"trigger",props:rd,setup(e,{expose:t}){const n=e,r=Ae("tooltip"),{controlled:s,id:o,open:i,onOpen:a,onClose:l,onToggle:u}=tt(Ane,void 0),c=j(null),f=()=>{if(x(s)||n.disabled)return!0},d=Bn(n,"trigger"),h=to(f,Ib(d,"hover",b=>{a(b),n.focusOnTarget&&b.target&&Ye(()=>{EI(b.target,{preventScroll:!0})})})),p=to(f,Ib(d,"hover",l)),g=to(f,Ib(d,"click",b=>{b.button===0&&u(b)})),m=to(f,Ib(d,"focus",a)),v=to(f,Ib(d,"focus",l)),y=to(f,Ib(d,"contextmenu",b=>{b.preventDefault(),u(b)})),w=to(f,b=>{const C=Hn(b);n.triggerKeys.includes(C)&&(b.preventDefault(),u(b))});return t({triggerRef:c}),(b,C)=>(B(),pe(x(rdn),{id:x(o),"virtual-ref":b.virtualRef,open:x(i),"virtual-triggering":b.virtualTriggering,class:V(x(r).e("trigger")),onBlur:x(v),onClick:x(g),onContextmenu:x(y),onFocus:x(m),onMouseenter:x(h),onMouseleave:x(p),onKeydown:x(w)},{default:ie(()=>[ce(b.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var jhn=Ve(Uhn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const YLe=()=>{const e=jte(),t=mne(),n=O(()=>`${e.value}-popper-container-${t.prefix}`),r=O(()=>`#${n.value}`);return{id:n,selector:r}},Hhn=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},qhn=()=>{const{id:e,selector:t}=YLe();return PM(()=>{Tn&&(document.body.querySelector(t.value)||Hhn(e.value))}),{id:e,selector:t}},pme=e=>[...new Set(e)],KS=e=>De(e)?e[0]:e,Hi=e=>!e&&e!==0?[]:De(e)?e:[e],Ghn=me({name:"ElTooltipContent",inheritAttrs:!1,__name:"content",props:Un,setup(e,{expose:t}){const n=e,{selector:r}=YLe(),s=Ae("tooltip"),o=j(),i=YPe(()=>{var D;return(D=o.value)==null?void 0:D.popperContentRef});let a;const{controlled:l,id:u,open:c,trigger:f,onClose:d,onOpen:h,onShow:p,onHide:g,onBeforeShow:m,onBeforeHide:v}=tt(Ane,void 0),y=O(()=>n.transition||`${s.namespace.value}-fade-in-linear`),w=O(()=>n.persistent);Dn(()=>{a?.()});const b=O(()=>x(w)?!0:x(c)),C=O(()=>n.disabled?!1:x(c)),S=O(()=>n.appendTo||r.value),$=O(()=>{var D;return(D=n.style)!=null?D:{}}),k=j(!0),T=()=>{g(),I()&&EI(document.body,{preventScroll:!0}),k.value=!0},_=()=>{if(x(l))return!0},E=to(_,()=>{n.enterable&&iH(x(f),"hover")&&h()}),A=to(_,()=>{iH(x(f),"hover")&&d()}),N=()=>{var D,M;(M=(D=o.value)==null?void 0:D.updatePopper)==null||M.call(D),m?.()},F=()=>{v?.()},R=()=>{p()},P=()=>{n.virtualTriggering||d()},I=D=>{var M;const z=(M=o.value)==null?void 0:M.popperContentRef,W=D?.relatedTarget||document.activeElement;return z?.contains(W)};return xe(()=>x(c),D=>{D?(k.value=!1,a=ane(i,()=>{if(x(l))return;Hi(x(f)).every(z=>z!=="hover"&&z!=="focus")&&d()},{detectIframe:!0})):a?.()},{flush:"post"}),xe(()=>n.content,()=>{var D,M;(M=(D=o.value)==null?void 0:D.updatePopper)==null||M.call(D)}),t({contentRef:o,isFocusInsideContent:I}),(D,M)=>(B(),pe(x(KC),{disabled:!D.teleported,to:S.value},{default:ie(()=>[b.value||!k.value?(B(),pe(Ho,{key:0,name:y.value,appear:!w.value,onAfterLeave:T,onBeforeEnter:N,onAfterEnter:R,onBeforeLeave:F,persisted:""},{default:ie(()=>[Lt(ee(x(Dhn),Wt({id:x(u),ref_key:"contentRef",ref:o},D.$attrs,{"aria-label":D.ariaLabel,"aria-hidden":k.value,"boundaries-padding":D.boundariesPadding,"fallback-placements":D.fallbackPlacements,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,placement:D.placement,"popper-options":D.popperOptions,"arrow-offset":D.arrowOffset,strategy:D.strategy,effect:D.effect,enterable:D.enterable,pure:D.pure,"popper-class":D.popperClass,"popper-style":[D.popperStyle,$.value],"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,visible:C.value,"z-index":D.zIndex,loop:D.loop,onMouseenter:x(E),onMouseleave:x(A),onBlur:P,onClose:x(d)}),{default:ie(()=>[ce(D.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","loop","onMouseenter","onMouseleave","onClose"]),[[Sn,C.value]])]),_:3},8,["name","appear"])):fe("v-if",!0)]),_:3},8,["disabled","to"]))}});var Khn=Ve(Ghn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Yhn=["innerHTML"],Xhn={key:1},Zhn=me({name:"ElTooltip",__name:"tooltip",props:Vhn,emits:Whn,setup(e,{expose:t,emit:n}){const r=e,s=n;qhn();const o=Ae("tooltip"),i=Yo(),a=j(),l=j(),u=()=>{var b;const C=x(a);C&&((b=C.popperInstanceRef)==null||b.update())},c=j(!1),f=j(),{show:d,hide:h,hasUpdateHandler:p}=zhn({indicator:c,toggleReason:f}),{onOpen:g,onClose:m}=Rhn({showAfter:Bn(r,"showAfter"),hideAfter:Bn(r,"hideAfter"),autoClose:Bn(r,"autoClose"),open:d,close:h}),v=O(()=>Ln(r.visible)&&!p.value),y=O(()=>[o.b(),r.popperClass]);ln(Ane,{controlled:v,id:i,open:d1(c),trigger:Bn(r,"trigger"),onOpen:g,onClose:m,onToggle:b=>{x(c)?m(b):g(b)},onShow:()=>{s("show",f.value)},onHide:()=>{s("hide",f.value)},onBeforeShow:()=>{s("before-show",f.value)},onBeforeHide:()=>{s("before-hide",f.value)},updatePopper:u}),xe(()=>r.disabled,b=>{b&&c.value&&(c.value=!1)});const w=b=>{var C;return(C=l.value)==null?void 0:C.isFocusInsideContent(b)};return Hve(()=>c.value&&h()),Dn(()=>{f.value=void 0}),t({popperRef:a,contentRef:l,isFocusInsideContent:w,updatePopper:u,onOpen:g,onClose:m,hide:h}),(b,C)=>(B(),pe(x(KLe),{ref_key:"popperRef",ref:a,role:b.role},{default:ie(()=>[ee(jhn,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering,"focus-on-target":b.focusOnTarget},{default:ie(()=>[b.$slots.default?ce(b.$slots,"default",{key:0}):fe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),ee(Khn,{ref_key:"contentRef",ref:l,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":y.value,"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,"arrow-offset":b.arrowOffset,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo,loop:b.loop},{default:ie(()=>[ce(b.$slots,"content",{},()=>[b.rawContent?(B(),Y("span",{key:0,innerHTML:b.content},null,8,Yhn)):(B(),Y("span",Xhn,Fe(b.content),1))]),b.showArrow?(B(),pe(x(Jfn),{key:0})):fe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to","loop"])]),_:3},8,["role"]))}});var Jhn=Ve(Zhn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Xo=Rt(Jhn),Qhn=Me({...kI,valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:oe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:oe([Function,Array]),default:Rn},popperClass:Un.popperClass,popperStyle:Un.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:Un.teleported,appendTo:Un.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),epn={[Et]:e=>ot(e)||pt(e),[Os]:e=>ot(e)||pt(e),[en]:e=>ot(e)||pt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Pt(e)},tpn=["aria-expanded","aria-owns"],npn={key:0},rpn=["id","aria-selected","onClick"],gme="ElAutocomplete",spn=me({name:gme,inheritAttrs:!1,__name:"autocomplete",props:Qhn,emits:epn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>vp(r,Object.keys(kI))),i=$p(),a=jr(),l=Ae("autocomplete"),u=j(),c=j(),f=j(),d=j();let h=!1,p=!1;const g=j([]),m=j(-1),v=j(""),y=j(!1),w=j(!1),b=j(!1),C=Yo(),S=O(()=>i.style),$=O(()=>(g.value.length>0||b.value)&&y.value),k=O(()=>!r.hideLoading&&b.value),T=O(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),_=()=>{$.value&&(v.value=`${u.value.$el.offsetWidth}px`)},E=()=>{m.value=-1},A=async q=>{if(w.value)return;const L=Q=>{b.value=!1,!w.value&&(De(Q)?(g.value=Q,m.value=r.highlightFirstItem?0:-1):Ts(gme,"autocomplete suggestions must be an array"))};if(b.value=!0,De(r.fetchSuggestions))L(r.fetchSuggestions);else{const Q=await r.fetchSuggestions(q,L);De(Q)&&L(Q)}},N=O(()=>r.debounce),F=bI(A,N),R=q=>{const L=!!q;if(s(Os,q),s(Et,q),w.value=!1,y.value||(y.value=L),!r.triggerOnFocus&&!q){w.value=!0,g.value=[];return}F(q)},P=q=>{var L;a.value||(((L=q.target)==null?void 0:L.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(y.value=!0)},I=q=>{s(en,q)},D=q=>{var L;if(p)p=!1;else{y.value=!0,s("focus",q);const Q=(L=r.modelValue)!=null?L:"";r.triggerOnFocus&&!h&&F(String(Q))}},M=q=>{setTimeout(()=>{var L;if((L=f.value)!=null&&L.isFocusInsideContent()){p=!0;return}y.value&&U(),s("blur",q)})},z=()=>{y.value=!1,s(Et,""),s("clear")},W=async()=>{var q;(q=u.value)!=null&&q.isComposing||($.value&&m.value>=0&&m.value<g.value.length?re(g.value[m.value]):(r.selectWhenUnmatched&&(s("select",{value:r.modelValue}),g.value=[],m.value=-1),y.value=!0,F(String(r.modelValue))))},H=q=>{$.value&&(q.preventDefault(),q.stopPropagation(),U())},U=()=>{y.value=!1},K=()=>{var q;(q=u.value)==null||q.focus()},G=()=>{var q;(q=u.value)==null||q.blur()},re=async q=>{s(Os,q[r.valueKey]),s(Et,q[r.valueKey]),s("select",q),g.value=[],m.value=-1},ue=q=>{var L,Q;if(!$.value||b.value)return;if(q<0){if(!r.loopNavigation){m.value=-1;return}q=g.value.length-1}q>=g.value.length&&(q=r.loopNavigation?0:g.value.length-1);const[se,de]=ae(),he=de[q],ge=se.scrollTop,{offsetTop:$e,scrollHeight:He}=he;$e+He>ge+se.clientHeight&&(se.scrollTop=$e+He-se.clientHeight),$e<ge&&(se.scrollTop=$e),m.value=q,(Q=(L=u.value)==null?void 0:L.ref)==null||Q.setAttribute("aria-activedescendant",`${C.value}-item-${m.value}`)},ae=()=>{const q=c.value.querySelector(`.${l.be("suggestion","wrap")}`),L=q.querySelectorAll(`.${l.be("suggestion","list")} li`);return[q,L]},X=ane(d,()=>{var q;(q=f.value)!=null&&q.isFocusInsideContent()||$.value&&U()}),J=q=>{switch(Hn(q)){case Oe.up:q.preventDefault(),ue(m.value-1);break;case Oe.down:q.preventDefault(),ue(m.value+1);break;case Oe.enter:case Oe.numpadEnter:q.preventDefault(),W();break;case Oe.tab:U();break;case Oe.esc:H(q);break;case Oe.home:q.preventDefault(),ue(0);break;case Oe.end:q.preventDefault(),ue(g.value.length-1);break;case Oe.pageUp:q.preventDefault(),ue(Math.max(0,m.value-10));break;case Oe.pageDown:q.preventDefault(),ue(Math.min(g.value.length-1,m.value+10));break}};return Dn(()=>{X?.()}),Ht(()=>{var q;const L=(q=u.value)==null?void 0:q.ref;L&&([{key:"role",value:"textbox"},{key:"aria-autocomplete",value:"list"},{key:"aria-controls",value:"id"},{key:"aria-activedescendant",value:`${C.value}-item-${m.value}`}].forEach(({key:Q,value:se})=>L.setAttribute(Q,se)),h=L.hasAttribute("readonly"))}),t({highlightedIndex:m,activated:y,loading:b,inputRef:u,popperRef:f,suggestions:g,handleSelect:re,handleKeyEnter:W,focus:K,blur:G,close:U,highlight:ue,getData:A}),(q,L)=>(B(),pe(x(Xo),{ref_key:"popperRef",ref:f,visible:$.value,placement:q.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[x(l).e("popper"),q.popperClass],"popper-style":q.popperStyle,teleported:q.teleported,"append-to":q.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${x(l).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:_,onHide:E},{content:ie(()=>[Z("div",{ref_key:"regionRef",ref:c,class:V([x(l).b("suggestion"),x(l).is("loading",k.value)]),style:dt({[q.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[q.$slots.header?(B(),Y("div",{key:0,class:V(x(l).be("suggestion","header")),onClick:L[0]||(L[0]=xt(()=>{},["stop"]))},[ce(q.$slots,"header")],2)):fe("v-if",!0),ee(x(jc),{id:x(C),tag:"ul","wrap-class":x(l).be("suggestion","wrap"),"view-class":x(l).be("suggestion","list"),role:"listbox"},{default:ie(()=>[k.value?(B(),Y("li",npn,[ce(q.$slots,"loading",{},()=>[ee(x(st),{class:V(x(l).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])])])):(B(!0),Y(it,{key:1},Xt(g.value,(Q,se)=>(B(),Y("li",{id:`${x(C)}-item-${se}`,key:se,class:V({highlighted:m.value===se}),role:"option","aria-selected":m.value===se,onClick:de=>re(Q)},[ce(q.$slots,"default",{item:Q},()=>[tn(Fe(Q[q.valueKey]),1)])],10,rpn))),128))]),_:3},8,["id","wrap-class","view-class"]),q.$slots.footer?(B(),Y("div",{key:1,class:V(x(l).be("suggestion","footer")),onClick:L[1]||(L[1]=xt(()=>{},["stop"]))},[ce(q.$slots,"footer")],2)):fe("v-if",!0)],6)]),default:ie(()=>[Z("div",{ref_key:"listboxRef",ref:d,class:V([x(l).b(),q.$attrs.class]),style:dt(S.value),role:"combobox","aria-haspopup":"listbox","aria-expanded":$.value,"aria-owns":x(C)},[ee(x(Xi),Wt({ref_key:"inputRef",ref:u},Wt(o.value,q.$attrs),{"model-value":q.modelValue,disabled:x(a),onInput:R,onChange:I,onFocus:D,onBlur:M,onClear:z,onKeydown:J,onMousedown:P}),ml({_:2},[q.$slots.prepend?{name:"prepend",fn:ie(()=>[ce(q.$slots,"prepend")]),key:"0"}:void 0,q.$slots.append?{name:"append",fn:ie(()=>[ce(q.$slots,"append")]),key:"1"}:void 0,q.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(q.$slots,"prefix")]),key:"2"}:void 0,q.$slots.suffix?{name:"suffix",fn:ie(()=>[ce(q.$slots,"suffix")]),key:"3"}:void 0]),1040,["model-value","disabled"])],14,tpn)]),_:3},8,["visible","placement","popper-class","popper-style","teleported","append-to","transition"]))}});var opn=Ve(spn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const ipn=Rt(opn),apn=Me({size:{type:[Number,String],values:eh,default:"",validator:e=>pt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:zn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:oe(String),default:"cover"}}),lpn={error:e=>e instanceof Event},upn=["src","alt","srcset"],cpn=me({name:"ElAvatar",__name:"avatar",props:apn,emits:lpn,setup(e,{emit:t}){const n=e,r=t,s=Ae("avatar"),o=j(!1),i=O(()=>{const{size:c,icon:f,shape:d}=n,h=[s.b()];return ot(c)&&h.push(s.m(c)),f&&h.push(s.m("icon")),d&&h.push(s.m(d)),h}),a=O(()=>{const{size:c}=n;return pt(c)?s.cssVarBlock({size:Vr(c)}):void 0}),l=O(()=>({objectFit:n.fit}));xe(()=>n.src,()=>o.value=!1);function u(c){o.value=!0,r("error",c)}return(c,f)=>(B(),Y("span",{class:V(i.value),style:dt(a.value)},[(c.src||c.srcSet)&&!o.value?(B(),Y("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:dt(l.value),onError:u},null,44,upn)):c.icon?(B(),pe(x(st),{key:1},{default:ie(()=>[(B(),pe(zt(c.icon)))]),_:1})):ce(c.$slots,"default",{key:2})],6))}});var fpn=Ve(cpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const dpn=Rt(fpn),hpn={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ppn={click:e=>e instanceof MouseEvent},gpn=(e,t,n)=>{const r=cr(),s=cr(),o=j(!1),i=()=>{r.value&&(o.value=r.value.scrollTop>=e.visibilityHeight)},a=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=QPe(i,300,!0);return Fn(s,"scroll",l),Ht(()=>{var u;s.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||Ts(n,`target does not exist: ${e.target}`),s.value=r.value),i()}),{visible:o,handleClick:a}},mme="ElBacktop",mpn=me({name:mme,__name:"backtop",props:hpn,emits:ppn,setup(e,{emit:t}){const n=e,r=t,s=Ae("backtop"),{handleClick:o,visible:i}=gpn(n,r,mme),a=O(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(l,u)=>(B(),pe(Ho,{name:`${x(s).namespace.value}-fade-in`},{default:ie(()=>[x(i)?(B(),Y("div",{key:0,style:dt(a.value),class:V(x(s).b()),onClick:u[0]||(u[0]=xt((...c)=>x(o)&&x(o)(...c),["stop"]))},[ce(l.$slots,"default",{},()=>[ee(x(st),{class:V(x(s).e("icon"))},{default:ie(()=>[ee(x(gcn))]),_:1},8,["class"])])],6)):fe("v-if",!0)]),_:3},8,["name"]))}});var vpn=Ve(mpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ypn=Rt(vpn),bpn=Me({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:oe([String,Object,Array])},offset:{type:oe(Array),default:[0,0]},badgeClass:{type:String}}),wpn=me({name:"ElBadge",__name:"badge",props:bpn,setup(e,{expose:t}){const n=e,r=Ae("badge"),s=O(()=>n.isDot?"":pt(n.value)&&pt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=O(()=>{var i;return[{backgroundColor:n.color,marginRight:Vr(-n.offset[0]),marginTop:Vr(n.offset[1])},(i=n.badgeStyle)!=null?i:{}]});return t({content:s}),(i,a)=>(B(),Y("div",{class:V(x(r).b())},[ce(i.$slots,"default"),ee(Ho,{name:`${x(r).namespace.value}-zoom-in-center`,persisted:""},{default:ie(()=>[Lt(Z("sup",{class:V([x(r).e("content"),x(r).em("content",i.type),x(r).is("fixed",!!i.$slots.default),x(r).is("dot",i.isDot),x(r).is("hide-zero",!i.showZero&&i.value===0),i.badgeClass]),style:dt(o.value)},[ce(i.$slots,"content",{value:s.value},()=>[tn(Fe(s.value),1)])],6),[[Sn,!i.hidden&&(s.value||i.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});var xpn=Ve(wpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const XLe=Rt(xpn),ZLe=Symbol("breadcrumbKey"),Cpn=Me({separator:{type:String,default:"/"},separatorIcon:{type:zn}}),Spn=["aria-label"],$pn=me({name:"ElBreadcrumb",__name:"breadcrumb",props:Cpn,setup(e){const{t}=un(),n=e,r=Ae("breadcrumb"),s=j();return ln(ZLe,n),Ht(()=>{const o=s.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,i)=>(B(),Y("div",{ref_key:"breadcrumb",ref:s,class:V(x(r).b()),"aria-label":x(t)("el.breadcrumb.label"),role:"navigation"},[ce(o.$slots,"default")],10,Spn))}});var kpn=Ve($pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Epn=Me({to:{type:oe([String,Object]),default:""},replace:Boolean}),_pn=me({name:"ElBreadcrumbItem",__name:"breadcrumb-item",props:Epn,setup(e){const t=e,n=Ut(),r=tt(ZLe,void 0),s=Ae("breadcrumb"),o=n.appContext.config.globalProperties.$router,i=()=>{!t.to||!o||(t.replace?o.replace(t.to):o.push(t.to))};return(a,l)=>{var u,c;return B(),Y("span",{class:V(x(s).e("item"))},[Z("span",{class:V([x(s).e("inner"),x(s).is("link",!!a.to)]),role:"link",onClick:i},[ce(a.$slots,"default")],2),(u=x(r))!=null&&u.separatorIcon?(B(),pe(x(st),{key:0,class:V(x(s).e("separator"))},{default:ie(()=>[(B(),pe(zt(x(r).separatorIcon)))]),_:1},8,["class"])):(B(),Y("span",{key:1,class:V(x(s).e("separator")),role:"presentation"},Fe((c=x(r))==null?void 0:c.separator),3))],2)}}});var JLe=Ve(_pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const Tpn=Rt(kpn,{BreadcrumbItem:JLe}),Apn=Ur(JLe),QLe=Symbol("buttonGroupContextKey"),sd=({from:e,replacement:t,scope:n,version:r,ref:s,type:o="API"},i)=>{xe(()=>x(i),a=>{},{immediate:!0})},Ipn=(e,t)=>{sd({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},O(()=>e.type==="text"));const n=tt(QLe,void 0),r=GC("button"),{form:s}=Ro(),o=Fs(O(()=>n?.size)),i=jr(),a=j(),l=Ms(),u=O(()=>{var v;return e.type||n?.type||((v=r.value)==null?void 0:v.type)||""}),c=O(()=>{var v,y,w;return(w=(y=e.autoInsertSpace)!=null?y:(v=r.value)==null?void 0:v.autoInsertSpace)!=null?w:!1}),f=O(()=>{var v,y,w;return(w=(y=e.plain)!=null?y:(v=r.value)==null?void 0:v.plain)!=null?w:!1}),d=O(()=>{var v,y,w;return(w=(y=e.round)!=null?y:(v=r.value)==null?void 0:v.round)!=null?w:!1}),h=O(()=>{var v,y,w;return(w=(y=e.text)!=null?y:(v=r.value)==null?void 0:v.text)!=null?w:!1}),p=O(()=>e.tag==="button"?{ariaDisabled:i.value||e.loading,disabled:i.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),g=O(()=>{var v;const y=(v=l.default)==null?void 0:v.call(l);if(c.value&&y?.length===1){const w=y[0];if(w?.type===Xx){const b=w.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(b.trim())}}return!1});return{_disabled:i,_size:o,_type:u,_ref:a,_props:p,_plain:f,_round:d,_text:h,shouldAddSpace:g,handleClick:v=>{if(i.value||e.loading){v.stopPropagation();return}e.nativeType==="reset"&&s?.resetFields(),t("click",v)}}},aH=["default","primary","success","warning","info","danger","text",""],Npn=["button","submit","reset"],lH=Me({size:js,disabled:{type:Boolean,default:void 0},type:{type:String,values:aH,default:""},icon:{type:zn},nativeType:{type:String,values:Npn,default:"button"},loading:Boolean,loadingIcon:{type:zn,default:()=>Td},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:oe([String,Object]),default:"button"}}),Dpn={click:e=>e instanceof MouseEvent};function yi(e,t){Opn(e)&&(e="100%");var n=Rpn(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function FD(e){return Math.min(1,Math.max(0,e))}function Opn(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Rpn(e){return typeof e=="string"&&e.indexOf("%")!==-1}function eBe(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function MD(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Mv(e){return e.length===1?"0"+e:String(e)}function Fpn(e,t,n){return{r:yi(e,255)*255,g:yi(t,255)*255,b:yi(n,255)*255}}function vme(e,t,n){e=yi(e,255),t=yi(t,255),n=yi(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=0,a=(r+s)/2;if(r===s)i=0,o=0;else{var l=r-s;switch(i=a>.5?l/(2-r-s):l/(r+s),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s:i,l:a}}function N7(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Mpn(e,t,n){var r,s,o;if(e=yi(e,360),t=yi(t,100),n=yi(n,100),t===0)s=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=N7(a,i,e+1/3),s=N7(a,i,e),o=N7(a,i,e-1/3)}return{r:r*255,g:s*255,b:o*255}}function yme(e,t,n){e=yi(e,255),t=yi(t,255),n=yi(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=r,a=r-s,l=r===0?0:a/r;if(r===s)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s:l,v:i}}function Ppn(e,t,n){e=yi(e,360)*6,t=yi(t,100),n=yi(n,100);var r=Math.floor(e),s=e-r,o=n*(1-t),i=n*(1-s*t),a=n*(1-(1-s)*t),l=r%6,u=[n,i,o,o,a,n][l],c=[a,n,n,i,o,o][l],f=[o,o,a,n,n,i][l];return{r:u*255,g:c*255,b:f*255}}function bme(e,t,n,r){var s=[Mv(Math.round(e).toString(16)),Mv(Math.round(t).toString(16)),Mv(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Lpn(e,t,n,r,s){var o=[Mv(Math.round(e).toString(16)),Mv(Math.round(t).toString(16)),Mv(Math.round(n).toString(16)),Mv(Bpn(r))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Bpn(e){return Math.round(parseFloat(e)*255).toString(16)}function wme(e){return Fl(e)/255}function Fl(e){return parseInt(e,16)}function zpn(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var uH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Vpn(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,o=null,i=!1,a=!1;return typeof e=="string"&&(e=jpn(e)),typeof e=="object"&&(fh(e.r)&&fh(e.g)&&fh(e.b)?(t=Fpn(e.r,e.g,e.b),i=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):fh(e.h)&&fh(e.s)&&fh(e.v)?(r=MD(e.s),s=MD(e.v),t=Ppn(e.h,r,s),i=!0,a="hsv"):fh(e.h)&&fh(e.s)&&fh(e.l)&&(r=MD(e.s),o=MD(e.l),t=Mpn(e.h,r,o),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=eBe(n),{ok:i,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Wpn="[-\\+]?\\d+%?",Upn="[-\\+]?\\d*\\.\\d+%?",Hg="(?:".concat(Upn,")|(?:").concat(Wpn,")"),D7="[\\s|\\(]+(".concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")\\s*\\)?"),O7="[\\s|\\(]+(".concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")[,|\\s]+(").concat(Hg,")\\s*\\)?"),ac={CSS_UNIT:new RegExp(Hg),rgb:new RegExp("rgb"+D7),rgba:new RegExp("rgba"+O7),hsl:new RegExp("hsl"+D7),hsla:new RegExp("hsla"+O7),hsv:new RegExp("hsv"+D7),hsva:new RegExp("hsva"+O7),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jpn(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(uH[e])e=uH[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ac.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=ac.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ac.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=ac.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ac.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=ac.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ac.hex8.exec(e),n?{r:Fl(n[1]),g:Fl(n[2]),b:Fl(n[3]),a:wme(n[4]),format:t?"name":"hex8"}:(n=ac.hex6.exec(e),n?{r:Fl(n[1]),g:Fl(n[2]),b:Fl(n[3]),format:t?"name":"hex"}:(n=ac.hex4.exec(e),n?{r:Fl(n[1]+n[1]),g:Fl(n[2]+n[2]),b:Fl(n[3]+n[3]),a:wme(n[4]+n[4]),format:t?"name":"hex8"}:(n=ac.hex3.exec(e),n?{r:Fl(n[1]+n[1]),g:Fl(n[2]+n[2]),b:Fl(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function fh(e){return!!ac.CSS_UNIT.exec(String(e))}var Zb=(function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=zpn(t)),this.originalInput=t;var s=Vpn(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,o=t.r/255,i=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=eBe(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=yme(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=yme(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=vme(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=vme(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),bme(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Lpn(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(yi(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(yi(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+bme(this.r,this.g,this.b,!1),n=0,r=Object.entries(uH);n<r.length;n++){var s=r[n],o=s[0],i=s[1];if(t===i)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,o=!n&&s&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=FD(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=FD(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=FD(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=FD(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),o=n/100,i={r:(s.r-r.r)*o+r.r,g:(s.g-r.g)*o+r.g,b:(s.b-r.b)*o+r.b,a:(s.a-r.a)*o+r.a};return new e(i)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,o=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,o=n.v,i=[],a=1/t;t--;)i.push(new e({h:r,s,v:o})),o=(o+a)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],o=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e})();function og(e,t=20){return e.mix("#141414",t).toString()}function Hpn(e){const t=jr(),n=Ae("button");return O(()=>{let r={},s=e.color;if(s){const o=s.match(/var\((.*?)\)/);o&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const i=new Zb(s),a=e.dark?i.tint(20).toString():og(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?og(i,90):i.tint(90).toString(),"text-color":s,"border-color":e.dark?og(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?og(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?og(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?og(i,80):i.tint(80).toString());else{const l=e.dark?og(i,30):i.tint(30).toString(),u=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":u,"border-color":s,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":a,"active-border-color":a}),t.value){const c=e.dark?og(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const qpn=me({name:"ElButton",__name:"button",props:lH,emits:Dpn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Hpn(r),i=Ae("button"),{_ref:a,_size:l,_type:u,_disabled:c,_props:f,_plain:d,_round:h,_text:p,shouldAddSpace:g,handleClick:m}=Ipn(r,s),v=O(()=>[i.b(),i.m(u.value),i.m(l.value),i.is("disabled",c.value),i.is("loading",r.loading),i.is("plain",d.value),i.is("round",h.value),i.is("circle",r.circle),i.is("text",p.value),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:a,size:l,type:u,disabled:c,shouldAddSpace:g}),(y,w)=>(B(),pe(zt(y.tag),Wt({ref_key:"_ref",ref:a},x(f),{class:v.value,style:x(o),onClick:x(m)}),{default:ie(()=>[y.loading?(B(),Y(it,{key:0},[y.$slots.loading?ce(y.$slots,"loading",{key:0}):(B(),pe(x(st),{key:1,class:V(x(i).is("loading"))},{default:ie(()=>[(B(),pe(zt(y.loadingIcon)))]),_:1},8,["class"]))],64)):y.icon||y.$slots.icon?(B(),pe(x(st),{key:1},{default:ie(()=>[y.icon?(B(),pe(zt(y.icon),{key:0})):ce(y.$slots,"icon",{key:1})]),_:3})):fe("v-if",!0),y.$slots.default?(B(),Y("span",{key:2,class:V({[x(i).em("text","expand")]:x(g)})},[ce(y.$slots,"default")],2)):fe("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Gpn=Ve(qpn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Kpn={size:lH.size,type:lH.type,direction:{type:oe(String),values:["horizontal","vertical"],default:"horizontal"}},Ypn=me({name:"ElButtonGroup",__name:"button-group",props:Kpn,setup(e){const t=e;ln(QLe,In({size:Bn(t,"size"),type:Bn(t,"type")}));const n=Ae("button");return(r,s)=>(B(),Y("div",{class:V([x(n).b("group"),x(n).bm("group",t.direction)])},[ce(r.$slots,"default")],2))}});var tBe=Ve(Ypn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const $o=Rt(Gpn,{ButtonGroup:tBe}),nBe=Ur(tBe);var W3={exports:{}},Xpn=W3.exports,xme;function Zpn(){return xme||(xme=1,(function(e,t){(function(n,r){e.exports=r()})(Xpn,(function(){var n=1e3,r=6e4,s=36e5,o="millisecond",i="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var R=["th","st","nd","rd"],P=F%100;return"["+F+(R[(P-20)%10]||R[P]||R[0])+"]"}},w=function(F,R,P){var I=String(F);return!I||I.length>=R?F:""+Array(R+1-I.length).join(P)+F},b={s:w,z:function(F){var R=-F.utcOffset(),P=Math.abs(R),I=Math.floor(P/60),D=P%60;return(R<=0?"+":"-")+w(I,2,"0")+":"+w(D,2,"0")},m:function F(R,P){if(R.date()<P.date())return-F(P,R);var I=12*(P.year()-R.year())+(P.month()-R.month()),D=R.clone().add(I,f),M=P-D<0,z=R.clone().add(I+(M?-1:1),f);return+(-(I+(P-D)/(M?D-z:z-D))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:f,y:h,w:c,d:u,D:p,h:l,m:a,s:i,ms:o,Q:d}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},C="en",S={};S[C]=y;var $="$isDayjsObject",k=function(F){return F instanceof A||!(!F||!F[$])},T=function F(R,P,I){var D;if(!R)return C;if(typeof R=="string"){var M=R.toLowerCase();S[M]&&(D=M),P&&(S[M]=P,D=M);var z=R.split("-");if(!D&&z.length>1)return F(z[0])}else{var W=R.name;S[W]=R,D=W}return!I&&D&&(C=D),D||!I&&C},_=function(F,R){if(k(F))return F.clone();var P=typeof R=="object"?R:{};return P.date=F,P.args=arguments,new A(P)},E=b;E.l=T,E.i=k,E.w=function(F,R){return _(F,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=(function(){function F(P){this.$L=T(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[$]=!0}var R=F.prototype;return R.parse=function(P){this.$d=(function(I){var D=I.date,M=I.utc;if(D===null)return new Date(NaN);if(E.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var z=D.match(m);if(z){var W=z[2]-1||0,H=(z[7]||"0").substring(0,3);return M?new Date(Date.UTC(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)):new Date(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)}}return new Date(D)})(P),this.init()},R.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==g},R.isSame=function(P,I){var D=_(P);return this.startOf(I)<=D&&D<=this.endOf(I)},R.isAfter=function(P,I){return _(P)<this.startOf(I)},R.isBefore=function(P,I){return this.endOf(I)<_(P)},R.$g=function(P,I,D){return E.u(P)?this[I]:this.set(D,P)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(P,I){var D=this,M=!!E.u(I)||I,z=E.p(P),W=function(X,J){var q=E.w(D.$u?Date.UTC(D.$y,J,X):new Date(D.$y,J,X),D);return M?q:q.endOf(u)},H=function(X,J){return E.w(D.toDate()[X].apply(D.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(J)),D)},U=this.$W,K=this.$M,G=this.$D,re="set"+(this.$u?"UTC":"");switch(z){case h:return M?W(1,0):W(31,11);case f:return M?W(1,K):W(0,K+1);case c:var ue=this.$locale().weekStart||0,ae=(U<ue?U+7:U)-ue;return W(M?G-ae:G+(6-ae),K);case u:case p:return H(re+"Hours",0);case l:return H(re+"Minutes",1);case a:return H(re+"Seconds",2);case i:return H(re+"Milliseconds",3);default:return this.clone()}},R.endOf=function(P){return this.startOf(P,!1)},R.$set=function(P,I){var D,M=E.p(P),z="set"+(this.$u?"UTC":""),W=(D={},D[u]=z+"Date",D[p]=z+"Date",D[f]=z+"Month",D[h]=z+"FullYear",D[l]=z+"Hours",D[a]=z+"Minutes",D[i]=z+"Seconds",D[o]=z+"Milliseconds",D)[M],H=M===u?this.$D+(I-this.$W):I;if(M===f||M===h){var U=this.clone().set(p,1);U.$d[W](H),U.init(),this.$d=U.set(p,Math.min(this.$D,U.daysInMonth())).$d}else W&&this.$d[W](H);return this.init(),this},R.set=function(P,I){return this.clone().$set(P,I)},R.get=function(P){return this[E.p(P)]()},R.add=function(P,I){var D,M=this;P=Number(P);var z=E.p(I),W=function(K){var G=_(M);return E.w(G.date(G.date()+Math.round(K*P)),M)};if(z===f)return this.set(f,this.$M+P);if(z===h)return this.set(h,this.$y+P);if(z===u)return W(1);if(z===c)return W(7);var H=(D={},D[a]=r,D[l]=s,D[i]=n,D)[z]||1,U=this.$d.getTime()+P*H;return E.w(U,this)},R.subtract=function(P,I){return this.add(-1*P,I)},R.format=function(P){var I=this,D=this.$locale();if(!this.isValid())return D.invalidDate||g;var M=P||"YYYY-MM-DDTHH:mm:ssZ",z=E.z(this),W=this.$H,H=this.$m,U=this.$M,K=D.weekdays,G=D.months,re=D.meridiem,ue=function(J,q,L,Q){return J&&(J[q]||J(I,M))||L[q].slice(0,Q)},ae=function(J){return E.s(W%12||12,J,"0")},X=re||function(J,q,L){var Q=J<12?"AM":"PM";return L?Q.toLowerCase():Q};return M.replace(v,(function(J,q){return q||(function(L){switch(L){case"YY":return String(I.$y).slice(-2);case"YYYY":return E.s(I.$y,4,"0");case"M":return U+1;case"MM":return E.s(U+1,2,"0");case"MMM":return ue(D.monthsShort,U,G,3);case"MMMM":return ue(G,U);case"D":return I.$D;case"DD":return E.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return ue(D.weekdaysMin,I.$W,K,2);case"ddd":return ue(D.weekdaysShort,I.$W,K,3);case"dddd":return K[I.$W];case"H":return String(W);case"HH":return E.s(W,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return X(W,H,!0);case"A":return X(W,H,!1);case"m":return String(H);case"mm":return E.s(H,2,"0");case"s":return String(I.$s);case"ss":return E.s(I.$s,2,"0");case"SSS":return E.s(I.$ms,3,"0");case"Z":return z}return null})(J)||z.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(P,I,D){var M,z=this,W=E.p(I),H=_(P),U=(H.utcOffset()-this.utcOffset())*r,K=this-H,G=function(){return E.m(z,H)};switch(W){case h:M=G()/12;break;case f:M=G();break;case d:M=G()/3;break;case c:M=(K-U)/6048e5;break;case u:M=(K-U)/864e5;break;case l:M=K/s;break;case a:M=K/r;break;case i:M=K/n;break;default:M=K}return D?M:E.a(M)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return S[this.$L]},R.locale=function(P,I){if(!P)return this.$L;var D=this.clone(),M=T(P,I,!0);return M&&(D.$L=M),D},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},F})(),N=A.prototype;return _.prototype=N,[["$ms",o],["$s",i],["$m",a],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach((function(F){N[F[1]]=function(R){return this.$g(R,F[0],F[1])}})),_.extend=function(F,R){return F.$i||(F(R,A,_),F.$i=!0),_},_.locale=T,_.isDayjs=k,_.unix=function(F){return _(1e3*F)},_.en=S[C],_.Ls=S,_.p={},_}))})(W3)),W3.exports}var Jpn=Zpn();const Mt=Il(Jpn),R7=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],om=e=>Array.from(Array.from({length:e}).keys()),rBe=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),sBe=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Cme=function(e,t){const n=im(e),r=im(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},oBe=function(e,t){const n=De(e),r=De(t);return n&&r?e.length!==t.length?!1:e.every((s,o)=>Cme(s,t[o])):!n&&!r?Cme(e,t):!1},Sme=function(e,t,n){const r=_a(t)||t==="x"?Mt(e).locale(n):Mt(e,t).locale(n);return r.isValid()?r:void 0},$me=function(e,t,n){return _a(t)?e:t==="x"?+e:Mt(e).locale(n).format(t)},F7=(e,t)=>{var n;const r=[],s=t?.();for(let o=0;o<e;o++)r.push((n=s?.includes(o))!=null?n:!1);return r},U3=e=>De(e)?e.map(t=>t.toDate()):e.toDate(),Qpn=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return om(t).map((r,s)=>n-(t-s-1))},egn=e=>{const t=e.daysInMonth();return om(t).map((n,r)=>r+1)},tgn=e=>om(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),ngn=Me({selectedDay:{type:oe(Object)},range:{type:oe(Array)},date:{type:oe(Object),required:!0},hideHeader:{type:Boolean}}),rgn={pick:e=>Pt(e)};var j3={exports:{}},sgn=j3.exports,kme;function ogn(){return kme||(kme=1,(function(e,t){(function(n,r){e.exports=r()})(sgn,(function(){return function(n,r,s){var o=r.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,d,h,p,g){var m=f.name?f:f.$locale(),v=i(m[d]),y=i(m[h]),w=v||y.map((function(C){return C.slice(0,p)}));if(!g)return w;var b=m.weekStart;return w.map((function(C,S){return w[(S+(b||0))%7]}))},l=function(){return s.Ls[s.locale()]},u=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,g,m){return g||m.slice(1)}))})(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):a(f,"months")},monthsShort:function(d){return d?d.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):a(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},s.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(f){return a(l(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}}))})(j3)),j3.exports}var ign=ogn();const iBe=Il(ign),agn=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],M7=["sun","mon","tue","wed","thu","fri","sat"],lgn=(e,t)=>{Mt.extend(iBe);const n=Mt.localeData().firstDayOfWeek(),{t:r,lang:s}=un(),o=Mt().locale(s.value),i=O(()=>!!e.range&&!!e.range.length),a=O(()=>{let d=[];if(i.value){const[h,p]=e.range,g=om(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let m=g.length%7;m=m===0?0:7-m;const v=om(m).map((y,w)=>({text:w+1,type:"next"}));d=g.concat(v)}else{const h=e.date.startOf("month").day(),p=Qpn(e.date,(h-n+7)%7).map(y=>({text:y,type:"prev"})),g=egn(e.date).map(y=>({text:y,type:"current"}));d=[...p,...g];const m=7-(d.length%7||7),v=om(m).map((y,w)=>({text:w+1,type:"next"}));d=d.concat(v)}return tgn(d)}),l=O(()=>{const d=n;return d===0?M7.map(h=>r(`el.datepicker.weeks.${h}`)):M7.slice(d).concat(M7.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:o,isInRange:i,rows:a,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);t("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(e.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},ugn={key:0},cgn=["onClick"],fgn=me({name:"DateTable",__name:"date-table",props:ngn,emits:rgn,setup(e,{expose:t,emit:n}){const r=e,s=n,{isInRange:o,now:i,rows:a,weekDays:l,getFormattedDate:u,handlePickDay:c,getSlotData:f}=lgn(r,s),d=Ae("calendar-table"),h=Ae("calendar-day"),p=({text:g,type:m})=>{const v=[m];if(m==="current"){const y=u(g,m);y.isSame(r.selectedDay,"day")&&v.push(h.is("selected")),y.isSame(i,"day")&&v.push(h.is("today"))}return v};return t({getFormattedDate:u}),(g,m)=>(B(),Y("table",{class:V([x(d).b(),x(d).is("range",x(o))]),cellspacing:"0",cellpadding:"0"},[g.hideHeader?fe("v-if",!0):(B(),Y("thead",ugn,[Z("tr",null,[(B(!0),Y(it,null,Xt(x(l),v=>(B(),Y("th",{key:v,scope:"col"},Fe(v),1))),128))])])),Z("tbody",null,[(B(!0),Y(it,null,Xt(x(a),(v,y)=>(B(),Y("tr",{key:y,class:V({[x(d).e("row")]:!0,[x(d).em("row","hide-border")]:y===0&&g.hideHeader})},[(B(!0),Y(it,null,Xt(v,(w,b)=>(B(),Y("td",{key:b,class:V(p(w)),onClick:C=>x(c)(w)},[Z("div",{class:V(x(h).b())},[ce(g.$slots,"date-cell",{data:x(f)(w)},()=>[Z("span",null,Fe(w.text),1)])],2)],10,cgn))),128))],2))),128))])],2))}});var Eme=Ve(fgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const dgn=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[o.startOf("week"),t]]},hgn=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,o=s.endOf("month"),i=t.startOf("month"),a=o.isSame(i,"week")?i.add(1,"week"):i;return[[e,n],[s.startOf("week"),o],[a.startOf("week"),t]]},pgn=(e,t,n)=>{const{lang:r}=un(),s=j(),o=Mt().locale(r.value),i=O({get(){return e.modelValue?l.value:s.value},set(m){if(!m)return;s.value=m;const v=m.toDate();t(Os,v),t(Et,v)}}),a=O(()=>{if(!e.range||!De(e.range)||e.range.length!==2||e.range.some(w=>!im(w)))return[];const m=e.range.map(w=>Mt(w).locale(r.value)),[v,y]=m;return v.isAfter(y)?[]:v.isSame(y,"month")?h(v,y):v.add(1,"month").month()!==y.month()?[]:h(v,y)}),l=O(()=>e.modelValue?Mt(e.modelValue).locale(r.value):i.value||(a.value.length?a.value[0][0]:o)),u=O(()=>l.value.subtract(1,"month").date(1)),c=O(()=>l.value.add(1,"month").date(1)),f=O(()=>l.value.subtract(1,"year").date(1)),d=O(()=>l.value.add(1,"year").date(1)),h=(m,v)=>{const y=m.startOf("week"),w=v.endOf("week"),b=y.get("month"),C=w.get("month");return b===C?[[y,w]]:(b+1)%12===C?dgn(y,w):b+2===C||(b+1)%11===C?hgn(y,w):[]},p=m=>{i.value=m};return{calculateValidatedDateRange:h,date:l,realSelectedDay:i,pickDay:p,selectDate:m=>{const y={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:o}[m];y.isSame(l.value,"day")||p(y)},validatedRange:a}},ggn=e=>De(e)&&e.length===2&&e.every(t=>im(t)),mgn=Me({modelValue:{type:Date},range:{type:oe(Array),validator:ggn}}),vgn={[Et]:e=>im(e),[Os]:e=>im(e)},ygn="ElCalendar",bgn=me({name:ygn,__name:"calendar",props:mgn,emits:vgn,setup(e,{expose:t,emit:n}){const r=Ae("calendar"),s=e,o=n,{calculateValidatedDateRange:i,date:a,pickDay:l,realSelectedDay:u,selectDate:c,validatedRange:f}=pgn(s,o),{t:d}=un(),h=O(()=>{const p=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${d("el.datepicker.year")} ${d(p)}`});return t({selectedDay:u,pickDay:l,selectDate:c,calculateValidatedDateRange:i}),(p,g)=>(B(),Y("div",{class:V(x(r).b())},[Z("div",{class:V(x(r).e("header"))},[ce(p.$slots,"header",{date:h.value},()=>[Z("div",{class:V(x(r).e("title"))},Fe(h.value),3),x(f).length===0?(B(),Y("div",{key:0,class:V(x(r).e("button-group"))},[ee(x(nBe),null,{default:ie(()=>[ee(x($o),{size:"small",onClick:g[0]||(g[0]=m=>x(c)("prev-month"))},{default:ie(()=>[tn(Fe(x(d)("el.datepicker.prevMonth")),1)]),_:1}),ee(x($o),{size:"small",onClick:g[1]||(g[1]=m=>x(c)("today"))},{default:ie(()=>[tn(Fe(x(d)("el.datepicker.today")),1)]),_:1}),ee(x($o),{size:"small",onClick:g[2]||(g[2]=m=>x(c)("next-month"))},{default:ie(()=>[tn(Fe(x(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):fe("v-if",!0)])],2),x(f).length===0?(B(),Y("div",{key:0,class:V(x(r).e("body"))},[ee(Eme,{date:x(a),"selected-day":x(u),onPick:x(l)},ml({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ie(m=>[ce(p.$slots,"date-cell",zh(Wh(m)))]),key:"0"}:void 0]),1032,["date","selected-day","onPick"])],2)):(B(),Y("div",{key:1,class:V(x(r).e("body"))},[(B(!0),Y(it,null,Xt(x(f),(m,v)=>(B(),pe(Eme,{key:v,date:m[0],"selected-day":x(u),range:m,"hide-header":v!==0,onPick:x(l)},ml({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ie(y=>[ce(p.$slots,"date-cell",Wt({ref_for:!0},y))]),key:"0"}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var wgn=Ve(bgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const xgn=Rt(wgn),Cgn=Me({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:oe([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),Sgn=me({name:"ElCard",__name:"card",props:Cgn,setup(e){const t=GC("card"),n=Ae("card");return(r,s)=>{var o;return B(),Y("div",{class:V([x(n).b(),x(n).is(`${r.shadow||((o=x(t))==null?void 0:o.shadow)||"always"}-shadow`)])},[r.$slots.header||r.header?(B(),Y("div",{key:0,class:V([x(n).e("header"),r.headerClass])},[ce(r.$slots,"header",{},()=>[tn(Fe(r.header),1)])],2)):fe("v-if",!0),Z("div",{class:V([x(n).e("body"),r.bodyClass]),style:dt(r.bodyStyle)},[ce(r.$slots,"default")],6),r.$slots.footer||r.footer?(B(),Y("div",{key:1,class:V([x(n).e("footer"),r.footerClass])},[ce(r.$slots,"footer",{},()=>[tn(Fe(r.footer),1)])],2)):fe("v-if",!0)],2)}}});var $gn=Ve(Sgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const kgn=Rt($gn),Egn=Me({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),_gn={change:(e,t)=>[e,t].every(pt)},aBe=Symbol("carouselContextKey"),cH="ElCarouselItem";var vu=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(vu||{});function fH(e){return or(e)&&e.type===it}function Tgn(e){return or(e)&&e.type===ps}function Agn(e){return or(e)&&!fH(e)&&!Tgn(e)}const Ign=e=>{if(!or(e))return{};const t=e.props||{},n=(or(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{En(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(t).forEach(s=>{r[Na(s)]=t[s]}),r},Cc=e=>{const t=De(e)?e:[e],n=[];return t.forEach(r=>{var s;De(r)?n.push(...Cc(r)):or(r)&&((s=r.component)!=null&&s.subTree)?n.push(r,...Cc(r.component.subTree)):or(r)&&De(r.children)?n.push(...Cc(r.children)):or(r)&&r.shapeFlag===2?n.push(...Cc(r.type())):n.push(r)}),n},Ngn=(e,t,n)=>Cc(e.subTree).filter(o=>{var i;return or(o)&&((i=o.type)==null?void 0:i.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),$5=(e,t)=>{const n=cr({}),r=cr([]),s=new WeakMap,o=c=>{n.value[c.uid]=c,GD(n),Ht(()=>{const f=c.getVnode().el,d=f.parentNode;if(!s.has(d)){s.set(d,[]);const h=d.insertBefore.bind(d);d.insertBefore=(p,g)=>(s.get(d).some(v=>p===v||g===v)&&GD(n),h(p,g))}s.get(d).push(f)})},i=c=>{delete n.value[c.uid],GD(n);const f=c.getVnode().el,d=f.parentNode,h=s.get(d),p=h.indexOf(f);h.splice(p,1)},a=()=>{r.value=Ngn(e,t,n.value)},l=c=>c.render();return{children:r,addChild:o,removeChild:i,ChildrenSorter:me({setup(c,{slots:f}){return()=>(a(),f.default?bt(l,{render:f.default}):null)}})}},_me=300,Dgn=(e,t,n)=>{const{children:r,addChild:s,removeChild:o,ChildrenSorter:i}=$5(Ut(),cH),a=Ms(),l=j(-1),u=j(null),c=j(!1),f=j(),d=j(0),h=j(!0),p=O(()=>e.arrow!=="never"&&!x(v)),g=O(()=>r.value.some(G=>G.props.label.toString().length>0)),m=O(()=>e.type==="card"),v=O(()=>e.direction==="vertical"),y=O(()=>e.height!=="auto"?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"}),w=jg(G=>{T(G)},_me,{trailing:!0}),b=jg(G=>{I(G)},_me),C=G=>h.value?l.value<=1?G<=1:G>1:!0;function S(){u.value&&(clearInterval(u.value),u.value=null)}function $(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval(()=>k(),e.interval))}const k=()=>{l.value<r.value.length-1?l.value=l.value+1:e.loop&&(l.value=0)};function T(G){if(ot(G)){const ae=r.value.filter(X=>X.props.name===G);ae.length>0&&(G=r.value.indexOf(ae[0]))}if(G=Number(G),Number.isNaN(G)||G!==Math.floor(G))return;const re=r.value.length,ue=l.value;G<0?l.value=e.loop?re-1:0:G>=re?l.value=e.loop?0:re-1:l.value=G,ue===l.value&&_(ue),z()}function _(G){r.value.forEach((re,ue)=>{re.translateItem(ue,l.value,G)})}function E(G,re){var ue,ae,X,J;const q=x(r),L=q.length;if(L===0||!G.states.inStage)return!1;const Q=re+1,se=re-1,de=L-1,he=q[de].states.active,ge=q[0].states.active,$e=(ae=(ue=q[Q])==null?void 0:ue.states)==null?void 0:ae.active,He=(J=(X=q[se])==null?void 0:X.states)==null?void 0:J.active;return re===de&&ge||$e?"left":re===0&&he||He?"right":!1}function A(){c.value=!0,e.pauseOnHover&&S()}function N(){c.value=!1,$()}function F(G){x(v)||r.value.forEach((re,ue)=>{G===E(re,ue)&&(re.states.hover=!0)})}function R(){x(v)||r.value.forEach(G=>{G.states.hover=!1})}function P(G){l.value=G}function I(G){e.trigger==="hover"&&G!==l.value&&(l.value=G)}function D(){T(l.value-1)}function M(){T(l.value+1)}function z(){S(),e.pauseOnHover||$()}function W(G){e.height==="auto"&&(d.value=G)}function H(){var G;const re=(G=a.default)==null?void 0:G.call(a);if(!re)return null;const ae=Cc(re).filter(X=>or(X)&&X.type.name===cH);return ae?.length===2&&e.loop&&!m.value?(h.value=!0,ae):(h.value=!1,null)}xe(()=>l.value,(G,re)=>{_(re),h.value&&(G=G%2,re=re%2),re>-1&&t(en,G,re)});const U=O({get:()=>h.value?l.value%2:l.value,set:G=>l.value=G});xe(()=>e.autoplay,G=>{G?$():S()}),xe(()=>e.loop,()=>{T(l.value)}),xe(()=>e.interval,()=>{z()});const K=cr();return Ht(()=>{xe(()=>r.value,()=>{r.value.length>0&&T(e.initialIndex)},{immediate:!0}),K.value=Cr(f.value,()=>{_()}),$()}),Dn(()=>{S(),f.value&&K.value&&K.value.stop()}),ln(aBe,{root:f,isCardType:m,isVertical:v,items:r,loop:e.loop,cardScale:e.cardScale,addItem:s,removeItem:o,setActiveItem:T,setContainerHeight:W}),{root:f,activeIndex:l,exposeActiveIndex:U,arrowDisplay:p,hasLabel:g,hover:c,isCardType:m,items:r,isVertical:v,containerStyle:y,isItemsTwoLength:h,handleButtonEnter:F,handleButtonLeave:R,handleIndicatorClick:P,handleMouseEnter:A,handleMouseLeave:N,setActiveItem:T,prev:D,next:M,PlaceholderItem:H,isTwoLengthShow:C,ItemsSorter:i,throttledArrowClick:w,throttledIndicatorHover:b}},Ogn=["aria-label"],Rgn=["aria-label"],Fgn=["onMouseenter","onClick"],Mgn=["aria-label"],Pgn={key:0},Lgn={key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},Bgn="ElCarousel",zgn=me({name:Bgn,__name:"carousel",props:Egn,emits:_gn,setup(e,{expose:t,emit:n}){const r=e,s=n,{root:o,activeIndex:i,exposeActiveIndex:a,arrowDisplay:l,hasLabel:u,hover:c,isCardType:f,items:d,isVertical:h,containerStyle:p,handleButtonEnter:g,handleButtonLeave:m,handleIndicatorClick:v,handleMouseEnter:y,handleMouseLeave:w,setActiveItem:b,prev:C,next:S,PlaceholderItem:$,isTwoLengthShow:k,ItemsSorter:T,throttledArrowClick:_,throttledIndicatorHover:E}=Dgn(r,s),A=Ae("carousel"),{t:N}=un(),F=O(()=>{const D=[A.b(),A.m(r.direction)];return x(f)&&D.push(A.m("card")),D}),R=O(()=>{const D=[A.e("indicators"),A.em("indicators",r.direction)];return x(u)&&D.push(A.em("indicators","labels")),r.indicatorPosition==="outside"&&D.push(A.em("indicators","outside")),x(h)&&D.push(A.em("indicators","right")),D});function P(D){if(!r.motionBlur)return;const M=x(h)?`${A.namespace.value}-transitioning-vertical`:`${A.namespace.value}-transitioning`;D.currentTarget.classList.add(M)}function I(D){if(!r.motionBlur)return;const M=x(h)?`${A.namespace.value}-transitioning-vertical`:`${A.namespace.value}-transitioning`;D.currentTarget.classList.remove(M)}return t({activeIndex:a,setActiveItem:b,prev:C,next:S}),(D,M)=>(B(),Y("div",{ref_key:"root",ref:o,class:V(F.value),onMouseenter:M[6]||(M[6]=xt((...z)=>x(y)&&x(y)(...z),["stop"])),onMouseleave:M[7]||(M[7]=xt((...z)=>x(w)&&x(w)(...z),["stop"]))},[x(l)?(B(),pe(Ho,{key:0,name:"carousel-arrow-left",persisted:""},{default:ie(()=>[Lt(Z("button",{type:"button",class:V([x(A).e("arrow"),x(A).em("arrow","left")]),"aria-label":x(N)("el.carousel.leftArrow"),onMouseenter:M[0]||(M[0]=z=>x(g)("left")),onMouseleave:M[1]||(M[1]=(...z)=>x(m)&&x(m)(...z)),onClick:M[2]||(M[2]=xt(z=>x(_)(x(i)-1),["stop"]))},[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1})],42,Ogn),[[Sn,(D.arrow==="always"||x(c))&&(D.loop||x(i)>0)]])]),_:1})):fe("v-if",!0),x(l)?(B(),pe(Ho,{key:1,name:"carousel-arrow-right",persisted:""},{default:ie(()=>[Lt(Z("button",{type:"button",class:V([x(A).e("arrow"),x(A).em("arrow","right")]),"aria-label":x(N)("el.carousel.rightArrow"),onMouseenter:M[3]||(M[3]=z=>x(g)("right")),onMouseleave:M[4]||(M[4]=(...z)=>x(m)&&x(m)(...z)),onClick:M[5]||(M[5]=xt(z=>x(_)(x(i)+1),["stop"]))},[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})],42,Rgn),[[Sn,(D.arrow==="always"||x(c))&&(D.loop||x(i)<x(d).length-1)]])]),_:1})):fe("v-if",!0),Z("div",{class:V(x(A).e("container")),style:dt(x(p)),onTransitionstart:P,onTransitionend:I},[ee(x($)),ce(D.$slots,"default")],38),ee(x(T),null,{default:ie(()=>[D.indicatorPosition!=="none"?(B(),Y("ul",{key:0,class:V(R.value)},[(B(!0),Y(it,null,Xt(x(d),(z,W)=>Lt((B(),Y("li",{key:W,class:V([x(A).e("indicator"),x(A).em("indicator",D.direction),x(A).is("active",W===x(i))]),onMouseenter:H=>x(E)(W),onClick:xt(H=>x(v)(W),["stop"])},[Z("button",{class:V(x(A).e("button")),"aria-label":x(N)("el.carousel.indicator",{index:W+1})},[x(u)?(B(),Y("span",Pgn,Fe(z.props.label),1)):fe("v-if",!0)],10,Mgn)],42,Fgn)),[[Sn,x(k)(W)]])),128))],2)):fe("v-if",!0)]),_:1}),D.motionBlur?(B(),Y("svg",Lgn,[...M[8]||(M[8]=[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)])])):fe("v-if",!0)],34))}});var Vgn=Ve(zgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Wgn=Me({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ugn=e=>{const t=tt(aBe),n=Ut(),r=j(),s=j(!1),o=j(0),i=j(1),a=j(!1),l=j(!1),u=j(!1),c=j(!1),{isCardType:f,isVertical:d,cardScale:h}=t;function p(b,C,S){const $=S-1,k=C-1,T=C+1,_=S/2;return C===0&&b===$?-1:C===$&&b===0?S:b<k&&C-b>=_?S+1:b>T&&b-C>=_?-2:b}function g(b,C){var S,$;const k=x(d)?((S=t.root.value)==null?void 0:S.offsetHeight)||0:(($=t.root.value)==null?void 0:$.offsetWidth)||0;return u.value?k*((2-h)*(b-C)+1)/4:b<C?-(1+h)*k/4:(3+h)*k/4}function m(b,C,S){const $=t.root.value;return $?((S?$.offsetHeight:$.offsetWidth)||0)*(b-C):0}const v=(b,C,S)=>{var $;const k=x(f),T=($=t.items.value.length)!=null?$:Number.NaN,_=b===C;!k&&!yn(S)&&(c.value=_||b===S),!_&&T>2&&t.loop&&(b=p(b,C,T));const E=x(d);a.value=_,k?(u.value=Math.round(Math.abs(b-C))<=1,o.value=g(b,C),i.value=x(a)?1:h):o.value=m(b,C,E),l.value=!0,_&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function y(){if(t&&x(f)){const b=t.items.value.findIndex(({uid:C})=>C===n.uid);t.setActiveItem(b)}}const w={props:e,states:In({hover:s,translate:o,scale:i,active:a,ready:l,inStage:u,animating:c}),uid:n.uid,getVnode:()=>n.vnode,translateItem:v};return t.addItem(w),Dn(()=>{t.removeItem(w)}),{carouselItemRef:r,active:a,animating:c,hover:s,inStage:u,isVertical:d,translate:o,isCardType:f,scale:i,ready:l,handleItemClick:y}},jgn=me({name:cH,__name:"carousel-item",props:Wgn,setup(e){const t=e,n=Ae("carousel"),{carouselItemRef:r,active:s,animating:o,hover:i,inStage:a,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=Ugn(t),p=O(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",a.value),n.is("hover",i.value),n.is("animating",o.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),g=O(()=>{const v=`${`translate${x(l)?"Y":"X"}`}(${x(u)}px)`,y=`scale(${x(f)})`;return{transform:[v,y].join(" ")}});return(m,v)=>Lt((B(),Y("div",{ref_key:"carouselItemRef",ref:r,class:V(p.value),style:dt(g.value),onClick:v[0]||(v[0]=(...y)=>x(h)&&x(h)(...y))},[x(c)?Lt((B(),Y("div",{key:0,class:V(x(n).e("mask"))},null,2)),[[Sn,!x(s)]]):fe("v-if",!0),ce(m.$slots,"default")],6)),[[Sn,x(d)]])}});var lBe=Ve(jgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Hgn=Rt(Vgn,{CarouselItem:lBe}),qgn=Ur(lBe),uBe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:js,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...fa(["ariaControls"])},cBe={[Et]:e=>ot(e)||pt(e)||Ln(e),change:e=>ot(e)||pt(e)||Ln(e)},XC=Symbol("checkboxGroupContextKey"),Ggn=({model:e,isChecked:t})=>{const n=tt(XC,void 0),r=tt(ob,void 0),s=O(()=>{var i,a;const l=(i=n?.max)==null?void 0:i.value,u=(a=n?.min)==null?void 0:a.value;return!yn(l)&&e.value.length>=l&&!t.value||!yn(u)&&e.value.length<=u&&t.value});return{isDisabled:jr(O(()=>{var i,a;return n===void 0?(i=r?.disabled)!=null?i:s.value:((a=n.disabled)==null?void 0:a.value)||s.value})),isLimitDisabled:s}},Kgn=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:o})=>{const i=tt(XC,void 0),{formItem:a}=Ro(),{emit:l}=Ut();function u(p){var g,m,v,y;return[!0,e.trueValue,e.trueLabel].includes(p)?(m=(g=e.trueValue)!=null?g:e.trueLabel)!=null?m:!0:(y=(v=e.falseValue)!=null?v:e.falseLabel)!=null?y:!1}function c(p,g){l(en,u(p),g)}function f(p){if(n.value)return;const g=p.target;l(en,u(g.checked),p)}async function d(p){n.value||!r.value&&!s.value&&o.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await Ye(),c(t.value,p)))}const h=O(()=>i?.validateEvent||e.validateEvent);return xe(()=>e.modelValue,()=>{h.value&&a?.validate("change").catch(p=>void 0)}),{handleChange:f,onClickRoot:d}},Ygn=e=>{const t=j(!1),{emit:n}=Ut(),r=tt(XC,void 0),s=O(()=>yn(r)===!1),o=j(!1),i=O({get(){var a,l;return s.value?(a=r?.modelValue)==null?void 0:a.value:(l=e.modelValue)!=null?l:t.value},set(a){var l,u;s.value&&De(a)?(o.value=((l=r?.max)==null?void 0:l.value)!==void 0&&a.length>r?.max.value&&a.length>i.value.length,o.value===!1&&((u=r?.changeEvent)==null||u.call(r,a))):(n(Et,a),t.value=a)}});return{model:i,isGroup:s,isLimitExceeded:o}},Xgn=(e,t,{model:n})=>{const r=tt(XC,void 0),s=j(!1),o=O(()=>cl(e.value)?e.label:e.value),i=O(()=>{const c=n.value;return Ln(c)?c:De(c)?Pt(o.value)?c.map(nr).some(f=>Gr(f,o.value)):c.map(nr).includes(o.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),a=Fs(O(()=>{var c;return(c=r?.size)==null?void 0:c.value}),{prop:!0}),l=Fs(O(()=>{var c;return(c=r?.size)==null?void 0:c.value})),u=O(()=>!!t.default||!cl(o.value));return{checkboxButtonSize:a,isChecked:i,isFocused:s,checkboxSize:l,hasOwnLabel:u,actualValue:o}},fBe=(e,t)=>{const{formItem:n}=Ro(),{model:r,isGroup:s,isLimitExceeded:o}=Ygn(e),{isFocused:i,isChecked:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=Xgn(e,t,{model:r}),{isDisabled:d}=Ggn({model:r,isChecked:a}),{inputId:h,isLabeledByFormItem:p}=au(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:s}),{handleChange:g,onClickRoot:m}=Kgn(e,{model:r,isLimitExceeded:o,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function y(){var w,b;De(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(b=(w=e.trueValue)!=null?w:e.trueLabel)!=null?b:!0}e.checked&&y()})(),sd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>s.value&&cl(e.value))),sd({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>!!e.trueLabel)),sd({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},O(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:a,isDisabled:d,isFocused:i,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:g,onClickRoot:m}},Zgn=["id","indeterminate","name","tabindex","disabled"],Jgn=me({name:"ElCheckbox",__name:"checkbox",props:uBe,emits:cBe,setup(e){const t=e,n=Ms(),{inputId:r,isLabeledByFormItem:s,isChecked:o,isDisabled:i,isFocused:a,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=fBe(t,n),p=O(()=>{var y,w,b,C;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(w=(y=t.trueValue)!=null?y:t.trueLabel)!=null?w:!0,"false-value":(C=(b=t.falseValue)!=null?b:t.falseLabel)!=null?C:!1}:{value:f.value}}),g=Ae("checkbox"),m=O(()=>[g.b(),g.m(l.value),g.is("disabled",i.value),g.is("bordered",t.border),g.is("checked",o.value)]),v=O(()=>[g.e("input"),g.is("disabled",i.value),g.is("checked",o.value),g.is("indeterminate",t.indeterminate),g.is("focus",a.value)]);return(y,w)=>(B(),pe(zt(!x(u)&&x(s)?"span":"label"),{for:!x(u)&&x(s)?null:x(r),class:V(m.value),"aria-controls":y.indeterminate?y.ariaControls:null,"aria-checked":y.indeterminate?"mixed":void 0,"aria-label":y.ariaLabel,onClick:x(h)},{default:ie(()=>[Z("span",{class:V(v.value)},[Lt(Z("input",Wt({id:x(r),"onUpdate:modelValue":w[0]||(w[0]=b=>fr(c)?c.value=b:null),class:x(g).e("original"),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:x(i)},p.value,{onChange:w[1]||(w[1]=(...b)=>x(d)&&x(d)(...b)),onFocus:w[2]||(w[2]=b=>a.value=!0),onBlur:w[3]||(w[3]=b=>a.value=!1),onClick:w[4]||(w[4]=xt(()=>{},["stop"]))}),null,16,Zgn),[[k1e,x(c)]]),Z("span",{class:V(x(g).e("inner"))},null,2)],2),x(u)?(B(),Y("span",{key:0,class:V(x(g).e("label"))},[ce(y.$slots,"default"),y.$slots.default?fe("v-if",!0):(B(),Y(it,{key:0},[tn(Fe(y.label),1)],64))],2)):fe("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var dBe=Ve(Jgn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Qgn=["name","tabindex","disabled"],emn=me({name:"ElCheckboxButton",__name:"checkbox-button",props:uBe,emits:cBe,setup(e){const t=e,n=Ms(),{isFocused:r,isChecked:s,isDisabled:o,checkboxButtonSize:i,model:a,actualValue:l,handleChange:u}=fBe(t,n),c=O(()=>{var g,m,v,y;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(m=(g=t.trueValue)!=null?g:t.trueLabel)!=null?m:!0,"false-value":(y=(v=t.falseValue)!=null?v:t.falseLabel)!=null?y:!1}:{value:l.value}}),f=tt(XC,void 0),d=Ae("checkbox"),h=O(()=>{var g,m,v,y;const w=(m=(g=f?.fill)==null?void 0:g.value)!=null?m:"";return{backgroundColor:w,borderColor:w,color:(y=(v=f?.textColor)==null?void 0:v.value)!=null?y:"",boxShadow:w?`-1px 0 0 0 ${w}`:void 0}}),p=O(()=>[d.b("button"),d.bm("button",i.value),d.is("disabled",o.value),d.is("checked",s.value),d.is("focus",r.value)]);return(g,m)=>(B(),Y("label",{class:V(p.value)},[Lt(Z("input",Wt({"onUpdate:modelValue":m[0]||(m[0]=v=>fr(a)?a.value=v:null),class:x(d).be("button","original"),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:x(o)},c.value,{onChange:m[1]||(m[1]=(...v)=>x(u)&&x(u)(...v)),onFocus:m[2]||(m[2]=v=>r.value=!0),onBlur:m[3]||(m[3]=v=>r.value=!1),onClick:m[4]||(m[4]=xt(()=>{},["stop"]))}),null,16,Qgn),[[k1e,x(a)]]),g.$slots.default||g.label?(B(),Y("span",{key:0,class:V(x(d).be("button","inner")),style:dt(x(s)?h.value:void 0)},[ce(g.$slots,"default",{},()=>[tn(Fe(g.label),1)])],6)):fe("v-if",!0)],2))}});var Ine=Ve(emn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const tmn=Me({modelValue:{type:oe(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:js,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:oe(Array)},props:{type:oe(Object),default:()=>hBe},type:{type:String,values:["checkbox","button"],default:"checkbox"},...fa(["ariaLabel"])}),nmn={[Et]:e=>De(e),change:e=>De(e)},hBe={label:"label",value:"value",disabled:"disabled"},rmn=me({name:"ElCheckboxGroup",__name:"checkbox-group",props:tmn,emits:nmn,setup(e,{emit:t}){const n=e,r=t,s=Ae("checkbox"),o=jr(),{formItem:i}=Ro(),{inputId:a,isLabeledByFormItem:l}=au(n,{formItemContext:i}),u=async p=>{r(Et,p),await Ye(),r(en,p)},c=O({get(){return n.modelValue},set(p){u(p)}}),f=O(()=>({...hBe,...n.props})),d=p=>{const{label:g,value:m,disabled:v}=f.value,y={label:p[g],value:p[m],disabled:p[v]};return{...vI(p,[g,m,v]),...y}},h=O(()=>n.type==="button"?Ine:dBe);return ln(XC,{...vp(ao(n),["size","min","max","validateEvent","fill","textColor"]),disabled:o,modelValue:c,changeEvent:u}),xe(()=>n.modelValue,(p,g)=>{n.validateEvent&&!Gr(p,g)&&i?.validate("change").catch(m=>void 0)}),(p,g)=>{var m;return B(),pe(zt(p.tag),{id:x(a),class:V(x(s).b("group")),role:"group","aria-label":x(l)?void 0:p.ariaLabel||"checkbox-group","aria-labelledby":x(l)?(m=x(i))==null?void 0:m.labelId:void 0},{default:ie(()=>[ce(p.$slots,"default",{},()=>[(B(!0),Y(it,null,Xt(p.options,(v,y)=>(B(),pe(zt(h.value),Wt({key:y},{ref_for:!0},d(v)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var pBe=Ve(rmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Hc=Rt(dBe,{CheckboxButton:Ine,CheckboxGroup:pBe}),smn=Ur(Ine),Nne=Ur(pBe),gBe=Me({modelValue:{type:[String,Number,Boolean],default:void 0},size:js,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),omn=Me({...gBe,border:Boolean}),mBe={[Et]:e=>ot(e)||pt(e)||Ln(e),[en]:e=>ot(e)||pt(e)||Ln(e)},vBe=Symbol("radioGroupKey"),yBe=(e,t)=>{const n=j(),r=tt(vBe,void 0),s=O(()=>!!r),o=O(()=>cl(e.value)?e.label:e.value),i=O({get(){return s.value?r.modelValue:e.modelValue},set(f){s.value?r.changeEvent(f):t&&t(Et,f),n.value.checked=e.modelValue===o.value}}),a=Fs(O(()=>r?.size)),l=jr(O(()=>r?.disabled)),u=j(!1),c=O(()=>l.value||s.value&&i.value!==o.value?-1:0);return sd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},O(()=>s.value&&cl(e.value))),{radioRef:n,isGroup:s,radioGroup:r,focus:u,size:a,disabled:l,tabIndex:c,modelValue:i,actualValue:o}},imn=["value","name","disabled","checked"],amn=me({name:"ElRadio",__name:"radio",props:omn,emits:mBe,setup(e,{emit:t}){const n=e,r=t,s=Ae("radio"),{radioRef:o,radioGroup:i,focus:a,size:l,disabled:u,modelValue:c,actualValue:f}=yBe(n,r);function d(){Ye(()=>r(en,c.value))}return(h,p)=>{var g;return B(),Y("label",{class:V([x(s).b(),x(s).is("disabled",x(u)),x(s).is("focus",x(a)),x(s).is("bordered",h.border),x(s).is("checked",x(c)===x(f)),x(s).m(x(l))])},[Z("span",{class:V([x(s).e("input"),x(s).is("disabled",x(u)),x(s).is("checked",x(c)===x(f))])},[Lt(Z("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":p[0]||(p[0]=m=>fr(c)?c.value=m:null),class:V(x(s).e("original")),value:x(f),name:h.name||((g=x(i))==null?void 0:g.name),disabled:x(u),checked:x(c)===x(f),type:"radio",onFocus:p[1]||(p[1]=m=>a.value=!0),onBlur:p[2]||(p[2]=m=>a.value=!1),onChange:d,onClick:p[3]||(p[3]=xt(()=>{},["stop"]))},null,42,imn),[[E1e,x(c)]]),Z("span",{class:V(x(s).e("inner"))},null,2)],2),Z("span",{class:V(x(s).e("label")),onKeydown:p[4]||(p[4]=xt(()=>{},["stop"]))},[ce(h.$slots,"default",{},()=>[tn(Fe(h.label),1)])],34)],2)}}});var bBe=Ve(amn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const lmn=Me({...gBe}),umn=["value","name","disabled"],cmn=me({name:"ElRadioButton",__name:"radio-button",props:lmn,setup(e){const t=e,n=Ae("radio"),{radioRef:r,focus:s,size:o,disabled:i,modelValue:a,radioGroup:l,actualValue:u}=yBe(t),c=O(()=>({backgroundColor:l?.fill||"",borderColor:l?.fill||"",boxShadow:l?.fill?`-1px 0 0 0 ${l.fill}`:"",color:l?.textColor||""}));return(f,d)=>{var h;return B(),Y("label",{class:V([x(n).b("button"),x(n).is("active",x(a)===x(u)),x(n).is("disabled",x(i)),x(n).is("focus",x(s)),x(n).bm("button",x(o))])},[Lt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":d[0]||(d[0]=p=>fr(a)?a.value=p:null),class:V(x(n).be("button","original-radio")),value:x(u),type:"radio",name:f.name||((h=x(l))==null?void 0:h.name),disabled:x(i),onFocus:d[1]||(d[1]=p=>s.value=!0),onBlur:d[2]||(d[2]=p=>s.value=!1),onClick:d[3]||(d[3]=xt(()=>{},["stop"]))},null,42,umn),[[E1e,x(a)]]),Z("span",{class:V(x(n).be("button","inner")),style:dt(x(a)===x(u)?c.value:{}),onKeydown:d[4]||(d[4]=xt(()=>{},["stop"]))},[ce(f.$slots,"default",{},()=>[tn(Fe(f.label),1)])],38)],2)}}});var Dne=Ve(cmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const fmn=Me({id:{type:String,default:void 0},size:js,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:oe(Array)},props:{type:oe(Object),default:()=>wBe},type:{type:String,values:["radio","button"],default:"radio"},...fa(["ariaLabel"])}),dmn=mBe,wBe={label:"label",value:"value",disabled:"disabled"},hmn=["id","aria-label","aria-labelledby"],pmn=me({name:"ElRadioGroup",__name:"radio-group",props:fmn,emits:dmn,setup(e,{emit:t}){const n=e,r=t,s=Ae("radio"),o=Yo(),i=j(),{formItem:a}=Ro(),{inputId:l,isLabeledByFormItem:u}=au(n,{formItemContext:a}),c=g=>{r(Et,g),Ye(()=>r(en,g))};Ht(()=>{const g=i.value.querySelectorAll("[type=radio]"),m=g[0];!Array.from(g).some(v=>v.checked)&&m&&(m.tabIndex=0)});const f=O(()=>n.name||o.value),d=O(()=>({...wBe,...n.props})),h=g=>{const{label:m,value:v,disabled:y}=d.value,w={label:g[m],value:g[v],disabled:g[y]};return{...vI(g,[m,v,y]),...w}},p=O(()=>n.type==="button"?Dne:bBe);return ln(vBe,In({...ao(n),changeEvent:c,name:f})),xe(()=>n.modelValue,(g,m)=>{n.validateEvent&&!Gr(g,m)&&a?.validate("change").catch(v=>void 0)}),(g,m)=>(B(),Y("div",{id:x(l),ref_key:"radioGroupRef",ref:i,class:V(x(s).b("group")),role:"radiogroup","aria-label":x(u)?void 0:g.ariaLabel||"radio-group","aria-labelledby":x(u)?x(a).labelId:void 0},[ce(g.$slots,"default",{},()=>[(B(!0),Y(it,null,Xt(g.options,(v,y)=>(B(),pe(zt(p.value),Wt({key:y},{ref_for:!0},h(v)),null,16))),128))])],10,hmn))}});var xBe=Ve(pmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const CBe=Rt(bBe,{RadioButton:Dne,RadioGroup:xBe}),gmn=Ur(xBe),mmn=Ur(Dne),k5=Symbol();function vmn(e){return!!(De(e)?e.every(({type:t})=>t===ps):e?.type===ps)}var ymn=me({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(e){const t=Ae("cascader-node"),{renderLabelFn:n}=tt(k5),{node:r}=e,{data:s,label:o}=r,i=()=>{const a=n?.({node:r,data:s});return vmn(a)?o:a??o};return()=>ee("span",{class:t.e("label")},[i()])}});const bmn=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],wmn=me({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=e,r=t,s=tt(k5),o=Ae("cascader-node"),i=O(()=>s.isHoverMenu),a=O(()=>s.config.multiple),l=O(()=>s.config.checkStrictly),u=O(()=>s.config.showPrefix),c=O(()=>{var T;return(T=s.checkedNodes[0])==null?void 0:T.uid}),f=O(()=>n.node.isDisabled),d=O(()=>n.node.isLeaf),h=O(()=>l.value&&!d.value||!f.value),p=O(()=>m(s.expandingNode)),g=O(()=>l.value&&s.checkedNodes.some(m)),m=T=>{var _;const{level:E,uid:A}=n.node;return((_=T?.pathNodes[E-1])==null?void 0:_.uid)===A},v=()=>{p.value||s.expandNode(n.node)},y=T=>{const{node:_}=n;T!==_.checked&&s.handleCheckChange(_,T)},w=()=>{s.lazyLoad(n.node,()=>{d.value||v()})},b=T=>{i.value&&(C(),!d.value&&r("expand",T))},C=()=>{const{node:T}=n;!h.value||T.loading||(T.loaded?v():w())},S=()=>{d.value&&!f.value&&!l.value&&!a.value?k(!0):(s.config.checkOnClickNode&&(a.value||l.value)||d.value&&s.config.checkOnClickLeaf)&&!f.value?$(!n.node.checked):i.value||C()},$=T=>{l.value?(y(T),n.node.loaded&&v()):k(T)},k=T=>{n.node.loaded?(y(T),!l.value&&v()):w()};return(T,_)=>(B(),Y("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!d.value,"aria-owns":d.value?void 0:e.menuId,"aria-expanded":p.value,tabindex:h.value?-1:void 0,class:V([x(o).b(),x(o).is("selectable",l.value),x(o).is("active",e.node.checked),x(o).is("disabled",!h.value),p.value&&"in-active-path",g.value&&"in-checked-path"]),onMouseenter:b,onFocus:b,onClick:S},[fe(" prefix "),a.value&&u.value?(B(),pe(x(Hc),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:f.value,onClick:_[0]||(_[0]=xt(()=>{},["stop"])),"onUpdate:modelValue":$},null,8,["model-value","indeterminate","disabled"])):l.value&&u.value?(B(),pe(x(CBe),{key:1,"model-value":c.value,label:e.node.uid,disabled:f.value,"onUpdate:modelValue":$,onClick:_[1]||(_[1]=xt(()=>{},["stop"]))},{default:ie(()=>[fe(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),_[2]||(_[2]=Z("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):d.value&&e.node.checked?(B(),pe(x(st),{key:2,class:V(x(o).e("prefix"))},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):fe("v-if",!0),fe(" content "),ee(x(ymn),{node:e.node},null,8,["node"]),fe(" postfix "),d.value?fe("v-if",!0):(B(),Y(it,{key:3},[e.node.loading?(B(),pe(x(st),{key:0,class:V([x(o).is("loading"),x(o).e("postfix")])},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])):(B(),pe(x(st),{key:1,class:V(["arrow-right",x(o).e("postfix")])},{default:ie(()=>[ee(x(aa))]),_:1},8,["class"]))],64))],42,bmn))}});var xmn=Ve(wmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Cmn=me({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=e,n=Ut(),r=Ae("cascader-menu"),{t:s}=un(),o=Yo();let i,a;const l=tt(k5),u=j(),c=O(()=>!t.nodes.length),f=O(()=>!l.initialLoaded),d=O(()=>`${o.value}-${t.index}`),h=v=>{i=v.target},p=v=>{var y;if(!(!l.isHoverMenu||!i||!u.value))if(i.contains(v.target)){g();const w=n.vnode.el,{left:b}=w.getBoundingClientRect(),{offsetWidth:C,offsetHeight:S}=w,$=v.clientX-b,k=i.offsetTop,T=k+i.offsetHeight,_=((y=w.querySelector(`.${r.e("wrap")}`))==null?void 0:y.scrollTop)||0;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${k} L${C} ${_} V${k} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${T} L${C} ${S+_} V${T} Z" />
        `}else a||(a=window.setTimeout(m,l.config.hoverThreshold))},g=()=>{a&&(clearTimeout(a),a=void 0)},m=()=>{u.value&&(u.value.innerHTML="",g())};return(v,y)=>(B(),pe(x(jc),{key:d.value,tag:"ul",role:"menu",class:V(x(r).b()),"wrap-class":x(r).e("wrap"),"view-class":[x(r).e("list"),x(r).is("empty",c.value)],onMousemove:p,onMouseleave:m},{default:ie(()=>{var w;return[(B(!0),Y(it,null,Xt(e.nodes,b=>(B(),pe(xmn,{key:b.uid,node:b,"menu-id":d.value,onExpand:h},null,8,["node","menu-id"]))),128)),f.value?(B(),Y("div",{key:0,class:V(x(r).e("empty-text"))},[ee(x(st),{size:"14",class:V(x(r).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"]),tn(" "+Fe(x(s)("el.cascader.loading")),1)],2)):c.value?(B(),Y("div",{key:1,class:V(x(r).e("empty-text"))},[ce(v.$slots,"empty",{},()=>[tn(Fe(x(s)("el.cascader.noData")),1)])],2)):(w=x(l))!=null&&w.isHoverMenu?(B(),Y(it,{key:2},[fe(" eslint-disable-next-line vue/html-self-closing "),(B(),Y("svg",{ref_key:"hoverZone",ref:u,class:V(x(r).e("hover-zone"))},null,2))],2112)):fe("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var Smn=Ve(Cmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let $mn=0;const kmn=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let dH=class hH{constructor(t,n,r,s=!1){this.data=t,this.config=n,this.parent=r,this.root=s,this.uid=$mn++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=n,l=t[a],u=kmn(this);this.level=s?0:r?r.level+1:1,this.value=t[o],this.label=t[i],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new hH(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!_a(l),this.text=""}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:s,checkStrictly:o}=r;return(ft(s)?s(t,this):!!t[s])||!o&&!!n?.isDisabled}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:s}=this,{lazy:o,leaf:i}=n,a=ft(i)?i(t,this):t[i];return yn(a)?o&&!s?!1:!(De(r)&&r.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,s=new hH(t,this.config,this);return De(n)?n.push(t):this.childrenData=[t],r.push(s),s}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t){this.children.forEach(n=>{var r;n&&(n.broadcast(t),(r=n.onParentCheck)==null||r.call(n,t))})}emit(){var t;const{parent:n}=this;n&&((t=n.onChildCheck)==null||t.call(n),n.emit())}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((s,o)=>{const i=o.checked?1:o.indeterminate?.5:0;return s+i},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast(t),this.setCheckState(t),this.emit())}};const pH=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(pH(r.children,t))),n),[]);class Tme{constructor(t,n){this.config=n;const r=(t||[]).map(s=>new dH(s,this.config));this.nodes=r,this.allNodes=pH(r,!1),this.leafNodes=pH(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new dH(t,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(t,n){t.length>0?t.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(t){this.allNodes.push(t),t.isLeaf&&this.leafNodes.push(t),t.children&&t.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(t,n=!1){return cl(t)?null:this.getFlattedNodes(n).find(s=>Gr(s.value,t)||Gr(s.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:s})=>Gr(t.value,r)&&t.level===s)||null}}const SBe=Me({modelValue:{type:oe([Number,String,Array,Object])},options:{type:oe(Array),default:()=>[]},props:{type:oe(Object),default:()=>({})}}),Emn={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Rn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},_mn=Me({...SBe,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),Ame=e=>!0,Tmn={[Et]:Ame,[en]:Ame,close:()=>!0,"expand-change":e=>e},Amn=e=>O(()=>({...Emn,...e.props})),Ime=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Imn=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():xLe(e)&&e.click()},Nmn=(e,t)=>{const n=t.slice(0),r=n.map(o=>o.uid),s=e.reduce((o,i)=>{const a=r.indexOf(i.uid);return a>-1&&(o.push(i),n.splice(a,1),r.splice(a,1)),o},[]);return s.push(...n),s},Dmn=me({name:"ElCascaderPanel",__name:"index",props:_mn,emits:Tmn,setup(e,{expose:t,emit:n}){const r=e,s=n;let o=!1;const i=Ae("cascader"),a=Amn(r),l=Ms();let u;const c=j(!0),f=j(!1),d=j([]),h=j(),p=j([]),g=j(),m=j([]),v=O(()=>a.value.expandTrigger==="hover"),y=O(()=>r.renderLabel||l.default),w=()=>{const{options:I}=r,D=a.value;o=!1,u=new Tme(I,D),p.value=[u.getNodes()],D.lazy&&_a(r.options)?(c.value=!1,b(void 0,M=>{M&&(u=new Tme(M,D),p.value=[u.getNodes()]),c.value=!0,A(!1,!0)})):A(!1,!0)},b=(I,D)=>{const M=a.value;I=I||new dH({},M,void 0,!0),I.loading=!0;const z=H=>{const U=I,K=U.root?null:U;U.loading=!1,U.loaded=!0,U.childrenData=U.childrenData||[],H&&u?.appendNodes(H,K),H&&D?.(H),I.level===0&&(f.value=!0)},W=()=>{I.loading=!1,I.loaded=!1,I.level===0&&(c.value=!0)};M.lazyLoad(I,z,W)},C=(I,D)=>{var M;const{level:z}=I,W=p.value.slice(0,z);let H;I.isLeaf?H=I.pathNodes[z-2]:(H=I,W.push(I.children)),((M=g.value)==null?void 0:M.uid)!==H?.uid&&(g.value=I,p.value=W,!D&&s("expand-change",I?.pathValues||[]))},S=(I,D,M=!0)=>{const{checkStrictly:z,multiple:W}=a.value,H=m.value[0];o=!0,!W&&H?.doCheck(!1),I.doCheck(D),E(),M&&!W&&!z&&s("close"),!M&&!W&&$(I)},$=I=>{I&&(I=I.parent,$(I),I&&C(I))},k=I=>u?.getFlattedNodes(I),T=I=>{var D;return(D=k(I))==null?void 0:D.filter(({checked:M})=>M!==!1)},_=()=>{m.value.forEach(I=>I.doCheck(!1)),E(),p.value=p.value.slice(0,1),g.value=void 0,s("expand-change",[])},E=()=>{var I;const{checkStrictly:D,multiple:M}=a.value,z=m.value,W=T(!D),H=Nmn(z,W),U=H.map(K=>K.valueByOption);m.value=H,h.value=M?U:(I=U[0])!=null?I:null},A=(I=!1,D=!1)=>{const{modelValue:M}=r,{lazy:z,multiple:W,checkStrictly:H}=a.value,U=!H;if(!(!c.value||o||!D&&Gr(M,h.value)))if(z&&!I){const G=pme(Zln(Hi(M))).map(re=>u?.getNodeByValue(re)).filter(re=>!!re&&!re.loaded&&!re.loading);G.length?G.forEach(re=>{b(re,()=>A(!1,D))}):A(!0,D)}else{const K=W?Hi(M):[M],G=pme(K.map(re=>u?.getNodeByValue(re,U)));N(G,D),h.value=tM(M??void 0)}},N=(I,D=!0)=>{const{checkStrictly:M}=a.value,z=m.value,W=I.filter(K=>!!K&&(M||K.isLeaf)),H=u?.getSameNode(g.value),U=D&&H||W[0];U?U.pathNodes.forEach(K=>C(K,!0)):g.value=void 0,z.forEach(K=>K.doCheck(!1)),In(W).forEach(K=>K.doCheck(!0)),m.value=W,Ye(F)},F=()=>{Tn&&d.value.forEach(I=>{const D=I?.$el;if(D){const M=D.querySelector(`.${i.namespace.value}-scrollbar__wrap`),z=D.querySelector(`.${i.b("node")}.${i.is("active")}:last-child`)||D.querySelector(`.${i.b("node")}.in-active-path`);fne(M,z)}})},R=I=>{const D=I.target,M=Hn(I);switch(M){case Oe.up:case Oe.down:{I.preventDefault();const z=M===Oe.up?-1:1;z3(CLe(D,z,`.${i.b("node")}[tabindex="-1"]`));break}case Oe.left:{I.preventDefault();const z=d.value[Ime(D)-1],W=z?.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);z3(W);break}case Oe.right:{I.preventDefault();const z=d.value[Ime(D)+1],W=z?.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);z3(W);break}case Oe.enter:case Oe.numpadEnter:Imn(D);break}};ln(k5,In({config:a,expandingNode:g,checkedNodes:m,isHoverMenu:v,initialLoaded:c,renderLabelFn:y,lazyLoad:b,expandNode:C,handleCheckChange:S})),xe(a,(I,D)=>{Gr(I,D)||w()},{immediate:!0}),xe(()=>r.options,w,{deep:!0}),xe(()=>r.modelValue,()=>{o=!1,A()},{deep:!0}),xe(()=>h.value,I=>{Gr(I,r.modelValue)||(s(Et,I),s(en,I))});const P=()=>{f.value||w()};return yq(()=>d.value=[]),Ht(()=>!_a(r.modelValue)&&A()),t({menuList:d,menus:p,checkedNodes:m,handleKeyDown:R,handleCheckChange:S,getFlattedNodes:k,getCheckedNodes:T,clearCheckedNodes:_,calculateCheckedValue:E,scrollToExpandingNode:F,loadLazyRootNodes:P}),(I,D)=>(B(),Y("div",{class:V([x(i).b("panel"),x(i).is("bordered",I.border)]),onKeydown:R},[(B(!0),Y(it,null,Xt(p.value,(M,z)=>(B(),pe(Smn,{key:z,ref_for:!0,ref:W=>d.value[z]=W,index:z,nodes:[...M]},{empty:ie(()=>[ce(I.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});var Omn=Ve(Dmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);const $Be=Rt(Omn),xp=Me({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:eh},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Rmn={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Fmn=["aria-label"],Mmn=["aria-label"],Pmn=me({name:"ElTag",__name:"tag",props:xp,emits:Rmn,setup(e,{emit:t}){const n=e,r=t,s=Fs(),{t:o}=un(),i=Ae("tag"),a=O(()=>{const{type:f,hit:d,effect:h,closable:p,round:g}=n;return[i.b(),i.is("closable",p),i.m(f||"primary"),i.m(s.value),i.m(h),i.is("hit",d),i.is("round",g)]}),l=f=>{r("close",f)},u=f=>{r("click",f)},c=f=>{var d,h,p;(p=(h=(d=f?.component)==null?void 0:d.subTree)==null?void 0:h.component)!=null&&p.bum&&(f.component.subTree.component.bum=null)};return(f,d)=>f.disableTransitions?(B(),Y("span",{key:0,class:V(a.value),style:dt({backgroundColor:f.color}),onClick:u},[Z("span",{class:V(x(i).e("content"))},[ce(f.$slots,"default")],2),f.closable?(B(),Y("button",{key:0,"aria-label":x(o)("el.tag.close"),class:V(x(i).e("close")),type:"button",onClick:xt(l,["stop"])},[ee(x(st),null,{default:ie(()=>[ee(x(Hu))]),_:1})],10,Fmn)):fe("v-if",!0)],6)):(B(),pe(Ho,{key:1,name:`${x(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:c},{default:ie(()=>[Z("span",{class:V(a.value),style:dt({backgroundColor:f.color}),onClick:u},[Z("span",{class:V(x(i).e("content"))},[ce(f.$slots,"default")],2),f.closable?(B(),Y("button",{key:0,"aria-label":x(o)("el.tag.close"),class:V(x(i).e("close")),type:"button",onClick:xt(l,["stop"])},[ee(x(st),null,{default:ie(()=>[ee(x(Hu))]),_:1})],10,Mmn)):fe("v-if",!0)],6)]),_:3},8,["name"]))}});var Lmn=Ve(Pmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Jh=Rt(Lmn),Bmn=Me({...SBe,size:js,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:zn,default:jp},filterable:Boolean,filterMethod:{type:oe(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:oe(Function),default:()=>!0},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Un.popperClass,popperStyle:Un.popperStyle,teleported:Un.teleported,effect:{type:oe(String),default:"light"},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...sb}),Nme=e=>!0,zmn={[Et]:Nme,[en]:Nme,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Ln(e),expandChange:e=>!!e,removeTag:e=>!!e},fg=new Map;if(Tn){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of fg.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function Dme(e,t){let n=[];return De(t.arg)?n=t.arg:ul(t.arg)&&n.push(t.arg),function(r,s){const o=t.instance.popperRef,i=r.target,a=s?.target,l=!t||!t.instance,u=!i||!a,c=e.contains(i)||e.contains(a),f=e===i,d=n.length&&n.some(p=>p?.contains(i))||n.length&&n.includes(a),h=o&&(o.contains(i)||o.contains(a));l||u||c||f||d||h||t.value(r,s)}}const Jm={beforeMount(e,t){fg.has(e)||fg.set(e,[]),fg.get(e).push({documentHandler:Dme(e,t),bindingFn:t.value})},updated(e,t){fg.has(e)||fg.set(e,[]);const n=fg.get(e),r=n.findIndex(o=>o.bindingFn===t.oldValue),s={documentHandler:Dme(e,t),bindingFn:t.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(e){fg.delete(e)}},Vmn=["placeholder"],Wmn=["onClick"],Umn=me({name:"ElCascader",__name:"cascader",props:Bmn,emits:zmn,setup(e,{expose:t,emit:n}){const r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Ne})=>{const{modifiersData:nt,placement:wt}=Ne;["right","left","bottom","top"].includes(wt)||nt.arrow&&(nt.arrow.x=35)},requires:["arrow"]}]},s=e,o=n,i=$p();let a=0,l=0;const u=Ae("cascader"),c=Ae("input"),{t:f}=un(),{formItem:d}=Ro(),h=jr(),{valueOnClear:p}=CI(s),{isComposing:g,handleComposition:m}=_I({afterComposition(Ne){var nt;const wt=(nt=Ne.target)==null?void 0:nt.value;Se(wt)}}),v=j(),y=j(),w=j(),b=j(),C=j(),S=j(),$=j(!1),k=j(!1),T=j(!1),_=j(""),E=j(""),A=j([]),N=j([]),F=O(()=>s.props.multiple?s.collapseTags?A.value.slice(0,s.maxCollapseTags):A.value:[]),R=O(()=>s.props.multiple?s.collapseTags?A.value.slice(s.maxCollapseTags):[]:[]),P=O(()=>i.style),I=O(()=>{var Ne;return(Ne=s.placeholder)!=null?Ne:f("el.cascader.placeholder")}),D=O(()=>E.value||A.value.length>0||g.value?"":I.value),M=Fs(),z=O(()=>M.value==="small"?"small":"default"),W=O(()=>!!s.props.multiple),H=O(()=>!s.filterable||W.value),U=O(()=>W.value?E.value:_.value),K=O(()=>{var Ne;return((Ne=C.value)==null?void 0:Ne.checkedNodes)||[]}),{wrapperRef:G,isFocused:re,handleBlur:ue}=Hp(w,{disabled:h,beforeBlur(Ne){var nt,wt;return((nt=v.value)==null?void 0:nt.isFocusInsideContent(Ne))||((wt=y.value)==null?void 0:wt.isFocusInsideContent(Ne))},afterBlur(){var Ne;s.validateEvent&&((Ne=d?.validate)==null||Ne.call(d,"blur").catch(nt=>void 0))}}),ae=O(()=>!s.clearable||h.value||T.value||!k.value&&!re.value?!1:!!K.value.length),X=O(()=>{const{showAllLevels:Ne,separator:nt}=s,wt=K.value;return wt.length?W.value?"":wt[0].calcText(Ne,nt):""}),J=O(()=>d?.validateState||""),q=O({get(){return tM(s.modelValue)},set(Ne){const nt=Ne??p.value;o(Et,nt),o(en,nt),s.validateEvent&&d?.validate("change").catch(wt=>void 0)}}),L=O(()=>[u.b(),u.m(M.value),u.is("disabled",h.value),i.class]),Q=O(()=>[c.e("icon"),"icon-arrow-down",u.is("reverse",$.value)]),se=O(()=>u.is("focus",re.value)),de=O(()=>{var Ne,nt;return(nt=(Ne=v.value)==null?void 0:Ne.popperRef)==null?void 0:nt.contentRef}),he=Ne=>{if(re.value){const nt=new FocusEvent("blur",Ne);ue(nt)}ge(!1)},ge=Ne=>{var nt,wt;h.value||(Ne=Ne??!$.value,Ne!==$.value&&($.value=Ne,(wt=(nt=w.value)==null?void 0:nt.input)==null||wt.setAttribute("aria-expanded",`${Ne}`),Ne?($e(),C.value&&Ye(C.value.scrollToExpandingNode)):s.filterable&&lt(),o("visibleChange",Ne)))},$e=()=>{Ye(()=>{var Ne;(Ne=v.value)==null||Ne.updatePopper()})},He=()=>{T.value=!1},Ie=Ne=>{const{showAllLevels:nt,separator:wt}=s;return{node:Ne,key:Ne.uid,text:Ne.calcText(nt,wt),hitState:!1,closable:!h.value&&!Ne.isDisabled}},Ce=Ne=>{var nt;const wt=Ne.node;wt.doCheck(!1),(nt=C.value)==null||nt.calculateCheckedValue(),o("removeTag",wt.valueByOption)},Re=()=>{switch(s.showCheckedStrategy){case"child":return K.value;case"parent":{const Ne=ye(!1),nt=Ne.map(Fr=>Fr.value);return Ne.filter(Fr=>!Fr.parent||!nt.includes(Fr.parent.value))}default:return[]}},ze=()=>{if(!W.value)return;const Ne=Re(),nt=[];Ne.forEach(wt=>nt.push(Ie(wt))),A.value=nt},Ue=()=>{var Ne,nt;const{filterMethod:wt,showAllLevels:Fr,separator:da}=s,bs=(nt=(Ne=C.value)==null?void 0:Ne.getFlattedNodes(!s.props.checkStrictly))==null?void 0:nt.filter(Ze=>Ze.isDisabled?!1:(Ze.calcText(Fr,da),wt(Ze,U.value)));W.value&&A.value.forEach(Ze=>{Ze.hitState=!1}),T.value=!0,N.value=bs,$e()},rt=()=>{var Ne;let nt;T.value&&S.value?nt=S.value.$el.querySelector(`.${u.e("suggestion-item")}`):nt=(Ne=C.value)==null?void 0:Ne.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),nt&&(nt.focus(),!T.value&&nt.click())},ht=()=>{var Ne,nt;const wt=(Ne=w.value)==null?void 0:Ne.input,Fr=b.value,da=(nt=S.value)==null?void 0:nt.$el;if(!(!Tn||!wt)){if(da){const bs=da.querySelector(`.${u.e("suggestion-list")}`);bs.style.minWidth=`${wt.offsetWidth}px`}if(Fr){const{offsetHeight:bs}=Fr,Ze=A.value.length>0?`${Math.max(bs,a)-2}px`:`${a}px`;wt.style.height=Ze,$e()}}},ye=Ne=>{var nt;return(nt=C.value)==null?void 0:nt.getCheckedNodes(Ne)},Ge=Ne=>{$e(),o("expandChange",Ne)},at=Ne=>{if(g.value)return;switch(Hn(Ne)){case Oe.enter:case Oe.numpadEnter:ge();break;case Oe.down:ge(!0),Ye(rt),Ne.preventDefault();break;case Oe.esc:$.value===!0&&(Ne.preventDefault(),Ne.stopPropagation(),ge(!1));break;case Oe.tab:ge(!1);break}},cn=()=>{var Ne;(Ne=C.value)==null||Ne.clearCheckedNodes(),!$.value&&s.filterable&&lt(),ge(!1),o("clear")},lt=()=>{const{value:Ne}=X;_.value=Ne,E.value=Ne},Ft=Ne=>{var nt,wt;const{checked:Fr}=Ne;W.value?(nt=C.value)==null||nt.handleCheckChange(Ne,!Fr,!1):(!Fr&&((wt=C.value)==null||wt.handleCheckChange(Ne,!0,!1)),ge(!1))},Dt=Ne=>{const nt=Ne.target,wt=Hn(Ne);switch(wt){case Oe.up:case Oe.down:{Ne.preventDefault();const Fr=wt===Oe.up?-1:1;z3(CLe(nt,Fr,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case Oe.enter:case Oe.numpadEnter:nt.click();break}},qt=()=>{const Ne=A.value[A.value.length-1];l=E.value?0:l+1,!(!Ne||!l||s.collapseTags&&A.value.length>1)&&(Ne.hitState?Ce(Ne):Ne.hitState=!0)},Te=O(()=>s.debounce),Xe=bI(()=>{const{value:Ne}=U;if(!Ne)return;const nt=s.beforeFilter(Ne);f1(nt)?nt.then(Ue).catch(()=>{}):nt!==!1?Ue():He()},Te),Se=(Ne,nt)=>{!$.value&&ge(!0),!nt?.isComposing&&(Ne?Xe():He())},ct=Ne=>Number.parseFloat(Nun(c.cssVarName("input-height"),Ne).value)-2,Yt=()=>{var Ne;(Ne=w.value)==null||Ne.focus()},Gn=()=>{var Ne;(Ne=w.value)==null||Ne.blur()};return xe(T,$e),xe([K,h,()=>s.collapseTags,()=>s.maxCollapseTags],ze),xe(A,()=>{Ye(()=>ht())}),xe(M,async()=>{await Ye();const Ne=w.value.input;a=ct(Ne)||a,ht()}),xe(X,lt,{immediate:!0}),xe(()=>$.value,Ne=>{var nt;Ne&&s.props.lazy&&s.props.lazyLoad&&((nt=C.value)==null||nt.loadLazyRootNodes())}),Ht(()=>{const Ne=w.value.input,nt=ct(Ne);a=Ne.offsetHeight||nt,Cr(Ne,ht)}),t({getCheckedNodes:ye,cascaderPanelRef:C,togglePopperVisible:ge,contentRef:de,presentText:X,focus:Yt,blur:Gn}),(Ne,nt)=>(B(),pe(x(Xo),{ref_key:"tooltipRef",ref:v,visible:$.value,teleported:Ne.teleported,"popper-class":[x(u).e("dropdown"),Ne.popperClass],"popper-style":Ne.popperStyle,"popper-options":r,"fallback-placements":Ne.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Ne.placement,transition:`${x(u).namespace.value}-zoom-in-top`,effect:Ne.effect,pure:"",persistent:Ne.persistent,onHide:He},{default:ie(()=>[Lt((B(),Y("div",{ref_key:"wrapperRef",ref:G,class:V(L.value),style:dt(P.value),onClick:nt[8]||(nt[8]=()=>ge(H.value?void 0:!0)),onKeydown:at,onMouseenter:nt[9]||(nt[9]=wt=>k.value=!0),onMouseleave:nt[10]||(nt[10]=wt=>k.value=!1)},[ee(x(Xi),{ref_key:"inputRef",ref:w,modelValue:_.value,"onUpdate:modelValue":nt[1]||(nt[1]=wt=>_.value=wt),placeholder:D.value,readonly:H.value,disabled:x(h),"validate-event":!1,size:x(M),class:V(se.value),tabindex:W.value&&Ne.filterable&&!x(h)?-1:void 0,onCompositionstart:x(m),onCompositionupdate:x(m),onCompositionend:x(m),onInput:Se},ml({suffix:ie(()=>[ae.value?(B(),pe(x(st),{key:"clear",class:V([x(c).e("icon"),"icon-circle-close"]),onClick:xt(cn,["stop"])},{default:ie(()=>[(B(),pe(zt(Ne.clearIcon)))]),_:1},8,["class"])):(B(),pe(x(st),{key:"arrow-down",class:V(Q.value),onClick:nt[0]||(nt[0]=xt(wt=>ge(),["stop"]))},{default:ie(()=>[ee(x(th))]),_:1},8,["class"]))]),_:2},[Ne.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(Ne.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),W.value?(B(),Y("div",{key:0,ref_key:"tagWrapper",ref:b,class:V([x(u).e("tags"),x(u).is("validate",!!J.value)])},[ce(Ne.$slots,"tag",{data:A.value,deleteTag:Ce},()=>[(B(!0),Y(it,null,Xt(F.value,wt=>(B(),pe(x(Jh),{key:wt.key,type:Ne.tagType,size:z.value,effect:Ne.tagEffect,hit:wt.hitState,closable:wt.closable,"disable-transitions":"",onClose:Fr=>Ce(wt)},{default:ie(()=>[Z("span",null,Fe(wt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),Ne.collapseTags&&A.value.length>Ne.maxCollapseTags?(B(),pe(x(Xo),{key:0,ref_key:"tagTooltipRef",ref:y,disabled:$.value||!Ne.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":Ne.popperClass,"popper-style":Ne.popperStyle,effect:Ne.effect,persistent:Ne.persistent},{default:ie(()=>[ee(x(Jh),{closable:!1,size:z.value,type:Ne.tagType,effect:Ne.tagEffect,"disable-transitions":""},{default:ie(()=>[Z("span",{class:V(x(u).e("tags-text"))}," + "+Fe(A.value.length-Ne.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:ie(()=>[ee(x(jc),{"max-height":Ne.maxCollapseTagsTooltipHeight},{default:ie(()=>[Z("div",{class:V(x(u).e("collapse-tags"))},[(B(!0),Y(it,null,Xt(R.value,(wt,Fr)=>(B(),Y("div",{key:Fr,class:V(x(u).e("collapse-tag"))},[(B(),pe(x(Jh),{key:wt.key,class:"in-tooltip",type:Ne.tagType,size:z.value,effect:Ne.tagEffect,hit:wt.hitState,closable:wt.closable,"disable-transitions":"",onClose:da=>Ce(wt)},{default:ie(()=>[Z("span",null,Fe(wt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):fe("v-if",!0),Ne.filterable&&!x(h)?Lt((B(),Y("input",{key:1,"onUpdate:modelValue":nt[2]||(nt[2]=wt=>E.value=wt),type:"text",class:V(x(u).e("search-input")),placeholder:X.value?"":I.value,onInput:nt[3]||(nt[3]=wt=>Se(E.value,wt)),onClick:nt[4]||(nt[4]=xt(wt=>ge(!0),["stop"])),onKeydown:qr(qt,["delete"]),onCompositionstart:nt[5]||(nt[5]=(...wt)=>x(m)&&x(m)(...wt)),onCompositionupdate:nt[6]||(nt[6]=(...wt)=>x(m)&&x(m)(...wt)),onCompositionend:nt[7]||(nt[7]=(...wt)=>x(m)&&x(m)(...wt))},null,42,Vmn)),[[zM,E.value]]):fe("v-if",!0)],2)):fe("v-if",!0)],38)),[[x(Jm),he,de.value]])]),content:ie(()=>[Ne.$slots.header?(B(),Y("div",{key:0,class:V(x(u).e("header")),onClick:nt[11]||(nt[11]=xt(()=>{},["stop"]))},[ce(Ne.$slots,"header")],2)):fe("v-if",!0),Lt(ee(x($Be),{ref_key:"cascaderPanelRef",ref:C,modelValue:q.value,"onUpdate:modelValue":nt[12]||(nt[12]=wt=>q.value=wt),options:Ne.options,props:s.props,border:!1,"render-label":Ne.$slots.default,onExpandChange:Ge,onClose:nt[13]||(nt[13]=wt=>Ne.$nextTick(()=>ge(!1)))},{empty:ie(()=>[ce(Ne.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[Sn,!T.value]]),Ne.filterable?Lt((B(),pe(x(jc),{key:1,ref_key:"suggestionPanel",ref:S,tag:"ul",class:V(x(u).e("suggestion-panel")),"view-class":x(u).e("suggestion-list"),onKeydown:Dt},{default:ie(()=>[N.value.length?(B(!0),Y(it,{key:0},Xt(N.value,wt=>(B(),Y("li",{key:wt.uid,class:V([x(u).e("suggestion-item"),x(u).is("checked",wt.checked)]),tabindex:-1,onClick:Fr=>Ft(wt)},[ce(Ne.$slots,"suggestion-item",{item:wt},()=>[Z("span",null,Fe(wt.text),1),wt.checked?(B(),pe(x(st),{key:0},{default:ie(()=>[ee(x($I))]),_:1})):fe("v-if",!0)])],10,Wmn))),128)):ce(Ne.$slots,"empty",{key:1},()=>[Z("li",{class:V(x(u).e("empty-text"))},Fe(x(f)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Sn,T.value]]):fe("v-if",!0),Ne.$slots.footer?(B(),Y("div",{key:2,class:V(x(u).e("footer")),onClick:nt[14]||(nt[14]=xt(()=>{},["stop"]))},[ce(Ne.$slots,"footer")],2)):fe("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var jmn=Ve(Umn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);const Hmn=Rt(jmn),qmn=Me({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Gmn={"update:checked":e=>Ln(e),[en]:e=>Ln(e)},Kmn=me({name:"ElCheckTag",__name:"check-tag",props:qmn,emits:Gmn,setup(e,{emit:t}){const n=e,r=t,s=Ae("check-tag"),o=O(()=>[s.b(),s.is("checked",n.checked),s.is("disabled",n.disabled),s.m(n.type||"primary")]),i=()=>{if(n.disabled)return;const a=!n.checked;r(en,a),r("update:checked",a)};return(a,l)=>(B(),Y("span",{class:V(o.value),onClick:i},[ce(a.$slots,"default")],2))}});var Ymn=Ve(Kmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const Xmn=Rt(Ymn),Zmn=Me({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:oe([Number,Object]),default:()=>zr({})},sm:{type:oe([Number,Object]),default:()=>zr({})},md:{type:oe([Number,Object]),default:()=>zr({})},lg:{type:oe([Number,Object]),default:()=>zr({})},xl:{type:oe([Number,Object]),default:()=>zr({})}}),kBe=Symbol("rowContextKey"),Jmn=me({name:"ElCol",__name:"col",props:Zmn,setup(e){const t=e,{gutter:n}=tt(kBe,{gutter:O(()=>0)}),r=Ae("col"),s=O(()=>{const i={};return n.value&&(i.paddingLeft=i.paddingRight=`${n.value/2}px`),i}),o=O(()=>{const i=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];pt(c)&&(u==="span"?i.push(r.b(`${t[u]}`)):c>0&&i.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{pt(t[u])?i.push(r.b(`${u}-${t[u]}`)):Pt(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{i.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&i.push(r.is("guttered")),[r.b(),i]});return(i,a)=>(B(),pe(zt(i.tag),{class:V(o.value),style:dt(s.value)},{default:ie(()=>[ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var Qmn=Ve(Jmn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const e0n=Rt(Qmn),Ome=e=>pt(e)||ot(e)||De(e),t0n=Me({accordion:Boolean,modelValue:{type:oe([Array,String,Number]),default:()=>zr([])},expandIconPosition:{type:oe([String]),default:"right"},beforeCollapse:{type:oe(Function)}}),n0n={[Et]:Ome,[en]:Ome},EBe=Symbol("collapseContextKey"),r0n="ElCollapse",s0n=(e,t)=>{const n=j(vo(e.modelValue)),r=i=>{n.value=i;const a=e.accordion?n.value[0]:n.value;t(Et,a),t(en,a)},s=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const a=[...n.value],l=a.indexOf(i);l>-1?a.splice(l,1):a.push(i),r(a)}},o=async i=>{const{beforeCollapse:a}=e;if(!a){s(i);return}const l=a(i);[f1(l),Ln(l)].includes(!0)||Ts(r0n,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),f1(l)?l.then(c=>{c!==!1&&s(i)}).catch(c=>{}):l&&s(i)};return xe(()=>e.modelValue,()=>n.value=vo(e.modelValue),{deep:!0}),ln(EBe,{activeNames:n,handleItemClick:o}),{activeNames:n,setActiveNames:r}},o0n=e=>{const t=Ae("collapse");return{rootKls:O(()=>[t.b(),t.b(`icon-position-${e.expandIconPosition}`)])}},i0n=me({name:"ElCollapse",__name:"collapse",props:t0n,emits:n0n,setup(e,{expose:t,emit:n}){const r=e,s=n,{activeNames:o,setActiveNames:i}=s0n(r,s),{rootKls:a}=o0n(r);return t({activeNames:o,setActiveNames:i}),(l,u)=>(B(),Y("div",{class:V(x(a))},[ce(l.$slots,"default")],2))}});var a0n=Ve(i0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const l0n=me({name:"ElCollapseTransition",__name:"collapse-transition",setup(e){const t=Ae("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},r={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,o)=>(B(),pe(Ho,Wt({name:x(t).b()},wze(r)),{default:ie(()=>[ce(s.$slots,"default")]),_:3},16,["name"]))}});var u0n=Ve(l0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const E5=Rt(u0n),c0n=Me({title:{type:String,default:""},name:{type:oe([String,Number]),default:void 0},icon:{type:zn,default:aa},disabled:Boolean}),f0n=e=>{const t=tt(EBe),{namespace:n}=Ae("collapse"),r=j(!1),s=j(!1),o=mne(),i=O(()=>o.current++),a=O(()=>{var d;return(d=e.name)!=null?d:`${n.value}-id-${o.prefix}-${x(i)}`}),l=O(()=>t?.activeNames.value.includes(x(a)));return{focusing:r,id:i,isActive:l,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:r.value=!0},50)},handleHeaderClick:d=>{if(e.disabled)return;const h=d.target;h?.closest("input, textarea, select")||(t?.handleItemClick(x(a)),r.value=!1,s.value=!0)},handleEnterClick:d=>{const h=d.target;h?.closest("input, textarea, select")||(d.preventDefault(),t?.handleItemClick(x(a)))}}},d0n=(e,{focusing:t,isActive:n,id:r})=>{const s=Ae("collapse"),o=O(()=>[s.b("item"),s.is("active",x(n)),s.is("disabled",e.disabled)]),i=O(()=>[s.be("item","header"),s.is("active",x(n)),{focusing:x(t)&&!e.disabled}]),a=O(()=>[s.be("item","arrow"),s.is("active",x(n))]),l=O(()=>[s.be("item","title")]),u=O(()=>s.be("item","wrap")),c=O(()=>s.be("item","content")),f=O(()=>s.b(`content-${x(r)}`)),d=O(()=>s.b(`head-${x(r)}`));return{itemTitleKls:l,arrowKls:a,headKls:i,rootKls:o,itemWrapperKls:u,itemContentKls:c,scopedContentId:f,scopedHeadId:d}},h0n=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],p0n=["id","aria-hidden","aria-labelledby"],g0n=me({name:"ElCollapseItem",__name:"collapse-item",props:c0n,setup(e,{expose:t}){const n=e,{focusing:r,id:s,isActive:o,handleFocus:i,handleHeaderClick:a,handleEnterClick:l}=f0n(n),{arrowKls:u,headKls:c,rootKls:f,itemTitleKls:d,itemWrapperKls:h,itemContentKls:p,scopedContentId:g,scopedHeadId:m}=d0n(n,{focusing:r,isActive:o,id:s});return t({isActive:o}),(v,y)=>(B(),Y("div",{class:V(x(f))},[Z("div",{id:x(m),class:V(x(c)),"aria-expanded":x(o),"aria-controls":x(g),"aria-describedby":x(g),tabindex:v.disabled?void 0:0,"aria-disabled":v.disabled,role:"button",onClick:y[0]||(y[0]=(...w)=>x(a)&&x(a)(...w)),onKeydown:y[1]||(y[1]=qr(xt((...w)=>x(l)&&x(l)(...w),["stop"]),["space","enter"])),onFocus:y[2]||(y[2]=(...w)=>x(i)&&x(i)(...w)),onBlur:y[3]||(y[3]=w=>r.value=!1)},[Z("span",{class:V(x(d))},[ce(v.$slots,"title",{isActive:x(o)},()=>[tn(Fe(v.title),1)])],2),ce(v.$slots,"icon",{isActive:x(o)},()=>[ee(x(st),{class:V(x(u))},{default:ie(()=>[(B(),pe(zt(v.icon)))]),_:1},8,["class"])])],42,h0n),ee(x(E5),null,{default:ie(()=>[Lt(Z("div",{id:x(g),role:"region",class:V(x(h)),"aria-hidden":!x(o),"aria-labelledby":x(m)},[Z("div",{class:V(x(p))},[ce(v.$slots,"default")],2)],10,p0n),[[Sn,x(o)]])]),_:3})],2))}});var _Be=Ve(g0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const m0n=Rt(a0n,{CollapseItem:_Be}),v0n=Ur(_Be),TBe=Me({color:{type:oe(Object),required:!0},vertical:Boolean,disabled:Boolean}),y0n=TBe;let P7=!1;function gH(e,t){if(!Tn)return;const n=function(o){var i;(i=t.drag)==null||i.call(t,o)},r=function(o){var i;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,P7=!1,(i=t.end)==null||i.call(t,o)},s=function(o){var i;P7||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),P7=!0,(i=t.start)==null||i.call(t,o))};e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!1})}const Rme=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},mH=(e,t)=>Math.abs(Rme(e)-Rme(t)),ABe=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},IBe=(e,{key:t,minValue:n,maxValue:r})=>{const s=Ut(),o=cr(),i=cr(),a=O(()=>e.color.get(t));function l(d){var h;if(e.disabled)return;d.target!==o.value&&u(d),(h=o.value)==null||h.focus()}function u(d){if(!i.value||!o.value||e.disabled)return;const p=s.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=ABe(d);let v;if(e.vertical){let y=m-p.top;y=Math.max(o.value.offsetHeight/2,y),y=Math.min(y,p.height-o.value.offsetHeight/2),v=Math.round((y-o.value.offsetHeight/2)/(p.height-o.value.offsetHeight)*r)}else{let y=g-p.left;y=Math.max(o.value.offsetWidth/2,y),y=Math.min(y,p.width-o.value.offsetWidth/2),v=Math.round((y-o.value.offsetWidth/2)/(p.width-o.value.offsetWidth)*r)}e.color.set(t,v)}function c(d){if(e.disabled)return;const{shiftKey:h}=d,p=Hn(d),g=h?10:1,m=t==="hue"?-1:1;let v=!0;switch(p){case Oe.left:case Oe.down:f(-g*m);break;case Oe.right:case Oe.up:f(g*m);break;case Oe.home:e.color.set(t,t==="hue"?r:n);break;case Oe.end:e.color.set(t,t==="hue"?n:r);break;case Oe.pageDown:f(-4*m);break;case Oe.pageUp:f(4*m);break;default:v=!1;break}v&&d.preventDefault()}function f(d){let h=a.value+d;h=h<n?n:h>r?r:h,e.color.set(t,h)}return{thumb:o,bar:i,currentValue:a,handleDrag:u,handleClick:l,handleKeydown:c}},NBe=(e,{namespace:t,maxValue:n,bar:r,thumb:s,currentValue:o,handleDrag:i,getBackground:a})=>{const l=Ut(),u=Ae(t),c=j(0),f=j(0),d=j();function h(){if(!s.value||e.vertical)return 0;const C=l.vnode.el,S=o.value;return C?Math.round(S*(C.offsetWidth-s.value.offsetWidth/2)/n):0}function p(){if(!s.value)return 0;const C=l.vnode.el;if(!e.vertical)return 0;const S=o.value;return C?Math.round(S*(C.offsetHeight-s.value.offsetHeight/2)/n):0}function g(){c.value=h(),f.value=p(),d.value=a?.()}Ht(()=>{if(!r.value||!s.value)return;const C={drag:S=>{i(S)},end:S=>{i(S)}};gH(r.value,C),gH(s.value,C),g()}),xe(o,()=>g()),xe(()=>e.color.value,()=>g());const m=O(()=>[u.b(),u.is("vertical",e.vertical),u.is("disabled",e.disabled)]),v=O(()=>u.e("bar")),y=O(()=>u.e("thumb")),w=O(()=>({background:d.value})),b=O(()=>({left:Vr(c.value),top:Vr(f.value)}));return{rootKls:m,barKls:v,barStyle:w,thumbKls:y,thumbStyle:b,thumbLeft:c,thumbTop:f,update:g}},b0n=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],Fme=0,L7=100,w0n=me({name:"ElColorAlphaSlider",__name:"alpha-slider",props:TBe,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:o,handleDrag:i,handleClick:a,handleKeydown:l}=IBe(n,{key:"alpha",minValue:Fme,maxValue:L7}),{rootKls:u,barKls:c,barStyle:f,thumbKls:d,thumbStyle:h,update:p}=NBe(n,{namespace:"color-alpha-slider",maxValue:L7,currentValue:r,bar:s,thumb:o,handleDrag:i,getBackground:y}),{t:g}=un(),m=O(()=>g("el.colorpicker.alphaLabel")),v=O(()=>g("el.colorpicker.alphaDescription",{alpha:r.value,color:n.color.value}));function y(){if(n.color&&n.color.value){const{r:w,g:b,b:C}=n.color.toRgb();return`linear-gradient(to right, rgba(${w}, ${b}, ${C}, 0) 0%, rgba(${w}, ${b}, ${C}, 1) 100%)`}return""}return t({update:p,bar:s,thumb:o}),(w,b)=>(B(),Y("div",{class:V(x(u))},[Z("div",{ref_key:"bar",ref:s,class:V(x(c)),style:dt(x(f)),onClick:b[0]||(b[0]=(...C)=>x(a)&&x(a)(...C))},null,6),Z("div",{ref_key:"thumb",ref:o,class:V(x(d)),style:dt(x(h)),"aria-label":m.value,"aria-valuenow":x(r),"aria-valuetext":v.value,"aria-orientation":w.vertical?"vertical":"horizontal","aria-valuemin":Fme,"aria-valuemax":L7,role:"slider",tabindex:w.disabled?void 0:0,"aria-disabled":w.disabled,onKeydown:b[1]||(b[1]=(...C)=>x(l)&&x(l)(...C))},null,46,b0n)],2))}});var x0n=Ve(w0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/alpha-slider.vue"]]);const C0n=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],Mme=0,B7=360,S0n=me({name:"ElColorHueSlider",__name:"hue-slider",props:y0n,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:o,handleDrag:i,handleClick:a,handleKeydown:l}=IBe(n,{key:"hue",minValue:Mme,maxValue:B7}),{rootKls:u,barKls:c,thumbKls:f,thumbStyle:d,thumbTop:h,update:p}=NBe(n,{namespace:"color-hue-slider",maxValue:B7,currentValue:r,bar:s,thumb:o,handleDrag:i}),{t:g}=un(),m=O(()=>g("el.colorpicker.hueLabel")),v=O(()=>g("el.colorpicker.hueDescription",{hue:r.value,color:n.color.value}));return t({bar:s,thumb:o,thumbTop:h,update:p}),(y,w)=>(B(),Y("div",{class:V(x(u))},[Z("div",{ref_key:"bar",ref:s,class:V(x(c)),onClick:w[0]||(w[0]=(...b)=>x(a)&&x(a)(...b))},null,2),Z("div",{ref_key:"thumb",ref:o,class:V(x(f)),style:dt(x(d)),"aria-label":m.value,"aria-valuenow":x(r),"aria-valuetext":v.value,"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":Mme,"aria-valuemax":B7,role:"slider",tabindex:y.disabled?void 0:0,"aria-disabled":y.disabled,onKeydown:w[1]||(w[1]=(...b)=>x(l)&&x(l)(...b))},null,46,C0n)],2))}});var $0n=Ve(S0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/hue-slider.vue"]]);const k0n=Me({colors:{type:oe(Array),required:!0},color:{type:oe(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean}),DBe=Me({modelValue:{type:oe(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:oe(Array)},validateEvent:{type:Boolean,default:!0}}),E0n={[Et]:e=>ot(e)||vs(e)},OBe=Symbol("colorCommonPickerKey"),RBe=Symbol("colorPickerPanelContextKey");class oM{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new Zb,this._isValid=!1,this.enableAlpha=!1,this.format="",this.value="";for(const n in t)En(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)En(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this._isValid=!0,this.doOnChange()}get(t){return["hue","saturation","value","alpha"].includes(t)?Math.round(this[`_${t}`]):this[`_${t}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(t){const n=new Zb(t);if(this._isValid=n.isValid,n.isValid){const{h:r,s,v:o,a:i}=n.toHsv();this._hue=r,this._saturation=s*100,this._value=o*100,this._alpha=i*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value="",this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(t){const n=new Zb({h:t._hue,s:t._saturation/100,v:t._value/100,a:t._alpha/100});return this._tiny.equals(n)}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:s,format:o,enableAlpha:i}=this;let a=o||(i?"rgb":"hex");o==="hex"&&i&&(a="hex8"),this._tiny=new Zb({h:t,s:n/100,v:r/100,a:s/100}),this.value=this._isValid?this._tiny.toString(a):""}}const _0n=e=>{const{currentColor:t}=tt(RBe),n=j(s(e.colors,e.color));xe(()=>t.value,o=>{const i=new oM({value:o,enableAlpha:e.enableAlpha});n.value.forEach(a=>{a.selected=i.compare(a)})}),gl(()=>{n.value=s(e.colors,e.color)});function r(o){e.color.fromString(e.colors[o])}function s(o,i){return o.map(a=>{const l=new oM({value:a,enableAlpha:e.enableAlpha});return l.selected=l.compare(i),l})}return{rgbaColors:n,handleSelect:r}},T0n=e=>{const t=Ae("color-predefine"),n=O(()=>[t.b(),t.is("disabled",e.disabled)]),r=O(()=>t.e("colors"));function s(o){return[t.e("color-selector"),t.is("alpha",o.get("alpha")<100),{selected:o.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:s}},A0n=["disabled","aria-label","onClick"],I0n=me({name:"ElColorPredefine",__name:"predefine",props:k0n,setup(e){const t=e,{rgbaColors:n,handleSelect:r}=_0n(t),{rootKls:s,colorsKls:o,colorSelectorKls:i}=T0n(t),{t:a}=un(),l=u=>a("el.colorpicker.predefineDescription",{value:u});return(u,c)=>(B(),Y("div",{class:V(x(s))},[Z("div",{class:V(x(o))},[(B(!0),Y(it,null,Xt(x(n),(f,d)=>(B(),Y("button",{key:u.colors[d],type:"button",disabled:u.disabled,"aria-label":l(f.value),class:V(x(i)(f)),onClick:h=>x(r)(d)},[Z("div",{style:dt({backgroundColor:f.value})},null,4)],10,A0n))),128))],2)],2))}});var N0n=Ve(I0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/predefine.vue"]]);const D0n=Me({color:{type:oe(Object),required:!0},disabled:Boolean}),O0n=e=>{const t=Ut(),n=j(),r=j(0),s=j(0),o=j("hsl(0, 100%, 50%)"),i=O(()=>e.color.get("saturation")),a=O(()=>e.color.get("value")),l=O(()=>e.color.get("hue"));function u(p){var g;if(e.disabled)return;p.target!==n.value&&c(p),(g=n.value)==null||g.focus({preventScroll:!0})}function c(p){if(e.disabled)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:y}=ABe(p);let w=v-m.left,b=y-m.top;w=Math.max(0,w),w=Math.min(w,m.width),b=Math.max(0,b),b=Math.min(b,m.height),s.value=w,r.value=b,e.color.set({saturation:w/m.width*100,value:100-b/m.height*100})}function f(p){if(e.disabled)return;const{shiftKey:g}=p,m=Hn(p),v=g?10:1;let y=!0;switch(m){case Oe.left:d(-v);break;case Oe.right:d(v);break;case Oe.up:h(v);break;case Oe.down:h(-v);break;default:y=!1;break}y&&p.preventDefault()}function d(p){let g=i.value+p;g=g<0?0:g>100?100:g,e.color.set("saturation",g)}function h(p){let g=a.value+p;g=g<0?0:g>100?100:g,e.color.set("value",g)}return{cursorRef:n,cursorTop:r,cursorLeft:s,background:o,saturation:i,brightness:a,hue:l,handleClick:u,handleDrag:c,handleKeydown:f}},R0n=(e,{cursorTop:t,cursorLeft:n,background:r,handleDrag:s})=>{const o=Ut(),i=Ae("color-svpanel");function a(){const d=e.color.get("saturation"),h=e.color.get("value"),p=o.vnode.el,{clientWidth:g,clientHeight:m}=p;n.value=d*g/100,t.value=(100-h)*m/100,r.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}Ht(()=>{gH(o.vnode.el,{drag:d=>{s(d)},end:d=>{s(d)}}),a()}),xe([()=>e.color.get("hue"),()=>e.color.get("value"),()=>e.color.value],()=>a());const l=O(()=>i.b()),u=O(()=>i.e("cursor")),c=O(()=>({backgroundColor:r.value})),f=O(()=>({top:Vr(t.value),left:Vr(n.value)}));return{rootKls:l,cursorKls:u,rootStyle:c,cursorStyle:f,update:a}},F0n=["tabindex","aria-disabled","aria-label","aria-valuenow","aria-valuetext"],M0n=me({name:"ElSvPanel",__name:"sv-panel",props:D0n,setup(e,{expose:t}){const n=e,{cursorRef:r,cursorTop:s,cursorLeft:o,background:i,saturation:a,brightness:l,handleClick:u,handleDrag:c,handleKeydown:f}=O0n(n),{rootKls:d,cursorKls:h,rootStyle:p,cursorStyle:g,update:m}=R0n(n,{cursorTop:s,cursorLeft:o,background:i,handleDrag:c}),{t:v}=un(),y=O(()=>v("el.colorpicker.svLabel")),w=O(()=>v("el.colorpicker.svDescription",{saturation:a.value,brightness:l.value,color:n.color.value}));return t({update:m}),(b,C)=>(B(),Y("div",{class:V(x(d)),style:dt(x(p)),onClick:C[1]||(C[1]=(...S)=>x(u)&&x(u)(...S))},[Z("div",{ref_key:"cursorRef",ref:r,class:V(x(h)),style:dt(x(g)),tabindex:b.disabled?void 0:0,"aria-disabled":b.disabled,role:"slider","aria-valuemin":"0,0","aria-valuemax":"100,100","aria-label":y.value,"aria-valuenow":`${x(a)},${x(l)}`,"aria-valuetext":w.value,onKeydown:C[0]||(C[0]=(...S)=>x(f)&&x(f)(...S))},null,46,F0n)],6))}});var P0n=Ve(M0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/sv-panel.vue"]]);const FBe=(e,t)=>{const n=In(new oM({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue}));return xe(()=>[e.colorFormat,e.showAlpha],()=>{n.enableAlpha=e.showAlpha,n.format=e.colorFormat||n.format,n.doOnChange(),t(Et,n.value)}),{color:n}},L0n=me({name:"ElColorPickerPanel",__name:"color-picker-panel",props:DBe,emits:E0n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("color-picker-panel"),{formItem:i}=Ro(),a=jr(),l=j(),u=j(),c=j(),f=j(),d=j(""),{color:h}=tt(OBe,()=>FBe(r,s),!0);function p(){h.fromString(d.value),h.value!==d.value&&(d.value=h.value)}function g(){var v;r.validateEvent&&((v=i?.validate)==null||v.call(i,"blur").catch(y=>void 0))}function m(){var v,y,w;(v=l.value)==null||v.update(),(y=u.value)==null||y.update(),(w=c.value)==null||w.update()}return Ht(()=>{r.modelValue&&(d.value=h.value),Ye(m)}),xe(()=>r.modelValue,v=>{v!==h.value&&(v?h.fromString(v):h.clear())}),xe(()=>h.value,v=>{s(Et,v),d.value=v,r.validateEvent&&i?.validate("change").catch(y=>void 0)}),ln(RBe,{currentColor:O(()=>h.value)}),t({color:h,inputRef:f,update:m}),(v,y)=>(B(),Y("div",{class:V([x(o).b(),x(o).is("disabled",x(a)),x(o).is("border",v.border)]),onFocusout:g},[Z("div",{class:V(x(o).e("wrapper"))},[ee($0n,{ref_key:"hueRef",ref:l,class:"hue-slider",color:x(h),vertical:"",disabled:x(a)},null,8,["color","disabled"]),ee(P0n,{ref_key:"svRef",ref:u,color:x(h),disabled:x(a)},null,8,["color","disabled"])],2),v.showAlpha?(B(),pe(x0n,{key:0,ref_key:"alphaRef",ref:c,color:x(h),disabled:x(a)},null,8,["color","disabled"])):fe("v-if",!0),v.predefine?(B(),pe(N0n,{key:1,ref:"predefine","enable-alpha":v.showAlpha,color:x(h),colors:v.predefine,disabled:x(a)},null,8,["enable-alpha","color","colors","disabled"])):fe("v-if",!0),Z("div",{class:V(x(o).e("footer"))},[ee(x(Xi),{ref_key:"inputRef",ref:f,modelValue:d.value,"onUpdate:modelValue":y[0]||(y[0]=w=>d.value=w),"validate-event":!1,size:"small",disabled:x(a),onChange:p},null,8,["modelValue","disabled"]),ce(v.$slots,"footer")],2)],34))}});var B0n=Ve(L0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/color-picker-panel.vue"]]);const MBe=Rt(B0n),z0n=Me({persistent:{type:Boolean,default:!0},modelValue:{type:oe(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},size:js,popperClass:Un.popperClass,popperStyle:Un.popperStyle,tabindex:{type:[String,Number],default:0},teleported:Un.teleported,appendTo:Un.appendTo,predefine:{type:oe(Array)},validateEvent:{type:Boolean,default:!0},...sb,...fa(["ariaLabel"])}),V0n={[Et]:e=>ot(e)||vs(e),[en]:e=>ot(e)||vs(e),activeChange:e=>ot(e)||vs(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},W0n=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],U0n=me({name:"ElColorPicker",__name:"color-picker",props:z0n,emits:V0n,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("color"),{formItem:a}=Ro(),l=Fs(),u=jr(),{valueOnClear:c,isEmptyValue:f}=CI(r,null),d=FBe(r,s),{inputId:h,isLabeledByFormItem:p}=au(r,{formItemContext:a}),g=j(),m=j(),v=j(),y=j(!1),w=j(!1);let b=!0;const{isFocused:C,handleFocus:S,handleBlur:$}=Hp(m,{disabled:u,beforeBlur(J){var q;return(q=g.value)==null?void 0:q.isFocusInsideContent(J)},afterBlur(){var J;P(!1),z(),r.validateEvent&&((J=a?.validate)==null||J.call(a,"blur").catch(q=>void 0))}}),k=vun(()=>{var J,q;return(q=(J=v.value)==null?void 0:J.color)!=null?q:d.color}),T=O(()=>vp(r,Object.keys(DBe))),_=O(()=>!r.modelValue&&!w.value?"transparent":R(k,r.showAlpha)),E=O(()=>!r.modelValue&&!w.value?"":k.value),A=O(()=>p.value?void 0:r.ariaLabel||o("el.colorpicker.defaultLabel")),N=O(()=>p.value?a?.labelId:void 0),F=O(()=>[i.b("picker"),i.is("disabled",u.value),i.bm("picker",l.value),i.is("focused",C.value)]);function R(J,q){const{r:L,g:Q,b:se,a:de}=J.toRgb();return q?`rgba(${L}, ${Q}, ${se}, ${de})`:`rgb(${L}, ${Q}, ${se})`}function P(J){y.value=J}const I=Ed(P,100,{leading:!0});function D(){u.value||P(!0)}function M(){I(!1),z()}function z(){Ye(()=>{r.modelValue?k.fromString(r.modelValue):(k.value="",Ye(()=>{w.value=!1}))})}function W(){u.value||(y.value&&z(),I(!y.value))}function H(){const J=f(k.value)?c.value:k.value;s(Et,J),s(en,J),r.validateEvent&&a?.validate("change").catch(q=>void 0),I(!1),Ye(()=>{const q=new oM({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});k.compare(q)||z()})}function U(){I(!1),s(Et,c.value),s(en,c.value),r.modelValue!==c.value&&r.validateEvent&&a?.validate("change").catch(J=>void 0),z()}function K(){var J,q;(q=(J=v?.value)==null?void 0:J.inputRef)==null||q.focus()}function G(){y.value&&(M(),C.value&&ae())}function re(J){J.preventDefault(),J.stopPropagation(),P(!1),z()}function ue(J){switch(Hn(J)){case Oe.enter:case Oe.numpadEnter:case Oe.space:J.preventDefault(),J.stopPropagation(),D();break;case Oe.esc:re(J);break}}function ae(){m.value.focus()}function X(){m.value.blur()}return xe(()=>E.value,J=>{b&&s("activeChange",J),b=!0}),xe(()=>k.value,()=>{!r.modelValue&&!w.value&&(w.value=!0)}),xe(()=>r.modelValue,J=>{J?J&&J!==k.value&&(b=!1,k.fromString(J)):w.value=!1}),xe(()=>y.value,()=>{v.value&&Ye(v.value.update)}),ln(OBe,d),t({color:k,show:D,hide:M,focus:ae,blur:X}),(J,q)=>(B(),pe(x(Xo),{ref_key:"popper",ref:g,visible:y.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[x(i).be("picker","panel"),J.popperClass],"popper-style":J.popperStyle,"stop-popper-mouse-event":!1,pure:"",loop:"",role:"dialog",effect:"light",trigger:"click",teleported:J.teleported,transition:`${x(i).namespace.value}-zoom-in-top`,persistent:J.persistent,"append-to":J.appendTo,onShow:K,onHide:q[2]||(q[2]=L=>P(!1))},{content:ie(()=>[Lt((B(),pe(x(MBe),Wt({ref_key:"pickerPanelRef",ref:v},T.value,{border:!1,"validate-event":!1,onKeydown:qr(re,["esc"])}),{footer:ie(()=>[Z("div",null,[ee(x($o),{class:V(x(i).be("footer","link-btn")),text:"",size:"small",onClick:U},{default:ie(()=>[tn(Fe(x(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ee(x($o),{plain:"",size:"small",class:V(x(i).be("footer","btn")),onClick:H},{default:ie(()=>[tn(Fe(x(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])])]),_:1},16)),[[x(Jm),G,m.value]])]),default:ie(()=>[Z("div",Wt({id:x(h),ref_key:"triggerRef",ref:m},J.$attrs,{class:F.value,role:"button","aria-label":A.value,"aria-labelledby":N.value,"aria-description":x(o)("el.colorpicker.description",{color:J.modelValue||""}),"aria-disabled":x(u),tabindex:x(u)?void 0:J.tabindex,onKeydown:ue,onFocus:q[0]||(q[0]=(...L)=>x(S)&&x(S)(...L)),onBlur:q[1]||(q[1]=(...L)=>x($)&&x($)(...L))}),[Z("div",{class:V(x(i).be("picker","trigger")),onClick:W},[Z("span",{class:V([x(i).be("picker","color"),x(i).is("alpha",J.showAlpha)])},[Z("span",{class:V(x(i).be("picker","color-inner")),style:dt({backgroundColor:_.value})},[Lt(ee(x(st),{class:V([x(i).be("picker","icon"),x(i).is("icon-arrow-down")])},{default:ie(()=>[ee(x(th))]),_:1},8,["class"]),[[Sn,J.modelValue||w.value]]),Lt(ee(x(st),{class:V([x(i).be("picker","empty"),x(i).is("icon-close")])},{default:ie(()=>[ee(x(Hu))]),_:1},8,["class"]),[[Sn,!J.modelValue&&!w.value]])],6)],2)],2)],16,W0n)]),_:1},8,["visible","popper-class","popper-style","teleported","transition","persistent","append-to"]))}});var j0n=Ve(U0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const H0n=Rt(j0n),q0n=Me({a11y:{type:Boolean,default:!0},locale:{type:oe(Object)},size:js,button:{type:oe(Object)},card:{type:oe(Object)},dialog:{type:oe(Object)},link:{type:oe(Object)},experimentalFeatures:{type:oe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:oe(Object)},zIndex:Number,namespace:{type:String,default:"el"},...sb}),Oi={placement:"top"},G0n=me({name:"ElConfigProvider",props:q0n,setup(e,{slots:t}){const n=une(e);return xe(()=>e.message,r=>{var s,o;Object.assign(Oi,(o=(s=n?.value)==null?void 0:s.message)!=null?o:{},r??{})},{immediate:!0,deep:!0}),()=>ce(t,"default",{config:n?.value})}}),K0n=Rt(G0n),Y0n=me({name:"ElContainer",__name:"container",props:Me({direction:{type:String,values:["horizontal","vertical"]}}),setup(e){const t=e,n=Ms(),r=Ae("container"),s=O(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(i=>{const a=i.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(o,i)=>(B(),Y("section",{class:V([x(r).b(),x(r).is("vertical",s.value)])},[ce(o.$slots,"default")],2))}});var X0n=Ve(Y0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Z0n=me({name:"ElAside",__name:"aside",props:{width:{type:String,default:null}},setup(e){const t=e,n=Ae("aside"),r=O(()=>t.width?n.cssVarBlock({width:t.width}):{});return(s,o)=>(B(),Y("aside",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var PBe=Ve(Z0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const J0n=me({name:"ElFooter",__name:"footer",props:{height:{type:String,default:null}},setup(e){const t=e,n=Ae("footer"),r=O(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,o)=>(B(),Y("footer",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var LBe=Ve(J0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Q0n=me({name:"ElHeader",__name:"header",props:{height:{type:String,default:null}},setup(e){const t=e,n=Ae("header"),r=O(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,o)=>(B(),Y("header",{class:V(x(n).b()),style:dt(r.value)},[ce(s.$slots,"default")],6))}});var BBe=Ve(Q0n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const evn=me({name:"ElMain",__name:"main",setup(e){const t=Ae("main");return(n,r)=>(B(),Y("main",{class:V(x(t).b())},[ce(n.$slots,"default")],2))}});var zBe=Ve(evn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const tvn=Rt(X0n,{Aside:PBe,Footer:LBe,Header:BBe,Main:zBe}),nvn=Ur(PBe),rvn=Ur(LBe),svn=Ur(BBe),ovn=Ur(zBe);var H3={exports:{}},ivn=H3.exports,Pme;function avn(){return Pme||(Pme=1,(function(e,t){(function(n,r){e.exports=r()})(ivn,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,o=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},u=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(v){this[m]=+v}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),w=60*y[1]+(+y[2]||0);return w===0?0:y[0]==="+"?-w:w})(m)}],d=function(m){var v=l[m];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(m,v){var y,w=l.meridiem;if(w){for(var b=1;b<=24;b+=1)if(m.indexOf(w(b,0,v))>-1){y=b>12;break}}else y=m===(v?"pm":"PM");return y},p={A:[a,function(m){this.afternoon=h(m,!1)}],a:[a,function(m){this.afternoon=h(m,!0)}],Q:[s,function(m){this.month=3*(m-1)+1}],S:[s,function(m){this.milliseconds=100*+m}],SS:[o,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[o,c("day")],Do:[a,function(m){var v=l.ordinal,y=m.match(/\d+/);if(this.day=y[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],w:[i,c("week")],ww:[o,c("week")],M:[i,c("month")],MM:[o,c("month")],MMM:[a,function(m){var v=d("months"),y=(d("monthsShort")||v.map((function(w){return w.slice(0,3)}))).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(m){var v=d("months").indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(m){this.year=u(m)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function g(m){var v,y;v=m,y=l&&l.formats;for(var w=(m=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(_,E,A){var N=A&&A.toUpperCase();return E||y[A]||n[A]||y[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(F,R,P){return R||P.slice(1)}))}))).match(r),b=w.length,C=0;C<b;C+=1){var S=w[C],$=p[S],k=$&&$[0],T=$&&$[1];w[C]=T?{regex:k,parser:T}:S.replace(/^\[|\]$/g,"")}return function(_){for(var E={},A=0,N=0;A<b;A+=1){var F=w[A];if(typeof F=="string")N+=F.length;else{var R=F.regex,P=F.parser,I=_.slice(N),D=R.exec(I)[0];P.call(E,D),_=_.replace(D,"")}}return(function(M){var z=M.afternoon;if(z!==void 0){var W=M.hours;z?W<12&&(M.hours+=12):W===12&&(M.hours=0),delete M.afternoon}})(E),E}}return function(m,v,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var w=v.prototype,b=w.parse;w.parse=function(C){var S=C.date,$=C.utc,k=C.args;this.$u=$;var T=k[1];if(typeof T=="string"){var _=k[2]===!0,E=k[3]===!0,A=_||E,N=k[2];E&&(N=k[2]),l=this.$locale(),!_&&N&&(l=y.Ls[N]),this.$d=(function(I,D,M,z){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*I);var W=g(D)(I),H=W.year,U=W.month,K=W.day,G=W.hours,re=W.minutes,ue=W.seconds,ae=W.milliseconds,X=W.zone,J=W.week,q=new Date,L=K||(H||U?1:q.getDate()),Q=H||q.getFullYear(),se=0;H&&!U||(se=U>0?U-1:q.getMonth());var de,he=G||0,ge=re||0,$e=ue||0,He=ae||0;return X?new Date(Date.UTC(Q,se,L,he,ge,$e,He+60*X.offset*1e3)):M?new Date(Date.UTC(Q,se,L,he,ge,$e,He)):(de=new Date(Q,se,L,he,ge,$e,He),J&&(de=z(de).week(J).toDate()),de)}catch{return new Date("")}})(S,T,$,y),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),A&&S!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var F=T.length,R=1;R<=F;R+=1){k[1]=T[R-1];var P=y.apply(this,k);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}R===F&&(this.$d=new Date(""))}else b.call(this,C)}}}))})(H3)),H3.exports}var lvn=avn();const One=Il(lvn),Lme=["hours","minutes","seconds"],qc="EP_PICKER_BASE",Rne="ElPopperOptions",VBe=Symbol("commonPickerContextKey"),zx="HH:mm:ss",_g="YYYY-MM-DD",uvn={date:_g,dates:_g,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${_g} ${zx}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:_g,datetimerange:`${_g} ${zx}`},WBe=(e,t)=>{const{lang:n}=un(),r=j(!1),s=j(!1),o=j(null),i=O(()=>{const{modelValue:p}=e;return!p||De(p)&&!p.filter(Boolean).length}),a=p=>{if(!oBe(e.modelValue,p)){let g;De(p)?g=p.map(v=>$me(v,e.valueFormat,n.value)):p&&(g=$me(p,e.valueFormat,n.value)),t(Et,p&&g,n.value)}},l=O(()=>{var p;let g;if(i.value?u.value.getDefaultValue&&(g=u.value.getDefaultValue()):De(e.modelValue)?g=e.modelValue.map(m=>Sme(m,e.valueFormat,n.value)):g=Sme((p=e.modelValue)!=null?p:"",e.valueFormat,n.value),u.value.getRangeAvailableTime){const m=u.value.getRangeAvailableTime(g);Gr(m,g)||(g=m,i.value||a(U3(g)))}return De(g)&&g.some(m=>!m)&&(g=[]),g}),u=j({});return{parsedValue:l,pickerActualVisible:s,pickerOptions:u,pickerVisible:r,userInput:o,valueIsEmpty:i,emitInput:a,onCalendarChange:p=>{t("calendar-change",p)},onPanelChange:(p,g,m)=>{t("panel-change",p,g,m)},onPick:(p="",g=!1)=>{r.value=g;let m;De(p)?m=p.map(v=>v.toDate()):m=p&&p.toDate(),o.value=null,a(m)},onSetPickerOption:p=>{u.value[p[0]]=p[1],u.value.panelReady=!0}}},Fne=Me({disabledHours:{type:oe(Function)},disabledMinutes:{type:oe(Function)},disabledSeconds:{type:oe(Function)}}),UBe=Me({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Mne=Me({automaticDropdown:{type:Boolean,default:!0},id:{type:oe([Array,String])},name:{type:oe([Array,String])},popperClass:Un.popperClass,popperStyle:Un.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:oe([String,Object]),default:jp},editable:{type:Boolean,default:!0},prefixIcon:{type:oe([String,Object]),default:""},size:js,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:oe(Object),default:()=>({})},modelValue:{type:oe([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:oe([Date,Array])},defaultTime:{type:oe([Date,Array])},isRange:Boolean,...Fne,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:oe([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:oe(String),values:qp,default:"bottom"},fallbackPlacements:{type:oe(Array),default:["bottom","top","right","left"]},...sb,...fa(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),cvn=Me({id:{type:oe(Array)},name:{type:oe(Array)},modelValue:{type:oe([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),fvn=["id","name","placeholder","value","disabled"],dvn=["id","name","placeholder","value","disabled"],hvn=me({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:cvn,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:o}=Ro(),{inputId:i}=au(In({id:O(()=>{var k;return(k=r.id)==null?void 0:k[0]})}),{formItemContext:o}),a=x5(),l=Ae("date"),u=Ae("range"),c=j(),f=j(),{wrapperRef:d,isFocused:h}=Hp(c,{disabled:O(()=>r.disabled)}),p=k=>{s("click",k)},g=k=>{s("mouseenter",k)},m=k=>{s("mouseleave",k)},v=k=>{s("touchstart",k)},y=k=>{s("startInput",k)},w=k=>{s("endInput",k)},b=k=>{s("startChange",k)},C=k=>{s("endChange",k)};return t({focus:()=>{var k;(k=c.value)==null||k.focus()},blur:()=>{var k,T;(k=c.value)==null||k.blur(),(T=f.value)==null||T.blur()}}),(k,T)=>(B(),Y("div",{ref_key:"wrapperRef",ref:d,class:V([x(l).is("active",x(h)),k.$attrs.class]),style:dt(k.$attrs.style),onClick:p,onMouseenter:g,onMouseleave:m,onTouchstartPassive:v},[ce(k.$slots,"prefix"),Z("input",Wt(x(a),{id:x(i),ref_key:"inputRef",ref:c,name:k.name&&k.name[0],placeholder:k.startPlaceholder,value:k.modelValue&&k.modelValue[0],class:x(u).b("input"),disabled:k.disabled,onInput:y,onChange:b}),null,16,fvn),ce(k.$slots,"range-separator"),Z("input",Wt(x(a),{id:k.id&&k.id[1],ref_key:"endInputRef",ref:f,name:k.name&&k.name[1],placeholder:k.endPlaceholder,value:k.modelValue&&k.modelValue[1],class:x(u).b("input"),disabled:k.disabled,onInput:w,onChange:C}),null,16,dvn),ce(k.$slots,"suffix")],38))}});var pvn=Ve(hvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const gvn=me({name:"Picker",__name:"picker",props:Mne,emits:[Et,en,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,s=n,o=$p(),i=Ae("date"),a=Ae("input"),l=Ae("range"),{formItem:u}=Ro(),c=tt(Rne,{}),f=CI(r,null),d=j(),h=j(),p=j(null);let g=!1;const m=jr(),v=WBe(r,s),{parsedValue:y,pickerActualVisible:w,userInput:b,pickerVisible:C,pickerOptions:S,valueIsEmpty:$,emitInput:k,onPick:T,onSetPickerOption:_,onCalendarChange:E,onPanelChange:A}=v,{isFocused:N,handleFocus:F,handleBlur:R}=Hp(h,{disabled:m,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(C.value=!0)},beforeBlur(Se){var ct;return!g&&((ct=d.value)==null?void 0:ct.isFocusInsideContent(Se))},afterBlur(){rt(),C.value=!1,g=!1,r.validateEvent&&u?.validate("blur").catch(Se=>void 0)}}),P=j(!1),I=O(()=>[i.b("editor"),i.bm("editor",r.type),a.e("wrapper"),i.is("disabled",m.value),i.is("active",C.value),l.b("editor"),Re?l.bm("editor",Re.value):"",o.class]),D=O(()=>[a.e("icon"),l.e("close-icon"),de.value?"":l.em("close-icon","hidden")]);xe(C,Se=>{Se?Ye(()=>{Se&&(p.value=r.modelValue)}):(b.value=null,Ye(()=>{M(r.modelValue)}))});const M=(Se,ct)=>{(ct||!oBe(Se,p.value))&&(s(en,Se),ct&&(p.value=Se),r.validateEvent&&u?.validate("change").catch(Yt=>void 0))},z=Se=>{s("keydown",Se)},W=O(()=>h.value?Array.from(h.value.$el.querySelectorAll("input")):[]),H=(Se,ct,Yt)=>{const Gn=W.value;Gn.length&&(!Yt||Yt==="min"?(Gn[0].setSelectionRange(Se,ct),Gn[0].focus()):Yt==="max"&&(Gn[1].setSelectionRange(Se,ct),Gn[1].focus()))},U=()=>{w.value=!0},K=()=>{s("visible-change",!0)},G=()=>{w.value=!1,C.value=!1,s("visible-change",!1)},re=()=>{C.value=!0},ue=()=>{C.value=!1},ae=O(()=>{const Se=ye(y.value);return De(b.value)?[b.value[0]||Se&&Se[0]||"",b.value[1]||Se&&Se[1]||""]:b.value!==null?b.value:!J.value&&$.value||!C.value&&$.value?"":Se?q.value||L.value||Q.value?Se.join(", "):Se:""}),X=O(()=>r.type.includes("time")),J=O(()=>r.type.startsWith("time")),q=O(()=>r.type==="dates"),L=O(()=>r.type==="months"),Q=O(()=>r.type==="years"),se=O(()=>r.prefixIcon||(X.value?pLe:dcn)),de=O(()=>r.clearable&&!m.value&&!r.readonly&&!$.value&&(P.value||N.value)),he=Se=>{r.readonly||m.value||(de.value&&(Se.stopPropagation(),S.value.handleClear?S.value.handleClear():k(f.valueOnClear.value),M(f.valueOnClear.value,!0),G()),s("clear"))},ge=async Se=>{var ct;r.readonly||m.value||(((ct=Se.target)==null?void 0:ct.tagName)!=="INPUT"||N.value||!r.automaticDropdown)&&(C.value=!0)},$e=()=>{r.readonly||m.value||!$.value&&r.clearable&&(P.value=!0)},He=()=>{P.value=!1},Ie=Se=>{var ct;r.readonly||m.value||(((ct=Se.touches[0].target)==null?void 0:ct.tagName)!=="INPUT"||N.value||!r.automaticDropdown)&&(C.value=!0)},Ce=O(()=>r.type.includes("range")),Re=Fs(),ze=O(()=>{var Se,ct;return(ct=(Se=x(d))==null?void 0:Se.popperRef)==null?void 0:ct.contentRef}),Ue=ane(h,Se=>{const ct=x(ze),Yt=Vs(h);ct&&(Se.target===ct||Se.composedPath().includes(ct))||Se.target===Yt||Yt&&Se.composedPath().includes(Yt)||(C.value=!1)});Dn(()=>{Ue?.()});const rt=()=>{if(b.value){const Se=ht(ae.value);Se&&(Ge(Se)&&k(U3(Se)),b.value=null)}b.value===""&&(k(f.valueOnClear.value),M(f.valueOnClear.value,!0),b.value=null)},ht=Se=>Se?S.value.parseUserInput(Se):null,ye=Se=>Se?De(Se)?Se.map(Yt=>Yt.format(r.format)):Se.format(r.format):null,Ge=Se=>S.value.isValidValue(Se),at=async Se=>{if(r.readonly||m.value)return;const ct=Hn(Se);if(z(Se),ct===Oe.esc){C.value===!0&&(C.value=!1,Se.preventDefault(),Se.stopPropagation());return}if(ct===Oe.down&&(S.value.handleFocusPicker&&(Se.preventDefault(),Se.stopPropagation()),C.value===!1&&(C.value=!0,await Ye()),S.value.handleFocusPicker)){S.value.handleFocusPicker();return}if(ct===Oe.tab){g=!0;return}if(ct===Oe.enter||ct===Oe.numpadEnter){C.value?(b.value===null||b.value===""||Ge(ht(ae.value)))&&(rt(),C.value=!1):C.value=!0,Se.preventDefault(),Se.stopPropagation();return}if(b.value){Se.stopPropagation();return}S.value.handleKeydownInput&&S.value.handleKeydownInput(Se)},cn=Se=>{b.value=Se,C.value||(C.value=!0)},lt=Se=>{const ct=Se.target;b.value?b.value=[ct.value,b.value[1]]:b.value=[ct.value,null]},Ft=Se=>{const ct=Se.target;b.value?b.value=[b.value[0],ct.value]:b.value=[null,ct.value]},Dt=()=>{var Se;const ct=b.value,Yt=ht(ct&&ct[0]),Gn=x(y);if(Yt&&Yt.isValid()){b.value=[ye(Yt),((Se=ae.value)==null?void 0:Se[1])||null];const Ne=[Yt,Gn&&(Gn[1]||null)];Ge(Ne)&&(k(U3(Ne)),b.value=null)}},qt=()=>{var Se;const ct=x(b),Yt=ht(ct&&ct[1]),Gn=x(y);if(Yt&&Yt.isValid()){b.value=[((Se=x(ae))==null?void 0:Se[0])||null,ye(Yt)];const Ne=[Gn&&Gn[0],Yt];Ge(Ne)&&(k(U3(Ne)),b.value=null)}},Te=()=>{var Se;(Se=h.value)==null||Se.focus()},Xe=()=>{var Se;(Se=h.value)==null||Se.blur()};return ln(qc,{props:r,emptyValues:f}),ln(VBe,v),t({focus:Te,blur:Xe,handleOpen:re,handleClose:ue,onPick:T}),(Se,ct)=>(B(),pe(x(Xo),Wt({ref_key:"refPopper",ref:d,visible:x(C),effect:"light",pure:"",trigger:"click"},Se.$attrs,{role:"dialog",teleported:"",transition:`${x(i).namespace.value}-zoom-in-top`,"popper-class":[`${x(i).namespace.value}-picker__popper`,Se.popperClass],"popper-style":Se.popperStyle,"popper-options":x(c),"fallback-placements":Se.fallbackPlacements,"gpu-acceleration":!1,placement:Se.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:U,onShow:K,onHide:G}),{default:ie(()=>[Ce.value?(B(),pe(pvn,{key:1,id:Se.id,ref_key:"inputRef",ref:h,"model-value":ae.value,name:Se.name,disabled:x(m),readonly:!Se.editable||Se.readonly,"start-placeholder":Se.startPlaceholder,"end-placeholder":Se.endPlaceholder,class:V(I.value),style:dt(Se.$attrs.style),"aria-label":Se.ariaLabel,tabindex:Se.tabindex,autocomplete:"off",role:"combobox",onClick:ge,onFocus:x(F),onBlur:x(R),onStartInput:lt,onStartChange:Dt,onEndInput:Ft,onEndChange:qt,onMousedown:ge,onMouseenter:$e,onMouseleave:He,onTouchstartPassive:Ie,onKeydown:at},{prefix:ie(()=>[se.value?(B(),pe(x(st),{key:0,class:V([x(a).e("icon"),x(l).e("icon")])},{default:ie(()=>[(B(),pe(zt(se.value)))]),_:1},8,["class"])):fe("v-if",!0)]),"range-separator":ie(()=>[ce(Se.$slots,"range-separator",{},()=>[Z("span",{class:V(x(l).b("separator"))},Fe(Se.rangeSeparator),3)])]),suffix:ie(()=>[Se.clearIcon?(B(),pe(x(st),{key:0,class:V(D.value),onMousedown:xt(x(Rn),["prevent"]),onClick:he},{default:ie(()=>[(B(),pe(zt(Se.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(B(),pe(x(Xi),{key:0,id:Se.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":ae.value,name:Se.name,size:x(Re),disabled:x(m),placeholder:Se.placeholder,class:V([x(i).b("editor"),x(i).bm("editor",Se.type),x(i).is("focus",x(C)),Se.$attrs.class]),style:dt(Se.$attrs.style),readonly:!Se.editable||Se.readonly||q.value||L.value||Q.value||Se.type==="week","aria-label":Se.ariaLabel,tabindex:Se.tabindex,"validate-event":!1,onInput:cn,onFocus:x(F),onBlur:x(R),onKeydown:at,onChange:rt,onMousedown:ge,onMouseenter:$e,onMouseleave:He,onTouchstartPassive:Ie,onClick:ct[0]||(ct[0]=xt(()=>{},["stop"]))},{prefix:ie(()=>[se.value?(B(),pe(x(st),{key:0,class:V(x(a).e("icon")),onMousedown:xt(ge,["prevent"]),onTouchstartPassive:Ie},{default:ie(()=>[(B(),pe(zt(se.value)))]),_:1},8,["class"])):fe("v-if",!0)]),suffix:ie(()=>[de.value&&Se.clearIcon?(B(),pe(x(st),{key:0,class:V(`${x(a).e("icon")} clear-icon`),onMousedown:xt(x(Rn),["prevent"]),onClick:he},{default:ie(()=>[(B(),pe(zt(Se.clearIcon)))]),_:1},8,["class","onMousedown"])):fe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:ie(()=>[ce(Se.$slots,"default",{visible:x(C),actualVisible:x(w),parsedValue:x(y),format:Se.format,dateFormat:Se.dateFormat,timeFormat:Se.timeFormat,unlinkPanels:Se.unlinkPanels,type:Se.type,defaultValue:Se.defaultValue,showNow:Se.showNow,showConfirm:Se.showConfirm,showFooter:Se.showFooter,showWeekNumber:Se.showWeekNumber,onPick:ct[1]||(ct[1]=(...Yt)=>x(T)&&x(T)(...Yt)),onSelectRange:H,onSetPickerOption:ct[2]||(ct[2]=(...Yt)=>x(_)&&x(_)(...Yt)),onCalendarChange:ct[3]||(ct[3]=(...Yt)=>x(E)&&x(E)(...Yt)),onPanelChange:ct[4]||(ct[4]=(...Yt)=>x(A)&&x(A)(...Yt)),onMousedown:ct[5]||(ct[5]=xt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var jBe=Ve(gvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const mvn=Me({...UBe,datetimeRole:String,parsedValue:{type:oe(Object)}}),HBe=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(i,a,l,u)=>{const c={hour:e,minute:t,second:n};let f=i;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),a,u);break}case"second":{h=p(f.hour(),f.minute(),a,u);break}default:{h=p(a,u);break}}if(h?.length&&!h.includes(f[d]())){const g=l?0:h.length-1;f=f[d](h[g])}}}),f},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([i,a])=>{s[i]=a}}},z7=e=>{const t=(r,s)=>r||s,n=r=>r!==!0;return e.map(t).filter(n)},qBe=(e,t,n)=>({getHoursList:(i,a)=>F7(24,e&&(()=>e?.(i,a))),getMinutesList:(i,a,l)=>F7(60,t&&(()=>t?.(i,a,l))),getSecondsList:(i,a,l,u)=>F7(60,n&&(()=>n?.(i,a,l,u)))}),GBe=(e,t,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:o}=qBe(e,t,n);return{getAvailableHours:(u,c)=>z7(r(u,c)),getAvailableMinutes:(u,c,f)=>z7(s(u,c,f)),getAvailableSeconds:(u,c,f,d)=>z7(o(u,c,f,d))}},KBe=e=>{const t=j(e.parsedValue);return xe(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},vvn=Me({role:{type:String,required:!0},spinnerDate:{type:oe(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:oe(String),default:""},...Fne}),yvn=100,bvn=600,PD="_RepeatClick",iM={beforeMount(e,t){const n=t.value,{interval:r=yvn,delay:s=bvn}=ft(n)?{}:n;let o,i;const a=()=>ft(n)?n():n.handler(),l=()=>{i&&(clearTimeout(i),i=void 0),o&&(clearInterval(o),o=void 0)},u=c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",l,{once:!0}),i=setTimeout(()=>{o=setInterval(()=>{a()},r)},s))};e[PD]={start:u,clear:l},e.addEventListener("mousedown",u)},unmounted(e){if(!e[PD])return;const{start:t,clear:n}=e[PD];t&&e.removeEventListener("mousedown",t),n&&(n(),document.removeEventListener("mouseup",n)),e[PD]=null}},wvn=["onClick"],xvn=["onMouseenter"],Cvn=me({__name:"basic-time-spinner",props:vvn,emits:[en,"select-range","set-option"],setup(e,{emit:t}){const n=e,r=tt(qc),{isRange:s,format:o}=r.props,i=t,a=Ae("time"),{getHoursList:l,getMinutesList:u,getSecondsList:c}=qBe(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let f=!1;const d=j(),h=j(),p=j(),g=j(),m={hours:h,minutes:p,seconds:g},v=O(()=>n.showSeconds?Lme:Lme.slice(0,2)),y=O(()=>{const{spinnerDate:U}=n,K=U.hour(),G=U.minute(),re=U.second();return{hours:K,minutes:G,seconds:re}}),w=O(()=>{const{hours:U,minutes:K}=x(y),{role:G,spinnerDate:re}=n,ue=s?void 0:re;return{hours:l(G,ue),minutes:u(U,G,ue),seconds:c(U,K,G,ue)}}),b=O(()=>{const{hours:U,minutes:K,seconds:G}=x(y);return{hours:R7(U,23),minutes:R7(K,59),seconds:R7(G,59)}}),C=Ed(U=>{f=!1,k(U)},200),S=U=>{if(!!!n.amPmMode)return"";const G=n.amPmMode==="A";let re=U<12?" am":" pm";return G&&(re=re.toUpperCase()),re},$=U=>{let K=[0,0];const G=o||zx,re=G.indexOf("HH"),ue=G.indexOf("mm"),ae=G.indexOf("ss");switch(U){case"hours":re!==-1&&(K=[re,re+2]);break;case"minutes":ue!==-1&&(K=[ue,ue+2]);break;case"seconds":ae!==-1&&(K=[ae,ae+2]);break}const[X,J]=K;i("select-range",X,J),d.value=U},k=U=>{E(U,x(y)[U])},T=()=>{k("hours"),k("minutes"),k("seconds")},_=U=>U.querySelector(`.${a.namespace.value}-scrollbar__wrap`),E=(U,K)=>{if(n.arrowControl)return;const G=x(m[U]);G&&G.$el&&(_(G.$el).scrollTop=Math.max(0,K*A(U)))},A=U=>{const K=x(m[U]),G=K?.$el.querySelector("li");return G&&Number.parseFloat(Th(G,"height"))||0},N=()=>{R(1)},F=()=>{R(-1)},R=U=>{d.value||$("hours");const K=d.value,G=x(y)[K],re=d.value==="hours"?24:60,ue=P(K,G,U,re);I(K,ue),E(K,ue),Ye(()=>$(K))},P=(U,K,G,re)=>{let ue=(K+G+re)%re;const ae=x(w)[U];for(;ae[ue]&&ue!==K;)ue=(ue+G+re)%re;return ue},I=(U,K)=>{if(x(w)[U][K])return;const{hours:ue,minutes:ae,seconds:X}=x(y);let J;switch(U){case"hours":J=n.spinnerDate.hour(K).minute(ae).second(X);break;case"minutes":J=n.spinnerDate.hour(ue).minute(K).second(X);break;case"seconds":J=n.spinnerDate.hour(ue).minute(ae).second(K);break}i(en,J)},D=(U,{value:K,disabled:G})=>{G||(I(U,K),$(U),E(U,K))},M=U=>{const K=x(m[U]);if(!K)return;f=!0,C(U);const G=Math.min(Math.round((_(K.$el).scrollTop-(z(U)*.5-10)/A(U)+3)/A(U)),U==="hours"?23:59);I(U,G)},z=U=>x(m[U]).$el.offsetHeight,W=()=>{const U=K=>{const G=x(m[K]);G&&G.$el&&(_(G.$el).onscroll=()=>{M(K)})};U("hours"),U("minutes"),U("seconds")};Ht(()=>{Ye(()=>{!n.arrowControl&&W(),T(),n.role==="start"&&$("hours")})});const H=(U,K)=>{m[K].value=U??void 0};return i("set-option",[`${n.role}_scrollDown`,R]),i("set-option",[`${n.role}_emitSelectRange`,$]),xe(()=>n.spinnerDate,()=>{f||T()}),(U,K)=>(B(),Y("div",{class:V([x(a).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?fe("v-if",!0):(B(!0),Y(it,{key:0},Xt(v.value,G=>(B(),pe(x(jc),{key:G,ref_for:!0,ref:re=>H(re,G),class:V(x(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":x(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:re=>$(G),onMousemove:re=>k(G)},{default:ie(()=>[(B(!0),Y(it,null,Xt(w.value[G],(re,ue)=>(B(),Y("li",{key:ue,class:V([x(a).be("spinner","item"),x(a).is("active",ue===y.value[G]),x(a).is("disabled",re)]),onClick:ae=>D(G,{value:ue,disabled:re})},[G==="hours"?(B(),Y(it,{key:0},[tn(Fe(("0"+(U.amPmMode?ue%12||12:ue)).slice(-2))+Fe(S(ue)),1)],64)):(B(),Y(it,{key:1},[tn(Fe(("0"+ue).slice(-2)),1)],64))],10,wvn))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(B(!0),Y(it,{key:1},Xt(v.value,G=>(B(),Y("div",{key:G,class:V([x(a).be("spinner","wrapper"),x(a).is("arrow")]),onMouseenter:re=>$(G)},[Lt((B(),pe(x(st),{class:V(["arrow-up",x(a).be("spinner","arrow")])},{default:ie(()=>[ee(x(y5))]),_:1},8,["class"])),[[x(iM),F]]),Lt((B(),pe(x(st),{class:V(["arrow-down",x(a).be("spinner","arrow")])},{default:ie(()=>[ee(x(th))]),_:1},8,["class"])),[[x(iM),N]]),Z("ul",{class:V(x(a).be("spinner","list"))},[(B(!0),Y(it,null,Xt(b.value[G],(re,ue)=>(B(),Y("li",{key:ue,class:V([x(a).be("spinner","item"),x(a).is("active",re===y.value[G]),x(a).is("disabled",w.value[G][re])])},[x(pt)(re)?(B(),Y(it,{key:0},[G==="hours"?(B(),Y(it,{key:0},[tn(Fe(("0"+(U.amPmMode?re%12||12:re)).slice(-2))+Fe(S(re)),1)],64)):(B(),Y(it,{key:1},[tn(Fe(("0"+re).slice(-2)),1)],64))],64)):fe("v-if",!0)],2))),128))],2)],42,xvn))),128)):fe("v-if",!0)],2))}});var vH=Ve(Cvn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Svn=me({__name:"panel-time-pick",props:mvn,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=tt(qc),{arrowControl:o,disabledHours:i,disabledMinutes:a,disabledSeconds:l,defaultValue:u}=s.props,{getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:d}=GBe(i,a,l),h=Ae("time"),{t:p,lang:g}=un(),m=j([0,2]),v=KBe(n),y=O(()=>yn(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),w=O(()=>n.format.includes("ss")),b=O(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),C=D=>{const M=Mt(D).locale(g.value),z=R(M);return M.isSame(z)},S=()=>{const D=v.value;r("pick",D,!1),Ye(()=>{v.value=D})},$=(D=!1,M=!1)=>{M||r("pick",n.parsedValue,D)},k=D=>{if(!n.visible)return;const M=R(D).millisecond(0);r("pick",M,!0)},T=(D,M)=>{r("select-range",D,M),m.value=[D,M]},_=D=>{const M=n.format,z=M.indexOf("HH"),W=M.indexOf("mm"),H=M.indexOf("ss"),U=[],K=[];z!==-1&&(U.push(z),K.push("hours")),W!==-1&&(U.push(W),K.push("minutes")),H!==-1&&w.value&&(U.push(H),K.push("seconds"));const re=(U.indexOf(m.value[0])+D+U.length)%U.length;A.start_emitSelectRange(K[re])},E=D=>{const M=Hn(D),{left:z,right:W,up:H,down:U}=Oe;if([z,W].includes(M)){_(M===z?-1:1),D.preventDefault();return}if([H,U].includes(M)){const K=M===H?-1:1;A.start_scrollDown(K),D.preventDefault();return}},{timePickerOptions:A,onSetOption:N,getAvailableTime:F}=HBe({getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:d}),R=D=>F(D,n.datetimeRole||"",!0),P=D=>D?Mt(D,n.format).locale(g.value):null,I=()=>Mt(u).locale(g.value);return r("set-picker-option",["isValidValue",C]),r("set-picker-option",["parseUserInput",P]),r("set-picker-option",["handleKeydownInput",E]),r("set-picker-option",["getRangeAvailableTime",R]),r("set-picker-option",["getDefaultValue",I]),(D,M)=>(B(),pe(Ho,{name:y.value},{default:ie(()=>[D.actualVisible||D.visible?(B(),Y("div",{key:0,class:V(x(h).b("panel"))},[Z("div",{class:V([x(h).be("panel","content"),{"has-seconds":w.value}])},[ee(vH,{ref:"spinner",role:D.datetimeRole||"start","arrow-control":x(o),"show-seconds":w.value,"am-pm-mode":b.value,"spinner-date":D.parsedValue,"disabled-hours":x(i),"disabled-minutes":x(a),"disabled-seconds":x(l),onChange:k,onSetOption:x(N),onSelectRange:T},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:V(x(h).be("panel","footer"))},[Z("button",{type:"button",class:V([x(h).be("panel","btn"),"cancel"]),onClick:S},Fe(x(p)("el.datepicker.cancel")),3),Z("button",{type:"button",class:V([x(h).be("panel","btn"),"confirm"]),onClick:M[0]||(M[0]=z=>$())},Fe(x(p)("el.datepicker.confirm")),3)],2)],2)):fe("v-if",!0)]),_:1},8,["name"]))}});var aM=Ve(Svn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const $vn=Me({...UBe,parsedValue:{type:oe(Array)}}),kvn=["disabled"],Evn=me({__name:"panel-time-range",props:$vn,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=(q,L)=>{const Q=[];for(let se=q;se<=L;se++)Q.push(se);return Q},{t:o,lang:i}=un(),a=Ae("time"),l=Ae("picker"),u=tt(qc),{arrowControl:c,disabledHours:f,disabledMinutes:d,disabledSeconds:h,defaultValue:p}=u.props,g=O(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),C.value?"has-seconds":""]),m=O(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",c),C.value?"has-seconds":""]),v=O(()=>n.parsedValue[0]),y=O(()=>n.parsedValue[1]),w=KBe(n),b=()=>{const q=w.value;r("pick",q,!1),Ye(()=>{w.value=q})},C=O(()=>n.format.includes("ss")),S=O(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),$=(q=!1)=>{r("pick",[v.value,y.value],q)},k=q=>{E(q.millisecond(0),y.value)},T=q=>{E(v.value,q.millisecond(0))},_=q=>{const L=q.map(se=>Mt(se).locale(i.value)),Q=H(L);return L[0].isSame(Q[0])&&L[1].isSame(Q[1])},E=(q,L)=>{n.visible&&r("pick",[q,L],!0)},A=O(()=>v.value>y.value),N=j([0,2]),F=(q,L)=>{r("select-range",q,L,"min"),N.value=[q,L]},R=O(()=>C.value?11:8),P=(q,L)=>{r("select-range",q,L,"max");const Q=x(R);N.value=[q+Q,L+Q]},I=q=>{const L=C.value?[0,3,6,11,14,17]:[0,3,8,11],Q=["hours","minutes"].concat(C.value?["seconds"]:[]),de=(L.indexOf(N.value[0])+q+L.length)%L.length,he=L.length/2;de<he?re.start_emitSelectRange(Q[de]):re.end_emitSelectRange(Q[de-he])},D=q=>{const L=Hn(q),{left:Q,right:se,up:de,down:he}=Oe;if([Q,se].includes(L)){I(L===Q?-1:1),q.preventDefault();return}if([de,he].includes(L)){const ge=L===de?-1:1,$e=N.value[0]<R.value?"start":"end";re[`${$e}_scrollDown`](ge),q.preventDefault();return}},M=(q,L)=>{const Q=f?f(q):[],se=q==="start",he=(L||(se?y.value:v.value)).hour(),ge=se?s(he+1,23):s(0,he-1);return T7(Q,ge)},z=(q,L,Q)=>{const se=d?d(q,L):[],de=L==="start",he=Q||(de?y.value:v.value),ge=he.hour();if(q!==ge)return se;const $e=he.minute(),He=de?s($e+1,59):s(0,$e-1);return T7(se,He)},W=(q,L,Q,se)=>{const de=h?h(q,L,Q):[],he=Q==="start",ge=se||(he?y.value:v.value),$e=ge.hour(),He=ge.minute();if(q!==$e||L!==He)return de;const Ie=ge.second(),Ce=he?s(Ie+1,59):s(0,Ie-1);return T7(de,Ce)},H=([q,L])=>[ue(q,"start",!0,L),ue(L,"end",!1,q)],{getAvailableHours:U,getAvailableMinutes:K,getAvailableSeconds:G}=GBe(M,z,W),{timePickerOptions:re,getAvailableTime:ue,onSetOption:ae}=HBe({getAvailableHours:U,getAvailableMinutes:K,getAvailableSeconds:G}),X=q=>q?De(q)?q.map(L=>Mt(L,n.format).locale(i.value)):Mt(q,n.format).locale(i.value):null,J=()=>{if(De(p))return p.map(L=>Mt(L).locale(i.value));const q=Mt(p).locale(i.value);return[q,q.add(60,"m")]};return r("set-picker-option",["parseUserInput",X]),r("set-picker-option",["isValidValue",_]),r("set-picker-option",["handleKeydownInput",D]),r("set-picker-option",["getDefaultValue",J]),r("set-picker-option",["getRangeAvailableTime",H]),(q,L)=>q.actualVisible?(B(),Y("div",{key:0,class:V([x(a).b("range-picker"),x(l).b("panel")])},[Z("div",{class:V(x(a).be("range-picker","content"))},[Z("div",{class:V(x(a).be("range-picker","cell"))},[Z("div",{class:V(x(a).be("range-picker","header"))},Fe(x(o)("el.datepicker.startTime")),3),Z("div",{class:V(g.value)},[ee(vH,{ref:"minSpinner",role:"start","show-seconds":C.value,"am-pm-mode":S.value,"arrow-control":x(c),"spinner-date":v.value,"disabled-hours":M,"disabled-minutes":z,"disabled-seconds":W,onChange:k,onSetOption:x(ae),onSelectRange:F},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:V(x(a).be("range-picker","cell"))},[Z("div",{class:V(x(a).be("range-picker","header"))},Fe(x(o)("el.datepicker.endTime")),3),Z("div",{class:V(m.value)},[ee(vH,{ref:"maxSpinner",role:"end","show-seconds":C.value,"am-pm-mode":S.value,"arrow-control":x(c),"spinner-date":y.value,"disabled-hours":M,"disabled-minutes":z,"disabled-seconds":W,onChange:T,onSetOption:x(ae),onSelectRange:P},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:V(x(a).be("panel","footer"))},[Z("button",{type:"button",class:V([x(a).be("panel","btn"),"cancel"]),onClick:L[0]||(L[0]=Q=>b())},Fe(x(o)("el.datepicker.cancel")),3),Z("button",{type:"button",class:V([x(a).be("panel","btn"),"confirm"]),disabled:A.value,onClick:L[1]||(L[1]=Q=>$())},Fe(x(o)("el.datepicker.confirm")),11,kvn)],2)],2)):fe("v-if",!0)}});var _vn=Ve(Evn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Mt.extend(One);var Tvn=me({name:"ElTimePicker",install:null,props:{...Mne,isRange:Boolean},emits:[Et],setup(e,t){const n=j(),[r,s]=e.isRange?["timerange",_vn]:["time",aM],o=i=>t.emit(Et,i);return ln(Rne,e.popperOptions),t.expose({focus:()=>{var i;(i=n.value)==null||i.focus()},blur:()=>{var i;(i=n.value)==null||i.blur()},handleOpen:()=>{var i;(i=n.value)==null||i.handleOpen()},handleClose:()=>{var i;(i=n.value)==null||i.handleClose()}}),()=>{var i;const a=(i=e.format)!=null?i:zx;return ee(jBe,Wt(e,{ref:n,type:r,format:a,"onUpdate:modelValue":o}),{default:l=>ee(s,l,null)})}}});const Avn=Rt(Tvn);var q3={exports:{}},Ivn=q3.exports,Bme;function Nvn(){return Bme||(Bme=1,(function(e,t){(function(n,r){e.exports=r()})(Ivn,(function(){return function(n,r){var s=r.prototype,o=s.format;s.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return o.bind(this)(i);var u=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),f==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return f}}));return o.bind(this)(c)}}}))})(q3)),q3.exports}var Dvn=Nvn();const Ovn=Il(Dvn);var G3={exports:{}},Rvn=G3.exports,zme;function Fvn(){return zme||(zme=1,(function(e,t){(function(n,r){e.exports=r()})(Rvn,(function(){var n="week",r="year";return function(s,o,i){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=i(this).startOf(r).add(1,r).date(u),f=i(this).endOf(n);if(c.isBefore(f))return 1}var d=i(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?i(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(G3)),G3.exports}var Mvn=Fvn();const Pvn=Il(Mvn);var K3={exports:{}},Lvn=K3.exports,Vme;function Bvn(){return Vme||(Vme=1,(function(e,t){(function(n,r){e.exports=r()})(Lvn,(function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),o=this.week(),i=this.year();return o===1&&s===11?i+1:s===0&&o>=52?i-1:i}}}))})(K3)),K3.exports}var zvn=Bvn();const Vvn=Il(zvn);var Y3={exports:{}},Wvn=Y3.exports,Wme;function Uvn(){return Wme||(Wme=1,(function(e,t){(function(n,r){e.exports=r()})(Wvn,(function(){return function(n,r,s){r.prototype.dayOfYear=function(o){var i=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return o==null?i:this.add(o-i,"day")}}}))})(Y3)),Y3.exports}var jvn=Uvn();const Hvn=Il(jvn);var X3={exports:{}},qvn=X3.exports,Ume;function Gvn(){return Ume||(Ume=1,(function(e,t){(function(n,r){e.exports=r()})(qvn,(function(){return function(n,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}}))})(X3)),X3.exports}var Kvn=Gvn();const Yvn=Il(Kvn);var Z3={exports:{}},Xvn=Z3.exports,jme;function Zvn(){return jme||(jme=1,(function(e,t){(function(n,r){e.exports=r()})(Xvn,(function(){return function(n,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}}))})(Z3)),Z3.exports}var Jvn=Zvn();const Qvn=Il(Jvn),e1n=Me({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:oe([Date,Array,String,Number]),default:""},defaultValue:{type:oe([Date,Array])},defaultTime:{type:oe([Date,Array])},isRange:Boolean,...Fne,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:oe(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),Pne=Symbol("rootPickerContextKey"),II="ElIsDefaultFormat",t1n=["date","dates","year","years","month","months","week","range"],Lne=Me({cellClassName:{type:oe(Function)},disabledDate:{type:oe(Function)},date:{type:oe(Object),required:!0},minDate:{type:oe(Object)},maxDate:{type:oe(Object)},parsedValue:{type:oe([Object,Array])},rangeState:{type:oe(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),YBe=Me({type:{type:oe(String),required:!0,values:agn},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),Bne=Me({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:oe(Array)}}),zne=e=>({type:String,values:t1n,default:e}),n1n=Me({...YBe,parsedValue:{type:oe([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),h_=e=>{if(!De(e))return!1;const[t,n]=e;return Mt.isDayjs(t)&&Mt.isDayjs(n)&&Mt(t).isValid()&&Mt(n).isValid()&&t.isSameOrBefore(n)},_5=(e,{lang:t,step:n=1,unit:r,unlinkPanels:s})=>{let o;if(De(e)){let[i,a]=e.map(l=>Mt(l).locale(t));return s||(a=i.add(n,r)),[i,a]}else e?o=Mt(e):o=Mt();return o=o.locale(t),[o,o.add(n,r)]},r1n=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:o,unit:i,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*e.column+d,g=a(p);h.dayjs=g,h.date=g.toDate(),h.timestamp=g.valueOf(),h.type="normal",h.inRange=!!(r&&g.isSameOrAfter(r,i)&&s&&g.isSameOrBefore(s,i))||!!(r&&g.isSameOrBefore(r,i)&&s&&g.isSameOrAfter(s,i)),r?.isSameOrAfter(s)?(h.start=!!s&&g.isSame(s,i),h.end=r&&g.isSame(r,i)):(h.start=!!r&&g.isSame(r,i),h.end=!!s&&g.isSame(s,i)),g.isSame(o,i)&&(h.type="today"),l?.(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u?.(f)}},lM=(e,t,n,r)=>{const s=Mt().locale(r).startOf("month").month(n).year(t).hour(e.hour()).minute(e.minute()).second(e.second()),o=s.daysInMonth();return om(o).map(i=>s.add(i,"day").toDate())},Vx=(e,t,n,r,s)=>{const o=Mt().year(t).month(n).startOf("month").hour(e.hour()).minute(e.minute()).second(e.second()),i=lM(e,t,n,r).find(a=>!s?.(a));return i?Mt(i).locale(r):o.locale(r)},uM=(e,t,n)=>{const r=e.year();if(!n?.(e.toDate()))return e.locale(t);const s=e.month();if(!lM(e,r,s,t).every(n))return Vx(e,r,s,t,n);for(let o=0;o<12;o++)if(!lM(e,r,o,t).every(n))return Vx(e,r,o,t,n);return e},Wx=(e,t,n,r)=>{if(De(e))return e.map(s=>Wx(s,t,n,r));if(ot(e)){const s=r?.value?Mt(e):Mt(e,t);if(!s.isValid())return s}return Mt(e,t).locale(n)},s1n=Me({...Lne,showWeekNumber:Boolean,selectionMode:zne("date")}),o1n=["changerange","pick","select"],cM=(e="")=>["normal","today"].includes(e),i1n=(e,t)=>{const{lang:n}=un(),r=j(),s=j(),o=j(),i=j(),a=j([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(M=>M.toLowerCase()),f=O(()=>u>3?7-u:-u),d=O(()=>{const M=e.date.startOf("month");return M.subtract(M.day()||7,"day")}),h=O(()=>c.concat(c).slice(u,u+7)),p=O(()=>xPe(x(b)).some(M=>M.isCurrent)),g=O(()=>{const M=e.date.startOf("month"),z=M.day()||7,W=M.daysInMonth(),H=M.subtract(1,"month").daysInMonth();return{startOfMonthDay:z,dateCountOfMonth:W,dateCountOfLastMonth:H}}),m=O(()=>e.selectionMode==="dates"?Hi(e.parsedValue):[]),v=(M,{count:z,rowIndex:W,columnIndex:H})=>{const{startOfMonthDay:U,dateCountOfMonth:K,dateCountOfLastMonth:G}=x(g),re=x(f);if(W>=0&&W<=1){const ue=U+re<0?7+U+re:U+re;if(H+W*7>=ue)return M.text=z,!0;M.text=G-(ue-H%7)+1+W*7,M.type="prev-month"}else return z<=K?M.text=z:(M.text=z-K,M.type="next-month"),!0;return!1},y=(M,{columnIndex:z,rowIndex:W},H)=>{const{disabledDate:U,cellClassName:K}=e,G=x(m),re=v(M,{count:H,rowIndex:W,columnIndex:z}),ue=M.dayjs.toDate();return M.selected=G.find(ae=>ae.isSame(M.dayjs,"day")),M.isSelected=!!M.selected,M.isCurrent=S(M),M.disabled=U?.(ue),M.customClass=K?.(ue),re},w=M=>{if(e.selectionMode==="week"){const[z,W]=e.showWeekNumber?[1,7]:[0,6],H=D(M[z+1]);M[z].inRange=H,M[z].start=H,M[W].inRange=H,M[W].end=H}},b=O(()=>{const{minDate:M,maxDate:z,rangeState:W,showWeekNumber:H}=e,U=x(f),K=x(a),G="day";let re=1;if(r1n({row:6,column:7},K,{startDate:M,columnIndexOffset:H?1:0,nextEndDate:W.endDate||z||W.selecting&&M||null,now:Mt().locale(x(n)).startOf(G),unit:G,relativeDateGetter:ue=>x(d).add(ue-U,G),setCellMetadata:(...ue)=>{y(...ue,re)&&(re+=1)},setRowMetadata:w}),H)for(let ue=0;ue<6;ue++)K[ue][1].dayjs&&(K[ue][0]={type:"week",text:K[ue][1].dayjs.week()});return K});xe(()=>e.date,async()=>{var M;(M=x(r))!=null&&M.contains(document.activeElement)&&(await Ye(),await C())});const C=async()=>{var M;return(M=x(s))==null?void 0:M.focus()},S=M=>e.selectionMode==="date"&&cM(M.type)&&$(M,e.parsedValue),$=(M,z)=>z?Mt(z).locale(x(n)).isSame(e.date.date(Number(M.text)),"day"):!1,k=(M,z)=>{const W=M*7+(z-(e.showWeekNumber?1:0))-x(f);return x(d).add(W,"day")},T=M=>{var z;if(!e.rangeState.selecting)return;let W=M.target;if(W.tagName==="SPAN"&&(W=(z=W.parentNode)==null?void 0:z.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const H=W.parentNode.rowIndex-1,U=W.cellIndex;x(b)[H][U].disabled||(H!==x(o)||U!==x(i))&&(o.value=H,i.value=U,t("changerange",{selecting:!0,endDate:k(H,U)}))},_=M=>!x(p)&&M?.text===1&&cM(M.type)||M.isCurrent,E=M=>{l||x(p)||e.selectionMode!=="date"||I(M,!0)},A=M=>{M.target.closest("td")&&(l=!0)},N=M=>{M.target.closest("td")&&(l=!1)},F=M=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:M,maxDate:null}),t("select",!0)):(M>=e.minDate?t("pick",{minDate:e.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:e.minDate}),t("select",!1))},R=M=>{const z=M.week(),W=`${M.year()}w${z}`;t("pick",{year:M.year(),week:z,value:W,date:M.startOf("week")})},P=(M,z)=>{const W=z?Hi(e.parsedValue).filter(H=>H?.valueOf()!==M.valueOf()):Hi(e.parsedValue).concat([M]);t("pick",W)},I=(M,z=!1)=>{if(e.disabled)return;const W=M.target.closest("td");if(!W)return;const H=W.parentNode.rowIndex-1,U=W.cellIndex,K=x(b)[H][U];if(K.disabled||K.type==="week")return;const G=k(H,U);switch(e.selectionMode){case"range":{F(G);break}case"date":{t("pick",G,z);break}case"week":{R(G);break}case"dates":{P(G,!!K.selected);break}}},D=M=>{if(e.selectionMode!=="week")return!1;let z=e.date.startOf("day");if(M.type==="prev-month"&&(z=z.subtract(1,"month")),M.type==="next-month"&&(z=z.add(1,"month")),z=z.date(Number.parseInt(M.text,10)),e.parsedValue&&!De(e.parsedValue)){const W=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(W,"day").isSame(z,"day")}return!1};return{WEEKS:h,rows:b,tbodyRef:r,currentCellRef:s,focus:C,isCurrent:S,isWeekActive:D,isSelectedCell:_,handlePickDate:I,handleMouseUp:N,handleMouseDown:A,handleMouseMove:T,handleFocus:E}},a1n=(e,{isCurrent:t,isWeekActive:n})=>{const r=Ae("date-table"),{t:s}=un(),o=O(()=>[r.b(),r.is("week-mode",e.selectionMode==="week"&&!e.disabled)]),i=O(()=>s("el.datepicker.dateTablePrompt")),a=u=>{const c=[];return cM(u.type)&&!u.disabled?(c.push("available"),u.type==="today"&&c.push("today")):c.push(u.type),t(u)&&c.push("current"),u.inRange&&(cM(u.type)||e.selectionMode==="week")&&(c.push("in-range"),u.start&&c.push("start-date"),u.end&&c.push("end-date")),(u.disabled||e.disabled)&&c.push("disabled"),u.selected&&c.push("selected"),u.customClass&&c.push(u.customClass),c.join(" ")},l=u=>[r.e("row"),{current:n(u)}];return{tableKls:o,tableLabel:i,weekHeaderClass:r.e("week-header"),getCellClasses:a,getRowKls:l,t:s}},l1n=Me({cell:{type:oe(Object)}});var Vne=me({name:"ElDatePickerCell",props:l1n,setup(e){const t=Ae("date-table-cell"),{slots:n}=tt(Pne);return()=>{const{cell:r}=e;return ce(n,"default",{...r},()=>{var s;return[ee("div",{class:t.b()},[ee("span",{class:t.e("text")},[(s=r?.renderText)!=null?s:r?.text])])]})}}});const u1n=["aria-label"],c1n=["aria-label"],f1n=["aria-current","aria-selected","tabindex","aria-disabled"],d1n=me({__name:"basic-date-table",props:s1n,emits:o1n,setup(e,{expose:t,emit:n}){const r=e,s=n,{WEEKS:o,rows:i,tbodyRef:a,currentCellRef:l,focus:u,isCurrent:c,isWeekActive:f,isSelectedCell:d,handlePickDate:h,handleMouseUp:p,handleMouseDown:g,handleMouseMove:m,handleFocus:v}=i1n(r,s),{tableLabel:y,tableKls:w,getCellClasses:b,getRowKls:C,weekHeaderClass:S,t:$}=a1n(r,{isCurrent:c,isWeekActive:f});let k=!1;return Dn(()=>{k=!0}),t({focus:u}),(T,_)=>(B(),Y("table",{"aria-label":x(y),class:V(x(w)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:_[1]||(_[1]=(...E)=>x(h)&&x(h)(...E)),onMousemove:_[2]||(_[2]=(...E)=>x(m)&&x(m)(...E)),onMousedown:_[3]||(_[3]=(...E)=>x(g)&&x(g)(...E)),onMouseup:_[4]||(_[4]=(...E)=>x(p)&&x(p)(...E))},[Z("tbody",{ref_key:"tbodyRef",ref:a},[Z("tr",null,[T.showWeekNumber?(B(),Y("th",{key:0,scope:"col",class:V(x(S))},null,2)):fe("v-if",!0),(B(!0),Y(it,null,Xt(x(o),(E,A)=>(B(),Y("th",{key:A,"aria-label":x($)("el.datepicker.weeksFull."+E),scope:"col"},Fe(x($)("el.datepicker.weeks."+E)),9,c1n))),128))]),(B(!0),Y(it,null,Xt(x(i),(E,A)=>(B(),Y("tr",{key:A,class:V(x(C)(T.showWeekNumber?E[2]:E[1]))},[(B(!0),Y(it,null,Xt(E,(N,F)=>(B(),Y("td",{key:`${A}.${F}`,ref_for:!0,ref:R=>!x(k)&&x(d)(N)&&(l.value=R),class:V(x(b)(N)),"aria-current":N.isCurrent?"date":void 0,"aria-selected":N.isCurrent,tabindex:T.disabled?void 0:x(d)(N)?0:-1,"aria-disabled":T.disabled,onFocus:_[0]||(_[0]=(...R)=>x(v)&&x(v)(...R))},[ee(x(Vne),{cell:N},null,8,["cell"])],42,f1n))),128))],2))),128))],512)],42,u1n))}});var yH=Ve(d1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const h1n=Me({...Lne,selectionMode:zne("month")}),p1n=["aria-label"],g1n=["aria-selected","aria-label","tabindex","onKeydown"],m1n=me({__name:"basic-month-table",props:h1n,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("month-table"),{t:i,lang:a}=un(),l=j(),u=j(),c=j(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),f=j([[],[],[]]),d=j(),h=j(),p=O(()=>{var b,C,S;const $=f.value,k=Mt().locale(a.value).startOf("month");for(let T=0;T<3;T++){const _=$[T];for(let E=0;E<4;E++){const A=_[E]||(_[E]={row:T,column:E,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});A.type="normal";const N=T*4+E,F=r.date.startOf("year").month(N),R=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&F.isSameOrAfter(r.minDate,"month")&&R&&F.isSameOrBefore(R,"month"))||!!(r.minDate&&F.isSameOrBefore(r.minDate,"month")&&R&&F.isSameOrAfter(R,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(R)?(A.start=!!(R&&F.isSame(R,"month")),A.end=r.minDate&&F.isSame(r.minDate,"month")):(A.start=!!(r.minDate&&F.isSame(r.minDate,"month")),A.end=!!(R&&F.isSame(R,"month"))),k.isSame(F)&&(A.type="today");const I=F.toDate();A.text=N,A.disabled=((C=r.disabledDate)==null?void 0:C.call(r,I))||!1,A.date=I,A.customClass=(S=r.cellClassName)==null?void 0:S.call(r,I),A.dayjs=F,A.timestamp=F.valueOf(),A.isSelected=v(A)}}return $}),g=()=>{var b;(b=u.value)==null||b.focus()},m=b=>{const C={},S=r.date.year(),$=new Date,k=b.text;return C.disabled=r.disabled||(r.disabledDate?lM(r.date,S,k,a.value).every(r.disabledDate):!1),C.current=Hi(r.parsedValue).some(T=>Mt.isDayjs(T)&&T.year()===S&&T.month()===k),C.today=$.getFullYear()===S&&$.getMonth()===k,b.customClass&&(C[b.customClass]=!0),b.inRange&&(C["in-range"]=!0,b.start&&(C["start-date"]=!0),b.end&&(C["end-date"]=!0)),C},v=b=>{const C=r.date.year(),S=b.text;return Hi(r.date).some($=>$.year()===C&&$.month()===S)},y=b=>{var C;if(!r.rangeState.selecting)return;let S=b.target;if(S.tagName==="SPAN"&&(S=(C=S.parentNode)==null?void 0:C.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const $=S.parentNode.rowIndex,k=S.cellIndex;p.value[$][k].disabled||($!==d.value||k!==h.value)&&(d.value=$,h.value=k,s("changerange",{selecting:!0,endDate:r.date.startOf("year").month($*4+k)}))},w=b=>{var C;if(r.disabled)return;const S=(C=b.target)==null?void 0:C.closest("td");if(S?.tagName!=="TD"||td(S,"disabled"))return;const $=S.cellIndex,T=S.parentNode.rowIndex*4+$,_=r.date.startOf("year").month(T);if(r.selectionMode==="months"){if(b.type==="keydown"){s("pick",Hi(r.parsedValue),!1);return}const E=Vx(r.date,r.date.year(),T,a.value,r.disabledDate),A=td(S,"current")?Hi(r.parsedValue).filter(N=>N?.year()!==E.year()||N?.month()!==E.month()):Hi(r.parsedValue).concat([Mt(E)]);s("pick",A)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&_>=r.minDate?s("pick",{minDate:r.minDate,maxDate:_}):s("pick",{minDate:_,maxDate:r.minDate}),s("select",!1)):(s("pick",{minDate:_,maxDate:null}),s("select",!0)):s("pick",T)};return xe(()=>r.date,async()=>{var b,C;(b=l.value)!=null&&b.contains(document.activeElement)&&(await Ye(),(C=u.value)==null||C.focus())}),t({focus:g}),(b,C)=>(B(),Y("table",{role:"grid","aria-label":x(i)("el.datepicker.monthTablePrompt"),class:V(x(o).b()),onClick:w,onMousemove:y},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(B(!0),Y(it,null,Xt(p.value,(S,$)=>(B(),Y("tr",{key:$},[(B(!0),Y(it,null,Xt(S,(k,T)=>(B(),Y("td",{key:T,ref_for:!0,ref:_=>k.isSelected&&(u.value=_),class:V(m(k)),"aria-selected":!!k.isSelected,"aria-label":x(i)(`el.datepicker.month${+k.text+1}`),tabindex:k.isSelected?0:-1,onKeydown:[qr(xt(w,["prevent","stop"]),["space"]),qr(xt(w,["prevent","stop"]),["enter"])]},[ee(x(Vne),{cell:{...k,renderText:x(i)("el.datepicker.months."+c.value[k.text])}},null,8,["cell"])],42,g1n))),128))]))),128))],512)],42,p1n))}});var p_=Ve(m1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const v1n=Me({...Lne,selectionMode:zne("year")}),y1n=["aria-label"],b1n=["aria-selected","aria-label","tabindex","onKeydown"],w1n=me({__name:"basic-year-table",props:v1n,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=(C,S)=>{const $=Mt(String(C)).locale(S).startOf("year"),T=$.endOf("year").dayOfYear();return om(T).map(_=>$.add(_,"day").toDate())},s=e,o=n,i=Ae("year-table"),{t:a,lang:l}=un(),u=j(),c=j(),f=O(()=>Math.floor(s.date.year()/10)*10),d=j([[],[],[]]),h=j(),p=j(),g=O(()=>{var C,S,$;const k=d.value,T=Mt().locale(l.value).startOf("year");for(let _=0;_<3;_++){const E=k[_];for(let A=0;A<4&&!(_*4+A>=10);A++){let N=E[A];N||(N={row:_,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),N.type="normal";const F=_*4+A+f.value,R=Mt().year(F),P=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;N.inRange=!!(s.minDate&&R.isSameOrAfter(s.minDate,"year")&&P&&R.isSameOrBefore(P,"year"))||!!(s.minDate&&R.isSameOrBefore(s.minDate,"year")&&P&&R.isSameOrAfter(P,"year")),(C=s.minDate)!=null&&C.isSameOrAfter(P)?(N.start=!!(P&&R.isSame(P,"year")),N.end=!!(s.minDate&&R.isSame(s.minDate,"year"))):(N.start=!!(s.minDate&&R.isSame(s.minDate,"year")),N.end=!!(P&&R.isSame(P,"year"))),T.isSame(R)&&(N.type="today"),N.text=F;const D=R.toDate();N.disabled=((S=s.disabledDate)==null?void 0:S.call(s,D))||!1,N.date=D,N.customClass=($=s.cellClassName)==null?void 0:$.call(s,D),N.dayjs=R,N.timestamp=R.valueOf(),N.isSelected=y(N),E[A]=N}}return k}),m=()=>{var C;(C=c.value)==null||C.focus()},v=C=>{const S={},$=Mt().locale(l.value),k=C.text;return S.disabled=s.disabled||(s.disabledDate?r(k,l.value).every(s.disabledDate):!1),S.today=$.year()===k,S.current=Hi(s.parsedValue).some(T=>T.year()===k),C.customClass&&(S[C.customClass]=!0),C.inRange&&(S["in-range"]=!0,C.start&&(S["start-date"]=!0),C.end&&(S["end-date"]=!0)),S},y=C=>{const S=C.text;return Hi(s.date).some($=>$.year()===S)},w=C=>{var S;if(s.disabled)return;const $=(S=C.target)==null?void 0:S.closest("td");if(!$||!$.textContent||td($,"disabled"))return;const k=$.cellIndex,_=$.parentNode.rowIndex*4+k+f.value,E=Mt().year(_);if(s.selectionMode==="range")s.rangeState.selecting?(s.minDate&&E>=s.minDate?o("pick",{minDate:s.minDate,maxDate:E}):o("pick",{minDate:E,maxDate:s.minDate}),o("select",!1)):(o("pick",{minDate:E,maxDate:null}),o("select",!0));else if(s.selectionMode==="years"){if(C.type==="keydown"){o("pick",Hi(s.parsedValue),!1);return}const A=uM(E.startOf("year"),l.value,s.disabledDate),N=td($,"current")?Hi(s.parsedValue).filter(F=>F?.year()!==_):Hi(s.parsedValue).concat([A]);o("pick",N)}else o("pick",_)},b=C=>{var S;if(!s.rangeState.selecting)return;const $=(S=C.target)==null?void 0:S.closest("td");if(!$)return;const k=$.parentNode.rowIndex,T=$.cellIndex;g.value[k][T].disabled||(k!==h.value||T!==p.value)&&(h.value=k,p.value=T,o("changerange",{selecting:!0,endDate:Mt().year(f.value).add(k*4+T,"year")}))};return xe(()=>s.date,async()=>{var C,S;(C=u.value)!=null&&C.contains(document.activeElement)&&(await Ye(),(S=c.value)==null||S.focus())}),t({focus:m}),(C,S)=>(B(),Y("table",{role:"grid","aria-label":x(a)("el.datepicker.yearTablePrompt"),class:V(x(i).b()),onClick:w,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:u},[(B(!0),Y(it,null,Xt(g.value,($,k)=>(B(),Y("tr",{key:k},[(B(!0),Y(it,null,Xt($,(T,_)=>(B(),Y("td",{key:`${k}_${_}`,ref_for:!0,ref:E=>T.isSelected&&(c.value=E),class:V(["available",v(T)]),"aria-selected":T.isSelected,"aria-label":String(T.text),tabindex:T.isSelected?0:-1,onKeydown:[qr(xt(w,["prevent","stop"]),["space"]),qr(xt(w,["prevent","stop"]),["enter"])]},[ee(x(Vne),{cell:T},null,8,["cell"])],42,b1n))),128))]))),128))],512)],42,y1n))}});var g_=Ve(w1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const x1n=["disabled","onClick"],C1n=["aria-label","disabled"],S1n=["aria-label","disabled"],$1n=["tabindex","aria-disabled"],k1n=["tabindex","aria-disabled"],E1n=["aria-label","disabled"],_1n=["aria-label","disabled"],T1n=me({__name:"panel-date-pick",props:n1n,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=(Te,Xe,Se)=>!0,r=e,s=t,o=Ae("picker-panel"),i=Ae("date-picker"),a=$p(),l=Ms(),{t:u,lang:c}=un(),f=tt(qc),d=tt(II,void 0),{shortcuts:h,disabledDate:p,cellClassName:g,defaultTime:m}=f.props,v=Bn(f.props,"defaultValue"),y=j(),w=j(Mt().locale(c.value)),b=j(!1);let C=!1;const S=O(()=>Mt(m).locale(c.value)),$=O(()=>w.value.month()),k=O(()=>w.value.year()),T=j([]),_=j(null),E=j(null),A=Te=>T.value.length>0?n(Te,T.value,r.format||"HH:mm:ss"):!0,N=Te=>m&&!$e.value&&!b.value&&!C?S.value.year(Te.year()).month(Te.month()).date(Te.date()):X.value?Te.millisecond(0):Te.startOf("day"),F=(Te,...Xe)=>{if(!Te)s("pick",Te,...Xe);else if(De(Te)){const Se=Te.map(N);s("pick",Se,...Xe)}else s("pick",N(Te),...Xe);_.value=null,E.value=null,b.value=!1,C=!1},R=async(Te,Xe)=>{if(W.value==="date"&&Mt.isDayjs(Te)){const Se=KS(r.parsedValue);let ct=Se?Se.year(Te.year()).month(Te.month()).date(Te.date()):Te;A(ct),w.value=ct,F(ct,X.value||Xe)}else W.value==="week"?F(Te.date):W.value==="dates"&&F(Te,!0)},P=Te=>{const Xe=Te?"add":"subtract";w.value=w.value[Xe](1,"month"),qt("month")},I=Te=>{const Xe=w.value,Se=Te?"add":"subtract";w.value=D.value==="year"?Xe[Se](10,"year"):Xe[Se](1,"year"),qt("year")},D=j("date"),M=O(()=>{const Te=u("el.datepicker.year");if(D.value==="year"){const Xe=Math.floor(k.value/10)*10;return Te?`${Xe} ${Te} - ${Xe+9} ${Te}`:`${Xe} - ${Xe+9}`}return`${k.value} ${Te}`}),z=Te=>{const Xe=ft(Te.value)?Te.value():Te.value;if(Xe){C=!0,F(Mt(Xe).locale(c.value));return}Te.onClick&&Te.onClick({attrs:a,slots:l,emit:s})},W=O(()=>{const{type:Te}=r;return["week","month","months","year","years","dates"].includes(Te)?Te:"date"}),H=O(()=>W.value==="dates"||W.value==="months"||W.value==="years"),U=O(()=>W.value==="date"?D.value:W.value),K=O(()=>!!h.length),G=async(Te,Xe)=>{W.value==="month"?(w.value=Vx(w.value,w.value.year(),Te,c.value,p),F(w.value,!1)):W.value==="months"?F(Te,Xe??!0):(w.value=Vx(w.value,w.value.year(),Te,c.value,p),D.value="date",["month","year","date","week"].includes(W.value)&&(F(w.value,!0),await Ye(),cn())),qt("month")},re=async(Te,Xe)=>{if(W.value==="year"){const Se=w.value.startOf("year").year(Te);w.value=uM(Se,c.value,p),F(w.value,!1)}else if(W.value==="years")F(Te,Xe??!0);else{const Se=w.value.year(Te);w.value=uM(Se,c.value,p),D.value="month",["month","year","date","week"].includes(W.value)&&(F(w.value,!0),await Ye(),cn())}qt("year")},ue=jr(),ae=async Te=>{ue.value||(D.value=Te,await Ye(),cn())},X=O(()=>r.type==="datetime"||r.type==="datetimerange"),J=O(()=>{const Te=X.value||W.value==="dates",Xe=W.value==="years",Se=W.value==="months",ct=D.value==="date",Yt=D.value==="year",Gn=D.value==="month";return Te&&ct||Xe&&Yt||Se&&Gn}),q=O(()=>!H.value&&r.showNow||r.showConfirm),L=O(()=>p?r.parsedValue?De(r.parsedValue)?p(r.parsedValue[0].toDate()):p(r.parsedValue.toDate()):!0:!1),Q=()=>{if(H.value)F(r.parsedValue);else{let Te=KS(r.parsedValue);if(!Te){const Xe=Mt(m).locale(c.value),Se=at();Te=Xe.year(Se.year()).month(Se.month()).date(Se.date())}w.value=Te,F(Te)}},se=O(()=>p?p(Mt().locale(c.value).toDate()):!1),de=()=>{const Xe=Mt().locale(c.value).toDate();b.value=!0,(!p||!p(Xe))&&A(Xe)&&(w.value=Mt().locale(c.value),F(w.value))},he=O(()=>r.timeFormat||sBe(r.format)||zx),ge=O(()=>r.dateFormat||rBe(r.format)||_g),$e=O(()=>E.value?E.value:!r.parsedValue&&!v.value?void 0:(KS(r.parsedValue)||w.value).format(he.value)),He=O(()=>_.value?_.value:!r.parsedValue&&!v.value?void 0:(KS(r.parsedValue)||w.value).format(ge.value)),Ie=j(!1),Ce=()=>{Ie.value=!0},Re=()=>{Ie.value=!1},ze=Te=>({hour:Te.hour(),minute:Te.minute(),second:Te.second(),year:Te.year(),month:Te.month(),date:Te.date()}),Ue=(Te,Xe,Se)=>{const{hour:ct,minute:Yt,second:Gn}=ze(Te),Ne=KS(r.parsedValue),nt=Ne?Ne.hour(ct).minute(Yt).second(Gn):Te;w.value=nt,F(w.value,!0),Se||(Ie.value=Xe)},rt=Te=>{const Xe=Mt(Te,he.value).locale(c.value);if(Xe.isValid()&&A(Xe)){const{year:Se,month:ct,date:Yt}=ze(w.value);w.value=Xe.year(Se).month(ct).date(Yt),E.value=null,Ie.value=!1,F(w.value,!0)}},ht=Te=>{const Xe=Wx(Te,ge.value,c.value,d);if(Xe.isValid()){if(p&&p(Xe.toDate()))return;const{hour:Se,minute:ct,second:Yt}=ze(w.value);w.value=Xe.hour(Se).minute(ct).second(Yt),_.value=null,F(w.value,!0)}},ye=Te=>Mt.isDayjs(Te)&&Te.isValid()&&(p?!p(Te.toDate()):!0),Ge=Te=>Wx(Te,r.format,c.value,d),at=()=>{const Te=Mt(v.value).locale(c.value);if(!v.value){const Xe=S.value;return Mt().hour(Xe.hour()).minute(Xe.minute()).second(Xe.second()).locale(c.value)}return Te},cn=()=>{var Te;["week","month","year","date"].includes(W.value)&&((Te=y.value)==null||Te.focus())},lt=()=>{cn(),W.value==="week"&&Dt(Oe.down)},Ft=Te=>{const Xe=Hn(Te);[Oe.up,Oe.down,Oe.left,Oe.right,Oe.home,Oe.end,Oe.pageUp,Oe.pageDown].includes(Xe)&&(Dt(Xe),Te.stopPropagation(),Te.preventDefault()),[Oe.enter,Oe.space,Oe.numpadEnter].includes(Xe)&&_.value===null&&E.value===null&&(Te.preventDefault(),F(w.value,!1))},Dt=Te=>{var Xe;const{up:Se,down:ct,left:Yt,right:Gn,home:Ne,end:nt,pageUp:wt,pageDown:Fr}=Oe,da={year:{[Se]:-4,[ct]:4,[Yt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setFullYear(Ze.getFullYear()+yt)},month:{[Se]:-4,[ct]:4,[Yt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setMonth(Ze.getMonth()+yt)},week:{[Se]:-1,[ct]:1,[Yt]:-1,[Gn]:1,offset:(Ze,yt)=>Ze.setDate(Ze.getDate()+yt*7)},date:{[Se]:-7,[ct]:7,[Yt]:-1,[Gn]:1,[Ne]:Ze=>-Ze.getDay(),[nt]:Ze=>-Ze.getDay()+6,[wt]:Ze=>-new Date(Ze.getFullYear(),Ze.getMonth(),0).getDate(),[Fr]:Ze=>new Date(Ze.getFullYear(),Ze.getMonth()+1,0).getDate(),offset:(Ze,yt)=>Ze.setDate(Ze.getDate()+yt)}},bs=w.value.toDate();for(;Math.abs(w.value.diff(bs,"year",!0))<1;){const Ze=da[U.value];if(!Ze)return;if(Ze.offset(bs,ft(Ze[Te])?Ze[Te](bs):(Xe=Ze[Te])!=null?Xe:0),p&&p(bs))break;const yt=Mt(bs).locale(c.value);w.value=yt,s("pick",yt,!0);break}},qt=Te=>{s("panel-change",w.value.toDate(),Te,D.value)};return xe(()=>W.value,Te=>{if(["month","year"].includes(Te)){D.value=Te;return}else if(Te==="years"){D.value="year";return}else if(Te==="months"){D.value="month";return}D.value="date"},{immediate:!0}),xe(()=>v.value,Te=>{Te&&(w.value=at())},{immediate:!0}),xe(()=>r.parsedValue,Te=>{if(Te){if(H.value||De(Te))return;w.value=Te}else w.value=at()},{immediate:!0}),s("set-picker-option",["isValidValue",ye]),s("set-picker-option",["parseUserInput",Ge]),s("set-picker-option",["handleFocusPicker",lt]),(Te,Xe)=>(B(),Y("div",{class:V([x(o).b(),x(i).b(),x(o).is("border",Te.border),x(o).is("disabled",x(ue)),{"has-sidebar":Te.$slots.sidebar||K.value,"has-time":X.value}])},[Z("div",{class:V(x(o).e("body-wrapper"))},[ce(Te.$slots,"sidebar",{class:V(x(o).e("sidebar"))}),K.value?(B(),Y("div",{key:0,class:V(x(o).e("sidebar"))},[(B(!0),Y(it,null,Xt(x(h),(Se,ct)=>(B(),Y("button",{key:ct,type:"button",disabled:x(ue),class:V(x(o).e("shortcut")),onClick:Yt=>z(Se)},Fe(Se.text),11,x1n))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(o).e("body"))},[X.value?(B(),Y("div",{key:0,class:V(x(i).e("time-header"))},[Z("span",{class:V(x(i).e("editor-wrap"))},[ee(x(Xi),{placeholder:x(u)("el.datepicker.selectDate"),"model-value":He.value,size:"small","validate-event":!1,disabled:x(ue),readonly:!Te.editable,onInput:Xe[0]||(Xe[0]=Se=>_.value=Se),onChange:ht},null,8,["placeholder","model-value","disabled","readonly"])],2),Lt((B(),Y("span",{class:V(x(i).e("editor-wrap"))},[ee(x(Xi),{placeholder:x(u)("el.datepicker.selectTime"),"model-value":$e.value,size:"small","validate-event":!1,disabled:x(ue),readonly:!Te.editable,onFocus:Ce,onInput:Xe[1]||(Xe[1]=Se=>E.value=Se),onChange:rt},null,8,["placeholder","model-value","disabled","readonly"]),ee(x(aM),{visible:Ie.value,format:he.value,"parsed-value":w.value,onPick:Ue},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Re]])],2)):fe("v-if",!0),Lt(Z("div",{class:V([x(i).e("header"),(D.value==="year"||D.value==="month")&&x(i).em("header","bordered")])},[Z("span",{class:V(x(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":x(u)("el.datepicker.prevYear"),class:V(["d-arrow-left",x(o).e("icon-btn")]),disabled:x(ue),onClick:Xe[2]||(Xe[2]=Se=>I(!1))},[ce(Te.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,C1n),Lt(Z("button",{type:"button","aria-label":x(u)("el.datepicker.prevMonth"),class:V([x(o).e("icon-btn"),"arrow-left"]),disabled:x(ue),onClick:Xe[3]||(Xe[3]=Se=>P(!1))},[ce(Te.$slots,"prev-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,S1n),[[Sn,D.value==="date"]])],2),Z("span",{role:"button",class:V(x(i).e("header-label")),"aria-live":"polite",tabindex:Te.disabled?void 0:0,"aria-disabled":Te.disabled,onKeydown:Xe[4]||(Xe[4]=qr(Se=>ae("year"),["enter"])),onClick:Xe[5]||(Xe[5]=Se=>ae("year"))},Fe(M.value),43,$1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Te.disabled?void 0:0,"aria-disabled":Te.disabled,class:V([x(i).e("header-label"),{active:D.value==="month"}]),onKeydown:Xe[6]||(Xe[6]=qr(Se=>ae("month"),["enter"])),onClick:Xe[7]||(Xe[7]=Se=>ae("month"))},Fe(x(u)(`el.datepicker.month${$.value+1}`)),43,k1n),[[Sn,D.value==="date"]]),Z("span",{class:V(x(i).e("next-btn"))},[Lt(Z("button",{type:"button","aria-label":x(u)("el.datepicker.nextMonth"),class:V([x(o).e("icon-btn"),"arrow-right"]),disabled:x(ue),onClick:Xe[8]||(Xe[8]=Se=>P(!0))},[ce(Te.$slots,"next-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,E1n),[[Sn,D.value==="date"]]),Z("button",{type:"button","aria-label":x(u)("el.datepicker.nextYear"),class:V([x(o).e("icon-btn"),"d-arrow-right"]),disabled:x(ue),onClick:Xe[9]||(Xe[9]=Se=>I(!0))},[ce(Te.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,_1n)],2)],2),[[Sn,D.value!=="time"]]),Z("div",{class:V(x(o).e("content")),onKeydown:Ft},[D.value==="date"?(B(),pe(yH,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:w.value,"parsed-value":Te.parsedValue,"disabled-date":x(p),disabled:x(ue),"cell-class-name":x(g),"show-week-number":Te.showWeekNumber,onPick:R},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):fe("v-if",!0),D.value==="year"?(B(),pe(g_,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:w.value,"disabled-date":x(p),disabled:x(ue),"parsed-value":Te.parsedValue,"cell-class-name":x(g),onPick:re},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):fe("v-if",!0),D.value==="month"?(B(),pe(p_,{key:2,ref_key:"currentViewRef",ref:y,"selection-mode":W.value,date:w.value,"parsed-value":Te.parsedValue,"disabled-date":x(p),disabled:x(ue),"cell-class-name":x(g),onPick:G},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):fe("v-if",!0)],34)],2)],2),Te.showFooter&&J.value&&q.value?(B(),Y("div",{key:0,class:V(x(o).e("footer"))},[Lt(ee(x($o),{text:"",size:"small",class:V(x(o).e("link-btn")),disabled:se.value,onClick:de},{default:ie(()=>[tn(Fe(x(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Sn,!H.value&&Te.showNow]]),Te.showConfirm?(B(),pe(x($o),{key:0,plain:"",size:"small",class:V(x(o).e("link-btn")),disabled:L.value,onClick:Q},{default:ie(()=>[tn(Fe(x(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):fe("v-if",!0)],2)):fe("v-if",!0)],2))}});var A1n=Ve(T1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const I1n=Me({...YBe,...Bne}),N1n=e=>{const{emit:t}=Ut(),n=$p(),r=Ms();return o=>{const i=ft(o.value)?o.value():o.value;if(i){t("pick",[Mt(i[0]).locale(e.value),Mt(i[1]).locale(e.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},Wne=(e,{defaultValue:t,defaultTime:n,leftDate:r,rightDate:s,step:o,unit:i,sortDates:a})=>{const{emit:l}=Ut(),{pickerNs:u}=tt(Pne),c=Ae("date-range-picker"),{t:f,lang:d}=un(),h=N1n(d),p=j(),g=j(),m=j({endDate:null,selecting:!1}),v=S=>{m.value=S},y=(S=!1)=>{const $=x(p),k=x(g);h_([$,k])&&l("pick",[$,k],S)},w=S=>{m.value.selecting=S,S||(m.value.endDate=null)},b=S=>{if(De(S)&&S.length===2){const[$,k]=S;p.value=$,r.value=$,g.value=k,a(x(p),x(g))}else C()},C=()=>{let[S,$]=_5(x(t),{lang:x(d),step:o,unit:i,unlinkPanels:e.unlinkPanels});const k=_=>_.diff(_.startOf("d"),"ms"),T=x(n);if(T){let _=0,E=0;if(De(T)){const[A,N]=T.map(Mt);_=k(A),E=k(N)}else{const A=k(Mt(T));_=A,E=A}S=S.startOf("d").add(_,"ms"),$=$.startOf("d").add(E,"ms")}p.value=void 0,g.value=void 0,r.value=S,s.value=$};return xe(t,S=>{S&&C()},{immediate:!0}),xe(()=>e.parsedValue,S=>{(!S?.length||!Gr(S,[p.value,g.value]))&&b(S)},{immediate:!0}),xe(()=>e.visible,()=>{e.visible&&b(e.parsedValue)},{immediate:!0}),{minDate:p,maxDate:g,rangeState:m,lang:d,ppNs:u,drpNs:c,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:h,onSelect:w,parseValue:b,t:f}},D1n=(e,t,n,r)=>{const s=j("date"),o=j(),i=j("date"),a=j(),l=tt(qc),{disabledDate:u}=l.props,{t:c,lang:f}=un(),d=O(()=>n.value.year()),h=O(()=>n.value.month()),p=O(()=>r.value.year()),g=O(()=>r.value.month());function m(S,$){const k=c("el.datepicker.year");if(S.value==="year"){const T=Math.floor($.value/10)*10;return k?`${T} ${k} - ${T+9} ${k}`:`${T} - ${T+9}`}return`${$.value} ${k}`}function v(S){S?.focus()}async function y(S,$){if(e.disabled)return;const k=S==="left"?s:i,T=S==="left"?o:a;k.value=$,await Ye(),v(T.value)}async function w(S,$,k){if(e.disabled)return;const T=$==="left",_=T?n:r,E=T?r:n,A=T?s:i,N=T?o:a;if(S==="year"){const F=_.value.year(k);_.value=uM(F,f.value,u)}S==="month"&&(_.value=Vx(_.value,_.value.year(),k,f.value,u)),e.unlinkPanels||(E.value=$==="left"?_.value.add(1,"month"):_.value.subtract(1,"month")),A.value=S==="year"?"month":"date",await Ye(),v(N.value),b(S)}function b(S){t("panel-change",[n.value.toDate(),r.value.toDate()],S)}function C(S,$,k){const T=k?"add":"subtract";return S==="year"?$[T](10,"year"):$[T](1,"year")}return{leftCurrentView:s,rightCurrentView:i,leftCurrentViewRef:o,rightCurrentViewRef:a,leftYear:d,rightYear:p,leftMonth:h,rightMonth:g,leftYearLabel:O(()=>m(s,d)),rightYearLabel:O(()=>m(i,p)),showLeftPicker:S=>y("left",S),showRightPicker:S=>y("right",S),handleLeftYearPick:S=>w("year","left",S),handleRightYearPick:S=>w("year","right",S),handleLeftMonthPick:S=>w("month","left",S),handleRightMonthPick:S=>w("month","right",S),handlePanelChange:b,adjustDateByView:C}},O1n=["disabled","onClick"],R1n=["aria-label","disabled"],F1n=["aria-label","disabled"],M1n=["disabled","aria-label"],P1n=["disabled","aria-label"],L1n=["tabindex","aria-disabled"],B1n=["tabindex","aria-disabled"],z1n=["disabled","aria-label"],V1n=["disabled","aria-label"],W1n=["aria-label","disabled"],U1n=["disabled","aria-label"],j1n=["tabindex","aria-disabled"],H1n=["tabindex","aria-disabled"],LD="month",q1n=me({__name:"panel-date-range",props:I1n,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=t,s=tt(qc),o=tt(II,void 0),{disabledDate:i,cellClassName:a,defaultTime:l,clearable:u}=s.props,c=Bn(s.props,"format"),f=Bn(s.props,"shortcuts"),d=Bn(s.props,"defaultValue"),{lang:h}=un(),p=j(Mt().locale(h.value)),g=j(Mt().locale(h.value).add(1,LD)),{minDate:m,maxDate:v,rangeState:y,ppNs:w,drpNs:b,handleChangeRange:C,handleRangeConfirm:S,handleShortcutClick:$,onSelect:k,parseValue:T,t:_}=Wne(n,{defaultValue:d,defaultTime:l,leftDate:p,rightDate:g,unit:LD,sortDates:bs});xe(()=>n.visible,Ze=>{!Ze&&y.value.selecting&&(T(n.parsedValue),k(!1))});const E=j({min:null,max:null}),A=j({min:null,max:null}),{leftCurrentView:N,rightCurrentView:F,leftCurrentViewRef:R,rightCurrentViewRef:P,leftYear:I,rightYear:D,leftMonth:M,rightMonth:z,leftYearLabel:W,rightYearLabel:H,showLeftPicker:U,showRightPicker:K,handleLeftYearPick:G,handleRightYearPick:re,handleLeftMonthPick:ue,handleRightMonthPick:ae,handlePanelChange:X,adjustDateByView:J}=D1n(n,r,p,g),q=O(()=>!!f.value.length),L=O(()=>E.value.min!==null?E.value.min:m.value?m.value.format(ge.value):""),Q=O(()=>E.value.max!==null?E.value.max:v.value||m.value?(v.value||m.value).format(ge.value):""),se=O(()=>A.value.min!==null?A.value.min:m.value?m.value.format(he.value):""),de=O(()=>A.value.max!==null?A.value.max:v.value||m.value?(v.value||m.value).format(he.value):""),he=O(()=>n.timeFormat||sBe(c.value||"")||zx),ge=O(()=>n.dateFormat||rBe(c.value||"")||_g),$e=Ze=>h_(Ze)&&(i?!i(Ze[0].toDate())&&!i(Ze[1].toDate()):!0),He=()=>{p.value=J(N.value,p.value,!1),n.unlinkPanels||(g.value=p.value.add(1,"month")),X("year")},Ie=()=>{p.value=p.value.subtract(1,"month"),n.unlinkPanels||(g.value=p.value.add(1,"month")),X("month")},Ce=()=>{n.unlinkPanels?g.value=J(F.value,g.value,!0):(p.value=J(F.value,p.value,!0),g.value=p.value.add(1,"month")),X("year")},Re=()=>{n.unlinkPanels?g.value=g.value.add(1,"month"):(p.value=p.value.add(1,"month"),g.value=p.value.add(1,"month")),X("month")},ze=()=>{p.value=J(N.value,p.value,!0),X("year")},Ue=()=>{p.value=p.value.add(1,"month"),X("month")},rt=()=>{g.value=J(F.value,g.value,!1),X("year")},ht=()=>{g.value=g.value.subtract(1,"month"),X("month")},ye=O(()=>{const Ze=(M.value+1)%12,yt=M.value+1>=12?1:0;return n.unlinkPanels&&new Date(I.value+yt,Ze)<new Date(D.value,z.value)}),Ge=O(()=>n.unlinkPanels&&D.value*12+z.value-(I.value*12+M.value+1)>=12),at=jr(),cn=O(()=>!(m.value&&v.value&&!y.value.selecting&&h_([m.value,v.value])&&!at.value)),lt=O(()=>n.type==="datetime"||n.type==="datetimerange"),Ft=(Ze,yt)=>{if(Ze)return l?Mt(l[yt]||l).locale(h.value).year(Ze.year()).month(Ze.month()).date(Ze.date()):Ze},Dt=(Ze,yt=!0)=>{const Gt=Ze.minDate,ai=Ze.maxDate,lu=Ft(Gt,0),Ol=Ft(ai,1);v.value===Ol&&m.value===lu||(r("calendar-change",[Gt.toDate(),ai&&ai.toDate()]),v.value=Ol,m.value=lu,!lt.value&&yt&&(yt=!lu||!Ol),S(yt))},qt=j(!1),Te=j(!1),Xe=()=>{qt.value=!1},Se=()=>{Te.value=!1},ct=(Ze,yt)=>{E.value[yt]=Ze;const Gt=Mt(Ze,ge.value).locale(h.value);if(Gt.isValid()){if(i&&i(Gt.toDate()))return;yt==="min"?(p.value=Gt,m.value=(m.value||p.value).year(Gt.year()).month(Gt.month()).date(Gt.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(m.value))&&(g.value=Gt.add(1,"month"),v.value=m.value.add(1,"month"))):(g.value=Gt,v.value=(v.value||g.value).year(Gt.year()).month(Gt.month()).date(Gt.date()),!n.unlinkPanels&&(!m.value||m.value.isAfter(v.value))&&(p.value=Gt.subtract(1,"month"),m.value=v.value.subtract(1,"month"))),bs(m.value,v.value),S(!0)}},Yt=(Ze,yt)=>{E.value[yt]=null},Gn=(Ze,yt)=>{A.value[yt]=Ze;const Gt=Mt(Ze,he.value).locale(h.value);Gt.isValid()&&(yt==="min"?(qt.value=!0,m.value=(m.value||p.value).hour(Gt.hour()).minute(Gt.minute()).second(Gt.second()),p.value=m.value):(Te.value=!0,v.value=(v.value||g.value).hour(Gt.hour()).minute(Gt.minute()).second(Gt.second()),g.value=v.value))},Ne=(Ze,yt)=>{A.value[yt]=null,yt==="min"?(p.value=m.value,qt.value=!1,(!v.value||v.value.isBefore(m.value))&&(v.value=m.value)):(g.value=v.value,Te.value=!1,v.value&&v.value.isBefore(m.value)&&(m.value=v.value)),S(!0)},nt=(Ze,yt,Gt)=>{A.value.min||(Ze&&(m.value=(m.value||p.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second())),Gt||(qt.value=yt),(!v.value||v.value.isBefore(m.value))&&(v.value=m.value,g.value=Ze,Ye(()=>{T(n.parsedValue)})),S(!0))},wt=(Ze,yt,Gt)=>{A.value.max||(Ze&&(v.value=(v.value||g.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second())),Gt||(Te.value=yt),v.value&&v.value.isBefore(m.value)&&(m.value=v.value),S(!0))},Fr=()=>{let Ze=null;s?.emptyValues&&(Ze=s.emptyValues.valueOnClear.value),p.value=_5(x(d),{lang:x(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],g.value=p.value.add(1,"month"),v.value=void 0,m.value=void 0,S(!0),r("pick",Ze)},da=Ze=>Wx(Ze,c.value||"",h.value,o);function bs(Ze,yt){if(n.unlinkPanels&&yt){const Gt=Ze?.year()||0,ai=Ze?.month()||0,lu=yt.year(),Ol=yt.month();g.value=Gt===lu&&ai===Ol?yt.add(1,LD):yt}else g.value=p.value.add(1,LD),yt&&(g.value=g.value.hour(yt.hour()).minute(yt.minute()).second(yt.second()))}return r("set-picker-option",["isValidValue",$e]),r("set-picker-option",["parseUserInput",da]),r("set-picker-option",["handleClear",Fr]),(Ze,yt)=>(B(),Y("div",{class:V([x(w).b(),x(b).b(),x(w).is("border",Ze.border),x(w).is("disabled",x(at)),{"has-sidebar":Ze.$slots.sidebar||q.value,"has-time":lt.value}])},[Z("div",{class:V(x(w).e("body-wrapper"))},[ce(Ze.$slots,"sidebar",{class:V(x(w).e("sidebar"))}),q.value?(B(),Y("div",{key:0,class:V(x(w).e("sidebar"))},[(B(!0),Y(it,null,Xt(f.value,(Gt,ai)=>(B(),Y("button",{key:ai,type:"button",disabled:x(at),class:V(x(w).e("shortcut")),onClick:lu=>x($)(Gt)},Fe(Gt.text),11,O1n))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(w).e("body"))},[lt.value?(B(),Y("div",{key:0,class:V(x(b).e("time-header"))},[Z("span",{class:V(x(b).e("editors-wrap"))},[Z("span",{class:V(x(b).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.startDate"),class:V(x(b).e("editor")),"model-value":L.value,"validate-event":!1,readonly:!Ze.editable,onInput:yt[0]||(yt[0]=Gt=>ct(Gt,"min")),onChange:yt[1]||(yt[1]=Gt=>Yt(Gt,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),Lt((B(),Y("span",{class:V(x(b).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(b).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.startTime"),"model-value":se.value,"validate-event":!1,readonly:!Ze.editable,onFocus:yt[2]||(yt[2]=Gt=>qt.value=!0),onInput:yt[3]||(yt[3]=Gt=>Gn(Gt,"min")),onChange:yt[4]||(yt[4]=Gt=>Ne(Gt,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ee(x(aM),{visible:qt.value,format:he.value,"datetime-role":"start","parsed-value":x(m)||p.value,onPick:nt},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Xe]])],2),Z("span",null,[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})]),Z("span",{class:V([x(b).e("editors-wrap"),"is-right"])},[Z("span",{class:V(x(b).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(b).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.endDate"),"model-value":Q.value,readonly:!x(m)||!Ze.editable,"validate-event":!1,onInput:yt[5]||(yt[5]=Gt=>ct(Gt,"max")),onChange:yt[6]||(yt[6]=Gt=>Yt(Gt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Lt((B(),Y("span",{class:V(x(b).e("time-picker-wrap"))},[ee(x(Xi),{size:"small",class:V(x(b).e("editor")),disabled:x(y).selecting||x(at),placeholder:x(_)("el.datepicker.endTime"),"model-value":de.value,readonly:!x(m)||!Ze.editable,"validate-event":!1,onFocus:yt[7]||(yt[7]=Gt=>x(m)&&(Te.value=!0)),onInput:yt[8]||(yt[8]=Gt=>Gn(Gt,"max")),onChange:yt[9]||(yt[9]=Gt=>Ne(Gt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ee(x(aM),{"datetime-role":"end",visible:Te.value,format:he.value,"parsed-value":x(v)||g.value,onPick:wt},null,8,["visible","format","parsed-value"])],2)),[[x(Jm),Se]])],2)],2)):fe("v-if",!0),Z("div",{class:V([[x(w).e("content"),x(b).e("content")],"is-left"])},[Z("div",{class:V(x(b).e("header"))},[Z("button",{type:"button",class:V([x(w).e("icon-btn"),"d-arrow-left"]),"aria-label":x(_)("el.datepicker.prevYear"),disabled:x(at),onClick:He},[ce(Ze.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,R1n),Lt(Z("button",{type:"button",class:V([x(w).e("icon-btn"),"arrow-left"]),"aria-label":x(_)("el.datepicker.prevMonth"),disabled:x(at),onClick:Ie},[ce(Ze.$slots,"prev-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,F1n),[[Sn,x(N)==="date"]]),Ze.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!Ge.value||x(at),class:V([[x(w).e("icon-btn"),x(w).is("disabled",!Ge.value||x(at))],"d-arrow-right"]),"aria-label":x(_)("el.datepicker.nextYear"),onClick:ze},[ce(Ze.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,M1n)):fe("v-if",!0),Ze.unlinkPanels&&x(N)==="date"?(B(),Y("button",{key:1,type:"button",disabled:!ye.value||x(at),class:V([[x(w).e("icon-btn"),x(w).is("disabled",!ye.value||x(at))],"arrow-right"]),"aria-label":x(_)("el.datepicker.nextMonth"),onClick:Ue},[ce(Ze.$slots,"next-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,P1n)):fe("v-if",!0),Z("div",null,[Z("span",{role:"button",class:V(x(b).e("header-label")),"aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,onKeydown:yt[10]||(yt[10]=qr(Gt=>x(U)("year"),["enter"])),onClick:yt[11]||(yt[11]=Gt=>x(U)("year"))},Fe(x(W)),43,L1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,class:V([x(b).e("header-label"),{active:x(N)==="month"}]),onKeydown:yt[12]||(yt[12]=qr(Gt=>x(U)("month"),["enter"])),onClick:yt[13]||(yt[13]=Gt=>x(U)("month"))},Fe(x(_)(`el.datepicker.month${p.value.month()+1}`)),43,B1n),[[Sn,x(N)==="date"]])])],2),x(N)==="date"?(B(),pe(yH,{key:0,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"range",date:p.value,"min-date":x(m),"max-date":x(v),"range-state":x(y),"disabled-date":x(i),"cell-class-name":x(a),"show-week-number":Ze.showWeekNumber,disabled:x(at),onChangerange:x(C),onPick:Dt,onSelect:x(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):fe("v-if",!0),x(N)==="year"?(B(),pe(g_,{key:1,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"year",date:p.value,"disabled-date":x(i),"parsed-value":Ze.parsedValue,disabled:x(at),onPick:x(G)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):fe("v-if",!0),x(N)==="month"?(B(),pe(p_,{key:2,ref_key:"leftCurrentViewRef",ref:R,"selection-mode":"month",date:p.value,"parsed-value":Ze.parsedValue,"disabled-date":x(i),disabled:x(at),onPick:x(ue)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):fe("v-if",!0)],2),Z("div",{class:V([[x(w).e("content"),x(b).e("content")],"is-right"])},[Z("div",{class:V(x(b).e("header"))},[Ze.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!Ge.value||x(at),class:V([x(w).e("icon-btn"),"d-arrow-left"]),"aria-label":x(_)("el.datepicker.prevYear"),onClick:rt},[ce(Ze.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,z1n)):fe("v-if",!0),Ze.unlinkPanels&&x(F)==="date"?(B(),Y("button",{key:1,type:"button",disabled:!ye.value||x(at),class:V([x(w).e("icon-btn"),"arrow-left"]),"aria-label":x(_)("el.datepicker.prevMonth"),onClick:ht},[ce(Ze.$slots,"prev-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1})])],10,V1n)):fe("v-if",!0),Z("button",{type:"button","aria-label":x(_)("el.datepicker.nextYear"),class:V([x(w).e("icon-btn"),"d-arrow-right"]),disabled:x(at),onClick:Ce},[ce(Ze.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,W1n),Lt(Z("button",{type:"button",class:V([x(w).e("icon-btn"),"arrow-right"]),disabled:x(at),"aria-label":x(_)("el.datepicker.nextMonth"),onClick:Re},[ce(Ze.$slots,"next-month",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})])],10,U1n),[[Sn,x(F)==="date"]]),Z("div",null,[Z("span",{role:"button",class:V(x(b).e("header-label")),"aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,onKeydown:yt[14]||(yt[14]=qr(Gt=>x(K)("year"),["enter"])),onClick:yt[15]||(yt[15]=Gt=>x(K)("year"))},Fe(x(H)),43,j1n),Lt(Z("span",{role:"button","aria-live":"polite",tabindex:Ze.disabled?void 0:0,"aria-disabled":Ze.disabled,class:V([x(b).e("header-label"),{active:x(F)==="month"}]),onKeydown:yt[16]||(yt[16]=qr(Gt=>x(K)("month"),["enter"])),onClick:yt[17]||(yt[17]=Gt=>x(K)("month"))},Fe(x(_)(`el.datepicker.month${g.value.month()+1}`)),43,H1n),[[Sn,x(F)==="date"]])])],2),x(F)==="date"?(B(),pe(yH,{key:0,ref_key:"rightCurrentViewRef",ref:P,"selection-mode":"range",date:g.value,"min-date":x(m),"max-date":x(v),"range-state":x(y),"disabled-date":x(i),"cell-class-name":x(a),"show-week-number":Ze.showWeekNumber,disabled:x(at),onChangerange:x(C),onPick:Dt,onSelect:x(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):fe("v-if",!0),x(F)==="year"?(B(),pe(g_,{key:1,ref_key:"rightCurrentViewRef",ref:P,"selection-mode":"year",date:g.value,"disabled-date":x(i),"parsed-value":Ze.parsedValue,disabled:x(at),onPick:x(re)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):fe("v-if",!0),x(F)==="month"?(B(),pe(p_,{key:2,ref_key:"rightCurrentViewRef",ref:P,"selection-mode":"month",date:g.value,"parsed-value":Ze.parsedValue,"disabled-date":x(i),disabled:x(at),onPick:x(ae)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):fe("v-if",!0)],2)],2)],2),Ze.showFooter&&lt.value&&(Ze.showConfirm||x(u))?(B(),Y("div",{key:0,class:V(x(w).e("footer"))},[x(u)?(B(),pe(x($o),{key:0,text:"",size:"small",class:V(x(w).e("link-btn")),onClick:Fr},{default:ie(()=>[tn(Fe(x(_)("el.datepicker.clear")),1)]),_:1},8,["class"])):fe("v-if",!0),Ze.showConfirm?(B(),pe(x($o),{key:1,plain:"",size:"small",class:V(x(w).e("link-btn")),disabled:cn.value,onClick:yt[18]||(yt[18]=Gt=>x(S)(!1))},{default:ie(()=>[tn(Fe(x(_)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):fe("v-if",!0)],2)):fe("v-if",!0)],2))}});var G1n=Ve(q1n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const K1n=Me({...Bne}),Y1n=["pick","set-picker-option","calendar-change"],X1n=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=un(),s=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},o=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},i=()=>{t.value=t.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},l=O(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=O(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=O(()=>t.value.year()),f=O(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:o,leftNextYear:i,rightPrevYear:a,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},Z1n=["disabled","onClick"],J1n=["disabled"],Q1n=["disabled"],eyn=["disabled"],tyn=["disabled"],BD="year",nyn=me({name:"DatePickerMonthRange",__name:"panel-month-range",props:K1n,emits:Y1n,setup(e,{emit:t}){const n=e,r=t,{lang:s}=un(),o=tt(qc),i=tt(II,void 0),{shortcuts:a,disabledDate:l,cellClassName:u}=o.props,c=Bn(o.props,"format"),f=Bn(o.props,"defaultValue"),d=j(Mt().locale(s.value)),h=j(Mt().locale(s.value).add(1,BD)),{minDate:p,maxDate:g,rangeState:m,ppNs:v,drpNs:y,handleChangeRange:w,handleRangeConfirm:b,handleShortcutClick:C,onSelect:S,parseValue:$}=Wne(n,{defaultValue:f,leftDate:d,rightDate:h,unit:BD,sortDates:W}),k=O(()=>!!a.length),{leftPrevYear:T,rightNextYear:_,leftNextYear:E,rightPrevYear:A,leftLabel:N,rightLabel:F,leftYear:R,rightYear:P}=X1n({unlinkPanels:Bn(n,"unlinkPanels"),leftDate:d,rightDate:h}),I=O(()=>n.unlinkPanels&&P.value>R.value+1),D=(U,K=!0)=>{const G=U.minDate,re=U.maxDate;g.value===re&&p.value===G||(r("calendar-change",[G.toDate(),re&&re.toDate()]),g.value=re,p.value=G,K&&b())},M=()=>{let U=null;o?.emptyValues&&(U=o.emptyValues.valueOnClear.value),d.value=_5(x(f),{lang:x(s),unit:"year",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"year"),r("pick",U)},z=U=>Wx(U,c.value,s.value,i);function W(U,K){if(n.unlinkPanels&&K){const G=U?.year()||0,re=K.year();h.value=G===re?K.add(1,BD):K}else h.value=d.value.add(1,BD)}const H=jr();return xe(()=>n.visible,U=>{!U&&m.value.selecting&&($(n.parsedValue),S(!1))}),r("set-picker-option",["isValidValue",h_]),r("set-picker-option",["parseUserInput",z]),r("set-picker-option",["handleClear",M]),(U,K)=>(B(),Y("div",{class:V([x(v).b(),x(y).b(),x(v).is("border",U.border),x(v).is("disabled",x(H)),{"has-sidebar":!!U.$slots.sidebar||k.value}])},[Z("div",{class:V(x(v).e("body-wrapper"))},[ce(U.$slots,"sidebar",{class:V(x(v).e("sidebar"))}),k.value?(B(),Y("div",{key:0,class:V(x(v).e("sidebar"))},[(B(!0),Y(it,null,Xt(x(a),(G,re)=>(B(),Y("button",{key:re,type:"button",class:V(x(v).e("shortcut")),disabled:x(H),onClick:ue=>x(C)(G)},Fe(G.text),11,Z1n))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(v).e("body"))},[Z("div",{class:V([[x(v).e("content"),x(y).e("content")],"is-left"])},[Z("div",{class:V(x(y).e("header"))},[Z("button",{type:"button",class:V([x(v).e("icon-btn"),"d-arrow-left"]),disabled:x(H),onClick:K[0]||(K[0]=(...G)=>x(T)&&x(T)(...G))},[ce(U.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,J1n),U.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!I.value||x(H),class:V([[x(v).e("icon-btn"),x(v).is("disabled",!I.value||x(H))],"d-arrow-right"]),onClick:K[1]||(K[1]=(...G)=>x(E)&&x(E)(...G))},[ce(U.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,Q1n)):fe("v-if",!0),Z("div",null,Fe(x(N)),1)],2),ee(p_,{"selection-mode":"range",date:d.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(l),disabled:x(H),"cell-class-name":x(u),onChangerange:x(w),onPick:D,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:V([[x(v).e("content"),x(y).e("content")],"is-right"])},[Z("div",{class:V(x(y).e("header"))},[U.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!I.value||x(H),class:V([[x(v).e("icon-btn"),x(v).is("disabled",!I.value||x(H))],"d-arrow-left"]),onClick:K[2]||(K[2]=(...G)=>x(A)&&x(A)(...G))},[ce(U.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,eyn)):fe("v-if",!0),Z("button",{type:"button",class:V([x(v).e("icon-btn"),"d-arrow-right"]),disabled:x(H),onClick:K[3]||(K[3]=(...G)=>x(_)&&x(_)(...G))},[ce(U.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,tyn),Z("div",null,Fe(x(F)),1)],2),ee(p_,{"selection-mode":"range",date:h.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(l),disabled:x(H),"cell-class-name":x(u),onChangerange:x(w),onPick:D,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var ryn=Ve(nyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const syn=Me({...Bne}),oyn=["pick","set-picker-option","calendar-change"],iyn=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},s=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{t.value=t.value.add(10,"year")},i=()=>{n.value=n.value.subtract(10,"year")},a=O(()=>{const f=Math.floor(t.value.year()/10)*10;return`${f}-${f+9}`}),l=O(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=O(()=>Math.floor(t.value.year()/10)*10+9),c=O(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:s,leftNextYear:o,rightPrevYear:i,leftLabel:a,rightLabel:l,leftYear:u,rightYear:c}},ayn=["disabled","onClick"],lyn=["disabled"],uyn=["disabled"],cyn=["disabled"],fyn=["disabled"],Nb=10,YS="year",dyn=me({name:"DatePickerYearRange",__name:"panel-year-range",props:syn,emits:oyn,setup(e,{emit:t}){const n=e,r=t,{lang:s}=un(),o=j(Mt().locale(s.value)),i=j(Mt().locale(s.value).add(Nb,YS)),a=tt(II,void 0),l=tt(qc),{shortcuts:u,disabledDate:c,cellClassName:f}=l.props,d=Bn(l.props,"format"),h=Bn(l.props,"defaultValue"),{minDate:p,maxDate:g,rangeState:m,ppNs:v,drpNs:y,handleChangeRange:w,handleRangeConfirm:b,handleShortcutClick:C,onSelect:S,parseValue:$}=Wne(n,{defaultValue:h,leftDate:o,rightDate:i,step:Nb,unit:YS,sortDates:re}),{leftPrevYear:k,rightNextYear:T,leftNextYear:_,rightPrevYear:E,leftLabel:A,rightLabel:N,leftYear:F,rightYear:R}=iyn({unlinkPanels:Bn(n,"unlinkPanels"),leftDate:o,rightDate:i}),P=jr(),I=O(()=>!!u.length),D=O(()=>[v.b(),y.b(),v.is("border",n.border),v.is("disabled",P.value),{"has-sidebar":!!Ms().sidebar||I.value}]),M=O(()=>({content:[v.e("content"),y.e("content"),"is-left"],arrowLeftBtn:[v.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),v.is("disabled",!W.value||P.value),"d-arrow-right"]})),z=O(()=>({content:[v.e("content"),y.e("content"),"is-right"],arrowLeftBtn:[v.e("icon-btn"),v.is("disabled",!W.value||P.value),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),"d-arrow-right"]})),W=O(()=>n.unlinkPanels&&R.value>F.value+1),H=(ue,ae=!0)=>{const X=ue.minDate,J=ue.maxDate;g.value===J&&p.value===X||(r("calendar-change",[X.toDate(),J&&J.toDate()]),g.value=J,p.value=X,ae&&b())},U=ue=>Wx(ue,d.value,s.value,a),K=ue=>h_(ue)&&(c?!c(ue[0].toDate())&&!c(ue[1].toDate()):!0),G=()=>{let ue=null;l?.emptyValues&&(ue=l.emptyValues.valueOnClear.value);const ae=_5(x(h),{lang:x(s),step:Nb,unit:YS,unlinkPanels:n.unlinkPanels});o.value=ae[0],i.value=ae[1],r("pick",ue)};function re(ue,ae){if(n.unlinkPanels&&ae){const X=ue?.year()||0,J=ae.year();i.value=X+Nb>J?ae.add(Nb,YS):ae}else i.value=o.value.add(Nb,YS)}return xe(()=>n.visible,ue=>{!ue&&m.value.selecting&&($(n.parsedValue),S(!1))}),r("set-picker-option",["isValidValue",K]),r("set-picker-option",["parseUserInput",U]),r("set-picker-option",["handleClear",G]),(ue,ae)=>(B(),Y("div",{class:V(D.value)},[Z("div",{class:V(x(v).e("body-wrapper"))},[ce(ue.$slots,"sidebar",{class:V(x(v).e("sidebar"))}),I.value?(B(),Y("div",{key:0,class:V(x(v).e("sidebar"))},[(B(!0),Y(it,null,Xt(x(u),(X,J)=>(B(),Y("button",{key:J,type:"button",class:V(x(v).e("shortcut")),disabled:x(P),onClick:q=>x(C)(X)},Fe(X.text),11,ayn))),128))],2)):fe("v-if",!0),Z("div",{class:V(x(v).e("body"))},[Z("div",{class:V(M.value.content)},[Z("div",{class:V(x(y).e("header"))},[Z("button",{type:"button",class:V(M.value.arrowLeftBtn),disabled:x(P),onClick:ae[0]||(ae[0]=(...X)=>x(k)&&x(k)(...X))},[ce(ue.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,lyn),ue.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!W.value||x(P),class:V(M.value.arrowRightBtn),onClick:ae[1]||(ae[1]=(...X)=>x(_)&&x(_)(...X))},[ce(ue.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,uyn)):fe("v-if",!0),Z("div",null,Fe(x(A)),1)],2),ee(g_,{"selection-mode":"range",date:o.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(c),disabled:x(P),"cell-class-name":x(f),onChangerange:x(w),onPick:H,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:V(z.value.content)},[Z("div",{class:V(x(y).e("header"))},[ue.unlinkPanels?(B(),Y("button",{key:0,type:"button",disabled:!W.value||x(P),class:V(z.value.arrowLeftBtn),onClick:ae[2]||(ae[2]=(...X)=>x(E)&&x(E)(...X))},[ce(ue.$slots,"prev-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Ym))]),_:1})])],10,cyn)):fe("v-if",!0),Z("button",{type:"button",class:V(z.value.arrowRightBtn),disabled:x(P),onClick:ae[3]||(ae[3]=(...X)=>x(T)&&x(T)(...X))},[ce(ue.$slots,"next-year",{},()=>[ee(x(st),null,{default:ie(()=>[ee(x(Xm))]),_:1})])],10,fyn),Z("div",null,Fe(x(N)),1)],2),ee(g_,{"selection-mode":"range",date:i.value,"min-date":x(p),"max-date":x(g),"range-state":x(m),"disabled-date":x(c),disabled:x(P),"cell-class-name":x(f),onChangerange:x(w),onPick:H,onSelect:x(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var hyn=Ve(dyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const pyn=function(e){switch(e){case"daterange":case"datetimerange":return G1n;case"monthrange":return ryn;case"yearrange":return hyn;default:return A1n}};function gyn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}Mt.extend(iBe);Mt.extend(Ovn);Mt.extend(One);Mt.extend(Pvn);Mt.extend(Vvn);Mt.extend(Hvn);Mt.extend(Yvn);Mt.extend(Qvn);var myn=me({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:e1n,emits:[Et,"calendar-change","panel-change","visible-change"],setup(e,{slots:t,emit:n,attrs:r}){const s=Ae("picker-panel"),o=tt(qc,void 0);if(yn(o)){const f=In({...ao(e)});ln(qc,{props:f})}ln(Pne,{slots:t,pickerNs:s});const{parsedValue:i,onCalendarChange:a,onPanelChange:l,onSetPickerOption:u,onPick:c}=tt(VBe,()=>WBe(e,n),!0);return()=>{const f=pyn(e.type);return ee(f,Wt(vI(r,"onPick"),e,{parsedValue:i.value,"onSet-picker-option":u,"onCalendar-change":a,"onPanel-change":l,onPick:c}),gyn(t)?t:{default:()=>[t]})}}});const XBe=Rt(myn),vyn=Me({...Mne,type:{type:oe(String),default:"date"}});function yyn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}var byn=me({name:"ElDatePicker",install:null,props:vyn,emits:[Et],setup(e,{expose:t,emit:n,slots:r}){const s=O(()=>!e.format);ln(II,s),ln(Rne,In(Bn(e,"popperOptions")));const o=j();t({focus:()=>{var l;(l=o.value)==null||l.focus()},blur:()=>{var l;(l=o.value)==null||l.blur()},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const a=l=>{n(Et,l)};return()=>{var l;const u=(l=e.format)!=null?l:uvn[e.type]||_g;return ee(jBe,Wt(e,{format:u,type:e.type,ref:o,"onUpdate:modelValue":a}),{default:c=>ee(XBe,Wt({disabled:e.disabled,editable:e.editable,border:!1},c),yyn(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const wyn=Rt(byn),Une=Symbol("elDescriptions");var XS=me({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:tt(Une,{})}},render(){var e,t,n,r;const s=Ign(this.cell),o=(((e=this.cell)==null?void 0:e.dirs)||[]).map(b=>{const{dir:C,arg:S,modifiers:$,value:k}=b;return[C,k,S,$]}),{border:i,direction:a}=this.descriptions,l=a==="vertical",u=()=>{var b,C,S;return((S=(C=(b=this.cell)==null?void 0:b.children)==null?void 0:C.label)==null?void 0:S.call(C))||s.label},c=()=>{var b,C,S;return(S=(C=(b=this.cell)==null?void 0:b.children)==null?void 0:C.default)==null?void 0:S.call(C)},f=s.span,d=s.rowspan,h=s.align?`is-${s.align}`:"",p=s.labelAlign?`is-${s.labelAlign}`:h,g=s.className,m=s.labelClassName,v=this.type==="label"&&(n=(t=s.labelWidth)!=null?t:this.descriptions.labelWidth)!=null?n:s.width,y={width:Vr(v),minWidth:Vr(s.minWidth)},w=Ae("descriptions");switch(this.type){case"label":return Lt(bt(this.tag,{style:y,class:[w.e("cell"),w.e("label"),w.is("bordered-label",i),w.is("vertical-label",l),p,m],colSpan:l?f:1,rowspan:l?1:d},u()),o);case"content":return Lt(bt(this.tag,{style:y,class:[w.e("cell"),w.e("content"),w.is("bordered-content",i),w.is("vertical-content",l),h,g],colSpan:l?f:f*2-1,rowspan:l?d*2-1:d},c()),o);default:{const b=u(),C={},S=Vr((r=s.labelWidth)!=null?r:this.descriptions.labelWidth);return S&&(C.width=S,C.display="inline-block"),Lt(bt("td",{style:y,class:[w.e("cell"),h],colSpan:f,rowspan:d},[vs(b)?void 0:bt("span",{style:C,class:[w.e("label"),m]},b),bt("span",{class:[w.e("content"),g]},c())]),o)}}}});const xyn=Me({row:{type:oe(Array),default:()=>[]}}),Cyn={key:1},Syn=me({name:"ElDescriptionsRow",__name:"descriptions-row",props:xyn,setup(e){const t=tt(Une,{});return(n,r)=>x(t).direction==="vertical"?(B(),Y(it,{key:0},[Z("tr",null,[(B(!0),Y(it,null,Xt(n.row,(s,o)=>(B(),pe(x(XS),{key:`tr1-${o}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(B(!0),Y(it,null,Xt(n.row,(s,o)=>(B(),pe(x(XS),{key:`tr2-${o}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(B(),Y("tr",Cyn,[(B(!0),Y(it,null,Xt(n.row,(s,o)=>(B(),Y(it,{key:`tr3-${o}`},[x(t).border?(B(),Y(it,{key:0},[ee(x(XS),{cell:s,tag:"td",type:"label"},null,8,["cell"]),ee(x(XS),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(B(),pe(x(XS),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var $yn=Ve(Syn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const kyn=Me({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:js,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number]}}),ZBe="ElDescriptionsItem",Eyn=me({name:"ElDescriptions",__name:"description",props:kyn,setup(e){const t=e,n=Ae("descriptions"),r=Fs(),s=Ms();ln(Une,t);const o=O(()=>[n.b(),n.m(r.value)]),i=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),a=()=>{if(!s.default)return[];const l=Cc(s.default()).filter(p=>{var g;return((g=p?.type)==null?void 0:g.name)===ZBe}),u=[];let c=[],f=t.column,d=0;const h=[];return l.forEach((p,g)=>{var m,v,y;const w=((m=p.props)==null?void 0:m.span)||1,b=((v=p.props)==null?void 0:v.rowspan)||1,C=u.length;if(h[C]||(h[C]=0),b>1)for(let S=1;S<b;S++)h[y=C+S]||(h[y]=0),h[C+S]++,d++;if(h[C]>0&&(f-=h[C],h[C]=0),g<l.length-1&&(d+=w>f?f:w),g===l.length-1){const S=t.column-d%t.column;c.push(i(p,S,f,!0)),u.push(c);return}w<f?(f-=w,c.push(p)):(c.push(i(p,w,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(B(),Y("div",{class:V(o.value)},[l.title||l.extra||l.$slots.title||l.$slots.extra?(B(),Y("div",{key:0,class:V(x(n).e("header"))},[Z("div",{class:V(x(n).e("title"))},[ce(l.$slots,"title",{},()=>[tn(Fe(l.title),1)])],2),Z("div",{class:V(x(n).e("extra"))},[ce(l.$slots,"extra",{},()=>[tn(Fe(l.extra),1)])],2)],2)):fe("v-if",!0),Z("div",{class:V(x(n).e("body"))},[Z("table",{class:V([x(n).e("table"),x(n).is("bordered",l.border)])},[Z("tbody",null,[(B(!0),Y(it,null,Xt(a(),(c,f)=>(B(),pe($yn,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var _yn=Ve(Eyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]);const Hme=["left","center","right"],Tyn=Me({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number]},align:{type:String,values:Hme,default:"left"},labelAlign:{type:String,values:Hme},className:{type:String,default:""},labelClassName:{type:String,default:""}}),JBe=me({name:ZBe,props:Tyn}),Ayn=Rt(_yn,{DescriptionsItem:JBe}),Iyn=Ur(JBe),jne=e=>{if(!e)return{onClick:Rn,onMousedown:Rn,onMouseup:Rn};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},Nyn=Me({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:oe([String,Array,Object])},zIndex:{type:oe([String,Number])}}),Dyn={click:e=>e instanceof MouseEvent},Oyn="overlay";var Ryn=me({name:"ElOverlay",props:Nyn,emits:Dyn,setup(e,{slots:t,emit:n}){const r=Ae(Oyn),s=l=>{n("click",l)},{onClick:o,onMousedown:i,onMouseup:a}=jne(e.customMaskEvent?void 0:s);return()=>e.mask?ee("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:a},[ce(t,"default")],vu.STYLE|vu.CLASS|vu.PROPS,["onClick","onMouseup","onMousedown"]):bt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ce(t,"default")])}});const Hne=Ryn,QBe=Symbol("dialogInjectionKey"),qme="dialog-fade",e6e=Me({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:zn},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Fyn={close:()=>!0},t6e=(e,t,n,r)=>{const s={offsetX:0,offsetY:0},o=j(!1),i=(d,h)=>{if(e.value){const{offsetX:p,offsetY:g}=s,m=e.value.getBoundingClientRect(),v=m.left,y=m.top,w=m.width,b=m.height,C=document.documentElement.clientWidth,S=document.documentElement.clientHeight,$=-v+p,k=-y+g,T=C-v-w+p,_=S-y-(b<S?b:0)+g;r?.value||(d=Math.min(Math.max(d,$),T),h=Math.min(Math.max(h,k),_)),s.offsetX=d,s.offsetY=h,e.value.style.transform=`translate(${Vr(d)}, ${Vr(h)})`}},a=d=>{const h=d.clientX,p=d.clientY,{offsetX:g,offsetY:m}=s,v=w=>{o.value||(o.value=!0);const b=g+w.clientX-h,C=m+w.clientY-p;i(b,C)},y=()=>{o.value=!1,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},l=()=>{t.value&&e.value&&(t.value.addEventListener("mousedown",a),window.addEventListener("resize",f))},u=()=>{t.value&&e.value&&(t.value.removeEventListener("mousedown",a),window.removeEventListener("resize",f))},c=()=>{s.offsetX=0,s.offsetY=0,e.value&&(e.value.style.transform="")},f=()=>{const{offsetX:d,offsetY:h}=s;i(d,h)};return Ht(()=>{gl(()=>{n.value?l():u()})}),Dn(()=>{u()}),{isDragging:o,resetPosition:c,updatePosition:f}},qne=(...e)=>t=>{e.forEach(n=>{n.value=t})},Myn=["aria-level"],Pyn=["aria-label"],Lyn=["id"],Byn=me({name:"ElDialogContent",__name:"dialog-content",props:e6e,emits:Fyn,setup(e,{expose:t}){const{t:n}=un(),{Close:r}=yLe,s=e,{dialogRef:o,headerRef:i,bodyId:a,ns:l,style:u}=tt(QBe),{focusTrapRef:c}=tt(DLe),f=qne(c,o),d=O(()=>!!s.draggable),h=O(()=>!!s.overflow),{resetPosition:p,updatePosition:g,isDragging:m}=t6e(o,i,d,h),v=O(()=>[l.b(),l.is("fullscreen",s.fullscreen),l.is("draggable",d.value),l.is("dragging",m.value),l.is("align-center",!!s.alignCenter),{[l.m("center")]:s.center}]);return t({resetPosition:p,updatePosition:g}),(y,w)=>(B(),Y("div",{ref:x(f),class:V(v.value),style:dt(x(u)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:i,class:V([x(l).e("header"),y.headerClass,{"show-close":y.showClose}])},[ce(y.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":y.ariaLevel,class:V(x(l).e("title"))},Fe(y.title),11,Myn)]),y.showClose?(B(),Y("button",{key:0,"aria-label":x(n)("el.dialog.close"),class:V(x(l).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=b=>y.$emit("close"))},[ee(x(st),{class:V(x(l).e("close"))},{default:ie(()=>[(B(),pe(zt(y.closeIcon||x(r))))]),_:1},8,["class"])],10,Pyn)):fe("v-if",!0)],2),Z("div",{id:x(a),class:V([x(l).e("body"),y.bodyClass])},[ce(y.$slots,"default")],10,Lyn),y.$slots.footer?(B(),Y("footer",{key:0,class:V([x(l).e("footer"),y.footerClass])},[ce(y.$slots,"footer")],2)):fe("v-if",!0)],6))}});var zyn=Ve(Byn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const n6e=Me({...e6e,appendToBody:Boolean,appendTo:{type:SI.to.type,default:"body"},beforeClose:{type:oe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:oe([String,Object]),default:void 0}}),r6e={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Et]:e=>Ln(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},T5=(e,t={})=>{fr(e)||Ts("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Ae("popup"),r=O(()=>n.bm("parent","hidden"));let s=0,o=!1,i="0";const a=()=>{setTimeout(()=>{typeof document>"u"||o&&document&&(document.body.style.width=i,ia(document.body,r.value))},200)};xe(e,l=>{if(!l){a();return}o=!td(document.body,r.value),o&&(i=document.body.style.width,Tu(document.body,r.value)),s=dLe(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=Th(document.body,"overflowY");s>0&&(u||c==="scroll")&&o&&(document.body.style.width=`calc(100% - ${s}px)`)}),fve(()=>a())},s6e=(e,t)=>{var n;const s=Ut().emit,{nextZIndex:o}=xI();let i="";const a=Yo(),l=Yo(),u=j(!1),c=j(!1),f=j(!1),d=j((n=e.zIndex)!=null?n:o()),h=j(!1);let p,g;const m=GC(),v=O(()=>{var H,U;return(U=(H=m.value)==null?void 0:H.namespace)!=null?U:fk}),y=O(()=>{var H;return(H=m.value)==null?void 0:H.dialog}),w=O(()=>{const H={},U=`--${v.value}-dialog`;if(!e.fullscreen){e.top&&(H[`${U}-margin-top`]=e.top);const K=Vr(e.width);K&&(H[`${U}-width`]=K)}return H}),b=O(()=>{var H,U,K;return((K=(U=e.draggable)!=null?U:(H=y.value)==null?void 0:H.draggable)!=null?K:!1)&&!e.fullscreen}),C=O(()=>{var H,U,K;return(K=(U=e.alignCenter)!=null?U:(H=y.value)==null?void 0:H.alignCenter)!=null?K:!1}),S=O(()=>{var H,U,K;return(K=(U=e.overflow)!=null?U:(H=y.value)==null?void 0:H.overflow)!=null?K:!1}),$=O(()=>C.value?{display:"flex"}:{}),k=O(()=>{var H,U,K;const G=(K=(U=e.transition)!=null?U:(H=y.value)==null?void 0:H.transition)!=null?K:qme,re={name:G,onAfterEnter:T,onBeforeLeave:E,onAfterLeave:_};if(Pt(G)){const ue={...G},ae=(X,J)=>q=>{De(X)?X.forEach(L=>{ft(L)&&L(q)}):ft(X)&&X(q),J()};return ue.onAfterEnter=ae(ue.onAfterEnter,T),ue.onBeforeLeave=ae(ue.onBeforeLeave,E),ue.onAfterLeave=ae(ue.onAfterLeave,_),ue.name||(ue.name=qme),ue}return re});function T(){s("opened")}function _(){s("closed"),s(Et,!1),e.destroyOnClose&&(f.value=!1),h.value=!1}function E(){h.value=!0,s("close")}function A(){g?.(),p?.(),e.openDelay&&e.openDelay>0?{stop:p}=Rx(()=>P(),e.openDelay):P()}function N(){p?.(),g?.(),e.closeDelay&&e.closeDelay>0?{stop:g}=Rx(()=>I(),e.closeDelay):I()}function F(){function H(U){U||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(H):N()}function R(){e.closeOnClickModal&&F()}function P(){Tn&&(u.value=!0)}function I(){u.value=!1}function D(){s("openAutoFocus")}function M(){s("closeAutoFocus")}function z(H){var U;((U=H.detail)==null?void 0:U.focusReason)==="pointer"&&H.preventDefault()}e.lockScroll&&T5(u);function W(){e.closeOnPressEscape&&F()}return xe(()=>e.zIndex,()=>{var H;d.value=(H=e.zIndex)!=null?H:o()}),xe(()=>e.modelValue,H=>{var U;H?(c.value=!1,A(),f.value=!0,d.value=(U=e.zIndex)!=null?U:o(),Ye(()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):u.value&&N()}),xe(()=>e.fullscreen,H=>{t.value&&(H?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),Ht(()=>{e.modelValue&&(u.value=!0,f.value=!0,A())}),{afterEnter:T,afterLeave:_,beforeLeave:E,handleClose:F,onModalClick:R,close:N,doClose:I,onOpenAutoFocus:D,onCloseAutoFocus:M,onCloseRequested:W,onFocusoutPrevented:z,titleId:a,bodyId:l,closed:c,style:w,overlayDialogStyle:$,rendered:f,visible:u,zIndex:d,transitionConfig:k,_draggable:b,_alignCenter:C,_overflow:S,closing:h}},Vyn=["aria-label","aria-labelledby","aria-describedby"],Wyn=me({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:n6e,emits:r6e,setup(e,{expose:t}){const n=e,r=Ms();sd({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!r.title));const s=Ae("dialog"),o=j(),i=j(),a=j(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,transitionConfig:p,zIndex:g,_draggable:m,_alignCenter:v,_overflow:y,handleClose:w,onModalClick:b,onOpenAutoFocus:C,onCloseAutoFocus:S,onCloseRequested:$,onFocusoutPrevented:k,closing:T}=s6e(n,o);ln(QBe,{dialogRef:o,headerRef:i,bodyId:c,ns:s,rendered:h,style:f});const _=jne(b),E=O(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return t({visible:l,dialogContentRef:a,resetPosition:()=>{var N;(N=a.value)==null||N.resetPosition()},handleClose:w}),(N,F)=>(B(),pe(x(KC),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:ie(()=>[ee(Ho,Wt(x(p),{persisted:""}),{default:ie(()=>{var R;return[Lt(ee(x(Hne),{"custom-mask-event":"",mask:N.modal,"overlay-class":[(R=N.modalClass)!=null?R:"",`${x(s).namespace.value}-modal-dialog`,x(s).is("penetrable",E.value)],"z-index":x(g)},{default:ie(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:x(u),"aria-describedby":x(c),class:V([`${x(s).namespace.value}-overlay-dialog`,x(s).is("closing",x(T))]),style:dt(x(d)),onClick:F[0]||(F[0]=(...P)=>x(_).onClick&&x(_).onClick(...P)),onMousedown:F[1]||(F[1]=(...P)=>x(_).onMousedown&&x(_).onMousedown(...P)),onMouseup:F[2]||(F[2]=(...P)=>x(_).onMouseup&&x(_).onMouseup(...P))},[ee(x(YC),{loop:"",trapped:x(l),"focus-start-el":"container",onFocusAfterTrapped:x(C),onFocusAfterReleased:x(S),onFocusoutPrevented:x(k),onReleaseRequested:x($)},{default:ie(()=>[x(h)?(B(),pe(zyn,Wt({key:0,ref_key:"dialogContentRef",ref:a},N.$attrs,{center:N.center,"align-center":x(v),"close-icon":N.closeIcon,draggable:x(m),overflow:x(y),fullscreen:N.fullscreen,"header-class":N.headerClass,"body-class":N.bodyClass,"footer-class":N.footerClass,"show-close":N.showClose,title:N.title,"aria-level":N.headerAriaLevel,onClose:x(w)}),ml({header:ie(()=>[N.$slots.title?ce(N.$slots,"title",{key:1}):ce(N.$slots,"header",{key:0,close:x(w),titleId:x(u),titleClass:x(s).e("title")})]),default:ie(()=>[ce(N.$slots,"default")]),_:2},[N.$slots.footer?{name:"footer",fn:ie(()=>[ce(N.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):fe("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Vyn)]),_:3},8,["mask","overlay-class","z-index"]),[[Sn,x(l)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var Uyn=Ve(Wyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const jyn=Rt(Uyn),Hyn=Me({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:oe(String),default:"solid"}}),qyn=me({name:"ElDivider",__name:"divider",props:Hyn,setup(e){const t=e,n=Ae("divider"),r=O(()=>n.cssVar({"border-style":t.borderStyle}));return(s,o)=>(B(),Y("div",{class:V([x(n).b(),x(n).m(s.direction)]),style:dt(r.value),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(B(),Y("div",{key:0,class:V([x(n).e("text"),x(n).is(s.contentPosition)])},[ce(s.$slots,"default")],2)):fe("v-if",!0)],6))}});var Gyn=Ve(qyn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const o6e=Rt(Gyn),Kyn=Me({...n6e,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Yyn={...r6e,"resize-start":(e,t)=>e instanceof MouseEvent&&typeof t=="number",resize:(e,t)=>e instanceof MouseEvent&&typeof t=="number","resize-end":(e,t)=>e instanceof MouseEvent&&typeof t=="number"};function Xyn(e,t,n){const{width:r,height:s}=lne(),o=O(()=>["ltr","rtl"].includes(e.direction)),i=O(()=>["ltr","ttb"].includes(e.direction)?1:-1),a=O(()=>o.value?r.value:s.value),l=O(()=>ZPe(u.value+i.value*c.value,4,a.value)),u=j(0),c=j(0),f=j(!1),d=j(!1);let h=[],p=[];const g=()=>{var b;const C=(b=t.value)==null?void 0:b.closest('[aria-modal="true"]');return C?o.value?C.offsetWidth:C.offsetHeight:100};xe(()=>[e.size,e.resizable],()=>{d.value=!1,u.value=0,c.value=0,y()});const m=b=>{e.resizable&&(d.value||(u.value=g(),d.value=!0),h=[b.pageX,b.pageY],f.value=!0,n("resize-start",b,u.value),p.push(Fn(window,"mouseup",y),Fn(window,"mousemove",v)))},v=b=>{const{pageX:C,pageY:S}=b,$=C-h[0],k=S-h[1];c.value=o.value?$:k,n("resize",b,l.value)},y=b=>{f.value&&(h=[],u.value=l.value,c.value=0,f.value=!1,p.forEach(C=>C?.()),p=[],b&&n("resize-end",b,u.value))},w=Fn(t,"mousedown",m);return Dn(()=>{w(),y()}),{size:O(()=>d.value?`${l.value}px`:Vr(e.size)),isResizing:f,isHorizontal:o}}const Zyn=["aria-label","aria-labelledby","aria-describedby"],Jyn=["id","aria-level"],Qyn=["aria-label"],ebn=["id"],tbn=me({name:"ElDrawer",inheritAttrs:!1,__name:"drawer",props:Kyn,emits:Yyn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms();sd({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},O(()=>!!o.title));const i=j(),a=j(),l=j(),u=Ae("drawer"),{t:c}=un(),{afterEnter:f,afterLeave:d,beforeLeave:h,visible:p,rendered:g,titleId:m,bodyId:v,zIndex:y,onModalClick:w,onOpenAutoFocus:b,onCloseAutoFocus:C,onFocusoutPrevented:S,onCloseRequested:$,handleClose:k}=s6e(r,i),{isHorizontal:T,size:_,isResizing:E}=Xyn(r,l,s),A=O(()=>r.modalPenetrable&&!r.modal);return t({handleClose:k,afterEnter:f,afterLeave:d}),(N,F)=>(B(),pe(x(KC),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:ie(()=>[ee(Ho,{name:x(u).b("fade"),onAfterEnter:x(f),onAfterLeave:x(d),onBeforeLeave:x(h),persisted:""},{default:ie(()=>{var R;return[Lt(ee(x(Hne),{mask:N.modal,"overlay-class":[x(u).is("drawer"),(R=N.modalClass)!=null?R:"",`${x(u).namespace.value}-modal-drawer`,x(u).is("penetrable",A.value)],"z-index":x(y),onClick:x(w)},{default:ie(()=>[ee(x(YC),{loop:"",trapped:x(p),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:x(b),onFocusAfterReleased:x(C),onFocusoutPrevented:x(S),onReleaseRequested:x($)},{default:ie(()=>[Z("div",Wt({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:x(m),"aria-describedby":x(v)},N.$attrs,{class:[x(u).b(),N.direction,x(p)&&"open",x(u).is("dragging",x(E))],style:{[x(T)?"width":"height"]:x(_)},role:"dialog",onClick:F[1]||(F[1]=xt(()=>{},["stop"]))}),[Z("span",{ref_key:"focusStartRef",ref:a,class:V(x(u).e("sr-focus")),tabindex:"-1"},null,2),N.withHeader?(B(),Y("header",{key:0,class:V([x(u).e("header"),N.headerClass])},[N.$slots.title?ce(N.$slots,"title",{key:1},()=>[fe(" DEPRECATED SLOT ")]):ce(N.$slots,"header",{key:0,close:x(k),titleId:x(m),titleClass:x(u).e("title")},()=>[Z("span",{id:x(m),role:"heading","aria-level":N.headerAriaLevel,class:V(x(u).e("title"))},Fe(N.title),11,Jyn)]),N.showClose?(B(),Y("button",{key:2,"aria-label":x(c)("el.drawer.close"),class:V(x(u).e("close-btn")),type:"button",onClick:F[0]||(F[0]=(...P)=>x(k)&&x(k)(...P))},[ee(x(st),{class:V(x(u).e("close"))},{default:ie(()=>[ee(x(Hu))]),_:1},8,["class"])],10,Qyn)):fe("v-if",!0)],2)):fe("v-if",!0),x(g)?(B(),Y("div",{key:1,id:x(v),class:V([x(u).e("body"),N.bodyClass])},[ce(N.$slots,"default")],10,ebn)):fe("v-if",!0),N.$slots.footer?(B(),Y("div",{key:2,class:V([x(u).e("footer"),N.footerClass])},[ce(N.$slots,"footer")],2)):fe("v-if",!0),N.resizable?(B(),Y("div",{key:3,ref_key:"draggerRef",ref:l,style:dt({zIndex:x(y)}),class:V(x(u).e("dragger"))},null,6)):fe("v-if",!0)],16,Zyn)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Sn,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var nbn=Ve(tbn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const rbn=Rt(nbn),sbn=me({inheritAttrs:!1});function obn(e,t,n,r,s,o){return ce(e.$slots,"default")}var ibn=Ve(sbn,[["render",obn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const abn=me({name:"ElCollectionItem",inheritAttrs:!1});function lbn(e,t,n,r,s,o){return ce(e.$slots,"default")}var ubn=Ve(abn,[["render",lbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const i6e="data-el-collection-item",cbn=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),o=Object.assign({},ibn,{name:t,setup(){const a=j(),l=new Map;ln(r,{itemMap:l,getItems:()=>{const c=x(a);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${i6e}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:a})}}),i=Object.assign({},ubn,{name:n,setup(a,{attrs:l}){const u=j(),c=tt(r,void 0);ln(s,{collectionItemRef:u}),Ht(()=>{const f=x(u);f&&c.itemMap.set(f,{ref:f,...l})}),Dn(()=>{const f=x(u);c.itemMap.delete(f)})}});return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:o,ElCollectionItem:i}},fbn=Me({style:{type:oe([String,Array,Object])},currentTabId:{type:oe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:oe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:dbn,ElCollectionItem:hbn,COLLECTION_INJECTION_KEY:a6e,COLLECTION_ITEM_INJECTION_KEY:pbn}=cbn("RovingFocusGroup"),Gne=Symbol("elRovingFocusGroup"),l6e=Symbol("elRovingFocusGroupItem"),gbn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},mbn=(e,t)=>e,vbn=(e,t,n)=>{const r=Hn(e),s=mbn(r);return gbn[s]},ybn=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),Gme=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Kme="currentTabIdChange",Yme="rovingFocusGroup.entryFocus",bbn={bubbles:!1,cancelable:!0},wbn=me({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:fbn,emits:[Kme,"entryFocus"],setup(e,{emit:t}){var n;const r=j((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=j(!1),o=j(!1),i=j(),{getItems:a}=tt(a6e,void 0),l=O(()=>[{outline:"none"},e.style]),u=m=>{t(Kme,m)},c=()=>{s.value=!0},f=to(m=>{var v;(v=e.onMousedown)==null||v.call(e,m)},()=>{o.value=!0}),d=to(m=>{var v;(v=e.onFocus)==null||v.call(e,m)},m=>{const v=!x(o),{target:y,currentTarget:w}=m;if(y===w&&v&&!x(s)){const b=new Event(Yme,bbn);if(w?.dispatchEvent(b),!b.defaultPrevented){const C=a().filter(_=>_.focusable),S=C.find(_=>_.active),$=C.find(_=>_.id===x(r)),T=[S,$,...C].filter(Boolean).map(_=>_.ref);Gme(T)}}o.value=!1}),h=to(m=>{var v;(v=e.onBlur)==null||v.call(e,m)},()=>{s.value=!1}),p=(...m)=>{t("entryFocus",...m)},g=m=>{const v=vbn(m);if(v){m.preventDefault();let w=a().filter(b=>b.focusable).map(b=>b.ref);switch(v){case"last":{w.reverse();break}case"prev":case"next":{v==="prev"&&w.reverse();const b=w.indexOf(m.currentTarget);w=e.loop?ybn(w,b+1):w.slice(b+1);break}}Ye(()=>{Gme(w)})}};ln(Gne,{currentTabbedId:d1(r),loop:Bn(e,"loop"),tabIndex:O(()=>x(s)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:l,orientation:Bn(e,"orientation"),dir:Bn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f,onKeydown:g}),xe(()=>e.currentTabId,m=>{r.value=m??null}),Fn(i,Yme,p)}});function xbn(e,t,n,r,s,o){return ce(e.$slots,"default")}var Cbn=Ve(wbn,[["render",xbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Sbn=me({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:dbn,ElRovingFocusGroupImpl:Cbn}});function $bn(e,t,n,r,s,o){const i=Qt("el-roving-focus-group-impl"),a=Qt("el-focus-group-collection");return B(),pe(a,null,{default:ie(()=>[ee(i,zh(Wh(e.$attrs)),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16)]),_:3})}var kbn=Ve(Sbn,[["render",$bn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const J3=Me({trigger:{...rd.trigger,type:oe([String,Array])},triggerKeys:{type:oe(Array),default:()=>[Oe.enter,Oe.numpadEnter,Oe.space,Oe.down]},virtualTriggering:rd.virtualTriggering,virtualRef:rd.virtualRef,effect:{...Un.effect,default:"light"},type:{type:oe(String)},placement:{type:oe(String),default:"bottom"},popperOptions:{type:oe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:oe([Number,String]),default:0},maxHeight:{type:oe([Number,String]),default:""},popperClass:Un.popperClass,popperStyle:Un.popperStyle,disabled:Boolean,role:{type:String,values:ELe,default:"menu"},buttonProps:{type:oe(Object)},teleported:Un.teleported,appendTo:Un.appendTo,persistent:{type:Boolean,default:!0}}),u6e=Me({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:zn}}),Ebn=Me({onKeydown:{type:oe(Function)}}),A5=Symbol("elDropdown"),c6e="elDropdown",{ButtonGroup:_bn}=$o,Tbn=me({name:"ElDropdown",components:{ElButton:$o,ElButtonGroup:_bn,ElScrollbar:jc,ElTooltip:Xo,ElRovingFocusGroup:kbn,ElOnlyChild:ILe,ElIcon:st,ArrowDown:th},props:J3,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Ut(),r=Ae("dropdown"),{t:s}=un(),o=j(),i=j(),a=j(),l=j(),u=j(null),c=j(null),f=j(!1),d=O(()=>({maxHeight:Vr(e.maxHeight)})),h=O(()=>[r.m(b.value)]),p=O(()=>vo(e.trigger)),g=Yo().value,m=O(()=>e.id||g);function v(){var N;(N=a.value)==null||N.onClose(void 0,0)}function y(){var N;(N=a.value)==null||N.onClose()}function w(){var N;(N=a.value)==null||N.onOpen()}const b=Fs();function C(...N){t("command",...N)}function S(){}function $(){const N=x(l);p.value.includes("hover")&&N?.focus({preventScroll:!0}),c.value=null}function k(N){c.value=N}function T(){t("visible-change",!0)}function _(N){var F;f.value=N?.type==="keydown",(F=l.value)==null||F.focus()}function E(){t("visible-change",!1)}return ln(A5,{contentRef:l,role:O(()=>e.role),triggerId:m,isUsingKeyboard:f,onItemEnter:S,onItemLeave:$,handleClose:y}),ln(c6e,{instance:n,dropdownSize:b,handleClick:v,commandHandler:C,trigger:Bn(e,"trigger"),hideOnClick:Bn(e,"hideOnClick")}),{t:s,ns:r,scrollbar:u,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:b,triggerId:m,currentTabId:c,handleCurrentTabIdChange:k,handlerMainButtonClick:N=>{t("click",N)},handleClose:y,handleOpen:w,handleBeforeShowTooltip:T,handleShowTooltip:_,handleBeforeHideTooltip:E,popperRef:a,contentRef:l,triggeringElementRef:o,referenceElementRef:i}}});function Abn(e,t,n,r,s,o){var i;const a=Qt("el-roving-focus-group"),l=Qt("el-scrollbar"),u=Qt("el-only-child"),c=Qt("el-tooltip"),f=Qt("el-button"),d=Qt("arrow-down"),h=Qt("el-icon"),p=Qt("el-button-group");return B(),Y("div",{class:V([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ee(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger==="hover"?e.showTimeout:0,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"virtual-ref":(i=e.virtualRef)!=null?i:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,"append-to":e.appendTo,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ml({content:ie(()=>[ee(l,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:ie(()=>[ee(a,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:ie(()=>[ce(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:ie(()=>[ee(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:ie(()=>[ce(e.$slots,"default")]),_:3},8,["id","tabindex"])]),key:"0"}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","append-to","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(B(),pe(p,{key:0},{default:ie(()=>[ee(f,Wt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ee(f,Wt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:ie(()=>[ee(h,{class:V(e.ns.e("icon"))},{default:ie(()=>[ee(d)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):fe("v-if",!0)],2)}var Ibn=Ve(Tbn,[["render",Abn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Nbn=me({components:{ElRovingFocusCollectionItem:hbn},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,onItemFocus:r,onItemShiftTab:s,onKeydown:o}=tt(Gne,void 0),i=Yo(),a=j(),l=to(d=>{t("mousedown",d)},d=>{e.focusable?r(x(i)):d.preventDefault()}),u=to(d=>{t("focus",d)},()=>{r(x(i))}),c=to(d=>{t("keydown",d)},d=>{const{shiftKey:h,target:p,currentTarget:g}=d;if(Hn(d)===Oe.tab&&h){s();return}p===g&&o(d)}),f=O(()=>n.value===x(i));return ln(l6e,{rovingFocusGroupItemRef:a,tabIndex:O(()=>x(f)?0:-1),handleMousedown:l,handleFocus:u,handleKeydown:c}),{id:i,handleKeydown:c,handleFocus:u,handleMousedown:l}}});function Dbn(e,t,n,r,s,o){const i=Qt("el-roving-focus-collection-item");return B(),pe(i,{id:e.id,focusable:e.focusable,active:e.active},{default:ie(()=>[ce(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Obn=Ve(Nbn,[["render",Dbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Rbn=me({name:"DropdownItemImpl",components:{ElIcon:st},props:u6e,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Ae("dropdown"),{role:r}=tt(A5,void 0),{collectionItemRef:s}=tt(pbn,void 0),{rovingFocusGroupItemRef:o,tabIndex:i,handleFocus:a,handleKeydown:l,handleMousedown:u}=tt(l6e,void 0),c=qne(s,o),f=O(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),d=to(h=>{const p=Hn(h);if([Oe.enter,Oe.numpadEnter,Oe.space].includes(p))return h.preventDefault(),h.stopImmediatePropagation(),t("clickimpl",h),!0},l);return{ns:n,itemRef:c,dataset:{[i6e]:""},role:f,tabIndex:i,handleFocus:a,handleKeydown:d,handleMousedown:u}}}),Fbn=["aria-disabled","tabindex","role"];function Mbn(e,t,n,r,s,o){const i=Qt("el-icon");return B(),Y(it,null,[e.divided?(B(),Y("li",{key:0,role:"separator",class:V(e.ns.bem("menu","item","divided"))},null,2)):fe("v-if",!0),Z("li",Wt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=a=>e.$emit("clickimpl",a)),onFocus:t[1]||(t[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onKeydown:t[2]||(t[2]=xt((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:t[3]||(t[3]=(...a)=>e.handleMousedown&&e.handleMousedown(...a)),onPointermove:t[4]||(t[4]=a=>e.$emit("pointermove",a)),onPointerleave:t[5]||(t[5]=a=>e.$emit("pointerleave",a))}),[e.icon?(B(),pe(i,{key:0},{default:ie(()=>[(B(),pe(zt(e.icon)))]),_:1})):fe("v-if",!0),ce(e.$slots,"default")],16,Fbn)],64)}var Pbn=Ve(Rbn,[["render",Mbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const f6e=()=>{const e=tt(c6e,{}),t=O(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Lbn=me({name:"ElDropdownItem",components:{ElRovingFocusItem:Obn,ElDropdownItemImpl:Pbn},inheritAttrs:!1,props:u6e,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=f6e(),s=Ut(),{onItemEnter:o,onItemLeave:i}=tt(A5,void 0),a=to(f=>(t("pointermove",f),f.defaultPrevented),nme(f=>{if(e.disabled){i(f);return}const d=f.currentTarget;d===document.activeElement||d.contains(document.activeElement)||(o(f),f.defaultPrevented||d?.focus({preventScroll:!0}))})),l=to(f=>(t("pointerleave",f),f.defaultPrevented),nme(i)),u=to(f=>{if(!e.disabled)return t("click",f),f.type!=="keydown"&&f.defaultPrevented},f=>{var d,h,p;if(e.disabled){f.stopImmediatePropagation();return}(d=r?.hideOnClick)!=null&&d.value&&((h=r.handleClick)==null||h.call(r)),(p=r.commandHandler)==null||p.call(r,e.command,s,f)}),c=O(()=>({...e,...n}));return{handleClick:u,handlePointerMove:a,handlePointerLeave:l,propsAndAttrs:c}}});function Bbn(e,t,n,r,s,o){const i=Qt("el-dropdown-item-impl"),a=Qt("el-roving-focus-item");return B(),pe(a,{focusable:!e.disabled},{default:ie(()=>[ee(i,Wt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:ie(()=>[ce(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var d6e=Ve(Lbn,[["render",Bbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const zbn=me({name:"ElDropdownMenu",props:Ebn,setup(e){const t=Ae("dropdown"),{_elDropdownSize:n}=f6e(),r=n.value,{contentRef:s,role:o,triggerId:i,isUsingKeyboard:a,handleClose:l}=tt(A5,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:c,onBlur:f,onFocus:d,onKeydown:h,onMousedown:p}=tt(Gne,void 0),{collectionRef:g}=tt(a6e,void 0),m=O(()=>[t.b("menu"),t.bm("menu",r?.value)]),v=qne(s,u,g),y=to(b=>{var C;(C=e.onKeydown)==null||C.call(e,b)},b=>{const{currentTarget:C,target:S}=b,$=Hn(b);if(C.contains(S),Oe.tab===$)return l();h(b)});function w(b){a.value&&d(b)}return{size:r,rovingFocusGroupRootStyle:c,dropdownKls:m,role:o,triggerId:i,dropdownListWrapperRef:v,handleKeydown:y,onBlur:f,handleFocus:w,onMousedown:p}}}),Vbn=["role","aria-labelledby"];function Wbn(e,t,n,r,s,o){return B(),Y("ul",{ref:e.dropdownListWrapperRef,class:V(e.dropdownKls),style:dt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:t[0]||(t[0]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onFocusout:t[1]||(t[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onKeydown:t[2]||(t[2]=xt((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:t[3]||(t[3]=xt((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[ce(e.$slots,"default")],46,Vbn)}var h6e=Ve(zbn,[["render",Wbn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Ubn=Rt(Ibn,{DropdownItem:d6e,DropdownMenu:h6e}),jbn=Ur(d6e),Hbn=Ur(h6e),qbn={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Gbn=["id"],Kbn=["stop-color"],Ybn=["stop-color"],Xbn=["id"],Zbn=["stop-color"],Jbn=["stop-color"],Qbn=["id"],ewn={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},twn={transform:"translate(-1268.000000, -535.000000)"},nwn={transform:"translate(1268.000000, 535.000000)"},rwn=["fill"],swn=["fill"],own={transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},iwn=["fill"],awn=["fill"],lwn=["fill"],uwn=["fill"],cwn=["fill"],fwn={transform:"translate(53.000000, 45.000000)"},dwn=["fill","xlink:href"],hwn=["fill","mask"],pwn=["fill"],gwn=me({name:"ImgEmpty",__name:"img-empty",setup(e){const t=Ae("empty"),n=Yo();return(r,s)=>(B(),Y("svg",qbn,[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${x(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Kbn),Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Ybn)],8,Gbn),Z("linearGradient",{id:`linearGradient-2-${x(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Zbn),Z("stop",{"stop-color":`var(${x(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Jbn)],8,Xbn),Z("rect",{id:`path-3-${x(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,Qbn)]),Z("g",ewn,[Z("g",twn,[Z("g",nwn,[Z("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${x(t).cssVarBlockName("fill-color-3")})`},null,8,rwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,swn),Z("g",own,[Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,iwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,awn),Z("rect",{fill:`url(#linearGradient-1-${x(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,lwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,uwn)]),Z("rect",{fill:`url(#linearGradient-2-${x(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,cwn),Z("g",fwn,[Z("use",{fill:`var(${x(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${x(n)}`},null,8,dwn),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${x(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,hwn)]),Z("polygon",{fill:`var(${x(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,pwn)])])])]))}});var mwn=Ve(gwn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const vwn=Me({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),ywn=["src"],bwn={key:1},wwn=me({name:"ElEmpty",__name:"empty",props:vwn,setup(e){const t=e,{t:n}=un(),r=Ae("empty"),s=O(()=>t.description||n("el.table.emptyText")),o=O(()=>({width:Vr(t.imageSize)}));return(i,a)=>(B(),Y("div",{class:V(x(r).b())},[Z("div",{class:V(x(r).e("image")),style:dt(o.value)},[i.image?(B(),Y("img",{key:0,src:i.image,ondragstart:"return false"},null,8,ywn)):ce(i.$slots,"image",{key:1},()=>[ee(mwn)])],6),Z("div",{class:V(x(r).e("description"))},[i.$slots.description?ce(i.$slots,"description",{key:0}):(B(),Y("p",bwn,Fe(s.value),1))],2),i.$slots.default?(B(),Y("div",{key:0,class:V(x(r).e("bottom"))},[ce(i.$slots,"default")],2)):fe("v-if",!0)],2))}});var xwn=Ve(wwn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const p6e=Rt(xwn),Cwn=Me({size:{type:String,values:eh},disabled:Boolean}),Swn=Me({...Cwn,model:Object,rules:{type:oe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:oe([Object,Boolean]),default:!0}}),$wn={validate:(e,t,n)=>(De(e)||ot(e))&&Ln(t)&&ot(n)};function kwn(){const e=j([]),t=O(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function n(o){const i=e.value.indexOf(o);return i===-1&&t.value,i}function r(o,i){if(o&&i){const a=n(i);e.value.splice(a,1,o)}else o&&e.value.push(o)}function s(o){const i=n(o);i>-1&&e.value.splice(i,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:s}}const zD=(e,t)=>{const n=vo(t).map(r=>De(r)?r.join("."):r);return n.length>0?e.filter(r=>r.propString&&n.includes(r.propString)):e},Ewn="ElForm",_wn=me({name:Ewn,__name:"form",props:Swn,emits:$wn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=j(),i=In([]),a=Fs(),l=Ae("form"),u=O(()=>{const{labelPosition:C,inline:S}=r;return[l.b(),l.m(a.value||"default"),{[l.m(`label-${C}`)]:C,[l.m("inline")]:S}]}),c=C=>zD(i,[C])[0],f=C=>{i.push(C)},d=C=>{C.prop&&i.splice(i.indexOf(C),1)},h=(C=[])=>{r.model&&zD(i,C).forEach(S=>S.resetField())},p=(C=[])=>{zD(i,C).forEach(S=>S.clearValidate())},g=O(()=>!!r.model),m=C=>{if(i.length===0)return[];const S=zD(i,C);return S.length?S:[]},v=async C=>w(void 0,C),y=async(C=[])=>{if(!g.value)return!1;const S=m(C);if(S.length===0)return!0;let $={};for(const k of S)try{await k.validate(""),k.validateState==="error"&&!k.error&&k.resetField()}catch(T){$={...$,...T}}return Object.keys($).length===0?!0:Promise.reject($)},w=async(C=[],S)=>{let $=!1;const k=!ft(S);try{return $=await y(C),$===!0&&await S?.($),$}catch(T){if(T instanceof Error)throw T;const _=T;if(r.scrollToError&&o.value){const E=o.value.querySelector(`.${l.b()}-item.is-error`);E?.scrollIntoView(r.scrollIntoViewOptions)}return!$&&await S?.(!1,_),k&&Promise.reject(_)}},b=C=>{var S;const $=c(C);$&&((S=$.$el)==null||S.scrollIntoView(r.scrollIntoViewOptions))};return xe(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(C=>void 0)},{deep:!0,flush:"post"}),ln(ob,In({...ao(r),emit:s,resetFields:h,clearValidate:p,validateField:w,getField:c,addField:f,removeField:d,...kwn()})),t({validate:v,validateField:w,resetFields:h,clearValidate:p,scrollToField:b,getField:c,fields:i}),(C,S)=>(B(),Y("form",{ref_key:"formRef",ref:o,class:V(u.value)},[ce(C.$slots,"default")],2))}});var Twn=Ve(_wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(this,arguments)}function Awn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m_(e,t)}function bH(e){return bH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bH(e)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m_(e,t)}function Iwn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q3(e,t,n){return Iwn()?Q3=Reflect.construct.bind():Q3=function(s,o,i){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(s,a),u=new l;return i&&m_(u,i.prototype),u},Q3.apply(null,arguments)}function Nwn(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function wH(e){var t=typeof Map=="function"?new Map:void 0;return wH=function(r){if(r===null||!Nwn(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Q3(r,arguments,bH(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),m_(s,r)},wH(e)}var Dwn=/%[sdj%]/g,Own=function(){};function xH(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var i=e.replace(Dwn,function(a){if(a==="%%")return"%";if(s>=o)return a;switch(a){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return a}});return i}return e}function Rwn(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function _o(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Rwn(t)&&typeof e=="string"&&!e)}function Fwn(e,t,n){var r=[],s=0,o=e.length;function i(a){r.push.apply(r,a||[]),s++,s===o&&n(r)}e.forEach(function(a){t(a,i)})}function Xme(e,t,n){var r=0,s=e.length;function o(i){if(i&&i.length){n(i);return}var a=r;r=r+1,a<s?t(e[a],o):n([])}o([])}function Mwn(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var Zme=(function(e){Awn(t,e);function t(n,r){var s;return s=e.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return t})(wH(Error));function Pwn(e,t,n,r,s){if(t.first){var o=new Promise(function(d,h){var p=function(v){return r(v),v.length?h(new Zme(v,xH(v))):d(s)},g=Mwn(e);Xme(g,n,p)});return o.catch(function(d){return d}),o}var i=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,u=0,c=[],f=new Promise(function(d,h){var p=function(m){if(c.push.apply(c,m),u++,u===l)return r(c),c.length?h(new Zme(c,xH(c))):d(s)};a.length||(r(c),d(s)),a.forEach(function(g){var m=e[g];i.indexOf(g)!==-1?Xme(m,n,p):Fwn(m,n,p)})});return f.catch(function(d){return d}),f}function Lwn(e){return!!(e&&e.message!==void 0)}function Bwn(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function Jme(e,t){return function(n){var r;return e.fullFields?r=Bwn(t,e.fullFields):r=t[n.field||e.fullField],Lwn(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function Qme(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=Pv({},e[n],r):e[n]=r}}return e}var g6e=function(t,n,r,s,o,i){t.required&&(!r.hasOwnProperty(t.field)||_o(n,i||t.type))&&s.push(Gl(o.messages.required,t.fullField))},zwn=function(t,n,r,s,o){(/^\s+$/.test(n)||n==="")&&s.push(Gl(o.messages.whitespace,t.fullField))},VD,Vwn=(function(){if(VD)return VD;var e="[a-fA-F\\d:]",t=function(b){return b&&b.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),a=new RegExp("^"+s+"$"),l=function(b){return b&&b.exact?o:new RegExp("(?:"+t(b)+n+t(b)+")|(?:"+t(b)+s+t(b)+")","g")};l.v4=function(w){return w&&w.exact?i:new RegExp(""+t(w)+n+t(w),"g")},l.v6=function(w){return w&&w.exact?a:new RegExp(""+t(w)+s+t(w),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+g+")"+m+v;return VD=new RegExp("(?:^"+y+"$)","i"),VD}),e0e={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},N$={integer:function(t){return N$.number(t)&&parseInt(t,10)===t},float:function(t){return N$.number(t)&&!N$.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!N$.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(e0e.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Vwn())},hex:function(t){return typeof t=="string"&&!!t.match(e0e.hex)}},Wwn=function(t,n,r,s,o){if(t.required&&n===void 0){g6e(t,n,r,s,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;i.indexOf(a)>-1?N$[a](n)||s.push(Gl(o.messages.types[a],t.fullField,t.type)):a&&typeof n!==t.type&&s.push(Gl(o.messages.types[a],t.fullField,t.type))},Uwn=function(t,n,r,s,o){var i=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),i?c!==t.len&&s.push(Gl(o.messages[f].len,t.fullField,t.len)):a&&!l&&c<t.min?s.push(Gl(o.messages[f].min,t.fullField,t.min)):l&&!a&&c>t.max?s.push(Gl(o.messages[f].max,t.fullField,t.max)):a&&l&&(c<t.min||c>t.max)&&s.push(Gl(o.messages[f].range,t.fullField,t.min,t.max))},Db="enum",jwn=function(t,n,r,s,o){t[Db]=Array.isArray(t[Db])?t[Db]:[],t[Db].indexOf(n)===-1&&s.push(Gl(o.messages[Db],t.fullField,t[Db].join(", ")))},Hwn=function(t,n,r,s,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||s.push(Gl(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var i=new RegExp(t.pattern);i.test(n)||s.push(Gl(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},lr={required:g6e,whitespace:zwn,type:Wwn,range:Uwn,enum:jwn,pattern:Hwn},qwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"string")&&!t.required)return r();lr.required(t,n,s,i,o,"string"),_o(n,"string")||(lr.type(t,n,s,i,o),lr.range(t,n,s,i,o),lr.pattern(t,n,s,i,o),t.whitespace===!0&&lr.whitespace(t,n,s,i,o))}r(i)},Gwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&lr.type(t,n,s,i,o)}r(i)},Kwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(n===""&&(n=void 0),_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&(lr.type(t,n,s,i,o),lr.range(t,n,s,i,o))}r(i)},Ywn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&lr.type(t,n,s,i,o)}r(i)},Xwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),_o(n)||lr.type(t,n,s,i,o)}r(i)},Zwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&(lr.type(t,n,s,i,o),lr.range(t,n,s,i,o))}r(i)},Jwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&(lr.type(t,n,s,i,o),lr.range(t,n,s,i,o))}r(i)},Qwn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(n==null&&!t.required)return r();lr.required(t,n,s,i,o,"array"),n!=null&&(lr.type(t,n,s,i,o),lr.range(t,n,s,i,o))}r(i)},exn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&lr.type(t,n,s,i,o)}r(i)},txn="enum",nxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o),n!==void 0&&lr[txn](t,n,s,i,o)}r(i)},rxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"string")&&!t.required)return r();lr.required(t,n,s,i,o),_o(n,"string")||lr.pattern(t,n,s,i,o)}r(i)},sxn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n,"date")&&!t.required)return r();if(lr.required(t,n,s,i,o),!_o(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),lr.type(t,l,s,i,o),l&&lr.range(t,l.getTime(),s,i,o)}}r(i)},oxn=function(t,n,r,s,o){var i=[],a=Array.isArray(n)?"array":typeof n;lr.required(t,n,s,i,o,a),r(i)},V7=function(t,n,r,s,o){var i=t.type,a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(_o(n,i)&&!t.required)return r();lr.required(t,n,s,a,o,i),_o(n,i)||lr.type(t,n,s,a,o)}r(a)},ixn=function(t,n,r,s,o){var i=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(_o(n)&&!t.required)return r();lr.required(t,n,s,i,o)}r(i)},vk={string:qwn,method:Gwn,number:Kwn,boolean:Ywn,regexp:Xwn,integer:Zwn,float:Jwn,array:Qwn,object:exn,enum:nxn,pattern:rxn,date:sxn,url:V7,hex:V7,email:V7,required:oxn,any:ixn};function CH(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var SH=CH(),NI=(function(){function e(n){this.rules=null,this._messages=SH,this.define(n)}var t=e.prototype;return t.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var i=r[o];s.rules[o]=Array.isArray(i)?i:[i]})},t.messages=function(r){return r&&(this._messages=Qme(CH(),r)),this._messages},t.validate=function(r,s,o){var i=this;s===void 0&&(s={}),o===void 0&&(o=function(){});var a=r,l=s,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(g){var m=[],v={};function y(b){if(Array.isArray(b)){var C;m=(C=m).concat.apply(C,b)}else m.push(b)}for(var w=0;w<g.length;w++)y(g[w]);m.length?(v=xH(m),u(m,v)):u(null,a)}if(l.messages){var f=this.messages();f===SH&&(f=CH()),Qme(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var m=i.rules[g],v=a[g];m.forEach(function(y){var w=y;typeof w.transform=="function"&&(a===r&&(a=Pv({},a)),v=a[g]=w.transform(v)),typeof w=="function"?w={validator:w}:w=Pv({},w),w.validator=i.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=i.getType(w),d[g]=d[g]||[],d[g].push({rule:w,value:v,source:a,field:g}))})});var p={};return Pwn(d,l,function(g,m){var v=g.rule,y=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");y=y&&(v.required||!v.required&&g.value),v.field=g.field;function w(S,$){return Pv({},$,{fullField:v.fullField+"."+S,fullFields:v.fullFields?[].concat(v.fullFields,[S]):[S]})}function b(S){S===void 0&&(S=[]);var $=Array.isArray(S)?S:[S];!l.suppressWarning&&$.length&&e.warning("async-validator:",$),$.length&&v.message!==void 0&&($=[].concat(v.message));var k=$.map(Jme(v,a));if(l.first&&k.length)return p[v.field]=1,m(k);if(!y)m(k);else{if(v.required&&!g.value)return v.message!==void 0?k=[].concat(v.message).map(Jme(v,a)):l.error&&(k=[l.error(v,Gl(l.messages.required,v.field))]),m(k);var T={};v.defaultField&&Object.keys(g.value).map(function(A){T[A]=v.defaultField}),T=Pv({},T,g.rule.fields);var _={};Object.keys(T).forEach(function(A){var N=T[A],F=Array.isArray(N)?N:[N];_[A]=F.map(w.bind(null,A))});var E=new e(_);E.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),E.validate(g.value,g.rule.options||l,function(A){var N=[];k&&k.length&&N.push.apply(N,k),A&&A.length&&N.push.apply(N,A),m(N.length?N:null)})}}var C;if(v.asyncValidator)C=v.asyncValidator(v,g.value,b,g.source,l);else if(v.validator){try{C=v.validator(v,g.value,b,g.source,l)}catch(S){console.error?.(S),l.suppressValidatorError||setTimeout(function(){throw S},0),b(S.message)}C===!0?b():C===!1?b(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):C instanceof Array?b(C):C instanceof Error&&b(C.message)}C&&C.then&&C.then(function(){return b()},function(S){return b(S)})},function(g){c(g)},a)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!vk.hasOwnProperty(r.type))throw new Error(Gl("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),o=s.indexOf("message");return o!==-1&&s.splice(o,1),s.length===1&&s[0]==="required"?vk.required:vk[this.getType(r)]||void 0},e})();NI.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");vk[t]=n};NI.warning=Own;NI.messages=SH;NI.validators=vk;const axn=["","error","validating","success"],lxn=Me({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:oe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:oe([Object,Array])},error:String,validateStatus:{type:String,values:axn},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:eh}}),t0e="ElLabelWrap";var uxn=me({name:t0e,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=tt(ob,void 0),r=tt(Ad);r||Ts(t0e,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Ae("form"),o=j(),i=j(0),a=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{Ye(()=>{t.default&&e.isAutoWidth&&(c==="update"?i.value=a():c==="remove"&&n?.deregisterLabelWidth(i.value))})},u=()=>l("update");return Ht(()=>{u()}),Dn(()=>{l("remove")}),Yc(()=>u()),xe(i,(c,f)=>{e.updateAll&&n?.registerLabelWidth(c,f)}),Cr(O(()=>{var c,f;return(f=(c=o.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=n?.autoLabelWidth,p=r?.hasLabel,g={};if(p&&h&&h!=="auto"){const m=Math.max(0,Number.parseInt(h,10)-i.value),y=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";m&&(g[y]=`${m}px`)}return ee("div",{ref:o,class:[s.be("item","label-wrap")],style:g},[(c=t.default)==null?void 0:c.call(t)])}else return ee(it,{ref:o},[(f=t.default)==null?void 0:f.call(t)])}}});const cxn=["role","aria-labelledby"],fxn=me({name:"ElFormItem",__name:"form-item",props:lxn,setup(e,{expose:t}){const n=e,r=Ms(),s=tt(ob,void 0),o=tt(Ad,void 0),i=Fs(void 0,{formItem:!1}),a=Ae("form-item"),l=Yo().value,u=j([]),c=j(""),f=kun(c,100),d=j(""),h=j();let p,g=!1;const m=O(()=>n.labelPosition||s?.labelPosition),v=O(()=>{var ae;return m.value==="top"?{}:{width:Vr((ae=n.labelWidth)!=null?ae:s?.labelWidth)}}),y=O(()=>{var ae;if(m.value==="top"||s?.inline)return{};if(!n.label&&!n.labelWidth&&_)return{};const X=Vr((ae=n.labelWidth)!=null?ae:s?.labelWidth);return!n.label&&!r.label?{marginLeft:X}:{}}),w=O(()=>[a.b(),a.m(i.value),a.is("error",c.value==="error"),a.is("validating",c.value==="validating"),a.is("success",c.value==="success"),a.is("required",R.value||n.required),a.is("no-asterisk",s?.hideRequiredAsterisk),s?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:s?.statusIcon,[a.m(`label-${m.value}`)]:m.value}]),b=O(()=>Ln(n.inlineMessage)?n.inlineMessage:s?.inlineMessage||!1),C=O(()=>[a.e("error"),{[a.em("error","inline")]:b.value}]),S=O(()=>n.prop?De(n.prop)?n.prop.join("."):n.prop:""),$=O(()=>!!(n.label||r.label)),k=O(()=>{var ae;return(ae=n.for)!=null?ae:u.value.length===1?u.value[0]:void 0}),T=O(()=>!k.value&&$.value),_=!!o,E=O(()=>{const ae=s?.model;if(!(!ae||!n.prop))return pk(ae,n.prop).value}),A=O(()=>{const{required:ae}=n,X=[];n.rules&&X.push(...vo(n.rules));const J=s?.rules;if(J&&n.prop){const q=pk(J,n.prop).value;q&&X.push(...vo(q))}if(ae!==void 0){const q=X.map((L,Q)=>[L,Q]).filter(([L])=>"required"in L);if(q.length>0)for(const[L,Q]of q)L.required!==ae&&(X[Q]={...L,required:ae});else X.push({required:ae})}return X}),N=O(()=>A.value.length>0),F=ae=>A.value.filter(J=>!J.trigger||!ae?!0:De(J.trigger)?J.trigger.includes(ae):J.trigger===ae).map(({trigger:J,...q})=>q),R=O(()=>A.value.some(ae=>ae.required)),P=O(()=>{var ae;return f.value==="error"&&n.showMessage&&((ae=s?.showMessage)!=null?ae:!0)}),I=O(()=>`${n.label||""}${s?.labelSuffix||""}`),D=ae=>{c.value=ae},M=ae=>{var X,J;const{errors:q,fields:L}=ae;(!q||!L)&&console.error(ae),D("error"),d.value=q?(J=(X=q?.[0])==null?void 0:X.message)!=null?J:`${n.prop} is required`:"",s?.emit("validate",n.prop,!1,d.value)},z=()=>{D("success"),s?.emit("validate",n.prop,!0,"")},W=async ae=>{const X=S.value;return new NI({[X]:ae}).validate({[X]:E.value},{firstFields:!0}).then(()=>(z(),!0)).catch(q=>(M(q),Promise.reject(q)))},H=async(ae,X)=>{if(g||!n.prop)return!1;const J=ft(X);if(!N.value)return X?.(!1),!1;const q=F(ae);return q.length===0?(X?.(!0),!0):(D("validating"),W(q).then(()=>(X?.(!0),!0)).catch(L=>{const{fields:Q}=L;return X?.(!1,Q),J?!1:Promise.reject(Q)}))},U=()=>{D(""),d.value="",g=!1},K=async()=>{const ae=s?.model;if(!ae||!n.prop)return;const X=pk(ae,n.prop);g=!0,X.value=Tge(p),await Ye(),U(),g=!1},G=ae=>{u.value.includes(ae)||u.value.push(ae)},re=ae=>{u.value=u.value.filter(X=>X!==ae)};xe(()=>n.error,ae=>{d.value=ae||"",D(ae?"error":"")},{immediate:!0}),xe(()=>n.validateStatus,ae=>D(ae||""));const ue=In({...ao(n),$el:h,size:i,validateMessage:d,validateState:c,labelId:l,inputIds:u,isGroup:T,hasLabel:$,fieldValue:E,addInputId:G,removeInputId:re,resetField:K,clearValidate:U,validate:H,propString:S});return ln(Ad,ue),Ht(()=>{n.prop&&(s?.addField(ue),p=Tge(E.value))}),Dn(()=>{s?.removeField(ue)}),t({size:i,validateMessage:d,validateState:c,validate:H,clearValidate:U,resetField:K}),(ae,X)=>{var J;return B(),Y("div",{ref_key:"formItemRef",ref:h,class:V(w.value),role:T.value?"group":void 0,"aria-labelledby":T.value?x(l):void 0},[ee(x(uxn),{"is-auto-width":v.value.width==="auto","update-all":((J=x(s))==null?void 0:J.labelWidth)==="auto"},{default:ie(()=>[ae.label||ae.$slots.label?(B(),pe(zt(k.value?"label":"div"),{key:0,id:x(l),for:k.value,class:V(x(a).e("label")),style:dt(v.value)},{default:ie(()=>[ce(ae.$slots,"label",{label:I.value},()=>[tn(Fe(I.value),1)])]),_:3},8,["id","for","class","style"])):fe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:V(x(a).e("content")),style:dt(y.value)},[ce(ae.$slots,"default"),ee($1e,{name:`${x(a).namespace.value}-zoom-in-top`},{default:ie(()=>[P.value?ce(ae.$slots,"error",{key:0,error:d.value},()=>[Z("div",{class:V(C.value)},Fe(d.value),3)]):fe("v-if",!0)]),_:3},8,["name"])],6)],10,cxn)}}});var m6e=Ve(fxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const dxn=Rt(Twn,{FormItem:m6e}),hxn=Ur(m6e),pxn=Me({urlList:{type:oe(Array),default:()=>zr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:oe(String)}}),gxn={close:()=>!0,error:e=>e instanceof Event,switch:e=>pt(e),rotate:e=>pt(e)},mxn=["src","crossorigin"],vxn=me({name:"ElImageViewer",__name:"image-viewer",props:pxn,emits:gxn,setup(e,{expose:t,emit:n}){var r;const s={CONTAIN:{name:"contain",icon:Vh(Ncn)},ORIGINAL:{name:"original",icon:Vh(Zcn)}},o=e,i=n;let a;const{t:l}=un(),u=Ae("image-viewer"),{nextZIndex:c}=xI(),f=j(),d=j(),h=I8e(),p=O(()=>{const{scale:J,minScale:q,maxScale:L}=o;return ZPe(J,q,L)}),g=j(!0),m=j(!1),v=j(!1),y=j(o.initialIndex),w=cr(s.CONTAIN),b=j({scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),C=j((r=o.zIndex)!=null?r:c());T5(v,{ns:u});const S=O(()=>{const{urlList:J}=o;return J.length<=1}),$=O(()=>y.value===0),k=O(()=>y.value===o.urlList.length-1),T=O(()=>o.urlList[y.value]),_=O(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!o.infinite&&$.value)]),E=O(()=>[u.e("btn"),u.e("next"),u.is("disabled",!o.infinite&&k.value)]),A=O(()=>{const{scale:J,deg:q,offsetX:L,offsetY:Q,enableTransition:se}=b.value;let de=L/J,he=Q/J;const ge=q*Math.PI/180,$e=Math.cos(ge),He=Math.sin(ge);de=de*$e+he*He,he=he*$e-L/J*He;const Ie={transform:`scale(${J}) rotate(${q}deg) translate(${de}px, ${he}px)`,transition:se?"transform .3s":""};return w.value.name===s.CONTAIN.name&&(Ie.maxWidth=Ie.maxHeight="100%"),Ie}),N=O(()=>`${y.value+1} / ${o.urlList.length}`);function F(){P(),a?.(),v.value=!1,i("close")}function R(){const J=jg(L=>{switch(Hn(L)){case Oe.esc:o.closeOnPressEscape&&F();break;case Oe.space:H();break;case Oe.left:K();break;case Oe.up:re("zoomIn");break;case Oe.right:G();break;case Oe.down:re("zoomOut");break}}),q=jg(L=>{const Q=L.deltaY||L.deltaX;re(Q<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});h.run(()=>{Fn(document,"keydown",J),Fn(f,"wheel",q)})}function P(){h.stop()}function I(){g.value=!1}function D(J){m.value=!0,g.value=!1,i("error",J),J.target.alt=l("el.image.error")}function M(J){if(g.value||J.button!==0||!f.value)return;b.value.enableTransition=!1;const{offsetX:q,offsetY:L}=b.value,Q=J.pageX,se=J.pageY,de=jg($e=>{b.value={...b.value,offsetX:q+$e.pageX-Q,offsetY:L+$e.pageY-se}}),he=Fn(document,"mousemove",de),ge=Fn(document,"mouseup",()=>{he(),ge()});J.preventDefault()}function z(J){if(g.value||!f.value||J.touches.length!==1)return;b.value.enableTransition=!1;const{offsetX:q,offsetY:L}=b.value,{pageX:Q,pageY:se}=J.touches[0],de=jg($e=>{const He=$e.touches[0];b.value={...b.value,offsetX:q+He.pageX-Q,offsetY:L+He.pageY-se}}),he=Fn(document,"touchmove",de),ge=Fn(document,"touchend",()=>{he(),ge()});J.preventDefault()}function W(){b.value={scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function H(){if(g.value||m.value)return;const J=l_(s),q=Object.values(s),L=w.value.name,se=(q.findIndex(de=>de.name===L)+1)%J.length;w.value=s[J[se]],W()}function U(J){m.value=!1;const q=o.urlList.length;y.value=(J+q)%q}function K(){$.value&&!o.infinite||U(y.value-1)}function G(){k.value&&!o.infinite||U(y.value+1)}function re(J,q={}){if(g.value||m.value)return;const{minScale:L,maxScale:Q}=o,{zoomRate:se,rotateDeg:de,enableTransition:he}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...q};switch(J){case"zoomOut":b.value.scale>L&&(b.value.scale=Number.parseFloat((b.value.scale/se).toFixed(3)));break;case"zoomIn":b.value.scale<Q&&(b.value.scale=Number.parseFloat((b.value.scale*se).toFixed(3)));break;case"clockwise":b.value.deg+=de,i("rotate",b.value.deg);break;case"anticlockwise":b.value.deg-=de,i("rotate",b.value.deg);break}b.value.enableTransition=he}function ue(J){var q;((q=J.detail)==null?void 0:q.focusReason)==="pointer"&&J.preventDefault()}function ae(){o.closeOnPressEscape&&F()}function X(J){if(J.ctrlKey){if(J.deltaY<0)return J.preventDefault(),!1;if(J.deltaY>0)return J.preventDefault(),!1}}return xe(()=>p.value,J=>{b.value.scale=J}),xe(T,()=>{Ye(()=>{const J=d.value;J?.complete||(g.value=!0)})}),xe(y,J=>{W(),i("switch",J)}),Ht(()=>{v.value=!0,R(),a=Fn("wheel",X,{passive:!1})}),t({setActiveItem:U}),(J,q)=>(B(),pe(x(KC),{to:"body",disabled:!J.teleported},{default:ie(()=>[ee(Ho,{name:"viewer-fade",appear:""},{default:ie(()=>[Z("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:V(x(u).e("wrapper")),style:dt({zIndex:C.value})},[ee(x(YC),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:ue,onReleaseRequested:ae},{default:ie(()=>[Z("div",{class:V(x(u).e("mask")),onClick:q[0]||(q[0]=xt(L=>J.hideOnClickModal&&F(),["self"]))},null,2),fe(" CLOSE "),Z("span",{class:V([x(u).e("btn"),x(u).e("close")]),onClick:F},[ee(x(st),null,{default:ie(()=>[ee(x(Hu))]),_:1})],2),fe(" ARROW "),S.value?fe("v-if",!0):(B(),Y(it,{key:0},[Z("span",{class:V(_.value),onClick:K},[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1})],2),Z("span",{class:V(E.value),onClick:G},[ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})],2)],64)),J.$slots.progress||J.showProgress?(B(),Y("div",{key:1,class:V([x(u).e("btn"),x(u).e("progress")])},[ce(J.$slots,"progress",{activeIndex:y.value,total:J.urlList.length},()=>[tn(Fe(N.value),1)])],2)):fe("v-if",!0),fe(" ACTIONS "),Z("div",{class:V([x(u).e("btn"),x(u).e("actions")])},[Z("div",{class:V(x(u).e("actions__inner"))},[ce(J.$slots,"toolbar",{actions:re,prev:K,next:G,reset:H,activeIndex:y.value,setActiveItem:U},()=>[ee(x(st),{onClick:q[1]||(q[1]=L=>re("zoomOut"))},{default:ie(()=>[ee(x(hfn))]),_:1}),ee(x(st),{onClick:q[2]||(q[2]=L=>re("zoomIn"))},{default:ie(()=>[ee(x(vLe))]),_:1}),Z("i",{class:V(x(u).e("actions__divider"))},null,2),ee(x(st),{onClick:H},{default:ie(()=>[(B(),pe(zt(w.value.icon)))]),_:1}),Z("i",{class:V(x(u).e("actions__divider"))},null,2),ee(x(st),{onClick:q[3]||(q[3]=L=>re("anticlockwise"))},{default:ie(()=>[ee(x(Gcn))]),_:1}),ee(x(st),{onClick:q[4]||(q[4]=L=>re("clockwise"))},{default:ie(()=>[ee(x(Ycn))]),_:1})])],2)],2),fe(" CANVAS "),Z("div",{class:V(x(u).e("canvas"))},[m.value&&J.$slots["viewer-error"]?ce(J.$slots,"viewer-error",{key:0,activeIndex:y.value,src:T.value}):(B(),Y("img",{ref_key:"imgRef",ref:d,key:T.value,src:T.value,style:dt(A.value),class:V(x(u).e("img")),crossorigin:J.crossorigin,onLoad:I,onError:D,onMousedown:M,onTouchstart:z},null,46,mxn))],2),ce(J.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var yxn=Ve(vxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const v6e=Rt(yxn),bxn=Me({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:oe([String,Object])},previewSrcList:{type:oe(Array),default:()=>zr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:oe(String)}}),wxn={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>pt(e),close:()=>!0,show:()=>!0},xxn=["src","loading","crossorigin"],Cxn={key:0},Sxn=me({name:"ElImage",inheritAttrs:!1,__name:"image",props:bxn,emits:wxn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("image"),a=$p(),l=O(()=>a_(Object.entries(a).filter(([I])=>/^(data-|on[A-Z])/i.test(I)||["id","style"].includes(I)))),u=x5({excludeListeners:!0,excludeKeys:O(()=>Object.keys(l.value))}),c=j(),f=j(!1),d=j(!0),h=j(!1),p=j(),g=j(),m=Tn&&"loading"in HTMLImageElement.prototype;let v;const y=O(()=>[i.e("inner"),b.value&&i.e("preview"),d.value&&i.is("loading")]),w=O(()=>{const{fit:I}=r;return Tn&&I?{objectFit:I}:{}}),b=O(()=>{const{previewSrcList:I}=r;return De(I)&&I.length>0}),C=O(()=>{const{previewSrcList:I,initialIndex:D}=r;let M=D;return D>I.length-1&&(M=0),M}),S=O(()=>r.loading==="eager"?!1:!m&&r.loading==="lazy"||r.lazy),$=()=>{Tn&&(d.value=!0,f.value=!1,c.value=r.src)};function k(I){d.value=!1,f.value=!1,s("load",I)}function T(I){d.value=!1,f.value=!0,s("error",I)}function _(I){I&&($(),N())}const E=QPe(_,200,!0);async function A(){var I;if(!Tn)return;await Ye();const{scrollContainer:D}=r;if(ul(D))g.value=D;else if(ot(D)&&D!=="")g.value=(I=document.querySelector(D))!=null?I:void 0;else if(p.value){const z=cne(p.value);g.value=yI(z)?void 0:z}const{stop:M}=Oun(p,([z])=>{E(z.isIntersecting)},{root:g});v=M}function N(){!Tn||!E||(v?.(),g.value=void 0,v=void 0)}function F(){b.value&&(h.value=!0,s("show"))}function R(){h.value=!1,s("close")}function P(I){s("switch",I)}return xe(()=>r.src,()=>{S.value?(d.value=!0,f.value=!1,N(),A()):$()}),Ht(()=>{S.value?A():$()}),t({showPreview:F}),(I,D)=>(B(),Y("div",Wt({ref_key:"container",ref:p},l.value,{class:[x(i).b(),I.$attrs.class]}),[f.value?ce(I.$slots,"error",{key:0},()=>[Z("div",{class:V(x(i).e("error"))},Fe(x(o)("el.image.error")),3)]):(B(),Y(it,{key:1},[c.value!==void 0?(B(),Y("img",Wt({key:0},x(u),{src:c.value,loading:I.loading,style:w.value,class:y.value,crossorigin:I.crossorigin,onClick:F,onLoad:k,onError:T}),null,16,xxn)):fe("v-if",!0),d.value?(B(),Y("div",{key:1,class:V(x(i).e("wrapper"))},[ce(I.$slots,"placeholder",{},()=>[Z("div",{class:V(x(i).e("placeholder"))},null,2)])],2)):fe("v-if",!0)],64)),b.value?(B(),Y(it,{key:2},[h.value?(B(),pe(x(v6e),{key:0,"z-index":I.zIndex,"initial-index":C.value,infinite:I.infinite,"zoom-rate":I.zoomRate,"min-scale":I.minScale,"max-scale":I.maxScale,"show-progress":I.showProgress,"url-list":I.previewSrcList,scale:I.scale,crossorigin:I.crossorigin,"hide-on-click-modal":I.hideOnClickModal,teleported:I.previewTeleported,"close-on-press-escape":I.closeOnPressEscape,onClose:R,onSwitch:P},ml({toolbar:ie(M=>[ce(I.$slots,"toolbar",zh(Wh(M)))]),default:ie(()=>[I.$slots.viewer?(B(),Y("div",Cxn,[ce(I.$slots,"viewer")])):fe("v-if",!0)]),_:2},[I.$slots.progress?{name:"progress",fn:ie(M=>[ce(I.$slots,"progress",zh(Wh(M)))]),key:"0"}:void 0,I.$slots["viewer-error"]?{name:"viewer-error",fn:ie(M=>[ce(I.$slots,"viewer-error",zh(Wh(M)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):fe("v-if",!0)],64)):fe("v-if",!0)],16))}});var $xn=Ve(Sxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const kxn=Rt($xn),Exn=Me({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:js,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:oe([String,Number,null]),validator:e=>e===null||pt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...fa(["ariaLabel"]),inputmode:{type:oe(String),default:void 0},align:{type:oe(String),default:"center"},disabledScientific:Boolean}),_xn={[en]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Os]:e=>pt(e)||vs(e),[Et]:e=>pt(e)||vs(e)},Txn=["aria-label"],Axn=["aria-label"],Ixn=me({name:"ElInputNumber",__name:"input-number",props:Exn,emits:_xn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("input-number"),a=j(),l=In({currentValue:r.modelValue,userInput:null}),{formItem:u}=Ro(),c=O(()=>pt(r.modelValue)&&r.modelValue<=r.min),f=O(()=>pt(r.modelValue)&&r.modelValue>=r.max),d=O(()=>{const I=y(r.step);return yn(r.precision)?Math.max(y(r.modelValue),I):(I>r.precision,r.precision)}),h=O(()=>r.controls&&r.controlsPosition==="right"),p=Fs(),g=jr(),m=O(()=>{if(l.userInput!==null)return l.userInput;let I=l.currentValue;if(vs(I))return"";if(pt(I)){if(Number.isNaN(I))return"";yn(r.precision)||(I=I.toFixed(r.precision))}return I}),v=(I,D)=>{if(yn(D)&&(D=d.value),D===0)return Math.round(I);let M=String(I);const z=M.indexOf(".");if(z===-1||!M.replace(".","").split("")[z+D])return I;const U=M.length;return M.charAt(U-1)==="5"&&(M=`${M.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(M).toFixed(D))},y=I=>{if(vs(I))return 0;const D=I.toString(),M=D.indexOf(".");let z=0;return M!==-1&&(z=D.length-M-1),z},w=(I,D=1)=>pt(I)?I>=Number.MAX_SAFE_INTEGER&&D===1||I<=Number.MIN_SAFE_INTEGER&&D===-1?I:v(I+r.step*D):l.currentValue,b=I=>{const D=Hn(I),M=RLe(I);if(r.disabledScientific&&["e","E"].includes(M)){I.preventDefault();return}switch(D){case Oe.up:{I.preventDefault(),C();break}case Oe.down:{I.preventDefault(),S();break}}},C=()=>{if(r.readonly||g.value||f.value)return;const I=Number(m.value)||0,D=w(I);k(D),s(Os,l.currentValue),R()},S=()=>{if(r.readonly||g.value||c.value)return;const I=Number(m.value)||0,D=w(I,-1);k(D),s(Os,l.currentValue),R()},$=(I,D)=>{const{max:M,min:z,step:W,precision:H,stepStrictly:U,valueOnClear:K}=r;M<z&&Ts("InputNumber","min should not be greater than max.");let G=Number(I);if(vs(I)||Number.isNaN(G))return null;if(I===""){if(K===null)return null;G=ot(K)?{min:z,max:M}[K]:K}return U&&(G=v(Math.round(v(G/W))*W,H),G!==I&&D&&s(Et,G)),yn(H)||(G=v(G,H)),(G>M||G<z)&&(G=G>M?M:z,D&&s(Et,G)),G},k=(I,D=!0)=>{var M;const z=l.currentValue,W=$(I);if(!D){s(Et,W);return}l.userInput=null,!(z===W&&I)&&(s(Et,W),z!==W&&s(en,W,z),r.validateEvent&&((M=u?.validate)==null||M.call(u,"change").catch(H=>void 0)),l.currentValue=W)},T=I=>{l.userInput=I;const D=I===""?null:Number(I);s(Os,D),k(D,!1)},_=I=>{const D=I!==""?Number(I):"";(pt(D)&&!Number.isNaN(D)||I==="")&&k(D),R(),l.userInput=null},E=()=>{var I,D;(D=(I=a.value)==null?void 0:I.focus)==null||D.call(I)},A=()=>{var I,D;(D=(I=a.value)==null?void 0:I.blur)==null||D.call(I)},N=I=>{s("focus",I)},F=I=>{var D,M;l.userInput=null,l.currentValue===null&&((D=a.value)!=null&&D.input)&&(a.value.input.value=""),s("blur",I),r.validateEvent&&((M=u?.validate)==null||M.call(u,"blur").catch(z=>void 0))},R=()=>{l.currentValue!==r.modelValue&&(l.currentValue=r.modelValue)},P=I=>{document.activeElement===I.target&&I.preventDefault()};return xe(()=>r.modelValue,(I,D)=>{const M=$(I,!0);l.userInput===null&&M!==D&&(l.currentValue=M)},{immediate:!0}),xe(()=>r.precision,()=>{l.currentValue=$(r.modelValue)}),Ht(()=>{var I;const{min:D,max:M,modelValue:z}=r,W=(I=a.value)==null?void 0:I.input;if(W.setAttribute("role","spinbutton"),Number.isFinite(M)?W.setAttribute("aria-valuemax",String(M)):W.removeAttribute("aria-valuemax"),Number.isFinite(D)?W.setAttribute("aria-valuemin",String(D)):W.removeAttribute("aria-valuemin"),W.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),W.setAttribute("aria-disabled",String(g.value)),!pt(z)&&z!=null){let H=Number(z);Number.isNaN(H)&&(H=null),s(Et,H)}W.addEventListener("wheel",P,{passive:!1})}),Yc(()=>{var I,D;const M=(I=a.value)==null?void 0:I.input;M?.setAttribute("aria-valuenow",`${(D=l.currentValue)!=null?D:""}`)}),t({focus:E,blur:A}),(I,D)=>(B(),Y("div",{class:V([x(i).b(),x(i).m(x(p)),x(i).is("disabled",x(g)),x(i).is("without-controls",!I.controls),x(i).is("controls-right",h.value),x(i).is(I.align,!!I.align)]),onDragstart:D[0]||(D[0]=xt(()=>{},["prevent"]))},[I.controls?Lt((B(),Y("span",{key:0,role:"button","aria-label":x(o)("el.inputNumber.decrease"),class:V([x(i).e("decrease"),x(i).is("disabled",c.value)]),onKeydown:qr(S,["enter"])},[ce(I.$slots,"decrease-icon",{},()=>[ee(x(st),null,{default:ie(()=>[h.value?(B(),pe(x(th),{key:0})):(B(),pe(x(Pcn),{key:1}))]),_:1})])],42,Txn)),[[x(iM),S]]):fe("v-if",!0),I.controls?Lt((B(),Y("span",{key:1,role:"button","aria-label":x(o)("el.inputNumber.increase"),class:V([x(i).e("increase"),x(i).is("disabled",f.value)]),onKeydown:qr(C,["enter"])},[ce(I.$slots,"increase-icon",{},()=>[ee(x(st),null,{default:ie(()=>[h.value?(B(),pe(x(y5),{key:0})):(B(),pe(x(gLe),{key:1}))]),_:1})])],42,Axn)),[[x(iM),C]]):fe("v-if",!0),ee(x(Xi),{id:I.id,ref_key:"input",ref:a,type:"number",step:I.step,"model-value":m.value,placeholder:I.placeholder,readonly:I.readonly,disabled:x(g),size:x(p),max:I.max,min:I.min,name:I.name,"aria-label":I.ariaLabel,"validate-event":!1,inputmode:I.inputmode,onKeydown:b,onBlur:F,onFocus:N,onInput:T,onChange:_},ml({_:2},[I.$slots.prefix?{name:"prefix",fn:ie(()=>[ce(I.$slots,"prefix")]),key:"0"}:void 0,I.$slots.suffix?{name:"suffix",fn:ie(()=>[ce(I.$slots,"suffix")]),key:"1"}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],34))}});var Nxn=Ve(Ixn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const y6e=Rt(Nxn),Dxn=Me({modelValue:{type:oe(Array)},max:Number,tagType:{...xp.type,default:"info"},tagEffect:xp.effect,trigger:{type:oe(String),default:Oe.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:js,clearable:Boolean,clearIcon:{type:zn,default:jp},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:oe(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),Oxn={[Et]:e=>De(e)||yn(e),[en]:e=>De(e)||yn(e),[Os]:e=>ot(e),"add-tag":e=>ot(e)||De(e),"remove-tag":(e,t)=>ot(e)&&pt(t),"drag-tag":(e,t,n)=>pt(e)&&pt(t)&&ot(n),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Rxn({props:e,emit:t,formItem:n}){const r=jr(),s=Fs(),o=cr(),i=j(),a=j(),l=O(()=>["small"].includes(s.value)?"small":"default"),u=O(()=>{var R;return(R=e.modelValue)!=null&&R.length?void 0:e.placeholder}),c=O(()=>!(e.readonly||r.value)),f=O(()=>{var R,P;return yn(e.max)?!1:((P=(R=e.modelValue)==null?void 0:R.length)!=null?P:0)>=e.max}),d=O(()=>{var R;return e.collapseTags?(R=e.modelValue)==null?void 0:R.slice(0,e.maxCollapseTags):e.modelValue}),h=O(()=>{var R;return e.collapseTags?(R=e.modelValue)==null?void 0:R.slice(e.maxCollapseTags):[]}),p=R=>{var P;const I=[...(P=e.modelValue)!=null?P:[],...vo(R)];t(Et,I),t(en,I),t("add-tag",R),i.value=void 0},g=R=>{var P,I;const D=R.split(e.delimiter).filter(M=>M&&M!==R);if(e.max){const M=e.max-((I=(P=e.modelValue)==null?void 0:P.length)!=null?I:0);D.splice(M)}return D.length===1?D[0]:D},m=R=>{if(f.value){i.value=void 0;return}if(!E.value){if(e.delimiter&&i.value){const P=g(i.value);P.length&&p(P)}t(Os,R.target.value)}},v=R=>{var P;if(E.value)return;switch(Hn(R)){case e.trigger:R.preventDefault(),R.stopPropagation(),w();break;case Oe.numpadEnter:e.trigger===Oe.enter&&(R.preventDefault(),R.stopPropagation(),w());break;case Oe.backspace:!i.value&&((P=e.modelValue)!=null&&P.length)&&(R.preventDefault(),R.stopPropagation(),b(e.modelValue.length-1));break}},y=R=>{if(E.value||!bLe())return;Hn(R)===Oe.space&&e.trigger===Oe.space&&(R.preventDefault(),R.stopPropagation(),w())},w=()=>{var R;const P=(R=i.value)==null?void 0:R.trim();!P||f.value||p(P)},b=R=>{var P;const I=((P=e.modelValue)!=null?P:[]).slice(),[D]=I.splice(R,1);t(Et,I),t(en,I),t("remove-tag",D,R)},C=()=>{i.value=void 0,t(Et,void 0),t(en,void 0),t("clear")},S=(R,P,I)=>{var D;const M=((D=e.modelValue)!=null?D:[]).slice(),[z]=M.splice(R,1),W=P>R&&I==="before"?-1:P<R&&I==="after"?1:0;M.splice(P+W,0,z),t(Et,M),t(en,M),t("drag-tag",R,P+W,z)},$=()=>{var R;(R=o.value)==null||R.focus()},k=()=>{var R;(R=o.value)==null||R.blur()},{wrapperRef:T,isFocused:_}=Hp(o,{disabled:r,beforeBlur(R){var P;return(P=a.value)==null?void 0:P.isFocusInsideContent(R)},afterBlur(){var R;e.saveOnBlur?w():i.value=void 0,e.validateEvent&&((R=n?.validate)==null||R.call(n,"blur").catch(P=>void 0))}}),{isComposing:E,handleCompositionStart:A,handleCompositionUpdate:N,handleCompositionEnd:F}=_I({afterComposition:m});return xe(()=>e.modelValue,()=>{var R;e.validateEvent&&((R=n?.validate)==null||R.call(n,en).catch(P=>void 0))}),{inputRef:o,wrapperRef:T,tagTooltipRef:a,isFocused:_,isComposing:E,inputValue:i,size:s,tagSize:l,placeholder:u,closable:c,disabled:r,inputLimit:f,showTagList:d,collapseTagList:h,handleDragged:S,handleInput:m,handleKeydown:v,handleKeyup:y,handleAddTag:w,handleRemoveTag:b,handleClear:C,handleCompositionStart:A,handleCompositionUpdate:N,handleCompositionEnd:F,focus:$,blur:k}}function Fxn(){const e=j(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}const I5=11,b6e=2;function Kne(){const e=cr(),t=j(0),n=O(()=>({minWidth:`${Math.max(t.value,I5)}px`}));return Cr(e,()=>{var s,o;t.value=(o=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}function Mxn({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=Ae("input-tag"),s=cr(),o=j(!1);let i,a,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,g){i=g,a=e.value.querySelector(c(g)),a&&(a.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,g){if(l=g,p.preventDefault(),p.dataTransfer.dropEffect="move",yn(i)||i===g){o.value=!1;return}const m=e.value.querySelector(c(g)).getBoundingClientRect(),v=i+1!==g,y=i-1!==g,w=p.clientX-m.left,b=v?y?.5:1:-1,C=y?v?.5:0:1;w<=m.width*b?u="before":w>m.width*C?u="after":u=void 0;const S=e.value.querySelector(`.${r.e("inner")}`),$=S.getBoundingClientRect(),k=Number.parseFloat(Th(S,"gap"))/2,T=m.top-$.top;let _=-9999;if(u==="before")_=Math.max(m.left-$.left-k,Math.floor(-k/2));else if(u==="after"){const E=m.right-$.left;_=E+($.width===E?Math.floor(k/2):k)}fLe(s.value,{top:`${T}px`,left:`${_}px`}),o.value=!!u}function h(p){p.preventDefault(),a&&(a.style.opacity=""),u&&!yn(i)&&!yn(l)&&i!==l&&t(i,l,u),o.value=!1,i=void 0,a=null,l=void 0,u=void 0,n?.()}return{dropIndicatorRef:s,showDropIndicator:o,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function Pxn({props:e,isFocused:t,hovering:n,disabled:r,inputValue:s,size:o,validateState:i,validateIcon:a,needStatusIcon:l}){const u=$p(),c=Ms(),f=Ae("input-tag"),d=Ae("input"),h=j(),p=j(),g=O(()=>[f.b(),f.is("focused",t.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(o.value),f.e("wrapper"),u.class]),m=O(()=>[u.style]),v=O(()=>{var T,_;return[f.e("inner"),f.is("draggable",e.draggable),f.is("left-space",!((T=e.modelValue)!=null&&T.length)&&!c.prefix),f.is("right-space",!((_=e.modelValue)!=null&&_.length)&&!w.value)]}),y=O(()=>{var T;return e.clearable&&!r.value&&!e.readonly&&(((T=e.modelValue)==null?void 0:T.length)||s.value)&&(t.value||n.value)}),w=O(()=>c.suffix||y.value||i.value&&a.value&&l.value),b=In({innerWidth:0,collapseItemWidth:0}),C=()=>{if(!p.value)return 0;const T=window.getComputedStyle(p.value);return Number.parseFloat(T.gap||"6px")},S=()=>{b.innerWidth=Number.parseFloat(window.getComputedStyle(p.value).width)},$=()=>{b.collapseItemWidth=h.value.getBoundingClientRect().width},k=O(()=>{if(!e.collapseTags)return{};const T=C(),_=T+I5,E=h.value&&e.maxCollapseTags===1?b.innerWidth-b.collapseItemWidth-T-_:b.innerWidth-_;return{maxWidth:`${Math.max(E,0)}px`}});return Cr(p,S),Cr(h,$),{ns:f,nsInput:d,containerKls:g,containerStyle:m,innerKls:v,showClear:y,showSuffix:w,tagStyle:k,collapseItemRef:h,innerRef:p}}const Lxn=["id","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel"],Bxn=["textContent"],zxn=me({name:"ElInputTag",inheritAttrs:!1,__name:"input-tag",props:Dxn,emits:Oxn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=x5(),i=Ms(),{form:a,formItem:l}=Ro(),{inputId:u}=au(r,{formItemContext:l}),c=O(()=>{var Ie;return(Ie=a?.statusIcon)!=null?Ie:!1}),f=O(()=>l?.validateState||""),d=O(()=>f.value&&w5[f.value]),{inputRef:h,wrapperRef:p,tagTooltipRef:g,isFocused:m,inputValue:v,size:y,tagSize:w,placeholder:b,closable:C,disabled:S,showTagList:$,collapseTagList:k,handleDragged:T,handleInput:_,handleKeydown:E,handleKeyup:A,handleRemoveTag:N,handleClear:F,handleCompositionStart:R,handleCompositionUpdate:P,handleCompositionEnd:I,focus:D,blur:M}=Rxn({props:r,emit:s,formItem:l}),{hovering:z,handleMouseEnter:W,handleMouseLeave:H}=Fxn(),{calculatorRef:U,inputStyle:K}=Kne(),{dropIndicatorRef:G,showDropIndicator:re,handleDragStart:ue,handleDragOver:ae,handleDragEnd:X}=Mxn({wrapperRef:p,handleDragged:T,afterDragged:D}),{ns:J,nsInput:q,containerKls:L,containerStyle:Q,innerKls:se,showClear:de,showSuffix:he,tagStyle:ge,collapseItemRef:$e,innerRef:He}=Pxn({props:r,hovering:z,isFocused:m,inputValue:v,disabled:S,size:y,validateState:f,validateIcon:d,needStatusIcon:c});return t({focus:D,blur:M}),(Ie,Ce)=>(B(),Y("div",{ref_key:"wrapperRef",ref:p,class:V(x(L)),style:dt(x(Q)),onMouseenter:Ce[8]||(Ce[8]=(...Re)=>x(W)&&x(W)(...Re)),onMouseleave:Ce[9]||(Ce[9]=(...Re)=>x(H)&&x(H)(...Re))},[x(i).prefix?(B(),Y("div",{key:0,class:V(x(J).e("prefix"))},[ce(Ie.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref_key:"innerRef",ref:He,class:V(x(se))},[(B(!0),Y(it,null,Xt(x($),(Re,ze)=>(B(),pe(x(Jh),{key:ze,size:x(w),closable:x(C),type:Ie.tagType,effect:Ie.tagEffect,draggable:x(C)&&Ie.draggable,style:dt(x(ge)),"disable-transitions":"",onClose:Ue=>x(N)(ze),onDragstart:Ue=>x(ue)(Ue,ze),onDragover:Ue=>x(ae)(Ue,ze),onDragend:x(X),onDrop:Ce[0]||(Ce[0]=xt(()=>{},["stop"]))},{default:ie(()=>[ce(Ie.$slots,"tag",{value:Re,index:ze},()=>[tn(Fe(Re),1)])]),_:2},1032,["size","closable","type","effect","draggable","style","onClose","onDragstart","onDragover","onDragend"]))),128)),Ie.collapseTags&&Ie.modelValue&&Ie.modelValue.length>Ie.maxCollapseTags?(B(),pe(x(Xo),{key:0,ref_key:"tagTooltipRef",ref:g,disabled:!Ie.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:Ie.tagEffect,placement:"bottom"},{default:ie(()=>[Z("div",{ref_key:"collapseItemRef",ref:$e},[ee(x(Jh),{closable:!1,size:x(w),type:Ie.tagType,effect:Ie.tagEffect,"disable-transitions":""},{default:ie(()=>[tn(" + "+Fe(Ie.modelValue.length-Ie.maxCollapseTags),1)]),_:1},8,["size","type","effect"])],512)]),content:ie(()=>[Z("div",{class:V(x(J).e("input-tag-list"))},[(B(!0),Y(it,null,Xt(x(k),(Re,ze)=>(B(),pe(x(Jh),{key:ze,size:x(w),closable:x(C),type:Ie.tagType,effect:Ie.tagEffect,"disable-transitions":"",onClose:Ue=>x(N)(ze+Ie.maxCollapseTags)},{default:ie(()=>[ce(Ie.$slots,"tag",{value:Re,index:ze+Ie.maxCollapseTags},()=>[tn(Fe(Re),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):fe("v-if",!0),Z("div",{class:V(x(J).e("input-wrapper"))},[Lt(Z("input",Wt({id:x(u),ref_key:"inputRef",ref:h,"onUpdate:modelValue":Ce[1]||(Ce[1]=Re=>fr(v)?v.value=Re:null)},x(o),{type:"text",minlength:Ie.minlength,maxlength:Ie.maxlength,disabled:x(S),readonly:Ie.readonly,autocomplete:Ie.autocomplete,tabindex:Ie.tabindex,placeholder:x(b),autofocus:Ie.autofocus,ariaLabel:Ie.ariaLabel,class:x(J).e("input"),style:x(K),onCompositionstart:Ce[2]||(Ce[2]=(...Re)=>x(R)&&x(R)(...Re)),onCompositionupdate:Ce[3]||(Ce[3]=(...Re)=>x(P)&&x(P)(...Re)),onCompositionend:Ce[4]||(Ce[4]=(...Re)=>x(I)&&x(I)(...Re)),onInput:Ce[5]||(Ce[5]=(...Re)=>x(_)&&x(_)(...Re)),onKeydown:Ce[6]||(Ce[6]=(...Re)=>x(E)&&x(E)(...Re)),onKeyup:Ce[7]||(Ce[7]=(...Re)=>x(A)&&x(A)(...Re))}),null,16,Lxn),[[zM,x(v)]]),Z("span",{ref_key:"calculatorRef",ref:U,"aria-hidden":"true",class:V(x(J).e("input-calculator")),textContent:Fe(x(v))},null,10,Bxn)],2),Lt(Z("div",{ref_key:"dropIndicatorRef",ref:G,class:V(x(J).e("drop-indicator"))},null,2),[[Sn,x(re)]])],2),x(he)?(B(),Y("div",{key:1,class:V(x(J).e("suffix"))},[ce(Ie.$slots,"suffix"),x(de)?(B(),pe(x(st),{key:0,class:V([x(J).e("icon"),x(J).e("clear")]),onMousedown:xt(x(Rn),["prevent"]),onClick:x(F)},{default:ie(()=>[(B(),pe(zt(Ie.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):fe("v-if",!0),f.value&&d.value&&c.value?(B(),pe(x(st),{key:1,class:V([x(q).e("icon"),x(q).e("validateIcon"),x(q).is("loading",f.value==="validating")])},{default:ie(()=>[(B(),pe(zt(d.value)))]),_:1},8,["class"])):fe("v-if",!0)],2)):fe("v-if",!0)],38))}});var Vxn=Ve(zxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-tag/src/input-tag.vue"]]);const Wxn=Rt(Vxn),Uxn=Me({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:zn}}),jxn={click:e=>e instanceof MouseEvent},Hxn=["href","target"],qxn=me({name:"ElLink",__name:"link",props:Uxn,emits:jxn,setup(e,{emit:t}){const n=e,r=t,s=GC("link");sd({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},O(()=>Ln(n.underline)));const o=Ae("link"),i=O(()=>{var u,c,f;return[o.b(),o.m((f=(c=n.type)!=null?c:(u=s.value)==null?void 0:u.type)!=null?f:"default"),o.is("disabled",n.disabled),o.is("underline",a.value==="always"),o.is("hover-underline",a.value==="hover"&&!n.disabled)]}),a=O(()=>{var u,c,f;return Ln(n.underline)?n.underline?"hover":"never":(f=(c=n.underline)!=null?c:(u=s.value)==null?void 0:u.underline)!=null?f:"hover"});function l(u){n.disabled||r("click",u)}return(u,c)=>(B(),Y("a",{class:V(i.value),href:u.disabled||!u.href?void 0:u.href,target:u.disabled||!u.href?void 0:u.target,onClick:l},[u.icon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(u.icon)))]),_:1})):fe("v-if",!0),u.$slots.default?(B(),Y("span",{key:1,class:V(x(o).e("inner"))},[ce(u.$slots,"default")],2)):fe("v-if",!0),u.$slots.icon?ce(u.$slots,"icon",{key:2}):fe("v-if",!0)],10,Hxn))}});var Gxn=Ve(qxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Kxn=Rt(Gxn);let Yxn=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{const s=Hn(r);let o=!1;switch(s){case Oe.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case Oe.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case Oe.tab:{B3(t,"mouseleave");break}case Oe.enter:case Oe.numpadEnter:case Oe.space:{o=!0,r.currentTarget.click();break}}return o&&(r.preventDefault(),r.stopPropagation()),!1})})}},Xxn=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new Yxn(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{const n=Hn(t);let r=!1;switch(n){case Oe.down:{B3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Oe.up:{B3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Oe.tab:{B3(t.currentTarget,"mouseleave");break}case Oe.enter:case Oe.numpadEnter:case Oe.space:{r=!0,t.currentTarget.click();break}}r&&t.preventDefault()})}},Zxn=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new Xxn(r,t)})}};const Jxn=me({name:"ElMenuCollapseTransition",__name:"menu-collapse-transition",setup(e){const t=Ae("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,s){Tu(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",s()},onAfterEnter(r){ia(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),td(r,t.m("collapse"))?(ia(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Tu(r,t.m("collapse"))):(Tu(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),ia(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Tu(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,s)=>(B(),pe(Ho,Wt({mode:"out-in"},n),{default:ie(()=>[ce(r.$slots,"default")]),_:3},16))}});var Qxn=Ve(Jxn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function w6e(e,t){const n=O(()=>{let s=e.parent;const o=[t.value];for(;s.type.name!=="ElMenu";)s.props.index&&o.unshift(s.props.index),s=s.parent;return o});return{parentMenu:O(()=>{let s=e.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function e2n(e){return O(()=>{const n=e.backgroundColor;return n?new Zb(n).shade(20).toString():""})}const x6e=(e,t)=>{const n=Ae("menu");return O(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":e2n(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Yne="rootMenu",fM="subMenu:",t2n=Me({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:oe([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:zn},expandOpenIcon:{type:zn},collapseCloseIcon:{type:zn},collapseOpenIcon:{type:zn}}),W7="ElSubMenu";var Xne=me({name:W7,props:t2n,setup(e,{slots:t,expose:n}){const r=Ut(),{indexPath:s,parentMenu:o}=w6e(r,O(()=>e.index)),i=Ae("menu"),a=Ae("sub-menu"),l=tt(Yne);l||Ts(W7,"can not inject root menu");const u=tt(`${fM}${o.value.uid}`);u||Ts(W7,"can not inject sub menu");const c=j({}),f=j({});let d;const h=j(!1),p=j(),g=j(),m=O(()=>u.level===0),v=O(()=>k.value==="horizontal"&&m.value?"bottom-start":"right-start"),y=O(()=>k.value==="horizontal"&&m.value||k.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:th:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:aa),w=O(()=>{const H=e.teleported;return yn(H)?m.value:H}),b=O(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),C=O(()=>k.value==="horizontal"&&m.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=O(()=>l.openedMenus.includes(e.index)),$=O(()=>[...Object.values(c.value),...Object.values(f.value)].some(({active:H})=>H)),k=O(()=>l.props.mode),T=O(()=>l.props.persistent),_=In({index:e.index,indexPath:s,active:$}),E=x6e(l.props,u.level+1),A=O(()=>{var H;return(H=e.popperOffset)!=null?H:l.props.popperOffset}),N=O(()=>{var H;return(H=e.popperClass)!=null?H:l.props.popperClass}),F=O(()=>{var H;return(H=e.popperStyle)!=null?H:l.props.popperStyle}),R=O(()=>{var H;return(H=e.showTimeout)!=null?H:l.props.showTimeout}),P=O(()=>{var H;return(H=e.hideTimeout)!=null?H:l.props.hideTimeout}),I=()=>{var H,U,K;return(K=(U=(H=g.value)==null?void 0:H.popperRef)==null?void 0:U.popperInstanceRef)==null?void 0:K.destroy()},D=H=>{H||I()},M=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:s.value,active:$.value})},z=(H,U=R.value)=>{var K;if(H.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d?.(),{stop:d}=Rx(()=>{l.openMenu(e.index,s.value)},U),w.value&&((K=o.value.vnode.el)==null||K.dispatchEvent(new MouseEvent("mouseenter"))),H.type==="mouseenter"&&H.target&&Ye(()=>{EI(H.target,{preventScroll:!0})})}},W=(H=!1)=>{var U;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d?.(),u.mouseInChild.value=!1,{stop:d}=Rx(()=>!h.value&&l.closeMenu(e.index,s.value),P.value),w.value&&H&&((U=u.handleMouseleave)==null||U.call(u,!0))};xe(()=>l.props.collapse,H=>D(!!H));{const H=K=>{f.value[K.index]=K},U=K=>{delete f.value[K.index]};ln(`${fM}${r.uid}`,{addSubMenu:H,removeSubMenu:U,handleMouseleave:W,mouseInChild:h,level:u.level+1})}return n({opened:S}),Ht(()=>{l.addSubMenu(_),u.addSubMenu(_)}),Dn(()=>{u.removeSubMenu(_),l.removeSubMenu(_)}),()=>{var H;const U=[(H=t.title)==null?void 0:H.call(t),bt(st,{class:a.e("icon-arrow"),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ot(y.value)?bt(r.appContext.components[y.value]):bt(y.value)})],K=l.isMenuPopup?bt(Xo,{ref:g,visible:S.value,effect:"light",pure:!0,offset:A.value,showArrow:!1,persistent:T.value,popperClass:N.value,popperStyle:F.value,placement:v.value,teleported:w.value,fallbackPlacements:C.value,transition:b.value,gpuAcceleration:!1},{content:()=>{var G;return bt("div",{class:[i.m(k.value),i.m("popup-container"),N.value],onMouseenter:re=>z(re,100),onMouseleave:()=>W(!0),onFocus:re=>z(re,100)},[bt("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${v.value}`)],style:E.value},[(G=t.default)==null?void 0:G.call(t)])])},default:()=>bt("div",{class:a.e("title"),onClick:M},U)}):bt(it,{},[bt("div",{class:a.e("title"),ref:p,onClick:M},U),bt(E5,{},{default:()=>{var G;return Lt(bt("ul",{role:"menu",class:[i.b(),i.m("inline")],style:E.value},[(G=t.default)==null?void 0:G.call(t)]),[[Sn,S.value]])}})]);return bt("li",{class:[a.b(),a.is("active",$.value),a.is("opened",S.value),a.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:z,onMouseleave:()=>W(),onFocus:z},[K])}}});const n2n=Me({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:oe(Array),default:()=>zr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:zn,default:()=>zcn},popperEffect:{type:oe(String),default:"dark"},popperClass:String,popperStyle:{type:oe([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),U7=e=>De(e)&&e.every(t=>ot(t)),r2n={close:(e,t)=>ot(e)&&U7(t),open:(e,t)=>ot(e)&&U7(t),select:(e,t,n,r)=>ot(e)&&U7(t)&&Pt(n)&&(yn(r)||r instanceof Promise)},n0e=64;var s2n=me({name:"ElMenu",props:n2n,emits:r2n,setup(e,{emit:t,slots:n,expose:r}){const s=Ut(),o=s.appContext.config.globalProperties.$router,i=j(),a=j(),l=Ae("menu"),u=Ae("sub-menu");let c=n0e;const f=j(-1),d=j(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),h=j(e.defaultActive),p=j({}),g=j({}),m=O(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),v=()=>{const I=h.value&&p.value[h.value];if(!I||e.mode==="horizontal"||e.collapse)return;I.indexPath.forEach(M=>{const z=g.value[M];z&&y(M,z.indexPath)})},y=(I,D)=>{d.value.includes(I)||(e.uniqueOpened&&(d.value=d.value.filter(M=>D.includes(M))),d.value.push(I),t("open",I,D))},w=I=>{const D=d.value.indexOf(I);D!==-1&&d.value.splice(D,1)},b=(I,D)=>{w(I),t("close",I,D)},C=({index:I,indexPath:D})=>{d.value.includes(I)?b(I,D):y(I,D)},S=I=>{(e.mode==="horizontal"||e.collapse)&&(d.value=[]);const{index:D,indexPath:M}=I;if(!(vs(D)||vs(M)))if(e.router&&o){const z=I.route||D,W=o.push(z).then(H=>(H||(h.value=D),H));t("select",D,M,{index:D,indexPath:M,route:z},W)}else h.value=D,t("select",D,M,{index:D,indexPath:M})},$=I=>{var D;const M=p.value,z=M[I]||h.value&&M[h.value]||M[e.defaultActive];h.value=(D=z?.index)!=null?D:I},k=I=>{const D=getComputedStyle(I),M=Number.parseInt(D.marginLeft,10),z=Number.parseInt(D.marginRight,10);return I.offsetWidth+M+z||0},T=()=>{if(!i.value)return-1;const I=Array.from(i.value.childNodes).filter(K=>K.nodeName!=="#comment"&&(K.nodeName!=="#text"||K.nodeValue)),D=getComputedStyle(i.value),M=Number.parseInt(D.paddingLeft,10),z=Number.parseInt(D.paddingRight,10),W=i.value.clientWidth-M-z;let H=0,U=0;return I.forEach((K,G)=>{H+=k(K),H<=W-c&&(U=G+1)}),U===I.length?-1:U},_=I=>g.value[I].indexPath,E=(I,D=33.34)=>{let M;return()=>{M&&clearTimeout(M),M=setTimeout(()=>{I()},D)}};let A=!0;const N=()=>{const I=Vs(a);if(I&&(c=k(I)||n0e),f.value===T())return;const D=()=>{f.value=-1,Ye(()=>{f.value=T()})};A?D():E(D)(),A=!1};xe(()=>e.defaultActive,I=>{p.value[I]||(h.value=""),$(I)}),xe(()=>e.collapse,I=>{I&&(d.value=[])}),xe(p.value,v);let F;gl(()=>{e.mode==="horizontal"&&e.ellipsis?F=Cr(i,N).stop:F?.()});const R=j(!1);{const I=W=>{g.value[W.index]=W},D=W=>{delete g.value[W.index]};ln(Yne,In({props:e,openedMenus:d,items:p,subMenus:g,activeIndex:h,isMenuPopup:m,addMenuItem:W=>{p.value[W.index]=W},removeMenuItem:W=>{delete p.value[W.index]},addSubMenu:I,removeSubMenu:D,openMenu:y,closeMenu:b,handleMenuItemClick:S,handleSubMenuClick:C})),ln(`${fM}${s.uid}`,{addSubMenu:I,removeSubMenu:D,mouseInChild:R,level:0})}Ht(()=>{e.mode==="horizontal"&&new Zxn(s.vnode.el,l.namespace.value)}),r({open:D=>{const{indexPath:M}=g.value[D];M.forEach(z=>y(z,M))},close:w,updateActiveIndex:$,handleResize:N});const P=x6e(e,0);return()=>{var I,D;let M=(D=(I=n.default)==null?void 0:I.call(n))!=null?D:[];const z=[];if(e.mode==="horizontal"&&i.value){const U=Cc(M).filter(re=>re?.shapeFlag!==8),K=f.value===-1?U:U.slice(0,f.value),G=f.value===-1?[]:U.slice(f.value);G?.length&&e.ellipsis&&(M=K,z.push(bt(Xne,{ref:a,index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>bt(st,{class:u.e("icon-more")},{default:()=>bt(e.ellipsisIcon)}),default:()=>G})))}const W=e.closeOnClickOutside?[[Jm,()=>{d.value.length&&(R.value||(d.value.forEach(U=>t("close",U,_(U))),d.value=[]))}]]:[],H=Lt(bt("ul",{key:String(e.collapse),role:"menubar",ref:i,style:P.value,class:{[l.b()]:!0,[l.m(e.mode)]:!0,[l.m("collapse")]:e.collapse}},[...M,...z]),W);return e.collapseTransition&&e.mode==="vertical"?bt(Qxn,()=>H):H}}});const o2n=Me({index:{type:oe([String,null]),default:null},route:{type:oe([String,Object])},disabled:Boolean}),i2n={click:e=>ot(e.index)&&De(e.indexPath)},j7="ElMenuItem",a2n=me({name:j7,__name:"menu-item",props:o2n,emits:i2n,setup(e,{expose:t,emit:n}){const r=e,s=n;cl(r.index)&&void 0;const o=Ut(),i=tt(Yne),a=Ae("menu"),l=Ae("menu-item");i||Ts(j7,"can not inject root menu");const{parentMenu:u,indexPath:c}=w6e(o,Bn(r,"index")),f=tt(`${fM}${u.value.uid}`);f||Ts(j7,"can not inject sub menu");const d=O(()=>r.index===i.activeIndex),h=In({index:r.index,indexPath:c,active:d}),p=()=>{r.disabled||(i.handleMenuItemClick({index:r.index,indexPath:c.value,route:r.route}),s("click",h))};return Ht(()=>{f.addSubMenu(h),i.addMenuItem(h)}),Dn(()=>{f.removeSubMenu(h),i.removeMenuItem(h)}),t({parentMenu:u,rootMenu:i,active:d,nsMenu:a,nsMenuItem:l,handleClick:p}),(g,m)=>(B(),Y("li",{class:V([x(l).b(),x(l).is("active",d.value),x(l).is("disabled",g.disabled)]),role:"menuitem",tabindex:"-1",onClick:p},[x(u).type.name==="ElMenu"&&x(i).props.collapse&&g.$slots.title?(B(),pe(x(Xo),{key:0,effect:x(i).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":x(i).props.popperClass,"popper-style":x(i).props.popperStyle,persistent:x(i).props.persistent,"focus-on-target":""},{content:ie(()=>[ce(g.$slots,"title")]),default:ie(()=>[Z("div",{class:V(x(a).be("tooltip","trigger"))},[ce(g.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(B(),Y(it,{key:1},[ce(g.$slots,"default"),ce(g.$slots,"title")],64))],2))}});var C6e=Ve(a2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const l2n={title:String},u2n=me({name:"ElMenuItemGroup",__name:"menu-item-group",props:l2n,setup(e){const t=Ae("menu-item-group");return(n,r)=>(B(),Y("li",{class:V(x(t).b())},[Z("div",{class:V(x(t).e("title"))},[n.$slots.title?ce(n.$slots,"title",{key:1}):(B(),Y(it,{key:0},[tn(Fe(n.title),1)],64))],2),Z("ul",null,[ce(n.$slots,"default")])],2))}});var S6e=Ve(u2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const c2n=Rt(s2n,{MenuItem:C6e,MenuItemGroup:S6e,SubMenu:Xne}),f2n=Ur(C6e),d2n=Ur(S6e),h2n=Ur(Xne),p2n=Me({icon:{type:zn,default:()=>ccn},title:String,content:{type:String,default:""}}),g2n={back:()=>!0},m2n=["aria-label"],v2n=me({name:"ElPageHeader",__name:"page-header",props:p2n,emits:g2n,setup(e,{emit:t}){const n=t,{t:r}=un(),s=Ae("page-header");function o(){n("back")}return(i,a)=>(B(),Y("div",{class:V([x(s).b(),x(s).is("contentful",!!i.$slots.default),{[x(s).m("has-breadcrumb")]:!!i.$slots.breadcrumb,[x(s).m("has-extra")]:!!i.$slots.extra}])},[i.$slots.breadcrumb?(B(),Y("div",{key:0,class:V(x(s).e("breadcrumb"))},[ce(i.$slots,"breadcrumb")],2)):fe("v-if",!0),Z("div",{class:V(x(s).e("header"))},[Z("div",{class:V(x(s).e("left"))},[Z("div",{class:V(x(s).e("back")),role:"button",tabindex:"0",onClick:o},[i.icon||i.$slots.icon?(B(),Y("div",{key:0,"aria-label":i.title||x(r)("el.pageHeader.title"),class:V(x(s).e("icon"))},[ce(i.$slots,"icon",{},()=>[i.icon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(i.icon)))]),_:1})):fe("v-if",!0)])],10,m2n)):fe("v-if",!0),Z("div",{class:V(x(s).e("title"))},[ce(i.$slots,"title",{},()=>[tn(Fe(i.title||x(r)("el.pageHeader.title")),1)])],2)],2),ee(x(o6e),{direction:"vertical"}),Z("div",{class:V(x(s).e("content"))},[ce(i.$slots,"content",{},()=>[tn(Fe(i.content),1)])],2)],2),i.$slots.extra?(B(),Y("div",{key:0,class:V(x(s).e("extra"))},[ce(i.$slots,"extra")],2)):fe("v-if",!0)],2),i.$slots.default?(B(),Y("div",{key:1,class:V(x(s).e("main"))},[ce(i.$slots,"default")],2)):fe("v-if",!0)],2))}});var y2n=Ve(v2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const b2n=Rt(y2n),$6e=Symbol("elPaginationKey"),w2n=Me({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:zn}}),x2n={click:e=>e instanceof MouseEvent},C2n=["disabled","aria-label","aria-disabled"],S2n={key:0},$2n=me({name:"ElPaginationPrev",__name:"prev",props:w2n,emits:x2n,setup(e){const t=e,{t:n}=un(),r=O(()=>t.disabled||t.currentPage<=1);return(s,o)=>(B(),Y("button",{type:"button",class:"btn-prev",disabled:r.value,"aria-label":s.prevText||x(n)("el.pagination.prev"),"aria-disabled":r.value,onClick:o[0]||(o[0]=i=>s.$emit("click",i))},[s.prevText?(B(),Y("span",S2n,Fe(s.prevText),1)):(B(),pe(x(st),{key:1},{default:ie(()=>[(B(),pe(zt(s.prevIcon)))]),_:1}))],8,C2n))}});var k2n=Ve($2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const E2n=Me({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:zn}}),_2n=["disabled","aria-label","aria-disabled"],T2n={key:0},A2n=me({name:"ElPaginationNext",__name:"next",props:E2n,emits:["click"],setup(e){const t=e,{t:n}=un(),r=O(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(s,o)=>(B(),Y("button",{type:"button",class:"btn-next",disabled:r.value,"aria-label":s.nextText||x(n)("el.pagination.next"),"aria-disabled":r.value,onClick:o[0]||(o[0]=i=>s.$emit("click",i))},[s.nextText?(B(),Y("span",T2n,Fe(s.nextText),1)):(B(),pe(x(st),{key:1},{default:ie(()=>[(B(),pe(zt(s.nextIcon)))]),_:1}))],8,_2n))}});var I2n=Ve(A2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const dM={label:"label",value:"value",disabled:"disabled",options:"options"};function DI(e){const t=j({...dM,...e.props});let n={...e.props};return xe(()=>e.props,a=>{Gr(a,n)||(t.value={...dM,...a},n={...a})},{deep:!0}),{aliasProps:t,getLabel:a=>Es(a,t.value.label),getValue:a=>Es(a,t.value.value),getDisabled:a=>Es(a,t.value.disabled),getOptions:a=>Es(a,t.value.options)}}const k6e=Symbol("ElSelectGroup"),OI=Symbol("ElSelect"),$H="ElOption",N2n=Me({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),Zne=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Tg=e=>T_(e);function D2n(e,t){const n=tt(OI);n||Ts($H,"usage: <el-select><el-option /></el-select/>");const r=tt(k6e,{disabled:!1}),s=O(()=>c(vo(n.props.modelValue),e.value)),o=O(()=>{var h;if(n.props.multiple){const p=vo((h=n.props.modelValue)!=null?h:[]);return!s.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),i=O(()=>{var h;return(h=e.label)!=null?h:Pt(e.value)?"":e.value}),a=O(()=>e.value||e.label||""),l=O(()=>e.disabled||t.groupDisabled||o.value),u=Ut(),c=(h=[],p)=>{if(Pt(e.value)){const g=n.props.valueKey;return h&&h.some(m=>nr(Es(m,g))===Es(p,g))}else return h&&h.includes(p)},f=()=>{l.value||(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(Zne(h),"i");t.visible=p.test(String(i.value))||e.created};return xe(()=>i.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),xe(()=>e.value,(h,p)=>{const{remote:g,valueKey:m}=n.props;if((g?h!==p:!Gr(h,p))&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!g){if(m&&Pt(h)&&Pt(p)&&h[m]===p[m])return;n.setSelected()}}),xe(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:i,currentValue:a,itemSelected:s,isDisabled:l,hoverItem:f,updateOption:d}}const O2n=me({name:$H,componentName:$H,props:N2n,setup(e){const t=Ae("select"),n=Yo(),r=O(()=>[t.be("dropdown","item"),t.is("disabled",x(a)),t.is("selected",x(i)),t.is("hovering",x(d))]),s=In({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:i,isDisabled:a,select:l,hoverItem:u,updateOption:c}=D2n(e,s),{visible:f,hover:d}=ao(s),h=Ut().proxy;l.onOptionCreate(h),Dn(()=>{const g=h.value;Ye(()=>{const{selected:m}=l.states,v=m.some(y=>y.value===h.value);l.states.cachedOptions.get(g)===h&&!v&&l.states.cachedOptions.delete(g)}),l.onOptionDestroy(g,h)});function p(){a.value||l.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:o,itemSelected:i,isDisabled:a,select:l,visible:f,hover:d,states:s,hoverItem:u,updateOption:c,selectOptionClick:p}}}),R2n=["id","aria-disabled","aria-selected"];function F2n(e,t,n,r,s,o){return Lt((B(),Y("li",{id:e.id,class:V(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=xt((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"])),onMousedown:t[2]||(t[2]=xt(()=>{},["prevent"]))},[ce(e.$slots,"default",{},()=>[Z("span",null,Fe(e.currentLabel),1)])],42,R2n)),[[Sn,e.visible]])}var Jne=Ve(O2n,[["render",F2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const M2n=me({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=tt(OI),t=Ae("select"),n=O(()=>e.props.popperClass),r=O(()=>e.props.multiple),s=O(()=>e.props.fitInputWidth),o=j("");function i(){var a;const l=(a=e.selectRef)==null?void 0:a.offsetWidth;l?o.value=`${l-b6e}px`:o.value=""}return Ht(()=>{i(),Cr(e.selectRef,i)}),{ns:t,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function P2n(e,t,n,r,s,o){return B(),Y("div",{class:V([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:dt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(B(),Y("div",{key:0,class:V(e.ns.be("dropdown","header"))},[ce(e.$slots,"header")],2)):fe("v-if",!0),ce(e.$slots,"default"),e.$slots.footer?(B(),Y("div",{key:1,class:V(e.ns.be("dropdown","footer"))},[ce(e.$slots,"footer")],2)):fe("v-if",!0)],6)}var L2n=Ve(M2n,[["render",P2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const B2n=(e,t)=>{const{t:n}=un(),r=Yo(),s=Ae("select"),o=Ae("input"),i=In({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=j(),l=j(),u=j(),c=j(),f=j(),d=j(),h=j(),p=j(),g=j(),m=j(),v=j(),y=j(!1),w=j(),b=j(!1),{form:C,formItem:S}=Ro(),{inputId:$}=au(e,{formItemContext:S}),{valueOnClear:k,isEmptyValue:T}=CI(e),{isComposing:_,handleCompositionStart:E,handleCompositionUpdate:A,handleCompositionEnd:N}=_I({afterComposition:Le=>at(Le)}),F=jr(),{wrapperRef:R,isFocused:P,handleBlur:I}=Hp(f,{disabled:F,afterFocus(){e.automaticDropdown&&!y.value&&(y.value=!0,i.menuVisibleOnFocus=!0)},beforeBlur(Le){var St,dn;return((St=u.value)==null?void 0:St.isFocusInsideContent(Le))||((dn=c.value)==null?void 0:dn.isFocusInsideContent(Le))},afterBlur(){var Le;y.value=!1,i.menuVisibleOnFocus=!1,e.validateEvent&&((Le=S?.validate)==null||Le.call(S,"blur").catch(St=>void 0))}}),D=O(()=>De(e.modelValue)?e.modelValue.length>0:!T(e.modelValue)),M=O(()=>{var Le;return(Le=C?.statusIcon)!=null?Le:!1}),z=O(()=>e.clearable&&!F.value&&D.value&&(P.value||i.inputHovering)),W=O(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),H=O(()=>s.is("reverse",!!(W.value&&y.value))),U=O(()=>S?.validateState||""),K=O(()=>U.value&&w5[U.value]),G=O(()=>e.remote?e.debounce:0),re=O(()=>e.remote&&!i.inputValue&&i.options.size===0),ue=O(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&i.inputValue&&i.options.size>0&&ae.value===0?e.noMatchText||n("el.select.noMatch"):i.options.size===0?e.noDataText||n("el.select.noData"):null),ae=O(()=>X.value.filter(Le=>Le.visible).length),X=O(()=>{const Le=Array.from(i.options.values()),St=[];return i.optionValues.forEach(dn=>{const yr=Le.findIndex(Hr=>Hr.value===dn);yr>-1&&St.push(Le[yr])}),St.length>=Le.length?St:Le}),J=O(()=>Array.from(i.cachedOptions.values())),q=O(()=>{const Le=X.value.filter(St=>!St.created).some(St=>St.currentLabel===i.inputValue);return e.filterable&&e.allowCreate&&i.inputValue!==""&&!Le}),L=()=>{e.filterable&&ft(e.filterMethod)||e.filterable&&e.remote&&ft(e.remoteMethod)||X.value.forEach(Le=>{var St;(St=Le.updateOption)==null||St.call(Le,i.inputValue)})},Q=Fs(),se=O(()=>["small"].includes(Q.value)?"small":"default"),de=O({get(){return y.value&&(e.loading||!re.value)&&(!b.value||!_a(i.previousQuery))},set(Le){y.value=Le}}),he=O(()=>{if(e.multiple&&!yn(e.modelValue))return vo(e.modelValue).length===0&&!i.inputValue;const Le=De(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||yn(Le)?!i.inputValue:!0}),ge=O(()=>{var Le;const St=(Le=e.placeholder)!=null?Le:n("el.select.placeholder");return e.multiple||!D.value?St:i.selectedLabel}),$e=O(()=>nM?null:"mouseenter");xe(()=>e.modelValue,(Le,St)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(i.inputValue="",He("")),Ce(),!Gr(Le,St)&&e.validateEvent&&S?.validate("change").catch(dn=>void 0)},{flush:"post",deep:!0}),xe(()=>y.value,Le=>{Le?He(i.inputValue):(i.inputValue="",i.previousQuery=null,i.isBeforeHide=!0)}),xe(()=>i.options.entries(),()=>{Tn&&(Ce(),e.defaultFirstOption&&(e.filterable||e.remote)&&ae.value&&Ie())},{flush:"post"}),xe([()=>i.hoveringIndex,X],([Le])=>{pt(Le)&&Le>-1?w.value=X.value[Le]||{}:w.value={},X.value.forEach(St=>{St.hover=w.value===St})}),gl(()=>{i.isBeforeHide||L()});const He=Le=>{i.previousQuery===Le||_.value||(i.previousQuery=Le,e.filterable&&ft(e.filterMethod)?e.filterMethod(Le):e.filterable&&e.remote&&ft(e.remoteMethod)&&e.remoteMethod(Le),e.defaultFirstOption&&(e.filterable||e.remote)&&ae.value?Ye(Ie):Ye(ze))},Ie=()=>{const Le=X.value.filter(Hr=>Hr.visible&&!Hr.disabled&&!Hr.states.groupDisabled),St=Le.find(Hr=>Hr.created),dn=Le[0],yr=X.value.map(Hr=>Hr.value);i.hoveringIndex=Se(yr,St||dn)},Ce=()=>{if(e.multiple)i.selectedLabel="";else{const St=De(e.modelValue)?e.modelValue[0]:e.modelValue,dn=Re(St);i.selectedLabel=dn.currentLabel,i.selected=[dn];return}const Le=[];yn(e.modelValue)||vo(e.modelValue).forEach(St=>{Le.push(Re(St))}),i.selected=Le},Re=Le=>{let St;const dn=bk(Le);for(let Fo=i.cachedOptions.size-1;Fo>=0;Fo--){const ho=J.value[Fo];if(dn?Es(ho.value,e.valueKey)===Es(Le,e.valueKey):ho.value===Le){St={index:X.value.filter(tc=>!tc.created).indexOf(ho),value:Le,currentLabel:ho.currentLabel,get isDisabled(){return ho.isDisabled}};break}}if(St)return St;const yr=dn?Le.label:Le??"";return{index:-1,value:Le,currentLabel:yr}},ze=()=>{const Le=i.selected.length;if(Le>0){const St=i.selected[Le-1];i.hoveringIndex=X.value.findIndex(dn=>ai(St)===ai(dn))}else i.hoveringIndex=-1},Ue=()=>{i.selectionWidth=Number.parseFloat(window.getComputedStyle(l.value).width)},rt=()=>{i.collapseItemWidth=m.value.getBoundingClientRect().width},ht=()=>{var Le,St;(St=(Le=u.value)==null?void 0:Le.updatePopper)==null||St.call(Le)},ye=()=>{var Le,St;(St=(Le=c.value)==null?void 0:Le.updatePopper)==null||St.call(Le)},Ge=()=>{i.inputValue.length>0&&!y.value&&(y.value=!0),He(i.inputValue)},at=Le=>{if(i.inputValue=Le.target.value,e.remote)b.value=!0,cn();else return Ge()},cn=bI(()=>{Ge(),b.value=!1},G),lt=Le=>{Gr(e.modelValue,Le)||t(en,Le)},Ft=Le=>HPe(Le,St=>{const dn=i.cachedOptions.get(St);return!dn?.disabled&&!dn?.states.groupDisabled}),Dt=Le=>{const St=Hn(Le);if(e.multiple&&St!==Oe.delete&&Le.target.value.length<=0){const dn=vo(e.modelValue).slice(),yr=Ft(dn);if(yr<0)return;const Hr=dn[yr];dn.splice(yr,1),t(Et,dn),lt(dn),t("remove-tag",Hr)}},qt=(Le,St)=>{const dn=i.selected.indexOf(St);if(dn>-1&&!F.value){const yr=vo(e.modelValue).slice();yr.splice(dn,1),t(Et,yr),lt(yr),t("remove-tag",St.value)}Le.stopPropagation(),wt()},Te=Le=>{Le.stopPropagation();const St=e.multiple?[]:k.value;if(e.multiple)for(const dn of i.selected)dn.isDisabled&&St.push(dn.value);t(Et,St),lt(St),i.hoveringIndex=-1,y.value=!1,t("clear"),wt()},Xe=Le=>{var St;if(e.multiple){const dn=vo((St=e.modelValue)!=null?St:[]).slice(),yr=Se(dn,Le);yr>-1?dn.splice(yr,1):(e.multipleLimit<=0||dn.length<e.multipleLimit)&&dn.push(Le.value),t(Et,dn),lt(dn),Le.created&&He(""),e.filterable&&!e.reserveKeyword&&(i.inputValue="")}else!Gr(e.modelValue,Le.value)&&t(Et,Le.value),lt(Le.value),y.value=!1;wt(),!y.value&&Ye(()=>{ct(Le)})},Se=(Le,St)=>yn(St)?-1:Pt(St.value)?Le.findIndex(dn=>Gr(Es(dn,e.valueKey),ai(St))):Le.indexOf(St.value),ct=Le=>{var St,dn,yr,Hr,Fo;const ho=De(Le)?Le[Le.length-1]:Le;let uu=null;if(!vs(ho?.value)){const tc=X.value.filter(Gp=>Gp.value===ho.value);tc.length>0&&(uu=tc[0].$el)}if(u.value&&uu){const tc=(Hr=(yr=(dn=(St=u.value)==null?void 0:St.popperRef)==null?void 0:dn.contentRef)==null?void 0:yr.querySelector)==null?void 0:Hr.call(yr,`.${s.be("dropdown","wrap")}`);tc&&fne(tc,uu)}(Fo=v.value)==null||Fo.handleScroll()},Yt=Le=>{i.options.set(Le.value,Le),i.cachedOptions.set(Le.value,Le)},Gn=(Le,St)=>{i.options.get(Le)===St&&i.options.delete(Le)},Ne=O(()=>{var Le,St;return(St=(Le=u.value)==null?void 0:Le.popperRef)==null?void 0:St.contentRef}),nt=()=>{i.isBeforeHide=!1,Ye(()=>{var Le;(Le=v.value)==null||Le.update(),ct(i.selected)})},wt=()=>{var Le;(Le=f.value)==null||Le.focus()},Fr=()=>{var Le;if(y.value){y.value=!1,Ye(()=>{var St;return(St=f.value)==null?void 0:St.blur()});return}(Le=f.value)==null||Le.blur()},da=Le=>{Te(Le)},bs=Le=>{if(y.value=!1,P.value){const St=new FocusEvent("blur",Le);Ye(()=>I(St))}},Ze=()=>{i.inputValue.length>0?i.inputValue="":y.value=!1},yt=Le=>{var St;F.value||e.filterable&&y.value&&Le&&!((St=h.value)!=null&&St.contains(Le.target))||(nM&&(i.inputHovering=!0),i.menuVisibleOnFocus?i.menuVisibleOnFocus=!1:y.value=!y.value)},Gt=()=>{if(!y.value)yt();else{const Le=X.value[i.hoveringIndex];Le&&!Le.isDisabled&&Xe(Le)}},ai=Le=>Pt(Le.value)?Es(Le.value,e.valueKey):Le.value,lu=O(()=>X.value.filter(Le=>Le.visible).every(Le=>Le.isDisabled)),Ol=O(()=>e.multiple?e.collapseTags?i.selected.slice(0,e.maxCollapseTags):i.selected:[]),ib=O(()=>e.multiple?e.collapseTags?i.selected.slice(e.maxCollapseTags):[]:[]),rh=Le=>{if(!y.value){y.value=!0;return}if(!(i.options.size===0||ae.value===0||_.value)&&!lu.value){Le==="next"?(i.hoveringIndex++,i.hoveringIndex===i.options.size&&(i.hoveringIndex=0)):Le==="prev"&&(i.hoveringIndex--,i.hoveringIndex<0&&(i.hoveringIndex=i.options.size-1));const St=X.value[i.hoveringIndex];(St.isDisabled||!St.visible)&&rh(Le),Ye(()=>ct(w.value))}},ab=(Le,St,dn,yr)=>{for(let Hr=St;Hr>=0&&Hr<yr;Hr+=dn){const Fo=Le[Hr];if(!Fo?.isDisabled&&Fo?.visible)return Hr}return null},ec=(Le,St)=>{var dn;const yr=i.options.size;if(yr===0)return;const Hr=p5(Le,0,yr-1),Fo=X.value,ho=St==="up"?-1:1,uu=(dn=ab(Fo,Hr,ho,yr))!=null?dn:ab(Fo,Hr-ho,-ho,yr);uu!=null&&(i.hoveringIndex=uu,Ye(()=>ct(w.value)))},QC=Le=>{const St=Hn(Le);let dn=!0;switch(St){case Oe.up:rh("prev");break;case Oe.down:rh("next");break;case Oe.enter:case Oe.numpadEnter:_.value||Gt();break;case Oe.esc:Ze();break;case Oe.backspace:dn=!1,Dt(Le);return;case Oe.home:if(!y.value)return;ec(0,"down");break;case Oe.end:if(!y.value)return;ec(i.options.size-1,"up");break;case Oe.pageUp:if(!y.value)return;ec(i.hoveringIndex-10,"up");break;case Oe.pageDown:if(!y.value)return;ec(i.hoveringIndex+10,"down");break;default:dn=!1;break}dn&&(Le.preventDefault(),Le.stopPropagation())},eS=()=>{if(!l.value)return 0;const Le=window.getComputedStyle(l.value);return Number.parseFloat(Le.gap||"6px")},tS=O(()=>{const Le=eS(),St=e.filterable?Le+I5:0;return{maxWidth:`${m.value&&e.maxCollapseTags===1?i.selectionWidth-i.collapseItemWidth-Le-St:i.selectionWidth-St}px`}}),nS=O(()=>({maxWidth:`${i.selectionWidth}px`})),rS=Le=>{t("popup-scroll",Le)};Cr(l,Ue),Cr(R,ht),Cr(g,ye),Cr(m,rt);let sh;return xe(()=>de.value,Le=>{Le?sh=Cr(p,ht).stop:(sh?.(),sh=void 0),t("visible-change",Le)}),Ht(()=>{Ce()}),{inputId:$,contentId:r,nsSelect:s,nsInput:o,states:i,isFocused:P,expanded:y,optionsArray:X,hoverOption:w,selectSize:Q,filteredOptionsCount:ae,updateTooltip:ht,updateTagTooltip:ye,debouncedOnInputChange:cn,onInput:at,deletePrevTag:Dt,deleteTag:qt,deleteSelected:Te,handleOptionSelect:Xe,scrollToOption:ct,hasModelValue:D,shouldShowPlaceholder:he,currentPlaceholder:ge,mouseEnterEventName:$e,needStatusIcon:M,showClearBtn:z,iconComponent:W,iconReverse:H,validateState:U,validateIcon:K,showNewOption:q,updateOptions:L,collapseTagSize:se,setSelected:Ce,selectDisabled:F,emptyText:ue,handleCompositionStart:E,handleCompositionUpdate:A,handleCompositionEnd:N,handleKeydown:QC,onOptionCreate:Yt,onOptionDestroy:Gn,handleMenuEnter:nt,focus:wt,blur:Fr,handleClearClick:da,handleClickOutside:bs,handleEsc:Ze,toggleMenu:yt,selectOption:Gt,getValueKey:ai,navigateOptions:rh,dropdownMenuVisible:de,showTagList:Ol,collapseTagList:ib,popupScroll:rS,getOption:Re,tagStyle:tS,collapseTagStyle:nS,popperRef:Ne,inputRef:f,tooltipRef:u,tagTooltipRef:c,prefixRef:d,suffixRef:h,selectRef:a,wrapperRef:R,selectionRef:l,scrollbarRef:v,menuRef:p,tagMenuRef:g,collapseItemRef:m}};var z2n=me({name:"ElOptions",setup(e,{slots:t}){const n=tt(OI);let r=[];return()=>{var s,o;const i=(s=t.default)==null?void 0:s.call(t),a=[];function l(u){De(u)&&u.forEach(c=>{var f,d,h,p;const g=(f=c?.type||{})==null?void 0:f.name;g==="ElOptionGroup"?l(!ot(c.children)&&!De(c.children)&&ft((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):g==="ElOption"?a.push((p=c.props)==null?void 0:p.value):De(c.children)&&l(c.children)})}return i.length&&l((o=i[0])==null?void 0:o.children),Gr(a,r)||(r=a,n&&(n.states.optionValues=a)),i}}});const E6e=Me({name:String,id:String,modelValue:{type:oe([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:js,effect:{type:oe(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},popperOptions:{type:oe(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:oe(Function)},filterMethod:{type:oe(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Un.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:zn,default:jp},fitInputWidth:Boolean,suffixIcon:{type:zn,default:th},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:Un.appendTo,options:{type:oe(Array)},props:{type:oe(Object),default:()=>dM},...sb,...fa(["ariaLabel"])});$Le.scroll;const V2n=me({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Ae("select"),n=j(),r=Ut(),s=j([]);ln(k6e,In({...ao(e)}));const o=O(()=>s.value.some(u=>u.visible===!0)),i=u=>{var c;return u.type.name==="ElOption"&&!!((c=u.component)!=null&&c.proxy)},a=u=>{const c=vo(u),f=[];return c.forEach(d=>{var h;or(d)&&(i(d)?f.push(d.component.proxy):De(d.children)&&d.children.length?f.push(...a(d.children)):(h=d.component)!=null&&h.subTree&&f.push(...a(d.component.subTree)))}),f},l=()=>{s.value=a(r.subTree)};return Ht(()=>{l()}),wI(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:t}}});function W2n(e,t,n,r,s,o){return Lt((B(),Y("ul",{ref:"groupRef",class:V(e.ns.be("group","wrap"))},[Z("li",{class:V(e.ns.be("group","title"))},Fe(e.label),3),Z("li",null,[Z("ul",{class:V(e.ns.b("group"))},[ce(e.$slots,"default")],2)])],2)),[[Sn,e.visible]])}var Qne=Ve(V2n,[["render",W2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const r0e="ElSelect",v_=new WeakMap,U2n=e=>(...t)=>{var n,r;const s=t[0];if(!s||s.includes('Slot "default" invoked outside of the render function')&&((n=t[2])!=null&&n.includes("ElTreeSelect")))return;const o=(r=v_.get(e))==null?void 0:r.originalWarnHandler;if(o){o(...t);return}console.warn(...t)},j2n=e=>{let t=v_.get(e);return t||(t={originalWarnHandler:e.config.warnHandler,handler:U2n(e),count:0},v_.set(e,t)),t},H2n=me({name:r0e,componentName:r0e,components:{ElSelectMenu:L2n,ElOption:Jne,ElOptions:z2n,ElOptionGroup:Qne,ElTag:Jh,ElScrollbar:jc,ElTooltip:Xo,ElIcon:st},directives:{ClickOutside:Jm},props:E6e,emits:[Et,en,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t,slots:n}){const r=Ut(),s=j2n(r.appContext);s.count+=1,r.appContext.config.warnHandler=s.handler;const o=O(()=>{const{modelValue:y,multiple:w}=e,b=w?[]:void 0;return De(y)?w?y:b:w?b:y}),i=In({...ao(e),modelValue:o}),a=B2n(i,t),{calculatorRef:l,inputStyle:u}=Kne(),{getLabel:c,getValue:f,getOptions:d,getDisabled:h}=DI(e),p=y=>({label:c(y),value:f(y),disabled:h(y)}),g=y=>y.reduce((w,b)=>(w.push(b),b.children&&b.children.length>0&&w.push(...g(b.children)),w),[]),m=y=>{Cc(y||[]).forEach(b=>{var C;if(Pt(b)&&(b.type.name==="ElOption"||b.type.name==="ElTree")){const S=b.type.name;if(S==="ElTree"){const $=((C=b.props)==null?void 0:C.data)||[];g($).forEach(T=>{T.currentLabel=T.label||(Pt(T.value)?"":T.value),a.onOptionCreate(T)})}else if(S==="ElOption"){const $={...b.props};$.currentLabel=$.label||(Pt($.value)?"":$.value),a.onOptionCreate($)}}})};xe(()=>{var y;return[(y=n.default)==null?void 0:y.call(n),o.value]},()=>{var y;e.persistent||a.expanded.value||(a.states.options.clear(),m((y=n.default)==null?void 0:y.call(n)))},{immediate:!0}),ln(OI,In({props:i,states:a.states,selectRef:a.selectRef,optionsArray:a.optionsArray,setSelected:a.setSelected,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy}));const v=O(()=>e.multiple?a.states.selected.map(y=>y.currentLabel):a.states.selectedLabel);return Dn(()=>{const y=v_.get(r.appContext);y&&(y.count-=1,y.count<=0&&(r.appContext.config.warnHandler=y.originalWarnHandler,v_.delete(r.appContext)))}),{...a,modelValue:o,selectedLabel:v,calculatorRef:l,inputStyle:u,getLabel:c,getValue:f,getOptions:d,getDisabled:h,getOptionProps:p}}}),q2n=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],G2n=["textContent"],K2n={key:1};function Y2n(e,t,n,r,s,o){const i=Qt("el-tag"),a=Qt("el-tooltip"),l=Qt("el-icon"),u=Qt("el-option"),c=Qt("el-option-group"),f=Qt("el-options"),d=Qt("el-scrollbar"),h=Qt("el-select-menu"),p=wq("click-outside");return Lt((B(),Y("div",Wt({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[M$(e.mouseEnterEventName)]:t[11]||(t[11]=g=>e.states.inputHovering=!0)},{onMouseleave:t[12]||(t[12]=g=>e.states.inputHovering=!1)}),[ee(a,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[10]||(t[10]=g=>e.states.isBeforeHide=!1)},{default:ie(()=>{var g;return[Z("div",{ref:"wrapperRef",class:V([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[7]||(t[7]=xt((...m)=>e.toggleMenu&&e.toggleMenu(...m),["prevent"]))},[e.$slots.prefix?(B(),Y("div",{key:0,ref:"prefixRef",class:V(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref:"selectionRef",class:V([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?ce(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(B(!0),Y(it,null,Xt(e.showTagList,m=>(B(),Y("div",{key:e.getValueKey(m),class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.tagStyle),onClose:v=>e.deleteTag(v,m)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:m.index,label:m.currentLabel,value:m.value},()=>[tn(Fe(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(B(),pe(a,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:ie(()=>[Z("div",{ref:"collapseItemRef",class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.collapseTagStyle)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))}," + "+Fe(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[Z("div",{ref:"tagMenuRef",class:V(e.nsSelect.e("selection"))},[(B(!0),Y(it,null,Xt(e.collapseTagList,m=>(B(),Y("div",{key:e.getValueKey(m),class:V(e.nsSelect.e("selected-item"))},[ee(i,{class:"in-tooltip",closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:v=>e.deleteTag(v,m)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:m.index,label:m.currentLabel,value:m.value},()=>[tn(Fe(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):fe("v-if",!0)]):fe("v-if",!0),Z("div",{class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Lt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=m=>e.states.inputValue=m),type:"text",name:e.name,class:V([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:dt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:t[1]||(t[1]=(...m)=>e.handleKeydown&&e.handleKeydown(...m)),onCompositionstart:t[2]||(t[2]=(...m)=>e.handleCompositionStart&&e.handleCompositionStart(...m)),onCompositionupdate:t[3]||(t[3]=(...m)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...m)),onCompositionend:t[4]||(t[4]=(...m)=>e.handleCompositionEnd&&e.handleCompositionEnd(...m)),onInput:t[5]||(t[5]=(...m)=>e.onInput&&e.onInput(...m)),onClick:t[6]||(t[6]=xt((...m)=>e.toggleMenu&&e.toggleMenu(...m),["stop"]))},null,46,q2n),[[zM,e.states.inputValue]]),e.filterable?(B(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(e.nsSelect.e("input-calculator")),textContent:Fe(e.states.inputValue)},null,10,G2n)):fe("v-if",!0)],2),e.shouldShowPlaceholder?(B(),Y("div",{key:1,class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Fe(e.currentPlaceholder),1)]):(B(),Y("span",K2n,Fe(e.currentPlaceholder),1))],2)):fe("v-if",!0)],2),Z("div",{ref:"suffixRef",class:V(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(B(),pe(l,{key:0,class:V([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),pe(l,{key:1,class:V([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:ie(()=>[(B(),pe(zt(e.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(B(),pe(l,{key:2,class:V([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ie(()=>[(B(),pe(zt(e.validateIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)]}),content:ie(()=>[ee(h,{ref:"menuRef"},{default:ie(()=>[e.$slots.header?(B(),Y("div",{key:0,class:V(e.nsSelect.be("dropdown","header")),onClick:t[8]||(t[8]=xt(()=>{},["stop"]))},[ce(e.$slots,"header")],2)):fe("v-if",!0),Lt(ee(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:V([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:ie(()=>[e.showNewOption?(B(),pe(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):fe("v-if",!0),ee(f,null,{default:ie(()=>[ce(e.$slots,"default",{},()=>[(B(!0),Y(it,null,Xt(e.options,(g,m)=>{var v;return B(),Y(it,{key:m},[(v=e.getOptions(g))!=null&&v.length?(B(),pe(c,{key:0,label:e.getLabel(g),disabled:e.getDisabled(g)},{default:ie(()=>[(B(!0),Y(it,null,Xt(e.getOptions(g),y=>(B(),pe(u,Wt({key:e.getValue(y)},{ref_for:!0},e.getOptionProps(y)),null,16))),128))]),_:2},1032,["label","disabled"])):(B(),pe(u,Wt({key:1,ref_for:!0},e.getOptionProps(g)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Sn,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(B(),Y("div",{key:1,class:V(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(B(),Y("div",{key:2,class:V(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[Z("span",null,Fe(e.emptyText),1)])],2)):fe("v-if",!0),e.$slots.footer?(B(),Y("div",{key:3,class:V(e.nsSelect.be("dropdown","footer")),onClick:t[9]||(t[9]=xt(()=>{},["stop"]))},[ce(e.$slots,"footer")],2)):fe("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[p,e.handleClickOutside,e.popperRef]])}var X2n=Ve(H2n,[["render",Y2n],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Ux=Rt(X2n,{Option:Jne,OptionGroup:Qne}),hM=Ur(Jne),Z2n=Ur(Qne),ere=()=>tt($6e,{}),J2n=Me({pageSize:{type:Number,required:!0},pageSizes:{type:oe(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:oe([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:eh},appendSizeTo:String}),Q2n=me({name:"ElPaginationSizes",__name:"sizes",props:J2n,emits:["page-size-change"],setup(e,{emit:t}){const n=e,r=t,{t:s}=un(),o=Ae("pagination"),i=ere(),a=j(n.pageSize);xe(()=>n.pageSizes,(c,f)=>{if(!Gr(c,f)&&De(c)){const d=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];r("page-size-change",d)}}),xe(()=>n.pageSize,c=>{a.value=c});const l=O(()=>n.pageSizes);function u(c){var f;c!==a.value&&(a.value=c,(f=i.handleSizeChange)==null||f.call(i,Number(c)))}return(c,f)=>(B(),Y("span",{class:V(x(o).e("sizes"))},[ee(x(Ux),{"model-value":a.value,disabled:c.disabled,"popper-class":c.popperClass,"popper-style":c.popperStyle,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:u},{default:ie(()=>[(B(!0),Y(it,null,Xt(l.value,d=>(B(),pe(x(hM),{key:d,value:d,label:d+x(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}});var eCn=Ve(Q2n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const tCn=Me({size:{type:String,values:eh}}),nCn=["disabled"],rCn=me({name:"ElPaginationJumper",__name:"jumper",props:tCn,setup(e){const{t}=un(),n=Ae("pagination"),{pageCount:r,disabled:s,currentPage:o,changeEvent:i}=ere(),a=j(),l=O(()=>{var f;return(f=a.value)!=null?f:o?.value});function u(f){a.value=f?+f:""}function c(f){f=Math.trunc(+f),i?.(f),a.value=void 0}return(f,d)=>(B(),Y("span",{class:V(x(n).e("jump")),disabled:x(s)},[Z("span",{class:V([x(n).e("goto")])},Fe(x(t)("el.pagination.goto")),3),ee(x(Xi),{size:f.size,class:V([x(n).e("editor"),x(n).is("in-pagination")]),min:1,max:x(r),disabled:x(s),"model-value":l.value,"validate-event":!1,"aria-label":x(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:V([x(n).e("classifier")])},Fe(x(t)("el.pagination.pageClassifier")),3)],10,nCn))}});var sCn=Ve(rCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const oCn=Me({total:{type:Number,default:1e3}}),iCn=["disabled"],aCn=me({name:"ElPaginationTotal",__name:"total",props:oCn,setup(e){const{t}=un(),n=Ae("pagination"),{disabled:r}=ere();return(s,o)=>(B(),Y("span",{class:V(x(n).e("total")),disabled:x(r)},Fe(x(t)("el.pagination.total",{total:s.total})),11,iCn))}});var lCn=Ve(aCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const uCn=Me({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),cCn=["aria-current","aria-label","tabindex"],fCn=["tabindex","aria-label"],dCn=["aria-current","aria-label","tabindex"],hCn=["tabindex","aria-label"],pCn=["aria-current","aria-label","tabindex"],gCn=me({name:"ElPaginationPager",__name:"pager",props:uCn,emits:[en],setup(e,{emit:t}){const n=e,r=t,s=Ae("pager"),o=Ae("icon"),{t:i}=un(),a=j(!1),l=j(!1),u=j(!1),c=j(!1),f=j(!1),d=j(!1),h=O(()=>{const C=n.pagerCount,S=(C-1)/2,$=Number(n.currentPage),k=Number(n.pageCount);let T=!1,_=!1;k>C&&($>C-S&&(T=!0),$<k-S&&(_=!0));const E=[];if(T&&!_){const A=k-(C-2);for(let N=A;N<k;N++)E.push(N)}else if(!T&&_)for(let A=2;A<C;A++)E.push(A);else if(T&&_){const A=Math.floor(C/2)-1;for(let N=$-A;N<=$+A;N++)E.push(N)}else for(let A=2;A<k;A++)E.push(A);return E}),p=O(()=>["more","btn-quickprev",o.b(),s.is("disabled",n.disabled)]),g=O(()=>["more","btn-quicknext",o.b(),s.is("disabled",n.disabled)]),m=O(()=>n.disabled?-1:0);xe(()=>[n.pageCount,n.pagerCount,n.currentPage],([C,S,$])=>{const k=(S-1)/2;let T=!1,_=!1;C>S&&(T=$>S-k,_=$<C-k),u.value&&(u.value=T),c.value&&(c.value=_),a.value=T,l.value=_},{immediate:!0});function v(C=!1){n.disabled||(C?u.value=!0:c.value=!0)}function y(C=!1){C?f.value=!0:d.value=!0}function w(C){const S=C.target;if(S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("number")){const $=Number(S.textContent);$!==n.currentPage&&r(en,$)}else S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("more")&&b(C)}function b(C){const S=C.target;if(S.tagName.toLowerCase()==="ul"||n.disabled)return;let $=Number(S.textContent);const k=n.pageCount,T=n.currentPage,_=n.pagerCount-2;S.className.includes("more")&&(S.className.includes("quickprev")?$=T-_:S.className.includes("quicknext")&&($=T+_)),Number.isNaN(+$)||($<1&&($=1),$>k&&($=k)),$!==T&&r(en,$)}return(C,S)=>(B(),Y("ul",{class:V(x(s).b()),onClick:b,onKeyup:qr(w,["enter"])},[C.pageCount>0?(B(),Y("li",{key:0,class:V([[x(s).is("active",C.currentPage===1),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===1,"aria-label":x(i)("el.pagination.currentPage",{pager:1}),tabindex:m.value}," 1 ",10,cCn)):fe("v-if",!0),a.value?(B(),Y("li",{key:1,class:V(p.value),tabindex:m.value,"aria-label":x(i)("el.pagination.prevPages",{pager:C.pagerCount-2}),onMouseenter:S[0]||(S[0]=$=>v(!0)),onMouseleave:S[1]||(S[1]=$=>u.value=!1),onFocus:S[2]||(S[2]=$=>y(!0)),onBlur:S[3]||(S[3]=$=>f.value=!1)},[(u.value||f.value)&&!C.disabled?(B(),pe(x(Ym),{key:0})):(B(),pe(x(Vge),{key:1}))],42,fCn)):fe("v-if",!0),(B(!0),Y(it,null,Xt(h.value,$=>(B(),Y("li",{key:$,class:V([[x(s).is("active",C.currentPage===$),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===$,"aria-label":x(i)("el.pagination.currentPage",{pager:$}),tabindex:m.value},Fe($),11,dCn))),128)),l.value?(B(),Y("li",{key:2,class:V(g.value),tabindex:m.value,"aria-label":x(i)("el.pagination.nextPages",{pager:C.pagerCount-2}),onMouseenter:S[4]||(S[4]=$=>v()),onMouseleave:S[5]||(S[5]=$=>c.value=!1),onFocus:S[6]||(S[6]=$=>y()),onBlur:S[7]||(S[7]=$=>d.value=!1)},[(c.value||d.value)&&!C.disabled?(B(),pe(x(Xm),{key:0})):(B(),pe(x(Vge),{key:1}))],42,hCn)):fe("v-if",!0),C.pageCount>1?(B(),Y("li",{key:3,class:V([[x(s).is("active",C.currentPage===C.pageCount),x(s).is("disabled",C.disabled)],"number"]),"aria-current":C.currentPage===C.pageCount,"aria-label":x(i)("el.pagination.currentPage",{pager:C.pageCount}),tabindex:m.value},Fe(C.pageCount),11,pCn)):fe("v-if",!0)],34))}});var mCn=Ve(gCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ga=e=>typeof e!="number",vCn=Me({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>pt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:oe(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},prevText:{type:String,default:""},prevIcon:{type:zn,default:()=>bp},nextText:{type:String,default:""},nextIcon:{type:zn,default:()=>aa},teleported:{type:Boolean,default:!0},small:Boolean,size:js,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),yCn={"update:current-page":e=>pt(e),"update:page-size":e=>pt(e),"size-change":e=>pt(e),change:(e,t)=>pt(e)&&pt(t),"current-change":e=>pt(e),"prev-click":e=>pt(e),"next-click":e=>pt(e)},s0e="ElPagination";var bCn=me({name:s0e,props:vCn,emits:yCn,setup(e,{emit:t,slots:n}){const{t:r}=un(),s=Ae("pagination"),o=Ut().vnode.props||{},i=iLe(),a=O(()=>{var C;return e.small?"small":(C=e.size)!=null?C:i.value});sd({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},O(()=>!!e.small));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,u="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,c=O(()=>{if(ga(e.total)&&ga(e.pageCount)||!ga(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(ga(e.pageCount)){if(!ga(e.total)&&!ga(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=j(ga(e.defaultPageSize)?10:e.defaultPageSize),d=j(ga(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=O({get(){return ga(e.pageSize)?f.value:e.pageSize},set(C){ga(e.pageSize)&&(f.value=C),u&&(t("update:page-size",C),t("size-change",C))}}),p=O(()=>{let C=0;return ga(e.pageCount)?ga(e.total)||(C=Math.max(1,Math.ceil(e.total/h.value))):C=e.pageCount,C}),g=O({get(){return ga(e.currentPage)?d.value:e.currentPage},set(C){let S=C;C<1?S=1:C>p.value&&(S=p.value),ga(e.currentPage)&&(d.value=S),l&&(t("update:current-page",S),t("current-change",S))}});xe(p,C=>{g.value>C&&(g.value=C)}),xe([g,h],C=>{t(en,...C)},{flush:"post"});function m(C){g.value=C}function v(C){h.value=C;const S=p.value;g.value>S&&(g.value=S)}function y(){e.disabled||(g.value-=1,t("prev-click",g.value))}function w(){e.disabled||(g.value+=1,t("next-click",g.value))}function b(C,S){C&&(C.props||(C.props={}),C.props.class=[C.props.class,S].join(" "))}return ln($6e,{pageCount:p,disabled:O(()=>e.disabled),currentPage:g,changeEvent:m,handleSizeChange:v}),()=>{var C,S;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const $=[],k=[],T=bt("div",{class:s.e("rightwrapper")},k),_={prev:bt(k2n,{disabled:e.disabled,currentPage:g.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:y}),jumper:bt(sCn,{size:a.value}),pager:bt(mCn,{currentPage:g.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:m,disabled:e.disabled}),next:bt(I2n,{disabled:e.disabled,currentPage:g.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:w}),sizes:bt(eCn,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:a.value,appendSizeTo:e.appendSizeTo}),slot:(S=(C=n?.default)==null?void 0:C.call(n))!=null?S:null,total:bt(lCn,{total:ga(e.total)?0:e.total})},E=e.layout.split(",").map(N=>N.trim());let A=!1;return E.forEach(N=>{if(N==="->"){A=!0;return}A?k.push(_[N]):$.push(_[N])}),b($[0],s.is("first")),b($[$.length-1],s.is("last")),A&&k.length>0&&(b(k[0],s.is("first")),b(k[k.length-1],s.is("last")),$.push(T)),bt("div",{class:[s.b(),s.is("background",e.background),s.m(a.value)]},$)}}});const wCn=Rt(bCn),xCn=Me({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:aH,default:"primary"},cancelButtonType:{type:String,values:aH,default:"text"},icon:{type:zn,default:()=>Hcn},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...Un.effect,default:"light"},teleported:Un.teleported,persistent:Un.persistent,width:{type:[String,Number],default:150},virtualTriggering:rd.virtualTriggering,virtualRef:rd.virtualRef}),CCn={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},SCn=me({name:"ElPopconfirm",__name:"popconfirm",props:xCn,emits:CCn,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:o}=un(),i=Ae("popconfirm"),a=j(),l=j(),u=O(()=>{var v;return(v=x(a))==null?void 0:v.popperRef}),c=()=>{var v,y;(y=(v=l.value)==null?void 0:v.focus)==null||y.call(v)},f=()=>{var v,y;(y=(v=a.value)==null?void 0:v.onClose)==null||y.call(v)},d=O(()=>({width:Vr(r.width)})),h=v=>{s("confirm",v),f()},p=v=>{s("cancel",v),f()},g=O(()=>r.confirmButtonText||o("el.popconfirm.confirmButtonText")),m=O(()=>r.cancelButtonText||o("el.popconfirm.cancelButtonText"));return t({popperRef:u,hide:f}),(v,y)=>(B(),pe(x(Xo),Wt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:v.effect},v.$attrs,{"virtual-triggering":v.virtualTriggering,"virtual-ref":v.virtualRef,"popper-class":`${x(i).namespace.value}-popover`,"popper-style":d.value,teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent,loop:"",onShow:c}),{content:ie(()=>[Z("div",{ref_key:"rootRef",ref:l,tabindex:"-1",class:V(x(i).b())},[Z("div",{class:V(x(i).e("main"))},[!v.hideIcon&&v.icon?(B(),pe(x(st),{key:0,class:V(x(i).e("icon")),style:dt({color:v.iconColor})},{default:ie(()=>[(B(),pe(zt(v.icon)))]),_:1},8,["class","style"])):fe("v-if",!0),tn(" "+Fe(v.title),1)],2),Z("div",{class:V(x(i).e("action"))},[ce(v.$slots,"actions",{confirm:h,cancel:p},()=>[ee(x($o),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:p},{default:ie(()=>[tn(Fe(m.value),1)]),_:1},8,["type","text"]),ee(x($o),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:h},{default:ie(()=>[tn(Fe(g.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:ie(()=>[v.$slots.reference?ce(v.$slots,"reference",{key:0}):fe("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});var $Cn=Ve(SCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const kCn=Rt($Cn),ECn=Me({trigger:rd.trigger,triggerKeys:rd.triggerKeys,placement:J3.placement,disabled:rd.disabled,visible:Un.visible,transition:Un.transition,popperOptions:J3.popperOptions,tabindex:J3.tabindex,content:Un.content,popperStyle:Un.popperStyle,popperClass:Un.popperClass,enterable:{...Un.enterable,default:!0},effect:{...Un.effect,default:"light"},teleported:Un.teleported,appendTo:Un.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),_Cn={"update:visible":e=>Ln(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},TCn="onUpdate:visible",ACn=me({name:"ElPopover",__name:"popover",props:ECn,emits:_Cn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>r[TCn]),i=Ae("popover"),a=j(),l=O(()=>{var v;return(v=x(a))==null?void 0:v.popperRef}),u=O(()=>[{width:Vr(r.width)},r.popperStyle]),c=O(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),f=O(()=>r.transition===`${i.namespace.value}-fade-in-linear`),d=()=>{var v;(v=a.value)==null||v.hide()},h=()=>{s("before-enter")},p=()=>{s("before-leave")},g=()=>{s("after-enter")},m=()=>{s("update:visible",!1),s("after-leave")};return t({popperRef:l,hide:d}),(v,y)=>(B(),pe(x(Xo),Wt({ref_key:"tooltipRef",ref:a},v.$attrs,{trigger:v.trigger,"trigger-keys":v.triggerKeys,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":c.value,"popper-style":u.value,teleported:v.teleported,"append-to":v.appendTo,persistent:v.persistent,"gpu-acceleration":f.value,"onUpdate:visible":o.value,onBeforeShow:h,onBeforeHide:p,onShow:g,onHide:m}),{content:ie(()=>[v.title?(B(),Y("div",{key:0,class:V(x(i).e("title")),role:"title"},Fe(v.title),3)):fe("v-if",!0),ce(v.$slots,"default",{},()=>[tn(Fe(v.content),1)])]),default:ie(()=>[v.$slots.reference?ce(v.$slots,"reference",{key:0}):fe("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var ICn=Ve(ACn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const o0e=(e,t)=>{const n=t.arg||t.value,r=n?.popperRef;r&&(r.triggerRef=e)};var NCn={mounted(e,t){o0e(e,t)},updated(e,t){o0e(e,t)}};const DCn="popover",_6e=Gun(NCn,DCn),OCn=Rt(ICn,{directive:_6e}),RCn=Me({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:oe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:oe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:oe(Function),default:e=>`${e}%`}}),FCn=["aria-valuenow"],MCn={viewBox:"0 0 100 100"},PCn=["d","stroke","stroke-linecap","stroke-width"],LCn=["d","stroke","opacity","stroke-linecap","stroke-width"],BCn={key:0},zCn=me({name:"ElProgress",__name:"progress",props:RCn,setup(e){const t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=e,r=Ae("progress"),s=O(()=>{const w={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},b=y(n.percentage);return b.includes("gradient")?w.background=b:w.backgroundColor=b,w}),o=O(()=>(n.strokeWidth/n.width*100).toFixed(1)),i=O(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),a=O(()=>{const w=i.value,b=n.type==="dashboard";return`
          M 50 50
          m 0 ${b?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${b?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${b?"":"-"}${w*2}
          `}),l=O(()=>2*Math.PI*i.value),u=O(()=>n.type==="dashboard"?.75:1),c=O(()=>`${-1*l.value*(1-u.value)/2}px`),f=O(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=O(()=>({strokeDasharray:`${l.value*u.value*(n.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=O(()=>{let w;return n.color?w=y(n.percentage):w=t[n.status]||t.default,w}),p=O(()=>n.status==="warning"?b5:n.type==="line"?n.status==="success"?dne:jp:n.status==="success"?$I:Hu),g=O(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),m=O(()=>n.format(n.percentage));function v(w){const b=100/w.length;return w.map((S,$)=>ot(S)?{color:S,percentage:($+1)*b}:S).sort((S,$)=>S.percentage-$.percentage)}const y=w=>{var b;const{color:C}=n;if(ft(C))return C(w);if(ot(C))return C;{const S=v(C);for(const $ of S)if($.percentage>w)return $.color;return(b=S[S.length-1])==null?void 0:b.color}};return(w,b)=>(B(),Y("div",{class:V([x(r).b(),x(r).m(w.type),x(r).is(w.status),{[x(r).m("without-text")]:!w.showText,[x(r).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(B(),Y("div",{key:0,class:V(x(r).b("bar"))},[Z("div",{class:V(x(r).be("bar","outer")),style:dt({height:`${w.strokeWidth}px`})},[Z("div",{class:V([x(r).be("bar","inner"),{[x(r).bem("bar","inner","indeterminate")]:w.indeterminate},{[x(r).bem("bar","inner","striped")]:w.striped},{[x(r).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:dt(s.value)},[(w.showText||w.$slots.default)&&w.textInside?(B(),Y("div",{key:0,class:V(x(r).be("bar","innerText"))},[ce(w.$slots,"default",{percentage:w.percentage},()=>[Z("span",null,Fe(m.value),1)])],2)):fe("v-if",!0)],6)],6)],2)):(B(),Y("div",{key:1,class:V(x(r).b("circle")),style:dt({height:`${w.width}px`,width:`${w.width}px`})},[(B(),Y("svg",MCn,[Z("path",{class:V(x(r).be("circle","track")),d:a.value,stroke:`var(${x(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":w.strokeLinecap,"stroke-width":o.value,fill:"none",style:dt(f.value)},null,14,PCn),Z("path",{class:V(x(r).be("circle","path")),d:a.value,stroke:h.value,fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":o.value,style:dt(d.value)},null,14,LCn)]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(B(),Y("div",{key:2,class:V(x(r).e("text")),style:dt({fontSize:`${g.value}px`})},[ce(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(B(),pe(x(st),{key:1},{default:ie(()=>[(B(),pe(zt(p.value)))]),_:1})):(B(),Y("span",BCn,Fe(m.value),1))])],6)):fe("v-if",!0)],10,FCn))}});var VCn=Ve(zCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const T6e=Rt(VCn),WCn=Me({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:oe([Array,Object]),default:()=>zr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:oe([Array,Object]),default:()=>[ID,ID,ID]},voidIcon:{type:zn,default:()=>ifn},disabledVoidIcon:{type:zn,default:()=>ID},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:oe(Array),default:()=>zr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:js,clearable:Boolean,...fa(["ariaLabel"])}),UCn={[en]:e=>pt(e),[Et]:e=>pt(e)},jCn=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],HCn=["onMousemove","onClick"],qCn=me({name:"ElRate",__name:"rate",props:WCn,emits:UCn,setup(e,{expose:t,emit:n}){function r(D,M){const z=U=>Pt(U),W=Object.keys(M).map(U=>+U).filter(U=>{const K=M[U];return(z(K)?K.excluded:!1)?D<U:D<=U}).sort((U,K)=>U-K),H=M[W[0]];return z(H)&&H.value||H}const s=e,o=n,i=tt(Ad,void 0),a=Fs(),l=Ae("rate"),{inputId:u,isLabeledByFormItem:c}=au(s,{formItemContext:i}),f=j(s.modelValue),d=j(-1),h=j(!0),p=j([]),g=O(()=>p.value.map(D=>D.$el.clientWidth)),m=O(()=>[l.b(),l.m(a.value)]),v=jr(),y=O(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":S.value})),w=O(()=>{let D="";return s.showScore?D=s.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${s.modelValue}`:`${f.value}`):s.showText&&(D=s.texts[Math.ceil(f.value)-1]),D}),b=O(()=>s.modelValue*100-Math.floor(s.modelValue)*100),C=O(()=>De(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),S=O(()=>{const D=r(f.value,C.value);return Pt(D)?"":D}),$=O(()=>{let D="";return v.value?D=`${b.value}%`:s.allowHalf&&(D="50%"),{color:S.value,width:D}}),k=O(()=>{let D=De(s.icons)?[...s.icons]:{...s.icons};return D=Vh(D),De(D)?{[s.lowThreshold]:D[0],[s.highThreshold]:{value:D[1],excluded:!0},[s.max]:D[2]}:D}),T=O(()=>r(s.modelValue,k.value)),_=O(()=>v.value?ot(s.disabledVoidIcon)?s.disabledVoidIcon:Vh(s.disabledVoidIcon):ot(s.voidIcon)?s.voidIcon:Vh(s.voidIcon)),E=O(()=>r(f.value,k.value));function A(D){const M=v.value&&b.value>0&&D-1<s.modelValue&&D>s.modelValue,z=s.allowHalf&&h.value&&D-.5<=f.value&&D>f.value;return M||z}function N(D){s.clearable&&D===s.modelValue&&(D=0),o(Et,D),s.modelValue!==D&&o(en,D)}function F(D){v.value||(s.allowHalf&&h.value?N(f.value):N(D))}function R(D){if(v.value)return;const M=Hn(D),z=s.allowHalf?.5:1;let W=f.value;switch(M){case Oe.up:case Oe.right:W+=z;break;case Oe.left:case Oe.down:W-=z;break}if(W=p5(W,0,s.max),W!==f.value)return D.stopPropagation(),D.preventDefault(),o(Et,W),o(en,W),W}function P(D,M){v.value||(s.allowHalf&&M?(h.value=M.offsetX*2<=g.value[D-1],f.value=h.value?D-.5:D):f.value=D,d.value=D)}function I(){v.value||(s.allowHalf&&(h.value=s.modelValue!==Math.floor(s.modelValue)),f.value=s.modelValue,d.value=-1)}return xe(()=>s.modelValue,D=>{f.value=D,h.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||o(Et,0),t({setCurrentValue:P,resetCurrentValue:I}),(D,M)=>{var z;return B(),Y("div",{id:x(u),class:V([m.value,x(l).is("disabled",x(v))]),role:"slider","aria-label":x(c)?void 0:D.ariaLabel||"rating","aria-labelledby":x(c)?(z=x(i))==null?void 0:z.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":w.value||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:dt(y.value),onKeydown:R},[(B(!0),Y(it,null,Xt(D.max,(W,H)=>(B(),Y("span",{key:H,class:V(x(l).e("item")),onMousemove:U=>P(W,U),onMouseleave:I,onClick:U=>F(W)},[ee(x(st),{ref_for:!0,ref_key:"iconRefs",ref:p,class:V([x(l).e("icon"),{hover:d.value===W},x(l).is("active",W<=f.value),x(l).is("focus-visible",W===Math.ceil(f.value||1))])},{default:ie(()=>[Lt((B(),pe(zt(E.value),null,null,512)),[[Sn,!A(W)&&W<=f.value]]),Lt((B(),pe(zt(_.value),null,null,512)),[[Sn,!A(W)&&W>f.value]]),Lt((B(),pe(zt(_.value),{class:V([x(l).em("decimal","box")])},null,8,["class"])),[[Sn,A(W)]]),Lt(ee(x(st),{style:dt($.value),class:V([x(l).e("icon"),x(l).e("decimal")])},{default:ie(()=>[(B(),pe(zt(T.value)))]),_:1},8,["style","class"]),[[Sn,A(W)]])]),_:2},1032,["class"])],42,HCn))),128)),D.showText||D.showScore?(B(),Y("span",{key:0,class:V(x(l).e("text")),style:dt({color:D.textColor})},Fe(w.value),7)):fe("v-if",!0)],46,jCn)}}});var GCn=Ve(qCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const KCn=Rt(GCn),Cv={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},i0e={[Cv.primary]:u_,[Cv.success]:ycn,[Cv.warning]:b5,[Cv.error]:hne,[Cv.info]:u_},YCn=Me({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}}),XCn=me({name:"ElResult",__name:"result",props:YCn,setup(e){const t=e,n=Ae("result"),r=O(()=>{const s=t.icon,o=s&&Cv[s]?Cv[s]:"icon-info",i=i0e[o]||i0e["icon-info"];return{class:o,component:i}});return(s,o)=>(B(),Y("div",{class:V(x(n).b())},[Z("div",{class:V(x(n).e("icon"))},[ce(s.$slots,"icon",{},()=>[r.value.component?(B(),pe(zt(r.value.component),{key:0,class:V(r.value.class)},null,8,["class"])):fe("v-if",!0)])],2),s.title||s.$slots.title?(B(),Y("div",{key:0,class:V(x(n).e("title"))},[ce(s.$slots,"title",{},()=>[Z("p",null,Fe(s.title),1)])],2)):fe("v-if",!0),s.subTitle||s.$slots["sub-title"]?(B(),Y("div",{key:1,class:V(x(n).e("subtitle"))},[ce(s.$slots,"sub-title",{},()=>[Z("p",null,Fe(s.subTitle),1)])],2)):fe("v-if",!0),s.$slots.extra?(B(),Y("div",{key:2,class:V(x(n).e("extra"))},[ce(s.$slots,"extra")],2)):fe("v-if",!0)],2))}});var ZCn=Ve(XCn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const JCn=Rt(ZCn),QCn=["start","center","end","space-around","space-between","space-evenly"],eSn=["top","middle","bottom"],tSn=Me({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:QCn,default:"start"},align:{type:String,values:eSn}}),nSn=me({name:"ElRow",__name:"row",props:tSn,setup(e){const t=e,n=Ae("row"),r=O(()=>t.gutter);ln(kBe,{gutter:r});const s=O(()=>{const i={};return t.gutter&&(i.marginRight=i.marginLeft=`-${t.gutter/2}px`),i}),o=O(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(i,a)=>(B(),pe(zt(i.tag),{class:V(o.value),style:dt(s.value)},{default:ie(()=>[ce(i.$slots,"default")]),_:3},8,["class","style"]))}});var rSn=Ve(nSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const sSn=Rt(rSn),oSn=me({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Ae("select")}}});function iSn(e,t,n,r,s,o){return B(),Y("div",{class:V(e.ns.be("group","title")),style:dt({...e.style,lineHeight:`${e.height}px`})},Fe(e.item.label),7)}var aSn=Ve(oSn,[["render",iSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function lSn(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const uSn=Me({allowCreate:Boolean,autocomplete:{type:oe(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:zn,default:jp},effect:{type:oe(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:oe(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:oe([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:oe(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:oe(Array),required:!0},placeholder:{type:String},teleported:Un.teleported,persistent:{type:Boolean,default:!0},popperClass:Un.popperClass,popperStyle:Un.popperStyle,popperOptions:{type:oe(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:js,props:{type:oe(Object),default:()=>dM},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:oe(String),values:qp,default:"bottom-start"},fallbackPlacements:{type:oe(Array),default:["bottom-start","top-start","right","left"]},tagType:{...xp.type,default:"info"},tagEffect:{...xp.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:Un.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return Ln(e)||pt(e)}},suffixIcon:{type:zn,default:th},...sb,...fa(["ariaLabel"])}),cSn=Me({data:Array,disabled:Boolean,hovering:Boolean,item:{type:oe(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),fSn={[Et]:e=>!0,[en]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},dSn={hover:e=>pt(e),select:(e,t)=>!0},tre=Symbol("ElSelectV2Injection"),hSn=me({props:cSn,emits:dSn,setup(e,{emit:t}){const n=tt(tre),r=Ae("select"),{hoverItem:s,selectOptionClick:o}=lSn(e,{emit:t}),{getLabel:i}=DI(n.props),a=n.contentId;return{ns:r,contentId:a,hoverItem:s,selectOptionClick:o,getLabel:i}}}),pSn=["id","aria-selected","aria-disabled"];function gSn(e,t,n,r,s,o){return B(),Y("li",{id:`${e.contentId}-${e.index}`,role:"option","aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:dt(e.style),class:V([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=xt((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"])),onMousedown:t[2]||(t[2]=xt(()=>{},["prevent"]))},[ce(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,Fe(e.getLabel(e.item)),1)])],46,pSn)}var mSn=Ve(hSn,[["render",gSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]),a0e=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function vSn(e,t){return!!(e===t||a0e(e)&&a0e(t))}function ySn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!vSn(e[n],t[n]))return!1;return!0}function bSn(e,t){t===void 0&&(t=ySn);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const A6e=()=>{const t=Ut().proxy.$props;return O(()=>{const n=(r,s,o)=>({});return t.perfMode?d5(n):bSn(n)})},kH=50,pM="itemRendered",gM="scroll",Jb="forward",mM="backward",Au="auto",N5="smart",y_="start",Wf="center",b_="end",jx="horizontal",nre="vertical",wSn="ltr",Cw="rtl",w_="negative",rre="positive-ascending",sre="positive-descending",xSn={[jx]:"left",[nre]:"top"},CSn=20,SSn={[jx]:"deltaX",[nre]:"deltaY"},I6e=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let s,o=0;const i=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:i,onWheel:l=>{yp(s);const u=l[SSn[n.value]];i(o)&&i(o+u)||(o+=u,gne()||l.preventDefault(),s=_d(()=>{r(o),o=0}))}}},EH=pf({type:oe([Number,Function]),required:!0}),_H=pf({type:Number}),TH=pf({type:Number,default:2}),$Sn=pf({type:String,values:["ltr","rtl"],default:"ltr"}),AH=pf({type:Number,default:0}),vM=pf({type:Number,required:!0}),N6e=pf({type:String,values:["horizontal","vertical"],default:nre}),D6e=Me({className:{type:String,default:""},containerElement:{type:oe([String,Object]),default:"div"},data:{type:oe(Array),default:()=>zr([])},direction:$Sn,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:oe(Object),default:()=>({})},style:{type:oe([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),O6e=Me({cache:TH,estimatedItemSize:_H,layout:N6e,initScrollOffset:AH,total:vM,itemSize:EH,...D6e}),IH={type:Number,default:6},R6e={type:Number,default:0},F6e={type:Number,default:2},u1=Me({columnCache:TH,columnWidth:EH,estimatedColumnWidth:_H,estimatedRowHeight:_H,initScrollLeft:AH,initScrollTop:AH,itemKey:{type:oe(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:TH,rowHeight:EH,totalColumn:vM,totalRow:vM,hScrollbarSize:IH,vScrollbarSize:IH,scrollbarStartGap:R6e,scrollbarEndGap:F6e,role:String,...D6e}),M6e=Me({alwaysOn:Boolean,class:String,layout:N6e,total:vM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:IH,startGap:R6e,endGap:F6e,visible:Boolean}),Lv=(e,t)=>e<t?Jb:mM,x_=e=>e===wSn||e===Cw||e===jx,l0e=e=>e===Cw;let Ob=null;function yM(e=!1){if(Ob===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ob=sre:(t.scrollLeft=1,t.scrollLeft===0?Ob=w_:Ob=rre),document.body.removeChild(t),Ob}return Ob}function kSn({move:e,size:t,bar:n},r){const s={},o=`translate${n.axis}(${e}px)`;return s[n.size]=t,s.transform=o,r==="horizontal"?s.height="100%":s.width="100%",s}const NH=me({name:"ElVirtualScrollBar",props:M6e,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=O(()=>e.startGap+e.endGap),r=Ae("virtual-scrollbar"),s=Ae("scrollbar"),o=j(),i=j();let a=null,l=null;const u=In({isDragging:!1,traveled:0}),c=O(()=>SLe[e.layout]),f=O(()=>e.clientSize-x(n)),d=O(()=>({position:"absolute",width:`${jx===e.layout?f.value:e.scrollbarSize}px`,height:`${jx===e.layout?e.scrollbarSize:f.value}px`,[xSn[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=O(()=>{const S=e.ratio;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*f.value/100;const $=f.value/3;return Math.floor(Math.min(Math.max(S*f.value/100,CSn),$))}),p=O(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return kSn({bar:c.value,size:S,move:u.traveled},e.layout)}),g=O(()=>Math.ceil(e.clientSize-h.value-x(n))),m=()=>{window.addEventListener("mousemove",b),window.addEventListener("mouseup",w);const S=x(i);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",b,{passive:!0}),S.addEventListener("touchend",w))},v=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",w),document.onselectstart=l,l=null;const S=x(i);S&&(S.removeEventListener("touchmove",b),S.removeEventListener("touchend",w))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(u.isDragging=!0,u[c.value.axis]=S.currentTarget[c.value.offset]-(S[c.value.client]-S.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),m())},w=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),v()},b=S=>{const{isDragging:$}=u;if(!$||!i.value||!o.value)return;const k=u[c.value.axis];if(!k)return;yp(a);const T=(o.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,_=i.value[c.value.offset]-k,E=T-_;a=_d(()=>{u.traveled=Math.max(0,Math.min(E,g.value)),t("scroll",E,g.value)})},C=S=>{const $=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),k=i.value[c.value.offset]/2,T=$-k;u.traveled=Math.max(0,Math.min(T,g.value)),t("scroll",T,g.value)};return xe(()=>e.scrollFrom,S=>{u.isDragging||(u.traveled=Math.ceil(S*g.value))}),Dn(()=>{v()}),()=>bt("div",{role:"presentation",ref:o,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:xt(C,["stop","prevent"]),onTouchstartPrevent:y},bt("div",{ref:i,class:s.e("thumb"),style:p.value,onMousedown:y},[]))}}),P6e=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:o,getStopIndexForStartIndex:i,initCache:a,clearCache:l,validateProps:u})=>me({name:e??"ElVirtualList",props:O6e,emits:[pM,gM],setup(c,{emit:f,expose:d}){u(c);const h=Ut(),p=Ae("vl"),g=j(a(c,h)),m=A6e(),v=j(),y=j(),w=j(),b=j({isScrolling:!1,scrollDir:"forward",scrollOffset:pt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),C=O(()=>{const{total:U,cache:K}=c,{isScrolling:G,scrollDir:re,scrollOffset:ue}=x(b);if(U===0)return[0,0,0,0];const ae=o(c,ue,x(g)),X=i(c,ae,ue,x(g)),J=!G||re===mM?Math.max(1,K):1,q=!G||re===Jb?Math.max(1,K):1;return[Math.max(0,ae-J),Math.max(0,Math.min(U-1,X+q)),ae,X]}),S=O(()=>s(c,x(g))),$=O(()=>x_(c.layout)),k=O(()=>[{position:"relative",[`overflow-${$.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:pt(c.height)?`${c.height}px`:c.height,width:pt(c.width)?`${c.width}px`:c.width},c.style]),T=O(()=>{const U=x(S),K=x($);return{height:K?"100%":`${U}px`,pointerEvents:x(b).isScrolling?"none":void 0,width:K?`${U}px`:"100%",margin:0,boxSizing:"border-box"}}),_=O(()=>$.value?c.width:c.height),{onWheel:E}=I6e({atStartEdge:O(()=>b.value.scrollOffset<=0),atEndEdge:O(()=>b.value.scrollOffset>=S.value),layout:O(()=>c.layout)},U=>{var K,G;(G=(K=w.value).onMouseUp)==null||G.call(K),I(Math.min(b.value.scrollOffset+U,S.value-_.value))});Fn(v,"wheel",E,{passive:!1});const A=()=>{const{total:U}=c;if(U>0){const[ue,ae,X,J]=x(C);f(pM,ue,ae,X,J)}const{scrollDir:K,scrollOffset:G,updateRequested:re}=x(b);f(gM,K,G,re)},N=U=>{const{clientHeight:K,scrollHeight:G,scrollTop:re}=U.currentTarget,ue=x(b);if(ue.scrollOffset===re)return;const ae=Math.max(0,Math.min(re,G-K));b.value={...ue,isScrolling:!0,scrollDir:Lv(ue.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},Ye(z)},F=U=>{const{clientWidth:K,scrollLeft:G,scrollWidth:re}=U.currentTarget,ue=x(b);if(ue.scrollOffset===G)return;const{direction:ae}=c;let X=G;if(ae===Cw)switch(yM()){case w_:{X=-G;break}case sre:{X=re-K-G;break}}X=Math.max(0,Math.min(X,re-K)),b.value={...ue,isScrolling:!0,scrollDir:Lv(ue.scrollOffset,X),scrollOffset:X,updateRequested:!1},Ye(z)},R=U=>{x($)?F(U):N(U),A()},P=(U,K)=>{const G=(S.value-_.value)/K*U;I(Math.min(S.value-_.value,G))},I=U=>{U=Math.max(U,0),U!==x(b).scrollOffset&&(b.value={...x(b),scrollOffset:U,scrollDir:Lv(x(b).scrollOffset,U),updateRequested:!0},Ye(z))},D=(U,K=Au)=>{const{scrollOffset:G}=x(b);U=Math.max(0,Math.min(U,c.total-1)),I(t(c,U,K,G,x(g)))},M=U=>{const{direction:K,itemSize:G,layout:re}=c,ue=m.value(l&&G,l&&re,l&&K);let ae;if(En(ue,String(U)))ae=ue[U];else{const X=r(c,U,x(g)),J=n(c,U,x(g)),q=x($),L=K===Cw,Q=q?X:0;ue[U]=ae={position:"absolute",left:L?void 0:`${Q}px`,right:L?`${Q}px`:void 0,top:q?0:`${X}px`,height:q?"100%":`${J}px`,width:q?`${J}px`:"100%"}}return ae},z=()=>{b.value.isScrolling=!1,Ye(()=>{m.value(-1,null,null)})},W=()=>{const U=v.value;U&&(U.scrollTop=0)};Ht(()=>{if(!Tn)return;const{initScrollOffset:U}=c,K=x(v);pt(U)&&K&&(x($)?K.scrollLeft=U:K.scrollTop=U),A()}),Yc(()=>{const{direction:U,layout:K}=c,{scrollOffset:G,updateRequested:re}=x(b),ue=x(v);if(re&&ue)if(K===jx)if(U===Cw)switch(yM()){case w_:{ue.scrollLeft=-G;break}case rre:{ue.scrollLeft=G;break}default:{const{clientWidth:ae,scrollWidth:X}=ue;ue.scrollLeft=X-ae-G;break}}else ue.scrollLeft=G;else ue.scrollTop=G}),FM(()=>{x(v).scrollTop=x(b).scrollOffset});const H={ns:p,clientSize:_,estimatedTotalSize:S,windowStyle:k,windowRef:v,innerRef:y,innerStyle:T,itemsToRender:C,scrollbarRef:w,states:b,getItemStyle:M,onScroll:R,onScrollbarScroll:P,onWheel:E,scrollTo:I,scrollToItem:D,resetScrollTop:W};return d({windowRef:v,innerRef:y,getItemStyleCache:m,scrollTo:I,scrollToItem:D,resetScrollTop:W,states:b}),H},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:g,data:m,getItemStyle:v,innerElement:y,itemsToRender:w,innerStyle:b,layout:C,total:S,onScroll:$,onScrollbarScroll:k,states:T,useIsScrolling:_,windowStyle:E,ns:A}=c,[N,F]=w,R=zt(g),P=zt(y),I=[];if(S>0)for(let W=N;W<=F;W++)I.push(bt(it,{key:W},(f=d.default)==null?void 0:f.call(d,{data:m,index:W,isScrolling:_?T.isScrolling:void 0,style:v(W)})));const D=[bt(P,Wt(c.innerProps,{style:b,ref:"innerRef"}),ot(P)?I:{default:()=>I})],M=bt(NH,{ref:"scrollbarRef",clientSize:p,layout:C,onScroll:k,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:S,alwaysOn:T.scrollbarAlwaysOn}),z=bt(R,{class:[A.e("window"),h],style:E,onScroll:$,ref:"windowRef",key:0},ot(R)?[D]:{default:()=>[D]});return bt("div",{key:0,class:[A.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[z,M])}}),L6e=P6e({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:s},o,i,a)=>{const l=x_(r)?s:e,u=Math.max(0,t*n-l),c=Math.min(u,o*n),f=Math.max(0,(o+1)*n-l);switch(i===N5&&(a>=f-l&&a<=c+l?i=Au:i=Wf),i){case y_:return c;case b_:return f;case Wf:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case Au:default:return a>=f&&a<=c?a:a<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:s},o,i)=>{const a=o*n,l=x_(r)?s:e,u=Math.ceil((l+i-a)/n);return Math.max(0,Math.min(t-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Qb=(e,t,n)=>{const{itemSize:r}=e,{items:s,lastVisitedIndex:o}=n;if(t>o){let i=0;if(o>=0){const a=s[o];i=a.offset+a.size}for(let a=o+1;a<=t;a++){const l=r(a);s[a]={offset:i,size:l},i+=l}n.lastVisitedIndex=t}return s[t]},ESn=(e,t,n)=>{const{items:r,lastVisitedIndex:s}=t;return(s>0?r[s].offset:0)>=n?B6e(e,t,0,s,n):_Sn(e,t,Math.max(0,s),n)},B6e=(e,t,n,r,s)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),i=Qb(e,o,t).offset;if(i===s)return o;i<s?n=o+1:i>s&&(r=o-1)}return Math.max(0,n-1)},_Sn=(e,t,n,r)=>{const{total:s}=e;let o=1;for(;n<s&&Qb(e,n,t).offset<r;)n+=o,o*=2;return B6e(e,t,Math.floor(n/2),Math.min(n,s-1),r)},u0e=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=e&&(r=e-1),r>=0){const a=t[r];s=a.offset+a.size}const i=(e-r-1)*n;return s+i},TSn=P6e({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>Qb(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:u0e,getOffset:(e,t,n,r,s)=>{const{height:o,layout:i,width:a}=e,l=x_(i)?a:o,u=Qb(e,t,s),c=u0e(e,s),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===N5&&(r>=d-l&&r<=f+l?n=Au:n=Wf),n){case y_:return f;case b_:return d;case Wf:return Math.round(d+(f-d)/2);case Au:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(e,t,n)=>ESn(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:s,total:o,layout:i,width:a}=e,l=x_(i)?a:s,u=Qb(e,t,r),c=n+l;let f=u.offset+u.size,d=t;for(;d<o-1&&f<c;)d++,f+=Qb(e,d,r).size;return d},initCache({estimatedItemSize:e=kH},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var o,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=t.exposed)==null||o.getItemStyleCache(-1),s&&((i=t.proxy)==null||i.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),ASn={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String};var ISn=me({name:"ElSelectDropdown",props:ASn,setup(e,{slots:t,expose:n}){const r=tt(tre),s=Ae("select"),{getLabel:o,getValue:i,getDisabled:a}=DI(r.props),l=j([]),u=j(),c=O(()=>e.data.length);xe(()=>c.value,()=>{var E,A;(A=(E=r.tooltipRef.value)==null?void 0:E.updatePopper)==null||A.call(E)});const f=O(()=>yn(r.props.estimatedOptionHeight)),d=O(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:E=>l.value[E]}),h=(E=[],A)=>{const{props:{valueKey:N}}=r;return Pt(A)?E&&E.some(F=>nr(Es(F,N))===Es(A,N)):E.includes(A)},p=(E,A)=>{if(Pt(A)){const{valueKey:N}=r.props;return Es(E,N)===Es(A,N)}else return E===A},g=(E,A)=>r.props.multiple?h(E,i(A)):p(E,i(A)),m=(E,A)=>{const{disabled:N,multiple:F,multipleLimit:R}=r.props;return N||!A&&(F?R>0&&E.length>=R:!1)},v=E=>e.hoveringIndex===E;n({listRef:u,isSized:f,isItemDisabled:m,isItemHovering:v,isItemSelected:g,scrollToItem:E=>{const A=u.value;A&&A.scrollToItem(E)},resetScrollTop:()=>{const E=u.value;E&&E.resetScrollTop()}});const C=E=>{const{index:A,data:N,style:F}=E,R=x(f),{itemSize:P,estimatedSize:I}=x(d),{modelValue:D}=r.props,{onSelect:M,onHover:z}=r,W=N[A];if(W.type==="Group")return ee(aSn,{item:W,style:F,height:R?P:I},null);const H=g(D,W),U=m(D,H),K=v(A);return ee(mSn,Wt(E,{selected:H,disabled:a(W)||U,created:!!W.created,hovering:K,item:W,onSelect:M,onHover:z}),{default:G=>{var re;return((re=t.default)==null?void 0:re.call(t,G))||ee("span",null,[o(W)])}})},{onKeyboardNavigate:S,onKeyboardSelect:$}=r,k=()=>{S("forward")},T=()=>{S("backward")},_=E=>{const A=Hn(E),{tab:N,esc:F,down:R,up:P,enter:I,numpadEnter:D}=Oe;switch([F,R,P,I,D].includes(A)&&(E.preventDefault(),E.stopPropagation()),A){case N:case F:break;case R:k();break;case P:T();break;case I:case D:$();break}};return()=>{var E,A,N,F;const{data:R,width:P}=e,{height:I,multiple:D,scrollbarAlwaysOn:M}=r.props,z=O(()=>nM?!0:M),W=x(f)?L6e:TSn;return ee("div",{class:[s.b("dropdown"),s.is("multiple",D)],style:{width:`${P}px`}},[(E=t.header)==null?void 0:E.call(t),((A=t.loading)==null?void 0:A.call(t))||((N=t.empty)==null?void 0:N.call(t))||ee(W,Wt({ref:u},x(d),{className:s.be("dropdown","list"),scrollbarAlwaysOn:z.value,data:R,height:I,width:P,total:R.length,innerElement:"ul",innerProps:{id:e.id,role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},onKeydown:_}),{default:H=>ee(C,H,null)}),(F=t.footer)==null?void 0:F.call(t)])}}});function NSn(e,t){const{aliasProps:n,getLabel:r,getValue:s}=DI(e),o=j(0),i=j(),a=O(()=>e.allowCreate&&e.filterable);xe(()=>e.options,h=>{const p=new Set(h.map(g=>r(g)));t.createdOptions=t.createdOptions.filter(g=>!p.has(r(g)))});function l(h){const p=g=>r(g)===h;return e.options&&e.options.some(p)||t.createdOptions.some(p)}function u(h){a.value&&(e.multiple&&h.created?o.value++:i.value=h)}function c(h){if(a.value)if(h&&h.length>0){if(l(h)){t.createdOptions=t.createdOptions.filter(g=>r(g)!==t.previousQuery);return}const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=p:t.createdOptions.push(p)}else if(e.multiple)t.createdOptions.length=o.value;else{const p=i.value;t.createdOptions.length=0,p&&p.created&&t.createdOptions.push(p)}}function f(h){if(!a.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===r(h))return;const p=t.createdOptions.findIndex(g=>s(g)===s(h));~p&&(t.createdOptions.splice(p,1),o.value--)}function d(){a.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const DSn=(e,t)=>{const{t:n}=un(),r=Ae("select"),s=Ae("input"),{form:o,formItem:i}=Ro(),{inputId:a}=au(e,{formItemContext:i}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=DI(e),{valueOnClear:h,isEmptyValue:p}=CI(e),g=In({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),m=j(-1),v=j(!1),y=j(),w=j(),b=j(),C=j(),S=j(),$=j(),k=j(),T=j(),_=j(),E=j(),{isComposing:A,handleCompositionStart:N,handleCompositionEnd:F,handleCompositionUpdate:R}=_I({afterComposition:We=>yr(We)}),P=jr(),{wrapperRef:I,isFocused:D,handleBlur:M}=Hp(S,{disabled:P,afterFocus(){e.automaticDropdown&&!U.value&&(U.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(We){var _t,Kt;return((_t=b.value)==null?void 0:_t.isFocusInsideContent(We))||((Kt=C.value)==null?void 0:Kt.isFocusInsideContent(We))},afterBlur(){var We;U.value=!1,g.menuVisibleOnFocus=!1,e.validateEvent&&((We=i?.validate)==null||We.call(i,"blur").catch(_t=>void 0))}}),z=O(()=>ge("")),W=O(()=>e.loading?!1:e.options.length>0||g.createdOptions.length>0),H=j([]),U=j(!1),K=O(()=>{var We;return(We=o?.statusIcon)!=null?We:!1}),G=O(()=>{const We=H.value.length*e.itemHeight;return We>e.height?e.height:We}),re=O(()=>e.multiple?De(e.modelValue)&&e.modelValue.length>0:!p(e.modelValue)),ue=O(()=>e.clearable&&!P.value&&re.value&&(D.value||g.inputHovering)),ae=O(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),X=O(()=>ae.value&&r.is("reverse",U.value)),J=O(()=>i?.validateState||""),q=O(()=>{if(J.value)return w5[J.value]}),L=O(()=>e.remote?e.debounce:0),Q=O(()=>e.remote&&!g.inputValue&&!W.value),se=O(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&g.inputValue&&W.value&&H.value.length===0?e.noMatchText||n("el.select.noMatch"):W.value?null:e.noDataText||n("el.select.noData")),de=O(()=>e.filterable&&ft(e.filterMethod)),he=O(()=>e.filterable&&e.remote&&ft(e.remoteMethod)),ge=We=>{const _t=new RegExp(Zne(We),"i"),Kt=le=>de.value||he.value?!0:We?_t.test(u(le)||""):!0;return e.loading?[]:[...g.createdOptions,...e.options].reduce((le,Ee)=>{const ut=d(Ee);if(De(ut)){const $t=ut.filter(Kt);$t.length>0&&le.push({label:u(Ee),type:"Group"},...$t)}else(e.remote||Kt(Ee))&&le.push(Ee);return le},[])},$e=()=>{H.value=ge(g.inputValue)},He=O(()=>{const We=new Map;return z.value.forEach((_t,Kt)=>{We.set(yt(c(_t)),{option:_t,index:Kt})}),We}),Ie=O(()=>{const We=new Map;return H.value.forEach((_t,Kt)=>{We.set(yt(c(_t)),{option:_t,index:Kt})}),We}),Ce=O(()=>H.value.every(We=>f(We))),Re=Fs(),ze=O(()=>Re.value==="small"?"small":"default"),Ue=()=>{var We;if(pt(e.fitInputWidth)){m.value=e.fitInputWidth;return}const _t=((We=y.value)==null?void 0:We.offsetWidth)||200;!e.fitInputWidth&&W.value?Ye(()=>{m.value=Math.max(_t,rt())}):m.value=_t},rt=()=>{var We,_t;const le=document.createElement("canvas").getContext("2d"),Ee=r.be("dropdown","item"),$t=(((_t=(We=T.value)==null?void 0:We.listRef)==null?void 0:_t.innerRef)||document).querySelector(`.${Ee}`);if($t===null||le===null)return 0;const hn=getComputedStyle($t),ar=Number.parseFloat(hn.paddingLeft)+Number.parseFloat(hn.paddingRight);return le.font=`bold ${hn.font.replace(new RegExp(`\\b${hn.fontWeight}\\b`),"")}`,H.value.reduce((ws,sS)=>{const Kp=le.measureText(u(sS));return Math.max(Kp.width,ws)},0)+ar},ht=()=>{if(!w.value)return 0;const We=window.getComputedStyle(w.value);return Number.parseFloat(We.gap||"6px")},ye=O(()=>{const We=ht(),_t=e.filterable?We+I5:0;return{maxWidth:`${E.value&&e.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-We-_t:g.selectionWidth-_t}px`}}),Ge=O(()=>({maxWidth:`${g.selectionWidth}px`})),at=O(()=>De(e.modelValue)?e.modelValue.length===0&&!g.inputValue:e.filterable?!g.inputValue:!0),cn=O(()=>{var We;const _t=(We=e.placeholder)!=null?We:n("el.select.placeholder");return e.multiple||!re.value?_t:g.selectedLabel}),lt=O(()=>{var We,_t;return(_t=(We=b.value)==null?void 0:We.popperRef)==null?void 0:_t.contentRef}),Ft=O(()=>{if(e.multiple){const We=e.modelValue.length;if(We>0&&Ie.value.has(e.modelValue[We-1])){const{index:_t}=Ie.value.get(e.modelValue[We-1]);return _t}}else if(!p(e.modelValue)&&Ie.value.has(e.modelValue)){const{index:We}=Ie.value.get(e.modelValue);return We}return-1}),Dt=O({get(){return U.value&&(e.loading||!Q.value)&&(!v.value||!_a(g.previousQuery))},set(We){U.value=We}}),qt=O(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(0,e.maxCollapseTags):g.cachedOptions:[]),Te=O(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Xe,removeNewOption:Se,selectNewOption:ct,clearAllNewOption:Yt}=NSn(e,g),Gn=We=>{var _t;P.value||e.filterable&&U.value&&We&&!((_t=k.value)!=null&&_t.contains(We.target))||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:U.value=!U.value)},Ne=()=>{g.inputValue.length>0&&!U.value&&(U.value=!0),Xe(g.inputValue),Ye(()=>{wt(g.inputValue)})},nt=bI(()=>{Ne(),v.value=!1},L),wt=We=>{g.previousQuery===We||A.value||(g.previousQuery=We,e.filterable&&ft(e.filterMethod)?e.filterMethod(We):e.filterable&&e.remote&&ft(e.remoteMethod)&&e.remoteMethod(We),e.defaultFirstOption&&(e.filterable||e.remote)&&H.value.length?Ye(Fr):Ye(dn))},Fr=()=>{const We=H.value.filter(le=>!le.disabled&&le.type!=="Group"),_t=We.find(le=>le.created),Kt=We[0];g.hoveringIndex=Ze(H.value,_t||Kt)},da=We=>{Gr(e.modelValue,We)||t(en,We)},bs=We=>{t(Et,We),da(We),g.previousValue=e.multiple?String(We):We,Ye(()=>{if(e.multiple&&De(e.modelValue)){const _t=g.cachedOptions.slice(),Kt=e.modelValue.map(le=>uu(le,_t));Gr(g.cachedOptions,Kt)||(g.cachedOptions=Kt)}else Gp(!0)})},Ze=(We=[],_t)=>{if(!Pt(_t))return We.indexOf(_t);const Kt=e.valueKey;let le=-1;return We.some((Ee,ut)=>Es(Ee,Kt)===Es(_t,Kt)?(le=ut,!0):!1),le},yt=We=>Pt(We)?Es(We,e.valueKey):We,Gt=()=>{Ue()},ai=()=>{g.selectionWidth=Number.parseFloat(window.getComputedStyle(w.value).width)},lu=()=>{g.collapseItemWidth=E.value.getBoundingClientRect().width},Ol=()=>{var We,_t;(_t=(We=b.value)==null?void 0:We.updatePopper)==null||_t.call(We)},ib=()=>{var We,_t;(_t=(We=C.value)==null?void 0:We.updatePopper)==null||_t.call(We)},rh=We=>{const _t=c(We);if(e.multiple){let Kt=e.modelValue.slice();const le=Ze(Kt,_t);le>-1?(Kt=[...Kt.slice(0,le),...Kt.slice(le+1)],g.cachedOptions.splice(le,1),Se(We)):(e.multipleLimit<=0||Kt.length<e.multipleLimit)&&(Kt=[...Kt,_t],g.cachedOptions.push(We),ct(We)),bs(Kt),We.created&&wt(""),e.filterable&&!e.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=u(We),!Gr(e.modelValue,_t)&&bs(_t),U.value=!1,ct(We),We.created||Yt();ec()},ab=(We,_t)=>{let Kt=e.modelValue.slice();const le=Ze(Kt,c(_t));le>-1&&!P.value&&(Kt=[...e.modelValue.slice(0,le),...e.modelValue.slice(le+1)],g.cachedOptions.splice(le,1),bs(Kt),t("remove-tag",c(_t)),Se(_t)),We.stopPropagation(),ec()},ec=()=>{var We;(We=S.value)==null||We.focus()},QC=()=>{var We;if(U.value){U.value=!1,Ye(()=>{var _t;return(_t=S.value)==null?void 0:_t.blur()});return}(We=S.value)==null||We.blur()},eS=()=>{g.inputValue.length>0?g.inputValue="":U.value=!1},tS=We=>HPe(We,_t=>!g.cachedOptions.some(Kt=>c(Kt)===_t&&f(Kt))),nS=We=>{const _t=Hn(We);if(e.multiple&&_t!==Oe.delete&&g.inputValue.length===0){We.preventDefault();const Kt=e.modelValue.slice(),le=tS(Kt);if(le<0)return;const Ee=Kt[le];Kt.splice(le,1);const ut=g.cachedOptions[le];g.cachedOptions.splice(le,1),Se(ut),bs(Kt),t("remove-tag",Ee)}},rS=()=>{let We;De(e.modelValue)?We=[]:We=h.value,g.selectedLabel="",U.value=!1,bs(We),t("clear"),Yt(),ec()},sh=(We,_t=void 0)=>{const Kt=H.value;if(!["forward","backward"].includes(We)||P.value||Kt.length<=0||Ce.value||A.value)return;if(!U.value)return Gn();yn(_t)&&(_t=g.hoveringIndex);let le=-1;We==="forward"?(le=_t+1,le>=Kt.length&&(le=0)):We==="backward"&&(le=_t-1,(le<0||le>=Kt.length)&&(le=Kt.length-1));const Ee=Kt[le];if(f(Ee)||Ee.type==="Group")return sh(We,le);g.hoveringIndex=le,ho(le)},Le=()=>{if(U.value)~g.hoveringIndex&&H.value[g.hoveringIndex]&&rh(H.value[g.hoveringIndex]);else return Gn()},St=We=>{g.hoveringIndex=We??-1},dn=()=>{if(!e.multiple)g.hoveringIndex=H.value.findIndex(We=>yt(c(We))===yt(e.modelValue));else{const We=e.modelValue.length;if(We>0){const _t=e.modelValue[We-1];g.hoveringIndex=H.value.findIndex(Kt=>yt(_t)===yt(c(Kt)))}else g.hoveringIndex=-1}},yr=We=>{if(g.inputValue=We.target.value,e.remote)v.value=!0,nt();else return Ne()},Hr=We=>{if(U.value=!1,D.value){const _t=new FocusEvent("blur",We);M(_t)}},Fo=()=>(g.isBeforeHide=!1,Ye(()=>{~Ft.value&&ho(Ft.value)})),ho=We=>{T.value.scrollToItem(We)},uu=(We,_t)=>{const Kt=yt(We);if(He.value.has(Kt)){const{option:le}=He.value.get(Kt);return le}if(_t&&_t.length){const le=_t.find(Ee=>yt(c(Ee))===Kt);if(le)return le}return{[l.value.value]:We,[l.value.label]:We}},tc=We=>{var _t,Kt;return(Kt=(_t=He.value.get(c(We)))==null?void 0:_t.index)!=null?Kt:-1},Gp=(We=!1)=>{if(e.multiple)if(e.modelValue.length>0){const _t=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=e.modelValue.toString();for(const Kt of e.modelValue){const le=uu(Kt,_t);g.cachedOptions.push(le)}}else g.cachedOptions=[],g.previousValue=void 0;else if(re.value){g.previousValue=e.modelValue;const _t=H.value,Kt=_t.findIndex(le=>yt(c(le))===yt(e.modelValue));~Kt?g.selectedLabel=u(_t[Kt]):(!g.selectedLabel||We)&&(g.selectedLabel=yt(e.modelValue))}else g.selectedLabel="",g.previousValue=void 0;Yt(),Ue()};xe(()=>e.fitInputWidth,()=>{Ue()}),xe(U,We=>{We?(e.persistent||Ue(),wt("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,Xe(""))}),xe(()=>e.modelValue,(We,_t)=>{var Kt;(!We||De(We)&&We.length===0||e.multiple&&!Gr(We.toString(),g.previousValue)||!e.multiple&&yt(We)!==yt(g.previousValue))&&Gp(!0),!Gr(We,_t)&&e.validateEvent&&((Kt=i?.validate)==null||Kt.call(i,"change").catch(Ee=>void 0))},{deep:!0}),xe(()=>e.options,()=>{const We=S.value;(!We||We&&document.activeElement!==We)&&Gp()},{deep:!0,flush:"post"}),xe(()=>H.value,()=>(Ue(),T.value&&Ye(T.value.resetScrollTop))),gl(()=>{g.isBeforeHide||$e()}),gl(()=>{const{valueKey:We,options:_t}=e,Kt=new Map;for(const le of _t){const Ee=c(le);let ut=Ee;if(Pt(ut)&&(ut=Es(Ee,We)),Kt.get(ut))break;Kt.set(ut,!0)}}),Ht(()=>{Gp()}),Cr(y,Gt),Cr(w,ai),Cr(I,Ol),Cr(_,ib),Cr(E,lu);let lb;return xe(()=>Dt.value,We=>{We?lb=Cr(T,Ol).stop:(lb?.(),lb=void 0),t("visible-change",We)}),{inputId:a,collapseTagSize:ze,currentPlaceholder:cn,expanded:U,emptyText:se,popupHeight:G,debounce:L,allOptions:z,allOptionsValueMap:He,filteredOptions:H,iconComponent:ae,iconReverse:X,tagStyle:ye,collapseTagStyle:Ge,popperSize:m,dropdownMenuVisible:Dt,hasModelValue:re,shouldShowPlaceholder:at,selectDisabled:P,selectSize:Re,needStatusIcon:K,showClearBtn:ue,states:g,isFocused:D,nsSelect:r,nsInput:s,inputRef:S,menuRef:T,tagMenuRef:_,tooltipRef:b,tagTooltipRef:C,selectRef:y,wrapperRef:I,selectionRef:w,prefixRef:$,suffixRef:k,collapseItemRef:E,popperRef:lt,validateState:J,validateIcon:q,showTagList:qt,collapseTagList:Te,debouncedOnInputChange:nt,deleteTag:ab,getLabel:u,getValue:c,getDisabled:f,getValueKey:yt,getIndex:tc,handleClear:rS,handleClickOutside:Hr,handleDel:nS,handleEsc:eS,focus:ec,blur:QC,handleMenuEnter:Fo,handleResize:Gt,resetSelectionWidth:ai,updateTooltip:Ol,updateTagTooltip:ib,updateOptions:$e,toggleMenu:Gn,scrollTo:ho,onInput:yr,onKeyboardNavigate:sh,onKeyboardSelect:Le,onSelect:rh,onHover:St,handleCompositionStart:N,handleCompositionEnd:F,handleCompositionUpdate:R}},OSn=me({name:"ElSelectV2",components:{ElSelectMenu:ISn,ElTag:Jh,ElTooltip:Xo,ElIcon:st},directives:{ClickOutside:Jm},props:uSn,emits:fSn,setup(e,{emit:t}){const n=O(()=>{const{modelValue:l,multiple:u}=e,c=u?[]:void 0;return De(l)?u?l:c:u?c:l}),r=DSn(In({...ao(e),modelValue:n}),t),{calculatorRef:s,inputStyle:o}=Kne(),i=Yo();ln(tre,{props:In({...ao(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:i,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=O(()=>e.multiple?r.states.cachedOptions.map(l=>r.getLabel(l)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a,calculatorRef:s,inputStyle:o,contentId:i,BORDER_HORIZONTAL_WIDTH:b6e}}}),RSn=["id","autocomplete","tabindex","aria-expanded","aria-label","disabled","aria-controls","aria-activedescendant","readonly","name"],FSn=["textContent"],MSn={key:1};function PSn(e,t,n,r,s,o){const i=Qt("el-tag"),a=Qt("el-tooltip"),l=Qt("el-icon"),u=Qt("el-select-menu"),c=wq("click-outside");return Lt((B(),Y("div",{ref:"selectRef",class:V([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[15]||(t[15]=f=>e.states.inputHovering=!0),onMouseleave:t[16]||(t[16]=f=>e.states.inputHovering=!1)},[ee(a,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[14]||(t[14]=f=>e.states.isBeforeHide=!1)},{default:ie(()=>{var f,d;return[Z("div",{ref:"wrapperRef",class:V([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[11]||(t[11]=xt((...h)=>e.toggleMenu&&e.toggleMenu(...h),["prevent"]))},[e.$slots.prefix?(B(),Y("div",{key:0,ref:"prefixRef",class:V(e.nsSelect.e("prefix"))},[ce(e.$slots,"prefix")],2)):fe("v-if",!0),Z("div",{ref:"selectionRef",class:V([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ce(e.$slots,"tag",{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(B(!0),Y(it,null,Xt(e.showTagList,h=>(B(),Y("div",{key:e.getValueKey(e.getValue(h)),class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!e.selectDisabled&&!e.getDisabled(h),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:dt(e.tagStyle),onClose:p=>e.deleteTag(p,h)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:e.getIndex(h),label:e.getLabel(h),value:e.getValue(h)},()=>[tn(Fe(e.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(B(),pe(a,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:ie(()=>[Z("div",{ref:"collapseItemRef",class:V(e.nsSelect.e("selected-item"))},[ee(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:dt(e.collapseTagStyle),"disable-transitions":""},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))}," + "+Fe(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[Z("div",{ref:"tagMenuRef",class:V(e.nsSelect.e("selection"))},[(B(!0),Y(it,null,Xt(e.collapseTagList,h=>(B(),Y("div",{key:e.getValueKey(e.getValue(h)),class:V(e.nsSelect.e("selected-item"))},[ee(i,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(h),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:p=>e.deleteTag(p,h)},{default:ie(()=>[Z("span",{class:V(e.nsSelect.e("tags-text"))},[ce(e.$slots,"label",{index:e.getIndex(h),label:e.getLabel(h),value:e.getValue(h)},()=>[tn(Fe(e.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):fe("v-if",!0)]):fe("v-if",!0),Z("div",{class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Lt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=h=>e.states.inputValue=h),style:dt(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"none","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:V([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox","aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:"",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:t[1]||(t[1]=(...h)=>e.onInput&&e.onInput(...h)),onCompositionstart:t[2]||(t[2]=(...h)=>e.handleCompositionStart&&e.handleCompositionStart(...h)),onCompositionupdate:t[3]||(t[3]=(...h)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...h)),onCompositionend:t[4]||(t[4]=(...h)=>e.handleCompositionEnd&&e.handleCompositionEnd(...h)),onKeydown:[t[5]||(t[5]=qr(xt(h=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[6]||(t[6]=qr(xt(h=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[7]||(t[7]=qr(xt((...h)=>e.onKeyboardSelect&&e.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),t[8]||(t[8]=qr(xt((...h)=>e.handleEsc&&e.handleEsc(...h),["stop","prevent"]),["esc"])),t[9]||(t[9]=qr(xt((...h)=>e.handleDel&&e.handleDel(...h),["stop"]),["delete"]))],onClick:t[10]||(t[10]=xt((...h)=>e.toggleMenu&&e.toggleMenu(...h),["stop"]))},null,46,RSn),[[zM,e.states.inputValue]]),e.filterable?(B(),Y("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:V(e.nsSelect.e("input-calculator")),textContent:Fe(e.states.inputValue)},null,10,FSn)):fe("v-if",!0)],2),e.shouldShowPlaceholder?(B(),Y("div",{key:1,class:V([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ce(e.$slots,"label",{key:0,index:(d=(f=e.allOptionsValueMap.get(e.modelValue))==null?void 0:f.index)!=null?d:-1,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Fe(e.currentPlaceholder),1)]):(B(),Y("span",MSn,Fe(e.currentPlaceholder),1))],2)):fe("v-if",!0)],2),Z("div",{ref:"suffixRef",class:V(e.nsSelect.e("suffix"))},[e.iconComponent?Lt((B(),pe(l,{key:0,class:V([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])),[[Sn,!e.showClearBtn]]):fe("v-if",!0),e.showClearBtn&&e.clearIcon?(B(),pe(l,{key:1,class:V([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:xt(e.handleClear,["prevent","stop"])},{default:ie(()=>[(B(),pe(zt(e.clearIcon)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(B(),pe(l,{key:2,class:V([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ie(()=>[(B(),pe(zt(e.validateIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],2)]}),content:ie(()=>[ee(u,{id:e.contentId,ref:"menuRef",data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},ml({default:ie(f=>[ce(e.$slots,"default",zh(Wh(f)))]),_:2},[e.$slots.header?{name:"header",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","header")),onClick:t[12]||(t[12]=xt(()=>{},["stop"]))},[ce(e.$slots,"header")],2)]),key:"0"}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","loading"))},[ce(e.$slots,"loading")],2)]),key:"1"}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","empty"))},[ce(e.$slots,"empty",{},()=>[Z("span",null,Fe(e.emptyText),1)])],2)]),key:"2"}:void 0,e.$slots.footer?{name:"footer",fn:ie(()=>[Z("div",{class:V(e.nsSelect.be("dropdown","footer")),onClick:t[13]||(t[13]=xt(()=>{},["stop"]))},[ce(e.$slots,"footer")],2)]),key:"3"}:void 0]),1032,["id","data","width","hovering-index","scrollbar-always-on","aria-label"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}var LSn=Ve(OSn,[["render",PSn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);const BSn=Rt(LSn),zSn=Me({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:oe([Number,Object])}}),VSn=Me({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),WSn=me({name:"ElSkeletonItem",__name:"skeleton-item",props:VSn,setup(e){const t=Ae("skeleton");return(n,r)=>(B(),Y("div",{class:V([x(t).e("item"),x(t).e(n.variant)])},[n.variant==="image"?(B(),pe(x(Wcn),{key:0})):fe("v-if",!0)],2))}});var bM=Ve(WSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const USn=(e,t=0)=>{if(t===0)return e;const n=Pt(t)&&!!t.initVal,r=j(n);let s=null;const o=a=>{if(yn(a)){r.value=e.value;return}s&&clearTimeout(s),s=setTimeout(()=>{r.value=e.value},a)},i=a=>{a==="leading"?pt(t)?o(t):o(t.leading):Pt(t)?o(t.trailing):r.value=!1};return Ht(()=>i("leading")),xe(()=>e.value,a=>{i(a?"leading":"trailing")}),r},jSn=me({name:"ElSkeleton",__name:"skeleton",props:zSn,setup(e,{expose:t}){const n=e,r=Ae("skeleton"),s=USn(Bn(n,"loading"),n.throttle);return t({uiLoading:s}),(o,i)=>x(s)?(B(),Y("div",Wt({key:0,class:[x(r).b(),x(r).is("animated",o.animated)]},o.$attrs),[(B(!0),Y(it,null,Xt(o.count,a=>(B(),Y(it,{key:a},[x(s)?ce(o.$slots,"template",{key:a},()=>[ee(bM,{class:V(x(r).is("first")),variant:"p"},null,8,["class"]),(B(!0),Y(it,null,Xt(o.rows,l=>(B(),pe(bM,{key:l,class:V([x(r).e("paragraph"),x(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):fe("v-if",!0)],64))),128))],16)):ce(o.$slots,"default",zh(Wt({key:1},o.$attrs)))}});var HSn=Ve(jSn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const qSn=Rt(HSn,{SkeletonItem:bM}),GSn=Ur(bM),z6e=Symbol("sliderContextKey"),KSn=Me({modelValue:{type:oe([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:js,inputSize:js,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:oe(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:oe(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:qp,default:"top"},marks:{type:oe(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...fa(["ariaLabel"])}),H7=e=>pt(e)||De(e)&&e.every(pt),YSn={[Et]:H7,[Os]:H7,[en]:H7},XSn=Me({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:qp,default:"top"}}),ZSn={[Et]:e=>pt(e)},JSn=(e,t,n)=>{const r=j(),s=j(!1),o=O(()=>t.value instanceof Function),i=O(()=>o.value&&t.value(e.modelValue)||e.modelValue),a=Ed(()=>{n.value&&(s.value=!0)},50),l=Ed(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:i,displayTooltip:a,hideTooltip:l}},QSn=(e,t,n)=>{const{disabled:r,min:s,max:o,step:i,showTooltip:a,persistent:l,precision:u,sliderSize:c,formatTooltip:f,emitChange:d,resetSize:h,updateDragging:p}=tt(z6e),{tooltip:g,tooltipVisible:m,formatValue:v,displayTooltip:y,hideTooltip:w}=JSn(e,f,a),b=j(),C=O(()=>`${(e.modelValue-s.value)/(o.value-s.value)*100}%`),S=O(()=>e.vertical?{bottom:C.value}:{left:C.value}),$=()=>{t.hovering=!0,y()},k=()=>{t.hovering=!1,t.dragging||w()},T=U=>{r.value||(U.preventDefault(),M(U),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),b.value.focus())},_=U=>{r.value||(t.newPosition=Number.parseFloat(C.value)+U/(o.value-s.value)*100,H(t.newPosition),d())},E=()=>{_(-i.value)},A=()=>{_(i.value)},N=()=>{_(-i.value*4)},F=()=>{_(i.value*4)},R=()=>{r.value||(H(0),d())},P=()=>{r.value||(H(100),d())},I=U=>{const K=Hn(U);let G=!0;switch(K){case Oe.left:case Oe.down:E();break;case Oe.right:case Oe.up:A();break;case Oe.home:R();break;case Oe.end:P();break;case Oe.pageDown:N();break;case Oe.pageUp:F();break;default:G=!1;break}G&&U.preventDefault()},D=U=>{let K,G;return U.type.startsWith("touch")?(G=U.touches[0].clientY,K=U.touches[0].clientX):(G=U.clientY,K=U.clientX),{clientX:K,clientY:G}},M=U=>{t.dragging=!0,t.isClick=!0;const{clientX:K,clientY:G}=D(U);e.vertical?t.startY=G:t.startX=K,t.startPosition=Number.parseFloat(C.value),t.newPosition=t.startPosition},z=U=>{if(t.dragging){t.isClick=!1,y(),h();let K;const{clientX:G,clientY:re}=D(U);e.vertical?(t.currentY=re,K=(t.startY-t.currentY)/c.value*100):(t.currentX=G,K=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+K,H(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||w(),t.isClick||H(t.newPosition),d()},0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},H=async U=>{if(U===null||Number.isNaN(+U))return;U=p5(U,0,100);const K=Math.floor((o.value-s.value)/i.value),G=K*i.value/(o.value-s.value)*100,re=G+(100-G)/2;let ue;if(U<G){const ae=G/K,X=Math.round(U/ae);ue=s.value+X*i.value}else U<re?ue=s.value+K*i.value:ue=o.value;ue=Number.parseFloat(ue.toFixed(u.value)),ue!==e.modelValue&&n(Et,ue),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Ye(),t.dragging&&y(),g.value.updatePopper()};return xe(()=>t.dragging,U=>{p(U)}),Fn(b,"touchstart",T,{passive:!1}),{disabled:r,button:b,tooltip:g,tooltipVisible:m,showTooltip:a,persistent:l,wrapperStyle:S,formatValue:v,handleMouseEnter:$,handleMouseLeave:k,onButtonDown:T,onKeyDown:I,setPosition:H}},e$n=["tabindex"],t$n=me({name:"ElSliderButton",__name:"button",props:XSn,emits:ZSn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("slider"),i=In({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),a=O(()=>f.value?d.value:!1),{disabled:l,button:u,tooltip:c,showTooltip:f,persistent:d,tooltipVisible:h,wrapperStyle:p,formatValue:g,handleMouseEnter:m,handleMouseLeave:v,onButtonDown:y,onKeyDown:w,setPosition:b}=QSn(r,i,s),{hovering:C,dragging:S}=ao(i);return t({onButtonDown:y,onKeyDown:w,setPosition:b,hovering:C,dragging:S}),($,k)=>(B(),Y("div",{ref_key:"button",ref:u,class:V([x(o).e("button-wrapper"),{hover:x(C),dragging:x(S)}]),style:dt(x(p)),tabindex:x(l)?void 0:0,onMouseenter:k[0]||(k[0]=(...T)=>x(m)&&x(m)(...T)),onMouseleave:k[1]||(k[1]=(...T)=>x(v)&&x(v)(...T)),onMousedown:k[2]||(k[2]=(...T)=>x(y)&&x(y)(...T)),onFocus:k[3]||(k[3]=(...T)=>x(m)&&x(m)(...T)),onBlur:k[4]||(k[4]=(...T)=>x(v)&&x(v)(...T)),onKeydown:k[5]||(k[5]=(...T)=>x(w)&&x(w)(...T))},[ee(x(Xo),{ref_key:"tooltip",ref:c,visible:x(h),placement:$.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":$.tooltipClass,disabled:!x(f),persistent:a.value},{content:ie(()=>[Z("span",null,Fe(x(g)),1)]),default:ie(()=>[Z("div",{class:V([x(o).e("button"),{hover:x(C),dragging:x(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,e$n))}});var c0e=Ve(t$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const n$n=Me({mark:{type:oe([String,Object]),default:void 0}});var r$n=me({name:"ElSliderMarker",props:n$n,setup(e){const t=Ae("slider"),n=O(()=>ot(e.mark)?e.mark:e.mark.label),r=O(()=>ot(e.mark)?void 0:e.mark.style);return()=>bt("div",{class:t.e("marks-text"),style:r.value},n.value)}});const s$n=(e,t,n)=>{const{formItem:r}=Ro(),s=cr(),o=j(),i=j(),a={firstButton:o,secondButton:i},l=jr(),u=O(()=>Math.min(t.firstValue,t.secondValue)),c=O(()=>Math.max(t.firstValue,t.secondValue)),f=O(()=>e.range?`${100*(c.value-u.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),d=O(()=>e.range?`${100*(u.value-e.min)/(e.max-e.min)}%`:"0%"),h=O(()=>e.vertical?{height:e.height}:{}),p=O(()=>e.vertical?{height:f.value,bottom:d.value}:{width:f.value,left:d.value}),g=()=>{if(s.value){const E=s.value.getBoundingClientRect();t.sliderSize=E[e.vertical?"height":"width"]}},m=E=>{const A=e.min+E*(e.max-e.min)/100;if(!e.range)return o;let N;return Math.abs(u.value-A)<Math.abs(c.value-A)?N=t.firstValue<t.secondValue?"firstButton":"secondButton":N=t.firstValue>t.secondValue?"firstButton":"secondButton",a[N]},v=E=>{const A=m(E);return A.value.setPosition(E),A},y=E=>{t.firstValue=E??e.min,b(e.range?[u.value,c.value]:E??e.min)},w=E=>{t.secondValue=E,e.range&&b([u.value,c.value])},b=E=>{n(Et,E),n(Os,E)},C=async()=>{await Ye(),n(en,e.range?[u.value,c.value]:e.modelValue)},S=E=>{var A,N,F,R,P,I;if(l.value||t.dragging)return;g();let D=0;if(e.vertical){const M=(F=(N=(A=E.touches)==null?void 0:A.item(0))==null?void 0:N.clientY)!=null?F:E.clientY;D=(s.value.getBoundingClientRect().bottom-M)/t.sliderSize*100}else{const M=(I=(P=(R=E.touches)==null?void 0:R.item(0))==null?void 0:P.clientX)!=null?I:E.clientX,z=s.value.getBoundingClientRect().left;D=(M-z)/t.sliderSize*100}if(!(D<0||D>100))return v(D)};return{elFormItem:r,slider:s,firstButton:o,secondButton:i,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:h,barStyle:p,resetSize:g,setPosition:v,emitChange:C,onSliderWrapperPrevent:E=>{var A,N;((A=a.firstButton.value)!=null&&A.dragging||(N=a.secondButton.value)!=null&&N.dragging)&&E.preventDefault()},onSliderClick:E=>{S(E)&&C()},onSliderDown:async E=>{const A=S(E);A&&(await Ye(),A.value.onButtonDown(E))},onSliderMarkerDown:E=>{if(l.value||t.dragging)return;v(E)&&C()},setFirstValue:y,setSecondValue:w}},o$n=(e,t,n,r)=>({stops:O(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const i=Math.ceil((e.max-e.min)/e.step),a=100*e.step/(e.max-e.min),l=Array.from({length:i-1}).map((u,c)=>(c+1)*a);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:i=>e.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),i$n=e=>O(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),a$n=(e,t,n,r,s,o)=>{const i=u=>{s(Et,u),s(Os,u)},a=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Ts("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&De(f)?f[1]<e.min?i([e.min,e.min]):f[0]>e.max?i([e.max,e.max]):f[0]<e.min?i([e.min,f[1]]):f[1]>e.max?i([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],a()&&(e.validateEvent&&((u=o?.validate)==null||u.call(o,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&pt(f)&&!Number.isNaN(f)&&(f<e.min?i(e.min):f>e.max?i(e.max):(t.firstValue=f,a()&&(e.validateEvent&&((c=o?.validate)==null||c.call(o,"change").catch(d=>void 0)),t.oldValue=f)))};l(),xe(()=>t.dragging,u=>{u||l()}),xe(()=>e.modelValue,(u,c)=>{t.dragging||De(u)&&De(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),xe(()=>[e.min,e.max],()=>{l()})},l$n=(e,t,n)=>{const r=j();return Ht(async()=>{e.range?(De(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!pt(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Fn(window,"resize",n),await Ye(),n()}),{sliderWrapper:r}},u$n=["id","role","aria-label","aria-labelledby"],c$n={key:1},f$n=me({name:"ElSlider",__name:"slider",props:KSn,emits:YSn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("slider"),{t:i}=un(),a=In({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:u,firstButton:c,secondButton:f,sliderDisabled:d,minValue:h,maxValue:p,runwayStyle:g,barStyle:m,resetSize:v,emitChange:y,onSliderWrapperPrevent:w,onSliderClick:b,onSliderDown:C,onSliderMarkerDown:S,setFirstValue:$,setSecondValue:k}=s$n(r,a,s),{stops:T,getStopStyle:_}=o$n(r,a,h,p),{inputId:E,isLabeledByFormItem:A}=au(r,{formItemContext:l}),N=Fs(),F=O(()=>r.inputSize||N.value),R=O(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),P=O(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):R.value),I=O(()=>r.formatValueText?r.formatValueText(K.value):`${K.value}`),D=O(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),M=O(()=>r.formatValueText?r.formatValueText(G.value):`${G.value}`),z=O(()=>[o.b(),o.m(N.value),o.is("vertical",r.vertical),{[o.m("with-input")]:r.showInput}]),W=i$n(r);a$n(r,a,h,p,s,l);const H=O(()=>{const ae=[r.min,r.max,r.step].map(X=>{const J=`${X}`.split(".")[1];return J?J.length:0});return Math.max.apply(null,ae)}),{sliderWrapper:U}=l$n(r,a,v),{firstValue:K,secondValue:G,sliderSize:re}=ao(a),ue=ae=>{a.dragging=ae};return Fn(U,"touchstart",w,{passive:!1}),Fn(U,"touchmove",w,{passive:!1}),ln(z6e,{...ao(r),sliderSize:re,disabled:d,precision:H,emitChange:y,resetSize:v,updateDragging:ue}),t({onSliderClick:b}),(ae,X)=>{var J,q;return B(),Y("div",{id:ae.range?x(E):void 0,ref_key:"sliderWrapper",ref:U,class:V(z.value),role:ae.range?"group":void 0,"aria-label":ae.range&&!x(A)?R.value:void 0,"aria-labelledby":ae.range&&x(A)?(J=x(l))==null?void 0:J.labelId:void 0},[Z("div",{ref_key:"slider",ref:u,class:V([x(o).e("runway"),{"show-input":ae.showInput&&!ae.range},x(o).is("disabled",x(d))]),style:dt(x(g)),onMousedown:X[0]||(X[0]=(...L)=>x(C)&&x(C)(...L)),onTouchstartPassive:X[1]||(X[1]=(...L)=>x(C)&&x(C)(...L))},[Z("div",{class:V(x(o).e("bar")),style:dt(x(m))},null,6),ee(c0e,{id:ae.range?void 0:x(E),ref_key:"firstButton",ref:c,"model-value":x(K),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":ae.range||!x(A)?P.value:void 0,"aria-labelledby":!ae.range&&x(A)?(q=x(l))==null?void 0:q.labelId:void 0,"aria-valuemin":ae.min,"aria-valuemax":ae.range?x(G):ae.max,"aria-valuenow":x(K),"aria-valuetext":I.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":x(d),"onUpdate:modelValue":x($)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ae.range?(B(),pe(c0e,{key:0,ref_key:"secondButton",ref:f,"model-value":x(G),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":D.value,"aria-valuemin":x(K),"aria-valuemax":ae.max,"aria-valuenow":x(G),"aria-valuetext":M.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":x(d),"onUpdate:modelValue":x(k)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):fe("v-if",!0),ae.showStops?(B(),Y("div",c$n,[(B(!0),Y(it,null,Xt(x(T),(L,Q)=>(B(),Y("div",{key:Q,class:V(x(o).e("stop")),style:dt(x(_)(L))},null,6))),128))])):fe("v-if",!0),x(W).length>0?(B(),Y(it,{key:2},[Z("div",null,[(B(!0),Y(it,null,Xt(x(W),(L,Q)=>(B(),Y("div",{key:Q,style:dt(x(_)(L.position)),class:V([x(o).e("stop"),x(o).e("marks-stop")])},null,6))),128))]),Z("div",{class:V(x(o).e("marks"))},[(B(!0),Y(it,null,Xt(x(W),(L,Q)=>(B(),pe(x(r$n),{key:Q,mark:L.mark,style:dt(x(_)(L.position)),onMousedown:xt(se=>x(S)(L.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):fe("v-if",!0)],38),ae.showInput&&!ae.range?(B(),pe(x(y6e),{key:0,ref:"input","model-value":x(K),class:V(x(o).e("input")),step:ae.step,disabled:x(d),controls:ae.showInputControls,min:ae.min,max:ae.max,precision:H.value,size:F.value,"onUpdate:modelValue":x($),onChange:x(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","size","onUpdate:modelValue","onChange"])):fe("v-if",!0)],10,u$n)}}});var d$n=Ve(f$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const h$n=Rt(d$n),p$n=Me({prefixCls:{type:String}}),f0e=me({name:"ElSpaceItem",props:p$n,setup(e,{slots:t}){const n=Ae("space"),r=O(()=>`${e.prefixCls||n.b()}__item`);return()=>bt("div",{class:r.value},ce(t,"default"))}}),d0e={small:8,default:12,large:16};function g$n(e){const t=Ae("space"),n=O(()=>[t.b(),t.m(e.direction),e.class]),r=j(0),s=j(0),o=O(()=>{const a=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${s.value}px`,columnGap:`${r.value}px`};return[a,l,u,e.style]}),i=O(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return gl(()=>{const{size:a="small",wrap:l,direction:u,fill:c}=e;if(De(a)){const[f=0,d=0]=a;r.value=f,s.value=d}else{let f;pt(a)?f=a:f=d0e[a||"small"]||d0e.small,(l||c)&&u==="horizontal"?r.value=s.value=f:u==="horizontal"?(r.value=f,s.value=0):(s.value=f,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:i}}const m$n=Me({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:oe([String,Object,Array]),default:""},style:{type:oe([String,Array,Object]),default:""},alignment:{type:oe(String),default:"center"},prefixCls:{type:String},spacer:{type:oe([Object,String,Number,Array]),default:null,validator:e=>or(e)||pt(e)||ot(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:eh,validator:e=>pt(e)||De(e)&&e.length===2&&e.every(pt)}}),v$n=me({name:"ElSpace",props:m$n,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:s}=g$n(e);function o(i,a="",l=[]){const{prefixCls:u}=e;return i.forEach((c,f)=>{fH(c)?De(c.children)&&c.children.forEach((d,h)=>{fH(d)&&De(d.children)?o(d.children,`${a+h}-`,l):or(d)&&d?.type===ps?l.push(d):l.push(ee(f0e,{style:s.value,prefixCls:u,key:`nested-${a+h}`},{default:()=>[d]},vu.PROPS|vu.STYLE,["style","prefixCls"]))}):Agn(c)&&l.push(ee(f0e,{style:s.value,prefixCls:u,key:`LoopKey${a+f}`},{default:()=>[c]},vu.PROPS|vu.STYLE,["style","prefixCls"]))}),l}return()=>{var i;const{spacer:a,direction:l}=e,u=ce(t,"default",{key:0},()=>[]);if(((i=u.children)!=null?i:[]).length===0)return null;if(De(u.children)){let c=o(u.children);if(a){const f=c.length-1;c=c.reduce((d,h,p)=>{const g=[...d,h];return p!==f&&g.push(ee("span",{style:[s.value,l==="vertical"?"width: 100%":null],key:p},[or(a)?a:tn(a,vu.TEXT)],vu.STYLE)),g},[])}return ee("div",{class:n.value,style:r.value},c,vu.STYLE|vu.CLASS)}return u.children}}}),y$n=Rt(v$n),b$n=Me({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:oe([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:oe([String,Object,Array])}}),w$n=me({name:"ElStatistic",__name:"statistic",props:b$n,setup(e,{expose:t}){const n=e,r=Ae("statistic"),s=O(()=>{const{value:o,formatter:i,precision:a,decimalSeparator:l,groupSeparator:u}=n;if(ft(i))return i(o);if(!pt(o)||Number.isNaN(o))return o;let[c,f=""]=String(o).split(".");return f=f.padEnd(a,"0").slice(0,a>0?a:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:s}),(o,i)=>(B(),Y("div",{class:V(x(r).b())},[o.$slots.title||o.title?(B(),Y("div",{key:0,class:V(x(r).e("head"))},[ce(o.$slots,"title",{},()=>[tn(Fe(o.title),1)])],2)):fe("v-if",!0),Z("div",{class:V(x(r).e("content"))},[o.$slots.prefix||o.prefix?(B(),Y("div",{key:0,class:V(x(r).e("prefix"))},[ce(o.$slots,"prefix",{},()=>[Z("span",null,Fe(o.prefix),1)])],2)):fe("v-if",!0),Z("span",{class:V(x(r).e("number")),style:dt(o.valueStyle)},Fe(s.value),7),o.$slots.suffix||o.suffix?(B(),Y("div",{key:1,class:V(x(r).e("suffix"))},[ce(o.$slots,"suffix",{},()=>[Z("span",null,Fe(o.suffix),1)])],2)):fe("v-if",!0)],2)],2))}});var x$n=Ve(w$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const V6e=Rt(x$n),C$n=Me({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:oe([Number,Object]),default:0},valueStyle:{type:oe([String,Object,Array])}}),S$n={finish:()=>!0,[en]:e=>pt(e)},$$n=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],h0e=e=>pt(e)?new Date(e).getTime():e.valueOf(),p0e=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return $$n.reduce((o,[i,a])=>{const l=new RegExp(`${i}+(?![^\\[\\]]*\\])`,"g");if(l.test(o)){const u=Math.floor(n/a);return n-=u*a,o.replace(l,c=>String(u).padStart(c.length,"0"))}return o},t).replace(r,"$1")},k$n=me({name:"ElCountdown",__name:"countdown",props:C$n,emits:S$n,setup(e,{expose:t,emit:n}){const r=e,s=n;let o;const i=j(0),a=O(()=>p0e(i.value,r.format)),l=f=>p0e(f,r.format),u=()=>{o&&(yp(o),o=void 0)},c=()=>{const f=h0e(r.value),d=()=>{let h=f-Date.now();s(en,h),h<=0?(h=0,u(),s("finish")):o=_d(d),i.value=h};o=_d(d)};return Ht(()=>{i.value=h0e(r.value)-Date.now(),xe(()=>[r.value,r.format],()=>{u(),c()},{immediate:!0})}),Dn(()=>{u()}),t({displayValue:a}),(f,d)=>(B(),pe(x(V6e),{value:i.value,title:f.title,prefix:f.prefix,suffix:f.suffix,"value-style":f.valueStyle,formatter:l},ml({_:2},[Xt(f.$slots,(h,p)=>({name:p,fn:ie(()=>[ce(f.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var E$n=Ve(k$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const _$n=Rt(E$n),T$n=Me({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),A$n={[en]:(e,t)=>[e,t].every(pt)},W6e="ElSteps",I$n=me({name:"ElSteps",__name:"steps",props:T$n,emits:A$n,setup(e,{emit:t}){const n=e,r=t,s=Ae("steps"),{children:o,addChild:i,removeChild:a,ChildrenSorter:l}=$5(Ut(),"ElStep");return xe(o,()=>{o.value.forEach((u,c)=>{u.setIndex(c)})}),ln(W6e,{props:n,steps:o,addStep:i,removeStep:a}),xe(()=>n.active,(u,c)=>{r(en,u,c)}),(u,c)=>(B(),Y("div",{class:V([x(s).b(),x(s).m(u.simple?"simple":u.direction)])},[ce(u.$slots,"default"),ee(x(l))],2))}});var N$n=Ve(I$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const D$n=Me({title:{type:String,default:""},icon:{type:zn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),O$n=me({name:"ElStep",__name:"item",props:D$n,setup(e){const t=e,n=Ae("step"),r=j(-1),s=j({}),o=j(""),i=tt(W6e),a=Ut();let l=0,u=0;Ht(()=>{xe([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([k],[T])=>{u=T||0,l=k-u,S(k)},{immediate:!0})});const c=O(()=>t.status||o.value),f=O(()=>{const k=i.steps.value[r.value-1];return k?k.internalStatus.value:"wait"}),d=O(()=>i.props.alignCenter),h=O(()=>i.props.direction==="vertical"),p=O(()=>i.props.simple),g=O(()=>i.steps.value.length),m=O(()=>{var k;return((k=i.steps.value[g.value-1])==null?void 0:k.uid)===a.uid}),v=O(()=>p.value?"":i.props.space),y=O(()=>[n.b(),n.is(p.value?"simple":i.props.direction),n.is("flex",m.value&&!v.value&&!d.value),n.is("center",d.value&&!h.value&&!p.value)]),w=O(()=>{const k={flexBasis:pt(v.value)?`${v.value}px`:v.value?v.value:`${100/(g.value-(d.value?0:1))}%`};return h.value||m.value&&(k.maxWidth=`${100/g.value}%`),k}),b=k=>{r.value=k},C=k=>{const T=k==="wait",E={transitionDelay:`${Math.abs(l)===1?0:l>0?(r.value+1-u)*150:-(r.value+1-i.props.active)*150}ms`},A=k===i.props.processStatus||T?0:100;E.borderWidth=A&&!p.value?"1px":0,E[i.props.direction==="vertical"?"height":"width"]=`${A}%`,s.value=E},S=k=>{k>r.value?o.value=i.props.finishStatus:k===r.value&&f.value!=="error"?o.value=i.props.processStatus:o.value="wait";const T=i.steps.value[r.value-1];T&&T.calcProgress(o.value)},$={uid:a.uid,getVnode:()=>a.vnode,currentStatus:c,internalStatus:o,setIndex:b,calcProgress:C};return i.addStep($),Dn(()=>{i.removeStep($)}),(k,T)=>(B(),Y("div",{style:dt(w.value),class:V(y.value)},[fe(" icon & line "),Z("div",{class:V([x(n).e("head"),x(n).is(c.value)])},[p.value?fe("v-if",!0):(B(),Y("div",{key:0,class:V(x(n).e("line"))},[Z("i",{class:V(x(n).e("line-inner")),style:dt(s.value)},null,6)],2)),Z("div",{class:V([x(n).e("icon"),x(n).is(k.icon||k.$slots.icon?"icon":"text")])},[ce(k.$slots,"icon",{},()=>[k.icon?(B(),pe(x(st),{key:0,class:V(x(n).e("icon-inner"))},{default:ie(()=>[(B(),pe(zt(k.icon)))]),_:1},8,["class"])):c.value==="success"?(B(),pe(x(st),{key:1,class:V([x(n).e("icon-inner"),x(n).is("status")])},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):c.value==="error"?(B(),pe(x(st),{key:2,class:V([x(n).e("icon-inner"),x(n).is("status")])},{default:ie(()=>[ee(x(Hu))]),_:1},8,["class"])):p.value?fe("v-if",!0):(B(),Y("div",{key:3,class:V(x(n).e("icon-inner"))},Fe(r.value+1),3))])],2)],2),fe(" title & description "),Z("div",{class:V(x(n).e("main"))},[Z("div",{class:V([x(n).e("title"),x(n).is(c.value)])},[ce(k.$slots,"title",{},()=>[tn(Fe(k.title),1)])],2),p.value?(B(),Y("div",{key:0,class:V(x(n).e("arrow"))},null,2)):(B(),Y("div",{key:1,class:V([x(n).e("description"),x(n).is(c.value)])},[ce(k.$slots,"description",{},()=>[tn(Fe(k.description),1)])],2))],2)],6))}});var U6e=Ve(O$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const R$n=Rt(N$n,{Step:U6e}),F$n=Ur(U6e),j6e=e=>["",...eh].includes(e),M$n=Me({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:j6e},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:zn},activeActionIcon:{type:zn},activeIcon:{type:zn},inactiveIcon:{type:zn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:oe(Function)},id:String,tabindex:{type:[String,Number]},...fa(["ariaLabel"])}),P$n={[Et]:e=>Ln(e)||ot(e)||pt(e),[en]:e=>Ln(e)||ot(e)||pt(e),[Os]:e=>Ln(e)||ot(e)||pt(e)},L$n=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],B$n=["aria-hidden"],z$n={key:1},V$n={key:1},W$n=["aria-hidden"],g0e="ElSwitch",U$n=me({name:g0e,__name:"switch",props:M$n,emits:P$n,setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:o}=Ro(),i=Fs(),a=Ae("switch"),{inputId:l}=au(r,{formItemContext:o}),u=jr(O(()=>{if(r.loading)return!0})),c=j(r.modelValue!==!1),f=cr(),d=O(()=>[a.b(),a.m(i.value),a.is("disabled",u.value),a.is("checked",v.value)]),h=O(()=>[a.e("label"),a.em("label","left"),a.is("active",!v.value)]),p=O(()=>[a.e("label"),a.em("label","right"),a.is("active",v.value)]),g=O(()=>({width:Vr(r.width)}));xe(()=>r.modelValue,()=>{c.value=!0});const m=O(()=>c.value?r.modelValue:!1),v=O(()=>m.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(m.value)||(s(Et,r.inactiveValue),s(en,r.inactiveValue),s(Os,r.inactiveValue)),xe(v,C=>{var S;f.value.checked=C,r.validateEvent&&((S=o?.validate)==null||S.call(o,"change").catch($=>void 0))});const y=()=>{const C=v.value?r.inactiveValue:r.activeValue;s(Et,C),s(en,C),s(Os,C),Ye(()=>{f.value.checked=v.value})},w=()=>{if(u.value)return;const{beforeChange:C}=r;if(!C){y();return}const S=C();[f1(S),Ln(S)].includes(!0)||Ts(g0e,"beforeChange must return type `Promise<boolean>` or `boolean`"),f1(S)?S.then(k=>{k&&y()}).catch(k=>{}):S&&y()},b=()=>{var C,S;(S=(C=f.value)==null?void 0:C.focus)==null||S.call(C)};return Ht(()=>{f.value.checked=v.value}),t({focus:b,checked:v}),(C,S)=>(B(),Y("div",{class:V(d.value),onClick:xt(w,["prevent"])},[Z("input",{id:x(l),ref_key:"input",ref:f,class:V(x(a).e("input")),type:"checkbox",role:"switch","aria-checked":v.value,"aria-disabled":x(u),"aria-label":C.ariaLabel,name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:x(u),tabindex:C.tabindex,onChange:y,onKeydown:qr(w,["enter"])},null,42,L$n),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText||C.$slots.inactive)?(B(),Y("span",{key:0,class:V(h.value)},[ce(C.$slots,"inactive",{},()=>[C.inactiveIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveIcon)))]),_:1})):fe("v-if",!0),!C.inactiveIcon&&C.inactiveText?(B(),Y("span",{key:1,"aria-hidden":v.value},Fe(C.inactiveText),9,B$n)):fe("v-if",!0)])],2)):fe("v-if",!0),Z("span",{class:V(x(a).e("core")),style:dt(g.value)},[C.inlinePrompt?(B(),Y("div",{key:0,class:V(x(a).e("inner"))},[v.value?(B(),Y("div",{key:1,class:V(x(a).e("inner-wrapper"))},[ce(C.$slots,"active",{},()=>[C.activeIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeIcon)))]),_:1})):fe("v-if",!0),!C.activeIcon&&C.activeText?(B(),Y("span",V$n,Fe(C.activeText),1)):fe("v-if",!0)])],2)):(B(),Y("div",{key:0,class:V(x(a).e("inner-wrapper"))},[ce(C.$slots,"inactive",{},()=>[C.inactiveIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveIcon)))]),_:1})):fe("v-if",!0),!C.inactiveIcon&&C.inactiveText?(B(),Y("span",z$n,Fe(C.inactiveText),1)):fe("v-if",!0)])],2))],2)):fe("v-if",!0),Z("div",{class:V(x(a).e("action"))},[C.loading?(B(),pe(x(st),{key:0,class:V(x(a).is("loading"))},{default:ie(()=>[ee(x(Td))]),_:1},8,["class"])):v.value?ce(C.$slots,"active-action",{key:1},()=>[C.activeActionIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeActionIcon)))]),_:1})):fe("v-if",!0)]):v.value?fe("v-if",!0):ce(C.$slots,"inactive-action",{key:2},()=>[C.inactiveActionIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.inactiveActionIcon)))]),_:1})):fe("v-if",!0)])],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText||C.$slots.active)?(B(),Y("span",{key:1,class:V(p.value)},[ce(C.$slots,"active",{},()=>[C.activeIcon?(B(),pe(x(st),{key:0},{default:ie(()=>[(B(),pe(zt(C.activeIcon)))]),_:1})):fe("v-if",!0),!C.activeIcon&&C.activeText?(B(),Y("span",{key:1,"aria-hidden":!v.value},Fe(C.activeText),9,W$n)):fe("v-if",!0)])],2)):fe("v-if",!0)],2))}});var j$n=Ve(U$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const H$n=Rt(j$n),q7=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},q$n=function(e,t,n,r,s){if(!t&&!r&&(!s||De(s)&&!s.length))return e;ot(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(a,l){return s?qPe(vo(s),u=>ot(u)?Es(a,u):u(a,l,e)):(t!=="$key"&&Pt(a)&&"$value"in a&&(a=a.$value),[Pt(a)?t?Es(a,t):null:a])},i=function(a,l){var u,c,f,d,h,p;if(r)return r(a.value,l.value);for(let g=0,m=(c=(u=a.key)==null?void 0:u.length)!=null?c:0;g<m;g++){if(((f=a.key)==null?void 0:f[g])<((d=l.key)==null?void 0:d[g]))return-1;if(((h=a.key)==null?void 0:h[g])>((p=l.key)==null?void 0:p[g]))return 1}return 0};return e.map((a,l)=>({value:a,index:l,key:o?o(a,l):null})).sort((a,l)=>{let u=i(a,l);return u||(u=a.index-l.index),u*+n}).map(a=>a.value)},H6e=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},G$n=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const s=e.columns[r];if(s.columnKey===t){n=s;break}}return n||Ts("ElTable",`No column matching with column-key: ${t}`),n},m0e=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?H6e(e,r[0]):null},ui=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(ot(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const s of n)r=r[s];return`${r}`}else if(ft(t))return t.call(null,e);return""},Sw=function(e,t,n=!1,r="children"){const s=e||[],o={};return s.forEach((i,a)=>{if(o[ui(i,t)]={row:i,index:a},n){const l=i[r];De(l)&&Object.assign(o,Sw(l,t,!0,r))}}),o};function K$n(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(En(t,r)){const s=t[r];yn(s)||(n[r]=s)}return n}function ore(e){return e===""||yn(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function q6e(e){return e===""||yn(e)||(e=ore(e),Number.isNaN(e)&&(e=80)),e}function Y$n(e){return pt(e)?e:ot(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function X$n(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wM(e,t,n,r,s,o,i){let a=o??0,l=!1;const c=(()=>{if(!i)return e.indexOf(t);const g=ui(t,i);return e.findIndex(m=>ui(m,i)===g)})(),f=c!==-1,d=s?.call(null,t,a),h=g=>{g==="add"?e.push(t):e.splice(c,1),l=!0},p=g=>{let m=0;const v=r?.children&&g[r.children];return v&&De(v)&&(m+=v.length,v.forEach(y=>{m+=p(y)})),m};return(!s||d)&&(Ln(n)?n&&!f?h("add"):!n&&f&&h("remove"):h(f?"remove":"add")),!r?.checkStrictly&&r?.children&&De(t[r.children])&&t[r.children].forEach(g=>{const m=wM(e,g,n??!f,r,s,a+1,i);a+=p(g)+1,m&&(l=m)}),l}function Z$n(e,t,n="children",r="hasChildren",s=!1){const o=a=>!(De(a)&&a.length);function i(a,l,u){t(a,l,u),l.forEach(c=>{if(c[r]&&s){t(c,null,u+1);return}const f=c[n];o(f)||i(c,f,u+1)})}e.forEach(a=>{if(a[r]&&s){t(a,null,0);return}const l=a[n];o(l)||i(a,l,0)})}const J$n=(e,t,n,r)=>{const s={strategy:"fixed",...e.popperOptions},o=ft(r?.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:pk(n,r.property).value}):void 0;return or(o)?{slotContent:o,content:null,...e,popperOptions:s}:{slotContent:null,content:o??t,...e,popperOptions:s}};let Ni=null;function Q$n(e,t,n,r,s,o){var i;const a=J$n(e,t,n,r),l={...a,slotContent:void 0};if(Ni?.trigger===s){const p=(i=Ni.vm)==null?void 0:i.component;GPe(p?.props,l),p&&a.slotContent&&(p.slots.content=()=>[a.slotContent]);return}Ni?.();const u=o?.refs.tableWrapper,c=u?.dataset.prefix,f=ee(Xo,{virtualTriggering:!0,virtualRef:s,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},a.slotContent?{content:()=>a.slotContent}:void 0);f.appContext={...o.appContext,...o};const d=document.createElement("div");am(f,d),f.component.exposed.onOpen();const h=u?.querySelector(`.${c}-scrollbar__wrap`);Ni=()=>{var p,g;(g=(p=f.component)==null?void 0:p.exposed)!=null&&g.onClose&&f.component.exposed.onClose(),am(null,d);const m=Ni;h?.removeEventListener("scroll",m),m.trigger=void 0,m.vm=void 0,Ni=null},Ni.trigger=s??void 0,Ni.vm=f,h?.addEventListener("scroll",Ni)}function G6e(e){return e.children?qPe(e.children,G6e):[e]}function v0e(e,t){return e+t.colSpan}const K6e=(e,t,n,r)=>{let s=0,o=e;const i=n.states.columns.value;if(r){const l=G6e(r[e]);s=i.slice(0,i.indexOf(l[0])).reduce(v0e,0),o=s+l.reduce(v0e,0)-1}else s=e;let a;switch(t){case"left":o<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:o<n.states.fixedLeafColumnsLength.value?a="left":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:s,after:o}:{}},ire=(e,t,n,r,s,o=0)=>{const i=[],{direction:a,start:l,after:u}=K6e(t,n,r,s);if(a){const c=a==="left";i.push(`${e}-fixed-column--${a}`),c&&u+o===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!c&&l-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function y0e(e,t){return e+(mI(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const are=(e,t,n,r)=>{const{direction:s,start:o=0,after:i=0}=K6e(e,t,n,r);if(!s)return;const a={},l=s==="left",u=n.states.columns.value;return l?a.left=u.slice(0,o).reduce(y0e,0):a.right=u.slice(i+1).reverse().reduce(y0e,0),a},Hx=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Y6e(e){return e.some(t=>or(t)?!(t.type===ps||t.type===it&&!Y6e(t.children)):!0)?e:null}function ekn(e){const t=Ut(),n=j(!1),r=j([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=Sw(r.value,u);r.value=l.reduce((f,d)=>{const h=ui(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{wM(r.value,l,u,void 0,void 0,void 0,e.rowKey.value)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=Sw(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!Sw(r.value,u)[ui(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function tkn(e){const t=Ut(),n=j(null),r=j(null),s=u=>{t.store.assertRowKey(),n.value=u,i(u)},o=()=>{n.value=null},i=u=>{var c;const{data:f,rowKey:d}=e;let h=null;d.value&&(h=(c=(x(f)||[]).find(p=>ui(p,d.value)===u))!=null?c:null),r.value=h??null,t.emit("current-change",r.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=r.value;if(f&&!c.includes(f)){if(u){const d=ui(f,u);i(d)}else r.value=null;mI(r.value)&&t.emit("current-change",null,f)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function nkn(e){const t=j([]),n=j({}),r=j(16),s=j(!1),o=j({}),i=j("hasChildren"),a=j("children"),l=j(!1),u=Ut(),c=O(()=>{if(!e.rowKey.value)return{};const b=e.data.value||[];return d(b)}),f=O(()=>{const b=e.rowKey.value,C=Object.keys(o.value),S={};return C.length&&C.forEach($=>{if(o.value[$].length){const k={children:[]};o.value[$].forEach(T=>{const _=ui(T,b);k.children.push(_),T[i.value]&&!S[_]&&(S[_]={children:[]})}),S[$]=k}}),S}),d=b=>{const C=e.rowKey.value,S={};return Z$n(b,($,k,T)=>{const _=ui($,C);De(k)?S[_]={children:k.map(E=>ui(E,C)),level:T}:s.value&&(S[_]={children:[],lazy:!0,level:T})},a.value,i.value,s.value),S},h=(b=!1,C)=>{var S,$;C||(C=(S=u.store)==null?void 0:S.states.defaultExpandAll.value);const k=c.value,T=f.value,_=Object.keys(k),E={};if(_.length){const A=x(n),N=[],F=(P,I)=>{if(b)return t.value?C||t.value.includes(I):!!(C||P?.expanded);{const D=C||t.value&&t.value.includes(I);return!!(P?.expanded||D)}};_.forEach(P=>{const I=A[P],D={...k[P]};if(D.expanded=F(I,P),D.lazy){const{loaded:M=!1,loading:z=!1}=I||{};D.loaded=!!M,D.loading=!!z,N.push(P)}E[P]=D});const R=Object.keys(T);s.value&&R.length&&N.length&&R.forEach(P=>{var I;const D=A[P],M=T[P].children;if(N.includes(P)){if(((I=E[P].children)==null?void 0:I.length)!==0)throw new Error("[ElTable]children must be an empty array.");E[P].children=M}else{const{loaded:z=!1,loading:W=!1}=D||{};E[P]={lazy:!0,loaded:!!z,loading:!!W,expanded:F(D,P),children:M,level:void 0}}})}n.value=E,($=u.store)==null||$.updateTableScrollY()};xe(()=>t.value,()=>{h(!0)}),xe(()=>c.value,()=>{h()}),xe(()=>f.value,()=>{h()});const p=b=>{t.value=b,h()},g=b=>s.value&&b&&"loaded"in b&&!b.loaded,m=(b,C)=>{u.store.assertRowKey();const S=e.rowKey.value,$=ui(b,S),k=$&&n.value[$];if($&&k&&"expanded"in k){const T=k.expanded;C=yn(C)?!k.expanded:C,n.value[$].expanded=C,T!==C&&u.emit("expand-change",b,C),C&&g(k)&&y(b,$,k),u.store.updateTableScrollY()}},v=b=>{u.store.assertRowKey();const C=e.rowKey.value,S=ui(b,C),$=n.value[S];g($)?y(b,S,$):m(b,void 0)},y=(b,C,S)=>{const{load:$}=u.props;$&&!n.value[C].loaded&&(n.value[C].loading=!0,$(b,S,k=>{if(!De(k))throw new TypeError("[ElTable] data must be an array");n.value[C].loading=!1,n.value[C].loaded=!0,n.value[C].expanded=!0,k.length&&(o.value[C]=k),u.emit("expand-change",b,!0)}))};return{loadData:y,loadOrToggle:v,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,C)=>{const{lazy:S,rowKey:$}=u.props;if(S){if(!$)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[b]&&(o.value[b]=C)}},normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:o,lazyColumnIdentifier:i,childrenColumnName:a,checkStrictly:l}}}const rkn=(e,t)=>{const n=t.sortingColumn;return!n||ot(n.sortable)?e:q$n(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},eO=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,eO(n.children)):t.push(n)}),t};function skn(){var e;const t=Ut(),{size:n}=ao((e=t.proxy)==null?void 0:e.$props),r=j(null),s=j([]),o=j([]),i=j(!1),a=j([]),l=j([]),u=j([]),c=j([]),f=j([]),d=j([]),h=j([]),p=j([]),g=[],m=j(0),v=j(0),y=j(0),w=j(!1),b=j([]),C=j(!1),S=j(!1),$=j(null),k=j({}),T=j(null),_=j(null),E=j(null),A=j(null),N=j(null),F=O(()=>r.value?Sw(b.value,r.value):void 0);xe(s,()=>{var lt;t.state&&(D(!1),t.props.tableLayout==="auto"&&((lt=t.refs.tableHeaderRef)==null||lt.updateFixedColumnStyle()))},{deep:!0});const R=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},P=lt=>{var Ft;(Ft=lt.children)==null||Ft.forEach(Dt=>{Dt.fixed=lt.fixed,P(Dt)})},I=()=>{a.value.forEach(Se=>{P(Se)}),c.value=a.value.filter(Se=>[!0,"left"].includes(Se.fixed));const lt=a.value.find(Se=>Se.type==="selection");let Ft;lt&&lt.fixed!=="right"&&!c.value.includes(lt)&&a.value.indexOf(lt)===0&&c.value.length&&(c.value.unshift(lt),Ft=!0),f.value=a.value.filter(Se=>Se.fixed==="right");const Dt=a.value.filter(Se=>(Ft?Se.type!=="selection":!0)&&!Se.fixed);l.value=Array.from(c.value).concat(Dt).concat(f.value);const qt=eO(Dt),Te=eO(c.value),Xe=eO(f.value);m.value=qt.length,v.value=Te.length,y.value=Xe.length,u.value=Array.from(Te).concat(qt).concat(Xe),i.value=c.value.length>0||f.value.length>0},D=(lt,Ft=!1)=>{lt&&I(),Ft?t.state.doLayout():t.state.debouncedUpdateLayout()},M=lt=>F.value?!!F.value[ui(lt,r.value)]:b.value.includes(lt),z=()=>{w.value=!1;const lt=b.value;b.value=[],lt.length&&t.emit("selection-change",[])},W=()=>{var lt,Ft;let Dt;if(r.value){Dt=[];const qt=(Ft=(lt=t?.store)==null?void 0:lt.states)==null?void 0:Ft.childrenColumnName.value,Te=Sw(s.value,r.value,!0,qt);for(const Xe in F.value)En(F.value,Xe)&&!Te[Xe]&&Dt.push(F.value[Xe].row)}else Dt=b.value.filter(qt=>!s.value.includes(qt));if(Dt.length){const qt=b.value.filter(Te=>!Dt.includes(Te));b.value=qt,t.emit("selection-change",qt.slice())}},H=()=>(b.value||[]).slice(),U=(lt,Ft,Dt=!0,qt=!1)=>{var Te,Xe,Se,ct;const Yt={children:(Xe=(Te=t?.store)==null?void 0:Te.states)==null?void 0:Xe.childrenColumnName.value,checkStrictly:(ct=(Se=t?.store)==null?void 0:Se.states)==null?void 0:ct.checkStrictly.value};if(wM(b.value,lt,Ft,Yt,qt?void 0:$.value,s.value.indexOf(lt),r.value)){const Ne=(b.value||[]).slice();Dt&&t.emit("select",Ne,lt),t.emit("selection-change",Ne)}},K=()=>{var lt,Ft;const Dt=S.value?!w.value:!(w.value||b.value.length);w.value=Dt;let qt=!1,Te=0;const Xe=(Ft=(lt=t?.store)==null?void 0:lt.states)==null?void 0:Ft.rowKey.value,{childrenColumnName:Se}=t.store.states,ct={children:Se.value,checkStrictly:!1};s.value.forEach((Yt,Gn)=>{const Ne=Gn+Te;wM(b.value,Yt,Dt,ct,$.value,Ne,Xe)&&(qt=!0),Te+=re(ui(Yt,Xe))}),qt&&t.emit("selection-change",b.value?b.value.slice():[]),t.emit("select-all",(b.value||[]).slice())},G=()=>{var lt;if(((lt=s.value)==null?void 0:lt.length)===0){w.value=!1;return}const{childrenColumnName:Ft}=t.store.states;let Dt=0,qt=0;const Te=Se=>{var ct;for(const Yt of Se){const Gn=$.value&&$.value.call(null,Yt,Dt);if(M(Yt))qt++;else if(!$.value||Gn)return!1;if(Dt++,(ct=Yt[Ft.value])!=null&&ct.length&&!Te(Yt[Ft.value]))return!1}return!0},Xe=Te(s.value||[]);w.value=qt===0?!1:Xe},re=lt=>{var Ft;if(!t||!t.store)return 0;const{treeData:Dt}=t.store.states;let qt=0;const Te=(Ft=Dt.value[lt])==null?void 0:Ft.children;return Te&&(qt+=Te.length,Te.forEach(Xe=>{qt+=re(Xe)})),qt},ue=(lt,Ft)=>{const Dt={};return vo(lt).forEach(qt=>{k.value[qt.id]=Ft,Dt[qt.columnKey||qt.id]=Ft}),Dt},ae=(lt,Ft,Dt)=>{_.value&&_.value!==lt&&(_.value.order=null),_.value=lt,E.value=Ft,A.value=Dt},X=()=>{let lt=x(o);Object.keys(k.value).forEach(Ft=>{const Dt=k.value[Ft];if(!Dt||Dt.length===0)return;const qt=H6e({columns:u.value},Ft);qt&&qt.filterMethod&&(lt=lt.filter(Te=>Dt.some(Xe=>qt.filterMethod.call(null,Xe,Te,qt))))}),T.value=lt},J=()=>{var lt;s.value=rkn((lt=T.value)!=null?lt:[],{sortingColumn:_.value,sortProp:E.value,sortOrder:A.value})},q=(lt=void 0)=>{lt?.filter||X(),J()},L=lt=>{const{tableHeaderRef:Ft}=t.refs;if(!Ft)return;const Dt=Object.assign({},Ft.filterPanels),qt=Object.keys(Dt);if(qt.length)if(ot(lt)&&(lt=[lt]),De(lt)){const Te=lt.map(Xe=>G$n({columns:u.value},Xe));qt.forEach(Xe=>{const Se=Te.find(ct=>ct.id===Xe);Se&&(Se.filteredValue=[])}),t.store.commit("filterChange",{column:Te,values:[],silent:!0,multi:!0})}else qt.forEach(Te=>{const Xe=u.value.find(Se=>Se.id===Te);Xe&&(Xe.filteredValue=[])}),k.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Q=()=>{_.value&&(ae(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:se,toggleRowExpansion:de,updateExpandRows:he,states:ge,isRowExpanded:$e}=ekn({data:s,rowKey:r}),{updateTreeExpandKeys:He,toggleTreeExpansion:Ie,updateTreeData:Ce,updateKeyChildren:Re,loadOrToggle:ze,states:Ue}=nkn({data:s,rowKey:r}),{updateCurrentRowData:rt,updateCurrentRow:ht,setCurrentRowKey:ye,states:Ge}=tkn({data:s,rowKey:r});return{assertRowKey:R,updateColumns:I,scheduleLayout:D,isSelected:M,clearSelection:z,cleanSelection:W,getSelectionRows:H,toggleRowSelection:U,_toggleAllSelection:K,toggleAllSelection:null,updateAllSelected:G,updateFilters:ue,updateCurrentRow:ht,updateSort:ae,execFilter:X,execSort:J,execQuery:q,clearFilter:L,clearSort:Q,toggleRowExpansion:de,setExpandRowKeysAdapter:lt=>{se(lt),He(lt)},setCurrentRowKey:ye,toggleRowExpansionAdapter:(lt,Ft)=>{u.value.some(({type:qt})=>qt==="expand")?de(lt,Ft):Ie(lt,Ft)},isRowExpanded:$e,updateExpandRows:he,updateCurrentRowData:rt,loadOrToggle:ze,updateTreeData:Ce,updateKeyChildren:Re,states:{tableSize:n,rowKey:r,data:s,_data:o,isComplex:i,_columns:a,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:g,leafColumnsLength:m,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:y,isAllSelected:w,selection:b,reserveSelection:C,selectOnIndeterminate:S,selectable:$,filters:k,filteredData:T,sortingColumn:_,sortProp:E,sortOrder:A,hoverRow:N,...ge,...Ue,...Ge}}}function DH(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=DH(n.children,t)),n)})}function OH(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&OH(t.children)}),e.sort((t,n)=>t.no-n.no)}function okn(){const e=Ut(),t=skn(),n=Ae("table"),{t:r}=un();return{ns:n,t:r,...t,mutations:{setData(a,l){const u=x(a._data)!==l;a.data.value=l,a._data.value=l,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),x(a.reserveSelection)?e.store.assertRowKey():u?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(a,l,u,c){var f;const d=x(a._columns);let h=[];u?(u&&!u.children&&(u.children=[]),(f=u.children)==null||f.push(l),h=DH(d,u)):(d.push(l),h=d),OH(h),a._columns.value=h,a.updateOrderFns.push(c),l.type==="selection"&&(a.selectable.value=l.selectable,a.reserveSelection.value=l.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(a,l){var u;((u=l.getColumnIndex)==null?void 0:u.call(l))!==l.no&&(OH(a._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(a,l,u,c){var f;const d=x(a._columns)||[];if(u)(f=u.children)==null||f.splice(u.children.findIndex(p=>p.id===l.id),1),Ye(()=>{var p;((p=u.children)==null?void 0:p.length)===0&&delete u.children}),a._columns.value=DH(d,u);else{const p=d.indexOf(l);p>-1&&(d.splice(p,1),a._columns.value=d)}const h=a.updateOrderFns.indexOf(c);h>-1&&a.updateOrderFns.splice(h,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(a,l){const{prop:u,order:c,init:f}=l;if(u){const d=x(a.columns).find(h=>h.property===u);d&&(d.order=c,e.store.updateSort(d,u,c),e.store.commit("changeSortCondition",{init:f}))}},changeSortCondition(a,l){const{sortingColumn:u,sortProp:c,sortOrder:f}=a,d=x(u),h=x(c),p=x(f);mI(p)&&(a.sortingColumn.value=null,a.sortProp.value=null);const g={filter:!0};e.store.execQuery(g),(!l||!(l.silent||l.init))&&e.emit("sort-change",{column:d,prop:h,order:p}),e.store.updateTableScrollY()},filterChange(a,l){const{column:u,values:c,silent:f}=l,d=e.store.updateFilters(u,c);e.store.execQuery(),f||e.emit("filter-change",d),e.store.updateTableScrollY()},toggleAllSelection(){var a,l;(l=(a=e.store).toggleAllSelection)==null||l.call(a)},rowSelectedChanged(a,l){e.store.toggleRowSelection(l),e.store.updateAllSelected()},setHoverRow(a,l){a.hoverRow.value=l},setCurrentRow(a,l){e.store.updateCurrentRow(l)}},commit:function(a,...l){const u=e.store.mutations;if(u[a])u[a].apply(e,[e.store.states,...l]);else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){Ye(()=>e.layout.updateScrollY.apply(e.layout))}}}const lre={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function ikn(e,t){if(!e)throw new Error("Table is required.");const n=okn();return n.toggleAllSelection=Ed(n._toggleAllSelection,10),Object.keys(lre).forEach(r=>{X6e(Z6e(t,r),r,n)}),akn(n,t),n}function akn(e,t){Object.keys(lre).forEach(n=>{xe(()=>Z6e(t,n),r=>{X6e(r,n,e)})})}function X6e(e,t,n){let r=e,s=lre[t];Pt(s)&&(r=r||s.default,s=s.key),n.states[s].value=r}function Z6e(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(s=>{r=r[s]}),r}else return e[t]}class lkn{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=j(null),this.scrollX=j(!1),this.scrollY=j(!1),this.bodyWidth=j(null),this.fixedWidth=j(null),this.rightFixedWidth=j(null),this.gutterWidth=0;for(const n in t)En(t,n)&&(fr(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(mI(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n?.wrapRef){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(t,n="height"){if(!Tn)return;const r=this.table.vnode.el;if(t=Y$n(t),this.height.value=Number(t),!r&&(t||t===0)){Ye(()=>this.setHeight(t,n));return}r&&pt(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):r&&ot(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var t;if(!Tn)return;const n=this.fit,r=(t=this.table.vnode.el)==null?void 0:t.clientWidth;let s=0;const o=this.getFlattenColumns(),i=o.filter(u=>!pt(u.width));if(o.forEach(u=>{pt(u.width)&&u.realWidth&&(u.realWidth=null)}),i.length>0&&n){if(o.forEach(u=>{s+=Number(u.width||u.minWidth||80)}),s<=r){this.scrollX.value=!1;const u=r-s;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+u;else{const c=i.reduce((h,p)=>h+Number(p.minWidth||80),0),f=u/c;let d=0;i.forEach((h,p)=>{if(p===0)return;const g=Math.floor(Number(h.minWidth||80)*f);d+=g,h.realWidth=Number(h.minWidth||80)+g}),i[0].realWidth=Number(i[0].minWidth||80)+u-d}}else this.scrollX.value=!0,i.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(s,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),s+=u.realWidth}),this.scrollX.value=s>r,this.bodyWidth.value=s;const a=this.store.states.fixedColumns.value;if(a.length>0){let u=0;a.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var s,o;switch(t){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const ukn=me({name:"ElTableFilterPanel",components:{ElCheckbox:Hc,ElCheckboxGroup:Nne,ElScrollbar:jc,ElTooltip:Xo,ElIcon:st,ArrowDown:th,ArrowUp:y5},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:Un.appendTo},setup(e){const t=Ut(),{t:n}=un(),r=Ae("table-filter"),s=t?.parent;e.column&&!s.filterPanels.value[e.column.id]&&(s.filterPanels.value[e.column.id]=t);const o=j(null),i=j(null),a=j(0),l=O(()=>e.column&&e.column.filters),u=O(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),c=O({get:()=>{var $;return((($=e.column)==null?void 0:$.filteredValue)||[])[0]},set:$=>{f.value&&(cl($)?f.value.splice(0,1):f.value.splice(0,1,$))}}),f=O({get(){return e.column?e.column.filteredValue||[]:[]},set($){var k;e.column&&((k=e.upDataColumn)==null||k.call(e,"filteredValue",$))}}),d=O(()=>e.column?e.column.filterMultiple:!0),h=$=>$.value===c.value,p=()=>{var $;($=o.value)==null||$.onClose()},g=()=>{y(f.value),p()},m=()=>{f.value=[],y(f.value),p()},v=($,k)=>{c.value=$,a.value=k,cl($)?y([]):y(f.value),p()},y=$=>{var k,T;(k=e.store)==null||k.commit("filterChange",{column:e.column,values:$}),(T=e.store)==null||T.updateAllSelected()},w=()=>{var $,k;($=i.value)==null||$.focus(),!d.value&&C(),e.column&&((k=e.upDataColumn)==null||k.call(e,"filterOpened",!0))},b=()=>{var $;e.column&&(($=e.upDataColumn)==null||$.call(e,"filterOpened",!1))},C=()=>{if(cl(c)){a.value=0;return}const $=(l.value||[]).findIndex(k=>k.value===c.value);a.value=$>=0?$+1:0};return{multiple:d,filterClassName:u,filteredValue:f,filterValue:c,filters:l,handleConfirm:g,handleReset:m,handleSelect:v,isPropAbsent:cl,isActive:h,t:n,ns:r,tooltipRef:o,rootRef:i,checkedIndex:a,handleShowTooltip:w,handleHideTooltip:b,handleKeydown:$=>{var k,T;const _=Hn($),E=(l.value?l.value.length:0)+1;let A=a.value,N=!0;switch(_){case Oe.down:case Oe.right:A=(A+1)%E;break;case Oe.up:case Oe.left:A=(A-1+E)%E;break;case Oe.tab:p(),N=!1;break;case Oe.enter:case Oe.space:if(A===0)v(null,0);else{const F=(l.value||[])[A-1];F.value&&v(F.value,A)}break;default:N=!1;break}N&&$.preventDefault(),a.value=A,(T=(k=i.value)==null?void 0:k.querySelector(`.${r.e("list-item")}:nth-child(${A+1})`))==null||T.focus()}}}}),ckn=["disabled"],fkn=["tabindex","aria-checked"],dkn=["tabindex","aria-checked","onClick"],hkn=["aria-label"];function pkn(e,t,n,r,s,o){const i=Qt("el-checkbox"),a=Qt("el-checkbox-group"),l=Qt("el-scrollbar"),u=Qt("arrow-up"),c=Qt("arrow-down"),f=Qt("el-icon"),d=Qt("el-tooltip");return B(),pe(d,{ref:"tooltipRef",offset:0,placement:e.placement,"show-arrow":!1,trigger:"click",role:"dialog",teleported:"",effect:"light",pure:"",loop:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo,onShow:e.handleShowTooltip,onHide:e.handleHideTooltip},{content:ie(()=>[e.multiple?(B(),Y("div",{key:0,ref:"rootRef",tabindex:"-1",class:V(e.ns.e("multiple"))},[Z("div",{class:V(e.ns.e("content"))},[ee(l,{"wrap-class":e.ns.e("wrap")},{default:ie(()=>[ee(a,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=h=>e.filteredValue=h),class:V(e.ns.e("checkbox-group"))},{default:ie(()=>[(B(!0),Y(it,null,Xt(e.filters,h=>(B(),pe(i,{key:h.value,value:h.value},{default:ie(()=>[tn(Fe(h.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:V(e.ns.e("bottom"))},[Z("button",{class:V(e.ns.is("disabled",e.filteredValue.length===0)),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...h)=>e.handleConfirm&&e.handleConfirm(...h))},Fe(e.t("el.table.confirmFilter")),11,ckn),Z("button",{type:"button",onClick:t[2]||(t[2]=(...h)=>e.handleReset&&e.handleReset(...h))},Fe(e.t("el.table.resetFilter")),1)],2)],2)):(B(),Y("ul",{key:1,ref:"rootRef",tabindex:"-1",role:"radiogroup",class:V(e.ns.e("list")),onKeydown:t[4]||(t[4]=(...h)=>e.handleKeydown&&e.handleKeydown(...h))},[Z("li",{role:"radio",class:V([e.ns.e("list-item"),e.ns.is("active",e.isPropAbsent(e.filterValue))]),tabindex:e.checkedIndex===0?0:-1,"aria-checked":e.isPropAbsent(e.filterValue),onClick:t[3]||(t[3]=h=>e.handleSelect(null,0))},Fe(e.t("el.table.clearFilter")),11,fkn),(B(!0),Y(it,null,Xt(e.filters,(h,p)=>(B(),Y("li",{key:h.value,role:"radio",class:V([e.ns.e("list-item"),e.ns.is("active",e.isActive(h))]),tabindex:e.checkedIndex===p+1?0:-1,"aria-checked":e.isActive(h),onClick:g=>e.handleSelect(h.value,p+1)},Fe(h.text),11,dkn))),128))],34))]),default:ie(()=>{var h;return[Z("button",{type:"button",class:V(`${e.ns.namespace.value}-table__column-filter-trigger`),"aria-label":e.t("el.table.filterLabel",{column:((h=e.column)==null?void 0:h.label)||""})},[ee(f,null,{default:ie(()=>[ce(e.$slots,"filter-icon",{},()=>{var p;return[(p=e.column)!=null&&p.filterOpened?(B(),pe(u,{key:0})):(B(),pe(c,{key:1}))]})]),_:3})],10,hkn)]}),_:3},8,["placement","popper-class","append-to","onShow","onHide"])}var gkn=Ve(ukn,[["render",pkn],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function ure(e){const t=Ut();PM(()=>{n.value.addObserver(t)}),Ht(()=>{r(n.value),s(n.value)}),Yc(()=>{r(n.value),s(n.value)}),Yx(()=>{n.value.removeObserver(t)});const n=O(()=>{const o=e.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var i;const a=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=a.length;c<f;c++){const d=a[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},s=o=>{var i,a;const l=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const u=((a=e.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",d.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const mf=Symbol("ElTable");function mkn(e,t){const n=Ut(),r=tt(mf),s=g=>{g.stopPropagation()},o=(g,m)=>{!m.filters&&m.sortable?p(g,m,!1):m.filterable&&!m.sortable&&s(g),r?.emit("header-click",m,g)},i=(g,m)=>{r?.emit("header-contextmenu",m,g)},a=j(null),l=j(!1),u=j(),c=(g,m)=>{var v,y;if(Tn&&!(m.children&&m.children.length>0)&&a.value&&e.border&&a.value.id===m.id){l.value=!0;const w=r;t("set-drag-visible",!0);const b=w?.vnode.el,C=b?.getBoundingClientRect().left,S=(y=(v=n?.vnode)==null?void 0:v.el)==null?void 0:y.querySelector(`th.${m.id}`),$=S.getBoundingClientRect(),k=$.left-C+30;Tu(S,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:$.right-C,startColumnLeft:$.left-C,tableLeft:C};const T=w?.refs.resizeProxy;T.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const _=A=>{const N=A.clientX-u.value.startMouseLeft,F=u.value.startLeft+N;T.style.left=`${Math.max(k,F)}px`},E=()=>{if(l.value){const{startColumnLeft:A,startLeft:N}=u.value,R=Number.parseInt(T.style.left,10)-A;m.width=m.realWidth=R,w?.emit("header-dragend",m.width,N-A,m,g),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value=void 0,t("set-drag-visible",!1)}document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ia(S,"noclick")},0)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",E)}},f=(g,m)=>{var v;if(!e.border||m.children&&m.children.length>0)return;const y=g.target,w=ul(y)?y.closest("th"):null;if(!w)return;const b=td(w,"is-sortable");if(b){const _=l.value?"col-resize":"";w.style.cursor=_;const E=w.querySelector(".caret-wrapper");E&&(E.style.cursor=_)}if(!m.resizable||l.value){a.value=null;return}const C=w.getBoundingClientRect(),S=((v=w.parentNode)==null?void 0:v.lastElementChild)===w,$=e.allowDragLastColumn||!S,k=C.width>12&&C.right-g.clientX<8&&$,T=k?"col-resize":"";document.body.style.cursor=T,a.value=k?m:null,b&&(w.style.cursor=T)},d=()=>{!Tn||l.value||(document.body.style.cursor="")},h=({order:g,sortOrders:m})=>{if(g==="")return m[0];const v=m.indexOf(g||null);return m[v>m.length-2?0:v+1]},p=(g,m,v)=>{var y;g.stopPropagation();const w=m.order===v?null:v||h(m),b=(y=g.target)==null?void 0:y.closest("th");if(b&&td(b,"noclick")){ia(b,"noclick");return}if(!m.sortable)return;const C=g.currentTarget;if(["ascending","descending"].some(_=>td(C,_)&&!m.sortOrders.includes(_)))return;const S=e.store.states;let $=S.sortProp.value,k;const T=S.sortingColumn.value;(T!==m||T===m&&mI(T.order))&&(T&&(T.order=null),S.sortingColumn.value=m,$=m.property),w?k=m.order=w:k=m.order=null,S.sortProp.value=$,S.sortOrder.value=k,r?.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:i,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:s}}function vkn(e){const t=tt(mf),n=Ae("table");return{getHeaderRowStyle:a=>{const l=t?.props.headerRowStyle;return ft(l)?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=t?.props.headerRowClassName;return ot(u)?l.push(u):ft(u)&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,c)=>{var f;let d=(f=t?.props.headerCellStyle)!=null?f:{};ft(d)&&(d=d.call(null,{rowIndex:a,columnIndex:l,row:u,column:c}));const h=are(l,c.fixed,e.store,u);return Hx(h,"left"),Hx(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(a,l,u,c)=>{const f=ire(n.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t?.props.headerCellClassName;return ot(h)?d.push(h):ft(h)&&d.push(h.call(null,{rowIndex:a,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const J6e=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,J6e(n.children))):t.push(n)}),t},Q6e=e=>{let t=1;const n=(o,i)=>{if(i&&(o.level=i.level+1,t<o.level&&(t=o.level)),o.children){let a=0;o.children.forEach(l=>{n(l,o),a+=l.colSpan}),o.colSpan=a}else o.colSpan=1};e.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<t;o++)r.push([]);return J6e(e).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(i=>i.isSubColumn=!0)):o.rowSpan=t-o.level+1,r[o.level-1].push(o)}),r};function ykn(e){const t=tt(mf),n=O(()=>Q6e(e.store.states.originColumns.value));return{isGroup:O(()=>{const o=n.value.length>1;return o&&t&&(t.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),t?.store.commit("toggleAllSelection")},columnRows:n}}var bkn=me({name:"ElTableHeader",components:{ElCheckbox:Hc},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=Ut(),r=tt(mf),s=Ae("table"),o=j({}),{onColumnsChange:i,onScrollableChange:a}=ure(r),l=r?.props.tableLayout==="auto",u=In(new Map),c=j();let f;const d=()=>{f=setTimeout(()=>{u.size>0&&(u.forEach((A,N)=>{const F=c.value.querySelector(`.${N.replace(/\s/g,".")}`);if(F){const R=F.getBoundingClientRect().width;A.width=R||A.width}}),u.clear())})};xe(u,d),Dn(()=>{f&&(clearTimeout(f),f=void 0)}),Ht(async()=>{await Ye(),await Ye();const{prop:A,order:N}=e.defaultSort;r?.store.commit("sort",{prop:A,order:N,init:!0}),d()});const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:w}=mkn(e,t),{getHeaderRowStyle:b,getHeaderRowClass:C,getHeaderCellStyle:S,getHeaderCellClass:$}=vkn(e),{isGroup:k,toggleAllSelection:T,columnRows:_}=ykn(e),{t:E}=un();return n.state={onColumnsChange:i,onScrollableChange:a},n.filterPanels=o,{ns:s,t:E,filterPanels:o,onColumnsChange:i,onScrollableChange:a,columnRows:_,getHeaderRowClass:C,getHeaderRowStyle:b,getHeaderCellClass:$,getHeaderCellStyle:S,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:g,handleMouseMove:m,handleMouseOut:v,handleSortClick:y,handleFilterClick:w,isGroup:k,toggleAllSelection:T,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:d}},render(){const{ns:e,t,isGroup:n,columnRows:r,getHeaderCellStyle:s,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:f,handleSortClick:d,handleMouseOut:h,store:p,$parent:g,saveIndexSelection:m,isTableLayoutAuto:v}=this;let y=1;return bt("thead",{ref:"theadRef",class:e.is("group",n)},r.map((w,b)=>bt("tr",{class:i(b),key:b,style:a(b)},w.map((C,S)=>{C.rowSpan>y&&(y=C.rowSpan);const $=o(b,S,w,C);return v&&C.fixed&&m.set($,C),bt("th",{class:$,colspan:C.colSpan,key:`${C.id}-thead`,rowspan:C.rowSpan,scope:C.colSpan>1?"colgroup":"col",ariaSort:C.sortable?C.order:void 0,style:s(b,S,w,C),onClick:k=>{var T;(T=k.currentTarget)!=null&&T.classList.contains("noclick")||l(k,C)},onContextmenu:k=>u(k,C),onMousedown:k=>c(k,C),onMousemove:k=>f(k,C),onMouseout:h},[bt("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:S,store:p,_self:g}):C.label,C.sortable&&bt("button",{type:"button",class:"caret-wrapper","aria-label":t("el.table.sortLabel",{column:C.label||""}),onClick:k=>d(k,C)},[bt("i",{onClick:k=>d(k,C,"ascending"),class:"sort-caret ascending"}),bt("i",{onClick:k=>d(k,C,"descending"),class:"sort-caret descending"})]),C.filterable&&bt(gkn,{store:p,placement:C.filterPlacement||"bottom-start",appendTo:g?.appendFilterPanelTo,column:C,upDataColumn:(k,T)=>{C[k]=T}},{"filter-icon":()=>C.renderFilterIcon?C.renderFilterIcon({filterOpened:C.filterOpened}):null})])])}))))}});function G7(e,t,n=.03){return e-t>n}function wkn(e){const t=tt(mf),n=j(""),r=j(bt("div")),s=(p,g,m)=>{var v,y,w;const b=t,C=q7(p);let S=null;const $=(v=b?.vnode.el)==null?void 0:v.dataset.prefix;C&&(S=m0e({columns:(w=(y=e.store)==null?void 0:y.states.columns.value)!=null?w:[]},C,$),S&&b?.emit(`cell-${m}`,g,S,C,p)),b?.emit(`row-${m}`,g,S,p)},o=(p,g)=>{s(p,g,"dblclick")},i=(p,g)=>{var m;(m=e.store)==null||m.commit("setCurrentRow",g),s(p,g,"click")},a=(p,g)=>{s(p,g,"contextmenu")},l=Ed(p=>{var g;(g=e.store)==null||g.commit("setHoverRow",p)},30),u=Ed(()=>{var p;(p=e.store)==null||p.commit("setHoverRow",null)},30),c=p=>{const g=window.getComputedStyle(p,null),m=Number.parseInt(g.paddingLeft,10)||0,v=Number.parseInt(g.paddingRight,10)||0,y=Number.parseInt(g.paddingTop,10)||0,w=Number.parseInt(g.paddingBottom,10)||0;return{left:m,right:v,top:y,bottom:w}},f=(p,g,m)=>{var v;let y=(v=g?.target)==null?void 0:v.parentNode;for(;p>1&&(y=y?.nextSibling,!(!y||y.nodeName!=="TR"));)m(y,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:o,handleClick:i,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,g,m)=>{var v,y,w,b,C,S,$,k,T;if(!t)return;const _=t,E=q7(p),A=(v=_?.vnode.el)==null?void 0:v.dataset.prefix;let N=null;if(E){if(N=m0e({columns:(w=(y=e.store)==null?void 0:y.states.columns.value)!=null?w:[]},E,A),!N)return;E.rowSpan>1&&f(E.rowSpan,p,Tu);const re=_.hoverState={cell:E,column:N,row:g};_?.emit("cell-mouse-enter",re.row,re.column,re.cell,p)}if(!m){((b=Ni)==null?void 0:b.trigger)===E&&((C=Ni)==null||C());return}const F=p.target.querySelector(".cell");if(!(td(F,`${A}-tooltip`)&&F.childNodes.length&&((S=F.textContent)!=null&&S.trim())))return;const R=document.createRange();R.setStart(F,0),R.setEnd(F,F.childNodes.length);const{width:P,height:I}=R.getBoundingClientRect(),{width:D,height:M}=F.getBoundingClientRect(),{top:z,left:W,right:H,bottom:U}=c(F),K=W+H,G=z+U;G7(P+K,D)||G7(I+G,M)||G7(F.scrollWidth,D)?Q$n(m,($=E?.innerText||E?.textContent)!=null?$:"",g,N,E,_):((k=Ni)==null?void 0:k.trigger)===E&&((T=Ni)==null||T())},handleCellMouseLeave:p=>{const g=q7(p);if(!g)return;g.rowSpan>1&&f(g.rowSpan,p,ia);const m=t?.hoverState;t?.emit("cell-mouse-leave",m?.row,m?.column,m?.cell,p)},tooltipContent:n,tooltipTrigger:r}}function xkn(e){const t=tt(mf),n=Ae("table");return{getRowStyle:(u,c)=>{const f=t?.props.rowStyle;return ft(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c,f)=>{var d;const h=[n.e("row")];t?.props.highlightCurrentRow&&u===((d=e.store)==null?void 0:d.states.currentRow.value)&&h.push("current-row"),e.stripe&&f%2===1&&h.push(n.em("row","striped"));const p=t?.props.rowClassName;return ot(p)?h.push(p):ft(p)&&h.push(p.call(null,{row:u,rowIndex:c})),h},getCellStyle:(u,c,f,d)=>{const h=t?.props.cellStyle;let p=h??{};ft(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const g=are(c,e?.fixed,e.store);return Hx(g,"left"),Hx(g,"right"),Object.assign({},p,g)},getCellClass:(u,c,f,d,h)=>{const p=ire(n.b(),c,e?.fixed,e.store,void 0,h),g=[d.id,d.align,d.className,...p],m=t?.props.cellClassName;return ot(m)?g.push(m):ft(m)&&g.push(m.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),g.push(n.e("cell")),g.filter(v=>!!v).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const g=t?.props.spanMethod;if(ft(g)){const m=g({row:u,column:c,rowIndex:f,columnIndex:d});De(m)?(h=m[0],p=m[1]):Pt(m)&&(h=m.rowspan,p=m.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const Ckn=["colspan","rowspan"],Skn=me({name:"TableTdWrapper",__name:"td-wrapper",props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(B(),Y("td",{colspan:e.colspan,rowspan:e.rowspan},[ce(t.$slots,"default")],8,Ckn))}});var $kn=Ve(Skn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table-body/td-wrapper.vue"]]);function kkn(e){const t=tt(mf),n=Ae("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:o,handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=wkn(e),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:g,getSpan:m,getColspanRealWidth:v}=xkn(e);let y=-1;const w=O(()=>{var k;return(k=e.store)==null?void 0:k.states.columns.value.findIndex(({type:T})=>T==="default")}),b=(k,T)=>{var _;const E=(_=t?.props)==null?void 0:_.rowKey;return E?ui(k,E):T},C=(k,T,_,E=!1)=>{const{tooltipEffect:A,tooltipOptions:N,store:F}=e,{indent:R,columns:P}=F.states,I=[];let D=!0;return _&&(I.push(n.em("row",`level-${_.level}`)),D=!!_.display),T===0&&(y=-1),e.stripe&&D&&y++,I.push(...h(k,T,y)),bt("tr",{style:[D?null:{display:"none"},d(k,T)],class:I,key:b(k,T),onDblclick:z=>r(z,k),onClick:z=>s(z,k),onContextmenu:z=>o(z,k),onMouseenter:()=>i(T),onMouseleave:a},P.value.map((z,W)=>{const{rowspan:H,colspan:U}=m(k,z,T,W);if(!H||!U)return null;const K=Object.assign({},z);K.realWidth=v(P.value,U,W);const G={store:F,_self:e.context||t,column:K,row:k,$index:T,cellIndex:W,expanded:E};W===w.value&&_&&(G.treeNode={indent:_.level&&_.level*R.value,level:_.level},Ln(_.expanded)&&(G.treeNode.expanded=_.expanded,"loading"in _&&(G.treeNode.loading=_.loading),"noLazyChildren"in _&&(G.treeNode.noLazyChildren=_.noLazyChildren)));const re=`${b(k,T)},${W}`,ue=K.columnKey||K.rawColumnKey||"",ae=z.showOverflowTooltip&&GPe({effect:A},N,z.showOverflowTooltip);return bt($kn,{style:p(T,W,k,z),class:g(T,W,k,z,U-1),key:`${ue}${re}`,rowspan:H,colspan:U,onMouseenter:X=>l(X,k,ae),onMouseleave:u},{default:()=>S(W,z,G)})}))},S=(k,T,_)=>T.renderCell(_);return{wrappedRowRender:(k,T)=>{const _=e.store,{isRowExpanded:E,assertRowKey:A}=_,{treeData:N,lazyTreeNodeMap:F,childrenColumnName:R,rowKey:P}=_.states,I=_.states.columns.value;if(I.some(({type:M})=>M==="expand")){const M=E(k),z=C(k,T,void 0,M),W=t?.renderExpanded;if(!W)return console.error("[Element Error]renderExpanded is required."),z;const H=[[z]];return(t.props.preserveExpandedContent||M)&&H[0].push(bt("tr",{key:`expanded-row__${z.key}`,style:{display:M?"":"none"}},[bt("td",{colspan:I.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:k,$index:T,store:_,expanded:M})])])),H}else if(Object.keys(N.value).length){A();const M=ui(k,P.value);let z=N.value[M],W=null;z&&(W={expanded:z.expanded,level:z.level,display:!0,noLazyChildren:void 0,loading:void 0},Ln(z.lazy)&&(W&&Ln(z.loaded)&&z.loaded&&(W.noLazyChildren=!(z.children&&z.children.length)),W.loading=z.loading));const H=[C(k,T,W??void 0)];if(z){let U=0;const K=(re,ue)=>{re&&re.length&&ue&&re.forEach(ae=>{const X={display:ue.display&&ue.expanded,level:ue.level+1,expanded:!1,noLazyChildren:!1,loading:!1},J=ui(ae,P.value);if(cl(J))throw new Error("For nested data item, row-key is required.");if(z={...N.value[J]},z&&(X.expanded=z.expanded,z.level=z.level||X.level,z.display=!!(z.expanded&&X.display),Ln(z.lazy)&&(Ln(z.loaded)&&z.loaded&&(X.noLazyChildren=!(z.children&&z.children.length)),X.loading=z.loading)),U++,H.push(C(ae,T+U,X)),z){const q=F.value[J]||ae[R.value];K(q,z)}})};z.display=!0;const G=F.value[M]||k[R.value];K(G,z)}return H}else return C(k,T,void 0)},tooltipContent:c,tooltipTrigger:f}}const Ekn={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var _kn=me({name:"ElTableBody",props:Ekn,setup(e){var t;const n=Ut(),r=tt(mf),s=Ae("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}=kkn(e),{onColumnsChange:l,onScrollableChange:u}=ure(r),c=[];return xe((t=e.store)==null?void 0:t.states.hoverRow,(f,d)=>{var h,p;const g=n?.vnode.el,m=Array.from(g?.children||[]).filter(w=>w?.classList.contains(`${s.e("row")}`));let v=f;const y=(h=m[v])==null?void 0:h.childNodes;if(y?.length){let w=0;Array.from(y).reduce((C,S,$)=>{var k,T;return((k=y[$])==null?void 0:k.colSpan)>1&&(w=(T=y[$])==null?void 0:T.colSpan),S.nodeName!=="TD"&&w===0&&C.push($),w>0&&w--,C},[]).forEach(C=>{var S;for(v=f;v>0;){const $=(S=m[v-1])==null?void 0:S.childNodes;if($[C]&&$[C].nodeName==="TD"&&$[C].rowSpan>1){Tu($[C],"hover-cell"),c.push($[C]);break}v--}})}else c.forEach(w=>ia(w,"hover-cell")),c.length=0;!((p=e.store)!=null&&p.states.isComplex.value)||!Tn||_d(()=>{const w=m[d],b=m[f];w&&!w.classList.contains("hover-fixed-row")&&ia(w,"hover-row"),b&&Tu(b,"hover-row")})}),Yx(()=>{var f;(f=Ni)==null||f()}),{ns:s,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,n=t?.states.data.value||[];return bt("tbody",{tabIndex:-1},[n.reduce((r,s)=>r.concat(e(s,r.length)),[])])}});function Tkn(){const e=tt(mf),t=e?.store,n=O(()=>{var a;return(a=t?.states.fixedLeafColumnsLength.value)!=null?a:0}),r=O(()=>{var a;return(a=t?.states.rightFixedColumns.value.length)!=null?a:0}),s=O(()=>{var a;return(a=t?.states.columns.value.length)!=null?a:0}),o=O(()=>{var a;return(a=t?.states.fixedColumns.value.length)!=null?a:0}),i=O(()=>{var a;return(a=t?.states.rightFixedColumns.value.length)!=null?a:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:o,rightFixedCount:i,columns:O(()=>{var a;return(a=t?.states.columns.value)!=null?a:[]})}}function Akn(e){const{columns:t}=Tkn(),n=Ae("table");return{getCellClasses:(o,i)=>{const a=o[i],l=[n.e("cell"),a.id,a.align,a.labelClassName,...ire(n.b(),i,a.fixed,e.store)];return a.className&&l.push(a.className),a.children||l.push(n.is("leaf")),l},getCellStyles:(o,i)=>{const a=are(i,o.fixed,e.store);return Hx(a,"left"),Hx(a,"right"),a},columns:t}}var Ikn=me({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const t=tt(mf),n=Ae("table"),{getCellClasses:r,getCellStyles:s,columns:o}=Akn(e),{onScrollableChange:i,onColumnsChange:a}=ure(t);return{ns:n,onScrollableChange:i,onColumnsChange:a,getCellClasses:r,getCellStyles:s,columns:o}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:s}=this,o=this.store.states.data.value;let i=[];return r?i=r({columns:e,data:o}):e.forEach((a,l)=>{if(l===0){i[l]=s;return}const u=o.map(h=>Number(h[a.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?i[l]="":i[l]=u.reduce((h,p)=>{const g=Number(p);return Number.isNaN(+g)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),bt(bt("tfoot",[bt("tr",{},[...e.map((a,l)=>bt("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:n(e,l),style:t(a,l)},[bt("div",{class:["cell",a.labelClassName]},[i[l]])]))])]))}});function Nkn(e){return{setCurrentRow:f=>{e.commit("setCurrentRow",f)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{e.toggleRowSelection(f,d,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:f=>{e.clearFilter(f)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{e.toggleRowExpansionAdapter(f,d)},clearSort:()=>{e.clearSort()},sort:(f,d)=>{e.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{e.updateKeyChildren(f,d)}}}function Dkn(e,t,n,r){const s=j(!1),o=j(null),i=j(!1),a=I=>{i.value=I},l=j({width:null,height:null,headerHeight:null}),u=j(!1),c={display:"inline-block",verticalAlign:"middle"},f=j(),d=j(0),h=j(0),p=j(0),g=j(0),m=j(0);xe(()=>e.height,I=>{t.setHeight(I??null)},{immediate:!0}),xe(()=>e.maxHeight,I=>{t.setMaxHeight(I??null)},{immediate:!0}),xe(()=>[e.currentRowKey,n.states.rowKey],([I,D])=>{!x(D)||!x(I)||n.setCurrentRowKey(`${I}`)},{immediate:!0}),xe(()=>e.data,I=>{r.store.commit("setData",I)},{immediate:!0,deep:!0}),gl(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const v=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(I,D)=>{const{pixelX:M,pixelY:z}=D;Math.abs(M)>=Math.abs(z)&&(r.refs.bodyWrapper.scrollLeft+=D.pixelX/5)},w=O(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),b=O(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),C=()=>{w.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(T)};Ht(async()=>{await Ye(),n.updateColumns(),_(),requestAnimationFrame(C);const I=r.vnode.el,D=r.refs.headerWrapper;e.flexible&&I&&I.parentElement&&(I.parentElement.style.minWidth="0"),l.value={width:f.value=I.offsetWidth,height:I.offsetHeight,headerHeight:e.showHeader&&D?D.offsetHeight:null},n.states.columns.value.forEach(M=>{M.filteredValue&&M.filteredValue.length&&r.store.commit("filterChange",{column:M,values:M.filteredValue,silent:!0})}),r.$ready=!0});const S=(I,D)=>{if(!I)return;const M=Array.from(I.classList).filter(z=>!z.startsWith("is-scrolling-"));M.push(t.scrollX.value?D:"is-scrolling-none"),I.className=M.join(" ")},$=I=>{const{tableWrapper:D}=r.refs;S(D,I)},k=I=>{const{tableWrapper:D}=r.refs;return!!(D&&D.classList.contains(I))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const K="is-scrolling-none";k(K)||$(K);return}const I=r.refs.scrollBarRef.wrapRef;if(!I)return;const{scrollLeft:D,offsetWidth:M,scrollWidth:z}=I,{headerWrapper:W,footerWrapper:H}=r.refs;W&&(W.scrollLeft=D),H&&(H.scrollLeft=D);const U=z-M-1;D>=U?$("is-scrolling-right"):$(D===0?"is-scrolling-left":"is-scrolling-middle")},_=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Fn(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?Cr(r.vnode.el,E):Fn(window,"resize",E),Cr(r.refs.tableInnerWrapper,()=>{var I,D;E(),(D=(I=r.refs)==null?void 0:I.scrollBarRef)==null||D.update()}))},E=()=>{var I,D,M,z;const W=r.vnode.el;if(!r.$ready||!W)return;let H=!1;const{width:U,height:K,headerHeight:G}=l.value,re=f.value=W.offsetWidth;U!==re&&(H=!0);const ue=W.offsetHeight;(e.height||w.value)&&K!==ue&&(H=!0);const ae=e.tableLayout==="fixed"?r.refs.headerWrapper:(I=r.refs.tableHeaderRef)==null?void 0:I.$el;e.showHeader&&ae?.offsetHeight!==G&&(H=!0),d.value=((D=r.refs.tableWrapper)==null?void 0:D.scrollHeight)||0,p.value=ae?.scrollHeight||0,g.value=((M=r.refs.footerWrapper)==null?void 0:M.offsetHeight)||0,m.value=((z=r.refs.appendWrapper)==null?void 0:z.offsetHeight)||0,h.value=d.value-p.value-g.value-m.value,H&&(l.value={width:re,height:ue,headerHeight:e.showHeader&&ae?.offsetHeight||0},C())},A=Fs(),N=O(()=>{const{bodyWidth:I,scrollY:D,gutterWidth:M}=t;return I.value?`${I.value-(D.value?M:0)}px`:""}),F=O(()=>e.maxHeight?"fixed":e.tableLayout),R=O(()=>{if(e.data&&e.data.length)return;let I="100%";e.height&&h.value&&(I=`${h.value}px`);const D=f.value;return{width:D?`${D}px`:"",height:I}}),P=O(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+g.value}px)`}:{maxHeight:`${+e.maxHeight-p.value-g.value}px`}:{});return{isHidden:s,renderExpanded:o,setDragVisible:a,isGroup:u,handleMouseLeave:v,handleHeaderFooterMousewheel:y,tableSize:A,emptyBlockStyle:R,resizeProxyVisible:i,bodyWidth:N,resizeState:l,doLayout:C,tableBodyStyles:b,tableLayout:F,scrollbarViewStyle:c,scrollbarStyle:P}}function Okn(e){const t=j(),n=()=>{const s=e.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{i.forEach(a=>a())}),t.value.observe(s,o)};Ht(()=>{n()}),Yx(()=>{var r;(r=t.value)==null||r.disconnect()})}var Rkn={data:{type:Array,default:()=>[]},size:js,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function e5e(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:s})=>yn(s))&&(n=[]);const r=s=>{const o={key:`${e.tableLayout}_${s.id}`,style:{},name:void 0};return t?o.style={width:`${s.width}px`}:o.name=s.id,o};return bt("colgroup",{},n.map(s=>bt("col",r(s))))}e5e.props=["columns","tableLayout"];const Fkn=()=>{const e=j(),t=(o,i)=>{const a=e.value;a&&a.scrollTo(o,i)},n=(o,i)=>{const a=e.value;a&&pt(i)&&["Top","Left"].includes(o)&&a[`setScroll${o}`](i)};return{scrollBarRef:e,scrollTo:t,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var b0e=!1,Sv,RH,FH,tO,nO,t5e,rO,MH,PH,LH,n5e,BH,zH,r5e,s5e;function Ga(){if(!b0e){b0e=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(BH=/\b(iPhone|iP[ao]d)/.exec(e),zH=/\b(iP[ao]d)/.exec(e),LH=/Android/i.exec(e),r5e=/FBAN\/\w+;/i.exec(e),s5e=/Mobile/i.exec(e),n5e=!!/Win64/.exec(e),t){Sv=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Sv&&document&&document.documentMode&&(Sv=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);t5e=r?parseFloat(r[1])+4:Sv,RH=t[2]?parseFloat(t[2]):NaN,FH=t[3]?parseFloat(t[3]):NaN,tO=t[4]?parseFloat(t[4]):NaN,tO?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),nO=t&&t[1]?parseFloat(t[1]):NaN):nO=NaN}else Sv=RH=FH=nO=tO=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);rO=s?parseFloat(s[1].replace("_",".")):!0}else rO=!1;MH=!!n[2],PH=!!n[3]}else rO=MH=PH=!1}}var VH={ie:function(){return Ga()||Sv},ieCompatibilityMode:function(){return Ga()||t5e>Sv},ie64:function(){return VH.ie()&&n5e},firefox:function(){return Ga()||RH},opera:function(){return Ga()||FH},webkit:function(){return Ga()||tO},safari:function(){return VH.webkit()},chrome:function(){return Ga()||nO},windows:function(){return Ga()||MH},osx:function(){return Ga()||rO},linux:function(){return Ga()||PH},iphone:function(){return Ga()||BH},mobile:function(){return Ga()||BH||zH||LH||s5e},nativeApp:function(){return Ga()||r5e},android:function(){return Ga()||LH},ipad:function(){return Ga()||zH}},Mkn=VH,Pkn=!!(typeof window<"u"&&window.document&&window.document.createElement),Lkn={canUseDOM:Pkn},o5e=Lkn,i5e;o5e.canUseDOM&&(i5e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Bkn(e,t){if(!o5e.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&i5e&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var zkn=Bkn,w0e=10,x0e=40,C0e=800;function a5e(e){var t=0,n=0,r=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*w0e,s=n*w0e,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||s)&&e.deltaMode&&(e.deltaMode==1?(r*=x0e,s*=x0e):(r*=C0e,s*=C0e)),r&&!t&&(t=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:s}}a5e.getEventType=function(){return Mkn.firefox()?"DOMMouseScroll":zkn("wheel")?"wheel":"mousewheel"};var Vkn=a5e;const sO="_Mousewheel",S0e=function(e,t){if(e&&e.addEventListener){l5e(e);const n=function(r){const s=Vkn(r);t&&Reflect.apply(t,this,[r,s])};e[sO]={wheelHandler:n},e.addEventListener("wheel",n,{passive:!0})}},l5e=e=>{var t;(t=e[sO])!=null&&t.wheelHandler&&(e.removeEventListener("wheel",e[sO].wheelHandler),e[sO]=null)},Wkn={beforeMount(e,t){S0e(e,t.value)},unmounted(e){l5e(e)},updated(e,t){t.value!==t.oldValue&&S0e(e,t.value)}};let Ukn=1;const jkn=me({name:"ElTable",directives:{Mousewheel:Wkn},components:{TableHeader:bkn,TableBody:_kn,TableFooter:Ikn,ElScrollbar:jc,hColgroup:e5e},props:Rkn,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=un(),n=Ae("table"),r=Ut();ln(mf,r);const s=ikn(r,e);r.store=s;const o=new lkn({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=o;const i=O(()=>(s.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:g,updateKeyChildren:m}=Nkn(s),{isHidden:v,renderExpanded:y,setDragVisible:w,isGroup:b,handleMouseLeave:C,handleHeaderFooterMousewheel:S,tableSize:$,emptyBlockStyle:k,resizeProxyVisible:T,bodyWidth:_,resizeState:E,doLayout:A,tableBodyStyles:N,tableLayout:F,scrollbarViewStyle:R,scrollbarStyle:P}=Dkn(e,o,s,r),{scrollBarRef:I,scrollTo:D,setScrollLeft:M,setScrollTop:z}=Fkn(),W=Ed(A,50),H=`${n.namespace.value}-table_${Ukn++}`;r.tableId=H,r.state={isGroup:b,resizeState:E,doLayout:A,debouncedUpdateLayout:W};const U=O(()=>{var re;return(re=e.sumText)!=null?re:t("el.table.sumText")}),K=O(()=>{var re;return(re=e.emptyText)!=null?re:t("el.table.emptyText")}),G=O(()=>Q6e(s.states.originColumns.value)[0]);return Okn(r),Dn(()=>{W.cancel()}),{ns:n,layout:o,store:s,columns:G,handleHeaderFooterMousewheel:S,handleMouseLeave:C,tableId:H,tableSize:$,isHidden:v,isEmpty:i,renderExpanded:y,resizeProxyVisible:T,resizeState:E,isGroup:b,bodyWidth:_,tableBodyStyles:N,emptyBlockStyle:k,debouncedUpdateLayout:W,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:A,sort:g,updateKeyChildren:m,t,setDragVisible:w,context:r,computedSumText:U,computedEmptyText:K,tableLayout:F,scrollbarViewStyle:R,scrollbarStyle:P,scrollBarRef:I,scrollTo:D,setScrollLeft:M,setScrollTop:z,allowDragLastColumn:e.allowDragLastColumn}}}),Hkn=["data-prefix"],qkn={ref:"hiddenColumns",class:"hidden-columns"};function Gkn(e,t,n,r,s,o){const i=Qt("hColgroup"),a=Qt("table-header"),l=Qt("table-body"),u=Qt("table-footer"),c=Qt("el-scrollbar"),f=wq("mousewheel");return B(),Y("div",{ref:"tableWrapper",class:V([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:dt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[1]||(t[1]=(...d)=>e.handleMouseLeave&&e.handleMouseLeave(...d))},[Z("div",{ref:"tableInnerWrapper",class:V(e.ns.e("inner-wrapper"))},[Z("div",qkn,[ce(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Lt((B(),Y("div",{key:0,ref:"headerWrapper",class:V(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:V(e.ns.e("header")),style:dt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ee(a,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):fe("v-if",!0),Z("div",{ref:"bodyWrapper",class:V(e.ns.e("body-wrapper"))},[ee(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:t[0]||(t[0]=d=>e.$emit("scroll",d))},{default:ie(()=>[Z("table",{ref:"tableBody",class:V(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:dt({width:e.bodyWidth,tableLayout:e.tableLayout})},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(B(),pe(a,{key:0,ref:"tableHeaderRef",class:V(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):fe("v-if",!0),ee(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(B(),pe(u,{key:1,class:V(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):fe("v-if",!0)],6),e.isEmpty?(B(),Y("div",{key:0,ref:"emptyBlock",style:dt(e.emptyBlockStyle),class:V(e.ns.e("empty-block"))},[Z("span",{class:V(e.ns.e("empty-text"))},[ce(e.$slots,"empty",{},()=>[tn(Fe(e.computedEmptyText),1)])],2)],6)):fe("v-if",!0),e.$slots.append?(B(),Y("div",{key:1,ref:"appendWrapper",class:V(e.ns.e("append-wrapper"))},[ce(e.$slots,"append")],2)):fe("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native"])],2),e.showSummary&&e.tableLayout==="fixed"?Lt((B(),Y("div",{key:1,ref:"footerWrapper",class:V(e.ns.e("footer-wrapper"))},[Z("table",{class:V(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:dt(e.tableBodyStyles)},[ee(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ee(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Sn,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):fe("v-if",!0),e.border||e.isGroup?(B(),Y("div",{key:2,class:V(e.ns.e("border-left-patch"))},null,2)):fe("v-if",!0)],2),Lt(Z("div",{ref:"resizeProxy",class:V(e.ns.e("column-resize-proxy"))},null,2),[[Sn,e.resizeProxyVisible]])],46,Hkn)}var Kkn=Ve(jkn,[["render",Gkn],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Ykn={selection:"table-column--selection",expand:"table__expand-column"},Xkn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Zkn=e=>Ykn[e]||"",Jkn={selection:{renderHeader({store:e}){var t;function n(){return e.states.data.value&&e.states.data.value.length===0}return bt(Hc,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":(t=e.toggleAllSelection)!=null?t:void 0,modelValue:e.states.isAllSelected.value,ariaLabel:e.t("el.table.selectAllLabel")})},renderCell({row:e,column:t,store:n,$index:r}){return bt(Hc,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:n.t("el.table.selectRowLabel")})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return pt(r)?n=t+r:ft(r)&&(n=r(t)),bt("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({column:e,row:t,store:n,expanded:r}){const{ns:s}=n,o=[s.e("expand-icon")];!e.renderExpand&&r&&o.push(s.em("expand-icon","expanded"));const i=function(a){a.stopPropagation(),n.toggleRowExpansion(t)};return bt("button",{type:"button","aria-label":n.t(r?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":r,class:o,onClick:i},{default:()=>e.renderExpand?[e.renderExpand({expanded:r})]:[bt(st,null,{default:()=>[bt(aa)]})]})},sortable:!1,resizable:!1}};function Qkn({row:e,column:t,$index:n}){var r;const s=t.property,o=s&&pk(e,s).value;return t&&t.formatter?t.formatter(e,t,o,n):((r=o?.toString)==null?void 0:r.call(o))||""}function eEn({row:e,treeNode:t,store:n},r=!1){const{ns:s}=n;if(!t)return r?[bt("span",{class:s.e("placeholder")})]:null;const o=[],i=function(a){a.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&o.push(bt("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),Ln(t.expanded)&&!t.noLazyChildren){const a=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let l=aa;t.loading&&(l=Td),o.push(bt("button",{type:"button","aria-label":n.t(t.expanded?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":t.expanded,class:a,onClick:i},{default:()=>[bt(st,{class:s.is("loading",t.loading)},{default:()=>[bt(l)]})]}))}else o.push(bt("span",{class:s.e("placeholder")}));return o}function $0e(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function tEn(e,t){const n=Ut();return{registerComplexWatchers:()=>{const o=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},a=$0e(o,i);Object.keys(a).forEach(l=>{const u=i[l];En(t,u)&&xe(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=ore(c)),u==="minWidth"&&l==="realMinWidth"&&(f=q6e(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter","resizable"],i=["showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=$0e(o,a);Object.keys(l).forEach(u=>{const c=a[u];En(t,c)&&xe(()=>t[c],f=>{n.columnConfig.value[u]=f,(u==="filters"||u==="filterMethod")&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),i.forEach(u=>{En(e.value.props,u)&&xe(()=>e.value.props[u],c=>{n.columnConfig.value[u]=c})})}}}function nEn(e,t,n){const r=Ut(),s=j(""),o=j(!1),i=j(),a=j(),l=Ae("table");gl(()=>{i.value=e.align?`is-${e.align}`:null,i.value}),gl(()=>{a.value=e.headerAlign?`is-${e.headerAlign}`:i.value,a.value});const u=O(()=>{let b=r.vnode.vParent||r.parent;for(;b&&!b.tableId&&!b.columnId;)b=b.vnode.vParent||b.parent;return b}),c=O(()=>{const{store:b}=r.parent;if(!b)return!1;const{treeData:C}=b.states,S=C.value;return S&&Object.keys(S).length>0}),f=j(ore(e.width)),d=j(q6e(e.minWidth)),h=b=>(f.value&&(b.width=f.value),d.value&&(b.minWidth=d.value),!f.value&&d.value&&(b.width=void 0),b.minWidth||(b.minWidth=80),b.realWidth=Number(yn(b.width)?b.minWidth:b.width),b),p=b=>{const C=b.type,S=Jkn[C]||{};Object.keys(S).forEach(k=>{const T=S[k];k!=="className"&&!yn(T)&&(b[k]=T)});const $=Zkn(C);if($){const k=`${x(l.namespace)}-${$}`;b.className=b.className?`${b.className} ${k}`:k}return b},g=b=>{De(b)?b.forEach(S=>C(S)):C(b);function C(S){var $;(($=S?.type)==null?void 0:$.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:s,realAlign:i,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:b=>{e.renderHeader||b.type!=="selection"&&(b.renderHeader=S=>{if(r.columnConfig.value.label,t.header){const $=t.header(S);if(Y6e($))return bt(it,$)}return tn(b.label)}),t["filter-icon"]&&(b.renderFilterIcon=S=>ce(t,"filter-icon",S)),t.expand&&(b.renderExpand=S=>ce(t,"expand",S));let C=b.renderCell;return b.type==="expand"?(b.renderCell=S=>bt("div",{class:"cell"},[C(S)]),n.value.renderExpanded=S=>t.default?t.default(S):t.default):(C=C||Qkn,b.renderCell=S=>{let $=null;if(t.default){const N=t.default(S);$=N.some(F=>F.type!==ps)?N:C(S)}else $=C(S);const{columns:k}=n.value.store.states,T=k.value.findIndex(N=>N.type==="default"),_=c.value&&S.cellIndex===T,E=eEn(S,_),A={class:"cell",style:{}};return b.showOverflowTooltip&&(A.class=`${A.class} ${x(l.namespace)}-tooltip`,A.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),g($),bt("div",A,[E,$])}),b},getPropsData:(...b)=>b.reduce((C,S)=>(De(S)&&S.forEach($=>{C[$]=e[$]}),C),{}),getColumnElIndex:(b,C)=>Array.prototype.indexOf.call(b,C),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var rEn={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let sEn=1;var u5e=me({name:"ElTableColumn",components:{ElCheckbox:Hc},props:rEn,setup(e,{slots:t}){const n=Ut(),r=j({}),s=O(()=>{let w=n.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:o,registerComplexWatchers:i}=tEn(s,e),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:g,realAlign:m,updateColumnOrder:v}=nEn(e,t,s),y=c.value;a.value=`${"tableId"in y&&y.tableId||"columnId"in y&&y.columnId}_column_${sEn++}`,PM(()=>{l.value=s.value!==y;const w=e.type||"default",b=e.sortable===""?!0:e.sortable,C=w==="selection"?!1:yn(e.showOverflowTooltip)?y.props.showOverflowTooltip:e.showOverflowTooltip,S=yn(e.tooltipFormatter)?y.props.tooltipFormatter:e.tooltipFormatter,$={...Xkn[w],id:a.value,type:w,property:e.prop||e.property,align:m,headerAlign:u,showOverflowTooltip:C,tooltipFormatter:S,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:b,index:e.index,rawColumnKey:n.vnode.key};let A=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);A=K$n($,A),A=X$n(h,f,d)(A),r.value=A,o(),i()}),Ht(()=>{var w,b;const C=c.value,S=l.value?(w=C.vnode.el)==null?void 0:w.children:(b=C.refs.hiddenColumns)==null?void 0:b.children,$=()=>g(S||[],n.vnode.el);r.value.getColumnIndex=$,$()>-1&&s.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in C&&C.columnConfig.value:null,v)}),Dn(()=>{const w=r.value.getColumnIndex;(w?w():-1)>-1&&s.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in y&&y.columnConfig.value:null,v)}),n.columnId=a.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(De(r))for(const i of r)((n=i.type)==null?void 0:n.name)==="ElTableColumn"||i.shapeFlag&2?s.push(i):i.type===it&&De(i.children)&&i.children.forEach(a=>{a?.patchFlag!==1024&&!ot(a?.children)&&s.push(a)});return bt("div",s)}catch{return bt("div",[])}}});const oEn=Rt(Kkn,{TableColumn:u5e}),iEn=Ur(u5e);var Bv=(e=>(e.ASC="asc",e.DESC="desc",e))(Bv||{}),C_=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(C_||{}),c5e=(e=>(e.LEFT="left",e.RIGHT="right",e))(c5e||{});const WH={asc:"desc",desc:"asc"},S_=Symbol("placeholder"),aEn=(e,t,n)=>{var r;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(s.flexShrink=1);const o={...(r=e.style)!=null?r:{},...s,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function lEn(e,t,n){const r=O(()=>x(t).map((m,v)=>{var y,w;return{...m,key:(w=(y=m.key)!=null?y:m.dataKey)!=null?w:v}})),s=O(()=>x(r).filter(m=>!m.hidden)),o=O(()=>x(s).filter(m=>m.fixed==="left"||m.fixed===!0)),i=O(()=>x(s).filter(m=>m.fixed==="right")),a=O(()=>x(s).filter(m=>!m.fixed)),l=O(()=>{const m=[];return x(o).forEach(v=>{m.push({...v,placeholderSign:S_})}),x(a).forEach(v=>{m.push(v)}),x(i).forEach(v=>{m.push({...v,placeholderSign:S_})}),m}),u=O(()=>x(o).length||x(i).length),c=O(()=>x(r).reduce((m,v)=>(m[v.key]=aEn(v,x(n),e.fixed),m),{})),f=O(()=>x(s).reduce((m,v)=>m+v.width,0)),d=m=>x(r).find(v=>v.key===m),h=m=>x(c)[m],p=(m,v)=>{m.width=v};function g(m){var v;const{key:y}=m.currentTarget.dataset;if(!y)return;const{sortState:w,sortBy:b}=e;let C=Bv.ASC;Pt(w)?C=WH[w[y]]:C=WH[b.order],(v=e.onColumnSort)==null||v.call(e,{column:d(y),key:y,order:C})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,hasFixedColumns:u,mainColumns:l,normalColumns:a,visibleColumns:s,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:g}}const uEn=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const o=j({scrollLeft:0,scrollTop:0});function i(h){var p,g,m;const{scrollTop:v}=h;(p=t.value)==null||p.scrollTo(h),(g=n.value)==null||g.scrollToTop(v),(m=r.value)==null||m.scrollToTop(v)}function a(h){o.value=h,i(h)}function l(h){o.value.scrollTop=h,i(x(o))}function u(h){var p,g;o.value.scrollLeft=h,(g=(p=t.value)==null?void 0:p.scrollTo)==null||g.call(p,x(o))}function c(h){var p;a(h),(p=e.onScroll)==null||p.call(e,h)}function f({scrollTop:h}){const{scrollTop:p}=x(o);h!==p&&l(h)}function d(h,p="auto"){var g;(g=t.value)==null||g.scrollToRow(h,p)}return xe(()=>x(o).scrollTop,(h,p)=>{h>p&&s()}),{scrollPos:o,scrollTo:a,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},cEn=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:s,ns:o,isScrolling:i})=>{const a=Ut(),{emit:l}=a,u=cr(!1),c=j(e.defaultExpandedRowKeys||[]),f=j(-1),d=cr(null),h=j({}),p=j({}),g=cr({}),m=cr({}),v=cr({}),y=O(()=>pt(e.estimatedRowHeight));function w(_){var E;(E=e.onRowsRendered)==null||E.call(e,_),_.rowCacheEnd>x(f)&&(f.value=_.rowCacheEnd)}function b({hovered:_,rowKey:E}){if(i.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(E)}"]`).forEach(F=>{_?F.classList.add(o.is("hovered")):F.classList.remove(o.is("hovered"))})}function C({expanded:_,rowData:E,rowIndex:A,rowKey:N}){var F,R;const P=[...x(c)],I=P.indexOf(N);_?I===-1&&P.push(N):I>-1&&P.splice(I,1),c.value=P,l("update:expandedRowKeys",P),(F=e.onRowExpand)==null||F.call(e,{expanded:_,rowData:E,rowIndex:A,rowKey:N}),(R=e.onExpandedRowsChange)==null||R.call(e,P),s.vnode.el.querySelector(`.${o.is("hovered")}[rowkey="${String(N)}"]`)&&Ye(()=>b({hovered:!0,rowKey:N}))}const S=Ed(()=>{var _,E,A,N;u.value=!0,h.value={...x(h),...x(p)},$(x(d),!1),p.value={},d.value=null,(_=t.value)==null||_.forceUpdate(),(E=n.value)==null||E.forceUpdate(),(A=r.value)==null||A.forceUpdate(),(N=a.proxy)==null||N.$forceUpdate(),u.value=!1},0);function $(_,E=!1){x(y)&&[t,n,r].forEach(A=>{const N=x(A);N&&N.resetAfterRowIndex(_,E)})}function k(_,E,A){const N=x(d);(N===null||N>A)&&(d.value=A),p.value[_]=E}function T({rowKey:_,height:E,rowIndex:A},N){N?N===c5e.RIGHT?v.value[_]=E:g.value[_]=E:m.value[_]=E;const F=Math.max(...[g,v,m].map(R=>R.value[_]||0));x(h)[_]!==F&&(k(_,F,A),S())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:h,resetAfterIndex:$,onRowExpanded:C,onRowHovered:b,onRowsRendered:w,onRowHeightChange:T}},fEn=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=j({}),o=O(()=>{const a={},{data:l,rowKey:u}=e,c=x(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>a[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&De(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(g=>a[g[u]]=a[p[u]]+1))}return s.value=a,f}),i=O(()=>{const{data:a,expandColumnKey:l}=e;return l?x(o):a});return xe(i,(a,l)=>{a!==l&&(n.value=-1,r(0,!0))}),{data:i,depthMap:s}},dEn=(e,t)=>e+t,oO=e=>De(e)?e.reduce(dEn,0):e,Q1=(e,t,n={})=>ft(e)?e(t):e??n,qg=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Vr(e[t])}),e),f5e=e=>or(e)?t=>bt(e,t):e,hEn=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const o=O(()=>{const{fixed:v,width:y,vScrollbarSize:w}=e,b=y-w;return v?Math.max(Math.round(x(t)),b):b}),i=O(()=>{const{height:v=0,maxHeight:y=0,footerHeight:w,hScrollbarSize:b}=e;if(y>0){const C=x(d),S=x(n),k=x(f)+C+S+b;return Math.min(k,y-w)}return v-w}),a=O(()=>{const{maxHeight:v}=e,y=x(i);if(pt(v)&&v>0)return y;const w=x(n)+x(f)+x(d);return Math.min(y,w)}),l=v=>v.width,u=O(()=>oO(x(r).map(l))),c=O(()=>oO(x(s).map(l))),f=O(()=>oO(e.headerHeight)),d=O(()=>{var v;return(((v=e.fixedData)==null?void 0:v.length)||0)*e.rowHeight}),h=O(()=>x(i)-x(f)-x(d)),p=O(()=>{const{style:v={},height:y,width:w}=e;return qg({...v,height:y,width:w})}),g=O(()=>qg({height:e.footerHeight})),m=O(()=>({top:Vr(x(f)),bottom:Vr(e.footerHeight),width:Vr(e.width)}));return{bodyWidth:o,fixedTableHeight:a,mainTableHeight:i,leftTableWidth:u,rightTableWidth:c,windowHeight:h,footerHeight:g,emptyStyle:m,rootStyle:p,headerHeight:f}};function pEn(e){const t=j(),n=j(),r=j(),{columns:s,columnsStyles:o,columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=lEn(e,Bn(e,"columns"),Bn(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v,scrollPos:y}=uEn(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Q}),w=Ae("table-v2"),b=Ut(),C=cr(!1),{expandedRowKeys:S,lastRenderedRowIndex:$,isDynamic:k,isResetting:T,rowHeights:_,resetAfterIndex:E,onRowExpanded:A,onRowHeightChange:N,onRowHovered:F,onRowsRendered:R}=cEn(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:b,ns:w,isScrolling:C}),{data:P,depthMap:I}=fEn(e,{expandedRowKeys:S,lastRenderedRowIndex:$,resetAfterIndex:E}),D=O(()=>{const{estimatedRowHeight:se,rowHeight:de}=e,he=x(P);return pt(se)?Object.values(x(_)).reduce((ge,$e)=>ge+$e,0):he.length*de}),{bodyWidth:M,fixedTableHeight:z,mainTableHeight:W,leftTableWidth:H,rightTableWidth:U,windowHeight:K,footerHeight:G,emptyStyle:re,rootStyle:ue,headerHeight:ae}=hEn(e,{columnsTotalWidth:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,rowsHeight:D}),X=j(),J=O(()=>{const se=x(P).length===0;return De(e.fixedData)?e.fixedData.length===0&&se:se});function q(se){const{estimatedRowHeight:de,rowHeight:he,rowKey:ge}=e;return de?x(_)[x(P)[se][ge]]||de:he}const L=j(!1);function Q(){const{onEndReached:se}=e;if(!se)return;const{scrollTop:de}=x(y),he=x(D),ge=x(K),$e=he-(de+ge)+e.hScrollbarSize;!L.value&&x($)>=0&&he<=de+x(W)-x(ae)?(L.value=!0,se($e)):L.value=!1}return xe(()=>x(D),()=>L.value=!1),xe(()=>e.expandedRowKeys,se=>S.value=se,{deep:!0}),{columns:s,containerRef:X,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:T,isScrolling:C,hasFixedColumns:u,columnsStyles:o,columnsTotalWidth:i,data:P,expandedRowKeys:S,depthMap:I,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:M,emptyStyle:re,rootStyle:ue,footerHeight:G,mainTableHeight:W,fixedTableHeight:z,leftTableWidth:H,rightTableWidth:U,showEmpty:J,getRowHeight:q,onColumnSorted:f,onRowHovered:F,onRowExpanded:A,onRowsRendered:R,onRowHeightChange:N,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v}}const cre=Symbol("tableV2"),d5e="tableV2GridScrollLeft",h5e=String,RI={type:oe(Array),required:!0},fre={type:oe(Array)},p5e={...fre,required:!0},gEn=String,k0e={type:oe(Array),default:()=>zr([])},$v={type:Number,required:!0},g5e={type:oe([String,Number,Symbol]),default:"id"},E0e={type:oe(Object)},zv=Me({class:String,columns:RI,columnsStyles:{type:oe(Object),required:!0},depth:Number,expandColumnKey:gEn,estimatedRowHeight:{...u1.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:oe(Function)},onRowHover:{type:oe(Function)},onRowHeightChange:{type:oe(Function)},rowData:{type:oe(Object),required:!0},rowEventHandlers:{type:oe(Object)},rowIndex:{type:Number,required:!0},rowKey:g5e,style:{type:oe(Object)}}),K7={type:Number,required:!0},dre=Me({class:String,columns:RI,fixedHeaderData:{type:oe(Array)},headerData:{type:oe(Array),required:!0},headerHeight:{type:oe([Number,Array]),default:50},rowWidth:K7,rowHeight:{type:Number,default:50},height:K7,width:K7}),iO=Me({columns:RI,data:p5e,fixedData:fre,estimatedRowHeight:zv.estimatedRowHeight,width:$v,height:$v,headerWidth:$v,headerHeight:dre.headerHeight,bodyWidth:$v,rowHeight:$v,cache:O6e.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:u1.scrollbarAlwaysOn,scrollbarStartGap:u1.scrollbarStartGap,scrollbarEndGap:u1.scrollbarEndGap,class:h5e,style:E0e,containerStyle:E0e,getRowHeight:{type:oe(Function),required:!0},rowKey:zv.rowKey,onRowsRendered:{type:oe(Function)},onScroll:{type:oe(Function)}}),mEn=Me({cache:iO.cache,estimatedRowHeight:zv.estimatedRowHeight,rowKey:g5e,headerClass:{type:oe([String,Function])},headerProps:{type:oe([Object,Function])},headerCellProps:{type:oe([Object,Function])},headerHeight:dre.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:oe([String,Function])},rowProps:{type:oe([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:oe([Object,Function])},columns:RI,data:p5e,dataGetter:{type:oe(Function)},fixedData:fre,expandColumnKey:zv.expandColumnKey,expandedRowKeys:k0e,defaultExpandedRowKeys:k0e,class:h5e,fixed:Boolean,style:{type:oe(Object)},width:$v,height:$v,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:u1.hScrollbarSize,vScrollbarSize:u1.vScrollbarSize,scrollbarAlwaysOn:M6e.alwaysOn,sortBy:{type:oe(Object),default:()=>({})},sortState:{type:oe(Object),default:void 0},onColumnSort:{type:oe(Function)},onExpandedRowsChange:{type:oe(Function)},onEndReached:{type:oe(Function)},onRowExpand:zv.onRowExpand,onScroll:iO.onScroll,onRowsRendered:iO.onRowsRendered,rowEventHandlers:zv.rowEventHandlers}),vEn="ElTableV2Header",yEn=me({name:vEn,props:dre,setup(e,{slots:t,expose:n}){const r=Ae("table-v2"),s=tt(d5e),o=j(),i=O(()=>qg({width:e.width,height:e.height})),a=O(()=>qg({width:e.rowWidth,height:e.height})),l=O(()=>vo(x(e.headerHeight))),u=d=>{const h=x(o);Ye(()=>{h?.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:g}=e;return p?.map((m,v)=>{var y;const w=qg({height:g,width:"100%"});return(y=t.fixed)==null?void 0:y.call(t,{class:d,columns:h,rowData:m,rowIndex:-(v+1),style:w})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=e;return x(l).map((p,g)=>{var m;const v=qg({width:"100%",height:p});return(m=t.dynamic)==null?void 0:m.call(t,{class:d,columns:h,headerIndex:g,style:v})})};return Yc(()=>{s?.value&&u(s.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return ee("div",{ref:o,class:e.class,style:x(i),role:"rowgroup"},[ee("div",{style:x(a),class:r.e("header")},[f(),c()])])}}});var bEn=yEn;const wEn=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},s)=>{let o=null,i=0,a=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{yp(o);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(i,a)&&l(i+f,a+d))&&(i+=f,a+=d,c.preventDefault(),o=_d(()=>{s(i,a),i=0,a=0}))}}},xEn=(e,t,n,r,s,o,i)=>{const a=j(0),l=j(0);let u,c=0,f=0;const d=p=>{yp(u),a.value=p.touches[0].clientX,l.value=p.touches[0].clientY,c=0,f=0},h=p=>{p.preventDefault(),yp(u),c+=a.value-p.touches[0].clientX,f+=l.value-p.touches[0].clientY,a.value=p.touches[0].clientX,l.value=p.touches[0].clientY,u=_d(()=>{const g=r.value-x(o),m=s.value-x(i),v=Math.min(t.value.scrollLeft+c,g),y=Math.min(t.value.scrollTop+f,m);n({scrollLeft:v,scrollTop:y}),c=0,f=0})};return Fn(e,"touchstart",d,{passive:!0}),Fn(e,"touchmove",h,{passive:!1}),{touchStartX:a,touchStartY:l,handleTouchStart:d,handleTouchMove:h}},m5e=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:o,getEstimatedTotalWidth:i,getColumnOffset:a,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>me({name:e??"ElVirtualList",props:u1,emits:[pM,gM],setup(g,{emit:m,expose:v,slots:y}){const w=Ae("vl");p(g);const b=Ut(),C=j(d(g,b));h?.(b,C);const S=j(),$=j(),k=j(),T=j(),_=j({isScrolling:!1,scrollLeft:pt(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:pt(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Jb,yAxisScrollDir:Jb}),E=A6e(),A=O(()=>Number.parseInt(`${g.height}`,10)),N=O(()=>Number.parseInt(`${g.width}`,10)),F=O(()=>{const{totalColumn:Ce,totalRow:Re,columnCache:ze}=g,{isScrolling:Ue,xAxisScrollDir:rt,scrollLeft:ht}=x(_);if(Ce===0||Re===0)return[0,0,0,0];const ye=r(g,ht,x(C)),Ge=s(g,ye,ht,x(C)),at=!Ue||rt===mM?Math.max(1,ze):1,cn=!Ue||rt===Jb?Math.max(1,ze):1;return[Math.max(0,ye-at),Math.max(0,Math.min(Ce-1,Ge+cn)),ye,Ge]}),R=O(()=>{const{totalColumn:Ce,totalRow:Re,rowCache:ze}=g,{isScrolling:Ue,yAxisScrollDir:rt,scrollTop:ht}=x(_);if(Ce===0||Re===0)return[0,0,0,0];const ye=c(g,ht,x(C)),Ge=f(g,ye,ht,x(C)),at=!Ue||rt===mM?Math.max(1,ze):1,cn=!Ue||rt===Jb?Math.max(1,ze):1;return[Math.max(0,ye-at),Math.max(0,Math.min(Re-1,Ge+cn)),ye,Ge]}),P=O(()=>o(g,x(C))),I=O(()=>i(g,x(C))),D=O(()=>{var Ce;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:pt(g.height)?`${g.height}px`:g.height,width:pt(g.width)?`${g.width}px`:g.width},(Ce=g.style)!=null?Ce:{}]}),M=O(()=>{const Ce=`${x(I)}px`;return{height:`${x(P)}px`,pointerEvents:x(_).isScrolling?"none":void 0,width:Ce,margin:0,boxSizing:"border-box"}}),z=()=>{const{totalColumn:Ce,totalRow:Re}=g;if(Ce>0&&Re>0){const[Ge,at,cn,lt]=x(F),[Ft,Dt,qt,Te]=x(R);m(pM,{columnCacheStart:Ge,columnCacheEnd:at,rowCacheStart:Ft,rowCacheEnd:Dt,columnVisibleStart:cn,columnVisibleEnd:lt,rowVisibleStart:qt,rowVisibleEnd:Te})}const{scrollLeft:ze,scrollTop:Ue,updateRequested:rt,xAxisScrollDir:ht,yAxisScrollDir:ye}=x(_);m(gM,{xAxisScrollDir:ht,scrollLeft:ze,yAxisScrollDir:ye,scrollTop:Ue,updateRequested:rt})},W=Ce=>{const{clientHeight:Re,clientWidth:ze,scrollHeight:Ue,scrollLeft:rt,scrollTop:ht,scrollWidth:ye}=Ce.currentTarget,Ge=x(_);if(Ge.scrollTop===ht&&Ge.scrollLeft===rt)return;let at=rt;if(l0e(g.direction))switch(yM()){case w_:at=-rt;break;case sre:at=ye-ze-rt;break}_.value={...Ge,isScrolling:!0,scrollLeft:at,scrollTop:Math.max(0,Math.min(ht,Ue-Re)),updateRequested:!0,xAxisScrollDir:Lv(Ge.scrollLeft,at),yAxisScrollDir:Lv(Ge.scrollTop,ht)},Ye(()=>L()),Q(),z()},H=(Ce,Re)=>{const ze=x(A),Ue=(P.value-ze)/Re*Ce;G({scrollTop:Math.min(P.value-ze,Ue)})},U=(Ce,Re)=>{const ze=x(N),Ue=(I.value-ze)/Re*Ce;G({scrollLeft:Math.min(I.value-ze,Ue)})},{onWheel:K}=wEn({atXStartEdge:O(()=>_.value.scrollLeft<=0),atXEndEdge:O(()=>_.value.scrollLeft>=I.value-x(N)),atYStartEdge:O(()=>_.value.scrollTop<=0),atYEndEdge:O(()=>_.value.scrollTop>=P.value-x(A))},(Ce,Re)=>{var ze,Ue,rt,ht;(Ue=(ze=$.value)==null?void 0:ze.onMouseUp)==null||Ue.call(ze),(ht=(rt=k.value)==null?void 0:rt.onMouseUp)==null||ht.call(rt);const ye=x(N),Ge=x(A);G({scrollLeft:Math.min(_.value.scrollLeft+Ce,I.value-ye),scrollTop:Math.min(_.value.scrollTop+Re,P.value-Ge)})});Fn(S,"wheel",K,{passive:!1});const G=({scrollLeft:Ce=_.value.scrollLeft,scrollTop:Re=_.value.scrollTop})=>{Ce=Math.max(Ce,0),Re=Math.max(Re,0);const ze=x(_);Re===ze.scrollTop&&Ce===ze.scrollLeft||(_.value={...ze,xAxisScrollDir:Lv(ze.scrollLeft,Ce),yAxisScrollDir:Lv(ze.scrollTop,Re),scrollLeft:Ce,scrollTop:Re,updateRequested:!0},Ye(()=>L()),Q(),z())},{touchStartX:re,touchStartY:ue,handleTouchStart:ae,handleTouchMove:X}=xEn(S,_,G,I,P,N,A),J=(Ce=0,Re=0,ze=Au)=>{const Ue=x(_);Re=Math.max(0,Math.min(Re,g.totalColumn-1)),Ce=Math.max(0,Math.min(Ce,g.totalRow-1));const rt=dLe(w.namespace.value),ht=x(C),ye=o(g,ht),Ge=i(g,ht);G({scrollLeft:a(g,Re,ze,Ue.scrollLeft,ht,Ge>g.width?rt:0),scrollTop:l(g,Ce,ze,Ue.scrollTop,ht,ye>g.height?rt:0)})},q=(Ce,Re)=>{const{columnWidth:ze,direction:Ue,rowHeight:rt}=g,ht=E.value(t&&ze,t&&rt,t&&Ue),ye=`${Ce},${Re}`;if(En(ht,ye))return ht[ye];{const[,Ge]=n(g,Re,x(C)),at=x(C),cn=l0e(Ue),[lt,Ft]=u(g,Ce,at),[Dt]=n(g,Re,at);return ht[ye]={position:"absolute",left:cn?void 0:`${Ge}px`,right:cn?`${Ge}px`:void 0,top:`${Ft}px`,height:`${lt}px`,width:`${Dt}px`},ht[ye]}},L=()=>{_.value.isScrolling=!1,Ye(()=>{E.value(-1,null,null)})};Ht(()=>{if(!Tn)return;const{initScrollLeft:Ce,initScrollTop:Re}=g,ze=x(S);ze&&(pt(Ce)&&(ze.scrollLeft=Ce),pt(Re)&&(ze.scrollTop=Re)),z()});const Q=()=>{const{direction:Ce}=g,{scrollLeft:Re,scrollTop:ze,updateRequested:Ue}=x(_),rt=x(S);if(Ue&&rt){if(Ce===Cw)switch(yM()){case w_:{rt.scrollLeft=-Re;break}case rre:{rt.scrollLeft=Re;break}default:{const{clientWidth:ht,scrollWidth:ye}=rt;rt.scrollLeft=ye-ht-Re;break}}else rt.scrollLeft=Math.max(0,Re);rt.scrollTop=Math.max(0,ze)}},{resetAfterColumnIndex:se,resetAfterRowIndex:de,resetAfter:he}=b.proxy;v({windowRef:S,innerRef:T,getItemStyleCache:E,touchStartX:re,touchStartY:ue,handleTouchStart:ae,handleTouchMove:X,scrollTo:G,scrollToItem:J,states:_,resetAfterColumnIndex:se,resetAfterRowIndex:de,resetAfter:he});const ge=()=>{const{scrollbarAlwaysOn:Ce,scrollbarStartGap:Re,scrollbarEndGap:ze,totalColumn:Ue,totalRow:rt}=g,ht=x(N),ye=x(A),Ge=x(I),at=x(P),{scrollLeft:cn,scrollTop:lt}=x(_),Ft=bt(NH,{ref:$,alwaysOn:Ce,startGap:Re,endGap:ze,class:w.e("horizontal"),clientSize:ht,layout:"horizontal",onScroll:U,ratio:ht*100/Ge,scrollFrom:cn/(Ge-ht),total:rt,visible:!0}),Dt=bt(NH,{ref:k,alwaysOn:Ce,startGap:Re,endGap:ze,class:w.e("vertical"),clientSize:ye,layout:"vertical",onScroll:H,ratio:ye*100/at,scrollFrom:lt/(at-ye),total:Ue,visible:!0});return{horizontalScrollbar:Ft,verticalScrollbar:Dt}},$e=()=>{var Ce;const[Re,ze]=x(F),[Ue,rt]=x(R),{data:ht,totalColumn:ye,totalRow:Ge,useIsScrolling:at,itemKey:cn}=g,lt=[];if(Ge>0&&ye>0)for(let Ft=Ue;Ft<=rt;Ft++)for(let Dt=Re;Dt<=ze;Dt++){const qt=cn({columnIndex:Dt,data:ht,rowIndex:Ft});lt.push(bt(it,{key:qt},(Ce=y.default)==null?void 0:Ce.call(y,{columnIndex:Dt,data:ht,isScrolling:at?x(_).isScrolling:void 0,style:q(Ft,Dt),rowIndex:Ft})))}return lt},He=()=>{const Ce=zt(g.innerElement),Re=$e();return[bt(Ce,Wt(g.innerProps,{style:x(M),ref:T}),ot(Ce)?Re:{default:()=>Re})]};return()=>{const Ce=zt(g.containerElement),{horizontalScrollbar:Re,verticalScrollbar:ze}=ge(),Ue=He();return bt("div",{key:0,class:w.e("wrapper"),role:g.role},[bt(Ce,{class:g.className,style:x(D),onScroll:W,ref:S},ot(Ce)?Ue:{default:()=>Ue}),Re,ze])}}}),{max:xM,min:v5e,floor:y5e}=Math,CEn={column:"columnWidth",row:"rowHeight"},UH={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xh=(e,t,n,r)=>{const[s,o,i]=[n[r],e[CEn[r]],n[UH[r]]];if(t>i){let a=0;if(i>=0){const l=s[i];a=l.offset+l.size}for(let l=i+1;l<=t;l++){const u=o(l);s[l]={offset:a,size:u},a+=u}n[UH[r]]=t}return s[t]},b5e=(e,t,n,r,s,o)=>{for(;n<=r;){const i=n+y5e((r-n)/2),a=xh(e,i,t,o).offset;if(a===s)return i;a<s?n=i+1:r=i-1}return xM(0,n-1)},SEn=(e,t,n,r,s)=>{const o=s==="column"?e.totalColumn:e.totalRow;let i=1;for(;n<o&&xh(e,n,t,s).offset<r;)n+=i,i*=2;return b5e(e,t,y5e(n/2),v5e(n,o-1),r,s)},_0e=(e,t,n,r)=>{const[s,o]=[t[r],t[UH[r]]];return(o>0?s[o].offset:0)>=n?b5e(e,t,0,o,n,r):SEn(e,t,xM(0,o),n,r)},w5e=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=e&&(n=e-1),n>=0){const a=r[n];s=a.offset+a.size}const i=(e-n-1)*t;return s+i},x5e=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>e&&(r=e-1),r>=0){const a=t[r];s=a.offset+a.size}const i=(e-r-1)*n;return s+i},$En={column:x5e,row:w5e},T0e=(e,t,n,r,s,o,i)=>{const[a,l]=[o==="row"?e.height:e.width,$En[o]],u=xh(e,t,s,o),c=l(e,s),f=xM(0,v5e(c-a,u.offset)),d=xM(0,u.offset-a+i+u.size);switch(n===N5&&(r>=d-a&&r<=f+a?n=Au:n=Wf),n){case y_:return f;case b_:return d;case Wf:return Math.round(d+(f-d)/2);case Au:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},kEn=m5e({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=xh(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=xh(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,s,o)=>T0e(e,t,n,r,s,"column",o),getRowOffset:(e,t,n,r,s,o)=>T0e(e,t,n,r,s,"row",o),getColumnStartIndexForOffset:(e,t,n)=>_0e(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const s=xh(e,t,r,"column"),o=n+e.width;let i=s.offset+s.size,a=t;for(;a<e.totalColumn-1&&i<o;)a++,i+=xh(e,t,r,"column").size;return a},getEstimatedTotalHeight:w5e,getEstimatedTotalWidth:x5e,getRowStartIndexForOffset:(e,t,n)=>_0e(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:s,height:o}=e,i=xh(e,t,r,"row"),a=n+o;let l=i.size+i.offset,u=t;for(;u<s-1&&l<a;)u++,l+=xh(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:o,rowIndex:i},a)=>{var l,u;a=yn(a)?!0:a,pt(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),pt(i)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,i-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),a&&((u=e.proxy)==null||u.$forceUpdate())},r=(o,i)=>{n({columnIndex:o},i)},s=(o,i)=>{n({rowIndex:o},i)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:e=kH,estimatedRowHeight:t=kH})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),EEn=m5e({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,s,o,i,a)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+a+t);switch(s==="smart"&&(o>=c-n&&o<=u+n?s=Au:s=Wf),s){case y_:return u;case b_:return c;case Wf:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Au:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,s,o,i,a)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+a+e);switch(s===N5&&(o>=c-t&&o<=u+t?s=Au:s=Wf),s){case y_:return u;case b_:return c;case Wf:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case Au:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,s)=>{const o=r*e,i=Math.ceil((n+s-o)/e);return Math.max(0,Math.min(t-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,s)=>{const o=r*e,i=Math.ceil((n+s-o)/e);return Math.max(0,Math.min(t-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),_En="ElTableV2Grid",TEn=e=>{const t=j(),n=j(),r=j(0),s=O(()=>{const{data:m,rowHeight:v,estimatedRowHeight:y}=e;if(!y)return m.length*v}),o=O(()=>{const{fixedData:m,rowHeight:v}=e;return(m?.length||0)*v}),i=O(()=>oO(e.headerHeight)),a=O(()=>{const{height:m}=e;return Math.max(0,m-x(i)-x(o))}),l=O(()=>x(i)+x(o)>0),u=({data:m,rowIndex:v})=>m[v][e.rowKey];function c({rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:w}){var b;(b=e.onRowsRendered)==null||b.call(e,{rowCacheStart:m,rowCacheEnd:v,rowVisibleStart:y,rowVisibleEnd:w})}function f(m,v){var y;(y=n.value)==null||y.resetAfterRowIndex(m,v)}function d(m,v){const y=x(t),w=x(n);Pt(m)?(y?.scrollToLeft(m.scrollLeft),r.value=m.scrollLeft,w?.scrollTo(m)):(y?.scrollToLeft(m),r.value=m,w?.scrollTo({scrollLeft:m,scrollTop:v}))}function h(m){var v;(v=x(n))==null||v.scrollTo({scrollTop:m})}function p(m,v){var y;(y=x(n))==null||y.scrollToItem(m,1,v)}function g(){var m,v;(m=x(n))==null||m.$forceUpdate(),(v=x(t))==null||v.$forceUpdate()}return xe(()=>e.bodyWidth,()=>{var m;pt(e.estimatedRowHeight)&&((m=n.value)==null||m.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:o,gridHeight:a,hasHeader:l,headerHeight:i,headerRef:t,totalHeight:s,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},AEn=me({name:_En,props:iO,setup(e,{slots:t,expose:n}){const{ns:r}=tt(cre),{bodyRef:s,fixedRowHeight:o,gridHeight:i,hasHeader:a,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:g,scrollToTop:m,scrollToRow:v,scrollLeft:y}=TEn(e);ln(d5e,y),FM(async()=>{var b;await Ye();const C=(b=s.value)==null?void 0:b.states.scrollTop;C&&m(Math.round(C)+1)}),n({forceUpdate:f,totalHeight:c,scrollTo:g,scrollToTop:m,scrollToRow:v,resetAfterRowIndex:p});const w=()=>e.bodyWidth;return()=>{const{cache:b,columns:C,data:S,fixedData:$,useIsScrolling:k,scrollbarAlwaysOn:T,scrollbarEndGap:_,scrollbarStartGap:E,style:A,rowHeight:N,bodyWidth:F,estimatedRowHeight:R,headerWidth:P,height:I,width:D,getRowHeight:M,onScroll:z}=e,W=pt(R),H=W?kEn:EEn,U=x(u);return ee("div",{role:"table",class:[r.e("table"),e.class],style:A},[ee(H,{ref:s,data:S,useIsScrolling:k,itemKey:d,columnCache:0,columnWidth:W?w:F,totalColumn:1,totalRow:S.length,rowCache:b,rowHeight:W?M:N,width:D,height:x(i),class:r.e("body"),role:"rowgroup",scrollbarStartGap:E,scrollbarEndGap:_,scrollbarAlwaysOn:T,onScroll:z,onItemRendered:h,perfMode:!1},{default:K=>{var G;const re=S[K.rowIndex];return(G=t.row)==null?void 0:G.call(t,{...K,columns:C,rowData:re})}}),x(a)&&ee(bEn,{ref:l,class:r.e("header-wrapper"),columns:C,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:$,rowWidth:P,rowHeight:N,width:D,height:Math.min(U+x(o),I)},{dynamic:t.header,fixed:t.row})])}}});var hre=AEn;function IEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const NEn=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return ee(hre,Wt({ref:n},r),IEn(t)?t:{default:()=>[t]})};var DEn=NEn;function OEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const REn=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return ee(hre,Wt({ref:n},r),OEn(t)?t:{default:()=>[t]})};var FEn=REn;function MEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const PEn=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return ee(hre,Wt({ref:n},r),MEn(t)?t:{default:()=>[t]})};var LEn=PEn;const BEn=e=>{const{isScrolling:t}=tt(cre),n=j(!1),r=j(),s=O(()=>pt(e.estimatedRowHeight)&&e.rowIndex>=0),o=(l=!1)=>{const u=x(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=e,{height:g}=u.getBoundingClientRect();n.value=!0,Ye(()=>{if(l||g!==Number.parseInt(p.height)){const m=c[0],v=m?.placeholderSign===S_;f?.({rowKey:d,height:g,rowIndex:h},m&&!v&&m.fixed)}})},i=O(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,g])=>{ft(g)&&(h[p]=m=>{g({event:m,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:g})=>{const m=h[p];h[p]=v=>{f({event:v,hovered:g,rowData:l,rowIndex:u,rowKey:c}),m?.(v)}}),h}),a=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u?.({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return Ht(()=>{x(s)&&o(!0)}),{isScrolling:t,measurable:s,measured:n,rowRef:r,eventHandlers:i,onExpand:a}},zEn="ElTableV2TableRow",VEn=me({name:zEn,props:zv,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:o,measurable:i,measured:a,rowRef:l,onExpand:u}=BEn(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:g,style:m}=e;let v=c.map((y,w)=>{const b=De(p.children)&&p.children.length>0&&y.key===d;return n.cell({column:y,columns:c,columnIndex:w,depth:h,style:f[y.key],rowData:p,rowIndex:g,isScrolling:x(o),expandIconProps:b?{rowData:p,rowIndex:g,onExpand:u}:void 0})});if(n.row&&(v=n.row({cells:v.map(y=>De(y)&&y.length===1?y[0]:y),style:m,columns:c,depth:h,rowData:p,rowIndex:g,isScrolling:x(o)})),x(i)){const{height:y,...w}=m||{},b=x(a);return ee("div",Wt({ref:l,class:e.class,style:b?m:w,role:"row"},r,x(s)),[v])}return ee("div",Wt(r,{ref:l,class:e.class,style:m,role:"row"},x(s)),[v])}}});var WEn=VEn;function UEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const jEn=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:o,expandedRowKeys:i,estimatedRowHeight:a,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:g,rowEventHandlers:m,ns:v,onRowHovered:y,onRowExpanded:w}=e,b=Q1(p,{columns:n,rowData:u,rowIndex:c},""),C=Q1(h,{columns:n,rowData:u,rowIndex:c}),S=u[g],$=s[S]||0,k=!!o,T=c<0,_=[v.e("row"),b,v.is("expanded",k&&i.includes(S)),v.is("fixed",!$&&T),v.is("customized",!!t.row),{[v.e(`row-depth-${$}`)]:k&&c>=0}],E=l?y:void 0,A={...C,columns:n,columnsStyles:r,class:_,depth:$,expandColumnKey:o,estimatedRowHeight:T?void 0:a,isScrolling:d,rowIndex:c,rowData:u,rowKey:S,rowEventHandlers:m,style:f};return ee(WEn,Wt(A,{onRowExpand:w,onMouseenter:R=>{E?.({hovered:!0,rowKey:S,event:R,rowData:u,rowIndex:c})},onMouseleave:R=>{E?.({hovered:!1,rowKey:S,event:R,rowData:u,rowIndex:c})},rowkey:S}),UEn(t)?t:{default:()=>[t]})};var HEn=jEn;const pre=(e,{slots:t})=>{var n;const{cellData:r,style:s}=e,o=((n=r?.toString)==null?void 0:n.call(r))||"",i=ce(t,"default",e,()=>[o]);return ee("div",{class:e.class,title:o,style:s},[i])};pre.displayName="ElTableV2Cell";pre.inheritAttrs=!1;var qEn=pre;const GEn=e=>{const{expanded:t,expandable:n,onExpand:r,style:s,size:o,ariaLabel:i}=e,a={onClick:n?()=>r(!t):void 0,ariaLabel:i,ariaExpanded:t,class:e.class};return ee("button",Wt(a,{type:"button"}),[ee(st,{size:o,style:s},{default:()=>[ee(aa,null,null)]})])};var KEn=GEn;const C5e=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:s,isScrolling:o,rowData:i,rowIndex:a,style:l,expandedRowKeys:u,ns:c,t:f,cellProps:d,expandColumnKey:h,indentSize:p,iconSize:g,rowKey:m},{slots:v})=>{const y=qg(l);if(t.placeholderSign===S_)return ee("div",{class:c.em("row-cell","placeholder"),style:y},null);const{cellRenderer:w,dataKey:b,dataGetter:C}=t,S=ft(C)?C({columns:e,column:t,columnIndex:n,rowData:i,rowIndex:a}):Es(i,b??""),$=Q1(d,{cellData:S,columns:e,column:t,columnIndex:n,rowIndex:a,rowData:i}),k={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:S,isScrolling:o,rowData:i,rowIndex:a},T=f5e(w),_=T?T(k):ce(v,"default",k,()=>[ee(qEn,k,null)]),E=[c.e("row-cell"),t.class,t.align===C_.CENTER&&c.is("align-center"),t.align===C_.RIGHT&&c.is("align-right")],A=a>=0&&h&&t.key===h,N=a>=0&&u.includes(i[m]);let F;const R=`margin-inline-start: ${r*p}px;`;return A&&(Pt(s)?F=ee(KEn,Wt(s,{class:[c.e("expand-icon"),c.is("expanded",N)],size:g,expanded:N,ariaLabel:f(N?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:R,expandable:!0}),null):F=ee("div",{style:[R,`width: ${g}px; height: ${g}px;`].join(" ")},null)),ee("div",Wt({class:E,style:y},$,{role:"cell"}),[F,_])};C5e.inheritAttrs=!1;var A0e=C5e;const YEn=Me({class:String,columns:RI,columnsStyles:{type:oe(Object),required:!0},headerIndex:Number,style:{type:oe(Object)}}),XEn=me({name:"ElTableV2HeaderRow",props:YEn,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:o}=e;let i=n.map((a,l)=>t.cell({columns:n,column:a,columnIndex:l,headerIndex:s,style:r[a.key]}));return t.header&&(i=t.header({cells:i.map(a=>De(a)&&a.length===1?a[0]:a),columns:n,headerIndex:s})),ee("div",{class:e.class,style:o,role:"row"},[i])}}});var ZEn=XEn;function JEn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const QEn=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:s,headerProps:o,ns:i},{slots:a})=>{const l={columns:e,headerIndex:n},u=[i.e("header-row"),Q1(s,l,""),i.is("customized",!!a.header)],c={...Q1(o,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return ee(ZEn,c,JEn(a)?a:{default:()=>[a]})};var e_n=QEn;const gre=(e,{slots:t})=>ce(t,"default",e,()=>{var n,r;return[ee("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});gre.displayName="ElTableV2HeaderCell";gre.inheritAttrs=!1;var t_n=gre;const n_n=e=>{const{sortOrder:t}=e;return ee("button",{type:"button","aria-label":e.ariaLabel,class:e.class},[ee(st,{size:14},{default:()=>[t===Bv.ASC?ee(rfn,null,null):ee(tfn,null,null)]})])};var r_n=n_n;const s_n=(e,{slots:t})=>{const{column:n,ns:r,t:s,style:o,onColumnSorted:i}=e,a=qg(o);if(n.placeholderSign===S_)return ee("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:l,headerClass:u,sortable:c}=n,f={...e,class:r.e("header-cell-text")},d=f5e(l),h=d?d(f):ce(t,"default",f,()=>[ee(t_n,f,null)]),{sortBy:p,sortState:g,headerCellProps:m}=e;let v,y,w;if(g){const S=g[n.key];v=!!WH[S],y=v?S:Bv.ASC}else v=n.key===p.key,y=v?p.order:Bv.ASC;y===Bv.ASC?w="ascending":y===Bv.DESC?w="descending":w=void 0;const b=[r.e("header-cell"),Q1(u,e,""),n.align===C_.CENTER&&r.is("align-center"),n.align===C_.RIGHT&&r.is("align-right"),c&&r.is("sortable")],C={...Q1(m,e),onClick:n.sortable?i:void 0,ariaSort:c?w:void 0,class:b,style:a,"data-key":n.key};return ee("div",Wt(C,{role:"columnheader"}),[h,c&&ee(r_n,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:y,ariaLabel:s("el.table.sortLabel",{column:n.title||""})},null)])};var I0e=s_n;const S5e=(e,{slots:t})=>{var n;return ee("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};S5e.displayName="ElTableV2Footer";var o_n=S5e;const $5e=(e,{slots:t})=>{const n=ce(t,"default",{},()=>[ee(p6e,null,null)]);return ee("div",{class:e.class,style:e.style},[n])};$5e.displayName="ElTableV2Empty";var i_n=$5e;const k5e=(e,{slots:t})=>{var n;return ee("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};k5e.displayName="ElTableV2Overlay";var a_n=k5e;function ZS(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!or(e)}const l_n="ElTableV2",u_n=me({name:l_n,props:mEn,setup(e,{slots:t,expose:n}){const r=Ae("table-v2"),{t:s}=un(),{columnsStyles:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:l,mainTableHeight:u,fixedTableHeight:c,leftTableWidth:f,rightTableWidth:d,data:h,depthMap:p,expandedRowKeys:g,hasFixedColumns:m,mainTableRef:v,leftTableRef:y,rightTableRef:w,isDynamic:b,isResetting:C,isScrolling:S,bodyWidth:$,emptyStyle:k,rootStyle:T,footerHeight:_,showEmpty:E,scrollTo:A,scrollToLeft:N,scrollToTop:F,scrollToRow:R,getRowHeight:P,onColumnSorted:I,onRowHeightChange:D,onRowHovered:M,onRowExpanded:z,onRowsRendered:W,onScroll:H,onVerticalScroll:U}=pEn(e);return n({scrollTo:A,scrollToLeft:N,scrollToTop:F,scrollToRow:R}),ln(cre,{ns:r,isResetting:C,isScrolling:S}),()=>{const{cache:K,cellProps:G,estimatedRowHeight:re,expandColumnKey:ue,fixedData:ae,headerHeight:X,headerClass:J,headerProps:q,headerCellProps:L,sortBy:Q,sortState:se,rowHeight:de,rowClass:he,rowEventHandlers:ge,rowKey:$e,rowProps:He,scrollbarAlwaysOn:Ie,indentSize:Ce,iconSize:Re,useIsScrolling:ze,vScrollbarSize:Ue,width:rt}=e,ht=x(h),ye={cache:K,class:r.e("main"),columns:x(l),data:ht,fixedData:ae,estimatedRowHeight:re,bodyWidth:x($),headerHeight:X,headerWidth:x($),height:x(u),mainTableRef:v,rowKey:$e,rowHeight:de,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,useIsScrolling:ze,width:rt,getRowHeight:P,onRowsRendered:W,onScroll:H},Ge=x(f),at=x(c),cn={cache:K,class:r.e("left"),columns:x(i),data:ht,fixedData:ae,estimatedRowHeight:re,leftTableRef:y,rowHeight:de,bodyWidth:Ge,headerWidth:Ge,headerHeight:X,height:at,rowKey:$e,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,useIsScrolling:ze,width:Ge,getRowHeight:P,onScroll:U},lt=x(d),Ft={cache:K,class:r.e("right"),columns:x(a),data:ht,fixedData:ae,estimatedRowHeight:re,rightTableRef:w,rowHeight:de,bodyWidth:lt,headerWidth:lt,headerHeight:X,height:at,rowKey:$e,scrollbarAlwaysOn:Ie,scrollbarStartGap:2,scrollbarEndGap:Ue,width:lt,style:`${r.cssVarName("table-scrollbar-size")}: ${Ue}px`,useIsScrolling:ze,getRowHeight:P,onScroll:U},Dt=x(o),qt={ns:r,depthMap:x(p),columnsStyles:Dt,expandColumnKey:ue,expandedRowKeys:x(g),estimatedRowHeight:re,hasFixedColumns:x(m),rowProps:He,rowClass:he,rowKey:$e,rowEventHandlers:ge,onRowHovered:M,onRowExpanded:z,onRowHeightChange:D},Te={cellProps:G,expandColumnKey:ue,indentSize:Ce,iconSize:Re,rowKey:$e,expandedRowKeys:x(g),ns:r,t:s},Xe={ns:r,headerClass:J,headerProps:q,columnsStyles:Dt},Se={ns:r,t:s,sortBy:Q,sortState:se,headerCellProps:L,onColumnSorted:I},ct={row:Ne=>ee(HEn,Wt(Ne,qt),{row:t.row,cell:nt=>{let wt;return t.cell?ee(A0e,Wt(nt,Te,{style:Dt[nt.column.key]}),ZS(wt=t.cell(nt))?wt:{default:()=>[wt]}):ee(A0e,Wt(nt,Te,{style:Dt[nt.column.key]}),null)}}),header:Ne=>ee(e_n,Wt(Ne,Xe),{header:t.header,cell:nt=>{let wt;return t["header-cell"]?ee(I0e,Wt(nt,Se,{style:Dt[nt.column.key]}),ZS(wt=t["header-cell"](nt))?wt:{default:()=>[wt]}):ee(I0e,Wt(nt,Se,{style:Dt[nt.column.key]}),null)}})},Yt=[e.class,r.b(),r.e("root"),r.is("dynamic",x(b))],Gn={class:r.e("footer"),style:x(_)};return ee("div",{class:Yt,style:x(T)},[ee(DEn,ye,ZS(ct)?ct:{default:()=>[ct]}),ee(FEn,cn,ZS(ct)?ct:{default:()=>[ct]}),ee(LEn,Ft,ZS(ct)?ct:{default:()=>[ct]}),t.footer&&ee(o_n,Gn,{default:t.footer}),x(E)&&ee(i_n,{class:r.e("empty"),style:x(k)},{default:t.empty}),t.overlay&&ee(a_n,{class:r.e("overlay")},{default:t.overlay})])}}});var c_n=u_n;const f_n=Me({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:oe(Function)}}),d_n=e=>{const t=j(),n=j(0),r=j(0);let s;return Ht(()=>{s=Cr(t,([o])=>{const{width:i,height:a}=o.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(o.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,g=Number.parseInt(f)||0;n.value=i-d-h,r.value=a-p-g}).stop}),Dn(()=>{s?.()}),xe([n,r],([o,i])=>{var a;(a=e.onResize)==null||a.call(e,{width:o,height:i})}),{sizer:t,width:n,height:r}},h_n=me({name:"ElAutoResizer",props:f_n,setup(e,{slots:t}){const n=Ae("auto-resizer"),{height:r,width:s,sizer:o}=d_n(e),i={width:"100%",height:"100%"};return()=>{var a;return ee("div",{ref:o,class:n.b(),style:i},[(a=t.default)==null?void 0:a.call(t,{height:r.value,width:s.value})])}}});var p_n=h_n;const g_n=Rt(c_n),m_n=Rt(p_n),D5=Symbol("tabsRootContextKey"),v_n=Me({tabs:{type:oe(Array),default:()=>zr([])},tabRefs:{type:oe(Object),default:()=>zr({})}}),N0e="ElTabBar",y_n=me({name:N0e,__name:"tab-bar",props:v_n,setup(e,{expose:t}){const n=e,r=tt(D5);r||Ts(N0e,"<el-tabs><el-tab-bar /></el-tabs>");const s=Ae("tabs"),o=j(),i=j(),a=O(()=>{var h;return yn(r.props.defaultValue)||!!((h=i.value)!=null&&h.transform)}),l=()=>{let h=0,p=0;const g=["top","bottom"].includes(r.props.tabPosition)?"width":"height",m=g==="width"?"x":"y",v=m==="x"?"left":"top";return n.tabs.every(y=>{if(yn(y.paneName))return!1;const w=n.tabRefs[y.paneName];if(!w)return!1;if(!y.active)return!0;h=w[`offset${Tg(v)}`],p=w[`client${Tg(g)}`];const b=window.getComputedStyle(w);return g==="width"&&(p-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight),h+=Number.parseFloat(b.paddingLeft)),!1}),{[g]:`${p}px`,transform:`translate${Tg(m)}(${h}px)`}},u=()=>i.value=l(),c=[],f=()=>{c.forEach(h=>h.stop()),c.length=0,Object.values(n.tabRefs).forEach(h=>{c.push(Cr(h,u))})};xe(()=>n.tabs,async()=>{await Ye(),u(),f()},{immediate:!0});const d=Cr(o,()=>u());return Dn(()=>{c.forEach(h=>h.stop()),c.length=0,d.stop()}),t({ref:o,update:u}),(h,p)=>a.value?(B(),Y("div",{key:0,ref_key:"barRef",ref:o,class:V([x(s).e("active-bar"),x(s).is(x(r).props.tabPosition)]),style:dt(i.value)},null,6)):fe("v-if",!0)}});var b_n=Ve(y_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const w_n=Me({panes:{type:oe(Array),default:()=>zr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),x_n={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},D0e="ElTabNav",C_n=me({name:D0e,props:w_n,emits:x_n,setup(e,{expose:t,emit:n}){const r=tt(D5);r||Ts(D0e,"<el-tabs><tab-nav /></el-tabs>");const s=Ae("tabs"),o=Dun(),i=Run(),a=j(),l=j(),u=j(),c=j({}),f=j(),d=j(!1),h=j(0),p=j(!1),g=j(!0),m=cr(),v=O(()=>["top","bottom"].includes(r.props.tabPosition)),y=O(()=>v.value?"width":"height"),w=O(()=>({transform:`translate${y.value==="width"?"X":"Y"}(-${h.value}px)`})),{width:b,height:C}=sH(a),{width:S,height:$}=sH(l,{width:0,height:0},{box:"border-box"}),k=O(()=>v.value?b.value:C.value),T=O(()=>v.value?S.value:$.value),{onWheel:_}=I6e({atStartEdge:O(()=>h.value<=0),atEndEdge:O(()=>T.value-h.value<=k.value),layout:O(()=>v.value?"horizontal":"vertical")},z=>{h.value=p5(h.value+z,0,T.value-k.value)}),E=()=>{if(!a.value)return;const z=a.value[`offset${Tg(y.value)}`],W=h.value;if(!W)return;const H=W>z?W-z:0;h.value=H},A=()=>{if(!a.value||!l.value)return;const z=l.value[`offset${Tg(y.value)}`],W=a.value[`offset${Tg(y.value)}`],H=h.value;if(z-H<=W)return;const U=z-H>W*2?H+W:z-W;h.value=U},N=async()=>{const z=l.value;if(!d.value||!u.value||!a.value||!z)return;await Ye();const W=c.value[e.currentName];if(!W)return;const H=a.value,U=W.getBoundingClientRect(),K=H.getBoundingClientRect(),G=v.value?z.offsetWidth-K.width:z.offsetHeight-K.height,re=h.value;let ue=re;v.value?(U.left<K.left&&(ue=re-(K.left-U.left)),U.right>K.right&&(ue=re+U.right-K.right)):(U.top<K.top&&(ue=re-(K.top-U.top)),U.bottom>K.bottom&&(ue=re+(U.bottom-K.bottom))),ue=Math.max(ue,0),h.value=Math.min(ue,G)},F=()=>{var z;if(!l.value||!a.value)return;e.stretch&&((z=f.value)==null||z.update());const W=l.value[`offset${Tg(y.value)}`],H=a.value[`offset${Tg(y.value)}`],U=h.value;H<W?(d.value=d.value||{},d.value.prev=U,d.value.next=U+H<W,W-U<H&&(h.value=W-H)):(d.value=!1,U>0&&(h.value=0))},R=z=>{const W=Hn(z);let H=0;switch(W){case Oe.left:case Oe.up:H=-1;break;case Oe.right:case Oe.down:H=1;break;default:return}const U=Array.from(z.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let G=U.indexOf(z.target)+H;G<0?G=U.length-1:G>=U.length&&(G=0),U[G].focus({preventScroll:!0}),U[G].click(),P()},P=()=>{g.value&&(p.value=!0)},I=()=>p.value=!1,D=(z,W)=>{c.value[W]=z},M=async()=>{await Ye();const z=c.value[e.currentName];z?.focus({preventScroll:!0})};return xe(o,z=>{z==="hidden"?g.value=!1:z==="visible"&&setTimeout(()=>g.value=!0,50)}),xe(i,z=>{z?setTimeout(()=>g.value=!0,50):g.value=!1}),Cr(u,()=>{_d(F)}),Ht(()=>setTimeout(()=>N(),0)),Yc(()=>F()),t({scrollToActiveTab:N,removeFocus:I,focusActiveTab:M,tabListRef:l,tabBarRef:f,scheduleRender:()=>GD(m)}),()=>{const z=d.value?[ee("span",{class:[s.e("nav-prev"),s.is("disabled",!d.value.prev)],onClick:E},[ee(st,null,{default:()=>[ee(bp,null,null)]})]),ee("span",{class:[s.e("nav-next"),s.is("disabled",!d.value.next)],onClick:A},[ee(st,null,{default:()=>[ee(aa,null,null)]})])]:null,W=e.panes.map((H,U)=>{var K,G,re,ue,ae;const X=H.uid,J=H.props.disabled,q=(G=(K=H.props.name)!=null?K:H.index)!=null?G:`${U}`,L=!J&&(H.isClosable||H.props.closable!==!1&&e.editable);H.index=`${U}`;const Q=L?ee(st,{class:"is-icon-close",onClick:he=>n("tabRemove",H,he)},{default:()=>[ee(Hu,null,null)]}):null,se=((ue=(re=H.slots).label)==null?void 0:ue.call(re))||H.props.label,de=!J&&H.active?(ae=e.tabindex)!=null?ae:r.props.tabindex:-1;return ee("div",{ref:he=>D(he,q),class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",H.active),s.is("disabled",J),s.is("closable",L),s.is("focus",p.value)],id:`tab-${q}`,key:`tab-${X}`,"aria-controls":`pane-${q}`,role:"tab","aria-selected":H.active,tabindex:de,onFocus:()=>P(),onBlur:()=>I(),onClick:he=>{I(),n("tabClick",H,q,he)},onKeydown:he=>{const ge=Hn(he);L&&(ge===Oe.delete||ge===Oe.backspace)&&n("tabRemove",H,he)}},[se,Q])});return m.value,ee("div",{ref:u,class:[s.e("nav-wrap"),s.is("scrollable",!!d.value),s.is(r.props.tabPosition)]},[z,ee("div",{class:s.e("nav-scroll"),ref:a},[e.panes.length>0?ee("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:w.value,role:"tablist",onKeydown:R,onWheel:_},[e.type?null:ee(b_n,{ref:f,tabs:[...e.panes],tabRefs:c.value},null),W]):null])])}}}),S_n=Me({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:oe(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),Y7=e=>ot(e)||pt(e),$_n={[Et]:e=>Y7(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Y7(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Y7(e),tabAdd:()=>!0},k_n=me({name:"ElTabs",props:S_n,emits:$_n,setup(e,{emit:t,slots:n,expose:r}){var s;const o=Ae("tabs"),i=O(()=>["left","right"].includes(e.tabPosition)),{children:a,addChild:l,removeChild:u,ChildrenSorter:c}=$5(Ut(),"ElTabPane"),f=j(),d=j((s=yn(e.modelValue)?e.defaultValue:e.modelValue)!=null?s:"0"),h=async(w,b=!1)=>{var C,S,$,k;if(!(d.value===w||yn(w)))try{let T;if(e.beforeLeave){const _=e.beforeLeave(w,d.value);T=_ instanceof Promise?await _:_}else T=!0;if(T!==!1){const _=(C=a.value.find(E=>E.paneName===d.value))==null?void 0:C.isFocusInsidePane();d.value=w,b&&(t(Et,w),t("tabChange",w)),($=(S=f.value)==null?void 0:S.removeFocus)==null||$.call(S),_&&((k=f.value)==null||k.focusActiveTab())}}catch{}},p=(w,b,C)=>{w.props.disabled||(t("tabClick",w,C),h(b,!0))},g=(w,b)=>{w.props.disabled||yn(w.props.name)||(b.stopPropagation(),t("edit",w.props.name,"remove"),t("tabRemove",w.props.name))},m=()=>{t("edit",void 0,"add"),t("tabAdd")},v=w=>{const b=Hn(w);[Oe.enter,Oe.numpadEnter].includes(b)&&m()},y=w=>{const b=w.el.firstChild,C=["bottom","right"].includes(e.tabPosition)?w.children[0].el:w.children[1].el;b!==C&&b.before(C)};return xe(()=>e.modelValue,w=>h(w)),xe(d,async()=>{var w;await Ye(),(w=f.value)==null||w.scrollToActiveTab()}),ln(D5,{props:e,currentName:d,registerPane:l,unregisterPane:u,nav$:f}),r({currentName:d,get tabNavRef(){return vI(f.value,["scheduleRender"])}}),()=>{const w=n["add-icon"],b=e.editable||e.addable?ee("div",{class:[o.e("new-tab"),i.value&&o.e("new-tab-vertical")],tabindex:e.tabindex,onClick:m,onKeydown:v},[w?ce(n,"add-icon"):ee(st,{class:o.is("icon-plus")},{default:()=>[ee(gLe,null,null)]})]):null,C=()=>ee(C_n,{ref:f,currentName:d.value,editable:e.editable,type:e.type,panes:a.value,stretch:e.stretch,onTabClick:p,onTabRemove:g},null),S=ee("div",{class:[o.e("header"),i.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[ee(c,null,{default:C,$stable:!0}),b]),$=ee("div",{class:o.e("content")},[ce(n,"default")]);return ee("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}],onVnodeMounted:y,onVnodeUpdated:y},[$,S])}}}),E_n=Me({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),__n=["id","aria-hidden","aria-labelledby"],O0e="ElTabPane",T_n=me({name:O0e,__name:"tab-pane",props:E_n,setup(e){const t=e,n=Ut(),r=Ms(),s=tt(D5);s||Ts(O0e,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Ae("tab-pane"),i=j(),a=j(),l=O(()=>{var g;return(g=t.closable)!=null?g:s.props.closable}),u=O(()=>{var g;return s.currentName.value===((g=t.name)!=null?g:a.value)}),c=j(u.value),f=O(()=>{var g;return(g=t.name)!=null?g:a.value}),d=O(()=>!t.lazy||c.value||u.value),h=()=>{var g;return(g=i.value)==null?void 0:g.contains(document.activeElement)};xe(u,g=>{g&&(c.value=!0)});const p=In({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:t,paneName:f,active:u,index:a,isClosable:l,isFocusInsidePane:h});return s.registerPane(p),Dn(()=>{s.unregisterPane(p)}),yq(()=>{var g;r.label&&((g=s.nav$.value)==null||g.scheduleRender())}),(g,m)=>d.value?Lt((B(),Y("div",{key:0,id:`pane-${f.value}`,ref_key:"paneRef",ref:i,class:V(x(o).b()),role:"tabpanel","aria-hidden":!u.value,"aria-labelledby":`tab-${f.value}`},[ce(g.$slots,"default")],10,__n)),[[Sn,u.value]]):fe("v-if",!0)}});var E5e=Ve(T_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const A_n=Rt(k_n,{TabPane:E5e}),I_n=Ur(E5e),N_n=Me({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:eh,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),D_n=me({name:"ElText",__name:"text",props:N_n,setup(e){const t=e,n=j(),r=Fs(),s=Ae("text"),o=O(()=>[s.b(),s.m(t.type),s.m(r.value),s.is("truncated",t.truncated),s.is("line-clamp",!yn(t.lineClamp))]),i=()=>{var a,l,u,c,f,d,h;if($p().title)return;let g=!1;const m=((a=n.value)==null?void 0:a.textContent)||"";if(t.truncated){const v=(l=n.value)==null?void 0:l.offsetWidth,y=(u=n.value)==null?void 0:u.scrollWidth;v&&y&&y>v&&(g=!0)}else if(!yn(t.lineClamp)){const v=(c=n.value)==null?void 0:c.offsetHeight,y=(f=n.value)==null?void 0:f.scrollHeight;v&&y&&y>v&&(g=!0)}g?(d=n.value)==null||d.setAttribute("title",m):(h=n.value)==null||h.removeAttribute("title")};return Ht(i),Yc(i),(a,l)=>(B(),pe(zt(a.tag),{ref_key:"textRef",ref:n,class:V(o.value),style:dt({"-webkit-line-clamp":a.lineClamp})},{default:ie(()=>[ce(a.$slots,"default")]),_:3},8,["class","style"]))}});var O_n=Ve(D_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const mre=Rt(O_n),R_n=Me({format:{type:String,default:"HH:mm"},modelValue:{type:oe(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:oe(String),default:"light"},clearable:{type:Boolean,default:!0},size:js,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:oe(String)},maxTime:{type:oe(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:oe([String,Object]),default:()=>pLe},clearIcon:{type:oe([String,Object]),default:()=>jp},popperClass:{type:String,default:""},popperStyle:{type:oe([String,Object])},...sb}),Ah=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),s=e.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},X7=(e,t)=>{const n=Ah(e);if(!n)return-1;const r=Ah(t);if(!r)return-1;const s=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return s===o?0:s>o?1:-1},R0e=e=>`${e}`.padStart(2,"0"),Wb=e=>`${R0e(e.hours)}:${R0e(e.minutes)}`,F_n=(e,t)=>{const n=Ah(e);if(!n)return"";const r=Ah(t);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,Wb(s)},M_n=me({name:"ElTimeSelect",__name:"time-select",props:R_n,emits:[en,"blur","focus","clear",Et],setup(e,{expose:t}){Mt.extend(One);const{Option:n}=Ux,r=e,s=Ae("input"),o=j(),i=jr(),{lang:a}=un(),l=O(()=>r.modelValue),u=O(()=>{const v=Ah(r.start);return v?Wb(v):null}),c=O(()=>{const v=Ah(r.end);return v?Wb(v):null}),f=O(()=>{const v=Ah(r.step);return v?Wb(v):null}),d=O(()=>{const v=Ah(r.minTime||"");return v?Wb(v):null}),h=O(()=>{const v=Ah(r.maxTime||"");return v?Wb(v):null}),p=O(()=>{var v;const y=[],w=(b,C)=>{y.push({value:b,disabled:X7(C,d.value||"-1:-1")<=0||X7(C,h.value||"100:100")>=0})};if(r.start&&r.end&&r.step){let b=u.value,C;for(;b&&c.value&&X7(b,c.value)<=0;)C=Mt(b,"HH:mm").locale(a.value).format(r.format),w(C,b),b=F_n(b,f.value);if(r.includeEndTime&&c.value&&((v=y[y.length-1])==null?void 0:v.value)!==c.value){const S=Mt(c.value,"HH:mm").locale(a.value).format(r.format);w(S,c.value)}}return y});return t({blur:()=>{var v,y;(y=(v=o.value)==null?void 0:v.blur)==null||y.call(v)},focus:()=>{var v,y;(y=(v=o.value)==null?void 0:v.focus)==null||y.call(v)}}),(v,y)=>(B(),pe(x(Ux),{ref_key:"select",ref:o,"model-value":l.value,disabled:x(i),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"popper-class":v.popperClass,"popper-style":v.popperStyle,"onUpdate:modelValue":y[0]||(y[0]=w=>v.$emit(x(Et),w)),onChange:y[1]||(y[1]=w=>v.$emit(x(en),w)),onBlur:y[2]||(y[2]=w=>v.$emit("blur",w)),onFocus:y[3]||(y[3]=w=>v.$emit("focus",w)),onClear:y[4]||(y[4]=()=>v.$emit("clear"))},{prefix:ie(()=>[v.prefixIcon?(B(),pe(x(st),{key:0,class:V(x(s).e("prefix-icon"))},{default:ie(()=>[(B(),pe(zt(v.prefixIcon)))]),_:1},8,["class"])):fe("v-if",!0)]),default:ie(()=>[(B(!0),Y(it,null,Xt(p.value,w=>(B(),pe(x(n),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","popper-class","popper-style"]))}});var P_n=Ve(M_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);const L_n=Rt(P_n),B_n="timeline",z_n=me({name:"ElTimeline",props:{reverse:Boolean},setup(e,{slots:t}){const n=Ae("timeline");return ln(B_n,t),()=>{var r,s;const o=Cc((s=(r=t.default)==null?void 0:r.call(t))!=null?s:[]).filter(i=>{var a;return((a=i?.type)==null?void 0:a.name)==="ElTimelineItem"});return bt("ul",{class:[n.b()]},e.reverse?o.reverse():o)}}}),V_n=Me({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:zn},hollow:Boolean}),W_n=me({name:"ElTimelineItem",__name:"timeline-item",props:V_n,setup(e){const t=e,n=Ae("timeline-item"),r=O(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(s,o)=>(B(),Y("li",{class:V([x(n).b(),{[x(n).e("center")]:s.center}])},[Z("div",{class:V(x(n).e("tail"))},null,2),s.$slots.dot?fe("v-if",!0):(B(),Y("div",{key:0,class:V(r.value),style:dt({backgroundColor:s.color})},[s.icon?(B(),pe(x(st),{key:0,class:V(x(n).e("icon"))},{default:ie(()=>[(B(),pe(zt(s.icon)))]),_:1},8,["class"])):fe("v-if",!0)],6)),s.$slots.dot?(B(),Y("div",{key:1,class:V(x(n).e("dot"))},[ce(s.$slots,"dot")],2)):fe("v-if",!0),Z("div",{class:V(x(n).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(B(),Y("div",{key:0,class:V([x(n).e("timestamp"),x(n).is("top")])},Fe(s.timestamp),3)):fe("v-if",!0),Z("div",{class:V(x(n).e("content"))},[ce(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(B(),Y("div",{key:1,class:V([x(n).e("timestamp"),x(n).is("bottom")])},Fe(s.timestamp),3)):fe("v-if",!0)],2)],2))}});var _5e=Ve(W_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const U_n=Rt(z_n,{TimelineItem:_5e}),j_n=Ur(_5e),T5e="left-check-change",A5e="right-check-change",Ub=Me({data:{type:oe(Array),default:()=>[]},titles:{type:oe(Array),default:()=>[]},buttonTexts:{type:oe(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:oe(Function)},leftDefaultChecked:{type:oe(Array),default:()=>[]},rightDefaultChecked:{type:oe(Array),default:()=>[]},renderContent:{type:oe(Function)},modelValue:{type:oe(Array),default:()=>[]},format:{type:oe(Object),default:()=>({})},filterable:Boolean,props:{type:oe(Object),default:()=>zr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),jH=(e,t)=>[e,t].every(De)||De(e)&&vs(t),H_n={[en]:(e,t,n)=>[e,n].every(De)&&["left","right"].includes(t),[Et]:e=>De(e),[T5e]:jH,[A5e]:jH},HH="checked-change",q_n=Me({data:Ub.data,optionRender:{type:oe(Function)},placeholder:String,title:String,filterable:Boolean,format:Ub.format,filterMethod:Ub.filterMethod,defaultChecked:Ub.leftDefaultChecked,props:Ub.props}),G_n={[HH]:jH},FI=e=>{const t={label:"label",key:"key",disabled:"disabled"};return O(()=>({...t,...e.props}))},K_n=(e,t,n)=>{const r=FI(e),s=O(()=>e.data.filter(c=>ft(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),o=O(()=>s.value.filter(c=>!c[r.value.disabled])),i=O(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),a=O(()=>{const c=t.checked.length;return c>0&&c<o.value.length}),l=()=>{const c=o.value.map(f=>f[r.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?o.value.map(f=>f[r.value.key]):[]};return xe(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n(HH,c,d)}else n(HH,c),t.checkChangeByUser=!0}),xe(o,()=>{l()}),xe(()=>e.data,()=>{const c=[],f=s.value.map(d=>d[r.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),xe(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=o.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:s,checkableData:o,checkedSummary:i,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:u}},Y_n=me({name:"ElTransferPanel",__name:"transfer-panel",props:q_n,emits:G_n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=({option:b})=>b,{t:a}=un(),l=Ae("transfer"),u=In({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=FI(r),{filteredData:f,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:p}=K_n(r,u,s),g=O(()=>!_a(u.query)&&_a(f.value)),m=O(()=>!_a(o.default()[0].children)),{checked:v,allChecked:y,query:w}=ao(u);return t({query:w}),(b,C)=>(B(),Y("div",{class:V(x(l).b("panel"))},[Z("p",{class:V(x(l).be("panel","header"))},[ee(x(Hc),{modelValue:x(y),"onUpdate:modelValue":C[0]||(C[0]=S=>fr(y)?y.value=S:null),indeterminate:x(h),"validate-event":!1,onChange:x(p)},{default:ie(()=>[tn(Fe(b.title)+" ",1),Z("span",null,Fe(x(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Z("div",{class:V([x(l).be("panel","body"),x(l).is("with-footer",m.value)])},[b.filterable?(B(),pe(x(Xi),{key:0,modelValue:x(w),"onUpdate:modelValue":C[1]||(C[1]=S=>fr(w)?w.value=S:null),class:V(x(l).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":x(Qcn),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):fe("v-if",!0),Lt(ee(x(Nne),{modelValue:x(v),"onUpdate:modelValue":C[2]||(C[2]=S=>fr(v)?v.value=S:null),"validate-event":!1,class:V([x(l).is("filterable",b.filterable),x(l).be("panel","list")])},{default:ie(()=>[(B(!0),Y(it,null,Xt(x(f),S=>(B(),pe(x(Hc),{key:S[x(c).key],class:V(x(l).be("panel","item")),value:S[x(c).key],disabled:S[x(c).disabled],"validate-event":!1},{default:ie(()=>{var $;return[ee(i,{option:($=b.optionRender)==null?void 0:$.call(b,S)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Sn,!g.value&&!x(_a)(b.data)]]),Lt(Z("div",{class:V(x(l).be("panel","empty"))},[ce(b.$slots,"empty",{},()=>[tn(Fe(g.value?x(a)("el.transfer.noMatch"):x(a)("el.transfer.noData")),1)])],2),[[Sn,g.value||x(_a)(b.data)]])],2),m.value?(B(),Y("p",{key:0,class:V(x(l).be("panel","footer"))},[ce(b.$slots,"default")],2)):fe("v-if",!0)],2))}});var F0e=Ve(Y_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const X_n=e=>{const t=FI(e),n=O(()=>e.data.reduce((o,i)=>(o[i[t.value.key]]=i)&&o,{})),r=O(()=>e.data.filter(o=>!e.modelValue.includes(o[t.value.key]))),s=O(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[t.value.key])):e.modelValue.reduce((o,i)=>{const a=n.value[i];return a&&o.push(a),o},[]));return{sourceData:r,targetData:s}},Z_n=(e,t,n)=>{const r=FI(e),s=(a,l,u)=>{n(Et,a),n(en,a,l,u)};return{addToLeft:()=>{const a=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),s(a,"left",t.rightChecked)},addToRight:()=>{let a=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);a=e.targetOrder==="unshift"?l.concat(a):a.concat(l),e.targetOrder==="original"&&(a=e.data.filter(u=>a.includes(u[r.value.key])).map(u=>u[r.value.key])),s(a,"right",t.leftChecked)}}},J_n=(e,t)=>({onSourceCheckedChange:(s,o)=>{e.leftChecked=s,o&&t(T5e,s,o)},onTargetCheckedChange:(s,o)=>{e.rightChecked=s,o&&t(A5e,s,o)}}),Q_n={key:0},eTn={key:0},tTn=me({name:"ElTransfer",__name:"transfer",props:Ub,emits:H_n,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),{t:i}=un(),a=Ae("transfer"),{formItem:l}=Ro(),u=In({leftChecked:[],rightChecked:[]}),c=FI(r),{sourceData:f,targetData:d}=X_n(r),{onSourceCheckedChange:h,onTargetCheckedChange:p}=J_n(u,s),{addToLeft:g,addToRight:m}=Z_n(r,u,s),v=j(),y=j(),w=T=>{switch(T){case"left":v.value.query="";break;case"right":y.value.query="";break}},b=O(()=>r.buttonTexts.length===2),C=O(()=>r.titles[0]||i("el.transfer.titles.0")),S=O(()=>r.titles[1]||i("el.transfer.titles.1")),$=O(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));xe(()=>r.modelValue,()=>{var T;r.validateEvent&&((T=l?.validate)==null||T.call(l,"change").catch(_=>void 0))});const k=O(()=>T=>{var _;if(r.renderContent)return r.renderContent(bt,T);const E=(((_=o.default)==null?void 0:_.call(o,{option:T}))||[]).filter(A=>A.type!==ps);return E.length?E:bt("span",T[c.value.label]||T[c.value.key])});return t({clearQuery:w,leftPanel:v,rightPanel:y}),(T,_)=>(B(),Y("div",{class:V(x(a).b())},[ee(F0e,{ref_key:"leftPanel",ref:v,data:x(f),"option-render":k.value,placeholder:$.value,title:C.value,filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,"default-checked":T.leftDefaultChecked,props:r.props,onCheckedChange:x(h)},{empty:ie(()=>[ce(T.$slots,"left-empty")]),default:ie(()=>[ce(T.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:V(x(a).e("buttons"))},[ee(x($o),{type:"primary",class:V([x(a).e("button"),x(a).is("with-texts",b.value)]),disabled:x(_a)(u.rightChecked),onClick:x(g)},{default:ie(()=>[ee(x(st),null,{default:ie(()=>[ee(x(bp))]),_:1}),x(yn)(T.buttonTexts[0])?fe("v-if",!0):(B(),Y("span",Q_n,Fe(T.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ee(x($o),{type:"primary",class:V([x(a).e("button"),x(a).is("with-texts",b.value)]),disabled:x(_a)(u.leftChecked),onClick:x(m)},{default:ie(()=>[x(yn)(T.buttonTexts[1])?fe("v-if",!0):(B(),Y("span",eTn,Fe(T.buttonTexts[1]),1)),ee(x(st),null,{default:ie(()=>[ee(x(aa))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ee(F0e,{ref_key:"rightPanel",ref:y,data:x(d),"option-render":k.value,placeholder:$.value,filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,title:S.value,"default-checked":T.rightDefaultChecked,props:r.props,onCheckedChange:x(p)},{empty:ie(()=>[ce(T.$slots,"right-empty")]),default:ie(()=>[ce(T.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var nTn=Ve(tTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const rTn=Rt(nTn),$w="$treeNodeId",M0e=function(e,t){!t||t[$w]||Object.defineProperty(t,$w,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},vre=(e,t)=>t?.[e||$w],qH=(e,t,n)=>{const r=e.value.currentNode;n();const s=e.value.currentNode;r!==s&&t("current-change",s?s.data:null,s)},I5e=e=>{let t=!0,n=!0,r=!0,s=!0;for(let o=0,i=e.length;o<i;o++){const a=e[o];(a.checked!==!0||a.indeterminate)&&(t=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1),a.isEffectivelyChecked||(s=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n,isEffectivelyChecked:s}},D$=function(e){if(e.childNodes.length===0||e.loading){e.isEffectivelyChecked=e.disabled||e.checked;return}const{all:t,none:n,half:r,isEffectivelyChecked:s}=I5e(e.childNodes);e.isEffectivelyChecked=s,t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||D$(o)},WD=function(e,t){const n=e.store.props,r=e.data||{},s=n[t];if(ft(s))return s(r,e);if(ot(s))return r[s];if(yn(s)){const o=r[t];return yn(o)?"":o}},GH=function(e,t){e.forEach(n=>{n.canFocus=t,GH(n.childNodes,t)})};let sTn=0,KH=class aO{constructor(t){this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=sTn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)En(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var t;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const i=WD(this,"isLeaf");Ln(i)&&(this.isLeafByUser=i)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),De(this.data)||M0e(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,o=n.key;o&&!vs(this.key)&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),o&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode&&(n.currentNode.isCurrent=!1),n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((t=this.parent)==null?void 0:t.expanded)===!0)&&(this.canFocus=!0)}setData(t){De(t)||M0e(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&De(this.data)?n=this.data:n=WD(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return WD(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return WD(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof aO)){if(!r){const s=this.getChildren(!0);s?.includes(t.data)||(yn(n)||n<0?s?.push(t.data):s?.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=In(new aO(t)),t instanceof aO&&t.initialize()}t.level=this.level+1,yn(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(t);s>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(t){const n=this.childNodes.find(r=>r.data===t);n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let s=this.parent;for(;s&&s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,t&&t(),GH(this.childNodes,!0)};this.shouldLoadData()?this.loadData(s=>{De(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||D$(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,GH(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(t,n,r,s){if(this.indeterminate=t==="half",this.checked=t===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const i=()=>{if(n){const a=this.childNodes;for(let f=0,d=a.length;f<d;f++){const h=a[f];s=s||t!==!1;const p=h.disabled&&h.isLeaf?h.checked:s;h.setChecked(p,n,!0,s)}const{half:l,all:u,isEffectivelyChecked:c}=I5e(a);u||(this.checked=u,this.indeterminate=l),this.isEffectivelyChecked=this.childNodes.length?c:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{i(),D$(this)},{checked:t!==!1});return}else i()}const o=this.parent;!o||o.level===0||r||D$(o)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),yn(n[s])&&(n[s]=null),t&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},s=[];t.forEach((o,i)=>{const a=o[$w];!!a&&n.some(u=>u?.[$w]===a)?r[a]={index:i,data:o}:s.push({index:i,data:o})}),this.store.lazy||n.forEach(o=>{r[o?.[$w]]||this.removeChildByData(o)}),s.forEach(({index:o,data:i})=>{this.insertChild({data:i},o)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)},s=()=>{this.loading=!1};this.store.load(this,r,s)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||D$(this)}};class oTn{constructor(t){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in t)En(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new KH({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},Rn)}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,s=async function(o){const i=o.root?o.root.childNodes:o.childNodes;for(const[a,l]of i.entries())l.visible=!!n?.call(l,t,l.data,l),a%80===0&&a>0&&await Ye(),await s(l);if(!o.visible&&i.length){let a=!0;a=!i.some(l=>l.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}t&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};s(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof KH)return t;const n=Pt(t)?vre(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertBefore({data:t},s)}insertAfter(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertAfter({data:t},s)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=cl(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){const n=this.defaultCheckedKeys||[];!vs(t.key)&&n.includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;if(!(!t||!t.data))if(!n)this.nodesMap[t.id]=t;else{const r=t.key;vs(r)||(this.nodesMap[r]=t)}}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],s=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!t||t&&a.isLeaf)&&r.push(a.data),s(a)})};return s(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&t.push(o.data),n(o)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)En(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const s=r.childNodes;for(let o=s.length-1;o>=0;o--){const i=s[o];this.remove(i.data)}for(let o=0,i=n.length;o<i;o++){const a=n[o];this.append(a,r.data)}}_setCheckedKeys(t,n=!1,r){const s=this._getAllNodes().sort((l,u)=>l.level-u.level),o=Object.create(null),i=Object.keys(r);s.forEach(l=>l.setChecked(!1,!1));const a=l=>{l.childNodes.forEach(u=>{var c;o[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&a(u)})};for(let l=0,u=s.length;l<u;l++){const c=s[l],f=c.data[t].toString();if(!i.includes(f)){c.checked&&!o[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&a(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),h(m)})};h(c)}}}setCheckedNodes(t,n=!1){const r=this.key,s={};t.forEach(o=>{s[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,s={};t.forEach(o=>{s[o]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const s=this.getNode(t);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){var r;const s=t[this.key],o=this.nodesMap[s];this.setCurrentNode(o),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0))}setCurrentNodeKey(t,n=!0){var r;if(this.currentNodeKey=t,cl(t)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0)))}}const yre="RootTree",N5e="NodeInstance",P0e="TreeNodeMap",iTn=me({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Ae("tree"),n=tt(N5e),r=tt(yre);return()=>{const s=e.node,{data:o,store:i}=s;return e.renderContent?e.renderContent(bt,{_self:n,node:s,data:o,store:i}):ce(r.ctx.slots,"default",{node:s,data:o},()=>[bt(mre,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[s.label])])}}});var aTn=Ve(iTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function D5e(e){const t=tt(P0e,null);let n={treeNodeExpand:r=>{var s;e.node!==r&&((s=e.node)==null||s.collapse())},children:new Set};return t&&t.children.add(n),Dn(()=>{t&&t.children.delete(n),n=null}),ln(P0e,n),{broadcastExpanded:r=>{if(e.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const O5e=Symbol("dragEvents");function lTn({props:e,ctx:t,el$:n,dropIndicator$:r,store:s}){const o=Ae("tree"),i=j({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ln(O5e,{treeNodeDragStart:({event:c,treeNode:f})=>{if(c.dataTransfer){if(ft(e.allowDrag)&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=f,t.emit("node-drag-start",f.node,c)}},treeNodeDragOver:({event:c,treeNode:f})=>{if(!c.dataTransfer)return;const d=f,h=i.value.dropNode;h&&h.node.id!==d.node.id&&ia(h.$el,o.is("drop-inner"));const p=i.value.draggingNode;if(!p||!d)return;let g=!0,m=!0,v=!0,y=!0;ft(e.allowDrop)&&(g=e.allowDrop(p.node,d.node,"prev"),y=m=e.allowDrop(p.node,d.node,"inner"),v=e.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=m||g||v?"move":"none",(g||m||v)&&h?.node.id!==d.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,d.node,c)),g||m||v?i.value.dropNode=d:i.value.dropNode=null,d.node.nextSibling===p.node&&(v=!1),d.node.previousSibling===p.node&&(g=!1),d.node.contains(p.node,!1)&&(m=!1),(p.node===d.node||p.node.contains(d.node))&&(g=!1,m=!1,v=!1);const w=d.$el,b=w.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),C=n.value.getBoundingClientRect(),S=n.value.scrollTop;let $;const k=g?m?.25:v?.45:1:Number.NEGATIVE_INFINITY,T=v?m?.75:g?.55:0:Number.POSITIVE_INFINITY;let _=-9999;const E=c.clientY-b.top;E<b.height*k?$="before":E>b.height*T?$="after":m?$="inner":$="none";const A=w.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),N=r.value;$==="before"?_=A.top-C.top+S:$==="after"&&(_=A.bottom-C.top+S),N.style.top=`${_}px`,N.style.left=`${A.right-C.left}px`,$==="inner"?Tu(w,o.is("drop-inner")):ia(w,o.is("drop-inner")),i.value.showDropIndicator=$==="before"||$==="after",i.value.allowDrop=i.value.showDropIndicator||y,i.value.dropType=$,t.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{var f,d;const{draggingNode:h,dropType:p,dropNode:g}=i.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),h?.node.data&&g){const m={data:h.node.data};p!=="none"&&h.node.remove(),p==="before"?(f=g.node.parent)==null||f.insertBefore(m,g.node):p==="after"?(d=g.node.parent)==null||d.insertAfter(m,g.node):p==="inner"&&g.node.insertChild(m),p!=="none"&&(s.value.registerNode(m),s.value.key&&h.node.eachNode(v=>{var y;(y=s.value.nodesMap[v.data[s.value.key]])==null||y.setChecked(v.checked,!s.value.checkStrictly)})),ia(g.$el,o.is("drop-inner")),t.emit("node-drag-end",h.node,g.node,p,c),p!=="none"&&t.emit("node-drop",h.node,g.node,p,c)}h&&!g&&t.emit("node-drag-end",h.node,null,p,c),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}const uTn=me({name:"ElTreeNode",components:{ElCollapseTransition:E5,ElCheckbox:Hc,NodeContent:aTn,ElIcon:st,Loading:Td},props:{node:{type:KH,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,t){const n=Ae("tree"),{broadcastExpanded:r}=D5e(e),s=tt(yre),o=j(!1),i=j(!1),a=j(),l=j(),u=j(),c=tt(O5e),f=Ut();ln(N5e,f),e.node.expanded&&(o.value=!0,i.value=!0);const d=s.props.props.children||"children";xe(()=>{var T;const _=(T=e.node.data)==null?void 0:T[d];return _&&[..._]},()=>{e.node.updateChildren()}),xe(()=>e.node.indeterminate,T=>{g(e.node.checked,T)}),xe(()=>e.node.checked,T=>{g(T,e.node.indeterminate)}),xe(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),xe(()=>e.node.expanded,T=>{Ye(()=>o.value=T),T&&(i.value=!0)});const h=T=>vre(s.props.nodeKey,T.data),p=T=>{const _=e.props.class;if(!_)return{};let E;if(ft(_)){const{data:A}=T;E=_(A,T)}else E=_;return ot(E)?{[E]:!0}:E},g=(T,_)=>{(a.value!==T||l.value!==_)&&s.ctx.emit("check-change",e.node.data,T,_),a.value=T,l.value=_},m=T=>{qH(s.store,s.ctx.emit,()=>{var _;if((_=s?.props)==null?void 0:_.nodeKey){const A=h(e.node);s.store.value.setCurrentNodeKey(A)}else s.store.value.setCurrentNode(e.node)}),s.currentNode.value=e.node,s.props.expandOnClickNode&&y(),(s.props.checkOnClickNode||e.node.isLeaf&&s.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&w(!e.node.checked),s.ctx.emit("node-click",e.node.data,e.node,f,T)},v=T=>{var _;(_=s.instance.vnode.props)!=null&&_.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),s.ctx.emit("node-contextmenu",T,e.node.data,e.node,f)},y=()=>{e.node.isLeaf||(o.value?(s.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},w=T=>{const _=s?.props.checkStrictly,E=e.node.childNodes;!_&&E.length&&(T=E.some(A=>!A.isEffectivelyChecked)),e.node.setChecked(T,!_),Ye(()=>{const A=s.store.value;s.ctx.emit("check",e.node.data,{checkedNodes:A.getCheckedNodes(),checkedKeys:A.getCheckedKeys(),halfCheckedNodes:A.getHalfCheckedNodes(),halfCheckedKeys:A.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:s,expanded:o,childNodeRendered:i,oldChecked:a,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:g,handleClick:m,handleContextMenu:v,handleExpandIconClick:y,handleCheckChange:w,handleChildNodeExpand:(T,_,E)=>{r(_),s.ctx.emit("node-expand",T,_,E)},handleDragStart:T=>{s.props.draggable&&c.treeNodeDragStart({event:T,treeNode:e})},handleDragOver:T=>{T.preventDefault(),s.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:e.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{s.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:hLe}}}),cTn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],fTn=["aria-expanded"];function dTn(e,t,n,r,s,o){const i=Qt("el-icon"),a=Qt("el-checkbox"),l=Qt("loading"),u=Qt("node-content"),c=Qt("el-tree-node"),f=Qt("el-collapse-transition");return Lt((B(),Y("div",{ref:"node$",class:V([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[2]||(t[2]=xt((...d)=>e.handleClick&&e.handleClick(...d),["stop"])),onContextmenu:t[3]||(t[3]=(...d)=>e.handleContextMenu&&e.handleContextMenu(...d)),onDragstart:t[4]||(t[4]=xt((...d)=>e.handleDragStart&&e.handleDragStart(...d),["stop"])),onDragover:t[5]||(t[5]=xt((...d)=>e.handleDragOver&&e.handleDragOver(...d),["stop"])),onDragend:t[6]||(t[6]=xt((...d)=>e.handleDragEnd&&e.handleDragEnd(...d),["stop"])),onDrop:t[7]||(t[7]=xt((...d)=>e.handleDrop&&e.handleDrop(...d),["stop"]))},[Z("div",{class:V(e.ns.be("node","content")),style:dt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(B(),pe(i,{key:0,class:V([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:xt(e.handleExpandIconClick,["stop"])},{default:ie(()=>[(B(),pe(zt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):fe("v-if",!0),e.showCheckbox?(B(),pe(a,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=xt(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):fe("v-if",!0),e.node.loading?(B(),pe(i,{key:2,class:V([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:ie(()=>[ee(l)]),_:1},8,["class"])):fe("v-if",!0),ee(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ee(f,null,{default:ie(()=>[!e.renderAfterExpand||e.childNodeRendered?Lt((B(),Y("div",{key:0,class:V(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:t[1]||(t[1]=xt(()=>{},["stop"]))},[(B(!0),Y(it,null,Xt(e.node.childNodes,d=>(B(),pe(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,fTn)),[[Sn,e.expanded]]):fe("v-if",!0)]),_:1})],42,cTn)),[[Sn,e.node.visible]])}var hTn=Ve(uTn,[["render",dTn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function pTn({el$:e},t){const n=Ae("tree");Ht(()=>{o()}),Yc(()=>{var i;(i=e.value)==null||i.querySelectorAll("input[type=checkbox]").forEach(a=>{a.setAttribute("tabindex","-1")})});function r(i,a){var l,u;const c=t.value.getNode(i[a].dataset.key);return c.canFocus&&c.visible&&(((l=c.parent)==null?void 0:l.expanded)||((u=c.parent)==null?void 0:u.level)===0)}Fn(e,"keydown",i=>{const a=i.target;if(!a.className.includes(n.b("node")))return;const l=Hn(i),u=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),c=u.indexOf(a);let f;if([Oe.up,Oe.down].includes(l)){if(i.preventDefault(),l===Oe.up){f=c===-1?0:c!==0?c-1:u.length-1;const h=f;for(;!r(u,f);){if(f--,f===h){f=-1;break}f<0&&(f=u.length-1)}}else{f=c===-1?0:c<u.length-1?c+1:0;const h=f;for(;!r(u,f);){if(f++,f===h){f=-1;break}f>=u.length&&(f=0)}}f!==-1&&u[f].focus()}[Oe.left,Oe.right].includes(l)&&(i.preventDefault(),a.click());const d=a.querySelector('[type="checkbox"]');[Oe.enter,Oe.numpadEnter,Oe.space].includes(l)&&d&&(i.preventDefault(),d.click())});const o=()=>{var i;if(!e.value)return;const a=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(c=>{c.setAttribute("tabindex","-1")});const u=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(i=a[0])==null||i.setAttribute("tabindex","0")}}const R5e=Me({data:{type:oe(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:oe(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:oe(Function)},allowDrop:{type:oe(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:zn}}),gTn={"check-change":(e,t,n)=>e&&Ln(t)&&Ln(n),"current-change":(e,t)=>!0,"node-click":(e,t,n,r)=>e&&t&&r instanceof Event,"node-contextmenu":(e,t,n,r)=>e instanceof Event&&t&&n,"node-collapse":(e,t,n)=>e&&t,"node-expand":(e,t,n)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,n,r)=>e&&r,"node-drop":(e,t,n,r)=>e&&t&&r,"node-drag-leave":(e,t,n)=>e&&t&&n,"node-drag-enter":(e,t,n)=>e&&t&&n,"node-drag-over":(e,t,n)=>e&&t&&n},mTn=me({name:"ElTree",components:{ElTreeNode:hTn},props:R5e,emits:gTn,setup(e,t){const{t:n}=un(),r=Ae("tree"),s=j(new oTn({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));s.value.initialize();const o=j(s.value.root),i=j(null),a=j(null),l=j(null),{broadcastExpanded:u}=D5e(e),{dragState:c}=lTn({props:e,ctx:t,el$:a,dropIndicator$:l,store:s});pTn({el$:a},s);const f=Ut(),d=O(()=>{let z=f?.parent;for(;z;){if(z.type.name==="ElTreeSelect")return!0;z=z.parent}return!1}),h=O(()=>{const{childNodes:z}=o.value;return(!z||z.length===0||z.every(({visible:W})=>!W))&&!d.value});xe(()=>e.currentNodeKey,z=>{s.value.setCurrentNodeKey(z??null)}),xe(()=>e.defaultCheckedKeys,(z,W)=>{Gr(z,W)||s.value.setDefaultCheckedKey(z??[])}),xe(()=>e.defaultExpandedKeys,z=>{s.value.setDefaultExpandedKeys(z??[])}),xe(()=>e.data,z=>{s.value.setData(z)},{deep:!0}),xe(()=>e.checkStrictly,z=>{s.value.checkStrictly=z});const p=z=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(z)},g=z=>vre(e.nodeKey,z.data),m=z=>{if(!e.nodeKey)throw new Error(`[Tree] nodeKey is required in ${z}`)},v=z=>{m("getNodePath");const W=s.value.getNode(z);if(!W)return[];const H=[W.data];let U=W.parent;for(;U&&U!==o.value;)H.push(U.data),U=U.parent;return H.reverse()},y=(z,W)=>s.value.getCheckedNodes(z,W),w=z=>s.value.getCheckedKeys(z),b=()=>{const z=s.value.getCurrentNode();return z?z.data:null},C=()=>{m("getCurrentKey");const z=b();return z?z[e.nodeKey]:null},S=(z,W)=>{m("setCheckedNodes"),s.value.setCheckedNodes(z,W)},$=(z,W)=>{m("setCheckedKeys"),s.value.setCheckedKeys(z,W)},k=(z,W,H)=>{s.value.setChecked(z,W,H)},T=()=>s.value.getHalfCheckedNodes(),_=()=>s.value.getHalfCheckedKeys(),E=(z,W=!0)=>{m("setCurrentNode"),qH(s,t.emit,()=>{u(z),s.value.setUserCurrentNode(z,W)})},A=(z=null,W=!0)=>{m("setCurrentKey"),qH(s,t.emit,()=>{u(),s.value.setCurrentNodeKey(z,W)})},N=z=>s.value.getNode(z),F=z=>{s.value.remove(z)},R=(z,W)=>{s.value.append(z,W)},P=(z,W)=>{s.value.insertBefore(z,W)},I=(z,W)=>{s.value.insertAfter(z,W)},D=(z,W,H)=>{u(W),t.emit("node-expand",z,W,H)},M=(z,W)=>{m("updateKeyChild"),s.value.updateChildren(z,W)};return ln(yre,{ctx:t,props:e,store:s,root:o,currentNode:i,instance:f}),ln(Ad,void 0),{ns:r,store:s,root:o,currentNode:i,dragState:c,el$:a,dropIndicator$:l,isEmpty:h,filter:p,getNodeKey:g,getNodePath:v,getCheckedNodes:y,getCheckedKeys:w,getCurrentNode:b,getCurrentKey:C,setCheckedNodes:S,setCheckedKeys:$,setChecked:k,getHalfCheckedNodes:T,getHalfCheckedKeys:_,setCurrentNode:E,setCurrentKey:A,t:n,getNode:N,remove:F,append:R,insertBefore:P,insertAfter:I,handleNodeExpand:D,updateKeyChildren:M}}});function vTn(e,t,n,r,s,o){const i=Qt("el-tree-node");return B(),Y("div",{ref:"el$",class:V([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(B(!0),Y(it,null,Xt(e.root.childNodes,a=>(B(),pe(i,{key:e.getNodeKey(a),node:a,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(B(),Y("div",{key:0,class:V(e.ns.e("empty-block"))},[ce(e.$slots,"empty",{},()=>{var a;return[Z("span",{class:V(e.ns.e("empty-text"))},Fe((a=e.emptyText)!=null?a:e.t("el.tree.emptyText")),3)]})],2)):fe("v-if",!0),Lt(Z("div",{ref:"dropIndicator$",class:V(e.ns.e("drop-indicator"))},null,2),[[Sn,e.dragState.showDropIndicator]])],2)}var yTn=Ve(mTn,[["render",vTn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);const bre=Rt(yTn),bTn=(e,{attrs:t,emit:n},{select:r,tree:s,key:o})=>{const i=Ae("tree-select");xe(()=>e.data,()=>{e.filterable&&Ye(()=>{var u,c;(c=s.value)==null||c.filter((u=r.value)==null?void 0:u.states.inputValue)})},{flush:"post"});const a=u=>{var c;const f=u.at(-1);if(f.expanded&&f.childNodes.at(-1))a([f.childNodes.at(-1)]);else{const d=(c=s.value.el$)==null?void 0:c.querySelector(`[data-key="${u.at(-1).key}"]`);d?.focus({preventScroll:!0});return}};return Ht(()=>{Fn(()=>{var u;return(u=r.value)==null?void 0:u.$el},"keydown",async u=>{const c=Hn(u),{dropdownMenuVisible:f}=r.value;[Oe.down,Oe.up].includes(c)&&f&&(await Ye(),setTimeout(()=>{var d,h,p;if(Oe.up===c){const g=s.value.store.root.childNodes;a(g);return}(p=(h=(d=r.value.optionsArray[r.value.states.hoveringIndex].$el)==null?void 0:d.parentNode)==null?void 0:h.parentNode)==null||p.focus({preventScroll:!0})}))},{capture:!0})}),{...vp(ao(e),Object.keys(Ux.props)),...t,class:O(()=>t.class),style:O(()=>t.style),"onUpdate:modelValue":u=>n(Et,u),valueKey:o,popperClass:O(()=>{const u=[i.e("popper")];return e.popperClass&&u.push(e.popperClass),u.join(" ")}),filterMethod:(u="")=>{var c;e.filterMethod?e.filterMethod(u):e.remoteMethod?e.remoteMethod(u):(c=s.value)==null||c.filter(u)}}},wTn=me({extends:hM,setup(e,t){const n=hM.setup(e,t);delete n.selectOptionClick;const r=Ut().proxy;return Ye(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),xe(()=>t.attrs.visible,s=>{Ye(()=>{n.states.visible=s})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function YH(e){return e||e===0}function wre(e){return De(e)&&e.length}function Rb(e){return De(e)?e:YH(e)?[e]:[]}function lO(e,t,n,r,s){for(let o=0;o<e.length;o++){const i=e[o];if(t(i,o,e,s))return r?r(i,o,e,s):i;{const a=n(i);if(wre(a)){const l=lO(a,t,n,r,i);if(l)return l}}}}function uO(e,t,n,r){for(let s=0;s<e.length;s++){const o=e[s];t(o,s,e,r);const i=n(o);wre(i)&&uO(i,t,n,o)}}const xTn=(e,{attrs:t,slots:n,emit:r},{select:s,tree:o,key:i})=>{xe([()=>e.modelValue,o],()=>{e.showCheckbox&&Ye(()=>{const d=o.value;d&&!Gr(d.getCheckedKeys(),Rb(e.modelValue))&&d.setCheckedKeys(Rb(e.modelValue))})},{immediate:!0,deep:!0});const a=O(()=>({value:i.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(d,h)=>{var p;const g=a.value[d];return ft(g)?g(h,(p=o.value)==null?void 0:p.getNode(l("value",h))):h[g]},u=Rb(e.modelValue).map(d=>lO(e.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,g,m)=>m&&l("value",m))).filter(d=>YH(d)),c=O(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return uO(e.data.concat(e.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=o.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const g=(p=o.value)==null?void 0:p.getNode(h);return!vs(g)&&_a(g.childNodes)})};return{...vp(ao(e),Object.keys(bre.props)),...t,nodeKey:i,expandOnClickNode:O(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:O(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:g})=>d(wTn,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},e.renderContent?()=>e.renderContent(d,{node:h,data:p,store:g}):n.default?()=>n.default({node:h,data:p,store:g}):void 0),filterNodeMethod:(d,h,p)=>e.filterNodeMethod?e.filterNodeMethod(d,h,p):d?new RegExp(Zne(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var g,m,v;if((g=t.onNodeClick)==null||g.call(t,d,h,p),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const y=(m=s.value)==null?void 0:m.states.options.get(l("value",d));(v=s.value)==null||v.handleOptionSelect(y)}}else e.expandOnClickNode&&p.proxy.handleExpandIconClick()},onCheck:(d,h)=>{var p;if(!e.showCheckbox)return;const g=l("value",d),m={};uO([o.value.store.root],b=>m[b.key]=b,b=>b.childNodes);const v=h.checkedKeys,y=e.multiple?Rb(e.modelValue).filter(b=>!(b in m)&&!v.includes(b)):[],w=y.concat(v);if(e.checkStrictly)r(Et,e.multiple?w:w.includes(g)?g:void 0);else if(e.multiple){const b=f();r(Et,y.concat(b))}else{const b=lO([d],$=>!wre(l("children",$))&&!l("disabled",$),$=>l("children",$)),C=b?l("value",b):void 0,S=YH(e.modelValue)&&!!lO([d],$=>l("value",$)===e.modelValue,$=>l("children",$));r(Et,C===e.modelValue||S?void 0:C)}Ye(()=>{var b;const C=Rb(e.modelValue);o.value.setCheckedKeys(C),(b=t.onCheck)==null||b.call(t,d,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(p=s.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var g;(g=t.onNodeExpand)==null||g.call(t,d,h,p),Ye(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&h.checked){const m={},v=o.value.getCheckedKeys();uO([o.value.store.root],b=>m[b.key]=b,b=>b.childNodes);const y=Rb(e.modelValue).filter(b=>!(b in m)&&!v.includes(b)),w=f();r(Et,y.concat(w))}})},cacheOptions:c}};var CTn=me({props:{data:{type:Array,default:()=>[]}},setup(e){const t=tt(OI);return xe(()=>e.data,()=>{var n;e.data.forEach(s=>{t.states.cachedOptions.has(s.value)||t.states.cachedOptions.set(s.value,s)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Tn&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const STn=me({name:"ElTreeSelect",inheritAttrs:!1,props:{...E6e,...R5e,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,s=j(),o=j(),i=O(()=>e.nodeKey||e.valueKey||"value"),a=bTn(e,t,{select:s,tree:o,key:i}),{cacheOptions:l,...u}=xTn(e,t,{select:s,tree:o,key:i}),c=In({});return r(c),Ht(()=>{Object.assign(c,{...vp(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...vp(s.value,["focus","blur","selectedLabel"]),treeRef:o.value,selectRef:s.value})}),()=>bt(Ux,In({...a,ref:f=>s.value=f}),{...n,default:()=>[bt(CTn,{data:l.value}),bt(bre,In({...u,ref:f=>o.value=f}))]})}});var $Tn=Ve(STn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);const kTn=Rt($Tn),xre=Symbol(),ETn={key:-1,level:-1,data:{}};var O$=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(O$||{}),XH=(e=>(e.ADD="add",e.DELETE="delete",e))(XH||{});const F5e={type:Number,default:26},_Tn=Me({data:{type:oe(Array),default:()=>zr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:oe(Object),default:()=>zr({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:oe(Array),default:()=>zr([])},checkStrictly:Boolean,defaultExpandedKeys:{type:oe(Array),default:()=>zr([])},indent:{type:Number,default:16},itemSize:F5e,icon:{type:zn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:oe([String,Number])},accordion:Boolean,filterMethod:{type:oe(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),TTn=Me({node:{type:oe(Object),default:()=>zr(ETn)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:F5e}),ATn=Me({node:{type:oe(Object),required:!0}}),M5e="node-click",P5e="node-drop",L5e="node-expand",B5e="node-collapse",z5e="current-change",V5e="check",W5e="check-change",U5e="node-contextmenu",ITn={[M5e]:(e,t,n)=>e&&t&&n,[P5e]:(e,t,n)=>e&&t&&n,[L5e]:(e,t)=>e&&t,[B5e]:(e,t)=>e&&t,[z5e]:(e,t)=>e&&t,[V5e]:(e,t)=>e&&t,[W5e]:(e,t)=>e&&Ln(t),[U5e]:(e,t,n)=>e&&t&&n},NTn={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&Ln(t)};function DTn(e,t){const n=j(new Set),r=j(new Set),{emit:s}=Ut();xe([()=>t.value,()=>e.defaultCheckedKeys],()=>Ye(()=>{y(e.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:b}=t.value,C=n.value,S=new Set;for(let $=b;$>=1;--$){const k=w.get($);k&&k.forEach(T=>{const _=T.children;let E=!T.isLeaf||T.disabled||C.has(T.key);if(_){let A=!0,N=!1;for(const F of _){const R=F.key;if(F.isEffectivelyChecked||(E=!1),C.has(R))N=!0;else if(S.has(R)){A=!1,N=!0;break}else A=!1}A?C.add(T.key):N?(S.add(T.key),C.delete(T.key)):(C.delete(T.key),S.delete(T.key))}T.isEffectivelyChecked=E})}r.value=S},i=w=>n.value.has(w.key),a=w=>r.value.has(w.key),l=(w,b,C=!0,S=!0)=>{const $=n.value,k=w.children;!e.checkStrictly&&C&&k?.length&&(b=k.some(_=>!_.isEffectivelyChecked));const T=(_,E)=>{$[E?XH.ADD:XH.DELETE](_.key);const A=_.children;!e.checkStrictly&&A&&A.forEach(N=>{(!N.disabled||N.children)&&T(N,E)})};T(w,b),S&&o(),C&&u(w,b)},u=(w,b)=>{const{checkedNodes:C,checkedKeys:S}=p(),{halfCheckedNodes:$,halfCheckedKeys:k}=g();s(V5e,w.data,{checkedKeys:S,checkedNodes:C,halfCheckedKeys:k,halfCheckedNodes:$}),s(W5e,w.data,b)};function c(w=!1){return p(w).checkedKeys}function f(w=!1){return p(w).checkedNodes}function d(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function p(w=!1){const b=[],C=[];if(t?.value&&e.showCheckbox){const{treeNodeMap:S}=t.value;n.value.forEach($=>{const k=S.get($);k&&(!w||w&&k.isLeaf)&&(C.push($),b.push(k.data))})}return{checkedKeys:C,checkedNodes:b}}function g(){const w=[],b=[];if(t?.value&&e.showCheckbox){const{treeNodeMap:C}=t.value;r.value.forEach(S=>{const $=C.get(S);$&&(b.push(S),w.push($.data))})}return{halfCheckedNodes:w,halfCheckedKeys:b}}function m(w){n.value.clear(),r.value.clear(),Ye(()=>{y(w)})}function v(w,b){if(t?.value&&e.showCheckbox){const C=t.value.treeNodeMap.get(w);C&&l(C,b,!1)}}function y(w){if(t?.value){const{treeNodeMap:b}=t.value;if(e.showCheckbox&&b&&w?.length>0){for(const C of w){const S=b.get(C);S&&!i(S)&&l(S,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:i,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:v,setCheckedKeys:m}}function OTn(e,t){const n=j(new Set([])),r=j(new Set([])),s=O(()=>ft(e.filterMethod));function o(a){var l;if(!s.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],p=e.filterMethod;f.clear();function g(m){m.forEach(v=>{d.push(v),p?.(a,v.data,v)?d.forEach(w=>{u.add(w.key),w.expanded=!0}):(v.expanded=!1,v.isLeaf&&f.add(v.key));const y=v.children;if(y&&g(y),!v.isLeaf){if(!u.has(v.key))f.add(v.key);else if(y){let w=!0;for(const b of y)if(!f.has(b.key)){w=!1;break}w?c.add(v.key):c.delete(v.key)}}d.pop()})}return g(h),u}function i(a){return r.value.has(a.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:i}}function RTn(e,t){const n=j(new Set),r=j(),s=cr(),o=j(),{isIndeterminate:i,isChecked:a,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=DTn(e,s),{doFilter:g,hiddenNodeKeySet:m,isForceHiddenExpandIcon:v}=OTn(e,s),y=O(()=>{var q;return((q=e.props)==null?void 0:q.value)||O$.KEY}),w=O(()=>{var q;return((q=e.props)==null?void 0:q.children)||O$.CHILDREN}),b=O(()=>{var q;return((q=e.props)==null?void 0:q.disabled)||O$.DISABLED}),C=O(()=>{var q;return((q=e.props)==null?void 0:q.label)||O$.LABEL}),S=O(()=>{var q;const L=n.value,Q=m.value,se=[],de=((q=s.value)==null?void 0:q.treeNodes)||[],he=[];for(let ge=de.length-1;ge>=0;--ge)he.push(de[ge]);for(;he.length;){const ge=he.pop();if(!Q.has(ge.key)&&(se.push(ge),ge.children&&L.has(ge.key)))for(let $e=ge.children.length-1;$e>=0;--$e)he.push(ge.children[$e])}return se}),$=O(()=>S.value.length>0);function k(q){const L=new Map,Q=new Map;let se=1;function de(ge,$e=1,He=void 0){var Ie;const Ce=[];for(const Re of ge){const ze=E(Re),Ue={level:$e,key:ze,data:Re};Ue.label=N(Re),Ue.parent=He;const rt=_(Re);Ue.disabled=A(Re),Ue.isLeaf=!rt||rt.length===0,Ue.expanded=n.value.has(ze),rt&&rt.length&&(Ue.children=de(rt,$e+1,Ue)),Ce.push(Ue),L.set(ze,Ue),Q.has($e)||Q.set($e,[]),(Ie=Q.get($e))==null||Ie.push(Ue)}return $e>se&&(se=$e),Ce}const he=de(q);return{treeNodeMap:L,levelTreeNodeMap:Q,maxLevel:se,treeNodes:he}}function T(q){const L=g(q);L&&(n.value=L)}function _(q){return q[w.value]}function E(q){return q?q[y.value]:""}function A(q){return q[b.value]}function N(q){return q[C.value]}function F(q){n.value.has(q.key)?W(q):z(q)}function R(q){const L=new Set,Q=s.value.treeNodeMap;n.value.forEach(se=>{const de=Q.get(se);n.value.delete(de.key),de.expanded=!1}),q.forEach(se=>{let de=Q.get(se);for(;de&&!L.has(de.key);)L.add(de.key),de.expanded=!0,de=de.parent}),n.value=L}function P(q,L){t(M5e,q.data,q,L),D(q),e.expandOnClickNode&&F(q),e.showCheckbox&&(e.checkOnClickNode||q.isLeaf&&e.checkOnClickLeaf)&&!q.disabled&&l(q,!a(q),!0)}function I(q,L){t(P5e,q.data,q,L)}function D(q){U(q)||(r.value=q.key,t(z5e,q.data,q))}function M(q,L){l(q,L)}function z(q){const L=n.value;if(s.value&&e.accordion){const{treeNodeMap:se}=s.value;L.forEach(de=>{const he=se.get(de);q&&q.level===he?.level&&(L.delete(de),he.expanded=!1)})}L.add(q.key);const Q=ae(q.key);Q&&(Q.expanded=!0,t(L5e,Q.data,Q))}function W(q){n.value.delete(q.key);const L=ae(q.key);L&&(L.expanded=!1,t(B5e,L.data,L))}function H(q){return!!q.disabled}function U(q){const L=r.value;return L!==void 0&&L===q.key}function K(){var q,L;if(r.value)return(L=(q=s.value)==null?void 0:q.treeNodeMap.get(r.value))==null?void 0:L.data}function G(){return r.value}function re(q){r.value=q}function ue(q){s.value=k(q)}function ae(q){var L;const Q=Pt(q)?E(q):q;return(L=s.value)==null?void 0:L.treeNodeMap.get(Q)}function X(q,L="auto"){const Q=ae(q);Q&&o.value&&o.value.scrollToItem(S.value.indexOf(Q),L)}function J(q){var L;(L=o.value)==null||L.scrollTo(q)}return xe(()=>e.currentNodeKey,q=>{r.value=q},{immediate:!0}),xe(()=>e.defaultExpandedKeys,q=>{n.value=new Set(q)},{immediate:!0}),xe(()=>e.data,q=>{ue(q)},{immediate:!0}),{tree:s,flattenTree:S,isNotEmpty:$,listRef:o,getKey:E,getChildren:_,toggleExpand:F,toggleCheckbox:l,isChecked:a,isIndeterminate:i,isDisabled:H,isCurrent:U,isForceHiddenExpandIcon:v,handleNodeClick:P,handleNodeDrop:I,handleNodeCheck:M,getCurrentNode:K,getCurrentKey:G,setCurrentKey:re,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:T,setData:ue,getNode:ae,expandNode:z,collapseNode:W,setExpandedKeys:R,scrollToNode:X,scrollTo:J}}var FTn=me({name:"ElTreeNodeContent",props:ATn,setup(e){const t=tt(xre),n=Ae("tree");return()=>{const r=e.node,{data:s}=r;return t?.ctx.slots.default?t.ctx.slots.default({node:r,data:s}):bt(mre,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r?.label])}}});const MTn=["aria-expanded","aria-disabled","aria-checked","data-key"],PTn=me({name:"ElTreeNode",__name:"tree-node",props:TTn,emits:NTn,setup(e,{emit:t}){const n=e,r=t,s=tt(xre),o=Ae("tree"),i=O(()=>{var p;return(p=s?.props.indent)!=null?p:16}),a=O(()=>{var p;return(p=s?.props.icon)!=null?p:hLe}),l=p=>{const g=s?.props.props.class;if(!g)return{};let m;if(ft(g)){const{data:v}=p;m=g(v,p)}else m=g;return ot(m)?{[m]:!0}:m},u=p=>{r("click",n.node,p)},c=p=>{r("drop",n.node,p)},f=()=>{r("toggle",n.node)},d=p=>{r("check",n.node,p)},h=p=>{var g,m,v,y;(v=(m=(g=s?.instance)==null?void 0:g.vnode)==null?void 0:m.props)!=null&&v.onNodeContextmenu&&(p.stopPropagation(),p.preventDefault()),s?.ctx.emit(U5e,p,(y=n.node)==null?void 0:y.data,n.node)};return(p,g)=>{var m,v,y;return B(),Y("div",{ref:"node$",class:V([x(o).b("node"),x(o).is("expanded",p.expanded),x(o).is("current",p.current),x(o).is("focusable",!p.disabled),x(o).is("checked",!p.disabled&&p.checked),l(p.node)]),role:"treeitem",tabindex:"-1","aria-expanded":p.expanded,"aria-disabled":p.disabled,"aria-checked":p.checked,"data-key":(m=p.node)==null?void 0:m.key,onClick:xt(u,["stop"]),onContextmenu:h,onDragover:g[1]||(g[1]=xt(()=>{},["prevent"])),onDragenter:g[2]||(g[2]=xt(()=>{},["prevent"])),onDrop:xt(c,["stop"])},[Z("div",{class:V(x(o).be("node","content")),style:dt({paddingLeft:`${(p.node.level-1)*i.value}px`,height:p.itemSize+"px"})},[a.value?(B(),pe(x(st),{key:0,class:V([x(o).is("leaf",!!((v=p.node)!=null&&v.isLeaf)),x(o).is("hidden",p.hiddenExpandIcon),{expanded:!((y=p.node)!=null&&y.isLeaf)&&p.expanded},x(o).be("node","expand-icon")]),onClick:xt(f,["stop"])},{default:ie(()=>[(B(),pe(zt(a.value)))]),_:1},8,["class"])):fe("v-if",!0),p.showCheckbox?(B(),pe(x(Hc),{key:1,"model-value":p.checked,indeterminate:p.indeterminate,disabled:p.disabled,onChange:d,onClick:g[0]||(g[0]=xt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):fe("v-if",!0),ee(x(FTn),{node:{...p.node,expanded:p.expanded}},null,8,["node"])],6)],42,MTn)}}});var LTn=Ve(PTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const BTn=me({name:"ElTreeV2",__name:"tree",props:_Tn,emits:ITn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=O(()=>r.itemSize);ln(xre,{ctx:{emit:s,slots:o},props:r,instance:Ut()}),ln(Ad,void 0);const{t:a}=un(),l=Ae("tree"),{flattenTree:u,isNotEmpty:c,listRef:f,toggleExpand:d,isIndeterminate:h,isChecked:p,isDisabled:g,isCurrent:m,isForceHiddenExpandIcon:v,handleNodeClick:y,handleNodeDrop:w,handleNodeCheck:b,toggleCheckbox:C,getCurrentNode:S,getCurrentKey:$,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:_,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:F,filter:R,setData:P,getNode:I,expandNode:D,collapseNode:M,setExpandedKeys:z,scrollToNode:W,scrollTo:H}=RTn(r,s);return t({toggleCheckbox:C,getCurrentNode:S,getCurrentKey:$,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:_,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:F,filter:R,setData:P,getNode:I,expandNode:D,collapseNode:M,setExpandedKeys:z,scrollToNode:W,scrollTo:H}),(U,K)=>(B(),Y("div",{class:V([x(l).b(),{[x(l).m("highlight-current")]:U.highlightCurrent}]),role:"tree"},[x(c)?(B(),pe(x(L6e),{key:0,ref_key:"listRef",ref:f,"class-name":x(l).b("virtual-list"),data:x(u),total:x(u).length,height:U.height,"item-size":i.value,"perf-mode":U.perfMode,"scrollbar-always-on":U.scrollbarAlwaysOn},{default:ie(({data:G,index:re,style:ue})=>[(B(),pe(LTn,{key:G[re].key,style:dt(ue),node:G[re],expanded:G[re].expanded,"show-checkbox":U.showCheckbox,checked:x(p)(G[re]),indeterminate:x(h)(G[re]),"item-size":i.value,disabled:x(g)(G[re]),current:x(m)(G[re]),"hidden-expand-icon":x(v)(G[re]),onClick:x(y),onToggle:x(d),onCheck:x(b),onDrop:x(w)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode","scrollbar-always-on"])):(B(),Y("div",{key:1,class:V(x(l).e("empty-block"))},[ce(U.$slots,"empty",{},()=>{var G;return[Z("span",{class:V(x(l).e("empty-text"))},Fe((G=U.emptyText)!=null?G:x(a)("el.tree.emptyText")),3)]})],2))],2))}});var zTn=Ve(BTn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const VTn=Rt(zTn),j5e=Symbol("uploadContextKey"),WTn="ElUpload";class UTn extends Error{constructor(t,n,r,s){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function L0e(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new UTn(r,n.status,t.method,e)}function jTn(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const HTn=e=>{typeof XMLHttpRequest>"u"&&Ts(WTn,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const i=o;i.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(i)});const r=new FormData;if(e.data)for(const[o,i]of Object.entries(e.data))De(i)&&i.length?r.append(o,...i):r.append(o,i);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(L0e(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(L0e(n,e,t));e.onSuccess(jTn(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((o,i)=>t.setRequestHeader(i,o));else for(const[o,i]of Object.entries(s))vs(i)||t.setRequestHeader(o,String(i));return t.send(r),t},H5e=["text","picture","picture-card"];let qTn=1;const ZH=()=>Date.now()+qTn++,q5e=Me({action:{type:String,default:"#"},headers:{type:oe(Object)},method:{type:String,default:"post"},data:{type:oe([Object,Function,Promise]),default:()=>zr({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:oe(Array),default:()=>zr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:H5e,default:"text"},httpRequest:{type:oe(Function),default:HTn},disabled:{type:Boolean,default:void 0},limit:Number}),GTn=Me({...q5e,beforeUpload:{type:oe(Function),default:Rn},beforeRemove:{type:oe(Function)},onRemove:{type:oe(Function),default:Rn},onChange:{type:oe(Function),default:Rn},onPreview:{type:oe(Function),default:Rn},onSuccess:{type:oe(Function),default:Rn},onProgress:{type:oe(Function),default:Rn},onError:{type:oe(Function),default:Rn},onExceed:{type:oe(Function),default:Rn},crossorigin:{type:oe(String)}}),KTn=Me({files:{type:oe(Array),default:()=>zr([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:oe(Function),default:Rn},listType:{type:String,values:H5e,default:"text"},crossorigin:{type:oe(String)}}),YTn={remove:e=>!!e},XTn=["tabindex","aria-disabled","onKeydown"],ZTn=["src","crossorigin"],JTn=["onClick"],QTn=["title"],eAn=["onClick"],tAn=["onClick"],nAn=me({name:"ElUploadList",__name:"upload-list",props:KTn,emits:YTn,setup(e,{emit:t}){const n=e,r=t,{t:s}=un(),o=Ae("upload"),i=Ae("icon"),a=Ae("list"),l=jr(),u=j(!1),c=O(()=>[o.b("list"),o.bm("list",n.listType),o.is("disabled",l.value)]),f=d=>{r("remove",d)};return(d,h)=>(B(),pe($1e,{tag:"ul",class:V(c.value),name:x(a).b()},{default:ie(()=>[(B(!0),Y(it,null,Xt(d.files,(p,g)=>(B(),Y("li",{key:p.uid||p.name,class:V([x(o).be("list","item"),x(o).is(p.status),{focusing:u.value}]),tabindex:x(l)?void 0:0,"aria-disabled":x(l),role:"button",onKeydown:qr(m=>!x(l)&&f(p),["delete"]),onFocus:h[0]||(h[0]=m=>u.value=!0),onBlur:h[1]||(h[1]=m=>u.value=!1),onClick:h[2]||(h[2]=m=>u.value=!1)},[ce(d.$slots,"default",{file:p,index:g},()=>[d.listType==="picture"||p.status!=="uploading"&&d.listType==="picture-card"?(B(),Y("img",{key:0,class:V(x(o).be("list","item-thumbnail")),src:p.url,crossorigin:d.crossorigin,alt:""},null,10,ZTn)):fe("v-if",!0),p.status==="uploading"||d.listType!=="picture-card"?(B(),Y("div",{key:1,class:V(x(o).be("list","item-info"))},[Z("a",{class:V(x(o).be("list","item-name")),onClick:xt(m=>d.handlePreview(p),["prevent"])},[ee(x(st),{class:V(x(i).m("document"))},{default:ie(()=>[ee(x(Acn))]),_:1},8,["class"]),Z("span",{class:V(x(o).be("list","item-file-name")),title:p.name},Fe(p.name),11,QTn)],10,JTn),p.status==="uploading"?(B(),pe(x(T6e),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(p.percentage),style:dt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):fe("v-if",!0)],2)):fe("v-if",!0),Z("label",{class:V(x(o).be("list","item-status-label"))},[d.listType==="text"?(B(),pe(x(st),{key:0,class:V([x(i).m("upload-success"),x(i).m("circle-check")])},{default:ie(()=>[ee(x(dne))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(B(),pe(x(st),{key:1,class:V([x(i).m("upload-success"),x(i).m("check")])},{default:ie(()=>[ee(x($I))]),_:1},8,["class"])):fe("v-if",!0)],2),x(l)?fe("v-if",!0):(B(),pe(x(st),{key:2,class:V(x(i).m("close")),onClick:m=>f(p)},{default:ie(()=>[ee(x(Hu))]),_:1},8,["class","onClick"])),fe(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),fe(" This is a bug which needs to be fixed "),fe(" TODO: Fix the incorrect navigation interaction "),x(l)?fe("v-if",!0):(B(),Y("i",{key:3,class:V(x(i).m("close-tip"))},Fe(x(s)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(B(),Y("span",{key:4,class:V(x(o).be("list","item-actions"))},[Z("span",{class:V(x(o).be("list","item-preview")),onClick:m=>d.handlePreview(p)},[ee(x(st),{class:V(x(i).m("zoom-in"))},{default:ie(()=>[ee(x(vLe))]),_:1},8,["class"])],10,eAn),x(l)?fe("v-if",!0):(B(),Y("span",{key:0,class:V(x(o).be("list","item-delete")),onClick:m=>f(p)},[ee(x(st),{class:V(x(i).m("delete"))},{default:ie(()=>[ee(x(_cn))]),_:1},8,["class"])],10,tAn))],2)):fe("v-if",!0)])],42,XTn))),128)),ce(d.$slots,"append")]),_:3},8,["class","name"]))}});var B0e=Ve(nAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const rAn=Me({disabled:{type:Boolean,default:void 0}}),sAn={file:e=>De(e)},z0e="ElUploadDrag",oAn=me({name:z0e,__name:"upload-dragger",props:rAn,emits:sAn,setup(e,{emit:t}){const n=t;tt(j5e)||Ts(z0e,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=Ae("upload"),o=j(!1),i=jr(),a=c=>{if(i.value)return;o.value=!1,c.stopPropagation();const f=Array.from(c.dataTransfer.files),d=c.dataTransfer.items||[];f.forEach((h,p)=>{var g;const m=d[p],v=(g=m?.webkitGetAsEntry)==null?void 0:g.call(m);v&&(h.isDirectory=v.isDirectory)}),n("file",f)},l=()=>{i.value||(o.value=!0)},u=c=>{c.currentTarget.contains(c.relatedTarget)||(o.value=!1)};return(c,f)=>(B(),Y("div",{class:V([x(s).b("dragger"),x(s).is("dragover",o.value)]),onDrop:xt(a,["prevent"]),onDragover:xt(l,["prevent"]),onDragleave:xt(u,["prevent"])},[ce(c.$slots,"default")],34))}});var iAn=Ve(oAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const aAn=Me({...q5e,beforeUpload:{type:oe(Function),default:Rn},onRemove:{type:oe(Function),default:Rn},onStart:{type:oe(Function),default:Rn},onSuccess:{type:oe(Function),default:Rn},onProgress:{type:oe(Function),default:Rn},onError:{type:oe(Function),default:Rn},onExceed:{type:oe(Function),default:Rn}}),lAn=["tabindex","aria-disabled","onKeydown"],uAn=["name","disabled","multiple","accept"],cAn=me({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:aAn,setup(e,{expose:t}){const n=e,r=Ae("upload"),s=jr(),o=cr({}),i=cr(),a=g=>{if(g.length===0)return;const{autoUpload:m,limit:v,fileList:y,multiple:w,onStart:b,onExceed:C}=n;if(v&&y.length+g.length>v){C(g,y);return}w||(g=g.slice(0,1));for(const S of g){const $=S;$.uid=ZH(),b($),m&&l($)}},l=async g=>{if(i.value.value="",!n.beforeUpload)return c(g);let m,v={};try{const w=n.data,b=n.beforeUpload(g);v=bk(n.data)?tM(n.data):n.data,m=await b,bk(n.data)&&Gr(w,v)&&(v=tM(n.data))}catch{m=!1}if(m===!1){n.onRemove(g);return}let y=g;m instanceof Blob&&(m instanceof File?y=m:y=new File([m],g.name,{type:g.type})),c(Object.assign(y,{uid:g.uid}),v)},u=async(g,m)=>ft(g)?g(m):g,c=async(g,m)=>{const{headers:v,data:y,method:w,withCredentials:b,name:C,action:S,onProgress:$,onSuccess:k,onError:T,httpRequest:_}=n;try{m=await u(m??y,g)}catch{n.onRemove(g);return}const{uid:E}=g,A={headers:v||{},withCredentials:b,file:g,data:m,method:w,filename:C,action:S,onProgress:F=>{$(F,g)},onSuccess:F=>{k(F,g),delete o.value[E]},onError:F=>{T(F,g),delete o.value[E]}},N=_(A);o.value[E]=N,N instanceof Promise&&N.then(A.onSuccess,A.onError)},f=g=>{const m=g.target.files;m&&a(Array.from(m))},d=()=>{s.value||(i.value.value="",i.value.click())},h=()=>{d()};return t({abort:g=>{lLe(o.value).filter(g?([v])=>String(g.uid)===v:()=>!0).forEach(([v,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[v]})},upload:l}),(g,m)=>(B(),Y("div",{class:V([x(r).b(),x(r).m(g.listType),x(r).is("drag",g.drag),x(r).is("disabled",x(s))]),tabindex:x(s)?void 0:0,"aria-disabled":x(s),role:"button",onClick:d,onKeydown:qr(xt(h,["self"]),["enter","space"])},[g.drag?(B(),pe(iAn,{key:0,disabled:x(s),onFile:a},{default:ie(()=>[ce(g.$slots,"default")]),_:3},8,["disabled"])):ce(g.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:i,class:V(x(r).e("input")),name:g.name,disabled:x(s),multiple:g.multiple,accept:g.accept,type:"file",onChange:f,onClick:m[0]||(m[0]=xt(()=>{},["stop"]))},null,42,uAn)],42,lAn))}});var V0e=Ve(cAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const W0e="ElUpload",U0e=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},fAn=(e,t)=>{const n=eLe(e,"fileList",void 0,{passive:!0}),r=p=>n.value.find(g=>g.uid===p.uid);function s(p){var g;(g=t.value)==null||g.abort(p)}function o(p=["ready","uploading","success","fail"]){n.value=n.value.filter(g=>!p.includes(g.status))}function i(p){n.value=n.value.filter(g=>g.uid!==p.uid)}const a=p=>{Ye(()=>e.onChange(p,n.value))},l=(p,g)=>{const m=r(g);m&&(console.error(p),m.status="fail",i(m),e.onError(p,m,n.value),a(m))},u=(p,g)=>{const m=r(g);m&&(e.onProgress(p,m,n.value),m.status="uploading",m.percentage=Math.round(p.percent))},c=(p,g)=>{const m=r(g);m&&(m.status="success",m.response=p,e.onSuccess(p,m,n.value),a(m))},f=p=>{vs(p.uid)&&(p.uid=ZH());const g={name:p.name,percentage:0,status:"ready",size:p.size,raw:p,uid:p.uid};if(e.listType==="picture-card"||e.listType==="picture")try{g.url=URL.createObjectURL(p)}catch(m){m.message,e.onError(m,g,n.value)}n.value=[...n.value,g],a(g)},d=async p=>{const g=p instanceof File?r(p):p;g||Ts(W0e,"file to be removed not found");const m=v=>{s(v),i(v),e.onRemove(v,n.value),U0e(v)};e.beforeRemove?await e.beforeRemove(g,n.value)!==!1&&m(g):m(g)};function h(){n.value.filter(({status:p})=>p==="ready").forEach(({raw:p})=>{var g;return p&&((g=t.value)==null?void 0:g.upload(p))})}return xe(()=>e.listType,p=>{p!=="picture-card"&&p!=="picture"||(n.value=n.value.map(g=>{const{raw:m,url:v}=g;if(!v&&m)try{g.url=URL.createObjectURL(m)}catch(y){e.onError(y,g,n.value)}return g}))}),xe(n,p=>{for(const g of p)g.uid||(g.uid=ZH()),g.status||(g.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:o,handleError:l,handleProgress:u,handleStart:f,handleSuccess:c,handleRemove:d,submit:h,revokeFileObjectURL:U0e}},dAn=me({name:"ElUpload",__name:"upload",props:GTn,setup(e,{expose:t}){const n=e,r=jr(),s=cr(),{abort:o,submit:i,clearFiles:a,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=fAn(n,s),g=O(()=>n.listType==="picture-card"),m=O(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return Dn(()=>{l.value.forEach(p)}),ln(j5e,{accept:Bn(n,"accept")}),t({abort:o,submit:i,clearFiles:a,handleStart:u,handleRemove:f}),(v,y)=>(B(),Y("div",null,[g.value&&v.showFileList?(B(),pe(B0e,{key:0,disabled:x(r),"list-type":v.listType,files:x(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:x(f)},ml({append:ie(()=>[ee(V0e,Wt({ref_key:"uploadRef",ref:s},m.value),{default:ie(()=>[v.$slots.trigger?ce(v.$slots,"trigger",{key:0}):fe("v-if",!0),!v.$slots.trigger&&v.$slots.default?ce(v.$slots,"default",{key:1}):fe("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:ie(({file:w,index:b})=>[ce(v.$slots,"file",{file:w,index:b})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):fe("v-if",!0),!g.value||g.value&&!v.showFileList?(B(),pe(V0e,Wt({key:1,ref_key:"uploadRef",ref:s},m.value),{default:ie(()=>[v.$slots.trigger?ce(v.$slots,"trigger",{key:0}):fe("v-if",!0),!v.$slots.trigger&&v.$slots.default?ce(v.$slots,"default",{key:1}):fe("v-if",!0)]),_:3},16)):fe("v-if",!0),v.$slots.trigger?ce(v.$slots,"default",{key:2}):fe("v-if",!0),ce(v.$slots,"tip"),!g.value&&v.showFileList?(B(),pe(B0e,{key:3,disabled:x(r),"list-type":v.listType,files:x(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:x(f)},ml({_:2},[v.$slots.file?{name:"default",fn:ie(({file:w,index:b})=>[ce(v.$slots,"file",{file:w,index:b})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):fe("v-if",!0)]))}});var hAn=Ve(dAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const pAn=Rt(hAn),gAn=Me({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:oe([String,Array]),default:"Element Plus"},font:{type:oe(Object)},gap:{type:oe(Array),default:()=>[100,100]},offset:{type:oe(Array)}});function mAn(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function vAn(e){return Object.keys(e).map(t=>`${mAn(t)}: ${e[t]};`).join(" ")}function yAn(){return window.devicePixelRatio||1}const bAn=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},wAn={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function Z7(e,t,n=1){const r=document.createElement("canvas"),s=r.getContext("2d"),o=e*n,i=t*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${i}px`),s.save(),[s,r,o,i]}function xAn(){function e(t,n,r,s,o,i,a,l,u){const[c,f,d,h]=Z7(s,o,r);let p=0;if(t instanceof HTMLImageElement)c.drawImage(t,0,0,d,h);else{const{color:U,fontSize:K,fontStyle:G,fontWeight:re,fontFamily:ue,textAlign:ae,textBaseline:X}=i,J=Number(K)*r;c.font=`${G} normal ${re} ${J}px/${o}px ${ue}`,c.fillStyle=U,c.textAlign=ae,c.textBaseline=X;const q=De(t)?t:[t];if(X!=="top"&&q[0]){const L=c.measureText(q[0]);c.textBaseline="top";const Q=c.measureText(q[0]);p=L.actualBoundingBoxAscent-Q.actualBoundingBoxAscent}q?.forEach((L,Q)=>{const[se,de]=wAn[ae];c.fillText(L??"",d*se+u*de,Q*(J+i.fontGap*r))})}const g=Math.PI/180*Number(n),m=Math.max(s,o),[v,y,w]=Z7(m,m,r);v.translate(w/2,w/2),v.rotate(g),d>0&&h>0&&v.drawImage(f,-d/2,-h/2);function b(U,K){const G=U*Math.cos(g)-K*Math.sin(g),re=U*Math.sin(g)+K*Math.cos(g);return[G,re]}let C=0,S=0,$=0,k=0;const T=d/2,_=h/2;[[0-T,0-_],[0+T,0-_],[0+T,0+_],[0-T,0+_]].forEach(([U,K])=>{const[G,re]=b(U,K);C=Math.min(C,G),S=Math.max(S,G),$=Math.min($,re),k=Math.max(k,re)});const A=C+w/2,N=$+w/2,F=S-C,R=k-$,P=a*r,I=l*r,D=(F+P)*2,M=R+I,[z,W]=Z7(D,M);function H(U=0,K=0){z.drawImage(y,A,N,F,R,U,K+p,F,R)}return H(),H(F+P,-R/2-I/2),H(F+P,+R/2+I/2),[W.toDataURL(),D/r,M/r]}return e}const CAn=me({name:"ElWatermark",__name:"watermark",props:gAn,setup(e){const t={position:"relative"},n=e,r=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontGap)!=null?A:3}),s=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.color)!=null?A:"rgba(0,0,0,.15)"}),o=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontSize)!=null?A:16}),i=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontWeight)!=null?A:"normal"}),a=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontStyle)!=null?A:"normal"}),l=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.fontFamily)!=null?A:"sans-serif"}),u=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.textAlign)!=null?A:"center"}),c=O(()=>{var E,A;return(A=(E=n.font)==null?void 0:E.textBaseline)!=null?A:"hanging"}),f=O(()=>n.gap[0]),d=O(()=>n.gap[1]),h=O(()=>f.value/2),p=O(()=>d.value/2),g=O(()=>{var E,A;return(A=(E=n.offset)==null?void 0:E[0])!=null?A:h.value}),m=O(()=>{var E,A;return(A=(E=n.offset)==null?void 0:E[1])!=null?A:p.value}),v=()=>{const E={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let A=g.value-h.value,N=m.value-p.value;return A>0&&(E.left=`${A}px`,E.width=`calc(100% - ${A}px)`,A=0),N>0&&(E.top=`${N}px`,E.height=`calc(100% - ${N}px)`,N=0),E.backgroundPosition=`${A}px ${N}px`,E},y=cr(null),w=cr(),b=j(!1),C=()=>{w.value&&(w.value.remove(),w.value=void 0)},S=(E,A)=>{var N;y.value&&w.value&&(b.value=!0,w.value.setAttribute("style",vAn({...v(),backgroundImage:`url('${E}')`,backgroundSize:`${Math.floor(A)}px`})),(N=y.value)==null||N.append(w.value),setTimeout(()=>{b.value=!1}))},$=E=>{let A=120,N=64,F=0;const{image:R,content:P,width:I,height:D,rotate:M}=n;if(!R&&E.measureText){E.font=`${Number(o.value)}px ${l.value}`;const z=De(P)?P:[P];let W=0,H=0;z.forEach(K=>{const{width:G,fontBoundingBoxAscent:re,fontBoundingBoxDescent:ue,actualBoundingBoxAscent:ae,actualBoundingBoxDescent:X}=E.measureText(K),J=yn(re)?ae+X:re+ue;G>W&&(W=Math.ceil(G)),J>H&&(H=Math.ceil(J))}),A=W,N=H*z.length+(z.length-1)*r.value;const U=Math.PI/180*Number(M);F=Math.ceil(Math.abs(Math.sin(U)*N)/2),A+=F}return[I??A,D??N,F]},k=xAn(),T=()=>{const A=document.createElement("canvas").getContext("2d"),N=n.image,F=n.content,R=n.rotate;if(A){w.value||(w.value=document.createElement("div"));const P=yAn(),[I,D,M]=$(A),z=W=>{const[H,U]=k(W||"",R,P,I,D,{color:s.value,fontSize:o.value,fontStyle:a.value,fontWeight:i.value,fontFamily:l.value,fontGap:r.value,textAlign:u.value,textBaseline:c.value},f.value,d.value,M);S(H,U)};if(N){const W=new Image;W.onload=()=>{z(W)},W.onerror=()=>{z(F)},W.crossOrigin="anonymous",W.referrerPolicy="no-referrer",W.src=N}else z(F)}};return Ht(()=>{T()}),xe(()=>n,()=>{T()},{deep:!0,flush:"post"}),Dn(()=>{C()}),wI(y,E=>{b.value||E.forEach(A=>{bAn(A,w.value)&&(C(),T())})},{attributes:!0,subtree:!0,childList:!0}),(E,A)=>(B(),Y("div",{ref_key:"containerRef",ref:y,style:dt([t])},[ce(E.$slots,"default")],4))}});var SAn=Ve(CAn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/watermark/src/watermark.vue"]]);const $An=Rt(SAn),kAn=Me({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:oe(Object)},targetAreaClickable:{type:Boolean,default:!0}}),qx=Math.min,c1=Math.max,CM=Math.round,UD=Math.floor,od=e=>({x:e,y:e}),EAn={left:"right",right:"left",bottom:"top",top:"bottom"},_An={start:"end",end:"start"};function JH(e,t,n){return c1(e,qx(t,n))}function MI(e,t){return typeof e=="function"?e(t):e}function ey(e){return e.split("-")[0]}function PI(e){return e.split("-")[1]}function G5e(e){return e==="x"?"y":"x"}function Cre(e){return e==="y"?"height":"width"}const TAn=new Set(["top","bottom"]);function Gg(e){return TAn.has(ey(e))?"y":"x"}function Sre(e){return G5e(Gg(e))}function AAn(e,t,n){n===void 0&&(n=!1);const r=PI(e),s=Sre(e),o=Cre(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=SM(i)),[i,SM(i)]}function IAn(e){const t=SM(e);return[QH(e),t,QH(t)]}function QH(e){return e.replace(/start|end/g,t=>_An[t])}const j0e=["left","right"],H0e=["right","left"],NAn=["top","bottom"],DAn=["bottom","top"];function OAn(e,t,n){switch(e){case"top":case"bottom":return n?t?H0e:j0e:t?j0e:H0e;case"left":case"right":return t?NAn:DAn;default:return[]}}function RAn(e,t,n,r){const s=PI(e);let o=OAn(ey(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(QH)))),o}function SM(e){return e.replace(/left|right|bottom|top/g,t=>EAn[t])}function FAn(e){return{top:0,right:0,bottom:0,left:0,...e}}function K5e(e){return typeof e!="number"?FAn(e):{top:e,right:e,bottom:e,left:e}}function $M(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function q0e(e,t,n){let{reference:r,floating:s}=e;const o=Gg(t),i=Sre(t),a=Cre(i),l=ey(t),u=o==="y",c=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(PI(t)){case"start":h[i]-=d*(n&&u?-1:1);break;case"end":h[i]+=d*(n&&u?-1:1);break}return h}const MAn=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:f}=q0e(u,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:m,fn:v}=a[g],{x:y,y:w,data:b,reset:C}=await v({x:c,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});c=y??c,f=w??f,h={...h,[m]:{...h[m],...b}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:c,y:f}=q0e(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:s,middlewareData:h}};async function $re(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=MI(t,e),p=K5e(h),m=a[d?f==="floating"?"reference":"floating":f],v=$M(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=$M(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-C.top+p.top)/b.y,bottom:(C.bottom-v.bottom+p.bottom)/b.y,left:(v.left-C.left+p.left)/b.x,right:(C.right-v.right+p.right)/b.x}}const PAn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=MI(e,t)||{};if(u==null)return{};const f=K5e(c),d={x:n,y:r},h=Sre(s),p=Cre(h),g=await i.getDimensions(u),m=h==="y",v=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[h]-d[h]-o.floating[p],C=d[h]-o.reference[h],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let $=S?S[w]:0;(!$||!await(i.isElement==null?void 0:i.isElement(S)))&&($=a.floating[w]||o.floating[p]);const k=b/2-C/2,T=$/2-g[p]/2-1,_=qx(f[v],T),E=qx(f[y],T),A=_,N=$-g[p]-E,F=$/2-g[p]/2+k,R=JH(A,F,N),P=!l.arrow&&PI(s)!=null&&F!==R&&o.reference[p]/2-(F<A?_:E)-g[p]/2<0,I=P?F<A?F-A:F-N:0;return{[h]:d[h]+I,data:{[h]:R,centerOffset:F-R-I,...P&&{alignmentOffset:I}},reset:P}}}),LAn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=MI(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=ey(s),y=Gg(a),w=ey(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=d||(w||!g?[SM(a)]:IAn(a)),S=p!=="none";!d&&S&&C.push(...RAn(a,g,p,b));const $=[a,...C],k=await $re(t,m),T=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(k[v]),f){const F=AAn(s,i,b);T.push(k[F[0]],k[F[1]])}if(_=[..._,{placement:s,overflows:T}],!T.every(F=>F<=0)){var E,A;const F=(((E=o.flip)==null?void 0:E.index)||0)+1,R=$[F];if(R&&(!(f==="alignment"?y!==Gg(R):!1)||_.every(D=>Gg(D.placement)===y?D.overflows[0]>0:!0)))return{data:{index:F,overflows:_},reset:{placement:R}};let P=(A=_.filter(I=>I.overflows[0]<=0).sort((I,D)=>I.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!P)switch(h){case"bestFit":{var N;const I=(N=_.filter(D=>{if(S){const M=Gg(D.placement);return M===y||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,z)=>M+z,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:N[0];I&&(P=I);break}case"initialPlacement":P=a;break}if(s!==P)return{reset:{placement:P}}}return{}}}},BAn=new Set(["left","top"]);async function zAn(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=ey(n),a=PI(n),l=Gg(n)==="y",u=BAn.has(i)?-1:1,c=o&&l?-1:1,f=MI(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const VAn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await zAn(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},WAn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...l}=MI(e,t),u={x:n,y:r},c=await $re(t,l),f=Gg(ey(s)),d=G5e(f);let h=u[d],p=u[f];if(o){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+c[m],w=h-c[v];h=JH(y,h,w)}if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+c[m],w=p-c[v];p=JH(y,p,w)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:o,[f]:i}}}}}};function O5(){return typeof window<"u"}function ZC(e){return Y5e(e)?(e.nodeName||"").toLowerCase():"#document"}function Ql(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nh(e){var t;return(t=(Y5e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Y5e(e){return O5()?e instanceof Node||e instanceof Ql(e).Node:!1}function Gc(e){return O5()?e instanceof Element||e instanceof Ql(e).Element:!1}function Nd(e){return O5()?e instanceof HTMLElement||e instanceof Ql(e).HTMLElement:!1}function G0e(e){return!O5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ql(e).ShadowRoot}const UAn=new Set(["inline","contents"]);function LI(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Kc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!UAn.has(s)}const jAn=new Set(["table","td","th"]);function HAn(e){return jAn.has(ZC(e))}const qAn=[":popover-open",":modal"];function R5(e){return qAn.some(t=>{try{return e.matches(t)}catch{return!1}})}const GAn=["transform","translate","scale","rotate","perspective"],KAn=["transform","translate","scale","rotate","perspective","filter"],YAn=["paint","layout","strict","content"];function kre(e){const t=Ere(),n=Gc(e)?Kc(e):e;return GAn.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||KAn.some(r=>(n.willChange||"").includes(r))||YAn.some(r=>(n.contain||"").includes(r))}function XAn(e){let t=Qm(e);for(;Nd(t)&&!Gx(t);){if(kre(t))return t;if(R5(t))return null;t=Qm(t)}return null}function Ere(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZAn=new Set(["html","body","#document"]);function Gx(e){return ZAn.has(ZC(e))}function Kc(e){return Ql(e).getComputedStyle(e)}function F5(e){return Gc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qm(e){if(ZC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G0e(e)&&e.host||nh(e);return G0e(t)?t.host:t}function X5e(e){const t=Qm(e);return Gx(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nd(t)&&LI(t)?t:X5e(t)}function $_(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=X5e(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ql(s);if(o){const a=eq(i);return t.concat(i,i.visualViewport||[],LI(s)?s:[],a&&n?$_(a):[])}return t.concat(s,$_(s,[],n))}function eq(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Z5e(e){const t=Kc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Nd(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=CM(n)!==o||CM(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function _re(e){return Gc(e)?e:e.contextElement}function kw(e){const t=_re(e);if(!Nd(t))return od(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Z5e(t);let i=(o?CM(n.width):n.width)/r,a=(o?CM(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const JAn=od(0);function J5e(e){const t=Ql(e);return!Ere()||!t.visualViewport?JAn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QAn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ql(e)?!1:t}function ty(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=_re(e);let i=od(1);t&&(r?Gc(r)&&(i=kw(r)):i=kw(e));const a=QAn(o,n,r)?J5e(o):od(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,c=s.width/i.x,f=s.height/i.y;if(o){const d=Ql(o),h=r&&Gc(r)?Ql(r):r;let p=d,g=eq(p);for(;g&&r&&h!==p;){const m=kw(g),v=g.getBoundingClientRect(),y=Kc(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,b=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=w,u+=b,p=Ql(g),g=eq(p)}}return $M({width:c,height:f,x:l,y:u})}function M5(e,t){const n=F5(e).scrollLeft;return t?t.left+n:ty(nh(e)).left+n}function Q5e(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-M5(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function eIn(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=nh(r),a=t?R5(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=od(1);const c=od(0),f=Nd(r);if((f||!f&&!o)&&((ZC(r)!=="body"||LI(i))&&(l=F5(r)),Nd(r))){const h=ty(r);u=kw(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=i&&!f&&!o?Q5e(i,l):od(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function tIn(e){return Array.from(e.getClientRects())}function nIn(e){const t=nh(e),n=F5(e),r=e.ownerDocument.body,s=c1(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=c1(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+M5(e);const a=-n.scrollTop;return Kc(r).direction==="rtl"&&(i+=c1(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const K0e=25;function rIn(e,t){const n=Ql(e),r=nh(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=Ere();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=M5(r);if(u<=0){const c=r.ownerDocument,f=c.body,d=getComputedStyle(f),h=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-h);p<=K0e&&(o-=p)}else u<=K0e&&(o+=u);return{width:o,height:i,x:a,y:l}}const sIn=new Set(["absolute","fixed"]);function oIn(e,t){const n=ty(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Nd(e)?kw(e):od(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Y0e(e,t,n){let r;if(t==="viewport")r=rIn(e,n);else if(t==="document")r=nIn(nh(e));else if(Gc(t))r=oIn(t,n);else{const s=J5e(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $M(r)}function e8e(e,t){const n=Qm(e);return n===t||!Gc(n)||Gx(n)?!1:Kc(n).position==="fixed"||e8e(n,t)}function iIn(e,t){const n=t.get(e);if(n)return n;let r=$_(e,[],!1).filter(a=>Gc(a)&&ZC(a)!=="body"),s=null;const o=Kc(e).position==="fixed";let i=o?Qm(e):e;for(;Gc(i)&&!Gx(i);){const a=Kc(i),l=kre(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&sIn.has(s.position)||LI(i)&&!l&&e8e(e,i))?r=r.filter(c=>c!==i):s=a,i=Qm(i)}return t.set(e,r),r}function aIn(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?R5(t)?[]:iIn(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,c)=>{const f=Y0e(t,c,s);return u.top=c1(f.top,u.top),u.right=qx(f.right,u.right),u.bottom=qx(f.bottom,u.bottom),u.left=c1(f.left,u.left),u},Y0e(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lIn(e){const{width:t,height:n}=Z5e(e);return{width:t,height:n}}function uIn(e,t,n){const r=Nd(t),s=nh(t),o=n==="fixed",i=ty(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=od(0);function u(){l.x=M5(s)}if(r||!r&&!o)if((ZC(t)!=="body"||LI(s))&&(a=F5(t)),r){const h=ty(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&u();o&&!r&&s&&u();const c=s&&!r&&!o?Q5e(s,a):od(0),f=i.left+a.scrollLeft-l.x-c.x,d=i.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:i.width,height:i.height}}function J7(e){return Kc(e).position==="static"}function X0e(e,t){if(!Nd(e)||Kc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nh(e)===n&&(n=n.ownerDocument.body),n}function t8e(e,t){const n=Ql(e);if(R5(e))return n;if(!Nd(e)){let s=Qm(e);for(;s&&!Gx(s);){if(Gc(s)&&!J7(s))return s;s=Qm(s)}return n}let r=X0e(e,t);for(;r&&HAn(r)&&J7(r);)r=X0e(r,t);return r&&Gx(r)&&J7(r)&&!kre(r)?n:r||XAn(e)||n}const cIn=async function(e){const t=this.getOffsetParent||t8e,n=this.getDimensions,r=await n(e.floating);return{reference:uIn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fIn(e){return Kc(e).direction==="rtl"}const dIn={convertOffsetParentRelativeRectToViewportRelativeRect:eIn,getDocumentElement:nh,getClippingRect:aIn,getOffsetParent:t8e,getElementRects:cIn,getClientRects:tIn,getDimensions:lIn,getScale:kw,isElement:Gc,isRTL:fIn};function n8e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hIn(e,t){let n=null,r;const s=nh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:h}=u;if(a||t(),!d||!h)return;const p=UD(f),g=UD(s.clientWidth-(c+d)),m=UD(s.clientHeight-(f+h)),v=UD(c),w={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:c1(0,qx(1,l))||1};let b=!0;function C(S){const $=S[0].intersectionRatio;if($!==l){if(!b)return i();$?i(!1,$):r=setTimeout(()=>{i(!1,1e-7)},1e3)}$===1&&!n8e(u,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return i(!0),o}function pIn(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=_re(e),c=s||o?[...u?$_(u):[],...$_(t)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&a?hIn(u,n):null;let d=-1,h=null;i&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,g=l?ty(e):null;l&&m();function m(){const v=ty(e);g&&!n8e(g,v)&&n(),g=v,p=requestAnimationFrame(m)}return n(),()=>{var v;c.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const gIn=$re,mIn=VAn,vIn=WAn,yIn=LAn,bIn=PAn,wIn=(e,t,n)=>{const r=new Map,s={platform:dIn,...n},o={...s.platform,_c:r};return MAn(e,t,{...s,platform:o})},xIn=(e,t,n,r,s)=>{const o=j(null),i=()=>{let f;return ot(e.value)?f=document.querySelector(e.value):ft(e.value)?f=e.value():f=e.value,f},a=()=>{const f=i();if(!f||!t.value){o.value=null;return}CIn(f)||f.scrollIntoView(s.value);const{left:d,top:h,width:p,height:g}=f.getBoundingClientRect();o.value={left:d,top:h,width:p,height:g,radius:0}};Ht(()=>{xe([t,e],()=>{a()},{immediate:!0}),window.addEventListener("resize",a)}),Dn(()=>{window.removeEventListener("resize",a)});const l=f=>{var d;return(d=De(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=O(()=>{var f;if(!o.value)return o.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:o.value.left-d,top:o.value.top-h,width:o.value.width+d*2,height:o.value.height+h*2,radius:p}}),c=O(()=>{const f=i();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,g;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((g=u.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},P5=Symbol("ElTour");function CIn(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:s,bottom:o,left:i}=e.getBoundingClientRect();return r>=0&&i>=0&&s<=t&&o<=n}const SIn=(e,t,n,r,s,o,i,a)=>{const l=j(),u=j(),c=j({}),f={x:l,y:u,placement:r,strategy:s,middlewareData:c},d=O(()=>{const v=[mIn(x(o)),yIn(),vIn(),$In()];return x(a)&&x(n)&&v.push(bIn({element:x(n)})),v}),h=async()=>{if(!Tn)return;const v=x(e),y=x(t);if(!v||!y)return;const w=await wIn(v,y,{placement:x(r),strategy:x(s),middleware:x(d)});l_(f).forEach(b=>{f[b].value=w[b]})},p=O(()=>{if(!x(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:x(i)};const{overflow:v}=x(c);return{position:x(s),zIndex:x(i),top:x(u)!=null?`${x(u)}px`:"",left:x(l)!=null?`${x(l)}px`:"",maxWidth:v?.maxWidth?`${v?.maxWidth}px`:""}}),g=O(()=>{if(!x(a))return{};const{arrow:v}=x(c);return{left:v?.x!=null?`${v?.x}px`:"",top:v?.y!=null?`${v?.y}px`:""}});let m;return Ht(()=>{const v=x(e),y=x(t);v&&y&&(m=pIn(v,y,h)),gl(()=>{h()})}),Dn(()=>{m&&m()}),{update:h,contentStyle:p,arrowStyle:g}},$In=()=>({name:"overflow",async fn(e){const t=await gIn(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),kIn={style:{width:"100%",height:"100%"}},EIn=["d"],_In=me({name:"ElTourMask",inheritAttrs:!1,__name:"mask",props:kAn,setup(e){const t=e,{ns:n}=tt(P5),r=O(()=>{var c,f;return(f=(c=t.pos)==null?void 0:c.radius)!=null?f:2}),s=O(()=>{const c=r.value,f=`a${c},${c} 0 0 1`;return{topRight:`${f} ${c},${c}`,bottomRight:`${f} ${-c},${c}`,bottomLeft:`${f} ${-c},${-c}`,topLeft:`${f} ${c},${-c}`}}),{width:o,height:i}=lne(),a=O(()=>{const c=o.value,f=i.value,d=s.value,h=`M${c},0 L0,0 L0,${f} L${c},${f} L${c},0 Z`,p=r.value;return t.pos?`${h} M${t.pos.left+p},${t.pos.top} h${t.pos.width-p*2} ${d.topRight} v${t.pos.height-p*2} ${d.bottomRight} h${-t.pos.width+p*2} ${d.bottomLeft} v${-t.pos.height+p*2} ${d.topLeft} z`:h}),l=O(()=>({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?"none":"auto"})),u=O(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return T5(Bn(t,"visible"),{ns:n}),(c,f)=>c.visible?(B(),Y("div",Wt({key:0,class:x(n).e("mask"),style:l.value},c.$attrs),[(B(),Y("svg",kIn,[Z("path",{class:V(x(n).e("hollow")),style:dt(u.value),d:a.value},null,14,EIn)]))],16)):fe("v-if",!0)}});var TIn=Ve(_In,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/mask.vue"]]);const AIn=["absolute","fixed"],IIn=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Tre=Me({placement:{type:oe(String),values:IIn,default:"bottom"},reference:{type:oe(Object),default:null},strategy:{type:oe(String),values:AIn,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),NIn={close:()=>!0},DIn=["data-side"],OIn=me({name:"ElTourContent",__name:"content",props:Tre,emits:NIn,setup(e,{emit:t}){const n=e,r=t,s=j(n.placement),o=j(n.strategy),i=j(null),a=j(null);xe(()=>n.placement,()=>{s.value=n.placement});const{contentStyle:l,arrowStyle:u}=SIn(Bn(n,"reference"),i,a,s,o,Bn(n,"offset"),Bn(n,"zIndex"),Bn(n,"showArrow")),c=O(()=>s.value.split("-")[0]),{ns:f}=tt(P5),d=()=>{r("close")},h=p=>{p.detail.focusReason==="pointer"&&p.preventDefault()};return(p,g)=>(B(),Y("div",{ref_key:"contentRef",ref:i,style:dt(x(l)),class:V(x(f).e("content")),"data-side":c.value,tabindex:"-1"},[ee(x(YC),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:d,onFocusoutPrevented:h},{default:ie(()=>[ce(p.$slots,"default")]),_:3},8,["focus-trap-el"]),p.showArrow?(B(),Y("span",{key:0,ref_key:"arrowRef",ref:a,style:dt(x(u)),class:V(x(f).e("arrow"))},null,6)):fe("v-if",!0)],14,DIn))}});var RIn=Ve(OIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/content.vue"]]),FIn=me({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var s,o;const i=(s=t.default)==null?void 0:s.call(t),a=[];let l=0;function u(c){De(c)&&c.forEach(f=>{var d;((d=f?.type||{})==null?void 0:d.name)==="ElTourStep"&&(a.push(f),l+=1)})}return i.length&&u(Cc((o=i[0])==null?void 0:o.children)),r!==l&&(r=l,n("update-total",l)),a.length?a[e.current]:null}}});const MIn=Me({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:zn},placement:Tre.placement,contentStyle:{type:oe([Object])},mask:{type:oe([Boolean,Object]),default:!0},gap:{type:oe(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:oe([Boolean,Object]),default:()=>({block:"center"})},type:{type:oe(String)},appendTo:{type:SI.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),PIn={[Et]:e=>Ln(e),"update:current":e=>pt(e),close:e=>pt(e),finish:()=>!0,change:e=>pt(e)},LIn=me({name:"ElTour",__name:"tour",props:MIn,emits:PIn,setup(e,{emit:t}){const n=e,r=t,s=Ae("tour"),o=j(0),i=j(),a=eLe(n,"current",r,{passive:!0}),l=O(()=>{var _;return(_=i.value)==null?void 0:_.target}),u=O(()=>[s.b(),v.value==="primary"?s.m("primary"):""]),c=O(()=>{var _;return((_=i.value)==null?void 0:_.placement)||n.placement}),f=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.contentStyle)!=null?E:n.contentStyle}),d=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.mask)!=null?E:n.mask}),h=O(()=>!!d.value&&n.modelValue),p=O(()=>Ln(d.value)?void 0:d.value),g=O(()=>{var _,E;return!!l.value&&((E=(_=i.value)==null?void 0:_.showArrow)!=null?E:n.showArrow)}),m=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.scrollIntoViewOptions)!=null?E:n.scrollIntoViewOptions}),v=O(()=>{var _,E;return(E=(_=i.value)==null?void 0:_.type)!=null?E:n.type}),{nextZIndex:y}=xI(),w=y(),b=O(()=>{var _;return(_=n.zIndex)!=null?_:w}),{mergedPosInfo:C,triggerTarget:S}=xIn(l,Bn(n,"modelValue"),Bn(n,"gap"),d,m);xe(()=>n.modelValue,_=>{_||(a.value=0)});const $=()=>{n.closeOnPressEscape&&(r(Et,!1),r("close",a.value))},k=_=>{o.value=_},T=Ms();return ln(P5,{currentStep:i,current:a,total:o,showClose:Bn(n,"showClose"),closeIcon:Bn(n,"closeIcon"),mergedType:v,ns:s,slots:T,updateModelValue(_){r(Et,_)},onClose(){r("close",a.value)},onFinish(){r("finish")},onChange(){r(en,a.value)}}),(_,E)=>(B(),Y(it,null,[ee(x(KC),{to:_.appendTo},{default:ie(()=>{var A,N;return[Z("div",Wt({class:u.value},_.$attrs),[ee(TIn,{visible:h.value,fill:(A=p.value)==null?void 0:A.color,style:dt((N=p.value)==null?void 0:N.style),pos:x(C),"z-index":b.value,"target-area-clickable":_.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),_.modelValue?(B(),pe(RIn,{key:x(a),reference:x(S),placement:c.value,"show-arrow":g.value,"z-index":b.value,style:dt(f.value),onClose:$},{default:ie(()=>[ee(x(FIn),{current:x(a),onUpdateTotal:k},{default:ie(()=>[ce(_.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):fe("v-if",!0)],16)]}),_:3},8,["to"]),fe(" just for IDE "),fe("v-if",!0)],64))}});var BIn=Ve(LIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/tour.vue"]]);const zIn=Me({target:{type:oe([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:zn},showArrow:{type:Boolean,default:void 0},placement:Tre.placement,mask:{type:oe([Boolean,Object]),default:void 0},contentStyle:{type:oe([Object])},prevButtonProps:{type:oe(Object)},nextButtonProps:{type:oe(Object)},scrollIntoViewOptions:{type:oe([Boolean,Object]),default:void 0},type:{type:oe(String)}}),VIn={close:()=>!0},WIn=["aria-label"],UIn=me({name:"ElTourStep",__name:"step",props:zIn,emits:VIn,setup(e,{emit:t}){const n=e,r=t,{Close:s}=yLe,{t:o}=un(),{currentStep:i,current:a,total:l,showClose:u,closeIcon:c,mergedType:f,ns:d,slots:h,updateModelValue:p,onClose:g,onFinish:m,onChange:v}=tt(P5);xe(n,_=>{i.value=_},{immediate:!0});const y=O(()=>{var _;return(_=n.showClose)!=null?_:u.value}),w=O(()=>{var _,E;return(E=(_=n.closeIcon)!=null?_:c.value)!=null?E:s}),b=_=>{if(_)return vI(_,["children","onClick"])},C=()=>{var _,E;a.value-=1,(_=n.prevButtonProps)!=null&&_.onClick&&((E=n.prevButtonProps)==null||E.onClick()),v()},S=()=>{var _;a.value>=l.value-1?$():a.value+=1,(_=n.nextButtonProps)!=null&&_.onClick&&n.nextButtonProps.onClick(),v()},$=()=>{k(),m()},k=()=>{p(!1),g(),r("close")},T=_=>{const E=_.target;if(E?.isContentEditable)return;switch(Hn(_)){case Oe.left:_.preventDefault(),a.value>0&&C();break;case Oe.right:_.preventDefault(),S();break}};return Ht(()=>{window.addEventListener("keydown",T)}),Dn(()=>{window.removeEventListener("keydown",T)}),(_,E)=>(B(),Y(it,null,[y.value?(B(),Y("button",{key:0,"aria-label":x(o)("el.tour.close"),class:V(x(d).e("closebtn")),type:"button",onClick:k},[ee(x(st),{class:V(x(d).e("close"))},{default:ie(()=>[(B(),pe(zt(w.value)))]),_:1},8,["class"])],10,WIn)):fe("v-if",!0),Z("header",{class:V([x(d).e("header"),{"show-close":x(u)}])},[ce(_.$slots,"header",{},()=>[Z("span",{role:"heading",class:V(x(d).e("title"))},Fe(_.title),3)])],2),Z("div",{class:V(x(d).e("body"))},[ce(_.$slots,"default",{},()=>[Z("span",null,Fe(_.description),1)])],2),Z("footer",{class:V(x(d).e("footer"))},[Z("div",{class:V(x(d).b("indicators"))},[x(h).indicators?(B(),pe(zt(x(h).indicators),{key:0,current:x(a),total:x(l)},null,8,["current","total"])):(B(!0),Y(it,{key:1},Xt(x(l),(A,N)=>(B(),Y("span",{key:A,class:V([x(d).b("indicator"),x(d).is("active",N===x(a))])},null,2))),128))],2),Z("div",{class:V(x(d).b("buttons"))},[x(a)>0?(B(),pe(x($o),Wt({key:0,size:"small",type:x(f)},b(_.prevButtonProps),{onClick:C}),{default:ie(()=>{var A,N;return[tn(Fe((N=(A=_.prevButtonProps)==null?void 0:A.children)!=null?N:x(o)("el.tour.previous")),1)]}),_:1},16,["type"])):fe("v-if",!0),x(a)<=x(l)-1?(B(),pe(x($o),Wt({key:1,size:"small",type:x(f)==="primary"?"default":"primary"},b(_.nextButtonProps),{onClick:S}),{default:ie(()=>{var A,N;return[tn(Fe((N=(A=_.nextButtonProps)==null?void 0:A.children)!=null?N:x(a)===x(l)-1?x(o)("el.tour.finish"):x(o)("el.tour.next")),1)]}),_:1},16,["type"])):fe("v-if",!0)],2)],2)],64))}});var r8e=Ve(UIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tour/src/step.vue"]]);const jIn=Rt(BIn,{TourStep:r8e}),HIn=Ur(r8e),qIn=Me({container:{type:oe([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:oe(String),default:"default"},direction:{type:oe(String),default:"vertical"},selectScrollTop:Boolean}),GIn={change:e=>ot(e),click:(e,t)=>e instanceof MouseEvent&&(ot(t)||yn(t))},s8e=Symbol("anchor"),jD=e=>{if(!Tn||e==="")return null;if(ot(e))try{return document.querySelector(e)}catch{return null}return e};function KIn(e){let t=0;const n=(...r)=>{t&&yp(t),t=_d(()=>{e(...r),t=0})};return n.cancel=()=>{yp(t),t=0},n}const YIn=me({name:"ElAnchor",__name:"anchor",props:qIn,emits:GIn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ms(),i=j(""),a=j({}),l=j(null),u=j(null),c=j(),f={};let d=!1,h=0;const p=Ae("anchor"),g=O(()=>[p.b(),r.type==="underline"?p.m("underline"):"",p.m(r.direction)]),m=A=>{f[A.href]=A.el},v=A=>{delete f[A]},y=A=>{i.value!==A&&(i.value=A,s(en,A))};let w=null,b="";const C=A=>{if(!c.value)return;const N=jD(A);if(!N)return;if(w){if(b===A)return;w()}b=A,d=!0;const F=Lge(N,c.value),R=mH(N,F),P=F.scrollHeight-F.clientHeight,I=Math.min(R-r.offset,P);w=Jun(c.value,h,I,r.duration,()=>{setTimeout(()=>{d=!1,b=""},20)})},S=A=>{A&&(y(A),C(A))},$=(A,N)=>{s("click",A,N),S(N)},k=KIn(()=>{c.value&&(h=Bge(c.value));const A=T();d||yn(A)||y(A)}),T=()=>{if(!c.value)return;const A=Bge(c.value),N=[];for(const F of Object.keys(f)){const R=jD(F);if(!R)continue;const P=Lge(R,c.value),I=mH(R,P);N.push({top:I-r.offset-r.bound,href:F})}N.sort((F,R)=>F.top-R.top);for(let F=0;F<N.length;F++){const R=N[F],P=N[F+1];if(F===0&&A===0)return r.selectScrollTop?R.href:"";if(R.top<=A&&(!P||P.top>A))return R.href}},_=()=>{const A=jD(r.container);!A||yI(A)?c.value=window:c.value=A};Fn(c,"scroll",k);const E=()=>{Ye(()=>{if(!l.value||!u.value||!i.value){a.value={};return}const A=f[i.value];if(!A){a.value={};return}const N=l.value.getBoundingClientRect(),F=u.value.getBoundingClientRect(),R=A.getBoundingClientRect();if(r.direction==="horizontal"){const P=R.left-N.left;a.value={left:`${P}px`,width:`${R.width}px`,opacity:1}}else{const P=R.top-N.top+(R.height-F.height)/2;a.value={top:`${P}px`,opacity:1}}})};return xe(i,E),xe(()=>{var A;return(A=o.default)==null?void 0:A.call(o)},E),Ht(()=>{_();const A=decodeURIComponent(window.location.hash);jD(A)?S(A):k()}),xe(()=>r.container,()=>{_()}),ln(s8e,{ns:p,direction:r.direction,currentAnchor:i,addLink:m,removeLink:v,handleClick:$}),t({scrollTo:S}),(A,N)=>(B(),Y("div",{ref_key:"anchorRef",ref:l,class:V(g.value)},[A.marker?(B(),Y("div",{key:0,ref_key:"markerRef",ref:u,class:V(x(p).e("marker")),style:dt(a.value)},null,6)):fe("v-if",!0),Z("div",{class:V(x(p).e("list"))},[ce(A.$slots,"default")],2)],2))}});var XIn=Ve(YIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor.vue"]]);const ZIn=Me({title:String,href:String}),JIn=["href"],QIn=me({name:"ElAnchorLink",__name:"anchor-link",props:ZIn,setup(e){const t=e,n=j(null),{ns:r,direction:s,currentAnchor:o,addLink:i,removeLink:a,handleClick:l}=tt(s8e),u=O(()=>[r.e("link"),r.is("active",o.value===t.href)]),c=f=>{l(f,t.href)};return xe(()=>t.href,(f,d)=>{Ye(()=>{d&&a(d),f&&i({href:f,el:n.value})})}),Ht(()=>{const{href:f}=t;f&&i({href:f,el:n.value})}),Dn(()=>{const{href:f}=t;f&&a(f)}),(f,d)=>(B(),Y("div",{class:V(x(r).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:V(u.value),href:f.href,onClick:c},[ce(f.$slots,"default",{},()=>[tn(Fe(f.title),1)])],10,JIn),f.$slots["sub-link"]&&x(s)==="vertical"?(B(),Y("div",{key:0,class:V(x(r).e("list"))},[ce(f.$slots,"sub-link")],2)):fe("v-if",!0)],2))}});var o8e=Ve(QIn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor-link.vue"]]);const eNn=Rt(XIn,{AnchorLink:o8e}),tNn=Ur(o8e),i8e={label:"label",value:"value",disabled:"disabled"},nNn=Me({direction:{type:oe(String),default:"horizontal"},options:{type:oe(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:oe(Object),default:()=>i8e},block:Boolean,size:js,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...fa(["ariaLabel"])}),rNn={[Et]:e=>ot(e)||pt(e)||Ln(e),[en]:e=>ot(e)||pt(e)||Ln(e)},sNn=["id","aria-label","aria-labelledby"],oNn=["name","disabled","checked","onChange"],iNn=me({name:"ElSegmented",__name:"segmented",props:nNn,emits:rNn,setup(e,{emit:t}){const n=e,r=t,s=Ae("segmented"),o=Yo(),i=Fs(),a=jr(),{formItem:l}=Ro(),{inputId:u,isLabeledByFormItem:c}=au(n,{formItemContext:l}),f=j(null),d=Tun(),h=In({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),p=(A,N)=>{const F=v(N);r(Et,F),r(en,F),A.target.checked=F===n.modelValue},g=O(()=>({...i8e,...n.props})),m=A=>A,v=A=>Pt(A)?A[g.value.value]:A,y=A=>Pt(A)?A[g.value.label]:A,w=A=>!!(a.value||Pt(A)&&A[g.value.disabled]),b=A=>n.modelValue===v(A),C=A=>n.options.find(N=>v(N)===A),S=A=>[s.e("item"),s.is("selected",b(A)),s.is("disabled",w(A))],$=()=>{if(!f.value)return;const A=f.value.querySelector(".is-selected"),N=f.value.querySelector(".is-selected input");if(!A||!N){h.width=0,h.height=0,h.translateX=0,h.translateY=0,h.focusVisible=!1;return}h.isInit=!0,n.direction==="vertical"?(h.height=A.offsetHeight,h.translateY=A.offsetTop):(h.width=A.offsetWidth,h.translateX=A.offsetLeft);try{h.focusVisible=N.matches(":focus-visible")}catch{}},k=O(()=>[s.b(),s.m(i.value),s.is("block",n.block)]),T=O(()=>({width:n.direction==="vertical"?"100%":`${h.width}px`,height:n.direction==="vertical"?`${h.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${h.translateY}px)`:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"})),_=O(()=>[s.e("item-selected"),s.is("disabled",w(C(n.modelValue))),s.is("focus-visible",h.focusVisible)]),E=O(()=>n.name||o.value);return Cr(f,$),xe(d,$),xe(()=>n.modelValue,()=>{var A;$(),n.validateEvent&&((A=l?.validate)==null||A.call(l,"change").catch(N=>void 0))},{flush:"post"}),(A,N)=>A.options.length?(B(),Y("div",{key:0,id:x(u),ref_key:"segmentedRef",ref:f,class:V(k.value),role:"radiogroup","aria-label":x(c)?void 0:A.ariaLabel||"segmented","aria-labelledby":x(c)?x(l).labelId:void 0},[Z("div",{class:V([x(s).e("group"),x(s).m(A.direction)])},[Z("div",{style:dt(T.value),class:V(_.value)},null,6),(B(!0),Y(it,null,Xt(A.options,(F,R)=>(B(),Y("label",{key:R,class:V(S(F))},[Z("input",{class:V(x(s).e("item-input")),type:"radio",name:E.value,disabled:w(F),checked:b(F),onChange:P=>p(P,F)},null,42,oNn),Z("div",{class:V(x(s).e("item-label"))},[ce(A.$slots,"default",{item:m(F)},()=>[tn(Fe(y(F)),1)])],2)],2))),128))],2)],10,sNn)):fe("v-if",!0)}});var aNn=Ve(iNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/segmented/src/segmented.vue"]]);const lNn=Rt(aNn),uNn=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value||"").toLowerCase().includes(n)},cNn=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const s=e.value,o=vo(t);let i=-1,a;for(let l=r-1;l>=0;--l){const u=s[l];if(u===n||u===`
`||u==="\r"){i=l;continue}if(o.includes(u)){const c=i===-1?r:i;a={pattern:s.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:i,selectionEnd:r};break}}return a},fNn=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d?.parentNode&&d.parentNode.removeChild(d)}const i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);const a=i.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";a.whiteSpace=u?"nowrap":"pre-wrap",u||(a.wordWrap="break-word"),a.position="absolute",t.debug||(a.visibility="hidden"),o.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),g=p+Number.parseInt(l.lineHeight);h>g?a.lineHeight=`${h-p}px`:h===g?a.lineHeight=l.lineHeight:a.lineHeight="0"}else a.lineHeight=l.height;else a[d]=l[d]}),gne()?e.scrollHeight>Number.parseInt(l.height)&&(a.overflowY="scroll"):a.overflow="hidden",i.textContent=e.value.slice(0,Math.max(0,s)),u&&i.textContent&&(i.textContent=i.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,s))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,i.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(i),f.left>=e.clientWidth&&(f.left=e.clientWidth),f},dNn=Me({...kI,options:{type:oe(Array),default:()=>[]},prefix:{type:oe([String,Array]),default:"@",validator:e=>ot(e)?e.length===1:e.every(t=>ot(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:oe([Boolean,Function]),default:()=>uNn,validator:e=>e===!1?!0:ft(e)},placement:{type:oe(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:oe(Function)},modelValue:String,loading:Boolean,popperClass:Un.popperClass,popperStyle:Un.popperStyle,popperOptions:{type:oe(Object),default:()=>({})},props:{type:oe(Object),default:()=>a8e}}),hNn={[Et]:e=>ot(e),"whole-remove":(e,t)=>ot(e)&&ot(t),input:e=>ot(e),search:(e,t)=>ot(e)&&ot(t),select:(e,t)=>Pt(e)&&ot(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},a8e={value:"value",label:"label",disabled:"disabled"},pNn=Me({options:{type:oe(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),gNn={select:e=>ot(e.value)},mNn=["id","aria-disabled","aria-selected","onMousemove","onClick"],vNn=me({name:"ElMentionDropdown",__name:"mention-dropdown",props:pNn,emits:gNn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=Ae("mention"),{t:i}=un(),a=j(-1),l=j(),u=j(),c=j(),f=(b,C)=>[o.be("dropdown","item"),o.is("hovering",a.value===C),o.is("disabled",b.disabled||r.disabled)],d=b=>{b.disabled||r.disabled||s("select",b)},h=b=>{a.value=b},p=O(()=>r.disabled||r.options.every(b=>b.disabled)),g=O(()=>r.options[a.value]),m=()=>{g.value&&s("select",g.value)},v=b=>{const{options:C}=r;if(C.length===0||p.value)return;b==="next"?(a.value++,a.value===C.length&&(a.value=0)):b==="prev"&&(a.value--,a.value<0&&(a.value=C.length-1));const S=C[a.value];if(S.disabled){v(b);return}Ye(()=>y(S))},y=b=>{var C,S,$,k;const{options:T}=r,_=T.findIndex(A=>A.value===b.value),E=(C=u.value)==null?void 0:C[_];if(E){const A=($=(S=c.value)==null?void 0:S.querySelector)==null?void 0:$.call(S,`.${o.be("dropdown","wrap")}`);A&&fne(A,E)}(k=l.value)==null||k.handleScroll()};return xe(()=>r.options,()=>{p.value||r.options.length===0?a.value=-1:a.value=0},{immediate:!0}),t({hoveringIndex:a,navigateOptions:v,selectHoverOption:m,hoverOption:g}),(b,C)=>(B(),Y("div",{ref_key:"dropdownRef",ref:c,class:V(x(o).b("dropdown"))},[b.$slots.header?(B(),Y("div",{key:0,class:V(x(o).be("dropdown","header"))},[ce(b.$slots,"header")],2)):fe("v-if",!0),Lt(ee(x(jc),{id:b.contentId,ref_key:"scrollbarRef",ref:l,tag:"ul","wrap-class":x(o).be("dropdown","wrap"),"view-class":x(o).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:ie(()=>[(B(!0),Y(it,null,Xt(b.options,(S,$)=>(B(),Y("li",{id:`${b.contentId}-${$}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:$,class:V(f(S,$)),role:"option","aria-disabled":S.disabled||b.disabled||void 0,"aria-selected":a.value===$,onMousemove:k=>h($),onClick:xt(k=>d(S),["stop"])},[ce(b.$slots,"label",{item:S,index:$},()=>{var k;return[Z("span",null,Fe((k=S.label)!=null?k:S.value),1)]})],42,mNn))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Sn,b.options.length>0&&!b.loading]]),b.loading?(B(),Y("div",{key:1,class:V(x(o).be("dropdown","loading"))},[ce(b.$slots,"loading",{},()=>[tn(Fe(x(i)("el.mention.loading")),1)])],2)):fe("v-if",!0),b.$slots.footer?(B(),Y("div",{key:2,class:V(x(o).be("dropdown","footer"))},[ce(b.$slots,"footer")],2)):fe("v-if",!0)],2))}});var yNn=Ve(vNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention-dropdown.vue"]]);const bNn=me({name:"ElMention",inheritAttrs:!1,__name:"mention",props:dNn,emits:hNn,setup(e,{expose:t,emit:n}){const r=e,s=n,o=O(()=>vp(r,Object.keys(kI))),i=Ae("mention"),a=jr(),l=Yo(),u=j(),c=j(),f=j(),d=j(!1),h=j(),p=j(),g=O(()=>r.showArrow?r.placement:`${r.placement}-start`),m=O(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),v=O(()=>({...a8e,...r.props})),y=I=>{const D={label:I[v.value.label],value:I[v.value.value],disabled:I[v.value.disabled]};return{...I,...D}},w=O(()=>r.options.map(y)),b=O(()=>{const{filterOption:I}=r;return!p.value||!I?w.value:w.value.filter(D=>I(p.value.pattern,D))}),C=O(()=>d.value&&(!!b.value.length||r.loading)),S=O(()=>{var I;return`${l.value}-${(I=f.value)==null?void 0:I.hoveringIndex}`}),$=I=>{s(Et,I),s(Os,I),F()},k=I=>{var D,M,z,W;if((D=u.value)!=null&&D.isComposing)return;const H=Hn(I);switch(H){case Oe.left:case Oe.right:F();break;case Oe.up:case Oe.down:if(!d.value)return;I.preventDefault(),(M=f.value)==null||M.navigateOptions(H===Oe.up?"prev":"next");break;case Oe.enter:case Oe.numpadEnter:if(!d.value){r.type!=="textarea"&&F();return}I.preventDefault(),(z=f.value)!=null&&z.hoverOption?(W=f.value)==null||W.selectHoverOption():d.value=!1;break;case Oe.esc:if(!d.value)return;I.preventDefault(),d.value=!1;break;case Oe.backspace:if(r.whole&&p.value){const{splitIndex:U,selectionEnd:K,pattern:G,prefixIndex:re,prefix:ue}=p.value,ae=N();if(!ae)return;const X=ae.value,J=w.value.find(L=>L.value===G);if((ft(r.checkIsWhole)?r.checkIsWhole(G,ue):J)&&U!==-1&&U+1===K){I.preventDefault();const L=X.slice(0,re)+X.slice(U+1);s(Et,L),s(Os,L),s("whole-remove",G,ue);const Q=re;Ye(()=>{ae.selectionStart=Q,ae.selectionEnd=Q,P()})}}}},{wrapperRef:T}=Hp(u,{disabled:a,afterFocus(){F()},beforeBlur(I){var D;return(D=c.value)==null?void 0:D.isFocusInsideContent(I)},afterBlur(){d.value=!1}}),_=()=>{F()},E=I=>r.options.find(D=>I.value===D[v.value.value]),A=I=>{if(!p.value)return;const D=N();if(!D)return;const M=D.value,{split:z}=r,W=M.slice(p.value.end),H=W.startsWith(z),U=`${I.value}${H?"":z}`,K=M.slice(0,p.value.start)+U+W;s(Et,K),s(Os,K),s("select",E(I),p.value.prefix);const G=p.value.start+U.length+(H?1:0);Ye(()=>{D.selectionStart=G,D.selectionEnd=G,D.focus(),P()})},N=()=>{var I,D;return r.type==="textarea"?(I=u.value)==null?void 0:I.textarea:(D=u.value)==null?void 0:D.input},F=()=>{setTimeout(()=>{R(),P(),Ye(()=>{var I;return(I=c.value)==null?void 0:I.updatePopper()})},0)},R=()=>{const I=N();if(!I)return;const D=fNn(I),M=I.getBoundingClientRect(),z=T.value.getBoundingClientRect();h.value={position:"absolute",width:0,height:`${D.height}px`,left:`${D.left+M.left-z.left}px`,top:`${D.top+M.top-z.top}px`}},P=()=>{const I=N();if(document.activeElement!==I){d.value=!1;return}const{prefix:D,split:M}=r;if(p.value=cNn(I,D,M),p.value&&p.value.splitIndex===-1){d.value=!0,s("search",p.value.pattern,p.value.prefix);return}d.value=!1};return t({input:u,tooltip:c,dropdownVisible:C}),(I,D)=>(B(),Y("div",{ref_key:"wrapperRef",ref:T,class:V(x(i).b())},[ee(x(Xi),Wt(Wt(o.value,I.$attrs),{ref_key:"elInputRef",ref:u,"model-value":I.modelValue,disabled:x(a),role:C.value?"combobox":void 0,"aria-activedescendant":C.value?S.value||"":void 0,"aria-controls":C.value?x(l):void 0,"aria-expanded":C.value||void 0,"aria-label":I.ariaLabel,"aria-autocomplete":C.value?"none":void 0,"aria-haspopup":C.value?"listbox":void 0,onInput:$,onKeydown:k,onMousedown:_}),ml({_:2},[Xt(I.$slots,(M,z)=>({name:z,fn:ie(W=>[ce(I.$slots,z,zh(Wh(W)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ee(x(Xo),{ref_key:"tooltipRef",ref:c,visible:C.value,"popper-class":[x(i).e("popper"),I.popperClass],"popper-style":I.popperStyle,"popper-options":I.popperOptions,placement:g.value,"fallback-placements":m.value,effect:"light",pure:"",offset:I.offset,"show-arrow":I.showArrow},{default:ie(()=>[Z("div",{style:dt(h.value)},null,4)]),content:ie(()=>[ee(yNn,{ref_key:"dropdownRef",ref:f,options:b.value,disabled:x(a),loading:I.loading,"content-id":x(l),"aria-label":I.ariaLabel,onSelect:A,onClick:D[0]||(D[0]=xt(M=>{var z;return(z=u.value)==null?void 0:z.focus()},["stop"]))},ml({_:2},[Xt(I.$slots,(M,z)=>({name:z,fn:ie(W=>[ce(I.$slots,z,zh(Wh(W)))])}))]),1032,["options","disabled","loading","content-id","aria-label"])]),_:3},8,["visible","popper-class","popper-style","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var wNn=Ve(bNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention.vue"]]);const xNn=Rt(wNn),CNn=Me({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]},lazy:Boolean}),SNn={resizeStart:(e,t)=>!0,resize:(e,t)=>!0,resizeEnd:(e,t)=>!0,collapse:(e,t,n)=>!0},l8e=Symbol("splitterRootContextKey");function $Nn(e){const t=j(),{width:n,height:r}=sH(t),s=O(()=>e.value==="horizontal"?n.value:r.value);return{containerEl:t,containerSize:s}}function Are(e){return Number(e.slice(0,-1))/100}function Ire(e){return Number(e.slice(0,-2))}function Nre(e){return ot(e)&&e.endsWith("%")}function Dre(e){return ot(e)&&e.endsWith("px")}function kNn(e,t){const n=O(()=>e.value.map(a=>a.size)),r=O(()=>e.value.length),s=j([]);xe([n,r,t],()=>{var a;let l=[],u=0;for(let f=0;f<r.value;f+=1){const d=(a=e.value[f])==null?void 0:a.size;if(Nre(d))l[f]=Are(d);else if(Dre(d))l[f]=Ire(d)/t.value;else if(d||d===0){const h=Number(d);Number.isNaN(h)||(l[f]=h/t.value)}else u+=1,l[f]=void 0}const c=l.reduce((f,d)=>f+(d||0),0);if(c>1||!u){const f=1/c;l=l.map(d=>d===void 0?0:d*f)}else{const f=(1-c)/u;l=l.map(d=>d===void 0?f:d)}s.value=l});const o=a=>a*t.value,i=O(()=>s.value.map(o));return{percentSizes:s,pxSizes:i}}function ENn(e,t,n,r){const s=m=>m*t.value||0;function o(m,v){return Nre(m)?s(Are(m)):Dre(m)?Ire(m):m??v}const i=j(0),a=j(null);let l=[],u=Rn;const c=O(()=>e.value.map(m=>[m.min,m.max]));xe(r,()=>{if(i.value){const m=new MouseEvent("mouseup",{bubbles:!0});window.dispatchEvent(m)}});const f=m=>{i.value=0,a.value={index:m,confirmed:!1},l=n.value},d=(m,v)=>{var y,w;let b=null;if((!a.value||!a.value.confirmed)&&v!==0){if(v>0)b=m,a.value={index:m,confirmed:!0};else for(let N=m;N>=0;N-=1)if(l[N]>0){b=N,a.value={index:N,confirmed:!0};break}}const C=(w=b??((y=a.value)==null?void 0:y.index))!=null?w:m,S=[...l],$=C+1,k=o(c.value[C][0],0),T=o(c.value[$][0],0),_=o(c.value[C][1],t.value||0),E=o(c.value[$][1],t.value||0);let A=v;S[C]+A<k&&(A=k-S[C]),S[$]-A<T&&(A=S[$]-T),S[C]+A>_&&(A=_-S[C]),S[$]-A>E&&(A=S[$]-E),S[C]+=A,S[$]-=A,i.value=A,u=()=>{e.value.forEach((N,F)=>{N.size=S[F]}),u=Rn},r.value||u()},h=()=>{r.value&&u(),i.value=0,a.value=null,l=[]},p=[];return{lazyOffset:i,onMoveStart:f,onMoving:d,onMoveEnd:h,movingIndex:a,onCollapse:(m,v)=>{p.length||p.push(...n.value);const y=n.value,w=v==="start"?m:m+1,b=v==="start"?m+1:m,C=y[w],S=y[b];if(C!==0&&S!==0)y[w]=0,y[b]+=C,p[m]=C;else{const $=C+S,k=p[m],T=$-k;y[b]=k,y[w]=T}e.value.forEach(($,k)=>{$.size=y[k]})}}}const _Nn=me({name:"ElSplitter",__name:"splitter",props:CNn,emits:SNn,setup(e,{emit:t}){const n=Ae("splitter"),r=t,s=e,o=Bn(s,"layout"),i=Bn(s,"lazy"),{containerEl:a,containerSize:l}=$Nn(o),{removeChild:u,children:c,addChild:f,ChildrenSorter:d}=$5(Ut(),"ElSplitterPanel");xe(c,()=>{m.value=null,c.value.forEach((_,E)=>{_.setIndex(E)})});const{percentSizes:h,pxSizes:p}=kNn(c,l),{lazyOffset:g,movingIndex:m,onMoveStart:v,onMoving:y,onMoveEnd:w,onCollapse:b}=ENn(c,l,p,i),C=O(()=>({[n.cssVarBlockName("bar-offset")]:i.value?`${g.value}px`:void 0}));return ln(l8e,In({panels:c,percentSizes:h,pxSizes:p,layout:o,lazy:i,movingIndex:m,containerSize:l,onMoveStart:_=>{v(_),r("resizeStart",_,p.value)},onMoving:(_,E)=>{y(_,E),i.value||r("resize",_,p.value)},onMoveEnd:async _=>{w(),await Ye(),r("resizeEnd",_,p.value)},onCollapse:(_,E)=>{b(_,E),r("collapse",_,E,p.value)},registerPanel:f,unregisterPanel:u})),(_,E)=>(B(),Y("div",{ref_key:"containerEl",ref:a,class:V([x(n).b(),x(n).e(o.value)]),style:dt(C.value)},[ce(_.$slots,"default"),ee(x(d)),fe(" Prevent iframe touch events from breaking "),x(m)?(B(),Y("div",{key:0,class:V([x(n).e("mask"),x(n).e(`mask-${o.value}`)])},null,2)):fe("v-if",!0)],6))}});var TNn=Ve(_Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/splitter.vue"]]);function ANn(e){return e&&Pt(e)?e:{start:!!e,end:!!e}}function Z0e(e,t,n,r){return!!(e?.collapsible.end&&t>0||n?.collapsible.start&&r===0&&t>0)}const INn=me({name:"ElSplitterBar",__name:"split-bar",props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:["moveStart","moving","moveEnd","collapse"],setup(e,{emit:t}){const n=Ae("splitter-bar"),r=e,s=t,o=O(()=>r.layout==="horizontal"),i=O(()=>o.value?{width:0}:{height:0}),a=O(()=>({width:o.value?"16px":"100%",height:o.value?"100%":"16px",cursor:r.resizable?o.value?"ew-resize":"ns-resize":"auto",touchAction:"none"})),l=O(()=>{const y=n.e("dragger");return{[`${y}-horizontal`]:o.value,[`${y}-vertical`]:!o.value,[`${y}-active`]:!!u.value}}),u=j(null),c=y=>{r.resizable&&(u.value=[y.pageX,y.pageY],s("moveStart",r.index),window.addEventListener("mouseup",p),window.addEventListener("mousemove",d))},f=y=>{if(r.resizable&&y.touches.length===1){y.preventDefault();const w=y.touches[0];u.value=[w.pageX,w.pageY],s("moveStart",r.index),window.addEventListener("touchend",g),window.addEventListener("touchmove",h)}},d=y=>{const{pageX:w,pageY:b}=y,C=w-u.value[0],S=b-u.value[1],$=o.value?C:S;s("moving",r.index,$)},h=y=>{if(y.touches.length===1){y.preventDefault();const w=y.touches[0],b=w.pageX-u.value[0],C=w.pageY-u.value[1],S=o.value?b:C;s("moving",r.index,S)}},p=()=>{u.value=null,window.removeEventListener("mouseup",p),window.removeEventListener("mousemove",d),s("moveEnd",r.index)},g=()=>{u.value=null,window.removeEventListener("touchend",g),window.removeEventListener("touchmove",h),s("moveEnd",r.index)},m=O(()=>o.value?bp:y5),v=O(()=>o.value?aa:th);return(y,w)=>(B(),Y("div",{class:V([x(n).b()]),style:dt(i.value)},[e.startCollapsible?(B(),Y("div",{key:0,class:V([x(n).e("collapse-icon"),x(n).e(`${e.layout}-collapse-icon-start`)]),onClick:w[0]||(w[0]=b=>s("collapse",e.index,"start"))},[ce(y.$slots,"start-collapsible",{},()=>[(B(),pe(zt(m.value),{style:{width:"12px",height:"12px"}}))])],2)):fe("v-if",!0),Z("div",{class:V([x(n).e("dragger"),l.value,x(n).is("disabled",!e.resizable),x(n).is("lazy",e.resizable&&e.lazy)]),style:dt(a.value),onMousedown:c,onTouchstart:f},null,38),e.endCollapsible?(B(),Y("div",{key:1,class:V([x(n).e("collapse-icon"),x(n).e(`${e.layout}-collapse-icon-end`)]),onClick:w[1]||(w[1]=b=>s("collapse",e.index,"end"))},[ce(y.$slots,"end-collapsible",{},()=>[(B(),pe(zt(v.value),{style:{width:"12px",height:"12px"}}))])],2)):fe("v-if",!0)],6))}});var NNn=Ve(INn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-bar.vue"]]);const DNn=Me({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),ONn={"update:size":e=>typeof e=="number"||typeof e=="string"},J0e="ElSplitterPanel",RNn=me({name:J0e,__name:"split-panel",props:DNn,emits:ONn,setup(e,{expose:t,emit:n}){const r=Ae("splitter-panel"),s=e,o=n,i=tt(l8e);i||Ts(J0e,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:a,layout:l,lazy:u,containerSize:c,pxSizes:f}=ao(i),{registerPanel:d,unregisterPanel:h,onCollapse:p,onMoveEnd:g,onMoveStart:m,onMoving:v}=i,y=j(),w=Ut(),b=w.uid,C=j(0),S=O(()=>a.value[C.value]),$=D=>{C.value=D},k=O(()=>{var D;return S.value&&(D=f.value[C.value])!=null?D:0}),T=O(()=>{var D;return S.value&&(D=f.value[C.value+1])!=null?D:0}),_=O(()=>S.value?a.value[C.value+1]:null),E=O(()=>{var D;return _.value?s.resizable&&((D=_.value)==null?void 0:D.resizable)&&(k.value!==0||!s.min)&&(T.value!==0||!_.value.min):!1}),A=O(()=>S.value?C.value!==a.value.length-1:!1),N=O(()=>Z0e(S.value,k.value,_.value,T.value)),F=O(()=>Z0e(_.value,T.value,S.value,k.value));function R(D){return Nre(D)?Are(D)*c.value||0:Dre(D)?Ire(D):D??0}let P=!1;xe(()=>s.size,()=>{if(!P&&S.value){if(!c.value){S.value.size=s.size;return}const D=R(s.size),M=R(s.max),z=R(s.min),W=Math.min(Math.max(D,z||0),M||D);W!==D&&o("update:size",W),S.value.size=W}}),xe(()=>{var D;return(D=S.value)==null?void 0:D.size},D=>{D!==s.size&&(P=!0,o("update:size",D),Ye(()=>P=!1))}),xe(()=>s.resizable,D=>{S.value&&(S.value.resizable=D)});const I=In({el:y.value,uid:b,getVnode:()=>w.vnode,setIndex:$,...s,collapsible:O(()=>ANn(s.collapsible))});return d(I),Dn(()=>h(I)),t({splitterPanelRef:y}),(D,M)=>(B(),Y(it,null,[Z("div",Wt({ref_key:"panelEl",ref:y,class:[x(r).b()],style:{flexBasis:`${k.value}px`}},D.$attrs),[ce(D.$slots,"default")],16),A.value?(B(),pe(NNn,{key:0,index:C.value,layout:x(l),lazy:x(u),resizable:E.value,"start-collapsible":N.value,"end-collapsible":F.value,onMoveStart:x(m),onMoving:x(v),onMoveEnd:x(g),onCollapse:x(p)},{"start-collapsible":ie(()=>[ce(D.$slots,"start-collapsible")]),"end-collapsible":ie(()=>[ce(D.$slots,"end-collapsible")]),_:3},8,["index","layout","lazy","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):fe("v-if",!0)],64))}});var u8e=Ve(RNn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-panel.vue"]]);const FNn=Rt(TNn,{SplitPanel:u8e}),MNn=Ur(u8e);var PNn=[tcn,bfn,ipn,m_n,dpn,ypn,XLe,Tpn,Apn,$o,nBe,xgn,kgn,Hgn,qgn,Hmn,$Be,Xmn,Hc,smn,Nne,e0n,m0n,v0n,E5,MBe,H0n,K0n,tvn,nvn,rvn,svn,ovn,wyn,XBe,Ayn,Iyn,jyn,o6e,rbn,Ubn,jbn,Hbn,p6e,dxn,hxn,st,kxn,v6e,Xi,y6e,Wxn,Kxn,c2n,f2n,d2n,h2n,b2n,wCn,kCn,OCn,KLe,T6e,CBe,mmn,gmn,KCn,JCn,sSn,jc,Ux,hM,Z2n,BSn,qSn,GSn,h$n,y$n,V6e,_$n,R$n,F$n,H$n,oEn,iEn,g_n,A_n,I_n,Jh,mre,Avn,L_n,U_n,j_n,Xo,rTn,bre,kTn,VTn,pAn,$An,jIn,HIn,eNn,tNn,lNn,xNn,FNn,MNn];const Ll="ElInfiniteScroll",LNn=50,BNn=200,zNn=0,VNn={delay:{type:Number,default:BNn},distance:{type:Number,default:zNn},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Ore=(e,t)=>Object.entries(VNn).reduce((n,[r,s])=>{var o,i;const{type:a,default:l}=s,u=e.getAttribute(`infinite-scroll-${r}`);let c=(i=(o=t[u])!=null?o:u)!=null?i:l;return c=c==="false"?!1:c,c=a(c),n[r]=Number.isNaN(c)?l:c,n},{}),c8e=e=>{const{observer:t}=e[Ll];t&&(t.disconnect(),delete e[Ll].observer)},WNn=(e,t)=>{const{container:n,containerEl:r,instance:s,observer:o,lastScrollTop:i}=e[Ll],{disabled:a,distance:l}=Ore(e,s),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-i;if(e[Ll].lastScrollTop=f,o||a||d<0)return;let h=!1;if(n===e)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:g}=e,m=mH(e,r);h=f+u>=m+p+g-l}h&&t.call(s)};function Q7(e,t){const{containerEl:n,instance:r}=e[Ll],{disabled:s}=Ore(e,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):c8e(e))}const UNn={async mounted(e,t){const{instance:n,value:r}=t;sd({scope:Ll,from:"the directive v-infinite-scroll",replacement:"the el-scrollbar infinite scroll",version:"3.0.0",ref:"https://element-plus.org/en-US/component/scrollbar#infinite-scroll"},!0),ft(r)||Ts(Ll,"'v-infinite-scroll' binding value must be a function"),await Ye();const{delay:s,immediate:o}=Ore(e,n),i=cne(e,!0),a=i===window?document.documentElement:i,l=jg(WNn.bind(null,e,r),s);if(i){if(e[Ll]={instance:n,container:i,containerEl:a,delay:s,cb:r,onScroll:l,lastScrollTop:a.scrollTop},o){const u=new MutationObserver(jg(Q7.bind(null,e,r),LNn));e[Ll].observer=u,u.observe(e,{childList:!0,subtree:!0}),Q7(e,r)}i.addEventListener("scroll",l)}},unmounted(e){if(!e[Ll])return;const{container:t,onScroll:n}=e[Ll];t?.removeEventListener("scroll",n),c8e(e)},async updated(e){if(!e[Ll])await Ye();else{const{containerEl:t,cb:n,observer:r}=e[Ll];t.clientHeight&&r&&Q7(e,n)}}},tq=UNn;tq.install=e=>{e.directive("InfiniteScroll",tq)};const jNn=tq;function HNn(e,t){let n;const r=j(!1),s=In({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(h){s.text=h}function i(){const h=s.parent,p=d.ns;if(!h.vLoadingAddClassList){let g=h.getAttribute("loading-number");g=Number.parseInt(g)-1,g?h.setAttribute("loading-number",g.toString()):(ia(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),ia(h,p.bm("parent","hidden"))}a(),f.unmount()}function a(){var h,p;(p=(h=d.$el)==null?void 0:h.parentNode)==null||p.removeChild(d.$el)}function l(){var h;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),s.visible=!1,(h=e.closed)==null||h.call(e))}function u(){if(!r.value)return;const h=s.parent;r.value=!1,h.vLoadingAddClassList=void 0,i()}const f=I1e(me({name:"ElLoading",setup(h,{expose:p}){const{ns:g,zIndex:m}=v5("loading");return p({ns:g,zIndex:m}),()=>{const v=s.spinner||s.svg,y=bt("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[bt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),w=s.text?bt("p",{class:g.b("text")},[s.text]):void 0;return bt(Ho,{name:g.b("fade"),onAfterLeave:u},{default:ie(()=>[Lt(ee("div",{style:{backgroundColor:s.background||""},class:[g.b("mask"),s.customClass,g.is("fullscreen",s.fullscreen)]},[bt("div",{class:g.b("spinner")},[y,w])]),[[Sn,s.visible]])])})}}}));Object.assign(f._context,t??{});const d=f.mount(document.createElement("div"));return{...ao(s),setText:o,removeElLoadingChild:a,close:l,handleAfterLeave:u,vm:d,get $el(){return d.$el}}}let HD;const Ew=function(e={},t){if(!Tn)return;const n=qNn(e);if(n.fullscreen&&HD)return HD;const r=HNn({...n,closed:()=>{var o;(o=n.closed)==null||o.call(n),n.fullscreen&&(HD=void 0)}},t??Ew._context);GNn(n,n.parent,r),Q0e(n,n.parent,r),n.parent.vLoadingAddClassList=()=>Q0e(n,n.parent,r);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(r.$el),Ye(()=>r.visible.value=n.visible),n.fullscreen&&(HD=r),r},qNn=e=>{var t,n,r,s;let o;return ot(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,beforeClose:e.beforeClose,closed:e.closed,target:o}},GNn=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(e.fullscreen)n.originalPosition.value=Th(document.body,"position"),n.originalOverflow.value=Th(document.body,"overflow"),s.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Th(document.body,"position"),await Ye();for(const o of["top","left"]){const i=o==="top"?"scrollTop":"scrollLeft";s[o]=`${e.target.getBoundingClientRect()[o]+document.body[i]+document.documentElement[i]-Number.parseInt(Th(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])s[o]=`${e.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=Th(t,"position");for(const[o,i]of Object.entries(s))n.$el.style[o]=i},Q0e=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?ia(t,r.bm("parent","relative")):Tu(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Tu(t,r.bm("parent","hidden")):ia(t,r.bm("parent","hidden"))};Ew._context=null;const R$=Symbol("ElLoading"),uv=e=>`element-loading-${Cp(e)}`,eve=(e,t)=>{var n,r,s,o;const i=t.instance,a=h=>Pt(t.value)?t.value[h]:void 0,l=h=>{const p=ot(h)&&i?.[h]||h;return j(p)},u=h=>l(a(h)||e.getAttribute(uv(h))),c=(n=a("fullscreen"))!=null?n:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=a("target"))!=null?r:c?void 0:e,body:(s=a("body"))!=null?s:t.modifiers.body,lock:(o=a("lock"))!=null?o:t.modifiers.lock},d=Ew(f);d._context=yk._context,e[R$]={options:f,instance:d}},KNn=(e,t)=>{for(const n of Object.keys(e))fr(e[n])&&(e[n].value=t[n])},yk={mounted(e,t){t.value&&eve(e,t)},updated(e,t){const n=e[R$];if(!t.value){n?.instance.close(),e[R$]=null;return}n?KNn(n.options,Pt(t.value)?t.value:{text:e.getAttribute(uv("text")),svg:e.getAttribute(uv("svg")),svgViewBox:e.getAttribute(uv("svgViewBox")),spinner:e.getAttribute(uv("spinner")),background:e.getAttribute(uv("background")),customClass:e.getAttribute(uv("customClass"))}):eve(e,t)},unmounted(e){var t;(t=e[R$])==null||t.instance.close(),e[R$]=null}};yk._context=null;const YNn={install(e){Ew._context=e._context,yk._context=e._context,e.directive("loading",yk),e.config.globalProperties.$loading=Ew},directive:yk,service:Ew},f8e=["primary","success","info","warning","error"],d8e=["top","top-left","top-right","bottom","bottom-left","bottom-right"],k_="top",_i=zr({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:Tn?document.body:void 0}),XNn=Me({customClass:{type:String,default:_i.customClass},dangerouslyUseHTMLString:{type:Boolean,default:_i.dangerouslyUseHTMLString},duration:{type:Number,default:_i.duration},icon:{type:zn,default:_i.icon},id:{type:String,default:_i.id},message:{type:oe([String,Object,Function]),default:_i.message},onClose:{type:oe(Function),default:_i.onClose},showClose:{type:Boolean,default:_i.showClose},type:{type:String,values:f8e,default:_i.type},plain:{type:Boolean,default:_i.plain},offset:{type:Number,default:_i.offset},placement:{type:String,values:d8e,default:_i.placement},zIndex:{type:Number,default:_i.zIndex},grouping:{type:Boolean,default:_i.grouping},repeatNum:{type:Number,default:_i.repeatNum}}),ZNn={destroy:()=>!0},Oc=hq({}),JNn=e=>(Oc[e]||(Oc[e]=hq([])),Oc[e]),QNn=(e,t)=>{const n=Oc[t]||[],r=n.findIndex(i=>i.id===e),s=n[r];let o;return r>0&&(o=n[r-1]),{current:s,prev:o}},eDn=(e,t)=>{const{prev:n}=QNn(e,t);return n?n.vm.exposed.bottom.value:0},tDn=(e,t,n)=>(Oc[n]||[]).findIndex(o=>o.id===e)>0?16:t,nDn=["id"],rDn=["innerHTML"],sDn=me({name:"ElMessage",__name:"message",props:XNn,emits:ZNn,setup(e,{expose:t,emit:n}){const{Close:r}=pne,s=e,o=n,i=j(!1),{ns:a,zIndex:l}=v5("message"),{currentZIndex:u,nextZIndex:c}=l,f=j(),d=j(!1),h=j(0);let p;const g=O(()=>s.type?s.type==="error"?"danger":s.type:"info"),m=O(()=>{const N=s.type;return{[a.bm("icon",N)]:N&&Zm[N]}}),v=O(()=>s.icon||Zm[s.type]||""),y=O(()=>s.placement||k_),w=O(()=>eDn(s.id,y.value)),b=O(()=>tDn(s.id,s.offset,y.value)+w.value),C=O(()=>h.value+b.value),S=O(()=>y.value.includes("left")?a.is("left"):y.value.includes("right")?a.is("right"):a.is("center")),$=O(()=>y.value.startsWith("top")?"top":"bottom"),k=O(()=>({[$.value]:`${b.value}px`,zIndex:u.value}));function T(){s.duration!==0&&({stop:p}=Rx(()=>{E()},s.duration))}function _(){p?.()}function E(){d.value=!1,Ye(()=>{var N;i.value||((N=s.onClose)==null||N.call(s),o("destroy"))})}function A(N){Hn(N)===Oe.esc&&E()}return Ht(()=>{T(),c(),d.value=!0}),xe(()=>s.repeatNum,()=>{_(),T()}),Fn(document,"keydown",A),Cr(f,()=>{h.value=f.value.getBoundingClientRect().height}),t({visible:d,bottom:C,close:E}),(N,F)=>(B(),pe(Ho,{name:x(a).b("fade"),onBeforeEnter:F[0]||(F[0]=R=>i.value=!0),onBeforeLeave:N.onClose,onAfterLeave:F[1]||(F[1]=R=>N.$emit("destroy")),persisted:""},{default:ie(()=>[Lt(Z("div",{id:N.id,ref_key:"messageRef",ref:f,class:V([x(a).b(),{[x(a).m(N.type)]:N.type},x(a).is("closable",N.showClose),x(a).is("plain",N.plain),x(a).is("bottom",$.value==="bottom"),S.value,N.customClass]),style:dt(k.value),role:"alert",onMouseenter:_,onMouseleave:T},[N.repeatNum>1?(B(),pe(x(XLe),{key:0,value:N.repeatNum,type:g.value,class:V(x(a).e("badge"))},null,8,["value","type","class"])):fe("v-if",!0),v.value?(B(),pe(x(st),{key:1,class:V([x(a).e("icon"),m.value])},{default:ie(()=>[(B(),pe(zt(v.value)))]),_:1},8,["class"])):fe("v-if",!0),ce(N.$slots,"default",{},()=>[N.dangerouslyUseHTMLString?(B(),Y(it,{key:1},[fe(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:V(x(a).e("content")),innerHTML:N.message},null,10,rDn)],2112)):(B(),Y("p",{key:0,class:V(x(a).e("content"))},Fe(N.message),3))]),N.showClose?(B(),pe(x(st),{key:2,class:V(x(a).e("closeBtn")),onClick:xt(E,["stop"])},{default:ie(()=>[ee(x(r))]),_:1},8,["class"])):fe("v-if",!0)],46,nDn),[[Sn,d.value]])]),_:3},8,["name","onBeforeLeave"]))}});var oDn=Ve(sDn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let iDn=1;const aDn=e=>{if(!e.appendTo)e.appendTo=document.body;else if(ot(e.appendTo)){let n=document.querySelector(e.appendTo);ul(n)||(n=document.body),e.appendTo=n}},lDn=e=>{!e.placement&&ot(Oi.placement)&&Oi.placement&&(e.placement=Oi.placement),e.placement||(e.placement=k_),d8e.includes(e.placement)||(e.placement=k_)},h8e=e=>{const t=!e||ot(e)||or(e)||ft(e)?{message:e}:e,n={..._i,...t};return aDn(n),lDn(n),Ln(Oi.grouping)&&!n.grouping&&(n.grouping=Oi.grouping),pt(Oi.duration)&&n.duration===3e3&&(n.duration=Oi.duration),pt(Oi.offset)&&n.offset===16&&(n.offset=Oi.offset),Ln(Oi.showClose)&&!n.showClose&&(n.showClose=Oi.showClose),Ln(Oi.plain)&&!n.plain&&(n.plain=Oi.plain),n},uDn=e=>{const t=e.props.placement||k_,n=Oc[t],r=n.indexOf(e);if(r===-1)return;n.splice(r,1);const{handler:s}=e;s.close()},cDn=({appendTo:e,...t},n)=>{const r=`message_${iDn++}`,s=t.onClose,o=document.createElement("div"),i={...t,id:r,onClose:()=>{s?.(),uDn(c)},onDestroy:()=>{am(null,o)}},a=ee(oDn,i,ft(i.message)||or(i.message)?{default:ft(i.message)?i.message:()=>i.message}:null);a.appContext=n||ny._context,am(a,o),e.appendChild(o.firstElementChild);const l=a.component,c={id:r,vnode:a,vm:l,handler:{close:()=>{l.exposed.close()}},props:a.component.props};return c},ny=(e={},t)=>{if(!Tn)return{close:()=>{}};const n=h8e(e),r=JNn(n.placement||k_);if(n.grouping&&r.length){const o=r.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===n.message});if(o)return o.props.repeatNum+=1,o.props.type=n.type,o.handler}if(pt(Oi.max)&&r.length>=Oi.max)return{close:()=>{}};const s=cDn(n,t);return r.push(s),s.handler};f8e.forEach(e=>{ny[e]=(t={},n)=>{const r=h8e(t);return ny({...r,type:e},n)}});function fDn(e){for(const t in Oc)if(En(Oc,t)){const n=[...Oc[t]];for(const r of n)(!e||e===r.props.type)&&r.handler.close()}}function dDn(e){if(!Oc[e])return;[...Oc[e]].forEach(n=>n.handler.close())}ny.closeAll=fDn;ny.closeAllByPlacement=dDn;ny._context=null;const nq=uLe(ny,"$message"),rq="_trap-focus-children",Vv=[],tve=e=>{if(Vv.length===0)return;const t=Hn(e),n=Vv[Vv.length-1][rq];if(n.length>0&&t===Oe.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=e.shiftKey,s=e.target===n[0],o=e.target===n[n.length-1];s&&r&&(e.preventDefault(),n[n.length-1].focus()),o&&!r&&(e.preventDefault(),n[0].focus())}},hDn={beforeMount(e){e[rq]=qge(e),Vv.push(e),Vv.length<=1&&document.addEventListener("keydown",tve)},updated(e){Ye(()=>{e[rq]=qge(e)})},unmounted(){Vv.shift(),Vv.length===0&&document.removeEventListener("keydown",tve)}},pDn=me({name:"ElMessageBox",directives:{TrapFocus:hDn},components:{ElButton:$o,ElFocusTrap:YC,ElInput:Xi,ElOverlay:Hne,ElIcon:st,...pne},inheritAttrs:!1,props:{buttonSize:{type:String,validator:j6e},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:s,size:o}=v5("message-box",O(()=>e.buttonSize)),{t:i}=n,{nextZIndex:a}=r,l=j(!1),u=In({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Vh(Td),cancelButtonLoadingIcon:Vh(Td),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),c=O(()=>{const I=u.type;return{[s.bm("icon",I)]:I&&Zm[I]}}),f=Yo(),d=Yo(),h=O(()=>{const I=u.type;return u.icon||I&&Zm[I]||""}),p=O(()=>!!u.message),g=j(),m=j(),v=j(),y=j(),w=j(),b=O(()=>u.confirmButtonClass);xe(()=>u.inputValue,async I=>{await Ye(),e.boxType==="prompt"&&I&&N()},{immediate:!0}),xe(()=>l.value,I=>{var D,M;I&&(e.boxType!=="prompt"&&(u.autofocus?v.value=(M=(D=w.value)==null?void 0:D.$el)!=null?M:g.value:v.value=g.value),u.zIndex=a()),e.boxType==="prompt"&&(I?Ye().then(()=>{var z;y.value&&y.value.$el&&(u.autofocus?v.value=(z=F())!=null?z:g.value:v.value=g.value)}):(u.editorErrorMessage="",u.validateError=!1))});const C=O(()=>e.draggable),S=O(()=>e.overflow),{isDragging:$}=t6e(g,m,C,S);Ht(async()=>{await Ye(),e.closeOnHashChange&&window.addEventListener("hashchange",k)}),Dn(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",k)});function k(){l.value&&(l.value=!1,Ye(()=>{u.action&&t("action",u.action)}))}const T=()=>{e.closeOnClickModal&&A(u.distinguishCancelAndClose?"close":"cancel")},_=jne(T),E=I=>{if(u.inputType!=="textarea")return I.preventDefault(),A("confirm")},A=I=>{var D;e.boxType==="prompt"&&I==="confirm"&&!N()||(u.action=I,u.beforeClose?(D=u.beforeClose)==null||D.call(u,I,u,k):k())},N=()=>{if(e.boxType==="prompt"){const I=u.inputPattern;if(I&&!I.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;const D=u.inputValidator;if(ft(D)){const M=D(u.inputValue);if(M===!1)return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;if(ot(M))return u.editorErrorMessage=M,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},F=()=>{var I,D;const M=(I=y.value)==null?void 0:I.$refs;return(D=M?.input)!=null?D:M?.textarea},R=()=>{A("close")},P=()=>{e.closeOnPressEscape&&R()};return e.lockScroll&&T5(l,{ns:s}),{...ao(u),ns:s,overlayEvent:_,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:o,iconComponent:h,confirmButtonClasses:b,rootRef:g,focusStartRef:v,headerRef:m,inputRef:y,isDragging:$,confirmRef:w,doClose:k,handleClose:R,onCloseRequested:P,handleWrapperClick:T,handleInputEnter:E,handleAction:A,t:i}}}),gDn=["aria-label","aria-describedby"],mDn=["aria-label"],vDn=["id"];function yDn(e,t,n,r,s,o){const i=Qt("el-icon"),a=Qt("el-input"),l=Qt("el-button"),u=Qt("el-focus-trap"),c=Qt("el-overlay");return B(),pe(Ho,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=f=>e.$emit("vanish")),persisted:""},{default:ie(()=>[Lt(ee(c,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:ie(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:V(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...f)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...f)),onMousedown:t[9]||(t[9]=(...f)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...f)),onMouseup:t[10]||(t[10]=(...f)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...f))},[ee(u,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ie(()=>[Z("div",{ref:"rootRef",class:V([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),e.ns.is("dragging",e.isDragging),{[e.ns.m("center")]:e.center}]),style:dt(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=xt(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(B(),Y("div",{key:0,ref:"headerRef",class:V([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:V(e.ns.e("title"))},[e.iconComponent&&e.center?(B(),pe(i,{key:0,class:V([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),Z("span",null,Fe(e.title),1)],2),e.showClose?(B(),Y("button",{key:0,type:"button",class:V(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=qr(xt(f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ee(i,{class:V(e.ns.e("close"))},{default:ie(()=>[(B(),pe(zt(e.closeIcon||"close")))]),_:1},8,["class"])],42,mDn)):fe("v-if",!0)],2)):fe("v-if",!0),Z("div",{id:e.contentId,class:V(e.ns.e("content"))},[Z("div",{class:V(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(B(),pe(i,{key:0,class:V([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(B(),pe(zt(e.iconComponent)))]),_:1},8,["class"])):fe("v-if",!0),e.hasMessage?(B(),Y("div",{key:1,class:V(e.ns.e("message"))},[ce(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(B(),pe(zt(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(B(),pe(zt(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0,textContent:Fe(e.message)},null,8,["for","textContent"]))])],2)):fe("v-if",!0)],2),Lt(Z("div",{class:V(e.ns.e("input"))},[ee(a,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=f=>e.inputValue=f),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:V({invalid:e.validateError}),onKeydown:qr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:V(e.ns.e("errormsg")),style:dt({visibility:e.editorErrorMessage?"visible":"hidden"})},Fe(e.editorErrorMessage),7)],2),[[Sn,e.showInput]])],10,vDn),Z("div",{class:V(e.ns.e("btns"))},[e.showCancelButton?(B(),pe(l,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:V([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=f=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=qr(xt(f=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:ie(()=>[tn(Fe(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size"])):fe("v-if",!0),Lt(ee(l,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:V([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=f=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=qr(xt(f=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:ie(()=>[tn(Fe(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size"]),[[Sn,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,gDn)]),_:3},8,["z-index","overlay-class","mask"]),[[Sn,e.visible]])]),_:3})}var bDn=Ve(pDn,[["render",yDn],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const E_=new Map,wDn=e=>{let t=document.body;return e.appendTo&&(ot(e.appendTo)&&(t=document.querySelector(e.appendTo)),ul(e.appendTo)&&(t=e.appendTo),ul(t)||(t=document.body)),t},xDn=(e,t,n=null)=>{const r=ee(bDn,e,ft(e.message)||or(e.message)?{default:ft(e.message)?e.message:()=>e.message}:null);return r.appContext=n,am(r,t),wDn(e).appendChild(t.firstElementChild),r.component},CDn=()=>document.createElement("div"),SDn=(e,t)=>{const n=CDn();e.onVanish=()=>{am(null,n),E_.delete(s)},e.onAction=o=>{const i=E_.get(s);let a;e.showInput?a={value:s.inputValue,action:o}:a=o,e.callback?e.callback(a,r.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(a)};const r=xDn(e,n,t),s=r.proxy;for(const o in e)En(e,o)&&!En(s.$props,o)&&(o==="closeIcon"&&Pt(e[o])?s[o]=Vh(e[o]):s[o]=e[o]);return s.visible=!0,s};function JC(e,t=null){if(!Tn)return Promise.reject();let n;return ot(e)||or(e)?e={message:e}:n=e.callback,new Promise((r,s)=>{const o=SDn(e,t??JC._context);E_.set(o,{options:e,callback:n,resolve:r,reject:s})})}const $Dn=["alert","confirm","prompt"],kDn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};$Dn.forEach(e=>{JC[e]=EDn(e)});function EDn(e){return(t,n,r,s)=>{let o="";return Pt(n)?(r=n,o=""):yn(n)?o="":o=n,JC(Object.assign({title:o,message:t,type:"",...kDn[e]},r,{boxType:e}),s)}}JC.close=()=>{E_.forEach((e,t)=>{t.doClose()}),E_.clear()};JC._context=null;const dg=JC;dg.install=e=>{dg._context=e._context,e.config.globalProperties.$msgbox=dg,e.config.globalProperties.$messageBox=dg,e.config.globalProperties.$alert=dg.alert,e.config.globalProperties.$confirm=dg.confirm,e.config.globalProperties.$prompt=dg.prompt};const _Dn=dg,p8e=["primary","success","info","warning","error"],TDn=Me({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:zn},id:{type:String,default:""},message:{type:oe([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:oe(Function),default:()=>{}},onClose:{type:oe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...p8e,""],default:""},zIndex:Number,closeIcon:{type:zn,default:Hu}}),ADn={destroy:()=>!0},IDn=["id"],NDn=["textContent"],DDn={key:0},ODn=["innerHTML"],RDn=me({name:"ElNotification",__name:"notification",props:TDn,emits:ADn,setup(e,{expose:t}){const n=e,{ns:r,zIndex:s}=v5("notification"),{nextZIndex:o,currentZIndex:i}=s,a=j(!1);let l;const u=O(()=>{const y=n.type;return y&&Zm[n.type]?r.m(y):""}),c=O(()=>n.type&&Zm[n.type]||n.icon),f=O(()=>n.position.endsWith("right")?"right":"left"),d=O(()=>n.position.startsWith("top")?"top":"bottom"),h=O(()=>{var y;return{[d.value]:`${n.offset}px`,zIndex:(y=n.zIndex)!=null?y:i.value}});function p(){n.duration>0&&({stop:l}=Rx(()=>{a.value&&m()},n.duration))}function g(){l?.()}function m(){a.value=!1}function v(y){switch(Hn(y)){case Oe.delete:case Oe.backspace:g();break;case Oe.esc:a.value&&m();break;default:p();break}}return Ht(()=>{p(),o(),a.value=!0}),Fn(document,"keydown",v),t({visible:a,close:m}),(y,w)=>(B(),pe(Ho,{name:x(r).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:w[1]||(w[1]=b=>y.$emit("destroy")),persisted:""},{default:ie(()=>[Lt(Z("div",{id:y.id,class:V([x(r).b(),y.customClass,f.value]),style:dt(h.value),role:"alert",onMouseenter:g,onMouseleave:p,onClick:w[0]||(w[0]=(...b)=>y.onClick&&y.onClick(...b))},[c.value?(B(),pe(x(st),{key:0,class:V([x(r).e("icon"),u.value])},{default:ie(()=>[(B(),pe(zt(c.value)))]),_:1},8,["class"])):fe("v-if",!0),Z("div",{class:V(x(r).e("group"))},[Z("h2",{class:V(x(r).e("title")),textContent:Fe(y.title)},null,10,NDn),Lt(Z("div",{class:V(x(r).e("content")),style:dt(y.title?void 0:{margin:0})},[ce(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(B(),Y(it,{key:1},[fe(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:y.message},null,8,ODn)],2112)):(B(),Y("p",DDn,Fe(y.message),1))])],6),[[Sn,y.message]]),y.showClose?(B(),pe(x(st),{key:0,class:V(x(r).e("closeBtn")),onClick:xt(m,["stop"])},{default:ie(()=>[(B(),pe(zt(y.closeIcon)))]),_:1},8,["class"])):fe("v-if",!0)],2)],46,IDn),[[Sn,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var FDn=Ve(RDn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Kx={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},kM=16;let MDn=1;const ry=function(e={},t){if(!Tn)return{close:()=>{}};(ot(e)||or(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;Kx[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+kM}),r+=kM;const s=`notification_${MDn++}`,o=e.onClose,i={...e,offset:r,id:s,onClose:()=>{PDn(s,n,o)}};let a=document.body;ul(e.appendTo)?a=e.appendTo:ot(e.appendTo)&&(a=document.querySelector(e.appendTo)),ul(a)||(a=document.body);const l=document.createElement("div"),u=ee(FDn,i,ft(i.message)?i.message:or(i.message)?()=>i.message:null);return u.appContext=yn(t)?ry._context:t,u.props.onDestroy=()=>{am(null,l)},am(u,l),Kx[n].push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};p8e.forEach(e=>{ry[e]=(t={},n)=>((ot(t)||or(t))&&(t={message:t}),ry({...t,type:e},n))});function PDn(e,t,n){const r=Kx[t],s=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(s===-1)return;const{vm:o}=r[s];if(!o)return;n?.(o);const i=o.el.offsetHeight,a=t.split("-")[0];r.splice(s,1);const l=r.length;if(!(l<1))for(let u=s;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[a],10)-i-kM;f.props.offset=d}}function LDn(){for(const e of Object.values(Kx))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}function BDn(e="top-right"){var t,n,r,s;let o=((r=(n=(t=Kx[e][0])==null?void 0:t.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:i}of Kx[e])i.component.props.offset=o,o+=(((s=i.el)==null?void 0:s.offsetHeight)||0)+kM}ry.closeAll=LDn;ry.updateOffsets=BDn;ry._context=null;const zDn=uLe(ry,"$notify");var VDn=[jNn,YNn,nq,_Dn,zDn,_6e],WDn=jun([...PNn,...VDn]);const UDn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},jDn={class:"app-wrapper"},HDn={class:"config-grid"},qDn={class:"config-item"},GDn={class:"config-item"},KDn={class:"config-item"},YDn={class:"config-item"},XDn={class:"input-cell-group"},ZDn={class:"input-cell-group"},JDn={key:0},QDn={class:"predict-input-grid"},e3n={class:"result-area"},t3n={class:"res-tags"},n3n={key:0,class:"status-bar"},r3n={key:1,class:"viz-placeholder"},s3n={__name:"App",setup(e){const t=In({inputDim:3,outputDim:1,epochs:100,lr:.01}),n=j([{inputs:[1,2,3],outputs:[6]},{inputs:[2,3,4],outputs:[9]},{inputs:[5,1,2],outputs:[8]}]),r=j(new Array(t.inputDim).fill(0)),s=j([]),o=j(!1),i=j(0),a=j(0);let l=null,u={minX:null,maxX:null,minY:null,maxY:null};xe(()=>t.inputDim,g=>{n.value.forEach(m=>{for(;m.inputs.length<g;)m.inputs.push(0);m.inputs.length>g&&(m.inputs.length=g)}),r.value=new Array(g).fill(0)}),xe(()=>t.outputDim,g=>{n.value.forEach(m=>{for(;m.outputs.length<g;)m.outputs.push(0);m.outputs.length>g&&(m.outputs.length=g)})});const c=()=>{n.value.push({inputs:new Array(t.inputDim).fill(0),outputs:new Array(t.outputDim).fill(0)})},f=g=>{n.value.splice(g,1)},d=g=>{const m=g.min(0),v=g.max(0),y=v.sub(m).add($n(1e-7));return{normalized:g.sub(m).div(y),min:m,max:v}},h=async()=>{if(n.value.length<2)return nq.error("Need at least 2 samples to train.");o.value=!0,i.value=0;const g=n.value.map(S=>S.inputs),m=n.value.map(S=>S.outputs),v=Zg(g),y=Zg(m),w=d(v),b=d(y);u={minX:w.min,maxX:w.max,minY:b.min,maxY:b.max},l=HJe(),l.add(u8({units:Math.max(32,t.inputDim*4),activation:"relu",inputShape:[t.inputDim]})),l.add(uQe({rate:.1})),l.add(u8({units:16,activation:"relu"})),l.add(u8({units:t.outputDim})),l.compile({optimizer:mg.adam(t.lr),loss:"meanSquaredError",metrics:["mse"]});const C=document.getElementById("viz-container");try{await l.fit(w.normalized,b.normalized,{epochs:t.epochs,shuffle:!0,callbacks:[Vrn.show.fitCallbacks(C,["loss","mse"],{height:200,callbacks:["onEpochEnd"]}),{onEpochEnd:(S,$)=>{a.value=$.loss,i.value=Math.round((S+1)/t.epochs*100)}}]}),nq.success("Training Complete!"),p()}catch(S){console.error(S)}finally{o.value=!1}},p=()=>{l&&Be(()=>{const m=Zg([r.value]).sub(u.minX).div(u.maxX.sub(u.minX).add(1e-7)),y=l.predict(m).mul(u.maxY.sub(u.minY).add(1e-7)).add(u.minY);s.value=Array.from(y.dataSync()).map(w=>w.toFixed(4))})};return(g,m)=>{const v=Qt("el-button"),y=Qt("el-header"),w=Qt("el-input-number"),b=Qt("el-option"),C=Qt("el-select"),S=Qt("el-table-column"),$=Qt("el-table"),k=Qt("el-card"),T=Qt("el-tag"),_=Qt("el-empty"),E=Qt("el-col"),A=Qt("el-row"),N=Qt("el-main"),F=Qt("el-container");return B(),Y("div",jDn,[ee(F,{class:"main-container"},{default:ie(()=>[ee(y,{height:"60px",class:"main-header"},{default:ie(()=>[m[5]||(m[5]=Z("h1",null,"AI General Function Approximator",-1)),ee(v,{type:"primary",onClick:h,loading:o.value,size:"large"},{default:ie(()=>[...m[4]||(m[4]=[tn(" RUN TRAINING ",-1)])]),_:1},8,["loading"])]),_:1}),ee(N,null,{default:ie(()=>[ee(A,{gutter:20},{default:ie(()=>[ee(E,{md:14,sm:24},{default:ie(()=>[ee(k,{shadow:"hover",class:"card-section"},{header:ie(()=>[...m[6]||(m[6]=[Z("b",null,"1. Configuration & Dataset",-1)])]),default:ie(()=>[Z("div",HDn,[Z("div",qDn,[m[7]||(m[7]=Z("label",null,"Input Dim (N)",-1)),ee(w,{modelValue:t.inputDim,"onUpdate:modelValue":m[0]||(m[0]=R=>t.inputDim=R),min:1,max:10,size:"small"},null,8,["modelValue"])]),Z("div",GDn,[m[8]||(m[8]=Z("label",null,"Output Dim (M)",-1)),ee(w,{modelValue:t.outputDim,"onUpdate:modelValue":m[1]||(m[1]=R=>t.outputDim=R),min:1,max:5,size:"small"},null,8,["modelValue"])]),Z("div",KDn,[m[9]||(m[9]=Z("label",null,"Epochs",-1)),ee(w,{modelValue:t.epochs,"onUpdate:modelValue":m[2]||(m[2]=R=>t.epochs=R),step:50,size:"small"},null,8,["modelValue"])]),Z("div",YDn,[m[10]||(m[10]=Z("label",null,"Learning Rate",-1)),ee(C,{modelValue:t.lr,"onUpdate:modelValue":m[3]||(m[3]=R=>t.lr=R),size:"small",style:{width:"100px"}},{default:ie(()=>[ee(b,{label:"0.1",value:.1}),ee(b,{label:"0.01",value:.01}),ee(b,{label:"0.001",value:.001})]),_:1},8,["modelValue"])])]),ee($,{data:n.value,border:"",stripe:"",size:"small",class:"data-table"},{default:ie(()=>[ee(S,{label:"Inputs (X)","min-width":"180"},{default:ie(R=>[Z("div",XDn,[(B(!0),Y(it,null,Xt(R.row.inputs,(P,I)=>(B(),pe(w,{key:I,modelValue:R.row.inputs[I],"onUpdate:modelValue":D=>R.row.inputs[I]=D,controls:!1,class:"nano-input"},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),_:1}),ee(S,{label:"Outputs (Y)","min-width":"120"},{default:ie(R=>[Z("div",ZDn,[(B(!0),Y(it,null,Xt(R.row.outputs,(P,I)=>(B(),pe(w,{key:I,modelValue:R.row.outputs[I],"onUpdate:modelValue":D=>R.row.outputs[I]=D,controls:!1,class:"nano-input output-style"},null,8,["modelValue","onUpdate:modelValue"]))),128))])]),_:1}),ee(S,{width:"70",align:"center"},{default:ie(R=>[ee(v,{link:"",type:"danger",icon:"Delete",onClick:P=>f(R.$index)},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),ee(v,{icon:"Plus",size:"small",onClick:c,style:{"margin-top":"10px"}},{default:ie(()=>[...m[11]||(m[11]=[tn("Add Sample",-1)])]),_:1})]),_:1}),ee(k,{shadow:"hover",class:"card-section",style:{"margin-top":"20px"}},{header:ie(()=>[...m[12]||(m[12]=[Z("b",null,"3. Live Inference",-1)])]),default:ie(()=>[x(l)?(B(),Y("div",JDn,[Z("div",QDn,[(B(!0),Y(it,null,Xt(r.value,(R,P)=>(B(),Y("div",{key:P,class:"p-field"},[Z("span",null,"x"+Fe(P+1),1),ee(w,{modelValue:r.value[P],"onUpdate:modelValue":I=>r.value[P]=I,onChange:p,size:"default"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),Z("div",e3n,[m[13]||(m[13]=Z("span",{class:"res-label"},"Predicted Output:",-1)),Z("div",t3n,[(B(!0),Y(it,null,Xt(s.value,(R,P)=>(B(),pe(T,{key:P,type:"success",effect:"dark",size:"large"},{default:ie(()=>[tn(" y"+Fe(P+1)+": "+Fe(R),1)]),_:2},1024))),128))])])])):(B(),pe(_,{key:1,description:"Train the model first to enable prediction","image-size":40}))]),_:1})]),_:1}),ee(E,{md:10,sm:24},{default:ie(()=>[ee(k,{shadow:"hover",class:"card-section sticky-viz"},{header:ie(()=>[...m[14]||(m[14]=[Z("b",null,"2. Training Monitor (Real-time)",-1)])]),default:ie(()=>[i.value>0?(B(),Y("div",n3n,[Z("span",null,"Progress: "+Fe(i.value)+"%",1),Z("span",null,"Loss: "+Fe(a.value.toFixed(6)),1)])):fe("",!0),m[15]||(m[15]=Z("div",{id:"viz-container",class:"viz-panel"},null,-1)),i.value===0?(B(),Y("div",r3n," Charts will appear here during training... ")):fe("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},o3n=UDn(s3n,[["__scopeId","data-v-85a23f52"]]);I1e(o3n).use(WDn).mount("#app")});export default i3n();</script>
    <style rel="stylesheet" crossorigin>.app-wrapper[data-v-85a23f52]{background-color:#f4f6f8;min-height:100vh}.main-header[data-v-85a23f52]{background:#fff;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #dcdfe6;padding:0 40px}.main-header h1[data-v-85a23f52]{font-size:1.2rem;color:#303133;margin:0}.card-section[data-v-85a23f52]{border-radius:8px}.config-grid[data-v-85a23f52]{display:flex;gap:20px;margin-bottom:20px;flex-wrap:wrap}.config-item[data-v-85a23f52]{display:flex;flex-direction:column;gap:5px}.config-item label[data-v-85a23f52]{font-size:12px;color:#909399;font-weight:700}.input-cell-group[data-v-85a23f52]{display:flex;flex-wrap:wrap;gap:4px}.nano-input[data-v-85a23f52]{width:75px!important}.status-bar[data-v-85a23f52]{display:flex;justify-content:space-between;margin-bottom:15px;font-family:monospace;font-size:13px;color:#67c23a;background:#f0f9eb;padding:8px;border-radius:4px}.viz-panel[data-v-85a23f52]{min-height:400px;width:100%}.viz-placeholder[data-v-85a23f52]{height:200px;display:flex;align-items:center;justify-content:center;color:#999;border:2px dashed #ebeef5;border-radius:8px}.predict-input-grid[data-v-85a23f52]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:15px;margin-bottom:20px}.p-field[data-v-85a23f52]{display:flex;flex-direction:column;gap:4px}.p-field span[data-v-85a23f52]{font-size:11px;color:#909399}.result-area[data-v-85a23f52]{padding:15px;background:#fdf6ec;border-radius:6px}.res-label[data-v-85a23f52]{display:block;margin-bottom:10px;font-weight:700;color:#e6a23c}.res-tags[data-v-85a23f52]{display:flex;gap:10px;flex-wrap:wrap}.sticky-viz[data-v-85a23f52]{position:sticky;top:20px}:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645,.045,.355,1);--el-transition-function-fast-bezier:cubic-bezier(.23,1,.32,1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px;color-scheme:light;--el-color-primary:#409eff;--el-color-primary-light-3:rgb(121,187,255);--el-color-primary-light-5:rgb(160,207,255);--el-color-primary-light-7:rgb(198,226,255);--el-color-primary-light-8:rgb(217,236,255);--el-color-primary-light-9:rgb(236,245,255);--el-color-primary-dark-2:rgb(51,126,204);--el-color-success:#67c23a;--el-color-success-light-3:rgb(149,212,117);--el-color-success-light-5:rgb(179,225,157);--el-color-success-light-7:rgb(209,237,196);--el-color-success-light-8:rgb(225,243,216);--el-color-success-light-9:rgb(240,249,235);--el-color-success-dark-2:rgb(82,155,46);--el-color-warning:#e6a23c;--el-color-warning-light-3:rgb(238,190,119);--el-color-warning-light-5:rgb(243,209,158);--el-color-warning-light-7:rgb(248,227,197);--el-color-warning-light-8:rgb(250,236,216);--el-color-warning-light-9:rgb(253,246,236);--el-color-warning-dark-2:rgb(184,130,48);--el-color-danger:#f56c6c;--el-color-danger-light-3:rgb(248,152,152);--el-color-danger-light-5:rgb(250,182,182);--el-color-danger-light-7:rgb(252,211,211);--el-color-danger-light-8:rgb(253,226,226);--el-color-danger-light-9:rgb(254,240,240);--el-color-danger-dark-2:rgb(196,86,86);--el-color-error:#f56c6c;--el-color-error-light-3:rgb(248,152,152);--el-color-error-light-5:rgb(250,182,182);--el-color-error-light-7:rgb(252,211,211);--el-color-error-light-8:rgb(253,226,226);--el-color-error-light-9:rgb(254,240,240);--el-color-error-dark-2:rgb(196,86,86);--el-color-info:#909399;--el-color-info-light-3:rgb(177,179,184);--el-color-info-light-5:rgb(200,201,204);--el-color-info-light-7:rgb(222,223,224);--el-color-info-light-8:rgb(233,233,235);--el-color-info-light-9:rgb(244,244,245);--el-color-info-dark-2:rgb(115,118,122);--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0,0,0,.04),0px 8px 20px rgba(0,0,0,.08);--el-box-shadow-light:0px 0px 12px rgba(0,0,0,.12);--el-box-shadow-lighter:0px 0px 6px rgba(0,0,0,.12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0,0,0,.08),0px 12px 32px rgba(0,0,0,.12),0px 8px 16px -8px rgba(0,0,0,.16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0,0,0,.8);--el-overlay-color-light:rgba(0,0,0,.7);--el-overlay-color-lighter:rgba(0,0,0,.5);--el-mask-color:rgba(255,255,255,.9);--el-mask-color-extra-light:rgba(255,255,255,.3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transform-origin:center top;transition:var(--el-transition-md-fade)}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transform-origin:center bottom;transition:var(--el-transition-md-fade)}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transform-origin:top left;transition:var(--el-transition-md-fade)}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-to{opacity:0;transform:translateY(-30px)}.el-list-leave-active{position:absolute!important}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.el-icon{--color:inherit;align-items:center;color:var(--color);display:inline-flex;fill:currentColor;font-size:inherit;height:1em;justify-content:center;line-height:1em;position:relative;width:1em}.el-icon.is-loading{animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-affix--fixed{position:fixed}.el-alert{--el-alert-padding:8px 16px;--el-alert-border-radius-base:var(--el-border-radius-base);--el-alert-title-font-size:14px;--el-alert-title-with-description-font-size:16px;--el-alert-description-font-size:14px;--el-alert-close-font-size:16px;--el-alert-close-customed-font-size:14px;--el-alert-icon-size:16px;--el-alert-icon-large-size:28px;align-items:center;background-color:var(--el-color-white);border-radius:var(--el-alert-border-radius-base);box-sizing:border-box;display:flex;margin:0;opacity:1;overflow:hidden;padding:var(--el-alert-padding);position:relative;transition:opacity var(--el-transition-duration-fast);width:100%}.el-alert.is-light .el-alert__close-btn{color:var(--el-text-color-placeholder)}.el-alert.is-dark .el-alert__close-btn,.el-alert.is-dark .el-alert__description{color:var(--el-color-white)}.el-alert.is-center{justify-content:center}.el-alert--primary{--el-alert-bg-color:var(--el-color-primary-light-9)}.el-alert--primary.is-light{background-color:var(--el-alert-bg-color)}.el-alert--primary.is-light,.el-alert--primary.is-light .el-alert__description{color:var(--el-color-primary)}.el-alert--primary.is-dark{background-color:var(--el-color-primary);color:var(--el-color-white)}.el-alert--success{--el-alert-bg-color:var(--el-color-success-light-9)}.el-alert--success.is-light{background-color:var(--el-alert-bg-color)}.el-alert--success.is-light,.el-alert--success.is-light .el-alert__description{color:var(--el-color-success)}.el-alert--success.is-dark{background-color:var(--el-color-success);color:var(--el-color-white)}.el-alert--info{--el-alert-bg-color:var(--el-color-info-light-9)}.el-alert--info.is-light{background-color:var(--el-alert-bg-color)}.el-alert--info.is-light,.el-alert--info.is-light .el-alert__description{color:var(--el-color-info)}.el-alert--info.is-dark{background-color:var(--el-color-info);color:var(--el-color-white)}.el-alert--warning{--el-alert-bg-color:var(--el-color-warning-light-9)}.el-alert--warning.is-light{background-color:var(--el-alert-bg-color)}.el-alert--warning.is-light,.el-alert--warning.is-light .el-alert__description{color:var(--el-color-warning)}.el-alert--warning.is-dark{background-color:var(--el-color-warning);color:var(--el-color-white)}.el-alert--error{--el-alert-bg-color:var(--el-color-error-light-9)}.el-alert--error.is-light{background-color:var(--el-alert-bg-color)}.el-alert--error.is-light,.el-alert--error.is-light .el-alert__description{color:var(--el-color-error)}.el-alert--error.is-dark{background-color:var(--el-color-error);color:var(--el-color-white)}.el-alert__content{display:flex;flex-direction:column;gap:4px}.el-alert .el-alert__icon{font-size:var(--el-alert-icon-size);margin-right:8px;width:var(--el-alert-icon-size)}.el-alert .el-alert__icon.is-big{font-size:var(--el-alert-icon-large-size);margin-right:12px;width:var(--el-alert-icon-large-size)}.el-alert__title{font-size:var(--el-alert-title-font-size);line-height:24px}.el-alert__title.with-description{font-size:var(--el-alert-title-with-description-font-size)}.el-alert .el-alert__description{font-size:var(--el-alert-description-font-size);margin:0}.el-alert .el-alert__close-btn{cursor:pointer;font-size:var(--el-alert-close-font-size);opacity:1;position:absolute;right:16px;top:12px}.el-alert .el-alert__close-btn.is-customed{font-size:var(--el-alert-close-customed-font-size);font-style:normal;line-height:24px;top:8px}.el-alert-fade-enter-from,.el-alert-fade-leave-active{opacity:0}.el-aside{box-sizing:border-box;flex-shrink:0;overflow:auto;width:var(--el-aside-width,300px)}.el-autocomplete{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;display:inline-block;position:relative;width:var(--el-input-width)}.el-autocomplete__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-autocomplete__popper.el-popper,.el-autocomplete__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-autocomplete__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-autocomplete__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-autocomplete-suggestion{border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-autocomplete-suggestion__header{border-bottom:1px solid var(--el-border-color-lighter);padding:10px}.el-autocomplete-suggestion__footer{border-top:1px solid var(--el-border-color-lighter);padding:10px}.el-autocomplete-suggestion__wrap{box-sizing:border-box;max-height:280px;padding:10px 0}.el-autocomplete-suggestion__list{margin:0;padding:0}.el-autocomplete-suggestion li{color:var(--el-text-color-regular);cursor:pointer;font-size:var(--el-font-size-base);line-height:34px;list-style:none;margin:0;overflow:hidden;padding:0 20px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.el-autocomplete-suggestion li.highlighted,.el-autocomplete-suggestion li:hover{background-color:var(--el-fill-color-light)}.el-autocomplete-suggestion li.divider{border-top:1px solid var(--el-color-black);margin-top:6px}.el-autocomplete-suggestion li.divider:last-child{margin-bottom:-6px}.el-autocomplete-suggestion.is-loading li{align-items:center;color:var(--el-text-color-secondary);cursor:default;display:flex;font-size:20px;height:100px;justify-content:center}.el-autocomplete-suggestion.is-loading li:hover{background-color:var(--el-bg-color-overlay)}.el-avatar{--el-avatar-text-color:var(--el-color-white);--el-avatar-bg-color:var(--el-text-color-disabled);--el-avatar-text-size:14px;--el-avatar-icon-size:18px;--el-avatar-border-radius:var(--el-border-radius-base);--el-avatar-size-large:56px;--el-avatar-size-small:24px;--el-avatar-size:40px;align-items:center;background:var(--el-avatar-bg-color);box-sizing:border-box;color:var(--el-avatar-text-color);display:inline-flex;font-size:var(--el-avatar-text-size);height:var(--el-avatar-size);justify-content:center;outline:none;overflow:hidden;text-align:center;width:var(--el-avatar-size)}.el-avatar>img{display:block;height:100%;width:100%}.el-avatar--circle{border-radius:50%}.el-avatar--square{border-radius:var(--el-avatar-border-radius)}.el-avatar--icon{font-size:var(--el-avatar-icon-size)}.el-avatar--small{--el-avatar-size:24px}.el-avatar--large{--el-avatar-size:56px}.el-backtop{--el-backtop-bg-color:var(--el-bg-color-overlay);--el-backtop-text-color:var(--el-color-primary);--el-backtop-hover-bg-color:var(--el-border-color-extra-light);align-items:center;background-color:var(--el-backtop-bg-color);border-radius:50%;box-shadow:var(--el-box-shadow-lighter);color:var(--el-backtop-text-color);cursor:pointer;display:flex;font-size:20px;height:40px;justify-content:center;position:fixed;width:40px;z-index:5}.el-backtop:hover{background-color:var(--el-backtop-hover-bg-color)}.el-backtop__icon{font-size:20px}.el-badge{--el-badge-bg-color:var(--el-color-danger);--el-badge-radius:10px;--el-badge-font-size:12px;--el-badge-padding:6px;--el-badge-size:18px;display:inline-block;position:relative;vertical-align:middle;width:-moz-fit-content;width:fit-content}.el-badge__content{align-items:center;background-color:var(--el-badge-bg-color);border:1px solid var(--el-bg-color);border-radius:var(--el-badge-radius);color:var(--el-color-white);display:inline-flex;font-size:var(--el-badge-font-size);height:var(--el-badge-size);justify-content:center;padding:0 var(--el-badge-padding);white-space:nowrap}.el-badge__content.is-fixed{position:absolute;right:calc(1px + var(--el-badge-size)/2);top:0;transform:translateY(-50%) translate(100%);z-index:var(--el-index-normal)}.el-badge__content.is-fixed.is-dot{right:5px}.el-badge__content.is-dot{border-radius:50%;height:8px;padding:0;right:0;width:8px}.el-badge__content.is-hide-zero{display:none}.el-badge__content--primary{background-color:var(--el-color-primary)}.el-badge__content--success{background-color:var(--el-color-success)}.el-badge__content--warning{background-color:var(--el-color-warning)}.el-badge__content--info{background-color:var(--el-color-info)}.el-badge__content--danger{background-color:var(--el-color-danger)}.el-breadcrumb{font-size:14px;line-height:1}.el-breadcrumb:after,.el-breadcrumb:before{content:"";display:table}.el-breadcrumb:after{clear:both}.el-breadcrumb__separator{color:var(--el-text-color-placeholder);font-weight:700;margin:0 9px}.el-breadcrumb__separator.el-icon{font-weight:400;margin:0 6px}.el-breadcrumb__separator.el-icon svg{vertical-align:middle}.el-breadcrumb__item{align-items:center;display:inline-flex;float:left}.el-breadcrumb__inner{color:var(--el-text-color-regular)}.el-breadcrumb__inner a,.el-breadcrumb__inner.is-link{color:var(--el-text-color-primary);font-weight:700;text-decoration:none;transition:var(--el-transition-color)}.el-breadcrumb__inner a:hover,.el-breadcrumb__inner.is-link:hover{color:var(--el-color-primary);cursor:pointer}.el-breadcrumb__item:last-child .el-breadcrumb__inner,.el-breadcrumb__item:last-child .el-breadcrumb__inner a,.el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover,.el-breadcrumb__item:last-child .el-breadcrumb__inner:hover{color:var(--el-text-color-regular);cursor:text;font-weight:400}.el-breadcrumb__item:last-child .el-breadcrumb__separator{display:none}.el-button-group>.el-button+.el-button{margin-left:0}.el-button-group>.el-button:first-child:last-child{border-bottom-left-radius:var(--el-border-radius-base);border-bottom-right-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);border-top-right-radius:var(--el-border-radius-base)}.el-button-group>.el-button:first-child:last-child.is-round{border-radius:var(--el-border-radius-round)}.el-button-group>.el-button:first-child:last-child.is-circle{border-radius:50%}.el-button-group>.el-button:not(:first-child):not(:last-child){border-radius:0}.el-button-group>.el-button.is-active,.el-button-group>.el-button:active,.el-button-group>.el-button:focus,.el-button-group>.el-button:hover{z-index:1}.el-button-group--horizontal{display:inline-block;vertical-align:middle}.el-button-group--horizontal:after,.el-button-group--horizontal:before{content:"";display:table}.el-button-group--horizontal:after{clear:both}.el-button-group--horizontal>.el-button{float:left;position:relative}.el-button-group--horizontal>.el-button:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.el-button-group--horizontal>.el-button:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.el-button-group--horizontal>.el-button:not(:last-child){margin-right:-1px}.el-button-group--horizontal .el-button--primary:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--primary:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--primary:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--success:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--warning:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--danger:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group--horizontal .el-button--info:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group--horizontal>.el-dropdown>.el-button{border-bottom-left-radius:0;border-left-color:var(--el-button-divide-border-color);border-top-left-radius:0}.el-button-group--vertical{align-items:stretch;display:inline-flex;flex-direction:column}.el-button-group--vertical>.el-button{margin-top:-1px}.el-button-group--vertical>.el-button:first-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.el-button-group--vertical>.el-button:last-child{border-top-left-radius:0;border-top-right-radius:0}.el-button-group--vertical>.el-dropdown{margin-top:-1px}.el-button-group--vertical>.el-dropdown>.el-button{border-left-color:var(--el-button-divide-border-color);border-top-left-radius:0;border-top-right-radius:0}.el-button-group--vertical .el-button--primary:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--primary:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--primary:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--success:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--warning:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--danger:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:first-child{border-bottom-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:last-child{border-top-color:var(--el-button-divide-border-color)}.el-button-group--vertical .el-button--info:not(:first-child):not(:last-child){border-bottom-color:var(--el-button-divide-border-color);border-top-color:var(--el-button-divide-border-color)}.el-button{--el-button-font-weight:var(--el-font-weight-primary);--el-button-border-color:var(--el-border-color);--el-button-bg-color:var(--el-fill-color-blank);--el-button-text-color:var(--el-text-color-regular);--el-button-disabled-text-color:var(--el-disabled-text-color);--el-button-disabled-bg-color:var(--el-fill-color-blank);--el-button-disabled-border-color:var(--el-border-color-light);--el-button-divide-border-color:rgba(255,255,255,.5);--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-primary-light-9);--el-button-hover-border-color:var(--el-color-primary-light-7);--el-button-active-text-color:var(--el-button-hover-text-color);--el-button-active-border-color:var(--el-color-primary);--el-button-active-bg-color:var(--el-button-hover-bg-color);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-hover-link-text-color:var(--el-text-color-secondary);--el-button-active-color:var(--el-text-color-primary);align-items:center;-webkit-appearance:none;background-color:var(--el-button-bg-color);border:var(--el-border);border-color:var(--el-button-border-color);box-sizing:border-box;color:var(--el-button-text-color);cursor:pointer;display:inline-flex;font-weight:var(--el-button-font-weight);height:32px;justify-content:center;line-height:1;outline:none;text-align:center;transition:.1s;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-button:hover{background-color:var(--el-button-hover-bg-color);border-color:var(--el-button-hover-border-color);color:var(--el-button-hover-text-color);outline:none}.el-button:active{background-color:var(--el-button-active-bg-color);border-color:var(--el-button-active-border-color);color:var(--el-button-active-text-color);outline:none}.el-button:focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px;transition:outline-offset 0s,outline 0s}.el-button>span{align-items:center;display:inline-flex}.el-button+.el-button{margin-left:12px}.el-button{border-radius:var(--el-border-radius-base);font-size:var(--el-font-size-base)}.el-button,.el-button.is-round{padding:8px 15px}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon]+span{margin-left:6px}.el-button [class*=el-icon] svg{vertical-align:bottom}.el-button.is-plain{--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-fill-color-blank);--el-button-hover-border-color:var(--el-color-primary)}.el-button.is-active{background-color:var(--el-button-active-bg-color);border-color:var(--el-button-active-border-color);color:var(--el-button-active-text-color);outline:none}.el-button.is-disabled,.el-button.is-disabled:hover{background-color:var(--el-button-disabled-bg-color);background-image:none;border-color:var(--el-button-disabled-border-color);color:var(--el-button-disabled-text-color);cursor:not-allowed}.el-button.is-loading{pointer-events:none;position:relative}.el-button.is-loading:before{background-color:var(--el-mask-color-extra-light);border-radius:inherit;content:"";inset:-1px;pointer-events:none;position:absolute;z-index:1}.el-button.is-round{border-radius:var(--el-border-radius-round)}.el-button.is-circle{border-radius:50%;padding:8px;width:32px}.el-button.is-text{background-color:transparent;border:0 solid transparent;color:var(--el-button-text-color)}.el-button.is-text.is-disabled{background-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button.is-text:not(.is-disabled):hover{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled):focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px;transition:outline-offset 0s,outline 0s}.el-button.is-text:not(.is-disabled):active{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled).is-has-bg:hover{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg:active{background-color:var(--el-fill-color-dark)}.el-button__text--expand{letter-spacing:.3em;margin-right:-.3em}.el-button.is-link{background:transparent;border-color:transparent;color:var(--el-button-text-color);height:auto;padding:2px}.el-button.is-link:hover{color:var(--el-button-hover-link-text-color)}.el-button.is-link.is-disabled{background-color:transparent!important;border-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button.is-link:not(.is-disabled):active,.el-button.is-link:not(.is-disabled):hover{background-color:transparent;border-color:transparent}.el-button.is-link:not(.is-disabled):active{color:var(--el-button-active-color)}.el-button--text{background:transparent;border-color:transparent;color:var(--el-color-primary);padding-left:0;padding-right:0}.el-button--text.is-disabled{background-color:transparent!important;border-color:transparent!important;color:var(--el-button-disabled-text-color)}.el-button--text:not(.is-disabled):hover{background-color:transparent;border-color:transparent;color:var(--el-color-primary-light-3)}.el-button--text:not(.is-disabled):active{background-color:transparent;border-color:transparent;color:var(--el-color-primary-dark-2)}.el-button__link--expand{letter-spacing:.3em;margin-right:-.3em}.el-button--primary{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-primary);--el-button-border-color:var(--el-color-primary);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-active-color:var(--el-color-primary-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-primary-light-5);--el-button-hover-bg-color:var(--el-color-primary-light-3);--el-button-hover-border-color:var(--el-color-primary-light-3);--el-button-active-bg-color:var(--el-color-primary-dark-2);--el-button-active-border-color:var(--el-color-primary-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-primary-light-5);--el-button-disabled-border-color:var(--el-color-primary-light-5)}.el-button--primary.is-link,.el-button--primary.is-plain,.el-button--primary.is-text{--el-button-text-color:var(--el-color-primary);--el-button-bg-color:var(--el-color-primary-light-9);--el-button-border-color:var(--el-color-primary-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-primary);--el-button-hover-border-color:var(--el-color-primary);--el-button-active-text-color:var(--el-color-white)}.el-button--primary.is-link.is-disabled,.el-button--primary.is-link.is-disabled:active,.el-button--primary.is-link.is-disabled:focus,.el-button--primary.is-link.is-disabled:hover,.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover,.el-button--primary.is-text.is-disabled,.el-button--primary.is-text.is-disabled:active,.el-button--primary.is-text.is-disabled:focus,.el-button--primary.is-text.is-disabled:hover{background-color:var(--el-color-primary-light-9);border-color:var(--el-color-primary-light-8);color:var(--el-color-primary-light-5)}.el-button--success{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-success);--el-button-border-color:var(--el-color-success);--el-button-outline-color:var(--el-color-success-light-5);--el-button-active-color:var(--el-color-success-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-success-light-5);--el-button-hover-bg-color:var(--el-color-success-light-3);--el-button-hover-border-color:var(--el-color-success-light-3);--el-button-active-bg-color:var(--el-color-success-dark-2);--el-button-active-border-color:var(--el-color-success-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-success-light-5);--el-button-disabled-border-color:var(--el-color-success-light-5)}.el-button--success.is-link,.el-button--success.is-plain,.el-button--success.is-text{--el-button-text-color:var(--el-color-success);--el-button-bg-color:var(--el-color-success-light-9);--el-button-border-color:var(--el-color-success-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-success);--el-button-hover-border-color:var(--el-color-success);--el-button-active-text-color:var(--el-color-white)}.el-button--success.is-link.is-disabled,.el-button--success.is-link.is-disabled:active,.el-button--success.is-link.is-disabled:focus,.el-button--success.is-link.is-disabled:hover,.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover,.el-button--success.is-text.is-disabled,.el-button--success.is-text.is-disabled:active,.el-button--success.is-text.is-disabled:focus,.el-button--success.is-text.is-disabled:hover{background-color:var(--el-color-success-light-9);border-color:var(--el-color-success-light-8);color:var(--el-color-success-light-5)}.el-button--warning{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-warning);--el-button-border-color:var(--el-color-warning);--el-button-outline-color:var(--el-color-warning-light-5);--el-button-active-color:var(--el-color-warning-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-warning-light-5);--el-button-hover-bg-color:var(--el-color-warning-light-3);--el-button-hover-border-color:var(--el-color-warning-light-3);--el-button-active-bg-color:var(--el-color-warning-dark-2);--el-button-active-border-color:var(--el-color-warning-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-warning-light-5);--el-button-disabled-border-color:var(--el-color-warning-light-5)}.el-button--warning.is-link,.el-button--warning.is-plain,.el-button--warning.is-text{--el-button-text-color:var(--el-color-warning);--el-button-bg-color:var(--el-color-warning-light-9);--el-button-border-color:var(--el-color-warning-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-warning);--el-button-hover-border-color:var(--el-color-warning);--el-button-active-text-color:var(--el-color-white)}.el-button--warning.is-link.is-disabled,.el-button--warning.is-link.is-disabled:active,.el-button--warning.is-link.is-disabled:focus,.el-button--warning.is-link.is-disabled:hover,.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover,.el-button--warning.is-text.is-disabled,.el-button--warning.is-text.is-disabled:active,.el-button--warning.is-text.is-disabled:focus,.el-button--warning.is-text.is-disabled:hover{background-color:var(--el-color-warning-light-9);border-color:var(--el-color-warning-light-8);color:var(--el-color-warning-light-5)}.el-button--danger{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-danger);--el-button-border-color:var(--el-color-danger);--el-button-outline-color:var(--el-color-danger-light-5);--el-button-active-color:var(--el-color-danger-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-danger-light-5);--el-button-hover-bg-color:var(--el-color-danger-light-3);--el-button-hover-border-color:var(--el-color-danger-light-3);--el-button-active-bg-color:var(--el-color-danger-dark-2);--el-button-active-border-color:var(--el-color-danger-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-danger-light-5);--el-button-disabled-border-color:var(--el-color-danger-light-5)}.el-button--danger.is-link,.el-button--danger.is-plain,.el-button--danger.is-text{--el-button-text-color:var(--el-color-danger);--el-button-bg-color:var(--el-color-danger-light-9);--el-button-border-color:var(--el-color-danger-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-danger);--el-button-hover-border-color:var(--el-color-danger);--el-button-active-text-color:var(--el-color-white)}.el-button--danger.is-link.is-disabled,.el-button--danger.is-link.is-disabled:active,.el-button--danger.is-link.is-disabled:focus,.el-button--danger.is-link.is-disabled:hover,.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover,.el-button--danger.is-text.is-disabled,.el-button--danger.is-text.is-disabled:active,.el-button--danger.is-text.is-disabled:focus,.el-button--danger.is-text.is-disabled:hover{background-color:var(--el-color-danger-light-9);border-color:var(--el-color-danger-light-8);color:var(--el-color-danger-light-5)}.el-button--info{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-info);--el-button-border-color:var(--el-color-info);--el-button-outline-color:var(--el-color-info-light-5);--el-button-active-color:var(--el-color-info-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-info-light-5);--el-button-hover-bg-color:var(--el-color-info-light-3);--el-button-hover-border-color:var(--el-color-info-light-3);--el-button-active-bg-color:var(--el-color-info-dark-2);--el-button-active-border-color:var(--el-color-info-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-info-light-5);--el-button-disabled-border-color:var(--el-color-info-light-5)}.el-button--info.is-link,.el-button--info.is-plain,.el-button--info.is-text{--el-button-text-color:var(--el-color-info);--el-button-bg-color:var(--el-color-info-light-9);--el-button-border-color:var(--el-color-info-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-info);--el-button-hover-border-color:var(--el-color-info);--el-button-active-text-color:var(--el-color-white)}.el-button--info.is-link.is-disabled,.el-button--info.is-link.is-disabled:active,.el-button--info.is-link.is-disabled:focus,.el-button--info.is-link.is-disabled:hover,.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover,.el-button--info.is-text.is-disabled,.el-button--info.is-text.is-disabled:active,.el-button--info.is-text.is-disabled:focus,.el-button--info.is-text.is-disabled:hover{background-color:var(--el-color-info-light-9);border-color:var(--el-color-info-light-8);color:var(--el-color-info-light-5)}.el-button--large{--el-button-size:40px;height:var(--el-button-size)}.el-button--large [class*=el-icon]+span{margin-left:8px}.el-button--large{border-radius:var(--el-border-radius-base);font-size:var(--el-font-size-base);padding:12px 19px}.el-button--large.is-round{padding:12px 19px}.el-button--large.is-circle{padding:12px;width:var(--el-button-size)}.el-button--small{--el-button-size:24px;height:var(--el-button-size)}.el-button--small [class*=el-icon]+span{margin-left:4px}.el-button--small{border-radius:calc(var(--el-border-radius-base) - 1px);font-size:12px;padding:5px 11px}.el-button--small.is-round{padding:5px 11px}.el-button--small.is-circle{padding:5px;width:var(--el-button-size)}.el-calendar{--el-calendar-border:var(--el-table-border,1px solid var(--el-border-color-lighter));--el-calendar-header-border-bottom:var(--el-calendar-border);--el-calendar-selected-bg-color:var(--el-color-primary-light-9);--el-calendar-cell-width:85px;background-color:var(--el-fill-color-blank)}.el-calendar__header{border-bottom:var(--el-calendar-header-border-bottom);display:flex;justify-content:space-between;padding:12px 20px}.el-calendar__title{align-self:center;color:var(--el-text-color)}.el-calendar__body{padding:12px 20px 35px}.el-calendar-table{table-layout:fixed;width:100%}.el-calendar-table thead th{color:var(--el-text-color-regular);font-weight:400;padding:12px 0}.el-calendar-table:not(.is-range) td.next,.el-calendar-table:not(.is-range) td.prev{color:var(--el-text-color-placeholder)}.el-calendar-table td{border-bottom:var(--el-calendar-border);border-right:var(--el-calendar-border);transition:background-color var(--el-transition-duration-fast) ease;vertical-align:top}.el-calendar-table td.is-selected{background-color:var(--el-calendar-selected-bg-color)}.el-calendar-table td.is-today{color:var(--el-color-primary)}.el-calendar-table tr:first-child td{border-top:var(--el-calendar-border)}.el-calendar-table tr td:first-child{border-left:var(--el-calendar-border)}.el-calendar-table tr.el-calendar-table__row--hide-border td{border-top:none}.el-calendar-table .el-calendar-day{box-sizing:border-box;height:var(--el-calendar-cell-width);padding:8px}.el-calendar-table .el-calendar-day:hover{background-color:var(--el-calendar-selected-bg-color);cursor:pointer}.el-card{--el-card-border-color:var(--el-border-color-light);--el-card-border-radius:4px;--el-card-padding:20px;--el-card-bg-color:var(--el-fill-color-blank);background-color:var(--el-card-bg-color);border:1px solid var(--el-card-border-color);border-radius:var(--el-card-border-radius);color:var(--el-text-color-primary);display:flex;flex-direction:column;overflow:hidden;transition:var(--el-transition-duration)}.el-card.is-always-shadow,.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover{box-shadow:var(--el-box-shadow-light)}.el-card__header{border-bottom:1px solid var(--el-card-border-color);box-sizing:border-box;padding:calc(var(--el-card-padding) - 2px) var(--el-card-padding)}.el-card__body{flex:1;overflow:auto;padding:var(--el-card-padding)}.el-card__footer{border-top:1px solid var(--el-card-border-color);box-sizing:border-box;padding:calc(var(--el-card-padding) - 2px) var(--el-card-padding)}.el-carousel__item{display:inline-block;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.el-carousel__item,.el-carousel__item.is-active{z-index:calc(var(--el-index-normal) - 1)}.el-carousel__item--card,.el-carousel__item.is-animating{transition:transform .4s ease-in-out}.el-carousel__item--card{width:50%}.el-carousel__item--card.is-in-stage{cursor:pointer;z-index:var(--el-index-normal)}.el-carousel__item--card.is-in-stage.is-hover .el-carousel__mask,.el-carousel__item--card.is-in-stage:hover .el-carousel__mask{opacity:.12}.el-carousel__item--card.is-active{z-index:calc(var(--el-index-normal) + 1)}.el-carousel__item--card-vertical{height:50%;width:100%}.el-carousel__mask{background-color:var(--el-color-white);height:100%;left:0;opacity:.24;position:absolute;top:0;transition:var(--el-transition-duration-fast);width:100%}.el-carousel{--el-carousel-arrow-font-size:12px;--el-carousel-arrow-size:36px;--el-carousel-arrow-background:rgba(31,45,61,.11);--el-carousel-arrow-hover-background:rgba(31,45,61,.23);--el-carousel-indicator-width:30px;--el-carousel-indicator-height:2px;--el-carousel-indicator-padding-horizontal:4px;--el-carousel-indicator-padding-vertical:12px;--el-carousel-indicator-out-color:var(--el-border-color-hover);position:relative}.el-carousel--horizontal,.el-carousel--vertical{overflow:hidden}.el-carousel__container{height:300px;position:relative}.el-carousel__arrow{align-items:center;background-color:var(--el-carousel-arrow-background);border:none;border-radius:50%;color:#fff;cursor:pointer;display:inline-flex;font-size:var(--el-carousel-arrow-font-size);height:var(--el-carousel-arrow-size);justify-content:center;margin:0;outline:none;padding:0;position:absolute;text-align:center;top:50%;transform:translateY(-50%);transition:var(--el-transition-duration);width:var(--el-carousel-arrow-size);z-index:10}.el-carousel__arrow--left{left:16px}.el-carousel__arrow--right{right:16px}.el-carousel__arrow:hover{background-color:var(--el-carousel-arrow-hover-background)}.el-carousel__arrow i{cursor:pointer}.el-carousel__indicators{list-style:none;margin:0;padding:0;position:absolute;z-index:calc(var(--el-index-normal) + 1)}.el-carousel__indicators--horizontal{bottom:0;left:50%;transform:translate(-50%)}.el-carousel__indicators--vertical{right:0;top:50%;transform:translateY(-50%)}.el-carousel__indicators--outside{bottom:calc(var(--el-carousel-indicator-height) + var(--el-carousel-indicator-padding-vertical)*2);position:static;text-align:center;transform:none}.el-carousel__indicators--outside .el-carousel__indicator:hover button{opacity:.64}.el-carousel__indicators--outside button{background-color:var(--el-carousel-indicator-out-color);opacity:.24}.el-carousel__indicators--right{right:0}.el-carousel__indicators--labels{left:0;right:0;text-align:center;transform:none}.el-carousel__indicators--labels .el-carousel__button{color:#000;font-size:12px;height:auto;padding:2px 18px;width:auto}.el-carousel__indicators--labels .el-carousel__indicator{padding:6px 4px}.el-carousel__indicator{background-color:transparent;cursor:pointer}.el-carousel__indicator:hover button{opacity:.72}.el-carousel__indicator--horizontal{display:inline-block;padding:var(--el-carousel-indicator-padding-vertical) var(--el-carousel-indicator-padding-horizontal)}.el-carousel__indicator--vertical{padding:var(--el-carousel-indicator-padding-horizontal) var(--el-carousel-indicator-padding-vertical)}.el-carousel__indicator--vertical .el-carousel__button{height:calc(var(--el-carousel-indicator-width)/2);width:var(--el-carousel-indicator-height)}.el-carousel__indicator.is-active button{opacity:1}.el-carousel__button{background-color:#fff;border:none;cursor:pointer;display:block;height:var(--el-carousel-indicator-height);margin:0;opacity:.48;outline:none;padding:0;transition:var(--el-transition-duration);width:var(--el-carousel-indicator-width)}.carousel-arrow-left-enter-from,.carousel-arrow-left-leave-active{opacity:0;transform:translateY(-50%) translate(-10px)}.carousel-arrow-right-enter-from,.carousel-arrow-right-leave-active{opacity:0;transform:translateY(-50%) translate(10px)}.el-transitioning{filter:url(#elCarouselHorizontal)}.el-transitioning-vertical{filter:url(#elCarouselVertical)}.el-cascader-panel{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);border-radius:var(--el-cascader-menu-radius);display:flex;font-size:var(--el-cascader-menu-font-size);width:-moz-fit-content;width:fit-content}.el-cascader-panel.is-bordered{border:var(--el-cascader-menu-border);border-radius:var(--el-cascader-menu-radius)}.el-cascader-menu{border-right:var(--el-cascader-menu-border);box-sizing:border-box;color:var(--el-cascader-menu-text-color);min-width:180px}.el-cascader-menu:last-child{border-right:none}.el-cascader-menu:last-child .el-cascader-node{padding-right:20px}.el-cascader-menu__wrap.el-scrollbar__wrap{height:204px}.el-cascader-menu__list{box-sizing:border-box;list-style:none;margin:0;min-height:100%;padding:6px 0;position:relative}.el-cascader-menu__hover-zone{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.el-cascader-menu__empty-text{align-items:center;color:var(--el-cascader-color-empty);display:flex;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-cascader-menu__empty-text .is-loading{margin-right:2px}.el-cascader-node{align-items:center;display:flex;height:34px;line-height:34px;outline:none;padding:0 30px 0 20px;position:relative}.el-cascader-node.is-selectable.in-active-path{color:var(--el-cascader-menu-text-color)}.el-cascader-node.in-active-path,.el-cascader-node.is-active,.el-cascader-node.is-selectable.in-checked-path{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader-node:not(.is-disabled){cursor:pointer}.el-cascader-node:not(.is-disabled):focus,.el-cascader-node:not(.is-disabled):hover{background:var(--el-cascader-node-background-hover)}.el-cascader-node.is-disabled{color:var(--el-cascader-node-color-disabled);cursor:not-allowed}.el-cascader-node__prefix{left:10px;position:absolute}.el-cascader-node__postfix{position:absolute;right:10px}.el-cascader-node__label{flex:1;overflow:hidden;padding:0 8px;text-align:left;text-overflow:ellipsis;white-space:nowrap}.el-cascader-node>.el-checkbox,.el-cascader-node>.el-radio{margin-right:0}.el-cascader-node>.el-radio .el-radio__label{padding-left:0}.el-cascader{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);display:inline-block;font-size:var(--el-font-size-base);line-height:32px;outline:none;position:relative;vertical-align:middle}.el-cascader:not(.is-disabled):hover .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset;cursor:pointer}.el-cascader .el-input{cursor:pointer;display:flex}.el-cascader .el-input .el-input__inner{text-overflow:ellipsis}.el-cascader .el-input .el-input__inner:-moz-read-only{cursor:pointer}.el-cascader .el-input .el-input__inner:read-only{cursor:pointer}.el-cascader .el-input .el-input__inner:disabled{cursor:not-allowed}.el-cascader .el-input .el-input__suffix-inner .el-icon svg{vertical-align:middle}.el-cascader .el-input .icon-arrow-down{font-size:14px;transition:transform var(--el-transition-duration)}.el-cascader .el-input .icon-arrow-down.is-reverse{transform:rotate(180deg)}.el-cascader .el-input .icon-circle-close:hover{color:var(--el-input-clear-hover-color,var(--el-text-color-secondary))}.el-cascader .el-input.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color,var(--el-color-primary)) inset}.el-cascader--large{font-size:14px;line-height:40px}.el-cascader--large .el-cascader__tags{gap:6px;padding:8px}.el-cascader--large .el-cascader__search-input{height:24px;margin-left:7px}.el-cascader--small{font-size:12px;line-height:24px}.el-cascader--small .el-cascader__tags{gap:4px;padding:2px}.el-cascader--small .el-cascader__search-input{height:20px;margin-left:5px}.el-cascader.is-disabled .el-cascader__label{color:var(--el-disabled-text-color);z-index:calc(var(--el-index-normal) + 1)}.el-cascader__dropdown{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-bg-color-overlay);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-fill-color-light);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:var(--el-fill-color);border-radius:var(--el-cascader-menu-radius);font-size:var(--el-cascader-menu-font-size)}.el-cascader__dropdown.el-popper{background:var(--el-cascader-menu-fill)}.el-cascader__dropdown.el-popper,.el-cascader__dropdown.el-popper .el-popper__arrow:before{border:var(--el-cascader-menu-border)}.el-cascader__dropdown.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-cascader__dropdown.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-cascader__dropdown.el-popper{box-shadow:var(--el-cascader-menu-shadow)}.el-cascader__header{border-bottom:1px solid var(--el-border-color-light);padding:10px}.el-cascader__footer{border-top:1px solid var(--el-border-color-light);padding:10px}.el-cascader__tags{box-sizing:border-box;display:flex;flex-wrap:wrap;gap:6px;left:0;line-height:normal;padding:4px;position:absolute;right:30px;text-align:left;top:50%;transform:translateY(-50%)}.el-cascader__tags .el-tag{align-items:center;background:var(--el-cascader-tag-background);display:inline-flex;max-width:100%;text-overflow:ellipsis}.el-cascader__tags .el-tag.el-tag--dark,.el-cascader__tags .el-tag.el-tag--plain{background-color:var(--el-tag-bg-color)}.el-cascader__tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__tags .el-tag:not(.is-hit).el-tag--dark,.el-cascader__tags .el-tag:not(.is-hit).el-tag--plain{border-color:var(--el-tag-border-color)}.el-cascader__tags .el-tag>span{flex:1;line-height:normal;overflow:hidden;text-overflow:ellipsis}.el-cascader__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);color:var(--el-color-white);flex:none}.el-cascader__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-cascader__tags .el-tag+input{margin-left:0}.el-cascader__tags.is-validate{right:55px}.el-cascader__collapse-tags{white-space:normal;z-index:var(--el-index-normal)}.el-cascader__collapse-tags .el-tag{align-items:center;background:var(--el-fill-color);display:inline-flex;max-width:100%;text-overflow:ellipsis}.el-cascader__collapse-tags .el-tag.el-tag--dark,.el-cascader__collapse-tags .el-tag.el-tag--plain{background-color:var(--el-tag-bg-color)}.el-cascader__collapse-tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__collapse-tags .el-tag:not(.is-hit).el-tag--dark,.el-cascader__collapse-tags .el-tag:not(.is-hit).el-tag--plain{border-color:var(--el-tag-border-color)}.el-cascader__collapse-tags .el-tag>span{flex:1;line-height:normal;overflow:hidden;text-overflow:ellipsis}.el-cascader__collapse-tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);color:var(--el-color-white);flex:none}.el-cascader__collapse-tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-cascader__collapse-tags .el-tag+input{margin-left:0}.el-cascader__collapse-tags .el-tag{margin:2px 0}.el-cascader__suggestion-panel{border-radius:var(--el-cascader-menu-radius)}.el-cascader__suggestion-list{color:var(--el-cascader-menu-text-color);font-size:var(--el-font-size-base);margin:0;max-height:204px;padding:6px 0;text-align:center}.el-cascader__suggestion-item{align-items:center;cursor:pointer;display:flex;height:34px;justify-content:space-between;outline:none;padding:0 15px;text-align:left}.el-cascader__suggestion-item:focus,.el-cascader__suggestion-item:hover{background:var(--el-cascader-node-background-hover)}.el-cascader__suggestion-item.is-checked{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader__suggestion-item>span{margin-right:10px}.el-cascader__empty-text{color:var(--el-cascader-color-empty);margin:10px 0}.el-cascader__search-input{background:transparent;border:none;box-sizing:border-box;color:var(--el-cascader-menu-text-color);flex:1;height:24px;margin-left:7px;min-width:60px;outline:none;padding:0}.el-cascader__search-input::-moz-placeholder{color:transparent}.el-cascader__search-input::placeholder{color:transparent}.el-check-tag{background-color:var(--el-color-info-light-9);border-radius:var(--el-border-radius-base);color:var(--el-color-info);cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:700;line-height:var(--el-font-size-base);padding:7px 15px;transition:var(--el-transition-all)}.el-check-tag:hover{background-color:var(--el-color-info-light-7)}.el-check-tag.el-check-tag--primary.is-checked{background-color:var(--el-color-primary-light-8);color:var(--el-color-primary)}.el-check-tag.el-check-tag--primary.is-checked:hover{background-color:var(--el-color-primary-light-7)}.el-check-tag.el-check-tag--primary.is-checked.is-disabled{background-color:var(--el-color-primary-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--primary.is-checked.is-disabled:hover{background-color:var(--el-color-primary-light-8)}.el-check-tag.el-check-tag--primary.is-disabled{background-color:var(--el-color-info-light-9);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--primary.is-disabled:hover{background-color:var(--el-color-info-light-9)}.el-check-tag.el-check-tag--success.is-checked{background-color:var(--el-color-success-light-8);color:var(--el-color-success)}.el-check-tag.el-check-tag--success.is-checked:hover{background-color:var(--el-color-success-light-7)}.el-check-tag.el-check-tag--success.is-checked.is-disabled{background-color:var(--el-color-success-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--success.is-checked.is-disabled:hover{background-color:var(--el-color-success-light-8)}.el-check-tag.el-check-tag--success.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--success.is-disabled,.el-check-tag.el-check-tag--success.is-disabled:hover{background-color:var(--el-color-success-light-9)}.el-check-tag.el-check-tag--warning.is-checked{background-color:var(--el-color-warning-light-8);color:var(--el-color-warning)}.el-check-tag.el-check-tag--warning.is-checked:hover{background-color:var(--el-color-warning-light-7)}.el-check-tag.el-check-tag--warning.is-checked.is-disabled{background-color:var(--el-color-warning-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--warning.is-checked.is-disabled:hover{background-color:var(--el-color-warning-light-8)}.el-check-tag.el-check-tag--warning.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--warning.is-disabled,.el-check-tag.el-check-tag--warning.is-disabled:hover{background-color:var(--el-color-warning-light-9)}.el-check-tag.el-check-tag--danger.is-checked{background-color:var(--el-color-danger-light-8);color:var(--el-color-danger)}.el-check-tag.el-check-tag--danger.is-checked:hover{background-color:var(--el-color-danger-light-7)}.el-check-tag.el-check-tag--danger.is-checked.is-disabled{background-color:var(--el-color-danger-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--danger.is-checked.is-disabled:hover{background-color:var(--el-color-danger-light-8)}.el-check-tag.el-check-tag--danger.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--danger.is-disabled,.el-check-tag.el-check-tag--danger.is-disabled:hover{background-color:var(--el-color-danger-light-9)}.el-check-tag.el-check-tag--error.is-checked{background-color:var(--el-color-error-light-8);color:var(--el-color-error)}.el-check-tag.el-check-tag--error.is-checked:hover{background-color:var(--el-color-error-light-7)}.el-check-tag.el-check-tag--error.is-checked.is-disabled{background-color:var(--el-color-error-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--error.is-checked.is-disabled:hover{background-color:var(--el-color-error-light-8)}.el-check-tag.el-check-tag--error.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--error.is-disabled,.el-check-tag.el-check-tag--error.is-disabled:hover{background-color:var(--el-color-error-light-9)}.el-check-tag.el-check-tag--info.is-checked{background-color:var(--el-color-info-light-8);color:var(--el-color-info)}.el-check-tag.el-check-tag--info.is-checked:hover{background-color:var(--el-color-info-light-7)}.el-check-tag.el-check-tag--info.is-checked.is-disabled{background-color:var(--el-color-info-light-8);color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--info.is-checked.is-disabled:hover{background-color:var(--el-color-info-light-8)}.el-check-tag.el-check-tag--info.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-check-tag.el-check-tag--info.is-disabled,.el-check-tag.el-check-tag--info.is-disabled:hover{background-color:var(--el-color-info-light-9)}.el-checkbox-button{--el-checkbox-button-checked-bg-color:var(--el-color-primary);--el-checkbox-button-checked-text-color:var(--el-color-white);--el-checkbox-button-checked-border-color:var(--el-color-primary);display:inline-block;position:relative}.el-checkbox-button__inner{-webkit-appearance:none;background:var(--el-button-bg-color,var(--el-fill-color-blank));border-radius:0;box-sizing:border-box;color:var(--el-button-text-color,var(--el-text-color-regular));cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:var(--el-checkbox-font-weight);line-height:1;margin:0;outline:var(--el-border);padding:8px 15px;position:relative;text-align:center;transition:var(--el-transition-all);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-checkbox-button__inner.is-round{padding:8px 15px}.el-checkbox-button__inner:hover{color:var(--el-color-primary)}.el-checkbox-button__inner [class*=el-icon-]{line-height:.9}.el-checkbox-button__inner [class*=el-icon-]+span{margin-left:5px}.el-checkbox-button__original{margin:0;opacity:0;outline:none;position:absolute;z-index:-1}.el-checkbox-button.is-checked .el-checkbox-button__inner{background-color:var(--el-checkbox-button-checked-bg-color);border-color:var(--el-checkbox-button-checked-border-color);box-shadow:-1px 0 0 0 var(--el-color-primary-light-7);color:var(--el-checkbox-button-checked-text-color)}.el-checkbox-button.is-checked:first-child .el-checkbox-button__inner{border-left-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button.is-disabled .el-checkbox-button__inner{background-color:var(--el-button-disabled-bg-color,var(--el-fill-color-blank));background-image:none;border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none;color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox-button.is-disabled:first-child .el-checkbox-button__inner{border-left-color:var(--el-button-disabled-border-color,var(--el-border-color-light))}.el-checkbox-button:first-child .el-checkbox-button__inner{border-bottom-left-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);box-shadow:none!important}.el-checkbox-button.is-focus .el-checkbox-button__inner{border-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button:last-child .el-checkbox-button__inner{border-bottom-right-radius:var(--el-border-radius-base);border-top-right-radius:var(--el-border-radius-base)}.el-checkbox-button--large .el-checkbox-button__inner{border-radius:0;font-size:var(--el-font-size-base);padding:12px 19px}.el-checkbox-button--large .el-checkbox-button__inner.is-round{padding:12px 19px}.el-checkbox-button--small .el-checkbox-button__inner{border-radius:0;font-size:12px;padding:5px 11px}.el-checkbox-button--small .el-checkbox-button__inner.is-round{padding:5px 11px}.el-checkbox-group{font-size:0;line-height:0}.el-checkbox{--el-checkbox-font-size:14px;--el-checkbox-font-weight:var(--el-font-weight-primary);--el-checkbox-text-color:var(--el-text-color-regular);--el-checkbox-input-height:14px;--el-checkbox-input-width:14px;--el-checkbox-border-radius:var(--el-border-radius-small);--el-checkbox-bg-color:var(--el-fill-color-blank);--el-checkbox-input-border:var(--el-border);--el-checkbox-disabled-border-color:var(--el-border-color);--el-checkbox-disabled-input-fill:var(--el-fill-color-light);--el-checkbox-disabled-icon-color:var(--el-text-color-placeholder);--el-checkbox-disabled-checked-input-fill:var(--el-border-color-extra-light);--el-checkbox-disabled-checked-input-border-color:var(--el-border-color);--el-checkbox-disabled-checked-icon-color:var(--el-text-color-placeholder);--el-checkbox-checked-text-color:var(--el-color-primary);--el-checkbox-checked-input-border-color:var(--el-color-primary);--el-checkbox-checked-bg-color:var(--el-color-primary);--el-checkbox-checked-icon-color:var(--el-color-white);--el-checkbox-input-border-color-hover:var(--el-color-primary);align-items:center;color:var(--el-checkbox-text-color);cursor:pointer;display:inline-flex;font-size:var(--el-font-size-base);font-weight:var(--el-checkbox-font-weight);height:var(--el-checkbox-height,32px);margin-right:30px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-checkbox.is-disabled{cursor:not-allowed}.el-checkbox.is-bordered{border:var(--el-border);border-radius:var(--el-border-radius-base);box-sizing:border-box;padding:0 15px 0 9px}.el-checkbox.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-checkbox.is-bordered.is-disabled{border-color:var(--el-border-color-lighter)}.el-checkbox.is-bordered.el-checkbox--large{border-radius:var(--el-border-radius-base);padding:0 19px 0 11px}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__label{font-size:var(--el-font-size-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{border-radius:calc(var(--el-border-radius-base) - 1px);padding:0 11px 0 7px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox input:focus-visible+.el-checkbox__inner{border-radius:var(--el-checkbox-border-radius);outline:2px solid var(--el-checkbox-input-border-color-hover);outline-offset:1px}.el-checkbox__input{cursor:pointer;display:inline-flex;outline:none;position:relative;white-space:nowrap}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:var(--el-checkbox-disabled-input-fill);border-color:var(--el-checkbox-disabled-border-color);cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-icon-color);cursor:not-allowed;will-change:transform}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-disabled-checked-icon-color);border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-checked-icon-color);transform:translate(-45%,-60%) rotate(45deg) scaleY(1)}.el-checkbox__input.is-checked+.el-checkbox__label{color:var(--el-checkbox-checked-text-color)}.el-checkbox__input.is-focus:not(.is-checked) .el-checkbox__original:not(:focus-visible){border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-checked-icon-color);content:"";display:block;height:2px;left:0;position:absolute;right:0;top:5px;transform:scale(.5)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:after{display:none}.el-checkbox__inner{background-color:var(--el-checkbox-bg-color);border:var(--el-checkbox-input-border);border-radius:var(--el-checkbox-border-radius);box-sizing:border-box;display:inline-block;height:var(--el-checkbox-input-height);position:relative;transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46),outline .25s cubic-bezier(.71,-.46,.29,1.46);width:var(--el-checkbox-input-width);z-index:var(--el-index-normal)}.el-checkbox__inner:hover{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__inner:after{border:1px solid transparent;border-left:0;border-top:0;box-sizing:content-box;content:"";height:7px;left:50%;position:absolute;top:50%;transform:translate(-45%,-60%) rotate(45deg) scaleY(0);transform-origin:center;transition:transform .15s ease-in .05s;width:3px}.el-checkbox__original{height:0;margin:0;opacity:0;outline:none;position:absolute;width:0;z-index:-1}.el-checkbox__label{display:inline-block;font-size:var(--el-checkbox-font-size);line-height:1;padding-left:8px}.el-checkbox.el-checkbox--large{height:40px}.el-checkbox.el-checkbox--large .el-checkbox__label{font-size:14px}.el-checkbox.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.el-checkbox--small{height:24px}.el-checkbox.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.el-checkbox--small .el-checkbox__input.is-indeterminate .el-checkbox__inner:before{top:4px}.el-checkbox.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox:last-of-type{margin-right:0}[class*=el-col-]{box-sizing:border-box}[class*=el-col-].is-guttered{display:block;min-height:1px}.el-col-0{flex:0 0 0%;max-width:0}.el-col-0,.el-col-0.is-guttered{display:none}.el-col-offset-0{margin-left:0}.el-col-pull-0{position:relative;right:0}.el-col-push-0{left:0;position:relative}.el-col-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-1,.el-col-1.is-guttered{display:block}.el-col-offset-1{margin-left:4.1666666667%}.el-col-pull-1{position:relative;right:4.1666666667%}.el-col-push-1{left:4.1666666667%;position:relative}.el-col-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-2,.el-col-2.is-guttered{display:block}.el-col-offset-2{margin-left:8.3333333333%}.el-col-pull-2{position:relative;right:8.3333333333%}.el-col-push-2{left:8.3333333333%;position:relative}.el-col-3{flex:0 0 12.5%;max-width:12.5%}.el-col-3,.el-col-3.is-guttered{display:block}.el-col-offset-3{margin-left:12.5%}.el-col-pull-3{position:relative;right:12.5%}.el-col-push-3{left:12.5%;position:relative}.el-col-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-4,.el-col-4.is-guttered{display:block}.el-col-offset-4{margin-left:16.6666666667%}.el-col-pull-4{position:relative;right:16.6666666667%}.el-col-push-4{left:16.6666666667%;position:relative}.el-col-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-5,.el-col-5.is-guttered{display:block}.el-col-offset-5{margin-left:20.8333333333%}.el-col-pull-5{position:relative;right:20.8333333333%}.el-col-push-5{left:20.8333333333%;position:relative}.el-col-6{flex:0 0 25%;max-width:25%}.el-col-6,.el-col-6.is-guttered{display:block}.el-col-offset-6{margin-left:25%}.el-col-pull-6{position:relative;right:25%}.el-col-push-6{left:25%;position:relative}.el-col-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-7,.el-col-7.is-guttered{display:block}.el-col-offset-7{margin-left:29.1666666667%}.el-col-pull-7{position:relative;right:29.1666666667%}.el-col-push-7{left:29.1666666667%;position:relative}.el-col-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-8,.el-col-8.is-guttered{display:block}.el-col-offset-8{margin-left:33.3333333333%}.el-col-pull-8{position:relative;right:33.3333333333%}.el-col-push-8{left:33.3333333333%;position:relative}.el-col-9{flex:0 0 37.5%;max-width:37.5%}.el-col-9,.el-col-9.is-guttered{display:block}.el-col-offset-9{margin-left:37.5%}.el-col-pull-9{position:relative;right:37.5%}.el-col-push-9{left:37.5%;position:relative}.el-col-10{flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-10,.el-col-10.is-guttered{display:block}.el-col-offset-10{margin-left:41.6666666667%}.el-col-pull-10{position:relative;right:41.6666666667%}.el-col-push-10{left:41.6666666667%;position:relative}.el-col-11{flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-11,.el-col-11.is-guttered{display:block}.el-col-offset-11{margin-left:45.8333333333%}.el-col-pull-11{position:relative;right:45.8333333333%}.el-col-push-11{left:45.8333333333%;position:relative}.el-col-12{flex:0 0 50%;max-width:50%}.el-col-12,.el-col-12.is-guttered{display:block}.el-col-offset-12{margin-left:50%}.el-col-pull-12{position:relative;right:50%}.el-col-push-12{left:50%;position:relative}.el-col-13{flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-13,.el-col-13.is-guttered{display:block}.el-col-offset-13{margin-left:54.1666666667%}.el-col-pull-13{position:relative;right:54.1666666667%}.el-col-push-13{left:54.1666666667%;position:relative}.el-col-14{flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-14,.el-col-14.is-guttered{display:block}.el-col-offset-14{margin-left:58.3333333333%}.el-col-pull-14{position:relative;right:58.3333333333%}.el-col-push-14{left:58.3333333333%;position:relative}.el-col-15{flex:0 0 62.5%;max-width:62.5%}.el-col-15,.el-col-15.is-guttered{display:block}.el-col-offset-15{margin-left:62.5%}.el-col-pull-15{position:relative;right:62.5%}.el-col-push-15{left:62.5%;position:relative}.el-col-16{flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-16,.el-col-16.is-guttered{display:block}.el-col-offset-16{margin-left:66.6666666667%}.el-col-pull-16{position:relative;right:66.6666666667%}.el-col-push-16{left:66.6666666667%;position:relative}.el-col-17{flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-17,.el-col-17.is-guttered{display:block}.el-col-offset-17{margin-left:70.8333333333%}.el-col-pull-17{position:relative;right:70.8333333333%}.el-col-push-17{left:70.8333333333%;position:relative}.el-col-18{flex:0 0 75%;max-width:75%}.el-col-18,.el-col-18.is-guttered{display:block}.el-col-offset-18{margin-left:75%}.el-col-pull-18{position:relative;right:75%}.el-col-push-18{left:75%;position:relative}.el-col-19{flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-19,.el-col-19.is-guttered{display:block}.el-col-offset-19{margin-left:79.1666666667%}.el-col-pull-19{position:relative;right:79.1666666667%}.el-col-push-19{left:79.1666666667%;position:relative}.el-col-20{flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-20,.el-col-20.is-guttered{display:block}.el-col-offset-20{margin-left:83.3333333333%}.el-col-pull-20{position:relative;right:83.3333333333%}.el-col-push-20{left:83.3333333333%;position:relative}.el-col-21{flex:0 0 87.5%;max-width:87.5%}.el-col-21,.el-col-21.is-guttered{display:block}.el-col-offset-21{margin-left:87.5%}.el-col-pull-21{position:relative;right:87.5%}.el-col-push-21{left:87.5%;position:relative}.el-col-22{flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-22,.el-col-22.is-guttered{display:block}.el-col-offset-22{margin-left:91.6666666667%}.el-col-pull-22{position:relative;right:91.6666666667%}.el-col-push-22{left:91.6666666667%;position:relative}.el-col-23{flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-23,.el-col-23.is-guttered{display:block}.el-col-offset-23{margin-left:95.8333333333%}.el-col-pull-23{position:relative;right:95.8333333333%}.el-col-push-23{left:95.8333333333%;position:relative}.el-col-24{flex:0 0 100%;max-width:100%}.el-col-24,.el-col-24.is-guttered{display:block}.el-col-offset-24{margin-left:100%}.el-col-pull-24{position:relative;right:100%}.el-col-push-24{left:100%;position:relative}@media only screen and (max-width:767px){.el-col-xs-0{display:none;flex:0 0 0%;max-width:0}.el-col-xs-0.is-guttered{display:none}.el-col-xs-offset-0{margin-left:0}.el-col-xs-pull-0{position:relative;right:0}.el-col-xs-push-0{left:0;position:relative}.el-col-xs-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-xs-1,.el-col-xs-1.is-guttered{display:block}.el-col-xs-offset-1{margin-left:4.1666666667%}.el-col-xs-pull-1{position:relative;right:4.1666666667%}.el-col-xs-push-1{left:4.1666666667%;position:relative}.el-col-xs-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-xs-2,.el-col-xs-2.is-guttered{display:block}.el-col-xs-offset-2{margin-left:8.3333333333%}.el-col-xs-pull-2{position:relative;right:8.3333333333%}.el-col-xs-push-2{left:8.3333333333%;position:relative}.el-col-xs-3{flex:0 0 12.5%;max-width:12.5%}.el-col-xs-3,.el-col-xs-3.is-guttered{display:block}.el-col-xs-offset-3{margin-left:12.5%}.el-col-xs-pull-3{position:relative;right:12.5%}.el-col-xs-push-3{left:12.5%;position:relative}.el-col-xs-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-xs-4,.el-col-xs-4.is-guttered{display:block}.el-col-xs-offset-4{margin-left:16.6666666667%}.el-col-xs-pull-4{position:relative;right:16.6666666667%}.el-col-xs-push-4{left:16.6666666667%;position:relative}.el-col-xs-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-xs-5,.el-col-xs-5.is-guttered{display:block}.el-col-xs-offset-5{margin-left:20.8333333333%}.el-col-xs-pull-5{position:relative;right:20.8333333333%}.el-col-xs-push-5{left:20.8333333333%;position:relative}.el-col-xs-6{flex:0 0 25%;max-width:25%}.el-col-xs-6,.el-col-xs-6.is-guttered{display:block}.el-col-xs-offset-6{margin-left:25%}.el-col-xs-pull-6{position:relative;right:25%}.el-col-xs-push-6{left:25%;position:relative}.el-col-xs-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-xs-7,.el-col-xs-7.is-guttered{display:block}.el-col-xs-offset-7{margin-left:29.1666666667%}.el-col-xs-pull-7{position:relative;right:29.1666666667%}.el-col-xs-push-7{left:29.1666666667%;position:relative}.el-col-xs-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-xs-8,.el-col-xs-8.is-guttered{display:block}.el-col-xs-offset-8{margin-left:33.3333333333%}.el-col-xs-pull-8{position:relative;right:33.3333333333%}.el-col-xs-push-8{left:33.3333333333%;position:relative}.el-col-xs-9{flex:0 0 37.5%;max-width:37.5%}.el-col-xs-9,.el-col-xs-9.is-guttered{display:block}.el-col-xs-offset-9{margin-left:37.5%}.el-col-xs-pull-9{position:relative;right:37.5%}.el-col-xs-push-9{left:37.5%;position:relative}.el-col-xs-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-xs-10.is-guttered{display:block}.el-col-xs-offset-10{margin-left:41.6666666667%}.el-col-xs-pull-10{position:relative;right:41.6666666667%}.el-col-xs-push-10{left:41.6666666667%;position:relative}.el-col-xs-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-xs-11.is-guttered{display:block}.el-col-xs-offset-11{margin-left:45.8333333333%}.el-col-xs-pull-11{position:relative;right:45.8333333333%}.el-col-xs-push-11{left:45.8333333333%;position:relative}.el-col-xs-12{display:block;flex:0 0 50%;max-width:50%}.el-col-xs-12.is-guttered{display:block}.el-col-xs-offset-12{margin-left:50%}.el-col-xs-pull-12{position:relative;right:50%}.el-col-xs-push-12{left:50%;position:relative}.el-col-xs-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-xs-13.is-guttered{display:block}.el-col-xs-offset-13{margin-left:54.1666666667%}.el-col-xs-pull-13{position:relative;right:54.1666666667%}.el-col-xs-push-13{left:54.1666666667%;position:relative}.el-col-xs-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-xs-14.is-guttered{display:block}.el-col-xs-offset-14{margin-left:58.3333333333%}.el-col-xs-pull-14{position:relative;right:58.3333333333%}.el-col-xs-push-14{left:58.3333333333%;position:relative}.el-col-xs-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-xs-15.is-guttered{display:block}.el-col-xs-offset-15{margin-left:62.5%}.el-col-xs-pull-15{position:relative;right:62.5%}.el-col-xs-push-15{left:62.5%;position:relative}.el-col-xs-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-xs-16.is-guttered{display:block}.el-col-xs-offset-16{margin-left:66.6666666667%}.el-col-xs-pull-16{position:relative;right:66.6666666667%}.el-col-xs-push-16{left:66.6666666667%;position:relative}.el-col-xs-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-xs-17.is-guttered{display:block}.el-col-xs-offset-17{margin-left:70.8333333333%}.el-col-xs-pull-17{position:relative;right:70.8333333333%}.el-col-xs-push-17{left:70.8333333333%;position:relative}.el-col-xs-18{display:block;flex:0 0 75%;max-width:75%}.el-col-xs-18.is-guttered{display:block}.el-col-xs-offset-18{margin-left:75%}.el-col-xs-pull-18{position:relative;right:75%}.el-col-xs-push-18{left:75%;position:relative}.el-col-xs-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-xs-19.is-guttered{display:block}.el-col-xs-offset-19{margin-left:79.1666666667%}.el-col-xs-pull-19{position:relative;right:79.1666666667%}.el-col-xs-push-19{left:79.1666666667%;position:relative}.el-col-xs-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-xs-20.is-guttered{display:block}.el-col-xs-offset-20{margin-left:83.3333333333%}.el-col-xs-pull-20{position:relative;right:83.3333333333%}.el-col-xs-push-20{left:83.3333333333%;position:relative}.el-col-xs-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-xs-21.is-guttered{display:block}.el-col-xs-offset-21{margin-left:87.5%}.el-col-xs-pull-21{position:relative;right:87.5%}.el-col-xs-push-21{left:87.5%;position:relative}.el-col-xs-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-xs-22.is-guttered{display:block}.el-col-xs-offset-22{margin-left:91.6666666667%}.el-col-xs-pull-22{position:relative;right:91.6666666667%}.el-col-xs-push-22{left:91.6666666667%;position:relative}.el-col-xs-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-xs-23.is-guttered{display:block}.el-col-xs-offset-23{margin-left:95.8333333333%}.el-col-xs-pull-23{position:relative;right:95.8333333333%}.el-col-xs-push-23{left:95.8333333333%;position:relative}.el-col-xs-24{display:block;flex:0 0 100%;max-width:100%}.el-col-xs-24.is-guttered{display:block}.el-col-xs-offset-24{margin-left:100%}.el-col-xs-pull-24{position:relative;right:100%}.el-col-xs-push-24{left:100%;position:relative}}@media only screen and (min-width:768px){.el-col-sm-0{display:none;flex:0 0 0%;max-width:0}.el-col-sm-0.is-guttered{display:none}.el-col-sm-offset-0{margin-left:0}.el-col-sm-pull-0{position:relative;right:0}.el-col-sm-push-0{left:0;position:relative}.el-col-sm-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-sm-1,.el-col-sm-1.is-guttered{display:block}.el-col-sm-offset-1{margin-left:4.1666666667%}.el-col-sm-pull-1{position:relative;right:4.1666666667%}.el-col-sm-push-1{left:4.1666666667%;position:relative}.el-col-sm-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-sm-2,.el-col-sm-2.is-guttered{display:block}.el-col-sm-offset-2{margin-left:8.3333333333%}.el-col-sm-pull-2{position:relative;right:8.3333333333%}.el-col-sm-push-2{left:8.3333333333%;position:relative}.el-col-sm-3{flex:0 0 12.5%;max-width:12.5%}.el-col-sm-3,.el-col-sm-3.is-guttered{display:block}.el-col-sm-offset-3{margin-left:12.5%}.el-col-sm-pull-3{position:relative;right:12.5%}.el-col-sm-push-3{left:12.5%;position:relative}.el-col-sm-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-sm-4,.el-col-sm-4.is-guttered{display:block}.el-col-sm-offset-4{margin-left:16.6666666667%}.el-col-sm-pull-4{position:relative;right:16.6666666667%}.el-col-sm-push-4{left:16.6666666667%;position:relative}.el-col-sm-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-sm-5,.el-col-sm-5.is-guttered{display:block}.el-col-sm-offset-5{margin-left:20.8333333333%}.el-col-sm-pull-5{position:relative;right:20.8333333333%}.el-col-sm-push-5{left:20.8333333333%;position:relative}.el-col-sm-6{flex:0 0 25%;max-width:25%}.el-col-sm-6,.el-col-sm-6.is-guttered{display:block}.el-col-sm-offset-6{margin-left:25%}.el-col-sm-pull-6{position:relative;right:25%}.el-col-sm-push-6{left:25%;position:relative}.el-col-sm-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-sm-7,.el-col-sm-7.is-guttered{display:block}.el-col-sm-offset-7{margin-left:29.1666666667%}.el-col-sm-pull-7{position:relative;right:29.1666666667%}.el-col-sm-push-7{left:29.1666666667%;position:relative}.el-col-sm-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-sm-8,.el-col-sm-8.is-guttered{display:block}.el-col-sm-offset-8{margin-left:33.3333333333%}.el-col-sm-pull-8{position:relative;right:33.3333333333%}.el-col-sm-push-8{left:33.3333333333%;position:relative}.el-col-sm-9{flex:0 0 37.5%;max-width:37.5%}.el-col-sm-9,.el-col-sm-9.is-guttered{display:block}.el-col-sm-offset-9{margin-left:37.5%}.el-col-sm-pull-9{position:relative;right:37.5%}.el-col-sm-push-9{left:37.5%;position:relative}.el-col-sm-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-sm-10.is-guttered{display:block}.el-col-sm-offset-10{margin-left:41.6666666667%}.el-col-sm-pull-10{position:relative;right:41.6666666667%}.el-col-sm-push-10{left:41.6666666667%;position:relative}.el-col-sm-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-sm-11.is-guttered{display:block}.el-col-sm-offset-11{margin-left:45.8333333333%}.el-col-sm-pull-11{position:relative;right:45.8333333333%}.el-col-sm-push-11{left:45.8333333333%;position:relative}.el-col-sm-12{display:block;flex:0 0 50%;max-width:50%}.el-col-sm-12.is-guttered{display:block}.el-col-sm-offset-12{margin-left:50%}.el-col-sm-pull-12{position:relative;right:50%}.el-col-sm-push-12{left:50%;position:relative}.el-col-sm-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-sm-13.is-guttered{display:block}.el-col-sm-offset-13{margin-left:54.1666666667%}.el-col-sm-pull-13{position:relative;right:54.1666666667%}.el-col-sm-push-13{left:54.1666666667%;position:relative}.el-col-sm-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-sm-14.is-guttered{display:block}.el-col-sm-offset-14{margin-left:58.3333333333%}.el-col-sm-pull-14{position:relative;right:58.3333333333%}.el-col-sm-push-14{left:58.3333333333%;position:relative}.el-col-sm-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-sm-15.is-guttered{display:block}.el-col-sm-offset-15{margin-left:62.5%}.el-col-sm-pull-15{position:relative;right:62.5%}.el-col-sm-push-15{left:62.5%;position:relative}.el-col-sm-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-sm-16.is-guttered{display:block}.el-col-sm-offset-16{margin-left:66.6666666667%}.el-col-sm-pull-16{position:relative;right:66.6666666667%}.el-col-sm-push-16{left:66.6666666667%;position:relative}.el-col-sm-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-sm-17.is-guttered{display:block}.el-col-sm-offset-17{margin-left:70.8333333333%}.el-col-sm-pull-17{position:relative;right:70.8333333333%}.el-col-sm-push-17{left:70.8333333333%;position:relative}.el-col-sm-18{display:block;flex:0 0 75%;max-width:75%}.el-col-sm-18.is-guttered{display:block}.el-col-sm-offset-18{margin-left:75%}.el-col-sm-pull-18{position:relative;right:75%}.el-col-sm-push-18{left:75%;position:relative}.el-col-sm-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-sm-19.is-guttered{display:block}.el-col-sm-offset-19{margin-left:79.1666666667%}.el-col-sm-pull-19{position:relative;right:79.1666666667%}.el-col-sm-push-19{left:79.1666666667%;position:relative}.el-col-sm-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-sm-20.is-guttered{display:block}.el-col-sm-offset-20{margin-left:83.3333333333%}.el-col-sm-pull-20{position:relative;right:83.3333333333%}.el-col-sm-push-20{left:83.3333333333%;position:relative}.el-col-sm-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-sm-21.is-guttered{display:block}.el-col-sm-offset-21{margin-left:87.5%}.el-col-sm-pull-21{position:relative;right:87.5%}.el-col-sm-push-21{left:87.5%;position:relative}.el-col-sm-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-sm-22.is-guttered{display:block}.el-col-sm-offset-22{margin-left:91.6666666667%}.el-col-sm-pull-22{position:relative;right:91.6666666667%}.el-col-sm-push-22{left:91.6666666667%;position:relative}.el-col-sm-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-sm-23.is-guttered{display:block}.el-col-sm-offset-23{margin-left:95.8333333333%}.el-col-sm-pull-23{position:relative;right:95.8333333333%}.el-col-sm-push-23{left:95.8333333333%;position:relative}.el-col-sm-24{display:block;flex:0 0 100%;max-width:100%}.el-col-sm-24.is-guttered{display:block}.el-col-sm-offset-24{margin-left:100%}.el-col-sm-pull-24{position:relative;right:100%}.el-col-sm-push-24{left:100%;position:relative}}@media only screen and (min-width:992px){.el-col-md-0{display:none;flex:0 0 0%;max-width:0}.el-col-md-0.is-guttered{display:none}.el-col-md-offset-0{margin-left:0}.el-col-md-pull-0{position:relative;right:0}.el-col-md-push-0{left:0;position:relative}.el-col-md-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-md-1,.el-col-md-1.is-guttered{display:block}.el-col-md-offset-1{margin-left:4.1666666667%}.el-col-md-pull-1{position:relative;right:4.1666666667%}.el-col-md-push-1{left:4.1666666667%;position:relative}.el-col-md-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-md-2,.el-col-md-2.is-guttered{display:block}.el-col-md-offset-2{margin-left:8.3333333333%}.el-col-md-pull-2{position:relative;right:8.3333333333%}.el-col-md-push-2{left:8.3333333333%;position:relative}.el-col-md-3{flex:0 0 12.5%;max-width:12.5%}.el-col-md-3,.el-col-md-3.is-guttered{display:block}.el-col-md-offset-3{margin-left:12.5%}.el-col-md-pull-3{position:relative;right:12.5%}.el-col-md-push-3{left:12.5%;position:relative}.el-col-md-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-md-4,.el-col-md-4.is-guttered{display:block}.el-col-md-offset-4{margin-left:16.6666666667%}.el-col-md-pull-4{position:relative;right:16.6666666667%}.el-col-md-push-4{left:16.6666666667%;position:relative}.el-col-md-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-md-5,.el-col-md-5.is-guttered{display:block}.el-col-md-offset-5{margin-left:20.8333333333%}.el-col-md-pull-5{position:relative;right:20.8333333333%}.el-col-md-push-5{left:20.8333333333%;position:relative}.el-col-md-6{flex:0 0 25%;max-width:25%}.el-col-md-6,.el-col-md-6.is-guttered{display:block}.el-col-md-offset-6{margin-left:25%}.el-col-md-pull-6{position:relative;right:25%}.el-col-md-push-6{left:25%;position:relative}.el-col-md-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-md-7,.el-col-md-7.is-guttered{display:block}.el-col-md-offset-7{margin-left:29.1666666667%}.el-col-md-pull-7{position:relative;right:29.1666666667%}.el-col-md-push-7{left:29.1666666667%;position:relative}.el-col-md-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-md-8,.el-col-md-8.is-guttered{display:block}.el-col-md-offset-8{margin-left:33.3333333333%}.el-col-md-pull-8{position:relative;right:33.3333333333%}.el-col-md-push-8{left:33.3333333333%;position:relative}.el-col-md-9{flex:0 0 37.5%;max-width:37.5%}.el-col-md-9,.el-col-md-9.is-guttered{display:block}.el-col-md-offset-9{margin-left:37.5%}.el-col-md-pull-9{position:relative;right:37.5%}.el-col-md-push-9{left:37.5%;position:relative}.el-col-md-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-md-10.is-guttered{display:block}.el-col-md-offset-10{margin-left:41.6666666667%}.el-col-md-pull-10{position:relative;right:41.6666666667%}.el-col-md-push-10{left:41.6666666667%;position:relative}.el-col-md-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-md-11.is-guttered{display:block}.el-col-md-offset-11{margin-left:45.8333333333%}.el-col-md-pull-11{position:relative;right:45.8333333333%}.el-col-md-push-11{left:45.8333333333%;position:relative}.el-col-md-12{display:block;flex:0 0 50%;max-width:50%}.el-col-md-12.is-guttered{display:block}.el-col-md-offset-12{margin-left:50%}.el-col-md-pull-12{position:relative;right:50%}.el-col-md-push-12{left:50%;position:relative}.el-col-md-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-md-13.is-guttered{display:block}.el-col-md-offset-13{margin-left:54.1666666667%}.el-col-md-pull-13{position:relative;right:54.1666666667%}.el-col-md-push-13{left:54.1666666667%;position:relative}.el-col-md-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-md-14.is-guttered{display:block}.el-col-md-offset-14{margin-left:58.3333333333%}.el-col-md-pull-14{position:relative;right:58.3333333333%}.el-col-md-push-14{left:58.3333333333%;position:relative}.el-col-md-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-md-15.is-guttered{display:block}.el-col-md-offset-15{margin-left:62.5%}.el-col-md-pull-15{position:relative;right:62.5%}.el-col-md-push-15{left:62.5%;position:relative}.el-col-md-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-md-16.is-guttered{display:block}.el-col-md-offset-16{margin-left:66.6666666667%}.el-col-md-pull-16{position:relative;right:66.6666666667%}.el-col-md-push-16{left:66.6666666667%;position:relative}.el-col-md-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-md-17.is-guttered{display:block}.el-col-md-offset-17{margin-left:70.8333333333%}.el-col-md-pull-17{position:relative;right:70.8333333333%}.el-col-md-push-17{left:70.8333333333%;position:relative}.el-col-md-18{display:block;flex:0 0 75%;max-width:75%}.el-col-md-18.is-guttered{display:block}.el-col-md-offset-18{margin-left:75%}.el-col-md-pull-18{position:relative;right:75%}.el-col-md-push-18{left:75%;position:relative}.el-col-md-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-md-19.is-guttered{display:block}.el-col-md-offset-19{margin-left:79.1666666667%}.el-col-md-pull-19{position:relative;right:79.1666666667%}.el-col-md-push-19{left:79.1666666667%;position:relative}.el-col-md-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-md-20.is-guttered{display:block}.el-col-md-offset-20{margin-left:83.3333333333%}.el-col-md-pull-20{position:relative;right:83.3333333333%}.el-col-md-push-20{left:83.3333333333%;position:relative}.el-col-md-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-md-21.is-guttered{display:block}.el-col-md-offset-21{margin-left:87.5%}.el-col-md-pull-21{position:relative;right:87.5%}.el-col-md-push-21{left:87.5%;position:relative}.el-col-md-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-md-22.is-guttered{display:block}.el-col-md-offset-22{margin-left:91.6666666667%}.el-col-md-pull-22{position:relative;right:91.6666666667%}.el-col-md-push-22{left:91.6666666667%;position:relative}.el-col-md-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-md-23.is-guttered{display:block}.el-col-md-offset-23{margin-left:95.8333333333%}.el-col-md-pull-23{position:relative;right:95.8333333333%}.el-col-md-push-23{left:95.8333333333%;position:relative}.el-col-md-24{display:block;flex:0 0 100%;max-width:100%}.el-col-md-24.is-guttered{display:block}.el-col-md-offset-24{margin-left:100%}.el-col-md-pull-24{position:relative;right:100%}.el-col-md-push-24{left:100%;position:relative}}@media only screen and (min-width:1200px){.el-col-lg-0{display:none;flex:0 0 0%;max-width:0}.el-col-lg-0.is-guttered{display:none}.el-col-lg-offset-0{margin-left:0}.el-col-lg-pull-0{position:relative;right:0}.el-col-lg-push-0{left:0;position:relative}.el-col-lg-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-lg-1,.el-col-lg-1.is-guttered{display:block}.el-col-lg-offset-1{margin-left:4.1666666667%}.el-col-lg-pull-1{position:relative;right:4.1666666667%}.el-col-lg-push-1{left:4.1666666667%;position:relative}.el-col-lg-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-lg-2,.el-col-lg-2.is-guttered{display:block}.el-col-lg-offset-2{margin-left:8.3333333333%}.el-col-lg-pull-2{position:relative;right:8.3333333333%}.el-col-lg-push-2{left:8.3333333333%;position:relative}.el-col-lg-3{flex:0 0 12.5%;max-width:12.5%}.el-col-lg-3,.el-col-lg-3.is-guttered{display:block}.el-col-lg-offset-3{margin-left:12.5%}.el-col-lg-pull-3{position:relative;right:12.5%}.el-col-lg-push-3{left:12.5%;position:relative}.el-col-lg-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-lg-4,.el-col-lg-4.is-guttered{display:block}.el-col-lg-offset-4{margin-left:16.6666666667%}.el-col-lg-pull-4{position:relative;right:16.6666666667%}.el-col-lg-push-4{left:16.6666666667%;position:relative}.el-col-lg-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-lg-5,.el-col-lg-5.is-guttered{display:block}.el-col-lg-offset-5{margin-left:20.8333333333%}.el-col-lg-pull-5{position:relative;right:20.8333333333%}.el-col-lg-push-5{left:20.8333333333%;position:relative}.el-col-lg-6{flex:0 0 25%;max-width:25%}.el-col-lg-6,.el-col-lg-6.is-guttered{display:block}.el-col-lg-offset-6{margin-left:25%}.el-col-lg-pull-6{position:relative;right:25%}.el-col-lg-push-6{left:25%;position:relative}.el-col-lg-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-lg-7,.el-col-lg-7.is-guttered{display:block}.el-col-lg-offset-7{margin-left:29.1666666667%}.el-col-lg-pull-7{position:relative;right:29.1666666667%}.el-col-lg-push-7{left:29.1666666667%;position:relative}.el-col-lg-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-lg-8,.el-col-lg-8.is-guttered{display:block}.el-col-lg-offset-8{margin-left:33.3333333333%}.el-col-lg-pull-8{position:relative;right:33.3333333333%}.el-col-lg-push-8{left:33.3333333333%;position:relative}.el-col-lg-9{flex:0 0 37.5%;max-width:37.5%}.el-col-lg-9,.el-col-lg-9.is-guttered{display:block}.el-col-lg-offset-9{margin-left:37.5%}.el-col-lg-pull-9{position:relative;right:37.5%}.el-col-lg-push-9{left:37.5%;position:relative}.el-col-lg-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-lg-10.is-guttered{display:block}.el-col-lg-offset-10{margin-left:41.6666666667%}.el-col-lg-pull-10{position:relative;right:41.6666666667%}.el-col-lg-push-10{left:41.6666666667%;position:relative}.el-col-lg-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-lg-11.is-guttered{display:block}.el-col-lg-offset-11{margin-left:45.8333333333%}.el-col-lg-pull-11{position:relative;right:45.8333333333%}.el-col-lg-push-11{left:45.8333333333%;position:relative}.el-col-lg-12{display:block;flex:0 0 50%;max-width:50%}.el-col-lg-12.is-guttered{display:block}.el-col-lg-offset-12{margin-left:50%}.el-col-lg-pull-12{position:relative;right:50%}.el-col-lg-push-12{left:50%;position:relative}.el-col-lg-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-lg-13.is-guttered{display:block}.el-col-lg-offset-13{margin-left:54.1666666667%}.el-col-lg-pull-13{position:relative;right:54.1666666667%}.el-col-lg-push-13{left:54.1666666667%;position:relative}.el-col-lg-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-lg-14.is-guttered{display:block}.el-col-lg-offset-14{margin-left:58.3333333333%}.el-col-lg-pull-14{position:relative;right:58.3333333333%}.el-col-lg-push-14{left:58.3333333333%;position:relative}.el-col-lg-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-lg-15.is-guttered{display:block}.el-col-lg-offset-15{margin-left:62.5%}.el-col-lg-pull-15{position:relative;right:62.5%}.el-col-lg-push-15{left:62.5%;position:relative}.el-col-lg-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-lg-16.is-guttered{display:block}.el-col-lg-offset-16{margin-left:66.6666666667%}.el-col-lg-pull-16{position:relative;right:66.6666666667%}.el-col-lg-push-16{left:66.6666666667%;position:relative}.el-col-lg-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-lg-17.is-guttered{display:block}.el-col-lg-offset-17{margin-left:70.8333333333%}.el-col-lg-pull-17{position:relative;right:70.8333333333%}.el-col-lg-push-17{left:70.8333333333%;position:relative}.el-col-lg-18{display:block;flex:0 0 75%;max-width:75%}.el-col-lg-18.is-guttered{display:block}.el-col-lg-offset-18{margin-left:75%}.el-col-lg-pull-18{position:relative;right:75%}.el-col-lg-push-18{left:75%;position:relative}.el-col-lg-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-lg-19.is-guttered{display:block}.el-col-lg-offset-19{margin-left:79.1666666667%}.el-col-lg-pull-19{position:relative;right:79.1666666667%}.el-col-lg-push-19{left:79.1666666667%;position:relative}.el-col-lg-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-lg-20.is-guttered{display:block}.el-col-lg-offset-20{margin-left:83.3333333333%}.el-col-lg-pull-20{position:relative;right:83.3333333333%}.el-col-lg-push-20{left:83.3333333333%;position:relative}.el-col-lg-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-lg-21.is-guttered{display:block}.el-col-lg-offset-21{margin-left:87.5%}.el-col-lg-pull-21{position:relative;right:87.5%}.el-col-lg-push-21{left:87.5%;position:relative}.el-col-lg-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-lg-22.is-guttered{display:block}.el-col-lg-offset-22{margin-left:91.6666666667%}.el-col-lg-pull-22{position:relative;right:91.6666666667%}.el-col-lg-push-22{left:91.6666666667%;position:relative}.el-col-lg-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-lg-23.is-guttered{display:block}.el-col-lg-offset-23{margin-left:95.8333333333%}.el-col-lg-pull-23{position:relative;right:95.8333333333%}.el-col-lg-push-23{left:95.8333333333%;position:relative}.el-col-lg-24{display:block;flex:0 0 100%;max-width:100%}.el-col-lg-24.is-guttered{display:block}.el-col-lg-offset-24{margin-left:100%}.el-col-lg-pull-24{position:relative;right:100%}.el-col-lg-push-24{left:100%;position:relative}}@media only screen and (min-width:1920px){.el-col-xl-0{display:none;flex:0 0 0%;max-width:0}.el-col-xl-0.is-guttered{display:none}.el-col-xl-offset-0{margin-left:0}.el-col-xl-pull-0{position:relative;right:0}.el-col-xl-push-0{left:0;position:relative}.el-col-xl-1{flex:0 0 4.1666666667%;max-width:4.1666666667%}.el-col-xl-1,.el-col-xl-1.is-guttered{display:block}.el-col-xl-offset-1{margin-left:4.1666666667%}.el-col-xl-pull-1{position:relative;right:4.1666666667%}.el-col-xl-push-1{left:4.1666666667%;position:relative}.el-col-xl-2{flex:0 0 8.3333333333%;max-width:8.3333333333%}.el-col-xl-2,.el-col-xl-2.is-guttered{display:block}.el-col-xl-offset-2{margin-left:8.3333333333%}.el-col-xl-pull-2{position:relative;right:8.3333333333%}.el-col-xl-push-2{left:8.3333333333%;position:relative}.el-col-xl-3{flex:0 0 12.5%;max-width:12.5%}.el-col-xl-3,.el-col-xl-3.is-guttered{display:block}.el-col-xl-offset-3{margin-left:12.5%}.el-col-xl-pull-3{position:relative;right:12.5%}.el-col-xl-push-3{left:12.5%;position:relative}.el-col-xl-4{flex:0 0 16.6666666667%;max-width:16.6666666667%}.el-col-xl-4,.el-col-xl-4.is-guttered{display:block}.el-col-xl-offset-4{margin-left:16.6666666667%}.el-col-xl-pull-4{position:relative;right:16.6666666667%}.el-col-xl-push-4{left:16.6666666667%;position:relative}.el-col-xl-5{flex:0 0 20.8333333333%;max-width:20.8333333333%}.el-col-xl-5,.el-col-xl-5.is-guttered{display:block}.el-col-xl-offset-5{margin-left:20.8333333333%}.el-col-xl-pull-5{position:relative;right:20.8333333333%}.el-col-xl-push-5{left:20.8333333333%;position:relative}.el-col-xl-6{flex:0 0 25%;max-width:25%}.el-col-xl-6,.el-col-xl-6.is-guttered{display:block}.el-col-xl-offset-6{margin-left:25%}.el-col-xl-pull-6{position:relative;right:25%}.el-col-xl-push-6{left:25%;position:relative}.el-col-xl-7{flex:0 0 29.1666666667%;max-width:29.1666666667%}.el-col-xl-7,.el-col-xl-7.is-guttered{display:block}.el-col-xl-offset-7{margin-left:29.1666666667%}.el-col-xl-pull-7{position:relative;right:29.1666666667%}.el-col-xl-push-7{left:29.1666666667%;position:relative}.el-col-xl-8{flex:0 0 33.3333333333%;max-width:33.3333333333%}.el-col-xl-8,.el-col-xl-8.is-guttered{display:block}.el-col-xl-offset-8{margin-left:33.3333333333%}.el-col-xl-pull-8{position:relative;right:33.3333333333%}.el-col-xl-push-8{left:33.3333333333%;position:relative}.el-col-xl-9{flex:0 0 37.5%;max-width:37.5%}.el-col-xl-9,.el-col-xl-9.is-guttered{display:block}.el-col-xl-offset-9{margin-left:37.5%}.el-col-xl-pull-9{position:relative;right:37.5%}.el-col-xl-push-9{left:37.5%;position:relative}.el-col-xl-10{display:block;flex:0 0 41.6666666667%;max-width:41.6666666667%}.el-col-xl-10.is-guttered{display:block}.el-col-xl-offset-10{margin-left:41.6666666667%}.el-col-xl-pull-10{position:relative;right:41.6666666667%}.el-col-xl-push-10{left:41.6666666667%;position:relative}.el-col-xl-11{display:block;flex:0 0 45.8333333333%;max-width:45.8333333333%}.el-col-xl-11.is-guttered{display:block}.el-col-xl-offset-11{margin-left:45.8333333333%}.el-col-xl-pull-11{position:relative;right:45.8333333333%}.el-col-xl-push-11{left:45.8333333333%;position:relative}.el-col-xl-12{display:block;flex:0 0 50%;max-width:50%}.el-col-xl-12.is-guttered{display:block}.el-col-xl-offset-12{margin-left:50%}.el-col-xl-pull-12{position:relative;right:50%}.el-col-xl-push-12{left:50%;position:relative}.el-col-xl-13{display:block;flex:0 0 54.1666666667%;max-width:54.1666666667%}.el-col-xl-13.is-guttered{display:block}.el-col-xl-offset-13{margin-left:54.1666666667%}.el-col-xl-pull-13{position:relative;right:54.1666666667%}.el-col-xl-push-13{left:54.1666666667%;position:relative}.el-col-xl-14{display:block;flex:0 0 58.3333333333%;max-width:58.3333333333%}.el-col-xl-14.is-guttered{display:block}.el-col-xl-offset-14{margin-left:58.3333333333%}.el-col-xl-pull-14{position:relative;right:58.3333333333%}.el-col-xl-push-14{left:58.3333333333%;position:relative}.el-col-xl-15{display:block;flex:0 0 62.5%;max-width:62.5%}.el-col-xl-15.is-guttered{display:block}.el-col-xl-offset-15{margin-left:62.5%}.el-col-xl-pull-15{position:relative;right:62.5%}.el-col-xl-push-15{left:62.5%;position:relative}.el-col-xl-16{display:block;flex:0 0 66.6666666667%;max-width:66.6666666667%}.el-col-xl-16.is-guttered{display:block}.el-col-xl-offset-16{margin-left:66.6666666667%}.el-col-xl-pull-16{position:relative;right:66.6666666667%}.el-col-xl-push-16{left:66.6666666667%;position:relative}.el-col-xl-17{display:block;flex:0 0 70.8333333333%;max-width:70.8333333333%}.el-col-xl-17.is-guttered{display:block}.el-col-xl-offset-17{margin-left:70.8333333333%}.el-col-xl-pull-17{position:relative;right:70.8333333333%}.el-col-xl-push-17{left:70.8333333333%;position:relative}.el-col-xl-18{display:block;flex:0 0 75%;max-width:75%}.el-col-xl-18.is-guttered{display:block}.el-col-xl-offset-18{margin-left:75%}.el-col-xl-pull-18{position:relative;right:75%}.el-col-xl-push-18{left:75%;position:relative}.el-col-xl-19{display:block;flex:0 0 79.1666666667%;max-width:79.1666666667%}.el-col-xl-19.is-guttered{display:block}.el-col-xl-offset-19{margin-left:79.1666666667%}.el-col-xl-pull-19{position:relative;right:79.1666666667%}.el-col-xl-push-19{left:79.1666666667%;position:relative}.el-col-xl-20{display:block;flex:0 0 83.3333333333%;max-width:83.3333333333%}.el-col-xl-20.is-guttered{display:block}.el-col-xl-offset-20{margin-left:83.3333333333%}.el-col-xl-pull-20{position:relative;right:83.3333333333%}.el-col-xl-push-20{left:83.3333333333%;position:relative}.el-col-xl-21{display:block;flex:0 0 87.5%;max-width:87.5%}.el-col-xl-21.is-guttered{display:block}.el-col-xl-offset-21{margin-left:87.5%}.el-col-xl-pull-21{position:relative;right:87.5%}.el-col-xl-push-21{left:87.5%;position:relative}.el-col-xl-22{display:block;flex:0 0 91.6666666667%;max-width:91.6666666667%}.el-col-xl-22.is-guttered{display:block}.el-col-xl-offset-22{margin-left:91.6666666667%}.el-col-xl-pull-22{position:relative;right:91.6666666667%}.el-col-xl-push-22{left:91.6666666667%;position:relative}.el-col-xl-23{display:block;flex:0 0 95.8333333333%;max-width:95.8333333333%}.el-col-xl-23.is-guttered{display:block}.el-col-xl-offset-23{margin-left:95.8333333333%}.el-col-xl-pull-23{position:relative;right:95.8333333333%}.el-col-xl-push-23{left:95.8333333333%;position:relative}.el-col-xl-24{display:block;flex:0 0 100%;max-width:100%}.el-col-xl-24.is-guttered{display:block}.el-col-xl-offset-24{margin-left:100%}.el-col-xl-pull-24{position:relative;right:100%}.el-col-xl-push-24{left:100%;position:relative}}.el-collapse{--el-collapse-border-color:var(--el-border-color-lighter);--el-collapse-header-height:48px;--el-collapse-header-bg-color:var(--el-fill-color-blank);--el-collapse-header-text-color:var(--el-text-color-primary);--el-collapse-header-font-size:13px;--el-collapse-content-bg-color:var(--el-fill-color-blank);--el-collapse-content-font-size:13px;--el-collapse-content-text-color:var(--el-text-color-primary);border-bottom:1px solid var(--el-collapse-border-color);border-top:1px solid var(--el-collapse-border-color)}.el-collapse-item.is-disabled .el-collapse-item__header{color:var(--el-text-color-disabled);cursor:not-allowed}.el-collapse-item__header{align-items:center;background-color:var(--el-collapse-header-bg-color);border:none;border-bottom:1px solid var(--el-collapse-border-color);color:var(--el-collapse-header-text-color);cursor:pointer;display:flex;font-size:var(--el-collapse-header-font-size);font-weight:500;line-height:var(--el-collapse-header-height);min-height:var(--el-collapse-header-height);outline:none;padding:0;transition:border-bottom-color var(--el-transition-duration);width:100%}.el-collapse-item__arrow{font-weight:300;transition:transform var(--el-transition-duration)}.el-collapse-item__arrow.is-active{transform:rotate(90deg)}.el-collapse-item__title{flex:auto;text-align:left}.el-collapse-item__header.focusing:focus:not(:hover){color:var(--el-color-primary)}.el-collapse-item__header.is-active{border-bottom-color:transparent}.el-collapse-item__wrap{background-color:var(--el-collapse-content-bg-color);border-bottom:1px solid var(--el-collapse-border-color);box-sizing:border-box;overflow:hidden;will-change:height}.el-collapse-item__content{color:var(--el-collapse-content-text-color);font-size:var(--el-collapse-content-font-size);line-height:1.7692307692;padding-bottom:25px}.el-collapse-item:last-child{margin-bottom:-1px}.el-collapse-icon-position-left .el-collapse-item__header{gap:8px}.el-collapse-icon-position-left .el-collapse-item__title{order:1}.el-collapse-icon-position-right .el-collapse-item__header{padding-right:8px}.el-color-picker-panel{background:var(--el-bg-color-overlay);box-sizing:content-box;padding:12px;width:300px}.el-color-picker-panel.is-border{border:1px solid var(--el-border-color-lighter);border-radius:4px}.el-color-picker-panel__wrapper{margin-bottom:6px}.el-color-picker-panel__footer{display:flex;justify-content:space-between;margin-top:12px;text-align:right}.el-color-picker-panel__footer .el-input{color:#000;font-size:12px;line-height:26px;width:160px}.el-color-picker-panel.is-disabled .el-color-hue-slider,.el-color-picker-panel.is-disabled .el-color-svpanel{cursor:not-allowed;opacity:.3}.el-color-picker-panel.is-disabled .el-color-hue-slider__thumb{cursor:not-allowed}.el-color-picker-panel.is-disabled .el-color-alpha-slider,.el-color-picker-panel.is-disabled .el-color-predefine .el-color-predefine__color-selector{cursor:not-allowed;opacity:.3}.el-color-predefine{display:flex;font-size:12px;margin-top:8px;width:280px}.el-color-predefine__colors{display:flex;flex:1;flex-wrap:wrap;gap:8px}.el-color-predefine__color-selector{border:none;border-radius:var(--el-border-radius-base);cursor:pointer;height:20px;outline:none;overflow:hidden;padding:0;width:20px}.el-color-predefine__color-selector.selected{box-shadow:0 0 3px 2px var(--el-color-primary)}.el-color-predefine__color-selector:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-color-predefine__color-selector>div{display:flex;height:100%}.el-color-predefine__color-selector.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-hue-slider{background-color:red;box-sizing:border-box;float:right;height:12px;padding:0 2px;position:relative;width:280px}.el-color-hue-slider__bar{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red);height:100%;position:relative}.el-color-hue-slider__thumb{background:#fff;border:1px solid var(--el-border-color-lighter);border-radius:1px;box-shadow:0 0 2px #0009;box-sizing:border-box;cursor:pointer;height:100%;left:0;position:absolute;top:0;width:4px;z-index:1}.el-color-hue-slider__thumb:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-hue-slider.is-vertical{height:180px;padding:2px 0;width:12px}.el-color-hue-slider.is-vertical .el-color-hue-slider__bar{background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}.el-color-hue-slider.is-vertical .el-color-hue-slider__thumb{height:4px;left:0;top:0;width:100%}.el-color-svpanel{background-image:linear-gradient(0deg,#000,#0000),linear-gradient(90deg,#fff,#fff0);height:180px;position:relative;width:280px}.el-color-svpanel__cursor{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px #0000004d,0 0 1px 2px #0006;cursor:pointer;height:4px;position:absolute;transform:translate(-2px,-2px);width:4px}.el-color-svpanel__cursor:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-color-alpha-slider{background-image:linear-gradient(45deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(45deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%);background-position:0 0,6px 0,6px -6px,0 6px;background-size:12px 12px;box-sizing:border-box;height:12px;position:relative;width:280px}.el-color-alpha-slider.is-disabled .el-color-alpha-slider__thumb{cursor:not-allowed}.el-color-alpha-slider__bar{background:linear-gradient(to right,rgba(255,255,255,0) 0,var(--el-bg-color) 100%);height:100%;position:relative}.el-color-alpha-slider__thumb{background:#fff;border:1px solid var(--el-border-color-lighter);border-radius:1px;box-shadow:0 0 2px #0009;box-sizing:border-box;cursor:pointer;height:100%;left:0;position:absolute;top:0;width:4px;z-index:1}.el-color-alpha-slider__thumb:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-alpha-slider.is-vertical{height:180px;width:20px}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__bar{background:linear-gradient(180deg,#fff0 0,#fff)}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__thumb{height:4px;left:0;top:0;width:100%}.el-color-picker-panel{--el-color-picker-alpha-bg-a:#ccc;--el-color-picker-alpha-bg-b:transparent}.dark .el-color-picker-panel{--el-color-picker-alpha-bg-a:#333333}.el-color-picker{display:inline-block;height:32px;line-height:normal;outline:none;position:relative;width:32px}.el-color-picker:hover:not(.is-disabled,.is-focused) .el-color-picker__trigger{border-color:var(--el-border-color-hover)}.el-color-picker:focus-visible:not(.is-disabled) .el-color-picker__trigger{outline:2px solid var(--el-color-primary);outline-offset:1px}.el-color-picker.is-focused .el-color-picker__trigger{border-color:var(--el-color-primary)}.el-color-picker.is-disabled .el-color-picker__trigger{background-color:var(--el-fill-color-light);cursor:not-allowed}.el-color-picker.is-disabled .el-color-picker__color{opacity:.3}.el-color-picker--large{height:40px;width:40px}.el-color-picker--small{height:24px;width:24px}.el-color-picker--small .el-color-picker__empty,.el-color-picker--small .el-color-picker__icon{transform:scale(.8)}.el-color-picker__trigger{align-items:center;border:1px solid var(--el-border-color);border-radius:4px;cursor:pointer;display:inline-flex;font-size:0;justify-content:center;padding:4px}.el-color-picker__color,.el-color-picker__trigger{box-sizing:border-box;height:100%;position:relative;width:100%}.el-color-picker__color{border:1px solid var(--el-text-color-secondary);border-radius:var(--el-border-radius-small);display:block;text-align:center}.el-color-picker__color.is-alpha{background-image:linear-gradient(45deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-a) 25%,var(--el-color-picker-alpha-bg-b) 25%),linear-gradient(45deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%),linear-gradient(135deg,var(--el-color-picker-alpha-bg-b) 75%,var(--el-color-picker-alpha-bg-a) 75%);background-position:0 0,6px 0,6px -6px,0 6px;background-size:12px 12px}.el-color-picker__color-inner{align-items:center;display:inline-flex;height:100%;justify-content:center;width:100%}.el-color-picker .el-color-picker__empty{color:var(--el-text-color-secondary);font-size:12px}.el-color-picker .el-color-picker__icon{align-items:center;color:#fff;display:inline-flex;font-size:12px;justify-content:center}.el-color-picker__panel{background-color:#fff;border-radius:var(--el-border-radius-base);box-shadow:var(--el-box-shadow-light)}.el-color-picker__panel.el-popper{border:1px solid var(--el-border-color-lighter)}.el-color-picker,.el-color-picker__panel{--el-color-picker-alpha-bg-a:#ccc;--el-color-picker-alpha-bg-b:transparent}.dark .el-color-picker,.dark .el-color-picker__panel{--el-color-picker-alpha-bg-a:#333333}.el-container{box-sizing:border-box;display:flex;flex:1;flex-basis:auto;flex-direction:row;min-width:0}.el-container.is-vertical{flex-direction:column}.el-date-table{font-size:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-date-table.is-week-mode .el-date-table__row:hover .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table.is-week-mode .el-date-table__row:hover td.available:hover{color:var(--el-datepicker-text-color)}.el-date-table.is-week-mode .el-date-table__row:hover td:first-child .el-date-table-cell{border-bottom-left-radius:15px;border-top-left-radius:15px;margin-left:5px}.el-date-table.is-week-mode .el-date-table__row:hover td:last-child .el-date-table-cell{border-bottom-right-radius:15px;border-top-right-radius:15px;margin-right:5px}.el-date-table.is-week-mode .el-date-table__row.current .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td{box-sizing:border-box;cursor:pointer;height:30px;padding:4px 0;position:relative;text-align:center;width:32px}.el-date-table td .el-date-table-cell{box-sizing:border-box;height:30px;padding:3px 0}.el-date-table td .el-date-table-cell .el-date-table-cell__text{border-radius:50%;display:block;height:24px;left:50%;line-height:24px;margin:0 auto;position:absolute;transform:translate(-50%);width:24px}.el-date-table td.next-month,.el-date-table td.prev-month{color:var(--el-datepicker-off-text-color)}.el-date-table td.today{position:relative}.el-date-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-date-table td.today.end-date .el-date-table-cell__text,.el-date-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-date-table td.available:hover{color:var(--el-datepicker-hover-text-color)}.el-date-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-date-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-date-table td.current:not(.disabled):focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-date-table td.end-date .el-date-table-cell,.el-date-table td.start-date .el-date-table-cell{color:#fff}.el-date-table td.end-date .el-date-table-cell__text,.el-date-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color)}.el-date-table td.start-date .el-date-table-cell{border-bottom-left-radius:15px;border-top-left-radius:15px;margin-left:5px}.el-date-table td.end-date .el-date-table-cell{border-bottom-right-radius:15px;border-top-right-radius:15px;margin-right:5px}.el-date-table td.disabled .el-date-table-cell{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed;opacity:1}.el-date-table td.selected .el-date-table-cell{border-radius:15px;margin-left:5px;margin-right:5px}.el-date-table td.selected .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);border-radius:15px;color:#fff}.el-date-table td.week{color:var(--el-datepicker-off-text-color);cursor:default;font-size:80%}.el-date-table td:focus{outline:none}.el-date-table th{border-bottom:1px solid var(--el-border-color-lighter);color:var(--el-datepicker-header-text-color);font-weight:400;padding:5px}.el-date-table th.el-date-table__week-header{padding:0;width:24px}.el-month-table{border-collapse:collapse;font-size:12px;margin:-1px}.el-month-table td{cursor:pointer;padding:8px 0;position:relative;text-align:center;width:68px}.el-month-table td .el-date-table-cell{box-sizing:border-box;height:48px;padding:6px 0}.el-month-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-month-table td.today.end-date .el-date-table-cell__text,.el-month-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-month-table td.disabled .el-date-table-cell__text{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-month-table td.disabled .el-date-table-cell__text:hover{color:var(--el-text-color-placeholder)}.el-month-table td .el-date-table-cell__text{border-radius:18px;color:var(--el-datepicker-text-color);display:block;height:36px;left:50%;line-height:36px;margin:0 auto;position:absolute;transform:translate(-50%);width:54px}.el-month-table td .el-date-table-cell__text:hover{color:var(--el-datepicker-hover-text-color)}.el-month-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-month-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-month-table td.end-date .el-date-table-cell,.el-month-table td.start-date .el-date-table-cell{color:#fff}.el-month-table td.end-date .el-date-table-cell__text,.el-month-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-month-table td.start-date .el-date-table-cell{border-bottom-left-radius:24px;border-top-left-radius:24px;margin-left:3px}.el-month-table td.end-date .el-date-table-cell{border-bottom-right-radius:24px;border-top-right-radius:24px;margin-right:3px}.el-month-table td.current:not(.disabled) .el-date-table-cell{border-radius:24px;margin-left:3px;margin-right:3px}.el-month-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-month-table td:focus-visible{outline:none}.el-month-table td:focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-year-table{border-collapse:collapse;font-size:12px;margin:-1px}.el-year-table .el-icon{color:var(--el-datepicker-icon-color)}.el-year-table td{cursor:pointer;padding:8px 0;position:relative;text-align:center;width:68px}.el-year-table td .el-date-table-cell{box-sizing:border-box;height:48px;padding:6px 0}.el-year-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-year-table td.today.end-date .el-date-table-cell__text,.el-year-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-year-table td.disabled .el-date-table-cell__text{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-year-table td.disabled .el-date-table-cell__text:hover{color:var(--el-text-color-placeholder)}.el-year-table td .el-date-table-cell__text{border-radius:18px;color:var(--el-datepicker-text-color);display:block;height:36px;left:50%;line-height:36px;margin:0 auto;position:absolute;transform:translate(-50%);width:60px}.el-year-table td .el-date-table-cell__text:hover{color:var(--el-datepicker-hover-text-color)}.el-year-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-year-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-year-table td.end-date .el-date-table-cell,.el-year-table td.start-date .el-date-table-cell{color:#fff}.el-year-table td.end-date .el-date-table-cell__text,.el-year-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-year-table td.start-date .el-date-table-cell{border-bottom-left-radius:24px;border-top-left-radius:24px}.el-year-table td.end-date .el-date-table-cell{border-bottom-right-radius:24px;border-top-right-radius:24px}.el-year-table td.current:not(.disabled) .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff}.el-year-table td:focus-visible{outline:none}.el-year-table td:focus-visible .el-date-table-cell__text{outline:2px solid var(--el-datepicker-active-color);outline-offset:1px}.el-time-spinner.has-seconds .el-time-spinner__wrapper{width:33.3%}.el-time-spinner__wrapper{display:inline-block;max-height:192px;overflow:auto;position:relative;vertical-align:top;width:50%}.el-time-spinner__wrapper.el-scrollbar__wrap:not(.el-scrollbar__wrap--hidden-default){padding-bottom:15px}.el-time-spinner__wrapper.is-arrow{box-sizing:border-box;overflow:hidden;text-align:center}.el-time-spinner__wrapper.is-arrow .el-time-spinner__list{transform:translateY(-32px)}.el-time-spinner__wrapper.is-arrow .el-time-spinner__item:hover:not(.is-disabled):not(.is-active){background:var(--el-fill-color-light);cursor:default}.el-time-spinner__arrow{color:var(--el-text-color-secondary);cursor:pointer;font-size:12px;height:30px;left:0;line-height:30px;position:absolute;text-align:center;width:100%;z-index:var(--el-index-normal)}.el-time-spinner__arrow:hover{color:var(--el-color-primary)}.el-time-spinner__arrow.arrow-up{top:10px}.el-time-spinner__arrow.arrow-down{bottom:10px}.el-time-spinner__input.el-input{width:70%}.el-time-spinner__input.el-input .el-input__inner,.el-time-spinner__list{padding:0;text-align:center}.el-time-spinner__list{list-style:none;margin:0}.el-time-spinner__list:after,.el-time-spinner__list:before{content:"";display:block;height:80px;width:100%}.el-time-spinner__item{color:var(--el-text-color-regular);font-size:12px;height:32px;line-height:32px}.el-time-spinner__item:hover:not(.is-disabled):not(.is-active){background:var(--el-fill-color-light);cursor:pointer}.el-time-spinner__item.is-active:not(.is-disabled){color:var(--el-text-color-primary);font-weight:700}.el-time-spinner__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-picker__popper{--el-datepicker-border-color:var(--el-disabled-border-color)}.el-picker__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-picker__popper.el-popper,.el-picker__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-datepicker-border-color)}.el-picker__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-picker__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-date-editor{--el-date-editor-width:220px;--el-date-editor-monthrange-width:300px;--el-date-editor-daterange-width:350px;--el-date-editor-datetimerange-width:400px;--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;position:relative;text-align:left;vertical-align:middle}.el-date-editor.el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset}.el-date-editor.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-date-editor.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-date-editor.el-input,.el-date-editor.el-input__wrapper{height:var(--el-input-height,var(--el-component-size));width:var(--el-date-editor-width)}.el-date-editor--monthrange{--el-date-editor-width:var(--el-date-editor-monthrange-width)}.el-date-editor--daterange,.el-date-editor--timerange{--el-date-editor-width:var(--el-date-editor-daterange-width)}.el-date-editor--datetimerange{--el-date-editor-width:var(--el-date-editor-datetimerange-width)}.el-date-editor--dates .el-input__wrapper{text-overflow:ellipsis;white-space:nowrap}.el-date-editor .clear-icon,.el-date-editor .close-icon{cursor:pointer}.el-date-editor .clear-icon:hover{color:var(--el-input-clear-hover-color)}.el-date-editor .el-range__icon{color:var(--el-text-color-placeholder);float:left;font-size:14px;height:inherit}.el-date-editor .el-range__icon svg{vertical-align:middle}.el-date-editor .el-range-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-text-color-regular);display:inline-block;font-size:var(--el-font-size-base);height:30px;line-height:30px;margin:0;outline:none;padding:0;text-align:center;width:39%}.el-date-editor .el-range-input::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-date-editor .el-range-input::placeholder{color:var(--el-text-color-placeholder)}.el-date-editor .el-range-separator{align-items:center;color:var(--el-text-color-primary);display:inline-flex;flex:1;font-size:14px;height:100%;justify-content:center;margin:0;overflow-wrap:break-word;padding:0 5px}.el-date-editor .el-range__close-icon{color:var(--el-text-color-placeholder);cursor:pointer;font-size:14px;height:inherit;width:unset}.el-date-editor .el-range__close-icon:hover{color:var(--el-input-clear-hover-color)}.el-date-editor .el-range__close-icon svg{vertical-align:middle}.el-date-editor .el-range__close-icon--hidden{opacity:0;visibility:hidden}.el-range-editor.el-input__wrapper{align-items:center;display:inline-flex;padding:0 10px;vertical-align:middle}.el-range-editor.is-active,.el-range-editor.is-active:hover{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-range-editor--large{line-height:var(--el-component-size-large)}.el-range-editor--large.el-input__wrapper{height:var(--el-component-size-large)}.el-range-editor--large .el-range-separator{font-size:14px;line-height:40px}.el-range-editor--large .el-range-input{font-size:14px;height:38px;line-height:38px}.el-range-editor--small{line-height:var(--el-component-size-small)}.el-range-editor--small.el-input__wrapper{height:var(--el-component-size-small)}.el-range-editor--small .el-range-separator{font-size:12px;line-height:24px}.el-range-editor--small .el-range-input{font-size:12px;height:22px;line-height:22px}.el-range-editor.is-disabled{background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled,.el-range-editor.is-disabled:focus,.el-range-editor.is-disabled:hover{border-color:var(--el-disabled-border-color)}.el-range-editor.is-disabled input{background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled input::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-range-editor.is-disabled input::placeholder{color:var(--el-text-color-placeholder)}.el-range-editor.is-disabled .el-range-separator{color:var(--el-disabled-text-color)}.el-picker-panel{background:var(--el-bg-color-overlay);border-radius:var(--el-popper-border-radius,var(--el-border-radius-base));color:var(--el-text-color-regular);line-height:30px}.el-picker-panel .el-time-panel{background-color:var(--el-bg-color-overlay);border:1px solid var(--el-datepicker-border-color);box-shadow:var(--el-box-shadow-light);margin:5px 0}.el-picker-panel__body-wrapper:after,.el-picker-panel__body:after{clear:both;content:"";display:table}.el-picker-panel__content{margin:15px;position:relative}.el-picker-panel__footer{background-color:var(--el-bg-color-overlay);border-top:1px solid var(--el-datepicker-inner-border-color);font-size:0;padding:4px 12px;position:relative;text-align:right}.el-picker-panel__shortcut{background-color:transparent;border:0;color:var(--el-datepicker-text-color);cursor:pointer;display:block;font-size:14px;line-height:28px;outline:none;padding-left:12px;text-align:left;width:100%}.el-picker-panel__shortcut:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__shortcut.active{background-color:#e6f1fe;color:var(--el-datepicker-active-color)}.el-picker-panel__btn{background-color:transparent;border:1px solid var(--el-fill-color-darker);border-radius:2px;color:var(--el-text-color-primary);cursor:pointer;font-size:12px;line-height:24px;outline:none;padding:0 20px}.el-picker-panel__btn[disabled]{color:var(--el-text-color-disabled);cursor:not-allowed}.el-picker-panel__icon-btn{background:transparent;border:0;color:var(--el-datepicker-icon-color);cursor:pointer;font-size:12px;line-height:1;margin-top:8px;outline:none;padding:1px 6px}.el-picker-panel__icon-btn:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__icon-btn:focus-visible{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__icon-btn.is-disabled{color:var(--el-text-color-disabled)}.el-picker-panel__icon-btn.is-disabled:hover{cursor:not-allowed}.el-picker-panel__icon-btn.is-disabled .el-icon{cursor:inherit}.el-picker-panel__icon-btn .el-icon{cursor:pointer;font-size:inherit}.el-picker-panel__link-btn{vertical-align:middle}.el-picker-panel.is-disabled .el-picker-panel__prev-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__prev-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__prev-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__next-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__next-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__next-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__icon-btn{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__icon-btn:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__icon-btn .el-icon{cursor:inherit}.el-picker-panel.is-disabled .el-picker-panel__shortcut{color:var(--el-text-color-disabled)}.el-picker-panel.is-disabled .el-picker-panel__shortcut:hover{cursor:not-allowed}.el-picker-panel.is-disabled .el-picker-panel__shortcut .el-icon{cursor:inherit}.el-picker-panel [slot=sidebar],.el-picker-panel__sidebar{border-right:1px solid var(--el-datepicker-inner-border-color);bottom:0;box-sizing:border-box;overflow:auto;padding-top:6px;position:absolute;top:0;width:110px}.el-picker-panel [slot=sidebar]+.el-picker-panel__body,.el-picker-panel__sidebar+.el-picker-panel__body{margin-left:110px}.el-date-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary);width:322px}.el-date-picker.has-sidebar.has-time{width:434px}.el-date-picker.has-sidebar{width:438px}.el-date-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-picker .el-picker-panel__content{width:292px}.el-date-picker table{table-layout:fixed;width:100%}.el-date-picker__editor-wrap{display:table-cell;padding:0 5px;position:relative}.el-date-picker__time-header{border-bottom:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;display:table;font-size:12px;padding:8px 5px 5px;position:relative;width:100%}.el-date-picker__header{padding:12px 12px 0;text-align:center}.el-date-picker__header--bordered{border-bottom:1px solid var(--el-border-color-lighter);margin-bottom:0;padding-bottom:12px}.el-date-picker__header--bordered+.el-picker-panel__content{margin-top:0}.el-date-picker__header-label{color:var(--el-text-color-regular);cursor:pointer;font-size:16px;font-weight:500;line-height:22px;padding:0 5px;text-align:center}.el-date-picker__header-label:hover{color:var(--el-datepicker-hover-text-color)}.el-date-picker__header-label:focus-visible{color:var(--el-datepicker-hover-text-color);outline:none}.el-date-picker__header-label.active{color:var(--el-datepicker-active-color)}.el-date-picker__prev-btn{float:left}.el-date-picker__next-btn{float:right}.el-date-picker__time-wrap{padding:10px;text-align:center}.el-date-picker__time-label{cursor:pointer;float:left;line-height:30px;margin-left:10px}.el-date-picker .el-time-panel{position:absolute}.el-date-picker.is-disabled .el-date-picker__header-label{color:var(--el-text-color-disabled)}.el-date-picker.is-disabled .el-date-picker__header-label:hover{cursor:not-allowed}.el-date-picker.is-disabled .el-date-picker__header-label .el-icon{cursor:inherit}.el-date-range-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary);width:646px}.el-date-range-picker.has-sidebar{width:756px}.el-date-range-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-range-picker table{table-layout:fixed;width:100%}.el-date-range-picker .el-picker-panel__body{min-width:513px}.el-date-range-picker .el-picker-panel__content{margin:0}.el-date-range-picker__header{height:28px;position:relative;text-align:center}.el-date-range-picker__header [class*=arrow-left]{float:left}.el-date-range-picker__header [class*=arrow-right]{float:right}.el-date-range-picker__header div{font-size:16px;font-weight:500;margin-right:50px}.el-date-range-picker__header-label{color:var(--el-text-color-regular);cursor:pointer;font-size:16px;font-weight:500;line-height:22px;padding:0 5px;text-align:center}.el-date-range-picker__header-label:hover{color:var(--el-datepicker-hover-text-color)}.el-date-range-picker__header-label:focus-visible{color:var(--el-datepicker-hover-text-color);outline:none}.el-date-range-picker__header-label.active{color:var(--el-datepicker-active-color)}.el-date-range-picker__content{box-sizing:border-box;display:table-cell;margin:0;padding:16px;width:50%}.el-date-range-picker__content.is-left{border-right:1px solid var(--el-datepicker-inner-border-color)}.el-date-range-picker__content .el-date-range-picker__header div{margin-left:50px;margin-right:50px}.el-date-range-picker__editors-wrap{box-sizing:border-box;display:table-cell}.el-date-range-picker__editors-wrap.is-right{text-align:right}.el-date-range-picker__time-header{border-bottom:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;display:table;font-size:12px;padding:8px 5px 5px;position:relative;width:100%}.el-date-range-picker__time-header>.el-icon-arrow-right{color:var(--el-datepicker-icon-color);display:table-cell;font-size:20px;vertical-align:middle}.el-date-range-picker__time-picker-wrap{display:table-cell;padding:0 5px;position:relative}.el-date-range-picker__time-picker-wrap .el-picker-panel{background:#fff;position:absolute;right:0;top:13px;z-index:1}.el-date-range-picker__time-picker-wrap .el-time-panel{position:absolute}.el-date-range-picker.is-disabled .el-date-range-picker__header-label{color:var(--el-text-color-disabled)}.el-date-range-picker.is-disabled .el-date-range-picker__header-label:hover{cursor:not-allowed}.el-date-range-picker.is-disabled .el-date-range-picker__header-label .el-icon{cursor:inherit}.el-time-range-picker{overflow:visible;width:354px}.el-time-range-picker__content{padding:10px;position:relative;text-align:center;z-index:1}.el-time-range-picker__cell{box-sizing:border-box;display:inline-block;margin:0;padding:4px 7px 7px;width:50%}.el-time-range-picker__header{font-size:14px;margin-bottom:5px;text-align:center}.el-time-range-picker__body{border:1px solid var(--el-datepicker-border-color);border-radius:2px}.el-time-panel{border-radius:2px;box-sizing:content-box;left:0;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:180px;z-index:var(--el-index-top)}.el-time-panel__content{font-size:0;overflow:hidden;position:relative}.el-time-panel__content:after,.el-time-panel__content:before{box-sizing:border-box;content:"";height:32px;left:0;margin-top:-16px;padding-top:6px;position:absolute;right:0;text-align:left;top:50%;z-index:-1}.el-time-panel__content:after{left:50%;margin-left:12%;margin-right:12%}.el-time-panel__content:before{border-bottom:1px solid var(--el-border-color-light);border-top:1px solid var(--el-border-color-light);margin-left:12%;margin-right:12%;padding-left:50%}.el-time-panel__content.has-seconds:after{left:66.6666666667%}.el-time-panel__content.has-seconds:before{padding-left:33.3333333333%}.el-time-panel__footer{border-top:1px solid var(--el-timepicker-inner-border-color,var(--el-border-color-light));box-sizing:border-box;height:36px;line-height:25px;padding:4px;text-align:right}.el-time-panel__btn{background-color:transparent;border:none;color:var(--el-text-color-primary);cursor:pointer;font-size:12px;line-height:28px;margin:0 5px;outline:none;padding:0 5px}.el-time-panel__btn.confirm{color:var(--el-timepicker-active-color,var(--el-color-primary));font-weight:800}.el-picker-panel.is-border{border:1px solid var(--el-border-color-lighter)}.el-picker-panel.is-border .el-picker-panel__body-wrapper{position:relative}.el-picker-panel.is-border.el-picker-panel [slot=sidebar],.el-picker-panel.is-border.el-picker-panel__sidebar{border-right:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;height:100%;overflow:auto;padding-top:6px;position:absolute;top:0;width:110px}.el-descriptions{--el-descriptions-table-border:1px solid var(--el-border-color-lighter);--el-descriptions-item-bordered-label-background:var(--el-fill-color-light);box-sizing:border-box;color:var(--el-text-color-primary);font-size:var(--el-font-size-base)}.el-descriptions__header{align-items:center;display:flex;justify-content:space-between;margin-bottom:16px}.el-descriptions__title{color:var(--el-text-color-primary);font-size:16px;font-weight:700}.el-descriptions__body{background-color:var(--el-fill-color-blank)}.el-descriptions__body .el-descriptions__table{border-collapse:collapse;width:100%}.el-descriptions__body .el-descriptions__table .el-descriptions__cell{box-sizing:border-box;font-size:14px;line-height:23px;text-align:left}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-left{text-align:left}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-center{text-align:center}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-right{text-align:right}.el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{border:var(--el-descriptions-table-border);padding:8px 11px}.el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:12px}.el-descriptions--large{font-size:14px}.el-descriptions--large .el-descriptions__header{margin-bottom:20px}.el-descriptions--large .el-descriptions__header .el-descriptions__title{font-size:16px}.el-descriptions--large .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:14px}.el-descriptions--large .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:12px 15px}.el-descriptions--large .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:16px}.el-descriptions--small{font-size:12px}.el-descriptions--small .el-descriptions__header{margin-bottom:12px}.el-descriptions--small .el-descriptions__header .el-descriptions__title{font-size:14px}.el-descriptions--small .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:12px}.el-descriptions--small .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:4px 7px}.el-descriptions--small .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:8px}.el-descriptions__label.el-descriptions__cell.is-bordered-label{background:var(--el-descriptions-item-bordered-label-background);color:var(--el-text-color-regular);font-weight:700}.el-descriptions__label:not(.is-bordered-label){color:var(--el-text-color-primary);margin-right:16px}.el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:6px}.el-descriptions__content.el-descriptions__cell.is-bordered-content{color:var(--el-text-color-primary)}.el-descriptions__content:not(.is-bordered-label){color:var(--el-text-color-regular)}.el-descriptions--large .el-descriptions__label:not(.is-bordered-label){margin-right:16px}.el-descriptions--large .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:8px}.el-descriptions--small .el-descriptions__label:not(.is-bordered-label){margin-right:12px}.el-descriptions--small .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:4px}:root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:.5}.v-modal-enter{animation:v-modal-in var(--el-transition-duration-fast) ease}.v-modal-leave{animation:v-modal-out var(--el-transition-duration-fast) ease forwards}@keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-out{to{opacity:0}}.v-modal{background:var(--el-popup-modal-bg-color);height:100%;left:0;opacity:var(--el-popup-modal-opacity);position:fixed;top:0;width:100%}.el-popup-parent--hidden{overflow:hidden}.el-dialog{--el-dialog-width:50%;--el-dialog-margin-top:15vh;--el-dialog-bg-color:var(--el-bg-color);--el-dialog-box-shadow:var(--el-box-shadow);--el-dialog-title-font-size:var(--el-font-size-large);--el-dialog-content-font-size:14px;--el-dialog-font-line-height:var(--el-font-line-height-primary);--el-dialog-padding-primary:16px;--el-dialog-border-radius:var(--el-border-radius-base);background:var(--el-dialog-bg-color);border-radius:var(--el-dialog-border-radius);box-shadow:var(--el-dialog-box-shadow);box-sizing:border-box;margin:var(--el-dialog-margin-top,15vh) auto 50px;overflow-wrap:break-word;padding:var(--el-dialog-padding-primary);position:relative;width:var(--el-dialog-width,50%)}.el-dialog:focus{outline:none!important}.el-dialog.is-align-center{margin:auto}.el-dialog.is-fullscreen{--el-dialog-width:100%;--el-dialog-margin-top:0;border-radius:0;height:100%;margin-bottom:0;overflow:auto}.el-dialog__wrapper{inset:0;margin:0;overflow:auto;position:fixed}.el-dialog.is-draggable .el-dialog__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-dialog__header{padding-bottom:var(--el-dialog-padding-primary)}.el-dialog__header.show-close{padding-right:calc(var(--el-dialog-padding-primary) + var(--el-message-close-size, 16px))}.el-dialog__headerbtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:48px;outline:none;padding:0;position:absolute;right:0;top:0;width:48px}.el-dialog__headerbtn .el-dialog__close{color:var(--el-color-info);font-size:inherit}.el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close{color:var(--el-color-primary)}.el-dialog__title{color:var(--el-text-color-primary);font-size:var(--el-dialog-title-font-size);line-height:var(--el-dialog-font-line-height)}.el-dialog__body{color:var(--el-text-color-regular);font-size:var(--el-dialog-content-font-size)}.el-dialog__footer{box-sizing:border-box;padding-top:var(--el-dialog-padding-primary);text-align:right}.el-dialog--center{text-align:center}.el-dialog--center .el-dialog__body{text-align:initial}.el-dialog--center .el-dialog__footer{text-align:inherit}.el-modal-dialog.is-penetrable{pointer-events:none}.el-modal-dialog.is-penetrable .el-dialog{pointer-events:auto}.el-overlay-dialog{inset:0;overflow:auto;position:fixed}.el-overlay-dialog.is-closing .el-dialog{pointer-events:none}.dialog-fade-enter-active{animation:modal-fade-in var(--el-transition-duration)}.dialog-fade-enter-active .el-overlay-dialog{animation:dialog-fade-in var(--el-transition-duration)}.dialog-fade-leave-active{animation:modal-fade-out var(--el-transition-duration)}.dialog-fade-leave-active .el-overlay-dialog{animation:dialog-fade-out var(--el-transition-duration)}@keyframes dialog-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@keyframes dialog-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-fade-out{0%{opacity:1}to{opacity:0}}.el-divider{position:relative}.el-divider--horizontal{border-top:1px var(--el-border-color) var(--el-border-style);display:block;height:1px;margin:24px 0;width:100%}.el-divider--vertical{border-left:1px var(--el-border-color) var(--el-border-style);display:inline-block;height:1em;margin:0 8px;position:relative;vertical-align:middle;width:1px}.el-divider__text{background-color:var(--el-bg-color);color:var(--el-text-color-primary);font-size:14px;font-weight:500;padding:0 20px;position:absolute}.el-divider__text.is-left{left:20px;transform:translateY(-50%)}.el-divider__text.is-center{left:50%;transform:translate(-50%) translateY(-50%)}.el-divider__text.is-right{right:20px;transform:translateY(-50%)}.el-overlay.is-drawer{overflow:hidden}.el-drawer{--el-drawer-bg-color:var(--el-dialog-bg-color,var(--el-bg-color));--el-drawer-padding-primary:var(--el-dialog-padding-primary,20px);--el-drawer-dragger-size:8px;background-color:var(--el-drawer-bg-color);box-shadow:var(--el-box-shadow-dark);box-sizing:border-box;display:flex;flex-direction:column;position:absolute;transition:all var(--el-transition-duration)}.el-drawer .btt,.el-drawer .ltr,.el-drawer .rtl,.el-drawer .ttb{transform:translate(0)}.el-drawer__sr-focus:focus{outline:none!important}.el-drawer__header{align-items:center;color:var(--el-text-color-primary);display:flex;margin-bottom:32px;overflow:hidden;padding:var(--el-drawer-padding-primary);padding-bottom:0}.el-drawer__header>:first-child{flex:1}.el-drawer__title{flex:1;font-size:16px;line-height:inherit;margin:0}.el-drawer__footer{overflow:hidden;padding:var(--el-drawer-padding-primary);padding-top:10px;text-align:right}.el-drawer__close-btn{background-color:transparent;border:none;color:inherit;cursor:pointer;display:inline-flex;font-size:var(--el-font-size-extra-large);outline:none}.el-drawer__close-btn:focus i,.el-drawer__close-btn:hover i{color:var(--el-color-primary)}.el-drawer__body{flex:1;overflow:auto;padding:var(--el-drawer-padding-primary)}.el-drawer__body>*{box-sizing:border-box}.el-drawer.is-dragging{transition:none}.el-drawer__dragger{-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-drawer__dragger,.el-drawer__dragger:before{background-color:transparent;position:absolute;transition:all .2s}.el-drawer__dragger:before{content:""}.el-drawer__dragger:hover:before{background-color:var(--el-color-primary)}.el-drawer.ltr,.el-drawer.rtl{bottom:0;height:100%;top:0}.el-drawer.ltr>.el-drawer__dragger,.el-drawer.rtl>.el-drawer__dragger{bottom:0;cursor:ew-resize;height:100%;top:0;width:var(--el-drawer-dragger-size)}.el-drawer.ltr>.el-drawer__dragger:before,.el-drawer.rtl>.el-drawer__dragger:before{bottom:0;top:0;width:3px}.el-drawer.btt,.el-drawer.ttb{left:0;right:0;width:100%}.el-drawer.btt>.el-drawer__dragger,.el-drawer.ttb>.el-drawer__dragger{cursor:ns-resize;height:var(--el-drawer-dragger-size);left:0;right:0;width:100%}.el-drawer.btt>.el-drawer__dragger:before,.el-drawer.ttb>.el-drawer__dragger:before{height:3px;left:0;right:0}.el-drawer.ltr{left:0}.el-drawer.ltr>.el-drawer__dragger{right:0}.el-drawer.ltr>.el-drawer__dragger:before{right:-2px}.el-drawer.rtl{right:0}.el-drawer.rtl>.el-drawer__dragger{left:0}.el-drawer.rtl>.el-drawer__dragger:before{left:-2px}.el-drawer.ttb{top:0}.el-drawer.ttb>.el-drawer__dragger{bottom:0}.el-drawer.ttb>.el-drawer__dragger:before{bottom:-2px}.el-drawer.btt{bottom:0}.el-drawer.btt>.el-drawer__dragger{top:0}.el-drawer.btt>.el-drawer__dragger:before{top:-2px}.el-modal-drawer.is-penetrable{pointer-events:none}.el-modal-drawer.is-penetrable .el-drawer{pointer-events:auto}.el-drawer-fade-enter-active,.el-drawer-fade-leave-active{transition:all var(--el-transition-duration)}.el-drawer-fade-enter-active,.el-drawer-fade-enter-from,.el-drawer-fade-enter-to,.el-drawer-fade-leave-active,.el-drawer-fade-leave-from,.el-drawer-fade-leave-to{overflow:hidden!important}.el-drawer-fade-enter-from,.el-drawer-fade-leave-to{background-color:transparent!important}.el-drawer-fade-enter-from .rtl,.el-drawer-fade-leave-to .rtl{transform:translate(100%)}.el-drawer-fade-enter-from .ltr,.el-drawer-fade-leave-to .ltr{transform:translate(-100%)}.el-drawer-fade-enter-from .ttb,.el-drawer-fade-leave-to .ttb{transform:translateY(-100%)}.el-drawer-fade-enter-from .btt,.el-drawer-fade-leave-to .btt{transform:translateY(100%)}.el-dropdown{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10;color:var(--el-text-color-regular);display:inline-flex;font-size:var(--el-font-size-base);line-height:1;position:relative;vertical-align:top}.el-dropdown.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-dropdown__popper{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10}.el-dropdown__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-dropdown-menu-box-shadow)}.el-dropdown__popper.el-popper,.el-dropdown__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-dropdown__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-dropdown__popper .el-dropdown-menu{border:none}.el-dropdown__popper .el-dropdown__popper-selfdefine{outline:none}.el-dropdown__popper .el-scrollbar__bar{z-index:calc(var(--el-dropdown-menu-index) + 1)}.el-dropdown__popper .el-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:0}.el-dropdown .el-dropdown__caret-button{align-items:center;border-left:none;display:inline-flex;justify-content:center;padding-left:0;padding-right:0;width:32px}.el-dropdown .el-dropdown__caret-button>span{display:inline-flex}.el-dropdown .el-dropdown__caret-button:before{background:var(--el-overlay-color-lighter);bottom:-1px;content:"";display:block;left:0;position:absolute;top:-1px;width:1px}.el-dropdown .el-dropdown__caret-button.el-button:before{background:var(--el-border-color);opacity:.5}.el-dropdown .el-dropdown__caret-button .el-dropdown__icon{font-size:inherit;padding-left:0}.el-dropdown .el-dropdown-selfdefine{outline:none}.el-dropdown--large .el-dropdown__caret-button{width:40px}.el-dropdown--small .el-dropdown__caret-button{width:24px}.el-dropdown-menu{background-color:var(--el-bg-color-overlay);border:none;border-radius:var(--el-border-radius-base);box-shadow:none;left:0;list-style:none;margin:0;padding:5px 0;position:relative;top:0;z-index:var(--el-dropdown-menu-index)}.el-dropdown-menu__item{align-items:center;color:var(--el-text-color-regular);cursor:pointer;display:flex;font-size:var(--el-font-size-base);line-height:22px;list-style:none;margin:0;outline:none;padding:5px 16px;white-space:nowrap}.el-dropdown-menu__item:not(.is-disabled):focus,.el-dropdown-menu__item:not(.is-disabled):hover{background-color:var(--el-dropdown-menuItem-hover-fill);color:var(--el-dropdown-menuItem-hover-color)}.el-dropdown-menu__item i{margin-right:5px}.el-dropdown-menu__item--divided{border-top:1px solid var(--el-border-color-lighter);margin:6px 0}.el-dropdown-menu__item.is-disabled{color:var(--el-text-color-disabled);cursor:not-allowed}.el-dropdown-menu--large{padding:7px 0}.el-dropdown-menu--large .el-dropdown-menu__item{font-size:14px;line-height:22px;padding:7px 20px}.el-dropdown-menu--large .el-dropdown-menu__item--divided{margin:8px 0}.el-dropdown-menu--small{padding:3px 0}.el-dropdown-menu--small .el-dropdown-menu__item{font-size:12px;line-height:20px;padding:2px 12px}.el-dropdown-menu--small .el-dropdown-menu__item--divided{margin:4px 0}.el-empty{--el-empty-padding:40px 0;--el-empty-image-width:160px;--el-empty-description-margin-top:20px;--el-empty-bottom-margin-top:20px;--el-empty-fill-color-0:var(--el-color-white);--el-empty-fill-color-1:#fcfcfd;--el-empty-fill-color-2:#f8f9fb;--el-empty-fill-color-3:#f7f8fc;--el-empty-fill-color-4:#eeeff3;--el-empty-fill-color-5:#edeef2;--el-empty-fill-color-6:#e9ebef;--el-empty-fill-color-7:#e5e7e9;--el-empty-fill-color-8:#e0e3e9;--el-empty-fill-color-9:#d5d7de;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:var(--el-empty-padding);text-align:center}.el-empty__image{width:var(--el-empty-image-width)}.el-empty__image img{height:100%;-o-object-fit:contain;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:top;width:100%}.el-empty__image svg{color:var(--el-svg-monochrome-grey);fill:currentColor;height:100%;vertical-align:top;width:100%}.el-empty__description{margin-top:var(--el-empty-description-margin-top)}.el-empty__description p{color:var(--el-text-color-secondary);font-size:var(--el-font-size-base);margin:0}.el-empty__bottom{margin-top:var(--el-empty-bottom-margin-top)}.el-footer{--el-footer-padding:0 20px;--el-footer-height:60px;box-sizing:border-box;flex-shrink:0;height:var(--el-footer-height);padding:var(--el-footer-padding)}.el-form-item{display:flex;--font-size:14px;margin-bottom:18px}.el-form-item .el-form-item{margin-bottom:0}.el-form-item .el-input__validateIcon{display:none}.el-form-item--large{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:22px}.el-form-item--large .el-form-item__label{height:40px;line-height:40px}.el-form-item--large .el-form-item__content{line-height:40px}.el-form-item--large .el-form-item__error{padding-top:4px}.el-form-item--default{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--default .el-form-item__label{height:32px;line-height:32px}.el-form-item--default .el-form-item__content{line-height:32px}.el-form-item--default .el-form-item__error{padding-top:2px}.el-form-item--small{--font-size:12px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--small .el-form-item__label{height:24px;line-height:24px}.el-form-item--small .el-form-item__content{line-height:24px}.el-form-item--small .el-form-item__error{padding-top:2px}.el-form-item--label-left .el-form-item__label{justify-content:flex-start;text-align:left}.el-form-item--label-right .el-form-item__label{justify-content:flex-end;text-align:right}.el-form-item--label-top{display:block}.el-form-item--label-top .el-form-item__label{display:block;height:auto;line-height:22px;margin-bottom:8px;padding-right:0;text-align:left;width:-moz-fit-content;width:fit-content}.el-form-item__label-wrap{display:flex}.el-form-item__label{align-items:flex-start;box-sizing:border-box;color:var(--el-text-color-regular);display:inline-flex;flex:0 0 auto;font-size:var(--el-form-label-font-size);height:32px;line-height:32px;padding:0 12px 0 0}.el-form-item__content{align-items:center;display:flex;flex:1;flex-wrap:wrap;font-size:var(--font-size);line-height:32px;min-width:0;position:relative}.el-form-item__content .el-input-group{vertical-align:top}.el-form-item__error{color:var(--el-color-danger);font-size:12px;left:0;line-height:1;padding-top:2px;position:absolute;top:100%}.el-form-item__error--inline{display:inline-block;left:auto;margin-left:10px;position:relative;top:auto}.el-form-item.is-required:not(.is-no-asterisk).asterisk-left>.el-form-item__label-wrap>.el-form-item__label:before,.el-form-item.is-required:not(.is-no-asterisk).asterisk-left>.el-form-item__label:before{color:var(--el-color-danger);content:"*";margin-right:4px}.el-form-item.is-required:not(.is-no-asterisk).asterisk-right>.el-form-item__label-wrap>.el-form-item__label:after,.el-form-item.is-required:not(.is-no-asterisk).asterisk-right>.el-form-item__label:after{color:var(--el-color-danger);content:"*";margin-left:4px}.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-input-tag__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-input__wrapper,.el-form-item.is-error .el-form-item__content .el-input__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-input__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-input__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-select__wrapper,.el-form-item.is-error .el-form-item__content .el-select__wrapper.is-focus,.el-form-item.is-error .el-form-item__content .el-select__wrapper:focus,.el-form-item.is-error .el-form-item__content .el-select__wrapper:hover,.el-form-item.is-error .el-form-item__content .el-textarea__inner,.el-form-item.is-error .el-form-item__content .el-textarea__inner.is-focus,.el-form-item.is-error .el-form-item__content .el-textarea__inner:focus,.el-form-item.is-error .el-form-item__content .el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-form-item.is-error .el-form-item__content .el-input-group__append .el-input__wrapper,.el-form-item.is-error .el-form-item__content .el-input-group__prepend .el-input__wrapper{box-shadow:inset 0 0 0 1px transparent}.el-form-item.is-error .el-form-item__content .el-input-group__append .el-input__validateIcon,.el-form-item.is-error .el-form-item__content .el-input-group__prepend .el-input__validateIcon{display:none}.el-form-item.is-error .el-form-item__content .el-input__validateIcon{color:var(--el-color-danger)}.el-form-item--feedback .el-input__validateIcon{display:inline-flex}.el-form{--el-form-label-font-size:var(--el-font-size-base);--el-form-inline-content-width:220px}.el-form--inline .el-form-item{display:inline-flex;margin-right:32px;vertical-align:middle}.el-form--inline.el-form--label-top{display:flex;flex-wrap:wrap}.el-form--inline.el-form--label-top .el-form-item{display:block}.el-header{--el-header-padding:0 20px;--el-header-height:60px;box-sizing:border-box;flex-shrink:0;height:var(--el-header-height);padding:var(--el-header-padding)}.el-image-viewer__wrapper{inset:0;position:fixed}.el-image-viewer__wrapper:focus{outline:none!important}.el-image-viewer__btn{align-items:center;border-radius:50%;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;opacity:.8;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}.el-image-viewer__btn .el-icon{cursor:pointer}.el-image-viewer__close{font-size:40px;height:40px;right:40px;top:40px;width:40px}.el-image-viewer__canvas{align-items:center;display:flex;height:100%;justify-content:center;position:static;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.el-image-viewer__actions{background-color:var(--el-text-color-regular);border-color:#fff;border-radius:22px;bottom:30px;height:44px;left:50%;padding:0 23px;transform:translate(-50%)}.el-image-viewer__actions__inner{align-items:center;color:#fff;cursor:default;display:flex;font-size:23px;gap:22px;height:100%;justify-content:space-around;padding:0 6px;width:100%}.el-image-viewer__actions__divider{margin:0 -6px}.el-image-viewer__progress{bottom:90px;color:#fff;cursor:default;left:50%;transform:translate(-50%)}.el-image-viewer__prev{left:40px}.el-image-viewer__next,.el-image-viewer__prev{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;top:50%;transform:translateY(-50%);width:44px}.el-image-viewer__next{right:40px;text-indent:2px}.el-image-viewer__close{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;width:44px}.el-image-viewer__mask{background:#000;height:100%;left:0;opacity:.5;position:absolute;top:0;width:100%}.el-image-viewer-parent--hidden{overflow:hidden}.viewer-fade-enter-active{animation:viewer-fade-in var(--el-transition-duration)}.viewer-fade-leave-active{animation:viewer-fade-out var(--el-transition-duration)}@keyframes viewer-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@keyframes viewer-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}.el-image__error,.el-image__inner,.el-image__placeholder,.el-image__wrapper{height:100%;width:100%}.el-image{display:inline-block;overflow:hidden;position:relative}.el-image__inner{opacity:1;vertical-align:top}.el-image__inner.is-loading{opacity:0}.el-image__wrapper{left:0;position:absolute;top:0}.el-image__error,.el-image__placeholder{background:var(--el-fill-color-light)}.el-image__error{align-items:center;color:var(--el-text-color-placeholder);display:flex;font-size:14px;justify-content:center;vertical-align:middle}.el-image__preview{cursor:pointer}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;display:inline-block;font-size:var(--el-font-size-base);position:relative;vertical-align:bottom;width:100%}.el-textarea__inner{-webkit-appearance:none;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;box-sizing:border-box;color:var(--el-input-text-color,var(--el-text-color-regular));display:block;font-family:inherit;font-size:inherit;line-height:1.5;padding:5px 11px;position:relative;resize:vertical;transition:var(--el-transition-box-shadow);width:100%}.el-textarea__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-textarea__inner:focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset;outline:none}.el-textarea .el-input__count{background:var(--el-fill-color-blank);bottom:5px;color:var(--el-color-info);font-size:12px;line-height:14px;position:absolute;right:10px}.el-textarea .el-input__count.is-outside{background:transparent;bottom:unset;line-height:1;padding-top:2px;position:absolute;right:0;top:100%}.el-textarea.is-disabled .el-textarea__inner{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%;--el-input-height:var(--el-component-size);box-sizing:border-box;display:inline-flex;font-size:var(--el-font-size-base);line-height:var(--el-input-height);position:relative;vertical-align:middle;width:var(--el-input-width)}.el-input::-webkit-scrollbar{width:6px;z-index:11}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{background:var(--el-text-color-disabled);border-radius:5px;width:6px}.el-input::-webkit-scrollbar-corner,.el-input::-webkit-scrollbar-track{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track-piece{background:var(--el-fill-color-blank);width:6px}.el-input .el-input__clear,.el-input .el-input__password{color:var(--el-input-icon-color);cursor:pointer;font-size:14px}.el-input .el-input__clear:hover,.el-input .el-input__password:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{align-items:center;color:var(--el-color-info);display:inline-flex;font-size:12px;height:100%}.el-input .el-input__count .el-input__count-inner{background:var(--el-fill-color-blank);display:inline-block;line-height:normal;padding-left:8px}.el-input .el-input__count.is-outside{height:unset;padding-top:2px;position:absolute;right:0;top:100%}.el-input .el-input__count.is-outside .el-input__count-inner{background:transparent;line-height:1;padding-left:0}.el-input__wrapper{align-items:center;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;cursor:text;display:inline-flex;flex-grow:1;justify-content:center;padding:1px 11px;transform:translateZ(0);transition:var(--el-transition-box-shadow)}.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input{--el-input-inner-height:calc(var(--el-input-height, 32px) - 2px)}.el-input__inner{-webkit-appearance:none;background:none;border:none;box-sizing:border-box;color:var(--el-input-text-color,var(--el-text-color-regular));flex-grow:1;font-size:inherit;height:var(--el-input-inner-height);line-height:var(--el-input-inner-height);outline:none;padding:0;width:100%}.el-input__inner:focus{outline:none}.el-input__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner[type=password]::-ms-reveal{display:none}.el-input__inner[type=number]{line-height:1}.el-input__prefix{color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:inline-flex;flex-shrink:0;flex-wrap:nowrap;height:100%;line-height:var(--el-input-inner-height);pointer-events:none;text-align:center;transition:all var(--el-transition-duration);white-space:nowrap}.el-input__prefix-inner{align-items:center;display:inline-flex;justify-content:center;pointer-events:all}.el-input__prefix-inner>:last-child{margin-right:8px}.el-input__prefix-inner>:first-child,.el-input__prefix-inner>:first-child.el-input__icon{margin-left:0}.el-input__suffix{color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:inline-flex;flex-shrink:0;flex-wrap:nowrap;height:100%;line-height:var(--el-input-inner-height);pointer-events:none;text-align:center;transition:all var(--el-transition-duration);white-space:nowrap}.el-input__suffix-inner{align-items:center;display:inline-flex;justify-content:center;pointer-events:all}.el-input__suffix-inner>:first-child{margin-left:8px}.el-input .el-input__icon{align-items:center;display:flex;height:inherit;justify-content:center;line-height:inherit;margin-left:8px;transition:all var(--el-transition-duration)}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-color, ) inset}.el-input.is-disabled{cursor:not-allowed}.el-input.is-disabled .el-input__wrapper{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;cursor:not-allowed}.el-input.is-disabled .el-input__inner{color:var(--el-disabled-text-color);-webkit-text-fill-color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-disabled .el-input__prefix-inner,.el-input.is-disabled .el-input__suffix-inner{pointer-events:none}.el-input.is-exceed .el-input__wrapper{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--large{--el-input-height:var(--el-component-size-large);font-size:14px}.el-input--large .el-input__wrapper{padding:1px 15px}.el-input--large{--el-input-inner-height:calc(var(--el-input-height, 40px) - 2px)}.el-input--small{--el-input-height:var(--el-component-size-small);font-size:12px}.el-input--small .el-input__wrapper{padding:1px 7px}.el-input--small{--el-input-inner-height:calc(var(--el-input-height, 24px) - 2px)}.el-input-group{align-items:stretch;display:inline-flex;width:100%}.el-input-group__append,.el-input-group__prepend{align-items:center;background-color:var(--el-fill-color-light);border-radius:var(--el-input-border-radius);color:var(--el-color-info);display:inline-flex;justify-content:center;min-height:100%;padding:0 20px;position:relative;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:none}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;flex:1;margin:0 -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-select__wrapper,.el-input-group__append div.el-select:hover .el-select__wrapper,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-select__wrapper,.el-input-group__prepend div.el-select:hover .el-select__wrapper{background-color:transparent;border-color:transparent;color:inherit}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group__append{border-left:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--prepend>.el-input__wrapper,.el-input-group__append{border-bottom-left-radius:0;border-top-left-radius:0}.el-input-group--prepend .el-input-group__prepend .el-select .el-select__wrapper{border-bottom-right-radius:0;border-top-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group--append>.el-input__wrapper{border-bottom-right-radius:0;border-top-right-radius:0}.el-input-group--append .el-input-group__append .el-select .el-select__wrapper{border-bottom-left-radius:0;border-top-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-hidden{display:none!important}.el-input-number{display:inline-flex;line-height:30px;position:relative;vertical-align:middle;width:150px}.el-input-number .el-input__wrapper{padding-left:42px;padding-right:42px}.el-input-number .el-input__inner{-webkit-appearance:none;-moz-appearance:textfield;line-height:1;text-align:center}.el-input-number .el-input__inner::-webkit-inner-spin-button,.el-input-number .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-input-number.is-left .el-input__inner{text-align:left}.el-input-number.is-right .el-input__inner{text-align:right}.el-input-number.is-center .el-input__inner{text-align:center}.el-input-number__decrease,.el-input-number__increase{align-items:center;background:var(--el-fill-color-light);bottom:1px;color:var(--el-text-color-regular);cursor:pointer;display:flex;font-size:13px;height:auto;justify-content:center;position:absolute;top:1px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:32px;z-index:1}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:var(--el-color-primary)}.el-input-number__decrease:hover~.el-input:not(.is-disabled) .el-input__wrapper,.el-input-number__increase:hover~.el-input:not(.is-disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color,var(--el-color-primary)) inset}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-input-number__increase{border-left:var(--el-border);border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0;right:1px}.el-input-number__decrease{border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);border-right:var(--el-border);left:1px}.el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase{border-color:var(--el-disabled-border-color);color:var(--el-disabled-border-color)}.el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover{color:var(--el-disabled-border-color);cursor:not-allowed}.el-input-number--large{line-height:38px;width:180px}.el-input-number--large .el-input-number__decrease,.el-input-number--large .el-input-number__increase{font-size:14px;width:40px}.el-input-number--large.is-controls-right .el-input--large .el-input__wrapper{padding-right:47px}.el-input-number--large .el-input--large .el-input__wrapper{padding-left:47px;padding-right:47px}.el-input-number--small{line-height:22px;width:120px}.el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase{font-size:12px;width:24px}.el-input-number--small.is-controls-right .el-input--small .el-input__wrapper{padding-right:31px}.el-input-number--small .el-input--small .el-input__wrapper{padding-left:31px;padding-right:31px}.el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon]{transform:scale(.9)}.el-input-number.is-without-controls .el-input__wrapper{padding-left:15px;padding-right:15px}.el-input-number.is-controls-right .el-input__wrapper{padding-left:15px;padding-right:42px}.el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase{--el-input-number-controls-height:15px;height:var(--el-input-number-controls-height);line-height:var(--el-input-number-controls-height)}.el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number.is-controls-right .el-input-number__increase{border-bottom:var(--el-border);border-radius:0 var(--el-border-radius-base) 0 0;bottom:auto;left:auto}.el-input-number.is-controls-right .el-input-number__decrease{border-left:var(--el-border);border-radius:0 0 var(--el-border-radius-base) 0;border-right:none;left:auto;right:1px;top:auto}.el-input-number.is-controls-right[class*=large] [class*=decrease],.el-input-number.is-controls-right[class*=large] [class*=increase]{--el-input-number-controls-height:19px}.el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase]{--el-input-number-controls-height:11px}.el-input-tag{--el-input-tag-border-color-hover:var(--el-border-color-hover);--el-input-tag-placeholder-color:var(--el-text-color-placeholder);--el-input-tag-disabled-color:var(--el-disabled-text-color);--el-input-tag-disabled-border:var(--el-disabled-border-color);--el-input-tag-font-size:var(--el-font-size-base);--el-input-tag-close-hover-color:var(--el-text-color-secondary);--el-input-tag-text-color:var(--el-text-color-regular);--el-input-tag-input-focus-border-color:var(--el-color-primary);--el-input-tag-width:100%;--el-input-tag-mini-height:var(--el-component-size);--el-input-tag-gap:6px;--el-input-tag-padding:4px;--el-input-tag-inner-padding:8px;--el-input-tag-line-height:24px;align-items:center;background-color:var(--el-fill-color-blank);border-radius:var(--el-border-radius-base);box-shadow:0 0 0 1px var(--el-border-color) inset;box-sizing:border-box;cursor:pointer;display:flex;font-size:var(--el-input-tag-font-size);line-height:var(--el-input-tag-line-height);min-height:var(--el-input-tag-mini-height);padding:var(--el-input-tag-padding);transform:translateZ(0);transition:var(--el-transition-duration);width:var(--el-input-tag-width)}.el-input-tag.is-focused{box-shadow:0 0 0 1px var(--el-color-primary) inset}.el-input-tag.is-hovering:not(.is-focused){box-shadow:0 0 0 1px var(--el-border-color-hover) inset}.el-input-tag.is-disabled{background-color:var(--el-fill-color-light);cursor:not-allowed}.el-input-tag.is-disabled,.el-input-tag.is-disabled:hover{box-shadow:0 0 0 1px var(--el-input-tag-disabled-border) inset}.el-input-tag.is-disabled.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input-tag.is-disabled .el-input-tag__inner .el-input-tag__input,.el-input-tag.is-disabled .el-input-tag__inner .el-tag{cursor:not-allowed}.el-input-tag__prefix,.el-input-tag__suffix{align-items:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:flex;flex-shrink:0;padding:0 var(--el-input-tag-inner-padding)}.el-input-tag__suffix{gap:8px}.el-input-tag__input-tag-list{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:6px;min-width:0;position:relative}.el-input-tag__input-tag-list.is-near{margin-left:-8px}.el-input-tag__input-tag-list .el-tag{border-color:transparent;cursor:pointer}.el-input-tag__input-tag-list .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-input-tag__input-tag-list .el-tag .el-tag__content{min-width:0}.el-input-tag__inner{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:var(--el-input-tag-gap);max-width:100%;min-width:0;position:relative}.el-input-tag__inner.is-left-space{margin-left:var(--el-input-tag-inner-padding)}.el-input-tag__inner.is-right-space{margin-right:var(--el-input-tag-inner-padding)}.el-input-tag__inner.is-draggable .el-tag{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-input-tag__drop-indicator{background-color:var(--el-color-primary);height:var(--el-input-tag-line-height);position:absolute;top:0;width:1px}.el-input-tag__inner .el-tag{border-color:transparent;cursor:pointer;max-width:100%}.el-input-tag__inner .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-input-tag__inner .el-tag .el-tag__content{line-height:normal;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-input-tag__input-wrapper{flex:1}.el-input-tag__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-input-tag-text-color);font-family:inherit;font-size:inherit;line-height:inherit;outline:none;padding:0;width:100%}.el-input-tag__input::-moz-placeholder{color:var(--el-input-tag-placeholder-color)}.el-input-tag__input::placeholder{color:var(--el-input-tag-placeholder-color)}.el-input-tag__input-calculator{left:0;max-width:100%;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:pre}.el-input-tag--large{--el-input-tag-gap:6px;--el-input-tag-padding:8px;--el-input-tag-padding-left:8px;--el-input-tag-font-size:14px}.el-input-tag--small{--el-input-tag-gap:4px;--el-input-tag-padding:2px;--el-input-tag-padding-left:6px;--el-input-tag-font-size:12px;--el-input-tag-line-height:20px;--el-input-tag-mini-height:var(--el-component-size-small)}.el-link{--el-link-font-size:var(--el-font-size-base);--el-link-font-weight:var(--el-font-weight-primary);--el-link-text-color:var(--el-text-color-regular);--el-link-hover-text-color:var(--el-color-primary);--el-link-disabled-text-color:var(--el-text-color-placeholder);align-items:center;color:var(--el-link-text-color);cursor:pointer;display:inline-flex;flex-direction:row;font-size:var(--el-link-font-size);font-weight:var(--el-link-font-weight);justify-content:center;outline:none;padding:0;position:relative;text-decoration:none;vertical-align:middle}.el-link.is-hover-underline:hover:after{border-bottom:1px solid var(--el-link-hover-text-color);bottom:0;content:"";height:0;left:0;position:absolute;right:0}.el-link.is-underline:after{border-bottom:1px solid var(--el-link-text-color);bottom:0;content:"";height:0;left:0;position:absolute;right:0}.el-link:hover{color:var(--el-link-hover-text-color)}.el-link:hover:after{border-color:var(--el-link-hover-text-color)}.el-link [class*=el-icon-]+span{margin-left:5px}.el-link__inner{align-items:center;display:inline-flex;justify-content:center}.el-link.el-link--primary{--el-link-text-color:var(--el-color-primary);--el-link-hover-text-color:var(--el-color-primary-light-3);--el-link-disabled-text-color:var(--el-color-primary-light-5)}.el-link.el-link--success{--el-link-text-color:var(--el-color-success);--el-link-hover-text-color:var(--el-color-success-light-3);--el-link-disabled-text-color:var(--el-color-success-light-5)}.el-link.el-link--warning{--el-link-text-color:var(--el-color-warning);--el-link-hover-text-color:var(--el-color-warning-light-3);--el-link-disabled-text-color:var(--el-color-warning-light-5)}.el-link.el-link--danger{--el-link-text-color:var(--el-color-danger);--el-link-hover-text-color:var(--el-color-danger-light-3);--el-link-disabled-text-color:var(--el-color-danger-light-5)}.el-link.el-link--error{--el-link-text-color:var(--el-color-error);--el-link-hover-text-color:var(--el-color-error-light-3);--el-link-disabled-text-color:var(--el-color-error-light-5)}.el-link.el-link--info{--el-link-text-color:var(--el-color-info);--el-link-hover-text-color:var(--el-color-info-light-3);--el-link-disabled-text-color:var(--el-color-info-light-5)}.el-link.is-disabled{color:var(--el-link-disabled-text-color);cursor:not-allowed}.el-link.is-disabled:after{border-color:var(--el-link-disabled-text-color)}:root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{background-color:var(--el-mask-color);inset:0;margin:0;position:absolute;transition:opacity var(--el-transition-duration);z-index:2000}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:calc((0px - var(--el-loading-fullscreen-spinner-size))/2)}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:var(--el-loading-fullscreen-spinner-size);width:var(--el-loading-fullscreen-spinner-size)}.el-loading-spinner{margin-top:calc((0px - var(--el-loading-spinner-size))/2);position:absolute;text-align:center;top:50%;width:100%}.el-loading-spinner .el-loading-text{color:var(--el-color-primary);font-size:14px;margin:3px 0}.el-loading-spinner .circular{animation:loading-rotate 2s linear infinite;display:inline;height:var(--el-loading-spinner-size);width:var(--el-loading-spinner-size)}.el-loading-spinner .path{animation:loading-dash 1.5s ease-in-out infinite;stroke:var(--el-color-primary);stroke-dasharray:90,150;stroke-dashoffset:0;stroke-linecap:round;stroke-width:2}.el-loading-spinner i{color:var(--el-color-primary)}.el-loading-fade-enter-from,.el-loading-fade-leave-to{opacity:0}@keyframes loading-rotate{to{transform:rotate(1turn)}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}.el-main{--el-main-padding:20px;box-sizing:border-box;display:block;flex:1;flex-basis:auto;overflow:auto;padding:var(--el-main-padding)}:root{--el-menu-active-color:var(--el-color-primary);--el-menu-text-color:var(--el-text-color-primary);--el-menu-hover-text-color:var(--el-color-primary);--el-menu-bg-color:var(--el-fill-color-blank);--el-menu-hover-bg-color:var(--el-color-primary-light-9);--el-menu-item-height:56px;--el-menu-sub-item-height:calc(var(--el-menu-item-height) - 6px);--el-menu-horizontal-height:60px;--el-menu-horizontal-sub-item-height:36px;--el-menu-item-font-size:var(--el-font-size-base);--el-menu-item-hover-fill:var(--el-color-primary-light-9);--el-menu-border-color:var(--el-border-color);--el-menu-base-level-padding:20px;--el-menu-level-padding:20px;--el-menu-icon-width:24px}.el-menu{background-color:var(--el-menu-bg-color);border-right:1px solid var(--el-menu-border-color);box-sizing:border-box;list-style:none;margin:0;padding-left:0;position:relative}.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-menu-item,.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-menu-item-group__title,.el-menu--vertical:not(.el-menu--collapse):not(.el-menu--popup-container) .el-sub-menu__title{padding-left:calc(var(--el-menu-base-level-padding) + var(--el-menu-level)*var(--el-menu-level-padding));white-space:nowrap}.el-menu:not(.el-menu--collapse) .el-sub-menu__title{padding-right:calc(var(--el-menu-base-level-padding) + var(--el-menu-icon-width))}.el-menu--horizontal{border-right:none;display:flex;flex-wrap:nowrap;height:var(--el-menu-horizontal-height)}.el-menu--horizontal.el-menu--popup-container{height:unset}.el-menu--horizontal.el-menu{border-bottom:1px solid var(--el-menu-border-color)}.el-menu--horizontal>.el-menu-item{align-items:center;border-bottom:2px solid transparent;color:var(--el-menu-text-color);display:inline-flex;height:100%;justify-content:center;margin:0}.el-menu--horizontal>.el-menu-item a,.el-menu--horizontal>.el-menu-item a:hover{color:inherit}.el-menu--horizontal>.el-sub-menu:focus,.el-menu--horizontal>.el-sub-menu:hover{outline:none}.el-menu--horizontal>.el-sub-menu:hover .el-sub-menu__title{color:var(--el-menu-hover-text-color)}.el-menu--horizontal>.el-sub-menu.is-active .el-sub-menu__title{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title{border-bottom:2px solid transparent;color:var(--el-menu-text-color);height:100%}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title:hover{background-color:var(--el-menu-bg-color)}.el-menu--horizontal .el-menu .el-menu-item,.el-menu--horizontal .el-menu .el-sub-menu__title{align-items:center;background-color:var(--el-menu-bg-color);color:var(--el-menu-text-color);display:flex;height:var(--el-menu-horizontal-sub-item-height);line-height:var(--el-menu-horizontal-sub-item-height);padding:0 10px}.el-menu--horizontal .el-menu .el-sub-menu__title{padding-right:40px}.el-menu--horizontal .el-menu .el-menu-item.is-active,.el-menu--horizontal .el-menu .el-menu-item.is-active:hover,.el-menu--horizontal .el-menu .el-sub-menu.is-active>.el-sub-menu__title,.el-menu--horizontal .el-menu .el-sub-menu.is-active>.el-sub-menu__title:hover{color:var(--el-menu-active-color)}.el-menu--horizontal .el-menu-item:not(.is-disabled):focus,.el-menu--horizontal .el-menu-item:not(.is-disabled):hover{background-color:var(--el-menu-hover-bg-color);color:var(--el-menu-active-color,var(--el-menu-hover-text-color));outline:none}.el-menu--horizontal>.el-menu-item.is-active{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)!important}.el-menu--collapse{width:calc(var(--el-menu-icon-width) + var(--el-menu-base-level-padding)*2)}.el-menu--collapse>.el-menu-item [class^=el-icon],.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title [class^=el-icon],.el-menu--collapse>.el-sub-menu>.el-sub-menu__title [class^=el-icon]{margin:0;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-menu--collapse>.el-menu-item .el-sub-menu__icon-arrow,.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title .el-sub-menu__icon-arrow,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title .el-sub-menu__icon-arrow{display:none}.el-menu--collapse>.el-menu-item-group>ul>.el-sub-menu>.el-sub-menu__title>span,.el-menu--collapse>.el-menu-item>span,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title>span{display:inline-block;height:0;overflow:hidden;visibility:hidden;width:0}.el-menu--collapse>.el-menu-item.is-active i{color:inherit}.el-menu--collapse .el-menu .el-sub-menu{min-width:200px}.el-menu--collapse .el-sub-menu.is-active .el-sub-menu__title{color:var(--el-menu-active-color)}.el-menu--popup{border:none;border-radius:var(--el-border-radius-small);box-shadow:var(--el-box-shadow-light);min-width:200px;padding:5px 0;z-index:100}.el-menu .el-icon{flex-shrink:0}.el-menu-item{align-items:center;box-sizing:border-box;color:var(--el-menu-text-color);cursor:pointer;display:flex;font-size:var(--el-menu-item-font-size);height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);list-style:none;padding:0 var(--el-menu-base-level-padding);position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);white-space:nowrap}.el-menu-item *{vertical-align:bottom}.el-menu-item i{color:inherit}.el-menu-item:focus,.el-menu-item:hover{outline:none}.el-menu-item:hover{background-color:var(--el-menu-hover-bg-color)}.el-menu-item.is-disabled{background:none!important;cursor:not-allowed;opacity:.25}.el-menu-item [class^=el-icon]{font-size:18px;margin-right:5px;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-menu-item.is-active{color:var(--el-menu-active-color)}.el-menu-item.is-active i{color:inherit}.el-menu-item .el-menu-tooltip__trigger{align-items:center;box-sizing:border-box;display:inline-flex;height:100%;left:0;padding:0 var(--el-menu-base-level-padding);position:absolute;top:0;width:100%}.el-sub-menu{list-style:none;margin:0;padding-left:0}.el-sub-menu__title{align-items:center;box-sizing:border-box;color:var(--el-menu-text-color);cursor:pointer;display:flex;font-size:var(--el-menu-item-font-size);height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);list-style:none;padding:0 var(--el-menu-base-level-padding);position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);white-space:nowrap}.el-sub-menu__title *{vertical-align:bottom}.el-sub-menu__title i{color:inherit}.el-sub-menu__title:focus,.el-sub-menu__title:hover{outline:none}.el-sub-menu__title.is-disabled{background:none!important;cursor:not-allowed;opacity:.25}.el-sub-menu__title:hover{background-color:var(--el-menu-hover-bg-color)}.el-sub-menu .el-menu{border:none}.el-sub-menu .el-menu-item{height:var(--el-menu-sub-item-height);line-height:var(--el-menu-sub-item-height)}.el-sub-menu.el-sub-menu__hide-arrow .el-sub-menu__title{padding-right:var(--el-menu-base-level-padding)}.el-sub-menu__hide-arrow .el-sub-menu__icon-arrow{display:none!important}.el-sub-menu.is-active .el-sub-menu__title{border-bottom-color:var(--el-menu-active-color)}.el-sub-menu.is-disabled .el-menu-item,.el-sub-menu.is-disabled .el-sub-menu__title{background:none!important;cursor:not-allowed;opacity:.25}.el-sub-menu .el-icon{font-size:18px;margin-right:5px;text-align:center;vertical-align:middle;width:var(--el-menu-icon-width)}.el-sub-menu .el-icon.el-sub-menu__icon-more{margin-right:0!important}.el-sub-menu .el-sub-menu__icon-arrow{font-size:12px;margin-right:0;margin-top:-6px;position:absolute;right:var(--el-menu-base-level-padding);top:50%;transition:transform var(--el-transition-duration);width:inherit}.el-menu-item-group>ul{padding:0}.el-menu-item-group__title{color:var(--el-text-color-secondary);font-size:12px;line-height:normal;padding:7px 0 7px var(--el-menu-base-level-padding)}.horizontal-collapse-transition .el-sub-menu__title .el-sub-menu__icon-arrow{opacity:0;transition:var(--el-transition-duration-fast)}.el-menu,.el-menu--popup-container,.el-popper{outline:none}.el-message-box{--el-messagebox-title-color:var(--el-text-color-primary);--el-messagebox-width:420px;--el-messagebox-border-radius:4px;--el-messagebox-box-shadow:var(--el-box-shadow);--el-messagebox-font-size:var(--el-font-size-large);--el-messagebox-content-font-size:var(--el-font-size-base);--el-messagebox-content-color:var(--el-text-color-regular);--el-messagebox-error-font-size:12px;--el-messagebox-padding-primary:12px;--el-messagebox-font-line-height:var(--el-font-line-height-primary);backface-visibility:hidden;background-color:var(--el-bg-color);border-radius:var(--el-messagebox-border-radius);box-shadow:var(--el-messagebox-box-shadow);box-sizing:border-box;display:inline-block;font-size:var(--el-messagebox-font-size);max-width:var(--el-messagebox-width);overflow:hidden;overflow-wrap:break-word;padding:var(--el-messagebox-padding-primary);position:relative;text-align:left;vertical-align:middle;width:100%}.el-message-box:focus{outline:none!important}.is-message-box .el-overlay-message-box{inset:0;overflow:auto;padding:16px;position:fixed;text-align:center}.is-message-box .el-overlay-message-box:after{content:"";display:inline-block;height:100%;vertical-align:middle;width:0}.el-message-box.is-draggable .el-message-box__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-message-box__header{padding-bottom:var(--el-messagebox-padding-primary)}.el-message-box__header.show-close{padding-right:calc(var(--el-messagebox-padding-primary) + var(--el-message-close-size, 16px))}.el-message-box__title{color:var(--el-messagebox-title-color);font-size:var(--el-messagebox-font-size);line-height:var(--el-messagebox-font-line-height)}.el-message-box__headerbtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:40px;outline:none;padding:0;position:absolute;right:0;top:0;width:40px}.el-message-box__headerbtn .el-message-box__close{color:var(--el-color-info);font-size:inherit}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:var(--el-color-primary)}.el-message-box__content{color:var(--el-messagebox-content-color);font-size:var(--el-messagebox-content-font-size)}.el-message-box__container{align-items:center;display:flex;gap:12px}.el-message-box__input{padding-top:12px}.el-message-box__input div.invalid>input,.el-message-box__input div.invalid>input:focus{border-color:var(--el-color-error)}.el-message-box__status{font-size:24px}.el-message-box__status.el-message-box-icon--primary{--el-messagebox-color:var(--el-color-primary);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--success{--el-messagebox-color:var(--el-color-success);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--info{--el-messagebox-color:var(--el-color-info);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--warning{--el-messagebox-color:var(--el-color-warning);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--error{--el-messagebox-color:var(--el-color-error);color:var(--el-messagebox-color)}.el-message-box__message{margin:0;min-width:0}.el-message-box__message p{line-height:var(--el-messagebox-font-line-height);margin:0}.el-message-box__errormsg{color:var(--el-color-error);font-size:var(--el-messagebox-error-font-size);line-height:var(--el-messagebox-font-line-height)}.el-message-box__btns{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end;padding-top:var(--el-messagebox-padding-primary)}.el-message-box--center .el-message-box__title{align-items:center;display:flex;gap:6px;justify-content:center}.el-message-box--center .el-message-box__status{font-size:inherit}.el-message-box--center .el-message-box__btns,.el-message-box--center .el-message-box__container{justify-content:center}.el-message-box-parent--hidden{overflow:hidden}.fade-in-linear-enter-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration)}.fade-in-linear-leave-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration) reverse}@keyframes msgbox-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}.el-message{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-border-color-lighter);--el-message-padding:11px 15px;--el-message-close-size:16px;--el-message-close-icon-color:var(--el-text-color-placeholder);--el-message-close-hover-color:var(--el-text-color-secondary);align-items:center;background-color:var(--el-message-bg-color);border-color:var(--el-message-border-color);border-radius:var(--el-border-radius-base);border-style:var(--el-border-style);border-width:var(--el-border-width);box-sizing:border-box;display:flex;gap:8px;max-width:calc(100% - 32px);padding:var(--el-message-padding);position:fixed;transition:opacity var(--el-transition-duration),transform .4s,top .4s,bottom .4s;width:-moz-fit-content;width:fit-content}.el-message.is-left{left:16px}.el-message.is-right{right:16px}.el-message.is-center{left:0;margin:0 auto;right:0}.el-message.is-plain{background-color:var(--el-bg-color-overlay);border-color:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-message p{margin:0}.el-message--primary{--el-message-bg-color:var(--el-color-primary-light-9);--el-message-border-color:var(--el-color-primary-light-8);--el-message-text-color:var(--el-color-primary)}.el-message--primary .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--primary{color:var(--el-message-text-color)}.el-message--success{--el-message-bg-color:var(--el-color-success-light-9);--el-message-border-color:var(--el-color-success-light-8);--el-message-text-color:var(--el-color-success)}.el-message--success .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--success{color:var(--el-message-text-color)}.el-message--info{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-color-info-light-8);--el-message-text-color:var(--el-color-info)}.el-message--info .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--info{color:var(--el-message-text-color)}.el-message--warning{--el-message-bg-color:var(--el-color-warning-light-9);--el-message-border-color:var(--el-color-warning-light-8);--el-message-text-color:var(--el-color-warning)}.el-message--warning .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--warning{color:var(--el-message-text-color)}.el-message--error{--el-message-bg-color:var(--el-color-error-light-9);--el-message-border-color:var(--el-color-error-light-8);--el-message-text-color:var(--el-color-error)}.el-message--error .el-message__content{color:var(--el-message-text-color);overflow-wrap:break-word}.el-message .el-message-icon--error{color:var(--el-message-text-color)}.el-message .el-message__badge{position:absolute;right:-8px;top:-8px}.el-message__content{font-size:14px;line-height:1;padding:0}.el-message__content:focus{outline-width:0}.el-message .el-message__closeBtn{color:var(--el-message-close-icon-color);cursor:pointer;font-size:var(--el-message-close-size)}.el-message .el-message__closeBtn:focus{outline-width:0}.el-message .el-message__closeBtn:hover{color:var(--el-message-close-hover-color)}.el-message-fade-enter-from,.el-message-fade-leave-to{opacity:0;transform:translateY(-100%)}.el-message-fade-enter-from.is-bottom,.el-message-fade-leave-to.is-bottom{transform:translateY(100%)}.el-notification{--el-notification-width:330px;--el-notification-padding:14px 26px 14px 13px;--el-notification-radius:8px;--el-notification-shadow:var(--el-box-shadow-light);--el-notification-border-color:var(--el-border-color-lighter);--el-notification-icon-size:24px;--el-notification-close-font-size:var(--el-message-close-size,16px);--el-notification-group-margin-left:13px;--el-notification-group-margin-right:8px;--el-notification-content-font-size:var(--el-font-size-base);--el-notification-content-color:var(--el-text-color-regular);--el-notification-title-font-size:16px;--el-notification-title-color:var(--el-text-color-primary);--el-notification-close-color:var(--el-text-color-secondary);--el-notification-close-hover-color:var(--el-text-color-regular);background-color:var(--el-bg-color-overlay);border:1px solid var(--el-notification-border-color);border-radius:var(--el-notification-radius);box-shadow:var(--el-notification-shadow);box-sizing:border-box;display:flex;overflow:hidden;overflow-wrap:break-word;padding:var(--el-notification-padding);position:fixed;transition:opacity var(--el-transition-duration),transform var(--el-transition-duration),left var(--el-transition-duration),right var(--el-transition-duration),top .4s,bottom var(--el-transition-duration);width:var(--el-notification-width);z-index:9999}.el-notification.right{right:16px}.el-notification.left{left:16px}.el-notification__group{flex:1;margin-left:var(--el-notification-group-margin-left);margin-right:var(--el-notification-group-margin-right);min-width:0}.el-notification__title{color:var(--el-notification-title-color);font-size:var(--el-notification-title-font-size);font-weight:700;line-height:var(--el-notification-icon-size);margin:0}.el-notification__content{color:var(--el-notification-content-color);font-size:var(--el-notification-content-font-size);line-height:24px;margin:6px 0 0}.el-notification__content p{margin:0}.el-notification .el-notification__icon{flex-shrink:0;font-size:var(--el-notification-icon-size);height:var(--el-notification-icon-size);width:var(--el-notification-icon-size)}.el-notification .el-notification__closeBtn{color:var(--el-notification-close-color);cursor:pointer;font-size:var(--el-notification-close-font-size);position:absolute;right:15px;top:18px}.el-notification .el-notification__closeBtn:hover{color:var(--el-notification-close-hover-color)}.el-notification .el-notification--primary{--el-notification-icon-color:var(--el-color-primary);color:var(--el-notification-icon-color)}.el-notification .el-notification--success{--el-notification-icon-color:var(--el-color-success);color:var(--el-notification-icon-color)}.el-notification .el-notification--info{--el-notification-icon-color:var(--el-color-info);color:var(--el-notification-icon-color)}.el-notification .el-notification--warning{--el-notification-icon-color:var(--el-color-warning);color:var(--el-notification-icon-color)}.el-notification .el-notification--error{--el-notification-icon-color:var(--el-color-error);color:var(--el-notification-icon-color)}.el-notification-fade-enter-from.right{right:0;transform:translate(100%)}.el-notification-fade-enter-from.left{left:0;transform:translate(-100%)}.el-notification-fade-leave-to{opacity:0}.el-overlay{background-color:var(--el-overlay-color-lighter);height:100%;inset:0;overflow:auto;position:fixed;z-index:2000}.el-overlay .el-overlay-root{height:0}.el-page-header.is-contentful .el-page-header__main{border-top:1px solid var(--el-border-color-light);margin-top:16px}.el-page-header__header{align-items:center;display:flex;justify-content:space-between;line-height:24px}.el-page-header__left{align-items:center;display:flex;margin-right:40px;position:relative}.el-page-header__back{align-items:center;cursor:pointer;display:flex}.el-page-header__left .el-divider--vertical{margin:0 16px}.el-page-header__icon{align-items:center;display:flex;font-size:16px;margin-right:10px}.el-page-header__icon .el-icon{font-size:inherit}.el-page-header__title{font-size:14px;font-weight:500}.el-page-header__content{color:var(--el-text-color-primary);font-size:18px}.el-page-header__breadcrumb{margin-bottom:16px}.el-pagination{--el-pagination-font-size:14px;--el-pagination-bg-color:var(--el-fill-color-blank);--el-pagination-text-color:var(--el-text-color-primary);--el-pagination-border-radius:2px;--el-pagination-button-color:var(--el-text-color-primary);--el-pagination-button-width:32px;--el-pagination-button-height:32px;--el-pagination-button-disabled-color:var(--el-text-color-placeholder);--el-pagination-button-disabled-bg-color:var(--el-fill-color-blank);--el-pagination-button-bg-color:var(--el-fill-color);--el-pagination-hover-color:var(--el-color-primary);--el-pagination-font-size-small:12px;--el-pagination-button-width-small:24px;--el-pagination-button-height-small:24px;--el-pagination-button-width-large:40px;--el-pagination-button-height-large:40px;--el-pagination-item-gap:16px;align-items:center;color:var(--el-pagination-text-color);display:flex;font-size:var(--el-pagination-font-size);font-weight:400;white-space:nowrap}.el-pagination .el-input__inner{-moz-appearance:textfield;text-align:center}.el-pagination .el-select{width:128px}.el-pagination .btn-next,.el-pagination .btn-prev{align-items:center;background:var(--el-pagination-bg-color);border:none;border-radius:var(--el-pagination-border-radius);box-sizing:border-box;color:var(--el-pagination-button-color);cursor:pointer;display:flex;font-size:var(--el-pagination-font-size);height:var(--el-pagination-button-height);justify-content:center;line-height:var(--el-pagination-button-height);min-width:var(--el-pagination-button-width);padding:0 4px;text-align:center}.el-pagination .btn-next *,.el-pagination .btn-prev *{pointer-events:none}.el-pagination .btn-next:focus,.el-pagination .btn-prev:focus{outline:none}.el-pagination .btn-next:hover,.el-pagination .btn-prev:hover{color:var(--el-pagination-hover-color)}.el-pagination .btn-next.is-active,.el-pagination .btn-prev.is-active{color:var(--el-pagination-hover-color);cursor:default;font-weight:700}.el-pagination .btn-next.is-active.is-disabled,.el-pagination .btn-prev.is-active.is-disabled{color:var(--el-text-color-secondary);font-weight:700}.el-pagination .btn-next.is-disabled,.el-pagination .btn-next:disabled,.el-pagination .btn-prev.is-disabled,.el-pagination .btn-prev:disabled{background-color:var(--el-pagination-button-disabled-bg-color);color:var(--el-pagination-button-disabled-color);cursor:not-allowed}.el-pagination .btn-next:focus-visible,.el-pagination .btn-prev:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon{display:block;font-size:12px;font-weight:700;width:inherit}.el-pagination>.is-first{margin-left:0!important}.el-pagination>.is-last{margin-right:0!important}.el-pagination .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination__sizes,.el-pagination__total{color:var(--el-text-color-regular);font-weight:400;margin-left:var(--el-pagination-item-gap)}.el-pagination__total[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__jump{align-items:center;color:var(--el-text-color-regular);display:flex;font-weight:400;margin-left:var(--el-pagination-item-gap)}.el-pagination__jump[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__goto{margin-right:8px}.el-pagination__editor{box-sizing:border-box;text-align:center}.el-pagination__editor.el-input{width:56px}.el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-pagination__classifier{margin-left:8px}.el-pagination__rightwrapper{align-items:center;display:flex;flex:1;justify-content:flex-end}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li{background-color:var(--el-pagination-button-bg-color);margin:0 4px}.el-pagination.is-background .btn-next.is-active,.el-pagination.is-background .btn-prev.is-active,.el-pagination.is-background .el-pager li.is-active{background-color:var(--el-color-primary);color:var(--el-color-white)}.el-pagination.is-background .btn-next.is-disabled,.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev.is-disabled,.el-pagination.is-background .btn-prev:disabled,.el-pagination.is-background .el-pager li.is-disabled,.el-pagination.is-background .el-pager li:disabled{background-color:var(--el-disabled-bg-color);color:var(--el-text-color-placeholder)}.el-pagination.is-background .btn-next.is-disabled.is-active,.el-pagination.is-background .btn-next:disabled.is-active,.el-pagination.is-background .btn-prev.is-disabled.is-active,.el-pagination.is-background .btn-prev:disabled.is-active,.el-pagination.is-background .el-pager li.is-disabled.is-active,.el-pagination.is-background .el-pager li:disabled.is-active{background-color:var(--el-fill-color-dark);color:var(--el-text-color-secondary)}.el-pagination.is-background .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li{font-size:var(--el-pagination-font-size-small);height:var(--el-pagination-button-height-small);line-height:var(--el-pagination-button-height-small);min-width:var(--el-pagination-button-width-small)}.el-pagination--small button,.el-pagination--small span:not([class*=suffix]){font-size:var(--el-pagination-font-size-small)}.el-pagination--small .el-select{width:100px}.el-pagination--large .btn-next,.el-pagination--large .btn-prev,.el-pagination--large .el-pager li{height:var(--el-pagination-button-height-large);line-height:var(--el-pagination-button-height-large);min-width:var(--el-pagination-button-width-large)}.el-pagination--large .el-select .el-input{width:160px}.el-pager{font-size:0;list-style:none;margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-pager,.el-pager li{align-items:center;display:flex}.el-pager li{background:var(--el-pagination-bg-color);border:none;border-radius:var(--el-pagination-border-radius);box-sizing:border-box;color:var(--el-pagination-button-color);cursor:pointer;font-size:var(--el-pagination-font-size);height:var(--el-pagination-button-height);justify-content:center;line-height:var(--el-pagination-button-height);min-width:var(--el-pagination-button-width);padding:0 4px;text-align:center}.el-pager li *{pointer-events:none}.el-pager li:focus{outline:none}.el-pager li.is-active,.el-pager li:hover{color:var(--el-pagination-hover-color)}.el-pager li.is-active{cursor:default;font-weight:700}.el-pager li.is-active.is-disabled{color:var(--el-text-color-secondary);font-weight:700}.el-pager li.is-disabled,.el-pager li:disabled{background-color:var(--el-pagination-button-disabled-bg-color);color:var(--el-pagination-button-disabled-color);cursor:not-allowed}.el-pager li:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-popconfirm{outline:none}.el-popconfirm__main{align-items:center;display:flex}.el-popconfirm__icon{margin-right:5px}.el-popconfirm__action{margin-top:8px;text-align:right}.el-popover{--el-popover-bg-color:var(--el-bg-color-overlay);--el-popover-font-size:var(--el-font-size-base);--el-popover-border-color:var(--el-border-color-lighter);--el-popover-padding:12px;--el-popover-padding-large:18px 20px;--el-popover-title-font-size:16px;--el-popover-title-text-color:var(--el-text-color-primary);--el-popover-border-radius:4px}.el-popover.el-popper{background:var(--el-popover-bg-color);border:1px solid var(--el-popover-border-color);border-radius:var(--el-popover-border-radius);box-shadow:var(--el-box-shadow-light);box-sizing:border-box;color:var(--el-text-color-regular);font-size:var(--el-popover-font-size);line-height:1.4;min-width:150px;overflow-wrap:break-word;padding:var(--el-popover-padding);z-index:var(--el-index-popper)}.el-popover.el-popper--plain{padding:var(--el-popover-padding-large)}.el-popover__title{color:var(--el-popover-title-text-color);font-size:var(--el-popover-title-font-size);line-height:1;margin-bottom:12px}.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing){outline-width:0}.el-popover.el-popper.is-dark{--el-popover-bg-color:var(--el-text-color-primary);--el-popover-border-color:var(--el-text-color-primary);--el-popover-title-text-color:var(--el-bg-color);color:var(--el-bg-color)}.el-popover.el-popper:focus,.el-popover.el-popper:focus:active{outline-width:0}.el-progress{align-items:center;display:flex;line-height:1;position:relative}.el-progress__text{color:var(--el-text-color-regular);font-size:14px;line-height:1;margin-left:5px;min-width:50px}.el-progress__text i{display:block;vertical-align:middle}.el-progress--circle,.el-progress--dashboard{display:inline-block}.el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text{left:0;margin:0;position:absolute;text-align:center;top:50%;transform:translateY(-50%);width:100%}.el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i{display:inline-block;vertical-align:middle}.el-progress--without-text .el-progress__text{display:none}.el-progress--without-text .el-progress-bar{display:block;margin-right:0;padding-right:0}.el-progress--text-inside .el-progress-bar{margin-right:0;padding-right:0}.el-progress.is-success .el-progress-bar__inner{background-color:var(--el-color-success)}.el-progress.is-success .el-progress__text{color:var(--el-color-success)}.el-progress.is-warning .el-progress-bar__inner{background-color:var(--el-color-warning)}.el-progress.is-warning .el-progress__text{color:var(--el-color-warning)}.el-progress.is-exception .el-progress-bar__inner{background-color:var(--el-color-danger)}.el-progress.is-exception .el-progress__text{color:var(--el-color-danger)}.el-progress-bar{box-sizing:border-box;flex-grow:1}.el-progress-bar__outer{background-color:var(--el-border-color-lighter);border-radius:100px;height:6px;overflow:hidden;position:relative;vertical-align:middle}.el-progress-bar__inner{background-color:var(--el-color-primary);border-radius:100px;height:100%;left:0;line-height:1;position:absolute;text-align:right;top:0;transition:width .6s ease;white-space:nowrap}.el-progress-bar__inner:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-progress-bar__inner--indeterminate{animation:indeterminate 3s infinite;transform:translateZ(0)}.el-progress-bar__inner--striped{background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 0,transparent 50%,rgba(0,0,0,.1) 0,rgba(0,0,0,.1) 75%,transparent 0,transparent);background-size:1.25em 1.25em}.el-progress-bar__inner--striped.el-progress-bar__inner--striped-flow{animation:striped-flow 3s linear infinite}.el-progress-bar__innerText{color:#fff;display:inline-block;font-size:12px;margin:0 5px;vertical-align:middle}@keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@keyframes indeterminate{0%{left:-100%}to{left:100%}}@keyframes striped-flow{0%{background-position:-100%}to{background-position:100%}}.el-radio-button{--el-radio-button-checked-bg-color:var(--el-color-primary);--el-radio-button-checked-text-color:var(--el-color-white);--el-radio-button-checked-border-color:var(--el-color-primary);--el-radio-button-disabled-checked-fill:var(--el-border-color-extra-light);display:inline-block;outline:none;position:relative}.el-radio-button__inner{-webkit-appearance:none;background:var(--el-button-bg-color,var(--el-fill-color-blank));border-radius:0;box-sizing:border-box;color:var(--el-button-text-color,var(--el-text-color-regular));cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);font-weight:var(--el-button-font-weight,var(--el-font-weight-primary));line-height:1;margin:0;outline:var(--el-border);padding:8px 15px;position:relative;text-align:center;transition:var(--el-transition-all);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.el-radio-button__inner.is-round{padding:8px 15px}.el-radio-button__inner:hover{color:var(--el-color-primary)}.el-radio-button__inner [class*=el-icon-]{line-height:.9}.el-radio-button__inner [class*=el-icon-]+span{margin-left:5px}.el-radio-button:first-child .el-radio-button__inner{border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);box-shadow:none!important}.el-radio-button.is-active .el-radio-button__original-radio:not(:disabled)+.el-radio-button__inner{background-color:var(--el-radio-button-checked-bg-color,var(--el-color-primary));border-color:var(--el-radio-button-checked-border-color,var(--el-color-primary));box-shadow:-1px 0 0 0 var(--el-radio-button-checked-border-color,var(--el-color-primary));color:var(--el-radio-button-checked-text-color,var(--el-color-white))}.el-radio-button__original-radio{opacity:0;outline:none;position:absolute;z-index:-1}.el-radio-button__original-radio:focus-visible+.el-radio-button__inner{border-left:var(--el-border);border-left-color:var(--el-radio-button-checked-border-color,var(--el-color-primary));border-radius:var(--el-border-radius-base);box-shadow:none;outline:2px solid var(--el-radio-button-checked-border-color);outline-offset:1px;z-index:2}.el-radio-button__original-radio:disabled+.el-radio-button__inner{background-color:var(--el-button-disabled-bg-color,var(--el-fill-color-blank));background-image:none;border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none;color:var(--el-disabled-text-color);cursor:not-allowed}.el-radio-button__original-radio:disabled:checked+.el-radio-button__inner{background-color:var(--el-radio-button-disabled-checked-fill)}.el-radio-button:last-child .el-radio-button__inner{border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0}.el-radio-button:first-child:last-child .el-radio-button__inner{border-radius:var(--el-border-radius-base)}.el-radio-button--large .el-radio-button__inner{border-radius:0;font-size:var(--el-font-size-base);padding:12px 19px}.el-radio-button--large .el-radio-button__inner.is-round{padding:12px 19px}.el-radio-button--small .el-radio-button__inner{border-radius:0;font-size:12px;padding:5px 11px}.el-radio-button--small .el-radio-button__inner.is-round{padding:5px 11px}.el-radio-group{align-items:center;display:inline-flex;flex-wrap:wrap;font-size:0}.el-radio{--el-radio-font-size:var(--el-font-size-base);--el-radio-text-color:var(--el-text-color-regular);--el-radio-font-weight:var(--el-font-weight-primary);--el-radio-input-height:14px;--el-radio-input-width:14px;--el-radio-input-border-radius:var(--el-border-radius-circle);--el-radio-input-bg-color:var(--el-fill-color-blank);--el-radio-input-border:var(--el-border);--el-radio-input-border-color:var(--el-border-color);--el-radio-input-border-color-hover:var(--el-color-primary);align-items:center;color:var(--el-radio-text-color);cursor:pointer;display:inline-flex;font-size:var(--el-font-size-base);font-weight:var(--el-radio-font-weight);height:32px;margin-right:30px;outline:none;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-radio.el-radio--large{height:40px}.el-radio.el-radio--small{height:24px}.el-radio.is-bordered{border:var(--el-border);border-radius:var(--el-border-radius-base);box-sizing:border-box;padding:0 15px 0 9px}.el-radio.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-radio.is-bordered.is-disabled{border-color:var(--el-border-color-lighter);cursor:not-allowed}.el-radio.is-bordered.el-radio--large{border-radius:var(--el-border-radius-base);padding:0 19px 0 11px}.el-radio.is-bordered.el-radio--large .el-radio__label{font-size:var(--el-font-size-base)}.el-radio.is-bordered.el-radio--large .el-radio__inner{height:14px;width:14px}.el-radio.is-bordered.el-radio--small{border-radius:var(--el-border-radius-base);padding:0 11px 0 7px}.el-radio.is-bordered.el-radio--small .el-radio__label{font-size:12px}.el-radio.is-bordered.el-radio--small .el-radio__inner{height:12px;width:12px}.el-radio:last-child{margin-right:0}.el-radio__input{cursor:pointer;display:inline-flex;outline:none;position:relative;vertical-align:middle;white-space:nowrap}.el-radio__input.is-disabled .el-radio__inner{border-color:var(--el-disabled-border-color)}.el-radio__input.is-disabled .el-radio__inner,.el-radio__input.is-disabled .el-radio__inner:after{background-color:var(--el-disabled-bg-color);cursor:not-allowed}.el-radio__input.is-disabled .el-radio__inner+.el-radio__label{cursor:not-allowed}.el-radio__input.is-disabled.is-checked .el-radio__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color)}.el-radio__input.is-disabled.is-checked .el-radio__inner:after{background-color:var(--el-text-color-placeholder)}.el-radio__input.is-disabled+span.el-radio__label{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-radio__input.is-checked .el-radio__inner{background:var(--el-color-primary);border-color:var(--el-color-primary)}.el-radio__input.is-checked .el-radio__inner:after{background-color:var(--el-color-white);transform:translate(-50%,-50%) scale(1)}.el-radio__input.is-checked+.el-radio__label{color:var(--el-color-primary)}.el-radio__input.is-focus .el-radio__inner{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner{background-color:var(--el-radio-input-bg-color);border:var(--el-radio-input-border);border-radius:var(--el-radio-input-border-radius);box-sizing:border-box;cursor:pointer;display:inline-block;height:var(--el-radio-input-height);position:relative;transition:all .3s;width:var(--el-radio-input-width)}.el-radio__inner:hover{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner:after{border-radius:var(--el-radio-input-border-radius);content:"";height:4px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%) scale(0);transition:transform .15s ease-in;width:4px}.el-radio__original{inset:0;margin:0;opacity:0;outline:none;position:absolute;z-index:-1}.el-radio__original:focus-visible+.el-radio__inner{border-radius:var(--el-radio-input-border-radius);outline:2px solid var(--el-radio-input-border-color-hover);outline-offset:1px}.el-radio:focus:not(:focus-visible):not(.is-focus):not(:active):not(.is-disabled) .el-radio__inner{box-shadow:0 0 2px 2px var(--el-radio-input-border-color-hover)}.el-radio__label{font-size:var(--el-radio-font-size);padding-left:8px}.el-radio.el-radio--large .el-radio__label{font-size:14px}.el-radio.el-radio--large .el-radio__inner{height:14px;width:14px}.el-radio.el-radio--small .el-radio__label{font-size:12px}.el-radio.el-radio--small .el-radio__inner{height:12px;width:12px}.el-rate{--el-rate-height:20px;--el-rate-font-size:var(--el-font-size-base);--el-rate-icon-size:18px;--el-rate-icon-margin:6px;--el-rate-void-color:var(--el-border-color-darker);--el-rate-fill-color:#f7ba2a;--el-rate-disabled-void-color:var(--el-fill-color);--el-rate-text-color:var(--el-text-color-primary);--el-rate-outline-color:var(--el-color-primary-light-5);align-items:center;display:inline-flex;height:32px}.el-rate:active,.el-rate:focus{outline:none}.el-rate:focus-visible .el-rate__item .el-rate__icon.is-focus-visible{outline:2px solid var(--el-rate-outline-color);transition:outline-offset 0s,outline 0s}.el-rate__item{color:var(--el-rate-void-color);cursor:pointer;display:inline-block;font-size:0;line-height:normal;position:relative;vertical-align:middle}.el-rate .el-rate__icon{display:inline-block;font-size:var(--el-rate-icon-size);margin-right:var(--el-rate-icon-margin);position:relative;transition:var(--el-transition-duration)}.el-rate .el-rate__icon.hover{transform:scale(1.15)}.el-rate .el-rate__icon .path2{left:0;position:absolute;top:0}.el-rate .el-rate__icon.is-active{color:var(--el-rate-fill-color)}.el-rate__decimal{color:var(--el-rate-fill-color);display:inline-block;overflow:hidden}.el-rate__decimal,.el-rate__decimal--box{left:0;position:absolute;top:0}.el-rate__text{color:var(--el-rate-text-color);font-size:var(--el-rate-font-size);vertical-align:middle}.el-rate--large{height:40px}.el-rate--small{height:24px}.el-rate--small .el-rate__icon{font-size:14px}.el-rate.is-disabled .el-rate__item{color:var(--el-rate-disabled-void-color);cursor:not-allowed}.el-result{--el-result-padding:40px 30px;--el-result-icon-font-size:64px;--el-result-title-font-size:20px;--el-result-title-margin-top:20px;--el-result-subtitle-margin-top:10px;--el-result-extra-margin-top:30px;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:var(--el-result-padding);text-align:center}.el-result__icon svg{height:var(--el-result-icon-font-size);width:var(--el-result-icon-font-size)}.el-result__title{margin-top:var(--el-result-title-margin-top)}.el-result__title p{color:var(--el-text-color-primary);font-size:var(--el-result-title-font-size);line-height:1.3;margin:0}.el-result__subtitle{margin-top:var(--el-result-subtitle-margin-top)}.el-result__subtitle p{color:var(--el-text-color-regular);font-size:var(--el-font-size-base);line-height:1.3;margin:0}.el-result__extra{margin-top:var(--el-result-extra-margin-top)}.el-result .icon-primary{--el-result-color:var(--el-color-primary);color:var(--el-result-color)}.el-result .icon-success{--el-result-color:var(--el-color-success);color:var(--el-result-color)}.el-result .icon-warning{--el-result-color:var(--el-color-warning);color:var(--el-result-color)}.el-result .icon-danger{--el-result-color:var(--el-color-danger);color:var(--el-result-color)}.el-result .icon-error{--el-result-color:var(--el-color-error);color:var(--el-result-color)}.el-result .icon-info{--el-result-color:var(--el-color-info);color:var(--el-result-color)}.el-row{box-sizing:border-box;display:flex;flex-wrap:wrap;position:relative}.el-row.is-justify-center{justify-content:center}.el-row.is-justify-end{justify-content:flex-end}.el-row.is-justify-space-between{justify-content:space-between}.el-row.is-justify-space-around{justify-content:space-around}.el-row.is-justify-space-evenly{justify-content:space-evenly}.el-row.is-align-top{align-items:flex-start}.el-row.is-align-middle{align-items:center}.el-row.is-align-bottom{align-items:flex-end}.el-scrollbar{--el-scrollbar-opacity:.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary);height:100%;overflow:hidden;position:relative}.el-scrollbar__wrap{height:100%;overflow:auto}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));border-radius:inherit;cursor:pointer;display:block;height:0;opacity:var(--el-scrollbar-opacity,.3);position:relative;transition:var(--el-transition-duration) background-color;width:0}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{border-radius:4px;bottom:2px;position:absolute;right:2px;z-index:1}.el-scrollbar__bar.is-vertical{top:2px;width:6px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity .34s ease-out}.el-scrollbar-fade-leave-active{transition:opacity .12s ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.el-select-dropdown{border-radius:var(--el-border-radius-base);box-sizing:border-box;z-index:calc(var(--el-index-top) + 1)}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown__empty,.el-select-dropdown__loading{color:var(--el-text-color-secondary);font-size:var(--el-select-font-size);margin:0;padding:10px 0;text-align:center}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:6px 0}.el-select-dropdown__list.el-vl__window{margin:6px 0;padding:0}.el-select-dropdown__header{border-bottom:1px solid var(--el-border-color-light);padding:10px}.el-select-dropdown__footer{border-top:1px solid var(--el-border-color-light);padding:10px}.el-select-dropdown__item{box-sizing:border-box;color:var(--el-text-color-regular);cursor:pointer;font-size:var(--el-font-size-base);height:34px;line-height:34px;overflow:hidden;padding:0 32px 0 20px;position:relative;text-overflow:ellipsis;white-space:nowrap}.el-select-dropdown__item.is-hovering{background-color:var(--el-fill-color-light)}.el-select-dropdown__item.is-selected{color:var(--el-color-primary);font-weight:700}.el-select-dropdown__item.is-disabled{background-color:unset;color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown.is-multiple .el-select-dropdown__item.is-selected:after{background-color:var(--el-color-primary);background-position:50%;background-repeat:no-repeat;border-right:none;border-top:none;content:"";height:12px;mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask-size:100% 100%;-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;-webkit-mask-size:100% 100%;position:absolute;right:20px;top:50%;transform:translateY(-50%);width:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.is-disabled:after{background-color:var(--el-text-color-placeholder)}.el-select-group{margin:0;padding:0}.el-select-group__wrap{list-style:none;margin:0;padding:0;position:relative}.el-select-group__title{box-sizing:border-box;color:var(--el-color-info);font-size:12px;line-height:34px;overflow:hidden;padding:0 20px;text-overflow:ellipsis;white-space:nowrap}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-color:var(--el-disabled-text-color);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px;--el-select-width:100%;display:inline-block;position:relative;vertical-align:middle;width:var(--el-select-width)}.el-select__wrapper{align-items:center;background-color:var(--el-fill-color-blank);border-radius:var(--el-border-radius-base);box-shadow:0 0 0 1px var(--el-border-color) inset;box-sizing:border-box;cursor:pointer;display:flex;font-size:14px;gap:6px;line-height:24px;min-height:32px;padding:4px 12px;position:relative;text-align:left;transform:translateZ(0);transition:var(--el-transition-duration)}.el-select__wrapper.is-filterable{cursor:text}.el-select__wrapper.is-focused{box-shadow:0 0 0 1px var(--el-color-primary) inset}.el-select__wrapper.is-hovering:not(.is-focused){box-shadow:0 0 0 1px var(--el-border-color-hover) inset}.el-select__wrapper.is-disabled{background-color:var(--el-fill-color-light);color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select__wrapper.is-disabled,.el-select__wrapper.is-disabled:hover{box-shadow:0 0 0 1px var(--el-select-disabled-border) inset}.el-select__wrapper.is-disabled.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-select__wrapper.is-disabled .el-select__selected-item{color:var(--el-select-disabled-color)}.el-select__wrapper.is-disabled .el-select__caret,.el-select__wrapper.is-disabled .el-tag,.el-select__wrapper.is-disabled input{cursor:not-allowed}.el-select__wrapper.is-disabled .el-select__prefix,.el-select__wrapper.is-disabled .el-select__suffix{pointer-events:none}.el-select__prefix,.el-select__suffix{align-items:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));display:flex;flex-shrink:0;gap:6px}.el-select__caret{color:var(--el-select-input-color);cursor:pointer;font-size:var(--el-select-input-font-size);transform:rotate(0);transition:var(--el-transition-duration)}.el-select__caret.is-reverse{transform:rotate(180deg)}.el-select__clear{cursor:pointer}.el-select__clear:hover{color:var(--el-select-close-hover-color)}.el-select__selection{align-items:center;display:flex;flex:1;flex-wrap:wrap;gap:6px;min-width:0;position:relative}.el-select__selection.is-near{margin-left:-8px}.el-select__selection .el-tag{border-color:transparent;cursor:pointer}.el-select__selection .el-tag.el-tag--plain{border-color:var(--el-tag-border-color)}.el-select__selection .el-tag .el-tag__content{min-width:0}.el-select__selected-item{display:flex;flex-wrap:wrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-select__tags-text{line-height:normal}.el-select__placeholder,.el-select__tags-text{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-select__placeholder{color:var(--el-input-text-color,var(--el-text-color-regular));position:absolute;top:50%;transform:translateY(-50%);width:100%;z-index:-1}.el-select__placeholder.is-transparent{color:var(--el-text-color-placeholder);-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-select__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper,.el-select__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-select__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-select__input-wrapper{flex:1}.el-select__input-wrapper.is-hidden{opacity:0;position:absolute;z-index:-1}.el-select__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:var(--el-select-multiple-input-color);font-family:inherit;font-size:inherit;height:24px;outline:none;padding:0;width:100%}.el-select__input-calculator{left:0;max-width:100%;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:pre}.el-select--large .el-select__wrapper{font-size:14px;gap:6px;line-height:24px;min-height:40px;padding:8px 16px}.el-select--large .el-select__selection{gap:6px}.el-select--large .el-select__selection.is-near{margin-left:-8px}.el-select--large .el-select__prefix,.el-select--large .el-select__suffix{gap:6px}.el-select--large .el-select__input{height:24px}.el-select--small .el-select__wrapper{font-size:12px;gap:4px;line-height:20px;min-height:24px;padding:2px 8px}.el-select--small .el-select__selection{gap:4px}.el-select--small .el-select__selection.is-near{margin-left:-6px}.el-select--small .el-select__prefix,.el-select--small .el-select__suffix{gap:4px}.el-select--small .el-select__input{height:20px}.el-skeleton{--el-skeleton-circle-size:var(--el-avatar-size)}.el-skeleton__item{background:var(--el-skeleton-color);border-radius:var(--el-border-radius-base);display:inline-block;height:16px;width:100%}.el-skeleton__circle{border-radius:50%;height:var(--el-skeleton-circle-size);line-height:var(--el-skeleton-circle-size);width:var(--el-skeleton-circle-size)}.el-skeleton__button{border-radius:4px;height:40px;width:64px}.el-skeleton__p{width:100%}.el-skeleton__p.is-last{width:61%}.el-skeleton__p.is-first{width:33%}.el-skeleton__text{height:var(--el-font-size-small);width:100%}.el-skeleton__caption{height:var(--el-font-size-extra-small)}.el-skeleton__h1{height:var(--el-font-size-extra-large)}.el-skeleton__h3{height:var(--el-font-size-large)}.el-skeleton__h5{height:var(--el-font-size-medium)}.el-skeleton__image{align-items:center;border-radius:0;display:flex;justify-content:center;width:unset}.el-skeleton__image svg{color:var(--el-svg-monochrome-grey);fill:currentColor;height:22%;width:22%}.el-skeleton{--el-skeleton-color:var(--el-fill-color);--el-skeleton-to-color:var(--el-fill-color-darker)}@keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}.el-skeleton{width:100%}.el-skeleton__first-line,.el-skeleton__paragraph{background:var(--el-skeleton-color);height:16px;margin-top:16px}.el-skeleton.is-animated .el-skeleton__item{animation:el-skeleton-loading 1.4s ease infinite;background:linear-gradient(90deg,var(--el-skeleton-color) 25%,var(--el-skeleton-to-color) 37%,var(--el-skeleton-color) 63%);background-size:400% 100%}.el-slider{--el-slider-main-bg-color:var(--el-color-primary);--el-slider-runway-bg-color:var(--el-border-color-light);--el-slider-stop-bg-color:var(--el-color-white);--el-slider-disabled-color:var(--el-text-color-placeholder);--el-slider-border-radius:3px;--el-slider-height:6px;--el-slider-button-size:20px;--el-slider-button-wrapper-size:36px;--el-slider-button-wrapper-offset:-15px;align-items:center;display:flex;height:32px;width:100%}.el-slider__runway{background-color:var(--el-slider-runway-bg-color);border-radius:var(--el-slider-border-radius);cursor:pointer;flex:1;height:var(--el-slider-height);position:relative}.el-slider__runway.show-input{margin-right:30px;width:auto}.el-slider__runway.is-disabled{cursor:default}.el-slider__runway.is-disabled .el-slider__bar{background-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button{border-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button-wrapper.dragging,.el-slider__runway.is-disabled .el-slider__button-wrapper.hover,.el-slider__runway.is-disabled .el-slider__button-wrapper:hover{cursor:not-allowed}.el-slider__runway.is-disabled .el-slider__button.dragging,.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover{transform:scale(1)}.el-slider__runway.is-disabled .el-slider__button.dragging,.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover{cursor:not-allowed}.el-slider__input{flex-shrink:0;width:130px}.el-slider__bar{background-color:var(--el-slider-main-bg-color);border-bottom-left-radius:var(--el-slider-border-radius);border-top-left-radius:var(--el-slider-border-radius);height:var(--el-slider-height);position:absolute}.el-slider__button-wrapper{background-color:transparent;height:var(--el-slider-button-wrapper-size);line-height:normal;outline:none;position:absolute;text-align:center;top:var(--el-slider-button-wrapper-offset);transform:translate(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--el-slider-button-wrapper-size);z-index:1}.el-slider__button-wrapper:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover{cursor:grab}.el-slider__button-wrapper.dragging{cursor:grabbing}.el-slider__button{background-color:var(--el-color-white);border:2px solid var(--el-slider-main-bg-color);border-radius:50%;box-sizing:border-box;display:inline-block;height:var(--el-slider-button-size);transition:var(--el-transition-duration-fast);-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:var(--el-slider-button-size)}.el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover{transform:scale(1.2)}.el-slider__button.hover,.el-slider__button:hover{cursor:grab}.el-slider__button.dragging{cursor:grabbing}.el-slider__stop{background-color:var(--el-slider-stop-bg-color);border-radius:var(--el-border-radius-circle);height:var(--el-slider-height);position:absolute;transform:translate(-50%);width:var(--el-slider-height)}.el-slider__marks{height:100%;left:12px;top:0;width:18px}.el-slider__marks-text{color:var(--el-color-info);font-size:14px;margin-top:15px;position:absolute;transform:translate(-50%);white-space:pre}.el-slider.is-vertical{display:inline-flex;flex:0;height:100%;position:relative;width:auto}.el-slider.is-vertical .el-slider__runway{height:100%;margin:0 16px;width:var(--el-slider-height)}.el-slider.is-vertical .el-slider__bar{border-radius:0 0 3px 3px;height:auto;width:var(--el-slider-height)}.el-slider.is-vertical .el-slider__button-wrapper{left:var(--el-slider-button-wrapper-offset);top:auto;transform:translateY(50%)}.el-slider.is-vertical .el-slider__stop{transform:translateY(50%)}.el-slider.is-vertical .el-slider__marks-text{left:15px;margin-top:0;transform:translateY(50%)}.el-slider--large{height:40px}.el-slider--small{height:24px}.el-space{display:inline-flex;vertical-align:top}.el-space__item{display:flex;flex-wrap:wrap}.el-space__item>*{flex:1}.el-space--vertical{flex-direction:column}.el-time-spinner{white-space:nowrap;width:100%}.el-spinner{display:inline-block;vertical-align:middle}.el-spinner-inner{animation:rotate 2s linear infinite;height:50px;width:50px}.el-spinner-inner .path{animation:dash 1.5s ease-in-out infinite;stroke:var(--el-border-color-lighter);stroke-linecap:round}@keyframes rotate{to{transform:rotate(1turn)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}.el-step{flex-shrink:1;position:relative}.el-step:last-of-type .el-step__line{display:none}.el-step:last-of-type.is-flex{flex-basis:auto!important;flex-grow:0;flex-shrink:0}.el-step:last-of-type .el-step__description,.el-step:last-of-type .el-step__main{padding-right:0}.el-step__head{position:relative;width:100%}.el-step__head.is-process{border-color:var(--el-text-color-primary);color:var(--el-text-color-primary)}.el-step__head.is-wait{border-color:var(--el-text-color-placeholder);color:var(--el-text-color-placeholder)}.el-step__head.is-success{border-color:var(--el-color-success);color:var(--el-color-success)}.el-step__head.is-error{border-color:var(--el-color-danger);color:var(--el-color-danger)}.el-step__head.is-finish{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-step__icon{align-items:center;background:var(--el-bg-color);box-sizing:border-box;display:inline-flex;font-size:14px;height:24px;justify-content:center;position:relative;transition:.15s ease-out;width:24px;z-index:1}.el-step__icon.is-text{border:2px solid;border-radius:50%}.el-step__icon.is-icon{width:40px}.el-step__icon-inner{color:inherit;display:inline-block;font-weight:700;line-height:1;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:25px;font-weight:400}.el-step__icon-inner.is-status{transform:translateY(1px)}.el-step__line{background-color:var(--el-text-color-placeholder);border-color:currentColor;position:absolute}.el-step__line-inner{border:1px solid;box-sizing:border-box;display:block;height:0;transition:.15s ease-out;width:0}.el-step__main{text-align:left;white-space:normal}.el-step__title{font-size:16px;line-height:38px}.el-step__title.is-process{color:var(--el-text-color-primary);font-weight:700}.el-step__title.is-wait{color:var(--el-text-color-placeholder)}.el-step__title.is-success{color:var(--el-color-success)}.el-step__title.is-error{color:var(--el-color-danger)}.el-step__title.is-finish{color:var(--el-color-primary)}.el-step__description{font-size:12px;font-weight:400;line-height:20px;margin-top:-5px;padding-right:10%}.el-step__description.is-process{color:var(--el-text-color-primary)}.el-step__description.is-wait{color:var(--el-text-color-placeholder)}.el-step__description.is-success{color:var(--el-color-success)}.el-step__description.is-error{color:var(--el-color-danger)}.el-step__description.is-finish{color:var(--el-color-primary)}.el-step.is-horizontal{display:inline-block}.el-step.is-horizontal .el-step__line{height:2px;left:0;right:0;top:11px}.el-step.is-vertical{display:flex}.el-step.is-vertical .el-step__head{flex-grow:0;width:24px}.el-step.is-vertical .el-step__main{flex-grow:1;padding-left:10px}.el-step.is-vertical .el-step__title{line-height:24px;padding-bottom:8px}.el-step.is-vertical .el-step__line{bottom:0;left:11px;top:0;width:2px}.el-step.is-vertical .el-step__icon.is-icon{width:24px}.el-step.is-vertical .el-step__description{padding-right:0}.el-step.is-center .el-step__head,.el-step.is-center .el-step__main{text-align:center}.el-step.is-center .el-step__description{padding-left:20%;padding-right:20%}.el-step.is-center .el-step__line{left:50%;right:-50%}.el-step.is-simple{align-items:center;display:flex}.el-step.is-simple .el-step__head{font-size:0;padding-right:10px;width:auto}.el-step.is-simple .el-step__icon{background:transparent;font-size:12px;height:16px;width:16px}.el-step.is-simple .el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:18px}.el-step.is-simple .el-step__icon-inner.is-status{transform:scale(.8) translateY(1px)}.el-step.is-simple .el-step__main{align-items:stretch;display:flex;flex-grow:1;position:relative}.el-step.is-simple .el-step__title{font-size:16px;line-height:20px}.el-step.is-simple:not(:last-of-type) .el-step__title{max-width:50%;overflow-wrap:break-word}.el-step.is-simple .el-step__arrow{align-items:center;display:flex;flex-grow:1;justify-content:center}.el-step.is-simple .el-step__arrow:after,.el-step.is-simple .el-step__arrow:before{background:var(--el-text-color-placeholder);content:"";display:inline-block;height:15px;position:absolute;width:1px}.el-step.is-simple .el-step__arrow:before{transform:rotate(-45deg) translateY(-4px);transform-origin:0 0}.el-step.is-simple .el-step__arrow:after{transform:rotate(45deg) translateY(4px);transform-origin:100% 100%}.el-step.is-simple:last-of-type .el-step__arrow{display:none}.el-steps{display:flex;line-height:normal}.el-steps--simple{background:var(--el-fill-color-light);border-radius:4px;padding:13px 8%}.el-steps--horizontal{white-space:nowrap}.el-steps--vertical{flex-flow:column;height:100%}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color);align-items:center;display:inline-flex;font-size:14px;height:32px;line-height:20px;position:relative;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{color:var(--el-text-color-primary);cursor:pointer;display:inline-block;font-size:14px;font-weight:500;height:20px;transition:var(--el-transition-duration-fast);vertical-align:middle}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{display:inline-block;font-size:14px;line-height:1}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{height:0;margin:0;opacity:0;position:absolute;width:0}.el-switch__input:focus-visible~.el-switch__core{outline:2px solid var(--el-switch-on-color);outline-offset:1px}.el-switch__core{align-items:center;background:var(--el-switch-off-color);border:1px solid var(--el-switch-border-color,var(--el-switch-off-color));border-radius:10px;box-sizing:border-box;cursor:pointer;display:inline-flex;height:20px;min-width:40px;outline:none;position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration)}.el-switch__core .el-switch__inner{align-items:center;display:flex;height:16px;justify-content:center;overflow:hidden;padding:0 4px 0 18px;transition:all var(--el-transition-duration);width:100%}.el-switch__core .el-switch__inner-wrapper{align-items:center;color:var(--el-color-white);display:flex;font-size:12px;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.el-switch__core .el-switch__action{align-items:center;background-color:var(--el-color-white);border-radius:var(--el-border-radius-circle);color:var(--el-switch-off-color);display:flex;height:16px;justify-content:center;left:1px;position:absolute;transition:all var(--el-transition-duration);width:16px}.el-switch.is-checked .el-switch__core{background-color:var(--el-switch-on-color);border-color:var(--el-switch-border-color,var(--el-switch-on-color))}.el-switch.is-checked .el-switch__core .el-switch__action{color:var(--el-switch-on-color);left:calc(100% - 17px)}.el-switch.is-checked .el-switch__core .el-switch__inner{padding:0 18px 0 4px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;height:40px;line-height:24px}.el-switch--large .el-switch__label{font-size:14px;height:24px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--large .el-switch__core{border-radius:12px;height:24px;min-width:50px}.el-switch--large .el-switch__core .el-switch__inner{height:20px;padding:0 6px 0 22px}.el-switch--large .el-switch__core .el-switch__action{height:20px;width:20px}.el-switch--large.is-checked .el-switch__core .el-switch__action{left:calc(100% - 21px)}.el-switch--large.is-checked .el-switch__core .el-switch__inner{padding:0 22px 0 6px}.el-switch--small{font-size:12px;height:24px;line-height:16px}.el-switch--small .el-switch__label{font-size:12px;height:16px}.el-switch--small .el-switch__label *{font-size:12px}.el-switch--small .el-switch__core{border-radius:8px;height:16px;min-width:30px}.el-switch--small .el-switch__core .el-switch__inner{height:12px;padding:0 2px 0 14px}.el-switch--small .el-switch__core .el-switch__action{height:12px;width:12px}.el-switch--small.is-checked .el-switch__core .el-switch__action{left:calc(100% - 13px)}.el-switch--small.is-checked .el-switch__core .el-switch__inner{padding:0 14px 0 2px}.el-table-column--selection .cell{padding-left:14px;padding-right:14px}.el-table-filter{background-color:#fff;border:1px solid var(--el-border-color-lighter);border-radius:2px;box-shadow:var(--el-box-shadow-light);box-sizing:border-box}.el-table-filter__list{list-style:none;margin:0;min-width:100px;outline:none;padding:5px 0}.el-table-filter__list-item{cursor:pointer;font-size:var(--el-font-size-base);line-height:36px;outline:none;padding:0 10px}.el-table-filter__list-item:focus,.el-table-filter__list-item:hover{background-color:var(--el-color-primary-light-9);color:var(--el-color-primary)}.el-table-filter__list-item.is-active{background-color:var(--el-color-primary);color:#fff}.el-table-filter__multiple{outline:none}.el-table-filter__content{min-width:100px}.el-table-filter__bottom{border-top:1px solid var(--el-border-color-lighter);padding:8px}.el-table-filter__bottom button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-filter__bottom button:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-filter__bottom button{color:var(--el-text-color-regular);font-size:var(--el-font-size-small);padding:0 3px}.el-table-filter__bottom button:hover{color:var(--el-color-primary)}.el-table-filter__bottom button.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-table-filter__wrap{max-height:280px}.el-table-filter__checkbox-group{padding:10px}.el-table-filter__checkbox-group label.el-checkbox{align-items:center;display:flex;height:unset;margin-bottom:12px;margin-left:5px;margin-right:5px}.el-table-filter__checkbox-group .el-checkbox:last-child{margin-bottom:0}.el-table{--el-table-border-color:var(--el-border-color-lighter);--el-table-border:1px solid var(--el-table-border-color);--el-table-text-color:var(--el-text-color-regular);--el-table-header-text-color:var(--el-text-color-secondary);--el-table-row-hover-bg-color:var(--el-fill-color-light);--el-table-current-row-bg-color:var(--el-color-primary-light-9);--el-table-header-bg-color:var(--el-bg-color);--el-table-fixed-box-shadow:var(--el-box-shadow-light);--el-table-bg-color:var(--el-fill-color-blank);--el-table-tr-bg-color:var(--el-bg-color);--el-table-expanded-cell-bg-color:var(--el-fill-color-blank);--el-table-fixed-left-column:inset 10px 0 10px -10px rgba(0,0,0,.15);--el-table-fixed-right-column:inset -10px 0 10px -10px rgba(0,0,0,.15);--el-table-index:var(--el-index-normal);background-color:var(--el-table-bg-color);box-sizing:border-box;color:var(--el-table-text-color);font-size:var(--el-font-size-base);height:-moz-fit-content;height:fit-content;max-width:100%;overflow:hidden;position:relative;width:100%}.el-table__inner-wrapper{display:flex;flex-direction:column;height:100%;position:relative}.el-table__inner-wrapper:before{bottom:0;height:1px;left:0}.el-table tbody:focus-visible{outline:none}.el-table.has-footer.el-table--fluid-height tr:last-child td.el-table__cell,.el-table.has-footer.el-table--scrollable-y tr:last-child td.el-table__cell{border-bottom-color:transparent}.el-table__empty-block{align-items:center;display:flex;justify-content:center;left:0;min-height:60px;position:sticky;text-align:center;width:100%}.el-table__empty-text{color:var(--el-text-color-secondary);line-height:60px;width:50%}.el-table__expand-column .cell{padding:0;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table__expand-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table__expand-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:-2px}.el-table__expand-icon{color:var(--el-text-color-regular);font-size:12px;height:23px;line-height:12px;width:min(23px,100%)}.el-table__expand-icon--expanded{transform:rotate(90deg)}.el-table__expand-icon>.el-icon{font-size:12px}.el-table__expanded-cell{background-color:var(--el-table-expanded-cell-bg-color)}.el-table__expanded-cell[class*=cell]{padding:20px 50px}.el-table__expanded-cell:hover{background-color:transparent!important}.el-table__placeholder{display:inline-block;width:20px}.el-table__append-wrapper{overflow:hidden}.el-table--fit{border-bottom:0;border-right:0}.el-table--fit .el-table__cell.gutter{border-right-width:1px}.el-table--fit .el-table__inner-wrapper:before{width:100%}.el-table thead{color:var(--el-table-header-text-color)}.el-table thead th{font-weight:600}.el-table thead.is-group th.el-table__cell{background:var(--el-fill-color-light)}.el-table .el-table__cell{box-sizing:border-box;min-width:0;padding:8px 0;position:relative;text-align:left;text-overflow:ellipsis;vertical-align:middle;z-index:var(--el-table-index)}.el-table .el-table__cell.is-center{text-align:center}.el-table .el-table__cell.is-right{text-align:right}.el-table .el-table__cell.gutter{border-bottom-width:0;border-right-width:0;padding:0;width:15px}.el-table .el-table__cell.is-hidden>*{visibility:hidden}.el-table .cell{box-sizing:border-box;line-height:23px;overflow:hidden;overflow-wrap:break-word;padding:0 12px;text-overflow:ellipsis;white-space:normal}.el-table .cell.el-tooltip{min-width:50px;white-space:nowrap}.el-table--large{font-size:var(--el-font-size-base)}.el-table--large .el-table__cell{padding:12px 0}.el-table--large .cell{padding:0 16px}.el-table--default{font-size:var(--el-font-size-base)}.el-table--default .el-table__cell{padding:8px 0}.el-table--default .cell{padding:0 12px}.el-table--small{font-size:var(--el-font-size-extra-small)}.el-table--small .el-table__cell{padding:4px 0}.el-table--small .cell{padding:0 8px}.el-table tr{background-color:var(--el-table-tr-bg-color)}.el-table tr input[type=checkbox]{margin:0}.el-table td.el-table__cell,.el-table th.el-table__cell.is-leaf{border-bottom:var(--el-table-border)}.el-table th.el-table__cell.is-sortable{cursor:pointer}.el-table th.el-table__cell{background-color:var(--el-table-header-bg-color)}.el-table th.el-table__cell>.cell.highlight{color:var(--el-color-primary)}.el-table th.el-table__cell.required>div:before{background:#ff4d51;border-radius:50%;content:"";display:inline-block;height:8px;margin-right:5px;vertical-align:middle;width:8px}.el-table td.el-table__cell div{box-sizing:border-box}.el-table td.el-table__cell.gutter{width:0}.el-table--border .el-table__inner-wrapper:after,.el-table--border:after,.el-table--border:before,.el-table__inner-wrapper:before{background-color:var(--el-table-border-color);content:"";position:absolute;z-index:calc(var(--el-table-index) + 2)}.el-table--border .el-table__inner-wrapper:after{height:1px;left:0;top:0;width:100%;z-index:calc(var(--el-table-index) + 2)}.el-table--border:before{height:100%;left:0;top:-1px;width:1px}.el-table--border:after{height:100%;right:0;top:-1px;width:1px}.el-table--border .el-table__inner-wrapper{border-bottom:none;border-right:none}.el-table--border .el-table__footer-wrapper{flex-shrink:0;position:relative}.el-table--border .el-table__cell{border-right:var(--el-table-border)}.el-table--border th.el-table__cell.gutter:last-of-type{border-bottom:var(--el-table-border);border-bottom-width:1px}.el-table--border th.el-table__cell{border-bottom:var(--el-table-border)}.el-table--hidden{visibility:hidden}.el-table__body-wrapper,.el-table__footer-wrapper,.el-table__header-wrapper{width:100%}.el-table__body-wrapper tr td.el-table-fixed-column--left,.el-table__body-wrapper tr td.el-table-fixed-column--right,.el-table__body-wrapper tr th.el-table-fixed-column--left,.el-table__body-wrapper tr th.el-table-fixed-column--right,.el-table__footer-wrapper tr td.el-table-fixed-column--left,.el-table__footer-wrapper tr td.el-table-fixed-column--right,.el-table__footer-wrapper tr th.el-table-fixed-column--left,.el-table__footer-wrapper tr th.el-table-fixed-column--right,.el-table__header-wrapper tr td.el-table-fixed-column--left,.el-table__header-wrapper tr td.el-table-fixed-column--right,.el-table__header-wrapper tr th.el-table-fixed-column--left,.el-table__header-wrapper tr th.el-table-fixed-column--right{background:inherit;position:sticky!important;z-index:calc(var(--el-table-index) + 1)}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column:before{bottom:0;box-shadow:none;content:"";overflow-x:hidden;overflow-y:hidden;pointer-events:none;position:absolute;top:0;touch-action:none;width:10px}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column:before{left:-10px}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column:before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column:before{right:-10px}.el-table__body-wrapper tr td.el-table__fixed-right-patch,.el-table__body-wrapper tr th.el-table__fixed-right-patch,.el-table__footer-wrapper tr td.el-table__fixed-right-patch,.el-table__footer-wrapper tr th.el-table__fixed-right-patch,.el-table__header-wrapper tr td.el-table__fixed-right-patch,.el-table__header-wrapper tr th.el-table__fixed-right-patch{background:#fff;position:sticky!important;right:0;z-index:calc(var(--el-table-index) + 1)}.el-table__header-wrapper{flex-shrink:0}.el-table__header-wrapper tr th.el-table-fixed-column--left,.el-table__header-wrapper tr th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table__body,.el-table__footer,.el-table__header{border-collapse:separate;table-layout:fixed}.el-table__header-wrapper{overflow:hidden}.el-table__header-wrapper tbody td.el-table__cell{background-color:var(--el-table-row-hover-bg-color);color:var(--el-table-text-color)}.el-table__footer-wrapper{flex-shrink:0;overflow:hidden}.el-table__footer-wrapper tfoot td.el-table__cell{background-color:var(--el-table-row-hover-bg-color);color:var(--el-table-text-color)}.el-table__body-wrapper .el-table-column--selection>.cell,.el-table__header-wrapper .el-table-column--selection>.cell{align-items:center;display:inline-flex;height:23px}.el-table__body-wrapper .el-table-column--selection .el-checkbox,.el-table__header-wrapper .el-table-column--selection .el-checkbox{height:unset}.el-table.is-scrolling-left .el-table-fixed-column--right.is-first-column:before{box-shadow:var(--el-table-fixed-right-column)}.el-table.is-scrolling-left.el-table--border .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:var(--el-table-border)}.el-table.is-scrolling-left th.el-table-fixed-column--left{background-color:var(--el-table-header-bg-color)}.el-table.is-scrolling-right .el-table-fixed-column--left.is-last-column:before{box-shadow:var(--el-table-fixed-left-column)}.el-table.is-scrolling-right .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-right th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table.is-scrolling-middle .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-middle .el-table-fixed-column--right.is-first-column:before{box-shadow:var(--el-table-fixed-right-column)}.el-table.is-scrolling-middle .el-table-fixed-column--left.is-last-column:before{box-shadow:var(--el-table-fixed-left-column)}.el-table.is-scrolling-none .el-table-fixed-column--left.is-first-column:before,.el-table.is-scrolling-none .el-table-fixed-column--left.is-last-column:before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-first-column:before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-last-column:before{box-shadow:none}.el-table.is-scrolling-none th.el-table-fixed-column--left,.el-table.is-scrolling-none th.el-table-fixed-column--right{background-color:var(--el-table-header-bg-color)}.el-table__body-wrapper{flex:1;overflow:hidden;position:relative}.el-table__body-wrapper .el-scrollbar__bar{z-index:calc(var(--el-table-index) + 2)}.el-table .caret-wrapper{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table .caret-wrapper:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table .caret-wrapper{align-items:center;display:inline-flex;flex-direction:column;height:14px;overflow:initial;position:relative;vertical-align:middle;width:24px}.el-table .sort-caret{border:5px solid transparent;height:0;left:7px;position:absolute;width:0}.el-table .sort-caret.ascending{border-bottom-color:var(--el-text-color-placeholder);top:-5px}.el-table .sort-caret.descending{border-top-color:var(--el-text-color-placeholder);bottom:-3px}.el-table .ascending .sort-caret.ascending{border-bottom-color:var(--el-color-primary)}.el-table .descending .sort-caret.descending{border-top-color:var(--el-color-primary)}.el-table .hidden-columns{position:absolute;visibility:hidden;z-index:-1}.el-table--striped .el-table__body tr.el-table__row--striped td.el-table__cell{background:var(--el-fill-color-lighter)}.el-table--striped .el-table__body tr.el-table__row--striped.current-row td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table__body tr.hover-row.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped>td.el-table__cell,.el-table__body tr.hover-row>td.el-table__cell,.el-table__body tr>td.hover-cell{background-color:var(--el-table-row-hover-bg-color)}.el-table__body tr.current-row>td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table.el-table--scrollable-y .el-table__body-header{position:sticky;top:0;z-index:calc(var(--el-table-index) + 2)}.el-table.el-table--scrollable-y .el-table__body-footer{bottom:0;position:sticky;z-index:calc(var(--el-table-index) + 2)}.el-table__column-resize-proxy{border-left:var(--el-table-border);bottom:0;left:200px;position:absolute;top:0;width:0;z-index:calc(var(--el-table-index) + 9)}.el-table__column-filter-trigger{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table__column-filter-trigger:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table__column-filter-trigger{display:inline-block}.el-table__column-filter-trigger i{color:var(--el-color-info);font-size:14px;vertical-align:middle}.el-table__border-left-patch{height:100%;top:0;width:1px}.el-table__border-bottom-patch,.el-table__border-left-patch{background-color:var(--el-table-border-color);left:0;position:absolute;z-index:calc(var(--el-table-index) + 2)}.el-table__border-bottom-patch{height:1px}.el-table__border-right-patch{background-color:var(--el-table-border-color);height:100%;position:absolute;top:0;width:1px;z-index:calc(var(--el-table-index) + 2)}.el-table--enable-row-transition .el-table__body td.el-table__cell{transition:background-color .25s ease}.el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell{background-color:var(--el-table-row-hover-bg-color)}.el-table [class*=el-table__row--level] .el-table__expand-icon{display:inline-block;text-align:center;width:20px}.el-table .el-table.el-table--border .el-table__cell{border-right:var(--el-table-border)}.el-table:not(.el-table--border) .el-table__cell{border-right:none}.el-table:not(.el-table--border)>.el-table__inner-wrapper:after{content:none}.el-table-v2{--el-table-border-color:var(--el-border-color-lighter);--el-table-border:1px solid var(--el-table-border-color);--el-table-text-color:var(--el-text-color-regular);--el-table-header-text-color:var(--el-text-color-secondary);--el-table-row-hover-bg-color:var(--el-fill-color-light);--el-table-current-row-bg-color:var(--el-color-primary-light-9);--el-table-header-bg-color:var(--el-bg-color);--el-table-fixed-box-shadow:var(--el-box-shadow-light);--el-table-bg-color:var(--el-fill-color-blank);--el-table-tr-bg-color:var(--el-bg-color);--el-table-expanded-cell-bg-color:var(--el-fill-color-blank);--el-table-fixed-left-column:inset 10px 0 10px -10px rgba(0,0,0,.15);--el-table-fixed-right-column:inset -10px 0 10px -10px rgba(0,0,0,.15);--el-table-index:var(--el-index-normal);font-size:var(--el-font-size-base)}.el-table-v2 *{box-sizing:border-box}.el-table-v2__root{position:relative}.el-table-v2__root:hover .el-table-v2__main .el-virtual-scrollbar{opacity:1}.el-table-v2__main{background-color:var(--el-bg-color);display:flex;flex-direction:column-reverse;left:0;overflow:hidden;position:absolute;top:0}.el-table-v2__main .el-vl__horizontal,.el-table-v2__main .el-vl__vertical{z-index:2}.el-table-v2__left{background-color:var(--el-bg-color);box-shadow:2px 0 4px #0000000f;display:flex;flex-direction:column-reverse;left:0;overflow:hidden;position:absolute;top:0}.el-table-v2__left .el-virtual-scrollbar{opacity:0}.el-table-v2__left .el-vl__horizontal,.el-table-v2__left .el-vl__vertical{z-index:-1}.el-table-v2__right{background-color:var(--el-bg-color);box-shadow:-2px 0 4px #0000000f;display:flex;flex-direction:column-reverse;overflow:hidden;position:absolute;right:0;top:0}.el-table-v2__right .el-virtual-scrollbar{opacity:0}.el-table-v2__right .el-vl__horizontal,.el-table-v2__right .el-vl__vertical{z-index:-1}.el-table-v2__header-row,.el-table-v2__row{padding-inline-end:var(--el-table-scrollbar-size)}.el-table-v2__header-wrapper{overflow:hidden}.el-table-v2__header{overflow:hidden;position:relative}.el-table-v2__header .el-checkbox{z-index:0}.el-table-v2__footer{bottom:0;overflow:hidden;right:0}.el-table-v2__empty,.el-table-v2__footer,.el-table-v2__overlay{left:0;position:absolute}.el-table-v2__overlay{bottom:0;right:0;top:0;z-index:9999}.el-table-v2__header-row{border-bottom:var(--el-table-border);display:flex}.el-table-v2__header-cell{align-items:center;background-color:var(--el-table-header-bg-color);color:var(--el-table-header-text-color);display:flex;font-weight:700;height:100%;overflow:hidden;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table-v2__header-cell.is-align-center{justify-content:center;text-align:center}.el-table-v2__header-cell.is-align-right{justify-content:flex-end;text-align:right}.el-table-v2__header-cell.is-sortable{cursor:pointer}.el-table-v2__header-cell:hover .el-icon{display:block}.el-table-v2__sort-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-v2__sort-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-v2__sort-icon{display:none;opacity:.6;transition:opacity,display var(--el-transition-duration)}.el-table-v2__sort-icon.is-sorting{display:flex;opacity:1}.el-table-v2__row{align-items:center;border-bottom:var(--el-table-border);display:flex;transition:background-color var(--el-transition-duration)}.el-table-v2__row.is-hovered,.el-table-v2__row:hover{background-color:var(--el-table-row-hover-bg-color)}.el-table-v2__row-cell{align-items:center;display:flex;height:100%;overflow:hidden;padding:0 8px}.el-table-v2__row-cell.is-align-center{justify-content:center;text-align:center}.el-table-v2__row-cell.is-align-right{justify-content:flex-end;text-align:right}.el-table-v2__expand-icon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;border-radius:var(--el-border-radius-base);cursor:pointer;margin:0;outline:none;padding:0;transition:transform var(--el-transition-duration-fast) ease-in-out}.el-table-v2__expand-icon:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-table-v2__expand-icon{margin:0 4px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table-v2__expand-icon svg{transition:transform var(--el-transition-duration)}.el-table-v2__expand-icon.is-expanded svg{transform:rotate(90deg)}.el-table-v2:not(.is-dynamic) .el-table-v2__cell-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-table-v2.is-dynamic .el-table-v2__row{align-items:stretch;overflow:hidden}.el-table-v2.is-dynamic .el-table-v2__row .el-table-v2__row-cell{overflow-wrap:break-word}.el-tabs{--el-tabs-header-height:40px;display:flex}.el-tabs__header{align-items:center;display:flex;justify-content:space-between;margin:0 0 15px;padding:0;position:relative}.el-tabs__header-vertical{flex-direction:column}.el-tabs__active-bar{background-color:var(--el-color-primary);bottom:0;height:2px;left:0;list-style:none;position:absolute;transition:width var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),transform var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);z-index:1}.el-tabs__active-bar.is-bottom{bottom:auto}.el-tabs__new-tab{align-items:center;border:1px solid var(--el-border-color);border-radius:3px;color:var(--el-text-color-primary);cursor:pointer;display:flex;flex-shrink:0;font-size:12px;height:20px;justify-content:center;line-height:20px;margin:10px 0 10px 10px;text-align:center;transition:all .15s;width:20px}.el-tabs__new-tab .is-icon-plus{height:inherit;transform:scale(.8);width:inherit}.el-tabs__new-tab .is-icon-plus svg{vertical-align:middle}.el-tabs__new-tab:hover{color:var(--el-color-primary)}.el-tabs__new-tab-vertical{margin-left:0}.el-tabs__nav-wrap{flex:1 auto;margin-bottom:-1px;overflow:hidden;position:relative}.el-tabs__nav-wrap:after{background-color:var(--el-border-color-light);bottom:0;content:"";height:2px;left:0;position:absolute;width:100%;z-index:var(--el-index-normal)}.el-tabs__nav-wrap.is-bottom:after{bottom:auto;top:0}.el-tabs__nav-wrap.is-scrollable{box-sizing:border-box;padding:0 20px}.el-tabs__nav-scroll{overflow:hidden}.el-tabs__nav-next,.el-tabs__nav-prev{color:var(--el-text-color-secondary);cursor:pointer;font-size:12px;line-height:44px;position:absolute;text-align:center;width:20px}.el-tabs__nav-next{right:0}.el-tabs__nav-prev{left:0}.el-tabs__nav{display:flex;float:left;position:relative;transition:transform var(--el-transition-duration);white-space:nowrap;z-index:calc(var(--el-index-normal) + 1)}.el-tabs__nav.is-stretch{display:flex;min-width:100%}.el-tabs__nav.is-stretch>*{flex:1;text-align:center}.el-tabs__item{align-items:center;box-sizing:border-box;color:var(--el-text-color-primary);display:flex;font-size:var(--el-font-size-base);font-weight:500;height:var(--el-tabs-header-height);justify-content:center;list-style:none;padding:0 20px;position:relative}.el-tabs__item:focus,.el-tabs__item:focus:active{outline:none}.el-tabs__item:focus-visible{border-radius:3px;box-shadow:0 0 2px 2px var(--el-color-primary) inset}.el-tabs__item .is-icon-close{border-radius:50%;margin-left:5px;text-align:center;transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs__item .is-icon-close:before{display:inline-block;transform:scale(.9)}.el-tabs__item .is-icon-close:hover{background-color:var(--el-text-color-placeholder);color:#fff}.el-tabs__item.is-active,.el-tabs__item:hover{color:var(--el-color-primary)}.el-tabs__item:hover{cursor:pointer}.el-tabs__item.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-tabs__content{flex-grow:1;overflow:hidden;position:relative}.el-tabs--bottom>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:0}.el-tabs--bottom>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top>.el-tabs__header .el-tabs__item:last-child{padding-right:0}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:20px}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:last-child{padding-right:20px}.el-tabs--card>.el-tabs__header{border-bottom:1px solid var(--el-border-color-light);box-sizing:border-box;height:var(--el-tabs-header-height)}.el-tabs--card>.el-tabs__header .el-tabs__nav-wrap:after{content:none}.el-tabs--card>.el-tabs__header .el-tabs__nav{border:1px solid var(--el-border-color-light);border-bottom:none;border-radius:4px 4px 0 0;box-sizing:border-box}.el-tabs--card>.el-tabs__header .el-tabs__active-bar{display:none}.el-tabs--card>.el-tabs__header .el-tabs__item .is-icon-close{font-size:12px;height:14px;overflow:hidden;position:relative;right:-2px;transform-origin:100% 50%;width:0}.el-tabs--card>.el-tabs__header .el-tabs__item{border-bottom:1px solid transparent;border-left:1px solid var(--el-border-color-light);margin-top:-1px;transition:color var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),padding var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs--card>.el-tabs__header .el-tabs__item:first-child{border-left:none}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover{padding-left:13px;padding-right:13px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover .is-icon-close{width:14px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active{border-bottom-color:var(--el-bg-color)}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable{padding-left:20px;padding-right:20px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable .is-icon-close{width:14px}.el-tabs--border-card{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color)}.el-tabs--border-card>.el-tabs__content{padding:15px}.el-tabs--border-card>.el-tabs__header{background-color:var(--el-fill-color-light);border-bottom:1px solid var(--el-border-color-light);margin:0}.el-tabs--border-card>.el-tabs__header .el-tabs__nav-wrap:after{content:none}.el-tabs--border-card>.el-tabs__header .el-tabs__item{border:1px solid transparent;color:var(--el-text-color-secondary);margin-top:-1px;transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs--border-card>.el-tabs__header .el-tabs__item+.el-tabs__item,.el-tabs--border-card>.el-tabs__header .el-tabs__item:first-child{margin-left:-1px}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{background-color:var(--el-bg-color-overlay);border-left-color:var(--el-border-color);border-right-color:var(--el-border-color);color:var(--el-color-primary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item:not(.is-disabled):hover{color:var(--el-color-primary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-disabled{color:var(--el-disabled-text-color)}.el-tabs--border-card>.el-tabs__header .is-scrollable .el-tabs__item:first-child{margin-left:0}.el-tabs--bottom{flex-direction:column}.el-tabs--bottom .el-tabs__header.is-bottom{margin-bottom:0;margin-top:10px}.el-tabs--bottom.el-tabs--border-card .el-tabs__header.is-bottom{border-bottom:0;border-top:1px solid var(--el-border-color)}.el-tabs--bottom.el-tabs--border-card .el-tabs__nav-wrap.is-bottom{margin-bottom:0;margin-top:-1px}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom:not(.is-active){border:1px solid transparent}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom{margin:0 -1px -1px}.el-tabs--left,.el-tabs--right{overflow:hidden}.el-tabs--left .el-tabs__header.is-left,.el-tabs--left .el-tabs__header.is-right,.el-tabs--left .el-tabs__nav-scroll,.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__header.is-left,.el-tabs--right .el-tabs__header.is-right,.el-tabs--right .el-tabs__nav-scroll,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{height:100%}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__active-bar.is-right,.el-tabs--right .el-tabs__active-bar.is-left,.el-tabs--right .el-tabs__active-bar.is-right{bottom:auto;height:auto;top:0;width:2px}.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{margin-bottom:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{cursor:pointer;height:30px;line-height:30px;text-align:center;width:100%}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i{transform:rotate(90deg)}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{left:auto;top:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next{bottom:0;right:auto}.el-tabs--left .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--left .el-tabs__nav-wrap.is-right.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-right.is-scrollable{padding:30px 0}.el-tabs--left .el-tabs__nav-wrap.is-left:after,.el-tabs--left .el-tabs__nav-wrap.is-right:after,.el-tabs--right .el-tabs__nav-wrap.is-left:after,.el-tabs--right .el-tabs__nav-wrap.is-right:after{bottom:auto;height:100%;top:0;width:2px}.el-tabs--left .el-tabs__nav.is-left,.el-tabs--left .el-tabs__nav.is-right,.el-tabs--right .el-tabs__nav.is-left,.el-tabs--right .el-tabs__nav.is-right{flex-direction:column}.el-tabs--left .el-tabs__item.is-left,.el-tabs--right .el-tabs__item.is-left{justify-content:flex-end}.el-tabs--left .el-tabs__item.is-right,.el-tabs--right .el-tabs__item.is-right{justify-content:flex-start}.el-tabs--left{flex-direction:row}.el-tabs--left .el-tabs__header.is-left{margin-bottom:0;margin-right:10px}.el-tabs--left .el-tabs__nav-wrap.is-left{margin-right:-1px}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__nav-wrap.is-left:after{left:auto;right:0}.el-tabs--left .el-tabs__item.is-left{text-align:right}.el-tabs--left.el-tabs--card .el-tabs__active-bar.is-left{display:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left{border-bottom:none;border-left:none;border-right:1px solid var(--el-border-color-light);border-top:1px solid var(--el-border-color-light);text-align:left}.el-tabs--left.el-tabs--card .el-tabs__item.is-left:first-child{border-right:1px solid var(--el-border-color-light);border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active{border:1px solid var(--el-border-color-light);border-bottom:none;border-left:none;border-right:1px solid #fff}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:first-child{border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:last-child{border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__nav{border-bottom:1px solid var(--el-border-color-light);border-radius:4px 0 0 4px;border-right:none}.el-tabs--left.el-tabs--card .el-tabs__new-tab{float:none}.el-tabs--left.el-tabs--border-card .el-tabs__header.is-left{border-right:1px solid var(--el-border-color)}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left{border:1px solid transparent;margin:-1px 0 -1px -1px}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left.is-active{border-color:rgb(209,219,229) transparent}.el-tabs--left>.el-tabs__content+.el-tabs__header{order:-1}.el-tabs--right .el-tabs__header.is-right{margin-bottom:0;margin-left:10px}.el-tabs--right .el-tabs__nav-wrap.is-right{margin-left:-1px}.el-tabs--right .el-tabs__nav-wrap.is-right:after{left:0;right:auto}.el-tabs--right .el-tabs__active-bar.is-right{left:0}.el-tabs--right.el-tabs--card .el-tabs__active-bar.is-right{display:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right{border-bottom:none;border-top:1px solid var(--el-border-color-light)}.el-tabs--right.el-tabs--card .el-tabs__item.is-right:first-child{border-left:1px solid var(--el-border-color-light);border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active{border:1px solid var(--el-border-color-light);border-bottom:none;border-left:1px solid #fff;border-right:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:first-child{border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:last-child{border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__nav{border-bottom:1px solid var(--el-border-color-light);border-left:none;border-radius:0 4px 4px 0}.el-tabs--right.el-tabs--border-card .el-tabs__header.is-right{border-left:1px solid var(--el-border-color)}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right{border:1px solid transparent;margin:-1px -1px -1px 0}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right.is-active{border-color:rgb(209,219,229) transparent}.el-tabs--top{flex-direction:column}.el-tabs--top>.el-tabs__content+.el-tabs__header{order:-1}.slideInLeft-transition,.slideInRight-transition{display:inline-block}.slideInRight-enter{animation:slideInRight-enter var(--el-transition-duration)}.slideInRight-leave{animation:slideInRight-leave var(--el-transition-duration);left:0;position:absolute;right:0}.slideInLeft-enter{animation:slideInLeft-enter var(--el-transition-duration)}.slideInLeft-leave{animation:slideInLeft-leave var(--el-transition-duration);left:0;position:absolute;right:0}@keyframes slideInRight-enter{0%{opacity:0;transform:translate(100%);transform-origin:0 0}to{opacity:1;transform:translate(0);transform-origin:0 0}}@keyframes slideInRight-leave{0%{opacity:1;transform:translate(0);transform-origin:0 0}to{opacity:0;transform:translate(100%);transform-origin:0 0}}@keyframes slideInLeft-enter{0%{opacity:0;transform:translate(-100%);transform-origin:0 0}to{opacity:1;transform:translate(0);transform-origin:0 0}}@keyframes slideInLeft-leave{0%{opacity:1;transform:translate(0);transform-origin:0 0}to{opacity:0;transform:translate(-100%);transform-origin:0 0}}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px;--el-tag-border-radius-rounded:9999px;align-items:center;background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);border-radius:var(--el-tag-border-radius);border-style:solid;border-width:1px;box-sizing:border-box;color:var(--el-tag-text-color);display:inline-flex;font-size:var(--el-tag-font-size);height:24px;justify-content:center;line-height:1;padding:0 9px;vertical-align:middle;white-space:nowrap;--el-icon-size:14px}.el-tag,.el-tag.el-tag--primary{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-bg-color:var(--el-color-success-light-9);--el-tag-border-color:var(--el-color-success-light-8);--el-tag-hover-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-bg-color:var(--el-color-warning-light-9);--el-tag-border-color:var(--el-color-warning-light-8);--el-tag-hover-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-bg-color:var(--el-color-danger-light-9);--el-tag-border-color:var(--el-color-danger-light-8);--el-tag-hover-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-bg-color:var(--el-color-error-light-9);--el-tag-border-color:var(--el-color-error-light-8);--el-tag-hover-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-bg-color:var(--el-color-info-light-9);--el-tag-border-color:var(--el-color-info-light-8);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-hit{border-color:var(--el-color-primary)}.el-tag.is-round{border-radius:var(--el-tag-border-radius-rounded)}.el-tag .el-tag__close{color:var(--el-tag-text-color);flex-shrink:0}.el-tag .el-tag__close:hover{background-color:var(--el-tag-hover-color);color:var(--el-color-white)}.el-tag.el-tag--primary{--el-tag-text-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-text-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-text-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-text-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-text-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-text-color:var(--el-color-info)}.el-tag .el-icon{border-radius:50%;cursor:pointer;display:flex;font-size:calc(var(--el-icon-size) - 2px);height:var(--el-icon-size);width:var(--el-icon-size)}.el-tag .el-tag__close{background-color:transparent;border:none;border-radius:50%;margin-left:6px;outline:none;overflow:hidden;padding:0}.el-tag .el-tag__close:focus-visible{outline:2px solid var(--el-color-primary);outline-offset:2px}.el-tag--dark{--el-tag-text-color:var(--el-color-white)}.el-tag--dark,.el-tag--dark.el-tag--primary{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3)}.el-tag--dark.el-tag--success{--el-tag-bg-color:var(--el-color-success);--el-tag-border-color:var(--el-color-success);--el-tag-hover-color:var(--el-color-success-light-3)}.el-tag--dark.el-tag--warning{--el-tag-bg-color:var(--el-color-warning);--el-tag-border-color:var(--el-color-warning);--el-tag-hover-color:var(--el-color-warning-light-3)}.el-tag--dark.el-tag--danger{--el-tag-bg-color:var(--el-color-danger);--el-tag-border-color:var(--el-color-danger);--el-tag-hover-color:var(--el-color-danger-light-3)}.el-tag--dark.el-tag--error{--el-tag-bg-color:var(--el-color-error);--el-tag-border-color:var(--el-color-error);--el-tag-hover-color:var(--el-color-error-light-3)}.el-tag--dark.el-tag--info{--el-tag-bg-color:var(--el-color-info);--el-tag-border-color:var(--el-color-info);--el-tag-hover-color:var(--el-color-info-light-3)}.el-tag--dark.el-tag--danger,.el-tag--dark.el-tag--error,.el-tag--dark.el-tag--info,.el-tag--dark.el-tag--primary,.el-tag--dark.el-tag--success,.el-tag--dark.el-tag--warning{--el-tag-text-color:var(--el-color-white)}.el-tag--plain,.el-tag--plain.el-tag--primary{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary)}.el-tag--plain.el-tag--success{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-success-light-5);--el-tag-hover-color:var(--el-color-success)}.el-tag--plain.el-tag--warning{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-warning-light-5);--el-tag-hover-color:var(--el-color-warning)}.el-tag--plain.el-tag--danger{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-danger-light-5);--el-tag-hover-color:var(--el-color-danger)}.el-tag--plain.el-tag--error{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-error-light-5);--el-tag-hover-color:var(--el-color-error)}.el-tag--plain.el-tag--info{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-info-light-5);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-closable{padding-right:5px}.el-tag--large{height:32px;padding:0 11px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--small{height:20px;padding:0 7px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag.el-tag--primary.is-hit{border-color:var(--el-color-primary)}.el-tag.el-tag--success.is-hit{border-color:var(--el-color-success)}.el-tag.el-tag--warning.is-hit{border-color:var(--el-color-warning)}.el-tag.el-tag--danger.is-hit{border-color:var(--el-color-danger)}.el-tag.el-tag--error.is-hit{border-color:var(--el-color-error)}.el-tag.el-tag--info.is-hit{border-color:var(--el-color-info)}.el-text{--el-text-font-size:var(--el-font-size-base);--el-text-color:var(--el-text-color-regular);align-self:center;color:var(--el-text-color);font-size:var(--el-text-font-size);margin:0;overflow-wrap:break-word;padding:0}.el-text.is-truncated{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-text.is-line-clamp{display:-webkit-inline-box;-webkit-box-orient:vertical;overflow:hidden}.el-text--large{--el-text-font-size:var(--el-font-size-medium)}.el-text--default{--el-text-font-size:var(--el-font-size-base)}.el-text--small{--el-text-font-size:var(--el-font-size-extra-small)}.el-text.el-text--primary{--el-text-color:var(--el-color-primary)}.el-text.el-text--success{--el-text-color:var(--el-color-success)}.el-text.el-text--warning{--el-text-color:var(--el-color-warning)}.el-text.el-text--danger{--el-text-color:var(--el-color-danger)}.el-text.el-text--error{--el-text-color:var(--el-color-error)}.el-text.el-text--info{--el-text-color:var(--el-color-info)}.el-text>.el-icon{vertical-align:-2px}.time-select{margin:5px 0;min-width:0}.time-select .el-picker-panel__content{margin:0;max-height:200px}.time-select-item{font-size:14px;line-height:20px;padding:8px 10px}.time-select-item.disabled{color:var(--el-datepicker-border-color);cursor:not-allowed}.time-select-item:hover{background-color:var(--el-fill-color-light);cursor:pointer;font-weight:700}.time-select .time-select-item.selected:not(.disabled){color:var(--el-color-primary);font-weight:700}.el-timeline-item{padding-bottom:20px;position:relative}.el-timeline-item__wrapper{padding-left:28px;position:relative;top:-3px}.el-timeline-item__tail{border-left:2px solid var(--el-timeline-node-color);height:100%;left:4px;position:absolute}.el-timeline-item .el-timeline-item__icon{color:var(--el-color-white);font-size:var(--el-font-size-small)}.el-timeline-item__node{align-items:center;background-color:var(--el-timeline-node-color);border-color:var(--el-timeline-node-color);border-radius:50%;box-sizing:border-box;display:flex;justify-content:center;position:absolute}.el-timeline-item__node--normal{height:var(--el-timeline-node-size-normal);left:-1px;width:var(--el-timeline-node-size-normal)}.el-timeline-item__node--large{height:var(--el-timeline-node-size-large);left:-2px;width:var(--el-timeline-node-size-large)}.el-timeline-item__node.is-hollow{background:var(--el-color-white);border-style:solid;border-width:2px}.el-timeline-item__node--primary{background-color:var(--el-color-primary);border-color:var(--el-color-primary)}.el-timeline-item__node--success{background-color:var(--el-color-success);border-color:var(--el-color-success)}.el-timeline-item__node--warning{background-color:var(--el-color-warning);border-color:var(--el-color-warning)}.el-timeline-item__node--danger{background-color:var(--el-color-danger);border-color:var(--el-color-danger)}.el-timeline-item__node--info{background-color:var(--el-color-info);border-color:var(--el-color-info)}.el-timeline-item__dot{align-items:center;display:flex;justify-content:center;position:absolute}.el-timeline-item__content{color:var(--el-text-color-primary)}.el-timeline-item__timestamp{color:var(--el-text-color-secondary);font-size:var(--el-font-size-small);line-height:1}.el-timeline-item__timestamp.is-top{margin-bottom:8px;padding-top:4px}.el-timeline-item__timestamp.is-bottom{margin-top:8px}.el-timeline{--el-timeline-node-size-normal:12px;--el-timeline-node-size-large:14px;--el-timeline-node-color:var(--el-border-color-light);font-size:var(--el-font-size-base);list-style:none;margin:0}.el-timeline .el-timeline-item:last-child .el-timeline-item__tail{display:none}.el-timeline .el-timeline-item__center{align-items:center;display:flex}.el-timeline .el-timeline-item__center .el-timeline-item__wrapper{width:100%}.el-timeline .el-timeline-item__center .el-timeline-item__tail{top:0}.el-timeline .el-timeline-item__center:first-child .el-timeline-item__tail{height:calc(50% + 10px);top:calc(50% - 10px)}.el-timeline .el-timeline-item__center:last-child .el-timeline-item__tail{display:block;height:calc(50% - 10px)}.el-transfer{--el-transfer-border-color:var(--el-border-color-lighter);--el-transfer-border-radius:var(--el-border-radius-base);--el-transfer-panel-width:200px;--el-transfer-panel-header-height:40px;--el-transfer-panel-header-bg-color:var(--el-fill-color-light);--el-transfer-panel-footer-height:40px;--el-transfer-panel-body-height:278px;--el-transfer-item-height:30px;--el-transfer-filter-height:32px;font-size:var(--el-font-size-base)}.el-transfer__buttons{display:inline-block;padding:0 30px;vertical-align:middle}.el-transfer__button{vertical-align:top}.el-transfer__button:nth-child(2){margin:0 0 0 10px}.el-transfer__button i,.el-transfer__button span{font-size:14px}.el-transfer__button .el-icon+span{margin-left:0}.el-transfer-panel{background:var(--el-bg-color-overlay);box-sizing:border-box;display:inline-block;max-height:100%;overflow:hidden;position:relative;text-align:left;vertical-align:middle;width:var(--el-transfer-panel-width)}.el-transfer-panel__body{border-bottom:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);border-left:1px solid var(--el-transfer-border-color);border-right:1px solid var(--el-transfer-border-color);height:var(--el-transfer-panel-body-height);overflow:hidden}.el-transfer-panel__body.is-with-footer{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.el-transfer-panel__list{box-sizing:border-box;height:var(--el-transfer-panel-body-height);list-style:none;margin:0;overflow:auto;padding:6px 0}.el-transfer-panel__list.is-filterable{height:calc(100% - var(--el-transfer-filter-height) - 30px);padding-top:0}.el-transfer-panel__item{display:block!important;height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding-left:15px}.el-transfer-panel__item+.el-transfer-panel__item{margin-left:0}.el-transfer-panel__item.el-checkbox{color:var(--el-text-color-regular);margin-right:30px}.el-transfer-panel__item:hover{color:var(--el-color-primary)}.el-transfer-panel__item.el-checkbox .el-checkbox__label{box-sizing:border-box;display:block;line-height:var(--el-transfer-item-height);overflow:hidden;padding-left:22px;text-overflow:ellipsis;white-space:nowrap;width:100%}.el-transfer-panel__item .el-checkbox__input{position:absolute;top:8px}.el-transfer-panel__filter{box-sizing:border-box;padding:15px;text-align:center}.el-transfer-panel__filter .el-input__inner{box-sizing:border-box;display:inline-block;font-size:12px;height:var(--el-transfer-filter-height);width:100%}.el-transfer-panel__filter .el-icon-circle-close{cursor:pointer}.el-transfer-panel .el-transfer-panel__header{align-items:center;background:var(--el-transfer-panel-header-bg-color);border:1px solid var(--el-transfer-border-color);border-top-left-radius:var(--el-transfer-border-radius);border-top-right-radius:var(--el-transfer-border-radius);box-sizing:border-box;color:var(--el-color-black);display:flex;height:var(--el-transfer-panel-header-height);margin:0;padding-left:15px}.el-transfer-panel .el-transfer-panel__header .el-checkbox{align-items:center;display:flex;position:relative;width:100%}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label{color:var(--el-text-color-primary);font-size:16px;font-weight:400}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{color:var(--el-text-color-secondary);font-size:12px;font-weight:400;position:absolute;right:15px;top:50%;transform:translate3d(0,-50%,0)}.el-transfer-panel .el-transfer-panel__footer{background:var(--el-bg-color-overlay);border:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);height:var(--el-transfer-panel-footer-height);margin:0;padding:0}.el-transfer-panel .el-transfer-panel__footer:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-transfer-panel .el-transfer-panel__footer .el-checkbox{color:var(--el-text-color-regular);padding-left:20px}.el-transfer-panel .el-transfer-panel__empty{color:var(--el-text-color-secondary);height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);margin:0;padding:6px 15px 0;text-align:center}.el-transfer-panel .el-checkbox__label{padding-left:8px}.el-tree{--el-tree-node-content-height:26px;--el-tree-node-hover-bg-color:var(--el-fill-color-light);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder);background:var(--el-fill-color-blank);color:var(--el-tree-text-color);cursor:default;font-size:var(--el-font-size-base);position:relative}.el-tree__empty-block{height:100%;min-height:60px;position:relative;text-align:center;width:100%}.el-tree__empty-text{color:var(--el-text-color-secondary);font-size:var(--el-font-size-base);left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-tree__drop-indicator{background-color:var(--el-color-primary);height:1px;left:0;position:absolute;right:0}.el-tree-node{outline:none;white-space:nowrap}.el-tree-node:focus>.el-tree-node__content{background-color:var(--el-tree-node-hover-bg-color)}.el-tree-node.is-drop-inner>.el-tree-node__content .el-tree-node__label{background-color:var(--el-color-primary);color:#fff}.el-tree-node__content{--el-checkbox-height:var(--el-tree-node-content-height);align-items:center;cursor:pointer;display:flex;height:var(--el-tree-node-content-height)}.el-tree-node__content>.el-tree-node__expand-icon{box-sizing:content-box;padding:6px}.el-tree-node__content>label.el-checkbox{margin-right:8px}.el-tree-node__content:hover{background-color:var(--el-tree-node-hover-bg-color)}.el-tree.is-dragging .el-tree-node__content{cursor:move}.el-tree.is-dragging .el-tree-node__content *{pointer-events:none}.el-tree.is-dragging.is-drop-not-allow .el-tree-node__content{cursor:not-allowed}.el-tree-node__expand-icon{color:var(--el-tree-expand-icon-color);cursor:pointer;font-size:12px;transform:rotate(0);transition:transform var(--el-transition-duration) ease-in-out}.el-tree-node__expand-icon.expanded{transform:rotate(90deg)}.el-tree-node__expand-icon.is-leaf{color:transparent;cursor:default;visibility:hidden}.el-tree-node__expand-icon.is-hidden{visibility:hidden}.el-tree-node__loading-icon{color:var(--el-tree-expand-icon-color);font-size:var(--el-font-size-base);margin-right:8px}.el-tree-node>.el-tree-node__children{background-color:transparent;overflow:hidden}.el-tree-node.is-expanded>.el-tree-node__children{display:block}.el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content{background-color:var(--el-color-primary-light-9)}.el-tree-select{--el-tree-node-content-height:26px;--el-tree-node-hover-bg-color:var(--el-fill-color-light);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder)}.el-tree-select__popper .el-tree-node__expand-icon{margin-left:8px}.el-tree-select__popper .el-tree-node.is-checked>.el-tree-node__content .el-select-dropdown__item.selected:after{content:none}.el-tree-select__popper .el-select-dropdown__list>.el-select-dropdown__item{padding-left:32px}.el-tree-select__popper .el-select-dropdown__item{background:transparent!important;flex:1;height:20px;line-height:20px;padding-left:0}.el-upload{--el-upload-dragger-padding-horizontal:10px;--el-upload-dragger-padding-vertical:40px;--el-upload-list-picture-card-size:var(--el-upload-picture-card-size);--el-upload-picture-card-size:148px;align-items:center;cursor:pointer;display:inline-flex;justify-content:center;outline:none}.el-upload.is-disabled{cursor:not-allowed}.el-upload.is-disabled:focus{color:inherit}.el-upload.is-disabled:focus,.el-upload.is-disabled:focus .el-upload-dragger{border-color:var(--el-border-color-darker)}.el-upload.is-disabled .el-upload-dragger{background-color:var(--el-disabled-bg-color);cursor:not-allowed}.el-upload.is-disabled .el-upload-dragger .el-upload__text{color:var(--el-text-color-placeholder)}.el-upload.is-disabled .el-upload-dragger .el-upload__text em{color:var(--el-disabled-text-color)}.el-upload.is-disabled .el-upload-dragger:hover{border-color:var(--el-border-color-darker)}.el-upload__input{display:none}.el-upload__tip{color:var(--el-text-color-regular);font-size:12px;margin-top:7px}.el-upload iframe{filter:alpha(opacity=0);left:0;opacity:0;position:absolute;top:0;z-index:-1}.el-upload--picture-card{align-items:center;background-color:var(--el-fill-color-lighter);border:1px dashed var(--el-border-color-darker);border-radius:6px;box-sizing:border-box;cursor:pointer;display:inline-flex;height:var(--el-upload-picture-card-size);justify-content:center;vertical-align:top;width:var(--el-upload-picture-card-size)}.el-upload--picture-card>i{color:var(--el-text-color-secondary);font-size:28px}.el-upload--picture-card:hover{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload.is-drag{display:block}.el-upload:focus{color:var(--el-color-primary)}.el-upload:focus,.el-upload:focus .el-upload-dragger{border-color:var(--el-color-primary)}.el-upload-dragger{background-color:var(--el-fill-color-blank);border:1px dashed var(--el-border-color);border-radius:6px;box-sizing:border-box;cursor:pointer;overflow:hidden;padding:var(--el-upload-dragger-padding-vertical) var(--el-upload-dragger-padding-horizontal);position:relative;text-align:center}.el-upload-dragger .el-icon--upload{color:var(--el-text-color-placeholder);font-size:67px;line-height:50px;margin-bottom:16px}.el-upload-dragger+.el-upload__tip{text-align:center}.el-upload-dragger~.el-upload__files{border-top:var(--el-border);margin-top:7px;padding-top:5px}.el-upload-dragger .el-upload__text{color:var(--el-text-color-regular);font-size:14px;text-align:center}.el-upload-dragger .el-upload__text em{color:var(--el-color-primary);font-style:normal}.el-upload-dragger:hover{border-color:var(--el-color-primary)}.el-upload-dragger.is-dragover{background-color:var(--el-color-primary-light-9);border:2px dashed var(--el-color-primary);padding:calc(var(--el-upload-dragger-padding-vertical) - 1px) calc(var(--el-upload-dragger-padding-horizontal) - 1px)}.el-upload-list{--el-upload-dragger-padding-horizontal:10px;--el-upload-dragger-padding-vertical:40px;--el-upload-list-picture-card-size:var(--el-upload-picture-card-size);--el-upload-picture-card-size:148px;list-style:none;margin:10px 0 0;padding:0;position:relative}.el-upload-list__item{border-radius:4px;box-sizing:border-box;color:var(--el-text-color-regular);font-size:14px;margin-bottom:5px;position:relative;transition:all .5s cubic-bezier(.55,0,.1,1);width:100%}.el-upload-list__item .el-progress{position:absolute;top:20px;width:100%}.el-upload-list__item .el-progress__text{position:absolute;right:0;top:-13px}.el-upload-list__item .el-progress-bar{margin-right:0;padding-right:0}.el-upload-list__item .el-icon--upload-success{color:var(--el-color-success)}.el-upload-list__item .el-icon--close{color:var(--el-text-color-regular);cursor:pointer;display:none;opacity:.75;position:absolute;right:5px;top:50%;transform:translateY(-50%);transition:opacity var(--el-transition-duration)}.el-upload-list__item .el-icon--close:hover{color:var(--el-color-primary);opacity:1}.el-upload-list__item .el-icon--close-tip{color:var(--el-color-primary);cursor:pointer;display:none;font-size:12px;font-style:normal;opacity:1;position:absolute;right:5px;top:1px}.el-upload-list__item:hover{background-color:var(--el-fill-color-light)}.el-upload-list__item:hover .el-icon--close{display:inline-flex}.el-upload-list__item:hover .el-progress__text{display:none}.el-upload-list__item .el-upload-list__item-info{display:inline-flex;flex-direction:column;justify-content:center;margin-left:4px;width:calc(100% - 30px)}.el-upload-list__item.is-success .el-upload-list__item-status-label{display:inline-flex}.el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover{color:var(--el-color-primary);cursor:pointer}.el-upload-list__item.is-success:focus:not(:hover) .el-icon--close-tip{display:inline-block}.el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus{outline-width:0}.el-upload-list__item.is-success:active .el-icon--close-tip,.el-upload-list__item.is-success:not(.focusing):focus .el-icon--close-tip{display:none}.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label{display:none;opacity:0}.el-upload-list__item-name{align-items:center;color:var(--el-text-color-regular);display:inline-flex;font-size:var(--el-font-size-base);padding:0 4px;text-align:center;transition:color var(--el-transition-duration)}.el-upload-list__item-name .el-icon{color:var(--el-text-color-secondary);margin-right:6px}.el-upload-list__item-file-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-upload-list__item-status-label{align-items:center;display:none;height:100%;justify-content:center;line-height:inherit;position:absolute;right:5px;top:0;transition:opacity var(--el-transition-duration)}.el-upload-list__item-delete{color:var(--el-text-color-regular);display:none;font-size:12px;position:absolute;right:10px;top:0}.el-upload-list__item-delete:hover{color:var(--el-color-primary)}.el-upload-list--picture-card{display:inline-flex;flex-wrap:wrap;margin:0}.el-upload-list--picture-card .el-upload-list__item{background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;display:inline-flex;height:var(--el-upload-list-picture-card-size);margin:0 8px 8px 0;overflow:hidden;padding:0;width:var(--el-upload-list-picture-card-size)}.el-upload-list--picture-card .el-upload-list__item .el-icon--check,.el-upload-list--picture-card .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture-card .el-upload-list__item .el-icon--close{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label{display:block;opacity:0}.el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture-card .el-upload-list__item .el-upload-list__item-name{display:none}.el-upload-list--picture-card .el-upload-list__item-thumbnail{height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.el-upload-list--picture-card .el-upload-list__item-status-label{background:var(--el-color-success);height:24px;right:-15px;text-align:center;top:-6px;transform:rotate(45deg);width:40px}.el-upload-list--picture-card .el-upload-list__item-status-label i{font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-list--picture-card .el-upload-list__item-actions{align-items:center;background-color:var(--el-overlay-color-lighter);color:#fff;cursor:default;display:inline-flex;font-size:20px;height:100%;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity var(--el-transition-duration);width:100%}.el-upload-list--picture-card .el-upload-list__item-actions span{cursor:pointer;display:none}.el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:16px}.el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete{color:inherit;font-size:inherit;position:static}.el-upload-list--picture-card .el-upload-list__item-actions:hover{opacity:1}.el-upload-list--picture-card .el-upload-list__item-actions:hover span{display:inline-flex}.el-upload-list--picture-card .el-progress{bottom:auto;left:50%;top:50%;transform:translate(-50%,-50%);width:126px}.el-upload-list--picture-card .el-progress .el-progress__text{top:50%}.el-upload-list--picture .el-upload-list__item{align-items:center;background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;display:flex;margin-top:10px;overflow:hidden;padding:10px;z-index:0}.el-upload-list--picture .el-upload-list__item .el-icon--check,.el-upload-list--picture .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label{display:inline-flex;opacity:0}.el-upload-list--picture .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i{display:none}.el-upload-list--picture .el-upload-list__item .el-icon--close{top:5px;transform:translateY(0)}.el-upload-list--picture .el-upload-list__item-thumbnail{align-items:center;background-color:var(--el-color-white);display:inline-flex;height:70px;justify-content:center;-o-object-fit:contain;object-fit:contain;position:relative;width:70px;z-index:1}.el-upload-list--picture .el-upload-list__item-status-label{background:var(--el-color-success);height:26px;position:absolute;right:-17px;text-align:center;top:-7px;transform:rotate(45deg);width:46px}.el-upload-list--picture .el-upload-list__item-status-label i{font-size:12px;margin-top:12px;transform:rotate(-45deg)}.el-upload-list--picture .el-progress{position:relative;top:-7px}.el-upload-cover{cursor:default;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%;z-index:10}.el-upload-cover:after{content:"";display:inline-block;height:100%;vertical-align:middle}.el-upload-cover img{display:block;height:100%;width:100%}.el-upload-cover__label{background:var(--el-color-success);height:24px;right:-15px;text-align:center;top:-6px;transform:rotate(45deg);width:40px}.el-upload-cover__label i{color:#fff;font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-cover__progress{display:inline-block;position:static;vertical-align:middle;width:243px}.el-upload-cover__progress+.el-upload__inner{opacity:0}.el-upload-cover__content{height:100%;left:0;position:absolute;top:0;width:100%}.el-upload-cover__interact{background-color:var(--el-overlay-color-light);bottom:0;height:100%;left:0;position:absolute;text-align:center;width:100%}.el-upload-cover__interact .btn{color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin-top:60px;transition:var(--el-transition-md-fade);vertical-align:middle}.el-upload-cover__interact .btn i{margin-top:0}.el-upload-cover__interact .btn span{opacity:0;transition:opacity .15s linear}.el-upload-cover__interact .btn:not(:first-child){margin-left:35px}.el-upload-cover__interact .btn:hover{transform:translateY(-13px)}.el-upload-cover__interact .btn:hover span{opacity:1}.el-upload-cover__interact .btn i{color:#fff;display:block;font-size:24px;line-height:inherit;margin:0 auto 5px}.el-upload-cover__title{background-color:#fff;bottom:0;color:var(--el-text-color-primary);font-size:14px;font-weight:400;height:36px;left:0;line-height:36px;margin:0;overflow:hidden;padding:0 10px;position:absolute;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.el-upload-cover+.el-upload__inner{opacity:0;position:relative;z-index:1}.el-vl__wrapper{position:relative}.el-vl__wrapper.always-on .el-virtual-scrollbar,.el-vl__wrapper:hover .el-virtual-scrollbar{opacity:1}.el-vl__window{scrollbar-width:none}.el-vl__window::-webkit-scrollbar{display:none}.el-virtual-scrollbar{opacity:0;transition:opacity .34s ease-out}.el-virtual-scrollbar.always-on{opacity:1}.el-vg__wrapper{position:relative}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius,4px);border-radius:var(--el-popper-border-radius);font-size:12px;line-height:20px;min-width:10px;overflow-wrap:break-word;padding:5px 11px;position:absolute;visibility:visible;word-break:normal;z-index:2000}.el-popper.is-dark{color:var(--el-bg-color)}.el-popper.is-dark,.el-popper.is-dark>.el-popper__arrow:before{background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark>.el-popper__arrow:before{right:0}.el-popper.is-light,.el-popper.is-light>.el-popper__arrow:before{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light)}.el-popper.is-light>.el-popper__arrow:before{right:0}.el-popper.is-pure{padding:0}.el-popper__arrow,.el-popper__arrow:before{height:10px;position:absolute;width:10px;z-index:-1}.el-popper__arrow:before{background:var(--el-text-color-primary);box-sizing:border-box;content:" ";transform:rotate(45deg)}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-left-color:transparent!important;border-top-color:transparent!important}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-bottom-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-right-color:transparent!important;border-top-color:transparent!important}.el-statistic{--el-statistic-title-font-weight:400;--el-statistic-title-font-size:var(--el-font-size-extra-small);--el-statistic-title-color:var(--el-text-color-regular);--el-statistic-content-font-weight:400;--el-statistic-content-font-size:var(--el-font-size-extra-large);--el-statistic-content-color:var(--el-text-color-primary)}.el-statistic__head{color:var(--el-statistic-title-color);font-size:var(--el-statistic-title-font-size);font-weight:var(--el-statistic-title-font-weight);line-height:20px;margin-bottom:4px}.el-statistic__content{color:var(--el-statistic-content-color);font-size:var(--el-statistic-content-font-size);font-weight:var(--el-statistic-content-font-weight)}.el-statistic__value{display:inline-block}.el-statistic__prefix{display:inline-block;margin-right:4px}.el-statistic__suffix{display:inline-block;margin-left:4px}.el-tour{--el-tour-width:520px;--el-tour-padding-primary:12px;--el-tour-font-line-height:var(--el-font-line-height-primary);--el-tour-title-font-size:16px;--el-tour-title-text-color:var(--el-text-color-primary);--el-tour-title-font-weight:400;--el-tour-close-color:var(--el-color-info);--el-tour-font-size:14px;--el-tour-color:var(--el-text-color-primary);--el-tour-bg-color:var(--el-bg-color);--el-tour-border-radius:4px}.el-tour__hollow{transition:all var(--el-transition-duration) ease}.el-tour__content{border-radius:var(--el-tour-border-radius);box-shadow:var(--el-box-shadow-light);outline:none;overflow-wrap:break-word;padding:var(--el-tour-padding-primary);width:var(--el-tour-width)}.el-tour__arrow,.el-tour__content{background:var(--el-tour-bg-color);box-sizing:border-box}.el-tour__arrow{height:10px;pointer-events:none;position:absolute;transform:rotate(45deg);width:10px}.el-tour__content[data-side^=top] .el-tour__arrow{border-left-color:transparent;border-top-color:transparent}.el-tour__content[data-side^=bottom] .el-tour__arrow{border-bottom-color:transparent;border-right-color:transparent}.el-tour__content[data-side^=left] .el-tour__arrow{border-bottom-color:transparent;border-left-color:transparent}.el-tour__content[data-side^=right] .el-tour__arrow{border-right-color:transparent;border-top-color:transparent}.el-tour__content[data-side^=top] .el-tour__arrow{bottom:-5px}.el-tour__content[data-side^=bottom] .el-tour__arrow{top:-5px}.el-tour__content[data-side^=left] .el-tour__arrow{right:-5px}.el-tour__content[data-side^=right] .el-tour__arrow{left:-5px}.el-tour__closebtn{background:transparent;border:none;cursor:pointer;font-size:var(--el-message-close-size,16px);height:40px;outline:none;padding:0;position:absolute;right:0;top:0;width:40px}.el-tour__closebtn .el-tour__close{color:var(--el-tour-close-color);font-size:inherit}.el-tour__closebtn:focus .el-tour__close,.el-tour__closebtn:hover .el-tour__close{color:var(--el-color-primary)}.el-tour__header{padding-bottom:var(--el-tour-padding-primary)}.el-tour__header.show-close{padding-right:calc(var(--el-tour-padding-primary) + var(--el-message-close-size, 16px))}.el-tour__title{color:var(--el-tour-title-text-color);font-size:var(--el-tour-title-font-size);font-weight:var(--el-tour-title-font-weight);line-height:var(--el-tour-font-line-height)}.el-tour__body{color:var(--el-tour-text-color);font-size:var(--el-tour-font-size)}.el-tour__body img,.el-tour__body video{max-width:100%}.el-tour__footer{box-sizing:border-box;display:flex;justify-content:space-between;padding-top:var(--el-tour-padding-primary)}.el-tour__content .el-tour-indicators{display:inline-block;flex:1}.el-tour__content .el-tour-indicator{background:var(--el-color-info-light-9);border-radius:50%;display:inline-block;height:6px;margin-right:6px;width:6px}.el-tour__content .el-tour-indicator.is-active{background:var(--el-color-primary)}.el-tour.el-tour--primary{--el-tour-title-text-color:#fff;--el-tour-text-color:#fff;--el-tour-bg-color:var(--el-color-primary);--el-tour-close-color:#fff}.el-tour.el-tour--primary .el-tour__closebtn:focus .el-tour__close,.el-tour.el-tour--primary .el-tour__closebtn:hover .el-tour__close{color:var(--el-tour-title-text-color)}.el-tour.el-tour--primary .el-button--default{background:#fff;border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-tour.el-tour--primary .el-button--primary{border-color:#fff}.el-tour.el-tour--primary .el-tour-indicator{background:#ffffff26}.el-tour.el-tour--primary .el-tour-indicator.is-active{background:#fff}.el-tour-parent--hidden{overflow:hidden}.el-anchor{--el-anchor-bg-color:var(--el-bg-color);--el-anchor-padding-indent:14px;--el-anchor-line-height:22px;--el-anchor-font-size:12px;--el-anchor-color:var(--el-text-color-secondary);--el-anchor-active-color:var(--el-color-primary);--el-anchor-hover-color:var(--el-text-color-regular);--el-anchor-marker-bg-color:var(--el-color-primary);background-color:var(--el-anchor-bg-color);position:relative}.el-anchor__marker{background-color:var(--el-anchor-marker-bg-color);border-radius:4px;opacity:0;position:absolute;z-index:0}.el-anchor.el-anchor--vertical .el-anchor__marker{height:14px;left:0;top:8px;transition:top .25s ease-in-out,opacity .25s;width:4px}.el-anchor.el-anchor--vertical .el-anchor__list{padding-left:var(--el-anchor-padding-indent)}.el-anchor.el-anchor--vertical.el-anchor--underline:before{background-color:#0505050f;content:"";height:100%;left:0;position:absolute;width:2px}.el-anchor.el-anchor--vertical.el-anchor--underline .el-anchor__marker{border-radius:unset;width:2px}.el-anchor.el-anchor--horizontal .el-anchor__marker{bottom:0;height:2px;transition:left .25s ease-in-out,opacity .25s,width .25s;width:20px}.el-anchor.el-anchor--horizontal .el-anchor__list{display:flex;padding-bottom:4px}.el-anchor.el-anchor--horizontal .el-anchor__list .el-anchor__item{padding-left:16px}.el-anchor.el-anchor--horizontal .el-anchor__list .el-anchor__item:first-child{padding-left:0}.el-anchor.el-anchor--horizontal.el-anchor--underline:before{background-color:#0505050f;bottom:0;content:"";height:2px;position:absolute;width:100%}.el-anchor.el-anchor--horizontal.el-anchor--underline .el-anchor__marker{border-radius:unset;height:2px}.el-anchor__item{display:flex;flex-direction:column}.el-anchor__link{color:var(--el-anchor-color);cursor:pointer;font-size:var(--el-anchor-font-size);line-height:var(--el-anchor-line-height);max-width:100%;outline:none;overflow:hidden;padding:4px 0;text-decoration:none;text-overflow:ellipsis;transition:color var(--el-transition-duration);white-space:nowrap}.el-anchor__link:focus,.el-anchor__link:hover{color:var(--el-hover-color)}.el-anchor__link:focus-visible{border-radius:var(--el-border-radius-base);outline:2px solid var(--el-color-primary)}.el-anchor__link.is-active{color:var(--el-anchor-active-color)}.el-anchor .el-anchor__list .el-anchor__item a{display:inline-block}.el-segmented--vertical{flex-direction:column}.el-segmented--vertical .el-segmented__item{padding:11px}.el-segmented{--el-segmented-color:var(--el-text-color-regular);--el-segmented-bg-color:var(--el-fill-color-light);--el-segmented-padding:2px;--el-segmented-item-selected-color:var(--el-color-white);--el-segmented-item-selected-bg-color:var(--el-color-primary);--el-segmented-item-selected-disabled-bg-color:var(--el-color-primary-light-5);--el-segmented-item-hover-color:var(--el-text-color-primary);--el-segmented-item-hover-bg-color:var(--el-fill-color-dark);--el-segmented-item-active-bg-color:var(--el-fill-color-darker);--el-segmented-item-disabled-color:var(--el-text-color-placeholder);align-items:stretch;background:var(--el-segmented-bg-color);border-radius:var(--el-border-radius-base);box-sizing:border-box;color:var(--el-segmented-color);display:inline-flex;font-size:14px;min-height:32px;padding:var(--el-segmented-padding)}.el-segmented__group{align-items:stretch;display:flex;position:relative;width:100%}.el-segmented__item-selected{background:var(--el-segmented-item-selected-bg-color);border-radius:calc(var(--el-border-radius-base) - 2px);height:100%;left:0;pointer-events:none;position:absolute;top:0;transition:all .3s;width:10px}.el-segmented__item-selected.is-disabled{background:var(--el-segmented-item-selected-disabled-bg-color)}.el-segmented__item-selected.is-focus-visible:before{border-radius:inherit;content:"";inset:0;outline:2px solid var(--el-segmented-item-selected-bg-color);outline-offset:1px;position:absolute}.el-segmented__item{align-items:center;border-radius:calc(var(--el-border-radius-base) - 2px);cursor:pointer;display:flex;flex:1;padding:0 11px}.el-segmented__item:not(.is-disabled):not(.is-selected):hover{background:var(--el-segmented-item-hover-bg-color);color:var(--el-segmented-item-hover-color)}.el-segmented__item:not(.is-disabled):not(.is-selected):active{background:var(--el-segmented-item-active-bg-color)}.el-segmented__item.is-selected,.el-segmented__item.is-selected.is-disabled{color:var(--el-segmented-item-selected-color)}.el-segmented__item.is-disabled{color:var(--el-segmented-item-disabled-color);cursor:not-allowed}.el-segmented__item-input{height:0;margin:0;opacity:0;pointer-events:none;position:absolute;width:0}.el-segmented__item-label{flex:1;line-height:normal;overflow:hidden;text-align:center;text-overflow:ellipsis;transition:color .3s;white-space:nowrap;z-index:1}.el-segmented.is-block{display:flex}.el-segmented.is-block .el-segmented__item{min-width:0}.el-segmented--large{border-radius:var(--el-border-radius-base);font-size:16px;min-height:40px}.el-segmented--large .el-segmented__item-selected{border-radius:calc(var(--el-border-radius-base) - 2px)}.el-segmented--large .el-segmented--vertical .el-segmented__item{padding:11px}.el-segmented--large .el-segmented__item{border-radius:calc(var(--el-border-radius-base) - 2px);padding:0 11px}.el-segmented--small{border-radius:calc(var(--el-border-radius-base) - 1px);font-size:14px;min-height:24px}.el-segmented--small .el-segmented__item-selected{border-radius:calc(var(--el-border-radius-base) - 3px)}.el-segmented--small .el-segmented--vertical .el-segmented__item{padding:7px}.el-segmented--small .el-segmented__item{border-radius:calc(var(--el-border-radius-base) - 3px);padding:0 7px}.el-mention{position:relative;width:100%}.el-mention__popper.el-popper{background:var(--el-bg-color-overlay);box-shadow:var(--el-box-shadow-light)}.el-mention__popper.el-popper,.el-mention__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-mention__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-left-color:transparent;border-top-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-bottom-color:transparent;border-left-color:transparent}.el-mention__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-mention-dropdown{--el-mention-font-size:var(--el-font-size-base);--el-mention-bg-color:var(--el-bg-color-overlay);--el-mention-shadow:var(--el-box-shadow-light);--el-mention-border:1px solid var(--el-border-color-light);--el-mention-option-color:var(--el-text-color-regular);--el-mention-option-height:34px;--el-mention-option-min-width:100px;--el-mention-option-hover-background:var(--el-fill-color-light);--el-mention-option-selected-color:var(--el-color-primary);--el-mention-option-disabled-color:var(--el-text-color-placeholder);--el-mention-option-loading-color:var(--el-text-color-secondary);--el-mention-option-loading-padding:10px 0;--el-mention-max-height:174px;--el-mention-padding:6px 0;--el-mention-header-padding:10px;--el-mention-footer-padding:10px}.el-mention-dropdown__item{box-sizing:border-box;color:var(--el-mention-option-color);cursor:pointer;font-size:var(--el-mention-font-size);height:var(--el-mention-option-height);line-height:var(--el-mention-option-height);min-width:var(--el-mention-option-min-width);overflow:hidden;padding:0 20px;position:relative;text-overflow:ellipsis;white-space:nowrap}.el-mention-dropdown__item.is-hovering{background-color:var(--el-mention-option-hover-background)}.el-mention-dropdown__item.is-selected{color:var(--el-mention-option-selected-color);font-weight:700}.el-mention-dropdown__item.is-disabled{background-color:unset;color:var(--el-mention-option-disabled-color);cursor:not-allowed}.el-mention-dropdown{border-radius:var(--el-border-radius-base);box-sizing:border-box;z-index:calc(var(--el-index-top) + 1)}.el-mention-dropdown__loading{color:var(--el-mention-option-loading-color);font-size:12px;margin:0;min-width:var(--el-mention-option-min-width);padding:10px 0;text-align:center}.el-mention-dropdown__wrap{max-height:var(--el-mention-max-height)}.el-mention-dropdown__list{box-sizing:border-box;list-style:none;margin:0;padding:var(--el-mention-padding)}.el-mention-dropdown__header{border-bottom:var(--el-mention-border);padding:var(--el-mention-header-padding)}.el-mention-dropdown__footer{border-top:var(--el-mention-border);padding:var(--el-mention-footer-padding)}.el-splitter{display:flex;height:100%;margin:0;padding:0;position:relative;width:100%}.el-splitter__mask{inset:0;position:absolute;z-index:999}.el-splitter__mask-horizontal{cursor:ew-resize}.el-splitter__mask-vertical{cursor:ns-resize}.el-splitter__horizontal{flex-direction:row}.el-splitter__vertical{flex-direction:column}.el-splitter-bar{flex:none;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-splitter-bar__dragger{background:transparent;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:1}.el-splitter-bar__dragger:after,.el-splitter-bar__dragger:before{background-color:var(--el-border-color-light);content:"";left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.el-splitter-bar__dragger:not(.is-lazy):after{display:none}.el-splitter-bar__dragger:after{opacity:.4}.el-splitter-bar__dragger:hover:not(.is-disabled):before{background-color:var(--el-color-primary-light-5)}.el-splitter-bar__dragger-horizontal:after,.el-splitter-bar__dragger-horizontal:before{height:100%;width:2px}.el-splitter-bar__dragger-vertical:after,.el-splitter-bar__dragger-vertical:before{height:2px;width:100%}.el-splitter-bar__dragger-active:after,.el-splitter-bar__dragger-active:before{background-color:var(--el-color-primary-light-3)}.el-splitter-bar__dragger-active.el-splitter-bar__dragger-horizontal:after{transform:translate(calc(-50% + var(--el-splitter-bar-offset)),-50%)}.el-splitter-bar__dragger-active.el-splitter-bar__dragger-vertical:after{transform:translate(-50%,calc(-50% + var(--el-splitter-bar-offset)))}.el-splitter-bar:hover .el-splitter-bar__collapse-icon{opacity:1}.el-splitter-bar__collapse-icon{align-items:center;background:var(--el-border-color-light);border-radius:2px;cursor:pointer;display:flex;justify-content:center;opacity:0;position:absolute;z-index:9}.el-splitter-bar__collapse-icon:hover{background-color:var(--el-color-primary-light-5);opacity:1}.el-splitter-bar__horizontal-collapse-icon-start{height:24px;left:-12px;top:50%;transform:translate(-50%,-50%);width:16px}.el-splitter-bar__horizontal-collapse-icon-end{height:24px;left:12px;top:50%;transform:translate(-50%,-50%);width:16px}.el-splitter-bar__vertical-collapse-icon-start{height:16px;right:50%;top:-12px;transform:translate(50%,-50%);width:24px}.el-splitter-bar__vertical-collapse-icon-end{height:16px;right:50%;top:12px;transform:translate(50%,-50%);width:24px}.el-splitter-panel{box-sizing:border-box;flex-grow:0;overflow:auto;scrollbar-width:thin}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
